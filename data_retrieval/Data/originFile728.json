{"items":[{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1673601249,"post_id":75106547,"comment_id":132540331,"body_markdown":"I&#39;m not sure I understood you right. What does crash? You app? At the line 246? ANR (whatever it is)? Your app crashes with that &#128070;&#127996; stacktrace? Does it crash each time it reaches the line 246 or eventually?","body":"I&#39;m not sure I understood you right. What does crash? You app? At the line 246? ANR (whatever it is)? Your app crashes with that üëÜüèº stacktrace? Does it crash each time it reaches the line 246 or eventually?"},{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1673601761,"post_id":75106547,"comment_id":132540496,"body_markdown":"Oh, excuse me, I just read your stack trace more thoroughly. It looks scary. &#128552; Bad luck","body":"Oh, excuse me, I just read your stack trace more thoroughly. It looks scary. üò® Bad luck"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673725624,"creation_date":1673598206,"question_id":75106547,"body_markdown":"I get lot of ANR reports (google play console) for which I have no clue how to solve it. I wrapped the problematic code with try and catch, but still it hangs at a specific codeline. I myself can&#39;t reproduce, but I ANR reports in the console.\r\n\r\nDoes anyone that understands the exception below in combination with the code and knows how to handle it?\r\n\r\n    private static boolean urlExists(String urlString) {\r\n        HttpURLConnection huc;\r\n        try {\r\n            URL url = new URL(urlString);\r\n            huc = (HttpURLConnection) url.openConnection();\r\n            huc.setRequestMethod(&quot;HEAD&quot;);\r\n            int responseCode = huc.getResponseCode(); &lt;-------------- line 246. Here is the problem.\r\n            return responseCode != 404;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\nANR Report looks like this:\r\n\r\n    Thread\r\n    \r\n    &quot;main&quot; tid=1 Native\r\n    \r\n      #00  pc 0x000000000009b114  /apex/com.android.runtime/lib/bionic/libc.so (recvfrom+16)\r\n      #01  pc 0x000000000001aceb  /apex/com.android.art/lib/libopenjdk.so (NET_Read+36)\r\n      #02  pc 0x000000000001b3d5  /apex/com.android.art/lib/libopenjdk.so (SocketInputStream_socketRead0+176)\r\n      at java.net.SocketInputStream.socketRead0 (Native method)\r\n      at java.net.SocketInputStream.socketRead (SocketInputStream.java:118)\r\n      at java.net.SocketInputStream.read (SocketInputStream.java:173)\r\n      at java.net.SocketInputStream.read (SocketInputStream.java:143)\r\n      at com.android.okhttp.okio.Okio$2.read (Okio.java:138)\r\n      at com.android.okhttp.okio.AsyncTimeout$2.read (AsyncTimeout.java:213)\r\n      at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:307)\r\n      at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:301)\r\n      at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict (RealBufferedSource.java:197)\r\n      at com.android.okhttp.internal.http.Http1xStream.readResponse (Http1xStream.java:188)\r\n      at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders (Http1xStream.java:129)\r\n      at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse (HttpEngine.java:750)\r\n      at com.android.okhttp.internal.http.HttpEngine.readResponse (HttpEngine.java:622)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute (HttpURLConnectionImpl.java:475)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse (HttpURLConnectionImpl.java:411)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode (HttpURLConnectionImpl.java:542)\r\n      at mycompany.mypackage.images.ImageFetcher.urlExists (ImageFetcher.java:246)\r\n\r\n","title":"Input dispatching timed out with HttpURLConnection.getResponseCode()","body":"<p>I get lot of ANR reports (google play console) for which I have no clue how to solve it. I wrapped the problematic code with try and catch, but still it hangs at a specific codeline. I myself can't reproduce, but I ANR reports in the console.</p>\n<p>Does anyone that understands the exception below in combination with the code and knows how to handle it?</p>\n<pre><code>private static boolean urlExists(String urlString) {\n    HttpURLConnection huc;\n    try {\n        URL url = new URL(urlString);\n        huc = (HttpURLConnection) url.openConnection();\n        huc.setRequestMethod(&quot;HEAD&quot;);\n        int responseCode = huc.getResponseCode(); &lt;-------------- line 246. Here is the problem.\n        return responseCode != 404;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>ANR Report looks like this:</p>\n<pre><code>Thread\n\n&quot;main&quot; tid=1 Native\n\n  #00  pc 0x000000000009b114  /apex/com.android.runtime/lib/bionic/libc.so (recvfrom+16)\n  #01  pc 0x000000000001aceb  /apex/com.android.art/lib/libopenjdk.so (NET_Read+36)\n  #02  pc 0x000000000001b3d5  /apex/com.android.art/lib/libopenjdk.so (SocketInputStream_socketRead0+176)\n  at java.net.SocketInputStream.socketRead0 (Native method)\n  at java.net.SocketInputStream.socketRead (SocketInputStream.java:118)\n  at java.net.SocketInputStream.read (SocketInputStream.java:173)\n  at java.net.SocketInputStream.read (SocketInputStream.java:143)\n  at com.android.okhttp.okio.Okio$2.read (Okio.java:138)\n  at com.android.okhttp.okio.AsyncTimeout$2.read (AsyncTimeout.java:213)\n  at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:307)\n  at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:301)\n  at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict (RealBufferedSource.java:197)\n  at com.android.okhttp.internal.http.Http1xStream.readResponse (Http1xStream.java:188)\n  at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders (Http1xStream.java:129)\n  at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse (HttpEngine.java:750)\n  at com.android.okhttp.internal.http.HttpEngine.readResponse (HttpEngine.java:622)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute (HttpURLConnectionImpl.java:475)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse (HttpURLConnectionImpl.java:411)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode (HttpURLConnectionImpl.java:542)\n  at mycompany.mypackage.images.ImageFetcher.urlExists (ImageFetcher.java:246)\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644156442,"post_id":71005670,"comment_id":125525674,"body_markdown":"You need to generate a client SSL cert. Then provide  SSL properties to the command. Also, Windows doesn&#39;t have a /tmp (see Zookeeper data directory)","body":"You need to generate a client SSL cert. Then provide  SSL properties to the command. Also, Windows doesn&#39;t have a /tmp (see Zookeeper data directory)"},{"owner":{"account_id":4397027,"reputation":21,"user_id":3583707,"display_name":"Akhil"},"score":0,"creation_date":1644212879,"post_id":71005670,"comment_id":125535837,"body_markdown":"I have already created SSL cert that and dataDir path is D:/tmp.\nI have followed steps which is mentioned in https://www.youtube.com/watch?v=hR_OuiqLgOo&amp;lc=Ugw1LHpgqDH17FBsmT94AaABAg.9XzVIF-q8PZ9XzjqESRRfX","body":"I have already created SSL cert that and dataDir path is D:/tmp. I have followed steps which is mentioned in <a href=\"https://www.youtube.com/watch?v=hR_OuiqLgOo&amp;lc=Ugw1LHpgqDH17FBsmT94AaABAg.9XzVIF-q8PZ9XzjqESRRfX\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644213075,"post_id":71005670,"comment_id":125535893,"body_markdown":"`kafka-topics` takes several more properties for SSL configs, though, is my point. Plus `--zookeeper` flag is deprecated","body":"<code>kafka-topics</code> takes several more properties for SSL configs, though, is my point. Plus <code>--zookeeper</code> flag is deprecated"}],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644143940,"creation_date":1644143940,"answer_id":71006322,"question_id":71005670,"body_markdown":"Try Setting  `zookeeper.set.acl=false` or configure acl","title":"Kafka SSL : Create Topic Error while executing topic command : KeeperErrorCode = NoAuth for /config/topics/ssl-topic","body":"<p>Try Setting  <code>zookeeper.set.acl=false</code> or configure acl</p>\n"}],"owner":{"account_id":4397027,"reputation":21,"user_id":3583707,"display_name":"Akhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673735136,"answer_count":1,"score":0,"last_activity_date":1673725092,"creation_date":1644138601,"question_id":71005670,"body_markdown":"I have set up SSL for zookeeper and Kafka clients. Zookeeper server and Kafka broker is started successfully. While I have created kafka topic then it gives the error.\r\n\r\n**kafka-topics.bat -zookeeper localhost:2181 --create --topic ssl-topic  --partitions 1 --replication-factor 1**\r\n\r\nError : \r\n\r\n&gt; Error while executing topic command : KeeperErrorCode = NoAuth for\r\n&gt; /config/topics/ssl-topic [2022-02-06 14:08:24,637] ERROR\r\n&gt; org.apache.zookeeper.KeeperException$NoAuthException: KeeperErrorCode\r\n&gt; = NoAuth for /config/topics/ssl-topic\r\n&gt;         at org.apache.zookeeper.KeeperException.create(KeeperException.java:120)\r\n&gt;         at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n&gt;         at kafka.zookeeper.AsyncResponse.maybeThrow(ZooKeeperClient.scala:564)\r\n&gt;         at kafka.zk.KafkaZkClient.createRecursive(KafkaZkClient.scala:1644)\r\n&gt;         at kafka.zk.KafkaZkClient.createOrSet$1(KafkaZkClient.scala:364)\r\n&gt;         at kafka.zk.KafkaZkClient.setOrCreateEntityConfigs(KafkaZkClient.scala:374)\r\n&gt;         at kafka.zk.AdminZkClient.createTopicWithAssignment(AdminZkClient.scala:93)\r\n&gt;         at kafka.zk.AdminZkClient.createTopic(AdminZkClient.scala:57)\r\n&gt;         at kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:353)\r\n&gt;         at kafka.admin.TopicCommand$TopicService.createTopic(TopicCommand.scala:196)\r\n&gt;         at kafka.admin.TopicCommand$TopicService.createTopic$(TopicCommand.scala:191)\r\n&gt;         at kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:345)\r\n&gt;         at kafka.admin.TopicCommand$.main(TopicCommand.scala:62)\r\n&gt;         at kafka.admin.TopicCommand.main(TopicCommand.scala)  (kafka.admin.TopicCommand$)\r\n\r\n\r\n**Zookeeper.properties** are like\r\n\r\n    dataDir=D:/tmp/zookeeper\r\n    \r\n    admin.enableServer=true admin.serverPort=8080\r\n    \r\n    ssl.client.enable=true secureClientPort=2182 authProvider.x509=org.apache.zookeeper.server.auth.X509AuthenticationProvider serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory ssl.trustStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.truststore.jks ssl.trustStore.password=pass ssl.keyStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.keystore.jks ssl.keyStore.password=pass ssl.clientAuth=need\r\n\r\n**Server.properties** are like\r\n\r\n\r\n    zookeeper.connect=localhost:2182 \r\n    zookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\r\n    zookeeper.ssl.client.enable=true\r\n    zookeeper.ssl.protocol=TLSv1.2\r\n    zookeeper.ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\r\n    zookeeper.ssl.truststore.password=Becker77\r\n    zookeeper.ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\r\n    zookeeper.ssl.keystore.password=Becker77\r\n    zookeeper.set.acl=true\r\n    \r\n    \r\n    ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\r\n    ssl.truststore.password=Becker77\r\n    ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\r\n    ssl.keystore.password=Becker77\r\n    ssl.key.password=Becker77\r\n    security.inter.broker.protocol=SSL\r\n    ssl.client.auth=required\r\n    ssl.protocol=TLSv1.2","title":"Kafka SSL : Create Topic Error while executing topic command : KeeperErrorCode = NoAuth for /config/topics/ssl-topic","body":"<p>I have set up SSL for zookeeper and Kafka clients. Zookeeper server and Kafka broker is started successfully. While I have created kafka topic then it gives the error.</p>\n<p><strong>kafka-topics.bat -zookeeper localhost:2181 --create --topic ssl-topic  --partitions 1 --replication-factor 1</strong></p>\n<p>Error :</p>\n<blockquote>\n<p>Error while executing topic command : KeeperErrorCode = NoAuth for\n/config/topics/ssl-topic [2022-02-06 14:08:24,637] ERROR\norg.apache.zookeeper.KeeperException$NoAuthException: KeeperErrorCode\n= NoAuth for /config/topics/ssl-topic\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:120)\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\nat kafka.zookeeper.AsyncResponse.maybeThrow(ZooKeeperClient.scala:564)\nat kafka.zk.KafkaZkClient.createRecursive(KafkaZkClient.scala:1644)\nat kafka.zk.KafkaZkClient.createOrSet$1(KafkaZkClient.scala:364)\nat kafka.zk.KafkaZkClient.setOrCreateEntityConfigs(KafkaZkClient.scala:374)\nat kafka.zk.AdminZkClient.createTopicWithAssignment(AdminZkClient.scala:93)\nat kafka.zk.AdminZkClient.createTopic(AdminZkClient.scala:57)\nat kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:353)\nat kafka.admin.TopicCommand$TopicService.createTopic(TopicCommand.scala:196)\nat kafka.admin.TopicCommand$TopicService.createTopic$(TopicCommand.scala:191)\nat kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:345)\nat kafka.admin.TopicCommand$.main(TopicCommand.scala:62)\nat kafka.admin.TopicCommand.main(TopicCommand.scala)  (kafka.admin.TopicCommand$)</p>\n</blockquote>\n<p><strong>Zookeeper.properties</strong> are like</p>\n<pre><code>dataDir=D:/tmp/zookeeper\n\nadmin.enableServer=true admin.serverPort=8080\n\nssl.client.enable=true secureClientPort=2182 authProvider.x509=org.apache.zookeeper.server.auth.X509AuthenticationProvider serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory ssl.trustStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.truststore.jks ssl.trustStore.password=pass ssl.keyStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.keystore.jks ssl.keyStore.password=pass ssl.clientAuth=need\n</code></pre>\n<p><strong>Server.properties</strong> are like</p>\n<pre><code>zookeeper.connect=localhost:2182 \nzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\nzookeeper.ssl.client.enable=true\nzookeeper.ssl.protocol=TLSv1.2\nzookeeper.ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\nzookeeper.ssl.truststore.password=Becker77\nzookeeper.ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\nzookeeper.ssl.keystore.password=Becker77\nzookeeper.set.acl=true\n\n\nssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\nssl.truststore.password=Becker77\nssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\nssl.keystore.password=Becker77\nssl.key.password=Becker77\nsecurity.inter.broker.protocol=SSL\nssl.client.auth=required\nssl.protocol=TLSv1.2\n</code></pre>\n"},{"tags":["java","redis","race-condition"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1673724510,"post_id":75120661,"comment_id":132563794,"body_markdown":"what exactly is the race condition?","body":"what exactly is the race condition?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673777236,"post_id":75120661,"comment_id":132569881,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19074528,"reputation":1,"user_id":13928068,"display_name":"doƒüukan elbasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673724263,"creation_date":1673724263,"question_id":75120661,"body_markdown":"Hi i have a race condition in given method i have 2 instances in kubernates and checking in redis\r\n\r\n    public void method(GuestDTO guestDTO) {\r\n        String executeName = &quot;addingGuestToCache&quot; + guestDTO.getUser();\r\n        if (!redisService.checkExecute(executeName)) {\r\n            redisService.startExecute(executeName);\r\n            OpenGuestDTO openGuestDTO = new OpenGuestDTO();\r\n\r\n            RMap&lt;String, List&lt;OpenGuestDTO&gt;&gt; openGuestDTOList = redisService.getOpenGuestDTOList();\r\n            List&lt;OpenGuestDTO&gt; userGuestList = openGuestDTOList.get(guestDTO.getUser());\r\n            if (userGuestList == null) {\r\n                userGuestList = Collections.synchronizedList(new ArrayList&lt;OpenGuestDTO&gt;());\r\n            }\r\n            for (OpenGuestDTO guestDTO1 : userGuestList) {\r\n                if (guestDTO1.getGuestName().equalsIgnoreCase(guestDTO.getGuestName())) {\r\n                    redisService.deleteExecute(executeName);\r\n                    return;\r\n                }\r\n            }\r\n            openGuestDTOList.add(openGuestDTO);\r\n            openGuestDTOList.fastPut(guestDTO.getUser(), userGuestList);\r\n            redisService.deleteExecute(executeName);\r\n        }else{\r\n            method(guestDTO);\r\n        }\r\n    }","title":"Race condition in multiple instance in kubernates","body":"<p>Hi i have a race condition in given method i have 2 instances in kubernates and checking in redis</p>\n<pre><code>public void method(GuestDTO guestDTO) {\n    String executeName = &quot;addingGuestToCache&quot; + guestDTO.getUser();\n    if (!redisService.checkExecute(executeName)) {\n        redisService.startExecute(executeName);\n        OpenGuestDTO openGuestDTO = new OpenGuestDTO();\n\n        RMap&lt;String, List&lt;OpenGuestDTO&gt;&gt; openGuestDTOList = redisService.getOpenGuestDTOList();\n        List&lt;OpenGuestDTO&gt; userGuestList = openGuestDTOList.get(guestDTO.getUser());\n        if (userGuestList == null) {\n            userGuestList = Collections.synchronizedList(new ArrayList&lt;OpenGuestDTO&gt;());\n        }\n        for (OpenGuestDTO guestDTO1 : userGuestList) {\n            if (guestDTO1.getGuestName().equalsIgnoreCase(guestDTO.getGuestName())) {\n                redisService.deleteExecute(executeName);\n                return;\n            }\n        }\n        openGuestDTOList.add(openGuestDTO);\n        openGuestDTOList.fastPut(guestDTO.getUser(), userGuestList);\n        redisService.deleteExecute(executeName);\n    }else{\n        method(guestDTO);\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673680605,"post_id":75116371,"comment_id":132556537,"body_markdown":"One thing I&#39;m sure of, Android does not support Java 19. Last time I checked, Java 8.","body":"One thing I&#39;m sure of, Android does not support Java 19. Last time I checked, Java 8."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673694456,"post_id":75116371,"comment_id":132558219,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6208122,"reputation":563,"user_id":4835356,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673723540,"creation_date":1673723540,"answer_id":75120602,"question_id":75116371,"body_markdown":"I cannot say this is the best correct answer, but if you noticed, the `Android Studio\\jre\\bin` directory is empty. The bundled java is located in `Android Studio\\jbr\\bin` instead.\r\n\r\nMy **_quick-n-dirty_** fix was that I just copied the files in `\\jbr\\*` to `\\jre\\` and now `flutter doctor` doesn&#39;t complain.\r\n\r\n","title":"Unable to find bundled version Windows (Andriod Studio 2022.1)","body":"<p>I cannot say this is the best correct answer, but if you noticed, the <code>Android Studio\\jre\\bin</code> directory is empty. The bundled java is located in <code>Android Studio\\jbr\\bin</code> instead.</p>\n<p>My <strong><em>quick-n-dirty</em></strong> fix was that I just copied the files in <code>\\jbr\\*</code> to <code>\\jre\\</code> and now <code>flutter doctor</code> doesn't complain.</p>\n"}],"owner":{"account_id":27522892,"reputation":21,"user_id":21002732,"display_name":"vpham7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1673723540,"creation_date":1673680314,"question_id":75116371,"body_markdown":"I tried all day to figure this out but still can&#39;t seem to find bundled Java. What am I missing here?\r\n\r\nSo I&#39;ve tried to uninstall and reinstall Android Studio 2022.1 multiple times. Deleted all the Javas and re-downloaded as well.\r\n\r\n[Picture of Flutter Doctor](https://i.stack.imgur.com/Yva3N.png)\r\n\r\n[Current Java Version](https://i.stack.imgur.com/NgZwm.png)\r\n\r\n[Current User variables for Path](https://i.stack.imgur.com/2AtWU.png)\r\n\r\n[Environment Varibles](https://i.stack.imgur.com/LS3VF.png)\r\n\r\n[Path for System variables](https://i.stack.imgur.com/bSan1.png)\r\n\r\nI&#39;ve deleted, re-downloaded all Java &amp; Android Studios. Still missing bundled Java.","title":"Unable to find bundled version Windows (Andriod Studio 2022.1)","body":"<p>I tried all day to figure this out but still can't seem to find bundled Java. What am I missing here?</p>\n<p>So I've tried to uninstall and reinstall Android Studio 2022.1 multiple times. Deleted all the Javas and re-downloaded as well.</p>\n<p><a href=\"https://i.stack.imgur.com/Yva3N.png\" rel=\"nofollow noreferrer\">Picture of Flutter Doctor</a></p>\n<p><a href=\"https://i.stack.imgur.com/NgZwm.png\" rel=\"nofollow noreferrer\">Current Java Version</a></p>\n<p><a href=\"https://i.stack.imgur.com/2AtWU.png\" rel=\"nofollow noreferrer\">Current User variables for Path</a></p>\n<p><a href=\"https://i.stack.imgur.com/LS3VF.png\" rel=\"nofollow noreferrer\">Environment Varibles</a></p>\n<p><a href=\"https://i.stack.imgur.com/bSan1.png\" rel=\"nofollow noreferrer\">Path for System variables</a></p>\n<p>I've deleted, re-downloaded all Java &amp; Android Studios. Still missing bundled Java.</p>\n"},{"tags":["java","android","broadcastreceiver"],"comments":[{"owner":{"account_id":1287094,"reputation":7973,"user_id":1239966,"display_name":"Shivam Verma"},"score":0,"creation_date":1556146243,"post_id":55839510,"comment_id":98342881,"body_markdown":"Have you requested for permissions ?","body":"Have you requested for permissions ?"},{"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"score":0,"creation_date":1556146764,"post_id":55839510,"comment_id":98343014,"body_markdown":"Yes, I ask for the RECEIVE_SMS permission","body":"Yes, I ask for the RECEIVE_SMS permission"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147222,"post_id":55839510,"comment_id":98343105,"body_markdown":"Did you request it at runtime, in addition to the manifest entry? Are you testing on an emulator, or an actual device? Btw, if you&#39;re statically registering that in the manifest, you don&#39;t necessarily need to dynamically register an instance in your code.","body":"Did you request it at runtime, in addition to the manifest entry? Are you testing on an emulator, or an actual device? Btw, if you&#39;re statically registering that in the manifest, you don&#39;t necessarily need to dynamically register an instance in your code."},{"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"score":0,"creation_date":1556147285,"post_id":55839510,"comment_id":98343116,"body_markdown":"I use ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.RECEIVE_SMS},1);\nto request the permission, and I am testing on a one plus physical device","body":"I use ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.RECEIVE_SMS},1); to request the permission, and I am testing on a one plus physical device"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147675,"post_id":55839510,"comment_id":98343185,"body_markdown":"I&#39;m not personally familiar with OnePlus, but I wouldn&#39;t be surprised if it has extra restrictions on third-party apps receiving SMS, or running in the background, etc. Look in the device Settings for any additional security-related type things that might be preventing that broadcast to your app. It might also be in a separate, standalone app.","body":"I&#39;m not personally familiar with OnePlus, but I wouldn&#39;t be surprised if it has extra restrictions on third-party apps receiving SMS, or running in the background, etc. Look in the device Settings for any additional security-related type things that might be preventing that broadcast to your app. It might also be in a separate, standalone app."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147989,"post_id":55839510,"comment_id":98343246,"body_markdown":"Relevant links: https://stackoverflow.com/a/52016035. https://stackoverflow.com/a/46225122, https://stackoverflow.com/a/53538918.","body":"Relevant links: <a href=\"https://stackoverflow.com/a/52016035\">stackoverflow.com/a/52016035</a>. <a href=\"https://stackoverflow.com/a/46225122\">stackoverflow.com/a/46225122</a>, <a href=\"https://stackoverflow.com/a/53538918\">stackoverflow.com/a/53538918</a>."}],"answers":[{"tags":[],"owner":{"account_id":7282710,"reputation":27,"user_id":5551882,"display_name":"D. Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556190631,"creation_date":1556190631,"answer_id":55847921,"question_id":55839510,"body_markdown":"This is Your Receiver Class-\r\n\r\nprivate static final String SMS_RECEIVED = &quot;android.provider.Telephony.SMS_RECEIVED&quot;;\r\n    private static final String TAG = &quot;SMSBroadcastReceiver&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        \r\n        if (intent.getAction() != null) {\r\n            if (intent.getAction().equals(SMS_RECEIVED)) {\r\n                Bundle bundle = intent.getExtras();\r\n                if (bundle != null) {\r\n                    Object[] pdus = (Object[]) bundle.get(&quot;pdus&quot;);\r\n                    final SmsMessage[] messages = new SmsMessage[pdus.length];\r\n                    for (int i = 0; i &lt; pdus.length; i++) {\r\n                        messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\r\n                        Log.e(&quot;Message Content : &quot;, &quot; == &quot; + messages[i].getMessageBody());\r\n                        Log.e(&quot;Message Content Body : &quot;, &quot; == &quot; + messages[i].getDisplayMessageBody());\r\n                        Log.e(&quot;Message recieved From&quot;, &quot; == &quot; + messages[0].getOriginatingAddress());\r\n                    }\r\n                /*if (messages.length &gt; -1) {\r\n                    Log.e(&quot;Message recieved: &quot;,&quot; == &quot;+ messages[0].getMessageBody());\r\n                    Log.e(&quot;Message recieved From&quot;,&quot; == &quot;+ messages[0].getOriginatingAddress());\r\n                }*/\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p>This is Your Receiver Class-</p>\n\n<p>private static final String SMS_RECEIVED = \"android.provider.Telephony.SMS_RECEIVED\";\n    private static final String TAG = \"SMSBroadcastReceiver\";</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n\n    if (intent.getAction() != null) {\n        if (intent.getAction().equals(SMS_RECEIVED)) {\n            Bundle bundle = intent.getExtras();\n            if (bundle != null) {\n                Object[] pdus = (Object[]) bundle.get(\"pdus\");\n                final SmsMessage[] messages = new SmsMessage[pdus.length];\n                for (int i = 0; i &lt; pdus.length; i++) {\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\n                    Log.e(\"Message Content : \", \" == \" + messages[i].getMessageBody());\n                    Log.e(\"Message Content Body : \", \" == \" + messages[i].getDisplayMessageBody());\n                    Log.e(\"Message recieved From\", \" == \" + messages[0].getOriginatingAddress());\n                }\n            /*if (messages.length &gt; -1) {\n                Log.e(\"Message recieved: \",\" == \"+ messages[0].getMessageBody());\n                Log.e(\"Message recieved From\",\" == \"+ messages[0].getOriginatingAddress());\n            }*/\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20263664,"reputation":53,"user_id":14861438,"display_name":"hamid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673722323,"creation_date":1673721028,"answer_id":75120361,"question_id":55839510,"body_markdown":"**In your fragment**\r\n\r\n    val smsReciever = SmsReciever()\r\n    val smsIntentFilter = IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION)\r\n    context?.registerReceiver(smsReciever, smsIntentFilter)      \r\n\r\n\r\n**In your manifest**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\r\n\r\n\r\n\r\n\r\n**In your receiver**\r\n\r\n\r\n\r\n    class SmsReciever : BroadcastReceiver() {\r\n\r\n       override fun onReceive(context: Context, intent: Intent) {\r\n\r\n            val message = Telephony.Sms.Intents.getMessagesFromIntent(intent)\r\n            val content =  message[0].displayMessageBody\r\n\r\n            Toast.makeText(context, content,\r\n               Toast.LENGTH_SHORT).show()\r\n        }\r\n    }","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p><strong>In your fragment</strong></p>\n<pre><code>val smsReciever = SmsReciever()\nval smsIntentFilter = IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION)\ncontext?.registerReceiver(smsReciever, smsIntentFilter)      \n</code></pre>\n<p><strong>In your manifest</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\n</code></pre>\n<p><strong>In your receiver</strong></p>\n<pre><code>class SmsReciever : BroadcastReceiver() {\n\n   override fun onReceive(context: Context, intent: Intent) {\n\n        val message = Telephony.Sms.Intents.getMessagesFromIntent(intent)\n        val content =  message[0].displayMessageBody\n\n        Toast.makeText(context, content,\n           Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3541,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673722323,"creation_date":1556145651,"question_id":55839510,"body_markdown":"I&#39;m building an application that should trigger a function when an SMS is received. I&#39;ve used Broadcast Receivers and NotificationListeners before, but for this specific purpose, I need to register this Broadcast receiver. At this time, I&#39;m unable to register it, and I can&#39;t quite tell why. \r\n\r\nI&#39;ve tried multiple answers to similar issues on stack overflow but for some reason, the `Log.d` that I&#39;m using to troubleshoot right now will not print when I receive an SMS. I think I&#39;m fundamentally misunderstanding the problem, although I&#39;m not sure how. \r\n\r\nHere is my `SmsListener.java` class:\r\n\r\n    public class SmsListener extends BroadcastReceiver {\r\n        private SharedPreferences preferences;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(intent.getAction().equals(&quot;android.provider.Telephony.SMS_RECEIVED&quot;)){\r\n                Log.d(&quot;Test&quot;,&quot;test&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my Manifest:\r\n\r\n    &lt;receiver android:name=&quot;.SmsListener&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nHere is the `onCreate()` function of my activity that should be calling it:\r\n\r\n    BroadcastReceiver br = new SmsListener();\r\n    IntentFilter filter = new IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION);\r\n    registerReceiver(br,filter);\r\n\r\nThank you any help. I&#39;m at a total loss.","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p>I'm building an application that should trigger a function when an SMS is received. I've used Broadcast Receivers and NotificationListeners before, but for this specific purpose, I need to register this Broadcast receiver. At this time, I'm unable to register it, and I can't quite tell why. </p>\n\n<p>I've tried multiple answers to similar issues on stack overflow but for some reason, the <code>Log.d</code> that I'm using to troubleshoot right now will not print when I receive an SMS. I think I'm fundamentally misunderstanding the problem, although I'm not sure how. </p>\n\n<p>Here is my <code>SmsListener.java</code> class:</p>\n\n<pre><code>public class SmsListener extends BroadcastReceiver {\n    private SharedPreferences preferences;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(intent.getAction().equals(\"android.provider.Telephony.SMS_RECEIVED\")){\n            Log.d(\"Test\",\"test\");\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my Manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".SmsListener\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.provider.Telephony.SMS_RECEIVED\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>Here is the <code>onCreate()</code> function of my activity that should be calling it:</p>\n\n<pre><code>BroadcastReceiver br = new SmsListener();\nIntentFilter filter = new IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION);\nregisterReceiver(br,filter);\n</code></pre>\n\n<p>Thank you any help. I'm at a total loss.</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673713894,"post_id":75119414,"comment_id":132561580,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13668348,"reputation":307,"user_id":9861623,"display_name":"Miles Morales"},"score":1,"creation_date":1673716518,"post_id":75119414,"comment_id":132562161,"body_markdown":"When asking a question, please post the code in an understandable format. Your variable naming is not helpful at all. https://stackoverflow.com/help/minimal-reproducible-example","body":"When asking a question, please post the code in an understandable format. Your variable naming is not helpful at all. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673721671,"creation_date":1673721671,"answer_id":75120422,"question_id":75119414,"body_markdown":"Your code\r\n```java\r\n} else {\r\n    nama[i] = lulus1[i];\r\n}\r\n```\r\ndoes not seem to match your specification:\r\n&gt; _else an element in nama will be copied to lulus_\r\n\r\nShouldn&#39;t it rather be\r\n```java\r\n} else {\r\n    lulus1[i] = nama[i];\r\n}\r\n```\r\n?\r\n\r\nYour code can lead to `nama` inputs being overwritten with `null`.","title":"array output showing up as null","body":"<p>Your code</p>\n<pre class=\"lang-java prettyprint-override\"><code>} else {\n    nama[i] = lulus1[i];\n}\n</code></pre>\n<p>does not seem to match your specification:</p>\n<blockquote>\n<p><em>else an element in nama will be copied to lulus</em></p>\n</blockquote>\n<p>Shouldn't it rather be</p>\n<pre class=\"lang-java prettyprint-override\"><code>} else {\n    lulus1[i] = nama[i];\n}\n</code></pre>\n<p>?</p>\n<p>Your code can lead to <code>nama</code> inputs being overwritten with <code>null</code>.</p>\n"}],"owner":{"account_id":27528944,"reputation":1,"user_id":21007805,"display_name":"GoliathBlast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673721671,"creation_date":1673713332,"question_id":75119414,"body_markdown":"```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage freewill_project;\r\n\r\nimport java.util.Arrays;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author ///\r\n */\r\npublic class Testing {\r\n\r\n    public static void main(String[] args) {\r\n        int batas = Integer.parseInt(JOptionPane.showInputDialog(&quot;Batas Siswa&quot;));\r\n        String[] nama = new String[batas];\r\n        String mapel1, mapel2;\r\n        int nilai1[] = new int[batas];\r\n        int nilai2[] = new int[batas];\r\n        int total1 = 0, total2 = 0, Ttotal;\r\n        int kkm1, kkm2, k=0;\r\n\r\n        String[] tlulus1 = new String[nama.length];\r\n        String[] lulus1 = new String[nama.length];\r\n        String[] tlulus2 = new String[nama.length];\r\n        String[] lulus2 = new String[nama.length];\r\n        int jumlah = 0;\r\n        mapel1 = JOptionPane.showInputDialog(&quot;Masukan Mapel 1&quot;);\r\n        mapel2 = JOptionPane.showInputDialog(&quot;Masukan Mapel 2&quot;);\r\n        kkm1 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 1&quot;)));\r\n        kkm2 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 2&quot;)));\r\n\r\n        for (int i = 0; i &lt; nama.length; i++) {\r\n            nama[i] = (JOptionPane.showInputDialog(&quot;Nama Siswa&quot;));\r\n            nilai1[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\r\n            total1 += nilai1[i];\r\n            if (nilai1[i] &lt; kkm1) {\r\n                tlulus1[i] = nama[i];\r\n            } else {\r\n                nama[i] = lulus1[i];\r\n            }\r\n            nilai2[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\r\n            total2 += nilai2[i];\r\n            if (nilai2[i] &lt; kkm2) {\r\n                nama[i] = tlulus2[i];\r\n            } else {\r\n                nama[i] = lulus2[i];\r\n            }\r\n        }\r\n\r\n\r\n        Ttotal = total1 + total2;\r\n        int rata = Ttotal / 2;\r\n        int max1 = nilai1[0];\r\n        int min1 = nilai1[0];\r\n        int max2 = nilai2[0];\r\n        int min2 = nilai2[0];\r\n        for (int i = 0; i &lt; 2; i++) { //for untuk output max, min, jumlah, rata arrays\r\n            if (max1 &lt; nilai1[i]) {\r\n                max1 = nilai1[i];\r\n            } else if (min1 &gt; nilai1[i]) {\r\n                min1 = nilai1[i];\r\n            }\r\n            if (max2 &lt; nilai2[i]) {\r\n                max2 = nilai2[i];\r\n            } else if (min2 &gt; nilai2[i]) {\r\n                min2 = nilai2[i];\r\n            }\r\n        }\r\n        System.out.println(&quot;Nilai Rata: &quot; + rata + &quot;\\nNilai Tertinggi1: &quot; + max1 + &quot;\\nNilai Terendah1: &quot; + min2 + &quot;\\nNilai Tertinggi2: &quot; + max2 + &quot;\\nNilai Terendah2: &quot; + min2 + &quot;\\nSiswa Lulus1: &quot; + Arrays.toString(lulus1) + &quot;\\nSiswa Tidak Lulus1: &quot; + Arrays.toString(tlulus1) + &quot;\\nSiswa Lulus2: &quot; + Arrays.toString(lulus2) + &quot;\\nSiswa Tidak Lulus2: &quot; + Arrays.toString(tlulus2));\r\n    }\r\n}\r\n\r\n```\r\nif the nilai is less than the kkm, then an element of the array in nama will be copied to tlulus, else an element in nama will be copied to lulus, however the output shows both lulus and tlulus as null\r\n\r\nthe output of lulus and tlulus should contain elements of nama, it showed up as null instead, I tried several fixes but then I get Arrays.outofbounds exception, any solution?","title":"array output showing up as null","body":"<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage freewill_project;\n\nimport java.util.Arrays;\nimport javax.swing.JOptionPane;\n\n/**\n *\n * @author ///\n */\npublic class Testing {\n\n    public static void main(String[] args) {\n        int batas = Integer.parseInt(JOptionPane.showInputDialog(&quot;Batas Siswa&quot;));\n        String[] nama = new String[batas];\n        String mapel1, mapel2;\n        int nilai1[] = new int[batas];\n        int nilai2[] = new int[batas];\n        int total1 = 0, total2 = 0, Ttotal;\n        int kkm1, kkm2, k=0;\n\n        String[] tlulus1 = new String[nama.length];\n        String[] lulus1 = new String[nama.length];\n        String[] tlulus2 = new String[nama.length];\n        String[] lulus2 = new String[nama.length];\n        int jumlah = 0;\n        mapel1 = JOptionPane.showInputDialog(&quot;Masukan Mapel 1&quot;);\n        mapel2 = JOptionPane.showInputDialog(&quot;Masukan Mapel 2&quot;);\n        kkm1 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 1&quot;)));\n        kkm2 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 2&quot;)));\n\n        for (int i = 0; i &lt; nama.length; i++) {\n            nama[i] = (JOptionPane.showInputDialog(&quot;Nama Siswa&quot;));\n            nilai1[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\n            total1 += nilai1[i];\n            if (nilai1[i] &lt; kkm1) {\n                tlulus1[i] = nama[i];\n            } else {\n                nama[i] = lulus1[i];\n            }\n            nilai2[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\n            total2 += nilai2[i];\n            if (nilai2[i] &lt; kkm2) {\n                nama[i] = tlulus2[i];\n            } else {\n                nama[i] = lulus2[i];\n            }\n        }\n\n\n        Ttotal = total1 + total2;\n        int rata = Ttotal / 2;\n        int max1 = nilai1[0];\n        int min1 = nilai1[0];\n        int max2 = nilai2[0];\n        int min2 = nilai2[0];\n        for (int i = 0; i &lt; 2; i++) { //for untuk output max, min, jumlah, rata arrays\n            if (max1 &lt; nilai1[i]) {\n                max1 = nilai1[i];\n            } else if (min1 &gt; nilai1[i]) {\n                min1 = nilai1[i];\n            }\n            if (max2 &lt; nilai2[i]) {\n                max2 = nilai2[i];\n            } else if (min2 &gt; nilai2[i]) {\n                min2 = nilai2[i];\n            }\n        }\n        System.out.println(&quot;Nilai Rata: &quot; + rata + &quot;\\nNilai Tertinggi1: &quot; + max1 + &quot;\\nNilai Terendah1: &quot; + min2 + &quot;\\nNilai Tertinggi2: &quot; + max2 + &quot;\\nNilai Terendah2: &quot; + min2 + &quot;\\nSiswa Lulus1: &quot; + Arrays.toString(lulus1) + &quot;\\nSiswa Tidak Lulus1: &quot; + Arrays.toString(tlulus1) + &quot;\\nSiswa Lulus2: &quot; + Arrays.toString(lulus2) + &quot;\\nSiswa Tidak Lulus2: &quot; + Arrays.toString(tlulus2));\n    }\n}\n\n</code></pre>\n<p>if the nilai is less than the kkm, then an element of the array in nama will be copied to tlulus, else an element in nama will be copied to lulus, however the output shows both lulus and tlulus as null</p>\n<p>the output of lulus and tlulus should contain elements of nama, it showed up as null instead, I tried several fixes but then I get Arrays.outofbounds exception, any solution?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":27317972,"reputation":3,"user_id":20832188,"display_name":"Sus Amongus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673721198,"creation_date":1673721198,"question_id":75120377,"body_markdown":"I&#39;m  new to fabric modding, and I haven&#39;t been able to find any good tutorial or documentation, so I am asking here.\r\nI am making a mod where when you press F9 and other key, it will print somethink about the key.\r\nI have a map where there are keys mapped with the things to say, but that&#39;s not the important thing.\r\nHere is my code:\r\n```\r\n/* fields database, FOLDER, LOGGER, DATABASE_FILE, helpKeybind and keyDescriptions DO EXIST */\r\npublic void onInitialize() {\r\n        LOGGER.info(&quot;Initializing Keyboard Mapper mod...&quot;);\r\n        if (!FOLDER.exists()) {\r\n            FOLDER.getParentFile().mkdirs();\r\n            FOLDER.mkdir();\r\n        }\r\n\r\n        database = DBMaker.fileDB(DATABASE_FILE).closeOnJvmShutdown().make();\r\n        keyDescriptions = database.hashMap(&quot;keyDescriptions&quot;, Serializer.STRING, Serializer.STRING).createOrOpen();\r\n\r\n        helpKeybind = KeyBindingHelper.registerKeyBinding(new KeyBinding(\r\n            &quot;key.keyboard-mapper.help&quot;,\r\n                InputUtil.Type.KEYSYM,\r\n                GLFW.GLFW_KEY_F9,\r\n                &quot;key.category.keyboard-mapper.keyboard-mapper&quot;\r\n        ));\r\n\r\n        ClientTickEvents.END_CLIENT_TICK.register(_client -&gt; {\r\n            if (helpKeybind.wasPressed()) {\r\n                /* get what other keys were pressed together with it too? */\r\n            }\r\n        });\r\n    }\r\n```\r\nI need to get the other keys that were pressed together with the F9 key.\r\n\r\nI register all of the keys, because the keybind menu would be flooded. So is there any other way of getting all the keys that were pressed?\r\n\r\nThanks!","title":"How to get if key is pressed without registering it in fabric api?","body":"<p>I'm  new to fabric modding, and I haven't been able to find any good tutorial or documentation, so I am asking here.\nI am making a mod where when you press F9 and other key, it will print somethink about the key.\nI have a map where there are keys mapped with the things to say, but that's not the important thing.\nHere is my code:</p>\n<pre><code>/* fields database, FOLDER, LOGGER, DATABASE_FILE, helpKeybind and keyDescriptions DO EXIST */\npublic void onInitialize() {\n        LOGGER.info(&quot;Initializing Keyboard Mapper mod...&quot;);\n        if (!FOLDER.exists()) {\n            FOLDER.getParentFile().mkdirs();\n            FOLDER.mkdir();\n        }\n\n        database = DBMaker.fileDB(DATABASE_FILE).closeOnJvmShutdown().make();\n        keyDescriptions = database.hashMap(&quot;keyDescriptions&quot;, Serializer.STRING, Serializer.STRING).createOrOpen();\n\n        helpKeybind = KeyBindingHelper.registerKeyBinding(new KeyBinding(\n            &quot;key.keyboard-mapper.help&quot;,\n                InputUtil.Type.KEYSYM,\n                GLFW.GLFW_KEY_F9,\n                &quot;key.category.keyboard-mapper.keyboard-mapper&quot;\n        ));\n\n        ClientTickEvents.END_CLIENT_TICK.register(_client -&gt; {\n            if (helpKeybind.wasPressed()) {\n                /* get what other keys were pressed together with it too? */\n            }\n        });\n    }\n</code></pre>\n<p>I need to get the other keys that were pressed together with the F9 key.</p>\n<p>I register all of the keys, because the keybind menu would be flooded. So is there any other way of getting all the keys that were pressed?</p>\n<p>Thanks!</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456127034,"creation_date":1455893304,"answer_id":35508047,"question_id":35502600,"body_markdown":"You generally should not use &quot;shell&quot; channel to automate a command execution.\r\n\r\nThe &quot;shell&quot; channel is intended to implement an interactive shell session.\r\n\r\nHence it requests PTY (pseudo-terminal), which has human-friendly, but machine-unfriendly, side-effects that break your code.\r\n\r\nUse &quot;exec&quot; channel instead.\r\n\r\nSee https://stackoverflow.com/q/34825155/850848\r\n\r\n---\r\n\r\nIf you need or want to use the &quot;shell&quot; channel for some reason (but do not, it will bite you anyway), make sure you call `.setPty(false)` before `.connect`:\r\n\r\n    channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\r\n    channel.setPty(false);\r\n    channel.connect();\r\n\r\n---\r\n\r\nSide notes:\r\n\r\n- The `&quot;#!/bin/bash&quot;` is a pure nonsense. The shell ignores all commands starting with `#` (it&#39;s comment). There&#39;s no point sending it. \r\n- Do not use `StrictHostKeyChecking=no`. See [JSch SFTP security with session.setConfig(‚ÄúStrictHostKeyChecking‚Äù, ‚Äúno‚Äù);](https://stackoverflow.com/q/30178936/850848).\r\n\r\n\r\n","title":"JSch issue - Cannot retrieve full command output","body":"<p>You generally should not use \"shell\" channel to automate a command execution.</p>\n\n<p>The \"shell\" channel is intended to implement an interactive shell session.</p>\n\n<p>Hence it requests PTY (pseudo-terminal), which has human-friendly, but machine-unfriendly, side-effects that break your code.</p>\n\n<p>Use \"exec\" channel instead.</p>\n\n<p>See <a href=\"https://stackoverflow.com/q/34825155/850848\">Execute a list of commands from an ArrayList using JSch exec in Java</a></p>\n\n<hr>\n\n<p>If you need or want to use the \"shell\" channel for some reason (but do not, it will bite you anyway), make sure you call <code>.setPty(false)</code> before <code>.connect</code>:</p>\n\n<pre><code>channel = (ChannelShell)getSession().openChannel(\"shell\");\nchannel.setPty(false);\nchannel.connect();\n</code></pre>\n\n<hr>\n\n<p>Side notes:</p>\n\n<ul>\n<li>The <code>\"#!/bin/bash\"</code> is a pure nonsense. The shell ignores all commands starting with <code>#</code> (it's comment). There's no point sending it. </li>\n<li>Do not use <code>StrictHostKeyChecking=no</code>. See <a href=\"https://stackoverflow.com/q/30178936/850848\">JSch SFTP security with session.setConfig(‚ÄúStrictHostKeyChecking‚Äù, ‚Äúno‚Äù);</a>.</li>\n</ul>\n"}],"owner":{"account_id":3313577,"reputation":213,"user_id":2786419,"accept_rate":60,"display_name":"Charity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35508047,"answer_count":1,"score":0,"last_activity_date":1673720837,"creation_date":1455876580,"question_id":35502600,"body_markdown":"I am using JSch to connect to SSH and execute commands. One of the commands gives out a big output. In terminal if you execute the command  you have to press enter to see the entire output. Using JSch I am not able to retrieve the entire output. \r\n\r\nWhen I login using an interactive terminal, the command output stops after filling a screen and waits for &lt;kbd&gt;Enter&lt;/kbd&gt;.\r\n\r\nThe code is taken from \r\nhttps://stackoverflow.com/questions/25789245/how-to-get-jsch-shell-command-output-in-string:\r\n\r\n    public class SshConnectionManager {\r\n        \r\n        private static Session session;\r\n        private static ChannelShell channel;\r\n        private static String username = &quot;&quot;;\r\n        private static String password = &quot;&quot;;\r\n        private static String hostname = &quot;&quot;;\r\n        \r\n        \r\n        private static Session getSession(){\r\n            if(session == null || !session.isConnected()){\r\n                session = connect(hostname,username,password);\r\n            }\r\n            return session;\r\n        }\r\n        \r\n        private static Channel getChannel(){\r\n            if(channel == null || !channel.isConnected()){\r\n                try{\r\n                    channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\r\n                    channel.connect();\r\n        \r\n                }catch(Exception e){\r\n                    System.out.println(&quot;Error while opening channel: &quot;+ e);\r\n                }\r\n            }\r\n            return channel;\r\n        }\r\n        \r\n        private static Session connect(String hostname, String username, String password){\r\n        \r\n            JSch jSch = new JSch();\r\n        \r\n            try {\r\n        \r\n                session = jSch.getSession(username, hostname, 22);\r\n                Properties config = new Properties(); \r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(config);\r\n                session.setPassword(password);\r\n        \r\n                System.out.println(&quot;Connecting SSH to &quot; + hostname + &quot; - Please wait for few seconds... &quot;);\r\n                session.connect();\r\n                System.out.println(&quot;Connected!&quot;);\r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error occurred while connecting to &quot;+hostname+&quot;: &quot;+e);\r\n            }\r\n        \r\n            return session;\r\n        \r\n        }\r\n        \r\n        private static void executeCommands(List&lt;String&gt; commands){\r\n        \r\n            try{\r\n                Channel channel=getChannel();\r\n        \r\n                System.out.println(&quot;Sending commands...&quot;);\r\n                sendCommands(channel, commands);\r\n        \r\n                readChannelOutput(channel);\r\n                System.out.println(&quot;Finished sending commands!&quot;);\r\n        \r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error ocurred during executeCommands: &quot;+e);\r\n            }\r\n        }\r\n        \r\n        private static void sendCommands(Channel channel, List&lt;String&gt; commands){\r\n        \r\n            try{\r\n                PrintStream out = new PrintStream(channel.getOutputStream());\r\n        \r\n                out.println(&quot;#!/bin/bash&quot;);\r\n                for(String command : commands){\r\n                    out.println(command);\r\n                }\r\n                out.println(&quot;exit&quot;);\r\n        \r\n                out.flush();\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while sending commands: &quot;+ e);\r\n            }\r\n        \r\n        }\r\n        \r\n        private static void readChannelOutput(Channel channel){\r\n        \r\n            byte[] buffer = new byte[1024];\r\n        \r\n            try{\r\n                InputStream in = channel.getInputStream();\r\n                String line = &quot;&quot;;\r\n                while (true){\r\n                    while (in.available() &gt; 0) {\r\n                        int i = in.read(buffer, 0, 1024);\r\n                        if (i &lt; 0) {\r\n                            break;\r\n                        }\r\n                        line = new String(buffer, 0, i);\r\n                        System.out.println(line);\r\n                    }\r\n        \r\n                    if(line.contains(&quot;logout&quot;)){\r\n                        break;\r\n                    }\r\n        \r\n                    if (channel.isClosed()){\r\n                        break;\r\n                    }\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception ee){}\r\n                }\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while reading channel output: &quot;+ e);\r\n            }\r\n        \r\n        }\r\n        \r\n        public static void close(){\r\n            channel.disconnect();\r\n            session.disconnect();\r\n            System.out.println(&quot;Disconnected channel and session&quot;);\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args){\r\n            List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n            commands.add(&quot;ls -l&quot;);\r\n        \r\n            executeCommands(commands);\r\n            close();\r\n        }\r\n    }","title":"JSch issue - Cannot retrieve full command output","body":"<p>I am using JSch to connect to SSH and execute commands. One of the commands gives out a big output. In terminal if you execute the command  you have to press enter to see the entire output. Using JSch I am not able to retrieve the entire output. </p>\n\n<p>When I login using an interactive terminal, the command output stops after filling a screen and waits for <kbd>Enter</kbd>.</p>\n\n<p>The code is taken from \n<a href=\"https://stackoverflow.com/questions/25789245/how-to-get-jsch-shell-command-output-in-string\">How to get jsch shell command output in String</a>:</p>\n\n<pre><code>public class SshConnectionManager {\n\n    private static Session session;\n    private static ChannelShell channel;\n    private static String username = \"\";\n    private static String password = \"\";\n    private static String hostname = \"\";\n\n\n    private static Session getSession(){\n        if(session == null || !session.isConnected()){\n            session = connect(hostname,username,password);\n        }\n        return session;\n    }\n\n    private static Channel getChannel(){\n        if(channel == null || !channel.isConnected()){\n            try{\n                channel = (ChannelShell)getSession().openChannel(\"shell\");\n                channel.connect();\n\n            }catch(Exception e){\n                System.out.println(\"Error while opening channel: \"+ e);\n            }\n        }\n        return channel;\n    }\n\n    private static Session connect(String hostname, String username, String password){\n\n        JSch jSch = new JSch();\n\n        try {\n\n            session = jSch.getSession(username, hostname, 22);\n            Properties config = new Properties(); \n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);\n            session.setPassword(password);\n\n            System.out.println(\"Connecting SSH to \" + hostname + \" - Please wait for few seconds... \");\n            session.connect();\n            System.out.println(\"Connected!\");\n        }catch(Exception e){\n            System.out.println(\"An error occurred while connecting to \"+hostname+\": \"+e);\n        }\n\n        return session;\n\n    }\n\n    private static void executeCommands(List&lt;String&gt; commands){\n\n        try{\n            Channel channel=getChannel();\n\n            System.out.println(\"Sending commands...\");\n            sendCommands(channel, commands);\n\n            readChannelOutput(channel);\n            System.out.println(\"Finished sending commands!\");\n\n        }catch(Exception e){\n            System.out.println(\"An error ocurred during executeCommands: \"+e);\n        }\n    }\n\n    private static void sendCommands(Channel channel, List&lt;String&gt; commands){\n\n        try{\n            PrintStream out = new PrintStream(channel.getOutputStream());\n\n            out.println(\"#!/bin/bash\");\n            for(String command : commands){\n                out.println(command);\n            }\n            out.println(\"exit\");\n\n            out.flush();\n        }catch(Exception e){\n            System.out.println(\"Error while sending commands: \"+ e);\n        }\n\n    }\n\n    private static void readChannelOutput(Channel channel){\n\n        byte[] buffer = new byte[1024];\n\n        try{\n            InputStream in = channel.getInputStream();\n            String line = \"\";\n            while (true){\n                while (in.available() &gt; 0) {\n                    int i = in.read(buffer, 0, 1024);\n                    if (i &lt; 0) {\n                        break;\n                    }\n                    line = new String(buffer, 0, i);\n                    System.out.println(line);\n                }\n\n                if(line.contains(\"logout\")){\n                    break;\n                }\n\n                if (channel.isClosed()){\n                    break;\n                }\n                try {\n                    Thread.sleep(1000);\n                } catch (Exception ee){}\n            }\n        }catch(Exception e){\n            System.out.println(\"Error while reading channel output: \"+ e);\n        }\n\n    }\n\n    public static void close(){\n        channel.disconnect();\n        session.disconnect();\n        System.out.println(\"Disconnected channel and session\");\n    }\n\n\n    public static void main(String[] args){\n        List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n        commands.add(\"ls -l\");\n\n        executeCommands(commands);\n        close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":22515144,"reputation":295,"user_id":16709479,"display_name":"Alain C. Jim&#233;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673720659,"creation_date":1673720659,"answer_id":75120307,"question_id":73761267,"body_markdown":"Duplicate of: [I am making an .XAPK installer application in flutter. with open_file package I can open normal .apk installation dialogue but how can I install .XAPK][1]\r\n\r\nIf you&#39;re still trying to install an .xapk file, I&#39;m sharing a piece of code that helped me. I&#39;m using the packages:\r\n\r\n[archive][2] (for all the extraction as zip logic)\r\n\r\n[device_apps][3] (to open the Settings app in case you don&#39;t have the required permissions)\r\n\r\n[open_filex][4] (to open the apk file with the Android intent)\r\n\r\n[package_archive_info][5] (to get the information from the .apk package)\r\n\r\n[path_provider][6] (to get Directories and paths)\r\n\r\n[permission_handler][7] (to ask for permissions to install)\r\n\r\nand [file_picker][8] since I initiate the method with a picked file using that package.\r\n\r\n    abstract class XapkInstaller {\r\n    static install({required PlatformFile file}) async {\r\n    late List&lt;FileSystemEntity&gt; allFiles, apkFiles;\r\n    late PackageArchiveInfo appInfo;\r\n    late String appPackageName;\r\n\r\n    Directory tempDir = await getTemporaryDirectory();\r\n    String tempPath = tempDir.path;\r\n\r\n    String appName = file.path.toString().split(&quot;/&quot;).last.replaceAll(&quot;.apklis&quot;, &quot;&quot;);\r\n\r\n    String zipFilePath = &quot;${tempDir.path.replaceAll(&#39;/$appName.apklis&#39;, &#39;&#39;)}/$appName.zip&quot;;\r\n\r\n    // this function convert xapk in zip file and moves in appname_zip directory\r\n    _moveFile(File(file.path.toString()), zipFilePath);\r\n\r\n    final bytes = File(zipFilePath).readAsBytesSync();\r\n    final archive = ZipDecoder().decodeBytes(bytes);\r\n\r\n    // Extract the contents of the Zip archive to disk app cache.\r\n    for (final file in archive) {\r\n      final String filename = file.name;\r\n\r\n      if (file.isFile) {\r\n        final data = file.content as List&lt;int&gt;;\r\n        File(&quot;${tempDir.path}/$appName/$filename&quot;)\r\n          ..createSync(recursive: true)\r\n          ..writeAsBytesSync(data);\r\n      } else {\r\n        Directory(tempPath).create(recursive: true);\r\n      }\r\n    }\r\n    final Directory myDir = Directory(&quot;${tempDir.path}/$appName&quot;);\r\n\r\n    allFiles = myDir.listSync(recursive: true, followLinks: true);\r\n\r\n    apkFiles = allFiles.where((element) =&gt; element.path.endsWith(&#39;.apk&#39;)).toList();\r\n    for (int x = 0; x &lt; apkFiles.length; x++) {\r\n      final String filePath = apkFiles[x].path;\r\n      try {\r\n        appInfo = await PackageArchiveInfo.fromPath(filePath);\r\n        appPackageName = appInfo.packageName;\r\n      } catch (e) {\r\n        appInfo = PackageArchiveInfo(appName: &quot;&quot;, packageName: &quot;&quot;, version: &quot;&quot;, buildNumber: &quot;&quot;);\r\n      }\r\n      if (appInfo.appName.isNotEmpty) {\r\n        try {\r\n          // moving obb file to android/obb folder\r\n          _moveObbToAndroidDir(allFiles, appPackageName);\r\n\r\n          // showing popup to install app\r\n          if (await Permission.requestInstallPackages.request().isGranted) {\r\n            await OpenFilex.open(filePath);\r\n          } else {\r\n            DeviceApps.openAppSettings(appInfo.packageName);\r\n          }\r\n        } catch (e) {\r\n          //catch error in installing\r\n        }\r\n      }\r\n    }\r\n    // clearing cache file after installing xapk\r\n    Future.delayed(const Duration(seconds: 180), () {\r\n      tempDir.deleteSync(recursive: true);\r\n      tempDir.create();\r\n    });\r\n    }\r\n\r\n    static _moveObbToAndroidDir(List&lt;FileSystemEntity&gt; allFiles, String appPackageName) async {\r\n    for (int x = 0; x &lt; allFiles.length; x++) {\r\n      final fileExtension = allFiles[x].path.split(&quot;/&quot;).last.split(&quot;.&quot;).last;\r\n\r\n      if (fileExtension == &quot;obb&quot;) {\r\n        String filepath = allFiles[x].path;\r\n        String obbFileName = filepath.split(&quot;/&quot;).last.split(&quot;.&quot;).first;\r\n\r\n        String obbDirPath = &quot;/Android/obb/$appPackageName&quot;;\r\n\r\n        // creating the directory inside android/obb folder to place obb files\r\n        if (!Directory(obbDirPath).existsSync()) {\r\n          Directory(obbDirPath).createSync();\r\n        }\r\n\r\n        // rename path should also contains filename i.e. whole path with filename and extension\r\n        final String renamePath = &quot;$obbDirPath/$obbFileName.obb&quot;;\r\n\r\n        try {\r\n          // syncronus copying\r\n          File(filepath).copySync(renamePath);\r\n        } on FileSystemException {\r\n          // in case of exception copying asyncronushly\r\n          await File(filepath).copy(renamePath);\r\n        }\r\n        }\r\n      }\r\n     }\r\n\r\n    static Future&lt;File&gt; _moveFile(File sourceFile, String newPath) async {\r\n    try {\r\n      // prefer using rename as it is probably faster\r\n      return await sourceFile.rename(newPath);\r\n    } on FileSystemException catch (e) {\r\n      // if rename fails, copy the source file and then delete it\r\n      final newFile = await sourceFile.copy(newPath);\r\n      await sourceFile.delete();\r\n      return newFile;\r\n      }\r\n     }\r\n    }\r\n\r\nI&#39;ve tried it and it works, so remember to update the permissions on the AndroidManifest file and you&#39;re all set.\r\n\r\n\r\n  [1]: https://stackoverflow.com/posts/75118149/edit\r\n  [2]: https://pub.dev/packages/archive\r\n  [3]: https://pub.dev/packages/device_apps\r\n  [4]: https://pub.dev/packages/open_filex\r\n  [5]: https://pub.dev/packages/package_archive_info\r\n  [6]: https://pub.dev/packages/path_provider\r\n  [7]: https://pub.dev/packages/permission_handler\r\n  [8]: https://pub.dev/packages/file_picker","title":"How to install .xapk file from local storage programmatically in Flutter?","body":"<p>Duplicate of: <a href=\"https://stackoverflow.com/posts/75118149/edit\">I am making an .XAPK installer application in flutter. with open_file package I can open normal .apk installation dialogue but how can I install .XAPK</a></p>\n<p>If you're still trying to install an .xapk file, I'm sharing a piece of code that helped me. I'm using the packages:</p>\n<p><a href=\"https://pub.dev/packages/archive\" rel=\"nofollow noreferrer\">archive</a> (for all the extraction as zip logic)</p>\n<p><a href=\"https://pub.dev/packages/device_apps\" rel=\"nofollow noreferrer\">device_apps</a> (to open the Settings app in case you don't have the required permissions)</p>\n<p><a href=\"https://pub.dev/packages/open_filex\" rel=\"nofollow noreferrer\">open_filex</a> (to open the apk file with the Android intent)</p>\n<p><a href=\"https://pub.dev/packages/package_archive_info\" rel=\"nofollow noreferrer\">package_archive_info</a> (to get the information from the .apk package)</p>\n<p><a href=\"https://pub.dev/packages/path_provider\" rel=\"nofollow noreferrer\">path_provider</a> (to get Directories and paths)</p>\n<p><a href=\"https://pub.dev/packages/permission_handler\" rel=\"nofollow noreferrer\">permission_handler</a> (to ask for permissions to install)</p>\n<p>and <a href=\"https://pub.dev/packages/file_picker\" rel=\"nofollow noreferrer\">file_picker</a> since I initiate the method with a picked file using that package.</p>\n<pre><code>abstract class XapkInstaller {\nstatic install({required PlatformFile file}) async {\nlate List&lt;FileSystemEntity&gt; allFiles, apkFiles;\nlate PackageArchiveInfo appInfo;\nlate String appPackageName;\n\nDirectory tempDir = await getTemporaryDirectory();\nString tempPath = tempDir.path;\n\nString appName = file.path.toString().split(&quot;/&quot;).last.replaceAll(&quot;.apklis&quot;, &quot;&quot;);\n\nString zipFilePath = &quot;${tempDir.path.replaceAll('/$appName.apklis', '')}/$appName.zip&quot;;\n\n// this function convert xapk in zip file and moves in appname_zip directory\n_moveFile(File(file.path.toString()), zipFilePath);\n\nfinal bytes = File(zipFilePath).readAsBytesSync();\nfinal archive = ZipDecoder().decodeBytes(bytes);\n\n// Extract the contents of the Zip archive to disk app cache.\nfor (final file in archive) {\n  final String filename = file.name;\n\n  if (file.isFile) {\n    final data = file.content as List&lt;int&gt;;\n    File(&quot;${tempDir.path}/$appName/$filename&quot;)\n      ..createSync(recursive: true)\n      ..writeAsBytesSync(data);\n  } else {\n    Directory(tempPath).create(recursive: true);\n  }\n}\nfinal Directory myDir = Directory(&quot;${tempDir.path}/$appName&quot;);\n\nallFiles = myDir.listSync(recursive: true, followLinks: true);\n\napkFiles = allFiles.where((element) =&gt; element.path.endsWith('.apk')).toList();\nfor (int x = 0; x &lt; apkFiles.length; x++) {\n  final String filePath = apkFiles[x].path;\n  try {\n    appInfo = await PackageArchiveInfo.fromPath(filePath);\n    appPackageName = appInfo.packageName;\n  } catch (e) {\n    appInfo = PackageArchiveInfo(appName: &quot;&quot;, packageName: &quot;&quot;, version: &quot;&quot;, buildNumber: &quot;&quot;);\n  }\n  if (appInfo.appName.isNotEmpty) {\n    try {\n      // moving obb file to android/obb folder\n      _moveObbToAndroidDir(allFiles, appPackageName);\n\n      // showing popup to install app\n      if (await Permission.requestInstallPackages.request().isGranted) {\n        await OpenFilex.open(filePath);\n      } else {\n        DeviceApps.openAppSettings(appInfo.packageName);\n      }\n    } catch (e) {\n      //catch error in installing\n    }\n  }\n}\n// clearing cache file after installing xapk\nFuture.delayed(const Duration(seconds: 180), () {\n  tempDir.deleteSync(recursive: true);\n  tempDir.create();\n});\n}\n\nstatic _moveObbToAndroidDir(List&lt;FileSystemEntity&gt; allFiles, String appPackageName) async {\nfor (int x = 0; x &lt; allFiles.length; x++) {\n  final fileExtension = allFiles[x].path.split(&quot;/&quot;).last.split(&quot;.&quot;).last;\n\n  if (fileExtension == &quot;obb&quot;) {\n    String filepath = allFiles[x].path;\n    String obbFileName = filepath.split(&quot;/&quot;).last.split(&quot;.&quot;).first;\n\n    String obbDirPath = &quot;/Android/obb/$appPackageName&quot;;\n\n    // creating the directory inside android/obb folder to place obb files\n    if (!Directory(obbDirPath).existsSync()) {\n      Directory(obbDirPath).createSync();\n    }\n\n    // rename path should also contains filename i.e. whole path with filename and extension\n    final String renamePath = &quot;$obbDirPath/$obbFileName.obb&quot;;\n\n    try {\n      // syncronus copying\n      File(filepath).copySync(renamePath);\n    } on FileSystemException {\n      // in case of exception copying asyncronushly\n      await File(filepath).copy(renamePath);\n    }\n    }\n  }\n }\n\nstatic Future&lt;File&gt; _moveFile(File sourceFile, String newPath) async {\ntry {\n  // prefer using rename as it is probably faster\n  return await sourceFile.rename(newPath);\n} on FileSystemException catch (e) {\n  // if rename fails, copy the source file and then delete it\n  final newFile = await sourceFile.copy(newPath);\n  await sourceFile.delete();\n  return newFile;\n  }\n }\n}\n</code></pre>\n<p>I've tried it and it works, so remember to update the permissions on the AndroidManifest file and you're all set.</p>\n"}],"owner":{"account_id":25418679,"reputation":11,"user_id":19225105,"display_name":"Sonu Lodha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673720659,"creation_date":1663490624,"question_id":73761267,"body_markdown":"I want to implement this functionality;\r\n\r\n&gt;A Button when pressed will install .xapk file from local storage with the following path.\r\n\r\nString _apkFilePath = &#39;/storage/emulated/0/Download/filename.xapk&#39;;\r\n","title":"How to install .xapk file from local storage programmatically in Flutter?","body":"<p>I want to implement this functionality;</p>\n<blockquote>\n<p>A Button when pressed will install .xapk file from local storage with the following path.</p>\n</blockquote>\n<p>String _apkFilePath = '/storage/emulated/0/Download/filename.xapk';</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1673720683,"post_id":75100690,"comment_id":132563033,"body_markdown":"You&#39;ll want to have a look at threading, which is not a quick and easy topic, but if you take the time to put this work on halt and learn about how to use threading on its own first, you can then pick this back up and probably make it work with only moderate effort.","body":"You&#39;ll want to have a look at threading, which is not a quick and easy topic, but if you take the time to put this work on halt and learn about how to use threading on its own first, you can then pick this back up and probably make it work with only moderate effort."}],"owner":{"account_id":23668969,"reputation":1,"user_id":17696035,"display_name":"Adrian Grueso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673720455,"creation_date":1673547398,"question_id":75100690,"body_markdown":"I&#39;m learning about anylogic simulation.\r\nMy simulation is a process assemble. There is many workstation, and each one them do something activities, so, it&#39;s diferents times.\r\n\r\nModeling Process\r\n\r\n[1]:https://i.stack.imgur.com/JJx0B.jpg\r\n\r\n![1]\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m trying to write a condition for this process, some like rotine below...\r\n\r\nFor exemple:\r\n\r\nif service block number 2 is occupated, all the process before must to wait until it finished.\r\nAnd service block 3, 4, 5... 10, 11, 12... same thing.\r\n\r\nHow I should to do?","title":"How to create a condition for wait and service block?","body":"<p>I'm learning about anylogic simulation.\nMy simulation is a process assemble. There is many workstation, and each one them do something activities, so, it's diferents times.</p>\n<p>Modeling Process</p>\n<p><img src=\"https://i.stack.imgur.com/JJx0B.jpg\" alt=\"1\" /></p>\n<p>I'm trying to write a condition for this process, some like rotine below...</p>\n<p>For exemple:</p>\n<p>if service block number 2 is occupated, all the process before must to wait until it finished.\nAnd service block 3, 4, 5... 10, 11, 12... same thing.</p>\n<p>How I should to do?</p>\n"},{"tags":["java","delphi","aidl","delphi-10.4-sydney"],"comments":[{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":3,"creation_date":1673723491,"post_id":75120261,"comment_id":132563607,"body_markdown":"You cannot directly use java nor aidl files in Delphi. You need to build JAR from those files and then you can use them. For the last part (using JAR in Delphi) see https://docwiki.embarcadero.com/RADStudio/Sydney/en/Using_a_Custom_Set_of_Java_Libraries_In_Your_RAD_Studio_Android_Apps","body":"You cannot directly use java nor aidl files in Delphi. You need to build JAR from those files and then you can use them. For the last part (using JAR in Delphi) see <a href=\"https://docwiki.embarcadero.com/RADStudio/Sydney/en/Using_a_Custom_Set_of_Java_Libraries_In_Your_RAD_Studio_Android_Apps\" rel=\"nofollow noreferrer\">docwiki.embarcadero.com/RADStudio/Sydney/en/&hellip;</a>"},{"owner":{"account_id":19624697,"reputation":1,"user_id":19642940,"display_name":"cla-h"},"score":0,"creation_date":1673958768,"post_id":75120261,"comment_id":132608323,"body_markdown":"I tried following this tutorial but even generating the file with java2op.exe and including it in the project in the uses directive it does not find the classes.","body":"I tried following this tutorial but even generating the file with java2op.exe and including it in the project in the uses directive it does not find the classes."}],"owner":{"account_id":19624697,"reputation":1,"user_id":19642940,"display_name":"cla-h"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673720222,"creation_date":1673720222,"question_id":75120261,"body_markdown":"I have two .aidl files and I need to add them to a project delphi.\r\nIPrinterCallback.aidl\r\nIPrinterService.aidl\r\n```\r\n    // IPrinterService.aidl\r\n    package com.xcheng.printerservice;\r\n    import com.xcheng.printerservice.IPrinterCallback;\r\n    //import java.util.List;\r\n    //import java.util.Map;\r\n\r\n    // Declare any non-default types here with import statements\r\n\r\n    interface IPrinterService {\r\n     /**\r\n     * Demonstrates some basic types that you can use as parameters\r\n     * and return values in AIDL.\r\n     */\r\n...\r\n...\r\n```\r\n\r\nThe idea is simply to create a button to click and print anything using these packages.\r\nI read several tutorials and got nothing so far.\r\nIn one of them I saw that I needed to generate the equivalent .java files and add them to the project.\r\n\r\n```\r\n/*\r\n * This file is auto-generated.  DO NOT MODIFY.\r\n */\r\npackage com.xcheng.printerservice;\r\n//import java.util.List;\r\n//import java.util.Map;\r\n// Declare any non-default types here with import statements\r\n\r\npublic interface IPrinterService extends android.os.IInterface\r\n{\r\n  /** Default implementation for IPrinterService. */\r\n  public static class Default implements com.xcheng.printerservice.IPrinterService\r\n  {\r\n    /**\r\n         * Demonstrates some basic types that you can use as parameters\r\n         * and return values in AIDL.\r\n         */\r\n    @Override public void upgradePrinter() throws android.os.RemoteException\r\n    {\r\n    ...\r\n    ...\r\n    ...\r\n```\r\n\r\nSo I generated them using aidl.exe from skd android and put them in a folder inside the project.\r\nBut I always get a compilation error when I try to import it in &#39;uses&#39;.\r\n\r\nmy code without importing the AIDL\r\n\r\n```\r\nunit Unit1;\r\n\r\ninterface\r\n\r\nuses\r\n  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,\r\n  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,\r\n  FMX.Controls.Presentation, FMX.StdCtrls,\r\n  Androidapi.JNI.JavaTypes,\r\n  Androidapi.JNI.Os,\r\n  Android.ServiceApplication,\r\n  FMX.Helpers.Android;\r\n\r\ntype\r\n  TForm1 = class(TForm)\r\n    Print: TButton;\r\n    private\r\n      { Private declarations }\r\n    public\r\n      { Public declarations }\r\n  end;\r\n\r\nvar\r\n  Form1: TForm1;\r\n\r\nimplementation\r\n\r\n{$R *.fmx}\r\n\r\nend.\r\n```\r\n```\r\n    MyProject/\r\n    |\r\n    +-- src/\r\n    |   |\r\n    |   +-- com/\r\n    |       |\r\n    |       +-- xcheng/\r\n    |           |\r\n    |           +-- printerservice/\r\n    |               |\r\n    |               +-- IPrinterService.aidl\r\n    |               +-- IPrinterCallback.aidl\r\n    |               +-- IPrinterService.java\r\n    |               +-- IPrinterCallback.java\r\n    |\r\n    +-- assets/\r\n    |\r\n    +-- AndroidManifest.xml\r\n    +-- MyProject.dproj\r\n    ...\r\n    ...\r\n```\r\n\r\nCan anyone help me import and consume these files .aidl or .java in android delphi?","title":"how to add a .aidl file in a delphi android project?","body":"<p>I have two .aidl files and I need to add them to a project delphi.\nIPrinterCallback.aidl\nIPrinterService.aidl</p>\n<pre><code>    // IPrinterService.aidl\n    package com.xcheng.printerservice;\n    import com.xcheng.printerservice.IPrinterCallback;\n    //import java.util.List;\n    //import java.util.Map;\n\n    // Declare any non-default types here with import statements\n\n    interface IPrinterService {\n     /**\n     * Demonstrates some basic types that you can use as parameters\n     * and return values in AIDL.\n     */\n...\n...\n</code></pre>\n<p>The idea is simply to create a button to click and print anything using these packages.\nI read several tutorials and got nothing so far.\nIn one of them I saw that I needed to generate the equivalent .java files and add them to the project.</p>\n<pre><code>/*\n * This file is auto-generated.  DO NOT MODIFY.\n */\npackage com.xcheng.printerservice;\n//import java.util.List;\n//import java.util.Map;\n// Declare any non-default types here with import statements\n\npublic interface IPrinterService extends android.os.IInterface\n{\n  /** Default implementation for IPrinterService. */\n  public static class Default implements com.xcheng.printerservice.IPrinterService\n  {\n    /**\n         * Demonstrates some basic types that you can use as parameters\n         * and return values in AIDL.\n         */\n    @Override public void upgradePrinter() throws android.os.RemoteException\n    {\n    ...\n    ...\n    ...\n</code></pre>\n<p>So I generated them using aidl.exe from skd android and put them in a folder inside the project.\nBut I always get a compilation error when I try to import it in 'uses'.</p>\n<p>my code without importing the AIDL</p>\n<pre><code>unit Unit1;\n\ninterface\n\nuses\n  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,\n  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,\n  FMX.Controls.Presentation, FMX.StdCtrls,\n  Androidapi.JNI.JavaTypes,\n  Androidapi.JNI.Os,\n  Android.ServiceApplication,\n  FMX.Helpers.Android;\n\ntype\n  TForm1 = class(TForm)\n    Print: TButton;\n    private\n      { Private declarations }\n    public\n      { Public declarations }\n  end;\n\nvar\n  Form1: TForm1;\n\nimplementation\n\n{$R *.fmx}\n\nend.\n</code></pre>\n<pre><code>    MyProject/\n    |\n    +-- src/\n    |   |\n    |   +-- com/\n    |       |\n    |       +-- xcheng/\n    |           |\n    |           +-- printerservice/\n    |               |\n    |               +-- IPrinterService.aidl\n    |               +-- IPrinterCallback.aidl\n    |               +-- IPrinterService.java\n    |               +-- IPrinterCallback.java\n    |\n    +-- assets/\n    |\n    +-- AndroidManifest.xml\n    +-- MyProject.dproj\n    ...\n    ...\n</code></pre>\n<p>Can anyone help me import and consume these files .aidl or .java in android delphi?</p>\n"},{"tags":["java","apache-kafka","wildfly","classloader"],"owner":{"account_id":27527186,"reputation":1,"user_id":21006308,"display_name":"fer mou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673719855,"creation_date":1673697633,"question_id":75117754,"body_markdown":"I am facing an issue that I cannot solve. So I am searching some help here (Environment : java 8, maven 3, wildfly 12, spring, EC2, MSK).\r\n\r\nI have a legacy application on a wildfly 12 deployed on an EC2 instance.\r\nThis wildfly deploy different modules as war (app.war, ws.war), &#39;app&#39; is used for a man/machine interface and &#39;ws&#39; is for some webservices for partners.\r\n\r\nThis modules have the same dependency named &#39;services&#39; in their pom.xml.\r\n&#39;Services&#39; has the dependency aws-msk-iam-auth (1.1.4) in its pom.xml\r\nIn this dependency is set a kafka configuration to produce messages sent to a broker.\r\n\r\nHere is the configuration that can be helpful for you of my producer :\r\n\r\n```\r\nspring.kafka.producer.security.sasl.mechanism = AWS_MSK_IAM\r\nspring.kafka.producer.security.sasl.jaas.config = software.amazon.msk.auth.iam.IAMLoginModule required;\r\nspring.kafka.producer.security.sasl.client.callback.handler.class = software.amazon.msk.auth.iam.IAMClientCallbackHandler\r\nspring.kafka.producer.security.protocol = SASL_SSL\r\n```\r\n\r\nThe problem is :\r\nWhen I am on the man/machine interface and do actions that can produce messages, all is ok.\r\nThen I send http post request to the webservices, this must produce actions as well, but it does not work.\r\n \r\nThe exception caught is clear :\r\n`ERROR [software.amazon.msk.auth.iam.IAMClientCallbackHandler] (kafka-producer-network-thread | producer-1) Unsupported callback type: class: software.amazon.msk.auth.iam.internals.AWSCredentialsCallback classloader: ModuleClassLoader for Module &quot;deployment.app.war&quot; from Service Module Loader from class: software.amazon.msk.auth.iam.IAMClientCallbackHandler classloader: ModuleClassLoader for Module &quot;deployment.ws.war&quot; from Service Module Loader`\r\n \r\nIt&#39;s in the handle method of the IAMClientCallbackHandler class :\r\n\r\n```\r\n    for(int var4 = 0; var4 &lt; var3; ++var4) {\r\n        Callback callback = var2[var4];\r\n        if (log.isDebugEnabled()) {\r\n          log.debug(&quot;Type information for callback: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass()));\r\n        }\r\n\r\n        if (!(callback instanceof AWSCredentialsCallback)) {\r\n          String message = &quot;Unsupported callback type: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass());\r\n          log.error(message);\r\n          throw new UnsupportedCallbackException(callback, message);\r\n        }\r\n\r\n        this.handleCallback((AWSCredentialsCallback)callback);\r\n    }\r\n```\r\n\r\nThe error is that the callback is an instance of AWSCredentialsCallback but the classloader that can make the cast is in a different war.\r\n\r\n\r\n\r\n\r\nI tried to managed this with many solutions and maybe one of them should be close but it does not work.\r\nIncluding :\r\n- Having a kafka config in each war (but allways calling the service module)\r\n- Overriding IAMClientCallbackHandler.handle method to try to cast correctly the callback\r\n- Trying to add the aws-msk-iam-auth library in a wildfly module (I am not sure I did it the right way, but the problem stay exactly the same)\r\n- And so on...\r\n\r\nEvery advice here is welcome :)\r\n\r\nThanks !","title":"Kafka SaslException UnsupportedCallbackException due to class loader issue","body":"<p>I am facing an issue that I cannot solve. So I am searching some help here (Environment : java 8, maven 3, wildfly 12, spring, EC2, MSK).</p>\n<p>I have a legacy application on a wildfly 12 deployed on an EC2 instance.\nThis wildfly deploy different modules as war (app.war, ws.war), 'app' is used for a man/machine interface and 'ws' is for some webservices for partners.</p>\n<p>This modules have the same dependency named 'services' in their pom.xml.\n'Services' has the dependency aws-msk-iam-auth (1.1.4) in its pom.xml\nIn this dependency is set a kafka configuration to produce messages sent to a broker.</p>\n<p>Here is the configuration that can be helpful for you of my producer :</p>\n<pre><code>spring.kafka.producer.security.sasl.mechanism = AWS_MSK_IAM\nspring.kafka.producer.security.sasl.jaas.config = software.amazon.msk.auth.iam.IAMLoginModule required;\nspring.kafka.producer.security.sasl.client.callback.handler.class = software.amazon.msk.auth.iam.IAMClientCallbackHandler\nspring.kafka.producer.security.protocol = SASL_SSL\n</code></pre>\n<p>The problem is :\nWhen I am on the man/machine interface and do actions that can produce messages, all is ok.\nThen I send http post request to the webservices, this must produce actions as well, but it does not work.</p>\n<p>The exception caught is clear :\n<code>ERROR [software.amazon.msk.auth.iam.IAMClientCallbackHandler] (kafka-producer-network-thread | producer-1) Unsupported callback type: class: software.amazon.msk.auth.iam.internals.AWSCredentialsCallback classloader: ModuleClassLoader for Module &quot;deployment.app.war&quot; from Service Module Loader from class: software.amazon.msk.auth.iam.IAMClientCallbackHandler classloader: ModuleClassLoader for Module &quot;deployment.ws.war&quot; from Service Module Loader</code></p>\n<p>It's in the handle method of the IAMClientCallbackHandler class :</p>\n<pre><code>    for(int var4 = 0; var4 &lt; var3; ++var4) {\n        Callback callback = var2[var4];\n        if (log.isDebugEnabled()) {\n          log.debug(&quot;Type information for callback: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass()));\n        }\n\n        if (!(callback instanceof AWSCredentialsCallback)) {\n          String message = &quot;Unsupported callback type: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass());\n          log.error(message);\n          throw new UnsupportedCallbackException(callback, message);\n        }\n\n        this.handleCallback((AWSCredentialsCallback)callback);\n    }\n</code></pre>\n<p>The error is that the callback is an instance of AWSCredentialsCallback but the classloader that can make the cast is in a different war.</p>\n<p>I tried to managed this with many solutions and maybe one of them should be close but it does not work.\nIncluding :</p>\n<ul>\n<li>Having a kafka config in each war (but allways calling the service module)</li>\n<li>Overriding IAMClientCallbackHandler.handle method to try to cast correctly the callback</li>\n<li>Trying to add the aws-msk-iam-auth library in a wildfly module (I am not sure I did it the right way, but the problem stay exactly the same)</li>\n<li>And so on...</li>\n</ul>\n<p>Every advice here is welcome :)</p>\n<p>Thanks !</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1667764474,"post_id":74339170,"comment_id":131239645,"body_markdown":"`{in.nextLine()}` may be array literal syntax the compiler accepts, but how would you describe what it (and other lines) do in a natural language such as English?","body":"<code>{in.nextLine()}</code> may be array literal syntax the compiler accepts, but how would you describe what it (and other lines) do in a natural language such as English?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667764607,"post_id":74339170,"comment_id":131239667,"body_markdown":"You are trying to use us as human debuggers while the job can be done much more efficiently with an actual debugger. Search for &quot;How to use &lt;my-IDE&gt; debugger&quot; and step through your code with your IDE. Then you&#39;ll have your answer in no time.","body":"You are trying to use us as human debuggers while the job can be done much more efficiently with an actual debugger. Search for &quot;How to use &lt;my-IDE&gt; debugger&quot; and step through your code with your IDE. Then you&#39;ll have your answer in no time."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667764702,"post_id":74339170,"comment_id":131239686,"body_markdown":"`String.valueOf(input.length)` will return the same number (as String) with every iteration. And that number is ‚Äû1‚Äú, because input is an array with one element, so the length is 1.","body":"<code>String.valueOf(input.length)</code> will return the same number (as String) with every iteration. And that number is ‚Äû1‚Äú, because input is an array with one element, so the length is 1."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667764732,"creation_date":1667764732,"answer_id":74339296,"question_id":74339170,"body_markdown":"The pattern seems to be nondigits - followed by plus or minus - then digits. I would literally use a `Pattern` to represent that regular expression. Then loop over the matches to the pattern. That might look something like\r\n\r\n\tString[] inputs = { &quot;AFB+8HC-4&quot;, &quot;AFB+8SC-4H-2GDPE+9&quot; };\r\n\tPattern p = Pattern.compile(&quot;(\\\\D+)([+-])(\\\\d+)&quot;);\r\n\tfor (String s : inputs) {\r\n\t\tSystem.out.printf(&quot;For %s%n&quot;, s);\r\n\t\tMatcher m = p.matcher(s);\r\n\t\twhile (m.find()) {\r\n\t\t\tSystem.out.printf(&quot;%s %s %s%n&quot;,\r\n\t\t\t\t\tm.group(1),\r\n\t\t\t\t\tm.group(2).equals(&quot;+&quot;) ? &quot;tighten&quot; : &quot;loosen&quot;,\r\n\t\t\t\t\tm.group(3));\r\n\t\t}\r\n\t}\r\n\r\nOutputs (as requested)\r\n\r\n    For AFB+8HC-4\r\n    AFB tighten 8\r\n    HC loosen 4\r\n    For AFB+8SC-4H-2GDPE+9\r\n    AFB tighten 8\r\n    SC loosen 4\r\n    H loosen 2\r\n    GDPE tighten 9\r\n\r\n","title":"This questions can not be closed, but plz do not comment any more. thankyou! --- the frog","body":"<p>The pattern seems to be nondigits - followed by plus or minus - then digits. I would literally use a <code>Pattern</code> to represent that regular expression. Then loop over the matches to the pattern. That might look something like</p>\n<pre><code>String[] inputs = { &quot;AFB+8HC-4&quot;, &quot;AFB+8SC-4H-2GDPE+9&quot; };\nPattern p = Pattern.compile(&quot;(\\\\D+)([+-])(\\\\d+)&quot;);\nfor (String s : inputs) {\n    System.out.printf(&quot;For %s%n&quot;, s);\n    Matcher m = p.matcher(s);\n    while (m.find()) {\n        System.out.printf(&quot;%s %s %s%n&quot;,\n                m.group(1),\n                m.group(2).equals(&quot;+&quot;) ? &quot;tighten&quot; : &quot;loosen&quot;,\n                m.group(3));\n    }\n}\n</code></pre>\n<p>Outputs (as requested)</p>\n<pre><code>For AFB+8HC-4\nAFB tighten 8\nHC loosen 4\nFor AFB+8SC-4H-2GDPE+9\nAFB tighten 8\nSC loosen 4\nH loosen 2\nGDPE tighten 9\n</code></pre>\n"}],"owner":{"account_id":26511838,"reputation":15,"user_id":20146935,"display_name":"The lol frog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673719464,"creation_date":1667763698,"question_id":74339170,"body_markdown":"***\r\n\r\n&gt; What&#39;s wrong with my code? It will not print what I think my code is\r\n&gt; doing. This is question -2022 J3 Harp Tuning- from Canadian Computing\r\n&gt; Contest\r\n\r\n***\r\n\r\n\r\n\r\n**Sample Input 1**\r\n\r\nAFB+8HC-4\r\n\r\n**Output for Sample Input 1**\r\n\r\nAFB tighten 8\r\n\r\nHC loosen 4\r\n\r\n**Explanation of Sample Output 1**\r\n\r\nThe input contains two tuning instructions: \r\nAFB+8 and HC-4\r\n\r\n**Sample Input 2**\r\n\r\nAFB+8SC-4H-2GDPE+9\r\n\r\n**Output for Sample Input 2**\r\n\r\nAFB tighten 8\r\n\r\nSC loosen 4\r\n\r\nH loosen 2\r\n\r\nGDPE tighten 9\r\n\r\n**Explanation of Sample Output 2**\r\n\r\nThe input contains four tuning instructions: \r\nAFB+8, SC-4, H-2, and GDPE+9\r\n\r\n\r\n*I&#39;ve tried to use Array and String, non worked. \r\n**FYI** I am NOT allowed to use complicated stuff in my code as my teacher said (yes I will get marks off if I do)*\r\n\r\n\r\nMy code:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString[] input = {in.nextLine()};\r\n\t\tString num = &quot;1234567890&quot;;\r\n    \tfor (int i = 0 ;i &lt; input.length;i++)\r\n    \t{\r\n    \t\tif (num.contains(String.valueOf(input.length)))\r\n    \t\t{\r\n    \t\t\tinput[i]=input[i]+&quot;\\n&quot;;\r\n    \t\t\t//continue;\r\n    \t    }//end of if\r\n    \t\tif (input[i]==&quot;+&quot;)\r\n    \t\t{\r\n    \t\t\tinput[i]=&quot; tighten &quot;;\r\n    \t\t}//end of if\r\n    \t\tif (input[i]==&quot;-&quot;)\r\n    \t\t{\r\n    \t\t\tinput[i]=&quot; loosen &quot;;\r\n    \t    }//end of if\r\n    \t}// end of for\r\n    \tprintArry(input);\r\n   }// end of main\r\n\r\n\tpublic static void printArry(String[]a)\r\n\t{\r\n           for (int j = 0; j &lt; a.length; j++) \r\n           {\r\n              System.out.print(a[j]);\r\n           }// end of for\r\n\t}// end of printArry\r\n}//end of class\r\n```","title":"This questions can not be closed, but plz do not comment any more. thankyou! --- the frog","body":"<hr />\n<blockquote>\n<p>What's wrong with my code? It will not print what I think my code is\ndoing. This is question -2022 J3 Harp Tuning- from Canadian Computing\nContest</p>\n</blockquote>\n<hr />\n<p><strong>Sample Input 1</strong></p>\n<p>AFB+8HC-4</p>\n<p><strong>Output for Sample Input 1</strong></p>\n<p>AFB tighten 8</p>\n<p>HC loosen 4</p>\n<p><strong>Explanation of Sample Output 1</strong></p>\n<p>The input contains two tuning instructions:\nAFB+8 and HC-4</p>\n<p><strong>Sample Input 2</strong></p>\n<p>AFB+8SC-4H-2GDPE+9</p>\n<p><strong>Output for Sample Input 2</strong></p>\n<p>AFB tighten 8</p>\n<p>SC loosen 4</p>\n<p>H loosen 2</p>\n<p>GDPE tighten 9</p>\n<p><strong>Explanation of Sample Output 2</strong></p>\n<p>The input contains four tuning instructions:\nAFB+8, SC-4, H-2, and GDPE+9</p>\n<p><em>I've tried to use Array and String, non worked.\n<strong>FYI</strong> I am NOT allowed to use complicated stuff in my code as my teacher said (yes I will get marks off if I do)</em></p>\n<p>My code:</p>\n<pre><code>import java.util.Scanner;\npublic class Main \n{\n    public static void main(String[] args) \n    {\n        Scanner in = new Scanner(System.in);\n        String[] input = {in.nextLine()};\n        String num = &quot;1234567890&quot;;\n        for (int i = 0 ;i &lt; input.length;i++)\n        {\n            if (num.contains(String.valueOf(input.length)))\n            {\n                input[i]=input[i]+&quot;\\n&quot;;\n                //continue;\n            }//end of if\n            if (input[i]==&quot;+&quot;)\n            {\n                input[i]=&quot; tighten &quot;;\n            }//end of if\n            if (input[i]==&quot;-&quot;)\n            {\n                input[i]=&quot; loosen &quot;;\n            }//end of if\n        }// end of for\n        printArry(input);\n   }// end of main\n\n    public static void printArry(String[]a)\n    {\n           for (int j = 0; j &lt; a.length; j++) \n           {\n              System.out.print(a[j]);\n           }// end of for\n    }// end of printArry\n}//end of class\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1673694554,"post_id":75116174,"comment_id":132558237,"body_markdown":"Need to improve formatting.","body":"Need to improve formatting."},{"owner":{"account_id":9225176,"reputation":1092,"user_id":6853216,"display_name":"Brian"},"score":0,"creation_date":1673703583,"post_id":75116174,"comment_id":132559560,"body_markdown":"Is `IDnum` the primary key of this table?","body":"Is <code>IDnum</code> the primary key of this table?"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673719387,"creation_date":1673719387,"answer_id":75120167,"question_id":75116174,"body_markdown":"The code you are sharing comes from https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html. It works as expected, ensure that you are passing the correct partition key name for your table.\r\n\r\n```\r\npublic Item getItem(String hashKeyName,\r\n                    Object hashKeyValue)\r\n```\r\n\r\n[Reference](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/Table.html#getItem-java.lang.String-java.lang.Object-)","title":"how to read item from dynamoDb in aws?","body":"<p>The code you are sharing comes from <a href=\"https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html</a>. It works as expected, ensure that you are passing the correct partition key name for your table.</p>\n<pre><code>public Item getItem(String hashKeyName,\n                    Object hashKeyValue)\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/Table.html#getItem-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673719387,"creation_date":1673677304,"question_id":75116174,"body_markdown":"I got error when try to read item from dynamodb by using getItem()\r\n\r\nThis is my code snippet: \r\n\r\n    DynamoDB dynamoDB = new DynamoDB(new AmazonDynamoDBClient(new ProfileCredentialsProvider()));  \r\n    Table table = dynamoDB.getTable(&quot;ProductList&quot;);  \r\n    Item item = table.getItem(&quot;IDnum&quot;, 109);\r\n\r\ni got error like attribute mismatch\r\n","title":"how to read item from dynamoDb in aws?","body":"<p>I got error when try to read item from dynamodb by using getItem()</p>\n<p>This is my code snippet:</p>\n<pre><code>DynamoDB dynamoDB = new DynamoDB(new AmazonDynamoDBClient(new ProfileCredentialsProvider()));  \nTable table = dynamoDB.getTable(&quot;ProductList&quot;);  \nItem item = table.getItem(&quot;IDnum&quot;, 109);\n</code></pre>\n<p>i got error like attribute mismatch</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673639858,"creation_date":1673639858,"answer_id":75113935,"question_id":75113676,"body_markdown":"Try adding an `@ElementCollection` annotation:\r\n```Java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n\r\n  @ElementCollection(targetClass=java.time.DayOfWeek, fetch = FetchType.EAGER)\r\n  @Convert(converter = DayOfWeekConverter.class) \r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n```","title":"hibernate: How to read a set of enums stored in an array as custom codes","body":"<p>Try adding an <code>@ElementCollection</code> annotation:</p>\n<pre><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n\n  @ElementCollection(targetClass=java.time.DayOfWeek, fetch = FetchType.EAGER)\n  @Convert(converter = DayOfWeekConverter.class) \n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n</code></pre>\n"}],"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673719334,"creation_date":1673637881,"question_id":75113676,"body_markdown":"Subj is the question. Let me invite you to dive into some context. I make a brand-new DB containing the single table and fill that table with the single row:\r\n```postgres-sql\r\ncreate table schedule (\r\n  id int generated by default as identity (start with 100) primary key,\r\n  days_of_week char(3)[] not null check (true/*\r\n    here I unsure that days_of_week is a unidimensional\r\n    and it&#39;s not empty\r\n    and its length is equal to the length of an array\r\n    filled with unique values of days_of_week values only\r\n  */)\r\n);\r\n\r\ninsert into schedule (id, days_of_week) values\r\n(0, array[&#39;mon&#39;, &#39;tue&#39;, &#39;wed&#39;, &#39;thu&#39;, &#39;fri&#39;, &#39;sat&#39;, &#39;sun&#39;]);\r\n```\r\n...spawn the entity class (mixing lombok)\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n}\r\n\r\npublic interface ScheduleRepository\r\nextends CrudRepository&lt;Schedule, Integer&gt; {}\r\n```\r\n..and execute this setting with:\r\n```java\r\n@Bean\r\nCommandLineRunner printAllSchedules(ScheduleRepository repository) {\r\n  return args -&gt; {\r\n    for (Schedule schedule : repository.findAll()) {\r\n      log.info(schedule.toString());\r\n    }\r\n  };\r\n}\r\n```\r\nFinally, I get:\r\n```\r\n213347.962 I main/Application : Schedule(id=0)\r\n```\r\nVoil&#224;! Now I add the missing attribute to my entity:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n}\r\n```\r\nIt fails (expectedly):\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast\r\n  to class java.lang.Number (java.lang.String and java.lang.Number are in module\r\n  java.base of loader &#39;bootstrap&#39;)\r\n```\r\nAha, just a moment:\r\n```java\r\n  @Enumerated(EnumType.STRING)\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n```\r\nRun and get a different result:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.IllegalArgumentException: No enum constant\r\n  java.time.DayOfWeek.mon\r\n```\r\nObviously, it reads the array from `days_of_week` column and tries to convert `mon` into any `DayOfWeek`, and it fails expectedly. Let&#39;s try to put in the table &#171;correct&#187; strings for days of week:\r\n```postgres-sql\r\nalter table schedule\r\nalter column days_of_week\r\nset data type varchar(9)[];\r\n\r\nupdate schedule\r\nset days_of_week = array[&#39;SUNDAY&#39;, &#39;MONDAY&#39;]\r\nwhere id = 0;\r\n```\r\n...and run:\r\n```\r\n215032.322 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY])\r\n```\r\nNow, let&#39;s add this column:\r\n```postgres-sql\r\nalter table schedule\r\nadd column having_sex_day char(3)\r\nnot null default &#39;fri&#39;;\r\n-- today, January 13, 23 is Friday, not what you thought,\r\n-- and sex is what I&#39;m doing right now here, not what you thought\r\n```\r\n...touch the entity too:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  // ...\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n\r\n@Converter\r\npublic class DayOfWeekConverter\r\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\r\n  private static final Map&lt;DayOfWeek, String&gt; ENUM_ABBR = new HashMap&lt;&gt;(7, 1F);\r\n  private static final Map&lt;String, DayOfWeek&gt; ABBR_ENUM = new HashMap&lt;&gt;(7, 1F);\r\n  static {\r\n    for (DayOfWeek i : DayOfWeek.values()) {\r\n      String abbr = i.name().substring(0, 3).toLowerCase(Locale.ROOT);\r\n      ENUM_ABBR.put(i, abbr);\r\n      ABBR_ENUM.put(abbr, i);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public String convertToDatabaseColumn(DayOfWeek attribute) {\r\n    return ENUM_ABBR.get(attribute);\r\n  }\r\n\r\n  @Override\r\n  public DayOfWeek convertToEntityAttribute(String dbData) {\r\n    return ABBR_ENUM.get(dbData);\r\n  }\r\n}\r\n```\r\n...and run:\r\n```\r\n215956.497 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY], havingSexDay=FRIDAY)\r\n```\r\nOkay, guys, the final stroke: Now I want Hibernate to read daysOfWeek written as three-letter abbreviations using the same converter:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n  @Convert(converter = DayOfWeekConverter.class) // &lt;-- IDE warns me here\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n// The warning says: Converter&#39;s type DayOfWeek doesn&#39;t match\r\n// with the attribute type Set&lt;DayOfWeek&gt;. I know, bro, I know\r\n```\r\n...update the table:\r\n```postgres-sql\r\nupdate schedule\r\nset days_of_week = array[&#39;sun&#39;, &#39;mon&#39;]\r\nwhere id = 0;\r\n```\r\n...results in:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.IllegalArgumentException: No enum constant\r\n  java.time.DayOfWeek.mon\r\n```\r\nagain. Surrendering I make this change:\r\n```java\r\n@Converter(autoApply = true)\r\npublic class DayOfWeekConverter\r\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\r\n  // ...\r\n}\r\n```\r\n...which yields the same result.\r\n\r\nPlease, help me move back and forth, back and forth days of weeks stored abbreviated in an array.\r\n\r\nThank you!\r\n\r\n---\r\n\r\n**UPD:** @EricGeorge, [suggested](https://stackoverflow.com/a/75113935/2634207) to try an `@ElementCollection`. `@ElementCollection` is for values stored in a different table (relation), not in an array column. But I tried anyway:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException:\r\n  JDBC exception executing SQL [select d1_0.schedule_id,d1_0.days_of_week\r\n  from schedule_days_of_week d1_0 where d1_0.schedule_id=?]; SQL [n/a]\r\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing\r\n  SQL [select d1_0.schedule_id,d1_0.days_of_week from schedule_days_of_week d1_0\r\n  where d1_0.schedule_id=?]\r\nCaused by: org.postgresql.util.PSQLException:\r\n  ERROR: relation &quot;schedule_days_of_week&quot; does not exist\r\n```\r\nExpected. Sorry, Eric &#129335;&#127996;‚Äç‚ôÇÔ∏è","title":"hibernate: How to read a set of enums stored in an array as custom codes","body":"<p>Subj is the question. Let me invite you to dive into some context. I make a brand-new DB containing the single table and fill that table with the single row:</p>\n<pre><code>create table schedule (\n  id int generated by default as identity (start with 100) primary key,\n  days_of_week char(3)[] not null check (true/*\n    here I unsure that days_of_week is a unidimensional\n    and it's not empty\n    and its length is equal to the length of an array\n    filled with unique values of days_of_week values only\n  */)\n);\n\ninsert into schedule (id, days_of_week) values\n(0, array['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']);\n</code></pre>\n<p>...spawn the entity class (mixing lombok)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n}\n\npublic interface ScheduleRepository\nextends CrudRepository&lt;Schedule, Integer&gt; {}\n</code></pre>\n<p>..and execute this setting with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCommandLineRunner printAllSchedules(ScheduleRepository repository) {\n  return args -&gt; {\n    for (Schedule schedule : repository.findAll()) {\n      log.info(schedule.toString());\n    }\n  };\n}\n</code></pre>\n<p>Finally, I get:</p>\n<pre><code>213347.962 I main/Application : Schedule(id=0)\n</code></pre>\n<p>Voil√†! Now I add the missing attribute to my entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n}\n</code></pre>\n<p>It fails (expectedly):</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast\n  to class java.lang.Number (java.lang.String and java.lang.Number are in module\n  java.base of loader 'bootstrap')\n</code></pre>\n<p>Aha, just a moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Enumerated(EnumType.STRING)\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n</code></pre>\n<p>Run and get a different result:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.IllegalArgumentException: No enum constant\n  java.time.DayOfWeek.mon\n</code></pre>\n<p>Obviously, it reads the array from <code>days_of_week</code> column and tries to convert <code>mon</code> into any <code>DayOfWeek</code>, and it fails expectedly. Let's try to put in the table ¬´correct¬ª strings for days of week:</p>\n<pre><code>alter table schedule\nalter column days_of_week\nset data type varchar(9)[];\n\nupdate schedule\nset days_of_week = array['SUNDAY', 'MONDAY']\nwhere id = 0;\n</code></pre>\n<p>...and run:</p>\n<pre><code>215032.322 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY])\n</code></pre>\n<p>Now, let's add this column:</p>\n<pre><code>alter table schedule\nadd column having_sex_day char(3)\nnot null default 'fri';\n-- today, January 13, 23 is Friday, not what you thought,\n-- and sex is what I'm doing right now here, not what you thought\n</code></pre>\n<p>...touch the entity too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  // ...\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n\n@Converter\npublic class DayOfWeekConverter\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\n  private static final Map&lt;DayOfWeek, String&gt; ENUM_ABBR = new HashMap&lt;&gt;(7, 1F);\n  private static final Map&lt;String, DayOfWeek&gt; ABBR_ENUM = new HashMap&lt;&gt;(7, 1F);\n  static {\n    for (DayOfWeek i : DayOfWeek.values()) {\n      String abbr = i.name().substring(0, 3).toLowerCase(Locale.ROOT);\n      ENUM_ABBR.put(i, abbr);\n      ABBR_ENUM.put(abbr, i);\n    }\n  }\n\n  @Override\n  public String convertToDatabaseColumn(DayOfWeek attribute) {\n    return ENUM_ABBR.get(attribute);\n  }\n\n  @Override\n  public DayOfWeek convertToEntityAttribute(String dbData) {\n    return ABBR_ENUM.get(dbData);\n  }\n}\n</code></pre>\n<p>...and run:</p>\n<pre><code>215956.497 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY], havingSexDay=FRIDAY)\n</code></pre>\n<p>Okay, guys, the final stroke: Now I want Hibernate to read daysOfWeek written as three-letter abbreviations using the same converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n  @Convert(converter = DayOfWeekConverter.class) // &lt;-- IDE warns me here\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n// The warning says: Converter's type DayOfWeek doesn't match\n// with the attribute type Set&lt;DayOfWeek&gt;. I know, bro, I know\n</code></pre>\n<p>...update the table:</p>\n<pre><code>update schedule\nset days_of_week = array['sun', 'mon']\nwhere id = 0;\n</code></pre>\n<p>...results in:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.IllegalArgumentException: No enum constant\n  java.time.DayOfWeek.mon\n</code></pre>\n<p>again. Surrendering I make this change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class DayOfWeekConverter\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\n  // ...\n}\n</code></pre>\n<p>...which yields the same result.</p>\n<p>Please, help me move back and forth, back and forth days of weeks stored abbreviated in an array.</p>\n<p>Thank you!</p>\n<hr />\n<p><strong>UPD:</strong> @EricGeorge, <a href=\"https://stackoverflow.com/a/75113935/2634207\">suggested</a> to try an <code>@ElementCollection</code>. <code>@ElementCollection</code> is for values stored in a different table (relation), not in an array column. But I tried anyway:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException:\n  JDBC exception executing SQL [select d1_0.schedule_id,d1_0.days_of_week\n  from schedule_days_of_week d1_0 where d1_0.schedule_id=?]; SQL [n/a]\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing\n  SQL [select d1_0.schedule_id,d1_0.days_of_week from schedule_days_of_week d1_0\n  where d1_0.schedule_id=?]\nCaused by: org.postgresql.util.PSQLException:\n  ERROR: relation &quot;schedule_days_of_week&quot; does not exist\n</code></pre>\n<p>Expected. Sorry, Eric ü§∑üèº‚Äç‚ôÇÔ∏è</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":928900,"reputation":2486,"user_id":959156,"accept_rate":100,"display_name":"Mostafa Zeinali"},"score":0,"creation_date":1673716760,"post_id":75101168,"comment_id":132562201,"body_markdown":"1. Does that directory exist? 2. Does it have a valid installation of Java in it (With the bin directory and all) 3. Does the version of Java (1.8) match the version of your source and compilation of your project. You might be using Post 9 (Modular) Java in your project but referencing a 1.8.","body":"1. Does that directory exist? 2. Does it have a valid installation of Java in it (With the bin directory and all) 3. Does the version of Java (1.8) match the version of your source and compilation of your project. You might be using Post 9 (Modular) Java in your project but referencing a 1.8."}],"answers":[{"tags":[],"owner":{"account_id":15203705,"reputation":914,"user_id":10970871,"display_name":"Milan Surelia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594992,"creation_date":1673594992,"answer_id":75106045,"question_id":75101168,"body_markdown":"You need to add path for HOME directory of JDK Folder\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_211\\Contents\\Home","title":"why is this an invalid directory?","body":"<p>You need to add path for HOME directory of JDK Folder</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_211\\Contents\\Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673708431,"creation_date":1673708431,"answer_id":75118878,"question_id":75101168,"body_markdown":"i had same problem the solution i dowloaded Microsoft Visual C++ Redistributable from here\r\nhttps://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\r\n\r\nhttps://issuetracker.google.com/issues/247854802#comment12\r\n","title":"why is this an invalid directory?","body":"<p>i had same problem the solution i dowloaded Microsoft Visual C++ Redistributable from here\n<a href=\"https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170</a></p>\n<p><a href=\"https://issuetracker.google.com/issues/247854802#comment12\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/247854802#comment12</a></p>\n"}],"owner":{"account_id":26718899,"reputation":3,"user_id":20323098,"display_name":"Al&#235;xxxiy69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673719329,"creation_date":1673550268,"question_id":75101168,"body_markdown":"&gt;ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_211\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nI had set the direction in the System Properties, but it didn&#39;t help","title":"why is this an invalid directory?","body":"<blockquote>\n<p>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_211\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nException: Gradle task assembleDebug failed with exit code 1</p>\n</blockquote>\n<p>I had set the direction in the System Properties, but it didn't help</p>\n"},{"tags":["java","intellij-idea","compilation"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1598645101,"post_id":63640216,"comment_id":112536851,"body_markdown":"When do you get the &quot;Bad class file&quot; error?","body":"When do you get the &quot;Bad class file&quot; error?"},{"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"score":0,"creation_date":1598647163,"post_id":63640216,"comment_id":112537559,"body_markdown":"When trying to build.","body":"When trying to build."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1598647182,"post_id":63640216,"comment_id":112537569,"body_markdown":"This project seems to use some library/classes that are compiled with Java 11 and will not work with Java 8. Does it help if you change the project SDK to 11?","body":"This project seems to use some library/classes that are compiled with Java 11 and will not work with Java 8. Does it help if you change the project SDK to 11?"},{"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"score":0,"creation_date":1598648134,"post_id":63640216,"comment_id":112537882,"body_markdown":"I uninstalled it but it was previously set to 11 and I got the &quot;invalid source release: 11&quot; error.","body":"I uninstalled it but it was previously set to 11 and I got the &quot;invalid source release: 11&quot; error."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1598650853,"post_id":63640216,"comment_id":112538631,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":71523,"reputation":5162,"user_id":206877,"accept_rate":100,"display_name":"kevoroid"},"score":0,"creation_date":1607420166,"post_id":63640216,"comment_id":115260138,"body_markdown":"Having the same issue since i upgraded intelliJ to 2020.3 !! its like Android team and intelliJ team dont talk to each other! now intelliJ wants android 11 to compile my project but Android only works on 8! once you upgrade to 11, Android gives javax.xml.bind.JAXBException err!","body":"Having the same issue since i upgraded intelliJ to 2020.3 !! its like Android team and intelliJ team dont talk to each other! now intelliJ wants android 11 to compile my project but Android only works on 8! once you upgrade to 11, Android gives javax.xml.bind.JAXBException err!"}],"answers":[{"tags":[],"owner":{"account_id":179088,"reputation":555,"user_id":411495,"display_name":"Ward Muylaert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671112259,"creation_date":1671112259,"answer_id":74812615,"question_id":63640216,"body_markdown":"I got the `class file has wrong version 55.0, should be 52.0` on the command line when compiling a project with Maven while my Java was set to version 8/1.8. I believe CrazyCoder was correct in the comments to the question that it had to do with the libraries/classes being used. I managed to compile the project by switching my Java version to 11.","title":"Class file has wrong version 55.0, should be 52.0 (IntelliJ)","body":"<p>I got the <code>class file has wrong version 55.0, should be 52.0</code> on the command line when compiling a project with Maven while my Java was set to version 8/1.8. I believe CrazyCoder was correct in the comments to the question that it had to do with the libraries/classes being used. I managed to compile the project by switching my Java version to 11.</p>\n"}],"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16454,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1673719265,"creation_date":1598644875,"question_id":63640216,"body_markdown":"Originally, when trying to compile the maven project in IntelliJ, I got the following error:\r\n\r\n```\r\nError:java: invalid source release: 11\r\n```\r\n\r\nI then began by following some of the solutions here: &lt;https://stackoverflow.com/questions/25878045/errorjava-invalid-source-release-8-in-intellij-what-does-it-mean/26009627#26009627&gt;\r\n\r\nThe previous projects I worked on were in Java 8, so after changing SDKs, language levels, JREs, etc. to Java 8, I have gotten this error:\r\n\r\n```\r\nBad class file. class file has wrong version 55.0, should be 52.0\r\n```\r\n\r\nI know this is essentially saying the class file is Java 11 and should be 8, but is there anything else I am missing that could still possibly be trying to use Java 11? I even uninstalled Java 11, but am still getting the same error.\r\n","title":"Class file has wrong version 55.0, should be 52.0 (IntelliJ)","body":"<p>Originally, when trying to compile the maven project in IntelliJ, I got the following error:</p>\n<pre><code>Error:java: invalid source release: 11\n</code></pre>\n<p>I then began by following some of the solutions here: <a href=\"https://stackoverflow.com/questions/25878045/errorjava-invalid-source-release-8-in-intellij-what-does-it-mean/26009627#26009627\">Error:java: invalid source release: 8 in Intellij. What does it mean?</a></p>\n<p>The previous projects I worked on were in Java 8, so after changing SDKs, language levels, JREs, etc. to Java 8, I have gotten this error:</p>\n<pre><code>Bad class file. class file has wrong version 55.0, should be 52.0\n</code></pre>\n<p>I know this is essentially saying the class file is Java 11 and should be 8, but is there anything else I am missing that could still possibly be trying to use Java 11? I even uninstalled Java 11, but am still getting the same error.</p>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673719226,"creation_date":1673719226,"answer_id":75120155,"question_id":75117735,"body_markdown":"There are two issues that I see with the workflow...\r\n\r\n1. You shouldn&#39;t be doing a `inProgressSessionStream.broadcast()`\r\n1. For efficient async IO, you want to use Flink&#39;s [AsyncIO support][1], and then follow that with a DiscardingSink.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/","title":"Sink in Flink blocks the task execution","body":"<p>There are two issues that I see with the workflow...</p>\n<ol>\n<li>You shouldn't be doing a <code>inProgressSessionStream.broadcast()</code></li>\n<li>For efficient async IO, you want to use Flink's <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/\" rel=\"nofollow noreferrer\">AsyncIO support</a>, and then follow that with a DiscardingSink.</li>\n</ol>\n"}],"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673719226,"creation_date":1673697467,"question_id":75117735,"body_markdown":"I have a Sink in Flink, which extends from RichSinkFunction.\r\nIt delays the execution of all the Flink task (if I remove it, it takes a half, from 10&#39; to less than 5&#39;). This is its configuration:\r\n\r\n    OutputTag&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionOutputTag = new OutputTag&lt;&gt;(ProcessorConstants.IN_PROGRESS_SESSIONS_SINK_NAME) {};           \r\n        \r\n    SingleOutputStreamOperator&lt;SessionAccumulator&gt; aggregatedSessionStream =\r\n        collectionMessageDataStream\r\n            .keyBy(CollectionMessage::getSessionId)\r\n            .process(sessionKeyedProcessFunction)\r\n            .uid(&quot;SessionWindow&quot;)\r\n            .name(&quot;Session Window&quot;)\r\n            .setParallelism(4);\r\n                \r\n    DataStream&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionStream =  aggregatedSessionStream\r\n                                .getSideOutput(inProgressSessionOutputTag);\r\n                    \r\n    inProgressSessionStream\r\n        .broadcast()\r\n        .addSink(new SessionAPISink(config))\r\n        .uid(&quot;Sessions side output&quot;)\r\n        .name(&quot;Sessions side output&quot;);\r\n\r\nThis Sink sends massive data by POST to an endpoint, this POST call is asynchronous (as far as I know like the Sink call). I use the standard call using the output from *KeyedBroadcastProcessFunction.ReadOnlyContext* **ctx**.\r\n\r\n    ctx.output(outputTag, message);\r\n\r\nHow can I do to make this Sink not to block the task execution? ","title":"Sink in Flink blocks the task execution","body":"<p>I have a Sink in Flink, which extends from RichSinkFunction.\nIt delays the execution of all the Flink task (if I remove it, it takes a half, from 10' to less than 5'). This is its configuration:</p>\n<pre><code>OutputTag&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionOutputTag = new OutputTag&lt;&gt;(ProcessorConstants.IN_PROGRESS_SESSIONS_SINK_NAME) {};           \n    \nSingleOutputStreamOperator&lt;SessionAccumulator&gt; aggregatedSessionStream =\n    collectionMessageDataStream\n        .keyBy(CollectionMessage::getSessionId)\n        .process(sessionKeyedProcessFunction)\n        .uid(&quot;SessionWindow&quot;)\n        .name(&quot;Session Window&quot;)\n        .setParallelism(4);\n            \nDataStream&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionStream =  aggregatedSessionStream\n                            .getSideOutput(inProgressSessionOutputTag);\n                \ninProgressSessionStream\n    .broadcast()\n    .addSink(new SessionAPISink(config))\n    .uid(&quot;Sessions side output&quot;)\n    .name(&quot;Sessions side output&quot;);\n</code></pre>\n<p>This Sink sends massive data by POST to an endpoint, this POST call is asynchronous (as far as I know like the Sink call). I use the standard call using the output from <em>KeyedBroadcastProcessFunction.ReadOnlyContext</em> <strong>ctx</strong>.</p>\n<pre><code>ctx.output(outputTag, message);\n</code></pre>\n<p>How can I do to make this Sink not to block the task execution?</p>\n"},{"tags":["java","logging","slf4j","logback"],"comments":[{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":9,"creation_date":1341565809,"post_id":11359187,"comment_id":14962717,"body_markdown":"I won&#39;t ask a closing, as this well presented question is interesting, but it&#39;s borderline if you read the FAQ : it will be hard to find a definitive unique answer not based on opinions.","body":"I won&#39;t ask a closing, as this well presented question is interesting, but it&#39;s borderline if you read the FAQ : it will be hard to find a definitive unique answer not based on opinions."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1341566041,"post_id":11359187,"comment_id":14962827,"body_markdown":"What you may have missed is that many framework authors gave up trying to use JUL and thus it&#39;s often harder to use it if you don&#39;t simply make vanilla java.","body":"What you may have missed is that many framework authors gave up trying to use JUL and thus it&#39;s often harder to use it if you don&#39;t simply make vanilla java."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1341566347,"post_id":11359187,"comment_id":14962961,"body_markdown":"Thanks, dystroy, I&#39;m aware that it is difficult to find a unique answer. I&#39;ll reward the answer badge to the one that comes up with the one or several compelling reasons why I should not go with the JUL of today. This reason/reasons _must_ exist, otherwise all these facades and logging implementations wouldn&#39;t be in use.","body":"Thanks, dystroy, I&#39;m aware that it is difficult to find a unique answer. I&#39;ll reward the answer badge to the one that comes up with the one or several compelling reasons why I should not go with the JUL of today. This reason/reasons <i>must</i> exist, otherwise all these facades and logging implementations wouldn&#39;t be in use."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":3,"creation_date":1341573990,"post_id":11359187,"comment_id":14966059,"body_markdown":"It is misleading to use the generic term &quot;logging-framework-X&quot; when referring to to popular logging framework(s) predating jul. You should use &quot;log4j&quot; in this case. Other popular frameworks such as SLF4J and logback came well after j.u.l was released.","body":"It is misleading to use the generic term &quot;logging-framework-X&quot; when referring to to popular logging framework(s) predating jul. You should use &quot;log4j&quot; in this case. Other popular frameworks such as SLF4J and logback came well after j.u.l was released."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1341920497,"post_id":11359187,"comment_id":15050001,"body_markdown":"There is one output handler that is very useful.  The one that sends a mail with the previous X log entries whenever a given criteria is full-filled.  That is quite useful when triaging.","body":"There is one output handler that is very useful.  The one that sends a mail with the previous X log entries whenever a given criteria is full-filled.  That is quite useful when triaging."},{"owner":{"account_id":1810587,"reputation":1264,"user_id":1646741,"accept_rate":75,"display_name":"Sami Korhonen"},"score":0,"creation_date":1360621033,"post_id":11359187,"comment_id":20764411,"body_markdown":"You should use .logp in order to avoid getSourceClassName call","body":"You should use .logp in order to avoid getSourceClassName call"},{"owner":{"account_id":1312307,"reputation":498,"user_id":1260069,"accept_rate":80,"display_name":"Acuariano"},"score":0,"creation_date":1466698204,"post_id":11359187,"comment_id":63437175,"body_markdown":"peterh or @Ceki, if you can add a comment on how things changed in the las 4 years, this would make this question/answers a lot more valuable.","body":"peterh or @Ceki, if you can add a comment on how things changed in the las 4 years, this would make this question/answers a lot more valuable."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1466841390,"post_id":11359187,"comment_id":63493143,"body_markdown":"@Acuariano. I&#39;ve done a couple of APIs since then and only used SLF4J directly in one of these. Since then Netty project has taught me a way to create an API which is independent of all these logging preferences that people may have. I think that is the way forward for APIs.","body":"@Acuariano. I&#39;ve done a couple of APIs since then and only used SLF4J directly in one of these. Since then Netty project has taught me a way to create an API which is independent of all these logging preferences that people may have. I think that is the way forward for APIs."},{"owner":{"account_id":1312307,"reputation":498,"user_id":1260069,"accept_rate":80,"display_name":"Acuariano"},"score":0,"creation_date":1467121263,"post_id":11359187,"comment_id":63592308,"body_markdown":"Any pointers, reference or links on how that would go?","body":"Any pointers, reference or links on how that would go?"},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1467125670,"post_id":11359187,"comment_id":63595682,"body_markdown":"@Acuariano. Netty project is simply using Reflection to test what logging framework is available on classpath. See [here](https://github.com/netty/netty/tree/4.1/common/src/main/java/io/netty/util/internal/logging) for source. See `InternalLoggerFactory.java`.","body":"@Acuariano. Netty project is simply using Reflection to test what logging framework is available on classpath. See <a href=\"https://github.com/netty/netty/tree/4.1/common/src/main/java/io/netty/util/internal/logging\" rel=\"nofollow noreferrer\">here</a> for source. See <code>InternalLoggerFactory.java</code>."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ≈Ωi≈æka"},"score":0,"creation_date":1478107790,"post_id":11359187,"comment_id":68024077,"body_markdown":"One more reason against SLF4J/log4j: Broken by design for modularized classloading. We use JBoss Modules / Forge in our project, and log4j simply looks for log4j.properties resource through a classloader, so it ends up with one from any dependency. Which is typically not only wrong one, but also it&#39;s not deterministic - because modules loading is parallelized. So you end up with broken logging, and it&#39;s broken differently each time.","body":"One more reason against SLF4J/log4j: Broken by design for modularized classloading. We use JBoss Modules / Forge in our project, and log4j simply looks for log4j.properties resource through a classloader, so it ends up with one from any dependency. Which is typically not only wrong one, but also it&#39;s not deterministic - because modules loading is parallelized. So you end up with broken logging, and it&#39;s broken differently each time."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1501021579,"post_id":11359187,"comment_id":77591421,"body_markdown":"No matter which java framework you use today, the core of it was written by @Ceki . JUL diverged around Java 1.4. The reasons for re-architecting were laid out in a 1999 article by Ceki.  With Ceki&#39;s answer, you have the answer of someone who has essentially done nothing but engineer java logging solutions for 20 years +/-, and who actually wrote most of the viable alternatives.","body":"No matter which java framework you use today, the core of it was written by @Ceki . JUL diverged around Java 1.4. The reasons for re-architecting were laid out in a 1999 article by Ceki.  With Ceki&#39;s answer, you have the answer of someone who has essentially done nothing but engineer java logging solutions for 20 years +/-, and who actually wrote most of the viable alternatives."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1528834739,"post_id":11359187,"comment_id":88655268,"body_markdown":"nice! question? any chance though you could modernize it for Java 8? since java 8 updated the JUL APIs... (specifically looking at performance analysis, and maybe trying to get people to look at the points like JUL supports callbacks, but SLF4j doesn&#39;t.","body":"nice! question? any chance though you could modernize it for Java 8? since java 8 updated the JUL APIs... (specifically looking at performance analysis, and maybe trying to get people to look at the points like JUL supports callbacks, but SLF4j doesn&#39;t."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1581673308,"post_id":11359187,"comment_id":106523172,"body_markdown":"@xenoterracide even more important would be an update to Java&#160;9, as it introduced `java.lang.System.Logger`, which is an *interface*, which can be redirected to whatever actual logging framework you want, as long as that framework caught up and provides an implementation of that interface. Combined with the modularization, you could even deploy an application with a bundled JRE not containing `java.util.logging`, if you prefer a different framework.","body":"@xenoterracide even more important would be an update to Java 9, as it introduced <code>java.lang.System.Logger</code>, which is an <i>interface</i>, which can be redirected to whatever actual logging framework you want, as long as that framework caught up and provides an implementation of that interface. Combined with the modularization, you could even deploy an application with a bundled JRE not containing <code>java.util.logging</code>, if you prefer a different framework."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664703098,"post_id":11359187,"comment_id":130528619,"body_markdown":"Link to `java.lang.System.Logger`: https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html","body":"Link to <code>java.lang.System.Logger</code>: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1675171261,"post_id":11359187,"comment_id":132867512,"body_markdown":"Considering JUL can be redirected to other backends, why not check how it being redirected to slf4j or other facades would perform?","body":"Considering JUL can be redirected to other backends, why not check how it being redirected to slf4j or other facades would perform?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1639311168,"creation_date":1341566244,"answer_id":11359320,"question_id":11359187,"body_markdown":"1. `java.util.logging` was introduced in Java 1.4. There were uses for logging before that. That&#39;s why many other logging APIs exist. Those APIs were used heavily before Java 1.4 and thus had a great market share that didn&#39;t just drop to zero when 1.4 was release.\r\n\r\n2. JUL didn&#39;t start out all that great. Many of the things you mentioned were a lot worse in 1.4 and only got better in 1.5 (and I guess in 6 as well, but I&#39;m not too sure).\r\n\r\n3. JUL isn&#39;t well suited for multiple applications with different configurations in the same JVM (think multiple web applications that should not interact). Tomcat needs to jump through some hoops to get that working (effectively re-implementing JUL if I understood that correctly).\r\n\r\n4. You can&#39;t always influence what logging framework your libraries use. Therefore using SLF4J (which is actually just a very thin API layer above other libraries) helps keep a somewhat consistent picture of the entire logging world (so you can decide the underlying logging framework while still having library logging in the same system).\r\n\r\n5. Libraries can&#39;t easily change. If a previous version of a library used to use logging-library-X it can&#39;t easily switch to logging-library-Y (for example JUL), even if the latter is clearly superior. Any user of that library would need to learn the new logging framework and (at least) reconfigure their logging. That&#39;s a big no-no, especially when it brings no apparent gain to most people.\r\n\r\nHaving said all that I think JUL is *at least* a valid alternative to other logging frameworks these days.","title":"Why not use java.util.logging?","body":"<ol>\n<li><p><code>java.util.logging</code> was introduced in Java 1.4. There were uses for logging before that. That's why many other logging APIs exist. Those APIs were used heavily before Java 1.4 and thus had a great market share that didn't just drop to zero when 1.4 was release.</p>\n</li>\n<li><p>JUL didn't start out all that great. Many of the things you mentioned were a lot worse in 1.4 and only got better in 1.5 (and I guess in 6 as well, but I'm not too sure).</p>\n</li>\n<li><p>JUL isn't well suited for multiple applications with different configurations in the same JVM (think multiple web applications that should not interact). Tomcat needs to jump through some hoops to get that working (effectively re-implementing JUL if I understood that correctly).</p>\n</li>\n<li><p>You can't always influence what logging framework your libraries use. Therefore using SLF4J (which is actually just a very thin API layer above other libraries) helps keep a somewhat consistent picture of the entire logging world (so you can decide the underlying logging framework while still having library logging in the same system).</p>\n</li>\n<li><p>Libraries can't easily change. If a previous version of a library used to use logging-library-X it can't easily switch to logging-library-Y (for example JUL), even if the latter is clearly superior. Any user of that library would need to learn the new logging framework and (at least) reconfigure their logging. That's a big no-no, especially when it brings no apparent gain to most people.</p>\n</li>\n</ol>\n<p>Having said all that I think JUL is <em>at least</em> a valid alternative to other logging frameworks these days.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1341566385,"creation_date":1341566385,"answer_id":11359358,"question_id":11359187,"body_markdown":"IMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user. \r\n\r\nMaybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc.) and prefers continuing using Log4j or LogBack, rather than configuring jul. No problem: slf4j allows that. Is it a wise choice to use Log4j over jul? Maybe, maybe not. But you don&#39;t care. Let the end user choose what he prefers.","title":"Why not use java.util.logging?","body":"<p>IMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user. </p>\n\n<p>Maybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc.) and prefers continuing using Log4j or LogBack, rather than configuring jul. No problem: slf4j allows that. Is it a wise choice to use Log4j over jul? Maybe, maybe not. But you don't care. Let the end user choose what he prefers.</p>\n"},{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":4,"up_vote_count":258,"is_accepted":true,"score":254,"last_activity_date":1543246254,"creation_date":1341570772,"answer_id":11360517,"question_id":11359187,"body_markdown":"**Disclaimer**: I am the founder of log4j, SLF4J and logback projects. \r\n\r\nThere are objective reasons for preferring SLF4J. For one, **SLF4J allows the end-user the liberty to choose the underlying logging framework**. In addition, savvier users tend to prefer [logback which offers capabilities beyond log4j][1], with j.u.l falling way behind. Feature-wise j.u.l  may be sufficient for some users but for many others it just isn&#39;t. In a nutshell, if logging is important to you, you would want to use SLF4J with logback as the underlying implementation. If logging is unimportant, j.u.l is fine.\r\n\r\nHowever, as an oss developer, you need to take into account the preferences of your users and not just your own. It follows that you should adopt SLF4J not because *you* are convinced that SLF4J is better than j.u.l but because most Java developers currently (July 2012) prefer SLF4J as their logging API. If ultimately you decide not to care about popular opinion, consider the following facts:\r\n\r\n 1. those who prefer j.u.l do so out of convenience because j.u.l is bundled with the JDK. To my knowledge there are no other objective arguments in favor of j.u.l.\r\n 2. your own preference for j.u.l is just that, *a preference*.\r\n\r\nThus, holding &quot;hard facts&quot; above public opinion, while seemingly brave, is a logical fallacy in this case.\r\n\r\nIf still not convinced, [JB Nizet][3] makes an additional and potent argument:\r\n\r\n&gt; Except the end user could have already done this customization for his\r\n&gt; own code, or another library that uses log4j or logback. j.u.l is\r\n&gt; extensible, but having to extend logback, j.u.l, log4j and God only\r\n&gt; knows which other logging framework because he uses four libraries that\r\n&gt; use four different logging frameworks is cumbersome. By using SLF4J, you\r\n&gt; allow him to configure the logging frameworks he wants, not the one\r\n&gt; you have chosen. **Remember that a typical project uses myriads of\r\n&gt; libraries, and not just yours**.\r\n\r\n\r\nIf for whatever reason you hate the SLF4J API and using it will snuff the fun out of your work, then by all means go for j.u.l. After all, there are means to [redirect j.u.l to SLF4J][2].\r\n\r\nBy the way, j.u.l parametrization is at least 10 times slower than SLF4J&#39;s which ends up making a noticeable difference.\r\n \r\n\r\n\r\n  [1]: http://logback.qos.ch/reasonsToSwitch.html\r\n  [2]: http://www.slf4j.org/legacy.html#jul-to-slf4j\r\n  [3]: https://stackoverflow.com/users/571407/jb-nizet","title":"Why not use java.util.logging?","body":"<p><strong>Disclaimer</strong>: I am the founder of log4j, SLF4J and logback projects. </p>\n\n<p>There are objective reasons for preferring SLF4J. For one, <strong>SLF4J allows the end-user the liberty to choose the underlying logging framework</strong>. In addition, savvier users tend to prefer <a href=\"http://logback.qos.ch/reasonsToSwitch.html\" rel=\"noreferrer\">logback which offers capabilities beyond log4j</a>, with j.u.l falling way behind. Feature-wise j.u.l  may be sufficient for some users but for many others it just isn't. In a nutshell, if logging is important to you, you would want to use SLF4J with logback as the underlying implementation. If logging is unimportant, j.u.l is fine.</p>\n\n<p>However, as an oss developer, you need to take into account the preferences of your users and not just your own. It follows that you should adopt SLF4J not because <em>you</em> are convinced that SLF4J is better than j.u.l but because most Java developers currently (July 2012) prefer SLF4J as their logging API. If ultimately you decide not to care about popular opinion, consider the following facts:</p>\n\n<ol>\n<li>those who prefer j.u.l do so out of convenience because j.u.l is bundled with the JDK. To my knowledge there are no other objective arguments in favor of j.u.l.</li>\n<li>your own preference for j.u.l is just that, <em>a preference</em>.</li>\n</ol>\n\n<p>Thus, holding \"hard facts\" above public opinion, while seemingly brave, is a logical fallacy in this case.</p>\n\n<p>If still not convinced, <a href=\"https://stackoverflow.com/users/571407/jb-nizet\">JB Nizet</a> makes an additional and potent argument:</p>\n\n<blockquote>\n  <p>Except the end user could have already done this customization for his\n  own code, or another library that uses log4j or logback. j.u.l is\n  extensible, but having to extend logback, j.u.l, log4j and God only\n  knows which other logging framework because he uses four libraries that\n  use four different logging frameworks is cumbersome. By using SLF4J, you\n  allow him to configure the logging frameworks he wants, not the one\n  you have chosen. <strong>Remember that a typical project uses myriads of\n  libraries, and not just yours</strong>.</p>\n</blockquote>\n\n<p>If for whatever reason you hate the SLF4J API and using it will snuff the fun out of your work, then by all means go for j.u.l. After all, there are means to <a href=\"http://www.slf4j.org/legacy.html#jul-to-slf4j\" rel=\"noreferrer\">redirect j.u.l to SLF4J</a>.</p>\n\n<p>By the way, j.u.l parametrization is at least 10 times slower than SLF4J's which ends up making a noticeable difference.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1341582123,"creation_date":1341582123,"answer_id":11363369,"question_id":11359187,"body_markdown":"I started, like you I suspect, using JUL because it was the easiest one to get going immediately. Over the years, however, I have come to wish I had spent a little more time choosing.\r\n\r\nMy main issue now is that we have a substantial amount of &#39;library&#39; code that is used in many applications and they all use JUL. Whenever I use these tools in a web-service type app the logging just disappears or goes somewhere unpredictable or strange.\r\n\r\nOur solution was to add a facade to the library code that meant that the library log calls did not change but were dynamically redirected to whatever logging mechanism is available. When included in a POJO tool they are directed to JUL but when deployed as a web-app they are redirected to LogBack.\r\n\r\nOur regret - of course - is that the library code does not use parameterised logging but this can now be retrofitted as and when needed.\r\n\r\nWe used slf4j to build the facade.","title":"Why not use java.util.logging?","body":"<p>I started, like you I suspect, using JUL because it was the easiest one to get going immediately. Over the years, however, I have come to wish I had spent a little more time choosing.</p>\n\n<p>My main issue now is that we have a substantial amount of 'library' code that is used in many applications and they all use JUL. Whenever I use these tools in a web-service type app the logging just disappears or goes somewhere unpredictable or strange.</p>\n\n<p>Our solution was to add a facade to the library code that meant that the library log calls did not change but were dynamically redirected to whatever logging mechanism is available. When included in a POJO tool they are directed to JUL but when deployed as a web-app they are redirected to LogBack.</p>\n\n<p>Our regret - of course - is that the library code does not use parameterised logging but this can now be retrofitted as and when needed.</p>\n\n<p>We used slf4j to build the facade.</p>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1860,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480080299,"creation_date":1480080299,"answer_id":40806112,"question_id":11359187,"body_markdown":"I ran jul against slf4j-1.7.21 over logback-1.1.7, output to an SSD, Java 1.8, Win64\r\n\r\njul ran 48449 ms, logback 27185 ms for an 1M loop.\r\n\r\nStill, a little more speed and a bit nicer API is not worth 3 libraries and 800K for me.\r\n\r\n    package log;\r\n    \r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class LogJUL\r\n    {\r\n    \tfinal static Logger logger = Logger.getLogger(LogJUL.class.getSimpleName());\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint N = 1024*1024;\r\n    \t\t\r\n    \t\tlong l = System.currentTimeMillis();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; N; i++)\r\n    \t\t{\r\n    \t\t\tLong lc = System.currentTimeMillis();\r\n    \t\t\t\r\n    \t\t\tObject[] o = { lc };\r\n    \t\t\t\r\n    \t\t\tlogger.log(Level.INFO,&quot;Epoch time {0}&quot;, o);\r\n    \t\t}\r\n    \t\t\r\n    \t\tl = System.currentTimeMillis() - l;\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;time (ms) %d%n&quot;, l);\r\n    \t}\r\n    }\r\n\r\nand\r\n\r\n    package log;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class LogSLF\r\n    {\r\n    \tstatic Logger logger = LoggerFactory.getLogger(LogSLF.class);\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint N = 1024*1024;\r\n    \t\t\r\n    \t\tlong l = System.currentTimeMillis();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; N; i++)\r\n    \t\t{\r\n    \t\t\tLong lc = System.currentTimeMillis();\r\n    \t\t\t\r\n    \t\t\tlogger.info(&quot;Epoch time {}&quot;, lc);\r\n    \t\t}\r\n    \t\t\r\n    \t\tl = System.currentTimeMillis() - l;\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;time (ms) %d%n&quot;, l);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Why not use java.util.logging?","body":"<p>I ran jul against slf4j-1.7.21 over logback-1.1.7, output to an SSD, Java 1.8, Win64</p>\n\n<p>jul ran 48449 ms, logback 27185 ms for an 1M loop.</p>\n\n<p>Still, a little more speed and a bit nicer API is not worth 3 libraries and 800K for me.</p>\n\n<pre><code>package log;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class LogJUL\n{\n    final static Logger logger = Logger.getLogger(LogJUL.class.getSimpleName());\n\n    public static void main(String[] args) \n    {\n        int N = 1024*1024;\n\n        long l = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; N; i++)\n        {\n            Long lc = System.currentTimeMillis();\n\n            Object[] o = { lc };\n\n            logger.log(Level.INFO,\"Epoch time {0}\", o);\n        }\n\n        l = System.currentTimeMillis() - l;\n\n        System.out.printf(\"time (ms) %d%n\", l);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package log;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class LogSLF\n{\n    static Logger logger = LoggerFactory.getLogger(LogSLF.class);\n\n\n    public static void main(String[] args) \n    {\n        int N = 1024*1024;\n\n        long l = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; N; i++)\n        {\n            Long lc = System.currentTimeMillis();\n\n            logger.info(\"Epoch time {}\", lc);\n        }\n\n        l = System.currentTimeMillis() - l;\n\n        System.out.printf(\"time (ms) %d%n\", l);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673718855,"creation_date":1666842401,"answer_id":74216588,"question_id":11359187,"body_markdown":"Reasons why not JUL: \r\n\r\n1. User-unfriendly API design - The clumsy message arguments syntax, the strange definition of log levels... The list goes on.\r\n\r\n2. It is a logging implementation and not a Facade. \r\n\r\nAs the quoted blog post points out, it is a NON-goal of Java 9 System.Logger either to define a general-purpose interface for logging. Both SLF4J and Apache Commons Logging have attempted such Facade goal but IMHO both failed by providing too much implementation instead of sticking to the simple goal of a well-defined logging facade. E.g., a real logging facade would never be compared to any logging implementation on &quot;performance&quot; because a facade itself isn&#39;t expected to be logging.\r\n\r\nDisclaimer: For logging facade, I re-invent the wheel and use my own - https://github.com/elf4j/elf4j/","title":"Why not use java.util.logging?","body":"<p>Reasons why not JUL:</p>\n<ol>\n<li><p>User-unfriendly API design - The clumsy message arguments syntax, the strange definition of log levels... The list goes on.</p>\n</li>\n<li><p>It is a logging implementation and not a Facade.</p>\n</li>\n</ol>\n<p>As the quoted blog post points out, it is a NON-goal of Java 9 System.Logger either to define a general-purpose interface for logging. Both SLF4J and Apache Commons Logging have attempted such Facade goal but IMHO both failed by providing too much implementation instead of sticking to the simple goal of a well-defined logging facade. E.g., a real logging facade would never be compared to any logging implementation on &quot;performance&quot; because a facade itself isn't expected to be logging.</p>\n<p>Disclaimer: For logging facade, I re-invent the wheel and use my own - <a href=\"https://github.com/elf4j/elf4j/\" rel=\"nofollow noreferrer\">https://github.com/elf4j/elf4j/</a></p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87790,"favorite_count":0,"down_vote_count":1,"up_vote_count":439,"accepted_answer_id":11360517,"answer_count":6,"score":438,"last_activity_date":1673718855,"creation_date":1341565667,"question_id":11359187,"body_markdown":"For the first time in my life I find myself in a position where I&#39;m writing a Java API that will be open sourced. Hopefully to be included in many other projects.\r\n\r\nFor logging I (and indeed the people I work with) have always used JUL (`java.util.logging`) and never had any issues with it. However now I need to understand in more detail what I should do for my API development. I&#39;ve done some research on this and with the information I&#39;ve got I just get more confused. Hence this post.\r\n\r\nSince I come from JUL I&#39;m biased on that. My knowledge of the rest is not that big.\r\n\r\nFrom the research I&#39;ve done I&#39;ve come up with these reasons why people do not like JUL:\r\n\r\n1. *&quot;I started developing in Java long before Sun released JUL and it was just easier for me to continue with logging-framework-X rather than to learn something new&quot;*. Hmm. I&#39;m not kidding, this is actually what people say. With this argument we could all be doing COBOL. (however I can certainly relate to this being a lazy dude myself)\r\n\r\n2. *&quot;I don&#39;t like the names of the logging levels in JUL&quot;*. Ok, seriously, this is just not enough of a reason to introduce a new dependency.\r\n\r\n3. *&quot;I don&#39;t like the standard format of the output from JUL&quot;*. Hmm. This is just configuration. You do not even have to do anything code-wise. (true, back in old days you may have had to create your own Formatter class to get it right).\r\n\r\n4. *&quot;I use other libraries that also use logging-framework-X so I thought it easier just to use that one&quot;*. This is a circular argument, isn&#39;t ? Why does &#39;everybody&#39; use logging-framework-X and not JUL?\r\n\r\n5. *&quot;Everybody else is using logging-framework-X&quot;*. This to me is just a special case of the above. Majority is not always right.\r\n\r\n\r\nSo the real big question is **why not JUL?**. What is it I have missed ? The raison d&#39;&#234;tre for logging facades (SLF4J, JCL) is that multiple logging implementations have existed historically and the reason for that really goes back to the era before JUL as I see it. If JUL was perfect then logging facades wouldn&#39;t exist, or what? To make matters more confusing JUL is to some extent a facade itself, allowing Handlers, Formatters and even the LogManager to be swapped. \r\n\r\nRather than embracing multiple ways of doing the same thing (logging), shouldn&#39;t we question why they were necessary in the first place? (and see if those reasons still exist)\r\n\r\nOk, my research so far has led to a couple of things that I can see may be **real issues** with JUL:\r\n\r\n1. **Performance**. Some say that performance in SLF4J is superior to the rest. This seems to me to be a case of premature optimization. If you need to log hundreds of megabytes per second then I&#39;m not sure you are on the right path anyway. JUL has also evolved and the tests you did on Java 1.4 may no longer be true. You can read about it [here][1] and this fix has made it into Java 7. Many also talk about the overhead of string concatenation in logging methods. However template based logging avoids this cost and it exist also in JUL. Personally I never really write template based logging. Too lazy for that. For example if I do this with JUL:\r\n\r\n        log.finest(&quot;Lookup request from username=&quot; + username \r\n           + &quot;, valueX=&quot; + valueX\r\n           + &quot;, valueY=&quot; + valueY));\r\n\r\n    my IDE will warn me and ask permission that it should change it to:\r\n\r\n        log.log(Level.FINEST, &quot;Lookup request from username={0}, valueX={1}, valueY={2}&quot;, \r\n           new Object[]{username, valueX, valueY});\r\n\r\n    .. which I will of course accept. Permission granted ! Thank you for your help.\r\n\r\n    So I don&#39;t actually write such statements myself, that is done by the IDE.\r\n\r\n    In conclusion on the issue of performance I haven&#39;t found anything that would suggest that JUL&#39;s performance is not ok compared to the competition.\r\n\r\n\r\n2. **Configuration from classpath**. Out-of-the-box JUL cannot load a configuration file from the classpath. It is a [few lines of code][2] to make it do so. I can see why this may be annoying but the solution is short and simple.\r\n\r\n\r\n3. **Availability of output handlers**. JUL comes with 5 output handlers out-of-the-box: console, file stream, socket and memory. These can be extended or new ones can be written. This may for example be writing to UNIX/Linux Syslog and Windows Event Log. I have personally never had this requirement nor have I seen it used but I can certainly relate to why it may be a useful feature. Logback comes with an appender for Syslog for example. Still I would argue that\r\n    1. 99.5% of the needs for output destinations are covered by what is in JUL out-of-the-box.\r\n    2. Special needs could be catered for by custom handlers on top of JUL rather than on top of something else. There&#39;s nothing to me that suggests that it takes more time to write a Syslog output handler for JUL than it does for another logging framework.\r\n\r\n\r\nI&#39;m really concerned that there&#39;s something I&#39;ve overlooked. The use of logging facades  and logging implementations other than JUL is so widespread that I have to come to the conclusion that it&#39;s me who just doesn&#39;t understand. That wouldn&#39;t be the first time, I&#39;m afraid. :-)\r\n\r\nSo what should I do with my API?  I want it to become successful.  I can of course just &quot;go with the flow&quot; and implement SLF4J (which seems the most popular these days) but for my own sake I still need to understand exactly what is wrong with the JUL of today that warrants all the fuzz?  Will I sabotage myself by choosing JUL for my library ?\r\n\r\n\r\n## Testing performance \r\n*(section added by nolan600 on 07-JUL-2012)*\r\n\r\nThere&#39;s a reference below from Ceki about SLF4J&#39;s parametrization being 10 times or more faster than JUL&#39;s. So I&#39;ve started doing some simple tests. At first glance the claim is certainly correct. Here are the preliminary results (but read on!):\r\n\r\n* Execution time SLF4J, backend Logback: 1515\r\n* Execution time SLF4J, backend JUL: 12938\r\n* Execution time JUL: 16911\r\n\r\nThe numbers above are msecs so less is better. So 10 times performance difference is by first actually pretty close. My initial reaction: That is a lot !\r\n\r\nHere is the core of the test. As can be seen an integer and a string is construted in a loop which is then used in the log statement:\r\n\r\n        for (int i = 0; i &lt; noOfExecutions; i++) {\r\n            for (char x=32; x&lt;88; x++) {\r\n                String someString = Character.toString(x);\r\n                // here we log \r\n            }\r\n        }\r\n\r\n\r\n(I wanted the log statement to have both a primitive data type (in this case an int) and a more complex data type (in this case a String). Not sure it matters but there you have it.)\r\n\r\n\r\nThe log statement for SLF4J:\r\n\r\n    logger.info(&quot;Logging {} and {} &quot;, i, someString);\r\n\r\nThe log statement for JUL:\r\n\r\n    logger.log(Level.INFO, &quot;Logging {0} and {1}&quot;, new Object[]{i, someString});\r\n \r\n\r\nThe JVM was &#39;warmed up&#39; with the same test executed once before the actual measurement was done. Java 1.7.03 was used on Windows 7. Latest versions of SLF4J (v1.6.6) and Logback (v1.0.6) was used. Stdout and stderr was redirected to null device.\r\n\r\nHowever, careful now, it turns out JUL is spending most of its time in `getSourceClassName()` because JUL by default prints the source class name in the output, while Logback doesn&#39;t. So we are comparing apples and oranges. I have to do the test again and configure the logging implementations in a similar manner so that they actually output the same stuff. I do however suspect that SLF4J+Logback will still come out on top but far from the initial numbers as given above. Stay tuned.\r\n\r\nBtw: The test was first time I&#39;ve actually worked with SLF4J or Logback. A pleasant experience. JUL is certainly a lot less welcoming when you are starting out.\r\n\r\n## Testing performance (part 2)\r\n\r\n*(section added by nolan600 on 08-JUL-2012)*\r\n\r\nAs it turns out it doesn&#39;t really matter for performance how you configure your pattern in JUL, i.e. whether or not it includes the source name or not. I tried with a very simple pattern:\r\n\r\n    java.util.logging.SimpleFormatter.format=&quot;%4$s: %5$s [%1$tc]%n&quot;\r\n\r\nand that did not change the above timings at all. My profiler revealed that the logger still spent a lot of time in calls to `getSourceClassName()` even if this was not part of my pattern. The pattern doesn&#39;t matter.\r\n\r\nI&#39;m therefore concluding on the issue of performance that at least for the tested template based log statement there seems to be roughly a factor of 10 in real performance difference between JUL (slow) and SLF4J+Logback (quick). Just like Ceki said.\r\n\r\nI can also see another thing namely that SLF4J&#39;s `getLogger()` call is a lot more expensive than JUL&#39;s ditto. (95 ms vs 0.3 ms if my profiler is accurate). This makes sense. SLF4J has to do some time on the binding of the underlying logging implementation. This doesn&#39;t scare me. These calls should be somewhat rare in the lifetime of an application. The fastness should be in the actual log calls.\r\n\r\n\r\n# Final conclusion\r\n\r\n*(section added by peterh on 08-JUL-2012)*\r\n\r\nThank you for all your answers. Contrary to what I initially thought I&#39;ve ended up deciding to use SLF4J for my API. This is based on a number of things and your input:\r\n\r\n1. It gives flexibility to choose log implementation at deployment time.\r\n\r\n2. Issues with lack of flexibility of JUL&#39;s configuration when run inside an application server.\r\n\r\n3. SLF4J is certainly a lot faster as detailed above in particular if you couple it with Logback. Even if this was just a rough test I have reason to believe that a lot more effort has gone into optimization on SLF4J+Logback than on JUL.\r\n\r\n4. Documentation. The documentation for SLF4J is simply a lot more comprehensive and precise.\r\n\r\n5. Pattern flexibility. As I did the tests I set out to have JUL mimic the default pattern from Logback. This pattern includes the name of the thread. It turns out JUL cannot do this out of the box. Ok, I haven&#39;t missed it until now, but I don&#39;t think it is a thing that should be missing from a log framework. Period! \r\n\r\n6. Most (or many) Java projects today use Maven so adding a dependency is not that big a thing especially if that dependency is rather stable, i.e. doesn&#39;t constantly change its API. This seems to be true for SLF4J. Also the SLF4J jar and friends are small in size.\r\n\r\nSo the strange thing that happened was that I actually got quite upset with JUL after having worked a bit with SLF4J. I still regret that it has to be this way with JUL. JUL is far from perfect but kind of does the job. Just not quite well enough. The same can be said about `Properties` as an example but we do not think about abstracting that so people can plug in their own configuration library and what have you. I think the reason is that `Properties` comes in just above the bar while the opposite is true for JUL of today ... and in the past it came in at zero because it didn&#39;t exist.\r\n\r\n# Final-final conclusion (maybe)\r\n\r\n*(section added by peterh on 02-OCT-2022)*\r\n\r\nJava 9 introduced the [System.Logger][3] which is intended as a facade to logging implementations. Hence, as far as I can tell, it competes with SLF4J, but has the advantage that it is included with the JDK. **So perhaps library developers should use System.Logger rather than SLF4J** ?\r\n\r\nI find [this blog post][4] by Renato Athaydes to explain it quite well. (btw: the bug in the Log4j-v2 bridge mentioned by Renato seems to have been [fixed][5] with v2.13.2 of Log4j v2)\r\n\r\n\r\n  [1]: http://jeremymanson.blogspot.dk/2009/04/faster-logging-with-faster-logger.html\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4958543\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\r\n  [4]: https://renato.athaydes.com/posts/java-system-logging.htm\r\n  [5]: https://issues.apache.org/jira/browse/LOG4J2-1360","title":"Why not use java.util.logging?","body":"<p>For the first time in my life I find myself in a position where I'm writing a Java API that will be open sourced. Hopefully to be included in many other projects.</p>\n<p>For logging I (and indeed the people I work with) have always used JUL (<code>java.util.logging</code>) and never had any issues with it. However now I need to understand in more detail what I should do for my API development. I've done some research on this and with the information I've got I just get more confused. Hence this post.</p>\n<p>Since I come from JUL I'm biased on that. My knowledge of the rest is not that big.</p>\n<p>From the research I've done I've come up with these reasons why people do not like JUL:</p>\n<ol>\n<li><p><em>&quot;I started developing in Java long before Sun released JUL and it was just easier for me to continue with logging-framework-X rather than to learn something new&quot;</em>. Hmm. I'm not kidding, this is actually what people say. With this argument we could all be doing COBOL. (however I can certainly relate to this being a lazy dude myself)</p>\n</li>\n<li><p><em>&quot;I don't like the names of the logging levels in JUL&quot;</em>. Ok, seriously, this is just not enough of a reason to introduce a new dependency.</p>\n</li>\n<li><p><em>&quot;I don't like the standard format of the output from JUL&quot;</em>. Hmm. This is just configuration. You do not even have to do anything code-wise. (true, back in old days you may have had to create your own Formatter class to get it right).</p>\n</li>\n<li><p><em>&quot;I use other libraries that also use logging-framework-X so I thought it easier just to use that one&quot;</em>. This is a circular argument, isn't ? Why does 'everybody' use logging-framework-X and not JUL?</p>\n</li>\n<li><p><em>&quot;Everybody else is using logging-framework-X&quot;</em>. This to me is just a special case of the above. Majority is not always right.</p>\n</li>\n</ol>\n<p>So the real big question is <strong>why not JUL?</strong>. What is it I have missed ? The raison d'√™tre for logging facades (SLF4J, JCL) is that multiple logging implementations have existed historically and the reason for that really goes back to the era before JUL as I see it. If JUL was perfect then logging facades wouldn't exist, or what? To make matters more confusing JUL is to some extent a facade itself, allowing Handlers, Formatters and even the LogManager to be swapped.</p>\n<p>Rather than embracing multiple ways of doing the same thing (logging), shouldn't we question why they were necessary in the first place? (and see if those reasons still exist)</p>\n<p>Ok, my research so far has led to a couple of things that I can see may be <strong>real issues</strong> with JUL:</p>\n<ol>\n<li><p><strong>Performance</strong>. Some say that performance in SLF4J is superior to the rest. This seems to me to be a case of premature optimization. If you need to log hundreds of megabytes per second then I'm not sure you are on the right path anyway. JUL has also evolved and the tests you did on Java 1.4 may no longer be true. You can read about it <a href=\"http://jeremymanson.blogspot.dk/2009/04/faster-logging-with-faster-logger.html\" rel=\"nofollow noreferrer\">here</a> and this fix has made it into Java 7. Many also talk about the overhead of string concatenation in logging methods. However template based logging avoids this cost and it exist also in JUL. Personally I never really write template based logging. Too lazy for that. For example if I do this with JUL:</p>\n<pre><code> log.finest(&quot;Lookup request from username=&quot; + username \n    + &quot;, valueX=&quot; + valueX\n    + &quot;, valueY=&quot; + valueY));\n</code></pre>\n<p>my IDE will warn me and ask permission that it should change it to:</p>\n<pre><code> log.log(Level.FINEST, &quot;Lookup request from username={0}, valueX={1}, valueY={2}&quot;, \n    new Object[]{username, valueX, valueY});\n</code></pre>\n<p>.. which I will of course accept. Permission granted ! Thank you for your help.</p>\n<p>So I don't actually write such statements myself, that is done by the IDE.</p>\n<p>In conclusion on the issue of performance I haven't found anything that would suggest that JUL's performance is not ok compared to the competition.</p>\n</li>\n<li><p><strong>Configuration from classpath</strong>. Out-of-the-box JUL cannot load a configuration file from the classpath. It is a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4958543\" rel=\"nofollow noreferrer\">few lines of code</a> to make it do so. I can see why this may be annoying but the solution is short and simple.</p>\n</li>\n<li><p><strong>Availability of output handlers</strong>. JUL comes with 5 output handlers out-of-the-box: console, file stream, socket and memory. These can be extended or new ones can be written. This may for example be writing to UNIX/Linux Syslog and Windows Event Log. I have personally never had this requirement nor have I seen it used but I can certainly relate to why it may be a useful feature. Logback comes with an appender for Syslog for example. Still I would argue that</p>\n<ol>\n<li>99.5% of the needs for output destinations are covered by what is in JUL out-of-the-box.</li>\n<li>Special needs could be catered for by custom handlers on top of JUL rather than on top of something else. There's nothing to me that suggests that it takes more time to write a Syslog output handler for JUL than it does for another logging framework.</li>\n</ol>\n</li>\n</ol>\n<p>I'm really concerned that there's something I've overlooked. The use of logging facades  and logging implementations other than JUL is so widespread that I have to come to the conclusion that it's me who just doesn't understand. That wouldn't be the first time, I'm afraid. :-)</p>\n<p>So what should I do with my API?  I want it to become successful.  I can of course just &quot;go with the flow&quot; and implement SLF4J (which seems the most popular these days) but for my own sake I still need to understand exactly what is wrong with the JUL of today that warrants all the fuzz?  Will I sabotage myself by choosing JUL for my library ?</p>\n<h2>Testing performance</h2>\n<p><em>(section added by nolan600 on 07-JUL-2012)</em></p>\n<p>There's a reference below from Ceki about SLF4J's parametrization being 10 times or more faster than JUL's. So I've started doing some simple tests. At first glance the claim is certainly correct. Here are the preliminary results (but read on!):</p>\n<ul>\n<li>Execution time SLF4J, backend Logback: 1515</li>\n<li>Execution time SLF4J, backend JUL: 12938</li>\n<li>Execution time JUL: 16911</li>\n</ul>\n<p>The numbers above are msecs so less is better. So 10 times performance difference is by first actually pretty close. My initial reaction: That is a lot !</p>\n<p>Here is the core of the test. As can be seen an integer and a string is construted in a loop which is then used in the log statement:</p>\n<pre><code>    for (int i = 0; i &lt; noOfExecutions; i++) {\n        for (char x=32; x&lt;88; x++) {\n            String someString = Character.toString(x);\n            // here we log \n        }\n    }\n</code></pre>\n<p>(I wanted the log statement to have both a primitive data type (in this case an int) and a more complex data type (in this case a String). Not sure it matters but there you have it.)</p>\n<p>The log statement for SLF4J:</p>\n<pre><code>logger.info(&quot;Logging {} and {} &quot;, i, someString);\n</code></pre>\n<p>The log statement for JUL:</p>\n<pre><code>logger.log(Level.INFO, &quot;Logging {0} and {1}&quot;, new Object[]{i, someString});\n</code></pre>\n<p>The JVM was 'warmed up' with the same test executed once before the actual measurement was done. Java 1.7.03 was used on Windows 7. Latest versions of SLF4J (v1.6.6) and Logback (v1.0.6) was used. Stdout and stderr was redirected to null device.</p>\n<p>However, careful now, it turns out JUL is spending most of its time in <code>getSourceClassName()</code> because JUL by default prints the source class name in the output, while Logback doesn't. So we are comparing apples and oranges. I have to do the test again and configure the logging implementations in a similar manner so that they actually output the same stuff. I do however suspect that SLF4J+Logback will still come out on top but far from the initial numbers as given above. Stay tuned.</p>\n<p>Btw: The test was first time I've actually worked with SLF4J or Logback. A pleasant experience. JUL is certainly a lot less welcoming when you are starting out.</p>\n<h2>Testing performance (part 2)</h2>\n<p><em>(section added by nolan600 on 08-JUL-2012)</em></p>\n<p>As it turns out it doesn't really matter for performance how you configure your pattern in JUL, i.e. whether or not it includes the source name or not. I tried with a very simple pattern:</p>\n<pre><code>java.util.logging.SimpleFormatter.format=&quot;%4$s: %5$s [%1$tc]%n&quot;\n</code></pre>\n<p>and that did not change the above timings at all. My profiler revealed that the logger still spent a lot of time in calls to <code>getSourceClassName()</code> even if this was not part of my pattern. The pattern doesn't matter.</p>\n<p>I'm therefore concluding on the issue of performance that at least for the tested template based log statement there seems to be roughly a factor of 10 in real performance difference between JUL (slow) and SLF4J+Logback (quick). Just like Ceki said.</p>\n<p>I can also see another thing namely that SLF4J's <code>getLogger()</code> call is a lot more expensive than JUL's ditto. (95 ms vs 0.3 ms if my profiler is accurate). This makes sense. SLF4J has to do some time on the binding of the underlying logging implementation. This doesn't scare me. These calls should be somewhat rare in the lifetime of an application. The fastness should be in the actual log calls.</p>\n<h1>Final conclusion</h1>\n<p><em>(section added by peterh on 08-JUL-2012)</em></p>\n<p>Thank you for all your answers. Contrary to what I initially thought I've ended up deciding to use SLF4J for my API. This is based on a number of things and your input:</p>\n<ol>\n<li><p>It gives flexibility to choose log implementation at deployment time.</p>\n</li>\n<li><p>Issues with lack of flexibility of JUL's configuration when run inside an application server.</p>\n</li>\n<li><p>SLF4J is certainly a lot faster as detailed above in particular if you couple it with Logback. Even if this was just a rough test I have reason to believe that a lot more effort has gone into optimization on SLF4J+Logback than on JUL.</p>\n</li>\n<li><p>Documentation. The documentation for SLF4J is simply a lot more comprehensive and precise.</p>\n</li>\n<li><p>Pattern flexibility. As I did the tests I set out to have JUL mimic the default pattern from Logback. This pattern includes the name of the thread. It turns out JUL cannot do this out of the box. Ok, I haven't missed it until now, but I don't think it is a thing that should be missing from a log framework. Period!</p>\n</li>\n<li><p>Most (or many) Java projects today use Maven so adding a dependency is not that big a thing especially if that dependency is rather stable, i.e. doesn't constantly change its API. This seems to be true for SLF4J. Also the SLF4J jar and friends are small in size.</p>\n</li>\n</ol>\n<p>So the strange thing that happened was that I actually got quite upset with JUL after having worked a bit with SLF4J. I still regret that it has to be this way with JUL. JUL is far from perfect but kind of does the job. Just not quite well enough. The same can be said about <code>Properties</code> as an example but we do not think about abstracting that so people can plug in their own configuration library and what have you. I think the reason is that <code>Properties</code> comes in just above the bar while the opposite is true for JUL of today ... and in the past it came in at zero because it didn't exist.</p>\n<h1>Final-final conclusion (maybe)</h1>\n<p><em>(section added by peterh on 02-OCT-2022)</em></p>\n<p>Java 9 introduced the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">System.Logger</a> which is intended as a facade to logging implementations. Hence, as far as I can tell, it competes with SLF4J, but has the advantage that it is included with the JDK. <strong>So perhaps library developers should use System.Logger rather than SLF4J</strong> ?</p>\n<p>I find <a href=\"https://renato.athaydes.com/posts/java-system-logging.htm\" rel=\"nofollow noreferrer\">this blog post</a> by Renato Athaydes to explain it quite well. (btw: the bug in the Log4j-v2 bridge mentioned by Renato seems to have been <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1360\" rel=\"nofollow noreferrer\">fixed</a> with v2.13.2 of Log4j v2)</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":24378426,"reputation":11,"user_id":18310391,"display_name":"MidacoYT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673718752,"creation_date":1672927595,"question_id":75019686,"body_markdown":"I would like some help with my mod I am doing in version 1.7.10.\r\nI made an overlay that is displayed when the player wins exp in his job(so an ExtendedEntityProperties) I made a feature that with a boolean display message = true to run it when the player wins the exp and displays the overlay unless it is not displayed. Here is the code of the extendedentity and the superposition.\r\n\r\nExtendedEntityProperties:\r\n```\r\npackage fr.valerium.valemod.jobs;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport cpw.mods.fml.common.network.simpleimpl.IMessage;\r\nimport fr.valerium.valemod.ModVale;\r\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\r\nimport fr.valerium.valemod.packets.PacketJobs;\r\nimport fr.valerium.valemod.utils.Utils;\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.entity.Entity;\r\nimport net.minecraft.entity.player.EntityPlayer;\r\nimport net.minecraft.nbt.NBTTagCompound;\r\nimport net.minecraft.world.World;\r\nimport net.minecraftforge.common.IExtendedEntityProperties;\r\n\r\npublic class JobManager implements IExtendedEntityProperties {\r\n\r\n\tpublic final static String EXT_PROP_JOB = &quot;ExtPropJob&quot;;\r\n\r\n\tprivate final EntityPlayer player;\r\n\r\n\tpublic HashMap&lt;String, Integer&gt; levels;\r\n\tpublic HashMap&lt;String, Integer&gt; experience;\r\n\tpublic HashMap&lt;String, Long&gt; maxExperience;\r\n\r\n\tpublic static final int MINER = 1;\r\n\tpublic static final int FARMER = 2;\r\n\tpublic static final int HUNTER = 3;\r\n\tpublic static final int ALCHIMIST = 4;\r\n\r\n\tpublic static final String MINER_NAME = &quot;miner&quot;;\r\n\tpublic static final String FARMER_NAME = &quot;farmer&quot;;\r\n\tpublic static final String HUNTER_NAME = &quot;hunter&quot;;\r\n\tpublic static final String ALCHIMIST_NAME = &quot;alchimist&quot;;\r\n\r\n\tpublic static final int MAX_LEVEL = 20;\r\n\t\r\n\tOverlay overlay = new Overlay();\r\n\r\n\tpublic JobManager(EntityPlayer player) {\r\n\t\tthis.player = player;\r\n\r\n\t\tthis.levels = new HashMap&lt;String, Integer&gt;();\r\n\t\tthis.experience = new HashMap&lt;String, Integer&gt;();\r\n\t\tthis.maxExperience = new HashMap&lt;String, Long&gt;();\r\n\r\n\t\tthis.levels.put(MINER_NAME, 1);\r\n\t\tthis.experience.put(MINER_NAME, 0);\r\n\t\tthis.maxExperience.put(MINER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(FARMER_NAME, 1);\r\n\t\tthis.experience.put(FARMER_NAME, 0);\r\n\t\tthis.maxExperience.put(FARMER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(HUNTER_NAME, 1);\r\n\t\tthis.experience.put(HUNTER_NAME, 0);\r\n\t\tthis.maxExperience.put(HUNTER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(ALCHIMIST_NAME, 1);\r\n\t\tthis.experience.put(ALCHIMIST_NAME, 0);\r\n\t\tthis.maxExperience.put(ALCHIMIST_NAME, 200000L);\r\n\t}\r\n\r\n\tpublic void sync() {\r\n\t\tPacketJobs packet = new PacketJobs(levels, experience, maxExperience);\r\n\t\tModVale.network.sendToServer((IMessage) packet);\r\n\t}\r\n\r\n\tpublic static final void register(EntityPlayer player) {\r\n\t\tplayer.registerExtendedProperties(JobManager.EXT_PROP_JOB, new JobManager(player));\r\n\t}\r\n\r\n\tpublic static final JobManager get(EntityPlayer player) {\r\n\t\treturn (JobManager) player.getExtendedProperties(EXT_PROP_JOB);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void saveNBTData(NBTTagCompound compound) {\r\n\t\tNBTTagCompound properties = new NBTTagCompound();\r\n\r\n\t\tfor (String job : levels.keySet()) {\r\n\t\t\tproperties.setInteger(job + &quot;Level&quot;, levels.get(job));\r\n\t\t\tproperties.setInteger(job + &quot;Experience&quot;, experience.get(job));\r\n\t\t\tproperties.setLong(job + &quot;MaxExperience&quot;, maxExperience.get(job));\r\n\t\t}\r\n\r\n\t\tsync();\r\n\r\n\t\tcompound.setTag(EXT_PROP_JOB, properties);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void loadNBTData(NBTTagCompound compound) {\r\n\t\tNBTTagCompound properties = (NBTTagCompound) compound.getTag(EXT_PROP_JOB);\r\n\r\n\t\tfor (String job : levels.keySet()) {\r\n\t\t\tlevels.put(job, properties.getInteger(job + &quot;Level&quot;));\r\n\t\t\texperience.put(job, properties.getInteger(job + &quot;Experience&quot;));\r\n\t\t\tmaxExperience.put(job, properties.getLong(job + &quot;MaxExperience&quot;));\r\n\t\t}\r\n\r\n\t\tsync();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(Entity entity, World world) {\r\n\t}\r\n\r\n\tpublic int getLevel(String job) {\r\n\t\tInteger level = levels.get(job);\r\n\t\treturn level == null ? 0 : level;\r\n\t}\r\n\r\n\tpublic void setLevel(String job, int level) {\r\n\t\tlevels.put(job, level);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic int getExperience(String job) {\r\n\t\tInteger exp = experience.get(job);\r\n\t\treturn exp == null ? 0 : exp;\r\n\t}\r\n\r\n\tpublic void setExperience(String job, int exp) {\r\n\t\texperience.put(job, exp);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic long getMaxExperience(String job) {\r\n\t\tLong maxExp = maxExperience.get(job);\r\n\t\treturn maxExp == null ? 0 : maxExp;\r\n\t}\r\n\r\n\tpublic void setMaxExperience(String job, long maxExp) {\r\n\t\tmaxExperience.put(job, maxExp);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic void addExperience(String jobName, int xp) {\r\n\t\tint currentXp = experience.get(jobName);\r\n\t\tint newXp = currentXp + xp;\r\n\t\tint level = levels.get(jobName);\r\n\t\tlong maxXp = maxExperience.get(jobName);\r\n\t\twhile (newXp &gt;= maxXp &amp;&amp; level &lt; MAX_LEVEL) {\r\n\t\t    newXp -= maxXp;\r\n\t\t    level++;\r\n\t\t    maxXp = (long) (maxXp * 1.5);\r\n\t\t}\r\n\t\t\r\n\t\tTasks task = Utils.tasks.get(jobName);\r\n\t\toverlay.setTask(task, xp);\r\n\t\t\r\n\t\tlevels.put(jobName, level);\r\n\t\texperience.put(jobName, newXp);\r\n\t\tmaxExperience.put(jobName, maxXp);\r\n\t\tsync();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOverlay :\r\n\r\n```\r\npackage fr.valerium.valemod.events;\r\n\r\nimport cpw.mods.fml.common.eventhandler.SubscribeEvent;\r\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.renderer.Tessellator;\r\nimport net.minecraft.util.ResourceLocation;\r\nimport net.minecraftforge.client.event.RenderGameOverlayEvent;\r\n\r\npublic class OverlayRenderer {\r\n\r\n\tprivate static final int DISPLAY_DURATION = 20 * 2; // 20 ticks par seconde, dur&#233;e de 2 secondes\r\n\tprivate int timer = 0;\r\n\tprivate boolean displayMessage = true;\r\n\tprivate String message = &quot;Ceci est un overlay avec du texte.&quot;;\r\n\tTasks task;\r\n\tprivate int xp;\r\n\r\n\t@SubscribeEvent\r\n\tpublic void renderOverlay(RenderGameOverlayEvent.Text event) {\r\n\t\tif (displayMessage) {\r\n\t\t\tFontRenderer fontRenderer = Minecraft.getMinecraft().fontRenderer;\r\n\t\t\t// affiche le message en haut &#224; droite de l&#39;&#233;cran du joueur\r\n\t\t\tfontRenderer.drawString(message, event.resolution.getScaledWidth() - fontRenderer.getStringWidth(message) - 5, 5, 0xFFFFFF);\r\n\t\t\ttimer++;\r\n\t\t\tif (timer &gt; DISPLAY_DURATION) {\r\n\t\t\t\tdisplayMessage = false;\r\n\t\t\t\ttimer = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setTask(Tasks task, int xp) {\r\n\t\tdisplayMessage = true;\r\n\t\tthis.task = task;\r\n\t\tthis.xp = xp;\r\n\t\ttimer = 0;\r\n\t}\r\n}\r\n```\r\n\r\nI tried to insert system.out.println(); everywhere and everything is good.\r\nThe overlay is instantiated, by default it is not displayed but if I make it display by default it works but not when I make it appear when we win from the exp.","title":"Minecraft overlay doesn&#39;t appear (1.7.10)","body":"<p>I would like some help with my mod I am doing in version 1.7.10.\nI made an overlay that is displayed when the player wins exp in his job(so an ExtendedEntityProperties) I made a feature that with a boolean display message = true to run it when the player wins the exp and displays the overlay unless it is not displayed. Here is the code of the extendedentity and the superposition.</p>\n<p>ExtendedEntityProperties:</p>\n<pre><code>package fr.valerium.valemod.jobs;\n\nimport java.util.HashMap;\n\nimport cpw.mods.fml.common.network.simpleimpl.IMessage;\nimport fr.valerium.valemod.ModVale;\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\nimport fr.valerium.valemod.packets.PacketJobs;\nimport fr.valerium.valemod.utils.Utils;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.entity.Entity;\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.nbt.NBTTagCompound;\nimport net.minecraft.world.World;\nimport net.minecraftforge.common.IExtendedEntityProperties;\n\npublic class JobManager implements IExtendedEntityProperties {\n\n    public final static String EXT_PROP_JOB = &quot;ExtPropJob&quot;;\n\n    private final EntityPlayer player;\n\n    public HashMap&lt;String, Integer&gt; levels;\n    public HashMap&lt;String, Integer&gt; experience;\n    public HashMap&lt;String, Long&gt; maxExperience;\n\n    public static final int MINER = 1;\n    public static final int FARMER = 2;\n    public static final int HUNTER = 3;\n    public static final int ALCHIMIST = 4;\n\n    public static final String MINER_NAME = &quot;miner&quot;;\n    public static final String FARMER_NAME = &quot;farmer&quot;;\n    public static final String HUNTER_NAME = &quot;hunter&quot;;\n    public static final String ALCHIMIST_NAME = &quot;alchimist&quot;;\n\n    public static final int MAX_LEVEL = 20;\n    \n    Overlay overlay = new Overlay();\n\n    public JobManager(EntityPlayer player) {\n        this.player = player;\n\n        this.levels = new HashMap&lt;String, Integer&gt;();\n        this.experience = new HashMap&lt;String, Integer&gt;();\n        this.maxExperience = new HashMap&lt;String, Long&gt;();\n\n        this.levels.put(MINER_NAME, 1);\n        this.experience.put(MINER_NAME, 0);\n        this.maxExperience.put(MINER_NAME, 200000L);\n\n        this.levels.put(FARMER_NAME, 1);\n        this.experience.put(FARMER_NAME, 0);\n        this.maxExperience.put(FARMER_NAME, 200000L);\n\n        this.levels.put(HUNTER_NAME, 1);\n        this.experience.put(HUNTER_NAME, 0);\n        this.maxExperience.put(HUNTER_NAME, 200000L);\n\n        this.levels.put(ALCHIMIST_NAME, 1);\n        this.experience.put(ALCHIMIST_NAME, 0);\n        this.maxExperience.put(ALCHIMIST_NAME, 200000L);\n    }\n\n    public void sync() {\n        PacketJobs packet = new PacketJobs(levels, experience, maxExperience);\n        ModVale.network.sendToServer((IMessage) packet);\n    }\n\n    public static final void register(EntityPlayer player) {\n        player.registerExtendedProperties(JobManager.EXT_PROP_JOB, new JobManager(player));\n    }\n\n    public static final JobManager get(EntityPlayer player) {\n        return (JobManager) player.getExtendedProperties(EXT_PROP_JOB);\n\n    }\n\n    @Override\n    public void saveNBTData(NBTTagCompound compound) {\n        NBTTagCompound properties = new NBTTagCompound();\n\n        for (String job : levels.keySet()) {\n            properties.setInteger(job + &quot;Level&quot;, levels.get(job));\n            properties.setInteger(job + &quot;Experience&quot;, experience.get(job));\n            properties.setLong(job + &quot;MaxExperience&quot;, maxExperience.get(job));\n        }\n\n        sync();\n\n        compound.setTag(EXT_PROP_JOB, properties);\n    }\n\n    @Override\n    public void loadNBTData(NBTTagCompound compound) {\n        NBTTagCompound properties = (NBTTagCompound) compound.getTag(EXT_PROP_JOB);\n\n        for (String job : levels.keySet()) {\n            levels.put(job, properties.getInteger(job + &quot;Level&quot;));\n            experience.put(job, properties.getInteger(job + &quot;Experience&quot;));\n            maxExperience.put(job, properties.getLong(job + &quot;MaxExperience&quot;));\n        }\n\n        sync();\n    }\n\n    @Override\n    public void init(Entity entity, World world) {\n    }\n\n    public int getLevel(String job) {\n        Integer level = levels.get(job);\n        return level == null ? 0 : level;\n    }\n\n    public void setLevel(String job, int level) {\n        levels.put(job, level);\n        sync();\n    }\n\n    public int getExperience(String job) {\n        Integer exp = experience.get(job);\n        return exp == null ? 0 : exp;\n    }\n\n    public void setExperience(String job, int exp) {\n        experience.put(job, exp);\n        sync();\n    }\n\n    public long getMaxExperience(String job) {\n        Long maxExp = maxExperience.get(job);\n        return maxExp == null ? 0 : maxExp;\n    }\n\n    public void setMaxExperience(String job, long maxExp) {\n        maxExperience.put(job, maxExp);\n        sync();\n    }\n\n    public void addExperience(String jobName, int xp) {\n        int currentXp = experience.get(jobName);\n        int newXp = currentXp + xp;\n        int level = levels.get(jobName);\n        long maxXp = maxExperience.get(jobName);\n        while (newXp &gt;= maxXp &amp;&amp; level &lt; MAX_LEVEL) {\n            newXp -= maxXp;\n            level++;\n            maxXp = (long) (maxXp * 1.5);\n        }\n        \n        Tasks task = Utils.tasks.get(jobName);\n        overlay.setTask(task, xp);\n        \n        levels.put(jobName, level);\n        experience.put(jobName, newXp);\n        maxExperience.put(jobName, maxXp);\n        sync();\n    }\n\n}\n</code></pre>\n<p>Overlay :</p>\n<pre><code>package fr.valerium.valemod.events;\n\nimport cpw.mods.fml.common.eventhandler.SubscribeEvent;\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.renderer.Tessellator;\nimport net.minecraft.util.ResourceLocation;\nimport net.minecraftforge.client.event.RenderGameOverlayEvent;\n\npublic class OverlayRenderer {\n\n    private static final int DISPLAY_DURATION = 20 * 2; // 20 ticks par seconde, dur√©e de 2 secondes\n    private int timer = 0;\n    private boolean displayMessage = true;\n    private String message = &quot;Ceci est un overlay avec du texte.&quot;;\n    Tasks task;\n    private int xp;\n\n    @SubscribeEvent\n    public void renderOverlay(RenderGameOverlayEvent.Text event) {\n        if (displayMessage) {\n            FontRenderer fontRenderer = Minecraft.getMinecraft().fontRenderer;\n            // affiche le message en haut √† droite de l'√©cran du joueur\n            fontRenderer.drawString(message, event.resolution.getScaledWidth() - fontRenderer.getStringWidth(message) - 5, 5, 0xFFFFFF);\n            timer++;\n            if (timer &gt; DISPLAY_DURATION) {\n                displayMessage = false;\n                timer = 0;\n            }\n        }\n    }\n    \n    public void setTask(Tasks task, int xp) {\n        displayMessage = true;\n        this.task = task;\n        this.xp = xp;\n        timer = 0;\n    }\n}\n</code></pre>\n<p>I tried to insert system.out.println(); everywhere and everything is good.\nThe overlay is instantiated, by default it is not displayed but if I make it display by default it works but not when I make it appear when we win from the exp.</p>\n"},{"tags":["java","datetime","timezone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1281367967,"creation_date":1281367967,"answer_id":3441609,"question_id":3441555,"body_markdown":"`Timestamp` extends `Date` - it doesn&#39;t *have* a time zone, conceptually. It just represents an instant in time.\r\n\r\nIf you want to display it in a particular calendar with a particular time zone, that&#39;s a formatting issue. Create the appropriate calendar with the relevant time zone, and set the timestamp within it accordingly.\r\n\r\n(As per normal, I&#39;d like to recommend that you use [Joda Time][1] instead of the built-in API where possible. It&#39;s much cleaner.)\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"How to get date in a specific timezone?","body":"<p><code>Timestamp</code> extends <code>Date</code> - it doesn't <em>have</em> a time zone, conceptually. It just represents an instant in time.</p>\n\n<p>If you want to display it in a particular calendar with a particular time zone, that's a formatting issue. Create the appropriate calendar with the relevant time zone, and set the timestamp within it accordingly.</p>\n\n<p>(As per normal, I'd like to recommend that you use <a href=\"http://joda-time.sf.net\" rel=\"nofollow noreferrer\">Joda Time</a> instead of the built-in API where possible. It's much cleaner.)</p>\n"},{"tags":[],"owner":{"account_id":173570,"reputation":191,"user_id":402346,"display_name":"BruteForce"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1281367976,"creation_date":1281367976,"answer_id":3441611,"question_id":3441555,"body_markdown":"Why do you subtract the offset from the time in the last line? That is basically resetting your time back to GMT. You retrieve GMT+3 then you subtract 3 hours from that.","title":"How to get date in a specific timezone?","body":"<p>Why do you subtract the offset from the time in the last line? That is basically resetting your time back to GMT. You retrieve GMT+3 then you subtract 3 hours from that.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281369060,"creation_date":1281368111,"answer_id":3441627,"question_id":3441555,"body_markdown":"What Jon said. A Timestamp does not have a time zone, it&#39;s always UTC, and really shouldn&#39;t be abused for representing local time. If you really need objects to represent local time, Joda Time [has a class for that][1]. \r\n\r\nAnd you should be aware that &quot;GMT+3&quot; is not a real valid time zone. A time zone has not just a base offset, but also a daylight savings time offset, which can be different for time zones with the same base offset, and can even change for the same time zone due to legislation. A real time zone ID is &quot;Europe/Berlin&quot; or &quot;Australia/Darwin&quot;.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDateTime.html","title":"How to get date in a specific timezone?","body":"<p>What Jon said. A Timestamp does not have a time zone, it's always UTC, and really shouldn't be abused for representing local time. If you really need objects to represent local time, Joda Time <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">has a class for that</a>. </p>\n\n<p>And you should be aware that \"GMT+3\" is not a real valid time zone. A time zone has not just a base offset, but also a daylight savings time offset, which can be different for time zones with the same base offset, and can even change for the same time zone due to legislation. A real time zone ID is \"Europe/Berlin\" or \"Australia/Darwin\".</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281370379,"creation_date":1281370379,"answer_id":3441999,"question_id":3441555,"body_markdown":"`c.getTimeInMillis()` returns the number of milliseconds since January 1st, 1970 0:00 UTC and will return the same value, no matter which time zone is used in the Calendar instance. \r\n\r\nIf you create a Calendar with a time zone and need access to the time fields, you should access these directly:\r\n\r\n    int h = c.get(Calendar.HOUR_OF_DAY);\r\n    int m = c.get(Calendar.MINUTE);\r\n    int s = c.get(Calendar.SECOND);\r\n\r\n","title":"How to get date in a specific timezone?","body":"<p><code>c.getTimeInMillis()</code> returns the number of milliseconds since January 1st, 1970 0:00 UTC and will return the same value, no matter which time zone is used in the Calendar instance. </p>\n\n<p>If you create a Calendar with a time zone and need access to the time fields, you should access these directly:</p>\n\n<pre><code>int h = c.get(Calendar.HOUR_OF_DAY);\nint m = c.get(Calendar.MINUTE);\nint s = c.get(Calendar.SECOND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2569236,"reputation":1249,"user_id":2228397,"display_name":"Tang Chanrith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490327778,"creation_date":1490326768,"answer_id":42991001,"question_id":3441555,"body_markdown":"Use the Timezone static method.\r\n\r\n    TimeZone default = TimeZone.getDefault();\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT+3&quot;));\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(new Date(System.currentTimeMillis()));\r\n    Date date = cal.getTime(); // converted date time\r\n    System.out.println(date.toString());\r\n\r\n    // Set Back to System Default\r\n    TimeZone.setDefault(default);\r\n","title":"How to get date in a specific timezone?","body":"<p>Use the Timezone static method.</p>\n\n<pre><code>TimeZone default = TimeZone.getDefault();\n\nTimeZone.setDefault(TimeZone.getTimeZone(\"GMT+3\"));\nCalendar cal = Calendar.getInstance();\ncal.setTime(new Date(System.currentTimeMillis()));\nDate date = cal.getTime(); // converted date time\nSystem.out.println(date.toString());\n\n// Set Back to System Default\nTimeZone.setDefault(default);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558067814,"creation_date":1558067814,"answer_id":56179685,"question_id":3441555,"body_markdown":"Sample Code to get Time in Different Time Zone\r\n\r\n    public class GetZoneDateTime {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString reqTzId = &quot;Asia/Singapore&quot;;\r\n\t\t\r\n\t\tLocalDateTime now = LocalDateTime.now();\r\n\t\tSystem.out.println(&quot;Local Now: &quot; + now + &quot; TimeZone: &quot; + TimeZone.getDefault());\r\n\r\n\t\tZoneId zoneId = ZoneId.of(reqTzId);\r\n\t\tSystem.out.println(&quot;Req TimeZone : &quot; + zoneId);\r\n\r\n\t\tLocalDateTime localNow = LocalDateTime.now(zoneId);\r\n\t\tSystem.out.println(&quot;tzLocalDateTime: &quot; + localNow);\r\n\t\t\r\n\t\tZonedDateTime zoneNow = ZonedDateTime.now(zoneId);\r\n\t\tSystem.out.println(&quot;tzZonedDateTime: &quot; + zoneNow);\r\n\t}\r\n}","title":"How to get date in a specific timezone?","body":"<p>Sample Code to get Time in Different Time Zone</p>\n\n<pre><code>public class GetZoneDateTime {\n\npublic static void main(String[] args) throws Exception {\n    String reqTzId = \"Asia/Singapore\";\n\n    LocalDateTime now = LocalDateTime.now();\n    System.out.println(\"Local Now: \" + now + \" TimeZone: \" + TimeZone.getDefault());\n\n    ZoneId zoneId = ZoneId.of(reqTzId);\n    System.out.println(\"Req TimeZone : \" + zoneId);\n\n    LocalDateTime localNow = LocalDateTime.now(zoneId);\n    System.out.println(\"tzLocalDateTime: \" + localNow);\n\n    ZonedDateTime zoneNow = ZonedDateTime.now(zoneId);\n    System.out.println(\"tzZonedDateTime: \" + zoneNow);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673718059,"creation_date":1673718059,"answer_id":75120021,"question_id":3441555,"body_markdown":"java.time\r\n--\r\n\r\nIn March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** The first important thing to understand is the difference between a ***timezone*** and a ***timezone offset***.\r\n\r\nA ***timezone*** is identified by an ID, typically in the form of a Region/City e.g. Europe/London. [Here](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) you can check a list of tz database time zones. The `java.time` API provides with [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) to represent a date-time with timezone.\r\n\r\nA ***timezone offset*** tells us the amount of time by which the time of a place is offset from the UTC e.g. 2011-12-03T10:15:30+01:00 which tells us that this date-time is offset by `01:00` hours from UTC i.e. we need to subtract `01:00` hours to get the equivalent date-time at UTC. The `java.time` API provides with [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html) to represent a date-time with time zone offset.\r\n\r\nSome time zones observe [DST](https://en.wikipedia.org/wiki/Daylight_saving_time) i.e. America/New_York observes an offset of `-05:00` hours in the winter while `-04:00` hours in the summer.[Here](https://www.timeanddate.com/time/change/usa/new-york) you can check an illustration.\r\n\r\nA `ZonedDateTime` automatically reflects the applicable offset while we create an `OffsetDateTime` with a fixed offset value. Thus, `GMT` and `GMT+3` mentioned in your question are not time zones, they represent time zone offset. A better and more modern way to write it is `Z` and `+03:00` respectively. \r\n\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            // Current date-time in America/New_York\r\n            System.out.println(ZonedDateTime.now(zone));\r\n    \r\n            // A sample winter date-time in America/New_York\r\n            System.out.println(ZonedDateTime.of(LocalDate.of(2023, 01, 14), LocalTime.of(10, 20, 30), zone));\r\n    \r\n            // A sample summer date-time in America/New_York\r\n            System.out.println(ZonedDateTime.of(LocalDate.of(2023, 06, 14), LocalTime.of(10, 20, 30), zone));\r\n    \r\n            // Current OffsetDateTime with an offset of 00:00 hours (UTC time)\r\n            System.out.println(OffsetDateTime.now(ZoneOffset.UTC));\r\n    \r\n            // Current OffsetDateTime with an offset of 05:30 hours\r\n            OffsetDateTime odt = OffsetDateTime.now(ZoneOffset.of(&quot;+05:30&quot;));\r\n            System.out.println(odt);\r\n            // The same OffsetDateTime converted to UTC time (will be 05:30 less)\r\n            System.out.println(odt.withOffsetSameInstant(ZoneOffset.UTC));\r\n        }\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2023-01-14T12:40:04.348474-05:00[America/New_York]\r\n    2023-01-14T10:20:30-05:00[America/New_York]\r\n    2023-06-14T10:20:30-04:00[America/New_York]\r\n    2023-01-14T17:40:04.352982Z\r\n    2023-01-14T23:10:04.353969+05:30\r\n    2023-01-14T17:40:04.353969Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/yQGT30)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to get date in a specific timezone?","body":"<h2>java.time</h2>\n<p>In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> The first important thing to understand is the difference between a <em><strong>timezone</strong></em> and a <em><strong>timezone offset</strong></em>.</p>\n<p>A <em><strong>timezone</strong></em> is identified by an ID, typically in the form of a Region/City e.g. Europe/London. <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Here</a> you can check a list of tz database time zones. The <code>java.time</code> API provides with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to represent a date-time with timezone.</p>\n<p>A <em><strong>timezone offset</strong></em> tells us the amount of time by which the time of a place is offset from the UTC e.g. 2011-12-03T10:15:30+01:00 which tells us that this date-time is offset by <code>01:00</code> hours from UTC i.e. we need to subtract <code>01:00</code> hours to get the equivalent date-time at UTC. The <code>java.time</code> API provides with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> to represent a date-time with time zone offset.</p>\n<p>Some time zones observe <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">DST</a> i.e. America/New_York observes an offset of <code>-05:00</code> hours in the winter while <code>-04:00</code> hours in the summer.<a href=\"https://www.timeanddate.com/time/change/usa/new-york\" rel=\"nofollow noreferrer\">Here</a> you can check an illustration.</p>\n<p>A <code>ZonedDateTime</code> automatically reflects the applicable offset while we create an <code>OffsetDateTime</code> with a fixed offset value. Thus, <code>GMT</code> and <code>GMT+3</code> mentioned in your question are not time zones, they represent time zone offset. A better and more modern way to write it is <code>Z</code> and <code>+03:00</code> respectively.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n        // Current date-time in America/New_York\n        System.out.println(ZonedDateTime.now(zone));\n\n        // A sample winter date-time in America/New_York\n        System.out.println(ZonedDateTime.of(LocalDate.of(2023, 01, 14), LocalTime.of(10, 20, 30), zone));\n\n        // A sample summer date-time in America/New_York\n        System.out.println(ZonedDateTime.of(LocalDate.of(2023, 06, 14), LocalTime.of(10, 20, 30), zone));\n\n        // Current OffsetDateTime with an offset of 00:00 hours (UTC time)\n        System.out.println(OffsetDateTime.now(ZoneOffset.UTC));\n\n        // Current OffsetDateTime with an offset of 05:30 hours\n        OffsetDateTime odt = OffsetDateTime.now(ZoneOffset.of(&quot;+05:30&quot;));\n        System.out.println(odt);\n        // The same OffsetDateTime converted to UTC time (will be 05:30 less)\n        System.out.println(odt.withOffsetSameInstant(ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2023-01-14T12:40:04.348474-05:00[America/New_York]\n2023-01-14T10:20:30-05:00[America/New_York]\n2023-06-14T10:20:30-04:00[America/New_York]\n2023-01-14T17:40:04.352982Z\n2023-01-14T23:10:04.353969+05:30\n2023-01-14T17:40:04.353969Z\n</code></pre>\n<p><a href=\"https://ideone.com/yQGT30\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11614,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":3441609,"answer_count":7,"score":0,"last_activity_date":1673718059,"creation_date":1281367552,"question_id":3441555,"body_markdown":"greetings all\r\ni am using the following method to get the current time in GMT timezone\r\n\r\n    public static Timestamp getCurrentTimeGMT() {\r\n    \r\n    \t\tCalendar c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \t\tlong time = c.getTimeInMillis();\r\n    \t\tlong offset = TimeZone.getDefault().getOffset(time);\r\n    \t\treturn new Timestamp(time - offset);\r\n    \r\n    \t}\r\n\r\nbut when i try to use the same method with minor changes to get the current time in GMT+3\r\nit gives me the same result of GMT ? i don&#39;t know why:\r\n\r\n    public static Timestamp getCurrentTimeGMT3() {\r\n\r\n\t\tCalendar c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT+3&quot;));\r\n\t\tlong time = c.getTimeInMillis();\r\n\t\tlong offset = TimeZone.getDefault().getOffset(time);\r\n\t\treturn new Timestamp(time - offset);\r\n\r\n\t}\r\n\r\nany ideas why the above code doesn&#39;t work properly, and how to do such a method ?\r\n","title":"How to get date in a specific timezone?","body":"<p>greetings all\ni am using the following method to get the current time in GMT timezone</p>\n\n<pre><code>public static Timestamp getCurrentTimeGMT() {\n\n        Calendar c = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n        long time = c.getTimeInMillis();\n        long offset = TimeZone.getDefault().getOffset(time);\n        return new Timestamp(time - offset);\n\n    }\n</code></pre>\n\n<p>but when i try to use the same method with minor changes to get the current time in GMT+3\nit gives me the same result of GMT ? i don't know why:</p>\n\n<pre><code>public static Timestamp getCurrentTimeGMT3() {\n\n    Calendar c = Calendar.getInstance(TimeZone.getTimeZone(\"GMT+3\"));\n    long time = c.getTimeInMillis();\n    long offset = TimeZone.getDefault().getOffset(time);\n    return new Timestamp(time - offset);\n\n}\n</code></pre>\n\n<p>any ideas why the above code doesn't work properly, and how to do such a method ?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1674023311,"post_id":75118977,"comment_id":132623788,"body_markdown":"You need edit sharedpreference value with current value. Since you didn&#39;t edit value, sharedpreference will and always start with last saved value.","body":"You need edit sharedpreference value with current value. Since you didn&#39;t edit value, sharedpreference will and always start with last saved value."}],"owner":{"account_id":27369510,"reputation":1,"user_id":20875777,"display_name":"Ahmad Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673717846,"creation_date":1673709368,"question_id":75118977,"body_markdown":"Hello so I have a App about a fact and tip each 24 hours it displays a fact or tip!\r\nI am pretty new to Android studio anyways to keep track of the fact and tip the user is in I used a variabe &quot;timing&quot; in the start timer i put when the mTimeLeftInMillis == 0 then make timing = 1 and if timing == 1 then do that but ya for that it&#39;s not the case!\r\nwhen the user leaves the timing variable resets and goes back to 124!\r\nCould someone please help me! I tried to do shared perferences in it but It didn&#39;t work!\r\nhere is my java code!\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n        private static final long START_TIME_IN_MILLIS = 30000;\r\n    \r\n        Button tip;\r\n        TextView texttip;\r\n        TextView textfact;\r\n        Button next;\r\n        Button back;\r\n    \r\n        private TextView mTextViewCountDown;\r\n        private Button mButtonStartPause;\r\n        private Button mButtonStart;\r\n    \r\n        private CountDownTimer mCountDownTimer;\r\n    \r\n        private boolean mTimerRunning;\r\n    \r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        private long timing = 124;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n    \r\n            mButtonStartPause = findViewById(R.id.button_start_pause);\r\n            next = (Button)findViewById(R.id.next);\r\n            next.setOnClickListener(this);\r\n            back = (Button)findViewById(R.id.back);\r\n            back.setOnClickListener(this);\r\n            mButtonStart = findViewById(R.id.tip);\r\n            tip = (Button) findViewById(R.id.tip);\r\n            texttip = (TextView)findViewById(R.id.texttip);\r\n            textfact = (TextView)findViewById(R.id.textfact);\r\n    \r\n    \r\n    \r\n            mButtonStartPause.setOnClickListener((new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(mTimerRunning) {\r\n                        mButtonStartPause.setText(&quot;fact &quot;);\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n            mButtonStart.setOnClickListener((new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(mTimerRunning) {\r\n                        mButtonStart.setText(&quot;Tip&quot;);\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            if(view.getId() == R.id.next){\r\n                tip.setVisibility(view.INVISIBLE);\r\n                mButtonStartPause.setVisibility(View.INVISIBLE);\r\n                mButtonStart.setVisibility(View.INVISIBLE);\r\n                textfact.setVisibility(View.INVISIBLE);\r\n                texttip.setVisibility(View.INVISIBLE);\r\n                mTextViewCountDown.setVisibility(View.INVISIBLE);\r\n                next.setVisibility(View.INVISIBLE);\r\n                back.setVisibility(View.VISIBLE);\r\n            }\r\n            if (view.getId() == R.id.back){\r\n                tip.setVisibility(View.VISIBLE);\r\n                mButtonStart.setVisibility(View.VISIBLE);\r\n                mButtonStartPause.setVisibility(View.VISIBLE);\r\n                textfact.setVisibility(View.VISIBLE);\r\n                texttip.setVisibility(View.VISIBLE);\r\n                mTextViewCountDown.setVisibility(View.VISIBLE);\r\n                next.setVisibility(View.VISIBLE);\r\n                back.setVisibility(View.INVISIBLE);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void startTimer() {\r\n            if (timing == 5) {\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;Makeup was invented by  egypt&quot;);\r\n                texttip.setText(&quot;Spend time with a loved one&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 4) {\r\n                timing = 5;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;The US flag was designed by a student&quot;);\r\n                texttip.setText(&quot;Its okay to make mistakes because you will learn from them&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 3) {\r\n                timing = 4;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;DID YOU KNOW THAT SCOTLAND HAS 421 WORDS FOR SNOW!!!&quot;);\r\n                texttip.setText(&quot;Don&#39;t compare your self to others!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n            if (timing == 2) {\r\n                timing = 3;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;There is no q in all 50 states of US!&quot;);\r\n                texttip.setText(&quot;Do what you live. The purpose of life is to be happy!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 1) {\r\n                timing = 2;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;The phillipines has about 7,641 islands!!&quot;);\r\n                texttip.setText(&quot;Develop good habits! Like running outside could benefit you and your mental health and your body by alot!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n    \r\n            if (mTimeLeftInMillis == 0 &amp;&amp; timing == 124) {\r\n                timing = 1;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;Sudan has the most pyramids in the world&quot;);\r\n                texttip.setText(&quot;Look for knowledge not results&quot;);\r\n                textfact.setVisibility(View.VISIBLE);\r\n                texttip.setVisibility(View.VISIBLE);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n            mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n            mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    mTimerRunning= false;\r\n                    updateButtons();\r\n                }\r\n            }.start();\r\n    \r\n            mTimerRunning = true;\r\n            updateButtons();\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private void updateCountDownText() {\r\n            int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\r\n            int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n    \r\n        }\r\n    \r\n        private void updateButtons() {\r\n            if(mTimerRunning){\r\n    \r\n                mButtonStartPause.setText(&quot;fact&quot;);\r\n            }else {\r\n                mButtonStartPause.setText(&quot;fact&quot;);\r\n    \r\n                if (mTimeLeftInMillis &lt; 1000) {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, mEndTime);\r\n    \r\n            editor.apply();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n    \r\n            updateCountDownText();\r\n            updateButtons();\r\n    \r\n            if (mTimerRunning) {\r\n                mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n                mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n    \r\n                if (mTimeLeftInMillis &lt; 0) {\r\n                    mTimeLeftInMillis = 0;\r\n                    mTimerRunning = false;\r\n                    updateCountDownText();\r\n                    updateButtons();\r\n                } else{\r\n                    startTimer();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI tried making two timers and the other timer  will save it because i know how to do shared preferences on timers but not on stuff like that but it didn&#39;t work also because errors started coming!\r\n\r\nI wanted the timing thing to save.\r\n\r\n","title":"Android studio not saving variable","body":"<p>Hello so I have a App about a fact and tip each 24 hours it displays a fact or tip!\nI am pretty new to Android studio anyways to keep track of the fact and tip the user is in I used a variabe &quot;timing&quot; in the start timer i put when the mTimeLeftInMillis == 0 then make timing = 1 and if timing == 1 then do that but ya for that it's not the case!\nwhen the user leaves the timing variable resets and goes back to 124!\nCould someone please help me! I tried to do shared perferences in it but It didn't work!\nhere is my java code!</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{\n    private static final long START_TIME_IN_MILLIS = 30000;\n\n    Button tip;\n    TextView texttip;\n    TextView textfact;\n    Button next;\n    Button back;\n\n    private TextView mTextViewCountDown;\n    private Button mButtonStartPause;\n    private Button mButtonStart;\n\n    private CountDownTimer mCountDownTimer;\n\n    private boolean mTimerRunning;\n\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    private long timing = 124;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n        mButtonStartPause = findViewById(R.id.button_start_pause);\n        next = (Button)findViewById(R.id.next);\n        next.setOnClickListener(this);\n        back = (Button)findViewById(R.id.back);\n        back.setOnClickListener(this);\n        mButtonStart = findViewById(R.id.tip);\n        tip = (Button) findViewById(R.id.tip);\n        texttip = (TextView)findViewById(R.id.texttip);\n        textfact = (TextView)findViewById(R.id.textfact);\n\n\n\n        mButtonStartPause.setOnClickListener((new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(mTimerRunning) {\n                    mButtonStartPause.setText(&quot;fact &quot;);\n                } else {\n                    startTimer();\n                }\n\n            }\n        }));\n\n\n        mButtonStart.setOnClickListener((new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(mTimerRunning) {\n                    mButtonStart.setText(&quot;Tip&quot;);\n                } else {\n                    startTimer();\n                }\n\n            }\n        }));\n\n\n\n\n\n\n    }\n\n    @Override\n    public void onClick(View view) {\n        if(view.getId() == R.id.next){\n            tip.setVisibility(view.INVISIBLE);\n            mButtonStartPause.setVisibility(View.INVISIBLE);\n            mButtonStart.setVisibility(View.INVISIBLE);\n            textfact.setVisibility(View.INVISIBLE);\n            texttip.setVisibility(View.INVISIBLE);\n            mTextViewCountDown.setVisibility(View.INVISIBLE);\n            next.setVisibility(View.INVISIBLE);\n            back.setVisibility(View.VISIBLE);\n        }\n        if (view.getId() == R.id.back){\n            tip.setVisibility(View.VISIBLE);\n            mButtonStart.setVisibility(View.VISIBLE);\n            mButtonStartPause.setVisibility(View.VISIBLE);\n            textfact.setVisibility(View.VISIBLE);\n            texttip.setVisibility(View.VISIBLE);\n            mTextViewCountDown.setVisibility(View.VISIBLE);\n            next.setVisibility(View.VISIBLE);\n            back.setVisibility(View.INVISIBLE);\n        }\n    }\n\n\n\n\n    private void startTimer() {\n        if (timing == 5) {\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;Makeup was invented by  egypt&quot;);\n            texttip.setText(&quot;Spend time with a loved one&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 4) {\n            timing = 5;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;The US flag was designed by a student&quot;);\n            texttip.setText(&quot;Its okay to make mistakes because you will learn from them&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 3) {\n            timing = 4;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;DID YOU KNOW THAT SCOTLAND HAS 421 WORDS FOR SNOW!!!&quot;);\n            texttip.setText(&quot;Don't compare your self to others!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n        if (timing == 2) {\n            timing = 3;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;There is no q in all 50 states of US!&quot;);\n            texttip.setText(&quot;Do what you live. The purpose of life is to be happy!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 1) {\n            timing = 2;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;The phillipines has about 7,641 islands!!&quot;);\n            texttip.setText(&quot;Develop good habits! Like running outside could benefit you and your mental health and your body by alot!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n\n        if (mTimeLeftInMillis == 0 &amp;&amp; timing == 124) {\n            timing = 1;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;Sudan has the most pyramids in the world&quot;);\n            texttip.setText(&quot;Look for knowledge not results&quot;);\n            textfact.setVisibility(View.VISIBLE);\n            texttip.setVisibility(View.VISIBLE);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                mTimerRunning= false;\n                updateButtons();\n            }\n        }.start();\n\n        mTimerRunning = true;\n        updateButtons();\n\n\n    }\n\n\n\n\n\n    private void updateCountDownText() {\n        int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n        String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\n        mTextViewCountDown.setText(timeLeftFormatted);\n\n    }\n\n    private void updateButtons() {\n        if(mTimerRunning){\n\n            mButtonStartPause.setText(&quot;fact&quot;);\n        }else {\n            mButtonStartPause.setText(&quot;fact&quot;);\n\n            if (mTimeLeftInMillis &lt; 1000) {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            } else {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            }\n\n\n\n        }\n    }\n\n\n\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n        editor.putLong(&quot;endTime&quot;, mEndTime);\n\n        editor.apply();\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n        updateCountDownText();\n        updateButtons();\n\n        if (mTimerRunning) {\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n            if (mTimeLeftInMillis &lt; 0) {\n                mTimeLeftInMillis = 0;\n                mTimerRunning = false;\n                updateCountDownText();\n                updateButtons();\n            } else{\n                startTimer();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I tried making two timers and the other timer  will save it because i know how to do shared preferences on timers but not on stuff like that but it didn't work also because errors started coming!</p>\n<p>I wanted the timing thing to save.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1646400543,"post_id":71351295,"comment_id":126119891,"body_markdown":"Did you find: https://developer.android.com/training/sign-in/biometric-auth#determine-how-user-authenticated","body":"Did you find: <a href=\"https://developer.android.com/training/sign-in/biometric-auth#determine-how-user-authenticated\" rel=\"nofollow noreferrer\">developer.android.com/training/sign-in/&hellip;</a>"},{"owner":{"account_id":22319968,"reputation":51,"user_id":16542734,"display_name":"Kevin Patel"},"score":0,"creation_date":1646628110,"post_id":71351295,"comment_id":126162239,"body_markdown":"Maybe you misunderstood the question. I want to know if the user has unlocked the device with either of those methods to perform the next action based on that data.","body":"Maybe you misunderstood the question. I want to know if the user has unlocked the device with either of those methods to perform the next action based on that data."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1646632738,"post_id":71351295,"comment_id":126162964,"body_markdown":"So a duplicate of: [Detect device is secured with pin lock or fingerprint lock of face lock?](https://stackoverflow.com/q/65474598/295004) and it seems it is not possible to get how the user unlocked.","body":"So a duplicate of: <a href=\"https://stackoverflow.com/q/65474598/295004\">Detect device is secured with pin lock or fingerprint lock of face lock?</a> and it seems it is not possible to get how the user unlocked."}],"answers":[{"tags":[],"owner":{"account_id":27051474,"reputation":1,"user_id":20604765,"display_name":"Asad Hayat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673717724,"creation_date":1673592915,"answer_id":75105780,"question_id":71351295,"body_markdown":"You can use `onPasswordSucceeded` callback function from `DeviceAdminReceiver` services in native and hbrid both. This function triggers when user correct PIN code.    \r\n\r\n```java\r\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\r\n    \r\n    @Override\r\n    public void onPasswordSucceeded(@NonNull Context context, @NonNull Intent intent, @NonNull UserHandle user) {\r\n        super.onPasswordSucceeded(context, intent, user); // Your Code here    \r\n    }    \r\n}\r\n```","title":"how to know in android if a user unlocked his device with pin/password/fingerprint/face?","body":"<p>You can use <code>onPasswordSucceeded</code> callback function from <code>DeviceAdminReceiver</code> services in native and hbrid both. This function triggers when user correct PIN code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDeviceAdminReceiver extends DeviceAdminReceiver {\n    \n    @Override\n    public void onPasswordSucceeded(@NonNull Context context, @NonNull Intent intent, @NonNull UserHandle user) {\n        super.onPasswordSucceeded(context, intent, user); // Your Code here    \n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":22319968,"reputation":51,"user_id":16542734,"display_name":"Kevin Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673717724,"creation_date":1646396302,"question_id":71351295,"body_markdown":"In android can we get if the user unlocked his phone with either of below method:\r\n\r\n1. PIN\r\n2. Password\r\n3. FingerPrint\r\n4. FaceID","title":"how to know in android if a user unlocked his device with pin/password/fingerprint/face?","body":"<p>In android can we get if the user unlocked his phone with either of below method:</p>\n<ol>\n<li>PIN</li>\n<li>Password</li>\n<li>FingerPrint</li>\n<li>FaceID</li>\n</ol>\n"},{"tags":["python","java","sumo","traffic-simulation"],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673717396,"creation_date":1673717396,"question_id":75119943,"body_markdown":"I&#39;m facing the problem in title with sumo 1.2.0. I&#39;m using TRAAS in java and I&#39;m sending the following command to sumo and I don&#39;t know how to specify this bitset and it gives me the error Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode. I have also tried with byte instead of int and it didn&#39;t work:\r\n\r\n    public static SumoCommand getNeighbors(String vehID, int mode) {\r\n    \r\n            Object[] array = new Object[]{mode};\r\n            return new SumoCommand(Constants.CMD_GET_VEHICLE_VARIABLE, Constants.VAR_NEIGHBORS, vehID, array, Constants.RESPONSE_GET_VEHICLE_VARIABLE, Constants.TYPE_STRINGLIST);\r\n    \r\n        }\r\nI&#39;m sending the mode as an integer, for example mode=3 which is 101. And also, based on vehicle value retrieve document, I should get the response as String List. But when you check the traci document they receive it as string list of pairs. ","title":"How to solve Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode in sumo traffic simulation?","body":"<p>I'm facing the problem in title with sumo 1.2.0. I'm using TRAAS in java and I'm sending the following command to sumo and I don't know how to specify this bitset and it gives me the error Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode. I have also tried with byte instead of int and it didn't work:</p>\n<pre><code>public static SumoCommand getNeighbors(String vehID, int mode) {\n\n        Object[] array = new Object[]{mode};\n        return new SumoCommand(Constants.CMD_GET_VEHICLE_VARIABLE, Constants.VAR_NEIGHBORS, vehID, array, Constants.RESPONSE_GET_VEHICLE_VARIABLE, Constants.TYPE_STRINGLIST);\n\n    }\n</code></pre>\n<p>I'm sending the mode as an integer, for example mode=3 which is 101. And also, based on vehicle value retrieve document, I should get the response as String List. But when you check the traci document they receive it as string list of pairs.</p>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":12849113,"reputation":409,"user_id":9294564,"display_name":"josev.junior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565633924,"creation_date":1565626567,"answer_id":57464729,"question_id":57464489,"body_markdown":"What is a empty object for you? A object with null value fields? A object with no fields? You can create a custom to check the nodes and deserialize how you want. I see no problem to use it in a generic way.\r\n\r\nI did a little example:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class DeserializerExample&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n    \r\n        private final ObjectMapper defaultMapper;\r\n    \r\n        public DeserializerExample(Class&lt;T&gt; clazz) {\r\n            super(clazz);\r\n            defaultMapper = new ObjectMapper();\r\n        }\r\n    \r\n        @Override\r\n        public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n            System.out.println(&quot;Deserializing...&quot;);\r\n    \r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n    \r\n            for (JsonNode jsonNode : node) {\r\n                if (!jsonNode.isNull()) {\r\n                    return defaultMapper.treeToValue(node, (Class&lt;T&gt;) getValueClass());\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            module.addDeserializer(Person.class, new DeserializerExample(Person.class));\r\n            mapper.registerModule(module);\r\n            \r\n            Person person = mapper.readValue(&quot;{\\&quot;id\\&quot;:1, \\&quot;name\\&quot;:\\&quot;Joseph\\&quot;}&quot;, Person.class);\r\n            \r\n            Person nullPerson = mapper.readValue(&quot;{\\&quot;id\\&quot;:null, \\&quot;name\\&quot;:null}&quot;, Person.class);\r\n            \r\n            System.out.println(&quot;Is null: &quot; + Objects.isNull(person));\r\n            System.out.println(&quot;Is null: &quot; + Objects.isNull(nullPerson));\r\n        }\r\n    \r\n    }","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>What is a empty object for you? A object with null value fields? A object with no fields? You can create a custom to check the nodes and deserialize how you want. I see no problem to use it in a generic way.</p>\n\n<p>I did a little example:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class DeserializerExample&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n\n    private final ObjectMapper defaultMapper;\n\n    public DeserializerExample(Class&lt;T&gt; clazz) {\n        super(clazz);\n        defaultMapper = new ObjectMapper();\n    }\n\n    @Override\n    public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        System.out.println(\"Deserializing...\");\n\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        for (JsonNode jsonNode : node) {\n            if (!jsonNode.isNull()) {\n                return defaultMapper.treeToValue(node, (Class&lt;T&gt;) getValueClass());\n            }\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(Person.class, new DeserializerExample(Person.class));\n        mapper.registerModule(module);\n\n        Person person = mapper.readValue(\"{\\\"id\\\":1, \\\"name\\\":\\\"Joseph\\\"}\", Person.class);\n\n        Person nullPerson = mapper.readValue(\"{\\\"id\\\":null, \\\"name\\\":null}\", Person.class);\n\n        System.out.println(\"Is null: \" + Objects.isNull(person));\n        System.out.println(\"Is null: \" + Objects.isNull(nullPerson));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565731953,"creation_date":1565640987,"answer_id":57467727,"question_id":57464489,"body_markdown":"\r\nThe only way to do this is to use a custom deserializer: \r\n\r\n    class CustomDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException, JsonProcessingException {\r\n        JsonNode node = jsonParser.readValueAsTree();\r\n        if (node.asText().isEmpty()) {\r\n            return null;\r\n        }\r\n        return node.toString();\r\n    }\r\n    }\r\n\r\nThen do: \r\n\r\n    class EventBean {\r\n    public Long eventId;\r\n    public String title;\r\n\r\n    @JsonDeserialize(using = CustomDeserializer.class)\r\n    public String location;\r\n    }\r\n\r\nThis solution courtesy of Sach141 on this [question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30841981/how-to-deserialize-a-blank-json-string-value-to-null-for-java-lang-string","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>The only way to do this is to use a custom deserializer: </p>\n\n<pre><code>class CustomDeserializer extends JsonDeserializer&lt;String&gt; {\n\n@Override\npublic String deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException, JsonProcessingException {\n    JsonNode node = jsonParser.readValueAsTree();\n    if (node.asText().isEmpty()) {\n        return null;\n    }\n    return node.toString();\n}\n}\n</code></pre>\n\n<p>Then do: </p>\n\n<pre><code>class EventBean {\npublic Long eventId;\npublic String title;\n\n@JsonDeserialize(using = CustomDeserializer.class)\npublic String location;\n}\n</code></pre>\n\n<p>This solution courtesy of Sach141 on this <a href=\"https://stackoverflow.com/questions/30841981/how-to-deserialize-a-blank-json-string-value-to-null-for-java-lang-string\">question</a>.</p>\n"},{"tags":[],"owner":{"account_id":6865350,"reputation":1548,"user_id":5580181,"accept_rate":58,"display_name":"Daniele Licitra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595408531,"creation_date":1595408531,"answer_id":63030594,"question_id":57464489,"body_markdown":"I had the same problem.\r\n\r\nI hava a `City` class and sometimes I recive `&#39;city&#39;:{}` from a web service request.\r\n\r\nSo, the standard serializer create a new City with all empty field.\r\n\r\nI created a custom deserializer in this way\r\n\r\n    public class CityJsonDeSerializer extends StdDeserializer&lt;City&gt; {\r\n\r\n    @Override\r\n    public City deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        \r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        \r\n        if(node.isNull() || node.asText().isEmpty()|| node.size()==0)\r\n            return null;\r\n        \r\n        City city = new City();\r\n        ... // set all fields\r\n        return city;\r\n    }\r\n    }\r\n\r\nThe if check the conditions:\r\n- `&#39;city&#39; : null`\r\n- `&#39;city&#39; : &#39;&#39;`\r\n- `&#39;city&#39; : &#39;{}&#39;`\r\n\r\nand if it&#39;s true, the deserializer returns `null`.","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>I had the same problem.</p>\n<p>I hava a <code>City</code> class and sometimes I recive <code>'city':{}</code> from a web service request.</p>\n<p>So, the standard serializer create a new City with all empty field.</p>\n<p>I created a custom deserializer in this way</p>\n<pre><code>public class CityJsonDeSerializer extends StdDeserializer&lt;City&gt; {\n\n@Override\npublic City deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n    \n    JsonNode node = jp.getCodec().readTree(jp);\n    \n    if(node.isNull() || node.asText().isEmpty()|| node.size()==0)\n        return null;\n    \n    City city = new City();\n    ... // set all fields\n    return city;\n}\n}\n</code></pre>\n<p>The if check the conditions:</p>\n<ul>\n<li><code>'city' : null</code></li>\n<li><code>'city' : ''</code></li>\n<li><code>'city' : '{}'</code></li>\n</ul>\n<p>and if it's true, the deserializer returns <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673717269,"creation_date":1673717269,"answer_id":75119926,"question_id":57464489,"body_markdown":"Another approach is to use a `com.fasterxml.jackson.databind.util.Converter&lt;IN,OUT&gt;`, which is essentially a postprocessor for deserialization.\r\n\r\nImagine we have a class:\r\n\r\n    public class Person {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nNow imagine we want to deserialize an empty JSON object `{}` as `null`, rather than a `Person` with `null` values for `id` and `name`. We can create the following `Converter`:\r\n\r\n    public PersonConverter implements Converter&lt;Person,Person&gt; {\r\n        @Override\r\n        public Person convert(Person p) {\r\n            return isEmpty(p) ? null : value;\r\n        }\r\n\r\n        private static boolean isEmpty(Person p) {\r\n            if(p == null) {\r\n                return true;\r\n            }\r\n            if(Optional.ofNullable(p.id).orElse(&quot;&quot;).isEmpty() &amp;&amp; \r\n                    Optional.ofNullable(p.name).orElse(&quot;&quot;).isEmpty()) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public JavaType getInputType(TypeFactory typeFactory) {\r\n            return typeFactory.constructType(Person.class);\r\n        }\r\n\r\n        @Override\r\n        public JavaType getOutputType(TypeFactory typeFactory) {\r\n            return typeFactory.constructType(Person.class);\r\n        }\r\n    }\r\n\r\nNote that we have to handle the blank `String` case because that is (counter-intuitively) the default value assigned to properties not given in JSON, as opposed to `null`.\r\n\r\nGiven the converter, we can then annotate our original `Person` class:\r\n\r\n    @JsonDeserialize(converter=PersonConverter.class)\r\n    public class Person {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nThe benefit of this approach is that you don&#39;t have to think or care about deserialization at all; you&#39;re simply deciding what to do with the deserialized object after it&#39;s deserialized. And there are many other transformations you can do with a `Converter`, too. But this works nicely for nullifying &quot;empty&quot; values.","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>Another approach is to use a <code>com.fasterxml.jackson.databind.util.Converter&lt;IN,OUT&gt;</code>, which is essentially a postprocessor for deserialization.</p>\n<p>Imagine we have a class:</p>\n<pre><code>public class Person {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>Now imagine we want to deserialize an empty JSON object <code>{}</code> as <code>null</code>, rather than a <code>Person</code> with <code>null</code> values for <code>id</code> and <code>name</code>. We can create the following <code>Converter</code>:</p>\n<pre><code>public PersonConverter implements Converter&lt;Person,Person&gt; {\n    @Override\n    public Person convert(Person p) {\n        return isEmpty(p) ? null : value;\n    }\n\n    private static boolean isEmpty(Person p) {\n        if(p == null) {\n            return true;\n        }\n        if(Optional.ofNullable(p.id).orElse(&quot;&quot;).isEmpty() &amp;&amp; \n                Optional.ofNullable(p.name).orElse(&quot;&quot;).isEmpty()) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public JavaType getInputType(TypeFactory typeFactory) {\n        return typeFactory.constructType(Person.class);\n    }\n\n    @Override\n    public JavaType getOutputType(TypeFactory typeFactory) {\n        return typeFactory.constructType(Person.class);\n    }\n}\n</code></pre>\n<p>Note that we have to handle the blank <code>String</code> case because that is (counter-intuitively) the default value assigned to properties not given in JSON, as opposed to <code>null</code>.</p>\n<p>Given the converter, we can then annotate our original <code>Person</code> class:</p>\n<pre><code>@JsonDeserialize(converter=PersonConverter.class)\npublic class Person {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>The benefit of this approach is that you don't have to think or care about deserialization at all; you're simply deciding what to do with the deserialized object after it's deserialized. And there are many other transformations you can do with a <code>Converter</code>, too. But this works nicely for nullifying &quot;empty&quot; values.</p>\n"}],"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18670,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1673717269,"creation_date":1565625433,"question_id":57464489,"body_markdown":"I was asked to change our jackson mapping configuration so that each empty object we deserialize (from JSON) is going to be deserialized as null.\r\n\r\nThe problem is that I&#39;m struggling to do it, but without any luck. Here is a sample of our `ObjectMapper` configuration (and example):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\r\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n    JavaTimeModule javaTimeModule = new JavaTimeModule();\r\n    javaTimeModule.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\r\n    javaTimeModule.addDeserializer(Instant.class, InstantDeserializer.INSTANT);\r\n    mapper.registerModule(javaTimeModule);\r\n    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    warmupMapper(mapper);\r\n\r\n    return mapper;\r\n\r\nI thought about something like adding:\r\n\r\n    mapper.configure(\r\n        DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\r\nbut it just works on strings. \r\n\r\nI&#39;m afraid that using a custom deserializer will not help me, because I&#39;m writing a generic (for all objects) mapper. So I probably need something like a delegator or a post process deserialization method.\r\n\r\nSo for json like `&quot;&quot;` or `{}` I expect to be converted to `null` in java (and not to empty string or `Object` instance).","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>I was asked to change our jackson mapping configuration so that each empty object we deserialize (from JSON) is going to be deserialized as null.</p>\n<p>The problem is that I'm struggling to do it, but without any luck. Here is a sample of our <code>ObjectMapper</code> configuration (and example):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nmapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\nmapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\nJavaTimeModule javaTimeModule = new JavaTimeModule();\njavaTimeModule.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\njavaTimeModule.addDeserializer(Instant.class, InstantDeserializer.INSTANT);\nmapper.registerModule(javaTimeModule);\nmapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nwarmupMapper(mapper);\n\nreturn mapper;\n</code></pre>\n<p>I thought about something like adding:</p>\n<pre><code>mapper.configure(\n    DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n</code></pre>\n<p>but it just works on strings.</p>\n<p>I'm afraid that using a custom deserializer will not help me, because I'm writing a generic (for all objects) mapper. So I probably need something like a delegator or a post process deserialization method.</p>\n<p>So for json like <code>&quot;&quot;</code> or <code>{}</code> I expect to be converted to <code>null</code> in java (and not to empty string or <code>Object</code> instance).</p>\n"},{"tags":["java","exception","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673678135,"creation_date":1673678135,"answer_id":75116230,"question_id":75116199,"body_markdown":"that is because in the inner loop you iterate until for `j &lt; nums.length` but then you access on `j+1` index `nums[j+1]`. Replace the inner loop with \r\n```java\r\nfor (int j = 0; j &lt; nums.length - 1; j++) {\r\n...\r\n```","title":"Bubble Sort code : Exception in main thread","body":"<p>that is because in the inner loop you iterate until for <code>j &lt; nums.length</code> but then you access on <code>j+1</code> index <code>nums[j+1]</code>. Replace the inner loop with</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int j = 0; j &lt; nums.length - 1; j++) {\n...\n</code></pre>\n"}],"owner":{"account_id":27525486,"reputation":1,"user_id":21004868,"display_name":"Vineeta Barkha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673716974,"creation_date":1673677695,"question_id":75116199,"body_markdown":"```\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        int nums[] = {9,8,4,5,6,7};\r\n        int temp=0;\r\n\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            for(int j=0;j&lt;nums.length;j++){\r\n                if(nums[j]&gt;nums[j+1]){                    //swap\r\n                    temp=nums[j];\r\n                    nums[j]=nums[j+1];\r\n                    nums[j+1]=temp;\r\n                }\r\n            }\r\n        }\r\n\r\n        for(int i=0;i&lt;nums.length;i++){          //print array after sorting\r\n            System.out.print(nums[i]+&quot;--&gt;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI need the solution to be sorted in ascending order. However, it keeps throwing an error--&gt;\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at Average.main(Average.java:21).\r\n\r\n","title":"Bubble Sort code : Exception in main thread","body":"<pre><code>public class Main {\n\n    public static void main(String[] args){\n\n        int nums[] = {9,8,4,5,6,7};\n        int temp=0;\n\n        for(int i=0;i&lt;nums.length;i++){\n            for(int j=0;j&lt;nums.length;j++){\n                if(nums[j]&gt;nums[j+1]){                    //swap\n                    temp=nums[j];\n                    nums[j]=nums[j+1];\n                    nums[j+1]=temp;\n                }\n            }\n        }\n\n        for(int i=0;i&lt;nums.length;i++){          //print array after sorting\n            System.out.print(nums[i]+&quot;--&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I need the solution to be sorted in ascending order. However, it keeps throwing an error--&gt;</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at Average.main(Average.java:21).</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673717011,"post_id":75119789,"comment_id":132562249,"body_markdown":"From &lt;https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-&gt; &quot;Deprecated.&quot; &quot;year: the year minus 1900&quot; (as can seen from your output, you have a date in year 3923). Switch to `java.time.Instant` or `LocalDate` if possible","body":"From &lt;<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>&gt; &quot;Deprecated.&quot; &quot;year: the year minus 1900&quot; (as can seen from your output, you have a date in year 3923). Switch to <code>java.time.Instant</code> or <code>LocalDate</code> if possible"}],"answers":[{"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673716754,"creation_date":1673716754,"answer_id":75119870,"question_id":75119789,"body_markdown":"First of all, you [should rather use][1] a `LocalDate` instead of `Date`.\r\n\r\nBut going back to your question.\r\n\r\nCurrent date can be obtained from:\r\n`LocalDate today = LocalDate.now();`\r\n\r\nAnd right now, you need to add appropriate number of days.\r\nIf your case, you can create method:\r\n\r\n    private LocalDate getRandomDateInFutureDaysRange(int start, int end) {\r\n        LocalDate today = LocalDate.now();\r\n        return today.plusDays(ThreadLocalRandom.current().nextLong(start, end));\r\n    }\r\n\r\nFor your use cases you can call it as follows:\r\n1. getRandomDateInFutureDaysRange(0, 90)\r\n2. getRandomDateInFutureDaysRange(90, 180)\r\n3. getRandomDateInFutureDaysRange(181, 270)\r\n\r\n\r\nTo format the date you can use `DateTimeFormatter` as follows:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\nString formattedDate = yourDateToFormat.format(formatter);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate","title":"Generate a random date within some days back from today","body":"<p>First of all, you <a href=\"https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate\">should rather use</a> a <code>LocalDate</code> instead of <code>Date</code>.</p>\n<p>But going back to your question.</p>\n<p>Current date can be obtained from:\n<code>LocalDate today = LocalDate.now();</code></p>\n<p>And right now, you need to add appropriate number of days.\nIf your case, you can create method:</p>\n<pre><code>private LocalDate getRandomDateInFutureDaysRange(int start, int end) {\n    LocalDate today = LocalDate.now();\n    return today.plusDays(ThreadLocalRandom.current().nextLong(start, end));\n}\n</code></pre>\n<p>For your use cases you can call it as follows:</p>\n<ol>\n<li>getRandomDateInFutureDaysRange(0, 90)</li>\n<li>getRandomDateInFutureDaysRange(90, 180)</li>\n<li>getRandomDateInFutureDaysRange(181, 270)</li>\n</ol>\n<p>To format the date you can use <code>DateTimeFormatter</code> as follows:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nString formattedDate = yourDateToFormat.format(formatter);\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75119870,"answer_count":1,"score":0,"last_activity_date":1673716754,"creation_date":1673716157,"question_id":75119789,"body_markdown":"I am trying to generate a random date in yyyy-mm-dd format for the following cases.\r\n1. The random date should be within 90 days range from today.\r\n2. The random date should be within 90 to 180 days from today.\r\n3. The random date should be within 181 to 270 days from today.\r\n\r\nI have written a short code snippet wherein I tried generating a random date but it does not give me the date in the range expected. That is between Sep 9 and Jan 14. It gives me the dates beyond Jan 14 also. \r\n\r\n\r\n\r\n`public static void generateRandomDate() {\r\n\t\tDate d1=new Date(2022, 9, 9);\r\n\t\tDate d2=new Date(2023, 1, 14);\r\n\t\t\r\n\t\tDate randomDate = new Date(ThreadLocalRandom.current()\r\n                .nextLong(d1.getTime(), d2.getTime()));\r\n\t\tSystem.out.println(randomDate);\r\n\t}`\r\n Output: Wed Jan 17 23:41:37 IST 3923\r\nI can use switch case to generate random dates according to the cases I want. But I am not able to get the desired date with the code I am trying and also I need to date to be in yyyy-mm-dd format. It will be really helpful if I will be able to pass the d1 and d2 in that format. ","title":"Generate a random date within some days back from today","body":"<p>I am trying to generate a random date in yyyy-mm-dd format for the following cases.</p>\n<ol>\n<li>The random date should be within 90 days range from today.</li>\n<li>The random date should be within 90 to 180 days from today.</li>\n<li>The random date should be within 181 to 270 days from today.</li>\n</ol>\n<p>I have written a short code snippet wherein I tried generating a random date but it does not give me the date in the range expected. That is between Sep 9 and Jan 14. It gives me the dates beyond Jan 14 also.</p>\n<p>`public static void generateRandomDate() {\nDate d1=new Date(2022, 9, 9);\nDate d2=new Date(2023, 1, 14);</p>\n<pre><code>    Date randomDate = new Date(ThreadLocalRandom.current()\n            .nextLong(d1.getTime(), d2.getTime()));\n    System.out.println(randomDate);\n}`\n</code></pre>\n<p>Output: Wed Jan 17 23:41:37 IST 3923\nI can use switch case to generate random dates according to the cases I want. But I am not able to get the desired date with the code I am trying and also I need to date to be in yyyy-mm-dd format. It will be really helpful if I will be able to pass the d1 and d2 in that format.</p>\n"},{"tags":["java","android","sql","sqlite"],"answers":[{"tags":[],"owner":{"account_id":18151803,"reputation":1,"user_id":21007972,"display_name":"SimpleBear3775"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673716577,"creation_date":1673716577,"answer_id":75119845,"question_id":75119424,"body_markdown":"Call [`notifyItemInserted`](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemInserted(int)) after adding the item to your database and array lists, to update your adapter.\r\n\r\nLike so:\r\n```\r\nString foodName = edtFoodName.getText().toString().trim();\r\nString foodPrice = edtFoodPrice.getText().toString().trim();\r\n\r\nmyDB.addFood(foodName, foodPrice);\r\n\r\nfoodNames.add(foodName);\r\nfoodPrices.add(foodPrice);\r\n\r\ncustomAdapater.notifyItemInserted(foodNames.size() - 1);\r\n```","title":"Data in RecycleCiew from Sql database only updates after i restart the app","body":"<p>Call <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemInserted(int)\" rel=\"nofollow noreferrer\"><code>notifyItemInserted</code></a> after adding the item to your database and array lists, to update your adapter.</p>\n<p>Like so:</p>\n<pre><code>String foodName = edtFoodName.getText().toString().trim();\nString foodPrice = edtFoodPrice.getText().toString().trim();\n\nmyDB.addFood(foodName, foodPrice);\n\nfoodNames.add(foodName);\nfoodPrices.add(foodPrice);\n\ncustomAdapater.notifyItemInserted(foodNames.size() - 1);\n</code></pre>\n"}],"owner":{"account_id":26933067,"reputation":1,"user_id":20505138,"display_name":"Jakov Spirovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673716577,"creation_date":1673713425,"question_id":75119424,"body_markdown":"I am making a feature for my app where the user can add a new food item inside RecyleView. But instead using a new activity I opted out for a popup that appears in the Main Activity where you can enter the food and the price which means the activity doesn&#39;t refresh. How can I display the items in the RecycleView without restarting the app?\r\n\r\nCode in Main Activity:\r\n\r\n```\r\npublic class SecondScreen extends AppCompatActivity {\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.second_screen);\r\n\r\nmyDB = new MyDataBaseHelper(SecondScreen.this);\r\nfoodID = new ArrayList&lt;&gt;();\r\nfoodName = new ArrayList&lt;&gt;();\r\nfoodPrice = new ArrayList&lt;&gt;();\r\n\r\n popUp();\r\n\r\n//Data from Sql Tables\r\nstoreDataInArrays();\r\ncustomAdapater = new CustomAdapater(SecondScreen.this, foodID, foodName, foodPrice);\r\nrecyclerView.setLayoutManager(new LinearLayoutManager(SecondScreen.this));\r\nrecyclerView.setAdapter(customAdapater);\r\n\r\n//Storing the data from the sql table\r\n     public void storeDataInArrays(){\r\n        Cursor cursor = myDB.readAllData();\r\n        //Gets the count of the rows\r\n        if(cursor.getCount() == 0){\r\n            Toast.makeText(this, &quot;No data&quot;, Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            while(cursor.moveToNext()){\r\n                foodID.add(cursor.getString(0));\r\n                foodName.add(cursor.getString(1));\r\n                foodPrice.add(cursor.getString(2));\r\n            }\r\n        }\r\n     }\r\n}\r\n\r\npublic void PopUP(){\r\nbtnAddFood.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                MyDataBaseHelper myDB = new MyDataBaseHelper(SecondScreen.this);\r\n           myDB.addFood(edtFoodName.getText().toString().trim(),\r\n           edtFoodPrice.getText().toString().trim());\r\n           \r\n           //Dismisses the popUp after button click\r\n           myDialog.dismiss();\r\n            }\r\n        });\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\nCode for RecycleView Adapter\r\n\r\n```\r\npublic class CustomAdapater extends RecyclerView.Adapter&lt;CustomAdapater.MyViewHolder&gt; {\r\n\r\n     Context context;\r\n     private ArrayList foodID, foodName, foodPrice;\r\n     CheckBox chkItem;\r\n\r\n    //Constructor\r\n    CustomAdapater(Context context, ArrayList foodID, ArrayList foodName, ArrayList foodPrice){\r\n\r\n        //Declares to global variables that can be used in the MainAcivity\r\n       this.context = context;\r\n       this.foodID = foodID;\r\n       this.foodName = foodName;\r\n       this.foodPrice = foodPrice;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CustomAdapater.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        //Inflates the item_row layout\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.item_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CustomAdapater.MyViewHolder holder, int position) {\r\n        holder.checkItem.setText(String.valueOf(foodName.get(position)));\r\n        holder.foodPrice_txt.setText(String.valueOf(foodPrice.get(position) + &quot;$&quot;));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return foodID.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView foodPrice_txt;\r\n        CheckBox checkItem;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            checkItem = itemView.findViewById(R.id.chkItemRow);\r\n            foodPrice_txt = itemView.findViewById(R.id.txtPriceRow);\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Data in RecycleCiew from Sql database only updates after i restart the app","body":"<p>I am making a feature for my app where the user can add a new food item inside RecyleView. But instead using a new activity I opted out for a popup that appears in the Main Activity where you can enter the food and the price which means the activity doesn't refresh. How can I display the items in the RecycleView without restarting the app?</p>\n<p>Code in Main Activity:</p>\n<pre><code>public class SecondScreen extends AppCompatActivity {\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.second_screen);\n\nmyDB = new MyDataBaseHelper(SecondScreen.this);\nfoodID = new ArrayList&lt;&gt;();\nfoodName = new ArrayList&lt;&gt;();\nfoodPrice = new ArrayList&lt;&gt;();\n\n popUp();\n\n//Data from Sql Tables\nstoreDataInArrays();\ncustomAdapater = new CustomAdapater(SecondScreen.this, foodID, foodName, foodPrice);\nrecyclerView.setLayoutManager(new LinearLayoutManager(SecondScreen.this));\nrecyclerView.setAdapter(customAdapater);\n\n//Storing the data from the sql table\n     public void storeDataInArrays(){\n        Cursor cursor = myDB.readAllData();\n        //Gets the count of the rows\n        if(cursor.getCount() == 0){\n            Toast.makeText(this, &quot;No data&quot;, Toast.LENGTH_SHORT).show();\n        }else{\n            while(cursor.moveToNext()){\n                foodID.add(cursor.getString(0));\n                foodName.add(cursor.getString(1));\n                foodPrice.add(cursor.getString(2));\n            }\n        }\n     }\n}\n\npublic void PopUP(){\nbtnAddFood.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                MyDataBaseHelper myDB = new MyDataBaseHelper(SecondScreen.this);\n           myDB.addFood(edtFoodName.getText().toString().trim(),\n           edtFoodPrice.getText().toString().trim());\n           \n           //Dismisses the popUp after button click\n           myDialog.dismiss();\n            }\n        });\n\n}\n\n}\n</code></pre>\n<p>Code for RecycleView Adapter</p>\n<pre><code>public class CustomAdapater extends RecyclerView.Adapter&lt;CustomAdapater.MyViewHolder&gt; {\n\n     Context context;\n     private ArrayList foodID, foodName, foodPrice;\n     CheckBox chkItem;\n\n    //Constructor\n    CustomAdapater(Context context, ArrayList foodID, ArrayList foodName, ArrayList foodPrice){\n\n        //Declares to global variables that can be used in the MainAcivity\n       this.context = context;\n       this.foodID = foodID;\n       this.foodName = foodName;\n       this.foodPrice = foodPrice;\n    }\n\n    @NonNull\n    @Override\n    public CustomAdapater.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        //Inflates the item_row layout\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.item_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CustomAdapater.MyViewHolder holder, int position) {\n        holder.checkItem.setText(String.valueOf(foodName.get(position)));\n        holder.foodPrice_txt.setText(String.valueOf(foodPrice.get(position) + &quot;$&quot;));\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return foodID.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView foodPrice_txt;\n        CheckBox checkItem;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            checkItem = itemView.findViewById(R.id.chkItemRow);\n            foodPrice_txt = itemView.findViewById(R.id.txtPriceRow);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","vert.x"],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673716294,"creation_date":1582469524,"answer_id":60363416,"question_id":60358209,"body_markdown":"The original question and answer mention `setHandler()`, which existed in Vert.x 3, but was removed in Vert.x 4. The `setHandler()` was an alias for `onComplete()`\r\n\r\n`compose()` flattens the `Futures` while `map()` doesn&#39;t. In Vert.x, `flatMap()` is simply an alias for `compose()`\r\n\r\nUse `compose` when the argument of your lambda is a Future. Use `map` when it&#39;s a simple object. You should almost always use `compose` in Vert.x, since most methods will return you a Future.\r\n\r\nWhen is it important to flatten values?  \r\n\r\nConsider the following example:\r\n\r\n```java\r\nFuture&lt;Future&lt;String&gt;&gt; f = Future.succeededFuture(Future.succeededFuture(&quot;a&quot;));\r\n```\r\n\r\nNote that the type of `f` is `Future&lt;Future&lt;String&gt;&gt;`\r\n\r\nNow let&#39;s see what happens when we invoke `compose` and `map` on that `Future` \r\n\r\n```java\r\nFuture&lt;String&gt; composeResult = f.compose(a -&gt; a);\r\n\r\nFuture&lt;Future&lt;String&gt;&gt; mapResult = f.map(a -&gt; a);\r\n```\r\n\r\nNotice that `compose` stripped one level of nesting, &quot;flattening&quot; the results, while `map` didn&#39;t.\r\n\r\nThe stripping is valuable, since in asynchronous frameworks such as Vert.x, almost all results are deferred values, such as `Future`. By using `compose`, we ensure that the nesting doesn&#39;t occur.","title":"What is difference between setHandler/map/composite in Vert.x","body":"<p>The original question and answer mention <code>setHandler()</code>, which existed in Vert.x 3, but was removed in Vert.x 4. The <code>setHandler()</code> was an alias for <code>onComplete()</code></p>\n<p><code>compose()</code> flattens the <code>Futures</code> while <code>map()</code> doesn't. In Vert.x, <code>flatMap()</code> is simply an alias for <code>compose()</code></p>\n<p>Use <code>compose</code> when the argument of your lambda is a Future. Use <code>map</code> when it's a simple object. You should almost always use <code>compose</code> in Vert.x, since most methods will return you a Future.</p>\n<p>When is it important to flatten values?</p>\n<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;Future&lt;String&gt;&gt; f = Future.succeededFuture(Future.succeededFuture(&quot;a&quot;));\n</code></pre>\n<p>Note that the type of <code>f</code> is <code>Future&lt;Future&lt;String&gt;&gt;</code></p>\n<p>Now let's see what happens when we invoke <code>compose</code> and <code>map</code> on that <code>Future</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;String&gt; composeResult = f.compose(a -&gt; a);\n\nFuture&lt;Future&lt;String&gt;&gt; mapResult = f.map(a -&gt; a);\n</code></pre>\n<p>Notice that <code>compose</code> stripped one level of nesting, &quot;flattening&quot; the results, while <code>map</code> didn't.</p>\n<p>The stripping is valuable, since in asynchronous frameworks such as Vert.x, almost all results are deferred values, such as <code>Future</code>. By using <code>compose</code>, we ensure that the nesting doesn't occur.</p>\n"}],"owner":{"account_id":4545667,"reputation":45,"user_id":3692360,"display_name":"frodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60363416,"answer_count":1,"score":3,"last_activity_date":1673716294,"creation_date":1582418833,"question_id":60358209,"body_markdown":"Vert.x has a class called Future (https://vertx.io/docs/apidocs/io/vertx/core/Future.html). I`ve already read the doc for setHandler, map and composite in javadoc but I really cannot understand, for me it sounds like as the same thing, could someone which have already had the same doubt help me with this issue?","title":"What is difference between setHandler/map/composite in Vert.x","body":"<p>Vert.x has a class called Future (<a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Future.html\" rel=\"nofollow noreferrer\">https://vertx.io/docs/apidocs/io/vertx/core/Future.html</a>). I`ve already read the doc for setHandler, map and composite in javadoc but I really cannot understand, for me it sounds like as the same thing, could someone which have already had the same doubt help me with this issue?</p>\n"},{"tags":["java","android","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587069,"creation_date":1673587069,"answer_id":75105138,"question_id":75103269,"body_markdown":"`requestFocus()` is great for focus but it might collide with native editing which is a different process. \r\n\r\nWhat you want to use is `startEditingAsync()` to and possibly a `stopEditing()` if the wrong field might be edited. \r\n\r\n\r\nAs a sidenote You shouldn&#39;t issue `repaint()` calls unless you&#39;re building a custom component. You should **NEVER** invoke sleep on the EDT. This is a serious bug!","title":"CodenameOne Text Field Focus on Android","body":"<p><code>requestFocus()</code> is great for focus but it might collide with native editing which is a different process.</p>\n<p>What you want to use is <code>startEditingAsync()</code> to and possibly a <code>stopEditing()</code> if the wrong field might be edited.</p>\n<p>As a sidenote You shouldn't issue <code>repaint()</code> calls unless you're building a custom component. You should <strong>NEVER</strong> invoke sleep on the EDT. This is a serious bug!</p>\n"},{"tags":[],"owner":{"account_id":10869534,"reputation":121,"user_id":7991879,"display_name":"Doug Sisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673716191,"creation_date":1673716191,"answer_id":75119793,"question_id":75103269,"body_markdown":"Thanks, Shai. Obviously I&#39;m a newbie at CNO and mobile GUI development.\r\n\r\nIn addition to wrapping textedit edits in startEditingAsync() and startEditingAsync(), I had to handle these edits outside of the datachanged event handler.\r\n\r\n    public void onBarcode_tDataChangeEvent(com.codename1.ui.Component cmp, int type, int index) {\r\n        BarcodeDataChangedFired = true;\r\n    }\r\n\r\n    task = new TimerTask() {        \r\n        // run() method to carry out the action of the task\r\n        public void run() {          \r\n        if (BarcodeDataChangedFired) {\r\n                BarcodeDataChangedFired = false;\r\n                \r\n                String s1 = gui_Barcode_t.getText();\r\n    \r\n                // If this event was fired because of the gui_Barcode_ta.setText(&quot; &quot;)..\r\n                if (s1.length() &lt; 1) { \r\n                    // Set focus back to the barcode field.\r\n                    gui_Barcode_t.startEditingAsync();\r\n                    //gui_BarcodeList_ta.stopEditing(); // THIS PREVENTS THE TEXTCHANGE FROM FIRING!\r\n                    return;\r\n                }\r\n    \r\n                // Play a sound to indicate that the barcode was read.\r\n                PlayMP3(&quot;bell4.wav&quot;);\r\n    \r\n                // Copy the new barcode into the barcode list.\r\n                gui_BarcodeList_ta.startEditingAsync();\r\n                gui_BarcodeList_ta.setText(s1);\r\n                gui_BarcodeList_ta.stopEditing();\r\n    \r\n                // Clear the barcode field.\r\n                gui_Barcode_t.startEditingAsync();\r\n                // This is the only way to clear the TextArea, and it will fire the DataChanged event.\r\n                gui_Barcode_t.clear();\r\n                gui_BarcodeList_ta.stopEditing();\r\n            }\r\n        }\r\n    };        ","title":"CodenameOne Text Field Focus on Android","body":"<p>Thanks, Shai. Obviously I'm a newbie at CNO and mobile GUI development.</p>\n<p>In addition to wrapping textedit edits in startEditingAsync() and startEditingAsync(), I had to handle these edits outside of the datachanged event handler.</p>\n<pre><code>public void onBarcode_tDataChangeEvent(com.codename1.ui.Component cmp, int type, int index) {\n    BarcodeDataChangedFired = true;\n}\n\ntask = new TimerTask() {        \n    // run() method to carry out the action of the task\n    public void run() {          \n    if (BarcodeDataChangedFired) {\n            BarcodeDataChangedFired = false;\n            \n            String s1 = gui_Barcode_t.getText();\n\n            // If this event was fired because of the gui_Barcode_ta.setText(&quot; &quot;)..\n            if (s1.length() &lt; 1) { \n                // Set focus back to the barcode field.\n                gui_Barcode_t.startEditingAsync();\n                //gui_BarcodeList_ta.stopEditing(); // THIS PREVENTS THE TEXTCHANGE FROM FIRING!\n                return;\n            }\n\n            // Play a sound to indicate that the barcode was read.\n            PlayMP3(&quot;bell4.wav&quot;);\n\n            // Copy the new barcode into the barcode list.\n            gui_BarcodeList_ta.startEditingAsync();\n            gui_BarcodeList_ta.setText(s1);\n            gui_BarcodeList_ta.stopEditing();\n\n            // Clear the barcode field.\n            gui_Barcode_t.startEditingAsync();\n            // This is the only way to clear the TextArea, and it will fire the DataChanged event.\n            gui_Barcode_t.clear();\n            gui_BarcodeList_ta.stopEditing();\n        }\n    }\n};        \n</code></pre>\n"}],"owner":{"account_id":10869534,"reputation":121,"user_id":7991879,"display_name":"Doug Sisco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75119793,"answer_count":2,"score":1,"last_activity_date":1673716191,"creation_date":1673565292,"question_id":75103269,"body_markdown":"I have a textfield &#39;Barcode&#39; and a textarea &#39;BarcodeList&#39;. \r\n\r\nAt startup I want to set focus on the &#39;Barcode&#39; field. My Android scanner works just like a keyboard and successfully scans into this field. \r\n\r\nWhen the &#39;Barcode&#39; textfield changes I want to add the contents to the &#39;BarcodeList&#39; textarea and then set focus back to the &#39;Barcode&#39; field to get ready for the next scan.\r\n\r\nThe problem is that this works in the simulator but not on the Android device. On the device (Unitech HT730), the scanned data is added to the &#39;Barcode&#39; field and then is copied to the &#39;BarcodeList&#39;, however the focus is not returned to the &#39;Barcode&#39; field. The blinking cursor appears in the field to the far right, but I cannot scan (or type) into this field. Once I touch the field, the cursor jumps to the far left and I am able to scan or type into the field again.\r\n\r\nI have tried inserting sleep(100) just before calls to requestFocus(). I have also tried using repaint(). The only thing that helps is to remove the call to clear(). Its seems that clear() must mess with something other than just the &#39;Barcode&#39; text contents, but I cannot find any alternative way to clear the Barcode contents: even setText(&quot;&quot;) does not work.\r\n\r\nBelow is the code snippet that I am using:\r\n\r\n    gui_Barcode_t.addDataChangeListener((i1, i2) -&gt; {           \r\n        String s1 = gui_Barcode_t.getText();\r\n        \r\n        // A DataChange event will fire after the field is cleared, so test to see if this has occurred.\r\n        if (s1.length()&gt; 0) {           \r\n            List_s += s1 + &quot;\\n&quot;;\r\n\r\n            gui_BarcodeList_ta.requestFocus();\r\n            gui_BarcodeList_ta.setText(List_s);\r\n            sleep(100);            \r\n            gui_BarcodeList_ta.repaint();\r\n        } else {\r\n            // This works in sim: repaint(), sleep(100), requestFocus()\r\n            gui_Barcode_t.repaint();\r\n            sleep(100);            \r\n            gui_Barcode_t.requestFocus();\r\n            return;\r\n        }\r\n\r\n        // Note that a DataChange event will fire after the field is cleared.\r\n        // This works in sim: clear(), sleep(100), repaint(), sleep(100), requestFocus().\r\n        // This works on Android device if clear() is removed, but the text field is not cleared.\r\n        gui_Barcode_t.clear();\r\n        sleep(100);\r\n        gui_Barcode_t.repaint();\r\n        sleep(100);            \r\n        gui_Barcode_t.requestFocus();\r\n    });","title":"CodenameOne Text Field Focus on Android","body":"<p>I have a textfield 'Barcode' and a textarea 'BarcodeList'.</p>\n<p>At startup I want to set focus on the 'Barcode' field. My Android scanner works just like a keyboard and successfully scans into this field.</p>\n<p>When the 'Barcode' textfield changes I want to add the contents to the 'BarcodeList' textarea and then set focus back to the 'Barcode' field to get ready for the next scan.</p>\n<p>The problem is that this works in the simulator but not on the Android device. On the device (Unitech HT730), the scanned data is added to the 'Barcode' field and then is copied to the 'BarcodeList', however the focus is not returned to the 'Barcode' field. The blinking cursor appears in the field to the far right, but I cannot scan (or type) into this field. Once I touch the field, the cursor jumps to the far left and I am able to scan or type into the field again.</p>\n<p>I have tried inserting sleep(100) just before calls to requestFocus(). I have also tried using repaint(). The only thing that helps is to remove the call to clear(). Its seems that clear() must mess with something other than just the 'Barcode' text contents, but I cannot find any alternative way to clear the Barcode contents: even setText(&quot;&quot;) does not work.</p>\n<p>Below is the code snippet that I am using:</p>\n<pre><code>gui_Barcode_t.addDataChangeListener((i1, i2) -&gt; {           \n    String s1 = gui_Barcode_t.getText();\n    \n    // A DataChange event will fire after the field is cleared, so test to see if this has occurred.\n    if (s1.length()&gt; 0) {           \n        List_s += s1 + &quot;\\n&quot;;\n\n        gui_BarcodeList_ta.requestFocus();\n        gui_BarcodeList_ta.setText(List_s);\n        sleep(100);            \n        gui_BarcodeList_ta.repaint();\n    } else {\n        // This works in sim: repaint(), sleep(100), requestFocus()\n        gui_Barcode_t.repaint();\n        sleep(100);            \n        gui_Barcode_t.requestFocus();\n        return;\n    }\n\n    // Note that a DataChange event will fire after the field is cleared.\n    // This works in sim: clear(), sleep(100), repaint(), sleep(100), requestFocus().\n    // This works on Android device if clear() is removed, but the text field is not cleared.\n    gui_Barcode_t.clear();\n    sleep(100);\n    gui_Barcode_t.repaint();\n    sleep(100);            \n    gui_Barcode_t.requestFocus();\n});\n</code></pre>\n"},{"tags":["java","android","iphone","hashmap","nsdictionary"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":10,"up_vote_count":339,"is_accepted":true,"score":329,"last_activity_date":1597895597,"creation_date":1322158254,"answer_id":8261124,"question_id":8261075,"body_markdown":"You can use the **Double Brace Initialization** as shown below:\r\n\r\n    Map&lt;String, Integer&gt; hashMap = new HashMap&lt;String, Integer&gt;()\r\n    {{\r\n         put(&quot;One&quot;, 1);\r\n         put(&quot;Two&quot;, 2);\r\n         put(&quot;Three&quot;, 3);\r\n    }};\r\n\r\nAs a piece of warning, please refer to the thread [Efficiency of Java ‚ÄúDouble Brace Initialization&quot;][1] for the performance implications that it might have. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You can use the <strong>Double Brace Initialization</strong> as shown below:</p>\n<pre><code>Map&lt;String, Integer&gt; hashMap = new HashMap&lt;String, Integer&gt;()\n{{\n     put(&quot;One&quot;, 1);\n     put(&quot;Two&quot;, 2);\n     put(&quot;Three&quot;, 3);\n}};\n</code></pre>\n<p>As a piece of warning, please refer to the thread <a href=\"https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\">Efficiency of Java ‚ÄúDouble Brace Initialization&quot;</a> for the performance implications that it might have.</p>\n"},{"tags":[],"owner":{"account_id":245885,"reputation":301,"user_id":519662,"display_name":"dfraser"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1322159113,"creation_date":1322159113,"answer_id":8261261,"question_id":8261075,"body_markdown":"Java has no map literal, so there&#39;s no nice way to do exactly what you&#39;re asking.\r\n\r\nIf you need that type of syntax, consider some Groovy, which is Java-compatible and lets you do:\r\n\r\n    def map = [name:&quot;Gromit&quot;, likes:&quot;cheese&quot;, id:1234]","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Java has no map literal, so there's no nice way to do exactly what you're asking.</p>\n\n<p>If you need that type of syntax, consider some Groovy, which is Java-compatible and lets you do:</p>\n\n<pre><code>def map = [name:\"Gromit\", likes:\"cheese\", id:1234]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"down_vote_count":9,"up_vote_count":13,"is_accepted":false,"score":4,"last_activity_date":1322164349,"creation_date":1322164349,"answer_id":8261886,"question_id":8261075,"body_markdown":"        boolean x;\r\n        for (x = false, \r\n            map.put(&quot;One&quot;, new Integer(1)), \r\n\t        map.put(&quot;Two&quot;, new Integer(2)),      \r\n\t        map.put(&quot;Three&quot;, new Integer(3)); x;);\r\n\r\nIgnoring the declaration of `x` (which is necessary to avoid an &quot;unreachable statement&quot; diagnostic), technically it&#39;s only one statement.","title":"adding multiple entries to a HashMap at once in one statement","body":"<pre><code>    boolean x;\n    for (x = false, \n        map.put(\"One\", new Integer(1)), \n        map.put(\"Two\", new Integer(2)),      \n        map.put(\"Three\", new Integer(3)); x;);\n</code></pre>\n\n<p>Ignoring the declaration of <code>x</code> (which is necessary to avoid an \"unreachable statement\" diagnostic), technically it's only one statement.</p>\n"},{"tags":[],"owner":{"account_id":161104,"reputation":759,"user_id":381633,"display_name":"JimmyT"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1412277404,"creation_date":1400098947,"answer_id":23664406,"question_id":8261075,"body_markdown":"You can use Google Guava&#39;s ImmutableMap.  This works as long as you don&#39;t care about modifying the Map later (you can&#39;t call .put() on the map after constructing it using this method):\r\n\r\n    import com.google.common.collect.ImmutableMap;\r\n\r\n    // For up to five entries, use .of()\r\n    Map&lt;String, Integer&gt; littleMap = ImmutableMap.of(\r\n        &quot;One&quot;, Integer.valueOf(1),\r\n        &quot;Two&quot;, Integer.valueOf(2),\r\n        &quot;Three&quot;, Integer.valueOf(3)\r\n    );\r\n\r\n    // For more than five entries, use .builder()\r\n    Map&lt;String, Integer&gt; bigMap = ImmutableMap.&lt;String, Integer&gt;builder()\r\n        .put(&quot;One&quot;, Integer.valueOf(1))\r\n        .put(&quot;Two&quot;, Integer.valueOf(2))\r\n        .put(&quot;Three&quot;, Integer.valueOf(3))\r\n        .put(&quot;Four&quot;, Integer.valueOf(4))\r\n        .put(&quot;Five&quot;, Integer.valueOf(5))\r\n        .put(&quot;Six&quot;, Integer.valueOf(6))\r\n        .build();\r\n\r\nSee also: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\r\n\r\nA somewhat related question: https://stackoverflow.com/questions/5947869/like-immutablemap-of-for-hashmap-in-maps\r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You can use Google Guava's ImmutableMap.  This works as long as you don't care about modifying the Map later (you can't call .put() on the map after constructing it using this method):</p>\n\n<pre><code>import com.google.common.collect.ImmutableMap;\n\n// For up to five entries, use .of()\nMap&lt;String, Integer&gt; littleMap = ImmutableMap.of(\n    \"One\", Integer.valueOf(1),\n    \"Two\", Integer.valueOf(2),\n    \"Three\", Integer.valueOf(3)\n);\n\n// For more than five entries, use .builder()\nMap&lt;String, Integer&gt; bigMap = ImmutableMap.&lt;String, Integer&gt;builder()\n    .put(\"One\", Integer.valueOf(1))\n    .put(\"Two\", Integer.valueOf(2))\n    .put(\"Three\", Integer.valueOf(3))\n    .put(\"Four\", Integer.valueOf(4))\n    .put(\"Five\", Integer.valueOf(5))\n    .put(\"Six\", Integer.valueOf(6))\n    .build();\n</code></pre>\n\n<p>See also: <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html</a></p>\n\n<p>A somewhat related question: <a href=\"https://stackoverflow.com/questions/5947869/like-immutablemap-of-for-hashmap-in-maps\">ImmutableMap.of() workaround for HashMap in Maps?</a></p>\n"},{"tags":[],"owner":{"account_id":358084,"reputation":6560,"user_id":698632,"accept_rate":64,"display_name":"Dakusan"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1664756950,"creation_date":1431771800,"answer_id":30274460,"question_id":8261075,"body_markdown":"Here&#39;s a simple class that will accomplish what you want\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class QuickHash extends HashMap&lt;String, String&gt; {\r\n        public QuickHash(String... KeyValuePairs) {\r\n            super(KeyValuePairs.length/2);\r\n            for(int i=0; i&lt;KeyValuePairs.length; i+=2)\r\n                put(KeyValuePairs[i], KeyValuePairs[i+1]);\r\n        }\r\n    }\r\n\r\nAnd then to use it\r\n\r\n    Map&lt;String, String&gt; Foo=new QuickHash(\r\n        &quot;a&quot;, &quot;1&quot;,\r\n        &quot;b&quot;, &quot;2&quot;\r\n    );\r\n\r\nThis yields `{a:1, b:2}`","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Here's a simple class that will accomplish what you want</p>\n<pre><code>import java.util.HashMap;\n\npublic class QuickHash extends HashMap&lt;String, String&gt; {\n    public QuickHash(String... KeyValuePairs) {\n        super(KeyValuePairs.length/2);\n        for(int i=0; i&lt;KeyValuePairs.length; i+=2)\n            put(KeyValuePairs[i], KeyValuePairs[i+1]);\n    }\n}\n</code></pre>\n<p>And then to use it</p>\n<pre><code>Map&lt;String, String&gt; Foo=new QuickHash(\n    &quot;a&quot;, &quot;1&quot;,\n    &quot;b&quot;, &quot;2&quot;\n);\n</code></pre>\n<p>This yields <code>{a:1, b:2}</code></p>\n"},{"tags":[],"owner":{"account_id":4302218,"reputation":77,"user_id":3515682,"display_name":"Uri Ziv"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1441746150,"creation_date":1441746150,"answer_id":32467189,"question_id":8261075,"body_markdown":"Another approach may be writing special function to extract all elements values from one string by regular-expression:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Example {\r\n    \tpublic static void main (String[] args){\r\n    \t\tHashMap&lt;String,Integer&gt; hashMapStringInteger = createHashMapStringIntegerInOneStat(&quot;&#39;one&#39; =&gt; &#39;1&#39;, &#39;two&#39; =&gt; &#39;2&#39; , &#39;three&#39;=&gt;&#39;3&#39;  &quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(hashMapStringInteger); // {one=1, two=2, three=3}\r\n    \t}\r\n    \r\n    \tprivate static HashMap&lt;String, Integer&gt; createHashMapStringIntegerInOneStat(String str) {\r\n    \t\tHashMap&lt;String, Integer&gt; returnVar = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    \t\tString currentStr = str;\r\n    \t\tPattern pattern1 = Pattern.compile(&quot;^\\\\s*&#39;([^&#39;]*)&#39;\\\\s*=\\\\s*&gt;\\\\s*&#39;([^&#39;]*)&#39;\\\\s*,?\\\\s*(.*)$&quot;);\r\n    \r\n    \t\t// Parse all elements in the given string.\r\n    \t\tboolean thereIsMore = true;\r\n    \t\twhile (thereIsMore){\r\n    \t\t\tMatcher matcher = pattern1.matcher(currentStr);\r\n    \t\t\tif (matcher.find()) {\r\n    \t\t\t\treturnVar.put(matcher.group(1),Integer.valueOf(matcher.group(2)));\r\n    \t\t\t\tcurrentStr = matcher.group(3);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tthereIsMore = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Validate that all elements in the given string were parsed properly\r\n    \t\tif (currentStr.length() &gt; 0){\r\n    \t\t\tSystem.out.println(&quot;WARNING: Problematic string format. given String: &quot; + str);\r\n    \t\t}\r\n    \r\n    \t\treturn returnVar;\r\n    \t}\r\n    }\r\n    ","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Another approach may be writing special function to extract all elements values from one string by regular-expression:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main (String[] args){\n        HashMap&lt;String,Integer&gt; hashMapStringInteger = createHashMapStringIntegerInOneStat(\"'one' =&gt; '1', 'two' =&gt; '2' , 'three'=&gt;'3'  \");\n\n        System.out.println(hashMapStringInteger); // {one=1, two=2, three=3}\n    }\n\n    private static HashMap&lt;String, Integer&gt; createHashMapStringIntegerInOneStat(String str) {\n        HashMap&lt;String, Integer&gt; returnVar = new HashMap&lt;String, Integer&gt;();\n\n        String currentStr = str;\n        Pattern pattern1 = Pattern.compile(\"^\\\\s*'([^']*)'\\\\s*=\\\\s*&gt;\\\\s*'([^']*)'\\\\s*,?\\\\s*(.*)$\");\n\n        // Parse all elements in the given string.\n        boolean thereIsMore = true;\n        while (thereIsMore){\n            Matcher matcher = pattern1.matcher(currentStr);\n            if (matcher.find()) {\n                returnVar.put(matcher.group(1),Integer.valueOf(matcher.group(2)));\n                currentStr = matcher.group(3);\n            }\n            else{\n                thereIsMore = false;\n            }\n        }\n\n        // Validate that all elements in the given string were parsed properly\n        if (currentStr.length() &gt; 0){\n            System.out.println(\"WARNING: Problematic string format. given String: \" + str);\n        }\n\n        return returnVar;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2018772,"reputation":4438,"user_id":1805439,"accept_rate":80,"display_name":"Timo T&#252;rschmann"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1538383943,"creation_date":1461679547,"answer_id":36867326,"question_id":8261075,"body_markdown":"Since Java 9, it is possible to use [`Map.of(...)`][1], like so:\r\n\r\n    Map&lt;String, Integer&gt; immutableMap = Map.of(&quot;One&quot;, 1, \r\n                                               &quot;Two&quot;, 2, \r\n                                               &quot;Three&quot;, 3);\r\n\r\nThis map is immutable. If you want the map to be mutable, you have to add:\r\n\r\n    Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;(immutableMap);\r\n\r\nIf you can&#39;t use Java 9, you&#39;re stuck with writing a similar helper method yourself or using a third-party library (like [Guava][2]) to add that functionality for you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\r\n  [2]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#of--","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Since Java 9, it is possible to use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of(...)</code></a>, like so:</p>\n\n<pre><code>Map&lt;String, Integer&gt; immutableMap = Map.of(\"One\", 1, \n                                           \"Two\", 2, \n                                           \"Three\", 3);\n</code></pre>\n\n<p>This map is immutable. If you want the map to be mutable, you have to add:</p>\n\n<pre><code>Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;(immutableMap);\n</code></pre>\n\n<p>If you can't use Java 9, you're stuck with writing a similar helper method yourself or using a third-party library (like <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#of--\" rel=\"noreferrer\">Guava</a>) to add that functionality for you.</p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644565377,"creation_date":1495534327,"answer_id":44131887,"question_id":8261075,"body_markdown":"You could add this utility function to a utility class:\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\r\n\t\tMap&lt;K, V&gt; map = new HashMap&lt;&gt;(keyValues.length / 2);\r\n\r\n\t\tfor (int index = 0; index &lt; keyValues.length / 2; index++) {\r\n            map.put((K)keyValues[index * 2], (V)keyValues[index * 2 + 1]);\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t}\r\n\r\n    Map&lt;Integer, String&gt; map1 = YourClass.mapOf(1, &quot;value1&quot;, 2, &quot;value2&quot;);\r\n    Map&lt;String, String&gt; map2 = YourClass.mapOf(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\r\n\r\nNote: in `Java 9` you can use [Map.of][1]\r\n\r\n[1]: http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You could add this utility function to a utility class:</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;(keyValues.length / 2);\n\n    for (int index = 0; index &lt; keyValues.length / 2; index++) {\n        map.put((K)keyValues[index * 2], (V)keyValues[index * 2 + 1]);\n    }\n\n    return map;\n}\n\nMap&lt;Integer, String&gt; map1 = YourClass.mapOf(1, &quot;value1&quot;, 2, &quot;value2&quot;);\nMap&lt;String, String&gt; map2 = YourClass.mapOf(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\n</code></pre>\n<p>Note: in <code>Java 9</code> you can use <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-\" rel=\"nofollow noreferrer\">Map.of</a></p>\n"},{"tags":[],"owner":{"account_id":8487283,"reputation":1292,"user_id":6364956,"accept_rate":86,"display_name":"Sadiq Ali"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1525122873,"creation_date":1505995314,"answer_id":46343417,"question_id":8261075,"body_markdown":"Maps have also had factory methods added in Java 9. For up to 10 entries Maps have overloaded constructors that take pairs of keys and values. For example we could build a map of various cities and their populations (according to google in October 2016) as follow:\r\n\r\n    Map&lt;String, Integer&gt; cities = Map.of(&quot;Brussels&quot;, 1_139000, &quot;Cardiff&quot;, 341_000);\r\n\r\nThe var-args case for Map is a little bit harder, you need to have both keys and values, but in Java, methods can‚Äôt have two var-args parameters. So the general case is handled by taking a var-args method of `Map.Entry&lt;K, V&gt;` objects and adding a static `entry()` method that constructs them. For example:\r\n\r\n    Map&lt;String, Integer&gt; cities = Map.ofEntries(\r\n        entry(&quot;Brussels&quot;, 1139000), \r\n        entry(&quot;Cardiff&quot;, 341000)\r\n    );\r\n\r\n\r\n[Collection Factory Methods in Java 9][1] \r\n\r\n\r\n  [1]: http://iteratrlearning.com/java9/2016/11/09/java9-collection-factory-methods.html","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Maps have also had factory methods added in Java 9. For up to 10 entries Maps have overloaded constructors that take pairs of keys and values. For example we could build a map of various cities and their populations (according to google in October 2016) as follow:</p>\n\n<pre><code>Map&lt;String, Integer&gt; cities = Map.of(\"Brussels\", 1_139000, \"Cardiff\", 341_000);\n</code></pre>\n\n<p>The var-args case for Map is a little bit harder, you need to have both keys and values, but in Java, methods can‚Äôt have two var-args parameters. So the general case is handled by taking a var-args method of <code>Map.Entry&lt;K, V&gt;</code> objects and adding a static <code>entry()</code> method that constructs them. For example:</p>\n\n<pre><code>Map&lt;String, Integer&gt; cities = Map.ofEntries(\n    entry(\"Brussels\", 1139000), \n    entry(\"Cardiff\", 341000)\n);\n</code></pre>\n\n<p><a href=\"http://iteratrlearning.com/java9/2016/11/09/java9-collection-factory-methods.html\" rel=\"noreferrer\">Collection Factory Methods in Java 9</a> </p>\n"},{"tags":[],"owner":{"account_id":5038301,"reputation":19,"user_id":4046496,"display_name":"alex5161"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610136452,"creation_date":1610136452,"answer_id":65635725,"question_id":8261075,"body_markdown":"Based on solution, presented by @Dakusan (the class defining to extend the HashMap), I did it this way:\r\n\r\n      public static HashMap&lt;String,String&gt; SetHash(String...pairs) {\r\n         HashMap&lt;String,String&gt; rtn = new HashMap&lt;String,String&gt;(pairs.length/2);\r\n         for ( int n=0; n &lt; pairs.length; n+=2 ) rtn.put(pairs[n], pairs[n + 1]);\r\n        return rtn; \r\n      }\r\n.. and using it this way:\r\n\r\n    HashMap&lt;String,String&gt; hm = SetHash( &quot;one&quot;,&quot;aa&quot;, &quot;two&quot;,&quot;bb&quot;, &quot;tree&quot;,&quot;cc&quot;);\r\n\r\n(Not sure if there is any disadvantages in that way (I am not a java developer, just has to do some task in java), but it works and seems to me comfortable.) \r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Based on solution, presented by @Dakusan (the class defining to extend the HashMap), I did it this way:</p>\n<pre><code>  public static HashMap&lt;String,String&gt; SetHash(String...pairs) {\n     HashMap&lt;String,String&gt; rtn = new HashMap&lt;String,String&gt;(pairs.length/2);\n     for ( int n=0; n &lt; pairs.length; n+=2 ) rtn.put(pairs[n], pairs[n + 1]);\n    return rtn; \n  }\n</code></pre>\n<p>.. and using it this way:</p>\n<pre><code>HashMap&lt;String,String&gt; hm = SetHash( &quot;one&quot;,&quot;aa&quot;, &quot;two&quot;,&quot;bb&quot;, &quot;tree&quot;,&quot;cc&quot;);\n</code></pre>\n<p>(Not sure if there is any disadvantages in that way (I am not a java developer, just has to do some task in java), but it works and seems to me comfortable.)</p>\n"},{"tags":[],"owner":{"account_id":12178678,"reputation":81,"user_id":8890929,"display_name":"Shuyou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673716081,"creation_date":1673716081,"answer_id":75119778,"question_id":8261075,"body_markdown":"We can use JSON to achieve this, like following using Gson\r\n````\r\nMap&lt;String,Integer&gt; hashMap = new Gson().fromJson(&quot;{&#39;one&#39;:1,&#39;two&#39;:2,&#39;three&#39;:3}&quot;,HashMap.class);\r\n````\r\nOr using Jackson\r\n````\r\nMap&lt;String,Integer&gt; hashMap = new ObjectMapper().readValue(&quot;{&#39;one&#39;:1,&#39;two&#39;:2,&#39;three&#39;:3}&quot;,HashMap.class);\r\n````","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>We can use JSON to achieve this, like following using Gson</p>\n<pre><code>Map&lt;String,Integer&gt; hashMap = new Gson().fromJson(&quot;{'one':1,'two':2,'three':3}&quot;,HashMap.class);\n</code></pre>\n<p>Or using Jackson</p>\n<pre><code>Map&lt;String,Integer&gt; hashMap = new ObjectMapper().readValue(&quot;{'one':1,'two':2,'three':3}&quot;,HashMap.class);\n</code></pre>\n"}],"owner":{"account_id":164442,"reputation":10993,"user_id":387184,"accept_rate":97,"display_name":"user387184"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222879,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":8261124,"answer_count":11,"score":180,"last_activity_date":1673716081,"creation_date":1322157911,"question_id":8261075,"body_markdown":"I need to initialize a constant HashMap and would like to do it in one line statement. Avoiding sth like this:\r\n\r\n      hashMap.put(&quot;One&quot;, new Integer(1)); // adding value into HashMap\r\n      hashMap.put(&quot;Two&quot;, new Integer(2));      \r\n      hashMap.put(&quot;Three&quot;, new Integer(3));\r\n\r\nsimilar to this in objective C:\r\n\r\n    [NSDictionary dictionaryWithObjectsAndKeys:\r\n    @&quot;w&quot;,[NSNumber numberWithInt:1],\r\n    @&quot;K&quot;,[NSNumber numberWithInt:2],\r\n    @&quot;e&quot;,[NSNumber numberWithInt:4],\r\n    @&quot;z&quot;,[NSNumber numberWithInt:5],\r\n    @&quot;l&quot;,[NSNumber numberWithInt:6],\r\n    nil] \r\n\r\nI have not found any example that shows how to do this having looked at so many.\r\n   \r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>I need to initialize a constant HashMap and would like to do it in one line statement. Avoiding sth like this:</p>\n\n<pre><code>  hashMap.put(\"One\", new Integer(1)); // adding value into HashMap\n  hashMap.put(\"Two\", new Integer(2));      \n  hashMap.put(\"Three\", new Integer(3));\n</code></pre>\n\n<p>similar to this in objective C:</p>\n\n<pre><code>[NSDictionary dictionaryWithObjectsAndKeys:\n@\"w\",[NSNumber numberWithInt:1],\n@\"K\",[NSNumber numberWithInt:2],\n@\"e\",[NSNumber numberWithInt:4],\n@\"z\",[NSNumber numberWithInt:5],\n@\"l\",[NSNumber numberWithInt:6],\nnil] \n</code></pre>\n\n<p>I have not found any example that shows how to do this having looked at so many.</p>\n"},{"tags":["java","database","firebase","android-studio","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583585904,"creation_date":1583585904,"answer_id":60577763,"question_id":60577477,"body_markdown":"Firebase Realtime Database only allows accessing data by its path. There is no way to access data by a derived property such as its index/position. \r\n\r\nIf you need to access data by index, you should use the indices as the keys for those items. But note that Firebase in most cases recommends against doing this, as it hurts scalability and won&#39;t work while offline. See [Best Practices: Arrays in Firebase](https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html).","title":"Retrieve data from Firebase by Refering to a Child&#39;s Index","body":"<p>Firebase Realtime Database only allows accessing data by its path. There is no way to access data by a derived property such as its index/position. </p>\n\n<p>If you need to access data by index, you should use the indices as the keys for those items. But note that Firebase in most cases recommends against doing this, as it hurts scalability and won't work while offline. See <a href=\"https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html\" rel=\"nofollow noreferrer\">Best Practices: Arrays in Firebase</a>.</p>\n"}],"owner":{"account_id":14013359,"reputation":73,"user_id":10121467,"display_name":"Luke Xuereb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673715781,"creation_date":1583583641,"question_id":60577477,"body_markdown":"I am attempting to access, one by one, the values inside of the &#39;Progress&#39; Child, as can be seen in the [following image][3]. Having done my research, I cannot seem to find a function which allows me to refer to a child by its index. Is it possible to access these records by referring to some sort of index, such as [0], [1], [2] etc. as opposed to referring to their key?\r\n\r\n\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/H7xNt.jpg","title":"Retrieve data from Firebase by Refering to a Child&#39;s Index","body":"<p>I am attempting to access, one by one, the values inside of the 'Progress' Child, as can be seen in the <a href=\"https://i.stack.imgur.com/H7xNt.jpg\" rel=\"nofollow noreferrer\">following image</a>. Having done my research, I cannot seem to find a function which allows me to refer to a child by its index. Is it possible to access these records by referring to some sort of index, such as [0], [1], [2] etc. as opposed to referring to their key?</p>\n"},{"tags":["java","intellij-idea","graalvm"],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg ≈†elajev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602962009,"creation_date":1602942122,"answer_id":64403118,"question_id":64399624,"body_markdown":"One way to make IDEA recognise the graal-sdk.jar classes is to add it to your dependencies via the build tool. The jar is available on Maven Central: https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0\r\n\r\n\r\nso adding it to the dependencies with Maven scope: `provided` will make IDEA to index it and provide content assist, etc. but it won&#39;t be used or packaged, cause it&#39;s provided. \r\n\r\nFor Gradle I think it&#39;s the `compileOnly`. \r\n\r\nEdit: \r\nFor completeness, on JDK11 things are packaged in `jmod` files: https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE \r\n\r\nAnd maybe you can convince IDE to look at them. I think it&#39;s the `$GRAALVM_HOME/jmods/org.graalvm.sdk.jmod`\r\n\r\n","title":"IntelliJ IDEA not indexing GraalVM libraries","body":"<p>One way to make IDEA recognise the graal-sdk.jar classes is to add it to your dependencies via the build tool. The jar is available on Maven Central: <a href=\"https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0</a></p>\n<p>so adding it to the dependencies with Maven scope: <code>provided</code> will make IDEA to index it and provide content assist, etc. but it won't be used or packaged, cause it's provided.</p>\n<p>For Gradle I think it's the <code>compileOnly</code>.</p>\n<p>Edit:\nFor completeness, on JDK11 things are packaged in <code>jmod</code> files: <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE</a></p>\n<p>And maybe you can convince IDE to look at them. I think it's the <code>$GRAALVM_HOME/jmods/org.graalvm.sdk.jmod</code></p>\n"}],"owner":{"account_id":14955940,"reputation":65,"user_id":10797245,"display_name":"tofuthefirst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64403118,"answer_count":1,"score":5,"last_activity_date":1673715208,"creation_date":1602916078,"question_id":64399624,"body_markdown":"I&#39;m kinda new to this GraalVM stuff so please help me. I am using IntelliJ IDEA as my IDE and Gradle as my standard build system. I&#39;m using the inbuilt GraalVM JDK (it&#39;s based on Java 11) for all of my projects. So, my problem is when I try to import the `org.graalvm.polyglot` or any such package it draws a squiggly line under the import which signifies that IntelliJ IDEA doesn&#39;t recognize the package and hasn&#39;t indexed it. But when I run it with gradle or any method, the imported packages work. The IDE&#39;s autocomplete doesn&#39;t work. It is kinda irritating to type out the whole name of the class and method just like one would while programming in Notepad. I have seen some tutorials for this which suggested that I add the `graal-sdk.jar` as a dependency but the jar file wasn&#39;t to be found in the Java 11 version of GraalVM. I even added the whole `lib` folder to IntelliJ&#39;s `Libraries` section in `Project Structure`. All of these did not work out. Could anybody help me out with this?","title":"IntelliJ IDEA not indexing GraalVM libraries","body":"<p>I'm kinda new to this GraalVM stuff so please help me. I am using IntelliJ IDEA as my IDE and Gradle as my standard build system. I'm using the inbuilt GraalVM JDK (it's based on Java 11) for all of my projects. So, my problem is when I try to import the <code>org.graalvm.polyglot</code> or any such package it draws a squiggly line under the import which signifies that IntelliJ IDEA doesn't recognize the package and hasn't indexed it. But when I run it with gradle or any method, the imported packages work. The IDE's autocomplete doesn't work. It is kinda irritating to type out the whole name of the class and method just like one would while programming in Notepad. I have seen some tutorials for this which suggested that I add the <code>graal-sdk.jar</code> as a dependency but the jar file wasn't to be found in the Java 11 version of GraalVM. I even added the whole <code>lib</code> folder to IntelliJ's <code>Libraries</code> section in <code>Project Structure</code>. All of these did not work out. Could anybody help me out with this?</p>\n"},{"tags":["java","mono","reactive-programming","spring-webflux","flux"],"answers":[{"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673715192,"creation_date":1673715192,"answer_id":75119668,"question_id":75117906,"body_markdown":"It is hard to know what you exactly want to achieve but assuming that:\r\n- `groupedFlux` is a `Flux&lt;Integer&gt;`\r\n- `someOtherCallThatReturnsThisFluxOfDouble` is a `Flux&lt;Double&gt;`\r\n- `outsideFlux` is a `Flux&lt;A&gt;`\r\n\r\ntake a look on the following code snippet, it should help you:\r\n\r\n    public static void main(String[] args) {\r\n        Flux&lt;Integer&gt; groupedFlux = Flux.just(1, 2, 3, 4);\r\n        Flux&lt;A&gt; listOfA = groupedFlux\r\n                .map(DemoApplication::randomListOfDoubles)\r\n                .flatMap(fluxWithDoubles -&gt; fluxWithDoubles.collectList().flatMap(x -&gt; Mono.just(new A(x))));\r\n    }\r\n    \r\n    static class A {\r\n        private List&lt;Double&gt; doubles;\r\n        public A(List&lt;Double&gt; doubles) {\r\n            this.doubles = doubles;\r\n        }\r\n    }\r\n    \r\n    private static Flux&lt;Double&gt; randomListOfDoubles(int number) {\r\n        return Flux.just(100.00 + number, 200.00 + number, 300.00 + number);\r\n    }","title":"How to consume elements of flux inside flux?","body":"<p>It is hard to know what you exactly want to achieve but assuming that:</p>\n<ul>\n<li><code>groupedFlux</code> is a <code>Flux&lt;Integer&gt;</code></li>\n<li><code>someOtherCallThatReturnsThisFluxOfDouble</code> is a <code>Flux&lt;Double&gt;</code></li>\n<li><code>outsideFlux</code> is a <code>Flux&lt;A&gt;</code></li>\n</ul>\n<p>take a look on the following code snippet, it should help you:</p>\n<pre><code>public static void main(String[] args) {\n    Flux&lt;Integer&gt; groupedFlux = Flux.just(1, 2, 3, 4);\n    Flux&lt;A&gt; listOfA = groupedFlux\n            .map(DemoApplication::randomListOfDoubles)\n            .flatMap(fluxWithDoubles -&gt; fluxWithDoubles.collectList().flatMap(x -&gt; Mono.just(new A(x))));\n}\n\nstatic class A {\n    private List&lt;Double&gt; doubles;\n    public A(List&lt;Double&gt; doubles) {\n        this.doubles = doubles;\n    }\n}\n\nprivate static Flux&lt;Double&gt; randomListOfDoubles(int number) {\n    return Flux.just(100.00 + number, 200.00 + number, 300.00 + number);\n}\n</code></pre>\n"}],"owner":{"account_id":25372929,"reputation":1,"user_id":19186430,"display_name":"Harsh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673715192,"creation_date":1673699130,"question_id":75117906,"body_markdown":"My code:-\r\n\r\n    Flux&lt;A&gt; outsideFlux = groupedFlux.map(element -&gt; {\r\n\r\n            //some operations that convert element to A\r\n\r\n            Flux&lt;Double&gt; insideFlux = someOtherCallThatReturnsThisFluxOfDouble;\r\n\r\n            insideFlux.subscribe(val -&gt; A.setVal(val));\r\n          }\r\n        )\r\n\r\nIssue with above is even after executing A.setVal(val),it remains null only(as value lives inside the stream only and dies afterwards).How do I set this value in A ?\r\n\r\n","title":"How to consume elements of flux inside flux?","body":"<p>My code:-</p>\n<pre><code>Flux&lt;A&gt; outsideFlux = groupedFlux.map(element -&gt; {\n\n        //some operations that convert element to A\n\n        Flux&lt;Double&gt; insideFlux = someOtherCallThatReturnsThisFluxOfDouble;\n\n        insideFlux.subscribe(val -&gt; A.setVal(val));\n      }\n    )\n</code></pre>\n<p>Issue with above is even after executing A.setVal(val),it remains null only(as value lives inside the stream only and dies afterwards).How do I set this value in A ?</p>\n"},{"tags":["java","android","androidx"],"comments":[{"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"score":0,"creation_date":1577372762,"post_id":59489188,"comment_id":105154560,"body_markdown":"Nikolai Shevchenko\nPlz give me solution thanks","body":"Nikolai Shevchenko Plz give me solution thanks"},{"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"score":0,"creation_date":1597040660,"post_id":59489188,"comment_id":111993579,"body_markdown":"migrate to Androidx   this is  the pure  solution","body":"migrate to Androidx   this is  the pure  solution"}],"answers":[{"tags":[],"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578044689,"creation_date":1578044689,"answer_id":59576244,"question_id":59489188,"body_markdown":"**I solve it solution to myself hurraaaaaaaaaah!\r\nAfter a long searching i get the solution  by  writing like that   excluding group of com.android.support and support-v4   from facebook audience network** \r\n\r\n**implementation (&#39;com.facebook.android:audience-network-sdk:5.6.0&#39;){\r\n      exclude group: &#39;com.android.support&#39;\r\n      exclude module: &#39;support-v4&#39;\r\n  }**","title":"Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar","body":"<p><strong>I solve it solution to myself hurraaaaaaaaaah!\nAfter a long searching i get the solution  by  writing like that   excluding group of com.android.support and support-v4   from facebook audience network</strong> </p>\n\n<p><strong>implementation ('com.facebook.android:audience-network-sdk:5.6.0'){\n      exclude group: 'com.android.support'\n      exclude module: 'support-v4'\n  }</strong></p>\n"}],"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673714573,"creation_date":1577366929,"question_id":59489188,"body_markdown":"How can I solve following error?\r\n```\r\n 1 exception was raised by workers:\r\n  java.lang.RuntimeException: Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$1 found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  \r\n  Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n```\r\n\r\nGradle config:\r\n\r\n```gradle\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.postmaker&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 29\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation files(&#39;libs/photoeditor.jar&#39;)\r\n    implementation files(&#39;libs/filtres/AutoLayout.jar&#39;)\r\n    implementation &#39;com.facebook.android:audience-network-sdk:4.99.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test:core:1.2.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.1.0&#39;\r\n    // AndroidJUnitRunner and JUnit Rules\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.2.0&#39;\r\n}\r\n```\r\n","title":"Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar","body":"<p>How can I solve following error?</p>\n\n<pre><code> 1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$1 found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n\n  Go to the documentation to learn how to &lt;a href=\"d.android.com/r/tools/classpath-sync-errors\"&gt;Fix dependency resolution errors&lt;/a&gt;.\n</code></pre>\n\n<p>Gradle config:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId \"com.example.postmaker\"\n        minSdkVersion 19\n        targetSdkVersion 29\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    configurations.all {\n        resolutionStrategy {\n            force 'androidx.appcompat:appcompat:1.1.0'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation files('libs/photoeditor.jar')\n    implementation files('libs/filtres/AutoLayout.jar')\n    implementation 'com.facebook.android:audience-network-sdk:4.99.1'\n    implementation 'com.google.android.material:material:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test:core:1.2.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    // AndroidJUnitRunner and JUnit Rules\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n}\n</code></pre>\n"},{"tags":["java","server","minecraft","minestom"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1630744628,"post_id":69053258,"comment_id":122043715,"body_markdown":"Can you expand on *it doesn&#39;t work sometimes* ? What happens that makes you think that it doesn&#39;t work? Is your code throwing an exception? Granted I&#39;m not a Minecraft player, nonetheless I did not understand what you are trying to demonstrate with your 28 second video.","body":"Can you expand on <i>it doesn&#39;t work sometimes</i> ? What happens that makes you think that it doesn&#39;t work? Is your code throwing an exception? Granted I&#39;m not a Minecraft player, nonetheless I did not understand what you are trying to demonstrate with your 28 second video."},{"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"score":0,"creation_date":1630748063,"post_id":69053258,"comment_id":122044428,"body_markdown":"Oops sorry, It seems to not work when im far away and the server client doesnt say they used the water bucket for some reason. thats what ive got from my testing anyway","body":"Oops sorry, It seems to not work when im far away and the server client doesnt say they used the water bucket for some reason. thats what ive got from my testing anyway"},{"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"score":0,"creation_date":1630749456,"post_id":69053258,"comment_id":122044665,"body_markdown":"well it is meant to place the water server side, when that happens a message saying &quot;placed block&quot; appears in chat. sometimes it is only placed client side and no message appears in chat, when this happens the water stays after you teleport back to the top platform. there are no errors in the console","body":"well it is meant to place the water server side, when that happens a message saying &quot;placed block&quot; appears in chat. sometimes it is only placed client side and no message appears in chat, when this happens the water stays after you teleport back to the top platform. there are no errors in the console"}],"answers":[{"tags":[],"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1631003479,"creation_date":1631003479,"answer_id":69084834,"question_id":69053258,"body_markdown":"I believe on the look vector is the next tick‚Äôs look vector for placing water, but the server hasn‚Äôt gotten this new look vector so it uses the old one","title":"Minestom (Minecraft) water bucket placing","body":"<p>I believe on the look vector is the next tick‚Äôs look vector for placing water, but the server hasn‚Äôt gotten this new look vector so it uses the old one</p>\n"}],"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69084834,"answer_count":1,"score":0,"last_activity_date":1673714315,"creation_date":1630740559,"question_id":69053258,"body_markdown":"I am creating a Minecraft server using minestom which is a server building library, it had so no code and you have to make everything yourself. So im trying to make it so players can place water but it doesnt work sometimes. If im falling and place it then it gets placed client side but not server side sometimes, when its placed server side it says &quot;placed block&quot; in the chat.\r\n\r\n```java\r\n        globalEventHandler.addListener(PlayerUseItemOnBlockEvent.class, event -&gt; {\r\n            final Player player = event.getPlayer();\r\n            if (event.getItemStack().getMaterial() != Material.WATER_BUCKET) {\r\n                return;\r\n            }\r\n\r\n            if (player.getInstance().getBlock(new Vec(event.getPosition().x(),\r\n                    event.getPosition().y(),\r\n                    event.getPosition().z())) == Block.IRON_BLOCK\r\n                    &amp;&amp; event.getBlockFace().normalY() == 1) {\r\n\r\n                Point placedPos = event.getPosition();\r\n                placedPos.withX(placedPos.x() + event.getBlockFace().normalX());\r\n                placedPos.withY(placedPos.y() + event.getBlockFace().normalY());\r\n                placedPos.withZ(placedPos.z() + event.getBlockFace().normalZ());\r\n\r\n                player.getInstance().setBlock(placedPos, Block.WATER);\r\n\r\n                player.sendMessage(&quot;placed water&quot;);\r\n            }\r\n\r\n            player.getInventory().update();\r\n        });\r\n```\r\n\r\nVideo - Ignore the platform disappearing, bug that I know how to fix but havent just yet but that also only happens when the water is placed server side too\r\nhttps://youtu.be/njH58gbXPlE","title":"Minestom (Minecraft) water bucket placing","body":"<p>I am creating a Minecraft server using minestom which is a server building library, it had so no code and you have to make everything yourself. So im trying to make it so players can place water but it doesnt work sometimes. If im falling and place it then it gets placed client side but not server side sometimes, when its placed server side it says &quot;placed block&quot; in the chat.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        globalEventHandler.addListener(PlayerUseItemOnBlockEvent.class, event -&gt; {\n            final Player player = event.getPlayer();\n            if (event.getItemStack().getMaterial() != Material.WATER_BUCKET) {\n                return;\n            }\n\n            if (player.getInstance().getBlock(new Vec(event.getPosition().x(),\n                    event.getPosition().y(),\n                    event.getPosition().z())) == Block.IRON_BLOCK\n                    &amp;&amp; event.getBlockFace().normalY() == 1) {\n\n                Point placedPos = event.getPosition();\n                placedPos.withX(placedPos.x() + event.getBlockFace().normalX());\n                placedPos.withY(placedPos.y() + event.getBlockFace().normalY());\n                placedPos.withZ(placedPos.z() + event.getBlockFace().normalZ());\n\n                player.getInstance().setBlock(placedPos, Block.WATER);\n\n                player.sendMessage(&quot;placed water&quot;);\n            }\n\n            player.getInventory().update();\n        });\n</code></pre>\n<p>Video - Ignore the platform disappearing, bug that I know how to fix but havent just yet but that also only happens when the water is placed server side too\n<a href=\"https://youtu.be/njH58gbXPlE\" rel=\"nofollow noreferrer\">https://youtu.be/njH58gbXPlE</a></p>\n"},{"tags":["java","hana"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1554488899,"post_id":55539440,"comment_id":97786024,"body_markdown":"22ms ? How many rows you are testing/fetching ? Is elastic on the same host ?  How do you know that getString() is taken more time ? How do you benchmark your code ?","body":"22ms ? How many rows you are testing/fetching ? Is elastic on the same host ?  How do you know that getString() is taken more time ? How do you benchmark your code ?"},{"owner":{"account_id":15684944,"reputation":1,"user_id":11317894,"display_name":"Bindu"},"score":0,"creation_date":1554569829,"post_id":55539440,"comment_id":97804080,"body_markdown":"Elastic server is on same host. Processing 300 rows. Problem is not with MySQL, with SAP HANA Resultset, it is taking almost 20 seconds where as MySQL is taking 22ms only","body":"Elastic server is on same host. Processing 300 rows. Problem is not with MySQL, with SAP HANA Resultset, it is taking almost 20 seconds where as MySQL is taking 22ms only"}],"answers":[{"tags":[],"owner":{"account_id":442392,"reputation":6491,"user_id":832991,"display_name":"Eralper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554719027,"creation_date":1554719027,"answer_id":55571243,"question_id":55539440,"body_markdown":"HANA database works best when table is created is COLUMN TABLE\r\n\r\nYou can find a sample [CREATE COLUMN TABLE script][1] on given sample. Then you will not need an index for a half million record in selectivity is high on table columns\r\n\r\nIt will be better to test the query performance on HANA database by directly executing the query on database, you will get execution statistics easily regarding database performance.\r\n\r\nOtherwise, the problem might be related with connection too\r\n\r\n\r\n  [1]: http://www.kodyaz.com/sap-abap/create-calculated-column-in-sap-hana-database-table.aspx","title":"Retrieve the records from SAP HANA database is slow in JAVA","body":"<p>HANA database works best when table is created is COLUMN TABLE</p>\n\n<p>You can find a sample <a href=\"http://www.kodyaz.com/sap-abap/create-calculated-column-in-sap-hana-database-table.aspx\" rel=\"nofollow noreferrer\">CREATE COLUMN TABLE script</a> on given sample. Then you will not need an index for a half million record in selectivity is high on table columns</p>\n\n<p>It will be better to test the query performance on HANA database by directly executing the query on database, you will get execution statistics easily regarding database performance.</p>\n\n<p>Otherwise, the problem might be related with connection too</p>\n"}],"owner":{"account_id":15684944,"reputation":1,"user_id":11317894,"display_name":"Bindu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673714260,"creation_date":1554480268,"question_id":55539440,"body_markdown":"The performance of the application to retrieve the records from SAP HANA ResultSet is slow.\r\n        \r\nTo verify the performance I created the following scenario and tested. I used MySQL and SAP HANA for comparison purpose.\r\n        \r\nCreated the same table in both MySQL and SAP HANA databases and generated the same data in the table in both databases.\r\n        \r\nCreated report using MySQL database and time taken to publish data into elastic search ‚Äì 22 milli secs\r\n        \r\nCreated report using SAP HANA database and time taken to publish data into elastic search ‚Äì 19441 milli secs\r\n      \r\nThe following code is taking more time   \r\n       \r\n    while(rs.next()){\r\n\r\n    &lt;!--code to fetch the the records !--&gt;\r\n     rs.getString(&quot;actorId&quot;);\r\n    }\r\n\r\nThe same code is being used for both MySQL and SAP HANA database.\r\n\r\nI have put log file statements to see the time taken for execution and observed SAP HANA is taking more time to fetch and process the records from ResultSet.","title":"Retrieve the records from SAP HANA database is slow in JAVA","body":"<p>The performance of the application to retrieve the records from SAP HANA ResultSet is slow.</p>\n\n<p>To verify the performance I created the following scenario and tested. I used MySQL and SAP HANA for comparison purpose.</p>\n\n<p>Created the same table in both MySQL and SAP HANA databases and generated the same data in the table in both databases.</p>\n\n<p>Created report using MySQL database and time taken to publish data into elastic search ‚Äì 22 milli secs</p>\n\n<p>Created report using SAP HANA database and time taken to publish data into elastic search ‚Äì 19441 milli secs</p>\n\n<p>The following code is taking more time   </p>\n\n<pre><code>while(rs.next()){\n\n&lt;!--code to fetch the the records !--&gt;\n rs.getString(\"actorId\");\n}\n</code></pre>\n\n<p>The same code is being used for both MySQL and SAP HANA database.</p>\n\n<p>I have put log file statements to see the time taken for execution and observed SAP HANA is taking more time to fetch and process the records from ResultSet.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672381021,"post_id":74958661,"comment_id":132278765,"body_markdown":"Please refer: https://github.com/apache/netbeans/issues/5134","body":"Please refer: <a href=\"https://github.com/apache/netbeans/issues/5134\" rel=\"nofollow noreferrer\">github.com/apache/netbeans/issues/5134</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672669744,"post_id":74958661,"comment_id":132323638,"body_markdown":"From https://netbeans.apache.org/download/nb16/: _&quot;The Apache NetBeans 16 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17.&quot;_. You cannot use it with Java 8.","body":"From <a href=\"https://netbeans.apache.org/download/nb16/\" rel=\"nofollow noreferrer\">netbeans.apache.org/download/nb16</a>: <i>&quot;The Apache NetBeans 16 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17.&quot;</i>. You cannot use it with Java 8."}],"answers":[{"tags":[],"owner":{"account_id":27528826,"reputation":16,"user_id":21007701,"display_name":"Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673711560,"creation_date":1673711484,"answer_id":75119210,"question_id":74958661,"body_markdown":"I had a similar issue and I resolved it by downloading an older version of NetBeans, NetBeans 12.0 specifically. I think it has to do something with NetBeans 16 not supporting Java 8 (not completely sure). Hopefully this helps.","title":"Java 8 + Netbeans 16 throws java.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;","body":"<p>I had a similar issue and I resolved it by downloading an older version of NetBeans, NetBeans 12.0 specifically. I think it has to do something with NetBeans 16 not supporting Java 8 (not completely sure). Hopefully this helps.</p>\n"}],"owner":{"account_id":24963657,"reputation":3,"user_id":18827404,"display_name":"Md Imran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75119210,"answer_count":1,"score":-1,"last_activity_date":1673714135,"creation_date":1672380531,"question_id":74958661,"body_markdown":"I am using Java 8 and NetBeans 16. When I deploy any WAR to Tomcat, then it throws\r\n```none\r\nIn-place deployment at E:\\Web_Project\\WebApplication1\\build\\web\r\nE:\\Web_Project\\WebApplication1\\nbproject\\build-impl.xml:1030: \r\njava.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;\r\n\tat org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.createTempContextXml(TomcatManagerImpl.java:361)\r\n\tat org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.initialDeploy(TomcatManagerImpl.java:196)\r\n\tat org.netbeans.modules.tomcat5.optional.TomcatIncrementalDeployment.initialDeploy(TomcatIncrementalDeployment.java:126)\r\n\tat org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:670)\r\n\tat org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:221)\r\n\tat org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:141)\r\n\tat org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:86)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1391)\r\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1364)\r\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1254)\r\n\tat org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\r\n\tat org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:573)\r\n\tat org.netbeans.core.execution.RunClassThread.doRun(RunClassThread.java:132)\r\n\tat org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\r\n\tat org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\r\n\tat org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:81)\r\nBUILD FAILED (total time: 0 seconds)\r\n```\r\nHow is it caused and how can I solve it?","title":"Java 8 + Netbeans 16 throws java.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;","body":"<p>I am using Java 8 and NetBeans 16. When I deploy any WAR to Tomcat, then it throws</p>\n<pre class=\"lang-none prettyprint-override\"><code>In-place deployment at E:\\Web_Project\\WebApplication1\\build\\web\nE:\\Web_Project\\WebApplication1\\nbproject\\build-impl.xml:1030: \njava.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;\n    at org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.createTempContextXml(TomcatManagerImpl.java:361)\n    at org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.initialDeploy(TomcatManagerImpl.java:196)\n    at org.netbeans.modules.tomcat5.optional.TomcatIncrementalDeployment.initialDeploy(TomcatIncrementalDeployment.java:126)\n    at org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:670)\n    at org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:221)\n    at org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:141)\n    at org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:86)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1391)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1254)\n    at org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\n    at org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:573)\n    at org.netbeans.core.execution.RunClassThread.doRun(RunClassThread.java:132)\n    at org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\n    at org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\n    at org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:81)\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>How is it caused and how can I solve it?</p>\n"},{"tags":["java","kotlin","security","java-security"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1673715569,"post_id":75119520,"comment_id":132561967,"body_markdown":"*I am getting the error only in the release build of my android app*  Where does it work?  Spongy Castle was abandoned 5 years ago, no?","body":"<i>I am getting the error only in the release build of my android app</i>  Where does it work?  Spongy Castle was abandoned 5 years ago, no?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1673717571,"post_id":75119520,"comment_id":132562372,"body_markdown":"Spongy was mainly required because Android used a stripped version of Bouncy as backend for their JCE provider, but they kept all the classes in their original package. Hence you got name clashes if you imported a full version of Bouncy. The moved those packages and BC should be usable directly. In this case I&#39;d just remove Spongy from the classpath &amp; code.","body":"Spongy was mainly required because Android used a stripped version of Bouncy as backend for their JCE provider, but they kept all the classes in their original package. Hence you got name clashes if you imported a full version of Bouncy. The moved those packages and BC should be usable directly. In this case I&#39;d just remove Spongy from the classpath &amp; code."},{"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"score":0,"creation_date":1673775959,"post_id":75119520,"comment_id":132569706,"body_markdown":"so should I use BouncyCastle directly ?","body":"so should I use BouncyCastle directly ?"}],"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673714123,"creation_date":1673714123,"question_id":75119520,"body_markdown":"java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\r\n\r\nI am getting the error only in the release build of my android app\r\n\r\nMy code\r\n\r\n\r\n    fun createCertificate(\r\n            provider : Provider = BouncyCastleProvider()\r\n        ): X509Certificate {\r\n            val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\r\n            val subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\r\n            val now = Instant.now()\r\n            val validFrom = Date.from(now)\r\n            val validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\r\n            val certBuilder = X509v3CertificateBuilder(\r\n                X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\r\n                BigInteger.ONE,\r\n                validFrom,\r\n                validTo,\r\n                X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\r\n                subPubKeyInfo\r\n            )\r\n            val signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\r\n                .setProvider(provider)\r\n                .build(keyPair.private)\r\n            return JcaX509CertificateConverter().setProvider(provider)\r\n                .getCertificate(certBuilder.build(signer))\r\n        }\r\n\r\nThe Stacktrace\r\n\r\n\r\n    E/ERRRR: GONNNPRJ T\r\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:566)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)&#160;\r\n     Caused by: org.spongycastle.operator.OperatorCreationException: cannot create signer: no such algorithm: SHA256WITHRSA for provider SC\r\n        at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:102)\r\n        at com.shalimart22.xferrr.util.SecurityUtil.createCertificate(SecurityUtil.kt:40)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:116)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:69)\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getCertificate(UserDataRepository.kt:69)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getClientStatic(UserDataRepository.kt:143)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:147)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:146)\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getClient(UserDataRepository.kt:146)\r\n        at com.shalimart22.xferrr.viewmodel.UserProfileViewModel.&lt;init&gt;(UserProfileViewModel.kt:40)\r\n        at com.shalimart22.xferrr.DaggerApp_HiltComponents_SingletonC$ViewModelCImpl$SwitchingProvider.get(DaggerApp_HiltComponents_SingletonC.java:1106)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory$1.create(HiltViewModelFactory.java:104)\r\n        at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.java:89)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\r\n        at com.shalimart22.xferrr.activity.IntroductionProfileFragment.getViewModel(WelcomeActivity.kt:239)\r\n        at com.shalimart22.xferrr.activity.IntroductionProfileFragment.onViewCreated(WelcomeActivity.kt:251)\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\r\n        at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\r\n        at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7867)\r\n        at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:893)\r\n        at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\r\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8902)\r\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8860)\r\n        E/ERRRR:     at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8848)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1395)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.scrollHorizontallyBy(LinearLayoutManager.java:1124)\r\n        at androidx.recyclerview.widget.RecyclerView.scrollStep(RecyclerView.java:1969)\r\n        at androidx.recyclerview.widget.RecyclerView$SmoothScroller.onAnimation(RecyclerView.java:12316)\r\n        at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5564)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:874)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8309)\r\n        \t... 3 more\r\n        Caused by: java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\r\n        at sun.security.jca.GetInstance.getService(GetInstance.java:101)\r\n        at sun.security.jca.GetInstance.getInstance(GetInstance.java:218)\r\n        at java.security.Signature.getInstance(Signature.java:549)\r\n        at org.spongycastle.jcajce.util.ProviderJcaJceHelper.createSignature(ProviderJcaJceHelper.java:99)\r\n        at org.spongycastle.operator.jcajce.OperatorHelper.createSignature(OperatorHelper.java:314)\r\n        at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:61)\r\n        \t... 56 more\r\n","title":"Cannot create a X509Certificate in Java","body":"<p>java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC</p>\n<p>I am getting the error only in the release build of my android app</p>\n<p>My code</p>\n<pre><code>fun createCertificate(\n        provider : Provider = BouncyCastleProvider()\n    ): X509Certificate {\n        val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\n        val subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\n        val now = Instant.now()\n        val validFrom = Date.from(now)\n        val validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\n        val certBuilder = X509v3CertificateBuilder(\n            X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\n            BigInteger.ONE,\n            validFrom,\n            validTo,\n            X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\n            subPubKeyInfo\n        )\n        val signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\n            .setProvider(provider)\n            .build(keyPair.private)\n        return JcaX509CertificateConverter().setProvider(provider)\n            .getCertificate(certBuilder.build(signer))\n    }\n</code></pre>\n<p>The Stacktrace</p>\n<pre><code>E/ERRRR: GONNNPRJ T\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:566)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)¬†\n Caused by: org.spongycastle.operator.OperatorCreationException: cannot create signer: no such algorithm: SHA256WITHRSA for provider SC\n    at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:102)\n    at com.shalimart22.xferrr.util.SecurityUtil.createCertificate(SecurityUtil.kt:40)\n    at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:116)\n    at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:69)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.shalimart22.xferrr.data.UserDataRepository.getCertificate(UserDataRepository.kt:69)\n    at com.shalimart22.xferrr.data.UserDataRepository.getClientStatic(UserDataRepository.kt:143)\n    at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:147)\n    at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:146)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.shalimart22.xferrr.data.UserDataRepository.getClient(UserDataRepository.kt:146)\n    at com.shalimart22.xferrr.viewmodel.UserProfileViewModel.&lt;init&gt;(UserProfileViewModel.kt:40)\n    at com.shalimart22.xferrr.DaggerApp_HiltComponents_SingletonC$ViewModelCImpl$SwitchingProvider.get(DaggerApp_HiltComponents_SingletonC.java:1106)\n    at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory$1.create(HiltViewModelFactory.java:104)\n    at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.java:89)\n    at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n    at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\n    at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\n    at com.shalimart22.xferrr.activity.IntroductionProfileFragment.getViewModel(WelcomeActivity.kt:239)\n    at com.shalimart22.xferrr.activity.IntroductionProfileFragment.onViewCreated(WelcomeActivity.kt:251)\n    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\n    at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\n    at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\n    at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7867)\n    at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:893)\n    at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8902)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8860)\n    E/ERRRR:     at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8848)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n    at androidx.recyclerview.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1395)\n    at androidx.recyclerview.widget.LinearLayoutManager.scrollHorizontallyBy(LinearLayoutManager.java:1124)\n    at androidx.recyclerview.widget.RecyclerView.scrollStep(RecyclerView.java:1969)\n    at androidx.recyclerview.widget.RecyclerView$SmoothScroller.onAnimation(RecyclerView.java:12316)\n    at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5564)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:950)\n    at android.view.Choreographer.doFrame(Choreographer.java:874)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:210)\n    at android.os.Looper.loop(Looper.java:299)\n    at android.app.ActivityThread.main(ActivityThread.java:8309)\n        ... 3 more\n    Caused by: java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\n    at sun.security.jca.GetInstance.getService(GetInstance.java:101)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:218)\n    at java.security.Signature.getInstance(Signature.java:549)\n    at org.spongycastle.jcajce.util.ProviderJcaJceHelper.createSignature(ProviderJcaJceHelper.java:99)\n    at org.spongycastle.operator.jcajce.OperatorHelper.createSignature(OperatorHelper.java:314)\n    at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:61)\n        ... 56 more\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1509356515,"post_id":47007663,"comment_id":80970438,"body_markdown":"Nothing unclear here. Poorly phrased, and betrays a misunderstanding of the problem, but the overall objective is clear.","body":"Nothing unclear here. Poorly phrased, and betrays a misunderstanding of the problem, but the overall objective is clear."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1509334940,"creation_date":1509334940,"answer_id":47007845,"question_id":47007663,"body_markdown":"Just try to connect to it with `URL` and `HttpsURLConnection`, going at least as far as getting the response code, and no fancy trust managers or anything. If it&#39;s trusted, you won&#39;t have a problem.\r\n\r\nYour terminology is astray. All certificates are public. If it&#39;s a *CA-signed* certificate, signed by a *CA* whose certificate is in `cacerts`, you don&#39;t need to import it.","title":"How to check a Certificate is in default cacerts","body":"<p>Just try to connect to it with <code>URL</code> and <code>HttpsURLConnection</code>, going at least as far as getting the response code, and no fancy trust managers or anything. If it's trusted, you won't have a problem.</p>\n\n<p>Your terminology is astray. All certificates are public. If it's a <em>CA-signed</em> certificate, signed by a <em>CA</em> whose certificate is in <code>cacerts</code>, you don't need to import it.</p>\n"},{"tags":[],"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1673713889,"creation_date":1509338794,"answer_id":47008266,"question_id":47007663,"body_markdown":"You can inspect (list) certificates in your cacert keystore using the Java `keytool` command.\r\n\r\n```\r\nkeytool -list -v -keystore /path/to/cacerts\r\n```\r\n\r\n`keytool` has to be in your path, or can be found in the `bin` directory of your Java installation (e.g. `C:/Program Files (x86)/Java/jre1.8/bin/keytool.exe`). \r\n","title":"How to check a Certificate is in default cacerts","body":"<p>You can inspect (list) certificates in your cacert keystore using the Java <code>keytool</code> command.</p>\n<pre><code>keytool -list -v -keystore /path/to/cacerts\n</code></pre>\n<p><code>keytool</code> has to be in your path, or can be found in the <code>bin</code> directory of your Java installation (e.g. <code>C:/Program Files (x86)/Java/jre1.8/bin/keytool.exe</code>).</p>\n"},{"tags":[],"owner":{"account_id":88849,"reputation":405,"user_id":245523,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673328036,"creation_date":1673328036,"answer_id":75065769,"question_id":47007663,"body_markdown":"A simple approach to list certificates in cacerts is\r\n\r\n    keytool -v -list -cacerts -storepass changeit","title":"How to check a Certificate is in default cacerts","body":"<p>A simple approach to list certificates in cacerts is</p>\n<pre><code>keytool -v -list -cacerts -storepass changeit\n</code></pre>\n"}],"owner":{"account_id":9516911,"reputation":351,"user_id":7072968,"display_name":"loi mai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109301,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"answer_count":3,"score":16,"last_activity_date":1673713889,"creation_date":1509333230,"question_id":47007663,"body_markdown":"A client provide me with a HTTPS URL for a service call. I need to make a  request to that URL. I know that if the certificate of that URL is from a common provider chances are that it&#39;s already available on the default java truststore **cacerts**.  \r\n\r\nHowever I am unsure how to check whether I need to import the certificate or not.  How can I check whether a certificate from a website is already in default java truststore \\jre1.8\\lib\\security\\cacerts?","title":"How to check a Certificate is in default cacerts","body":"<p>A client provide me with a HTTPS URL for a service call. I need to make a  request to that URL. I know that if the certificate of that URL is from a common provider chances are that it's already available on the default java truststore <strong>cacerts</strong>.  </p>\n\n<p>However I am unsure how to check whether I need to import the certificate or not.  How can I check whether a certificate from a website is already in default java truststore \\jre1.8\\lib\\security\\cacerts?</p>\n"},{"tags":["java","maven","relocation","shading"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705125,"post_id":75118428,"comment_id":132559870,"body_markdown":"First: `If the library needs to be shaded,` a library does not needed to be shaded or even better don&#39;t do it because it prevent some features on the consumer side... And why do you need to search github pages? If you consume a dep it&#39;s defining it&#39;s dependencies itself ... there no need to do that on your own... ? Maybe you can elaborate more what your exact problem is... ?","body":"First: <code>If the library needs to be shaded,</code> a library does not needed to be shaded or even better don&#39;t do it because it prevent some features on the consumer side... And why do you need to search github pages? If you consume a dep it&#39;s defining it&#39;s dependencies itself ... there no need to do that on your own... ? Maybe you can elaborate more what your exact problem is... ?"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673705500,"post_id":75118428,"comment_id":132559933,"body_markdown":"Of course you need to shade the dependency, otherwise you would get ClassNotFoundException all over the place at runtime...","body":"Of course you need to shade the dependency, otherwise you would get ClassNotFoundException all over the place at runtime..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705609,"post_id":75118428,"comment_id":132559949,"body_markdown":"No. If that&#39;s the case the original pom is simply wrong... transitive dependencies are done automaticially... Please show the full pom file of such case...","body":"No. If that&#39;s the case the original pom is simply wrong... transitive dependencies are done automaticially... Please show the full pom file of such case..."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673705743,"post_id":75118428,"comment_id":132559970,"body_markdown":"Where did you see that I talk about transitive dependencies? I am talking about direct dependencies - that have to be shaded in order to be used.","body":"Where did you see that I talk about transitive dependencies? I am talking about direct dependencies - that have to be shaded in order to be used."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706006,"post_id":75118428,"comment_id":132560023,"body_markdown":"A library has dependencies plus it&#39;s own code. The dependencies of the library  are from the consumer perspective of the library transitive dependencies. Those should never been shaded. If doing so prevents a consumer to overrule the dependencies etc. (for example using a more recent version of a an other lib).","body":"A library has dependencies plus it&#39;s own code. The dependencies of the library  are from the consumer perspective of the library transitive dependencies. Those should never been shaded. If doing so prevents a consumer to overrule the dependencies etc. (for example using a more recent version of a an other lib)."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706103,"post_id":75118428,"comment_id":132560040,"body_markdown":"If we are talking about an executable jar (which can be executed via `java -jar ...`) you can and have to shade but never for a usual consumtion via classpath...","body":"If we are talking about an executable jar (which can be executed via <code>java -jar ...</code>) you can and have to shade but never for a usual consumtion via classpath..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706194,"post_id":75118428,"comment_id":132560059,"body_markdown":"@khmarbaise That&#39;s not really correct--plugin dependencies should not be arbitrarily overridden by plugin consumers. This keeps the plugin in a known-good state.","body":"@khmarbaise That&#39;s not really correct--plugin dependencies should not be arbitrarily overridden by plugin consumers. This keeps the plugin in a known-good state."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706276,"post_id":75118428,"comment_id":132560073,"body_markdown":"@khmarbaise I don&#39;t think you understand what I&#39;m trying to build. I need a stand-alone jar that does its job, nothing else.","body":"@khmarbaise I don&#39;t think you understand what I&#39;m trying to build. I need a stand-alone jar that does its job, nothing else."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706315,"post_id":75118428,"comment_id":132560084,"body_markdown":"It&#39;s not arbitrarily overridden. If someone is doing that you should assume the person knews what  it&#39;s doing. The plugin itself is in a good state not related... also all Maven plugins not even shading their dependencies ..","body":"It&#39;s not arbitrarily overridden. If someone is doing that you should assume the person knews what  it&#39;s doing. The plugin itself is in a good state not related... also all Maven plugins not even shading their dependencies .."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673706321,"post_id":75118428,"comment_id":132560087,"body_markdown":"@David You&#39;re saying two different things. A jar that can be run anywhere is just a jar with its dependencies. A **plugin** is a different thing because it runs in the context of an existing application.","body":"@David You&#39;re saying two different things. A jar that can be run anywhere is just a jar with its dependencies. A <b>plugin</b> is a different thing because it runs in the context of an existing application."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706596,"post_id":75118428,"comment_id":132560139,"body_markdown":"@khmarbaise &quot;Assume the person knows what they&#39;re doing&quot;... Nope. The whole point of plugins is to isolate behavior. You cannot isolate behavior if consumers can arbitrarily change code the plugin depends on.","body":"@khmarbaise &quot;Assume the person knows what they&#39;re doing&quot;... Nope. The whole point of plugins is to isolate behavior. You cannot isolate behavior if consumers can arbitrarily change code the plugin depends on."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706598,"post_id":75118428,"comment_id":132560140,"body_markdown":"@DaveNewton Okay, the only dependency marked as &quot;provided&quot; is the system&#39;s API which runs the plugin - all the rest should be shaded...","body":"@DaveNewton Okay, the only dependency marked as &quot;provided&quot; is the system&#39;s API which runs the plugin - all the rest should be shaded..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706658,"post_id":75118428,"comment_id":132560146,"body_markdown":"@David For **maximum** reliability, yes. Whether or not the ROI of doing so is worth it depends on context.","body":"@David For <b>maximum</b> reliability, yes. Whether or not the ROI of doing so is worth it depends on context."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706743,"post_id":75118428,"comment_id":132560160,"body_markdown":"@DaveNewton The consumer can not change the code of the plugin. Only override the deps..(yes I know that can result into failings). If it does not work .. problem of the user. All Maven plugins work like that...... but in case of issues the consumer can override the deps (for example with a newer version does not have vulnerbilities anymore)...","body":"@DaveNewton The consumer can not change the code of the plugin. Only override the deps..(yes I know that can result into failings). If it does not work .. problem of the user. All Maven plugins work like that...... but in case of issues the consumer can override the deps (for example with a newer version does not have vulnerbilities anymore)..."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706860,"post_id":75118428,"comment_id":132560179,"body_markdown":"@DaveNewton What do you mean by ROI? This discussion is now way out of its original intention, I asked a very simple question","body":"@DaveNewton What do you mean by ROI? This discussion is now way out of its original intention, I asked a very simple question"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673707016,"post_id":75118428,"comment_id":132560212,"body_markdown":"Two things. First shading the dependencies into a single jar ... just use the default configuration for maven-shade-plugin and that&#39;s it... an other thing is to relocate packages? The question if this is really necessary? If you have a resulting jar which is used as a kind of plugin... that should not be needed?","body":"Two things. First shading the dependencies into a single jar ... just use the default configuration for maven-shade-plugin and that&#39;s it... an other thing is to relocate packages? The question if this is really necessary? If you have a resulting jar which is used as a kind of plugin... that should not be needed?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707613,"post_id":75118428,"comment_id":132560326,"body_markdown":"@David Return On Investment","body":"@David Return On Investment"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707717,"post_id":75118428,"comment_id":132560343,"body_markdown":"@khmarbaise If you&#39;re comfortable shipping plugins users can break in mysterious or hidden ways, great; knock yourself out. I&#39;m not. There are advantages and disadvantages to allowing arbitrary dependency replacement, hence my comment regarding ROI.","body":"@khmarbaise If you&#39;re comfortable shipping plugins users can break in mysterious or hidden ways, great; knock yourself out. I&#39;m not. There are advantages and disadvantages to allowing arbitrary dependency replacement, hence my comment regarding ROI."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707830,"post_id":75118428,"comment_id":132560356,"body_markdown":"@David The &quot;very simple question&quot;&#39;s answer is &quot;shade everything&quot;, but the &quot;very simple question&quot; ignored transitive dependencies, which are usually where issues arise. Direct dependencies are trivially shaded; transitive dependencies are why these tools exist in the first place, because they&#39;re essentially impossible to deal with manually for projects of any size.","body":"@David The &quot;very simple question&quot;&#39;s answer is &quot;shade everything&quot;, but the &quot;very simple question&quot; ignored transitive dependencies, which are usually where issues arise. Direct dependencies are trivially shaded; transitive dependencies are why these tools exist in the first place, because they&#39;re essentially impossible to deal with manually for projects of any size."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673713462,"creation_date":1673713462,"answer_id":75119429,"question_id":75118428,"body_markdown":"Thing is, you &quot;usually&quot; don&#39;t shade your dependencies. This is why information about this is often not provided, and you are on your own.\r\n\r\nThere are actually few reasons to shade. \r\n\r\nIf you build a standalone JAR, and you find a conflict in your transitive dependencies, you first try to fix it without shading:\r\n\r\n- you set the version of the dependency in `&lt;dependencyManagement&gt;` to some new version and test if it works.\r\n- you reduce the dependencies of your project by writing some stuff yourself.\r\n\r\nOnly if this does not work, you start shading.\r\n\r\nNote: I am talking about standalone JARs. If your JAR runs as a plugin in the context of a different class loader (together with other, unknown plugins) like in Jenkins, then it might be worthwhile to shade a lot of stuff, and to reduce dependencies to an absolute minimum.","title":"How to know which package to shade in Maven?","body":"<p>Thing is, you &quot;usually&quot; don't shade your dependencies. This is why information about this is often not provided, and you are on your own.</p>\n<p>There are actually few reasons to shade.</p>\n<p>If you build a standalone JAR, and you find a conflict in your transitive dependencies, you first try to fix it without shading:</p>\n<ul>\n<li>you set the version of the dependency in <code>&lt;dependencyManagement&gt;</code> to some new version and test if it works.</li>\n<li>you reduce the dependencies of your project by writing some stuff yourself.</li>\n</ul>\n<p>Only if this does not work, you start shading.</p>\n<p>Note: I am talking about standalone JARs. If your JAR runs as a plugin in the context of a different class loader (together with other, unknown plugins) like in Jenkins, then it might be worthwhile to shade a lot of stuff, and to reduce dependencies to an absolute minimum.</p>\n"}],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673713462,"creation_date":1673704323,"question_id":75118428,"body_markdown":"When a library is released it&#39;s very common for the author to provide the Maven/Gradle dependencies.\r\nIf the library needs to be shaded, they would also specify the relevant package for the shade plugin:\r\n```\r\n&lt;relocation&gt;\r\n    &lt;pattern&gt;com.github.stefvanschie.inventoryframework&lt;/pattern&gt;\t\t\t\t\t\t\r\n    &lt;shadedPattern&gt;${shade.base}.inventoryframework&lt;/shadedPattern&gt;\r\n&lt;/relocation&gt;\r\n```\r\nBut what if they don&#39;t? For many dependencies I had to search the github page for the top package, which of course can be wrong.\r\nWhat should I do at that case?\r\n\r\n* If it&#39;s not clear from the post, I need to create a stand-alone jar(a plugin for a certain system) that contains my dependencies to obviously avoid `ClassNotFoundException`s at runtime.","title":"How to know which package to shade in Maven?","body":"<p>When a library is released it's very common for the author to provide the Maven/Gradle dependencies.\nIf the library needs to be shaded, they would also specify the relevant package for the shade plugin:</p>\n<pre><code>&lt;relocation&gt;\n    &lt;pattern&gt;com.github.stefvanschie.inventoryframework&lt;/pattern&gt;                       \n    &lt;shadedPattern&gt;${shade.base}.inventoryframework&lt;/shadedPattern&gt;\n&lt;/relocation&gt;\n</code></pre>\n<p>But what if they don't? For many dependencies I had to search the github page for the top package, which of course can be wrong.\nWhat should I do at that case?</p>\n<ul>\n<li>If it's not clear from the post, I need to create a stand-alone jar(a plugin for a certain system) that contains my dependencies to obviously avoid <code>ClassNotFoundException</code>s at runtime.</li>\n</ul>\n"},{"tags":["java","android","android-recyclerview","textview","spannable"],"answers":[{"tags":[],"owner":{"account_id":3728672,"reputation":12401,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673712850,"creation_date":1543079692,"answer_id":53460572,"question_id":53460355,"body_markdown":"In java you should just override method `newSpannable`, in its implementation cast source (CharSequence) to Spannable and set this factory to `TextView` (tvText in my case)\r\n\r\n           tvText.setSpannableFactory(new Spannable.Factory(){\r\n                @Override\r\n                public Spannable newSpannable(CharSequence source) {\r\n                    return (Spannable) source;\r\n                }\r\n            });\r\n\r\n\r\nKeep in mind, it should be **set** from `ViewHolder&#39;s` constructor, **not** `onBindViewHolder`. When you get reference to it by `findViewById`.","title":"Improving spanned/spannable performance in setting TextView RecylcerView","body":"<p>In java you should just override method <code>newSpannable</code>, in its implementation cast source (CharSequence) to Spannable and set this factory to <code>TextView</code> (tvText in my case)</p>\n<pre><code>       tvText.setSpannableFactory(new Spannable.Factory(){\n            @Override\n            public Spannable newSpannable(CharSequence source) {\n                return (Spannable) source;\n            }\n        });\n</code></pre>\n<p>Keep in mind, it should be <strong>set</strong> from <code>ViewHolder's</code> constructor, <strong>not</strong> <code>onBindViewHolder</code>. When you get reference to it by <code>findViewById</code>.</p>\n"}],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53460572,"answer_count":1,"score":2,"last_activity_date":1673712850,"creation_date":1543078285,"question_id":53460355,"body_markdown":"I have a `RecyclerView` with a number of `TextViews`.  One of these `TextViews` is populated with a `Spanned`, via a marked up `String` taken from an `ArrayList&lt;Object&gt;`.  After reading [this][1] tutorial by Florina Muntenescu, I realize I can likely improve my performance by using `Spannable Factory`.  My biggest problem is that her code is written in `Kotlin` (and I&#39;m not quite there yet).\r\n\r\nAs far as I can tell, this is the key information,\r\n\r\n&gt; Let‚Äôs say that we want to reuse a `TextView` and set the text multiple times, like in a `RecyclerView.ViewHolder`...  \r\n\r\n    val spannableFactory = object : Spannable.Factory() {\r\n        override fun newSpannable(source: CharSequence?): Spannable {\r\n            return source as Spannable\r\n        }\r\n    }`\r\n\r\n&gt; Set the `Spannable.Factory` object once right after you get a\r\n&gt; reference to your TextView. If you‚Äôre using a RecyclerView, do this\r\n&gt; when you first inflate your views.\r\n\r\n    textView.setSpannableFactory(spannableFactory)\r\n\r\n\r\nSo, suppose I have this simple `RecyclerView adapter` setting a single `Spanned` `TextView`.\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(RecyclerViewHolder rvh, int position){\r\n\r\n        String string =arrayList.get(position).getValue();\r\n        Spanned spanned = getSpannedValue(string);\r\n        rvh.tv.setText(spanned);\r\n    }\r\n\r\nHow can I change my code to utilize the recommendation from Florina?\r\n\r\n\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/underspanding-spans-1b91008b97e4","title":"Improving spanned/spannable performance in setting TextView RecylcerView","body":"<p>I have a <code>RecyclerView</code> with a number of <code>TextViews</code>.  One of these <code>TextViews</code> is populated with a <code>Spanned</code>, via a marked up <code>String</code> taken from an <code>ArrayList&lt;Object&gt;</code>.  After reading <a href=\"https://medium.com/androiddevelopers/underspanding-spans-1b91008b97e4\" rel=\"nofollow noreferrer\">this</a> tutorial by Florina Muntenescu, I realize I can likely improve my performance by using <code>Spannable Factory</code>.  My biggest problem is that her code is written in <code>Kotlin</code> (and I'm not quite there yet).</p>\n\n<p>As far as I can tell, this is the key information,</p>\n\n<blockquote>\n  <p>Let‚Äôs say that we want to reuse a <code>TextView</code> and set the text multiple times, like in a <code>RecyclerView.ViewHolder</code>...  </p>\n</blockquote>\n\n<pre><code>val spannableFactory = object : Spannable.Factory() {\n    override fun newSpannable(source: CharSequence?): Spannable {\n        return source as Spannable\n    }\n}`\n</code></pre>\n\n<blockquote>\n  <p>Set the <code>Spannable.Factory</code> object once right after you get a\n  reference to your TextView. If you‚Äôre using a RecyclerView, do this\n  when you first inflate your views.</p>\n</blockquote>\n\n<pre><code>textView.setSpannableFactory(spannableFactory)\n</code></pre>\n\n<p>So, suppose I have this simple <code>RecyclerView adapter</code> setting a single <code>Spanned</code> <code>TextView</code>.</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(RecyclerViewHolder rvh, int position){\n\n    String string =arrayList.get(position).getValue();\n    Spanned spanned = getSpannedValue(string);\n    rvh.tv.setText(spanned);\n}\n</code></pre>\n\n<p>How can I change my code to utilize the recommendation from Florina?</p>\n"},{"tags":["java","regex","escaping"],"answers":[{"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"down_vote_count":5,"up_vote_count":492,"is_accepted":true,"score":487,"last_activity_date":1362414574,"creation_date":1221262792,"answer_id":60161,"question_id":60160,"body_markdown":"Since [Java 1.5, yes](http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)):\r\n\r\n    Pattern.quote(&quot;$5&quot;);","title":"How to escape text for regular expression in Java?","body":"<p>Since <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)\" rel=\"noreferrer\">Java 1.5, yes</a>:</p>\n\n<pre><code>Pattern.quote(\"$5\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396,"reputation":2865,"user_id":1867,"accept_rate":29,"display_name":"Rob Oxspring"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1380097585,"creation_date":1221262936,"answer_id":60164,"question_id":60160,"body_markdown":"I think what you&#39;re after is `\\Q$5\\E`.  Also see `Pattern.quote(s)` introduced in Java5.\r\n\r\n\r\nSee [Pattern][1] javadoc for details.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"How to escape text for regular expression in Java?","body":"<p>I think what you're after is <code>\\Q$5\\E</code>.  Also see <code>Pattern.quote(s)</code> introduced in Java5.</p>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> javadoc for details.</p>\n"},{"tags":[],"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1445814051,"creation_date":1221263534,"answer_id":60172,"question_id":60160,"body_markdown":"Difference between [`Pattern.quote`][pattern quote] and [`Matcher.quoteReplacement`][matcher quote] was not clear to me before I saw following example\r\n\r\n    s.replaceFirst(Pattern.quote(&quot;text to replace&quot;), \r\n                   Matcher.quoteReplacement(&quot;replacement text&quot;));\r\n\r\n[matcher quote]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\r\n[pattern quote]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-","title":"How to escape text for regular expression in Java?","body":"<p>Difference between <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-\" rel=\"noreferrer\"><code>Pattern.quote</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\" rel=\"noreferrer\"><code>Matcher.quoteReplacement</code></a> was not clear to me before I saw following example</p>\n\n<pre><code>s.replaceFirst(Pattern.quote(\"text to replace\"), \n               Matcher.quoteReplacement(\"replacement text\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91748,"reputation":939,"user_id":251767,"accept_rate":67,"display_name":"Meower68"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1344956427,"creation_date":1344956427,"answer_id":11955201,"question_id":60160,"body_markdown":"First off, if\r\n\r\n* you use replaceAll()\r\n* you DON&#39;T use Matcher.quoteReplacement()\r\n* the text to be substituted in includes a $1\r\n\r\nit won&#39;t put a 1 at the end.  It will look at the search regex for the first matching group and sub THAT in.  That&#39;s what $1, $2 or $3 means in the replacement text: matching groups from the search pattern.\r\n\r\nI frequently plug long strings of text into .properties files, then generate email subjects and bodies from those.  Indeed, this appears to be the default way to do i18n in Spring Framework.  I put XML tags, as placeholders, into the strings and I use replaceAll() to replace the XML tags with the values at runtime.\r\n\r\nI ran into an issue where a user input a dollars-and-cents figure, with a dollar sign.  replaceAll() choked on it, with the following showing up in a stracktrace:\r\n\r\n    java.lang.IndexOutOfBoundsException: No group 3\r\n    at java.util.regex.Matcher.start(Matcher.java:374)\r\n    at java.util.regex.Matcher.appendReplacement(Matcher.java:748)\r\n    at java.util.regex.Matcher.replaceAll(Matcher.java:823)\r\n    at java.lang.String.replaceAll(String.java:2201)\r\n\r\nIn this case, the user had entered &quot;$3&quot; somewhere in their input and replaceAll() went looking in the search regex for the third matching group, didn&#39;t find one, and puked.\r\n\r\nGiven:\r\n\r\n    // &quot;msg&quot; is a string from a .properties file, containing &quot;&lt;userInput /&gt;&quot; among other tags\r\n    // &quot;userInput&quot; is a String containing the user&#39;s input\r\n\r\nreplacing\r\n\r\n    msg = msg.replaceAll(&quot;&lt;userInput \\\\/&gt;&quot;, userInput);\r\n\r\nwith \r\n\r\n    msg = msg.replaceAll(&quot;&lt;userInput \\\\/&gt;&quot;, Matcher.quoteReplacement(userInput));\r\n\r\nsolved the problem.  The user could put in any kind of characters, including dollar signs, without issue.  It behaved exactly the way you would expect.\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>First off, if</p>\n\n<ul>\n<li>you use replaceAll()</li>\n<li>you DON'T use Matcher.quoteReplacement()</li>\n<li>the text to be substituted in includes a $1</li>\n</ul>\n\n<p>it won't put a 1 at the end.  It will look at the search regex for the first matching group and sub THAT in.  That's what $1, $2 or $3 means in the replacement text: matching groups from the search pattern.</p>\n\n<p>I frequently plug long strings of text into .properties files, then generate email subjects and bodies from those.  Indeed, this appears to be the default way to do i18n in Spring Framework.  I put XML tags, as placeholders, into the strings and I use replaceAll() to replace the XML tags with the values at runtime.</p>\n\n<p>I ran into an issue where a user input a dollars-and-cents figure, with a dollar sign.  replaceAll() choked on it, with the following showing up in a stracktrace:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: No group 3\nat java.util.regex.Matcher.start(Matcher.java:374)\nat java.util.regex.Matcher.appendReplacement(Matcher.java:748)\nat java.util.regex.Matcher.replaceAll(Matcher.java:823)\nat java.lang.String.replaceAll(String.java:2201)\n</code></pre>\n\n<p>In this case, the user had entered \"$3\" somewhere in their input and replaceAll() went looking in the search regex for the third matching group, didn't find one, and puked.</p>\n\n<p>Given:</p>\n\n<pre><code>// \"msg\" is a string from a .properties file, containing \"&lt;userInput /&gt;\" among other tags\n// \"userInput\" is a String containing the user's input\n</code></pre>\n\n<p>replacing</p>\n\n<pre><code>msg = msg.replaceAll(\"&lt;userInput \\\\/&gt;\", userInput);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>msg = msg.replaceAll(\"&lt;userInput \\\\/&gt;\", Matcher.quoteReplacement(userInput));\n</code></pre>\n\n<p>solved the problem.  The user could put in any kind of characters, including dollar signs, without issue.  It behaved exactly the way you would expect.</p>\n"},{"tags":[],"owner":{"account_id":875339,"reputation":1601,"user_id":925098,"accept_rate":25,"display_name":"Moscow Boy"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1468945608,"creation_date":1353011250,"answer_id":13405612,"question_id":60160,"body_markdown":"To have protected pattern you may replace all symbols with &quot;\\\\\\\\\\\\\\\\&quot;, except digits and letters.  And after that you can put in that protected pattern your special symbols to make this pattern working not like stupid quoted text, but really like a patten, but your own.  Without user special symbols.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;y z (111)&quot;;\r\n    \t\tString p1 = &quot;x x (111)&quot;;\r\n    \t\tString p2 = &quot;.* .* \\\\(111\\\\)&quot;;\r\n    \t\t\r\n    \t\tp1 = escapeRE(p1);\r\n    \r\n    \t\tp1 = p1.replace(&quot;x&quot;, &quot;.*&quot;);\r\n    \r\n    \t\tSystem.out.println( p1 + &quot;--&gt;&quot; + str.matches(p1) ); \r\n                //.*\\ .*\\ \\(111\\)--&gt;true\r\n    \t\tSystem.out.println( p2 + &quot;--&gt;&quot; + str.matches(p2) ); \r\n                //.* .* \\(111\\)--&gt;true\r\n    \t}\r\n    \r\n    \tpublic static String escapeRE(String str) {\r\n    \t\t//Pattern escaper = Pattern.compile(&quot;([^a-zA-z0-9])&quot;);\r\n    \t\t//return escaper.matcher(str).replaceAll(&quot;\\\\\\\\$1&quot;);\r\n    \t\treturn str.replaceAll(&quot;([^a-zA-Z0-9])&quot;, &quot;\\\\\\\\$1&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>To have protected pattern you may replace all symbols with \"\\\\\\\\\", except digits and letters.  And after that you can put in that protected pattern your special symbols to make this pattern working not like stupid quoted text, but really like a patten, but your own.  Without user special symbols.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String str = \"y z (111)\";\n        String p1 = \"x x (111)\";\n        String p2 = \".* .* \\\\(111\\\\)\";\n\n        p1 = escapeRE(p1);\n\n        p1 = p1.replace(\"x\", \".*\");\n\n        System.out.println( p1 + \"--&gt;\" + str.matches(p1) ); \n            //.*\\ .*\\ \\(111\\)--&gt;true\n        System.out.println( p2 + \"--&gt;\" + str.matches(p2) ); \n            //.* .* \\(111\\)--&gt;true\n    }\n\n    public static String escapeRE(String str) {\n        //Pattern escaper = Pattern.compile(\"([^a-zA-z0-9])\");\n        //return escaper.matcher(str).replaceAll(\"\\\\\\\\$1\");\n        return str.replaceAll(\"([^a-zA-Z0-9])\", \"\\\\\\\\$1\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":999506,"reputation":3145,"user_id":1014693,"accept_rate":67,"display_name":"Androidme"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1458212981,"creation_date":1457967842,"answer_id":35991060,"question_id":60160,"body_markdown":"It may be too late to respond, but you can also use `Pattern.LITERAL`, which would ignore all special characters while formatting:\r\n\r\n    Pattern.compile(textToFormat, Pattern.LITERAL);","title":"How to escape text for regular expression in Java?","body":"<p>It may be too late to respond, but you can also use <code>Pattern.LITERAL</code>, which would ignore all special characters while formatting:</p>\n\n<pre><code>Pattern.compile(textToFormat, Pattern.LITERAL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3663387,"reputation":3549,"user_id":3058581,"display_name":"Adam111p"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501504738,"creation_date":1501504001,"answer_id":45415931,"question_id":60160,"body_markdown":"Pattern.quote(&quot;blabla&quot;) works nicely.\r\n\r\nThe Pattern.quote() works nicely. It encloses the sentence with the characters &quot;**\\Q**&quot; and &quot;**\\E**&quot;, and if it does escape &quot;\\Q&quot; and &quot;\\E&quot;.\r\nHowever, if you need to do a real regular expression escaping(or custom escaping), you can use this code:\r\n\r\n    String someText = &quot;Some/s/wText*/,**&quot;;\r\n    System.out.println(someText.replaceAll(&quot;[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]&quot;, &quot;\\\\\\\\$0&quot;));\r\nThis method returns: *Some/\\s/wText\\*/\\,\\*\\**\r\n\r\nCode for example and tests:\r\n\r\n    String someText = &quot;Some\\\\E/s/wText*/,**&quot;;\r\n    System.out.println(&quot;Pattern.quote: &quot;+ Pattern.quote(someText));\r\n    System.out.println(&quot;Full escape: &quot;+someText.replaceAll(&quot;[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]&quot;, &quot;\\\\\\\\$0&quot;));\r\n\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>Pattern.quote(\"blabla\") works nicely.</p>\n\n<p>The Pattern.quote() works nicely. It encloses the sentence with the characters \"<strong>\\Q</strong>\" and \"<strong>\\E</strong>\", and if it does escape \"\\Q\" and \"\\E\".\nHowever, if you need to do a real regular expression escaping(or custom escaping), you can use this code:</p>\n\n<pre><code>String someText = \"Some/s/wText*/,**\";\nSystem.out.println(someText.replaceAll(\"[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]\", \"\\\\\\\\$0\"));\n</code></pre>\n\n<p>This method returns: <em>Some/\\s/wText*/\\,**</em></p>\n\n<p>Code for example and tests:</p>\n\n<pre><code>String someText = \"Some\\\\E/s/wText*/,**\";\nSystem.out.println(\"Pattern.quote: \"+ Pattern.quote(someText));\nSystem.out.println(\"Full escape: \"+someText.replaceAll(\"[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]\", \"\\\\\\\\$0\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10327397,"reputation":1,"user_id":9717510,"display_name":"Akhil Kathi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1543440648,"creation_date":1529679614,"answer_id":50990732,"question_id":60160,"body_markdown":"^(Negation) symbol is used to match something that is not in the character group.\r\n\r\nThis is the link to [Regular Expressions][2]\r\n\r\nHere is the image info about negation:\r\n\r\n![Info about negation][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m5cXU.png\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference","title":"How to escape text for regular expression in Java?","body":"<p>^(Negation) symbol is used to match something that is not in the character group.</p>\n\n<p>This is the link to <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference\" rel=\"nofollow noreferrer\">Regular Expressions</a></p>\n\n<p>Here is the image info about negation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/m5cXU.png\" alt=\"Info about negation\"></p>\n"}],"owner":{"account_id":1727,"reputation":31792,"user_id":2338,"accept_rate":100,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240391,"favorite_count":0,"down_vote_count":1,"up_vote_count":359,"accepted_answer_id":60161,"answer_count":8,"score":358,"last_activity_date":1673712240,"creation_date":1221262596,"question_id":60160,"body_markdown":"Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter `&quot;$5&quot;`, I&#39;d like to match that exactly rather than a `&quot;5&quot;` after the end of input.","title":"How to escape text for regular expression in Java?","body":"<p>Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter <code>&quot;$5&quot;</code>, I'd like to match that exactly rather than a <code>&quot;5&quot;</code> after the end of input.</p>\n"},{"tags":["java","arrays","long-integer"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1430830006,"post_id":30053354,"comment_id":48221206,"body_markdown":"Go through the array and check if the previous number is smaller than `current-1`?","body":"Go through the array and check if the previous number is smaller than <code>current-1</code>?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1430830018,"post_id":30053354,"comment_id":48221215,"body_markdown":"iterate over all of them, and check that i == element (+x). (if duplicates are possible, you&#39;ll need to consider those as well)","body":"iterate over all of them, and check that i == element (+x). (if duplicates are possible, you&#39;ll need to consider those as well)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1430830109,"post_id":30053354,"comment_id":48221303,"body_markdown":"Are elements guaranteed to be ordered? Also are they unique?","body":"Are elements guaranteed to be ordered? Also are they unique?"},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430830848,"post_id":30053354,"comment_id":48221923,"body_markdown":"I could create a website dedicated to all the wrong answers that keep showing up.","body":"I could create a website dedicated to all the wrong answers that keep showing up."},{"owner":{"display_name":"user4229245"},"score":1,"creation_date":1430831028,"post_id":30053354,"comment_id":48222055,"body_markdown":"I&#39;m not going to supply the code, but just suggest looping through looking to make sure that any given element is 1 more than the prior element (with an immediate pass for empty or arrays of size 1).  But again, we need clarification on some of the rules here.","body":"I&#39;m not going to supply the code, but just suggest looping through looking to make sure that any given element is 1 more than the prior element (with an immediate pass for empty or arrays of size 1).  But again, we need clarification on some of the rules here."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430831764,"post_id":30053354,"comment_id":48222616,"body_markdown":"I believe QBrute&#39;s ***revised*** answer is now the fastest, so long as the array is increasing and sorted.  He needs to put in checks for null and empty arrays too.  This question is too vague.","body":"I believe QBrute&#39;s <b><i>revised</i></b> answer is now the fastest, so long as the array is increasing and sorted.  He needs to put in checks for null and empty arrays too.  This question is too vague."}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430831996,"creation_date":1430830705,"answer_id":30053686,"question_id":30053354,"body_markdown":"Loop through the array and check, if the current item is exactly `x` more than the current index, where `x` is the first element in your array.\r\n\r\n    public boolean hasGaps(long[] array) {\r\n        if(array == null || array.length == 0) {\r\n            return false;\r\n        }\r\n\r\n        long start = array[0];\r\n        for(int i = 0; i &lt; array.length; i++) {\r\n            if(array[i] != i + start) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to check if an array of numbers has gaps?","body":"<p>Loop through the array and check, if the current item is exactly <code>x</code> more than the current index, where <code>x</code> is the first element in your array.</p>\n\n<pre><code>public boolean hasGaps(long[] array) {\n    if(array == null || array.length == 0) {\n        return false;\n    }\n\n    long start = array[0];\n    for(int i = 0; i &lt; array.length; i++) {\n        if(array[i] != i + start) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038814,"reputation":11606,"user_id":1820501,"display_name":"Florent Bayle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430830938,"creation_date":1430830938,"answer_id":30053783,"question_id":30053354,"body_markdown":"\tpublic static boolean hasGaps(long[] array) {\r\n\t\tif (array == null || array.length == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (array[array.length - 1] - array[0] + 1 != array.length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (int i = 1; i &lt; array.length; i++) {\r\n\t\t\tif (array[i] != array[i - 1] + 1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nThis method first check for the &quot;easy&quot; cases, then iterate the array to check the more complex cases.","title":"How to check if an array of numbers has gaps?","body":"<pre><code>public static boolean hasGaps(long[] array) {\n    if (array == null || array.length == 0) {\n        return false;\n    }\n    if (array[array.length - 1] - array[0] + 1 != array.length) {\n        return true;\n    }\n    for (int i = 1; i &lt; array.length; i++) {\n        if (array[i] != array[i - 1] + 1) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>This method first check for the \"easy\" cases, then iterate the array to check the more complex cases.</p>\n"},{"tags":[],"owner":{"account_id":2255735,"reputation":86,"user_id":1986960,"display_name":"Xorr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532255008,"creation_date":1430831342,"answer_id":30053933,"question_id":30053354,"body_markdown":"If you&#39;re guaranteed that arrays is ordered without any duplicate then you could check that in O(1)\r\n\r\nI think this code should work in this specific case :)\r\n\r\n    //assume that given array is ordered and has no duplicated value\r\n    long[] myarray = {5,6,7};                 //no gap\r\n    long[] myarray1 = {1,2,4};                //has gap\r\n    long[] myarray2 = {10,11,12,13,14,15};    //no gap\r\n\r\n\t//return true if has gap\r\n\t//return false if no gap\r\n    //throw null-pointer if empty\r\n\tpublic static boolean checkIfHasGap(long[] array) {\r\n\t\tif (array.length == 0) {\r\n\t\t\tthrow new NullPointerException(&quot;Given Array is empty&quot;);\r\n\t\t} else {\r\n\t\t\treturn array[0] + array.length != array[array.length - 1] + 1;\r\n\t\t}\r\n\t}","title":"How to check if an array of numbers has gaps?","body":"<p>If you're guaranteed that arrays is ordered without any duplicate then you could check that in O(1)</p>\n\n<p>I think this code should work in this specific case :)</p>\n\n<pre><code>//assume that given array is ordered and has no duplicated value\nlong[] myarray = {5,6,7};                 //no gap\nlong[] myarray1 = {1,2,4};                //has gap\nlong[] myarray2 = {10,11,12,13,14,15};    //no gap\n\n//return true if has gap\n//return false if no gap\n//throw null-pointer if empty\npublic static boolean checkIfHasGap(long[] array) {\n    if (array.length == 0) {\n        throw new NullPointerException(\"Given Array is empty\");\n    } else {\n        return array[0] + array.length != array[array.length - 1] + 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12400601,"reputation":43,"user_id":9038047,"display_name":"zapalote"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673712009,"creation_date":1673712009,"answer_id":75119264,"question_id":30053354,"body_markdown":"A simpler and reliable way:\r\n\r\n    const getMissingNumbers = (list) =&gt; {\r\n      if (!list || list.length === 0) return [];\r\n    \r\n      const missing = [];\r\n      // sort the list\r\n      list.sort((a, b) =&gt; a - b);\r\n      // pin start and end points in the list\r\n      const step = list[0];\r\n      const last = list[list.length - 1];\r\n      for (let i = step; i &lt; last; i++) {\r\n        if (list.indexOf(i) === -1) missing.push(i);\r\n      }\r\n      return missing;\r\n    }","title":"How to check if an array of numbers has gaps?","body":"<p>A simpler and reliable way:</p>\n<pre><code>const getMissingNumbers = (list) =&gt; {\n  if (!list || list.length === 0) return [];\n\n  const missing = [];\n  // sort the list\n  list.sort((a, b) =&gt; a - b);\n  // pin start and end points in the list\n  const step = list[0];\n  const last = list[list.length - 1];\n  for (let i = step; i &lt; last; i++) {\n    if (list.indexOf(i) === -1) missing.push(i);\n  }\n  return missing;\n}\n</code></pre>\n"}],"owner":{"account_id":4719079,"reputation":1173,"user_id":3817503,"accept_rate":50,"display_name":"goe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5137,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1673712009,"creation_date":1430829914,"question_id":30053354,"body_markdown":"I have a Long array with these numbers:\r\n\r\n    long[] = {1,2,3,5,6,7};\r\n\r\nNotice that `4` is missing. \r\nWhat&#39;s the best way to test this array if any such gaps exist or not?","title":"How to check if an array of numbers has gaps?","body":"<p>I have a Long array with these numbers:</p>\n\n<pre><code>long[] = {1,2,3,5,6,7};\n</code></pre>\n\n<p>Notice that <code>4</code> is missing. \nWhat's the best way to test this array if any such gaps exist or not?</p>\n"},{"tags":["java","android","reverse-geocoding"],"answers":[{"tags":[],"owner":{"account_id":27528644,"reputation":26,"user_id":21007535,"display_name":"Braj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673710875,"creation_date":1673710875,"answer_id":75119128,"question_id":74548550,"body_markdown":"It suddenly stops working for me as well. For now, just to not break the functionality we have followed the alternative approach to get the Sub Admin area.\r\nAs an alternative, we can get the pin code of the area using getPostalCode() method and then, with the help of pin code , we can fetch the Sub Admin area.","title":"Getting null in geocoder getSubAdminArea request however 10 days before it was returning a valid value","body":"<p>It suddenly stops working for me as well. For now, just to not break the functionality we have followed the alternative approach to get the Sub Admin area.\nAs an alternative, we can get the pin code of the area using getPostalCode() method and then, with the help of pin code , we can fetch the Sub Admin area.</p>\n"}],"owner":{"account_id":27025509,"reputation":1,"user_id":20582853,"display_name":"Mehtab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673710875,"creation_date":1669214271,"question_id":74548550,"body_markdown":"I am using Geocoder for getting city, district and State name  in Android App based on java\r\n```\r\n\r\nString state = addresses.get(0).getAdminArea();\r\nString district = addresses.get(0).getSubAdminArea(0);\r\nString city = addresses.get(0).getLocality();\r\n\r\n\r\n```\r\n\r\nBefore 10 days I was getting perfect results but now district value is null\r\n\r\n\r\n\r\nI tried a lot and I think the problem is with the getSubAdminArea request because other requests are working properly please help me out on this.\r\n","title":"Getting null in geocoder getSubAdminArea request however 10 days before it was returning a valid value","body":"<p>I am using Geocoder for getting city, district and State name  in Android App based on java</p>\n<pre><code>\nString state = addresses.get(0).getAdminArea();\nString district = addresses.get(0).getSubAdminArea(0);\nString city = addresses.get(0).getLocality();\n\n\n</code></pre>\n<p>Before 10 days I was getting perfect results but now district value is null</p>\n<p>I tried a lot and I think the problem is with the getSubAdminArea request because other requests are working properly please help me out on this.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1653613122,"post_id":72399378,"comment_id":127899519,"body_markdown":"A full program that reproduces the problem would help a lot here.  [mcve]","body":"A full program that reproduces the problem would help a lot here.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":3,"creation_date":1653613345,"post_id":72399378,"comment_id":127899550,"body_markdown":"This happens because you create a new `Laptops` object every time with `new`. It&#39;s not entirely straight forward to fix because it&#39;s not clear what `Laptops` represents: one, or many? It contains a list as if it represents many laptops, but it&#39;s initialized with a single cpu/gpu as if it was one laptop. You should consider creating a `Laptop` class that represents a single laptop object, and then a `LaptopList` or `LaptopCollection` that contains an array of `Laptop`s. Alternatively, you can give your `Laptops` class a `.addNewLaptop(cpu, gpu, battery)` so it can be called multiple times","body":"This happens because you create a new <code>Laptops</code> object every time with <code>new</code>. It&#39;s not entirely straight forward to fix because it&#39;s not clear what <code>Laptops</code> represents: one, or many? It contains a list as if it represents many laptops, but it&#39;s initialized with a single cpu/gpu as if it was one laptop. You should consider creating a <code>Laptop</code> class that represents a single laptop object, and then a <code>LaptopList</code> or <code>LaptopCollection</code> that contains an array of <code>Laptop</code>s. Alternatively, you can give your <code>Laptops</code> class a <code>.addNewLaptop(cpu, gpu, battery)</code> so it can be called multiple times"},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1653613661,"post_id":72399378,"comment_id":127899586,"body_markdown":"I have added the full program now you should be able to copy and paste it into your IDE and recreate the problem if you would like.","body":"I have added the full program now you should be able to copy and paste it into your IDE and recreate the problem if you would like."}],"answers":[{"tags":[],"owner":{"account_id":14705483,"reputation":148,"user_id":10620332,"display_name":"Miguel Aragon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673710863,"creation_date":1653614064,"answer_id":72399506,"question_id":72399378,"body_markdown":"If you want a single Laptops object to continue updating, then you should initialize it once before your loop (I renamed your instance from &quot;addLaptop&quot; to &quot;laptops&quot; to remove ambiguity with the function with the same name).\r\n```java\r\nLaptops laptops = new Laptops();\r\nScanner myObj = new Scanner(System.in);\r\n\r\nint loop = 0;...\r\n```\r\n\r\nAnd then you want to remove this line (the one inside your loop, not the first one above the loop) entirely as it is the culprit:\r\n```java\r\nLaptops addLaptop = new Laptops(gpu, cpu, batterylife);\r\n```\r\nYou don&#39;t need to reinitialize it in the loop, simply call addLaptop() (a member of the Laptop class), but passing your 3 parameters, gpu, cpu and batterylife into that function, so when you call that method, it is like:\r\n```java\r\nlaptops.addLaptop(gpu, cpu, batterylife);\r\n```\r\n\r\nWhat&#39;s happening is that your code is continuously overwriting your old laptops with the `new` keyword.\r\n\r\nNoticed also, your (input == 1) case should also remove the `new` laptop, and simply call \r\n```java\r\nlaptops.printAllLaptops();\r\n```\r\nso that it updates the instance of your instance of Laptops, not a new one.","title":"Why isn&#39;t my Array updating outside of the method that it is set in after I assign it a new value?","body":"<p>If you want a single Laptops object to continue updating, then you should initialize it once before your loop (I renamed your instance from &quot;addLaptop&quot; to &quot;laptops&quot; to remove ambiguity with the function with the same name).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Laptops laptops = new Laptops();\nScanner myObj = new Scanner(System.in);\n\nint loop = 0;...\n</code></pre>\n<p>And then you want to remove this line (the one inside your loop, not the first one above the loop) entirely as it is the culprit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Laptops addLaptop = new Laptops(gpu, cpu, batterylife);\n</code></pre>\n<p>You don't need to reinitialize it in the loop, simply call addLaptop() (a member of the Laptop class), but passing your 3 parameters, gpu, cpu and batterylife into that function, so when you call that method, it is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>laptops.addLaptop(gpu, cpu, batterylife);\n</code></pre>\n<p>What's happening is that your code is continuously overwriting your old laptops with the <code>new</code> keyword.</p>\n<p>Noticed also, your (input == 1) case should also remove the <code>new</code> laptop, and simply call</p>\n<pre class=\"lang-java prettyprint-override\"><code>laptops.printAllLaptops();\n</code></pre>\n<p>so that it updates the instance of your instance of Laptops, not a new one.</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72399506,"answer_count":1,"score":0,"last_activity_date":1673710863,"creation_date":1653612643,"question_id":72399378,"body_markdown":"I have an issue where when I combine two arrays &#39;laptops&#39; and &#39;arr2&#39; in the addLaptop() method and create a third array &#39;newArray&#39; to contain the values of &#39;laptops&#39; and &#39;arr2&#39; then set the &#39;laptops&#39; array equal to the value of &#39;newArray&#39; and print &#39;laptops&#39; within my addLaptop() method the value of &#39;laptops&#39; will be equal &#39;newArray&#39; just like I want. \r\n\r\nHowever, when I try grabbing the data out of the &#39;laptops&#39; from my printAllLaptops() method the values in the &#39;laptops&#39; array are set back to their original values instead of being set to the values of &#39;newArray&#39; like I want them to be.  \r\n\r\nWhat is my problem here I can&#39;t figure out why the values won&#39;t update? I have been stuck on this issue for hours now and have tried moving the &#39;laptops&#39; array around into my different methods and have tried setting laptops = newArray and have also tried returning laptops a few different ways from my addLaptop() method. \r\n\r\n**Code That Calls My Methods: LaptopFinderApp.java**\r\n\r\n    package docComments;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class LaptopFinderApp {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint loop = 0;\r\n    \t\t\r\n    \t\twhile (loop !=1) {\r\n    \t\t\tString userInput = null;\r\n    \t\t\t\r\n                    // Entering 1 is what calls the method I am having issues with\r\n    \t\t\t\tSystem.out.println(&quot;1. Show all laptops&quot;);\r\n                    // Entering 2 is what calls the method that updates my &#39;laptops Array&#39;\r\n    \t\t\t\tSystem.out.println(&quot;2. Add a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;3. Find a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;4. Delete a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;5. Number of laptops&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;6. Exit&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Enter your selection:&quot; );\r\n    \t\t\t\tScanner myObj = new Scanner(System.in);\r\n    \t\t\t\tuserInput = myObj.nextLine();  // Read user input\r\n    \t\t\t\tSystem.out.println();\r\n    \t\r\n    \t\t\t\t\r\n    \t\t\t\t// Converts user input from a string to an integer\r\n    \t\t\t\tint convertedInput = Integer.parseInt(userInput);\r\n    \t\t\t\t\r\n    \t\t\t\t// Handels user inputs\r\n    \t\t\t\tif (convertedInput &gt; 6) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a selection 1 - 6&quot;);\r\n    \t\t\t\t} else if (convertedInput == 6) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Goodbye&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else if (convertedInput == 5) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 4) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 3) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 2) {\r\n    \t\t\t\t\tSystem.out.println(&quot;GPU:&quot;);\r\n    \t\t\t\t\tString cpu = myObj.nextLine();\r\n    \t\t\t\t\tSystem.out.println(&quot;CPU:&quot;);\r\n    \t\t\t\t\tString gpu = myObj.nextLine();\r\n    \t\t\t\t\tSystem.out.println(&quot;Battery Life:&quot;);\r\n    \t\t\t\t\tString batterylife = myObj.nextLine();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tLaptops addLaptop = new Laptops(gpu, cpu, batterylife);\r\n    \t\t\t\t\taddLaptop.addLaptop();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 1) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tLaptops name = new Laptops(null, null, null);\r\n    \t\t\t\t\tname.printAllLaptops();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput &lt; 1) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a selection 1 - 6&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;Error please try again.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**My Code That is The Issue: Laptops.java**\r\n\r\n    package docComments;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class Laptops {\r\n    \t/**\r\n    \t * Needs to have GPU, CPU, Battery Life, unique id and static count as attributes.\r\n    \t */\r\n    \tprivate String gpu;\r\n    \tprivate String cpu;\r\n    \tprivate String batterylife;\r\n    \tprivate int id;\r\n    \tprivate int counter;\r\n    \t\r\n    \t\tpublic Laptops(String gpu, String cpu, String batterylife) {\r\n    \t\t\t\tthis.gpu =  gpu;\r\n    \t\t\t\tthis.cpu = cpu;\r\n    \t\t\t\tthis.batterylife = batterylife;\r\n    \t\t\t\tthis.id = 1000003;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the GPU of the Laptop.\r\n    \t\t * @return the GPU\r\n    \t\t */\r\n    \t\tpublic String getGpu() {\r\n    \t\t\treturn gpu;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * Returns the CPU of the Laptop.\r\n    \t\t * @return the CPU\r\n    \t\t */\r\n    \t\tpublic String getCpu() {\r\n    \t\t\treturn cpu;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * Returns the batterylife of the Laptop.\r\n    \t\t * @return the batterylife\r\n    \t\t */\r\n    \t\tpublic String getBatteryLife() {\r\n    \t\t\treturn batterylife;\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the user inputed id of the Laptop.\r\n    \t\t * @return the user inputed id\r\n    \t\t */\r\n    \t\tpublic int getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the new id we created.\r\n    \t\t * @return the new id\r\n    \t\t */\r\n    \t\tpublic int creatId() {\r\n    \t\t\tcounter = counter + 1;\r\n    \t\t\tid = id + counter;\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Array of laptops\r\n    \t\t */\r\n        \tString[][] laptops = {\r\n    \t\t\t\t{&quot;1000001&quot;, &quot;RTX 3080&quot;, &quot;Intel i7&quot;, &quot;24h&quot;},\r\n    \t\t\t\t{&quot;1000002&quot;, &quot;RTX 4090&quot;, &quot;Intel i9&quot;, &quot;16h&quot;},\r\n    \t\t\t\t{&quot;1000003&quot;, &quot;GTX 1660&quot;, &quot;Ryzen 5&quot;, &quot;34h&quot;}\r\n    \t\t};\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Prints all of the laptops in our array\r\n    \t\t */\r\n    \t\tpublic void printAllLaptops() {\r\n    \t\t\tSystem.out.println(Arrays.toString(laptops)); // only displays the three original laptops\r\n    \t\t\t for (int i = 0; i &lt; laptops.length; ++i) {\r\n    \t\t\t\t System.out.println(&quot;Laptop &quot; + i +&quot;: &quot; + &quot;ID:&quot; + laptops[i][0] + &quot; &quot; + laptops[i][1] + &quot; &quot; + laptops[i][2] + &quot; &quot; + laptops[i][3]);\r\n    \t\t\t }\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Adds user created laptop to laptops array\r\n    \t\t */\r\n    \t    public String[][] addLaptop() {\r\n    \t    \tif (gpu != null) {\r\n    \t    \tString arr2[][] = {{String.valueOf(creatId()), gpu, cpu, batterylife}};\r\n    \t        \r\n    \t        // create new array \r\n    \t        String newArray[][] = new String[laptops.length + arr2.length][];\r\n    \t        \r\n    \t        // Copy laptops array to new array from 0 to laptops.length\r\n    \t        System.arraycopy(laptops, 0, newArray, 0, laptops.length);\r\n    \t        \r\n    \t        // copy second array to new array\r\n    \t        System.arraycopy(arr2, 0, newArray, laptops.length, arr2.length);\r\n    \t        \t        \r\n    \t        // display all arrays\r\n    \t        System.out.println(&quot;Array1 = &quot; + Arrays.toString(laptops[0]));\r\n    \t        System.out.println(&quot;Array2 = &quot; + Arrays.toString(arr2[0]));\r\n    \t        System.out.println(&quot;Merged Array = &quot; + Arrays.toString(newArray[3]));\r\n    \t        \r\n    \t        // set old array equal to new array\r\n    \t        laptops = newArray;\r\n    \t        return newArray;\r\n    \t    \t} else {\r\n    \t    \t\tSystem.out.println(&quot;Error adding laptop to list.&quot;);\r\n    \t    \t\treturn laptops;\r\n    \t    \t}\r\n    \t    \t\r\n    \t    }\r\n    \t    \r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Prints out a string that contains GPU, CPU, battery life and id.\r\n    \t\t */\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\t\r\n    \t\t\treturn &quot;GPU: &quot; + gpu + &quot; CPU: &quot; + cpu + &quot; Battery Life: &quot; + batterylife + &quot; ID: &quot; + creatId();\r\n    \t\t}\r\n    }\r\n\r\n","title":"Why isn&#39;t my Array updating outside of the method that it is set in after I assign it a new value?","body":"<p>I have an issue where when I combine two arrays 'laptops' and 'arr2' in the addLaptop() method and create a third array 'newArray' to contain the values of 'laptops' and 'arr2' then set the 'laptops' array equal to the value of 'newArray' and print 'laptops' within my addLaptop() method the value of 'laptops' will be equal 'newArray' just like I want.</p>\n<p>However, when I try grabbing the data out of the 'laptops' from my printAllLaptops() method the values in the 'laptops' array are set back to their original values instead of being set to the values of 'newArray' like I want them to be.</p>\n<p>What is my problem here I can't figure out why the values won't update? I have been stuck on this issue for hours now and have tried moving the 'laptops' array around into my different methods and have tried setting laptops = newArray and have also tried returning laptops a few different ways from my addLaptop() method.</p>\n<p><strong>Code That Calls My Methods: LaptopFinderApp.java</strong></p>\n<pre><code>package docComments;\n\nimport java.util.Scanner;\n\npublic class LaptopFinderApp {\n    \n    public static void main(String[] args) {\n        \n        int loop = 0;\n        \n        while (loop !=1) {\n            String userInput = null;\n            \n                // Entering 1 is what calls the method I am having issues with\n                System.out.println(&quot;1. Show all laptops&quot;);\n                // Entering 2 is what calls the method that updates my 'laptops Array'\n                System.out.println(&quot;2. Add a laptop&quot;);\n                System.out.println(&quot;3. Find a laptop&quot;);\n                System.out.println(&quot;4. Delete a laptop&quot;);\n                System.out.println(&quot;5. Number of laptops&quot;);\n                System.out.println(&quot;6. Exit&quot;);\n                System.out.println(&quot;Enter your selection:&quot; );\n                Scanner myObj = new Scanner(System.in);\n                userInput = myObj.nextLine();  // Read user input\n                System.out.println();\n    \n                \n                // Converts user input from a string to an integer\n                int convertedInput = Integer.parseInt(userInput);\n                \n                // Handels user inputs\n                if (convertedInput &gt; 6) {\n                    System.out.println(&quot;Enter a selection 1 - 6&quot;);\n                } else if (convertedInput == 6) {\n                    System.out.println(&quot;Goodbye&quot;);\n                    break;\n                } else if (convertedInput == 5) {\n                    \n                } else if (convertedInput == 4) {\n                    \n                } else if (convertedInput == 3) {\n                    \n                } else if (convertedInput == 2) {\n                    System.out.println(&quot;GPU:&quot;);\n                    String cpu = myObj.nextLine();\n                    System.out.println(&quot;CPU:&quot;);\n                    String gpu = myObj.nextLine();\n                    System.out.println(&quot;Battery Life:&quot;);\n                    String batterylife = myObj.nextLine();\n                    \n                    Laptops addLaptop = new Laptops(gpu, cpu, batterylife);\n                    addLaptop.addLaptop();\n                    \n                } else if (convertedInput == 1) {\n                    \n                    Laptops name = new Laptops(null, null, null);\n                    name.printAllLaptops();\n                    \n                } else if (convertedInput &lt; 1) {\n                    System.out.println(&quot;Enter a selection 1 - 6&quot;);\n                } else {\n                    System.out.println(&quot;Error please try again.&quot;);\n                }\n                System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><strong>My Code That is The Issue: Laptops.java</strong></p>\n<pre><code>package docComments;\n\nimport java.util.Arrays;\n\npublic class Laptops {\n    /**\n     * Needs to have GPU, CPU, Battery Life, unique id and static count as attributes.\n     */\n    private String gpu;\n    private String cpu;\n    private String batterylife;\n    private int id;\n    private int counter;\n    \n        public Laptops(String gpu, String cpu, String batterylife) {\n                this.gpu =  gpu;\n                this.cpu = cpu;\n                this.batterylife = batterylife;\n                this.id = 1000003;\n        }\n        \n        \n        /**\n         * Returns the GPU of the Laptop.\n         * @return the GPU\n         */\n        public String getGpu() {\n            return gpu;\n        }\n\n        /**\n         * Returns the CPU of the Laptop.\n         * @return the CPU\n         */\n        public String getCpu() {\n            return cpu;\n        }\n\n        /**\n         * Returns the batterylife of the Laptop.\n         * @return the batterylife\n         */\n        public String getBatteryLife() {\n            return batterylife;\n        }\n        \n        /**\n         * Returns the user inputed id of the Laptop.\n         * @return the user inputed id\n         */\n        public int getId() {\n            return id;\n        }\n        \n        \n        /**\n         * Returns the new id we created.\n         * @return the new id\n         */\n        public int creatId() {\n            counter = counter + 1;\n            id = id + counter;\n            return id;\n        }\n        \n        \n        /**\n         * Array of laptops\n         */\n        String[][] laptops = {\n                {&quot;1000001&quot;, &quot;RTX 3080&quot;, &quot;Intel i7&quot;, &quot;24h&quot;},\n                {&quot;1000002&quot;, &quot;RTX 4090&quot;, &quot;Intel i9&quot;, &quot;16h&quot;},\n                {&quot;1000003&quot;, &quot;GTX 1660&quot;, &quot;Ryzen 5&quot;, &quot;34h&quot;}\n        };\n        \n        \n        /**\n         * Prints all of the laptops in our array\n         */\n        public void printAllLaptops() {\n            System.out.println(Arrays.toString(laptops)); // only displays the three original laptops\n             for (int i = 0; i &lt; laptops.length; ++i) {\n                 System.out.println(&quot;Laptop &quot; + i +&quot;: &quot; + &quot;ID:&quot; + laptops[i][0] + &quot; &quot; + laptops[i][1] + &quot; &quot; + laptops[i][2] + &quot; &quot; + laptops[i][3]);\n             }\n        }\n        \n        /**\n         * Adds user created laptop to laptops array\n         */\n        public String[][] addLaptop() {\n            if (gpu != null) {\n            String arr2[][] = {{String.valueOf(creatId()), gpu, cpu, batterylife}};\n            \n            // create new array \n            String newArray[][] = new String[laptops.length + arr2.length][];\n            \n            // Copy laptops array to new array from 0 to laptops.length\n            System.arraycopy(laptops, 0, newArray, 0, laptops.length);\n            \n            // copy second array to new array\n            System.arraycopy(arr2, 0, newArray, laptops.length, arr2.length);\n                        \n            // display all arrays\n            System.out.println(&quot;Array1 = &quot; + Arrays.toString(laptops[0]));\n            System.out.println(&quot;Array2 = &quot; + Arrays.toString(arr2[0]));\n            System.out.println(&quot;Merged Array = &quot; + Arrays.toString(newArray[3]));\n            \n            // set old array equal to new array\n            laptops = newArray;\n            return newArray;\n            } else {\n                System.out.println(&quot;Error adding laptop to list.&quot;);\n                return laptops;\n            }\n            \n        }\n        \n        \n        /**\n         * Prints out a string that contains GPU, CPU, battery life and id.\n         */\n        @Override\n        public String toString() {\n            \n            return &quot;GPU: &quot; + gpu + &quot; CPU: &quot; + cpu + &quot; Battery Life: &quot; + batterylife + &quot; ID: &quot; + creatId();\n        }\n}\n</code></pre>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":2,"creation_date":1393236645,"post_id":21984578,"comment_id":33315545,"body_markdown":"have you tried something?","body":"have you tried something?"},{"owner":{"display_name":"user3344370"},"score":0,"creation_date":1393236765,"post_id":21984578,"comment_id":33315627,"body_markdown":"@StinePike Im new to Java so am unsure on the ways. I looked on the internet but a lot of replies are for decimals or involve rather long ways. I was wondering if there is a simple way to do such a thing?","body":"@StinePike Im new to Java so am unsure on the ways. I looked on the internet but a lot of replies are for decimals or involve rather long ways. I was wondering if there is a simple way to do such a thing?"},{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":1,"creation_date":1393236849,"post_id":21984578,"comment_id":33315696,"body_markdown":"ok .. it is definitely not bad to ask questions .. but here people like to see what you have tried so far.. it is better to correct your mistakes instead of providing the full answer :)","body":"ok .. it is definitely not bad to ask questions .. but here people like to see what you have tried so far.. it is better to correct your mistakes instead of providing the full answer :)"},{"owner":{"display_name":"user3344370"},"score":0,"creation_date":1393237008,"post_id":21984578,"comment_id":33315800,"body_markdown":"@StinePike Thanks for that :) You may be able to tell but I joined this yesterday and am still understanding how it all works. Thanks for your advice","body":"@StinePike Thanks for that :) You may be able to tell but I joined this yesterday and am still understanding how it all works. Thanks for your advice"}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1393237016,"creation_date":1393236666,"answer_id":21984611,"question_id":21984578,"body_markdown":"1. Divide by 100\r\n2. Round\r\n3. Multiply by 100\r\n\r\nSmall demo: \r\n\r\n    int[] values = { 497, 98, 1423 };\r\n    for (int value : values) {\r\n        int rounded = (int) Math.round(value / 100.0) * 100;\r\n        System.out.format(&quot;Before: %4d Rounded: %4d%n&quot;, value, rounded);\r\n    }","title":"Rounding to the closest 100","body":"<ol>\n<li>Divide by 100</li>\n<li>Round</li>\n<li>Multiply by 100</li>\n</ol>\n\n<p>Small demo: </p>\n\n<pre><code>int[] values = { 497, 98, 1423 };\nfor (int value : values) {\n    int rounded = (int) Math.round(value / 100.0) * 100;\n    System.out.format(\"Before: %4d Rounded: %4d%n\", value, rounded);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1393245002,"creation_date":1393236702,"answer_id":21984628,"question_id":21984578,"body_markdown":"I&#39;d divide by 100, round, and then multiply again:\r\n\r\n    int initial = ...;\r\n    int rounded = (int) Math.round(initial/100.0) * 100;\r\n\r\nNote to divide by `100.0` and not `100`, so you do the division in floating point arithmetic.","title":"Rounding to the closest 100","body":"<p>I'd divide by 100, round, and then multiply again:</p>\n\n<pre><code>int initial = ...;\nint rounded = (int) Math.round(initial/100.0) * 100;\n</code></pre>\n\n<p>Note to divide by <code>100.0</code> and not <code>100</code>, so you do the division in floating point arithmetic.</p>\n"},{"tags":[],"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393240535,"creation_date":1393237314,"answer_id":21984877,"question_id":21984578,"body_markdown":"Another way, that avoids floating point arithmetic and possible precision errors is something along these lines:\r\n\r\n    int value = 497;\r\n    int rounded = 0;\r\n    int remainder = value % 100;\r\n    if (remainder &gt;= 50) {\r\n      rounded = value - remainder + 100;\r\n    } else {\r\n      rounded = value - remainder;\r\n    }\r\n\r\nor simpler:\r\n\r\n    int rounded = ((value + 50) / 100) * 100;","title":"Rounding to the closest 100","body":"<p>Another way, that avoids floating point arithmetic and possible precision errors is something along these lines:</p>\n\n<pre><code>int value = 497;\nint rounded = 0;\nint remainder = value % 100;\nif (remainder &gt;= 50) {\n  rounded = value - remainder + 100;\n} else {\n  rounded = value - remainder;\n}\n</code></pre>\n\n<p>or simpler:</p>\n\n<pre><code>int rounded = ((value + 50) / 100) * 100;\n</code></pre>\n"}],"owner":{"display_name":"user3344370"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21984628,"answer_count":3,"score":3,"last_activity_date":1673710375,"creation_date":1393236611,"question_id":21984578,"body_markdown":"How do you round an integer to the closest 100?\r\nFor example, 497 would round to 500, 98 would round to 100, and 1423 would round to 1400.","title":"Rounding to the closest 100","body":"<p>How do you round an integer to the closest 100?\nFor example, 497 would round to 500, 98 would round to 100, and 1423 would round to 1400.</p>\n"},{"tags":["java","spring","maven","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705314,"post_id":75118430,"comment_id":132559905,"body_markdown":"Why do you define versions for `spring-aop`, `rest-assured` etc instead of using the one which is provided by the spring boot parent? If you like to use more recent versions use the most recent version of spring boot instead???","body":"Why do you define versions for <code>spring-aop</code>, <code>rest-assured</code> etc instead of using the one which is provided by the spring boot parent? If you like to use more recent versions use the most recent version of spring boot instead???"},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1673705654,"post_id":75118430,"comment_id":132559954,"body_markdown":"@khmarbaise I think it&#39;s just a template in VSCode, I&#39;m not too sure","body":"@khmarbaise I think it&#39;s just a template in VSCode, I&#39;m not too sure"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673707597,"post_id":75118430,"comment_id":132560322,"body_markdown":"(1) Spring Boot 2.x + Tomcat 9.x (2) Spring Boot 3.x + Tomcat 10.x + JDK 17 ; (3) Please use Tomcat 9.x","body":"(1) Spring Boot 2.x + Tomcat 9.x (2) Spring Boot 3.x + Tomcat 10.x + JDK 17 ; (3) Please use Tomcat 9.x"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673707871,"creation_date":1673707871,"answer_id":75118821,"question_id":75118430,"body_markdown":"Spring 2 / Spring 5 will not work on Tomcat 10, because Tomcat 10 is working with jakarta packages that are not present in Spring 2 / Spring 5, they are using javax packages. Either downgrade to Tomcat 9 or upgrade to Spring 3 / Spring 6 if you want to use Tomcat 10.","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>Spring 2 / Spring 5 will not work on Tomcat 10, because Tomcat 10 is working with jakarta packages that are not present in Spring 2 / Spring 5, they are using javax packages. Either downgrade to Tomcat 9 or upgrade to Spring 3 / Spring 6 if you want to use Tomcat 10.</p>\n"},{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673710324,"creation_date":1673710324,"answer_id":75119075,"question_id":75118430,"body_markdown":"Using the Spring Boot framework will be written as follows\r\n\r\n# Spring Boot 3 \r\n## Project Structure\r\n\r\n```\r\n‚îú‚îÄ‚îÄ pom.xml\r\n‚îî‚îÄ‚îÄ src\r\n    ‚îî‚îÄ‚îÄ main\r\n        ‚îú‚îÄ‚îÄ java\r\n        ‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ com\r\n        ‚îÇ&#160;&#160;     ‚îî‚îÄ‚îÄ example\r\n        ‚îÇ&#160;&#160;         ‚îî‚îÄ‚îÄ springmvctest\r\n        ‚îÇ&#160;&#160;             ‚îú‚îÄ‚îÄ DemoSpringbootJspApplication.java\r\n        ‚îÇ&#160;&#160;             ‚îî‚îÄ‚îÄ TestController.java\r\n        ‚îú‚îÄ‚îÄ resources\r\n        ‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ application.properties\r\n        ‚îî‚îÄ‚îÄ webapp\r\n            ‚îú‚îÄ‚îÄ index.jsp\r\n            ‚îî‚îÄ‚îÄ WEB-INF\r\n                ‚îî‚îÄ‚îÄ views\r\n                    ‚îî‚îÄ‚îÄ welcome.jsp\r\n```\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;!--&lt;version&gt;2.7.6&lt;/version&gt;--&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;springmvctest&lt;/name&gt;\r\n\t&lt;description&gt;springmvctest&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t        &lt;exclusions&gt;\r\n                          &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                          &lt;/exclusion&gt;\t\r\n\t\t        &lt;/exclusions&gt;                          \t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## DemoSpringbootJspApplication.java\r\n\r\n```\r\npackage com.example.springmvctest;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class DemoSpringbootJspApplication extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(DemoSpringbootJspApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoSpringbootJspApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## TestController.java\r\n\r\n```\r\npackage com.example.springmvctest;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.Map;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class TestController {\r\n    \r\n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testMethod (Model model) {\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\r\n        return &quot;welcome&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## application.properties\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n## welcome.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Welcome&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;%\r\n// debug\r\nSystem.out.println(&quot;webapp / WEB-INF / views / welcome.jsp &quot;);\r\n%&gt;\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  ${greeting} &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# Package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\n# Deploy and start\r\n\r\n- Put traget/springmvctest.war to apache-tomcat-10.1.4/webapps/\r\n\r\n- Startup tomcat \r\n\r\n# Test\r\n\r\n## Run Command\r\n\r\n`curl http://localhost:8080/springmvctest/test`\r\n\r\n\r\n## Result\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Welcome&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  Hello World 2 &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>Using the Spring Boot framework will be written as follows</p>\n<h1>Spring Boot 3</h1>\n<h2>Project Structure</h2>\n<pre><code>‚îú‚îÄ‚îÄ pom.xml\n‚îî‚îÄ‚îÄ src\n    ‚îî‚îÄ‚îÄ main\n        ‚îú‚îÄ‚îÄ java\n        ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ com\n        ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ example\n        ‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ springmvctest\n        ‚îÇ¬†¬†             ‚îú‚îÄ‚îÄ DemoSpringbootJspApplication.java\n        ‚îÇ¬†¬†             ‚îî‚îÄ‚îÄ TestController.java\n        ‚îú‚îÄ‚îÄ resources\n        ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ application.properties\n        ‚îî‚îÄ‚îÄ webapp\n            ‚îú‚îÄ‚îÄ index.jsp\n            ‚îî‚îÄ‚îÄ WEB-INF\n                ‚îî‚îÄ‚îÄ views\n                    ‚îî‚îÄ‚îÄ welcome.jsp\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;!--&lt;version&gt;2.7.6&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;springmvctest&lt;/name&gt;\n    &lt;description&gt;springmvctest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                          &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                          &lt;/exclusion&gt;  \n                &lt;/exclusions&gt;                               \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>DemoSpringbootJspApplication.java</h2>\n<pre><code>package com.example.springmvctest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoSpringbootJspApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(DemoSpringbootJspApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoSpringbootJspApplication.class, args);\n    }\n\n}\n</code></pre>\n<h2>TestController.java</h2>\n<pre><code>package com.example.springmvctest;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.Map;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class TestController {\n    \n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\n    public String testMethod (Model model) {\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\n        return &quot;welcome&quot;;\n    }\n}\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<h2>welcome.jsp</h2>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Welcome&lt;/title&gt;\n&lt;/head&gt;\n&lt;%\n// debug\nSystem.out.println(&quot;webapp / WEB-INF / views / welcome.jsp &quot;);\n%&gt;\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  ${greeting} &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>Package</h1>\n<pre><code>mvn clean package\n</code></pre>\n<h1>Deploy and start</h1>\n<ul>\n<li><p>Put traget/springmvctest.war to apache-tomcat-10.1.4/webapps/</p>\n</li>\n<li><p>Startup tomcat</p>\n</li>\n</ul>\n<h1>Test</h1>\n<h2>Run Command</h2>\n<p><code>curl http://localhost:8080/springmvctest/test</code></p>\n<h2>Result</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Welcome&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  Hello World 2 &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75119075,"answer_count":2,"score":0,"last_activity_date":1673710324,"creation_date":1673704326,"question_id":75118430,"body_markdown":"I&#39;m currently learning Spring MVC and making a simple Hello World web application with it. However, I have no idea why its not working (The WebApplicationInitializer doesn&#39;t get invoked).\r\n\r\nHere&#39;s the pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;springmvctest Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;java.version&gt;18&lt;/java.version&gt;\r\n    &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n    &lt;log4jdbc.log4j2.version&gt;1.16&lt;/log4jdbc.log4j2.version&gt;\r\n    &lt;rest.assured.version&gt;2.3.3&lt;/rest.assured.version&gt;\r\n\r\n    &lt;start-class&gt;java.WebInit&lt;/start-class&gt;\r\n\r\n  &lt;/properties&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.4&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.1.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.12&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bgee.log4jdbc-log4j2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4jdbc-log4j2-jdbc4.1&lt;/artifactId&gt;\r\n        &lt;version&gt;${log4jdbc.log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;${rest.assured.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;springmvctest&lt;/finalName&gt;\r\n\r\n    &lt;sourceDirectory&gt; src/main/ &lt;/sourceDirectory&gt;\r\n\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n\r\n\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;dependencies&gt;\r\n                  &lt;dependency&gt;\r\n                      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\r\n                      &lt;version&gt;${spring-loaded.version}&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;18&lt;/source&gt;\r\n            &lt;target&gt;18&lt;/target&gt;\r\n          &lt;/configuration&gt;   \r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHere&#39;s the WebApplicationInitializer implementation:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletRegistration;\r\n\r\nimport org.springframework.web.WebApplicationInitializer;\r\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\r\nimport org.springframework.web.servlet.DispatcherServlet;\r\n\r\npublic class WebInit implements WebApplicationInitializer {\r\n    \r\n    @Override\r\n    public void onStartup(ServletContext servletContext) {\r\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\r\n        context.register(WebConfig.class);\r\n        context.setServletContext(servletContext);\r\n\r\n        System.out.println(&quot;hi&quot;);\r\n        // Create and register the DispatcherServlet\r\n        DispatcherServlet servlet = new DispatcherServlet(context);\r\n\r\n        ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;app&quot;, servlet);\r\n        registration.setLoadOnStartup(1);\r\n        registration.addMapping(&quot;/&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere&#39;s the WebConfig:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\nimport org.springframework.web.servlet.view.JstlView;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;java&quot;)\r\npublic class WebConfig {\r\n    \r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n        viewResolver.setViewClass(JstlView.class);\r\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        viewResolver.setSuffix(&quot;.jsp&quot;);\r\n \r\n        return viewResolver;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd finally here&#39;s the Controller implementation:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class TestController {\r\n    \r\n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testMethod (Model model) {\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\r\n        return &quot;welcome&quot;;\r\n    }\r\n}\r\n\r\n```\r\nI have used clean install and run the .war on the Tomcat server\r\n\r\nI tried entering &#39;http://localhost:8080/springmvctest/test&#39; but it gave me a 404 error on the web, and no error in the output.\r\n\r\nThere are also no mentions of Spring in the output whatsoever, so I assume that Tomcat doesn&#39;t detect Spring ?\r\n\r\nI&#39;m using Tomcat 10.0.27 and VSCode as the text editor.","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>I'm currently learning Spring MVC and making a simple Hello World web application with it. However, I have no idea why its not working (The WebApplicationInitializer doesn't get invoked).</p>\n<p>Here's the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;springmvctest Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n    &lt;log4jdbc.log4j2.version&gt;1.16&lt;/log4jdbc.log4j2.version&gt;\n    &lt;rest.assured.version&gt;2.3.3&lt;/rest.assured.version&gt;\n\n    &lt;start-class&gt;java.WebInit&lt;/start-class&gt;\n\n  &lt;/properties&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.4&lt;/version&gt;\n  &lt;/parent&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.8.12&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bgee.log4jdbc-log4j2&lt;/groupId&gt;\n        &lt;artifactId&gt;log4jdbc-log4j2-jdbc4.1&lt;/artifactId&gt;\n        &lt;version&gt;${log4jdbc.log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${rest.assured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;springmvctest&lt;/finalName&gt;\n\n    &lt;sourceDirectory&gt; src/main/ &lt;/sourceDirectory&gt;\n\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n\n\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;dependencies&gt;\n                  &lt;dependency&gt;\n                      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                      &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\n                      &lt;version&gt;${spring-loaded.version}&lt;/version&gt;\n                  &lt;/dependency&gt;\n              &lt;/dependencies&gt;\n          &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;18&lt;/source&gt;\n            &lt;target&gt;18&lt;/target&gt;\n          &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Here's the WebApplicationInitializer implementation:</p>\n<pre><code>\npackage java;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletRegistration;\n\nimport org.springframework.web.WebApplicationInitializer;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\n\npublic class WebInit implements WebApplicationInitializer {\n    \n    @Override\n    public void onStartup(ServletContext servletContext) {\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\n        context.register(WebConfig.class);\n        context.setServletContext(servletContext);\n\n        System.out.println(&quot;hi&quot;);\n        // Create and register the DispatcherServlet\n        DispatcherServlet servlet = new DispatcherServlet(context);\n\n        ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;app&quot;, servlet);\n        registration.setLoadOnStartup(1);\n        registration.addMapping(&quot;/&quot;);\n    }\n\n}\n</code></pre>\n<p>Here's the WebConfig:</p>\n<pre><code>\npackage java;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;java&quot;)\npublic class WebConfig {\n    \n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        viewResolver.setSuffix(&quot;.jsp&quot;);\n \n        return viewResolver;\n    }\n}\n\n</code></pre>\n<p>And finally here's the Controller implementation:</p>\n<pre><code>\npackage java;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class TestController {\n    \n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\n    public String testMethod (Model model) {\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\n        return &quot;welcome&quot;;\n    }\n}\n\n</code></pre>\n<p>I have used clean install and run the .war on the Tomcat server</p>\n<p>I tried entering 'http://localhost:8080/springmvctest/test' but it gave me a 404 error on the web, and no error in the output.</p>\n<p>There are also no mentions of Spring in the output whatsoever, so I assume that Tomcat doesn't detect Spring ?</p>\n<p>I'm using Tomcat 10.0.27 and VSCode as the text editor.</p>\n"},{"tags":["java","arrays","for-loop","card","playing-cards"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1673709980,"post_id":75119028,"comment_id":132560769,"body_markdown":"That&#39;s not too bad. As it happens, you can model playing cards as `enum`s. In fact there is an &#39;official&#39; tutorial showing just that. You could improve it a bit by using more self-documenting names for `getValueN` and `getValueS`- I read them and didn&#39;t know *immediately* what they did.","body":"That&#39;s not too bad. As it happens, you can model playing cards as <code>enum</code>s. In fact there is an &#39;official&#39; tutorial showing just that. You could improve it a bit by using more self-documenting names for <code>getValueN</code> and <code>getValueS</code>- I read them and didn&#39;t know <i>immediately</i> what they did."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673710354,"post_id":75119028,"comment_id":132560841,"body_markdown":"Your deck lacks one element btw: `[x]` means that it has x elements. It is *indexed* 0 thru x-1. [This](https://docs.oracle.com/javase/tutorial/java/javaOO/examples/Deck3.java) is how easy it is to write a deck class with the cards having `enum`s","body":"Your deck lacks one element btw: <code>[x]</code> means that it has x elements. It is <i>indexed</i> 0 thru x-1. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/examples/Deck3.java\" rel=\"nofollow noreferrer\">This</a> is how easy it is to write a deck class with the cards having <code>enum</code>s"},{"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"score":0,"creation_date":1673711129,"post_id":75119028,"comment_id":132561000,"body_markdown":"i dont believe i can use an enum here because i am forced to use switch statements @g00se","body":"i dont believe i can use an enum here because i am forced to use switch statements @g00se"},{"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"score":0,"creation_date":1673711985,"post_id":75119028,"comment_id":132561181,"body_markdown":"I added an x variable to store all the new cards and everything works now thank you very very much for the suggestion @g00se","body":"I added an x variable to store all the new cards and everything works now thank you very very much for the suggestion @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673712128,"post_id":75119028,"comment_id":132561212,"body_markdown":"Actually I was just making a general point with the &#39;x&#39; thing. You don&#39;t need a variable. Though you could define and use a constant such as `DEFAULT_DECK_SIZE`","body":"Actually I was just making a general point with the &#39;x&#39; thing. You don&#39;t need a variable. Though you could define and use a constant such as <code>DEFAULT_DECK_SIZE</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673714725,"post_id":75119028,"comment_id":132561761,"body_markdown":"_i dont believe i can use an enum here because i am forced to use switch statements_: did you know that you can use enum constants in a switch statement? See https://stackoverflow.com/questions/6391777/switch-on-enum-in-java - or from the Java Tutorials: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","body":"<i>i dont believe i can use an enum here because i am forced to use switch statements</i>: did you know that you can use enum constants in a switch statement? See <a href=\"https://stackoverflow.com/questions/6391777/switch-on-enum-in-java\" title=\"switch on enum in java\">stackoverflow.com/questions/6391777/switch-on-enum-in-java</a> - or from the Java Tutorials: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1673715806,"post_id":75119028,"comment_id":132562022,"body_markdown":"You have an &quot;off by one&quot; error. Your &quot;value&quot; `switch` goes from 1 to 13, and your &quot;suits&quot; `switch` goes from 1 to 4. In your `Deck` constructor, the outer `for` loop for &quot;values&quot; is correctly going from 1 to 13, but your inner `for` loop that is generating the &quot;suits&quot; is going from 0 to 3. So you need to either change the `switch` or the `for` loop...  =)","body":"You have an &quot;off by one&quot; error. Your &quot;value&quot; <code>switch</code> goes from 1 to 13, and your &quot;suits&quot; <code>switch</code> goes from 1 to 4. In your <code>Deck</code> constructor, the outer <code>for</code> loop for &quot;values&quot; is correctly going from 1 to 13, but your inner <code>for</code> loop that is generating the &quot;suits&quot; is going from 0 to 3. So you need to either change the <code>switch</code> or the <code>for</code> loop...  =)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673717405,"post_id":75119028,"comment_id":132562346,"body_markdown":"There are 52 cards in a deck. So this is wrong: `new Card [51];`. And a likely reason for your out of bounds exception. Your code looks fine to me.","body":"There are 52 cards in a deck. So this is wrong: <code>new Card [51];</code>. And a likely reason for your out of bounds exception. Your code looks fine to me."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673721726,"post_id":75119028,"comment_id":132563257,"body_markdown":"By the way, &quot;Ace&quot; is usually, but not always, the card with the highest value. It would help if the names of your ranks were in value order: &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, ... , &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;.","body":"By the way, &quot;Ace&quot; is usually, but not always, the card with the highest value. It would help if the names of your ranks were in value order: &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, ... , &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673722053,"post_id":75119028,"comment_id":132563331,"body_markdown":"An alternative to using switch / case in your ~Number methods is to use an array: `public String valueNumber () { final String [] rankName = {&quot;Deuce&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, ... , &quot;King&quot;, &quot;Ace&quot;}; return rankName [value];}`","body":"An alternative to using switch / case in your ~Number methods is to use an array: <code>public String valueNumber () { final String [] rankName = {&quot;Deuce&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, ... , &quot;King&quot;, &quot;Ace&quot;}; return rankName [value];}</code>"}],"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673709744,"creation_date":1673709744,"question_id":75119028,"body_markdown":"The real problem is trying to create and store the Card objects in my array.\r\nIf i just needed to store strings or doubles for example i would be able to figure it out.\r\nIm pretty new at this and this is my first stack overflow question so bear with me.\r\nIt might be worth noting i will eventually need to randomly generate random ints to pass through my card objects to get random cards.\r\n\r\nThis is my card class,\r\n\r\n```\r\npublic class Card\r\n{   \r\n    private int value;\r\n    private int suit;\r\n    private String valueN;    \r\n    private String valueS;\r\n    Card(int value, int suit)\r\n{\r\n        this.value = value;\r\n        this.suit = suit;\r\n}   \r\n    public String valueNumber()\r\n{    \r\n    switch(value)\r\n{\r\n      case 1:\r\n              valueN = &quot;Ace&quot;;\r\n              break;\r\n      case 2:\r\n              valueN = &quot;Two&quot;;\r\n              break;\r\n      case 3:\r\n              valueN = &quot;Three&quot;;\r\n              break;\r\n      case 4:\r\n              valueN = &quot;Four&quot;;\r\n              break;\r\n      case 5:\r\n              valueN = &quot;Five&quot;;\r\n              break;\r\n      case 6:\r\n              valueN = &quot;Six&quot;;\r\n              break;\r\n      case 7:\r\n              valueN = &quot;Seven&quot;;\r\n              break;\r\n      case 8:\r\n              valueN = &quot;Eight&quot;;\r\n              break;\r\n      case 9: \r\n              valueN = &quot;Nine&quot;;\r\n              break;\r\n      case 10:\r\n              valueN = &quot;Ten&quot;; \r\n              break;\r\n      case 11:\r\n              valueN = &quot;Jack&quot;;\r\n              break;\r\n      case 12:\r\n              valueN = &quot;Queen&quot;;\r\n              break;\r\n      case 13:\r\n              valueN = &quot;King&quot;; \r\n              break;\r\n}      \r\n        return valueN;\r\n    }\r\n    public String suitNumber()\r\n{\r\n    switch(suit)\r\n{    \r\n      case 1: \r\n              valueS = &quot;Hearts&quot;;\r\n              break;\r\n      case 2:\r\n              valueS = &quot;Clubs&quot;;\r\n              break;\r\n      case 3:       \r\n              valueS = &quot;Spades&quot;;\r\n              break;        \r\n      case 4:        \r\n              valueS = &quot;Diamonds&quot;;\r\n}                    \r\n        return valueS;\r\n}  \r\n    public String getValueN() \r\n{\r\n    return this.valueN;\r\n}\r\n   public String getSuitS()\r\n{\r\n    return this.valueS;\r\n}\r\n  public int getValue()\r\n{\r\n    return this.value;\r\n}\r\n  public int getSuit()\r\n{\r\n    return this.suit;\r\n}\r\n   public String toString() \r\n{\r\n        return valueNumber() + &quot; of &quot; + suitNumber();       \r\n}\r\n}\r\n```\r\nDo i need to use those accessor methods?\r\nIve been trying to solve this for an embarrassing amount of time and still dont know if i should use a regular array or a 2d array or something new altogether.\r\n\r\nI should mention this is for a school assignment and i dont know if stack overflow has anything asking questions pertaining to assignments but i assure you this is a very small part of this assignment.\r\n\r\nThis is my deck class and my best attempt at creating the loop and array i need but it gets out of bounds exception error and is probably wrong.\r\n\r\n```\r\npublic class Deck\r\n{\r\n    Deck ()\r\n    {\r\n        int index = 0;\r\n        Card deck [] = new Card [51]; \r\n            \r\n            for (int value = 1; value &lt;= 13; value++)\r\n            {\r\n                for (int suit = 0; suit &lt;= 3; suit++)\r\n                {\r\n                  deck[index] = new Card (value, suit);\r\n                  index++;\r\n                }           \r\n            }\r\n\r\n    \r\n    }   \r\n}   \r\n\r\n```\r\n\r\nI feel as though i need to make use and perhaps modify my accessor methods from my card class in my Deck constructor. ","title":"I need a way to store a deck of cards into an array without hard coding them","body":"<p>The real problem is trying to create and store the Card objects in my array.\nIf i just needed to store strings or doubles for example i would be able to figure it out.\nIm pretty new at this and this is my first stack overflow question so bear with me.\nIt might be worth noting i will eventually need to randomly generate random ints to pass through my card objects to get random cards.</p>\n<p>This is my card class,</p>\n<pre><code>public class Card\n{   \n    private int value;\n    private int suit;\n    private String valueN;    \n    private String valueS;\n    Card(int value, int suit)\n{\n        this.value = value;\n        this.suit = suit;\n}   \n    public String valueNumber()\n{    \n    switch(value)\n{\n      case 1:\n              valueN = &quot;Ace&quot;;\n              break;\n      case 2:\n              valueN = &quot;Two&quot;;\n              break;\n      case 3:\n              valueN = &quot;Three&quot;;\n              break;\n      case 4:\n              valueN = &quot;Four&quot;;\n              break;\n      case 5:\n              valueN = &quot;Five&quot;;\n              break;\n      case 6:\n              valueN = &quot;Six&quot;;\n              break;\n      case 7:\n              valueN = &quot;Seven&quot;;\n              break;\n      case 8:\n              valueN = &quot;Eight&quot;;\n              break;\n      case 9: \n              valueN = &quot;Nine&quot;;\n              break;\n      case 10:\n              valueN = &quot;Ten&quot;; \n              break;\n      case 11:\n              valueN = &quot;Jack&quot;;\n              break;\n      case 12:\n              valueN = &quot;Queen&quot;;\n              break;\n      case 13:\n              valueN = &quot;King&quot;; \n              break;\n}      \n        return valueN;\n    }\n    public String suitNumber()\n{\n    switch(suit)\n{    \n      case 1: \n              valueS = &quot;Hearts&quot;;\n              break;\n      case 2:\n              valueS = &quot;Clubs&quot;;\n              break;\n      case 3:       \n              valueS = &quot;Spades&quot;;\n              break;        \n      case 4:        \n              valueS = &quot;Diamonds&quot;;\n}                    \n        return valueS;\n}  \n    public String getValueN() \n{\n    return this.valueN;\n}\n   public String getSuitS()\n{\n    return this.valueS;\n}\n  public int getValue()\n{\n    return this.value;\n}\n  public int getSuit()\n{\n    return this.suit;\n}\n   public String toString() \n{\n        return valueNumber() + &quot; of &quot; + suitNumber();       \n}\n}\n</code></pre>\n<p>Do i need to use those accessor methods?\nIve been trying to solve this for an embarrassing amount of time and still dont know if i should use a regular array or a 2d array or something new altogether.</p>\n<p>I should mention this is for a school assignment and i dont know if stack overflow has anything asking questions pertaining to assignments but i assure you this is a very small part of this assignment.</p>\n<p>This is my deck class and my best attempt at creating the loop and array i need but it gets out of bounds exception error and is probably wrong.</p>\n<pre><code>public class Deck\n{\n    Deck ()\n    {\n        int index = 0;\n        Card deck [] = new Card [51]; \n            \n            for (int value = 1; value &lt;= 13; value++)\n            {\n                for (int suit = 0; suit &lt;= 3; suit++)\n                {\n                  deck[index] = new Card (value, suit);\n                  index++;\n                }           \n            }\n\n    \n    }   \n}   \n\n</code></pre>\n<p>I feel as though i need to make use and perhaps modify my accessor methods from my card class in my Deck constructor.</p>\n"},{"tags":["java","path","3d","game-development","path-finding"],"comments":[{"owner":{"account_id":44018,"reputation":97210,"user_id":128940,"display_name":"Beta"},"score":0,"creation_date":1674349140,"post_id":75109075,"comment_id":132695933,"body_markdown":"Creating the graph and finding the shortest route through it are two different problems; if you&#39;re asking about the first, don&#39;t post code for the second. Do you want the shortest path between every pair of cities?","body":"Creating the graph and finding the shortest route through it are two different problems; if you&#39;re asking about the first, don&#39;t post code for the second. Do you want the shortest path between every pair of cities?"}],"owner":{"account_id":21020756,"reputation":31,"user_id":15447162,"display_name":"kmaxi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673709509,"creation_date":1673612092,"question_id":75109075,"body_markdown":"I have a bunch of points in a 3d environment that I want to solve the traveling salesman problem with, for that I first need to convert the game world to a graph. \r\n\r\nThe world is around 1km wide, 1.5 km long and 250m high = 375 000 000 possible location. Each location either has an obstacle or is walkable. \r\n\r\nThere are 150 location that I want to connect in this world. What would be the best approach to solve this? \r\n\r\nHere is how the pathfinder looks right now, which is the bidirectional a* that also takes into account telporters \r\n\r\n\r\n    package me.mmaxi.pathfinder;\r\n\r\n    import me.mmaxi.utils.Location;\r\n    import me.mmaxi.utils.TeleportDirection;\r\n\r\n    import java.util.*;\r\n\r\n    public class PathFinder {\r\n    private final Map&lt;Location, Block&gt; blocks = new HashMap&lt;&gt;();\r\n\r\n    public List&lt;Location&gt; getPath(Location start, Location goal, IWalkHandler walkHandler, ITeleportHandler teleportHandler) {\r\n        // initializing start queue\r\n        PriorityQueue&lt;PathFindStep&gt; queueFromStart = new PriorityQueue&lt;&gt;();\r\n        Block startBlock = getBlock(start);\r\n        startBlock.distanceFromStart = 0;\r\n        startBlock.fScore = start.h(goal, teleportHandler, TeleportDirection.FORWARD);\r\n        queueFromStart.add(new PathFindStep(startBlock, startBlock.fScore));\r\n        // initializing goal queue\r\n        PriorityQueue&lt;PathFindStep&gt; queueFromGoal = new PriorityQueue&lt;&gt;();\r\n        Block goalBlock = getBlock(goal);\r\n        goalBlock.distanceFromGoal = 0;\r\n        goalBlock.fScore = goal.h(start, teleportHandler, TeleportDirection.BACKWARD);\r\n        queueFromGoal.add(new PathFindStep(goalBlock, goalBlock.fScore));\r\n        // here we will store the meeting point\r\n        Block meetingPoint = null;\r\n        // for debug purposes\r\n        int furthestAwayFromStartSoFar = 0;\r\n        int furthestAwayFromGoalSoFar = 0;\r\n        // working on the queues\r\n        while (!queueFromStart.isEmpty() || !queueFromGoal.isEmpty()) {\r\n            // coming from start\r\n            PathFindStep currentStepFromStart = queueFromStart.poll();\r\n            if (currentStepFromStart == null) {\r\n                throw new RuntimeException(&quot;We can no longer reach any blocks from the start. Maybe it&#39;s inside a wall?&quot;);\r\n            } else {\r\n                Block current = currentStepFromStart.toVisit;\r\n                if (Double.compare(currentStepFromStart.fScore, current.fScore) != 0) {\r\n                    // we already found a better fScore in the meantime\r\n                    continue;\r\n                }\r\n                if (current.location.equals(goal) || current.lastComingFromGoal != null) {\r\n                    // we found the goal or meeting point\r\n                    System.out.println(&quot;Breaking condition:\\n&quot; +\r\n                            &quot;* current.location.equals(goal):&quot; + current.location.equals(goal) + &quot;\\n&quot; +\r\n                            &quot;* current.lastComingFromGoal != null:&quot; + (current.lastComingFromGoal != null));\r\n                    meetingPoint = current;\r\n                    break;\r\n                }\r\n                Set&lt;Block&gt; neighbours = getNeighbours(current);\r\n                Location teleportTarget = teleportHandler.getDestination(current.location);\r\n                if (teleportTarget != null) {\r\n                    System.out.println(&quot;Found teleport target: &quot; + teleportTarget);\r\n                    neighbours.add(getBlock(teleportTarget));\r\n                }\r\n                for (Block neighbour : neighbours) {\r\n                    if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(goal)) {\r\n                        // we can&#39;t go there so ignoring this neighbour but only if it&#39;s not the goal\r\n                        continue;\r\n                    }\r\n                    int pendingDistanceFromStart = current.distanceFromStart + 1;\r\n                    if (pendingDistanceFromStart &lt; neighbour.distanceFromStart) {\r\n                        neighbour.lastComingFromStart = current;\r\n                        neighbour.distanceFromStart = pendingDistanceFromStart;\r\n                        neighbour.fScore = neighbour.location.h(goal, teleportHandler, TeleportDirection.FORWARD) + pendingDistanceFromStart;\r\n                        queueFromStart.add(new PathFindStep(neighbour, neighbour.fScore));\r\n                        if (pendingDistanceFromStart &gt; furthestAwayFromStartSoFar) {\r\n                            furthestAwayFromStartSoFar = pendingDistanceFromStart;\r\n                            if (pendingDistanceFromStart % 25 == 0) {\r\n                                System.out.println(&quot;Furthest from start: &quot; + pendingDistanceFromStart);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // coming from goal\r\n            PathFindStep currentStepFromGoal = queueFromGoal.poll();\r\n            if (currentStepFromGoal == null) {\r\n                throw new RuntimeException(&quot;We can no longer reach any blocks from the goal. Maybe it&#39;s inside a wall?&quot;);\r\n            } else {\r\n                Block current = currentStepFromGoal.toVisit;\r\n                if (Double.compare(currentStepFromGoal.fScore, current.fScore) != 0) {\r\n                    // we already found a better fScore in the meantime\r\n                    continue;\r\n                }\r\n                if (current.location.equals(start) || current.lastComingFromStart != null) {\r\n                    // we found the start or meeting point\r\n                    System.out.println(&quot;Breaking condition:\\n&quot; +\r\n                            &quot;* current.location.equals(start):&quot; + current.location.equals(start) + &quot;\\n&quot; +\r\n                            &quot;* current.lastComingFromStart != null:&quot; + (current.lastComingFromStart != null));\r\n                    meetingPoint = current;\r\n                    break;\r\n                }\r\n                Set&lt;Block&gt; neighbours = getNeighbours(current);\r\n                Location teleportStart = teleportHandler.getStart(current.location);\r\n                if (teleportStart != null) {\r\n                    System.out.println(&quot;Found teleport start: &quot; + teleportStart);\r\n                    neighbours.add(getBlock(teleportStart));\r\n                }\r\n                for (Block neighbour : neighbours) {\r\n                    if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(start)) {\r\n                        // we can&#39;t go there so ignoring this neighbour but only if it&#39;s not the start\r\n                        continue;\r\n                    }\r\n                    int pendingDistanceFromGoal = current.distanceFromGoal + 1;\r\n                    if (pendingDistanceFromGoal &lt; neighbour.distanceFromGoal) {\r\n                        neighbour.lastComingFromGoal = current;\r\n                        neighbour.distanceFromGoal = pendingDistanceFromGoal;\r\n                        neighbour.fScore = neighbour.location.h(start, teleportHandler, TeleportDirection.BACKWARD) + pendingDistanceFromGoal;\r\n                        queueFromGoal.add(new PathFindStep(neighbour, neighbour.fScore));\r\n                        if (pendingDistanceFromGoal &gt; furthestAwayFromGoalSoFar) {\r\n                            furthestAwayFromGoalSoFar = pendingDistanceFromGoal;\r\n                            if (pendingDistanceFromGoal % 25 == 0) {\r\n                                System.out.println(&quot;Furthest from goal: &quot; + pendingDistanceFromGoal);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (meetingPoint == null) {\r\n            throw new RuntimeException(&quot;Could not find a meeting point.&quot;);\r\n        }\r\n        System.out.println(&quot;Found a meeting point! &quot; + meetingPoint.location);\r\n        // reversing the one side coming from the goal, so we can then backtrack\r\n        System.out.println(&quot;Reversing side that started from goal.&quot;);\r\n        while (meetingPoint.lastComingFromGoal != null) {\r\n            meetingPoint.lastComingFromGoal.lastComingFromStart = meetingPoint;\r\n            meetingPoint = meetingPoint.lastComingFromGoal;\r\n        }\r\n        // now we can backtrack\r\n        System.out.println(&quot;Backtracking.&quot;);\r\n        Block tmp = goalBlock;\r\n        if (tmp.lastComingFromStart == null) {\r\n            throw new RuntimeException(&quot;Could not find the target block from that start block.&quot;);\r\n        }\r\n        System.out.println(&quot;Found goal. Starting to backtrack.&quot;);\r\n        List&lt;Location&gt; path = new ArrayList&lt;&gt;();\r\n        while (tmp != null) {\r\n            path.add(tmp.location);\r\n            tmp = tmp.lastComingFromStart;\r\n        }\r\n        Collections.reverse(path);\r\n        return path;\r\n    }\r\n\r\n    private Block getBlock(Location location) {\r\n        return blocks.computeIfAbsent(location, block -&gt; new Block(location));\r\n    }\r\n\r\n    private Set&lt;Block&gt; getNeighbours(Block block) {\r\n        Set&lt;Block&gt; neighbours = new HashSet&lt;&gt;();\r\n        for (BlockFace blockFace : BlockFace.values()) {\r\n            Location targetLocation = block.location.clone().add(blockFace.vector);\r\n            if (targetLocation.getBlockY() &gt; 255 || targetLocation.getBlockY() &lt; 0) {\r\n                continue;\r\n            }\r\n            neighbours.add(getBlock(targetLocation));\r\n        }\r\n        return neighbours;\r\n    }\r\n\r\n    static class PathFindStep implements Comparable&lt;PathFindStep&gt; {\r\n        Block toVisit;\r\n        double fScore;\r\n\r\n        public PathFindStep(Block toVisit, double fScore) {\r\n            this.toVisit = toVisit;\r\n            this.fScore = fScore;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(PathFindStep o) {\r\n            return Double.compare(fScore, o.fScore);\r\n        }\r\n    }\r\n\r\n    static class Block {\r\n        Location location;\r\n\r\n        Block lastComingFromStart;\r\n        Block lastComingFromGoal;\r\n        double fScore;\r\n        int distanceFromStart = Integer.MAX_VALUE;\r\n        int distanceFromGoal = Integer.MAX_VALUE;\r\n\r\n        public Block(Location location) {\r\n            this.location = location;\r\n        }\r\n    }\r\n\r\n    enum BlockFace {\r\n        POS_Y(new Location(+0, +1, +0)),\r\n        NEG_Y(new Location(+0, -1, +0)),\r\n        POS_X(new Location(+1, +0, +0)),\r\n        NEG_X(new Location(-1, +0, +0)),\r\n        POS_Z(new Location(+0, +0, +1)),\r\n        NEG_Z(new Location(+0, +0, -1));\r\n\r\n        final Location vector;\r\n\r\n        BlockFace(Location vector) {\r\n            this.vector = vector;\r\n        }\r\n    }\r\n}\r\n\r\n    public class Location implements Cloneable {\r\n    private double x, y, z;\r\n\r\n    public Location(double x, double y, double z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    public double getX() {\r\n        return x;\r\n    }\r\n\r\n    public double getY() {\r\n        return y;\r\n    }\r\n\r\n    public double getZ() {\r\n        return z;\r\n    }\r\n\r\n    public int getBlockX() {\r\n        return (int) x;\r\n    }\r\n\r\n    public int getBlockY() {\r\n        return (int) y;\r\n    }\r\n\r\n    public int getBlockZ() {\r\n        return (int) z;\r\n    }\r\n\r\n    public Location add(double x, double y, double z) {\r\n        this.x += x;\r\n        this.y += y;\r\n        this.z += z;\r\n        return this;\r\n    }\r\n\r\n    public Location add(Location other) {\r\n        this.x += other.x;\r\n        this.y += other.y;\r\n        this.z += other.z;\r\n        return this;\r\n    }\r\n\r\n    public double distanceSquared(Location other) {\r\n        double dx = x - other.x;\r\n        double dy = y - other.y;\r\n        double dz = z - other.z;\r\n        return dx * dx + dy * dy + dz * dz;\r\n    }\r\n\r\n    public double mhd(Location other) {\r\n        double dx = Math.abs(x - other.x);\r\n        double dy = Math.abs(y - other.y);\r\n        double dz = Math.abs(z - other.z);\r\n        return Math.max(dx, Math.max(dy, dz));\r\n    }\r\n\r\n    public double h(Location other, ITeleportHandler teleportHandler, TeleportDirection teleportDirection) {\r\n        double h = mhd(other);\r\n        if (teleportHandler != null) {\r\n            Location[] closestTeleport = teleportHandler.getClosestTeleport(this, teleportDirection);\r\n            if (closestTeleport != null) {\r\n                if (teleportDirection == TeleportDirection.FORWARD) {\r\n                    h = Math.min(h, mhd(closestTeleport[0]) + closestTeleport[1].mhd(other));\r\n                } else {\r\n                    h = Math.min(h, mhd(closestTeleport[1]) + closestTeleport[0].mhd(other));\r\n                }\r\n            }\r\n        }\r\n        return h;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Location location = (Location) o;\r\n        return Double.compare(location.x, x) == 0 &amp;&amp; Double.compare(location.y, y) == 0 &amp;&amp; Double.compare(location.z, z) == 0;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(x, y, z);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String xString = Double.compare(x, (int) x) == 0 ? Integer.toString((int) x) : Double.toString(x);\r\n        String yString = Double.compare(y, (int) y) == 0 ? Integer.toString((int) y) : Double.toString(y);\r\n        String zString = Double.compare(z, (int) z) == 0 ? Integer.toString((int) z) : Double.toString(z);\r\n        return &quot;[&quot; + xString + &quot; &quot; + yString + &quot; &quot; + zString + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Location clone() {\r\n        try {\r\n            return (Location) super.clone();\r\n        } catch (CloneNotSupportedException e) {\r\n            throw new AssertionError();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Algorithm to create all edges between a bunch of nodes in a 3d space?","body":"<p>I have a bunch of points in a 3d environment that I want to solve the traveling salesman problem with, for that I first need to convert the game world to a graph.</p>\n<p>The world is around 1km wide, 1.5 km long and 250m high = 375 000 000 possible location. Each location either has an obstacle or is walkable.</p>\n<p>There are 150 location that I want to connect in this world. What would be the best approach to solve this?</p>\n<p>Here is how the pathfinder looks right now, which is the bidirectional a* that also takes into account telporters</p>\n<pre><code>package me.mmaxi.pathfinder;\n\nimport me.mmaxi.utils.Location;\nimport me.mmaxi.utils.TeleportDirection;\n\nimport java.util.*;\n\npublic class PathFinder {\nprivate final Map&lt;Location, Block&gt; blocks = new HashMap&lt;&gt;();\n\npublic List&lt;Location&gt; getPath(Location start, Location goal, IWalkHandler walkHandler, ITeleportHandler teleportHandler) {\n    // initializing start queue\n    PriorityQueue&lt;PathFindStep&gt; queueFromStart = new PriorityQueue&lt;&gt;();\n    Block startBlock = getBlock(start);\n    startBlock.distanceFromStart = 0;\n    startBlock.fScore = start.h(goal, teleportHandler, TeleportDirection.FORWARD);\n    queueFromStart.add(new PathFindStep(startBlock, startBlock.fScore));\n    // initializing goal queue\n    PriorityQueue&lt;PathFindStep&gt; queueFromGoal = new PriorityQueue&lt;&gt;();\n    Block goalBlock = getBlock(goal);\n    goalBlock.distanceFromGoal = 0;\n    goalBlock.fScore = goal.h(start, teleportHandler, TeleportDirection.BACKWARD);\n    queueFromGoal.add(new PathFindStep(goalBlock, goalBlock.fScore));\n    // here we will store the meeting point\n    Block meetingPoint = null;\n    // for debug purposes\n    int furthestAwayFromStartSoFar = 0;\n    int furthestAwayFromGoalSoFar = 0;\n    // working on the queues\n    while (!queueFromStart.isEmpty() || !queueFromGoal.isEmpty()) {\n        // coming from start\n        PathFindStep currentStepFromStart = queueFromStart.poll();\n        if (currentStepFromStart == null) {\n            throw new RuntimeException(&quot;We can no longer reach any blocks from the start. Maybe it's inside a wall?&quot;);\n        } else {\n            Block current = currentStepFromStart.toVisit;\n            if (Double.compare(currentStepFromStart.fScore, current.fScore) != 0) {\n                // we already found a better fScore in the meantime\n                continue;\n            }\n            if (current.location.equals(goal) || current.lastComingFromGoal != null) {\n                // we found the goal or meeting point\n                System.out.println(&quot;Breaking condition:\\n&quot; +\n                        &quot;* current.location.equals(goal):&quot; + current.location.equals(goal) + &quot;\\n&quot; +\n                        &quot;* current.lastComingFromGoal != null:&quot; + (current.lastComingFromGoal != null));\n                meetingPoint = current;\n                break;\n            }\n            Set&lt;Block&gt; neighbours = getNeighbours(current);\n            Location teleportTarget = teleportHandler.getDestination(current.location);\n            if (teleportTarget != null) {\n                System.out.println(&quot;Found teleport target: &quot; + teleportTarget);\n                neighbours.add(getBlock(teleportTarget));\n            }\n            for (Block neighbour : neighbours) {\n                if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(goal)) {\n                    // we can't go there so ignoring this neighbour but only if it's not the goal\n                    continue;\n                }\n                int pendingDistanceFromStart = current.distanceFromStart + 1;\n                if (pendingDistanceFromStart &lt; neighbour.distanceFromStart) {\n                    neighbour.lastComingFromStart = current;\n                    neighbour.distanceFromStart = pendingDistanceFromStart;\n                    neighbour.fScore = neighbour.location.h(goal, teleportHandler, TeleportDirection.FORWARD) + pendingDistanceFromStart;\n                    queueFromStart.add(new PathFindStep(neighbour, neighbour.fScore));\n                    if (pendingDistanceFromStart &gt; furthestAwayFromStartSoFar) {\n                        furthestAwayFromStartSoFar = pendingDistanceFromStart;\n                        if (pendingDistanceFromStart % 25 == 0) {\n                            System.out.println(&quot;Furthest from start: &quot; + pendingDistanceFromStart);\n                        }\n                    }\n                }\n            }\n        }\n\n        // coming from goal\n        PathFindStep currentStepFromGoal = queueFromGoal.poll();\n        if (currentStepFromGoal == null) {\n            throw new RuntimeException(&quot;We can no longer reach any blocks from the goal. Maybe it's inside a wall?&quot;);\n        } else {\n            Block current = currentStepFromGoal.toVisit;\n            if (Double.compare(currentStepFromGoal.fScore, current.fScore) != 0) {\n                // we already found a better fScore in the meantime\n                continue;\n            }\n            if (current.location.equals(start) || current.lastComingFromStart != null) {\n                // we found the start or meeting point\n                System.out.println(&quot;Breaking condition:\\n&quot; +\n                        &quot;* current.location.equals(start):&quot; + current.location.equals(start) + &quot;\\n&quot; +\n                        &quot;* current.lastComingFromStart != null:&quot; + (current.lastComingFromStart != null));\n                meetingPoint = current;\n                break;\n            }\n            Set&lt;Block&gt; neighbours = getNeighbours(current);\n            Location teleportStart = teleportHandler.getStart(current.location);\n            if (teleportStart != null) {\n                System.out.println(&quot;Found teleport start: &quot; + teleportStart);\n                neighbours.add(getBlock(teleportStart));\n            }\n            for (Block neighbour : neighbours) {\n                if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(start)) {\n                    // we can't go there so ignoring this neighbour but only if it's not the start\n                    continue;\n                }\n                int pendingDistanceFromGoal = current.distanceFromGoal + 1;\n                if (pendingDistanceFromGoal &lt; neighbour.distanceFromGoal) {\n                    neighbour.lastComingFromGoal = current;\n                    neighbour.distanceFromGoal = pendingDistanceFromGoal;\n                    neighbour.fScore = neighbour.location.h(start, teleportHandler, TeleportDirection.BACKWARD) + pendingDistanceFromGoal;\n                    queueFromGoal.add(new PathFindStep(neighbour, neighbour.fScore));\n                    if (pendingDistanceFromGoal &gt; furthestAwayFromGoalSoFar) {\n                        furthestAwayFromGoalSoFar = pendingDistanceFromGoal;\n                        if (pendingDistanceFromGoal % 25 == 0) {\n                            System.out.println(&quot;Furthest from goal: &quot; + pendingDistanceFromGoal);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (meetingPoint == null) {\n        throw new RuntimeException(&quot;Could not find a meeting point.&quot;);\n    }\n    System.out.println(&quot;Found a meeting point! &quot; + meetingPoint.location);\n    // reversing the one side coming from the goal, so we can then backtrack\n    System.out.println(&quot;Reversing side that started from goal.&quot;);\n    while (meetingPoint.lastComingFromGoal != null) {\n        meetingPoint.lastComingFromGoal.lastComingFromStart = meetingPoint;\n        meetingPoint = meetingPoint.lastComingFromGoal;\n    }\n    // now we can backtrack\n    System.out.println(&quot;Backtracking.&quot;);\n    Block tmp = goalBlock;\n    if (tmp.lastComingFromStart == null) {\n        throw new RuntimeException(&quot;Could not find the target block from that start block.&quot;);\n    }\n    System.out.println(&quot;Found goal. Starting to backtrack.&quot;);\n    List&lt;Location&gt; path = new ArrayList&lt;&gt;();\n    while (tmp != null) {\n        path.add(tmp.location);\n        tmp = tmp.lastComingFromStart;\n    }\n    Collections.reverse(path);\n    return path;\n}\n\nprivate Block getBlock(Location location) {\n    return blocks.computeIfAbsent(location, block -&gt; new Block(location));\n}\n\nprivate Set&lt;Block&gt; getNeighbours(Block block) {\n    Set&lt;Block&gt; neighbours = new HashSet&lt;&gt;();\n    for (BlockFace blockFace : BlockFace.values()) {\n        Location targetLocation = block.location.clone().add(blockFace.vector);\n        if (targetLocation.getBlockY() &gt; 255 || targetLocation.getBlockY() &lt; 0) {\n            continue;\n        }\n        neighbours.add(getBlock(targetLocation));\n    }\n    return neighbours;\n}\n\nstatic class PathFindStep implements Comparable&lt;PathFindStep&gt; {\n    Block toVisit;\n    double fScore;\n\n    public PathFindStep(Block toVisit, double fScore) {\n        this.toVisit = toVisit;\n        this.fScore = fScore;\n    }\n\n    @Override\n    public int compareTo(PathFindStep o) {\n        return Double.compare(fScore, o.fScore);\n    }\n}\n\nstatic class Block {\n    Location location;\n\n    Block lastComingFromStart;\n    Block lastComingFromGoal;\n    double fScore;\n    int distanceFromStart = Integer.MAX_VALUE;\n    int distanceFromGoal = Integer.MAX_VALUE;\n\n    public Block(Location location) {\n        this.location = location;\n    }\n}\n\nenum BlockFace {\n    POS_Y(new Location(+0, +1, +0)),\n    NEG_Y(new Location(+0, -1, +0)),\n    POS_X(new Location(+1, +0, +0)),\n    NEG_X(new Location(-1, +0, +0)),\n    POS_Z(new Location(+0, +0, +1)),\n    NEG_Z(new Location(+0, +0, -1));\n\n    final Location vector;\n\n    BlockFace(Location vector) {\n        this.vector = vector;\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Location implements Cloneable {\nprivate double x, y, z;\n\npublic Location(double x, double y, double z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\npublic double getX() {\n    return x;\n}\n\npublic double getY() {\n    return y;\n}\n\npublic double getZ() {\n    return z;\n}\n\npublic int getBlockX() {\n    return (int) x;\n}\n\npublic int getBlockY() {\n    return (int) y;\n}\n\npublic int getBlockZ() {\n    return (int) z;\n}\n\npublic Location add(double x, double y, double z) {\n    this.x += x;\n    this.y += y;\n    this.z += z;\n    return this;\n}\n\npublic Location add(Location other) {\n    this.x += other.x;\n    this.y += other.y;\n    this.z += other.z;\n    return this;\n}\n\npublic double distanceSquared(Location other) {\n    double dx = x - other.x;\n    double dy = y - other.y;\n    double dz = z - other.z;\n    return dx * dx + dy * dy + dz * dz;\n}\n\npublic double mhd(Location other) {\n    double dx = Math.abs(x - other.x);\n    double dy = Math.abs(y - other.y);\n    double dz = Math.abs(z - other.z);\n    return Math.max(dx, Math.max(dy, dz));\n}\n\npublic double h(Location other, ITeleportHandler teleportHandler, TeleportDirection teleportDirection) {\n    double h = mhd(other);\n    if (teleportHandler != null) {\n        Location[] closestTeleport = teleportHandler.getClosestTeleport(this, teleportDirection);\n        if (closestTeleport != null) {\n            if (teleportDirection == TeleportDirection.FORWARD) {\n                h = Math.min(h, mhd(closestTeleport[0]) + closestTeleport[1].mhd(other));\n            } else {\n                h = Math.min(h, mhd(closestTeleport[1]) + closestTeleport[0].mhd(other));\n            }\n        }\n    }\n    return h;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Location location = (Location) o;\n    return Double.compare(location.x, x) == 0 &amp;&amp; Double.compare(location.y, y) == 0 &amp;&amp; Double.compare(location.z, z) == 0;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(x, y, z);\n}\n\n@Override\npublic String toString() {\n    String xString = Double.compare(x, (int) x) == 0 ? Integer.toString((int) x) : Double.toString(x);\n    String yString = Double.compare(y, (int) y) == 0 ? Integer.toString((int) y) : Double.toString(y);\n    String zString = Double.compare(z, (int) z) == 0 ? Integer.toString((int) z) : Double.toString(z);\n    return &quot;[&quot; + xString + &quot; &quot; + yString + &quot; &quot; + zString + &quot;]&quot;;\n}\n\n@Override\npublic Location clone() {\n    try {\n        return (Location) super.clone();\n    } catch (CloneNotSupportedException e) {\n        throw new AssertionError();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","design-patterns","strategy-pattern"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673708671,"creation_date":1673708671,"answer_id":75118900,"question_id":75118855,"body_markdown":"You can eliminate duplicate code through inheritance, if you can factor the common code out.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>You can eliminate duplicate code through inheritance, if you can factor the common code out.</p>\n"},{"tags":[],"owner":{"account_id":13488477,"reputation":349,"user_id":9731532,"display_name":"Anton Curmanschii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673709419,"creation_date":1673709419,"answer_id":75118986,"question_id":75118855,"body_markdown":"You can make one general strategy that executes multiple strategies. Like event handling. The idea:\r\n```java\r\ninterface Strategy\r\n{\r\n    Object execute(Object obj);\r\n}\r\nclass MultiStrategy implements Strategy\r\n{\r\n    private Strategy[] strategies;\r\n    public Object execute(Object obj)\r\n    {\r\n        foreach (Strategy s : strategies)\r\n            obj = s.execute(obj);\r\n        return obj;\r\n    }\r\n}\r\nclass Strategy1 implements Strategy\r\n{\r\n    private Helperclass1 helperclass1;\r\n    public Object execute(Object obj)\r\n    {\r\n        return helperclass1.method1(obj);\r\n    }\r\n}\r\nclass Strategy2 implements Strategy\r\n{\r\n    private Helperclass1 helperclass2;\r\n    public Object execute(Object obj)\r\n    {\r\n        return helperclass2.method2(obj);\r\n    }\r\n}\r\n```\r\nAnd the usage would be kinda like:\r\n```java\r\nStrategy s = new MultiStrategy(new Strategy[]\r\n{\r\n    new Strategy1(helper1),\r\n    new Strategy2(helper2),\r\n});\r\n```\r\nIn my example the strategies 1 and 2 and in fact adapters, but that&#39;s also a common use case. The benefit of this is that you can use the same code of `MultiStrategy` for any number of substeps, or even combine multiple multi strategies under the `Strategy` interface to make trees of strategies. Note though, that this `MultiStrategy` is another pattern in and of itself, just using a single-layer strategy is not enough to clean this up in your case. I don&#39;t remember they call it officially, but I guess you can call it event handling.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>You can make one general strategy that executes multiple strategies. Like event handling. The idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Strategy\n{\n    Object execute(Object obj);\n}\nclass MultiStrategy implements Strategy\n{\n    private Strategy[] strategies;\n    public Object execute(Object obj)\n    {\n        foreach (Strategy s : strategies)\n            obj = s.execute(obj);\n        return obj;\n    }\n}\nclass Strategy1 implements Strategy\n{\n    private Helperclass1 helperclass1;\n    public Object execute(Object obj)\n    {\n        return helperclass1.method1(obj);\n    }\n}\nclass Strategy2 implements Strategy\n{\n    private Helperclass1 helperclass2;\n    public Object execute(Object obj)\n    {\n        return helperclass2.method2(obj);\n    }\n}\n</code></pre>\n<p>And the usage would be kinda like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Strategy s = new MultiStrategy(new Strategy[]\n{\n    new Strategy1(helper1),\n    new Strategy2(helper2),\n});\n</code></pre>\n<p>In my example the strategies 1 and 2 and in fact adapters, but that's also a common use case. The benefit of this is that you can use the same code of <code>MultiStrategy</code> for any number of substeps, or even combine multiple multi strategies under the <code>Strategy</code> interface to make trees of strategies. Note though, that this <code>MultiStrategy</code> is another pattern in and of itself, just using a single-layer strategy is not enough to clean this up in your case. I don't remember they call it officially, but I guess you can call it event handling.</p>\n"}],"owner":{"account_id":18021484,"reputation":109,"user_id":13197379,"display_name":"Sai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75118986,"answer_count":2,"score":-1,"last_activity_date":1673709419,"creation_date":1673708190,"question_id":75118855,"body_markdown":"I am new to design patterns and thinking about using Strategy design pattern for implementing code in my backend service. However, the Strategies are having duplicate code. I have the following classes:-\r\n\r\n\r\n    class StrategyA implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Helperclass2 helperclass2;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        updatedObj = helperclass2.method2(updatedObj);\r\n        updatedObj = updateObj(updatedObj);\r\n        dao.update(updatedObj);\r\n      }\r\n    \r\n      private Object updateObj(Object obj) {\r\n        //update obj &amp; return;\r\n      }\r\n    }\r\n    \r\n    class StrategyB implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Helperclass2 helperclass2;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        updatedObj = helperclass2.method2(updatedObj);\r\n        dao.update(updatedObj);\r\n      }\r\n    }\r\n    \r\n    class StrategyC implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        dao.update(updatedObj);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nWhat should I do to remove duplicate code from Strategy pattern? I am considering not using the design pattern to avoid code duplication. Can anyone suggest a better design pattern for this usecase?\r\nI read about some similar situations and found that Command or Template patterns may be considered as an alternative (link:https://stackoverflow.com/questions/15371746/what-pattern-to-use-with-a-strategy-pattern-to-avoid-duplicate-code-inside-concr). However I am not sure how I can effectively use these patterns for my use-case.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>I am new to design patterns and thinking about using Strategy design pattern for implementing code in my backend service. However, the Strategies are having duplicate code. I have the following classes:-</p>\n<pre><code>class StrategyA implements Strategy {\n  private Helperclass1 helperclass1;\n  private Helperclass2 helperclass2;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    updatedObj = helperclass2.method2(updatedObj);\n    updatedObj = updateObj(updatedObj);\n    dao.update(updatedObj);\n  }\n\n  private Object updateObj(Object obj) {\n    //update obj &amp; return;\n  }\n}\n\nclass StrategyB implements Strategy {\n  private Helperclass1 helperclass1;\n  private Helperclass2 helperclass2;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    updatedObj = helperclass2.method2(updatedObj);\n    dao.update(updatedObj);\n  }\n}\n\nclass StrategyC implements Strategy {\n  private Helperclass1 helperclass1;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    dao.update(updatedObj);\n  }\n}\n</code></pre>\n<p>What should I do to remove duplicate code from Strategy pattern? I am considering not using the design pattern to avoid code duplication. Can anyone suggest a better design pattern for this usecase?\nI read about some similar situations and found that Command or Template patterns may be considered as an alternative (link:<a href=\"https://stackoverflow.com/questions/15371746/what-pattern-to-use-with-a-strategy-pattern-to-avoid-duplicate-code-inside-concr\">What pattern to use with a Strategy Pattern to avoid duplicate code inside Concrete Strategies?</a>). However I am not sure how I can effectively use these patterns for my use-case.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1672694118,"post_id":74981197,"comment_id":132329852,"body_markdown":"Conceptually, a class is an abstraction - barring something like reflection, it is not something that interacts with other things in your program at runtime. Object instances of a class interact with other objects during the lifetime of a program.  I suggest writing some reflection code in Java, and coming back with a more concrete question.","body":"Conceptually, a class is an abstraction - barring something like reflection, it is not something that interacts with other things in your program at runtime. Object instances of a class interact with other objects during the lifetime of a program.  I suggest writing some reflection code in Java, and coming back with a more concrete question."},{"owner":{"account_id":7738,"reputation":143233,"user_id":13508,"accept_rate":86,"display_name":"&#193;lvaro Gonz&#225;lez"},"score":0,"creation_date":1673686302,"post_id":74981197,"comment_id":132557044,"body_markdown":"Everything uses memory, computers don&#39;t do magic. It&#39;d be helpful if you could quote the exact text that made that claim.","body":"Everything uses memory, computers don&#39;t do magic. It&#39;d be helpful if you could quote the exact text that made that claim."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673716219,"post_id":74981197,"comment_id":132562110,"body_markdown":"`main` is always confusing to new programmers because it is `static`. Things that are `static` &quot;belong to the class&quot;, instead of belonging to a specific instance of the class. This is what makes them &quot;shared&quot; between all instances of the class. `static` things belong to the class, without needing an instance of the class. So, yes, if a class had no static members at all, then it would not take up any memory since you&#39;d have to create an instance of it first before you could use it. `static` members will exist as soon as the program starts, and will take up memory for the lifetime of the app.","body":"<code>main</code> is always confusing to new programmers because it is <code>static</code>. Things that are <code>static</code> &quot;belong to the class&quot;, instead of belonging to a specific instance of the class. This is what makes them &quot;shared&quot; between all instances of the class. <code>static</code> things belong to the class, without needing an instance of the class. So, yes, if a class had no static members at all, then it would not take up any memory since you&#39;d have to create an instance of it first before you could use it. <code>static</code> members will exist as soon as the program starts, and will take up memory for the lifetime of the app."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673709416,"creation_date":1673688607,"answer_id":75116979,"question_id":74981197,"body_markdown":"There are three concepts to keep separate here: the _class_, the _instance_, and the _stack_.\r\n\r\n```java\r\nclass SomeClass {\r\n  static int staticValue = 0;\r\n\r\n  /* non-static */ int instanceValue = 0;\r\n\r\n  int someMethod() {\r\n    int stackValue = 42;\r\n    SomeClass instance = new SomeClass();\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nThe class acts as a template, yes. In some languages other than Java, the class takes up no memory of its own: it merely describes the memory layout of the class&#39;s instances. For a beginner definition of OOP concepts you can think of that as true.\r\n\r\nIn Java this is not _quite_ true for three reasons:\r\n\r\n1. There is an object instance for SomeClass, accessible via `SomeClass.class`, which does take up memory. This instance allows you to look up information about the class itself, which is sometimes called &quot;reflection&quot;.\r\n\r\n2. The static field `staticValue` is shared among all instances of SomeClass, so in a sense the class takes up a small amount of memory to contain this shared value.\r\n\r\n3. SomeClass contains methods like `someMethod`, and that code has to be in memory in order to run. If you&#39;re willing to consider code as requiring memory, and that the code is associated with the class, then the class consumes memory. People talking about OOP concepts aren&#39;t usually talking about the memory consumed by the code itself, though.\r\n\r\nThis can be compared to _instances_ of the class SomeClass, which at a minimum contain a separate value of `instanceValue` for every instance you create. Instances don&#39;t have their own code, and do (in Java) contain a reference to their Class instance accessible via `getClass()`.\r\n\r\nFinally, the method `someMethod` and your `main` example do use references and local variables that consume memory, but in a different place than the instances or classes. This place is called a &quot;stack&quot;, in part because as you call methods and those call further methods, the stack grows like a stack of papers on a desk. This means that there may be many copies of `stackValue` existing at once, one for each time you have called `someMethod` that hasn&#39;t finished yet. Each value of `stackValue` is discarded whenever its corresponding invocation of `someMethod` returns. These aren&#39;t directly tied to classes or instances, other than that they are code that might be considered associated with a class as in #3 above. Disregarding the memory consumed by the compiled code itself, the `instance` does not contribute to SomeClass or its instances consuming any more memory in ways that matter to OOP.\r\n\r\n(Instances created with `new` are not a part of a &quot;stack&quot; but rather are part of the &quot;heap&quot;, at this level of explanation, and that includes the `SomeClass.class` instance and any instances of SomeClass. Some languages require careful management of the heap&#39;s memory, but Java manages it for you through a process called _garbage collection_. Primitives like `stackValue` and the _reference_ named `instance` are kept on the stack, though.)","title":"In oops concept does class occupy memory","body":"<p>There are three concepts to keep separate here: the <em>class</em>, the <em>instance</em>, and the <em>stack</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeClass {\n  static int staticValue = 0;\n\n  /* non-static */ int instanceValue = 0;\n\n  int someMethod() {\n    int stackValue = 42;\n    SomeClass instance = new SomeClass();\n    // ...\n  }\n}\n</code></pre>\n<p>The class acts as a template, yes. In some languages other than Java, the class takes up no memory of its own: it merely describes the memory layout of the class's instances. For a beginner definition of OOP concepts you can think of that as true.</p>\n<p>In Java this is not <em>quite</em> true for three reasons:</p>\n<ol>\n<li><p>There is an object instance for SomeClass, accessible via <code>SomeClass.class</code>, which does take up memory. This instance allows you to look up information about the class itself, which is sometimes called &quot;reflection&quot;.</p>\n</li>\n<li><p>The static field <code>staticValue</code> is shared among all instances of SomeClass, so in a sense the class takes up a small amount of memory to contain this shared value.</p>\n</li>\n<li><p>SomeClass contains methods like <code>someMethod</code>, and that code has to be in memory in order to run. If you're willing to consider code as requiring memory, and that the code is associated with the class, then the class consumes memory. People talking about OOP concepts aren't usually talking about the memory consumed by the code itself, though.</p>\n</li>\n</ol>\n<p>This can be compared to <em>instances</em> of the class SomeClass, which at a minimum contain a separate value of <code>instanceValue</code> for every instance you create. Instances don't have their own code, and do (in Java) contain a reference to their Class instance accessible via <code>getClass()</code>.</p>\n<p>Finally, the method <code>someMethod</code> and your <code>main</code> example do use references and local variables that consume memory, but in a different place than the instances or classes. This place is called a &quot;stack&quot;, in part because as you call methods and those call further methods, the stack grows like a stack of papers on a desk. This means that there may be many copies of <code>stackValue</code> existing at once, one for each time you have called <code>someMethod</code> that hasn't finished yet. Each value of <code>stackValue</code> is discarded whenever its corresponding invocation of <code>someMethod</code> returns. These aren't directly tied to classes or instances, other than that they are code that might be considered associated with a class as in #3 above. Disregarding the memory consumed by the compiled code itself, the <code>instance</code> does not contribute to SomeClass or its instances consuming any more memory in ways that matter to OOP.</p>\n<p>(Instances created with <code>new</code> are not a part of a &quot;stack&quot; but rather are part of the &quot;heap&quot;, at this level of explanation, and that includes the <code>SomeClass.class</code> instance and any instances of SomeClass. Some languages require careful management of the heap's memory, but Java manages it for you through a process called <em>garbage collection</em>. Primitives like <code>stackValue</code> and the <em>reference</em> named <code>instance</code> are kept on the stack, though.)</p>\n"}],"owner":{"account_id":27410286,"reputation":1,"user_id":20910309,"display_name":"jagadeesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673709416,"creation_date":1672654826,"question_id":74981197,"body_markdown":"As per the definition in Java. If class doesn&#39;t occupy memory and just acts like a template, then why are we creating objects(main method) inside curly braces of class. Doesn&#39;t that mean now class also occupies memory because of objects present inside of it?\r\n\r\nTrying to understand the definition of a class","title":"In oops concept does class occupy memory","body":"<p>As per the definition in Java. If class doesn't occupy memory and just acts like a template, then why are we creating objects(main method) inside curly braces of class. Doesn't that mean now class also occupies memory because of objects present inside of it?</p>\n<p>Trying to understand the definition of a class</p>\n"},{"tags":["java","android","libgdx","scene2d"],"comments":[{"owner":{"account_id":182090,"reputation":6832,"user_id":416549,"display_name":"nEx.Software"},"score":0,"creation_date":1439817171,"post_id":32051150,"comment_id":52001876,"body_markdown":"Show some code, and the actual stack trace of the crash.","body":"Show some code, and the actual stack trace of the crash."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1439818994,"post_id":32051150,"comment_id":52003098,"body_markdown":"Let me guess...you have a static reference to your AssetManager, or a class that references it. This will cause problems in Android, because closing an Activity in Android does not automatically clear your static references.","body":"Let me guess...you have a static reference to your AssetManager, or a class that references it. This will cause problems in Android, because closing an Activity in Android does not automatically clear your static references."},{"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"score":0,"creation_date":1439820583,"post_id":32051150,"comment_id":52004175,"body_markdown":"Yes you are right! I have declared assetmanager as static! Let me try making it non static and get back. Thanks","body":"Yes you are right! I have declared assetmanager as static! Let me try making it non static and get back. Thanks"},{"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"score":0,"creation_date":1439834492,"post_id":32051150,"comment_id":52012515,"body_markdown":"Tenfour04, You were absolutely right.. Could you please rewrite the comment as the answer so that I can mark it as the answer for the benefit of other people like me.","body":"Tenfour04, You were absolutely right.. Could you please rewrite the comment as the answer so that I can mark it as the answer for the benefit of other people like me."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439836309,"creation_date":1439836309,"answer_id":32057310,"question_id":32051150,"body_markdown":"Closing an Activity in Android does not automatically clear your static references. Do not hold any static references to any OpenGL-related objects such as AssetManagers, Textures, ShaderPrograms, SpriteBatches, etc., or you risk Android reopening your game without knowing how (or that it needs) to reload them.\r\n\r\nThere might be ways around this by clearing your static references in your Activity&#39;s `onCreate` method, but it&#39;s safer/easier to avoid static references altogether.","title":"Libgdx AssetManager not loading resources on resume","body":"<p>Closing an Activity in Android does not automatically clear your static references. Do not hold any static references to any OpenGL-related objects such as AssetManagers, Textures, ShaderPrograms, SpriteBatches, etc., or you risk Android reopening your game without knowing how (or that it needs) to reload them.</p>\n\n<p>There might be ways around this by clearing your static references in your Activity's <code>onCreate</code> method, but it's safer/easier to avoid static references altogether.</p>\n"},{"tags":[],"owner":{"account_id":13744337,"reputation":1,"user_id":9918518,"display_name":"Savehdarbandsari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673708624,"creation_date":1673708624,"answer_id":75118893,"question_id":32051150,"body_markdown":"I had the same problem,and my problem solved when I define my Asset Manager in create method .Asset Manager can be static (in Android &amp; libgdx) but it cant be in another class you will lose your data in second run of your activity","title":"Libgdx AssetManager not loading resources on resume","body":"<p>I had the same problem,and my problem solved when I define my Asset Manager in create method .Asset Manager can be static (in Android &amp; libgdx) but it cant be in another class you will lose your data in second run of your activity</p>\n"}],"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32057310,"answer_count":2,"score":0,"last_activity_date":1673708624,"creation_date":1439816590,"question_id":32051150,"body_markdown":"I am using Libgdx assetmanager to load UI assets. It works perfectly fine until I restart the application(Android).\r\nHere is what happens:\r\n\r\n 1. I start my game: It runs fine\r\n 2. I close the application using `Gdx.app.exit()` (No errors)\r\n 3. Now when I press on the app icon to open it: crashed!\r\n\r\nError: `com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: data/GUI/packed/gui.atlas`\r\n\r\nI tried `finishloading()` No luck!\r\nI tried using `finishloadingasset(&quot;data/GUI/packed/gui.atlas&quot;)` this blocks forever!\r\nAdded `assetmanager.dispose()` also clear before exit. No luck!\r\n\r\nAfter it is crashed, if i try to open it again it works just fine!\r\n\r\nPlease advice!\r\nThanks\r\n","title":"Libgdx AssetManager not loading resources on resume","body":"<p>I am using Libgdx assetmanager to load UI assets. It works perfectly fine until I restart the application(Android).\nHere is what happens:</p>\n\n<ol>\n<li>I start my game: It runs fine</li>\n<li>I close the application using <code>Gdx.app.exit()</code> (No errors)</li>\n<li>Now when I press on the app icon to open it: crashed!</li>\n</ol>\n\n<p>Error: <code>com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: data/GUI/packed/gui.atlas</code></p>\n\n<p>I tried <code>finishloading()</code> No luck!\nI tried using <code>finishloadingasset(\"data/GUI/packed/gui.atlas\")</code> this blocks forever!\nAdded <code>assetmanager.dispose()</code> also clear before exit. No luck!</p>\n\n<p>After it is crashed, if i try to open it again it works just fine!</p>\n\n<p>Please advice!\nThanks</p>\n"},{"tags":["java","enums","constructor","singleton"],"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":7,"creation_date":1282519996,"post_id":3543903,"comment_id":3711244,"body_markdown":"Why would you want to do that? To me this sounds like an abuse of the enum concept. Enum values are supposed to be constants, whose creation is not dependent on anything. Even if technically you _could_ do that (by throwing an unchecked exception instead of a checked one), I would suggest you revise your design. If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.","body":"Why would you want to do that? To me this sounds like an abuse of the enum concept. Enum values are supposed to be constants, whose creation is not dependent on anything. Even if technically you <i>could</i> do that (by throwing an unchecked exception instead of a checked one), I would suggest you revise your design. If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class."},{"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"score":2,"creation_date":1282521206,"post_id":3543903,"comment_id":3711332,"body_markdown":"I&#39;m implementing a Singleton, but how would implementing it by hand as a normal class be any better? I would still have to throw an exception from code called by a static initializer.\n\nYou can throw unchecked exceptions from an enum constructor.","body":"I&#39;m implementing a Singleton, but how would implementing it by hand as a normal class be any better? I would still have to throw an exception from code called by a static initializer.  You can throw unchecked exceptions from an enum constructor."},{"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1282521330,"post_id":3543903,"comment_id":3711343,"body_markdown":"there&#39;s something *icky* about getting an exception thrown merely by accessing an enum value.  Not so bad when it&#39;s a singleton getInstance() method.","body":"there&#39;s something <i>icky</i> about getting an exception thrown merely by accessing an enum value.  Not so bad when it&#39;s a singleton getInstance() method."},{"owner":{"account_id":5871092,"reputation":756,"user_id":4623411,"accept_rate":43,"display_name":"bylijinnan"},"score":1,"creation_date":1437095304,"post_id":3543903,"comment_id":50899956,"body_markdown":"@P&#233;ter T&#246;r&#246;k how would implementing it by hand as a normal class be any better? I think it&#39;s ok to use enum to implements a singleton, as &lt;Effective Java&gt; said.","body":"@P&#233;ter T&#246;r&#246;k how would implementing it by hand as a normal class be any better? I think it&#39;s ok to use enum to implements a singleton, as &lt;Effective Java&gt; said."},{"owner":{"account_id":4861607,"reputation":2168,"user_id":3921053,"accept_rate":80,"display_name":"Abhishek Garg"},"score":0,"creation_date":1572297739,"post_id":3543903,"comment_id":103509658,"body_markdown":"@P&#233;terT&#246;r&#246;k for my understanding, especially for this case, why do you think &quot;If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.&quot;?","body":"@P&#233;terT&#246;r&#246;k for my understanding, especially for this case, why do you think &quot;If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1673707869,"creation_date":1282519818,"answer_id":3543906,"question_id":3543903,"body_markdown":"Because instances are created in a static initializer, throw an `ExceptionInInitializerError` instead.\r\n\r\n```java\r\nthrow new ExceptionInInitializerError();\r\n```","title":"How to throw an exception from an enum constructor?","body":"<p>Because instances are created in a static initializer, throw an <code>ExceptionInInitializerError</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new ExceptionInInitializerError();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1282521133,"creation_date":1282521133,"answer_id":3543973,"question_id":3543903,"body_markdown":"That scenario cannot work.\r\n\r\nYou are trying to throw a checked `Exception` from the constructor.\r\n\r\nThis constructor is called by the `INSTANCE` enum entry declaration, so the checked exception cannot be handled correctly.\r\n\r\nAlso it is in my opinion it&#39;s bad style to throw Exceptions from a constructor, as a constructor normally shouldn&#39;t do any work and especially not create errors.\r\n\r\nAlso if you want to throw an `IOException` I assume that you want to initialize something from a file, so you should perhaps consider this article on [dynamic enums][1].\r\n\r\n\r\n  [1]: http://blog.xebia.com/2009/04/02/dynamic-enums-in-java/","title":"How to throw an exception from an enum constructor?","body":"<p>That scenario cannot work.</p>\n\n<p>You are trying to throw a checked <code>Exception</code> from the constructor.</p>\n\n<p>This constructor is called by the <code>INSTANCE</code> enum entry declaration, so the checked exception cannot be handled correctly.</p>\n\n<p>Also it is in my opinion it's bad style to throw Exceptions from a constructor, as a constructor normally shouldn't do any work and especially not create errors.</p>\n\n<p>Also if you want to throw an <code>IOException</code> I assume that you want to initialize something from a file, so you should perhaps consider this article on <a href=\"http://blog.xebia.com/2009/04/02/dynamic-enums-in-java/\" rel=\"nofollow noreferrer\">dynamic enums</a>.</p>\n"},{"tags":[],"owner":{"account_id":911907,"reputation":153,"user_id":945552,"display_name":"silent_h"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1317156170,"creation_date":1317156170,"answer_id":7575400,"question_id":3543903,"body_markdown":"I have a case where I want to use enums as keys in some settings classes. The database will store a string value, allowing us to change the enum constants without having to udpate the database (a bit ugly, I know). I wanted to throw a runtime exception in the enum&#39;s constructor as a way to police the length of the string argument to avoid hitting the database and then getting a constraint violation when I could easily detect it myself.\r\n\r\n    public enum GlobalSettingKey {\r\n        EXAMPLE(&quot;example&quot;);\r\n\r\n        private String value;\r\n\r\n        private GlobalSettingKey(String value) {\r\n            if (value.length() &gt; 200) {\r\n                throw new IllegalArgumentException(&quot;you can&#39;t do that&quot;);\r\n            }\r\n            this.value = value;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return value;\r\n        }\r\n    }\r\n\r\nWhen I created a quick test for this, I found that the exception thrown was not mine, but instead was an ExceptionInInitializerError.\r\n\r\nMaybe this is dumb, but I think it&#39;s a fairly valid scenario for wanting to throw an exception in a static initializer.","title":"How to throw an exception from an enum constructor?","body":"<p>I have a case where I want to use enums as keys in some settings classes. The database will store a string value, allowing us to change the enum constants without having to udpate the database (a bit ugly, I know). I wanted to throw a runtime exception in the enum's constructor as a way to police the length of the string argument to avoid hitting the database and then getting a constraint violation when I could easily detect it myself.</p>\n\n<pre><code>public enum GlobalSettingKey {\n    EXAMPLE(\"example\");\n\n    private String value;\n\n    private GlobalSettingKey(String value) {\n        if (value.length() &gt; 200) {\n            throw new IllegalArgumentException(\"you can't do that\");\n        }\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return value;\n    }\n}\n</code></pre>\n\n<p>When I created a quick test for this, I found that the exception thrown was not mine, but instead was an ExceptionInInitializerError.</p>\n\n<p>Maybe this is dumb, but I think it's a fairly valid scenario for wanting to throw an exception in a static initializer.</p>\n"}],"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17271,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":3543906,"answer_count":3,"score":20,"last_activity_date":1673707869,"creation_date":1282519744,"question_id":3543903,"body_markdown":"How can I throw an exception from an enum constructor? eg:\r\n\r\n    public enum RLoader {\r\n      INSTANCE;\r\n      private RLoader() throws IOException {\r\n       ....\r\n      }\r\n    }\r\n\r\nproduces the error \r\n\r\n&gt; Unhandled exception type IOException","title":"How to throw an exception from an enum constructor?","body":"<p>How can I throw an exception from an enum constructor? eg:</p>\n\n<pre><code>public enum RLoader {\n  INSTANCE;\n  private RLoader() throws IOException {\n   ....\n  }\n}\n</code></pre>\n\n<p>produces the error </p>\n\n<blockquote>\n  <p>Unhandled exception type IOException</p>\n</blockquote>\n"},{"tags":["java","matcher","replaceall"],"answers":[{"tags":[],"owner":{"account_id":5982243,"reputation":133,"user_id":4700867,"display_name":"Michael Burke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673707834,"creation_date":1498915311,"answer_id":44861420,"question_id":44859972,"body_markdown":"In the `Matcher` case, you are doing some extra work that is not necessary, but it still effectively does the same thing (but I would assume you pay an efficiency price, though it would be negligible in this case).\r\n\r\nIn the first case, you do `geb.replaceAll(&quot;\\\\.&quot;, &quot;&quot;)`. So you are saying take `geb`, and replace every period with &#39;nothing&#39; essentially.\r\n\r\nIn the second case, you do `geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep))`. Now, you are saying, take `geb` and replace every period with the return value of `Matcher.quoteReplacement(&quot;&quot;)`. In this case, `Matcher.quoteReplacement` returns `&quot;&quot;`, exactly what you put into it. So it is essentially an extra/useless call that is not needed. Take a look at the docs for `Matcher.quoteReplacement` [here](\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String)).\r\n\r\nAnd for `String.replaceAll` [here](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)).\r\n\r\nThe one thing it does mention here though is to use `quoteReplacement` to suppress the special meaning of control characters like `&quot;\\&quot;` and `&quot;$&quot;`. So you only need to use that if you want the replacement `String` (the second argument to `replaceAll`) to behave as if those are literal characters and not control characters.\r\n\r\nAlso of note, you can do this all in one regex like `geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;);`. I think there are even better ways than that to do it but my regex isn&#39;t great.","title":"replaceAll() vs. replaceAll(..., Matcher.quoteReplacement)","body":"<p>In the <code>Matcher</code> case, you are doing some extra work that is not necessary, but it still effectively does the same thing (but I would assume you pay an efficiency price, though it would be negligible in this case).</p>\n<p>In the first case, you do <code>geb.replaceAll(&quot;\\\\.&quot;, &quot;&quot;)</code>. So you are saying take <code>geb</code>, and replace every period with 'nothing' essentially.</p>\n<p>In the second case, you do <code>geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep))</code>. Now, you are saying, take <code>geb</code> and replace every period with the return value of <code>Matcher.quoteReplacement(&quot;&quot;)</code>. In this case, <code>Matcher.quoteReplacement</code> returns <code>&quot;&quot;</code>, exactly what you put into it. So it is essentially an extra/useless call that is not needed. Take a look at the docs for <code>Matcher.quoteReplacement</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And for <code>String.replaceAll</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The one thing it does mention here though is to use <code>quoteReplacement</code> to suppress the special meaning of control characters like <code>&quot;\\&quot;</code> and <code>&quot;$&quot;</code>. So you only need to use that if you want the replacement <code>String</code> (the second argument to <code>replaceAll</code>) to behave as if those are literal characters and not control characters.</p>\n<p>Also of note, you can do this all in one regex like <code>geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;);</code>. I think there are even better ways than that to do it but my regex isn't great.</p>\n"}],"owner":{"account_id":11204185,"reputation":25,"user_id":8220301,"display_name":"Jana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44861420,"answer_count":1,"score":2,"last_activity_date":1673707834,"creation_date":1498905519,"question_id":44859972,"body_markdown":"Hello :D short question: What is the difference between\r\n \r\n\r\n    String geb = tf_datum.getText();\r\n    String sep = &quot;&quot;; //sep is short for seperator\r\n    \r\n    geb = geb.replaceAll(&quot;\\\\.&quot;, sep);\r\n    geb = geb.replaceAll(&quot;\\\\,&quot;, sep); \r\n    geb = geb.replaceAll(&quot;\\\\-&quot;, sep);\r\n    geb = geb.replaceAll(&quot;\\\\ &quot;, sep);`\r\n\r\nand \r\n\r\n    String geb = tf_datum.getText();\r\n     \r\n    String sep = &quot;&quot;;\r\n    geb = geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep));\r\n    geb = geb.replaceAll(&quot;\\\\,&quot;, Matcher.quoteReplacement(sep)); \r\n    geb = geb.replaceAll(&quot;\\\\-&quot;, Matcher.quoteReplacement(sep));\r\n    geb = geb.replaceAll(&quot;\\\\ &quot;, Matcher.quoteReplacement(sep)); \r\nBecause both is functionating. I tried to understand each method (in the second one) and to put it together but it makes no sense. \r\nIf somebody can help me, that would be very nice!\r\nThanks. :)  (and I also found the other question  [which seems to be the same][1], but he did not use the Matcher.quote inside of the replaceAll() ... so I was not shure if it is the same)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1466959/string-replaceall-vs-matcher-replaceall-performance-differences","title":"replaceAll() vs. replaceAll(..., Matcher.quoteReplacement)","body":"<p>Hello :D short question: What is the difference between</p>\n\n<pre><code>String geb = tf_datum.getText();\nString sep = \"\"; //sep is short for seperator\n\ngeb = geb.replaceAll(\"\\\\.\", sep);\ngeb = geb.replaceAll(\"\\\\,\", sep); \ngeb = geb.replaceAll(\"\\\\-\", sep);\ngeb = geb.replaceAll(\"\\\\ \", sep);`\n</code></pre>\n\n<p>and </p>\n\n<pre><code>String geb = tf_datum.getText();\n\nString sep = \"\";\ngeb = geb.replaceAll(\"\\\\.\", Matcher.quoteReplacement(sep));\ngeb = geb.replaceAll(\"\\\\,\", Matcher.quoteReplacement(sep)); \ngeb = geb.replaceAll(\"\\\\-\", Matcher.quoteReplacement(sep));\ngeb = geb.replaceAll(\"\\\\ \", Matcher.quoteReplacement(sep)); \n</code></pre>\n\n<p>Because both is functionating. I tried to understand each method (in the second one) and to put it together but it makes no sense. \nIf somebody can help me, that would be very nice!\nThanks. :)  (and I also found the other question  <a href=\"https://stackoverflow.com/questions/1466959/string-replaceall-vs-matcher-replaceall-performance-differences\">which seems to be the same</a>, but he did not use the Matcher.quote inside of the replaceAll() ... so I was not shure if it is the same)</p>\n"},{"tags":["java","android-studio","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":13091928,"reputation":1,"user_id":9459085,"display_name":"Bartek Pilch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597262083,"creation_date":1597262083,"answer_id":63383855,"question_id":63383277,"body_markdown":"1. Check your Admob account, I had a similar problem but it turned out that there was a problem with my account. (If test ads are showing, it&#39;s probably not a code problem.)\r\n\r\n2. Try to add this code:\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n       MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n        @Override\r\n        public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n       });\r\n\r\n       // Use an activity context to get the rewarded video instance\r\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\r\n        mAd.setRewardedVideoAdListener(this);\r\n        loadRewardedVideoAd();\r\n\r\n       // Your code\r\n        ...","title":"Rewarded Test Ads shows but not the real one","body":"<ol>\n<li><p>Check your Admob account, I had a similar problem but it turned out that there was a problem with my account. (If test ads are showing, it's probably not a code problem.)</p>\n</li>\n<li><p>Try to add this code:</p>\n<pre><code> @Override\n public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                      Bundle savedInstanceState) {\n // Inflate the layout for this fragment\n View view =inflater.inflate(R.layout.fragment_home, container, false);\n\nMobileAds.initialize(this, new OnInitializationCompleteListener() {\n @Override\n public void onInitializationComplete(InitializationStatus initializationStatus) {}\n});\n\n// Use an activity context to get the rewarded video instance\n mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\n mAd.setRewardedVideoAdListener(this);\n loadRewardedVideoAd();\n\n// Your code\n ...\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16653083,"reputation":51,"user_id":12035349,"display_name":"Chandana Gihan Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673707746,"creation_date":1673707746,"answer_id":75118804,"question_id":63383277,"body_markdown":"There are two types of ads called Rewarded ads and Rewarded interstitials. Try generating another ad unit and adding the relevant ad unit credentials.","title":"Rewarded Test Ads shows but not the real one","body":"<p>There are two types of ads called Rewarded ads and Rewarded interstitials. Try generating another ad unit and adding the relevant ad unit credentials.</p>\n"}],"owner":{"account_id":17876408,"reputation":3,"user_id":12986343,"display_name":"Krisix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673707746,"creation_date":1597259335,"question_id":63383277,"body_markdown":"I have some troubles with implementing rewarded ads (using AdMob) in my application made on Android Studio. \r\nWhen i put the test App ID and test Ads UNIT it works perfectly and the test ads appear but when i try to put my own App ID and my own Ads UNIT the ads don&#39;t load anymore.\r\n\r\nI waited more than a week after creating my admob account so for me the problem is not related with it.\r\n\r\nI was wondering if you could help me.\r\n\r\nAndroidManifest.xml :\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;(hide)&quot;&gt;\r\n    &lt;!-- Internet Permission --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/logo&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-1726769558644129~3661017334&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.SpashScreenActivity&quot;\r\n            android:theme=&quot;@style/SplashScreenTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.DashboardActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.RegisterActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Main&quot; /&gt;\r\n        \r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHomeFragment.java :\r\n```\r\n\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n */\r\npublic class HomeFragment extends Fragment implements RewardedVideoAdListener{\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n  \r\n\r\n    //init view\r\n    ImageButton addCoinsBtn;\r\n    \r\n    \r\n    //AdRewarded\r\n    private RewardedVideoAd mAd;\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        MobileAds.initialize(getActivity(), &quot;ca-app-pub-1726769558644129~3661017334&quot;);\r\n\r\n              \r\n        // Use an activity context to get the rewarded video instance\r\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\r\n        mAd.setRewardedVideoAdListener(this);\r\n        loadRewardedVideoAd();\r\n\r\n\r\n\r\n        addCoinsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if(mAd.isLoaded())\r\n                {\r\n                    mAd.show();\r\n                    addCoinsBtn.setVisibility(View.INVISIBLE);\r\n                    waitAdLL.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n        \r\n\r\n\r\n        return view;\r\n\r\n    }\r\n\r\n    private void loadRewardedVideoAd() {\r\n        mAd.loadAd(&quot;ca-app-pub-1726769558644129/3118091850&quot;, new AdRequest.Builder().build());\r\n    }\r\n\r\n\r\n    // Required to reward the user.\r\n    @Override\r\n    public void onRewarded(RewardItem reward) {\r\n\r\n        // Reward the user.\r\n\r\n       \r\n    }\r\n\r\n    // The following listener methods are optional.\r\n    @Override\r\n    public void onRewardedVideoAdLeftApplication() {\r\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdLeftApplication&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onRewardedVideoAdClosed() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdClosed&quot;, Toast.LENGTH_SHORT).show();\r\n        loadRewardedVideoAd();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoAdOpened() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdOpened&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoStarted() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoStarted&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoAdFailedToLoad(int errorCode) {\r\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdFailedToLoad&quot;, Toast.LENGTH_SHORT).show();\r\n        loadRewardedVideoAd();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoCompleted() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        mAd.resume(getActivity());\r\n        super.onResume();\r\n    }\r\n    @Override\r\n    public void onPause() {\r\n        mAd.pause(getActivity());\r\n        super.onPause();\r\n    }\r\n    @Override\r\n    public void onDestroy() {\r\n        mAd.destroy(getActivity());\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onRewardedVideoAdLoaded() {       \r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdLoaded&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n[My Admob information][1]\r\n\r\nThank you for your help.\r\n\r\nKrisix\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ADBjk.png","title":"Rewarded Test Ads shows but not the real one","body":"<p>I have some troubles with implementing rewarded ads (using AdMob) in my application made on Android Studio.\nWhen i put the test App ID and test Ads UNIT it works perfectly and the test ads appear but when i try to put my own App ID and my own Ads UNIT the ads don't load anymore.</p>\n<p>I waited more than a week after creating my admob account so for me the problem is not related with it.</p>\n<p>I was wondering if you could help me.</p>\n<p>AndroidManifest.xml :</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;(hide)&quot;&gt;\n    &lt;!-- Internet Permission --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-1726769558644129~3661017334&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.SpashScreenActivity&quot;\n            android:theme=&quot;@style/SplashScreenTheme&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.DashboardActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.RegisterActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.Main&quot; /&gt;\n        \n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>HomeFragment.java :</p>\n<pre><code>\n\n/**\n * A simple {@link Fragment} subclass.\n */\npublic class HomeFragment extends Fragment implements RewardedVideoAdListener{\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n  \n\n    //init view\n    ImageButton addCoinsBtn;\n    \n    \n    //AdRewarded\n    private RewardedVideoAd mAd;\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\n\n        MobileAds.initialize(getActivity(), &quot;ca-app-pub-1726769558644129~3661017334&quot;);\n\n              \n        // Use an activity context to get the rewarded video instance\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\n        mAd.setRewardedVideoAdListener(this);\n        loadRewardedVideoAd();\n\n\n\n        addCoinsBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if(mAd.isLoaded())\n                {\n                    mAd.show();\n                    addCoinsBtn.setVisibility(View.INVISIBLE);\n                    waitAdLL.setVisibility(View.VISIBLE);\n                }\n\n            }\n\n\n        });\n\n        \n\n\n        return view;\n\n    }\n\n    private void loadRewardedVideoAd() {\n        mAd.loadAd(&quot;ca-app-pub-1726769558644129/3118091850&quot;, new AdRequest.Builder().build());\n    }\n\n\n    // Required to reward the user.\n    @Override\n    public void onRewarded(RewardItem reward) {\n\n        // Reward the user.\n\n       \n    }\n\n    // The following listener methods are optional.\n    @Override\n    public void onRewardedVideoAdLeftApplication() {\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdLeftApplication&quot;,Toast.LENGTH_SHORT).show();\n\n    }\n\n\n\n    @Override\n    public void onRewardedVideoAdClosed() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdClosed&quot;, Toast.LENGTH_SHORT).show();\n        loadRewardedVideoAd();\n    }\n\n    @Override\n    public void onRewardedVideoAdOpened() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdOpened&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onRewardedVideoStarted() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoStarted&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onRewardedVideoAdFailedToLoad(int errorCode) {\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdFailedToLoad&quot;, Toast.LENGTH_SHORT).show();\n        loadRewardedVideoAd();\n    }\n\n    @Override\n    public void onRewardedVideoCompleted() {\n\n    }\n\n    @Override\n    public void onResume() {\n        mAd.resume(getActivity());\n        super.onResume();\n    }\n    @Override\n    public void onPause() {\n        mAd.pause(getActivity());\n        super.onPause();\n    }\n    @Override\n    public void onDestroy() {\n        mAd.destroy(getActivity());\n        super.onDestroy();\n    }\n\n\n\n    @Override\n    public void onRewardedVideoAdLoaded() {       \n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdLoaded&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ADBjk.png\" rel=\"nofollow noreferrer\">My Admob information</a></p>\n<p>Thank you for your help.</p>\n<p>Krisix</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1673695332,"post_id":75117484,"comment_id":132558342,"body_markdown":"is your test class marked `@SpringBootTest`? Can you show the class-level code?","body":"is your test class marked <code>@SpringBootTest</code>? Can you show the class-level code?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1673695658,"post_id":75117484,"comment_id":132558382,"body_markdown":"since `userService` calls two `userRepository` methods: `save` and `findById`, you need to mock both of them.","body":"since <code>userService</code> calls two <code>userRepository</code> methods: <code>save</code> and <code>findById</code>, you need to mock both of them."},{"owner":{"account_id":21354950,"reputation":383,"user_id":15724030,"display_name":"m3k_1"},"score":0,"creation_date":1673695956,"post_id":75117484,"comment_id":132558425,"body_markdown":"@Ryednap it&#39;s only marked with ```@Slf4j``` and ```@ExtendWith(MockitoExtension.class)```","body":"@Ryednap it&#39;s only marked with <code>@Slf4j</code> and <code>@ExtendWith(MockitoExtension.class)</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673699196,"post_id":75117484,"comment_id":132558865,"body_markdown":"Where do you create your mock and how do you inject it into your service? Can you sholl the full test class? (including annotations, fields, setup code). The single test method is enough, the others can be removed for the question","body":"Where do you create your mock and how do you inject it into your service? Can you sholl the full test class? (including annotations, fields, setup code). The single test method is enough, the others can be removed for the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673743276,"post_id":75117484,"comment_id":132566580,"body_markdown":"You don&#39;t need to use `@SpringBootTest` for this -- just using `MockitoExtension` is sufficient and better.","body":"You don&#39;t need to use <code>@SpringBootTest</code> for this -- just using <code>MockitoExtension</code> is sufficient and better."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673705765,"creation_date":1673705765,"answer_id":75118578,"question_id":75117484,"body_markdown":"You need to declare that behaviour to the mock, before using it:\r\n\r\n```java\r\nwhen(userRepository.findById(any()))\r\n   .thenReturn(Optional.empty());\r\n```","title":"JPA Repository method inside of mocked Service Class returns null","body":"<p>You need to declare that behaviour to the mock, before using it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(userRepository.findById(any()))\n   .thenReturn(Optional.empty());\n</code></pre>\n"}],"owner":{"account_id":21354950,"reputation":383,"user_id":15724030,"display_name":"m3k_1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673705765,"creation_date":1673694456,"question_id":75117484,"body_markdown":"I have a service method that looks like this \r\n\r\n    @Override\r\n    public User editUser(User user) {\r\n\r\n        User savedUser = userRepository.findById(user.getUser_id()).get();\r\n        User userToEdit = new User();\r\n\r\n        userToEdit.setUser_id(user.getUser_id());\r\n        userToEdit.setRole(user.getRole().isEmpty() ? savedUser.getRole() : user.getRole());\r\n        userToEdit.setUsername(user.getUsername().isEmpty() ? savedUser.getUsername() : user.getUsername());\r\n        userToEdit.setPassword(user.getPassword().isEmpty() ? savedUser.getPassword() : passwordEncoder.encode(user.getPassword()));\r\n        userToEdit.setEmail(user.getEmail().isEmpty() ? savedUser.getEmail() : user.getEmail());\r\n        userToEdit.setGroup_id((user.getGroup_id() == -1) ? savedUser.getGroup_id() : user.getGroup_id());\r\n        userToEdit.setActive(user.getActive()!=savedUser.getActive() ? savedUser.getActive() : user.getActive());\r\n\r\n        return userRepository.save(userToEdit);\r\n    }\r\n\r\nAnd I&#39;m trying to test it with Mockito and when I call a repository method in the service class while testing it return a empty Optional\r\n\r\nHere&#39;s my before each test method \r\n\r\n    @BeforeEach\r\n    public void setup(){\r\n        user = new User(1,&quot;username&quot;, &quot;password&quot;, 1, &quot;test@test.com&quot;, &quot;admin&quot;, true);\r\n    }\r\n\r\nand my test method\r\n\r\n\r\n    @Test\r\n    void checkIfUserCanBeEdited(){\r\n\r\n        given(userRepository.save(user)).willReturn(user);\r\n        user.setPassword(&quot;check&quot;);\r\n        user.setRole(&quot;user&quot;);\r\n\r\n        //when\r\n        User updateUser = userService.editUser(user);\r\n\r\n        //then\r\n        assertThat(updateUser.getPassword()).isEqualTo(&quot;check&quot;);\r\n        assertThat(updateUser.getRole()).isEqualTo(&quot;user&quot;);\r\n    }\r\n\r\nAnd the error\r\n\r\n    java.util.NoSuchElementException: No value present\r\n\r\nat this line\r\n\r\n    User savedUser = userRepository.findById(user.getUser_id()).get();","title":"JPA Repository method inside of mocked Service Class returns null","body":"<p>I have a service method that looks like this</p>\n<pre><code>@Override\npublic User editUser(User user) {\n\n    User savedUser = userRepository.findById(user.getUser_id()).get();\n    User userToEdit = new User();\n\n    userToEdit.setUser_id(user.getUser_id());\n    userToEdit.setRole(user.getRole().isEmpty() ? savedUser.getRole() : user.getRole());\n    userToEdit.setUsername(user.getUsername().isEmpty() ? savedUser.getUsername() : user.getUsername());\n    userToEdit.setPassword(user.getPassword().isEmpty() ? savedUser.getPassword() : passwordEncoder.encode(user.getPassword()));\n    userToEdit.setEmail(user.getEmail().isEmpty() ? savedUser.getEmail() : user.getEmail());\n    userToEdit.setGroup_id((user.getGroup_id() == -1) ? savedUser.getGroup_id() : user.getGroup_id());\n    userToEdit.setActive(user.getActive()!=savedUser.getActive() ? savedUser.getActive() : user.getActive());\n\n    return userRepository.save(userToEdit);\n}\n</code></pre>\n<p>And I'm trying to test it with Mockito and when I call a repository method in the service class while testing it return a empty Optional</p>\n<p>Here's my before each test method</p>\n<pre><code>@BeforeEach\npublic void setup(){\n    user = new User(1,&quot;username&quot;, &quot;password&quot;, 1, &quot;test@test.com&quot;, &quot;admin&quot;, true);\n}\n</code></pre>\n<p>and my test method</p>\n<pre><code>@Test\nvoid checkIfUserCanBeEdited(){\n\n    given(userRepository.save(user)).willReturn(user);\n    user.setPassword(&quot;check&quot;);\n    user.setRole(&quot;user&quot;);\n\n    //when\n    User updateUser = userService.editUser(user);\n\n    //then\n    assertThat(updateUser.getPassword()).isEqualTo(&quot;check&quot;);\n    assertThat(updateUser.getRole()).isEqualTo(&quot;user&quot;);\n}\n</code></pre>\n<p>And the error</p>\n<pre><code>java.util.NoSuchElementException: No value present\n</code></pre>\n<p>at this line</p>\n<pre><code>User savedUser = userRepository.findById(user.getUser_id()).get();\n</code></pre>\n"},{"tags":["java","spring-boot","maven","slf4j"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673703744,"post_id":75117932,"comment_id":132559598,"body_markdown":"please show your full pom file...","body":"please show your full pom file..."},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673705301,"post_id":75117932,"comment_id":132559904,"body_markdown":"i had to remove the build tag. otherwise the file was too large.","body":"i had to remove the build tag. otherwise the file was too large."}],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673705245,"creation_date":1673699452,"question_id":75117932,"body_markdown":"On mvn compile, the app tries downloading from maven-restlet: https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml\r\n\r\nthe transfer fails though with the following message: Could not transfer metadata org.slf4j:slf4j-api/maven-metadata.xml from/to maven-restlet (https://maven.restlet.org)\r\n\r\nDoes anyone know why this behaviour suddenly appears?\r\n\r\nmy pom:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;xxx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n      &lt;version&gt;xxx&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;xxx&lt;/name&gt;\r\n      &lt;description&gt;xxx&lt;/description&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n        &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;!-- libs --&gt;\r\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\r\n        &lt;shedlock.version&gt;5.1.0&lt;/shedlock.version&gt;\r\n        &lt;!-- jacoco --&gt;\r\n        &lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\r\n    \r\n        &lt;spring.security.version&gt;6.0.1&lt;/spring.security.version&gt;\r\n        &lt;azure.version&gt;6.0.0-beta.3&lt;/azure.version&gt;\r\n    \r\n        &lt;!-- lts versions only--&gt;\r\n        &lt;node.version&gt;v16.17.1&lt;/node.version&gt;\r\n    \r\n        &lt;!-- validator--&gt;\r\n        &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\r\n    \r\n        &lt;!-- libs --&gt;\r\n        &lt;sfdc.version&gt;41.0&lt;/sfdc.version&gt;\r\n        &lt;owasp.version&gt;7.4.4&lt;/owasp.version&gt;\r\n        &lt;resilience4j.version&gt;1.7.1&lt;/resilience4j.version&gt;\r\n    \r\n        &lt;!-- please don&#39;t override spring boot&#39;s dependency management via an explicit dependency declaration --&gt;\r\n        &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\r\n        &lt;selenide.version&gt;6.11.0&lt;/selenide.version&gt;\r\n        &lt;selenium.version&gt;4.7.2&lt;/selenium.version&gt;\r\n    \r\n        &lt;!-- cdc --&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\r\n        &lt;spring-cloud-contract-maven-plugin.version&gt;4.0.0&lt;/spring-cloud-contract-maven-plugin.version&gt;\r\n    \r\n        &lt;!-- monitoring and tracing --&gt;\r\n        &lt;micrometer-tracing.version&gt;1.0.0&lt;/micrometer-tracing.version&gt;\r\n    \r\n        &lt;!-- maven profile --&gt;\r\n        &lt;skip.frontend.build&gt;false&lt;/skip.frontend.build&gt;\r\n        &lt;skip.frontend.webcomponent.build&gt;true&lt;/skip.frontend.webcomponent.build&gt;\r\n        &lt;skip.frontend.tests&gt;false&lt;/skip.frontend.tests&gt;\r\n        &lt;skip.backend.build&gt;false&lt;/skip.backend.build&gt;\r\n        &lt;skip.backend.tests.build&gt;false&lt;/skip.backend.tests.build&gt;\r\n        &lt;skip.backend.tests&gt;false&lt;/skip.backend.tests&gt;\r\n        &lt;skip.cdc.tests&gt;false&lt;/skip.cdc.tests&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;allTests&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;&lt;/groups&gt;\r\n          &lt;/properties&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileBE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileBEAndFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testBE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;excludeGroups&gt;selenium&lt;/excludeGroups&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testUnit&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;excludedGroups&gt;integration, cdc, selenium, kafka&lt;/excludedGroups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-unit.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;cdcTests&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;cdc&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-cdc.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testSelenium&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;selenium&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-selenium.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testIntegration&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;integration&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testIntegrationKafka&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;kafka&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration-kafka.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;COFA&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n    \r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;copy&lt;/id&gt;\r\n                    &lt;phase&gt;validate&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;copy&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n                      &lt;version&gt;${sfdc.version}&lt;/version&gt;\r\n                      &lt;type&gt;jar&lt;/type&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                  &lt;outputDirectory&gt;${project.basedir}/fits/lib&lt;/outputDirectory&gt;\r\n                  &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                  &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;FITS&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;sfdc-canvas-sdk&lt;/id&gt;\r\n                    &lt;phase&gt;validate&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;install-file&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;file&gt;${project.basedir}/fits/lib/sfdc-canvas-sdk-${sfdc.version}.jar&lt;/file&gt;\r\n                      &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n                      &lt;version&gt;${sfdc.version}&lt;/version&gt;\r\n                      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;GITLAB-RUNNER&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;failsafe.args&gt;\r\n              -Dtestcontainer.postgres.enabled=true\r\n              -Dspring.datasource.use_datasource_proxy=true\r\n              -Dspring.datasource.use_datasource_proxy_count_only=true\r\n            &lt;/failsafe.args&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;DEV&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;npm.profile&gt;development&lt;/npm.profile&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- XML binding is optional since Java 10 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.1&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- starter for building web, REST applications. It uses tomcat server\r\n          as default embedded server. --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;!-- we&#39;re not using log4j, but this exclusion makes sure that it stays this way --&gt;\r\n              &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n          &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n          &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n          &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;!-- Batch --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- UI --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Salesforce --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n          &lt;version&gt;41.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n          &lt;version&gt;1.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Database --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;version&gt;42.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Monitoring --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n          &lt;version&gt;2.14.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Messaging --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Validator --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- TEST --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n          &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n          &lt;version&gt;5.7.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n          &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n          &lt;version&gt;23.0.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \r\n        &lt;!-- LOGGING --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n          &lt;version&gt;7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- TEST --&gt;\r\n        &lt;!-- exclude junit 4 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n              &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- JUnit 5 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;0.23.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;0.23.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Testcontainers is tightly coupled with the JUnit 4.x rule API, this module provides an API that is based on the JUnit Jupiter extension model. --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n          &lt;version&gt;5.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenide.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.idera.xray&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xray-junit-extensions&lt;/artifactId&gt;\r\n          &lt;version&gt;0.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Monitoring--&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Schema migration --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- validation --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n          &lt;version&gt;${commons-validator.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n          &lt;version&gt;31.1-jre&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n          &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.21&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n              &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;java8&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.40&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n              &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;!-- CDC --&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${azure.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"After Migration to Spring Boot 3 my Project tries to download slf4j maven-metadata.xml from maven restlet","body":"<p>On mvn compile, the app tries downloading from maven-restlet: <a href=\"https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml</a></p>\n<p>the transfer fails though with the following message: Could not transfer metadata org.slf4j:slf4j-api/maven-metadata.xml from/to maven-restlet (<a href=\"https://maven.restlet.org\" rel=\"nofollow noreferrer\">https://maven.restlet.org</a>)</p>\n<p>Does anyone know why this behaviour suddenly appears?</p>\n<p>my pom:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;xxx&lt;/groupId&gt;\n  &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n  &lt;version&gt;xxx&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;xxx&lt;/name&gt;\n  &lt;description&gt;xxx&lt;/description&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;relativePath/&gt;\n    &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;!-- libs --&gt;\n    &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\n    &lt;shedlock.version&gt;5.1.0&lt;/shedlock.version&gt;\n    &lt;!-- jacoco --&gt;\n    &lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\n\n    &lt;spring.security.version&gt;6.0.1&lt;/spring.security.version&gt;\n    &lt;azure.version&gt;6.0.0-beta.3&lt;/azure.version&gt;\n\n    &lt;!-- lts versions only--&gt;\n    &lt;node.version&gt;v16.17.1&lt;/node.version&gt;\n\n    &lt;!-- validator--&gt;\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\n\n    &lt;!-- libs --&gt;\n    &lt;sfdc.version&gt;41.0&lt;/sfdc.version&gt;\n    &lt;owasp.version&gt;7.4.4&lt;/owasp.version&gt;\n    &lt;resilience4j.version&gt;1.7.1&lt;/resilience4j.version&gt;\n\n    &lt;!-- please don't override spring boot's dependency management via an explicit dependency declaration --&gt;\n    &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\n    &lt;selenide.version&gt;6.11.0&lt;/selenide.version&gt;\n    &lt;selenium.version&gt;4.7.2&lt;/selenium.version&gt;\n\n    &lt;!-- cdc --&gt;\n    &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-contract-maven-plugin.version&gt;4.0.0&lt;/spring-cloud-contract-maven-plugin.version&gt;\n\n    &lt;!-- monitoring and tracing --&gt;\n    &lt;micrometer-tracing.version&gt;1.0.0&lt;/micrometer-tracing.version&gt;\n\n    &lt;!-- maven profile --&gt;\n    &lt;skip.frontend.build&gt;false&lt;/skip.frontend.build&gt;\n    &lt;skip.frontend.webcomponent.build&gt;true&lt;/skip.frontend.webcomponent.build&gt;\n    &lt;skip.frontend.tests&gt;false&lt;/skip.frontend.tests&gt;\n    &lt;skip.backend.build&gt;false&lt;/skip.backend.build&gt;\n    &lt;skip.backend.tests.build&gt;false&lt;/skip.backend.tests.build&gt;\n    &lt;skip.backend.tests&gt;false&lt;/skip.backend.tests&gt;\n    &lt;skip.cdc.tests&gt;false&lt;/skip.cdc.tests&gt;\n  &lt;/properties&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;allTests&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;&lt;/groups&gt;\n      &lt;/properties&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileBE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileBEAndFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testBE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;excludeGroups&gt;selenium&lt;/excludeGroups&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testUnit&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;excludedGroups&gt;integration, cdc, selenium, kafka&lt;/excludedGroups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-unit.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;cdcTests&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;cdc&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-cdc.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testSelenium&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;selenium&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-selenium.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n\n    &lt;profile&gt;\n      &lt;id&gt;testIntegration&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;integration&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testIntegrationKafka&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;kafka&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration-kafka.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;COFA&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy&lt;/id&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;sfdc&lt;/groupId&gt;\n                  &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n                  &lt;version&gt;${sfdc.version}&lt;/version&gt;\n                  &lt;type&gt;jar&lt;/type&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n              &lt;outputDirectory&gt;${project.basedir}/fits/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;FITS&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;sfdc-canvas-sdk&lt;/id&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;install-file&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;file&gt;${project.basedir}/fits/lib/sfdc-canvas-sdk-${sfdc.version}.jar&lt;/file&gt;\n                  &lt;groupId&gt;sfdc&lt;/groupId&gt;\n                  &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n                  &lt;version&gt;${sfdc.version}&lt;/version&gt;\n                  &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;GITLAB-RUNNER&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;failsafe.args&gt;\n          -Dtestcontainer.postgres.enabled=true\n          -Dspring.datasource.use_datasource_proxy=true\n          -Dspring.datasource.use_datasource_proxy_count_only=true\n        &lt;/failsafe.args&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;DEV&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;npm.profile&gt;development&lt;/npm.profile&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- XML binding is optional since Java 10 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- starter for building web, REST applications. It uses tomcat server\n      as default embedded server. --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;!-- we're not using log4j, but this exclusion makes sure that it stays this way --&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n      &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n      &lt;version&gt;${shedlock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n      &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n      &lt;version&gt;${shedlock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n      &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Batch --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- UI --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Salesforce --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;sfdc&lt;/groupId&gt;\n      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n      &lt;version&gt;41.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n      &lt;version&gt;4.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Monitoring --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n      &lt;version&gt;2.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Messaging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Validator --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- TEST --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n      &lt;version&gt;5.7.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n      &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n      &lt;version&gt;23.0.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n\n    &lt;!-- LOGGING --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n      &lt;version&gt;7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- TEST --&gt;\n    &lt;!-- exclude junit 4 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n          &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JUnit 5 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n      &lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\n      &lt;version&gt;0.23.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n      &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\n      &lt;version&gt;0.23.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Testcontainers is tightly coupled with the JUnit 4.x rule API, this module provides an API that is based on the JUnit Jupiter extension model. --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n      &lt;artifactId&gt;jna&lt;/artifactId&gt;\n      &lt;version&gt;5.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n      &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n      &lt;version&gt;${selenide.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.idera.xray&lt;/groupId&gt;\n      &lt;artifactId&gt;xray-junit-extensions&lt;/artifactId&gt;\n      &lt;version&gt;0.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Monitoring--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Schema migration --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n      &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- validation --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n      &lt;version&gt;${commons-validator.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;31.1-jre&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n      &lt;version&gt;4.2.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n      &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\n      &lt;version&gt;4.2.21&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;xerces&lt;/groupId&gt;\n          &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n      &lt;artifactId&gt;java8&lt;/artifactId&gt;\n      &lt;version&gt;4.1.40&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;xerces&lt;/groupId&gt;\n          &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;!-- CDC --&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${azure.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\n        &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","static","volatile"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438609436,"post_id":2423622,"comment_id":51506122,"body_markdown":"Official explanation of volatile: http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile","body":"Official explanation of volatile: <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile</a>"}],"answers":[{"tags":[],"owner":{"account_id":740193,"reputation":37,"user_id":716535,"display_name":"Jitendra Nalwaya"},"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1303279462,"creation_date":1303279462,"answer_id":5726161,"question_id":2423622,"body_markdown":"If we declare a variable as static, there will be only one copy of the variable.\r\nSo, whenever different threads access that variable, there will be only one final value for the variable(since there is only one memory location allocated for the variable).\r\n\r\nIf a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.So, the value of the variable in all the threads will be the same.\r\n\r\nSo, in both cases, the main point is that the value of the variable is same across all threads.","title":"Volatile vs Static in Java","body":"<p>If we declare a variable as static, there will be only one copy of the variable.\nSo, whenever different threads access that variable, there will be only one final value for the variable(since there is only one memory location allocated for the variable).</p>\n\n<p>If a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.So, the value of the variable in all the threads will be the same.</p>\n\n<p>So, in both cases, the main point is that the value of the variable is same across all threads.</p>\n"},{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":2,"up_vote_count":399,"is_accepted":true,"score":397,"last_activity_date":1468051780,"creation_date":1319952548,"answer_id":7943472,"question_id":2423622,"body_markdown":"Declaring a **static** variable in Java, means that there will be only one copy, no matter how many objects of the class are created. The variable will be accessible even with no `Objects` created at all. However, threads may have locally cached values of it.\r\n\r\nWhen a variable is **volatile** and not **static**, there will be one variable for each `Object`. So, on the surface it seems there is no difference from a normal variable but totally different from **static**. However, even with `Object` fields, a thread may cache a variable value locally.\r\n\r\nThis means that if two threads update a variable of the same Object concurrently, and the variable is not declared volatile, there could be a case in which one of the thread has in cache an old value.\r\n\r\nEven if you access a **static** value through multiple threads, each thread can have its local cached copy! To avoid this you can declare the variable as **static volatile** and this will force the thread to read each time the global value.\r\n\r\nHowever, **volatile** is not a substitute for proper synchronisation!  \r\nFor instance:\r\n\r\n    private static volatile int counter = 0;\r\n\r\n    private void concurrentMethodWrong() {\r\n      counter = counter + 5;\r\n      //do something\r\n      counter = counter - 5;\r\n    }\r\n        \r\nExecuting `concurrentMethodWrong` concurrently many times may lead to a final value of counter different from zero!  \r\nTo solve the problem, you have to implement a lock:\r\n\r\n    private static final Object counterLock = new Object();\r\n\r\n    private static volatile int counter = 0;\r\n\r\n    private void concurrentMethodRight() {\r\n      synchronized (counterLock) {\r\n        counter = counter + 5;\r\n      }\r\n      //do something\r\n      synchronized (counterLock) {\r\n        counter = counter - 5;\r\n      }\r\n    }\r\n\r\nOr use the [`AtomicInteger`][1] class.\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"Volatile vs Static in Java","body":"<p>Declaring a <strong>static</strong> variable in Java, means that there will be only one copy, no matter how many objects of the class are created. The variable will be accessible even with no <code>Objects</code> created at all. However, threads may have locally cached values of it.</p>\n\n<p>When a variable is <strong>volatile</strong> and not <strong>static</strong>, there will be one variable for each <code>Object</code>. So, on the surface it seems there is no difference from a normal variable but totally different from <strong>static</strong>. However, even with <code>Object</code> fields, a thread may cache a variable value locally.</p>\n\n<p>This means that if two threads update a variable of the same Object concurrently, and the variable is not declared volatile, there could be a case in which one of the thread has in cache an old value.</p>\n\n<p>Even if you access a <strong>static</strong> value through multiple threads, each thread can have its local cached copy! To avoid this you can declare the variable as <strong>static volatile</strong> and this will force the thread to read each time the global value.</p>\n\n<p>However, <strong>volatile</strong> is not a substitute for proper synchronisation!<br>\nFor instance:</p>\n\n<pre><code>private static volatile int counter = 0;\n\nprivate void concurrentMethodWrong() {\n  counter = counter + 5;\n  //do something\n  counter = counter - 5;\n}\n</code></pre>\n\n<p>Executing <code>concurrentMethodWrong</code> concurrently many times may lead to a final value of counter different from zero!<br>\nTo solve the problem, you have to implement a lock:</p>\n\n<pre><code>private static final Object counterLock = new Object();\n\nprivate static volatile int counter = 0;\n\nprivate void concurrentMethodRight() {\n  synchronized (counterLock) {\n    counter = counter + 5;\n  }\n  //do something\n  synchronized (counterLock) {\n    counter = counter - 5;\n  }\n}\n</code></pre>\n\n<p>Or use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"noreferrer\"><code>AtomicInteger</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":1531770,"reputation":4658,"user_id":1428821,"accept_rate":69,"display_name":"Som"},"down_vote_count":4,"up_vote_count":301,"is_accepted":false,"score":297,"last_activity_date":1424868701,"creation_date":1346319486,"answer_id":12193970,"question_id":2423622,"body_markdown":"Difference Between Static and Volatile :\r\n\r\n**Static Variable**:  If two Threads(suppose `t1` and `t2`) are accessing the same object and updating a variable which is declared as static   then  it means `t1` and `t2` can make their own local copy  of the same object(including static variables) in their respective cache, so update made by `t1` to the static variable in its local cache wont reflect  in the static variable for `t2` cache .\r\n\r\nStatic variables are used in the **context of Object** where update made by one object would reflect in all the other objects of the same class **but not in  the context of Thread** where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).\r\n\r\n**Volatile variable**: If two Threads(suppose `t1` and `t2`) are accessing the same object and updating a variable which is declared as volatile   then  it means `t1` and `t2` can make their own local cache  of the Object **except the variable which is declared as a volatile** . So the volatile variable will have only one main copy which will be updated by different threads and update made by one thread to the volatile variable will immediately reflect to the other Thread.\r\n","title":"Volatile vs Static in Java","body":"<p>Difference Between Static and Volatile :</p>\n\n<p><strong>Static Variable</strong>:  If two Threads(suppose <code>t1</code> and <code>t2</code>) are accessing the same object and updating a variable which is declared as static   then  it means <code>t1</code> and <code>t2</code> can make their own local copy  of the same object(including static variables) in their respective cache, so update made by <code>t1</code> to the static variable in its local cache wont reflect  in the static variable for <code>t2</code> cache .</p>\n\n<p>Static variables are used in the <strong>context of Object</strong> where update made by one object would reflect in all the other objects of the same class <strong>but not in  the context of Thread</strong> where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).</p>\n\n<p><strong>Volatile variable</strong>: If two Threads(suppose <code>t1</code> and <code>t2</code>) are accessing the same object and updating a variable which is declared as volatile   then  it means <code>t1</code> and <code>t2</code> can make their own local cache  of the Object <strong>except the variable which is declared as a volatile</strong> . So the volatile variable will have only one main copy which will be updated by different threads and update made by one thread to the volatile variable will immediately reflect to the other Thread.</p>\n"},{"tags":[],"owner":{"account_id":2590909,"reputation":3911,"user_id":2245634,"accept_rate":61,"display_name":"ÁéãÂ•ïÁÑ∂"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1517355317,"creation_date":1377410775,"answer_id":18426257,"question_id":2423622,"body_markdown":"I think `static` and `volatile` have no relation at all. I suggest you read java tutorial to understand [Atomic Access][1], and why use atomic access, understand what is [interleaved][2], you will find answer.\n\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\n  [2]: http://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html","title":"Volatile vs Static in Java","body":"<p>I think <code>static</code> and <code>volatile</code> have no relation at all. I suggest you read java tutorial to understand <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">Atomic Access</a>, and why use atomic access, understand what is <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html\" rel=\"nofollow noreferrer\">interleaved</a>, you will find answer.</p>\n"},{"tags":[],"owner":{"account_id":1366348,"reputation":34421,"user_id":1592191,"accept_rate":100,"display_name":"mrsrinivas"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1631377375,"creation_date":1446120688,"answer_id":33413884,"question_id":2423622,"body_markdown":"In addition to other answers, I would like to add one image for it(pic makes easy to understand)\r\n\r\n[![enter image description here][1]][1] \r\n\r\n`static` variables may be cached for individual threads. In multi-threaded environment **if one thread modifies its cached data, that may not reflect for other threads as they have a copy** of it.\r\n\r\n`volatile` declaration makes sure that threads **won&#39;t cache the data and uses the shared copy** only. \r\n\r\n[image source][2] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zyhpA.png\r\n  [2]: https://malalanayake.wordpress.com/2013/09/12/volatile-vs-static-in-java/","title":"Volatile vs Static in Java","body":"<p>In addition to other answers, I would like to add one image for it(pic makes easy to understand)</p>\n<p><a href=\"https://i.stack.imgur.com/zyhpA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zyhpA.png\" alt=\"enter image description here\" /></a></p>\n<p><code>static</code> variables may be cached for individual threads. In multi-threaded environment <strong>if one thread modifies its cached data, that may not reflect for other threads as they have a copy</strong> of it.</p>\n<p><code>volatile</code> declaration makes sure that threads <strong>won't cache the data and uses the shared copy</strong> only.</p>\n<p><a href=\"https://malalanayake.wordpress.com/2013/09/12/volatile-vs-static-in-java/\" rel=\"noreferrer\">image source</a></p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1464505065,"creation_date":1462791466,"answer_id":37114038,"question_id":2423622,"body_markdown":"In simple terms,\r\n\r\n1. [static][1] : `static` variables are associated with the ***class***, rather than with any ***object***. Every instance of the class shares a class variable, which is in one fixed location in memory\r\n\r\n2. [volatile][2]: This keyword is applicable to both ***class*** and ***instance*** variables. \r\n\r\n&gt;  Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads\r\n\r\nHave a look at this [article][3] by `Javin Paul`  to understand volatile variables in a better way.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIn absence of `volatile` keyword, the value of variable in each thread&#39;s stack may be different. By making the variable as `volatile`, all threads will get same value in their working memory and memory consistency errors have been avoided.\r\n\r\nHere the term `variable` can be either `static` (class) variable or `instance` (object) variable.\r\n\r\nRegarding your query :\r\n&gt; Anyway a static variable value is also going to be one value for all threads, then why should we go for volatile?\r\n\r\nIf I need `instance` variable in my application, I can&#39;t use `static` variable. Even in case of `static` variable, consistency is not guaranteed due to Thread cache as shown in the diagram.\r\n\r\nUsing `volatile` variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. \r\n\r\n&gt; What&#39;s more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change =&gt; ***memory consistency errors are still possible with volatile variables***. To avoid side effects, you have to use synchronized variables. But there is a better solution in java.\r\n\r\n***Using simple atomic variable access is more efficient than accessing these variables through synchronized code***\r\n\r\nSome of the classes in the `java.util.concurrent` package provide atomic methods that do not rely on synchronization.\r\n\r\nRefer to this [high level concurrency control][5] article for more details. \r\n\r\nEspecially have a look at [Atomic variables][6].\r\n\r\nRelated SE questions:\r\n\r\nhttps://stackoverflow.com/questions/19744508/volatile-vs-atomic\r\n\r\nhttps://stackoverflow.com/questions/3786825/volatile-boolean-vs-atomicboolean\r\n\r\nhttps://stackoverflow.com/questions/3519664/difference-between-volatile-and-synchronized-in-java/34355995#34355995\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\r\n  [3]: http://javarevisited.blogspot.in/2011/06/volatile-keyword-java-example-tutorial.html\r\n  [4]: http://i.stack.imgur.com/hhd6L.png\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/concurrency/highlevel.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html","title":"Volatile vs Static in Java","body":"<p>In simple terms,</p>\n\n<ol>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a> : <code>static</code> variables are associated with the <strong><em>class</em></strong>, rather than with any <strong><em>object</em></strong>. Every instance of the class shares a class variable, which is in one fixed location in memory</p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">volatile</a>: This keyword is applicable to both <strong><em>class</em></strong> and <strong><em>instance</em></strong> variables. </p></li>\n</ol>\n\n<blockquote>\n  <p>Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads</p>\n</blockquote>\n\n<p>Have a look at this <a href=\"http://javarevisited.blogspot.in/2011/06/volatile-keyword-java-example-tutorial.html\" rel=\"nofollow noreferrer\">article</a> by <code>Javin Paul</code>  to understand volatile variables in a better way.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hhd6L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhd6L.png\" alt=\"enter image description here\"></a></p>\n\n<p>In absence of <code>volatile</code> keyword, the value of variable in each thread's stack may be different. By making the variable as <code>volatile</code>, all threads will get same value in their working memory and memory consistency errors have been avoided.</p>\n\n<p>Here the term <code>variable</code> can be either <code>static</code> (class) variable or <code>instance</code> (object) variable.</p>\n\n<p>Regarding your query :</p>\n\n<blockquote>\n  <p>Anyway a static variable value is also going to be one value for all threads, then why should we go for volatile?</p>\n</blockquote>\n\n<p>If I need <code>instance</code> variable in my application, I can't use <code>static</code> variable. Even in case of <code>static</code> variable, consistency is not guaranteed due to Thread cache as shown in the diagram.</p>\n\n<p>Using <code>volatile</code> variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. </p>\n\n<blockquote>\n  <p>What's more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change => <strong><em>memory consistency errors are still possible with volatile variables</em></strong>. To avoid side effects, you have to use synchronized variables. But there is a better solution in java.</p>\n</blockquote>\n\n<p><strong><em>Using simple atomic variable access is more efficient than accessing these variables through synchronized code</em></strong></p>\n\n<p>Some of the classes in the <code>java.util.concurrent</code> package provide atomic methods that do not rely on synchronization.</p>\n\n<p>Refer to this <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/highlevel.html\" rel=\"nofollow noreferrer\">high level concurrency control</a> article for more details. </p>\n\n<p>Especially have a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\" rel=\"nofollow noreferrer\">Atomic variables</a>.</p>\n\n<p>Related SE questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19744508/volatile-vs-atomic\">Volatile Vs Atomic</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3786825/volatile-boolean-vs-atomicboolean\">Volatile boolean vs AtomicBoolean</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3519664/difference-between-volatile-and-synchronized-in-java/34355995#34355995\">Difference between volatile and synchronized in Java</a></p>\n"},{"tags":[],"owner":{"account_id":3228622,"reputation":761,"user_id":2724374,"accept_rate":56,"display_name":"Aslam a"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490598932,"creation_date":1490598932,"answer_id":43040072,"question_id":2423622,"body_markdown":"volatile variable value access will be direct from main memory. It should be used only in multi-threading environment.\r\nstatic variable will be loaded one time. If its used in single thread environment, even if the copy of the variable will be updated and there will be no harm accessing it as there is only one thread.\r\n\r\nNow if static variable is used in multi-threading environment then there will be issues if one expects desired result from it. As each thread has their own copy then any increment or decrement on static variable from one thread may not reflect in another thread.\r\n\r\nif one expects desired results from static variable then use volatile with static in multi-threading then everything will be resolved.","title":"Volatile vs Static in Java","body":"<p>volatile variable value access will be direct from main memory. It should be used only in multi-threading environment.\nstatic variable will be loaded one time. If its used in single thread environment, even if the copy of the variable will be updated and there will be no harm accessing it as there is only one thread.</p>\n\n<p>Now if static variable is used in multi-threading environment then there will be issues if one expects desired result from it. As each thread has their own copy then any increment or decrement on static variable from one thread may not reflect in another thread.</p>\n\n<p>if one expects desired results from static variable then use volatile with static in multi-threading then everything will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":3303957,"reputation":43,"user_id":2779355,"display_name":"user2779355"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556737559,"creation_date":1556737559,"answer_id":55941327,"question_id":2423622,"body_markdown":"Not sure static variables are cached in thread local memory or NOT. But when I executed two threads(T1,T2) accessing same object(obj) and when update made by T1 thread to static variable it got reflected in T2.","title":"Volatile vs Static in Java","body":"<p>Not sure static variables are cached in thread local memory or NOT. But when I executed two threads(T1,T2) accessing same object(obj) and when update made by T1 thread to static variable it got reflected in T2.</p>\n"},{"tags":[],"owner":{"account_id":27527988,"reputation":61,"user_id":21006984,"display_name":"JohnR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673705191,"creation_date":1673705097,"answer_id":75118501,"question_id":2423622,"body_markdown":"It is incorrect to say that static means one copy of the value for all objects because static means there will be only **one copy for each classloader that loads the containing class**.\r\n\r\nThe Java volatile keyword means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.\r\n","title":"Volatile vs Static in Java","body":"<p>It is incorrect to say that static means one copy of the value for all objects because static means there will be only <strong>one copy for each classloader that loads the containing class</strong>.</p>\n<p>The Java volatile keyword means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.</p>\n"}],"owner":{"account_id":47673,"reputation":14840,"user_id":141311,"accept_rate":57,"display_name":"Jothi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175782,"favorite_count":0,"down_vote_count":3,"up_vote_count":290,"accepted_answer_id":7943472,"answer_count":9,"score":287,"last_activity_date":1673705191,"creation_date":1268298084,"question_id":2423622,"body_markdown":"Is it correct to say that `static` means one copy of the value for all objects and `volatile` means one copy of the value for all threads? \r\n\r\nAnyway a `static` variable value is also going to be one value for all threads, then why should we go for `volatile`?","title":"Volatile vs Static in Java","body":"<p>Is it correct to say that <code>static</code> means one copy of the value for all objects and <code>volatile</code> means one copy of the value for all threads? </p>\n\n<p>Anyway a <code>static</code> variable value is also going to be one value for all threads, then why should we go for <code>volatile</code>?</p>\n"},{"tags":["java","junit","parameterized-tests"],"comments":[{"owner":{"account_id":5108104,"reputation":1920,"user_id":4095631,"accept_rate":100,"display_name":"Jasper Lankhorst"},"score":0,"creation_date":1580250184,"post_id":59957881,"comment_id":106034607,"body_markdown":"I have no idea what you are trying to do, but the test is like a void function you first run the function with the annotation and inside the function you tell it to run other functions like &quot;simpleMessage (boolean isPost) &quot; function. \n\nBasically create @Test testPostFunction(){ Add starting condition. do something in simpleMessage(boolean) function and assert if the simpleMessage result worked or failed. \n\nthe name &quot;verifyIdOdpEqual&quot; does not tell me quit clearly what the function does.","body":"I have no idea what you are trying to do, but the test is like a void function you first run the function with the annotation and inside the function you tell it to run other functions like &quot;simpleMessage (boolean isPost) &quot; function.   Basically create @Test testPostFunction(){ Add starting condition. do something in simpleMessage(boolean) function and assert if the simpleMessage result worked or failed.   the name &quot;verifyIdOdpEqual&quot; does not tell me quit clearly what the function does."}],"answers":[{"tags":[],"owner":{"account_id":16681522,"reputation":211,"user_id":12056468,"display_name":"Mikhail"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1673704934,"creation_date":1580253250,"answer_id":59958483,"question_id":59957881,"body_markdown":"I don&#39;t quite understand what you trying to achieve as well but you have few problems with your code:\r\n\r\n1. By presence of `@ParameterizedTest` and `@ValueSource` I assume you using JUnit 5. At the same time looks like you marked your method with annotation from JUnit 4 (because only in that case you will get an exception with the text you quoted).\r\n2. `@Test` is redundant when the method is annotated with `@ParametrizedTest`.\r\n\r\nYou have 2 options how to fix all of the above:\r\n\r\n1. If you want to use junit5 then you need to remove `@Test` annotation and make sure that your tests are launched by a runner that supports JUnit 5 ([more info][1]).\r\n\r\n    Example:\r\n\r\n    ```\r\n    package test;\r\n\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.ValueSource;\r\n\r\n    public class TestTest {\r\n\r\n        @ParameterizedTest\r\n        @ValueSource(booleans =  {true, false})\r\n        public void test(boolean data) {\r\n            System.out.println(data);\r\n        }\r\n    }\r\n    ```\r\n\r\n2. If you want to use JUnit 4 then you need to remove `@ParameterizedTest` and `@ValueSource` annotations and rewrite your test to use parametrized runner ([more info][2]).\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n  [2]: https://github.com/junit-team/junit4/wiki/Parameterized-tests","title":"Use parameterized test returns Method should have no parameters","body":"<p>I don't quite understand what you trying to achieve as well but you have few problems with your code:</p>\n<ol>\n<li>By presence of <code>@ParameterizedTest</code> and <code>@ValueSource</code> I assume you using JUnit 5. At the same time looks like you marked your method with annotation from JUnit 4 (because only in that case you will get an exception with the text you quoted).</li>\n<li><code>@Test</code> is redundant when the method is annotated with <code>@ParametrizedTest</code>.</li>\n</ol>\n<p>You have 2 options how to fix all of the above:</p>\n<ol>\n<li><p>If you want to use junit5 then you need to remove <code>@Test</code> annotation and make sure that your tests are launched by a runner that supports JUnit 5 (<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">more info</a>).</p>\n<p>Example:</p>\n<pre><code>package test;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\n\npublic class TestTest {\n\n    @ParameterizedTest\n    @ValueSource(booleans =  {true, false})\n    public void test(boolean data) {\n        System.out.println(data);\n    }\n}\n</code></pre>\n</li>\n<li><p>If you want to use JUnit 4 then you need to remove <code>@ParameterizedTest</code> and <code>@ValueSource</code> annotations and rewrite your test to use parametrized runner (<a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\">more info</a>).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2967696,"reputation":455,"user_id":2520509,"display_name":"Nguyen Minh Hien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660168306,"creation_date":1660168306,"answer_id":73313116,"question_id":59957881,"body_markdown":"Simply remove the line **@Test** out of your code","title":"Use parameterized test returns Method should have no parameters","body":"<p>Simply remove the line <strong>@Test</strong> out of your code</p>\n"}],"owner":{"account_id":17639838,"reputation":139,"user_id":12802324,"display_name":"Charles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15474,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673704934,"creation_date":1580249708,"question_id":59957881,"body_markdown":"I have a problem, I would like to pass the test method to send a request using the GET method and POST. I used parameterization, but I get information java.lang.Exception: Method simpleMessage should have no parameters\r\n\r\n      @Test\r\n        @ParameterizedTest\r\n        @ValueSource(strings = {&quot;true&quot;, &quot;false&quot;})\r\n        public void simpleMessage (boolean isPost) {\r\n            verifyIdOdpEqual(isPost,1243, &quot;message&quot;);\r\n        }","title":"Use parameterized test returns Method should have no parameters","body":"<p>I have a problem, I would like to pass the test method to send a request using the GET method and POST. I used parameterization, but I get information java.lang.Exception: Method simpleMessage should have no parameters</p>\n\n<pre><code>  @Test\n    @ParameterizedTest\n    @ValueSource(strings = {\"true\", \"false\"})\n    public void simpleMessage (boolean isPost) {\n        verifyIdOdpEqual(isPost,1243, \"message\");\n    }\n</code></pre>\n"},{"tags":["java","arrays","sorting","arraylist","project"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673665847,"post_id":75115489,"comment_id":132555359,"body_markdown":"Wouldn‚Äôt it be empty?","body":"Wouldn‚Äôt it be empty?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673667620,"post_id":75115489,"comment_id":132555500,"body_markdown":"An ARRAY would have a fixed size. An ArrayList, however, grows dynamically to hold however many things you add to it.","body":"An ARRAY would have a fixed size. An ArrayList, however, grows dynamically to hold however many things you add to it."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673699732,"post_id":75115489,"comment_id":132558952,"body_markdown":"What good world printing the size do? You need to enter the limit then check against that limit while entering values.","body":"What good world printing the size do? You need to enter the limit then check against that limit while entering values."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673701312,"post_id":75115489,"comment_id":132559190,"body_markdown":"&quot;on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.&quot; So get your size from the user then use a `for` or `while` loop to get that many inputs.","body":"&quot;on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.&quot; So get your size from the user then use a <code>for</code> or <code>while</code> loop to get that many inputs."}],"answers":[{"tags":[],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673666021,"creation_date":1673666021,"answer_id":75115518,"question_id":75115489,"body_markdown":"you can call `.size()` on any list at any time, but prior to adding any values it will return 0","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>you can call <code>.size()</code> on any list at any time, but prior to adding any values it will return 0</p>\n"},{"tags":[],"owner":{"account_id":27524699,"reputation":1,"user_id":21004208,"display_name":"ErikP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673666025,"creation_date":1673666025,"answer_id":75115519,"question_id":75115489,"body_markdown":"In Java ArrayList is dynamic so if you haven&#39;t added any values into it the size is 0.","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>In Java ArrayList is dynamic so if you haven't added any values into it the size is 0.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673704389,"creation_date":1673704389,"answer_id":75118437,"question_id":75115489,"body_markdown":"&gt; on our task, we have to type in a size first before inputting any\r\n&gt; values, like of i type 5, the list only accept 5 values.\r\n\r\nSo get your size from the user, then use a for or while loop to get that many inputs.\r\n\r\nSomething like:\r\n\r\n    System.out.print(&quot;Enter the number of elements needed: &quot;);\r\n    int size = in.nextInt();\r\n    for(int i=1; i &lt;= size; i++) {\r\n        System.out.print(&quot;Enter value &quot; + i + &quot;: &quot;);\r\n        value.add(in.nextInt());\r\n    }","title":"How do I print the size of my ArrayList before entering any values?","body":"<blockquote>\n<p>on our task, we have to type in a size first before inputting any\nvalues, like of i type 5, the list only accept 5 values.</p>\n</blockquote>\n<p>So get your size from the user, then use a for or while loop to get that many inputs.</p>\n<p>Something like:</p>\n<pre><code>System.out.print(&quot;Enter the number of elements needed: &quot;);\nint size = in.nextInt();\nfor(int i=1; i &lt;= size; i++) {\n    System.out.print(&quot;Enter value &quot; + i + &quot;: &quot;);\n    value.add(in.nextInt());\n}\n</code></pre>\n"}],"owner":{"display_name":"user21004193"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673704389,"creation_date":1673665642,"question_id":75115489,"body_markdown":"\r\nSystem.out.println(&quot;Enter the number of elements needed: &quot; );\r\n        \r\n        System.out.printf(&quot;Enter value 1: &quot;);\r\n        value.add(in.nextInt());\r\n\r\nHow do I print the size of my ArrayList before entering any values?","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>System.out.println(&quot;Enter the number of elements needed: &quot; );</p>\n<pre><code>    System.out.printf(&quot;Enter value 1: &quot;);\n    value.add(in.nextInt());\n</code></pre>\n<p>How do I print the size of my ArrayList before entering any values?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673634607,"creation_date":1673634607,"answer_id":75113176,"question_id":75113051,"body_markdown":"\r\nOne way to get it as `HashMap` and extract value from it, like this.\r\n\r\n    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) singleSnapshot.getValue();\r\n    String username = (String) map.get(&quot;username&quot;); // You should pass exact key names here.\r\n    String password = (String) map.get(&quot;password&quot;);\r\n\r\n","title":"Get value from list of objects Firebase Android Studio","body":"<p>One way to get it as <code>HashMap</code> and extract value from it, like this.</p>\n<pre><code>Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) singleSnapshot.getValue();\nString username = (String) map.get(&quot;username&quot;); // You should pass exact key names here.\nString password = (String) map.get(&quot;password&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673689858,"creation_date":1673689858,"answer_id":75117064,"question_id":75113051,"body_markdown":"The [DataSnapshot#getValue()][1] returns an object of type [Object][2]. It&#39;s true you can cast it to a Map&lt;String, Object&gt;, as GowthamKK mentioned in his answer but there is by far a simpler solution that would get the value according to the corresponding type. So in code, it would be as simple as:\r\n\r\n    String password = singleSnapshot.child(&quot;password&quot;).getValue(String.class);\r\n\r\nAs you can see I have used now, [`&lt;T&gt; getValue(@NonNull Class&lt;T&gt; valueType`)][3] which:\r\n\r\n&gt; This method is used to marshall the data contained in this snapshot into a class of your choosing.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\r\n  [2]: https://developer.android.com/reference/kotlin/java/lang/Object.html\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)","title":"Get value from list of objects Firebase Android Studio","body":"<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\" rel=\"nofollow noreferrer\">DataSnapshot#getValue()</a> returns an object of type <a href=\"https://developer.android.com/reference/kotlin/java/lang/Object.html\" rel=\"nofollow noreferrer\">Object</a>. It's true you can cast it to a Map&lt;String, Object&gt;, as GowthamKK mentioned in his answer but there is by far a simpler solution that would get the value according to the corresponding type. So in code, it would be as simple as:</p>\n<pre><code>String password = singleSnapshot.child(&quot;password&quot;).getValue(String.class);\n</code></pre>\n<p>As you can see I have used now, <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; getValue(@NonNull Class&lt;T&gt; valueType</code>)</a> which:</p>\n<blockquote>\n<p>This method is used to marshall the data contained in this snapshot into a class of your choosing.</p>\n</blockquote>\n"}],"owner":{"account_id":24084994,"reputation":247,"user_id":18059131,"display_name":"prodohsamuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75113176,"answer_count":2,"score":0,"last_activity_date":1673703513,"creation_date":1673633773,"question_id":75113051,"body_markdown":"I have the following code:\r\n\r\n```\r\n    public void signOn(String id, String password){\r\n        usersReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                boolean valid = false;\r\n                for(DataSnapshot singleSnapshot : dataSnapshot.getChildren()){\r\n                    String key = singleSnapshot.getKey();\r\n                    if (key.equals(id)) {\r\n                        singleSnapshot.getValue()//THIS LINE THIS LINE\r\n                        Intent myIntent = new Intent(WelcomePage.this, MainActivity.class);\r\n                        myIntent.putExtra(&quot;key&quot;, key);\r\n                        WelcomePage.this.startActivity(myIntent);\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nWhen I call ```singleSnapshot.getValue()```, I get ```{password=passwordExample, username=usernameExample}``` as those are the keys and their values in my Realtime Database. How can I access the password value and the username value?","title":"Get value from list of objects Firebase Android Studio","body":"<p>I have the following code:</p>\n<pre><code>    public void signOn(String id, String password){\n        usersReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                boolean valid = false;\n                for(DataSnapshot singleSnapshot : dataSnapshot.getChildren()){\n                    String key = singleSnapshot.getKey();\n                    if (key.equals(id)) {\n                        singleSnapshot.getValue()//THIS LINE THIS LINE\n                        Intent myIntent = new Intent(WelcomePage.this, MainActivity.class);\n                        myIntent.putExtra(&quot;key&quot;, key);\n                        WelcomePage.this.startActivity(myIntent);\n                    }\n                }\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n            }\n        });\n\n    }\n</code></pre>\n<p>When I call <code>singleSnapshot.getValue()</code>, I get <code>{password=passwordExample, username=usernameExample}</code> as those are the keys and their values in my Realtime Database. How can I access the password value and the username value?</p>\n"},{"tags":["java","math","javafx","collision-detection"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1673602218,"post_id":75106806,"comment_id":132540657,"body_markdown":"You should provide us with a bit more code here please: I would suggest that you create an [mre] where you don&#39;t actually draw on screen, but just do the calculations. Don&#39;t forget to add input and expected output. And please remove all commented out code (!) - you can of course leave the actual comments.","body":"You should provide us with a bit more code here please: I would suggest that you create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> where you don&#39;t actually draw on screen, but just do the calculations. Don&#39;t forget to add input and expected output. And please remove all commented out code (!) - you can of course leave the actual comments."},{"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"score":0,"creation_date":1673604710,"post_id":75106806,"comment_id":132541449,"body_markdown":"@cyberbrain I&#39;ve updated the code with everything you need to execute the code and return some results.","body":"@cyberbrain I&#39;ve updated the code with everything you need to execute the code and return some results."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673617380,"post_id":75106806,"comment_id":132545404,"body_markdown":"that&#39;s not a [mcve] .. please read the referenced help page and act accordingly","body":"that&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> .. please read the referenced help page and act accordingly"},{"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"score":0,"creation_date":1673618293,"post_id":75106806,"comment_id":132545711,"body_markdown":"I added a single class file here: https://pastebin.com/wMjUh9pZ with everything needed to run the code and the examples","body":"I added a single class file here: <a href=\"https://pastebin.com/wMjUh9pZ\" rel=\"nofollow noreferrer\">pastebin.com/wMjUh9pZ</a> with everything needed to run the code and the examples"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1673643665,"post_id":75106806,"comment_id":132553415,"body_markdown":"So what do you want for a solution? Do you want somebody to go through and debug your code? Do you want a proper method for detecting a collision between a circle and a ray? What do you mean by &quot;return a solution&quot;. Your method is a void method.","body":"So what do you want for a solution? Do you want somebody to go through and debug your code? Do you want a proper method for detecting a collision between a circle and a ray? What do you mean by &quot;return a solution&quot;. Your method is a void method."}],"answers":[{"tags":[],"owner":{"account_id":4671622,"reputation":1328,"user_id":3783275,"accept_rate":75,"display_name":"Westranger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673607522,"creation_date":1673606046,"answer_id":75108009,"question_id":75106806,"body_markdown":"If you only want to know if the line intersects if a given circle, create a second line which originates at the center of the given circle and the direction is the direction of your initial line rotated by 90 degrees. Then compute the intersection of the two lines. If then the distance between the intersection point and the center of the circle is smaller then the radius, both intersect.\r\n\r\nA while ago I wrote a small Geometry lib, I striped out the sections which are relevant for you, here is my code:\r\n\r\nLine class\r\n\r\n\r\n    public class Line {\r\n        final Vector2D positionVector;\r\n        final Vector2D directionVector;\r\n    \r\n        public Line(final Vector2D positionVector, final Vector2D directionVector) {\r\n            this.positionVector = positionVector;\r\n            this.directionVector = directionVector;\r\n        }\r\n    \r\n        public OptionalDouble computeIntersection(final Line line) {\r\n            final double numerator = line.getPositionVector().subtract(this.positionVector).cross(this.directionVector);\r\n            final double denominator = this.directionVector.cross(line.directionVector);\r\n    \r\n            if (Math.abs(numerator) &lt; 1e-10 &amp;&amp; Math.abs(denominator) &lt; 1e-10) {\r\n                // collinear\r\n                return OptionalDouble.of(Double.POSITIVE_INFINITY);\r\n            } else if (Math.abs(denominator) &lt; 1e-10) {\r\n                // parallel\r\n                return OptionalDouble.empty(); // Lines are parallel.\r\n            }\r\n    \r\n            final double t = line.getPositionVector().subtract(this.positionVector).cross(line.directionVector) / denominator;\r\n            return OptionalDouble.of(t);\r\n        }\r\n    \r\n        public Vector2D getPositionVector() {\r\n            return positionVector;\r\n        }\r\n    \r\n        public Vector2D getDirectionVector() {\r\n            return directionVector;\r\n        }\r\n    \r\n        public Point2D getClosestPointOnLine(final Point2D point) {\r\n            final Line line = new Line(new Vector2D(point.getX(), point.getY()), this.directionVector.turn90DegreeClockwise());\r\n            final OptionalDouble intersection = this.computeIntersection(line);\r\n            final Vector2D result = this.positionVector.add(this.directionVector.lerp(intersection.getAsDouble()));\r\n            return new Point2D(result.getX(), result.getY());\r\n        }\r\n    }\r\n\r\n\r\n\r\nintersection function\r\n\r\n    public static PointResult intersection(final Line l1, final Circle c1) {\r\n        final Point2D intersection = l1.getClosestPointOnLine(c1.getCenter());\r\n        final double dist = intersection.distance(c1.getCenter());\r\n        if (Math.abs(dist - c1.getRadius()) &lt; 1e-10) {\r\n            final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\r\n            result.add(intersection);\r\n            return new PointResult(Collections.unmodifiableList(result));\r\n        } else if (dist &lt; c1.getRadius()) {\r\n            // we have two points\r\n            final double adjacentLeg = Math.sqrt(c1.getRadius() * c1.getRadius() - dist * dist);\r\n            final Point2D pt1 = intersection.pointAt(l1.getDirectionVector().angle(), adjacentLeg);\r\n            final Point2D pt2 = intersection.pointAt(l1.getDirectionVector().angle() + Math.PI, adjacentLeg);\r\n    \r\n            final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\r\n            result.add(pt1);\r\n            result.add(pt2);\r\n            return new PointResult(Collections.unmodifiableList(result));\r\n        }\r\n        return new PointResult();\r\n    }\r\n\r\nTestCase\r\n\r\n    @Test\r\n    void testIntersectionLineCircleTwoPoints() {\r\n        final Point2D ptCircleCenter = new Point2D(2.0, 5.0);\r\n        final Point2D ptLineCircleIntersection = new Point2D(5.0, 2.0);\r\n\r\n        final Point2D pt1 = new Point2D(3.0, 0.0);\r\n        final Point2D pt2 = new Point2D(7.0, 4.0);\r\n\r\n        final double a = Math.sqrt((2.0 * 2.0) + (2.0 * 2.0));\r\n        final double b = ptCircleCenter.diff(ptLineCircleIntersection).norm();\r\n        final double radius = Math.sqrt((a * a) + (b * b));\r\n\r\n        final Line l1 = new Line(pt1, pt2);\r\n        final Circle circle = new Circle(ptCircleCenter, radius);\r\n\r\n        PointResult intersection = GeometryOperation.intersection(l1, circle);\r\n\r\n        assertTrue(intersection.getPoints().isPresent());\r\n        assertEquals(2, intersection.getPoints().get().size());\r\n\r\n        assertEquals(7.0, intersection.getPoints().get().get(0).getX(), 1e-10);\r\n        assertEquals(4.0, intersection.getPoints().get().get(0).getY(), 1e-10);\r\n\r\n        assertEquals(3.0, intersection.getPoints().get().get(1).getX(), 1e-10);\r\n        assertEquals(0.0, intersection.getPoints().get().get(1).getY(), 1e-10);\r\n    }\r\n\r\nI did not add the `Circle`, `Vector2D` and `Point2D` class because they are trivial. And the class `PointResult` is just a list.\r\n\r\n","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>If you only want to know if the line intersects if a given circle, create a second line which originates at the center of the given circle and the direction is the direction of your initial line rotated by 90 degrees. Then compute the intersection of the two lines. If then the distance between the intersection point and the center of the circle is smaller then the radius, both intersect.</p>\n<p>A while ago I wrote a small Geometry lib, I striped out the sections which are relevant for you, here is my code:</p>\n<p>Line class</p>\n<pre><code>public class Line {\n    final Vector2D positionVector;\n    final Vector2D directionVector;\n\n    public Line(final Vector2D positionVector, final Vector2D directionVector) {\n        this.positionVector = positionVector;\n        this.directionVector = directionVector;\n    }\n\n    public OptionalDouble computeIntersection(final Line line) {\n        final double numerator = line.getPositionVector().subtract(this.positionVector).cross(this.directionVector);\n        final double denominator = this.directionVector.cross(line.directionVector);\n\n        if (Math.abs(numerator) &lt; 1e-10 &amp;&amp; Math.abs(denominator) &lt; 1e-10) {\n            // collinear\n            return OptionalDouble.of(Double.POSITIVE_INFINITY);\n        } else if (Math.abs(denominator) &lt; 1e-10) {\n            // parallel\n            return OptionalDouble.empty(); // Lines are parallel.\n        }\n\n        final double t = line.getPositionVector().subtract(this.positionVector).cross(line.directionVector) / denominator;\n        return OptionalDouble.of(t);\n    }\n\n    public Vector2D getPositionVector() {\n        return positionVector;\n    }\n\n    public Vector2D getDirectionVector() {\n        return directionVector;\n    }\n\n    public Point2D getClosestPointOnLine(final Point2D point) {\n        final Line line = new Line(new Vector2D(point.getX(), point.getY()), this.directionVector.turn90DegreeClockwise());\n        final OptionalDouble intersection = this.computeIntersection(line);\n        final Vector2D result = this.positionVector.add(this.directionVector.lerp(intersection.getAsDouble()));\n        return new Point2D(result.getX(), result.getY());\n    }\n}\n</code></pre>\n<p>intersection function</p>\n<pre><code>public static PointResult intersection(final Line l1, final Circle c1) {\n    final Point2D intersection = l1.getClosestPointOnLine(c1.getCenter());\n    final double dist = intersection.distance(c1.getCenter());\n    if (Math.abs(dist - c1.getRadius()) &lt; 1e-10) {\n        final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\n        result.add(intersection);\n        return new PointResult(Collections.unmodifiableList(result));\n    } else if (dist &lt; c1.getRadius()) {\n        // we have two points\n        final double adjacentLeg = Math.sqrt(c1.getRadius() * c1.getRadius() - dist * dist);\n        final Point2D pt1 = intersection.pointAt(l1.getDirectionVector().angle(), adjacentLeg);\n        final Point2D pt2 = intersection.pointAt(l1.getDirectionVector().angle() + Math.PI, adjacentLeg);\n\n        final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\n        result.add(pt1);\n        result.add(pt2);\n        return new PointResult(Collections.unmodifiableList(result));\n    }\n    return new PointResult();\n}\n</code></pre>\n<p>TestCase</p>\n<pre><code>@Test\nvoid testIntersectionLineCircleTwoPoints() {\n    final Point2D ptCircleCenter = new Point2D(2.0, 5.0);\n    final Point2D ptLineCircleIntersection = new Point2D(5.0, 2.0);\n\n    final Point2D pt1 = new Point2D(3.0, 0.0);\n    final Point2D pt2 = new Point2D(7.0, 4.0);\n\n    final double a = Math.sqrt((2.0 * 2.0) + (2.0 * 2.0));\n    final double b = ptCircleCenter.diff(ptLineCircleIntersection).norm();\n    final double radius = Math.sqrt((a * a) + (b * b));\n\n    final Line l1 = new Line(pt1, pt2);\n    final Circle circle = new Circle(ptCircleCenter, radius);\n\n    PointResult intersection = GeometryOperation.intersection(l1, circle);\n\n    assertTrue(intersection.getPoints().isPresent());\n    assertEquals(2, intersection.getPoints().get().size());\n\n    assertEquals(7.0, intersection.getPoints().get().get(0).getX(), 1e-10);\n    assertEquals(4.0, intersection.getPoints().get().get(0).getY(), 1e-10);\n\n    assertEquals(3.0, intersection.getPoints().get().get(1).getX(), 1e-10);\n    assertEquals(0.0, intersection.getPoints().get().get(1).getY(), 1e-10);\n}\n</code></pre>\n<p>I did not add the <code>Circle</code>, <code>Vector2D</code> and <code>Point2D</code> class because they are trivial. And the class <code>PointResult</code> is just a list.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673703126,"creation_date":1673609004,"answer_id":75108545,"question_id":75106806,"body_markdown":"I think you should create a class that represents an intersection by a ray. \r\n\r\n    class Intersection{\r\n        double distance;\r\n        Point loc;\r\n        double normal;\r\n    }\r\n\r\nThat way, distance is along the ray and normal is the normal of the object intersected.\r\n\r\nThen I would have a method for finding the intersetion of a circle and a point.\r\n\r\n    List&lt;Intersection&gt; lineAndCircle( Point org, double angle, Point center, double radius){...}\r\n\r\nYou seem to have a similar method but you&#39;re doing more work in it.\r\n\r\nThen you also want to check the edge of the screen.\r\n\r\n    Intersection lineAndBoundary( Point org, double angle){ ... }\r\n\r\nYou have a very similar method, but you seem to be doing a lot more work in the method. . This way you are testing separate methods. Then your algorithm works as.\r\n\r\n 1 go through circles and find intersections.  \r\n 2 get the intersection with the boundary.  \r\n 3 find the closest intersection ( the smallest distance greater than 0 )  \r\n\r\nDoing it this way makes it a bit more extensible. First our ray is re-used a lot. Lets make a class.\r\n\r\n    class Ray{\r\n        Point origin;\r\n        double angle;\r\n    }\r\n\r\nThen we collide a ray with multiple objects.\r\n\r\n    interface Interceptable{\r\n        List&lt;Intersection&gt; intercepts(Ray r);\r\n    }\r\n\r\nThen we can use different classes.\r\n\r\n    class Circle implements Interceptable{\r\n        Point pos;\r\n        double radius;\r\n        @Override\r\n        List&lt;Intersection&gt; collides(Ray r){\r\n            ...\r\n        }\r\n    }\r\n\r\nNow you can right collides and testable.\r\n\r\n    Circle a = new Circle( new Point( 40, 40 ), 5 );\r\n\r\n    List&lt;Intersection&gt; yes = a.collides( new Ray( new Point(0, 0), 3.14/4 ) );\r\n    List&lt;Intersection&gt; no = a.collides( new Ray( new Point(0, 0), 0) ) );\r\n\r\nThen you can narrow your example down to. &quot;How do I write a collide method?&quot; or &quot;Why doesn&#39;t my collide method work for this ray/circle pair? I expect it to hit at two points, but it misses.&quot; etc. \r\n\r\nHere is a complete runnable example that creates a swing window. I kinda enjoy making toy programs like this.\r\n\r\nNote that I used an interface for the Intersectable. So now it is circles, but it could be anything that returns a list of `Intersection`\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.Graphics;\r\nimport java.awt.Dimension;\r\nimport java.awt.Color;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\n\r\npublic class RayAndCircle{\r\n        \r\n    public static void main(String[] args){\r\n        List&lt;Intersectable&gt; circles = new ArrayList&lt;&gt;();\r\n        for(int i = 0; i&lt;250; i++){\r\n            double r = Math.random()*50 + 50;\r\n            double x = 2048*Math.random();\r\n            double y = 2048*Math.random();\r\n            circles.add( new Circle( r, new double[]{x,y}));\r\n        }\r\n        List&lt;LineSegment&gt; segments = new ArrayList&lt;&gt;();\r\n        \r\n        JFrame frame = new JFrame(&quot;Ray caster&quot;);\r\n        JPanel panel = new JPanel(){\r\n            @Override\r\n            public Dimension getPreferredSize(){\r\n                return new Dimension(2048, 2048);\r\n            }\r\n            @Override\r\n            public void paintComponent( Graphics g){\r\n                g.setColor(Color.RED);\r\n                for( Intersectable c: circles ){\r\n                    c.draw(g);\r\n                }\r\n                g.setColor(Color.BLACK);\r\n                for( LineSegment segment: segments){\r\n                    g.drawLine( (int) segment.a[0], (int) segment.a[1],(int)segment.b[0], (int)segment.b[1]);\r\n                }\r\n            }\r\n        };\r\n        \r\n        panel.addMouseListener( new MouseAdapter(){\r\n            @Override\r\n            public void mouseClicked( MouseEvent evt ){\r\n                double x = evt.getPoint().getX();\r\n                double y = evt.getPoint().getY();\r\n                double theta = Math.random() * Math.PI * 2;\r\n                double dx = Math.cos( theta );\r\n                double dy = Math.sin( theta );\r\n                Ray ray = new Ray( new double[] {x, y}, new double[]{ dx, dy } );\r\n                int count = 500;\r\n                Intersectable last = null;\r\n                while( ray != null &amp;&amp; count &gt; 0 ){\r\n                    Intersection hit = null;\r\n                    Intersectable next = null;\r\n                    for(Intersectable c: circles){\r\n                        if(c == last){\r\n                            continue;\r\n                        }\r\n                        List&lt;Intersection&gt; intersections = c.intersects(ray);\r\n                        for(Intersection i : intersections){\r\n                            if( hit == null ){\r\n                                hit = i;\r\n                                next = c;\r\n                            } else{\r\n                                if( hit.s &gt; i.s ){\r\n                                    hit = i;\r\n                                    next = c;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if(hit != null){\r\n                        last = next;\r\n                        segments.add( new LineSegment( ray.origin, new double[]{ hit.pos[0], hit.pos[1] } ) );\r\n                        count--;\r\n                        //reflected portion of ray.\r\n                        double dot = hit.normal[0]*ray.direction[0] + hit.normal[1]*ray.direction[1];\r\n                        double rx = ray.direction[0] - 2 * hit.normal[0]*dot;\r\n                        double ry = ray.direction[1] - 2 * hit.normal[1]*dot;\r\n                        \r\n                        double z = Math.sqrt(rx*rx + ry*ry);\r\n                        ray = new Ray(hit.pos, new double[] { rx/z, ry/z});\r\n                    } else{\r\n                        ray = null;\r\n                    }\r\n                }\r\n                panel.repaint();    \r\n            }\r\n        });\r\n        frame.setContentPane(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n\r\nclass Ray{\r\n    double[] origin; double[] direction;\r\n    public Ray( double[] origin, double[] direction){\r\n        this.origin = new double[]{origin[0], origin[1]};\r\n        this.direction = new double[]{direction[0], direction[1]};\r\n    }\r\n}\r\n\r\nclass Intersection{\r\n    double s;\r\n    double[] pos;\r\n    double[] normal;\r\n    Circle b;\r\n    public Intersection(double s, double[] pos, double[] normal){\r\n        this.s = s;\r\n        this.pos = pos;\r\n        setNormal(normal);\r\n    }\r\n    public void setNormal(double[] normal){\r\n        double m = Math.sqrt(normal[0]*normal[0] + normal[1]*normal[1]);\r\n        if( Double.isNaN(m) || m == 0) throw new RuntimeException(&quot;Invalid normal! Magnitude of&quot; + m);\r\n        this.normal = new double[] { normal[0]/m , normal[1]/m };\r\n    }\r\n}\r\n\r\ninterface Intersectable{\r\n    List&lt;Intersection&gt; intersects(Ray ray);\r\n    void draw(Graphics g);\r\n}\r\n\r\nclass Circle implements Intersectable{\r\n    double[] origin;\r\n    double radius;\r\n    public Circle( double radius, double[] origin){\r\n        this.radius = radius;\r\n        this.origin = new double[]{origin[0], origin[1]};\r\n    }\r\n    Intersection intersectionAt(Ray ray, double s){\r\n        //intersection.\r\n        double locx = ray.origin[0] + s*ray.direction[0];\r\n        double locy = ray.origin[1] + s*ray.direction[1];\r\n        double nx = (locx - origin[0])/radius;\r\n        double ny = (locy - origin[1])/radius;\r\n        return new Intersection( s, new double[]{ locx, locy }, new double[]{nx, ny} );\r\n    }\r\n    public List&lt;Intersection&gt; intersects(Ray ray){\r\n        double rx = origin[0] - ray.origin[0];\r\n        double ry = origin[1] - ray.origin[1];\r\n        double m2 = rx*rx + ry*ry;\r\n        double m = Math.sqrt(m2);\r\n        //position along ray that is closest to circles origin.\r\n        double s = rx*ray.direction[0] + ry*ray.direction[1]; \r\n        //closest distance to circle.\r\n        double approach = Math.sqrt(m2 - s*s);\r\n        List&lt;Intersection&gt; result = new ArrayList&lt;&gt;();\r\n        \r\n        if( approach &lt; radius ){\r\n            //two intersections at points on circle.  \r\n            //radius is hypotenuse and approach is one of the lengths.\r\n            double l = Math.sqrt( radius*radius - approach*approach);\r\n            double s1 = s - l;\r\n            if(s1 &gt; 0){\r\n                result.add( intersectionAt(ray, s1) );\r\n            }\r\n            double s2 = s + l;\r\n            if(s2 &gt; 0){\r\n                //intersection!\r\n                result.add(intersectionAt(ray, s2) );\r\n            }\r\n        } else if(approach == radius){\r\n            //one intersection tangent.\r\n            if( s &gt; 0 ){\r\n                result.add( intersectionAt(ray, s) );\r\n            }\r\n        } else{\r\n            //miss.\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void draw(Graphics g){\r\n        g.fillOval(\r\n            (int)(origin[0] - radius), \r\n            (int)(origin[1] - radius), \r\n            (int)radius*2, \r\n            (int)radius*2\r\n        );\r\n    }\r\n}\r\nclass LineSegment{\r\n    double[] a, b;\r\n    public LineSegment( double[] a, double[] b){\r\n        this.a = new double[]{a[0], a[1]};\r\n        this.b = new double[]{b[0], b[1]};\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;ll probably be most interested in the intersects method of the Circle class, and the small chunk of code burried in the `mouseClicked` method that calculates the reflected ray.","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>I think you should create a class that represents an intersection by a ray.</p>\n<pre><code>class Intersection{\n    double distance;\n    Point loc;\n    double normal;\n}\n</code></pre>\n<p>That way, distance is along the ray and normal is the normal of the object intersected.</p>\n<p>Then I would have a method for finding the intersetion of a circle and a point.</p>\n<pre><code>List&lt;Intersection&gt; lineAndCircle( Point org, double angle, Point center, double radius){...}\n</code></pre>\n<p>You seem to have a similar method but you're doing more work in it.</p>\n<p>Then you also want to check the edge of the screen.</p>\n<pre><code>Intersection lineAndBoundary( Point org, double angle){ ... }\n</code></pre>\n<p>You have a very similar method, but you seem to be doing a lot more work in the method. . This way you are testing separate methods. Then your algorithm works as.</p>\n<p>1 go through circles and find intersections.<br />\n2 get the intersection with the boundary.<br />\n3 find the closest intersection ( the smallest distance greater than 0 )</p>\n<p>Doing it this way makes it a bit more extensible. First our ray is re-used a lot. Lets make a class.</p>\n<pre><code>class Ray{\n    Point origin;\n    double angle;\n}\n</code></pre>\n<p>Then we collide a ray with multiple objects.</p>\n<pre><code>interface Interceptable{\n    List&lt;Intersection&gt; intercepts(Ray r);\n}\n</code></pre>\n<p>Then we can use different classes.</p>\n<pre><code>class Circle implements Interceptable{\n    Point pos;\n    double radius;\n    @Override\n    List&lt;Intersection&gt; collides(Ray r){\n        ...\n    }\n}\n</code></pre>\n<p>Now you can right collides and testable.</p>\n<pre><code>Circle a = new Circle( new Point( 40, 40 ), 5 );\n\nList&lt;Intersection&gt; yes = a.collides( new Ray( new Point(0, 0), 3.14/4 ) );\nList&lt;Intersection&gt; no = a.collides( new Ray( new Point(0, 0), 0) ) );\n</code></pre>\n<p>Then you can narrow your example down to. &quot;How do I write a collide method?&quot; or &quot;Why doesn't my collide method work for this ray/circle pair? I expect it to hit at two points, but it misses.&quot; etc.</p>\n<p>Here is a complete runnable example that creates a swing window. I kinda enjoy making toy programs like this.</p>\n<p>Note that I used an interface for the Intersectable. So now it is circles, but it could be anything that returns a list of <code>Intersection</code></p>\n<pre><code>import javax.swing.*;\nimport java.awt.Graphics;\nimport java.awt.Dimension;\nimport java.awt.Color;\nimport java.awt.event.*;\nimport java.util.*;\n\npublic class RayAndCircle{\n        \n    public static void main(String[] args){\n        List&lt;Intersectable&gt; circles = new ArrayList&lt;&gt;();\n        for(int i = 0; i&lt;250; i++){\n            double r = Math.random()*50 + 50;\n            double x = 2048*Math.random();\n            double y = 2048*Math.random();\n            circles.add( new Circle( r, new double[]{x,y}));\n        }\n        List&lt;LineSegment&gt; segments = new ArrayList&lt;&gt;();\n        \n        JFrame frame = new JFrame(&quot;Ray caster&quot;);\n        JPanel panel = new JPanel(){\n            @Override\n            public Dimension getPreferredSize(){\n                return new Dimension(2048, 2048);\n            }\n            @Override\n            public void paintComponent( Graphics g){\n                g.setColor(Color.RED);\n                for( Intersectable c: circles ){\n                    c.draw(g);\n                }\n                g.setColor(Color.BLACK);\n                for( LineSegment segment: segments){\n                    g.drawLine( (int) segment.a[0], (int) segment.a[1],(int)segment.b[0], (int)segment.b[1]);\n                }\n            }\n        };\n        \n        panel.addMouseListener( new MouseAdapter(){\n            @Override\n            public void mouseClicked( MouseEvent evt ){\n                double x = evt.getPoint().getX();\n                double y = evt.getPoint().getY();\n                double theta = Math.random() * Math.PI * 2;\n                double dx = Math.cos( theta );\n                double dy = Math.sin( theta );\n                Ray ray = new Ray( new double[] {x, y}, new double[]{ dx, dy } );\n                int count = 500;\n                Intersectable last = null;\n                while( ray != null &amp;&amp; count &gt; 0 ){\n                    Intersection hit = null;\n                    Intersectable next = null;\n                    for(Intersectable c: circles){\n                        if(c == last){\n                            continue;\n                        }\n                        List&lt;Intersection&gt; intersections = c.intersects(ray);\n                        for(Intersection i : intersections){\n                            if( hit == null ){\n                                hit = i;\n                                next = c;\n                            } else{\n                                if( hit.s &gt; i.s ){\n                                    hit = i;\n                                    next = c;\n                                }\n                            }\n                        }\n                    }\n                    if(hit != null){\n                        last = next;\n                        segments.add( new LineSegment( ray.origin, new double[]{ hit.pos[0], hit.pos[1] } ) );\n                        count--;\n                        //reflected portion of ray.\n                        double dot = hit.normal[0]*ray.direction[0] + hit.normal[1]*ray.direction[1];\n                        double rx = ray.direction[0] - 2 * hit.normal[0]*dot;\n                        double ry = ray.direction[1] - 2 * hit.normal[1]*dot;\n                        \n                        double z = Math.sqrt(rx*rx + ry*ry);\n                        ray = new Ray(hit.pos, new double[] { rx/z, ry/z});\n                    } else{\n                        ray = null;\n                    }\n                }\n                panel.repaint();    \n            }\n        });\n        frame.setContentPane(panel);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n\nclass Ray{\n    double[] origin; double[] direction;\n    public Ray( double[] origin, double[] direction){\n        this.origin = new double[]{origin[0], origin[1]};\n        this.direction = new double[]{direction[0], direction[1]};\n    }\n}\n\nclass Intersection{\n    double s;\n    double[] pos;\n    double[] normal;\n    Circle b;\n    public Intersection(double s, double[] pos, double[] normal){\n        this.s = s;\n        this.pos = pos;\n        setNormal(normal);\n    }\n    public void setNormal(double[] normal){\n        double m = Math.sqrt(normal[0]*normal[0] + normal[1]*normal[1]);\n        if( Double.isNaN(m) || m == 0) throw new RuntimeException(&quot;Invalid normal! Magnitude of&quot; + m);\n        this.normal = new double[] { normal[0]/m , normal[1]/m };\n    }\n}\n\ninterface Intersectable{\n    List&lt;Intersection&gt; intersects(Ray ray);\n    void draw(Graphics g);\n}\n\nclass Circle implements Intersectable{\n    double[] origin;\n    double radius;\n    public Circle( double radius, double[] origin){\n        this.radius = radius;\n        this.origin = new double[]{origin[0], origin[1]};\n    }\n    Intersection intersectionAt(Ray ray, double s){\n        //intersection.\n        double locx = ray.origin[0] + s*ray.direction[0];\n        double locy = ray.origin[1] + s*ray.direction[1];\n        double nx = (locx - origin[0])/radius;\n        double ny = (locy - origin[1])/radius;\n        return new Intersection( s, new double[]{ locx, locy }, new double[]{nx, ny} );\n    }\n    public List&lt;Intersection&gt; intersects(Ray ray){\n        double rx = origin[0] - ray.origin[0];\n        double ry = origin[1] - ray.origin[1];\n        double m2 = rx*rx + ry*ry;\n        double m = Math.sqrt(m2);\n        //position along ray that is closest to circles origin.\n        double s = rx*ray.direction[0] + ry*ray.direction[1]; \n        //closest distance to circle.\n        double approach = Math.sqrt(m2 - s*s);\n        List&lt;Intersection&gt; result = new ArrayList&lt;&gt;();\n        \n        if( approach &lt; radius ){\n            //two intersections at points on circle.  \n            //radius is hypotenuse and approach is one of the lengths.\n            double l = Math.sqrt( radius*radius - approach*approach);\n            double s1 = s - l;\n            if(s1 &gt; 0){\n                result.add( intersectionAt(ray, s1) );\n            }\n            double s2 = s + l;\n            if(s2 &gt; 0){\n                //intersection!\n                result.add(intersectionAt(ray, s2) );\n            }\n        } else if(approach == radius){\n            //one intersection tangent.\n            if( s &gt; 0 ){\n                result.add( intersectionAt(ray, s) );\n            }\n        } else{\n            //miss.\n        }\n        return result;\n    }\n    \n    public void draw(Graphics g){\n        g.fillOval(\n            (int)(origin[0] - radius), \n            (int)(origin[1] - radius), \n            (int)radius*2, \n            (int)radius*2\n        );\n    }\n}\nclass LineSegment{\n    double[] a, b;\n    public LineSegment( double[] a, double[] b){\n        this.a = new double[]{a[0], a[1]};\n        this.b = new double[]{b[0], b[1]};\n    }\n}\n</code></pre>\n<p>You'll probably be most interested in the intersects method of the Circle class, and the small chunk of code burried in the <code>mouseClicked</code> method that calculates the reflected ray.</p>\n"}],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673703126,"creation_date":1673599699,"question_id":75106806,"body_markdown":"I am coding a method that calculates the intersection of a line and a circle as a first step to write some kind of ray casting demo. In case an intersection is calculated it gets the shortest distance to the two points of intersection that will be the collision point, then it repeats the process where the new line originates from the collision point. \r\n\r\nI was motivated by this video [of a laser hitting different circles.][1]\r\n\r\nThe method receives the angle of the line, the point where it originates, the size of the window, the radius of the circles, the array of centers of the circles and the GraphicsContext object from JavaFX. \r\n\r\nThe method has a couple of booleans to determine whether a collision has been made or not, and an ArrayList to store the collisions that will be later drawn on a JavaFX Canvas.\r\n\r\nInside a while loop the equation of the line is defined with the form y = m*x + b. Then checks which of the circles has a distance between the circle center and the line smaller than the radius of the line, this is calculated with the method explained here: [math.stackexchange.com][2]. \r\n\r\nIn case the distance to the center is smaller than the radius a collision occurs against that circle. As far as I know to find the intersection between a line and a circle you need to solve the equation system: y = m\\*x + b, (x-x1)^2 + (y-y1)^2 = r^2, that I solved via substitution. This results in a second degree polinomial equation that has a real solution if: p1\\*p1 &gt;= 4\\*p0\\*p2.\r\n\r\nThe solution with the shortest distance to the origin point is the one that the line hits first and is the solution to our problem. A new angle is calculated with the center of the circle, the collision point and the origin point. With this a new line is defined and the loop repeats until no collision against the circles is calculated, situation where the collision against the borders of the window is calculated.\r\n\r\nAt the end a for loop draws all of the lines defined as couples of points inside collisionList.\r\n\r\nThis is the code, I&#39;ve tried to comment it as best as I could:\r\n\r\n```\r\n\tprivate void extendPoint(double angle, Point origin, double x, double y, double radius, ArrayList&lt;Point&gt; pointList) {\r\n\t\t\r\n\t\tdouble newAngle = angle; //Angle that defines the direction of the line\r\n\t\t\r\n\t\t//This is used if the line does not hit a circle\r\n\t    double angle11 = Math.atan2(origin.getY(), origin.getX());\r\n\t    double angle_11 = Math.atan2(origin.getY(), -origin.getX());\r\n\t    double angle_1_1 = angle11 + Math.PI;\r\n\t    double angle1_1 = angle_11 + Math.PI;\r\n\r\n\t\tboolean noCollision = true; //Will be true if the line does not hit a circle\r\n\t\tboolean repeat = true; //If no collision has been made the while loop stops with this\r\n\t\tPoint currentPoint = Point.copy(origin); // (x0, y0)\r\n\t\tPoint collision = new Point(-1,-1); //Stores the collision point\r\n\t\tPoint newDirection = new Point(-1,-1); //Stores the new direction after a collision, returns(magnitud, angle) of a vector\r\n\t\tArrayList &lt;Point&gt; collisionList = new ArrayList&lt;&gt;(); //ArrayList of collision points that will be drawn later\r\n\t\tcollisionList.add(origin); //The origin point is added as a collision for representation purposes\r\n\t\t\r\n\t\twhile(repeat == true) {\r\n\t\t\t//Line equation that passes through a point with an angle\r\n\t\t\t//y = a*x - a*x0 + y0; -&gt; y = m*x + b;\r\n\t\t\tdouble m = Math.tan(-newAngle);\r\n\t\t\tdouble a = m;\r\n\t\t\tdouble b = -m*currentPoint.getX() + (currentPoint.getY());\r\n\r\n\t\t\tfor(int i = 0; i &lt; pointList.size(); i++) {\r\n\t\t\t\tPoint gridPoint = pointList.get(i); //(x1, y1)\r\n\t\t\t\t\r\n\t\t\t\t//From: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\r\n\t\t\t\t//Given a line defined as A*x + B*y + C = 0 \r\n\t\t\t\t//x*(y1-y0)+y*(x1-x0)+(-y0*(x1-x0)-x0*(y1-y0)\r\n\t\t\t\tdouble A = gridPoint.getY()-currentPoint.getY();\r\n\t\t\t\tdouble B = gridPoint.getX()-currentPoint.getX(); \r\n\t\t\t\tdouble C = -currentPoint.getY()*B + currentPoint.getX()*A;\r\n//\t\t\t\tdouble d_cp_gp = Math.abs(m*gridPoint.getX()-b*(gridPoint.getY()))/(Math.sqrt(m*m + 1));\r\n\t\t\t\tdouble d_cp_gp = Math.abs(A + B + C)/Math.sqrt(A*A + B*B);\r\n\r\n\t\t\t\tif(d_cp_gp &lt; radius) {\r\n\t\t\t\t\tSystem.out.println(&quot;radio &quot; + d_cp_gp);\r\n\t\t\t\t\t//The intersection between a line and a circunference:\r\n\t\t\t\t\t//Circunference: (x-x1)^2 + (y-y1)^2 = r^2\r\n\t\t\t\t\t//Line: y = tan(alpha)*(x-x0)+y0 -&gt; y = a*x + b; a = tan(alfa), b = -tan(alfa)*x0 + y0\r\n\t\t\t\t\t//Substituting the line equation in the circunference equation:\r\n\t\t\t\t\t//x^2*(1+a^2) + x*(-2x1 + 2*a*b) + 2*a*b + x1^2+b^2-r^2 = 0\r\n\t\t\t\t\tdouble p2 = 1 + a*a;\r\n\t\t\t\t\tdouble p1 = -2*gridPoint.getX() + 2*a*b;\r\n\t\t\t\t\tdouble p0 = gridPoint.getX()*gridPoint.getX() + b*b - radius*radius;\r\n\t\t\t\t\tdouble p0_ = 4*p0*p2;\r\n\t\t\t\t\tSystem.out.println(p1*p1 + &quot; &quot; + p0_);\r\n\t\t\t\t\t//Check if the second order equation has solutions\r\n\t\t\t\t\tif(p1*p1 &gt;= p0_) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;IT HAS SOLUTION&quot;);\r\n\t\t\t\t\t\t//Solution\r\n\t\t\t\t\t\tdouble root = Math.sqrt(p1*p1 - p0_);\r\n\t\t\t\t\t\tdouble sol1x = (-p1 + root)/(2*p2);\r\n\t\t\t\t\t\tdouble sol2x = (-p1 - root)/(2*p2);\r\n\t\t\t\t\t\tdouble sol1y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\r\n\t\t\t\t\t\tdouble sol2y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The line will intersect twice with the circle, we want the solution\r\n\t\t\t\t\t\t//with the shortest distance to currentPoint (x0,y0)\r\n\t\t\t\t\t\tdouble distSol1 = Math.sqrt(Math.pow(currentPoint.getX()- sol1x, 2) + \r\n\t\t\t\t\t\t\t\tMath.pow(currentPoint.getY() - sol1y, 2));\r\n\t\t\t\t\t\tdouble distSol2 = Math.sqrt(Math.pow(currentPoint.getX()- sol2x, 2) + \r\n\t\t\t\t\t\t\t\tMath.pow(currentPoint.getY() - sol2y, 2));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The collision point is the point that the line hits first\r\n\t\t\t\t\t\tif(distSol1 &lt; distSol2) {\r\n\t\t\t\t\t\t\tcollision.setXY(sol1x, sol1y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tcollision.setXY(sol2x, sol2y);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//newAngle returns a vector with the form (magnitude, angle)\r\n\t\t\t\t\t\tnewDirection = newAngle(currentPoint, gridPoint, collision, radius);\r\n\t\t\t\t\t\tcurrentPoint = collision;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The new line after the collision is defined here\r\n\t\t\t\t\t\tm = Math.tan(-newDirection.getY());\r\n\t\t\t\t\t\ta = m;\r\n\t\t\t\t\t\tb = -m*collision.getX() + (collision.getY());\r\n\t\t\t\t\t\tcollisionList.add(collision);\r\n\t\t\t\t\t\tSystem.out.println(&quot;A collision has been calculated successfully: &quot; + collision.toString());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//If a collision\r\n\t\t\t\t\t\tnoCollision= false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//If no collisions have been detected at the end of the for loop exit the while loop\r\n\t\t\t\tif(i == pointList.size() - 1 &amp;&amp; noCollision == true) {\r\n\t\t\t\t\trepeat = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//If no collision has been calculated with the circles this\r\n\t\t\t//calculates the collision with the limits of the window\r\n\t\t\tif(noCollision == true &amp;&amp; repeat == false) {\r\n\r\n\t\t        if(angle&lt;angle11 || angle &gt; angle1_1) {\r\n\t\t        \tcollision.setXY(x, m*x + b);\r\n\t\t        }\r\n\t\t        else if(angle &gt; angle11 &amp;&amp; angle &lt; angle_11){\r\n\t\t        \tcollision.setXY((0 - b)/m, 0);\r\n\t\t        }\r\n\t\t        else if(angle &gt; angle_11 &amp;&amp; angle &lt; angle_1_1) {\r\n\t\t        \tcollision.setXY(0, m*0 + b);\r\n\t\t        }\r\n\t\t        else if(angle&gt; angle_1_1 &amp;&amp; angle &lt; angle1_1) {\r\n\t\t        \tcollision.setXY((y - b)/m, y);\r\n\t\t        }\r\n\r\n\t\t        collisionList.add(collision);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Number of collisions: &quot; + (int)(collisionList.size() - 1));\r\n\t}\r\n\r\n```\r\n\r\nMy main problem is that the shortest distance to a circle doesn&#39;t seem to be calculated properly, which directly difficults if the rest of the code works properly. \r\n\r\nI&#39;ve tried different methods to find the shortest distance and this is the one that I liked the most as I find it easy to understand, however the implementation doesn&#39;t work properly. I&#39;ve thought that this could be because of JavaFX coordinate system (x increases to the right and y to the bottom) but I&#39;m not sure, I&#39;m a bit lost at this point.\r\n\r\nThanks for your time.\r\n\r\nEdit:\r\nAs suggested I am adding some extra code to facilitate reproducibility.\r\n\r\nThe Point and Vector classes are defined as follows:\r\n\r\n```\r\npublic class Point {\r\n\tprivate double x;\r\n\tprivate double y;\r\n\t\r\n\tpublic Point(double x, double y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;}\r\n\tpublic double getX() {\r\n\t\treturn x;}\r\n\tpublic double getY() {\r\n\t\treturn y;}\r\n\tpublic void setX(double x) {\r\n\t\tthis.x = x;}\r\n\tpublic void setY(double y) {\r\n\t\tthis.y = y;}\r\n\tpublic void setXY(double x, double y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn(&quot;(&quot; + this.x + &quot;,&quot; + this.y + &quot;)&quot;);\r\n\t}\r\n\tpublic static Point copy(Point a) {\r\n\t\treturn new Point(a.getX(), a.getY());\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class Vector {\r\n\tprivate double vx; \r\n\tprivate double vy; \r\n\tprivate double ptoApX; \r\n\tprivate double ptoApY; \r\n\tprivate double angle;\r\n\tprivate double modulo;\r\n\t\r\n\t\r\n\tpublic Vector(double vx, double vy) {\r\n\t\tthis.vx = vx;\r\n\t\tthis.vy = vy;\r\n\t\tthis.ptoApX = 0;\r\n\t\tthis.ptoApY = 0;\r\n\t\tthis.angle = angle(vx,vy);\r\n\t\tthis.modulo = modulo(vx,vy);\r\n\t}\r\n\t//Getters\r\n\tpublic double getVx() {\r\n\t\treturn this.vx;\r\n\t}\r\n\tpublic double getVy() {\r\n\t\treturn this.vy;\r\n\t}\r\n\tpublic double getPtoApX() {\r\n\t\treturn this.ptoApX;\r\n\t}\r\n\tpublic double getPtoApY() {\r\n\t\treturn this.ptoApY;\r\n\t}\r\n\tpublic double getAngle() {\r\n\t\treturn this.angle;\r\n\t}\r\n\tpublic double getModulo() {\r\n\t\treturn this.modulo;\r\n\t}\r\n\t\r\n\t//Setters\r\n\tpublic void setVx(double vx) {\r\n\t\tthis.vx = vx;\r\n\t}\r\n\tpublic void setVy(double vy) {\r\n\t\tthis.vy = vy;\r\n\t}\r\n\tpublic void setPtoApX(double ptoApX) {\r\n\t\tthis.ptoApX = ptoApX;\r\n\t}\r\n\tpublic void setPtoApY(double ptoApY) {\r\n\t\tthis.ptoApY = ptoApY;\r\n\t}\r\n\tpublic void setAngle(double angle) {\r\n\t\tthis.angle = angle;\r\n\t}\r\n\tpublic void setModulo(double modulo) {\r\n\t\tthis.modulo = modulo;\r\n\t}\r\n\t\r\n\t//To String\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;(&quot;+this.getVx()+&quot;,&quot;+this.getVy()+&quot;)&quot;;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static double dotProduct(Vector a, Vector b) {\r\n\t\treturn a.getVx()*b.getVx() + a.getVy()*b.getVy();\r\n\t}\r\n\tpublic static Vector escalarProduct(Vector v, double n) {\r\n\t\treturn new Vector(n*v.getVx(), n*v.getVy());\r\n\t}\r\n\tpublic static Vector vectorWith2Points(Point a, Point b) {\r\n\t\tPoint p = Point.resta(a,b);\r\n\t\treturn new Vector(p.getX(),p.getY());\r\n\t}\r\n\tpublic static Vector vectorPointAngle(Point a, double angle, double modulo) {\r\n\t\tdouble angleRadians = Math.toRadians(angle);\r\n\t\tPoint b = new Point(Math.cos(angleRadians)*modulo, Math.sin(angleRadians)*modulo);\r\n\t\treturn vectorWith2Points(a,b);\r\n\t}\r\n\tpublic static double modulo(double vx, double vy) {\r\n\t\treturn Math.sqrt(vx*vx + vy*vy);\r\n\t}\r\n\tpublic static double angle(double vx, double vy) {\r\n\t\treturn Math.atan2(vy, vx);\r\n\t}\r\n\tpublic static Vector normalize(Vector v) {\r\n\t\treturn new Vector(v.getVx()/v.getModulo(),v.getVy()/v.getModulo());\r\n\t}\r\n\tpublic static double angle2vectors(Vector u, Vector v) {\r\n\t\tdouble argument = dotProduct(u,v)/(u.getModulo()*v.getModulo());\r\n\t\treturn Math.acos(argument);\r\n\t}\r\n\tpublic static Point polar2cart(double r, double angle) {\r\n\t\treturn new Point(r*Math.cos(angle), r*Math.sin(angle));\r\n\t}\r\n\tpublic static Point cart2polar(Point p) {\r\n\t\treturn new Point(modulo(p.getX(), p.getY()), angle(p.getX(), p.getY()));\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nAnd the method to obtain the new angle after a collision:\r\n```\r\n\tprivate Point newAngle(Point origin, Point center, Point c, double radius) {\r\n\t\t//Normal vector\r\n\t\tVector n = Vector.vectorWith2Points(c, center);\r\n\t\tVector nNorm = Vector.normalize(n);\r\n\r\n\t\t//Incident vector\r\n\t\tVector d = Vector.vectorWith2Points(c, origin);\r\n\t\t//Tangent vector\r\n\t\tVector tg = new Vector(-nNorm.getVy(), nNorm.getVx());\r\n\t\t\r\n\t\t//Reflected vector\r\n\t\tdouble product = Vector.dotProduct(d,tg);\r\n\t\tVector r = new Vector(d.getVx()-2*product*tg.getVx(),\r\n\t\t\t\t\t\t\t\t\td.getVy() - 2*product*tg.getVy());\r\n\t\treturn new Point(r.getModulo(), r.getAngle());\r\n\t}\r\n```\r\n\r\nAn example of the code of different angles where a collision should be detected:\r\n\r\n```\r\ndouble x = 600;\r\ndouble y = 400;\r\ndouble radius = 10;\r\nPoint origin = new Point(x/2, y/2);\r\nArrayList&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\r\npointList.add(new Point(40,40));\r\npointList.add(new Point(500,100));\r\npointList.add(new Point(40,330));\r\npointList.add(new Point(450,300));\r\n//This should return a solution\r\nextendPoint(0.4363323129985824, origin, x, y, radius, pointList);\r\nextendPoint(2.6179938779914944, origin, x, y, radius, pointList);\r\n\r\n//this returns a solution when it should not\r\nextendPoint(1.5707963267948966, origin, x, y, radius, pointList);\r\nextendPoint(-1.5707963267948966, origin, x, y, radius, pointList);\r\n\r\n```\r\n\r\nI wrote an class with everything needed to run the code here: [https://pastebin.com/wMjUh9pZ][3]\r\n\r\n\r\n  [1]: https://www.reddit.com/r/generative/comments/q0g5hi/on_my_side_bouncing_laser/?utm_source=share&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_term=1&amp;utm_content=share_button\r\n  [2]: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\r\n  [3]: https://pastebin.com/wMjUh9pZ","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>I am coding a method that calculates the intersection of a line and a circle as a first step to write some kind of ray casting demo. In case an intersection is calculated it gets the shortest distance to the two points of intersection that will be the collision point, then it repeats the process where the new line originates from the collision point.</p>\n<p>I was motivated by this video <a href=\"https://www.reddit.com/r/generative/comments/q0g5hi/on_my_side_bouncing_laser/?utm_source=share&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_term=1&amp;utm_content=share_button\" rel=\"nofollow noreferrer\">of a laser hitting different circles.</a></p>\n<p>The method receives the angle of the line, the point where it originates, the size of the window, the radius of the circles, the array of centers of the circles and the GraphicsContext object from JavaFX.</p>\n<p>The method has a couple of booleans to determine whether a collision has been made or not, and an ArrayList to store the collisions that will be later drawn on a JavaFX Canvas.</p>\n<p>Inside a while loop the equation of the line is defined with the form y = m*x + b. Then checks which of the circles has a distance between the circle center and the line smaller than the radius of the line, this is calculated with the method explained here: <a href=\"https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\">math.stackexchange.com</a>.</p>\n<p>In case the distance to the center is smaller than the radius a collision occurs against that circle. As far as I know to find the intersection between a line and a circle you need to solve the equation system: y = m*x + b, (x-x1)^2 + (y-y1)^2 = r^2, that I solved via substitution. This results in a second degree polinomial equation that has a real solution if: p1*p1 &gt;= 4*p0*p2.</p>\n<p>The solution with the shortest distance to the origin point is the one that the line hits first and is the solution to our problem. A new angle is calculated with the center of the circle, the collision point and the origin point. With this a new line is defined and the loop repeats until no collision against the circles is calculated, situation where the collision against the borders of the window is calculated.</p>\n<p>At the end a for loop draws all of the lines defined as couples of points inside collisionList.</p>\n<p>This is the code, I've tried to comment it as best as I could:</p>\n<pre><code>    private void extendPoint(double angle, Point origin, double x, double y, double radius, ArrayList&lt;Point&gt; pointList) {\n        \n        double newAngle = angle; //Angle that defines the direction of the line\n        \n        //This is used if the line does not hit a circle\n        double angle11 = Math.atan2(origin.getY(), origin.getX());\n        double angle_11 = Math.atan2(origin.getY(), -origin.getX());\n        double angle_1_1 = angle11 + Math.PI;\n        double angle1_1 = angle_11 + Math.PI;\n\n        boolean noCollision = true; //Will be true if the line does not hit a circle\n        boolean repeat = true; //If no collision has been made the while loop stops with this\n        Point currentPoint = Point.copy(origin); // (x0, y0)\n        Point collision = new Point(-1,-1); //Stores the collision point\n        Point newDirection = new Point(-1,-1); //Stores the new direction after a collision, returns(magnitud, angle) of a vector\n        ArrayList &lt;Point&gt; collisionList = new ArrayList&lt;&gt;(); //ArrayList of collision points that will be drawn later\n        collisionList.add(origin); //The origin point is added as a collision for representation purposes\n        \n        while(repeat == true) {\n            //Line equation that passes through a point with an angle\n            //y = a*x - a*x0 + y0; -&gt; y = m*x + b;\n            double m = Math.tan(-newAngle);\n            double a = m;\n            double b = -m*currentPoint.getX() + (currentPoint.getY());\n\n            for(int i = 0; i &lt; pointList.size(); i++) {\n                Point gridPoint = pointList.get(i); //(x1, y1)\n                \n                //From: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\n                //Given a line defined as A*x + B*y + C = 0 \n                //x*(y1-y0)+y*(x1-x0)+(-y0*(x1-x0)-x0*(y1-y0)\n                double A = gridPoint.getY()-currentPoint.getY();\n                double B = gridPoint.getX()-currentPoint.getX(); \n                double C = -currentPoint.getY()*B + currentPoint.getX()*A;\n//              double d_cp_gp = Math.abs(m*gridPoint.getX()-b*(gridPoint.getY()))/(Math.sqrt(m*m + 1));\n                double d_cp_gp = Math.abs(A + B + C)/Math.sqrt(A*A + B*B);\n\n                if(d_cp_gp &lt; radius) {\n                    System.out.println(&quot;radio &quot; + d_cp_gp);\n                    //The intersection between a line and a circunference:\n                    //Circunference: (x-x1)^2 + (y-y1)^2 = r^2\n                    //Line: y = tan(alpha)*(x-x0)+y0 -&gt; y = a*x + b; a = tan(alfa), b = -tan(alfa)*x0 + y0\n                    //Substituting the line equation in the circunference equation:\n                    //x^2*(1+a^2) + x*(-2x1 + 2*a*b) + 2*a*b + x1^2+b^2-r^2 = 0\n                    double p2 = 1 + a*a;\n                    double p1 = -2*gridPoint.getX() + 2*a*b;\n                    double p0 = gridPoint.getX()*gridPoint.getX() + b*b - radius*radius;\n                    double p0_ = 4*p0*p2;\n                    System.out.println(p1*p1 + &quot; &quot; + p0_);\n                    //Check if the second order equation has solutions\n                    if(p1*p1 &gt;= p0_) {\n                        System.out.println(&quot;IT HAS SOLUTION&quot;);\n                        //Solution\n                        double root = Math.sqrt(p1*p1 - p0_);\n                        double sol1x = (-p1 + root)/(2*p2);\n                        double sol2x = (-p1 - root)/(2*p2);\n                        double sol1y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\n                        double sol2y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\n                        \n                        //The line will intersect twice with the circle, we want the solution\n                        //with the shortest distance to currentPoint (x0,y0)\n                        double distSol1 = Math.sqrt(Math.pow(currentPoint.getX()- sol1x, 2) + \n                                Math.pow(currentPoint.getY() - sol1y, 2));\n                        double distSol2 = Math.sqrt(Math.pow(currentPoint.getX()- sol2x, 2) + \n                                Math.pow(currentPoint.getY() - sol2y, 2));\n                        \n                        //The collision point is the point that the line hits first\n                        if(distSol1 &lt; distSol2) {\n                            collision.setXY(sol1x, sol1y);\n                        }\n                        else {\n                            collision.setXY(sol2x, sol2y);\n                        }\n\n                        //newAngle returns a vector with the form (magnitude, angle)\n                        newDirection = newAngle(currentPoint, gridPoint, collision, radius);\n                        currentPoint = collision;\n                        \n                        //The new line after the collision is defined here\n                        m = Math.tan(-newDirection.getY());\n                        a = m;\n                        b = -m*collision.getX() + (collision.getY());\n                        collisionList.add(collision);\n                        System.out.println(&quot;A collision has been calculated successfully: &quot; + collision.toString());\n                        \n                        //If a collision\n                        noCollision= false;\n                    }\n                }\n\n                //If no collisions have been detected at the end of the for loop exit the while loop\n                if(i == pointList.size() - 1 &amp;&amp; noCollision == true) {\n                    repeat = false;\n                }\n            }\n            //If no collision has been calculated with the circles this\n            //calculates the collision with the limits of the window\n            if(noCollision == true &amp;&amp; repeat == false) {\n\n                if(angle&lt;angle11 || angle &gt; angle1_1) {\n                    collision.setXY(x, m*x + b);\n                }\n                else if(angle &gt; angle11 &amp;&amp; angle &lt; angle_11){\n                    collision.setXY((0 - b)/m, 0);\n                }\n                else if(angle &gt; angle_11 &amp;&amp; angle &lt; angle_1_1) {\n                    collision.setXY(0, m*0 + b);\n                }\n                else if(angle&gt; angle_1_1 &amp;&amp; angle &lt; angle1_1) {\n                    collision.setXY((y - b)/m, y);\n                }\n\n                collisionList.add(collision);\n            }\n            \n        }\n        \n        System.out.println(&quot;Number of collisions: &quot; + (int)(collisionList.size() - 1));\n    }\n\n</code></pre>\n<p>My main problem is that the shortest distance to a circle doesn't seem to be calculated properly, which directly difficults if the rest of the code works properly.</p>\n<p>I've tried different methods to find the shortest distance and this is the one that I liked the most as I find it easy to understand, however the implementation doesn't work properly. I've thought that this could be because of JavaFX coordinate system (x increases to the right and y to the bottom) but I'm not sure, I'm a bit lost at this point.</p>\n<p>Thanks for your time.</p>\n<p>Edit:\nAs suggested I am adding some extra code to facilitate reproducibility.</p>\n<p>The Point and Vector classes are defined as follows:</p>\n<pre><code>public class Point {\n    private double x;\n    private double y;\n    \n    public Point(double x, double y) {\n        this.x = x;\n        this.y = y;}\n    public double getX() {\n        return x;}\n    public double getY() {\n        return y;}\n    public void setX(double x) {\n        this.x = x;}\n    public void setY(double y) {\n        this.y = y;}\n    public void setXY(double x, double y) {\n        this.x = x;\n        this.y = y;}\n    \n    @Override\n    public String toString() {\n        return(&quot;(&quot; + this.x + &quot;,&quot; + this.y + &quot;)&quot;);\n    }\n    public static Point copy(Point a) {\n        return new Point(a.getX(), a.getY());\n    }\n}\n</code></pre>\n<pre><code>public class Vector {\n    private double vx; \n    private double vy; \n    private double ptoApX; \n    private double ptoApY; \n    private double angle;\n    private double modulo;\n    \n    \n    public Vector(double vx, double vy) {\n        this.vx = vx;\n        this.vy = vy;\n        this.ptoApX = 0;\n        this.ptoApY = 0;\n        this.angle = angle(vx,vy);\n        this.modulo = modulo(vx,vy);\n    }\n    //Getters\n    public double getVx() {\n        return this.vx;\n    }\n    public double getVy() {\n        return this.vy;\n    }\n    public double getPtoApX() {\n        return this.ptoApX;\n    }\n    public double getPtoApY() {\n        return this.ptoApY;\n    }\n    public double getAngle() {\n        return this.angle;\n    }\n    public double getModulo() {\n        return this.modulo;\n    }\n    \n    //Setters\n    public void setVx(double vx) {\n        this.vx = vx;\n    }\n    public void setVy(double vy) {\n        this.vy = vy;\n    }\n    public void setPtoApX(double ptoApX) {\n        this.ptoApX = ptoApX;\n    }\n    public void setPtoApY(double ptoApY) {\n        this.ptoApY = ptoApY;\n    }\n    public void setAngle(double angle) {\n        this.angle = angle;\n    }\n    public void setModulo(double modulo) {\n        this.modulo = modulo;\n    }\n    \n    //To String\n    @Override\n    public String toString() {\n        return &quot;(&quot;+this.getVx()+&quot;,&quot;+this.getVy()+&quot;)&quot;;\n    }\n    \n    \n    public static double dotProduct(Vector a, Vector b) {\n        return a.getVx()*b.getVx() + a.getVy()*b.getVy();\n    }\n    public static Vector escalarProduct(Vector v, double n) {\n        return new Vector(n*v.getVx(), n*v.getVy());\n    }\n    public static Vector vectorWith2Points(Point a, Point b) {\n        Point p = Point.resta(a,b);\n        return new Vector(p.getX(),p.getY());\n    }\n    public static Vector vectorPointAngle(Point a, double angle, double modulo) {\n        double angleRadians = Math.toRadians(angle);\n        Point b = new Point(Math.cos(angleRadians)*modulo, Math.sin(angleRadians)*modulo);\n        return vectorWith2Points(a,b);\n    }\n    public static double modulo(double vx, double vy) {\n        return Math.sqrt(vx*vx + vy*vy);\n    }\n    public static double angle(double vx, double vy) {\n        return Math.atan2(vy, vx);\n    }\n    public static Vector normalize(Vector v) {\n        return new Vector(v.getVx()/v.getModulo(),v.getVy()/v.getModulo());\n    }\n    public static double angle2vectors(Vector u, Vector v) {\n        double argument = dotProduct(u,v)/(u.getModulo()*v.getModulo());\n        return Math.acos(argument);\n    }\n    public static Point polar2cart(double r, double angle) {\n        return new Point(r*Math.cos(angle), r*Math.sin(angle));\n    }\n    public static Point cart2polar(Point p) {\n        return new Point(modulo(p.getX(), p.getY()), angle(p.getX(), p.getY()));\n    }\n    \n}\n\n</code></pre>\n<p>And the method to obtain the new angle after a collision:</p>\n<pre><code>    private Point newAngle(Point origin, Point center, Point c, double radius) {\n        //Normal vector\n        Vector n = Vector.vectorWith2Points(c, center);\n        Vector nNorm = Vector.normalize(n);\n\n        //Incident vector\n        Vector d = Vector.vectorWith2Points(c, origin);\n        //Tangent vector\n        Vector tg = new Vector(-nNorm.getVy(), nNorm.getVx());\n        \n        //Reflected vector\n        double product = Vector.dotProduct(d,tg);\n        Vector r = new Vector(d.getVx()-2*product*tg.getVx(),\n                                    d.getVy() - 2*product*tg.getVy());\n        return new Point(r.getModulo(), r.getAngle());\n    }\n</code></pre>\n<p>An example of the code of different angles where a collision should be detected:</p>\n<pre><code>double x = 600;\ndouble y = 400;\ndouble radius = 10;\nPoint origin = new Point(x/2, y/2);\nArrayList&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\npointList.add(new Point(40,40));\npointList.add(new Point(500,100));\npointList.add(new Point(40,330));\npointList.add(new Point(450,300));\n//This should return a solution\nextendPoint(0.4363323129985824, origin, x, y, radius, pointList);\nextendPoint(2.6179938779914944, origin, x, y, radius, pointList);\n\n//this returns a solution when it should not\nextendPoint(1.5707963267948966, origin, x, y, radius, pointList);\nextendPoint(-1.5707963267948966, origin, x, y, radius, pointList);\n\n</code></pre>\n<p>I wrote an class with everything needed to run the code here: <a href=\"https://pastebin.com/wMjUh9pZ\" rel=\"nofollow noreferrer\">https://pastebin.com/wMjUh9pZ</a></p>\n"},{"tags":["java","flutter"],"owner":{"account_id":25080612,"reputation":1,"user_id":18933423,"display_name":"Xetz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673702701,"creation_date":1673702701,"question_id":75118258,"body_markdown":"I am trying to set flutter on **windows 11** and i am getting an error like this. Any help would be amazing. Thank you!\r\n```\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[‚àö] Flutter (Channel stable, 3.3.10, on Microsoft Windows [Version 10.0.22621.1105], locale tr-TR)\r\n[‚àö] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\r\n[‚àö] Chrome - develop for the web\r\n[X] Visual Studio - develop for Windows\r\n    X Visual Studio not installed; this is necessary for Windows development.\r\n      Download at https://visualstudio.microsoft.com/downloads/.\r\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\r\n[!] Android Studio (version 2022.1)\r\n    X Unable to find bundled Java version.\r\n[‚àö] VS Code (version 1.74.3)\r\n[‚àö] Connected device (3 available)\r\n[‚àö] HTTP Host Availability\r\n\r\n! Doctor found issues in 2 categories```\r\n```\r\n\r\nMy java version:\r\n\r\n```\r\njava version &quot;1.8.0_351&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\r\nJava HotSpot(TM) Client VM (build 25.351-b10, mixed mode, sharing)\r\n```\r\n\r\n\r\nI am getting an error like this !","title":"Unable to find bundled Java version. I am getting an error and i couldn&#39;t find solution","body":"<p>I am trying to set flutter on <strong>windows 11</strong> and i am getting an error like this. Any help would be amazing. Thank you!</p>\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[‚àö] Flutter (Channel stable, 3.3.10, on Microsoft Windows [Version 10.0.22621.1105], locale tr-TR)\n[‚àö] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n[‚àö] Chrome - develop for the web\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n[!] Android Studio (version 2022.1)\n    X Unable to find bundled Java version.\n[‚àö] VS Code (version 1.74.3)\n[‚àö] Connected device (3 available)\n[‚àö] HTTP Host Availability\n\n! Doctor found issues in 2 categories```\n</code></pre>\n<p>My java version:</p>\n<pre><code>java version &quot;1.8.0_351&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_351-b10)\nJava HotSpot(TM) Client VM (build 25.351-b10, mixed mode, sharing)\n</code></pre>\n<p>I am getting an error like this !</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673703301,"post_id":75118090,"comment_id":132559501,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1673861252,"post_id":75118090,"comment_id":132583724,"body_markdown":"Try to delete this dependency from `/Users/sydneyfrancis/.m2/repository` and reload from the command line outside of IntelliJ via Maven","body":"Try to delete this dependency from <code>&#47;Users&#47;sydneyfrancis&#47;.m2&#47;repository</code> and reload from the command line outside of IntelliJ via Maven"}],"owner":{"account_id":27527607,"reputation":1,"user_id":21006663,"display_name":"Sydney Francis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673701875,"creation_date":1673701040,"question_id":75118090,"body_markdown":"    /Users/sydneyfrancis/Library/Java/JavaVirtualMachines/temurin-11.0.17/Contents/Home/bin/java &quot;-Dmaven.multiModuleProjectDirectory=/Users/sydneyfrancis/IdeaProjects/Trial &quot; -Dmaven.home=/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6 -Dclassworlds.conf=/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/bin/m2.conf &quot;-Dmaven.ext.class.path=/Applications/IntelliJ IDEA CE.app/Contents/plugins/maven/lib/maven-event-listener.jar&quot; &quot;-javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=49569:/Applications/IntelliJ IDEA CE.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds.license:/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version=2020.2.4 verify\r\n    \\[INFO\\] Scanning for projects...\r\n    \\[INFO\\]\r\n    \\[INFO\\] -------------------------\\&lt; com.example:Trial \\&gt;--------------------------\r\n    \\[INFO\\] Building Trial 0.0.1-SNAPSHOT\r\n    \\[INFO\\] --------------------------------\\[ jar \\]---------------------------------\r\n    \\[WARNING\\] The POM for org.apache.maven.plugins:maven-jar-plugin:jar:3.3.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    \\[INFO\\] ------------------------------------------------------------------------\r\n    \\[INFO\\] BUILD FAILURE\r\n    \\[INFO\\] ------------------------------------------------------------------------\r\n    \\[INFO\\] Total time:  0.310 s\r\n    \\[INFO\\] Finished at: 2023-01-14T18:19:06+05:30\r\n    \\[INFO\\] ------------------------------------------------------------------------\r\n    \\[ERROR\\] Plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:3.3.0: 1 problem was encountered while building the effective model for org.apache.maven.plugins:maven-jar-plugin:3.3.0\r\n    \\[ERROR\\] \\[FATAL\\] Non-readable POM /Users/sydneyfrancis/.m2/repository/org/apache/apache/27/apache-27.pom: input contained no data @ /Users/sydneyfrancis/.m2/repository/org/apache/apache/27/apache-27.pom\r\n    \\[ERROR\\] -\\&gt; \\[Help 1\\]\r\n    \\[ERROR\\]\r\n    \\[ERROR\\] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    \\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\r\n    \\[ERROR\\]\r\n    \\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\r\n    \\[ERROR\\] \\[Help 1\\] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\r\n\r\nI generated Springstarter and created a project on it. Java file.is not runnable.","title":"Non-readable POM /Users/sydneyfrancis/.m2/repository/org/apache/apache/27/apache-27.pom: i","body":"<pre><code>/Users/sydneyfrancis/Library/Java/JavaVirtualMachines/temurin-11.0.17/Contents/Home/bin/java &quot;-Dmaven.multiModuleProjectDirectory=/Users/sydneyfrancis/IdeaProjects/Trial &quot; -Dmaven.home=/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6 -Dclassworlds.conf=/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/bin/m2.conf &quot;-Dmaven.ext.class.path=/Applications/IntelliJ IDEA CE.app/Contents/plugins/maven/lib/maven-event-listener.jar&quot; &quot;-javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=49569:/Applications/IntelliJ IDEA CE.app/Contents/bin&quot; -Dfile.encoding=UTF-8 -classpath /Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds.license:/Users/sydneyfrancis/.m2/wrapper/dists/apache-maven-3.8.6-bin/1ks0nkde5v1pk9vtc31i9d0lcd/apache-maven-3.8.6/boot/plexus-classworlds-2.6.0.jar org.codehaus.classworlds.Launcher -Didea.version=2020.2.4 verify\n\\[INFO\\] Scanning for projects...\n\\[INFO\\]\n\\[INFO\\] -------------------------\\&lt; com.example:Trial \\&gt;--------------------------\n\\[INFO\\] Building Trial 0.0.1-SNAPSHOT\n\\[INFO\\] --------------------------------\\[ jar \\]---------------------------------\n\\[WARNING\\] The POM for org.apache.maven.plugins:maven-jar-plugin:jar:3.3.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n\\[INFO\\] ------------------------------------------------------------------------\n\\[INFO\\] BUILD FAILURE\n\\[INFO\\] ------------------------------------------------------------------------\n\\[INFO\\] Total time:  0.310 s\n\\[INFO\\] Finished at: 2023-01-14T18:19:06+05:30\n\\[INFO\\] ------------------------------------------------------------------------\n\\[ERROR\\] Plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:3.3.0: 1 problem was encountered while building the effective model for org.apache.maven.plugins:maven-jar-plugin:3.3.0\n\\[ERROR\\] \\[FATAL\\] Non-readable POM /Users/sydneyfrancis/.m2/repository/org/apache/apache/27/apache-27.pom: input contained no data @ /Users/sydneyfrancis/.m2/repository/org/apache/apache/27/apache-27.pom\n\\[ERROR\\] -\\&gt; \\[Help 1\\]\n\\[ERROR\\]\n\\[ERROR\\] To see the full stack trace of the errors, re-run Maven with the -e switch.\n\\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\n\\[ERROR\\]\n\\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\n\\[ERROR\\] \\[Help 1\\] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\n</code></pre>\n<p>I generated Springstarter and created a project on it. Java file.is not runnable.</p>\n"},{"tags":["java","spring","spring-mvc","websocket","stomp"],"owner":{"account_id":25480093,"reputation":3,"user_id":19276602,"display_name":"tamtface"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673701395,"creation_date":1673701356,"question_id":75118130,"body_markdown":"I am new to spring. I want to make a web chat. The site has authorization. When connecting to websocket, the post request returns 404. An inscription appears in the logs: The user for the session does not match the user for the request.\r\nMy websocket config:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer  {\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS().setWebSocketEnabled(true);\r\n        WebSocketMessageBrokerConfigurer.super.registerStompEndpoints(registry);\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nJS connect to websocket:\r\n```\r\nfunction connect() {\r\n    let socket = new SockJS(&#39;/ws&#39;);\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect({}, function(frame) {\r\n        console.log(&#39;Connected: &#39; + frame);\r\n        stompClient.subscribe(&#39;/topic/greetings&#39;, function(greeting) {\r\n            showGreeting(JSON.parse(greeting.body));\r\n        });\r\n    });\r\n}\r\n```\r\n\r\nWhen debugging the application, I noticed that in the Transport Handling SockJsService (that&#39;s where the inscription in the log appears) there is a check of the principal in session and request. When comparing principal, I noticed that their User Model is different, although their data is the same. Also, if I set the session = null in debugging TransportHandlingSockJsService, then the connection is successful.","title":"Spring. Why user for the session does not match the user for the request?","body":"<p>I am new to spring. I want to make a web chat. The site has authorization. When connecting to websocket, the post request returns 404. An inscription appears in the logs: The user for the session does not match the user for the request.\nMy websocket config:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer  {\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS().setWebSocketEnabled(true);\n        WebSocketMessageBrokerConfigurer.super.registerStompEndpoints(registry);\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n}\n</code></pre>\n<p>JS connect to websocket:</p>\n<pre><code>function connect() {\n    let socket = new SockJS('/ws');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function(frame) {\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/topic/greetings', function(greeting) {\n            showGreeting(JSON.parse(greeting.body));\n        });\n    });\n}\n</code></pre>\n<p>When debugging the application, I noticed that in the Transport Handling SockJsService (that's where the inscription in the log appears) there is a check of the principal in session and request. When comparing principal, I noticed that their User Model is different, although their data is the same. Also, if I set the session = null in debugging TransportHandlingSockJsService, then the connection is successful.</p>\n"},{"tags":["java","compiler-construction","javac"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1322642384,"post_id":8323082,"comment_id":10259411,"body_markdown":"What exactly do you mean, the length of the command line? The command line parameters? The maximum size of a string? And why does it matter?","body":"What exactly do you mean, the length of the command line? The command line parameters? The maximum size of a string? And why does it matter?"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1322642505,"post_id":8323082,"comment_id":10259445,"body_markdown":"because i am developing an addin for a piece of software(a student based ide) called bluej. To remote call methods you have to build a initialisation string which then gets parsed by the method i am trying to invoke with an array. Large arrays fail because the initialisation string is to large. I just wanted to no how i could view the limit","body":"because i am developing an addin for a piece of software(a student based ide) called bluej. To remote call methods you have to build a initialisation string which then gets parsed by the method i am trying to invoke with an array. Large arrays fail because the initialisation string is to large. I just wanted to no how i could view the limit"},{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":0,"creation_date":1322642539,"post_id":8323082,"comment_id":10259460,"body_markdown":"http://stackoverflow.com/questions/816142/strings-maximum-length-in-java-calling-length-method","body":"<a href=\"http://stackoverflow.com/questions/816142/strings-maximum-length-in-java-calling-length-method\" title=\"strings maximum length in java calling length method\">stackoverflow.com/questions/816142/&hellip;</a>"},{"owner":{"account_id":872407,"reputation":1970,"user_id":922954,"accept_rate":100,"display_name":"aishwarya"},"score":0,"creation_date":1322642596,"post_id":8323082,"comment_id":10259473,"body_markdown":"are you refering to something like [this](http://stackoverflow.com/a/1179996/922954)?","body":"are you refering to something like <a href=\"http://stackoverflow.com/a/1179996/922954\">this</a>?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":0,"creation_date":1322648934,"post_id":8323082,"comment_id":10261159,"body_markdown":"Ah, so you are speaking about array initialization, not a string?","body":"Ah, so you are speaking about array initialization, not a string?"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1322649081,"post_id":8323082,"comment_id":10261209,"body_markdown":"the string is used to initalise an array yes.","body":"the string is used to initalise an array yes."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":0,"creation_date":1322650956,"post_id":8323082,"comment_id":10261756,"body_markdown":"Sorry to be asking again, but it matters for the problem: Are we speaking about a string (i.e. something like `&quot;...&quot;` in quotation marks), or do you simply have an array initializer like `int[] bla = {1,2,3, ...};`?","body":"Sorry to be asking again, but it matters for the problem: Are we speaking about a string (i.e. something like <code>&quot;...&quot;</code> in quotation marks), or do you simply have an array initializer like <code>int[] bla = {1,2,3, ...};</code>?"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1322651589,"post_id":8323082,"comment_id":10261916,"body_markdown":"It is hard to define, but to invoke a method in bluej that takes an array as a parametetr we have to use the bluej equivelant of reflection. That is, we call method.invoke(method, Object[]). The object array contains the parameters we want to pass but these parameters have to be formed in to a string initialiser as {1,2,3,4,5,6...} when called on the Object[].toString(). Its the call to .toString() which takes the parameters and invokes them on the method","body":"It is hard to define, but to invoke a method in bluej that takes an array as a parametetr we have to use the bluej equivelant of reflection. That is, we call method.invoke(method, Object[]). The object array contains the parameters we want to pass but these parameters have to be formed in to a string initialiser as {1,2,3,4,5,6...} when called on the Object[].toString(). Its the call to .toString() which takes the parameters and invokes them on the method"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":0,"creation_date":1322657734,"post_id":8323082,"comment_id":10263717,"body_markdown":"@Ricki: What does the code look like about which javac complains? During runtime, both arrays and strings can be almost arbitrarily large (as long as your memory is large enough, and the length is not bigger than Integer.MAX_INT). But for code to be compiled, there might be different limits, and this is where we might need to find a workaround.","body":"@Ricki: What does the code look like about which javac complains? During runtime, both arrays and strings can be almost arbitrarily large (as long as your memory is large enough, and the length is not bigger than Integer.MAX_INT). But for code to be compiled, there might be different limits, and this is where we might need to find a workaround."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1322665237,"post_id":8323082,"comment_id":10266216,"body_markdown":"added the code, it is the for loop which is the offender - as it loops to 10,000","body":"added the code, it is the for loop which is the offender - as it loops to 10,000"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":0,"creation_date":1322668388,"post_id":8323082,"comment_id":10267412,"body_markdown":"Does `javac` complain compiling code like the one shown in the question (which I don&#39;t think), or does the method (which you are calling there by reflection) try to pass this string somehow to a compiler for compilation, which then complains? (Note: If you include `@Pa≈≠lo` in your comments, I get notified and will reply faster. But we can also move this to chat, simply use the link below.)","body":"Does <code>javac</code> complain compiling code like the one shown in the question (which I don&#39;t think), or does the method (which you are calling there by reflection) try to pass this string somehow to a compiler for compilation, which then complains? (Note: If you include <code>@Pa≈≠lo</code> in your comments, I get notified and will reply faster. But we can also move this to chat, simply use the link below.)"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1322668419,"post_id":8323082,"comment_id":10267424,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/5464/discussion-between-ricki-and-paulo-ebermann)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/5464/discussion-between-ricki-and-paulo-ebermann\">continue this discussion in chat</a>"}],"answers":[{"tags":[],"owner":{"account_id":1071336,"reputation":141,"user_id":1070520,"display_name":"youzhi.zhang"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1322642490,"creation_date":1322642490,"answer_id":8323128,"question_id":8323082,"body_markdown":"if type is number max length = Integer.MAX_VALUE,if type is char max length = 65536","title":"Size of Initialisation string in java","body":"<p>if type is number max length = Integer.MAX_VALUE,if type is char max length = 65536</p>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1322642527,"creation_date":1322642527,"answer_id":8323134,"question_id":8323082,"body_markdown":"The String length is limited by the [Integer.MAX_VALUE][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html","title":"Size of Initialisation string in java","body":"<p>The String length is limited by the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html\" rel=\"nofollow\">Integer.MAX_VALUE</a></p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1673701380,"creation_date":1322645680,"answer_id":8323747,"question_id":8323082,"body_markdown":"The length of a String literal (i.e. `&quot;...&quot;`) is limited by the class file format&#39;s [`CONSTANT_Utf8_info`][1] structure, which is referred by the `CONSTANT_String_info` structure.\r\n\r\n    CONSTANT_Utf8_info {\r\n    \tu1 tag;\r\n    \tu2 length;\r\n    \tu1 bytes[length];\r\n    }\r\n\r\nThe limiting factor here is the `length` attribute, which only is 2 bytes large, i.e. has a maximum value of 65535.\r\nThis number corresponds to the number of bytes in a modified UTF-8 representation of the string (this is actually almost [CESU-8][2], but the 0 character is also represented in a two-byte form).\r\n\r\nSo, a pure ASCII string literal can have up to 65535 characters, while a string consisting of characters in the range U+0800 ...U+FFFF have only one third of these. And the ones encoded as surrogate pairs in UTF-16 (i.e. U+10000 to U+10FFFF) take up 6 bytes each (real UTF-8 would take 5 here).\r\n\r\n(The same limit is there for identifiers, i.e. class, method and variable names, and type descriptors for these, since they use the same structure.)\r\n\r\nThe Java Language Specification does not mention any limit for [string literals][3]:\r\n\r\n&gt; A string literal consists of zero or more characters enclosed in double quotes.\r\n\r\nSo in principle a compiler could split a longer string literal into more than one `CONSTANT_String_info` structure and reconstruct it on runtime by concatenation (and `.intern()`-ing the result). I have no idea if any compiler is actually doing this.\r\n\r\n-------------\r\n\r\nIt shows that the problem does not relate to string literals, but to array initializers.\r\n\r\nWhen passing an object to [`BMethod.invoke`][4] (and similarly to BConstructor.newInstance), it can either be a BObject (i.e. a wrapper around an existing object, it will then pass the wrapped object), a String (which will be passed as is), or anything else. In the last case, the object will be converted to a string (by `toString()`), and this string then interpreted as a Java expression.\r\n\r\nTo do this, BlueJ will wrap this expression in a class/method and compile this method. In the method, the array initializer is simply converted to a long list of array assignments ... and this finally makes the method longer than the [maximum bytecode size][5] of a Java method:\r\n\r\n&gt; The value of the code_length item must be less than 65536.\r\n\r\nThis is why it breaks for longer arrays.\r\n\r\n-----------\r\n\r\nSo, to pass larger arrays, we have to find some other way to pass them to BMethod.invoke. The BlueJ extension API has no way to create or access arrays wrapped in a BObject.\r\n\r\nOne idea we found in chat is this:\r\n\r\n1. Create a new class inside the project (or in a new project, if they can interoperate), something like this:\r\n\r\n        public class IntArrayBuilder {\r\n            private ArrayList&lt;Integer&gt; list;\r\n            public void addElement(int el) {\r\n                list.add(el);\r\n            }\r\n            public int[] makeArray() {\r\n                int[] array = new int[list.size()];\r\n                for(int i = 0; i &lt; array.length; i++) {\r\n                   array[i] = list.get(i);\r\n                }\r\n                return array;\r\n            }\r\n        }\r\n    (This is for the case of creating an `int[]` - if you need other types of array, too, it can\r\n     also be made more generic. Also, it could be made more efficient by using an\r\n    internal `int[]` as storage, enlarging it sporadically as it grows, and int makeArray\r\n    doing a final arraycopy. This is a sketch, thus this is the simplest implementation.)\r\n\r\n2. From our extension, create an object of this class ,\r\n   and add elements to this object by calling its `.addElement` method.\r\n\r\n        BObject arrayToBArray(int[] a) {\r\n            BClass builderClass = package.getClass(&quot;IntArrayBuilder&quot;);\r\n            BObject builder = builderClass.getConstructor(new Class&lt;?&gt;[0]).newInstance(new Object[0]);\r\n            BMethod addMethod = builderClass.getMethod(&quot;addElement&quot;, new Class&lt;?&gt;[]{int.class});\r\n            for(int e : a) {\r\n                addMethod.invoke(builder, new Object[]{ e });\r\n            }\r\n            BMethod makeMethod = builderClass.getMethod(&quot;addElement&quot;, new Class&lt;?&gt;[0]);\r\n            BObject bArray = (BObject)makeMethod.invoke(builder, new Object[0]);\r\n            return bArray;\r\n        }\r\n\r\n    (For efficiency, the BClass/BMethod objects could actually be retrieved once and cached instead of once for each array conversion.)   \r\n    If you generate the arrays contents by some algorithm, you can do this generation here instead of first creating another wrapping object.\r\n\r\n3. In our extension, call the method we actually want to call with the long array, passing our wrapped array:\r\n\r\n        Object result = method.invoke(obj, new Object[] { bArray });\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.7\r\n  [2]: http://en.wikipedia.org/wiki/CESU-8\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\r\n  [4]: http://www.bluej.org/doc/extensionsAPI/bluej/extensions/BMethod.html#invoke%28bluej.extensions.BObject,%20java.lang.Object%5B%5D%29\r\n  [5]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.9.1","title":"Size of Initialisation string in java","body":"<p>The length of a String literal (i.e. <code>&quot;...&quot;</code>) is limited by the class file format's <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4.7\" rel=\"nofollow noreferrer\"><code>CONSTANT_Utf8_info</code></a> structure, which is referred by the <code>CONSTANT_String_info</code> structure.</p>\n<pre><code>CONSTANT_Utf8_info {\n    u1 tag;\n    u2 length;\n    u1 bytes[length];\n}\n</code></pre>\n<p>The limiting factor here is the <code>length</code> attribute, which only is 2 bytes large, i.e. has a maximum value of 65535.\nThis number corresponds to the number of bytes in a modified UTF-8 representation of the string (this is actually almost <a href=\"http://en.wikipedia.org/wiki/CESU-8\" rel=\"nofollow noreferrer\">CESU-8</a>, but the 0 character is also represented in a two-byte form).</p>\n<p>So, a pure ASCII string literal can have up to 65535 characters, while a string consisting of characters in the range U+0800 ...U+FFFF have only one third of these. And the ones encoded as surrogate pairs in UTF-16 (i.e. U+10000 to U+10FFFF) take up 6 bytes each (real UTF-8 would take 5 here).</p>\n<p>(The same limit is there for identifiers, i.e. class, method and variable names, and type descriptors for these, since they use the same structure.)</p>\n<p>The Java Language Specification does not mention any limit for <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">string literals</a>:</p>\n<blockquote>\n<p>A string literal consists of zero or more characters enclosed in double quotes.</p>\n</blockquote>\n<p>So in principle a compiler could split a longer string literal into more than one <code>CONSTANT_String_info</code> structure and reconstruct it on runtime by concatenation (and <code>.intern()</code>-ing the result). I have no idea if any compiler is actually doing this.</p>\n<hr />\n<p>It shows that the problem does not relate to string literals, but to array initializers.</p>\n<p>When passing an object to <a href=\"http://www.bluej.org/doc/extensionsAPI/bluej/extensions/BMethod.html#invoke%28bluej.extensions.BObject,%20java.lang.Object%5B%5D%29\" rel=\"nofollow noreferrer\"><code>BMethod.invoke</code></a> (and similarly to BConstructor.newInstance), it can either be a BObject (i.e. a wrapper around an existing object, it will then pass the wrapped object), a String (which will be passed as is), or anything else. In the last case, the object will be converted to a string (by <code>toString()</code>), and this string then interpreted as a Java expression.</p>\n<p>To do this, BlueJ will wrap this expression in a class/method and compile this method. In the method, the array initializer is simply converted to a long list of array assignments ... and this finally makes the method longer than the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.9.1\" rel=\"nofollow noreferrer\">maximum bytecode size</a> of a Java method:</p>\n<blockquote>\n<p>The value of the code_length item must be less than 65536.</p>\n</blockquote>\n<p>This is why it breaks for longer arrays.</p>\n<hr />\n<p>So, to pass larger arrays, we have to find some other way to pass them to BMethod.invoke. The BlueJ extension API has no way to create or access arrays wrapped in a BObject.</p>\n<p>One idea we found in chat is this:</p>\n<ol>\n<li><p>Create a new class inside the project (or in a new project, if they can interoperate), something like this:</p>\n<pre><code> public class IntArrayBuilder {\n     private ArrayList&lt;Integer&gt; list;\n     public void addElement(int el) {\n         list.add(el);\n     }\n     public int[] makeArray() {\n         int[] array = new int[list.size()];\n         for(int i = 0; i &lt; array.length; i++) {\n            array[i] = list.get(i);\n         }\n         return array;\n     }\n }\n</code></pre>\n<p>(This is for the case of creating an <code>int[]</code> - if you need other types of array, too, it can\nalso be made more generic. Also, it could be made more efficient by using an\ninternal <code>int[]</code> as storage, enlarging it sporadically as it grows, and int makeArray\ndoing a final arraycopy. This is a sketch, thus this is the simplest implementation.)</p>\n</li>\n<li><p>From our extension, create an object of this class ,\nand add elements to this object by calling its <code>.addElement</code> method.</p>\n<pre><code> BObject arrayToBArray(int[] a) {\n     BClass builderClass = package.getClass(&quot;IntArrayBuilder&quot;);\n     BObject builder = builderClass.getConstructor(new Class&lt;?&gt;[0]).newInstance(new Object[0]);\n     BMethod addMethod = builderClass.getMethod(&quot;addElement&quot;, new Class&lt;?&gt;[]{int.class});\n     for(int e : a) {\n         addMethod.invoke(builder, new Object[]{ e });\n     }\n     BMethod makeMethod = builderClass.getMethod(&quot;addElement&quot;, new Class&lt;?&gt;[0]);\n     BObject bArray = (BObject)makeMethod.invoke(builder, new Object[0]);\n     return bArray;\n }\n</code></pre>\n<p>(For efficiency, the BClass/BMethod objects could actually be retrieved once and cached instead of once for each array conversion.)<br />\nIf you generate the arrays contents by some algorithm, you can do this generation here instead of first creating another wrapping object.</p>\n</li>\n<li><p>In our extension, call the method we actually want to call with the long array, passing our wrapped array:</p>\n<pre><code> Object result = method.invoke(obj, new Object[] { bArray });\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8174,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":8323747,"answer_count":3,"score":12,"last_activity_date":1673701380,"creation_date":1322642168,"question_id":8323082,"body_markdown":"Apparently there is a limit to the size of an initialisation string in javac. Can anyone help me in identifying what the maximum limit is please?\r\n\r\nThank you\r\n\r\n**edit:**\r\n\r\nWe are building an initialisation string which will look something like this &quot;{1,2,3,4,5,6,7,8......}&quot; but with 10,000 numbers ideally. When we do this for a 1000 it works, 10,000 throws an error saying code too large for try statement. \r\n\r\nTo produce this we are using a stringbuilder and looping over an array appending the values. Apparently it is a limitation in javac. We have been told that we could rebuild the array in the method we are invoking if we pass it in small chunks. This however is not possible because we dont have control over the user method we are invoking.\r\n\r\nI would like to post code but can&#39;t because this is a project for University. I am not looking for code solutions just some help in understanding what the actual problem here is. \r\n\r\nIts the for loop which is the offender \r\n\t\t\t\r\n\t\tObject o = new Object() \r\n\t\t{ \r\n\t\t\tpublic String toString() \r\n\t\t\t{ \r\n\t\t\t\tStringBuilder s = new StringBuilder();\r\n\t\t\t\tint length = MainInterfaceProcessor.this.valuesFromData.length;\r\n\t\t\t\tObject[] arrayToProcess = MainInterfaceProcessor.this.valuesFromData;\r\n\r\n\t\t\t\tif(length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\t//throw exception to do\r\n\t\t\t\t}\r\n\t\t\t\telse if(length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\ts.append(&quot;{&quot; + Integer.toString((Integer)arrayToProcess[0])+&quot;}&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ts.append(&quot;{&quot; + Integer.toString((Integer)arrayToProcess[0])+&quot;,&quot;); //opening statement\r\n\t\t\t\t\tfor(int i = 1; i &lt; length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(i == (length - 1))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//last element in the array so dont add comma at the end\r\n\t\t\t\t\t\t\ts.append(getArrayItemAsString(arrayToProcess, i)+&quot;}&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t//append each array value at position i, followed\r\n\t\t\t\t\t\t//by a comma to seperate the values\r\n\t\t\t\t\t\ts.append(getArrayItemAsString(arrayToProcess, i)+ &quot;,&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn s.toString();\r\n\t\t\t}\r\n\t\t};\r\n\t\ttry \r\n\t\t{\r\n\t\t\tObject result = method.invoke(obj, new Object[] { o });\r\n} ","title":"Size of Initialisation string in java","body":"<p>Apparently there is a limit to the size of an initialisation string in javac. Can anyone help me in identifying what the maximum limit is please?</p>\n\n<p>Thank you</p>\n\n<p><strong>edit:</strong></p>\n\n<p>We are building an initialisation string which will look something like this \"{1,2,3,4,5,6,7,8......}\" but with 10,000 numbers ideally. When we do this for a 1000 it works, 10,000 throws an error saying code too large for try statement. </p>\n\n<p>To produce this we are using a stringbuilder and looping over an array appending the values. Apparently it is a limitation in javac. We have been told that we could rebuild the array in the method we are invoking if we pass it in small chunks. This however is not possible because we dont have control over the user method we are invoking.</p>\n\n<p>I would like to post code but can't because this is a project for University. I am not looking for code solutions just some help in understanding what the actual problem here is. </p>\n\n<p>Its the for loop which is the offender </p>\n\n<pre><code>    Object o = new Object() \n    { \n        public String toString() \n        { \n            StringBuilder s = new StringBuilder();\n            int length = MainInterfaceProcessor.this.valuesFromData.length;\n            Object[] arrayToProcess = MainInterfaceProcessor.this.valuesFromData;\n\n            if(length == 0)\n            {\n                //throw exception to do\n            }\n            else if(length == 1)\n            {\n                s.append(\"{\" + Integer.toString((Integer)arrayToProcess[0])+\"}\");\n            }\n            else\n            {\n                s.append(\"{\" + Integer.toString((Integer)arrayToProcess[0])+\",\"); //opening statement\n                for(int i = 1; i &lt; length; i++)\n                {\n                    if(i == (length - 1))\n                    {\n                        //last element in the array so dont add comma at the end\n                        s.append(getArrayItemAsString(arrayToProcess, i)+\"}\");\n                        break;\n                    }       \n                    //append each array value at position i, followed\n                    //by a comma to seperate the values\n                    s.append(getArrayItemAsString(arrayToProcess, i)+ \",\");\n                }\n            }\n            return s.toString();\n        }\n    };\n    try \n    {\n        Object result = method.invoke(obj, new Object[] { o });\n</code></pre>\n\n<p>} </p>\n"},{"tags":["javascript","java","websocket","deployment","chat"],"owner":{"account_id":18093631,"reputation":1,"user_id":13152476,"display_name":"Jos&#233; Luis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673701336,"creation_date":1673701237,"question_id":75118114,"body_markdown":"I am trying to deploy a chat on web via websockets. The IDE is IntelliJ. I download the code from a trusted site but I can not to run it.   The frontend shows the nick and message are sent but they do&#39;t appear on the frontend, so I suppose the backend (websocket) is not working properly.   I installed TomEE and click the button RUN in order to run it.  The images show it:\r\n\r\nProject Template:\r\n[enter image description here](https://i.stack.imgur.com/9NeoU.png)\r\n\r\nFrontend\r\n```\r\n\r\n&gt; &lt;!DOCTYPE html&gt;\r\n&gt; &lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&gt; &lt;head&gt;\r\n&gt;     &lt;met charset=&quot;UTF-8&quot; /&gt;\r\n&gt;     &lt;title&gt;WebChat &lt;/title&gt;\r\n&gt;     &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/default.css&quot;&gt;\r\n&gt; \r\n&gt;     &lt;script type = &quot;text/javascript&quot;&gt;  &lt;!--  l&#243;gica para conectar con el websocket --&gt;\r\n&gt; let wsocket;\r\n&gt; let userName;\r\n&gt; let textarea;\r\n&gt; let wsconsole;\r\n&gt; let userlist;\r\n&gt; \r\n&gt; M&#233;todo para el usuario unirse*/\r\n&gt; const submitJoin = () =&gt; {\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;pulsado bot&#243;n join&quot;;\r\n&gt; \r\n&gt; let input = document.getElementById(&quot;input&quot;);\r\n&gt; let name = document.getElementById(&quot;name&quot;);\r\n&gt; let join = document.getElementById(&quot;join&quot;);\r\n&gt; if (name.value.length &lt;= 0)   /* Se comprueba que se ha escrito un nombre*/\r\n&gt; return;\r\n&gt; \r\n&gt; let message = {};\r\n&gt; message.userName = name.value;\r\n&gt; message.type = &#39;join&#39;;\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=message;\r\n&gt; let messageJson = JSON.stringify(message);  /* Se convierte el objeto en JavaScript a JSON*/\r\n&gt; wsocket.send(messageJson);   /* se env&#237;a el objeto JSON al websocket*/\r\n&gt;             //document.getElementById(&quot;textarea&quot;).innerText=&quot;enviado mensaje&quot;+message;\r\n&gt; \r\n&gt; name.disabled = true;  /* se deshabilita el campo para poner el nombre*/\r\n&gt; join.disabled = true;   /* idem para el bot&#243;n submit*/\r\n&gt; input.disabled = false;   /* se habilita el campo para enviar mensajes */\r\n&gt; userName = name.value;\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;unido&quot;;\r\n&gt; \r\n&gt;         }\r\n&gt; \r\n&gt; El usuario env&#237;a un mensaje*/\r\n&gt; const sendMessage = event =&gt; {    /* si se escribe un mensaje */\r\n&gt; let input = document.getElementById(&quot;input&quot;);    /* Se recoge su referencia  */\r\n&gt; if (event.key === &#39;Enter&#39; &amp;&amp; input.value.length&gt;0) { /* si el evento fue pulsar enter y se escribi&#243; un mensaje   */\r\n&gt; let message ={};\r\n&gt; message.userName = userName;\r\n&gt; message.type = &#39;chat&#39;;\r\n&gt; message.body = input.value;\r\n&gt; let messageJson = JSON.stringify(message);\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;mensaje enviado&quot; + messageJson;\r\n&gt; \r\n&gt; wsocket.send(messageJson);\r\n&gt; input.value=&quot;&quot;;\r\n&gt;             }\r\n&gt;         }\r\n&gt; \r\n&gt; El usuario recibe un mensaje */\r\n&gt; function onMessage(evt) {\r\n&gt; let line = &quot;&quot;;\r\n&gt; let message =JSON.parse (evt.data);\r\n&gt; \r\n&gt; if (message.type === &quot;chat&quot;) {\r\n&gt; line = `${message.userName} : ${message.body} \\n`;\r\n&gt; textarea.value += &quot;&quot; + line;\r\n&gt;             }\r\n&gt; else if (message.type=== &quot;info&quot;) {\r\n&gt; line = `[--$(message.body} --] \\n`;\r\n&gt; textarea.value += &quot;&quot; + line;\r\n&gt; \r\n&gt;             }\r\n&gt; else if (message.type=== &quot;users&quot;) {\r\n&gt; line = &quot;Users:\\n&quot;;\r\n&gt; message.body.split(&quot;,&quot;).forEach(user =&gt; line+= `-${user}\\n`);\r\n&gt; userlist.value = line;\r\n&gt;             }\r\n&gt;         }\r\n&gt; \r\n&gt; Crear la conexi&#243;n*/\r\n&gt; function connect () {\r\n&gt; textarea = document.getElementById(&quot;textarea&quot;);\r\n&gt; wsconsole = document.getElementById(&quot;wsconsole&quot;);\r\n&gt; userList = document.getElementById(&quot;userlist&quot;);\r\n&gt; wsocket = new WebSocket (&quot;ws://localhost:8080/jakarta-websocket-1.0-SNAPSHOT/webchat&quot;);\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;estado wsocket:&quot;+wsocket;\r\n&gt; wsocket.onmessage = onMessage;   // se asigna un m&#233;todo para cuando se recibe un mensage\r\n&gt; document.getElementById(&quot;name&quot;).focus();   // foco para que introduzca el nombre.\r\n&gt; document.getElementById(&quot;join&quot;).onclick = submitJoin;   // se asigna m&#233;todo cuando se haga click en el bot&#243;n join\r\n&gt; document.getElementById(&quot;input&quot;).onkeyup = sendMessage;   // se asinga m&#233;todo cuando se levante la tecla enter\r\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;Paso 2&quot;;\r\n&gt; \r\n&gt; \r\n&gt;         }\r\n&gt; \r\n&gt; window.addEventListener(&quot;load&quot;, connect, false);   /* al abrir la ventana se lanza connect() */\r\n&gt;     &lt;/script&gt;\r\n&gt; &lt;/head&gt;\r\n&gt; &lt;body&gt;\r\n&gt;     &lt;h1&gt; Web Chat&lt;/h1&gt;\r\n&gt;     &lt;label for=&quot;name&quot;&gt;Your name: &lt;/label&gt;\r\n&gt;     &lt;input id=&quot;name&quot; type=&quot;text&quot; size=&quot;20&quot;  maxlength=&quot;20&quot; /&gt;\r\n&gt; \r\n&gt;     &lt;input id=&quot;join&quot; type=&quot;submit&quot; value=&quot;Join!&quot;  /&gt; &lt;br/&gt;\r\n&gt; \r\n&gt;     &lt;label for=&quot;input&quot;&gt;Escribe tu mensaje: &lt;/label&gt;\r\n&gt;     &lt;textarea id=&quot;input&quot;  cols=&quot;70&quot;  rows=&quot;1&quot; disabled /&gt;&lt;/textarea&gt;&lt;br/&gt;\r\n&gt; \r\n&gt;     &lt;label for=&quot;textarea&quot;&gt;Mensajes en el chat: &lt;/label&gt;\r\n&gt;     &lt;textarea id=&quot;textarea&quot;  cols=&quot;70&quot;  rows=&quot;20&quot; readonly /&gt;  &lt;/textarea&gt;&lt;br/&gt;\r\n&gt; \r\n&gt;     &lt;label for=&quot;userList&quot;&gt;Listado de usuarios: &lt;/label&gt;\r\n&gt;     &lt;textarea id=&quot;userlist&quot;  cols=&quot;20&quot;  rows=&quot;20&quot; readonly /&gt;  &lt;/textarea&gt;&lt;br/&gt;\r\n&gt; \r\n&gt; &lt;/body&gt;\r\n&gt; &lt;/html&gt;\r\n```\r\n\r\n\r\nBackend\r\n\r\n```\r\n&gt; `package com.example.jakartawebsocket;\r\n&gt; \r\n&gt; import jakarta.enterprise.context.ApplicationScoped;\r\n&gt; import jakarta.json.Json;\r\n&gt; import jakarta.json.bind.Jsonb;\r\n&gt; import jakarta.json.bind.JsonbBuilder;\r\n&gt; import jakarta.websocket.OnClose;\r\n&gt; import jakarta.websocket.OnError;\r\n&gt; import jakarta.websocket.OnMessage;\r\n&gt; import jakarta.websocket.Session;\r\n&gt; import jakarta.websocket.server.ServerEndpoint;\r\n&gt; \r\n&gt; import java.io.IOException;\r\n&gt; import java.util.stream.Collectors;\r\n&gt; \r\n&gt; //Para crear un endpoint del websocket\r\n&gt; @ServerEndpoint(value = &quot;/webchat&quot;)\r\n&gt; public class WebChat {\r\n&gt; \r\n&gt; Cuando llega un mensaje para el websocket. Es un m&#233;todo para RECIBIR mensajes.\r\n&gt;     @OnMessage\r\n&gt; public void onMessage(Session session, String text){\r\n&gt; System.out.println(&quot;1.-Mensaje recibido: &quot; + text);\r\n&gt; Parseamos el mensaje recibido en formato JSON a objeto Message\r\n&gt; \r\n&gt; try ( Jsonb jsonb =  JsonbBuilder.create()) {\r\n&gt; Message message=  jsonb.fromJson(text, Message.class);   // aqu&#237; es donde se parsea el texto JSON a Message\r\n&gt; \r\n&gt;            //System.out.println(&quot;Mensaje recibido: &quot; + message);\r\n&gt; \r\n&gt; if (message.getType().equals(&quot;join&quot;)) {\r\n&gt; session:  permite almacenar informaci&#243;n mientras el navegador est&#233; conectado al websocket.\r\n&gt; System.out.println(&quot;2.- join: &quot;);\r\n&gt; \r\n&gt; session.getUserProperties().put (&quot;name&quot;, message.getUsername());\r\n&gt; session.getUserProperties().put (&quot;active&quot;, true);  // el usuario se acaba de unir.\r\n&gt; \r\n&gt; creamos mensaje para enviar\r\n&gt; al unirse a una sesi&#243;n se env&#237;a un mensaje de informaci&#243;n y otro de notificaci&#243;n a los usuarios con el listado de usuarios.\r\n&gt; Primer mensaje env&#237;a un mensaje cuyo contenido es el nombre del usuario para que lo sepan el resto de usuarios.\r\n&gt; En realidad no har&#237;a falta body ya que el nombre de usuario va en el primer argumento.\r\n&gt; Message info = new Message (message.getUsername(), &quot;info&quot;, message.getUsername() + &quot; has joined the chat&quot;);\r\n&gt; \r\n&gt; Segundo mensaje para actualizar la lista de usuarios\r\n&gt; Es necesario construir la lista de usuarios conectadas a la sesi&#243;n. Devolver&#225; un String con los nombres de usuario separados por comas\r\n&gt; Message updateUserList = new Message (message.getUsername(), &quot;users&quot;, getUserNames(session));\r\n&gt; \r\n&gt; Enviar los mensajes creados\r\n&gt; sendAll (session, info);\r\n&gt; sendAll (session, updateUserList);\r\n&gt;            }\r\n&gt; else if (message.getType().equals(&quot;chat&quot;)){\r\n&gt; una vez conectados, el mensaje recibido se env&#237;a a todos los usuarios que tengan una sesi&#243;n abierta.\r\n&gt; sendAll (session, message);\r\n&gt; System.out.println(&quot;3.- Chat: &quot;);\r\n&gt;            }\r\n&gt; \r\n&gt; \r\n&gt; catch (Exception e) {\r\n&gt; throw new RuntimeException(e);\r\n&gt;        }\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt; M&#233;todo para ENVIAR mensajes. Con onMessage y con este m&#233;todo tenemos la comunicaci&#243;n BIDIRECCIONAL.\r\n&gt; private void sendAll(Session session, Message message) {\r\n&gt; debemos convertir el mensaje (objeto Java) a un String JSON para que el frontend lo entienda de forma nativa.\r\n&gt; String json = Json.createObjectBuilder()\r\n&gt;                 .add(&quot;username&quot;, message.getUsername())\r\n&gt;                 .add(&quot;type&quot;, message.getType())\r\n&gt;                 .add(&quot;body&quot;, message.getBody())\r\n&gt;                 .build().toString();\r\n&gt; \r\n&gt; este m&#233;todo nos da todas las sesiones abiertas (un conjunto de sesiones\r\n&gt; session.getOpenSessions().stream()\r\n&gt;                 .filter(Session::isOpen)   // filtramos para quedar solo con las sesiones abiertas.\r\n&gt;                 .forEach(s -&gt; {             // iteramos para enviar a cada sesi&#243;n el mensaje parseado a json.\r\n&gt; try {\r\n&gt; s.getBasicRemote().sendText(json);\r\n&gt; catch (IOException e) {\r\n&gt; throw new RuntimeException(e);\r\n&gt;                     }\r\n&gt;                 });\r\n&gt;     }\r\n&gt; \r\n&gt; m&#233;todo para RECUPERAR la lista de usuarios.\r\n&gt; private String getUserNames(Session session) {\r\n&gt; return session.getOpenSessions()\r\n&gt;                 .stream()\r\n&gt;                 .filter(Session::isOpen)\r\n&gt;                 .filter(s -&gt; s.getUserProperties().get(&quot;active&quot;) != null &amp;&amp; (boolean) session.getUserProperties().get(&quot;active&quot;))  // sesiones activas (true) y que no sean null\r\n&gt;                 .filter(s -&gt; s.getUserProperties().get(&quot;name&quot;) != null)\r\n&gt;                 .map(s -&gt; (String) s.getUserProperties().get(&quot;name&quot;))\r\n&gt;                 .collect(Collectors.joining(&quot;, &quot;));  // se unen los nombres en un &#250;nico String.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt; Cuando se produzca un error en el websocket\r\n&gt;     @OnError\r\n&gt; public void onError (Session session, Throwable e){\r\n&gt; e.printStackTrace();\r\n&gt; \r\n&gt;     }\r\n&gt; \r\n&gt; Cuando se cierre el websocket del usuario,  el usuario se marcha por ejemplo cerrar la pantalla\r\n&gt;     @OnClose\r\n&gt; public void onClose (Session session){\r\n&gt; session.getUserProperties().put(&quot;ative&quot;, false);  // cierra la sesi&#243;n del usuario que se va\r\n&gt; if (session.getUserProperties().containsKey(&quot;name&quot;)) {  // comprobar que el usuario tiene la clave name, por lo que podr&#237;amos obtener el nombre\r\n&gt; String name = session.getUserProperties().get(&quot;name&quot;).toString();  // extraemos el nombre\r\n&gt; Message info = new Message(name, &quot;info&quot;, name + &quot; has left the chat&quot;);\r\n&gt; Message updateUserList = new Message(name, &quot;users&quot;, getUserNames(session));\r\n&gt; \r\n&gt; sendAll(session, info);\r\n&gt; sendAll(session, updateUserList);\r\n&gt;         }\r\n&gt;       }\r\n&gt; }`\r\n```\r\n\r\n\r\n\r\nI click on this button:\r\n[enter image description here](https://i.stack.imgur.com/3Y4kn.png)\r\n\r\nThe console shows thesess messages:\r\n[enter image description here](https://i.stack.imgur.com/OdYft.png)\r\n[enter image description here](https://i.stack.imgur.com/EOlGr.png)\r\n\r\nThen, the frontend is showed:\r\n[enter image description here](https://i.stack.imgur.com/THyw9.png)\r\n\r\nIf I type the name and click Join Button, the backend should send back a message to be put in &quot;Mensajes en el chat&quot; and my name should be appear in &quot;Listado de usuarios&quot;, but that doesn&#39;t ocurr.\r\n\r\nI am not sure whether the app was properly run. The code should be correct (I download from a trusted site). It seems the backend is not working. Why?\r\n\r\nRegards, Jos&#233; Luis","title":"Websocket for a chat","body":"<p>I am trying to deploy a chat on web via websockets. The IDE is IntelliJ. I download the code from a trusted site but I can not to run it.   The frontend shows the nick and message are sent but they do't appear on the frontend, so I suppose the backend (websocket) is not working properly.   I installed TomEE and click the button RUN in order to run it.  The images show it:</p>\n<p>Project Template:\n<a href=\"https://i.stack.imgur.com/9NeoU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Frontend</p>\n<pre><code>\n&gt; &lt;!DOCTYPE html&gt;\n&gt; &lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&gt; &lt;head&gt;\n&gt;     &lt;met charset=&quot;UTF-8&quot; /&gt;\n&gt;     &lt;title&gt;WebChat &lt;/title&gt;\n&gt;     &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/default.css&quot;&gt;\n&gt; \n&gt;     &lt;script type = &quot;text/javascript&quot;&gt;  &lt;!--  l√≥gica para conectar con el websocket --&gt;\n&gt; let wsocket;\n&gt; let userName;\n&gt; let textarea;\n&gt; let wsconsole;\n&gt; let userlist;\n&gt; \n&gt; M√©todo para el usuario unirse*/\n&gt; const submitJoin = () =&gt; {\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;pulsado bot√≥n join&quot;;\n&gt; \n&gt; let input = document.getElementById(&quot;input&quot;);\n&gt; let name = document.getElementById(&quot;name&quot;);\n&gt; let join = document.getElementById(&quot;join&quot;);\n&gt; if (name.value.length &lt;= 0)   /* Se comprueba que se ha escrito un nombre*/\n&gt; return;\n&gt; \n&gt; let message = {};\n&gt; message.userName = name.value;\n&gt; message.type = 'join';\n&gt; document.getElementById(&quot;textarea&quot;).innerText=message;\n&gt; let messageJson = JSON.stringify(message);  /* Se convierte el objeto en JavaScript a JSON*/\n&gt; wsocket.send(messageJson);   /* se env√≠a el objeto JSON al websocket*/\n&gt;             //document.getElementById(&quot;textarea&quot;).innerText=&quot;enviado mensaje&quot;+message;\n&gt; \n&gt; name.disabled = true;  /* se deshabilita el campo para poner el nombre*/\n&gt; join.disabled = true;   /* idem para el bot√≥n submit*/\n&gt; input.disabled = false;   /* se habilita el campo para enviar mensajes */\n&gt; userName = name.value;\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;unido&quot;;\n&gt; \n&gt;         }\n&gt; \n&gt; El usuario env√≠a un mensaje*/\n&gt; const sendMessage = event =&gt; {    /* si se escribe un mensaje */\n&gt; let input = document.getElementById(&quot;input&quot;);    /* Se recoge su referencia  */\n&gt; if (event.key === 'Enter' &amp;&amp; input.value.length&gt;0) { /* si el evento fue pulsar enter y se escribi√≥ un mensaje   */\n&gt; let message ={};\n&gt; message.userName = userName;\n&gt; message.type = 'chat';\n&gt; message.body = input.value;\n&gt; let messageJson = JSON.stringify(message);\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;mensaje enviado&quot; + messageJson;\n&gt; \n&gt; wsocket.send(messageJson);\n&gt; input.value=&quot;&quot;;\n&gt;             }\n&gt;         }\n&gt; \n&gt; El usuario recibe un mensaje */\n&gt; function onMessage(evt) {\n&gt; let line = &quot;&quot;;\n&gt; let message =JSON.parse (evt.data);\n&gt; \n&gt; if (message.type === &quot;chat&quot;) {\n&gt; line = `${message.userName} : ${message.body} \\n`;\n&gt; textarea.value += &quot;&quot; + line;\n&gt;             }\n&gt; else if (message.type=== &quot;info&quot;) {\n&gt; line = `[--$(message.body} --] \\n`;\n&gt; textarea.value += &quot;&quot; + line;\n&gt; \n&gt;             }\n&gt; else if (message.type=== &quot;users&quot;) {\n&gt; line = &quot;Users:\\n&quot;;\n&gt; message.body.split(&quot;,&quot;).forEach(user =&gt; line+= `-${user}\\n`);\n&gt; userlist.value = line;\n&gt;             }\n&gt;         }\n&gt; \n&gt; Crear la conexi√≥n*/\n&gt; function connect () {\n&gt; textarea = document.getElementById(&quot;textarea&quot;);\n&gt; wsconsole = document.getElementById(&quot;wsconsole&quot;);\n&gt; userList = document.getElementById(&quot;userlist&quot;);\n&gt; wsocket = new WebSocket (&quot;ws://localhost:8080/jakarta-websocket-1.0-SNAPSHOT/webchat&quot;);\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;estado wsocket:&quot;+wsocket;\n&gt; wsocket.onmessage = onMessage;   // se asigna un m√©todo para cuando se recibe un mensage\n&gt; document.getElementById(&quot;name&quot;).focus();   // foco para que introduzca el nombre.\n&gt; document.getElementById(&quot;join&quot;).onclick = submitJoin;   // se asigna m√©todo cuando se haga click en el bot√≥n join\n&gt; document.getElementById(&quot;input&quot;).onkeyup = sendMessage;   // se asinga m√©todo cuando se levante la tecla enter\n&gt; document.getElementById(&quot;textarea&quot;).innerText=&quot;Paso 2&quot;;\n&gt; \n&gt; \n&gt;         }\n&gt; \n&gt; window.addEventListener(&quot;load&quot;, connect, false);   /* al abrir la ventana se lanza connect() */\n&gt;     &lt;/script&gt;\n&gt; &lt;/head&gt;\n&gt; &lt;body&gt;\n&gt;     &lt;h1&gt; Web Chat&lt;/h1&gt;\n&gt;     &lt;label for=&quot;name&quot;&gt;Your name: &lt;/label&gt;\n&gt;     &lt;input id=&quot;name&quot; type=&quot;text&quot; size=&quot;20&quot;  maxlength=&quot;20&quot; /&gt;\n&gt; \n&gt;     &lt;input id=&quot;join&quot; type=&quot;submit&quot; value=&quot;Join!&quot;  /&gt; &lt;br/&gt;\n&gt; \n&gt;     &lt;label for=&quot;input&quot;&gt;Escribe tu mensaje: &lt;/label&gt;\n&gt;     &lt;textarea id=&quot;input&quot;  cols=&quot;70&quot;  rows=&quot;1&quot; disabled /&gt;&lt;/textarea&gt;&lt;br/&gt;\n&gt; \n&gt;     &lt;label for=&quot;textarea&quot;&gt;Mensajes en el chat: &lt;/label&gt;\n&gt;     &lt;textarea id=&quot;textarea&quot;  cols=&quot;70&quot;  rows=&quot;20&quot; readonly /&gt;  &lt;/textarea&gt;&lt;br/&gt;\n&gt; \n&gt;     &lt;label for=&quot;userList&quot;&gt;Listado de usuarios: &lt;/label&gt;\n&gt;     &lt;textarea id=&quot;userlist&quot;  cols=&quot;20&quot;  rows=&quot;20&quot; readonly /&gt;  &lt;/textarea&gt;&lt;br/&gt;\n&gt; \n&gt; &lt;/body&gt;\n&gt; &lt;/html&gt;\n</code></pre>\n<p>Backend</p>\n<pre><code>&gt; `package com.example.jakartawebsocket;\n&gt; \n&gt; import jakarta.enterprise.context.ApplicationScoped;\n&gt; import jakarta.json.Json;\n&gt; import jakarta.json.bind.Jsonb;\n&gt; import jakarta.json.bind.JsonbBuilder;\n&gt; import jakarta.websocket.OnClose;\n&gt; import jakarta.websocket.OnError;\n&gt; import jakarta.websocket.OnMessage;\n&gt; import jakarta.websocket.Session;\n&gt; import jakarta.websocket.server.ServerEndpoint;\n&gt; \n&gt; import java.io.IOException;\n&gt; import java.util.stream.Collectors;\n&gt; \n&gt; //Para crear un endpoint del websocket\n&gt; @ServerEndpoint(value = &quot;/webchat&quot;)\n&gt; public class WebChat {\n&gt; \n&gt; Cuando llega un mensaje para el websocket. Es un m√©todo para RECIBIR mensajes.\n&gt;     @OnMessage\n&gt; public void onMessage(Session session, String text){\n&gt; System.out.println(&quot;1.-Mensaje recibido: &quot; + text);\n&gt; Parseamos el mensaje recibido en formato JSON a objeto Message\n&gt; \n&gt; try ( Jsonb jsonb =  JsonbBuilder.create()) {\n&gt; Message message=  jsonb.fromJson(text, Message.class);   // aqu√≠ es donde se parsea el texto JSON a Message\n&gt; \n&gt;            //System.out.println(&quot;Mensaje recibido: &quot; + message);\n&gt; \n&gt; if (message.getType().equals(&quot;join&quot;)) {\n&gt; session:  permite almacenar informaci√≥n mientras el navegador est√© conectado al websocket.\n&gt; System.out.println(&quot;2.- join: &quot;);\n&gt; \n&gt; session.getUserProperties().put (&quot;name&quot;, message.getUsername());\n&gt; session.getUserProperties().put (&quot;active&quot;, true);  // el usuario se acaba de unir.\n&gt; \n&gt; creamos mensaje para enviar\n&gt; al unirse a una sesi√≥n se env√≠a un mensaje de informaci√≥n y otro de notificaci√≥n a los usuarios con el listado de usuarios.\n&gt; Primer mensaje env√≠a un mensaje cuyo contenido es el nombre del usuario para que lo sepan el resto de usuarios.\n&gt; En realidad no har√≠a falta body ya que el nombre de usuario va en el primer argumento.\n&gt; Message info = new Message (message.getUsername(), &quot;info&quot;, message.getUsername() + &quot; has joined the chat&quot;);\n&gt; \n&gt; Segundo mensaje para actualizar la lista de usuarios\n&gt; Es necesario construir la lista de usuarios conectadas a la sesi√≥n. Devolver√° un String con los nombres de usuario separados por comas\n&gt; Message updateUserList = new Message (message.getUsername(), &quot;users&quot;, getUserNames(session));\n&gt; \n&gt; Enviar los mensajes creados\n&gt; sendAll (session, info);\n&gt; sendAll (session, updateUserList);\n&gt;            }\n&gt; else if (message.getType().equals(&quot;chat&quot;)){\n&gt; una vez conectados, el mensaje recibido se env√≠a a todos los usuarios que tengan una sesi√≥n abierta.\n&gt; sendAll (session, message);\n&gt; System.out.println(&quot;3.- Chat: &quot;);\n&gt;            }\n&gt; \n&gt; \n&gt; catch (Exception e) {\n&gt; throw new RuntimeException(e);\n&gt;        }\n&gt; \n&gt;     }\n&gt; \n&gt; M√©todo para ENVIAR mensajes. Con onMessage y con este m√©todo tenemos la comunicaci√≥n BIDIRECCIONAL.\n&gt; private void sendAll(Session session, Message message) {\n&gt; debemos convertir el mensaje (objeto Java) a un String JSON para que el frontend lo entienda de forma nativa.\n&gt; String json = Json.createObjectBuilder()\n&gt;                 .add(&quot;username&quot;, message.getUsername())\n&gt;                 .add(&quot;type&quot;, message.getType())\n&gt;                 .add(&quot;body&quot;, message.getBody())\n&gt;                 .build().toString();\n&gt; \n&gt; este m√©todo nos da todas las sesiones abiertas (un conjunto de sesiones\n&gt; session.getOpenSessions().stream()\n&gt;                 .filter(Session::isOpen)   // filtramos para quedar solo con las sesiones abiertas.\n&gt;                 .forEach(s -&gt; {             // iteramos para enviar a cada sesi√≥n el mensaje parseado a json.\n&gt; try {\n&gt; s.getBasicRemote().sendText(json);\n&gt; catch (IOException e) {\n&gt; throw new RuntimeException(e);\n&gt;                     }\n&gt;                 });\n&gt;     }\n&gt; \n&gt; m√©todo para RECUPERAR la lista de usuarios.\n&gt; private String getUserNames(Session session) {\n&gt; return session.getOpenSessions()\n&gt;                 .stream()\n&gt;                 .filter(Session::isOpen)\n&gt;                 .filter(s -&gt; s.getUserProperties().get(&quot;active&quot;) != null &amp;&amp; (boolean) session.getUserProperties().get(&quot;active&quot;))  // sesiones activas (true) y que no sean null\n&gt;                 .filter(s -&gt; s.getUserProperties().get(&quot;name&quot;) != null)\n&gt;                 .map(s -&gt; (String) s.getUserProperties().get(&quot;name&quot;))\n&gt;                 .collect(Collectors.joining(&quot;, &quot;));  // se unen los nombres en un √∫nico String.\n&gt; \n&gt; \n&gt; \n&gt;     }\n&gt; \n&gt; Cuando se produzca un error en el websocket\n&gt;     @OnError\n&gt; public void onError (Session session, Throwable e){\n&gt; e.printStackTrace();\n&gt; \n&gt;     }\n&gt; \n&gt; Cuando se cierre el websocket del usuario,  el usuario se marcha por ejemplo cerrar la pantalla\n&gt;     @OnClose\n&gt; public void onClose (Session session){\n&gt; session.getUserProperties().put(&quot;ative&quot;, false);  // cierra la sesi√≥n del usuario que se va\n&gt; if (session.getUserProperties().containsKey(&quot;name&quot;)) {  // comprobar que el usuario tiene la clave name, por lo que podr√≠amos obtener el nombre\n&gt; String name = session.getUserProperties().get(&quot;name&quot;).toString();  // extraemos el nombre\n&gt; Message info = new Message(name, &quot;info&quot;, name + &quot; has left the chat&quot;);\n&gt; Message updateUserList = new Message(name, &quot;users&quot;, getUserNames(session));\n&gt; \n&gt; sendAll(session, info);\n&gt; sendAll(session, updateUserList);\n&gt;         }\n&gt;       }\n&gt; }`\n</code></pre>\n<p>I click on this button:\n<a href=\"https://i.stack.imgur.com/3Y4kn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The console shows thesess messages:\n<a href=\"https://i.stack.imgur.com/OdYft.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/EOlGr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Then, the frontend is showed:\n<a href=\"https://i.stack.imgur.com/THyw9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>If I type the name and click Join Button, the backend should send back a message to be put in &quot;Mensajes en el chat&quot; and my name should be appear in &quot;Listado de usuarios&quot;, but that doesn't ocurr.</p>\n<p>I am not sure whether the app was properly run. The code should be correct (I download from a trusted site). It seems the backend is not working. Why?</p>\n<p>Regards, Jos√© Luis</p>\n"},{"tags":["java","apache-camel","dsl","control-bus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673699118,"post_id":75117868,"comment_id":132558853,"body_markdown":"I recommend using the [Direct component](https://camel.apache.org/components/3.20.x/direct-component.html). `from(...).to(direct(&quot;myRouteName&quot;));`, `from(direct(&quot;myRouteName&quot;))...`.","body":"I recommend using the <a href=\"https://camel.apache.org/components/3.20.x/direct-component.html\" rel=\"nofollow noreferrer\">Direct component</a>. <code>from(...).to(direct(&quot;myRouteName&quot;));</code>, <code>from(direct(&quot;myRouteName&quot;))...</code>."},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1673699896,"post_id":75117868,"comment_id":132558974,"body_markdown":"I tried but the datasource i.e. paho retrieves data using &quot;from&quot; only, how could I define the paho endpoint in direct ? i.e. from(rest).to(direct:datasource); from(direct:datasource).to(..);  As I am confused here. I also checked the provided link by you and it doesn&#39;t give information using direct with routeName.","body":"I tried but the datasource i.e. paho retrieves data using &quot;from&quot; only, how could I define the paho endpoint in direct ? i.e. from(rest).to(direct:datasource); from(direct:datasource).to(..);  As I am confused here. I also checked the provided link by you and it doesn&#39;t give information using direct with routeName."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673700173,"post_id":75117868,"comment_id":132559009,"body_markdown":"`direct` is a separate endpoint. We&#39;d need to restructure the application. `paho` reads from MQTT and &quot;does things&quot;. To restructure, we would separate-out what has to be done in both routes (i.e. the http-route and the mqtt-route) in a `direct` route","body":"<code>direct</code> is a separate endpoint. We&#39;d need to restructure the application. <code>paho</code> reads from MQTT and &quot;does things&quot;. To restructure, we would separate-out what has to be done in both routes (i.e. the http-route and the mqtt-route) in a <code>direct</code> route"},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1673700335,"post_id":75117868,"comment_id":132559039,"body_markdown":"Thanks for the response :)\nAs I am new in camel and still learning, could you please give an example of what you are saying?\nThanks in advance","body":"Thanks for the response :) As I am new in camel and still learning, could you please give an example of what you are saying? Thanks in advance"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1673700641,"post_id":75117868,"comment_id":132559074,"body_markdown":"[This tutorial over at `tutorialspoint.com`](https://www.tutorialspoint.com/apache_camel/apache_camel_quick_guide.htm) has some examples. I have no examples I can share at hand.","body":"<a href=\"https://www.tutorialspoint.com/apache_camel/apache_camel_quick_guide.htm\" rel=\"nofollow noreferrer\">This tutorial over at <code>tutorialspoint.com</code></a> has some examples. I have no examples I can share at hand."}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673701158,"creation_date":1673698792,"question_id":75117868,"body_markdown":"I have a scenario when I call one endpoint the another route should execute and return the result.\r\nLets say I have an endpoint:\r\n\r\n    http://localhost:8080/api/customer\r\n\r\nI am using the camel-jetty to start the above servlet endpoint, like:\r\n\r\n    from(&quot;jetty:http://localhost:8080/api/customer&quot;).to(&quot;controlbus:route?routeId=route2&amp;action=start&quot;);\r\n\r\nWhen I do GET request on this endpoint it will trigger another route defined as below:\r\n\r\n    from(&quot;paho://Properties&quot;).to(&quot;jsonata://some path&quot;).routeId(&quot;route2&quot;).noAutoStratup().log(&quot;Data : ${body}&quot;);\r\n\r\nI tried to use camel-controlbus but it is not working.\r\n\r\nHow can I achieve this scenario?\r\nCan somebody please help me in this regard?","title":"How to trigger another route when REST Endpoint is called in camel","body":"<p>I have a scenario when I call one endpoint the another route should execute and return the result.\nLets say I have an endpoint:</p>\n<pre><code>http://localhost:8080/api/customer\n</code></pre>\n<p>I am using the camel-jetty to start the above servlet endpoint, like:</p>\n<pre><code>from(&quot;jetty:http://localhost:8080/api/customer&quot;).to(&quot;controlbus:route?routeId=route2&amp;action=start&quot;);\n</code></pre>\n<p>When I do GET request on this endpoint it will trigger another route defined as below:</p>\n<pre><code>from(&quot;paho://Properties&quot;).to(&quot;jsonata://some path&quot;).routeId(&quot;route2&quot;).noAutoStratup().log(&quot;Data : ${body}&quot;);\n</code></pre>\n<p>I tried to use camel-controlbus but it is not working.</p>\n<p>How can I achieve this scenario?\nCan somebody please help me in this regard?</p>\n"},{"tags":["java","api","nearprotocol"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673704039,"post_id":75118070,"comment_id":132559661,"body_markdown":"You mentioned three methods for calling a contract function.  You didn&#39;t say what you wanted your code to actually do.  The project README lists way more functions than you listed.","body":"You mentioned three methods for calling a contract function.  You didn&#39;t say what you wanted your code to actually do.  The project README lists way more functions than you listed."},{"owner":{"account_id":26831122,"reputation":41,"user_id":20419070,"display_name":"Nechi"},"score":0,"creation_date":1673706775,"post_id":75118070,"comment_id":132560164,"body_markdown":"I want to call a function from the blockchain, which retrieves data. And then I want to parse and provide the data via REST. Is it better to do a Transaction than a function call?","body":"I want to call a function from the blockchain, which retrieves data. And then I want to parse and provide the data via REST. Is it better to do a Transaction than a function call?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673710400,"post_id":75118070,"comment_id":132560849,"body_markdown":"What function?  What data are you providing by REST?  Describe what you&#39;re trying to do.","body":"What function?  What data are you providing by REST?  Describe what you&#39;re trying to do."},{"owner":{"account_id":26831122,"reputation":41,"user_id":20419070,"display_name":"Nechi"},"score":0,"creation_date":1673713575,"post_id":75118070,"comment_id":132561520,"body_markdown":"I try to save xml data as a string in the Blockcain. Then I try to get the xml Data from the Blockchain and parse it. After parsing I want to provide the data in JSON via a REST-Service.","body":"I try to save xml data as a string in the Blockcain. Then I try to get the xml Data from the Blockchain and parse it. After parsing I want to provide the data in JSON via a REST-Service."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673721528,"post_id":75118070,"comment_id":132563208,"body_markdown":"Why are you using a blockchain?  It appears that the blockchain is for transactions between two parties, not a secure database.","body":"Why are you using a blockchain?  It appears that the blockchain is for transactions between two parties, not a secure database."},{"owner":{"account_id":26831122,"reputation":41,"user_id":20419070,"display_name":"Nechi"},"score":0,"creation_date":1673731051,"post_id":75118070,"comment_id":132564904,"body_markdown":"Because I need to save data, which should not be changed from anyone.","body":"Because I need to save data, which should not be changed from anyone."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1673744665,"post_id":75118070,"comment_id":132566739,"body_markdown":"I&#39;m looking at the [near protocol examples webpage](https://docs.near.org/tutorials/welcome) and I don&#39;t see anything but transaction examples.  Maybe you can send data to yourself.","body":"I&#39;m looking at the <a href=\"https://docs.near.org/tutorials/welcome\" rel=\"nofollow noreferrer\">near protocol examples webpage</a> and I don&#39;t see anything but transaction examples.  Maybe you can send data to yourself."}],"owner":{"account_id":26831122,"reputation":41,"user_id":20419070,"display_name":"Nechi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673700745,"creation_date":1673700745,"question_id":75118070,"body_markdown":"I want to call a function on my Smart Contract to retrieve Data from the Blockchain. I use the https://github.com/syntifi/near-java-api.\r\n\r\nThere are 3 different Methods on how I can call a function:\r\n\r\nBy finalty:\r\n\r\n    ContractFunctionCallResult contractFunctionCallResult = nearClient\r\n        .callContractFunction(\r\n                Finality.FINAL,\r\n                &quot;guest-book.testnet&quot;,\r\n                &quot;getMessages&quot;,\r\n                &quot;e30=&quot;);\r\nBy height:\r\n\r\n    ContractFunctionCallResult contractFunctionCallResult = nearClient\r\n        .callContractFunction(79272492,\r\n                &quot;guest-book.testnet&quot;,\r\n                &quot;getMessages&quot;,\r\n                &quot;e30=&quot;);\r\nand by hash:\r\n\r\n    ContractFunctionCallResult contractFunctionCallResult = nearClient\r\n        .callContractFunction(\r\n                &quot;J5QTB4Stz3iwtHvgr5KnVzNUgzm4J1bE5Et6JWrJPC8o&quot;,\r\n                &quot;guest-book.testnet&quot;,\r\n                &quot;getMessages&quot;,\r\n                &quot;e30=&quot;);\r\n\r\nI don&#180;t know which one of these three fits the best for my Application. Because I want to retrieve Data, parse it and provide the parsed Data via REST.\r\n\r\nAnd I don&#180;t know how to use it correctly. \r\nI don&#180;t know if it is the correct way to do it by these functions, because you don&#180;t need to use your AccountID. \r\n","title":"Java Near Protocol API","body":"<p>I want to call a function on my Smart Contract to retrieve Data from the Blockchain. I use the <a href=\"https://github.com/syntifi/near-java-api\" rel=\"nofollow noreferrer\">https://github.com/syntifi/near-java-api</a>.</p>\n<p>There are 3 different Methods on how I can call a function:</p>\n<p>By finalty:</p>\n<pre><code>ContractFunctionCallResult contractFunctionCallResult = nearClient\n    .callContractFunction(\n            Finality.FINAL,\n            &quot;guest-book.testnet&quot;,\n            &quot;getMessages&quot;,\n            &quot;e30=&quot;);\n</code></pre>\n<p>By height:</p>\n<pre><code>ContractFunctionCallResult contractFunctionCallResult = nearClient\n    .callContractFunction(79272492,\n            &quot;guest-book.testnet&quot;,\n            &quot;getMessages&quot;,\n            &quot;e30=&quot;);\n</code></pre>\n<p>and by hash:</p>\n<pre><code>ContractFunctionCallResult contractFunctionCallResult = nearClient\n    .callContractFunction(\n            &quot;J5QTB4Stz3iwtHvgr5KnVzNUgzm4J1bE5Et6JWrJPC8o&quot;,\n            &quot;guest-book.testnet&quot;,\n            &quot;getMessages&quot;,\n            &quot;e30=&quot;);\n</code></pre>\n<p>I don¬¥t know which one of these three fits the best for my Application. Because I want to retrieve Data, parse it and provide the parsed Data via REST.</p>\n<p>And I don¬¥t know how to use it correctly.\nI don¬¥t know if it is the correct way to do it by these functions, because you don¬¥t need to use your AccountID.</p>\n"},{"tags":["java","android","system"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673700562,"creation_date":1673700562,"answer_id":75118046,"question_id":75118040,"body_markdown":"&gt; Is there a way to do this?\r\n\r\nNo, unless your app is the home screen. Home screens do not have to show icons at all, let alone provide APIs for third-party apps to control where those icons appear.","title":"I am coding an andriod application, can I control homescreen app layout via my application?","body":"<blockquote>\n<p>Is there a way to do this?</p>\n</blockquote>\n<p>No, unless your app is the home screen. Home screens do not have to show icons at all, let alone provide APIs for third-party apps to control where those icons appear.</p>\n"}],"owner":{"account_id":14334955,"reputation":13,"user_id":10354726,"display_name":"charlie Pearson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673700562,"creation_date":1673700488,"question_id":75118040,"body_markdown":"I am devloping an andriod app in java, I want to be able to change the positioning of other apps on the phone home screen. \r\nFor example:\r\n\r\nYoutube is currently in the top right position of the first screen and I want to be able to move it to the middle left position on the 3rd screen of the phone.\r\n\r\nIs there a way to do this?\r\n\r\n\r\nI haven&#39;t been able to find any APIs to do this but I am completley new to andriod app development so I doubt I have been looking in the right place.","title":"I am coding an andriod application, can I control homescreen app layout via my application?","body":"<p>I am devloping an andriod app in java, I want to be able to change the positioning of other apps on the phone home screen.\nFor example:</p>\n<p>Youtube is currently in the top right position of the first screen and I want to be able to move it to the middle left position on the 3rd screen of the phone.</p>\n<p>Is there a way to do this?</p>\n<p>I haven't been able to find any APIs to do this but I am completley new to andriod app development so I doubt I have been looking in the right place.</p>\n"},{"tags":["java","user-interface","frame"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1668208311,"post_id":74409026,"comment_id":131357853,"body_markdown":"Swing layout is lazy. If you update a container in some way, you should call revalidate and repaint on that container after you‚Äôve completed the updates","body":"Swing layout is lazy. If you update a container in some way, you should call revalidate and repaint on that container after you‚Äôve completed the updates"},{"owner":{"account_id":26842610,"reputation":11,"user_id":20428873,"display_name":"Maliha Hossain"},"score":0,"creation_date":1668215665,"post_id":74409026,"comment_id":131358946,"body_markdown":"this didn&#39;t work . I tried adding both revalidate and repaint after I added the panel to the frame. i also tried adding it in the actionlistener right after I seticon.","body":"this didn&#39;t work . I tried adding both revalidate and repaint after I added the panel to the frame. i also tried adding it in the actionlistener right after I seticon."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1668216356,"post_id":74409026,"comment_id":131359035,"body_markdown":"[mcve] please ...","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please ..."}],"owner":{"account_id":26842610,"reputation":11,"user_id":20428873,"display_name":"Maliha Hossain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673700508,"creation_date":1668207956,"question_id":74409026,"body_markdown":"Can anyone help me with a bug in my code? So I have to make a GUI. I have a filter class given and call those filters upon clicking on the buttons. I added a picture in the center of the panel and each time I click on a filter it should add the filter to the picture. The problem is when I click on the filter it doesn‚Äôt add the filter to the label /pic unless I extend the frame or move it.\r\n\r\nThis is the actionlistener:\r\n\r\n```\r\npublic void actionPerformed(final ActionEvent e) {  \r\n    if (e.getSource() == mybutton)  {\r\n        final EdgeDetectFilter myfilter = new EdgeDetectFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton2) {\r\n        final EdgeHighlightFilter myfilter = new EdgeHighlightFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton3) {\r\n        final FlipHorizontalFilter myfilter = new FlipHorizontalFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton3) {\r\n        final FlipHorizontalFilter myfilter = new FlipHorizontalFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton4) {\r\n        final FlipVerticalFilter myfilter = new FlipVerticalFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton5) {\r\n        final  GrayscaleFilter myfilter = new GrayscaleFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton6) {\r\n        final SharpenFilter myfilter = new SharpenFilter();\r\n        myfilter.filter(thePic);\r\n    } else if (e.getSource() == mybutton7) {\r\n        final SoftenFilter myfilter = new SoftenFilter();\r\n        myfilter.filter(thePic);\r\n    }\r\n    else if (e.getSource() == mybutton8) {\r\n        final int response = this.fileChooser.showOpenDialog(null); //select file to open       \r\n        if (response == JFileChooser.APPROVE_OPTION) {\r\n            final File file = new File(fileChooser.getSelectedFile().getPath());          \r\n            try {\r\n                thePic = PixelImage.load(file);\r\n            } catch (IOException e1) {\r\n                // TODO Auto-generated catch block\r\n                e1.printStackTrace();\r\n            }\r\n```\r\n\r\nIn this part of the actionlistener where the user clicks on open button that opens a directory to choose the file from. Then once the user chooses their file I add the image to the image label as an icon\r\n\r\n```\r\nelse if (e.getSource() == mybutton8) {\r\n    final int response = this.fileChooser.showOpenDialog(null); //select file to open       \r\n    if (response == JFileChooser.APPROVE_OPTION) {\r\n        final File file = new File(fileChooser.getSelectedFile().getPath());          \r\n        try {\r\n            thePic = PixelImage.load(file);\r\n        } catch (IOException e1) {\r\n            // TODO Auto-generated catch block\r\n            e1.printStackTrace();\r\n        }\r\n            image.setIcon(new ImageIcon(thePic));\r\n            image.repaint();\r\n            myJFrame.pack();  \r\n        }\r\n    } \r\n```\r\n\r\nIn this part, I am adding the image label to my center panel and added the center panel to the frame \r\n\r\n```\r\nthis.centerpanel = new JPanel();  \r\ncenterpanel.setLayout(new GridLayout(1,2));\r\nimage.setHorizontalAlignment(SwingConstants.CENTER);\r\nimage.setVerticalAlignment(SwingConstants.CENTER);\r\ncenterpanel.add(image, BorderLayout.CENTER);\r\nmyJFrame.add(centerpanel, BorderLayout.CENTER);\r\ncenterpanel.setPreferredSize(new Dimension(700,700));\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/a2ZFE.png)](https://i.stack.imgur.com/a2ZFE.png)\r\n\r\n\r\n","title":"JFRAME filter doesn&#39;t work unless I extend/move there frame","body":"<p>Can anyone help me with a bug in my code? So I have to make a GUI. I have a filter class given and call those filters upon clicking on the buttons. I added a picture in the center of the panel and each time I click on a filter it should add the filter to the picture. The problem is when I click on the filter it doesn‚Äôt add the filter to the label /pic unless I extend the frame or move it.</p>\n<p>This is the actionlistener:</p>\n<pre><code>public void actionPerformed(final ActionEvent e) {  \n    if (e.getSource() == mybutton)  {\n        final EdgeDetectFilter myfilter = new EdgeDetectFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton2) {\n        final EdgeHighlightFilter myfilter = new EdgeHighlightFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton3) {\n        final FlipHorizontalFilter myfilter = new FlipHorizontalFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton3) {\n        final FlipHorizontalFilter myfilter = new FlipHorizontalFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton4) {\n        final FlipVerticalFilter myfilter = new FlipVerticalFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton5) {\n        final  GrayscaleFilter myfilter = new GrayscaleFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton6) {\n        final SharpenFilter myfilter = new SharpenFilter();\n        myfilter.filter(thePic);\n    } else if (e.getSource() == mybutton7) {\n        final SoftenFilter myfilter = new SoftenFilter();\n        myfilter.filter(thePic);\n    }\n    else if (e.getSource() == mybutton8) {\n        final int response = this.fileChooser.showOpenDialog(null); //select file to open       \n        if (response == JFileChooser.APPROVE_OPTION) {\n            final File file = new File(fileChooser.getSelectedFile().getPath());          \n            try {\n                thePic = PixelImage.load(file);\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n</code></pre>\n<p>In this part of the actionlistener where the user clicks on open button that opens a directory to choose the file from. Then once the user chooses their file I add the image to the image label as an icon</p>\n<pre><code>else if (e.getSource() == mybutton8) {\n    final int response = this.fileChooser.showOpenDialog(null); //select file to open       \n    if (response == JFileChooser.APPROVE_OPTION) {\n        final File file = new File(fileChooser.getSelectedFile().getPath());          \n        try {\n            thePic = PixelImage.load(file);\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n            image.setIcon(new ImageIcon(thePic));\n            image.repaint();\n            myJFrame.pack();  \n        }\n    } \n</code></pre>\n<p>In this part, I am adding the image label to my center panel and added the center panel to the frame</p>\n<pre><code>this.centerpanel = new JPanel();  \ncenterpanel.setLayout(new GridLayout(1,2));\nimage.setHorizontalAlignment(SwingConstants.CENTER);\nimage.setVerticalAlignment(SwingConstants.CENTER);\ncenterpanel.add(image, BorderLayout.CENTER);\nmyJFrame.add(centerpanel, BorderLayout.CENTER);\ncenterpanel.setPreferredSize(new Dimension(700,700));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/a2ZFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2ZFE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","jakarta-ee","wildfly","dapr"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673442291,"creation_date":1673442291,"answer_id":75083522,"question_id":75070279,"body_markdown":"Dapr Java SDK only provides a native integration for Spring Boot; where Dapr-specific annotations such as `Topic` gets processed and their configuration synthesized into the respective action taking into consideration property resolution, which in your case, would be the topic subscription creation.\r\n\r\nTo have the a subscription created dynamically toward the config-wired topic values, you can use the Dapr SDK programmatically to create subscription topics by exposing a route over the `/dapr/subscribe` endpoint:\r\n\r\n    @Path(&quot;/dapr&quot;)\r\n    public class DaprController {\r\n    \r\n       private static final DefaultObjectSerializer SERIALIZER = new DefaultObjectSerializer();\r\n\r\n       @GET\r\n       @Produces(MediaType.APPLICATION_JSON)\r\n       @Path(&quot;/subscribe&quot;)\r\n       public Response subscribeTopics() {\r\n           String topic = &quot;TOPIC_NAME&quot;; // you can resolve this value out of environment variables, system properties or MicroProfile config is you are using Wildfly-extras\r\n           String pubsub = &quot;PUBSUB&quot;; // resolve this values as well through any external meaning\r\n           TopicConfig config = new TopicConfig(pubsub, topic, &quot;/handleTopicRoute&quot;, Collections.emptyList());\r\n           return Response.ok(SERIALIZER.serialize(Collections.singleton(config))).build();\r\n       }\r\n    }\r\n\r\nHere is the Topic configuration template (Inspired from Spring Boot integration DaprTopicConfiguration):\r\n\r\n    public class TopicConfig {\r\n      private final String pubsubName;\r\n      private final String topic;\r\n      private final String route;\r\n      private final Map&lt;String, String&gt; metadata;\r\n    \r\n      public TopicConfig(String pubsubName, String topic, String route, Map&lt;String, String&gt; metadata) {\r\n        this.pubsubName = pubsubName;\r\n        this.topic = topic;\r\n        this.route = route;\r\n        this.metadata = Collections.unmodifiableMap(metadata);\r\n      }\r\n    \r\n      public String getPubsubName() {\r\n        return pubsubName;\r\n      }\r\n    \r\n      public String getTopic() {\r\n        return topic;\r\n      }\r\n    \r\n      public String getRoute() {\r\n        return route;\r\n      }\r\n    \r\n      public Map&lt;String, String&gt; getMetadata() {\r\n        return metadata;\r\n      }\r\n    }","title":"Setting Dapr @Topic fields at runtime","body":"<p>Dapr Java SDK only provides a native integration for Spring Boot; where Dapr-specific annotations such as <code>Topic</code> gets processed and their configuration synthesized into the respective action taking into consideration property resolution, which in your case, would be the topic subscription creation.</p>\n<p>To have the a subscription created dynamically toward the config-wired topic values, you can use the Dapr SDK programmatically to create subscription topics by exposing a route over the <code>/dapr/subscribe</code> endpoint:</p>\n<pre><code>@Path(&quot;/dapr&quot;)\npublic class DaprController {\n\n   private static final DefaultObjectSerializer SERIALIZER = new DefaultObjectSerializer();\n\n   @GET\n   @Produces(MediaType.APPLICATION_JSON)\n   @Path(&quot;/subscribe&quot;)\n   public Response subscribeTopics() {\n       String topic = &quot;TOPIC_NAME&quot;; // you can resolve this value out of environment variables, system properties or MicroProfile config is you are using Wildfly-extras\n       String pubsub = &quot;PUBSUB&quot;; // resolve this values as well through any external meaning\n       TopicConfig config = new TopicConfig(pubsub, topic, &quot;/handleTopicRoute&quot;, Collections.emptyList());\n       return Response.ok(SERIALIZER.serialize(Collections.singleton(config))).build();\n   }\n}\n</code></pre>\n<p>Here is the Topic configuration template (Inspired from Spring Boot integration DaprTopicConfiguration):</p>\n<pre><code>public class TopicConfig {\n  private final String pubsubName;\n  private final String topic;\n  private final String route;\n  private final Map&lt;String, String&gt; metadata;\n\n  public TopicConfig(String pubsubName, String topic, String route, Map&lt;String, String&gt; metadata) {\n    this.pubsubName = pubsubName;\n    this.topic = topic;\n    this.route = route;\n    this.metadata = Collections.unmodifiableMap(metadata);\n  }\n\n  public String getPubsubName() {\n    return pubsubName;\n  }\n\n  public String getTopic() {\n    return topic;\n  }\n\n  public String getRoute() {\n    return route;\n  }\n\n  public Map&lt;String, String&gt; getMetadata() {\n    return metadata;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10164227,"reputation":33,"user_id":7506700,"display_name":"Gerry Askefalk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75083522,"answer_count":1,"score":0,"last_activity_date":1673700417,"creation_date":1673355120,"question_id":75070279,"body_markdown":"Stack: Java Jakarta EE10 Wildfly27  Docker Dapr\r\n\r\nThe issue is configuration of Topics, dynamically.\r\nI have several environments TEST/DEV/PROD and i want to use different topics for the different environments, but the same image. Ideally i would like to set the topic via Environment variables.\r\n\r\nSo why not do this declarative? Well as i run Dapr on Azure Container Service (ACA) and it does NOT(!) support declarative config(!)\r\n\r\nSo the way to do this in my subscriber is via the Annotation @Topic\r\n\r\nLike this`@Topic(name = &quot;cache_update&quot;, pubsubName = &quot;${myAppProperty:messagebus}&quot;)`\r\n\r\nIn the sample above &quot;messagebus&quot; is the default value and &quot;myAppProperty&quot; is the name of the application Property.\r\n\r\nHad i used Spring this would have worked but we are using Jakarta EE10 running on Wildfly 27\r\n\r\nHow on earth can i get this to work?\r\n\r\nUPDATE:\r\n\r\nOk, thank You very much for this, however i am still a bit unclear on how to write the Sub part (That will expose a POST endpoint? SO my Endpoint would look something like this instead?\r\n\r\n(i.e No @Topic annotation needed?) \r\n\r\n    @Path(&quot;/handleTopicRoute&quot;)\r\n    @RequestScoped \r\n    public class DaprServiceImpl extends AbstractCmsService implements DaprService { \r\n    \r\n       public Response receiveMessage(CloudEvent&lt;CacheUpdate&gt; event) { \r\n       return getResponse(daprSubscriptionController.updateCache(event.getData())); \r\n    }\r\n\r\n\r\nSo Dapr finds my mapping endpoint to topic via the endpoint you showed me?\r\n\r\n","title":"Setting Dapr @Topic fields at runtime","body":"<p>Stack: Java Jakarta EE10 Wildfly27  Docker Dapr</p>\n<p>The issue is configuration of Topics, dynamically.\nI have several environments TEST/DEV/PROD and i want to use different topics for the different environments, but the same image. Ideally i would like to set the topic via Environment variables.</p>\n<p>So why not do this declarative? Well as i run Dapr on Azure Container Service (ACA) and it does NOT(!) support declarative config(!)</p>\n<p>So the way to do this in my subscriber is via the Annotation @Topic</p>\n<p>Like this<code>@Topic(name = &quot;cache_update&quot;, pubsubName = &quot;${myAppProperty:messagebus}&quot;)</code></p>\n<p>In the sample above &quot;messagebus&quot; is the default value and &quot;myAppProperty&quot; is the name of the application Property.</p>\n<p>Had i used Spring this would have worked but we are using Jakarta EE10 running on Wildfly 27</p>\n<p>How on earth can i get this to work?</p>\n<p>UPDATE:</p>\n<p>Ok, thank You very much for this, however i am still a bit unclear on how to write the Sub part (That will expose a POST endpoint? SO my Endpoint would look something like this instead?</p>\n<p>(i.e No @Topic annotation needed?)</p>\n<pre><code>@Path(&quot;/handleTopicRoute&quot;)\n@RequestScoped \npublic class DaprServiceImpl extends AbstractCmsService implements DaprService { \n\n   public Response receiveMessage(CloudEvent&lt;CacheUpdate&gt; event) { \n   return getResponse(daprSubscriptionController.updateCache(event.getData())); \n}\n</code></pre>\n<p>So Dapr finds my mapping endpoint to topic via the endpoint you showed me?</p>\n"},{"tags":["java","cryptography","sha256","cryptographic-hash-function"],"comments":[{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":2,"creation_date":1407759918,"post_id":5531455,"comment_id":39325891,"body_markdown":"possible duplicate of [Hash String via SHA-256 in Java](http://stackoverflow.com/questions/3103652/hash-string-via-sha-256-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3103652/hash-string-via-sha-256-in-java\">Hash String via SHA-256 in Java</a>"},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":1,"creation_date":1585691268,"post_id":5531455,"comment_id":107850891,"body_markdown":"https://www.baeldung.com/sha-256-hashing-java","body":"<a href=\"https://www.baeldung.com/sha-256-hashing-java\" rel=\"nofollow noreferrer\">baeldung.com/sha-256-hashing-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":384,"is_accepted":true,"score":384,"last_activity_date":1637229878,"creation_date":1301854365,"answer_id":5531479,"question_id":5531455,"body_markdown":"SHA-256 isn&#39;t an &quot;encoding&quot; - it&#39;s a one-way hash.\r\n\r\nYou&#39;d basically convert the string into bytes (e.g. using `text.getBytes(StandardCharsets.UTF_8)`) and then hash the bytes. Note that the result of the hash would *also* be arbitrary binary data, and if you want to represent that in a string, you should [use base64](https://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java) or hex... *don&#39;t* try to use the `String(byte[], String)` constructor.\r\n\r\ne.g.\r\n\r\n    MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    byte[] hash = digest.digest(text.getBytes(StandardCharsets.UTF_8));\r\n ","title":"How to hash some String with SHA-256 in Java?","body":"<p>SHA-256 isn't an &quot;encoding&quot; - it's a one-way hash.</p>\n<p>You'd basically convert the string into bytes (e.g. using <code>text.getBytes(StandardCharsets.UTF_8)</code>) and then hash the bytes. Note that the result of the hash would <em>also</em> be arbitrary binary data, and if you want to represent that in a string, you should <a href=\"https://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java\">use base64</a> or hex... <em>don't</em> try to use the <code>String(byte[], String)</code> constructor.</p>\n<p>e.g.</p>\n<pre><code>MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\nbyte[] hash = digest.digest(text.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1562779,"reputation":1149,"user_id":1452273,"display_name":"user1452273"},"down_vote_count":1,"up_vote_count":115,"is_accepted":false,"score":114,"last_activity_date":1615733749,"creation_date":1339570398,"answer_id":11009612,"question_id":5531455,"body_markdown":"Full example hash to string as another string.\r\n\r\n    public static String sha256(final String base) {\r\n    \ttry{\r\n    \t\tfinal MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\tfinal byte[] hash = digest.digest(base.getBytes(&quot;UTF-8&quot;));\r\n    \t\tfinal StringBuilder hexString = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; hash.length; i++) {\r\n    \t\t\tfinal String hex = Integer.toHexString(0xff &amp; hash[i]);\r\n    \t\t\tif(hex.length() == 1) \r\n                  hexString.append(&#39;0&#39;);\r\n    \t\t\thexString.append(hex);\r\n    \t\t}\r\n    \t\treturn hexString.toString();\r\n    \t} catch(Exception ex){\r\n    \t   throw new RuntimeException(ex);\r\n    \t}\r\n    }","title":"How to hash some String with SHA-256 in Java?","body":"<p>Full example hash to string as another string.</p>\n<pre><code>public static String sha256(final String base) {\n    try{\n        final MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        final byte[] hash = digest.digest(base.getBytes(&quot;UTF-8&quot;));\n        final StringBuilder hexString = new StringBuilder();\n        for (int i = 0; i &lt; hash.length; i++) {\n            final String hex = Integer.toHexString(0xff &amp; hash[i]);\n            if(hex.length() == 1) \n              hexString.append('0');\n            hexString.append(hex);\n        }\n        return hexString.toString();\n    } catch(Exception ex){\n       throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1533799,"reputation":2464,"user_id":1430347,"display_name":"seba"},"down_vote_count":1,"up_vote_count":233,"is_accepted":false,"score":232,"last_activity_date":1373752960,"creation_date":1373752960,"answer_id":17634603,"question_id":5531455,"body_markdown":"I think that the easiest solution is to use [Apache Common Codec][1]:\r\n\r\n    String sha256hex = org.apache.commons.codec.digest.DigestUtils.sha256Hex(stringText);\t\r\n\r\n\t\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-codec/","title":"How to hash some String with SHA-256 in Java?","body":"<p>I think that the easiest solution is to use <a href=\"http://commons.apache.org/proper/commons-codec/\" rel=\"noreferrer\">Apache Common Codec</a>:</p>\n\n<pre><code>String sha256hex = org.apache.commons.codec.digest.DigestUtils.sha256Hex(stringText);   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1454419547,"creation_date":1377015955,"answer_id":18340262,"question_id":5531455,"body_markdown":"Another alternative is [Guava](https://code.google.com/p/guava-libraries/) which has an easy-to-use suite of [Hashing](http://docs.guava-libraries.googlecode.com/git-history/release12/javadoc/com/google/common/hash/Hashing.html) utilities. For example, to hash a string using SHA256 as a hex-string you would simply do:\r\n\r\n    final String hashed = Hashing.sha256()\r\n            .hashString(&quot;your input&quot;, StandardCharsets.UTF_8)\r\n            .toString();","title":"How to hash some String with SHA-256 in Java?","body":"<p>Another alternative is <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> which has an easy-to-use suite of <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release12/javadoc/com/google/common/hash/Hashing.html\" rel=\"noreferrer\">Hashing</a> utilities. For example, to hash a string using SHA256 as a hex-string you would simply do:</p>\n\n<pre><code>final String hashed = Hashing.sha256()\n        .hashString(\"your input\", StandardCharsets.UTF_8)\n        .toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2763819,"reputation":3329,"user_id":2380114,"accept_rate":62,"display_name":"Chathura Wijesinghe"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1567560475,"creation_date":1444031073,"answer_id":32943539,"question_id":5531455,"body_markdown":"\r\n    \r\n    import java.security.MessageDigest;\r\n\r\n    public class CodeSnippets {\r\n\r\n     public static String getSha256(String value) {\r\n        try{\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            md.update(value.getBytes());\r\n            return bytesToHex(md.digest());\r\n        } catch(Exception ex){\r\n            throw new RuntimeException(ex);\r\n        }\r\n     }\r\n     private static String bytesToHex(byte[] bytes) {\r\n        StringBuffer result = new StringBuffer();\r\n        for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\r\n        return result.toString();\r\n     }\r\n    }\r\n\r\n","title":"How to hash some String with SHA-256 in Java?","body":"<pre><code>import java.security.MessageDigest;\n\npublic class CodeSnippets {\n\n public static String getSha256(String value) {\n    try{\n        MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n        md.update(value.getBytes());\n        return bytesToHex(md.digest());\n    } catch(Exception ex){\n        throw new RuntimeException(ex);\n    }\n }\n private static String bytesToHex(byte[] bytes) {\n    StringBuffer result = new StringBuffer();\n    for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\n    return result.toString();\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6616140,"reputation":99,"user_id":5109283,"display_name":"garyn"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1488100891,"creation_date":1446694498,"answer_id":33536234,"question_id":5531455,"body_markdown":"I traced the Apache code through `DigestUtils` and `sha256` seems to default back to `java.security.MessageDigest` for calculation.  Apache does not implement an independent `sha256` solution.  I was looking for an independent implementation to compare against the `java.security` library.  FYI only.\r\n ","title":"How to hash some String with SHA-256 in Java?","body":"<p>I traced the Apache code through <code>DigestUtils</code> and <code>sha256</code> seems to default back to <code>java.security.MessageDigest</code> for calculation.  Apache does not implement an independent <code>sha256</code> solution.  I was looking for an independent implementation to compare against the <code>java.security</code> library.  FYI only.</p>\n"},{"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1497043616,"creation_date":1491656386,"answer_id":43294412,"question_id":5531455,"body_markdown":"If you are using Java 8 you can encode the `byte[]` by doing\r\n\r\n    MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    byte[] hash = digest.digest(text.getBytes(StandardCharsets.UTF_8));\r\n    String encoded = Base64.getEncoder().encodeToString(hash);","title":"How to hash some String with SHA-256 in Java?","body":"<p>If you are using Java 8 you can encode the <code>byte[]</code> by doing</p>\n\n<pre><code>MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\nbyte[] hash = digest.digest(text.getBytes(StandardCharsets.UTF_8));\nString encoded = Base64.getEncoder().encodeToString(hash);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1364545,"reputation":331,"user_id":1301268,"display_name":"Ezd"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542301453,"creation_date":1496700632,"answer_id":44378470,"question_id":5531455,"body_markdown":"    String hashWith256(String textToHash) {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte[] byteOfTextToHash = textToHash.getBytes(StandardCharsets.UTF_8);\r\n        byte[] hashedByetArray = digest.digest(byteOfTextToHash);\r\n        String encoded = Base64.getEncoder().encodeToString(hashedByetArray);\r\n        return encoded;\r\n    }","title":"How to hash some String with SHA-256 in Java?","body":"<pre><code>String hashWith256(String textToHash) {\n    MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n    byte[] byteOfTextToHash = textToHash.getBytes(StandardCharsets.UTF_8);\n    byte[] hashedByetArray = digest.digest(byteOfTextToHash);\n    String encoded = Base64.getEncoder().encodeToString(hashedByetArray);\n    return encoded;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4648786,"reputation":333,"user_id":3766192,"accept_rate":0,"display_name":"thatman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496926252,"creation_date":1496926252,"answer_id":44436308,"question_id":5531455,"body_markdown":"You can use MessageDigest in the following way:\r\n\r\n\tpublic static String getSHA256(String data){\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\ttry{\r\n\t\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t        md.update(data.getBytes());\r\n\t        byte byteData[] = md.digest();\r\n\r\n\t        for (int i = 0; i &lt; byteData.length; i++) {\r\n\t         sb.append(Integer.toString((byteData[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n\t        }\r\n\t\t} catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        return sb.toString();\r\n\t}","title":"How to hash some String with SHA-256 in Java?","body":"<p>You can use MessageDigest in the following way:</p>\n\n<pre><code>public static String getSHA256(String data){\n    StringBuffer sb = new StringBuffer();\n    try{\n        MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n        md.update(data.getBytes());\n        byte byteData[] = md.digest();\n\n        for (int i = 0; i &lt; byteData.length; i++) {\n         sb.append(Integer.toString((byteData[i] &amp; 0xff) + 0x100, 16).substring(1));\n        }\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1671,"reputation":981,"user_id":2250,"display_name":"andi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1522483444,"creation_date":1522483444,"answer_id":49585648,"question_id":5531455,"body_markdown":"Here is a slightly more performant way to turn the digest into a hex string:\r\n\r\n    private static final char[] hexArray = &quot;0123456789abcdef&quot;.toCharArray();\r\n\r\n    public static String getSHA256(String data) {\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            md.update(data.getBytes());\r\n            byte[] byteData = md.digest();\r\n            sb.append(bytesToHex(byteData);\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    private static String bytesToHex(byte[] bytes) {\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for ( int j = 0; j &lt; bytes.length; j++ ) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n        }\r\n        return String.valueOf(hexChars);\r\n    }\r\n\r\nDoes anyone know of a faster way in Java?","title":"How to hash some String with SHA-256 in Java?","body":"<p>Here is a slightly more performant way to turn the digest into a hex string:</p>\n\n<pre><code>private static final char[] hexArray = \"0123456789abcdef\".toCharArray();\n\npublic static String getSHA256(String data) {\n    StringBuilder sb = new StringBuilder();\n    try {\n        MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n        md.update(data.getBytes());\n        byte[] byteData = md.digest();\n        sb.append(bytesToHex(byteData);\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    return sb.toString();\n}\n\nprivate static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for ( int j = 0; j &lt; bytes.length; j++ ) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return String.valueOf(hexChars);\n}\n</code></pre>\n\n<p>Does anyone know of a faster way in Java?</p>\n"},{"tags":[],"owner":{"account_id":13738866,"reputation":171,"user_id":9914488,"display_name":"Samuel Lu&#237;s"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572528769,"creation_date":1552407367,"answer_id":55126144,"question_id":5531455,"body_markdown":"This was my approach using Kotlin:\r\n\r\n    private fun getHashFromEmailString(email : String) : String{\r\n        val charset = Charsets.UTF_8\r\n        val byteArray = email.toByteArray(charset)\r\n        val digest = MessageDigest.getInstance(&quot;SHA-256&quot;)\r\n        val hash = digest.digest(byteArray)\r\n        \r\n        return hash.fold(&quot;&quot;, { str, it -&gt; str + &quot;%02x&quot;.format(it)})\r\n    }","title":"How to hash some String with SHA-256 in Java?","body":"<p>This was my approach using Kotlin:</p>\n\n<pre><code>private fun getHashFromEmailString(email : String) : String{\n    val charset = Charsets.UTF_8\n    val byteArray = email.toByteArray(charset)\n    val digest = MessageDigest.getInstance(\"SHA-256\")\n    val hash = digest.digest(byteArray)\n\n    return hash.fold(\"\", { str, it -&gt; str + \"%02x\".format(it)})\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1576162387,"creation_date":1576162387,"answer_id":59307232,"question_id":5531455,"body_markdown":"    private static String getMessageDigest(String message, String algorithm) {\r\n     MessageDigest digest;\r\n     try {\r\n      digest = MessageDigest.getInstance(algorithm);\r\n      byte data[] = digest.digest(message.getBytes(&quot;UTF-8&quot;));\r\n      return convertByteArrayToHexString(data);\r\n     } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n     }\r\n     return null;\r\n    }\r\n\r\nYou can call above method with different algorithms like below.\r\n\r\n    getMessageDigest(message, &quot;MD5&quot;);\r\n    getMessageDigest(message, &quot;SHA-256&quot;);\r\n    getMessageDigest(message, &quot;SHA-1&quot;);\r\n\r\nYou can refer this [link][1] for complete application.\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2015/08/calculating-md5-and-sha-values-in-java.html","title":"How to hash some String with SHA-256 in Java?","body":"<pre><code>private static String getMessageDigest(String message, String algorithm) {\n MessageDigest digest;\n try {\n  digest = MessageDigest.getInstance(algorithm);\n  byte data[] = digest.digest(message.getBytes(\"UTF-8\"));\n  return convertByteArrayToHexString(data);\n } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n  // TODO Auto-generated catch block\n  e.printStackTrace();\n }\n return null;\n}\n</code></pre>\n\n<p>You can call above method with different algorithms like below.</p>\n\n<pre><code>getMessageDigest(message, \"MD5\");\ngetMessageDigest(message, \"SHA-256\");\ngetMessageDigest(message, \"SHA-1\");\n</code></pre>\n\n<p>You can refer this <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/08/calculating-md5-and-sha-values-in-java.html\" rel=\"nofollow noreferrer\">link</a> for complete application.</p>\n"},{"tags":[],"owner":{"account_id":7447122,"reputation":13,"user_id":5662935,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583307680,"creation_date":1583307680,"answer_id":60521150,"question_id":5531455,"body_markdown":"In Java, **MessageDigest** class is used to calculate cryptographic hashing value. This class provides cryptographic hash function ( **MD5**, **SHA-1** and **SHA-256**) to find hash value of text.\r\n\r\nCode example for using SHA-256 algorithm.\r\n\r\n    public void printHash(String str) throws NoSuchAlgorithmException {\r\n\r\n    MessageDigest md=MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n    byte[] sha256=md.digest(str.getBytes(StandardCharsets.UTF_8));\r\n\r\n       for(byte b : sha256){\r\n\r\n          System.out.printf(&quot;%02x&quot;,b);\r\n\r\n      }\r\n    }\r\n","title":"How to hash some String with SHA-256 in Java?","body":"<p>In Java, <strong>MessageDigest</strong> class is used to calculate cryptographic hashing value. This class provides cryptographic hash function ( <strong>MD5</strong>, <strong>SHA-1</strong> and <strong>SHA-256</strong>) to find hash value of text.</p>\n\n<p>Code example for using SHA-256 algorithm.</p>\n\n<pre><code>public void printHash(String str) throws NoSuchAlgorithmException {\n\nMessageDigest md=MessageDigest.getInstance(\"SHA-256\");\n\nbyte[] sha256=md.digest(str.getBytes(StandardCharsets.UTF_8));\n\n   for(byte b : sha256){\n\n      System.out.printf(\"%02x\",b);\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8108093,"reputation":2413,"user_id":6109034,"display_name":"Mimu Saha Tishan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585839129,"creation_date":1585839129,"answer_id":60994454,"question_id":5531455,"body_markdown":"In Java 8\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Scanner;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    \r\n    Scanner scanner = new Scanner(System.in);\r\n    String password = scanner.nextLine();\r\n    scanner.close();\r\n    \r\n    MessageDigest digest = null;\r\n    try {\r\n    \tdigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n    byte[] hash = digest.digest(password.getBytes(StandardCharsets.UTF_8));\r\n    String encoded = DatatypeConverter.printHexBinary(hash);        \r\n    System.out.println(encoded.toLowerCase());\r\n\r\n       ","title":"How to hash some String with SHA-256 in Java?","body":"<p>In Java 8</p>\n\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Scanner;\nimport javax.xml.bind.DatatypeConverter;\n\n\nScanner scanner = new Scanner(System.in);\nString password = scanner.nextLine();\nscanner.close();\n\nMessageDigest digest = null;\ntry {\n    digest = MessageDigest.getInstance(\"SHA-256\");\n} catch (NoSuchAlgorithmException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nbyte[] hash = digest.digest(password.getBytes(StandardCharsets.UTF_8));\nString encoded = DatatypeConverter.printHexBinary(hash);        \nSystem.out.println(encoded.toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18194111,"reputation":211,"user_id":13239496,"display_name":"MrBitwise"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592286508,"creation_date":1592286508,"answer_id":62401723,"question_id":5531455,"body_markdown":"This is what i have been used for hashing:\r\n\r\n    String pass = &quot;password&quot;;\r\n\r\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    byte hashBytes[] = messageDigest.digest(pass.getBytes(StandardCharsets.UTF_8));\r\n    BigInteger noHash = new BigInteger(1, hashBytes);\r\n    String hashStr = noHash.toString(16);\r\n\r\nOutput: 5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8\r\n","title":"How to hash some String with SHA-256 in Java?","body":"<p>This is what i have been used for hashing:</p>\n\n<pre><code>String pass = \"password\";\n\nMessageDigest messageDigest = MessageDigest.getInstance(\"SHA-256\");\nbyte hashBytes[] = messageDigest.digest(pass.getBytes(StandardCharsets.UTF_8));\nBigInteger noHash = new BigInteger(1, hashBytes);\nString hashStr = noHash.toString(16);\n</code></pre>\n\n<p>Output: 5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8</p>\n"},{"tags":[],"owner":{"account_id":8177147,"reputation":440,"user_id":6155559,"accept_rate":67,"display_name":"YektaDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661679554,"creation_date":1619860765,"answer_id":67344650,"question_id":5531455,"body_markdown":"Here&#39;s a method that shows how to hash a `String` with the `sha-256`\r\nalgorithm and encode the result in `hex` format. This is an often used format to hash and store passwords in a database:\r\n\r\n\r\n\r\n    public static String sha256(final String data) {\r\n        try {\r\n            final byte[] hash = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(data.getBytes(StandardCharsets.UTF_8));\r\n            final StringBuilder hashStr = new StringBuilder(hash.length);\r\n\r\n            for (byte hashByte : hash)\r\n                hashStr.append(Integer.toHexString(255 &amp; hashByte));\r\n\r\n            return hashStr.toString();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"How to hash some String with SHA-256 in Java?","body":"<p>Here's a method that shows how to hash a <code>String</code> with the <code>sha-256</code>\nalgorithm and encode the result in <code>hex</code> format. This is an often used format to hash and store passwords in a database:</p>\n<pre><code>public static String sha256(final String data) {\n    try {\n        final byte[] hash = MessageDigest.getInstance(&quot;SHA-256&quot;).digest(data.getBytes(StandardCharsets.UTF_8));\n        final StringBuilder hashStr = new StringBuilder(hash.length);\n\n        for (byte hashByte : hash)\n            hashStr.append(Integer.toHexString(255 &amp; hashByte));\n\n        return hashStr.toString();\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666302159,"creation_date":1666302159,"answer_id":74146605,"question_id":5531455,"body_markdown":"This method return a left padded `String` with zero:\r\n\r\n`Java 10` and after:\r\n``` lang-java\r\npublic static String sha256(String text) {\r\n\ttry {\r\n\t\tvar messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\tvar hash = messageDigest.digest(text.getBytes(StandardCharsets.UTF_8));\r\n\t\t\r\n\t\treturn String.format(&quot;%064x&quot;, new BigInteger(1, hash));\r\n\t}\r\n\tcatch (NoSuchAlgorithmException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n`Java 8`:\r\n``` lang-java\r\npublic static String sha256(String text) {\r\n\ttry {\r\n\t\tMessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\tbyte[] hash = messageDigest.digest(text.getBytes(StandardCharsets.UTF_8));\r\n\t\t\r\n\t\treturn String.format(&quot;%064x&quot;, new BigInteger(1, hash));\r\n\t}\r\n\tcatch (NoSuchAlgorithmException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nBTW, you can use `&quot;%064X&quot;` for an uppercase result.\r\n\r\nExample:\r\n``` lang-java\r\nSystem.out.println(sha256(&quot;hello world 1&quot;));\r\n```\r\n&gt; 063dbf1d36387944a5f0ace625b4d3ee36b2daefd8bdaee5ede723637efb1cf4\r\n\r\nComparison to Linux cmd:\r\n&gt; $ echo -n &#39;hello world 1&#39; | sha256sum \r\n&gt; 063dbf1d36387944a5f0ace625b4d3ee36b2daefd8bdaee5ede723637efb1cf4  -\r\n","title":"How to hash some String with SHA-256 in Java?","body":"<p>This method return a left padded <code>String</code> with zero:</p>\n<p><code>Java 10</code> and after:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String sha256(String text) {\n    try {\n        var messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        var hash = messageDigest.digest(text.getBytes(StandardCharsets.UTF_8));\n        \n        return String.format(&quot;%064x&quot;, new BigInteger(1, hash));\n    }\n    catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p><code>Java 8</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String sha256(String text) {\n    try {\n        MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        byte[] hash = messageDigest.digest(text.getBytes(StandardCharsets.UTF_8));\n        \n        return String.format(&quot;%064x&quot;, new BigInteger(1, hash));\n    }\n    catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>BTW, you can use <code>&quot;%064X&quot;</code> for an uppercase result.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(sha256(&quot;hello world 1&quot;));\n</code></pre>\n<blockquote>\n<p>063dbf1d36387944a5f0ace625b4d3ee36b2daefd8bdaee5ede723637efb1cf4</p>\n</blockquote>\n<p>Comparison to Linux cmd:</p>\n<blockquote>\n<p>$ echo -n 'hello world 1' | sha256sum\n063dbf1d36387944a5f0ace625b4d3ee36b2daefd8bdaee5ede723637efb1cf4  -</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25358479,"reputation":11,"user_id":19174200,"display_name":"Artist "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673699999,"creation_date":1673699999,"answer_id":75117990,"question_id":5531455,"body_markdown":"    public static String sha256(String s) {\r\n        try {\r\n            return DatatypeConverter.printHexBinary(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(s.getBytes(StandardCharsets.UTF_8))).toLowerCase();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n","title":"How to hash some String with SHA-256 in Java?","body":"<pre><code>public static String sha256(String s) {\n    try {\n        return DatatypeConverter.printHexBinary(MessageDigest.getInstance(&quot;SHA-256&quot;).digest(s.getBytes(StandardCharsets.UTF_8))).toLowerCase();\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":730563,"reputation":2981,"user_id":690086,"display_name":"Ivana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481921,"favorite_count":0,"down_vote_count":1,"up_vote_count":298,"accepted_answer_id":5531479,"answer_count":18,"score":297,"last_activity_date":1673699999,"creation_date":1301854174,"question_id":5531455,"body_markdown":"How can I hash some `String` with `SHA-256` in Java?","title":"How to hash some String with SHA-256 in Java?","body":"<p>How can I hash some <code>String</code> with <code>SHA-256</code> in Java?</p>\n"},{"tags":["java","tomcat"],"owner":{"account_id":16388221,"reputation":48,"user_id":11837666,"display_name":"Daffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673699789,"creation_date":1673698665,"question_id":75117852,"body_markdown":"I am new to Spring MVC. The website works when I open the index.jsp, but when I try to access to the page &quot;springmvc/students/hi&quot;, it&#39;s giving me 404.\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/students&quot;)\r\npublic class StudentController {\r\n\r\n    @GetMapping(&quot;/hi&quot;)\r\n    public ModelAndView sayHi(){\r\n        ModelAndView mav = new ModelAndView();\r\n        mav.addObject(&quot;message&quot;, &quot;Hello&quot;);        // Key - Value\r\n        mav.addObject(&quot;messagebody&quot;, &quot;This is a Test System&quot;);\r\n        mav.setViewName(&quot;hi&quot;);      // hi.jsp\r\n\r\n        return mav;\r\n    }\r\n}\r\n```\r\n\r\nThis is the file order: https://i.stack.imgur.com/K4rex.jpg","title":"Tomcat 404 Error While Accessing To a Page","body":"<p>I am new to Spring MVC. The website works when I open the index.jsp, but when I try to access to the page &quot;springmvc/students/hi&quot;, it's giving me 404.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/students&quot;)\npublic class StudentController {\n\n    @GetMapping(&quot;/hi&quot;)\n    public ModelAndView sayHi(){\n        ModelAndView mav = new ModelAndView();\n        mav.addObject(&quot;message&quot;, &quot;Hello&quot;);        // Key - Value\n        mav.addObject(&quot;messagebody&quot;, &quot;This is a Test System&quot;);\n        mav.setViewName(&quot;hi&quot;);      // hi.jsp\n\n        return mav;\n    }\n}\n</code></pre>\n<p>This is the file order: <a href=\"https://i.stack.imgur.com/K4rex.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/K4rex.jpg</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673699740,"creation_date":1673699740,"question_id":75117961,"body_markdown":"Spring `SecurityContextHolder` uses a `ThreadLocal` to store the `SecurityContext` which is local to the thread and it cannot be accessed or modified by other thread.\r\n\r\nBut in the spring documentation, it is suggesting to set/create new security context instead of using `SecurityContextHolder.getContext().setAuthentication(authentication)` as it may lead to race conditions.\r\n\r\nI&#39;m not getting on how does race condition even occur when `SecurityContext` is local to the thread. Even if there are multiple threads being executed simultaneously, i don&#39;t see any race condition happening.\r\n\r\nPlease let me know why it is even mentioned in the doc?\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#:~:text=We%20start%20by%20creating%20an%20empty%20SecurityContext.%20You%20should%20create%20a%20new%20SecurityContext%20instance%20instead%20of%20using%20SecurityContextHolder.getContext().setAuthentication(authentication)%20to%20avoid%20race%20conditions%20across%20multiple%20threads.","title":"How does setting authentication for security context causes race condition","body":"<p>Spring <code>SecurityContextHolder</code> uses a <code>ThreadLocal</code> to store the <code>SecurityContext</code> which is local to the thread and it cannot be accessed or modified by other thread.</p>\n<p>But in the spring documentation, it is suggesting to set/create new security context instead of using <code>SecurityContextHolder.getContext().setAuthentication(authentication)</code> as it may lead to race conditions.</p>\n<p>I'm not getting on how does race condition even occur when <code>SecurityContext</code> is local to the thread. Even if there are multiple threads being executed simultaneously, i don't see any race condition happening.</p>\n<p>Please let me know why it is even mentioned in the doc?</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#:%7E:text=We%20start%20by%20creating%20an%20empty%20SecurityContext.%20You%20should%20create%20a%20new%20SecurityContext%20instance%20instead%20of%20using%20SecurityContextHolder.getContext().setAuthentication(authentication)%20to%20avoid%20race%20conditions%20across%20multiple%20threads\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#:~:text=We%20start%20by%20creating%20an%20empty%20SecurityContext.%20You%20should%20create%20a%20new%20SecurityContext%20instance%20instead%20of%20using%20SecurityContextHolder.getContext().setAuthentication(authentication)%20to%20avoid%20race%20conditions%20across%20multiple%20threads</a>.</p>\n"},{"tags":["java","android","xml","android-studio","roulette-wheel-selection"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1673737288,"post_id":75117948,"comment_id":132565885,"body_markdown":"After rethinking this and running some tests, I&#39;m not sure that my suggestion of `RotateDrawable` is usable here. Sorry about that. The image in that setup would be scaled before rotation, which is backwards. I put together a couple of examples from those tests that I think have the effect that you&#39;re looking for: https://drive.google.com/file/d/1EE8NtM81V2TJGdVCz1XBbRqCMXDB7SB7/view?usp=share_link. Look like: https://i.stack.imgur.com/S26Od.gif.","body":"After rethinking this and running some tests, I&#39;m not sure that my suggestion of <code>RotateDrawable</code> is usable here. Sorry about that. The image in that setup would be scaled before rotation, which is backwards. I put together a couple of examples from those tests that I think have the effect that you&#39;re looking for: <a href=\"https://drive.google.com/file/d/1EE8NtM81V2TJGdVCz1XBbRqCMXDB7SB7/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1EE8NtM81V2TJGdVCz1XBbRqCMXDB7SB7/&hellip;</a>. Look like: <a href=\"https://i.stack.imgur.com/S26Od.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/S26Od.gif</a>."},{"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"score":0,"creation_date":1673799695,"post_id":75117948,"comment_id":132573597,"body_markdown":"@MikeM. thanks for your response, please post it as an answer so i can mark it as solution. that is what i actually need . i really appreciate your help, thank you again","body":"@MikeM. thanks for your response, please post it as an answer so i can mark it as solution. that is what i actually need . i really appreciate your help, thank you again"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1673888683,"post_id":75117948,"comment_id":132592861,"body_markdown":"No problem. Good to hear. I&#39;m too lazy to put together answers these days, though, so please feel free to finish up this question however you like. Thanks for the offer. Glad I could help. Cheers!","body":"No problem. Good to hear. I&#39;m too lazy to put together answers these days, though, so please feel free to finish up this question however you like. Thanks for the offer. Glad I could help. Cheers!"}],"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673699595,"creation_date":1673699595,"question_id":75117948,"body_markdown":"i am developing a roulette game for learning while my friend ask me to make spinning wheel shape from circle to oval. after changing shape of ImageView to an oval and trying to rotate ,it&#39;s height and width are swapping according to each 90-degree rotation. while height and width should not change as i need, following are codes i am using and screenshot attached\r\nthanks for your time .\r\n\r\n***layout_main.xml***\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/iframe&quot;\r\n        android:layout_centerInParent=&quot;true&quot;&gt;\r\n    \r\n       &lt;ImageView\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;150dp&quot;\r\n           android:src=&quot;@drawable/wheel2min_300x300&quot;\r\n           android:scaleType=&quot;fitXY&quot;\r\n           android:id=&quot;@+id/wheel_image&quot;\r\n           android:layout_centerInParent=&quot;true&quot;\r\n           android:layout_gravity=&quot;center_horizontal&quot;\r\n           android:layout_marginTop=&quot;25dp&quot;/&gt;\r\n       &lt;ImageView\r\n           android:layout_width=&quot;50dp&quot;\r\n           android:layout_height=&quot;40dp&quot;\r\n           android:src=&quot;@drawable/target_147x300&quot;\r\n           android:scaleType=&quot;fitXY&quot;\r\n           android:id=&quot;@+id/wheel_pointer&quot;\r\n           android:layout_centerInParent=&quot;true&quot;\r\n           android:layout_gravity=&quot;center_horizontal&quot;/&gt;\r\n    &lt;/FrameLayout&gt;\r\n       &lt;Button\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n          android:text=&quot;press to spin&quot;\r\n           android:id=&quot;@+id/spin_button&quot;\r\n          android:layout_below=&quot;@id/iframe&quot;\r\n          android:layout_centerHorizontal=&quot;true&quot;\r\n          android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n***MainActivity.java***\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private ImageView imageView;\r\n        private Button button;\r\n        int h,w;\r\n        CountDownTimer countDownTimer;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            imageView = findViewById(R.id.wheel_image);\r\n            button = findViewById(R.id.spin_button);\r\n            h=imageView.getHeight();\r\n            w = imageView.getWidth();\r\n            Random random = new Random();\r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n    \r\n                    button.setEnabled(false);\r\n    \r\n                    // reading random value between 10 to 30\r\n                    int spin = random.nextInt(20)+10;\r\n    \r\n                    // since the wheel has 10 divisions, the\r\n                    // rotation should be a multiple of\r\n                    // 360/10 = 36 degrees\r\n                    spin = spin * 36;\r\n    \r\n                    // timer for each degree movement\r\n                    countDownTimer = new CountDownTimer(spin*20,1) {\r\n                        @Override\r\n                        public void onTick(long l) {\r\n                            // rotate the wheel\r\n                            float rotation = imageView.getRotation() + 2;\r\n                            imageView.setRotation(rotation);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onFinish() {\r\n                            // enabling the button again\r\n                           button.setEnabled(true);\r\n                        }\r\n                    }.start();\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n\r\n***UI i want even when rotation***\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nt7sh.png","title":"Spin ImageView without losing height and width in android studio","body":"<p>i am developing a roulette game for learning while my friend ask me to make spinning wheel shape from circle to oval. after changing shape of ImageView to an oval and trying to rotate ,it's height and width are swapping according to each 90-degree rotation. while height and width should not change as i need, following are codes i am using and screenshot attached\nthanks for your time .</p>\n<p><em><strong>layout_main.xml</strong></em></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/iframe&quot;\n    android:layout_centerInParent=&quot;true&quot;&gt;\n\n   &lt;ImageView\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;150dp&quot;\n       android:src=&quot;@drawable/wheel2min_300x300&quot;\n       android:scaleType=&quot;fitXY&quot;\n       android:id=&quot;@+id/wheel_image&quot;\n       android:layout_centerInParent=&quot;true&quot;\n       android:layout_gravity=&quot;center_horizontal&quot;\n       android:layout_marginTop=&quot;25dp&quot;/&gt;\n   &lt;ImageView\n       android:layout_width=&quot;50dp&quot;\n       android:layout_height=&quot;40dp&quot;\n       android:src=&quot;@drawable/target_147x300&quot;\n       android:scaleType=&quot;fitXY&quot;\n       android:id=&quot;@+id/wheel_pointer&quot;\n       android:layout_centerInParent=&quot;true&quot;\n       android:layout_gravity=&quot;center_horizontal&quot;/&gt;\n&lt;/FrameLayout&gt;\n   &lt;Button\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n      android:text=&quot;press to spin&quot;\n       android:id=&quot;@+id/spin_button&quot;\n      android:layout_below=&quot;@id/iframe&quot;\n      android:layout_centerHorizontal=&quot;true&quot;\n      android:layout_marginTop=&quot;15dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><em><strong>MainActivity.java</strong></em></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ImageView imageView;\n    private Button button;\n    int h,w;\n    CountDownTimer countDownTimer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageView = findViewById(R.id.wheel_image);\n        button = findViewById(R.id.spin_button);\n        h=imageView.getHeight();\n        w = imageView.getWidth();\n        Random random = new Random();\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n\n                button.setEnabled(false);\n\n                // reading random value between 10 to 30\n                int spin = random.nextInt(20)+10;\n\n                // since the wheel has 10 divisions, the\n                // rotation should be a multiple of\n                // 360/10 = 36 degrees\n                spin = spin * 36;\n\n                // timer for each degree movement\n                countDownTimer = new CountDownTimer(spin*20,1) {\n                    @Override\n                    public void onTick(long l) {\n                        // rotate the wheel\n                        float rotation = imageView.getRotation() + 2;\n                        imageView.setRotation(rotation);\n\n                    }\n\n                    @Override\n                    public void onFinish() {\n                        // enabling the button again\n                       button.setEnabled(true);\n                    }\n                }.start();\n\n            }\n        });\n\n\n\n    }\n</code></pre>\n<p><em><strong>UI i want even when rotation</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/nt7sh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nt7sh.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":["java","api-authorization"],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673699592,"creation_date":1673699592,"question_id":75117947,"body_markdown":"I am trying to use Scribe library to send API calls to Twitter v2 API with OAuth1 authentication. I manage to send GET users/me request successfully, but its fail on POST follow request.\r\n\r\n   \r\n\r\n    public boolean followUser(String accountId, String userId) throws IOException, ExecutionException, InterruptedException {\r\n        OAuth1AccessToken twitterUserAccessToken = getTwitterUserAccessToken();\r\n\r\n        request = new OAuthRequest(Verb.POST, BASE_URL + &quot;/users/&quot; + accountId + &quot;/following&quot;);\r\n        request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        request.addBodyParameter(&quot;target_user_id&quot;, userId);\r\n\r\n        service.signRequest(twitterUserAccessToken, request);\r\n        com.github.scribejava.core.model.Response response = service.execute(request);\r\n        System.out.println(response.getBody());\r\n\r\n        return response.isSuccessful();\r\n    }\r\n\r\nThis request fail with Status Code 401 Unauthorized \r\n\r\n    {\r\n      &quot;title&quot;: &quot;Unauthorized&quot;,\r\n      &quot;type&quot;: &quot;about:blank&quot;,\r\n      &quot;status&quot;: 401,\r\n      &quot;detail&quot;: &quot;Unauthorized&quot;\r\n    }\r\n\r\nEverything is working, fine for GET users/me request which use the same authentication method OAuth1\r\n\r\n    public boolean userMe() throws IOException, ExecutionException, InterruptedException {\r\n        OAuth1AccessToken twitterUserAccessToken = getTwitterUserAccessToken();\r\n        request = new OAuthRequest(Verb.GET, BASE_URL + &quot;/users/me&quot;);\r\n        service.signRequest(twitterUserAccessToken, request);\r\n        com.github.scribejava.core.model.Response response = service.execute(request);\r\n        \r\n        return response.isSuccessful();\r\n    }\r\n\r\nCan anybody familiar with Scribe give answer to this issue I also try to use RestAssured but the result is same even for GET users/me request.","title":"Scribe Java POST follow request to Twitter v2 API fail with Unautorized 401","body":"<p>I am trying to use Scribe library to send API calls to Twitter v2 API with OAuth1 authentication. I manage to send GET users/me request successfully, but its fail on POST follow request.</p>\n<pre><code>public boolean followUser(String accountId, String userId) throws IOException, ExecutionException, InterruptedException {\n    OAuth1AccessToken twitterUserAccessToken = getTwitterUserAccessToken();\n\n    request = new OAuthRequest(Verb.POST, BASE_URL + &quot;/users/&quot; + accountId + &quot;/following&quot;);\n    request.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    request.addBodyParameter(&quot;target_user_id&quot;, userId);\n\n    service.signRequest(twitterUserAccessToken, request);\n    com.github.scribejava.core.model.Response response = service.execute(request);\n    System.out.println(response.getBody());\n\n    return response.isSuccessful();\n}\n</code></pre>\n<p>This request fail with Status Code 401 Unauthorized</p>\n<pre><code>{\n  &quot;title&quot;: &quot;Unauthorized&quot;,\n  &quot;type&quot;: &quot;about:blank&quot;,\n  &quot;status&quot;: 401,\n  &quot;detail&quot;: &quot;Unauthorized&quot;\n}\n</code></pre>\n<p>Everything is working, fine for GET users/me request which use the same authentication method OAuth1</p>\n<pre><code>public boolean userMe() throws IOException, ExecutionException, InterruptedException {\n    OAuth1AccessToken twitterUserAccessToken = getTwitterUserAccessToken();\n    request = new OAuthRequest(Verb.GET, BASE_URL + &quot;/users/me&quot;);\n    service.signRequest(twitterUserAccessToken, request);\n    com.github.scribejava.core.model.Response response = service.execute(request);\n    \n    return response.isSuccessful();\n}\n</code></pre>\n<p>Can anybody familiar with Scribe give answer to this issue I also try to use RestAssured but the result is same even for GET users/me request.</p>\n"},{"tags":["java","java-8","rx-java","exponential-backoff"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673699250,"creation_date":1484611504,"answer_id":41687011,"question_id":41678918,"body_markdown":"You can use the `retryWhen` operator to configure the delay when there&#39;s no connection. How to periodically emit items is a separate topic (look up `interval` or `timer` operators). Open a separate question if you can&#39;t figure it out. \r\n\r\nI&#39;ve an extensive example on my Github, but I&#39;ll give you the gist here.\r\n\r\n    RetryWithDelay retryWithDelay = RetryWithDelay.builder()\r\n        .retryDelayStrategy(RetryDelayStrategy.RETRY_COUNT)\r\n        .build()\r\n\r\n    Single.fromCallable(() -&gt; {\r\n        ...\r\n    }).retryWhen(retryWithDelay)\r\n    .subscribe(j -&gt; {\r\n        ...\r\n    })\r\n\r\n`RetryWithDelay` is defined as follows. I used RxJava 2.x, so if you&#39;re using 1.x, the signature should be `Func1&lt;Observable&lt;? extends Throwable&gt;, Observable&lt;Object&gt;&gt;`.\r\n\r\n    public class RetryWithDelay implements\r\n            Function&lt;Flowable&lt;? extends Throwable&gt;, Publisher&lt;Object&gt;&gt; {\r\n        ...\r\n    }\r\n\r\n[RetryWithDelay](https://github.com/asarkar/java/blob/master/concurrency-learning/src/main/java/org/abhijitsarkar/domain/RetryWithDelay.java) class.\r\n\r\n[RetryStrategy](https://github.com/asarkar/java/blob/master/concurrency-learning/src/main/java/org/abhijitsarkar/domain/RetryDelayStrategy.java) enum.\r\n\r\nThis allows me to configure various sorts of timeouts, constant, linear, exponential, based on the `RetryDelayStrategy`. For your use case, you&#39;d choose `CONSTANT_DELAY_TIMES_RETRY_COUNT` delay strategy and call `retryDelaySeconds(2)` when building `RetryWithDelay`.\r\n\r\n`retryWhen` is a complicated, perhaps even buggy, operator. Most examples you&#39;ll find online use the `range` operator, which will fail if there are no retries to be made. See my answer [here](https://stackoverflow.com/a/38429128/839733) for details.","title":"Exponential Backoff in RxJava","body":"<p>You can use the <code>retryWhen</code> operator to configure the delay when there's no connection. How to periodically emit items is a separate topic (look up <code>interval</code> or <code>timer</code> operators). Open a separate question if you can't figure it out.</p>\n<p>I've an extensive example on my Github, but I'll give you the gist here.</p>\n<pre><code>RetryWithDelay retryWithDelay = RetryWithDelay.builder()\n    .retryDelayStrategy(RetryDelayStrategy.RETRY_COUNT)\n    .build()\n\nSingle.fromCallable(() -&gt; {\n    ...\n}).retryWhen(retryWithDelay)\n.subscribe(j -&gt; {\n    ...\n})\n</code></pre>\n<p><code>RetryWithDelay</code> is defined as follows. I used RxJava 2.x, so if you're using 1.x, the signature should be <code>Func1&lt;Observable&lt;? extends Throwable&gt;, Observable&lt;Object&gt;&gt;</code>.</p>\n<pre><code>public class RetryWithDelay implements\n        Function&lt;Flowable&lt;? extends Throwable&gt;, Publisher&lt;Object&gt;&gt; {\n    ...\n}\n</code></pre>\n<p><a href=\"https://github.com/asarkar/java/blob/master/concurrency-learning/src/main/java/org/abhijitsarkar/domain/RetryWithDelay.java\" rel=\"nofollow noreferrer\">RetryWithDelay</a> class.</p>\n<p><a href=\"https://github.com/asarkar/java/blob/master/concurrency-learning/src/main/java/org/abhijitsarkar/domain/RetryDelayStrategy.java\" rel=\"nofollow noreferrer\">RetryStrategy</a> enum.</p>\n<p>This allows me to configure various sorts of timeouts, constant, linear, exponential, based on the <code>RetryDelayStrategy</code>. For your use case, you'd choose <code>CONSTANT_DELAY_TIMES_RETRY_COUNT</code> delay strategy and call <code>retryDelaySeconds(2)</code> when building <code>RetryWithDelay</code>.</p>\n<p><code>retryWhen</code> is a complicated, perhaps even buggy, operator. Most examples you'll find online use the <code>range</code> operator, which will fail if there are no retries to be made. See my answer <a href=\"https://stackoverflow.com/a/38429128/839733\">here</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484615277,"creation_date":1484615277,"answer_id":41687539,"question_id":41678918,"body_markdown":"I&#39;ve always found `retryWhen` to be somewhat low-level so for exponential backoff I use a a builder (like Abhijit) that is unit tested and available for RxJava 1.x at [rxjava-extras][1]. I&#39;d suggest using a capped version so that the exponential increase of delay won&#39;t go beyond a maximum value you define.\r\n\r\nThis is how you use it:\r\n\r\n    observable.retryWhen(\r\n        RetryWhen.exponentialBackoff(\r\n            delay, maxDelay, TimeUNIT.SECONDS)\r\n        .build());\r\n\r\n\r\nI disagree that `retryWhen` is buggy but if you find a bug report it to RxJava. Bugs  are fixed fast!\r\n\r\nYou&#39;ll need &lt;i&gt;rxjava-extras&lt;/i&gt; 0.8.0.6 or later which is on Maven Central:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.davidmoten&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rxjava-extras&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nLet me know if you need the RxJava 2.x version. The same functionality is available in [rxjava2-extras][2] from 0.1.4.\r\n\r\n\r\n  [1]: http://github.com/davidmoten/rxjava-extras\r\n  [2]: http://github.com/davidmoten/rxjava2-extras","title":"Exponential Backoff in RxJava","body":"<p>I've always found <code>retryWhen</code> to be somewhat low-level so for exponential backoff I use a a builder (like Abhijit) that is unit tested and available for RxJava 1.x at <a href=\"http://github.com/davidmoten/rxjava-extras\" rel=\"nofollow noreferrer\">rxjava-extras</a>. I'd suggest using a capped version so that the exponential increase of delay won't go beyond a maximum value you define.</p>\n\n<p>This is how you use it:</p>\n\n<pre><code>observable.retryWhen(\n    RetryWhen.exponentialBackoff(\n        delay, maxDelay, TimeUNIT.SECONDS)\n    .build());\n</code></pre>\n\n<p>I disagree that <code>retryWhen</code> is buggy but if you find a bug report it to RxJava. Bugs  are fixed fast!</p>\n\n<p>You'll need <i>rxjava-extras</i> 0.8.0.6 or later which is on Maven Central:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.davidmoten&lt;/groupId&gt;\n    &lt;artifactId&gt;rxjava-extras&lt;/artifactId&gt;\n    &lt;version&gt;0.8.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Let me know if you need the RxJava 2.x version. The same functionality is available in <a href=\"http://github.com/davidmoten/rxjava2-extras\" rel=\"nofollow noreferrer\">rxjava2-extras</a> from 0.1.4.</p>\n"},{"tags":[],"owner":{"account_id":357255,"reputation":20888,"user_id":697313,"display_name":"Yaroslav Stavnichiy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1484641334,"creation_date":1484640908,"answer_id":41692001,"question_id":41678918,"body_markdown":"In your code there are two mistakes:\r\n\r\n1. In order to repeat some observable sequence, that sequence has to be finite. I.e. instead of `interval` you&#39;d better use something like `just`, or `fromCallable` as I did in sample below.\r\n2. From `repeatWhen`&#39;s inner function you need to return new delayed observable source, so instead of `observable.delay()` you have to return `Observable.timer()`.\r\n\r\nWorking code:\r\n\r\n    public void testRepeat() throws InterruptedException {\r\n        logger.info(&quot;test start&quot;);\r\n\r\n        int DEFAULT_DELAY = 100; // ms\r\n        int ADDITIONAL_DELAY = 100; // ms\r\n        AtomicInteger generator = new AtomicInteger(0);\r\n        AtomicBoolean connectionAlive = new AtomicBoolean(true); // initially alive\r\n\r\n        Disposable subscription = Observable.fromCallable(generator::incrementAndGet)\r\n                .repeatWhen(counts -&gt; {\r\n                    AtomicInteger retryCounter = new AtomicInteger(0);\r\n                    return counts.flatMap(c -&gt; {\r\n                        int retry = 0;\r\n                        if (connectionAlive.get()) {\r\n                            retryCounter.set(0); // reset counter\r\n                        } else {\r\n                            retry = retryCounter.incrementAndGet();\r\n                        }\r\n                        int additionalDelay = ADDITIONAL_DELAY * (int) Math.pow(retry, 2);\r\n                        logger.info(&quot;retry={}, additionalDelay={}ms&quot;, retry, additionalDelay);\r\n                        return Observable.timer(DEFAULT_DELAY + additionalDelay, TimeUnit.MILLISECONDS);\r\n                    });\r\n                })\r\n                .subscribe(v -&gt; logger.info(&quot;got {}&quot;, v));\r\n\r\n        Thread.sleep(220);\r\n        logger.info(&quot;connection dropped&quot;);\r\n        connectionAlive.set(false);\r\n        Thread.sleep(2000);\r\n        logger.info(&quot;connection is back alive&quot;);\r\n        connectionAlive.set(true);\r\n        Thread.sleep(2000);\r\n        subscription.dispose();\r\n        logger.info(&quot;test complete&quot;);\r\n    }\r\n\r\nSee detailed article about `repeatWhen` [here][1].\r\n\r\n\r\n  [1]: http://blog.danlew.net/2016/01/25/rxjavas-repeatwhen-and-retrywhen-explained/","title":"Exponential Backoff in RxJava","body":"<p>In your code there are two mistakes:</p>\n\n<ol>\n<li>In order to repeat some observable sequence, that sequence has to be finite. I.e. instead of <code>interval</code> you'd better use something like <code>just</code>, or <code>fromCallable</code> as I did in sample below.</li>\n<li>From <code>repeatWhen</code>'s inner function you need to return new delayed observable source, so instead of <code>observable.delay()</code> you have to return <code>Observable.timer()</code>.</li>\n</ol>\n\n<p>Working code:</p>\n\n<pre><code>public void testRepeat() throws InterruptedException {\n    logger.info(\"test start\");\n\n    int DEFAULT_DELAY = 100; // ms\n    int ADDITIONAL_DELAY = 100; // ms\n    AtomicInteger generator = new AtomicInteger(0);\n    AtomicBoolean connectionAlive = new AtomicBoolean(true); // initially alive\n\n    Disposable subscription = Observable.fromCallable(generator::incrementAndGet)\n            .repeatWhen(counts -&gt; {\n                AtomicInteger retryCounter = new AtomicInteger(0);\n                return counts.flatMap(c -&gt; {\n                    int retry = 0;\n                    if (connectionAlive.get()) {\n                        retryCounter.set(0); // reset counter\n                    } else {\n                        retry = retryCounter.incrementAndGet();\n                    }\n                    int additionalDelay = ADDITIONAL_DELAY * (int) Math.pow(retry, 2);\n                    logger.info(\"retry={}, additionalDelay={}ms\", retry, additionalDelay);\n                    return Observable.timer(DEFAULT_DELAY + additionalDelay, TimeUnit.MILLISECONDS);\n                });\n            })\n            .subscribe(v -&gt; logger.info(\"got {}\", v));\n\n    Thread.sleep(220);\n    logger.info(\"connection dropped\");\n    connectionAlive.set(false);\n    Thread.sleep(2000);\n    logger.info(\"connection is back alive\");\n    connectionAlive.set(true);\n    Thread.sleep(2000);\n    subscription.dispose();\n    logger.info(\"test complete\");\n}\n</code></pre>\n\n<p>See detailed article about <code>repeatWhen</code> <a href=\"http://blog.danlew.net/2016/01/25/rxjavas-repeatwhen-and-retrywhen-explained/\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5485,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41692001,"answer_count":3,"score":3,"last_activity_date":1673699250,"creation_date":1484577790,"question_id":41678918,"body_markdown":"I have an API that takes an `Observable` that triggers an event.\r\n\r\nI want to return an `Observable` that emits a value every `defaultDelay` seconds if an Internet connection is detected, and delays `numberOfFailedAttempts^2` times if there&#39;s no connection.\r\n\r\nI&#39;ve tried a bunch of various styles, the biggest problem I&#39;m having is `retryWhen&#39;s` observable is only evaluated once:\r\n\r\n    Observable\r\n        .interval(defaultDelay,TimeUnit.MILLISECONDS)\r\n        .observeOn(Schedulers.io())\r\n        .repeatWhen((observable) -&gt;\r\n             observable.concatMap(repeatObservable -&gt; {\r\n                 if(internetConnectionDetector.isInternetConnected()){\r\n                     consecutiveRetries = 0;\r\n                     return observable;\r\n                 } else {\r\n                     consecutiveRetries++;\r\n                     int backoffDelay = (int)Math.pow(consecutiveRetries,2);\r\n                     return observable.delay(backoffDelay, TimeUnit.SECONDS);\r\n                    }\r\n             }).onBackpressureDrop())\r\n        .onBackpressureDrop();\r\n\r\nIs there any way to do what I&#39;m attempting to do? I found a related question (can&#39;t find it searching right now), but the approach taken didn&#39;t seem to work with a dynamic value.","title":"Exponential Backoff in RxJava","body":"<p>I have an API that takes an <code>Observable</code> that triggers an event.</p>\n\n<p>I want to return an <code>Observable</code> that emits a value every <code>defaultDelay</code> seconds if an Internet connection is detected, and delays <code>numberOfFailedAttempts^2</code> times if there's no connection.</p>\n\n<p>I've tried a bunch of various styles, the biggest problem I'm having is <code>retryWhen's</code> observable is only evaluated once:</p>\n\n<pre><code>Observable\n    .interval(defaultDelay,TimeUnit.MILLISECONDS)\n    .observeOn(Schedulers.io())\n    .repeatWhen((observable) -&gt;\n         observable.concatMap(repeatObservable -&gt; {\n             if(internetConnectionDetector.isInternetConnected()){\n                 consecutiveRetries = 0;\n                 return observable;\n             } else {\n                 consecutiveRetries++;\n                 int backoffDelay = (int)Math.pow(consecutiveRetries,2);\n                 return observable.delay(backoffDelay, TimeUnit.SECONDS);\n                }\n         }).onBackpressureDrop())\n    .onBackpressureDrop();\n</code></pre>\n\n<p>Is there any way to do what I'm attempting to do? I found a related question (can't find it searching right now), but the approach taken didn't seem to work with a dynamic value.</p>\n"},{"tags":["java","android","web","webview","notifications"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673703172,"post_id":75117877,"comment_id":132559480,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22751401,"reputation":11,"user_id":16911506,"display_name":"Gaurav "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673698892,"creation_date":1673698892,"question_id":75117877,"body_markdown":"I am not able to view the notifications of the WebView in android application\r\n\r\nI have tried firebase notification but I don&#39;t want like that i just want to view the notifications of the WebView to pop up on android device using java . \r\nI want for android studio","title":"can we get the notification from webview in our android application","body":"<p>I am not able to view the notifications of the WebView in android application</p>\n<p>I have tried firebase notification but I don't want like that i just want to view the notifications of the WebView to pop up on android device using java .\nI want for android studio</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","sonarlint"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673699111,"post_id":75117867,"comment_id":132558851,"body_markdown":"if my memory serves me right you may suppress that really annoying warning via `@SuppressWarnings(&quot;squid:S1948&quot;)` (or `@SuppressWarnings(&quot;java:S1948&quot;)`)","body":"if my memory serves me right you may suppress that really annoying warning via <code>@SuppressWarnings(&quot;squid:S1948&quot;)</code> (or <code>@SuppressWarnings(&quot;java:S1948&quot;)</code>)"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1673702649,"post_id":75117867,"comment_id":132559399,"body_markdown":"Well, I don&#39;t want to suppress warnings, I want to fix them...","body":"Well, I don&#39;t want to suppress warnings, I want to fix them..."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1673703138,"post_id":75117867,"comment_id":132559477,"body_markdown":"you can&#39;t: you may not specify serializable type for `@ManyToOne` association, since Hibernate sets there `PersistentSet`. Moreover, your understanding of warnings reported by static analysis tools is too naive: not every warning indicates developer mistake, it just asked you to pay attention to particular piece of code, you did, realised that it was false positive and suppressed - that is a normal process.","body":"you can&#39;t: you may not specify serializable type for <code>@ManyToOne</code> association, since Hibernate sets there <code>PersistentSet</code>. Moreover, your understanding of warnings reported by static analysis tools is too naive: not every warning indicates developer mistake, it just asked you to pay attention to particular piece of code, you did, realised that it was false positive and suppressed - that is a normal process."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1673703777,"post_id":75117867,"comment_id":132559607,"body_markdown":"Okay, thank you for an explanation, I&#39;ll suppress that warning...","body":"Okay, thank you for an explanation, I&#39;ll suppress that warning..."}],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673698790,"creation_date":1673698790,"question_id":75117867,"body_markdown":"Hej, I am currently facing an issue with SonarLint, error is based on some kind of choice between serialization of the field or transient of that same field. Currently, I don&#39;t know which option to choose because the field is in an entity that has a ManyToMany relationship with other entities. Here is a code:\r\n\r\nUser entity:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;t_user&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @NotBlank(message = &quot;Firstname cannot be blank.&quot;)\r\n    @NotEmpty(message = &quot;Firstname cannot be empty.&quot;)\r\n    @NotNull(message = &quot;Firstname cannot be null.&quot;)\r\n    @Size(max = 32)\r\n    private String firstname;\r\n\r\n    @NotBlank(message = &quot;Lastname cannot be blank.&quot;)\r\n    @NotEmpty(message = &quot;Lastname cannot be empty.&quot;)\r\n    @NotNull(message = &quot;Lastname cannot be null.&quot;)\r\n    @Size(max = 32)\r\n    private String lastname;\r\n\r\n    @Email(message = &quot;Email is not valid&quot;, regexp = EMAIL_REGEX)\r\n    @NotBlank(message = &quot;Email cannot be blank.&quot;)\r\n    @NotEmpty(message = &quot;Email cannot be empty.&quot;)\r\n    @NotNull(message = &quot;Email cannot be null.&quot;)\r\n    private String email;\r\n\r\n    @NotBlank(message = &quot;Password cannot be blank.&quot;)\r\n    @NotEmpty(message = &quot;Password cannot be empty.&quot;)\r\n    @NotNull(message = &quot;Password cannot be null.&quot;)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            })\r\n    @JoinTable(name = &quot;t_user_roles&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;role_id&quot;) })\r\n    @ToString.Exclude\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;(); // ERROR LINE\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy HH:mm:ss&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy HH:mm:ss&quot;)\r\n    private LocalDateTime updatedAt;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    @ToString.Exclude\r\n    private transient Set&lt;UserResetPasswordToken&gt; userResetPasswordTokens;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    @ToString.Exclude\r\n    private transient Set&lt;UserResetPasswordHistory&gt; userResetPasswordHistories;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return roles.stream()\r\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\r\n                .toList();\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        User user = (User) o;\r\n        return id != null &amp;&amp; Objects.equals(id, user.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n\r\nRole entity:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;t_role&quot;)\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private RoleEnum name;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER,\r\n            cascade = {\r\n                    CascadeType.PERSIST,\r\n                    CascadeType.MERGE\r\n            },\r\n            mappedBy = &quot;roles&quot;) //This become red if I use transient keyword on roles field in User entity\r\n    @JsonIgnore\r\n    @ToString.Exclude\r\n    private Set&lt;User&gt; users;\r\n\r\n    public Role(Integer id, RoleEnum name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        Role role = (Role) o;\r\n        return id != null &amp;&amp; Objects.equals(id, role.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\nImage:\r\n[![Error screenshot][1]][1]\r\n\r\nBut if I make field roles transient then my mappedBy option in the Roles entity will come red so that it could not find the same roles in the User entity. Is there a solution to fix this SonarLint issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1YKvF.png","title":"SonarLint: Make roles transient or serializable error","body":"<p>Hej, I am currently facing an issue with SonarLint, error is based on some kind of choice between serialization of the field or transient of that same field. Currently, I don't know which option to choose because the field is in an entity that has a ManyToMany relationship with other entities. Here is a code:</p>\n<p>User entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;t_user&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotBlank(message = &quot;Firstname cannot be blank.&quot;)\n    @NotEmpty(message = &quot;Firstname cannot be empty.&quot;)\n    @NotNull(message = &quot;Firstname cannot be null.&quot;)\n    @Size(max = 32)\n    private String firstname;\n\n    @NotBlank(message = &quot;Lastname cannot be blank.&quot;)\n    @NotEmpty(message = &quot;Lastname cannot be empty.&quot;)\n    @NotNull(message = &quot;Lastname cannot be null.&quot;)\n    @Size(max = 32)\n    private String lastname;\n\n    @Email(message = &quot;Email is not valid&quot;, regexp = EMAIL_REGEX)\n    @NotBlank(message = &quot;Email cannot be blank.&quot;)\n    @NotEmpty(message = &quot;Email cannot be empty.&quot;)\n    @NotNull(message = &quot;Email cannot be null.&quot;)\n    private String email;\n\n    @NotBlank(message = &quot;Password cannot be blank.&quot;)\n    @NotEmpty(message = &quot;Password cannot be empty.&quot;)\n    @NotNull(message = &quot;Password cannot be null.&quot;)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            })\n    @JoinTable(name = &quot;t_user_roles&quot;,\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;role_id&quot;) })\n    @ToString.Exclude\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;(); // ERROR LINE\n\n    @Column(name = &quot;created_at&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy HH:mm:ss&quot;)\n    private LocalDateTime createdAt;\n\n    @Column(name = &quot;updated_at&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy HH:mm:ss&quot;)\n    private LocalDateTime updatedAt;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    @ToString.Exclude\n    private transient Set&lt;UserResetPasswordToken&gt; userResetPasswordTokens;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    @ToString.Exclude\n    private transient Set&lt;UserResetPasswordHistory&gt; userResetPasswordHistories;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return roles.stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\n                .toList();\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        User user = (User) o;\n        return id != null &amp;&amp; Objects.equals(id, user.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>Role entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;t_role&quot;)\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private RoleEnum name;\n\n    @ManyToMany(fetch = FetchType.EAGER,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            },\n            mappedBy = &quot;roles&quot;) //This become red if I use transient keyword on roles field in User entity\n    @JsonIgnore\n    @ToString.Exclude\n    private Set&lt;User&gt; users;\n\n    public Role(Integer id, RoleEnum name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        Role role = (Role) o;\n        return id != null &amp;&amp; Objects.equals(id, role.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>Image:\n<a href=\"https://i.stack.imgur.com/1YKvF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1YKvF.png\" alt=\"Error screenshot\" /></a></p>\n<p>But if I make field roles transient then my mappedBy option in the Roles entity will come red so that it could not find the same roles in the User entity. Is there a solution to fix this SonarLint issue?</p>\n"},{"tags":["java","android","csv","storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605540698,"post_id":64860778,"comment_id":114674421,"body_markdown":"You use an Android 10 device?","body":"You use an Android 10 device?"},{"owner":{"account_id":14636333,"reputation":190,"user_id":10570363,"display_name":"Ahmed Nezhi"},"score":0,"creation_date":1605543283,"post_id":64860778,"comment_id":114675616,"body_markdown":"This question already have a question. check [link](https://stackoverflow.com/questions/11341931/how-to-create-a-csv-on-android)","body":"This question already have a question. check <a href=\"https://stackoverflow.com/questions/11341931/how-to-create-a-csv-on-android\">link</a>"},{"owner":{"account_id":19912242,"reputation":1,"user_id":14590032,"display_name":"Antoine de Pommereau"},"score":0,"creation_date":1605545901,"post_id":64860778,"comment_id":114676786,"body_markdown":"i have tried this before and it didn&#39;t work. I have tried many tutorials but I can never find the file in the phone","body":"i have tried this before and it didn&#39;t work. I have tried many tutorials but I can never find the file in the phone"}],"answers":[{"tags":[],"owner":{"account_id":4596317,"reputation":902,"user_id":3728258,"display_name":"Vivek Vashistha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673698308,"creation_date":1673697493,"answer_id":75117738,"question_id":64860778,"body_markdown":"From Android 10 and beyond, Android enforces [Storage Scope Model][1]. You can either write your CSV file in App-Specific Location which is private to your App and doesn&#39;t require any user permission, but no one can access this location. Here is the code snippet to write the file into the **App-Specific** directory:\r\n```\r\n public void writeIntoFile(Context context, String fileName, String content) {\r\n//        File appSpecificExternalStorageDirectory = context.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\r\n        File appSpecificInternalStorageDirectory = context.getFilesDir();\r\n        File file = new File(appSpecificInternalStorageDirectory, fileName);\r\n        file.createNewFile();\r\n        FileOutputStream fos = new FileOutputStream(file, false);\r\n        fos.write(content.getBytes());\r\n        fos.close();\r\n    }\r\n```\r\n\r\nIf you want to share this file with the User, then you should write this file in [**Shared Storage**][2]. To write a file in Shared Storage, this has to be done in 3 steps:-\r\n\r\n**Step 1:** Launch System Picker to choose the destination by the user. This will return Uri of the destination directory.\r\n```\r\nprivate ActivityResultLauncher&lt;Intent&gt; launcher; // Initialise this object in Activity.onCreate()\r\nprivate Uri baseDocumentTreeUri;\r\npublic void launchBaseDirectoryPicker() {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        launcher.launch(intent);\r\n }\r\n```\r\n**Step 2:** Launch System Picker to choose the destination by the user. This will return the Uri of the destination directory. Also, you can optionally persist the permissions and Uri for future use.\r\n\r\n```\r\n@Override\r\n    public void onActivityResult(ActivityResult result) {\r\n        if (result.getResultCode() == Activity.RESULT_OK) {\r\n            baseDocumentTreeUri = Objects.requireNonNull(result.getData()).getData();\r\n            final int takeFlags = (Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n\r\n            // take persistable Uri Permission for future use\r\n            context.getContentResolver().takePersistableUriPermission(result.getData().getData(), takeFlags);\r\n            SharedPreferences preferences = context.getSharedPreferences(&quot;com.example.fileutility&quot;, Context.MODE_PRIVATE);\r\n            preferences.edit().putString(&quot;filestorageuri&quot;, result.getData().getData().toString()).apply();\r\n        } else {\r\n            Log.e(&quot;FileUtility&quot;, &quot;Some Error Occurred : &quot; + result);\r\n        }\r\n}\r\n```\r\n\r\n**Step 3:** Write CSV content into a file.\r\n```\r\npublic void writeFile(String fileName, String content)  {\r\n        try {\r\n            DocumentFile directory = DocumentFile.fromTreeUri(context, baseDocumentTreeUri);\r\n            DocumentFile file = directory.createFile(&quot;text/*&quot;, fileName);\r\n            ParcelFileDescriptor pfd = context.getContentResolver().openFileDescriptor(file.getUri(), &quot;w&quot;);\r\n            FileOutputStream fos = new FileOutputStream(pfd.getFileDescriptor());\r\n            fos.write(content.getBytes());\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            \r\n        }\r\n}\r\n```\r\n\r\nFor more explanation, you can read &quot;[How to Save a file in Shared Storage in Android 10 or Higher][3]&quot; or [Android official documentation.][4]\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage#scoped-storage\r\n  [2]: https://developer.android.com/training/data-storage/shared\r\n  [3]: https://How%20to%20Save%20a%20File%20in%20Shared%20Storage%20Location%20in%20Android%2013\r\n  [4]: https://developer.android.com/training/data-storage/shared/documents-files","title":"Create CSV file with the right permissions","body":"<p>From Android 10 and beyond, Android enforces <a href=\"https://developer.android.com/training/data-storage#scoped-storage\" rel=\"nofollow noreferrer\">Storage Scope Model</a>. You can either write your CSV file in App-Specific Location which is private to your App and doesn't require any user permission, but no one can access this location. Here is the code snippet to write the file into the <strong>App-Specific</strong> directory:</p>\n<pre><code> public void writeIntoFile(Context context, String fileName, String content) {\n//        File appSpecificExternalStorageDirectory = context.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\n        File appSpecificInternalStorageDirectory = context.getFilesDir();\n        File file = new File(appSpecificInternalStorageDirectory, fileName);\n        file.createNewFile();\n        FileOutputStream fos = new FileOutputStream(file, false);\n        fos.write(content.getBytes());\n        fos.close();\n    }\n</code></pre>\n<p>If you want to share this file with the User, then you should write this file in <a href=\"https://developer.android.com/training/data-storage/shared\" rel=\"nofollow noreferrer\"><strong>Shared Storage</strong></a>. To write a file in Shared Storage, this has to be done in 3 steps:-</p>\n<p><strong>Step 1:</strong> Launch System Picker to choose the destination by the user. This will return Uri of the destination directory.</p>\n<pre><code>private ActivityResultLauncher&lt;Intent&gt; launcher; // Initialise this object in Activity.onCreate()\nprivate Uri baseDocumentTreeUri;\npublic void launchBaseDirectoryPicker() {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n        launcher.launch(intent);\n }\n</code></pre>\n<p><strong>Step 2:</strong> Launch System Picker to choose the destination by the user. This will return the Uri of the destination directory. Also, you can optionally persist the permissions and Uri for future use.</p>\n<pre><code>@Override\n    public void onActivityResult(ActivityResult result) {\n        if (result.getResultCode() == Activity.RESULT_OK) {\n            baseDocumentTreeUri = Objects.requireNonNull(result.getData()).getData();\n            final int takeFlags = (Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n\n            // take persistable Uri Permission for future use\n            context.getContentResolver().takePersistableUriPermission(result.getData().getData(), takeFlags);\n            SharedPreferences preferences = context.getSharedPreferences(&quot;com.example.fileutility&quot;, Context.MODE_PRIVATE);\n            preferences.edit().putString(&quot;filestorageuri&quot;, result.getData().getData().toString()).apply();\n        } else {\n            Log.e(&quot;FileUtility&quot;, &quot;Some Error Occurred : &quot; + result);\n        }\n}\n</code></pre>\n<p><strong>Step 3:</strong> Write CSV content into a file.</p>\n<pre><code>public void writeFile(String fileName, String content)  {\n        try {\n            DocumentFile directory = DocumentFile.fromTreeUri(context, baseDocumentTreeUri);\n            DocumentFile file = directory.createFile(&quot;text/*&quot;, fileName);\n            ParcelFileDescriptor pfd = context.getContentResolver().openFileDescriptor(file.getUri(), &quot;w&quot;);\n            FileOutputStream fos = new FileOutputStream(pfd.getFileDescriptor());\n            fos.write(content.getBytes());\n            fos.close();\n        } catch (IOException e) {\n            \n        }\n}\n</code></pre>\n<p>For more explanation, you can read &quot;<a href=\"https://How%20to%20Save%20a%20File%20in%20Shared%20Storage%20Location%20in%20Android%2013\" rel=\"nofollow noreferrer\">How to Save a file in Shared Storage in Android 10 or Higher</a>&quot; or <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">Android official documentation.</a></p>\n"}],"owner":{"account_id":19912242,"reputation":1,"user_id":14590032,"display_name":"Antoine de Pommereau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673698308,"creation_date":1605540361,"question_id":64860778,"body_markdown":"I am building an Android app where I want to export some values to a CSV. \r\nI have to problem: either I get an error saying that the permission is denied or I get no errors but no CSV is created.\r\n\r\n        FileWriter writer;\r\n        File root = Environment.getExternalStorageDirectory();\r\n        File csvFile = new File(root, &quot;xxx.csv&quot;);\r\n        writer = new FileWriter(csvFile);\r\n\r\n        String headers = String.format(&quot;%s,%s\\n&quot;, &quot;Timestamp&quot;,\r\n                &quot;Value&quot;);\r\n        writer.write(headers);\r\n        writer.flush();\r\n        writer.close();\r\n\r\nBut i get nothing...","title":"Create CSV file with the right permissions","body":"<p>I am building an Android app where I want to export some values to a CSV.\nI have to problem: either I get an error saying that the permission is denied or I get no errors but no CSV is created.</p>\n<pre><code>    FileWriter writer;\n    File root = Environment.getExternalStorageDirectory();\n    File csvFile = new File(root, &quot;xxx.csv&quot;);\n    writer = new FileWriter(csvFile);\n\n    String headers = String.format(&quot;%s,%s\\n&quot;, &quot;Timestamp&quot;,\n            &quot;Value&quot;);\n    writer.write(headers);\n    writer.flush();\n    writer.close();\n</code></pre>\n<p>But i get nothing...</p>\n"},{"tags":["java","arrays","class","exception","event-dispatch-thread"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1673697251,"post_id":75117537,"comment_id":132558579,"body_markdown":"[Edit] your question and post the error details including the actual error message and the entire stack trace. Also consider posting a [mcve].","body":"<a href=\"https://stackoverflow.com/posts/75117537/edit\">Edit</a> your question and post the error details including the actual error message and the entire stack trace. Also consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673703237,"post_id":75117537,"comment_id":132559489,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19043342,"reputation":43,"user_id":14848588,"display_name":"Galaxylokka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673698183,"creation_date":1673695162,"question_id":75117537,"body_markdown":"I create **alist** method to insert principal values and remaining balances according to the payments.But when I implement this method in actionListner method error occurs(EventDispatchThread Execption).I try to solve it.Please give any help for me to solve this.\r\n```java\r\npublic class Loan {\r\n    float lamt,irate,inst,lbalance;\r\n    int duration,nop;\r\n    String amtlist[][] = new String[duration+1][5];\r\n\r\n    Loan(float lamt, float irate, int duration, int nop) {\r\n        this.lamt = lamt;\r\n        this.irate = irate;\r\n        this.duration = duration;\r\n        this.nop = nop;\r\n    }\r\n\r\n    public void alist() {\r\n        amtlist[0][0] = &quot;0&quot; ;\r\n        amtlist[0][1] = &quot;0&quot;;\r\n        amtlist[0][2] = &quot;0&quot;;\r\n        amtlist[0][3] = &quot;0&quot;;\r\n        amtlist[0][4] = Float.toString(inst*annuity(duration,irate));\r\n\r\n        float v = 1 / (1 + irate);\r\n        for (int i = 1; i &lt; duration + 1; i++) {\r\n            amtlist[i][0] = Float.toString(i);\r\n            amtlist[i][1] = Float.toString(irate * annuity(duration + 1 - i, irate));\r\n            amtlist[i][2] = Float.toString(instalment());\r\n            amtlist[i][3] = Double.toString(instalment() * Math.pow(v, i));\r\n            amtlist[i][4] = Float.toString(instalment() * annuity(duration - i, irate));\r\n        }\r\n    }\r\n\r\n    public float annuity(int duration, float irate) {\r\n        float v = 1 / (1 + irate);\r\n        float an = (float) ((1 - Math.pow(v, duration)) / irate);\r\n        return an;\r\n    }\r\n\r\n    public float instalment(){\r\n        return inst = lamt / annuity(duration, irate);\r\n    }\r\n\r\n    public float lbalance() {\r\n        return lbalance = inst * annuity(duration - nop, irate);\r\n    }\r\n}\r\n```\r\n-------------------\r\n```java\r\npublic void actionPerformed(ActionEvent e) {\r\n    String lamtstr = tf1.getText();\r\n    String iratestr = tf2.getText();\r\n    String durationstr = tf3.getText();\r\n    String nopstr = tf4.getText();\r\n\r\n    float lamt = Float.parseFloat(lamtstr);\r\n    float irate = Float.parseFloat(iratestr);\r\n    int duration = Integer.parseInt(durationstr);\r\n    int nop = Integer.parseInt(nopstr);\r\n\r\n    Loan l = new Loan(lamt, irate, duration, nop);\r\n    float inst = 0, balance = 0;\r\n    if (e.getSource() == b1) {\r\n        inst =l.instalment();\r\n        balance =l.lbalance();\r\n    }\r\n    if (e.getSource() == b2) {\r\n        l.alist();\r\n        fscr.dispose();\r\n        new AmTable(l.amtlist);\r\n    }\r\n    tf5.setText(String.valueOf(inst));\r\n    tf6.setText(String.valueOf(balance));\r\n}\r\n```\r\nI tried solve it by changing `alist` method to value returning method but my attempt got vain.\r\n\r\n```java\r\nif (e.getSource() == b2) {\r\n    l.alist();\r\n    fscr.dispose();\r\n    new AmTable(l.amtlist);\r\n}\r\n```\r\nI expected to call AmTable function with amlist array.","title":"EventDispatchThread Execption","body":"<p>I create <strong>alist</strong> method to insert principal values and remaining balances according to the payments.But when I implement this method in actionListner method error occurs(EventDispatchThread Execption).I try to solve it.Please give any help for me to solve this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Loan {\n    float lamt,irate,inst,lbalance;\n    int duration,nop;\n    String amtlist[][] = new String[duration+1][5];\n\n    Loan(float lamt, float irate, int duration, int nop) {\n        this.lamt = lamt;\n        this.irate = irate;\n        this.duration = duration;\n        this.nop = nop;\n    }\n\n    public void alist() {\n        amtlist[0][0] = &quot;0&quot; ;\n        amtlist[0][1] = &quot;0&quot;;\n        amtlist[0][2] = &quot;0&quot;;\n        amtlist[0][3] = &quot;0&quot;;\n        amtlist[0][4] = Float.toString(inst*annuity(duration,irate));\n\n        float v = 1 / (1 + irate);\n        for (int i = 1; i &lt; duration + 1; i++) {\n            amtlist[i][0] = Float.toString(i);\n            amtlist[i][1] = Float.toString(irate * annuity(duration + 1 - i, irate));\n            amtlist[i][2] = Float.toString(instalment());\n            amtlist[i][3] = Double.toString(instalment() * Math.pow(v, i));\n            amtlist[i][4] = Float.toString(instalment() * annuity(duration - i, irate));\n        }\n    }\n\n    public float annuity(int duration, float irate) {\n        float v = 1 / (1 + irate);\n        float an = (float) ((1 - Math.pow(v, duration)) / irate);\n        return an;\n    }\n\n    public float instalment(){\n        return inst = lamt / annuity(duration, irate);\n    }\n\n    public float lbalance() {\n        return lbalance = inst * annuity(duration - nop, irate);\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent e) {\n    String lamtstr = tf1.getText();\n    String iratestr = tf2.getText();\n    String durationstr = tf3.getText();\n    String nopstr = tf4.getText();\n\n    float lamt = Float.parseFloat(lamtstr);\n    float irate = Float.parseFloat(iratestr);\n    int duration = Integer.parseInt(durationstr);\n    int nop = Integer.parseInt(nopstr);\n\n    Loan l = new Loan(lamt, irate, duration, nop);\n    float inst = 0, balance = 0;\n    if (e.getSource() == b1) {\n        inst =l.instalment();\n        balance =l.lbalance();\n    }\n    if (e.getSource() == b2) {\n        l.alist();\n        fscr.dispose();\n        new AmTable(l.amtlist);\n    }\n    tf5.setText(String.valueOf(inst));\n    tf6.setText(String.valueOf(balance));\n}\n</code></pre>\n<p>I tried solve it by changing <code>alist</code> method to value returning method but my attempt got vain.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (e.getSource() == b2) {\n    l.alist();\n    fscr.dispose();\n    new AmTable(l.amtlist);\n}\n</code></pre>\n<p>I expected to call AmTable function with amlist array.</p>\n"},{"tags":["java","multidimensional-array","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":10840066,"reputation":483,"user_id":7971629,"display_name":"csoler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628652389,"creation_date":1628652065,"answer_id":68735602,"question_id":68735572,"body_markdown":"You have the right idea, except instead of printing to the console in the nested for loop, you need to add the length of the string to your characterCount. so you would do:\r\n\r\n    characterCount = characterCount + totalNumber.length();\r\n\r\nor for short\r\n\r\n    characterCount += totalNumber.length();\r\n\r\nYou could write it a little cleaner:\r\n\r\n    int count = 0;\r\n    \r\n    for (String[] arr: wordData) {\r\n        for (String str: arr) {\r\n            count += str.length();\r\n        }\r\n    }\r\n    \r\n    System.out.println(count);","title":"How to calculate the total number of characters in a 2D String array using enhanced for loop in java?","body":"<p>You have the right idea, except instead of printing to the console in the nested for loop, you need to add the length of the string to your characterCount. so you would do:</p>\n<pre><code>characterCount = characterCount + totalNumber.length();\n</code></pre>\n<p>or for short</p>\n<pre><code>characterCount += totalNumber.length();\n</code></pre>\n<p>You could write it a little cleaner:</p>\n<pre><code>int count = 0;\n\nfor (String[] arr: wordData) {\n    for (String str: arr) {\n        count += str.length();\n    }\n}\n\nSystem.out.println(count);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628652340,"creation_date":1628652340,"answer_id":68735631,"question_id":68735572,"body_markdown":"While your code correctly iterates through the 2D array, you aren&#39;t actually incrementing your total character count.\r\n\r\nSimply change the following line:\r\n\r\n       System.out.println(totalNumber.length();\r\nto:\r\n       \r\n    characterCount+= totalNumber.length();\r\n","title":"How to calculate the total number of characters in a 2D String array using enhanced for loop in java?","body":"<p>While your code correctly iterates through the 2D array, you aren't actually incrementing your total character count.</p>\n<p>Simply change the following line:</p>\n<pre><code>   System.out.println(totalNumber.length();\n</code></pre>\n<p>to:</p>\n<pre><code>characterCount+= totalNumber.length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20431157,"reputation":1,"user_id":19073089,"display_name":"Oleksandr Moroziuk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673698050,"creation_date":1673698050,"answer_id":75117790,"question_id":68735572,"body_markdown":"int characterCount = 0;\r\n\r\nfor (String[] wordRow : wordData) {\r\n`enter code here`for (String word: wordRow) {\r\n`enter code here`characterCount += word.length();\r\n   }\r\n}\r\n\r\nSystem.out.println(characterCount);","title":"How to calculate the total number of characters in a 2D String array using enhanced for loop in java?","body":"<p>int characterCount = 0;</p>\n<p>for (String[] wordRow : wordData) {\n<code>enter code here</code>for (String word: wordRow) {\n<code>enter code here</code>characterCount += word.length();\n}\n}</p>\n<p>System.out.println(characterCount);</p>\n"}],"owner":{"account_id":20733665,"reputation":1,"user_id":15224991,"display_name":"Jean Baptiste Asong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673698050,"creation_date":1628651679,"question_id":68735572,"body_markdown":"    public class LoopPractice {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[][] wordData = {{&quot;study&quot;, &quot;consider&quot;, &quot;examine&quot;, &quot;learn&quot;}, {&quot;ponder&quot;, &quot;read&quot;, &quot;think&quot;, &quot;cogigate&quot;}};\r\n    \t\t\r\n            // Below is the question. Am trying to print the total number of characters in the wordData String array.\r\n\r\n    \t\t//Use nested enhanced for loops to calculate the total number of characters in the wordData 2D array and print the result to the console. (Get the string .length() of each element)\r\n\r\n// Below is what I have but it keeps printing the characterCount of 0 and the total number of each word character in the console.\r\n// I don&#39;t know how to get the String.length() of the nested String array using the enhanced for loop.\r\n\r\n    \t\tint characterCount = 0;\r\n        for(String[] characters: wordData) {\r\n          for(String totalNumber : characters) {\r\n           System.out.println(totalNumber.length();\r\n           }\r\n        }\r\n    \t\tSystem.out.println(characterCount);\r\n    \t\t\r\n    \r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How to calculate the total number of characters in a 2D String array using enhanced for loop in java?","body":"<pre><code>public class LoopPractice {\n    public static void main(String[] args) {\n        String[][] wordData = {{&quot;study&quot;, &quot;consider&quot;, &quot;examine&quot;, &quot;learn&quot;}, {&quot;ponder&quot;, &quot;read&quot;, &quot;think&quot;, &quot;cogigate&quot;}};\n        \n        // Below is the question. Am trying to print the total number of characters in the wordData String array.\n\n        //Use nested enhanced for loops to calculate the total number of characters in the wordData 2D array and print the result to the console. (Get the string .length() of each element)\n</code></pre>\n<p>// Below is what I have but it keeps printing the characterCount of 0 and the total number of each word character in the console.\n// I don't know how to get the String.length() of the nested String array using the enhanced for loop.</p>\n<pre><code>        int characterCount = 0;\n    for(String[] characters: wordData) {\n      for(String totalNumber : characters) {\n       System.out.println(totalNumber.length();\n       }\n    }\n        System.out.println(characterCount);\n        \n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","service","controller"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1673695573,"post_id":75117551,"comment_id":132558376,"body_markdown":"That is just how java works. First, java tries to resolve the variable-name to a local variable or parameter. If this does not yield a match, it tries to resolve it through instance fields. Since we do not have a local variable or parameter named `todoService`, the instance fields are checked, we have a match and it effectively resolves to `this.todoService`.","body":"That is just how java works. First, java tries to resolve the variable-name to a local variable or parameter. If this does not yield a match, it tries to resolve it through instance fields. Since we do not have a local variable or parameter named <code>todoService</code>, the instance fields are checked, we have a match and it effectively resolves to <code>this.todoService</code>."}],"answers":[{"tags":[],"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673696051,"creation_date":1673695831,"answer_id":75117591,"question_id":75117551,"body_markdown":"If there is no variable with this name in the local scope, but there is a field, the compiler will add the `this` keyword itself.\r\n\r\n_Remark: You should understand java core because spring does a lot of complex things and without understanding java you can get confused._ \r\n\r\n","title":"How is the Service recognized in the controller","body":"<p>If there is no variable with this name in the local scope, but there is a field, the compiler will add the <code>this</code> keyword itself.</p>\n<p><em>Remark: You should understand java core because spring does a lot of complex things and without understanding java you can get confused.</em></p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673697578,"creation_date":1673697578,"answer_id":75117751,"question_id":75117551,"body_markdown":"[JLS, &#167;6.5.6.1: Simple Type Names][jls], states that: \r\n\r\n&gt; **If an expression name consists of a single *Identifier*, then there must be exactly one declaration denoting either a local variable, formal parameter, exception parameter, or field in scope at the point at which the identifier occurs. ...**\r\n\r\nThus, we can access instance fields without `this` (as long as there is no name clash with a local variable or parameter, then `this` is needed to distinguish between the local variable/parameter and the instance field).\r\n\r\n\r\n[jls]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.6.1","title":"How is the Service recognized in the controller","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.6.1\" rel=\"nofollow noreferrer\">JLS, ¬ß6.5.6.1: Simple Type Names</a>, states that:</p>\n<blockquote>\n<p><strong>If an expression name consists of a single <em>Identifier</em>, then there must be exactly one declaration denoting either a local variable, formal parameter, exception parameter, or field in scope at the point at which the identifier occurs. ...</strong></p>\n</blockquote>\n<p>Thus, we can access instance fields without <code>this</code> (as long as there is no name clash with a local variable or parameter, then <code>this</code> is needed to distinguish between the local variable/parameter and the instance field).</p>\n"}],"owner":{"account_id":7680380,"reputation":351,"user_id":5819768,"accept_rate":25,"display_name":"Krowar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75117751,"answer_count":2,"score":0,"last_activity_date":1673697578,"creation_date":1673695322,"question_id":75117551,"body_markdown":"I have a controller that has a service in Spring boot.\r\n\r\nThe Controller is like this : \r\n\r\n    \r\n    @Controller\r\n    @SessionAttributes(&quot;name&quot;)\r\n    public class TodoController {\r\n    \r\n        private TodoService todoService;\r\n    \r\n        public TodoController(TodoService todoService) {\r\n            super();\r\n            this.todoService = todoService;\r\n        }\r\n    \r\n        @RequestMapping(&quot;list-todos&quot;)\r\n        public String showTodos(ModelMap model){\r\n            List&lt;Todo&gt; todos = todoService.findByUsername(&quot;Gerald&quot;);\r\n            model.addAttribute(&quot;todos&quot;, todos);\r\n            return &quot;todoList&quot;;\r\n        }\r\n\r\nAnd the service like this \r\n\r\n    \r\n    @Service\r\n    public class TodoService {\r\n        private static List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\r\n    \r\n        static {\r\n            Todo todo1 = new Todo(1, &quot;Gerald&quot;, &quot;Learn Java&quot;, LocalDate.now().plusYears(1), false);\r\n            Todo todo2 = new Todo(2, &quot;Gerald&quot;, &quot;Learn Python&quot;, LocalDate.now().plusYears(2), false);\r\n            Todo todo3 = new Todo(2, &quot;Gerald&quot;, &quot;Learn OCaml&quot;, LocalDate.now().plusYears(3), false);\r\n            Todo todo4 = new Todo(2, &quot;Gerald&quot;, &quot;Learn Cooking&quot;, LocalDate.now().plusYears(4), false);\r\n            System.out.println(todo1);\r\n    \r\n            todos.add(new Todo(1, &quot;Gerald&quot;, &quot;Learn Java&quot;, LocalDate.now().plusYears(1), false));\r\n            todos.add(new Todo(2, &quot;Gerald&quot;, &quot;Learn Python&quot;, LocalDate.now().plusYears(2), false));\r\n            todos.add(new Todo(3, &quot;Gerald&quot;, &quot;Learn Handstand&quot;, LocalDate.now().plusYears(3), false));\r\n            todos.add(new Todo(4, &quot;Gerald&quot;, &quot;Learn Cooking&quot;, LocalDate.now().plusYears(4), false));\r\n        }\r\n    \r\n        public List&lt;Todo&gt; findByUsername(String name){\r\n            return todos;\r\n        }\r\n    \r\n        public void addTodo(Todo todo){\r\n            todos.add(todo);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe code works properly if in Controller I have \r\n\r\n    @RequestMapping(&quot;list-todos&quot;)\r\n    public String showTodos(ModelMap model){\r\n        List&lt;Todo&gt; todos = this.todoService.findByUsername(&quot;Gerald&quot;);\r\n        model.addAttribute(&quot;todos&quot;, todos);\r\n        return &quot;todoList&quot;;\r\n    }\r\n\r\nWhy does it also work instead I have in there: \r\n\r\n        List&lt;Todo&gt; todos = todoService.findByUsername(&quot;Gerald&quot;);\r\n\r\n\r\nIn other words, how does the controller know what todoService is in that context when there is no `this` before ? ","title":"How is the Service recognized in the controller","body":"<p>I have a controller that has a service in Spring boot.</p>\n<p>The Controller is like this :</p>\n<pre><code>@Controller\n@SessionAttributes(&quot;name&quot;)\npublic class TodoController {\n\n    private TodoService todoService;\n\n    public TodoController(TodoService todoService) {\n        super();\n        this.todoService = todoService;\n    }\n\n    @RequestMapping(&quot;list-todos&quot;)\n    public String showTodos(ModelMap model){\n        List&lt;Todo&gt; todos = todoService.findByUsername(&quot;Gerald&quot;);\n        model.addAttribute(&quot;todos&quot;, todos);\n        return &quot;todoList&quot;;\n    }\n</code></pre>\n<p>And the service like this</p>\n<pre><code>@Service\npublic class TodoService {\n    private static List&lt;Todo&gt; todos = new ArrayList&lt;&gt;();\n\n    static {\n        Todo todo1 = new Todo(1, &quot;Gerald&quot;, &quot;Learn Java&quot;, LocalDate.now().plusYears(1), false);\n        Todo todo2 = new Todo(2, &quot;Gerald&quot;, &quot;Learn Python&quot;, LocalDate.now().plusYears(2), false);\n        Todo todo3 = new Todo(2, &quot;Gerald&quot;, &quot;Learn OCaml&quot;, LocalDate.now().plusYears(3), false);\n        Todo todo4 = new Todo(2, &quot;Gerald&quot;, &quot;Learn Cooking&quot;, LocalDate.now().plusYears(4), false);\n        System.out.println(todo1);\n\n        todos.add(new Todo(1, &quot;Gerald&quot;, &quot;Learn Java&quot;, LocalDate.now().plusYears(1), false));\n        todos.add(new Todo(2, &quot;Gerald&quot;, &quot;Learn Python&quot;, LocalDate.now().plusYears(2), false));\n        todos.add(new Todo(3, &quot;Gerald&quot;, &quot;Learn Handstand&quot;, LocalDate.now().plusYears(3), false));\n        todos.add(new Todo(4, &quot;Gerald&quot;, &quot;Learn Cooking&quot;, LocalDate.now().plusYears(4), false));\n    }\n\n    public List&lt;Todo&gt; findByUsername(String name){\n        return todos;\n    }\n\n    public void addTodo(Todo todo){\n        todos.add(todo);\n    }\n\n\n}\n</code></pre>\n<p>The code works properly if in Controller I have</p>\n<pre><code>@RequestMapping(&quot;list-todos&quot;)\npublic String showTodos(ModelMap model){\n    List&lt;Todo&gt; todos = this.todoService.findByUsername(&quot;Gerald&quot;);\n    model.addAttribute(&quot;todos&quot;, todos);\n    return &quot;todoList&quot;;\n}\n</code></pre>\n<p>Why does it also work instead I have in there:</p>\n<pre><code>    List&lt;Todo&gt; todos = todoService.findByUsername(&quot;Gerald&quot;);\n</code></pre>\n<p>In other words, how does the controller know what todoService is in that context when there is no <code>this</code> before ?</p>\n"},{"tags":["python","java","apache-spark","rdd"],"owner":{"account_id":26029560,"reputation":23,"user_id":19736002,"display_name":"Berchister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673696402,"creation_date":1673696402,"question_id":75117643,"body_markdown":"I&#39;m trying to learn Apache Spark. \r\n\r\n```\r\n    from pyspark import SparkContext, SparkConf\r\n    from pyspark.sql import SparkSession\r\n    \r\n    sc = SparkContext.getOrCreate(SparkConf().setMaster(&quot;local[*]&quot;))\r\n    \r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .getOrCreate()\r\n    \r\n    rdd = sc.parallelize(range(100))\r\n    \r\n    rdd.count()\r\n```\r\n\r\nTried to run this code, but I get this error:\r\n\r\n&gt; ---------------------------------------------------------------------------\r\n&gt; Py4JJavaError                             Traceback (most recent call last)\r\n&gt; &lt;ipython-input-5-377a7789e04b&gt; in &lt;module&gt;\r\n&gt; 1 rdd.count()\r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in count(self)\r\n&gt; 1235         3\r\n&gt; 1236         &quot;&quot;&quot;\r\n&gt; 1237         return self.mapPartitions(lambda i: [sum(1 for _ in i)]).sum()\r\n&gt; 1238 \r\n&gt; 1239     def stats(self):\r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in sum(self)\r\n&gt; 1224         6.0\r\n&gt; 1225         &quot;&quot;&quot;\r\n&gt; 1226         return self.mapPartitions(lambda x: [sum(x)]).fold(0, operator.add)\r\n&gt; 1227 \r\n&gt; 1228     def count(self):\r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in fold(self, zeroValue, op)\r\n&gt; 1078         # zeroValue provided to each partition is unique from the one provided\r\n&gt; 1079         # to the final reduce call\r\n&gt; 1080         vals = self.mapPartitions(func).collect()\r\n&gt; 1081         return reduce(op, vals, zeroValue)\r\n&gt; 1082 \r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in collect(self)\r\n&gt; 948         &quot;&quot;&quot;\r\n&gt; 949         with SCCallSiteSync(self.context) as css:\r\n&gt; 950             sock_info = self.ctx._jvm.PythonRDD.collectAndServe(self._jrdd.rdd())\r\n&gt; 951         return list(_load_from_socket(sock_info, self._jrdd_deserializer))\r\n&gt; 952 \r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\py4j\\java_gateway.py in __call__(self, *args)\r\n&gt; 1319 \r\n&gt; 1320         answer = self.gateway_client.send_command(command)\r\n&gt; 1321         return_value = get_return_value(\r\n&gt; 1322             answer, self.gateway_client, self.target_id, self.name)\r\n&gt; 1323 \r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\sql\\utils.py in deco(*a, **kw)\r\n&gt; 109     def deco(*a, **kw):\r\n&gt; 110         try:\r\n&gt; 111             return f(*a, **kw)\r\n&gt; 112         except py4j.protocol.Py4JJavaError as e:\r\n&gt; 113             converted = convert_exception(e.java_exception)\r\n&gt; \r\n&gt; C:\\ProgramData\\Anaconda3\\lib\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n&gt; 324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n&gt; 325             if answer[1] == REFERENCE_TYPE:\r\n&gt; 326                 raise Py4JJavaError(\r\n&gt; 327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n&gt; 328                     format(target_id, &quot;.&quot;, name), value)\r\n&gt; \r\n&gt; Py4JJavaError: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.collectAndServe.\r\n&gt; org.apache.spark.SparkException: Job aborted due to stage failure: Task 9 in stage 0.0 failed 1 times, most recent failure: Lost task 9.0 in stage 0.0 (TID 9) (10.22.48.132 executor driver): org.apache.spark.SparkException: Python worker failed to connect back.\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:188)\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:108)\r\n&gt; \tat org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:121)\r\n&gt; \tat org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:162)\r\n&gt; \tat org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\r\n&gt; \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n&gt; \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n&gt; \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n&gt; \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; \tat java.lang.Thread.run(Unknown Source)\r\n&gt; Caused by: java.net.SocketTimeoutException: Accept timed out\r\n&gt; \tat java.net.DualStackPlainSocketImpl.waitForNewConnection(Native Method)\r\n&gt; \tat java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)\r\n&gt; \tat java.net.AbstractPlainSocketImpl.accept(Unknown Source)\r\n&gt; \tat java.net.PlainSocketImpl.accept(Unknown Source)\r\n&gt; \tat java.net.ServerSocket.implAccept(Unknown Source)\r\n&gt; \tat java.net.ServerSocket.accept(Unknown Source)\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:175)\r\n&gt; 14 more\r\n&gt; \r\n&gt; Driver stacktrace:\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2454)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2403)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2402)\r\n&gt; \tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n&gt; \tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n&gt; \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2402)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1160)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1160)\r\n&gt; \tat scala.Option.foreach(Option.scala:407)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1160)\r\n&gt; \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2642)\r\n&gt; \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2584)\r\n&gt; \tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2573)\r\n&gt; \tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n&gt; \tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:938)\r\n&gt; \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2214)\r\n&gt; \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2235)\r\n&gt; \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2254)\r\n&gt; \tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2279)\r\n&gt; \tat org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1030)\r\n&gt; \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n&gt; \tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n&gt; \tat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n&gt; \tat org.apache.spark.rdd.RDD.collect(RDD.scala:1029)\r\n&gt; \tat org.apache.spark.api.python.PythonRDD$.collectAndServe(PythonRDD.scala:180)\r\n&gt; \tat org.apache.spark.api.python.PythonRDD.collectAndServe(PythonRDD.scala)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n&gt; \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n&gt; \tat py4j.Gateway.invoke(Gateway.java:282)\r\n&gt; \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n&gt; \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n&gt; \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n&gt; \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n&gt; \tat java.lang.Thread.run(Unknown Source)\r\n&gt; Caused by: org.apache.spark.SparkException: Python worker failed to connect back.\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:188)\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:108)\r\n&gt; \tat org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:121)\r\n&gt; \tat org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:162)\r\n&gt; \tat org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\r\n&gt; \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n&gt; \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n&gt; \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n&gt; \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; 1 more\r\n&gt; Caused by: java.net.SocketTimeoutException: Accept timed out\r\n&gt; \tat java.net.DualStackPlainSocketImpl.waitForNewConnection(Native Method)\r\n&gt; \tat java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)\r\n&gt; \tat java.net.AbstractPlainSocketImpl.accept(Unknown Source)\r\n&gt; \tat java.net.PlainSocketImpl.accept(Unknown Source)\r\n&gt; \tat java.net.ServerSocket.implAccept(Unknown Source)\r\n&gt; \tat java.net.ServerSocket.accept(Unknown Source)\r\n&gt; \tat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:175)\r\n&gt; 14 more\r\n\r\n\r\n\r\n\r\nI tried to reinstall java but still getting the same error.","title":"Py4JJavaError on Jupyter Notebook","body":"<p>I'm trying to learn Apache Spark.</p>\n<pre><code>    from pyspark import SparkContext, SparkConf\n    from pyspark.sql import SparkSession\n    \n    sc = SparkContext.getOrCreate(SparkConf().setMaster(&quot;local[*]&quot;))\n    \n    spark = SparkSession \\\n        .builder \\\n        .getOrCreate()\n    \n    rdd = sc.parallelize(range(100))\n    \n    rdd.count()\n</code></pre>\n<p>Tried to run this code, but I get this error:</p>\n<blockquote>\n<hr />\n<p>Py4JJavaError                             Traceback (most recent call last)\n in \n1 rdd.count()</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in count(self)\n1235         3\n1236         &quot;&quot;&quot;\n1237         return self.mapPartitions(lambda i: [sum(1 for _ in i)]).sum()\n1238\n1239     def stats(self):</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in sum(self)\n1224         6.0\n1225         &quot;&quot;&quot;\n1226         return self.mapPartitions(lambda x: [sum(x)]).fold(0, operator.add)\n1227\n1228     def count(self):</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in fold(self, zeroValue, op)\n1078         # zeroValue provided to each partition is unique from the one provided\n1079         # to the final reduce call\n1080         vals = self.mapPartitions(func).collect()\n1081         return reduce(op, vals, zeroValue)\n1082</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\rdd.py in collect(self)\n948         &quot;&quot;&quot;\n949         with SCCallSiteSync(self.context) as css:\n950             sock_info = self.ctx._jvm.PythonRDD.collectAndServe(self._jrdd.rdd())\n951         return list(_load_from_socket(sock_info, self._jrdd_deserializer))\n952</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\py4j\\java_gateway.py in <strong>call</strong>(self, *args)\n1319\n1320         answer = self.gateway_client.send_command(command)\n1321         return_value = get_return_value(\n1322             answer, self.gateway_client, self.target_id, self.name)\n1323</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyspark\\sql\\utils.py in deco(*a, **kw)\n109     def deco(*a, **kw):\n110         try:\n111             return f(*a, **kw)\n112         except py4j.protocol.Py4JJavaError as e:\n113             converted = convert_exception(e.java_exception)</p>\n<p>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\n324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n325             if answer[1] == REFERENCE_TYPE:\n326                 raise Py4JJavaError(\n327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n328                     format(target_id, &quot;.&quot;, name), value)</p>\n<p>Py4JJavaError: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.collectAndServe.\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 9 in stage 0.0 failed 1 times, most recent failure: Lost task 9.0 in stage 0.0 (TID 9) (10.22.48.132 executor driver): org.apache.spark.SparkException: Python worker failed to connect back.\nat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:188)\nat org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:108)\nat org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:121)\nat org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:162)\nat org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\nat org.apache.spark.scheduler.Task.run(Task.scala:131)\nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\nCaused by: java.net.SocketTimeoutException: Accept timed out\nat java.net.DualStackPlainSocketImpl.waitForNewConnection(Native Method)\nat java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)\nat java.net.AbstractPlainSocketImpl.accept(Unknown Source)\nat java.net.PlainSocketImpl.accept(Unknown Source)\nat java.net.ServerSocket.implAccept(Unknown Source)\nat java.net.ServerSocket.accept(Unknown Source)\nat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:175)\n14 more</p>\n<p>Driver stacktrace:\nat org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2454)\nat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2403)\nat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2402)\nat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\nat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\nat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\nat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2402)\nat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1160)\nat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1160)\nat scala.Option.foreach(Option.scala:407)\nat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1160)\nat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2642)\nat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2584)\nat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2573)\nat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\nat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:938)\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2214)\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2235)\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2254)\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2279)\nat org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1030)\nat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\nat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\nat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\nat org.apache.spark.rdd.RDD.collect(RDD.scala:1029)\nat org.apache.spark.api.python.PythonRDD$.collectAndServe(PythonRDD.scala:180)\nat org.apache.spark.api.python.PythonRDD.collectAndServe(PythonRDD.scala)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\nat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\nat py4j.Gateway.invoke(Gateway.java:282)\nat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\nat py4j.commands.CallCommand.execute(CallCommand.java:79)\nat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\nat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\nat java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.spark.SparkException: Python worker failed to connect back.\nat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:188)\nat org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:108)\nat org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:121)\nat org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:162)\nat org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\nat org.apache.spark.scheduler.Task.run(Task.scala:131)\nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n1 more\nCaused by: java.net.SocketTimeoutException: Accept timed out\nat java.net.DualStackPlainSocketImpl.waitForNewConnection(Native Method)\nat java.net.DualStackPlainSocketImpl.socketAccept(Unknown Source)\nat java.net.AbstractPlainSocketImpl.accept(Unknown Source)\nat java.net.PlainSocketImpl.accept(Unknown Source)\nat java.net.ServerSocket.implAccept(Unknown Source)\nat java.net.ServerSocket.accept(Unknown Source)\nat org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:175)\n14 more</p>\n</blockquote>\n<p>I tried to reinstall java but still getting the same error.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-transactions"],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673696355,"creation_date":1673693378,"question_id":75117363,"body_markdown":"I have two instances of application which both of them have different transactional.id. When both of them initailize transaction, one transaction depends on the second one (Its like one intsance produce a message on kafka, the second one too, and if one of them commit transaction, all the messages are commited including these from second transaction if there are messages from second transaction between messages from first transaction.\r\n\r\nIs it a normal behaviour? If yes, how can i avoid that?\r\n\r\nEDIT: I have tried again and its actually working fine, even where there are messages between other transactions, and it works correctly for multiple instances, but when there are concurrency (like concurrency = 3 on @KafkaListener - transaction starts later, listener container doesnt initialize transaction) then one transaction may commit another transaction. What should I do when I have concurrency? Using multiple kafka producers with different transactional.id? \r\n\r\nConfig (kafka-spring:2.9.2, kafka-broker: 3.3.1) :\r\n\r\nNon transactional kafka producers are used in different part of the system\r\n\r\n```\r\n@Bean\r\n  AdminClient adminClient(KafkaProperties kafkaProperties) {\r\n    return KafkaAdminClient.create(kafkaProperties.buildAdminProperties());\r\n  }\r\n\r\n  @Bean\r\n  KafkaTransactionManager&lt;String, Object&gt; kafkaTransactionManager(@Qualifier(&quot;transactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\r\n    return new KafkaTransactionManager&lt;&gt;(producerFactory);\r\n  }\r\n\r\n  @Bean\r\n  KafkaTemplate&lt;String, Object&gt; transactionalKafkaTemplate(@Qualifier(&quot;transactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory);\r\n  }\r\n\r\n  @Bean\r\n  ProducerFactory&lt;String, Object&gt; transactionalProducer(KafkaProperties kafkaProperties) {\r\n    final var properties = kafkaProperties.buildProducerProperties();\r\n    properties.put(ProducerConfig.TRANSACTION_TIMEOUT_CONFIG, timeoutInMillis);\r\n    DefaultKafkaProducerFactory&lt;String, Object&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(properties);\r\n    // tx-${random.uuid}\r\n    producerFactory.setTransactionIdPrefix(transactionPrefix);\r\n    return producerFactory;\r\n  }\r\n\r\n  @Bean\r\n  ProducerFactory&lt;String, Object&gt; nonTransactionalProducer(KafkaProperties kafkaProperties) {\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties());\r\n  }\r\n\r\n  @Bean\r\n  KafkaTemplate&lt;String, Object&gt; nonTransactionalKafkaTemplate(@Qualifier(&quot;nonTransactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory);\r\n  }\r\n```\r\n\r\nProducer\r\n```\r\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\nspring.kafka.producer.properties.spring.json.add.type.headers=false\r\n```\r\n\r\nConsumer\r\n```\r\n  kafka:\r\n    consumer:\r\n      auto-offset-reset: earliest\r\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      properties:\r\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\r\n        spring.deserializer.value.delegate.class: org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```","title":"Kafka Transactions - Java Spring - concurrent transactions depends on each other","body":"<p>I have two instances of application which both of them have different transactional.id. When both of them initailize transaction, one transaction depends on the second one (Its like one intsance produce a message on kafka, the second one too, and if one of them commit transaction, all the messages are commited including these from second transaction if there are messages from second transaction between messages from first transaction.</p>\n<p>Is it a normal behaviour? If yes, how can i avoid that?</p>\n<p>EDIT: I have tried again and its actually working fine, even where there are messages between other transactions, and it works correctly for multiple instances, but when there are concurrency (like concurrency = 3 on @KafkaListener - transaction starts later, listener container doesnt initialize transaction) then one transaction may commit another transaction. What should I do when I have concurrency? Using multiple kafka producers with different transactional.id?</p>\n<p>Config (kafka-spring:2.9.2, kafka-broker: 3.3.1) :</p>\n<p>Non transactional kafka producers are used in different part of the system</p>\n<pre><code>@Bean\n  AdminClient adminClient(KafkaProperties kafkaProperties) {\n    return KafkaAdminClient.create(kafkaProperties.buildAdminProperties());\n  }\n\n  @Bean\n  KafkaTransactionManager&lt;String, Object&gt; kafkaTransactionManager(@Qualifier(&quot;transactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\n    return new KafkaTransactionManager&lt;&gt;(producerFactory);\n  }\n\n  @Bean\n  KafkaTemplate&lt;String, Object&gt; transactionalKafkaTemplate(@Qualifier(&quot;transactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\n    return new KafkaTemplate&lt;&gt;(producerFactory);\n  }\n\n  @Bean\n  ProducerFactory&lt;String, Object&gt; transactionalProducer(KafkaProperties kafkaProperties) {\n    final var properties = kafkaProperties.buildProducerProperties();\n    properties.put(ProducerConfig.TRANSACTION_TIMEOUT_CONFIG, timeoutInMillis);\n    DefaultKafkaProducerFactory&lt;String, Object&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(properties);\n    // tx-${random.uuid}\n    producerFactory.setTransactionIdPrefix(transactionPrefix);\n    return producerFactory;\n  }\n\n  @Bean\n  ProducerFactory&lt;String, Object&gt; nonTransactionalProducer(KafkaProperties kafkaProperties) {\n    return new DefaultKafkaProducerFactory&lt;&gt;(kafkaProperties.buildProducerProperties());\n  }\n\n  @Bean\n  KafkaTemplate&lt;String, Object&gt; nonTransactionalKafkaTemplate(@Qualifier(&quot;nonTransactionalProducer&quot;) ProducerFactory&lt;String, Object&gt; producerFactory) {\n    return new KafkaTemplate&lt;&gt;(producerFactory);\n  }\n</code></pre>\n<p>Producer</p>\n<pre><code>spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.producer.properties.spring.json.add.type.headers=false\n</code></pre>\n<p>Consumer</p>\n<pre><code>  kafka:\n    consumer:\n      auto-offset-reset: earliest\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n      properties:\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\n        spring.deserializer.value.delegate.class: org.apache.kafka.common.serialization.ByteArrayDeserializer\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n"},{"tags":["java","android","dagger-2","rx-android","dagger"],"comments":[{"owner":{"account_id":9228721,"reputation":1203,"user_id":6855603,"display_name":"estn"},"score":0,"creation_date":1547288228,"post_id":54158544,"comment_id":95147350,"body_markdown":"Usually dagger says what is wrong in gradle console output. We cant tell unless we see more of your code and the console output","body":"Usually dagger says what is wrong in gradle console output. We cant tell unless we see more of your code and the console output"}],"answers":[{"tags":[],"owner":{"account_id":11156718,"reputation":115,"user_id":8188198,"display_name":"shivam Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547290315,"creation_date":1547290315,"answer_id":54158865,"question_id":54158544,"body_markdown":"My Bug solved after Build run on emulator))","title":"DaggerApplicationComponent not generated in my code?","body":"<p>My Bug solved after Build run on emulator))</p>\n"},{"tags":[],"owner":{"account_id":10370798,"reputation":1085,"user_id":7648546,"display_name":"Foroogh Varmazyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673695708,"creation_date":1592742669,"answer_id":62498519,"question_id":54158544,"body_markdown":" inside dependencies block, add these lines:\r\n\r\n   \r\n\r\n         api &#39;com.google.dagger:dagger:2.24&#39;\r\n         api &#39;com.google.dagger:dagger-android:2.24&#39;\r\n         api &#39;com.google.dagger:dagger-android-support:2.24&#39;\r\n    \r\n         annotationProcessor &#39;com.google.dagger:dagger-compiler:2.24&#39;\r\n         kapt &#39;com.google.dagger:dagger-compiler:2.24&#39;\r\n    \r\n         annotationProcessor &#39;com.google.dagger:dagger-android-processor:2.24&#39;\r\n         kapt &#39;com.google.dagger:dagger-android-processor:2.24&#39;\r\n    \r\n         compileOnly &#39;javax.annotation:jsr250-api:1.0&#39;\r\n         implementation &#39;javax.inject:javax.inject:1&#39;\r\n\r\nInside android block of build.gradle, \r\n\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\n\r\nAt the top of the build.gradle, Do this in exactly below order.\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\nFinally, You need to enable  **&quot;Annotation processor&quot;** from *File&gt;Other Settings&gt;Settings for New Projects&gt;search&quot;Annotation processor&quot;*\r\n\r\nAfter this, do from Menu *Build &gt; Rebuild*. Done!","title":"DaggerApplicationComponent not generated in my code?","body":"<p>inside dependencies block, add these lines:</p>\n<pre><code>     api 'com.google.dagger:dagger:2.24'\n     api 'com.google.dagger:dagger-android:2.24'\n     api 'com.google.dagger:dagger-android-support:2.24'\n\n     annotationProcessor 'com.google.dagger:dagger-compiler:2.24'\n     kapt 'com.google.dagger:dagger-compiler:2.24'\n\n     annotationProcessor 'com.google.dagger:dagger-android-processor:2.24'\n     kapt 'com.google.dagger:dagger-android-processor:2.24'\n\n     compileOnly 'javax.annotation:jsr250-api:1.0'\n     implementation 'javax.inject:javax.inject:1'\n</code></pre>\n<p>Inside android block of build.gradle,</p>\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n<p>At the top of the build.gradle, Do this in exactly below order.</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n<p>Finally, You need to enable  <strong>&quot;Annotation processor&quot;</strong> from <em>File&gt;Other Settings&gt;Settings for New Projects&gt;search&quot;Annotation processor&quot;</em></p>\n<p>After this, do from Menu <em>Build &gt; Rebuild</em>. Done!</p>\n"}],"owner":{"account_id":11156718,"reputation":115,"user_id":8188198,"display_name":"shivam Kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673695708,"creation_date":1547287608,"question_id":54158544,"body_markdown":"DaggerApplicationComponent is not generated in my code, I am learning Dagger for android and facing this issue. Below my project files. \r\n\r\n\r\nhttps://github.com/SK010101/AdvanceAndroidTutorial\r\n\r\n\r\n\r\n//        component = DaggerApplicationComponent.builder()\r\n\r\n//                .applicationModule(new ApplicationModule(this))\r\n//                .build();\r\n\r\nthis thing not generated.\r\n\r\nI have tried all clean and rebuild project.\r\nAlso tried Invalidate Caches/Restart.\r\nPlease help anyone))\r\n\r\n","title":"DaggerApplicationComponent not generated in my code?","body":"<p>DaggerApplicationComponent is not generated in my code, I am learning Dagger for android and facing this issue. Below my project files. </p>\n\n<p><a href=\"https://github.com/SK010101/AdvanceAndroidTutorial\" rel=\"nofollow noreferrer\">https://github.com/SK010101/AdvanceAndroidTutorial</a></p>\n\n<p>//        component = DaggerApplicationComponent.builder()</p>\n\n<p>//                .applicationModule(new ApplicationModule(this))\n//                .build();</p>\n\n<p>this thing not generated.</p>\n\n<p>I have tried all clean and rebuild project.\nAlso tried Invalidate Caches/Restart.\nPlease help anyone))</p>\n"},{"tags":["java","arrays","json","spring","logic"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1673693236,"post_id":75117253,"comment_id":132558021,"body_markdown":"I don&#39;t understand the logic you want to achieve. Have you mistyped the keys in the expected output?   And wouldn&#39;t there be 6 items in the output array?","body":"I don&#39;t understand the logic you want to achieve. Have you mistyped the keys in the expected output?   And wouldn&#39;t there be 6 items in the output array?"},{"owner":{"account_id":27526687,"reputation":1,"user_id":21005886,"display_name":"Dhiraj Deshmukh"},"score":0,"creation_date":1673702148,"post_id":75117253,"comment_id":132559336,"body_markdown":"There are no mistyped keys,\nactually, i have multiple JSON data some have id as &quot;jid&quot; some have id as &quot;jobid&quot; keys can be anything I want to map that json filed id to my son format which have key jobid\nwether API have jid or jobid it should map to jobid and I have multiple json which have diff keyname but at end I want all to jobid key of my json","body":"There are no mistyped keys, actually, i have multiple JSON data some have id as &quot;jid&quot; some have id as &quot;jobid&quot; keys can be anything I want to map that json filed id to my son format which have key jobid wether API have jid or jobid it should map to jobid and I have multiple json which have diff keyname but at end I want all to jobid key of my json"}],"answers":[{"tags":[],"owner":{"account_id":27524975,"reputation":1,"user_id":21004441,"display_name":"Virendra Kumawat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673694124,"creation_date":1673693091,"answer_id":75117334,"question_id":75117253,"body_markdown":"    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JsonNode jsonData = mapper.readTree(jsonString);\r\n    \r\n            List&lt;Map&lt;String, String&gt;&gt; finalData = new ArrayList&lt;&gt;();\r\n            for (JsonNode apiData : jsonData) {\r\n                for (JsonNode record : apiData) {\r\n                    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n                    if (record.has(&quot;jid&quot;)) {\r\n                        data.put(&quot;jobid&quot;, record.get(&quot;jid&quot;).asText());\r\n                        data.put(&quot;clientName&quot;, record.get(&quot;clientName&quot;).asText());\r\n                    } else if (record.has(&quot;jobId&quot;)) {\r\n                        data.put(&quot;jobid&quot;, record.get(&quot;jobId&quot;).asText());\r\n                        data.put(&quot;clientName&quot;, record.get(&quot;jClientName&quot;).asText());\r\n                    } else if (record.has(&quot;id&quot;)) {\r\n                        data.put(&quot;jobid&quot;, record.get(&quot;id&quot;).asText());\r\n                        data.put(&quot;clientName&quot;, record.get(&quot;jobCName&quot;).asText());\r\n                    }\r\n                    finalData.add(data);\r\n                }\r\n            }\r\n    \r\n            System.out.println(finalData);\r\n        }\r\n    }","title":"Dynamic Mapping of dynamic JSON data conversion in java","body":"<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode jsonData = mapper.readTree(jsonString);\n\n        List&lt;Map&lt;String, String&gt;&gt; finalData = new ArrayList&lt;&gt;();\n        for (JsonNode apiData : jsonData) {\n            for (JsonNode record : apiData) {\n                Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n                if (record.has(&quot;jid&quot;)) {\n                    data.put(&quot;jobid&quot;, record.get(&quot;jid&quot;).asText());\n                    data.put(&quot;clientName&quot;, record.get(&quot;clientName&quot;).asText());\n                } else if (record.has(&quot;jobId&quot;)) {\n                    data.put(&quot;jobid&quot;, record.get(&quot;jobId&quot;).asText());\n                    data.put(&quot;clientName&quot;, record.get(&quot;jClientName&quot;).asText());\n                } else if (record.has(&quot;id&quot;)) {\n                    data.put(&quot;jobid&quot;, record.get(&quot;id&quot;).asText());\n                    data.put(&quot;clientName&quot;, record.get(&quot;jobCName&quot;).asText());\n                }\n                finalData.add(data);\n            }\n        }\n\n        System.out.println(finalData);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27526687,"reputation":1,"user_id":21005886,"display_name":"Dhiraj Deshmukh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673694124,"creation_date":1673692177,"question_id":75117253,"body_markdown":"i have stucked in on issue\r\ni wanted to do dynamic mapping of json data which is also changing\r\n**problem is** :\r\nsuppose data comming from 3 api so i have created demo data \r\n\r\n\r\n```\r\n{\r\n    &quot;api1&quot;: [\r\n        {\r\n            &quot;jid&quot;:101,\r\n            &quot;clientName&quot;:&quot;ABC&quot;\r\n        },\r\n        {\r\n            &quot;jid&quot;: 102,\r\n            &quot;clientName&quot;: &quot;XYZ&quot;\r\n        }\r\n    ],\r\n    &quot;api2&quot;:[\r\n        {\r\n            &quot;jobId&quot;:1101,\r\n            &quot;jClientName&quot;: &quot;ABCD&quot;\r\n        },\r\n        {\r\n            &quot;jobId&quot;: 1102,\r\n            &quot;jClientName&quot;: &quot;XYZA&quot;\r\n        }\r\n    ],\r\n    &quot;api3&quot;:[\r\n        {\r\n            &quot;id&quot;:19001,\r\n            &quot;jobCName&quot;:&quot;ABCDEF&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 19002,\r\n            &quot;jobCName&quot;: &quot;PQRSTU&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nin this data each api have 2 records i want to map that data into following given format,\r\n\r\n\r\n```\r\n[\r\n    {\r\n        &quot;jobid&quot;:101,\r\n        &quot;clientName&quot;:&quot;ABC&quot;\r\n    },\r\n    {\r\n        &quot;jobid&quot;: 102,\r\n        &quot;clientName&quot;: &quot;ABCD&quot;\r\n    },\r\n    {\r\n        &quot;jobid&quot;: 1101,\r\n        &quot;clientName&quot;: &quot;ABCDEF&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\nso all data should be map correctly,\r\nfirst api have clientName, second have jClientName and 3rd api have jobCName these field can be dynamic but i want them to be mapped correctly in clientName column \r\nhow can i solve this issue, what approch or what should i do\r\n\r\nneed response in this format that each field should mapped correctly\r\nexpected output is:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;jobid&quot;:101,\r\n        &quot;clientName&quot;:&quot;ABC&quot;\r\n    },\r\n    {\r\n        &quot;jobid&quot;: 102,\r\n        &quot;clientName&quot;: &quot;ABCD&quot;\r\n    },\r\n    {\r\n        &quot;jobid&quot;: 1101,\r\n        &quot;clientName&quot;: &quot;ABCDEF&quot;\r\n    }\r\n]\r\n```\r\n\r\n\r\nwhat logic should be implemented for this","title":"Dynamic Mapping of dynamic JSON data conversion in java","body":"<p>i have stucked in on issue\ni wanted to do dynamic mapping of json data which is also changing\n<strong>problem is</strong> :\nsuppose data comming from 3 api so i have created demo data</p>\n<pre><code>{\n    &quot;api1&quot;: [\n        {\n            &quot;jid&quot;:101,\n            &quot;clientName&quot;:&quot;ABC&quot;\n        },\n        {\n            &quot;jid&quot;: 102,\n            &quot;clientName&quot;: &quot;XYZ&quot;\n        }\n    ],\n    &quot;api2&quot;:[\n        {\n            &quot;jobId&quot;:1101,\n            &quot;jClientName&quot;: &quot;ABCD&quot;\n        },\n        {\n            &quot;jobId&quot;: 1102,\n            &quot;jClientName&quot;: &quot;XYZA&quot;\n        }\n    ],\n    &quot;api3&quot;:[\n        {\n            &quot;id&quot;:19001,\n            &quot;jobCName&quot;:&quot;ABCDEF&quot;\n        },\n        {\n            &quot;id&quot;: 19002,\n            &quot;jobCName&quot;: &quot;PQRSTU&quot;\n        }\n    ]\n}\n</code></pre>\n<p>in this data each api have 2 records i want to map that data into following given format,</p>\n<pre><code>[\n    {\n        &quot;jobid&quot;:101,\n        &quot;clientName&quot;:&quot;ABC&quot;\n    },\n    {\n        &quot;jobid&quot;: 102,\n        &quot;clientName&quot;: &quot;ABCD&quot;\n    },\n    {\n        &quot;jobid&quot;: 1101,\n        &quot;clientName&quot;: &quot;ABCDEF&quot;\n    }\n]\n</code></pre>\n<p>so all data should be map correctly,\nfirst api have clientName, second have jClientName and 3rd api have jobCName these field can be dynamic but i want them to be mapped correctly in clientName column\nhow can i solve this issue, what approch or what should i do</p>\n<p>need response in this format that each field should mapped correctly\nexpected output is:</p>\n<pre><code>[\n    {\n        &quot;jobid&quot;:101,\n        &quot;clientName&quot;:&quot;ABC&quot;\n    },\n    {\n        &quot;jobid&quot;: 102,\n        &quot;clientName&quot;: &quot;ABCD&quot;\n    },\n    {\n        &quot;jobid&quot;: 1101,\n        &quot;clientName&quot;: &quot;ABCDEF&quot;\n    }\n]\n</code></pre>\n<p>what logic should be implemented for this</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673692980,"creation_date":1673692980,"answer_id":75117323,"question_id":75116890,"body_markdown":"     @Query(value = &quot;select * from reports r join patients p on r.patient_id = \r\n     p.identity_no join lab_technicians lt on r.lab_technician_id = \r\n     lt.hospital_id where p.name like &#39;%:patientName%&#39; and lt.name like \r\n    &#39;%:labTechnicianName%&#39; and p.identity_no like &#39;%:patientIdentityNo%&#39;&quot;, \r\n     nativeQuery = true)     \r\n     List&lt;Report&gt; findBySearch(@Param(&quot;patientName&quot;) String patientName, \r\n     @Param(&quot;labTechnicianName&quot;) String labTechnicianName, \r\n     @Param(&quot;patientIdentityNo&quot;) String patientIdentityNo);\r\n\r\n\r\nUse this query it will work fine","title":"duplicate [ID] alias error for sql statement with join","body":"<pre><code> @Query(value = &quot;select * from reports r join patients p on r.patient_id = \n p.identity_no join lab_technicians lt on r.lab_technician_id = \n lt.hospital_id where p.name like '%:patientName%' and lt.name like \n'%:labTechnicianName%' and p.identity_no like '%:patientIdentityNo%'&quot;, \n nativeQuery = true)     \n List&lt;Report&gt; findBySearch(@Param(&quot;patientName&quot;) String patientName, \n @Param(&quot;labTechnicianName&quot;) String labTechnicianName, \n @Param(&quot;patientIdentityNo&quot;) String patientIdentityNo);\n</code></pre>\n<p>Use this query it will work fine</p>\n"}],"owner":{"account_id":27526248,"reputation":3,"user_id":21005516,"display_name":"Codedator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75117323,"answer_count":1,"score":0,"last_activity_date":1673692980,"creation_date":1673687642,"question_id":75116890,"body_markdown":"I created a search button with a SQL query which is including JOIN 2 times, but its throwing error like:\r\n\r\n&gt; *org.hibernate.loader.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias ID during auto-discovery of a\r\n&gt; native-sql query*\r\n\r\n\r\nThis is the Repository method: \r\n\r\n    @Query(value = &quot;select * from reports r join patients p on r.patient_id = p.id join lab_technicians lt on r.lab_technician_id = lt.id where p.name like &#39;%:patientName%&#39; and lt.name like &#39;%:labTechnicianName%&#39; and p.identity_no like &#39;%:patientIdentityNo%&#39;&quot;, nativeQuery = true)     \r\n    List&lt;Report&gt; findBySearch(@Param(&quot;patientName&quot;) String patientName, @Param(&quot;labTechnicianName&quot;) String labTechnicianName, @Param(&quot;patientIdentityNo&quot;) String patientIdentityNo);\r\n\r\nTo make you understand the project templates, these are the entities classes:\r\n```\r\nPerson class:\r\n  @MappedSuperclass     \r\n   public abstract class Person {     \r\n   @Id     \r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)     \r\n   private Long id;     \r\n   @Column(name = &quot;name&quot;)     \r\n   private String name;\r\n\r\n\r\n\r\nPatient class:\r\n\r\n    @Entity     \r\n    @Table(name = &quot;patients&quot;)     \r\n    public class Patient extends Person{     \r\n    @Column(name = &quot;identity_no&quot;)     private String identityNo;     \r\n    @OneToMany(mappedBy = &quot;patient&quot;)     private List&lt;Report&gt; reports;\r\n\r\n\r\n\r\nLabTechnician class:\r\n   \r\n\r\n    @Entity     \r\n    @Table(name = &quot;lab_technicians&quot;)     \r\n    public class LabTechnician extends Person{     \r\n    @Column(name = &quot;hospital_id&quot;)     \r\n    private String hospitalId;     \r\n    @OneToMany(mappedBy = &quot;labTechnician&quot;)     \r\n    private List&lt;Report&gt; reports;\r\n\r\n\r\n\r\n\r\nand lastly Report class:\r\n   \r\n\r\n    @Entity\r\n\r\n    @Table(name = &quot;reports&quot;)\r\n    public class Report {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;lab_technician_id&quot;)\r\n    private LabTechnician labTechnician;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;patient_id&quot;)\r\n    private Patient patient;\r\n    \r\n    @Column(name = &quot;file_number&quot;)\r\n    private String fileNumber;\r\n    \r\n    @Column(name = &quot;diagnostic&quot;)\r\n    private String diagnostic;\r\n    \r\n    @Column(name = &quot;detail_of_diagnostic&quot;)\r\n    private String detailOfDiagnostic;\r\n    \r\n    @Column(name = &quot;date_of_report&quot;)\r\n    private Date dateOfReport;\r\n```\r\n\r\n\r\nI changed `List in @OneToMany relationships to Set` but its not changed anything","title":"duplicate [ID] alias error for sql statement with join","body":"<p>I created a search button with a SQL query which is including JOIN 2 times, but its throwing error like:</p>\n<blockquote>\n<p><em>org.hibernate.loader.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias ID during auto-discovery of a\nnative-sql query</em></p>\n</blockquote>\n<p>This is the Repository method:</p>\n<pre><code>@Query(value = &quot;select * from reports r join patients p on r.patient_id = p.id join lab_technicians lt on r.lab_technician_id = lt.id where p.name like '%:patientName%' and lt.name like '%:labTechnicianName%' and p.identity_no like '%:patientIdentityNo%'&quot;, nativeQuery = true)     \nList&lt;Report&gt; findBySearch(@Param(&quot;patientName&quot;) String patientName, @Param(&quot;labTechnicianName&quot;) String labTechnicianName, @Param(&quot;patientIdentityNo&quot;) String patientIdentityNo);\n</code></pre>\n<p>To make you understand the project templates, these are the entities classes:</p>\n<pre><code>Person class:\n  @MappedSuperclass     \n   public abstract class Person {     \n   @Id     \n   @GeneratedValue(strategy = GenerationType.IDENTITY)     \n   private Long id;     \n   @Column(name = &quot;name&quot;)     \n   private String name;\n\n\n\nPatient class:\n\n    @Entity     \n    @Table(name = &quot;patients&quot;)     \n    public class Patient extends Person{     \n    @Column(name = &quot;identity_no&quot;)     private String identityNo;     \n    @OneToMany(mappedBy = &quot;patient&quot;)     private List&lt;Report&gt; reports;\n\n\n\nLabTechnician class:\n   \n\n    @Entity     \n    @Table(name = &quot;lab_technicians&quot;)     \n    public class LabTechnician extends Person{     \n    @Column(name = &quot;hospital_id&quot;)     \n    private String hospitalId;     \n    @OneToMany(mappedBy = &quot;labTechnician&quot;)     \n    private List&lt;Report&gt; reports;\n\n\n\n\nand lastly Report class:\n   \n\n    @Entity\n\n    @Table(name = &quot;reports&quot;)\n    public class Report {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;lab_technician_id&quot;)\n    private LabTechnician labTechnician;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;patient_id&quot;)\n    private Patient patient;\n    \n    @Column(name = &quot;file_number&quot;)\n    private String fileNumber;\n    \n    @Column(name = &quot;diagnostic&quot;)\n    private String diagnostic;\n    \n    @Column(name = &quot;detail_of_diagnostic&quot;)\n    private String detailOfDiagnostic;\n    \n    @Column(name = &quot;date_of_report&quot;)\n    private Date dateOfReport;\n</code></pre>\n<p>I changed <code>List in @OneToMany relationships to Set</code> but its not changed anything</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1672941659,"post_id":75021940,"comment_id":132392005,"body_markdown":"See [JSON Functions and Operators](https://www.postgresql.org/docs/14/functions-json.html) `json_populate_...` and `json_to_,,,`.","body":"See <a href=\"https://www.postgresql.org/docs/14/functions-json.html\" rel=\"nofollow noreferrer\">JSON Functions and Operators</a> <code>json_populate_...</code> and <code>json_to_,,,</code>."},{"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"score":0,"creation_date":1673538693,"post_id":75021940,"comment_id":132526468,"body_markdown":"@Belayer Thanks for your comment, it set me in the direction to my solution.","body":"@Belayer Thanks for your comment, it set me in the direction to my solution."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673259123,"creation_date":1673259123,"answer_id":75055751,"question_id":75021940,"body_markdown":"You can use [`DSLContext::fetchFromJSON`][1] to load any jOOQ supported JSON format into a jOOQ [`Result`][2], e.g.\r\n\r\n```java\r\nObject v = ctx.fetchValue(\r\n    &quot;select row_to_json(x) from inventory_item as x where id = 1&quot;);\r\nInventoryItemRecord record = ctx.fetchFromJSON(&quot;[&quot; + v + &quot;]&quot;)\r\n                                .into(INVENTORY_ITEM)\r\n                                .get(0);\r\n```\r\n\r\nYou&#39;re probably looking for this convenience feature, which isn&#39;t available yet in jOOQ 3.17:\r\n\r\n- [#8016][3] Add API to load individual records from XML, JSON, CSV, etc.\r\n\r\nBut the above is almost equivalent, except that you have to:\r\n\r\n- Wrap your JSON object in a JSON array, manually\r\n- Map your generic `Record` containing the JSON data into an `InventoryItemRecord` manually.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#fetchFromJSON(java.lang.String)\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Result.html\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/8016","title":"How to deserialize JSON from Postgres row_to_json() back to Table record in Jooq?","body":"<p>You can use <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#fetchFromJSON(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DSLContext::fetchFromJSON</code></a> to load any jOOQ supported JSON format into a jOOQ <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Result.html\" rel=\"nofollow noreferrer\"><code>Result</code></a>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object v = ctx.fetchValue(\n    &quot;select row_to_json(x) from inventory_item as x where id = 1&quot;);\nInventoryItemRecord record = ctx.fetchFromJSON(&quot;[&quot; + v + &quot;]&quot;)\n                                .into(INVENTORY_ITEM)\n                                .get(0);\n</code></pre>\n<p>You're probably looking for this convenience feature, which isn't available yet in jOOQ 3.17:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/8016\" rel=\"nofollow noreferrer\">#8016</a> Add API to load individual records from XML, JSON, CSV, etc.</li>\n</ul>\n<p>But the above is almost equivalent, except that you have to:</p>\n<ul>\n<li>Wrap your JSON object in a JSON array, manually</li>\n<li>Map your generic <code>Record</code> containing the JSON data into an <code>InventoryItemRecord</code> manually.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673692924,"creation_date":1673626026,"answer_id":75111689,"question_id":75021940,"body_markdown":"Adding my comment as a full answer to be clear.\r\nJooq by default seems to use the array format when exporting a record to json. If you&#39;re trying to interface postgres `row_to_json()`, you need to tell Jooq to use Json object format when exporting to json.\r\n\r\nI was able to achieve this by:\r\n\r\n```Java\r\nJSONFormat jsonFormat = new\r\nJSONFormat().header(false).recordFormat(JSONFormat.RecordFormat.OBJECT);\r\n```\r\n\r\nSpecifying `RecordFormat.OBJECT` does the trick.","title":"How to deserialize JSON from Postgres row_to_json() back to Table record in Jooq?","body":"<p>Adding my comment as a full answer to be clear.\nJooq by default seems to use the array format when exporting a record to json. If you're trying to interface postgres <code>row_to_json()</code>, you need to tell Jooq to use Json object format when exporting to json.</p>\n<p>I was able to achieve this by:</p>\n<pre><code>JSONFormat jsonFormat = new\nJSONFormat().header(false).recordFormat(JSONFormat.RecordFormat.OBJECT);\n</code></pre>\n<p>Specifying <code>RecordFormat.OBJECT</code> does the trick.</p>\n"}],"owner":{"account_id":14690143,"reputation":75,"user_id":10609033,"display_name":"J. Cool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75055751,"answer_count":2,"score":1,"last_activity_date":1673692924,"creation_date":1672938125,"question_id":75021940,"body_markdown":"I&#39;m trying to get a Jooq Table record from json produced with postgres row_to_json().\r\n\r\nI have a Table called InventoryItem in Postgres with the following schema:\r\n```\r\nCREATE TABLE &quot;InventoryItem&quot; (\r\n  &quot;id&quot; BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\r\n  &quot;price_per_100_units&quot; double precision,\r\n  &quot;weight_in_kilograms&quot; double precision,\r\n  &quot;inventory_count&quot; integer,\r\n  &quot;expected_value&quot; double precision,\r\n  &quot;description&quot; text\r\n);\r\n```\r\n\r\n\r\nWhen I use row_to_json() in Postgres to create a Json for a single row from this table, I get:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 6,\r\n  &quot;price_per_100_units&quot;: null,\r\n  &quot;weight_in_kilograms&quot;: null,\r\n  &quot;inventory_count&quot;: null,\r\n  &quot;expected_value&quot;: 142,\r\n  &quot;description&quot;: null\r\n}\r\n```\r\n\r\n\r\nI couldn&#39;t find a way to take the above Json and convert it into an instance of Jooq InventoryItemRecord.\r\n\r\nI tried to use Jooq&#39;s import Json functionality, but that only works for the Json format produced from Jooq export to Json. It doesn&#39;t work\r\nwith row_to_json() output.\r\n\r\nAs a last resort, I could write a Pojo to which I deserialize the above json and then create JooqRecord from this pojo, but this seems like a lot of work\r\nfor multiple tables.\r\n\r\nHow does one convert row_to_json() output to a Jooq TableRecord?\r\n","title":"How to deserialize JSON from Postgres row_to_json() back to Table record in Jooq?","body":"<p>I'm trying to get a Jooq Table record from json produced with postgres row_to_json().</p>\n<p>I have a Table called InventoryItem in Postgres with the following schema:</p>\n<pre><code>CREATE TABLE &quot;InventoryItem&quot; (\n  &quot;id&quot; BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,\n  &quot;price_per_100_units&quot; double precision,\n  &quot;weight_in_kilograms&quot; double precision,\n  &quot;inventory_count&quot; integer,\n  &quot;expected_value&quot; double precision,\n  &quot;description&quot; text\n);\n</code></pre>\n<p>When I use row_to_json() in Postgres to create a Json for a single row from this table, I get:</p>\n<pre><code>{\n  &quot;id&quot;: 6,\n  &quot;price_per_100_units&quot;: null,\n  &quot;weight_in_kilograms&quot;: null,\n  &quot;inventory_count&quot;: null,\n  &quot;expected_value&quot;: 142,\n  &quot;description&quot;: null\n}\n</code></pre>\n<p>I couldn't find a way to take the above Json and convert it into an instance of Jooq InventoryItemRecord.</p>\n<p>I tried to use Jooq's import Json functionality, but that only works for the Json format produced from Jooq export to Json. It doesn't work\nwith row_to_json() output.</p>\n<p>As a last resort, I could write a Pojo to which I deserialize the above json and then create JooqRecord from this pojo, but this seems like a lot of work\nfor multiple tables.</p>\n<p>How does one convert row_to_json() output to a Jooq TableRecord?</p>\n"},{"tags":["java","rest","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":18969236,"reputation":526,"user_id":13843087,"display_name":"Lia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621622102,"creation_date":1621622102,"answer_id":67642298,"question_id":67640411,"body_markdown":"Check that for loop here:\r\n\r\n     URIBuilder builder = new URIBuilder();\r\n\r\n        for (Map.Entry&lt;String, ?&gt; entry : params.entries()) {\r\n            builder.addParameter(entry.getKey(), entry.getValue().toString());\r\n        }\r\n\r\nlooks like despite using Multimap for `params` you are still ending with Map for the builder. Here is where you got rid of duplicated keys anyway.","title":"RestAssured with duplicate query parameters","body":"<p>Check that for loop here:</p>\n<pre><code> URIBuilder builder = new URIBuilder();\n\n    for (Map.Entry&lt;String, ?&gt; entry : params.entries()) {\n        builder.addParameter(entry.getKey(), entry.getValue().toString());\n    }\n</code></pre>\n<p>looks like despite using Multimap for <code>params</code> you are still ending with Map for the builder. Here is where you got rid of duplicated keys anyway.</p>\n"},{"tags":[],"owner":{"account_id":23639109,"reputation":1,"user_id":17669640,"display_name":"learner4567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673692918,"creation_date":1673422287,"answer_id":75079598,"question_id":67640411,"body_markdown":"```\r\nqueryParam(String var1, Collection&lt;?&gt; var2)\r\n```\r\nshould work. I have used it in the past for `rest-assured-3.*`. \r\n\r\nExample: \r\n\r\n```java\r\nList&lt;String&gt; multiQuery = new ArrayList&lt;&gt;(); \r\nmultiquery.add(&quot;EAS&quot;);\r\nmultiquery.add(&quot;MBO&quot;);\r\nqueryParam(&quot;taskTypes&quot;, multiQuery);\r\n```","title":"RestAssured with duplicate query parameters","body":"<pre><code>queryParam(String var1, Collection&lt;?&gt; var2)\n</code></pre>\n<p>should work. I have used it in the past for <code>rest-assured-3.*</code>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; multiQuery = new ArrayList&lt;&gt;(); \nmultiquery.add(&quot;EAS&quot;);\nmultiquery.add(&quot;MBO&quot;);\nqueryParam(&quot;taskTypes&quot;, multiQuery);\n</code></pre>\n"}],"owner":{"account_id":1379352,"reputation":402,"user_id":1312704,"accept_rate":90,"display_name":"mactwixs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673692918,"creation_date":1621613321,"question_id":67640411,"body_markdown":"Working on an automated test pack that uses **REST-assured** `rest-assured-3.3.0`. Have an endpoint to test that has a number of duplicate Query parameters used to drive it&#39;s search function:\r\n\r\n    /count?taskTypes=EAS&amp;taskTypes=MBO&amp;taskTypes=OTHER&amp;taskAges=NEW&amp;taskAges=EXISTING&amp;ageSelection=ALL\r\n\r\n**REST-assured** provides a `params(Map&lt;String, ?&gt; var1)` in it&#39;s request specification to pass in parameters. However this uses Map which can not contain duplicate keys. Therefore in order to construct the query in test code I am setting up the parameters and associated values in a **Multimap**:\r\n\r\n\r\n\r\n    import com.google.common.collect.Multimap;\r\n\r\n    \r\n    Multimap&lt;String, String&gt; searchParams = ArrayListMultimap.create();\r\n    searchParams.put(&quot;taskTypes&quot;, &quot;EAS&quot;);\r\n    searchParams.put(&quot;taskTypes&quot;, &quot;MBO&quot;);\r\n    searchParams.put(&quot;taskTypes&quot;, &quot;OTHER&quot;);\r\n    searchParams.put(&quot;taskAges&quot;, &quot;NEW&quot;);\r\n    searchParams.put(&quot;taskAges&quot;, &quot;EXISTING&quot;);\r\n    searchParams.put(&quot;ageSelection&quot;, &quot;ALL&quot;);\r\n\r\nThe Multimap is then passed into a function to format the query and set up a GET request using REST-assured:\r\n\r\n    \r\n\r\n        import org.apache.http.client.utils.URIBuilder;\r\n        import io.restassured.http.Method;\r\n        import io.restassured.response.ExtractableResponse;\r\n        import io.restassured.specification.RequestSpecification;\r\n    \r\n    \r\n        protected ExtractableResponse request(Method method, Multimap&lt;String, ?&gt; params, String url) \r\n            {\r\n                    URIBuilder builder = new URIBuilder();\r\n            \r\n                    for (Map.Entry&lt;String, ?&gt; entry : params.entries()) {\r\n                        builder.addParameter(entry.getKey(), entry.getValue().toString());\r\n                    }\r\n            \r\n                    try {\r\n                        url = url + builder.build().toString();\r\n                    } catch(URISyntaxException e) {}\r\n            \r\n                    return getRequestSpec()\r\n                            .when()\r\n                            .headers(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                            .request(method, url)\r\n                            .then()\r\n                            .spec(getResponseSpec(method))\r\n                            .extract();\r\n             }\r\n\r\nRunning this code results in a request with the following parameters:\r\n\r\n    /count?taskTypes=OTHER&amp;taskAges=EXISTING&amp;ageSelection=ALL\r\n\r\nThe problem is that **REST-assured** appears to remove the duplicate query parameters passed to it in the `url` parameter. Interestingly **REST-assured** offers the following interface `given().queryParam(&quot;param&quot;, 1,2,3)`","title":"RestAssured with duplicate query parameters","body":"<p>Working on an automated test pack that uses <strong>REST-assured</strong> <code>rest-assured-3.3.0</code>. Have an endpoint to test that has a number of duplicate Query parameters used to drive it's search function:</p>\n<pre><code>/count?taskTypes=EAS&amp;taskTypes=MBO&amp;taskTypes=OTHER&amp;taskAges=NEW&amp;taskAges=EXISTING&amp;ageSelection=ALL\n</code></pre>\n<p><strong>REST-assured</strong> provides a <code>params(Map&lt;String, ?&gt; var1)</code> in it's request specification to pass in parameters. However this uses Map which can not contain duplicate keys. Therefore in order to construct the query in test code I am setting up the parameters and associated values in a <strong>Multimap</strong>:</p>\n<pre><code>import com.google.common.collect.Multimap;\n\n\nMultimap&lt;String, String&gt; searchParams = ArrayListMultimap.create();\nsearchParams.put(&quot;taskTypes&quot;, &quot;EAS&quot;);\nsearchParams.put(&quot;taskTypes&quot;, &quot;MBO&quot;);\nsearchParams.put(&quot;taskTypes&quot;, &quot;OTHER&quot;);\nsearchParams.put(&quot;taskAges&quot;, &quot;NEW&quot;);\nsearchParams.put(&quot;taskAges&quot;, &quot;EXISTING&quot;);\nsearchParams.put(&quot;ageSelection&quot;, &quot;ALL&quot;);\n</code></pre>\n<p>The Multimap is then passed into a function to format the query and set up a GET request using REST-assured:</p>\n<pre><code>    import org.apache.http.client.utils.URIBuilder;\n    import io.restassured.http.Method;\n    import io.restassured.response.ExtractableResponse;\n    import io.restassured.specification.RequestSpecification;\n\n\n    protected ExtractableResponse request(Method method, Multimap&lt;String, ?&gt; params, String url) \n        {\n                URIBuilder builder = new URIBuilder();\n        \n                for (Map.Entry&lt;String, ?&gt; entry : params.entries()) {\n                    builder.addParameter(entry.getKey(), entry.getValue().toString());\n                }\n        \n                try {\n                    url = url + builder.build().toString();\n                } catch(URISyntaxException e) {}\n        \n                return getRequestSpec()\n                        .when()\n                        .headers(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        .request(method, url)\n                        .then()\n                        .spec(getResponseSpec(method))\n                        .extract();\n         }\n</code></pre>\n<p>Running this code results in a request with the following parameters:</p>\n<pre><code>/count?taskTypes=OTHER&amp;taskAges=EXISTING&amp;ageSelection=ALL\n</code></pre>\n<p>The problem is that <strong>REST-assured</strong> appears to remove the duplicate query parameters passed to it in the <code>url</code> parameter. Interestingly <strong>REST-assured</strong> offers the following interface <code>given().queryParam(&quot;param&quot;, 1,2,3)</code></p>\n"},{"tags":["java","eclipse","queue"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673672367,"post_id":75115852,"comment_id":132555864,"body_markdown":"The `poll()` method _does_ return the first element of the queue. The &quot;problem&quot; is that you have added **the same array instance** 5 times to the queue (i.e., all elements are literally the same object in memory). Perhaps you thought objects were _pass-by-value_ in Java. That&#39;s not quite right. Java is indeed _pass-by-value_, but the &quot;value&quot; passed is the reference (i.e., the reference is copied, not the object). See [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/q/40480/6395627).","body":"The <code>poll()</code> method <i>does</i> return the first element of the queue. The &quot;problem&quot; is that you have added <b>the same array instance</b> 5 times to the queue (i.e., all elements are literally the same object in memory). Perhaps you thought objects were <i>pass-by-value</i> in Java. That&#39;s not quite right. Java is indeed <i>pass-by-value</i>, but the &quot;value&quot; passed is the reference (i.e., the reference is copied, not the object). See <a href=\"https://stackoverflow.com/q/40480/6395627\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673672530,"post_id":75115852,"comment_id":132555874,"body_markdown":"Also, please do not post images of code. See [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/q/285551/6395627).","body":"Also, please do not post images of code. See <a href=\"https://meta.stackoverflow.com/q/285551/6395627\">Why should I not upload images of code/data/errors?</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673671860,"creation_date":1673671860,"answer_id":75115878,"question_id":75115852,"body_markdown":"That is because of Array&#39;s are mutable, its not about Queue operations. Whenever you will change any value in Array, it will be reflected every where that array is being used.\r\n\r\nPlease go through the below link to understand more on Array mutability -\r\nhttps://sebhastian.com/are-arrays-mutable-java/","title":"Why does the poll method not pop up the first element of the queue?","body":"<p>That is because of Array's are mutable, its not about Queue operations. Whenever you will change any value in Array, it will be reflected every where that array is being used.</p>\n<p>Please go through the below link to understand more on Array mutability -\n<a href=\"https://sebhastian.com/are-arrays-mutable-java/\" rel=\"nofollow noreferrer\">https://sebhastian.com/are-arrays-mutable-java/</a></p>\n"}],"owner":{"account_id":27008137,"reputation":1,"user_id":20568250,"display_name":"yangxz18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673713587,"answer_count":1,"score":-2,"last_activity_date":1673691678,"creation_date":1673671400,"question_id":75115852,"body_markdown":"[![Code][1]][1]\r\n\r\n\r\nThe first thing to be added to this queue should be an all-zero group, and the array {1,2,3,4,5} should be the last to be added. Why is it that {1,2,3,4,5} pops up after the poll method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CLfTo.png","title":"Why does the poll method not pop up the first element of the queue?","body":"<p><a href=\"https://i.stack.imgur.com/CLfTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CLfTo.png\" alt=\"Code\" /></a></p>\n<p>The first thing to be added to this queue should be an all-zero group, and the array {1,2,3,4,5} should be the last to be added. Why is it that {1,2,3,4,5} pops up after the poll method?</p>\n"},{"tags":["java","linux","kotlin","file-locking","filechannel"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673622861,"post_id":75110935,"comment_id":132547408,"body_markdown":"would you mind providing output of `mount` and `ulimit -a` commands from remote host?","body":"would you mind providing output of <code>mount</code> and <code>ulimit -a</code> commands from remote host?"},{"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"score":0,"creation_date":1673661764,"post_id":75110935,"comment_id":132555014,"body_markdown":"I&#39;d suggest to capture a thread dump, it should clarify what exactly is happening.","body":"I&#39;d suggest to capture a thread dump, it should clarify what exactly is happening."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1673690698,"post_id":75110935,"comment_id":132557661,"body_markdown":"@AndreyB.Panfilov sry about the late reply, just appended the &#39;ulimit -a&#39; data","body":"@AndreyB.Panfilov sry about the late reply, just appended the &#39;ulimit -a&#39; data"},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1673691188,"post_id":75110935,"comment_id":132557742,"body_markdown":"@VitaliiVitrenko thnx for  the suggestion; I have appended a thread dump (while the process was hung on the remote machine) to the question. Please have a look.","body":"@VitaliiVitrenko thnx for  the suggestion; I have appended a thread dump (while the process was hung on the remote machine) to the question. Please have a look."},{"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"score":0,"creation_date":1673723382,"post_id":75110935,"comment_id":132563578,"body_markdown":"Looks like it hangs during syscall, so this is most likely file system issue, not a java/kotlin bug. Are you sure the file is not in a mounted director (like NFS)? If yes, I would consult with whomever set-up the file server.","body":"Looks like it hangs during syscall, so this is most likely file system issue, not a java/kotlin bug. Are you sure the file is not in a mounted director (like NFS)? If yes, I would consult with whomever set-up the file server."},{"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"score":0,"creation_date":1673859969,"post_id":75110935,"comment_id":132583353,"body_markdown":"@VitaliiVitrenko the remote configuration comprises of a bank of separate computers (with each their separate CPU towers and IPs) available to users for SSHing into, all sharing a common storage - so in all likelihood the storage is indeed Networked. May you elaborate why that matters or ties into the debug?","body":"@VitaliiVitrenko the remote configuration comprises of a bank of separate computers (with each their separate CPU towers and IPs) available to users for SSHing into, all sharing a common storage - so in all likelihood the storage is indeed Networked. May you elaborate why that matters or ties into the debug?"},{"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"score":1,"creation_date":1674226828,"post_id":75110935,"comment_id":132675646,"body_markdown":"@lineage `FileDispatcherImpl.lock0` that hangs actually invokes `fcntl(2)`  system call that itself may hang in case of various issues with files system (e.g. firewall blocking network traffic). This is out of my expertise so I cannot elaborate further. Whoever set-up the shared storage should likely be able to help you with identifying an exact issue.","body":"@lineage <code>FileDispatcherImpl.lock0</code> that hangs actually invokes <code>fcntl(2)</code>  system call that itself may hang in case of various issues with files system (e.g. firewall blocking network traffic). This is out of my expertise so I cannot elaborate further. Whoever set-up the shared storage should likely be able to help you with identifying an exact issue."}],"owner":{"account_id":14004595,"reputation":812,"user_id":10115137,"display_name":"lineage"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673691077,"creation_date":1673622317,"question_id":75110935,"body_markdown":"**Tl;DR** code with `FileChannel.tryLock` works on a local file but hangs indefinitely when run on a remote machine, I had SSHed into. _Most of the length of this question is about showing outputs and debugging attempts, but the essential part is in the first para._\r\n\r\nSo I have a simple sample code that tries to get a file lock via `FileChannel.tryLock`. (_scroll below for the Java version_)\r\n\r\n```kotlin\r\nimport java.io.RandomAccessFile\r\nimport java.util.logging.Logger\r\n\r\nval LOGGER_FORMAT =&quot;[%1\\$tF %1\\$tT] %4$-7s %5\\$s %6\\$s%n&quot;.also { System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, it) }\r\nval logger = Logger.getGlobal()\r\nfun main(args:Array&lt;String&gt;) {\r\n    val path= if (args.isEmpty())&quot;localFile.txt&quot; else args[0]\r\n    val channel=RandomAccessFile(path,&quot;rw&quot;).channel\r\n    logger.info(&quot;created channel $channel&quot;)\r\n    logger.info(&quot;trying for lock on file $path&quot;)\r\n    val lock=channel.tryLock()\r\n    logger.info(&quot;got this lock $lock&quot;)\r\n}\r\n```\r\n\r\nWhen I execute this code on my local Ubuntu machine against `localFile.txt`, the code works just fine and gives a lock.\r\n\r\n```bash\r\n[2023-01-13 14:44:03] INFO    created channel sun.nio.ch.FileChannelImpl@7d4991ad \r\n[2023-01-13 14:44:04] INFO    trying for lock on file localFile.txt\r\n[2023-01-13 14:44:04] INFO    got this lock: sun.nio.ch.FileLockImpl[0:9223372036854775807 exclusive valid]\r\n```\r\n\r\nI then packaged the code as an executable jar (you need not do so, just run as a .class file if you wish)  and ran it on a remote machine I had SSHed into. The file it tried to get a lock on was also a file on that remote machine, namely `remoteFile.txt`. There the command writes the following and hangs indefinitely. \r\n\r\n```bash\r\n[2023-01-13 14:40:41] INFO    created channel sun.nio.ch.FileChannelImpl@7d4991ad \r\n[2023-01-13 14:40:41] INFO    trying for lock on file remoteFile.txt\r\n```\r\n\r\nWhy does this happen? \r\n--------\r\n\r\nEspecially, since `tryLock` is non-blocking.\r\n\r\n\r\n--------------\r\n\r\n**My debugging attempts**\r\n\r\n1. As a first step to debugging I tried a java port of the code (scroll below) - but it breaks in exactly the same way. \r\n\r\n2. I then checked the file permissions. Here are the `ls -l` for the files\r\n\r\n```bash\r\n#localFile.txt\r\n-rw-rw-r-- 1 giraffe giraffe 8 Jan 13 02:22 localFile.txt\r\n\r\n#remoteFIle.txt\r\n-rw-r--r-- 1 zebra ox 6 Jan 13 19:37 remoteFile.txt\r\n```\r\n\r\nThey are different, so I changed the permissions for the remote to be same as those for the local one, but to no avail - locking still hangs on remote.\r\n\r\n3. [Google returned](https://www.dell.com/community/Isilon/tryLock-on-Isilon-over-NFS-hangs/td-p/7117721) someone facing an issue with `tryLock` but that&#39;s on some particular NFS deployment. I don&#39;t know how that ties into all this.\r\n\r\nI am confused and mesmerizied by all this. Any and all help is appreciated.\r\n\r\n\r\n---------\r\n**Env:**  \r\nlocal machine  \r\n```bash\r\n#lsb_release -a\r\nUbuntu 20.04.5 LTS\r\n#java -version\r\nopenjdk version &quot;17&quot; 2021-09-14\r\nOpenJDK Runtime Environment (build 17+35-2724)\r\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n#filesystem via cat /etc/fstab\r\next4\r\n```\r\nremote machine\r\n```bash\r\n#lsb_release -a\r\nFedora release 23 (Twenty Three)\r\n#java -version\r\nopenjdk version &quot;17&quot; 2021-09-14\r\nOpenJDK Runtime Environment (build 17+35-2724)\r\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n#filesystem via cat /etc/fstab\r\next4\r\n```\r\n\r\nSSH command\r\n```bash\r\nssh -X -t zebra@remoteName.website bash -l\r\n```\r\n\r\n\r\n----------\r\n**Java version**\r\n```Java\r\nimport java.io.IOException;\r\nimport java.io.RandomAccessFile;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Test_Java {\r\n    static {\r\n        System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;[%1$tF %1$tT] %4$-7s %5$s %6$s%n&quot;);\r\n    }\r\n    private final static Logger logger=Logger.getGlobal();\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        var path=&quot;&quot;;\r\n        if(args==null || args.length==0)\r\n            path=&quot;localFile.txt&quot;;\r\n        else\r\n            path=args[0];\r\n\r\n        try(var file= new RandomAccessFile(path,&quot;rw&quot;)){\r\n            var channel=file.getChannel();\r\n            logger.info(&quot;created channel &quot;+channel);\r\n            logger.info(&quot;trying for lock on file &quot;+path);\r\n            var lock=channel.tryLock();\r\n            logger.info(&quot;got this lock: &quot;+lock);\r\n        }\r\n        catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n*Further data requested in comments*\r\n\r\n1. `ulimit -a` on remoteMachine\r\n\r\n```bash\r\ncore file size          (blocks, -c) 0\r\ndata seg size           (kbytes, -d) unlimited\r\nscheduling priority             (-e) 0\r\nfile size               (blocks, -f) unlimited\r\npending signals                 (-i) 63929\r\nmax locked memory       (kbytes, -l) 64\r\nmax memory size         (kbytes, -m) unlimited\r\nopen files                      (-n) 1024\r\npipe size            (512 bytes, -p) 8\r\nPOSIX message queues     (bytes, -q) 819200\r\nreal-time priority              (-r) 0\r\nstack size              (kbytes, -s) 8192\r\ncpu time               (seconds, -t) unlimited\r\nmax user processes              (-u) 63929\r\nvirtual memory          (kbytes, -v) unlimited\r\nfile locks                      (-x) unlimited\r\n```\r\n\r\n2. thread dump on remoteMachine while the process was hung, using `jstack pid`\r\n\r\n```bash\r\n2023-01-14 15:39:16\r\nFull thread dump OpenJDK 64-Bit Server VM (17+35-2724 mixed mode, sharing):\r\n\r\nThreads class SMR info:\r\n_java_thread_list=0x00007fddc0001ba0, length=12, elements={\r\n0x00007fde10024840, 0x00007fde1015d100, 0x00007fde1015e5e0, 0x00007fde10163a80,\r\n0x00007fde10164d10, 0x00007fde10166100, 0x00007fde10167ae0, 0x00007fde10169010,\r\n0x00007fde1016a480, 0x00007fde10179aa0, 0x00007fde1017cb00, 0x00007fddc0000bd0\r\n}\r\n\r\n&quot;main&quot; #1 prio=5 os_prio=0 cpu=135.19ms elapsed=121.26s tid=0x00007fde10024840 nid=0x3fd7 runnable  [0x00007fde18b9f000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat sun.nio.ch.FileDispatcherImpl.lock0(java.base@17/Native Method)\r\n\tat sun.nio.ch.FileDispatcherImpl.lock(java.base@17/FileDispatcherImpl.java:96)\r\n\tat sun.nio.ch.FileChannelImpl.tryLock(java.base@17/FileChannelImpl.java:1304)\r\n\tat java.nio.channels.FileChannel.tryLock(java.base@17/FileChannel.java:1191)\r\n\tat Test_serc_2_Java.main(Test_serc_2_Java.java:23)\r\n\r\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=0.19ms elapsed=121.24s tid=0x00007fde1015d100 nid=0x3fde waiting on condition  [0x00007fddf0afd000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.lang.ref.Reference.waitForReferencePendingList(java.base@17/Native Method)\r\n\tat java.lang.ref.Reference.processPendingReferences(java.base@17/Reference.java:253)\r\n\tat java.lang.ref.Reference$ReferenceHandler.run(java.base@17/Reference.java:215)\r\n\r\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=0.38ms elapsed=121.24s tid=0x00007fde1015e5e0 nid=0x3fdf in Object.wait()  [0x00007fddf09fc000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(java.base@17/Native Method)\r\n\t- waiting on &lt;0x0000000715802f40&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:155)\r\n\t- locked &lt;0x0000000715802f40&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:176)\r\n\tat java.lang.ref.Finalizer$FinalizerThread.run(java.base@17/Finalizer.java:172)\r\n\r\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.43ms elapsed=121.24s tid=0x00007fde10163a80 nid=0x3fe0 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=0.16ms elapsed=121.24s tid=0x00007fde10164d10 nid=0x3fe1 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Monitor Deflation Thread&quot; #6 daemon prio=9 os_prio=0 cpu=1.56ms elapsed=121.24s tid=0x00007fde10166100 nid=0x3fe2 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=33.90ms elapsed=121.24s tid=0x00007fde10167ae0 nid=0x3fe3 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n\r\n&quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=59.73ms elapsed=121.24s tid=0x00007fde10169010 nid=0x3fe4 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n\r\n&quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=0.18ms elapsed=121.24s tid=0x00007fde1016a480 nid=0x3fe5 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Notification Thread&quot; #11 daemon prio=9 os_prio=0 cpu=0.10ms elapsed=121.23s tid=0x00007fde10179aa0 nid=0x3fe6 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Common-Cleaner&quot; #12 daemon prio=8 os_prio=0 cpu=0.27ms elapsed=121.23s tid=0x00007fde1017cb00 nid=0x3fe8 in Object.wait()  [0x00007fdde1ffe000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(java.base@17/Native Method)\r\n\t- waiting on &lt;0x0000000715817018&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:155)\r\n\t- locked &lt;0x0000000715817018&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat jdk.internal.ref.CleanerImpl.run(java.base@17/CleanerImpl.java:140)\r\n\tat java.lang.Thread.run(java.base@17/Thread.java:833)\r\n\tat jdk.internal.misc.InnocuousThread.run(java.base@17/InnocuousThread.java:162)\r\n\r\n&quot;Attach Listener&quot; #14 daemon prio=9 os_prio=0 cpu=0.57ms elapsed=72.87s tid=0x00007fddc0000bd0 nid=0x3fff waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;VM Thread&quot; os_prio=0 cpu=2.32ms elapsed=121.25s tid=0x00007fde10159340 nid=0x3fdd runnable  \r\n\r\n&quot;GC Thread#0&quot; os_prio=0 cpu=0.26ms elapsed=121.26s tid=0x00007fde10072e50 nid=0x3fd8 runnable  \r\n\r\n&quot;G1 Main Marker&quot; os_prio=0 cpu=0.16ms elapsed=121.26s tid=0x00007fde10083e40 nid=0x3fd9 runnable  \r\n\r\n&quot;G1 Conc#0&quot; os_prio=0 cpu=0.09ms elapsed=121.26s tid=0x00007fde10084da0 nid=0x3fda runnable  \r\n\r\n&quot;G1 Refine#0&quot; os_prio=0 cpu=0.08ms elapsed=121.26s tid=0x00007fde101299d0 nid=0x3fdb runnable  \r\n\r\n&quot;G1 Service&quot; os_prio=0 cpu=8.82ms elapsed=121.26s tid=0x00007fde1012a8c0 nid=0x3fdc runnable  \r\n\r\n&quot;VM Periodic Task Thread&quot; os_prio=0 cpu=31.31ms elapsed=121.23s tid=0x00007fde1017b3e0 nid=0x3fe7 waiting on condition  \r\n\r\nJNI global refs: 8, weak refs: 0\r\n\r\n\r\n```\r\n\r\n","title":"FileChannel.tryLock works locally but hangs on remote machine, accessed via SSH","body":"<p><strong>Tl;DR</strong> code with <code>FileChannel.tryLock</code> works on a local file but hangs indefinitely when run on a remote machine, I had SSHed into. <em>Most of the length of this question is about showing outputs and debugging attempts, but the essential part is in the first para.</em></p>\n<p>So I have a simple sample code that tries to get a file lock via <code>FileChannel.tryLock</code>. (<em>scroll below for the Java version</em>)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.RandomAccessFile\nimport java.util.logging.Logger\n\nval LOGGER_FORMAT =&quot;[%1\\$tF %1\\$tT] %4$-7s %5\\$s %6\\$s%n&quot;.also { System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, it) }\nval logger = Logger.getGlobal()\nfun main(args:Array&lt;String&gt;) {\n    val path= if (args.isEmpty())&quot;localFile.txt&quot; else args[0]\n    val channel=RandomAccessFile(path,&quot;rw&quot;).channel\n    logger.info(&quot;created channel $channel&quot;)\n    logger.info(&quot;trying for lock on file $path&quot;)\n    val lock=channel.tryLock()\n    logger.info(&quot;got this lock $lock&quot;)\n}\n</code></pre>\n<p>When I execute this code on my local Ubuntu machine against <code>localFile.txt</code>, the code works just fine and gives a lock.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[2023-01-13 14:44:03] INFO    created channel sun.nio.ch.FileChannelImpl@7d4991ad \n[2023-01-13 14:44:04] INFO    trying for lock on file localFile.txt\n[2023-01-13 14:44:04] INFO    got this lock: sun.nio.ch.FileLockImpl[0:9223372036854775807 exclusive valid]\n</code></pre>\n<p>I then packaged the code as an executable jar (you need not do so, just run as a .class file if you wish)  and ran it on a remote machine I had SSHed into. The file it tried to get a lock on was also a file on that remote machine, namely <code>remoteFile.txt</code>. There the command writes the following and hangs indefinitely.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[2023-01-13 14:40:41] INFO    created channel sun.nio.ch.FileChannelImpl@7d4991ad \n[2023-01-13 14:40:41] INFO    trying for lock on file remoteFile.txt\n</code></pre>\n<h2>Why does this happen?</h2>\n<p>Especially, since <code>tryLock</code> is non-blocking.</p>\n<hr />\n<p><strong>My debugging attempts</strong></p>\n<ol>\n<li><p>As a first step to debugging I tried a java port of the code (scroll below) - but it breaks in exactly the same way.</p>\n</li>\n<li><p>I then checked the file permissions. Here are the <code>ls -l</code> for the files</p>\n</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>#localFile.txt\n-rw-rw-r-- 1 giraffe giraffe 8 Jan 13 02:22 localFile.txt\n\n#remoteFIle.txt\n-rw-r--r-- 1 zebra ox 6 Jan 13 19:37 remoteFile.txt\n</code></pre>\n<p>They are different, so I changed the permissions for the remote to be same as those for the local one, but to no avail - locking still hangs on remote.</p>\n<ol start=\"3\">\n<li><a href=\"https://www.dell.com/community/Isilon/tryLock-on-Isilon-over-NFS-hangs/td-p/7117721\" rel=\"nofollow noreferrer\">Google returned</a> someone facing an issue with <code>tryLock</code> but that's on some particular NFS deployment. I don't know how that ties into all this.</li>\n</ol>\n<p>I am confused and mesmerizied by all this. Any and all help is appreciated.</p>\n<hr />\n<p><strong>Env:</strong><br />\nlocal machine</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#lsb_release -a\nUbuntu 20.04.5 LTS\n#java -version\nopenjdk version &quot;17&quot; 2021-09-14\nOpenJDK Runtime Environment (build 17+35-2724)\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\n#filesystem via cat /etc/fstab\next4\n</code></pre>\n<p>remote machine</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#lsb_release -a\nFedora release 23 (Twenty Three)\n#java -version\nopenjdk version &quot;17&quot; 2021-09-14\nOpenJDK Runtime Environment (build 17+35-2724)\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\n#filesystem via cat /etc/fstab\next4\n</code></pre>\n<p>SSH command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ssh -X -t zebra@remoteName.website bash -l\n</code></pre>\n<hr />\n<p><strong>Java version</strong></p>\n<pre><code>import java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.util.logging.Logger;\n\npublic class Test_Java {\n    static {\n        System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;[%1$tF %1$tT] %4$-7s %5$s %6$s%n&quot;);\n    }\n    private final static Logger logger=Logger.getGlobal();\n\n\n    public static void main(String[] args) throws IOException {\n        var path=&quot;&quot;;\n        if(args==null || args.length==0)\n            path=&quot;localFile.txt&quot;;\n        else\n            path=args[0];\n\n        try(var file= new RandomAccessFile(path,&quot;rw&quot;)){\n            var channel=file.getChannel();\n            logger.info(&quot;created channel &quot;+channel);\n            logger.info(&quot;trying for lock on file &quot;+path);\n            var lock=channel.tryLock();\n            logger.info(&quot;got this lock: &quot;+lock);\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><em>Further data requested in comments</em></p>\n<ol>\n<li><code>ulimit -a</code> on remoteMachine</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>core file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 63929\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 63929\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n<ol start=\"2\">\n<li>thread dump on remoteMachine while the process was hung, using <code>jstack pid</code></li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-01-14 15:39:16\nFull thread dump OpenJDK 64-Bit Server VM (17+35-2724 mixed mode, sharing):\n\nThreads class SMR info:\n_java_thread_list=0x00007fddc0001ba0, length=12, elements={\n0x00007fde10024840, 0x00007fde1015d100, 0x00007fde1015e5e0, 0x00007fde10163a80,\n0x00007fde10164d10, 0x00007fde10166100, 0x00007fde10167ae0, 0x00007fde10169010,\n0x00007fde1016a480, 0x00007fde10179aa0, 0x00007fde1017cb00, 0x00007fddc0000bd0\n}\n\n&quot;main&quot; #1 prio=5 os_prio=0 cpu=135.19ms elapsed=121.26s tid=0x00007fde10024840 nid=0x3fd7 runnable  [0x00007fde18b9f000]\n   java.lang.Thread.State: RUNNABLE\n    at sun.nio.ch.FileDispatcherImpl.lock0(java.base@17/Native Method)\n    at sun.nio.ch.FileDispatcherImpl.lock(java.base@17/FileDispatcherImpl.java:96)\n    at sun.nio.ch.FileChannelImpl.tryLock(java.base@17/FileChannelImpl.java:1304)\n    at java.nio.channels.FileChannel.tryLock(java.base@17/FileChannel.java:1191)\n    at Test_serc_2_Java.main(Test_serc_2_Java.java:23)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=0.19ms elapsed=121.24s tid=0x00007fde1015d100 nid=0x3fde waiting on condition  [0x00007fddf0afd000]\n   java.lang.Thread.State: RUNNABLE\n    at java.lang.ref.Reference.waitForReferencePendingList(java.base@17/Native Method)\n    at java.lang.ref.Reference.processPendingReferences(java.base@17/Reference.java:253)\n    at java.lang.ref.Reference$ReferenceHandler.run(java.base@17/Reference.java:215)\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=0.38ms elapsed=121.24s tid=0x00007fde1015e5e0 nid=0x3fdf in Object.wait()  [0x00007fddf09fc000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(java.base@17/Native Method)\n    - waiting on &lt;0x0000000715802f40&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:155)\n    - locked &lt;0x0000000715802f40&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:176)\n    at java.lang.ref.Finalizer$FinalizerThread.run(java.base@17/Finalizer.java:172)\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.43ms elapsed=121.24s tid=0x00007fde10163a80 nid=0x3fe0 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=0.16ms elapsed=121.24s tid=0x00007fde10164d10 nid=0x3fe1 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Monitor Deflation Thread&quot; #6 daemon prio=9 os_prio=0 cpu=1.56ms elapsed=121.24s tid=0x00007fde10166100 nid=0x3fe2 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=33.90ms elapsed=121.24s tid=0x00007fde10167ae0 nid=0x3fe3 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=59.73ms elapsed=121.24s tid=0x00007fde10169010 nid=0x3fe4 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=0.18ms elapsed=121.24s tid=0x00007fde1016a480 nid=0x3fe5 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Notification Thread&quot; #11 daemon prio=9 os_prio=0 cpu=0.10ms elapsed=121.23s tid=0x00007fde10179aa0 nid=0x3fe6 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Common-Cleaner&quot; #12 daemon prio=8 os_prio=0 cpu=0.27ms elapsed=121.23s tid=0x00007fde1017cb00 nid=0x3fe8 in Object.wait()  [0x00007fdde1ffe000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(java.base@17/Native Method)\n    - waiting on &lt;0x0000000715817018&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(java.base@17/ReferenceQueue.java:155)\n    - locked &lt;0x0000000715817018&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at jdk.internal.ref.CleanerImpl.run(java.base@17/CleanerImpl.java:140)\n    at java.lang.Thread.run(java.base@17/Thread.java:833)\n    at jdk.internal.misc.InnocuousThread.run(java.base@17/InnocuousThread.java:162)\n\n&quot;Attach Listener&quot; #14 daemon prio=9 os_prio=0 cpu=0.57ms elapsed=72.87s tid=0x00007fddc0000bd0 nid=0x3fff waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;VM Thread&quot; os_prio=0 cpu=2.32ms elapsed=121.25s tid=0x00007fde10159340 nid=0x3fdd runnable  \n\n&quot;GC Thread#0&quot; os_prio=0 cpu=0.26ms elapsed=121.26s tid=0x00007fde10072e50 nid=0x3fd8 runnable  \n\n&quot;G1 Main Marker&quot; os_prio=0 cpu=0.16ms elapsed=121.26s tid=0x00007fde10083e40 nid=0x3fd9 runnable  \n\n&quot;G1 Conc#0&quot; os_prio=0 cpu=0.09ms elapsed=121.26s tid=0x00007fde10084da0 nid=0x3fda runnable  \n\n&quot;G1 Refine#0&quot; os_prio=0 cpu=0.08ms elapsed=121.26s tid=0x00007fde101299d0 nid=0x3fdb runnable  \n\n&quot;G1 Service&quot; os_prio=0 cpu=8.82ms elapsed=121.26s tid=0x00007fde1012a8c0 nid=0x3fdc runnable  \n\n&quot;VM Periodic Task Thread&quot; os_prio=0 cpu=31.31ms elapsed=121.23s tid=0x00007fde1017b3e0 nid=0x3fe7 waiting on condition  \n\nJNI global refs: 8, weak refs: 0\n\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":6188341,"reputation":319,"user_id":4821772,"accept_rate":78,"display_name":"Athelon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1500413870,"creation_date":1500413870,"answer_id":45177541,"question_id":45155376,"body_markdown":"I finally found the solution to my problem and it was `clipToPadding=&quot;false&quot;` and setting `paddingRight=&quot;8dp&quot;` on my recycler view.\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n                                android:id=&quot;@+id/participant_list&quot;\r\n                                android:paddingLeft=&quot;4dp&quot;\r\n                                android:paddingRight=&quot;8dp&quot;\r\n                                android:clipToPadding=&quot;false&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;match_parent&quot;/&gt;","title":"Recycler View - Overlap items from right cuts the last one","body":"<p>I finally found the solution to my problem and it was <code>clipToPadding=\"false\"</code> and setting <code>paddingRight=\"8dp\"</code> on my recycler view.</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n                            android:id=\"@+id/participant_list\"\n                            android:paddingLeft=\"4dp\"\n                            android:paddingRight=\"8dp\"\n                            android:clipToPadding=\"false\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061212,"reputation":2593,"user_id":6076692,"accept_rate":100,"display_name":"Mohamed AbdelraZek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673690967,"creation_date":1673690967,"answer_id":75117148,"question_id":45155376,"body_markdown":"instead of padding you can check for the position like below:\r\n\r\n \r\n\r\n     override fun getItemOffsets(\r\n            outRect: Rect,\r\n            view: View,\r\n            parent: RecyclerView,\r\n            state: RecyclerView.State\r\n        ) {\r\n            val position = parent.getChildAdapterPosition(view)\r\n            if (position == 0) {\r\n                return\r\n            } else {\r\n                outRect.right = -80\r\n            }\r\n    \r\n    \r\n        }","title":"Recycler View - Overlap items from right cuts the last one","body":"<p>instead of padding you can check for the position like below:</p>\n<pre><code> override fun getItemOffsets(\n        outRect: Rect,\n        view: View,\n        parent: RecyclerView,\n        state: RecyclerView.State\n    ) {\n        val position = parent.getChildAdapterPosition(view)\n        if (position == 0) {\n            return\n        } else {\n            outRect.right = -80\n        }\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":6188341,"reputation":319,"user_id":4821772,"accept_rate":78,"display_name":"Athelon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45177541,"answer_count":2,"score":2,"last_activity_date":1673690967,"creation_date":1500336031,"question_id":45155376,"body_markdown":"I want to overlap each element in recycler to the right for that I am implementing the itemdecorator class and it does but it also cuts the last view from the right, any help on this would be appreciated thanks.\r\n\r\n    public class ItemDecorator extends RecyclerView.ItemDecoration {\r\n    private final int mSpace;\r\n\r\n    public ItemDecorator(int space) {\r\n        this.mSpace = space;\r\n    }\r\n\r\n    @Override\r\n    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\r\n        //outRect.left = mSpace;\r\n        outRect.right = mSpace;\r\n        //outRect.bottom = mSpace;\r\n        //outRect.top = mSpace;\r\n    }\r\n    }\r\n\r\n-------\r\n\r\n    eventDetailBinding.participantList.setHasFixedSize(true);\r\n                   RecyclerView.LayoutManager layoutManagerForParticipants =\r\n                           new LinearLayoutManager(EventDetailActivity.this, LinearLayoutManager.HORIZONTAL, false);\r\n                   eventDetailBinding.participantList.setLayoutManager(layoutManagerForParticipants);\r\n                   ItemDecorator itemDecorator = new ItemDecorator(-30);\r\n                   eventDetailBinding.participantList.addItemDecoration(itemDecorator);\r\n                   eventDetailBinding.participantList.setAdapter(new ParticipantViewAdapter(EventDetailActivity.this, imageList));\r\n\r\nImage = https://image.ibb.co/hivnLF/Untitled.png","title":"Recycler View - Overlap items from right cuts the last one","body":"<p>I want to overlap each element in recycler to the right for that I am implementing the itemdecorator class and it does but it also cuts the last view from the right, any help on this would be appreciated thanks.</p>\n\n<pre><code>public class ItemDecorator extends RecyclerView.ItemDecoration {\nprivate final int mSpace;\n\npublic ItemDecorator(int space) {\n    this.mSpace = space;\n}\n\n@Override\npublic void getItemOffsets(Rect outRect, View view, RecyclerView parent, RecyclerView.State state) {\n    //outRect.left = mSpace;\n    outRect.right = mSpace;\n    //outRect.bottom = mSpace;\n    //outRect.top = mSpace;\n}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>eventDetailBinding.participantList.setHasFixedSize(true);\n               RecyclerView.LayoutManager layoutManagerForParticipants =\n                       new LinearLayoutManager(EventDetailActivity.this, LinearLayoutManager.HORIZONTAL, false);\n               eventDetailBinding.participantList.setLayoutManager(layoutManagerForParticipants);\n               ItemDecorator itemDecorator = new ItemDecorator(-30);\n               eventDetailBinding.participantList.addItemDecoration(itemDecorator);\n               eventDetailBinding.participantList.setAdapter(new ParticipantViewAdapter(EventDetailActivity.this, imageList));\n</code></pre>\n\n<p>Image = <a href=\"https://image.ibb.co/hivnLF/Untitled.png\" rel=\"nofollow noreferrer\">https://image.ibb.co/hivnLF/Untitled.png</a></p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665307132,"creation_date":1665307132,"answer_id":74003515,"question_id":74003125,"body_markdown":"No sure if this would help but have you tried syncing the project with `mavenCentral()` as one of the top build gradle repositories?\r\n\r\n\r\n    buildscript {     \r\n       repositories { \r\n              google() \r\n              mavenCentral() \r\n       } \r\n    } ","title":"problem adding safe args with gradle to android studio","body":"<p>No sure if this would help but have you tried syncing the project with <code>mavenCentral()</code> as one of the top build gradle repositories?</p>\n<pre><code>buildscript {     \n   repositories { \n          google() \n          mavenCentral() \n   } \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11527502,"reputation":73,"user_id":8447494,"display_name":"Shivam Beohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665309796,"creation_date":1665309796,"answer_id":74003809,"question_id":74003125,"body_markdown":"Apply the plugin in the build.gradle (module level)\r\n\r\n    plugins {\r\n        id: &quot;androidx.navigation.safeargs.kotlin&quot;\r\n    }\r\nAnd Add the following lines in your build.gradle (app level)\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs += &#39;build/generated/source/navigation-args&#39;\r\n            }\r\n        }\r\n    }\r\nThis could probably solve your problem as it worked for me with same issue.","title":"problem adding safe args with gradle to android studio","body":"<p>Apply the plugin in the build.gradle (module level)</p>\n<pre><code>plugins {\n    id: &quot;androidx.navigation.safeargs.kotlin&quot;\n}\n</code></pre>\n<p>And Add the following lines in your build.gradle (app level)</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs += 'build/generated/source/navigation-args'\n        }\n    }\n}\n</code></pre>\n<p>This could probably solve your problem as it worked for me with same issue.</p>\n"},{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665332240,"creation_date":1665332240,"answer_id":74006417,"question_id":74003125,"body_markdown":"```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\nandroid {\r\n    namespace &#39;com.example.testapp1&#39;\r\n    compileSdk 32\r\n    \r\n    ....\r\n\r\n```","title":"problem adding safe args with gradle to android studio","body":"<pre><code>plugins {\n    id 'com.android.application'\n    id 'androidx.navigation.safeargs'\n}\nandroid {\n    namespace 'com.example.testapp1'\n    compileSdk 32\n    \n    ....\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15451590,"reputation":99,"user_id":11146815,"display_name":"Bob Krauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668805342,"creation_date":1668801713,"answer_id":74494780,"question_id":74003125,"body_markdown":"I am having the same problem with the same tutorial.\r\nAdding\r\n```\r\nplugins {\r\n    id: &quot;androidx.navigation.safeargs&quot;\r\n}\r\n```\r\ndidn&#39;t help.  Error still with not able to find.\r\n\r\nAdding\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs += &#39;build/generated/source/navigation-args&#39;\r\n        }\r\n    }\r\n}\r\n```\r\ngave error: &gt; Could not find method sourceSets()\r\n","title":"problem adding safe args with gradle to android studio","body":"<p>I am having the same problem with the same tutorial.\nAdding</p>\n<pre><code>plugins {\n    id: &quot;androidx.navigation.safeargs&quot;\n}\n</code></pre>\n<p>didn't help.  Error still with not able to find.</p>\n<p>Adding</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs += 'build/generated/source/navigation-args'\n        }\n    }\n}\n</code></pre>\n<p>gave error: &gt; Could not find method sourceSets()</p>\n"},{"tags":[],"owner":{"account_id":6696205,"reputation":1734,"user_id":5164150,"accept_rate":0,"display_name":"Mudassir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673690707,"creation_date":1673690707,"answer_id":75117126,"question_id":74003125,"body_markdown":"I was also facing the same issue. \r\n\r\nso here is the solution which have worked for me, In the latest Android studio version doesn&#39;t need to add buildscript anymore just add the id in build.gradle for project. It will be like this in build.gradle for project:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.20&#39; apply false\r\n\r\n    id &#39;androidx.navigation.safeargs&#39; version &#39;2.5.3&#39; apply false\r\n    // classpath are changed, so no need to add classpath anymore just the id and the version\r\n}\r\n```\r\nAnd in the build.gradle module,\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\n\r\n```","title":"problem adding safe args with gradle to android studio","body":"<p>I was also facing the same issue.</p>\n<p>so here is the solution which have worked for me, In the latest Android studio version doesn't need to add buildscript anymore just add the id in build.gradle for project. It will be like this in build.gradle for project:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n    id 'org.jetbrains.kotlin.jvm' version '1.7.20' apply false\n\n    id 'androidx.navigation.safeargs' version '2.5.3' apply false\n    // classpath are changed, so no need to add classpath anymore just the id and the version\n}\n</code></pre>\n<p>And in the build.gradle module,</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'androidx.navigation.safeargs'\n}\n\n</code></pre>\n"}],"owner":{"account_id":26556496,"reputation":3,"user_id":20185022,"display_name":"Programmer1824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74006417,"answer_count":5,"score":0,"last_activity_date":1673690707,"creation_date":1665303193,"question_id":74003125,"body_markdown":"Im currently following [this](https://developer.android.com/codelabs/build-your-first-android-app#8) tutorial on making an android app and ive gotten a problem. The instructions are the following: \r\nOpen Gradle Scripts &gt; build.gradle (Project: My First App)\r\nFind the `dependencies` section In the `buildscript` section, and add the following lines after the other classpath entries:\r\n```\r\ndef nav_version = &quot;2.3.0-alpha04&quot;\r\nclasspath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n```\r\n\r\n\r\nThe problem is, in my build.gradle file(Project: My First App) is no buildscript section and therefore also no dependencies section in it. This is my build.gradle file:\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nplugins {\r\n\r\n    id &#39;com.android.application&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.0&#39; apply false\r\n    \r\n}\r\n```\r\n\r\nand the other one is: \r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.testapp1&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testapp1&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n}\r\n```\r\n\r\nas you can see there are no such sections there. Ive tried adding the sections to the first file like so: \r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.2&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n    }\r\n}\r\nplugins {\r\n\r\n    id &#39;com.android.application&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\n```\r\n\r\n\r\nand checked that `android.useAndroidX=true` was active in `gradle.properties`.\r\n\r\nBut when i tried to sync the gradle project, it gave me the following errors:\r\n````\r\nBuild file &#39;C:\\Users\\android\\AndroidStudioProjects\\Testapp1\\build.gradle&#39; line: 15\r\n\r\nPlugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (plugin dependency must include a version number for this source)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:243)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:169)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:167)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:102)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\r\n```\r\n\r\n\r\nI read it and my error is: `Plugin [id: &#39;androidx.navigation.safeargs&#39;] was not found`\r\nIs there any way to fix this problem and use the plugin `androidx.navigation.safeargs`?\r\nThanks in advance","title":"problem adding safe args with gradle to android studio","body":"<p>Im currently following <a href=\"https://developer.android.com/codelabs/build-your-first-android-app#8\" rel=\"nofollow noreferrer\">this</a> tutorial on making an android app and ive gotten a problem. The instructions are the following:\nOpen Gradle Scripts &gt; build.gradle (Project: My First App)\nFind the <code>dependencies</code> section In the <code>buildscript</code> section, and add the following lines after the other classpath entries:</p>\n<pre><code>def nav_version = &quot;2.3.0-alpha04&quot;\nclasspath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n</code></pre>\n<p>The problem is, in my build.gradle file(Project: My First App) is no buildscript section and therefore also no dependencies section in it. This is my build.gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nplugins {\n\n    id 'com.android.application' version '7.3.0' apply false\n    id 'com.android.library' version '7.3.0' apply false\n    \n}\n</code></pre>\n<p>and the other one is:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.testapp1'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.testapp1&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n<p>as you can see there are no such sections there. Ive tried adding the sections to the first file like so:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        def nav_version = &quot;2.5.2&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n    }\n}\nplugins {\n\n    id 'com.android.application' version '7.3.0' apply false\n    id 'com.android.library' version '7.3.0' apply false\n    id 'androidx.navigation.safeargs'\n}\n</code></pre>\n<p>and checked that <code>android.useAndroidX=true</code> was active in <code>gradle.properties</code>.</p>\n<p>But when i tried to sync the gradle project, it gave me the following errors:</p>\n<pre><code>Build file 'C:\\Users\\android\\AndroidStudioProjects\\Testapp1\\build.gradle' line: 15\n\nPlugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'androidx.navigation.safeargs'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:243)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:169)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:167)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:102)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n\n```\n\n\nI read it and my error is: `Plugin [id: 'androidx.navigation.safeargs'] was not found`\nIs there any way to fix this problem and use the plugin `androidx.navigation.safeargs`?\nThanks in advance\n</code></pre>\n"},{"tags":["java","arraylist","integer"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1358293423,"post_id":14349011,"comment_id":19948042,"body_markdown":"Because `int` isn&#39;t an object in the same context the `Integer` is","body":"Because <code>int</code> isn&#39;t an object in the same context the <code>Integer</code> is"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1358293805,"post_id":14349011,"comment_id":19948162,"body_markdown":"You can use `TIntArrayList` if you want something which wraps `int[]`","body":"You can use <code>TIntArrayList</code> if you want something which wraps <code>int[]</code>"},{"owner":{"account_id":12264669,"reputation":862,"user_id":8951515,"accept_rate":100,"display_name":"SF..MJ"},"score":0,"creation_date":1515672737,"post_id":14349011,"comment_id":83394430,"body_markdown":"`int` is primitive datatype we can use wrapper class in `ArrayList`","body":"<code>int</code> is primitive datatype we can use wrapper class in <code>ArrayList</code>"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1358293407,"creation_date":1358293407,"answer_id":14349026,"question_id":14349011,"body_markdown":"Because `int` is a *primitive type*.  Only *reference types* can be used as generic parameters.","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>Because <code>int</code> is a <em>primitive type</em>.  Only <em>reference types</em> can be used as generic parameters.</p>\n"},{"tags":[],"owner":{"account_id":891348,"reputation":59,"user_id":929542,"display_name":"user929542"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673690662,"creation_date":1358293510,"answer_id":14349047,"question_id":14349011,"body_markdown":"`int` is a `primitive`. It is not a `Object`.\r\n\r\nRefer this [link][1] for further details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p><code>int</code> is a <code>primitive</code>. It is not a <code>Object</code>.</p>\n<p>Refer this <a href=\"https://docs.oracle.com/en/java/javase/19/\" rel=\"nofollow noreferrer\">link</a> for further details.</p>\n"},{"tags":[],"owner":{"account_id":982231,"reputation":3261,"user_id":1001686,"accept_rate":94,"display_name":"Zach Latta"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1392841859,"creation_date":1358293574,"answer_id":14349061,"question_id":14349011,"body_markdown":"`ArrayList` can only reference types, not primitives. `Integer` is a class, not a primitive. \r\n\r\nWhen you declare `ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;()`, you&#39;re creating an `ArrayList` which will store the `Integer` type, not the `int` primitive.\r\n\r\nIf you want to read about the difference between primitive and reference types, check out http://pages.cs.wisc.edu/~hasti/cs302/examples/primitiveVsRef.html","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p><code>ArrayList</code> can only reference types, not primitives. <code>Integer</code> is a class, not a primitive. </p>\n\n<p>When you declare <code>ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;()</code>, you're creating an <code>ArrayList</code> which will store the <code>Integer</code> type, not the <code>int</code> primitive.</p>\n\n<p>If you want to read about the difference between primitive and reference types, check out <a href=\"http://pages.cs.wisc.edu/~hasti/cs302/examples/primitiveVsRef.html\">http://pages.cs.wisc.edu/~hasti/cs302/examples/primitiveVsRef.html</a></p>\n"},{"tags":[],"owner":{"account_id":2245589,"reputation":1142,"user_id":1979005,"display_name":"ameed"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1358294980,"creation_date":1358294980,"answer_id":14349323,"question_id":14349011,"body_markdown":"The short answer is that generics (like `ArrayList&lt;Integer&gt;`) do not accept primitive types (`int`), only objects (`Integer`).\r\n\r\nThis is because classes like `ArrayList` are implemented as using Objects. Since every class inherits from Object, the compiler can just plug in other classes. But primitive types (like `int`) do not inherit from Object, for they are not classes. So, Sun/Oracle made the `Integer` class to help with this.\r\n\r\nSo, in short: `int` is not an `Object`.","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>The short answer is that generics (like <code>ArrayList&lt;Integer&gt;</code>) do not accept primitive types (<code>int</code>), only objects (<code>Integer</code>).</p>\n\n<p>This is because classes like <code>ArrayList</code> are implemented as using Objects. Since every class inherits from Object, the compiler can just plug in other classes. But primitive types (like <code>int</code>) do not inherit from Object, for they are not classes. So, Sun/Oracle made the <code>Integer</code> class to help with this.</p>\n\n<p>So, in short: <code>int</code> is not an <code>Object</code>.</p>\n"},{"tags":[],"owner":{"account_id":5865958,"reputation":1,"user_id":4619927,"display_name":"Suprit Behera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427901532,"creation_date":1427901532,"answer_id":29394653,"question_id":14349011,"body_markdown":"int is a primitive data type but Integer is a class so an arrayList array can only take reference types as its parameter not primitive type\r\n","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>int is a primitive data type but Integer is a class so an arrayList array can only take reference types as its parameter not primitive type</p>\n"},{"tags":[],"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520281531,"creation_date":1520281531,"answer_id":49118859,"question_id":14349011,"body_markdown":"All the answers above answer why but the root of this question is frequent auto boxing and unboxing of the primitive data types. This problem is already solved by IntBuffer or ChadBuffer or you name the primitive type it&#39;s already there in the nio folder. Next time if you want to use primitive ArrayList don&#39;t use List&lt;Integer&gt; instead use IntBuffer ","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>All the answers above answer why but the root of this question is frequent auto boxing and unboxing of the primitive data types. This problem is already solved by IntBuffer or ChadBuffer or you name the primitive type it's already there in the nio folder. Next time if you want to use primitive ArrayList don't use List instead use IntBuffer </p>\n"},{"tags":[],"owner":{"account_id":13325876,"reputation":1,"user_id":9618840,"display_name":"Soutik Samanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523268868,"creation_date":1523268868,"answer_id":49730547,"question_id":14349011,"body_markdown":"int is not an Object and hence if list type is int, implementations of the list cannot be done.","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>int is not an Object and hence if list type is int, implementations of the list cannot be done.</p>\n"}],"owner":{"account_id":1750051,"reputation":1057,"user_id":1599348,"accept_rate":54,"display_name":"programmingIsFun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64685,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":14349061,"answer_count":7,"score":45,"last_activity_date":1673690662,"creation_date":1358293341,"question_id":14349011,"body_markdown":"I want to declare an `ArrayList` of type `int`.\r\n\r\nWhy does the following give me an error:\r\n\r\n    ArrayList&lt;int&gt; list1 = new ArrayList&lt;int&gt;();\r\n\r\nBut the following works: \r\n\r\n    ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\r\n?","title":"Why can&#39;t I have &#39;int&#39; as the type of an ArrayList?","body":"<p>I want to declare an <code>ArrayList</code> of type <code>int</code>.</p>\n\n<p>Why does the following give me an error:</p>\n\n<pre><code>ArrayList&lt;int&gt; list1 = new ArrayList&lt;int&gt;();\n</code></pre>\n\n<p>But the following works: </p>\n\n<pre><code>ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>?</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353951752,"creation_date":1353948554,"answer_id":13569359,"question_id":13569148,"body_markdown":"[update based on @Raymond hint to look into README.txt at old repository location]\r\n\r\nThe repository has moved so you must change the repository URL. Change all the repository urls from \r\n\r\n    http://qtjambi.sourceforge.net/maven2/\r\n\r\nto\r\n\r\n    http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/\r\n\r\nAlso check the new home page at http://qt-jambi.org for additional info.  At this new repository 4.6.3_04 is available for the maven plugin. 4.5.2_01, 4.6.2 and 4.6.3 are available qtjambi itself.","title":"error in install a plugin in Maven","body":"<p>[update based on @Raymond hint to look into README.txt at old repository location]</p>\n\n<p>The repository has moved so you must change the repository URL. Change all the repository urls from </p>\n\n<pre><code>http://qtjambi.sourceforge.net/maven2/\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/\n</code></pre>\n\n<p>Also check the new home page at <a href=\"http://qt-jambi.org\" rel=\"nofollow\">http://qt-jambi.org</a> for additional info.  At this new repository 4.6.3_04 is available for the maven plugin. 4.5.2_01, 4.6.2 and 4.6.3 are available qtjambi itself.</p>\n"},{"tags":[],"owner":{"account_id":26792,"reputation":524,"user_id":70020,"accept_rate":60,"display_name":"Raymond Kroeker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673690651,"creation_date":1353949969,"answer_id":13569737,"question_id":13569148,"body_markdown":"If you browse to the [README][1] you&#39;ll find a link at the bottom to the [repository][2].  Update your pom.xml then rerun maven:\r\n\r\n    $ mvn --update-plugins clean install\r\n\r\n    $ mvn --version\r\n     Apache Maven 3.0.4 (r1232337; 2012-01-17 00:44:56-0800)\r\n     Maven home: /home/user/apache-maven-3.0.4\r\n     Java version: 1.7.0_09, vendor: Oracle Corporation\r\n     Java home: /home/user/jdk1.7.0_09/jre\r\n     Default locale: en_CA, platform encoding: UTF-8\r\n     OS name: &quot;linux&quot;, version: &quot;3.5.0-18-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n  [1]: http://qt-jambi.org/maven2/README.txt%20%20If%20you%20check%20the%20README%20above%20you%27ll%20see%20that%20the%20repository%20is%20actually%20located%20at:%20%20%20http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/%20README\r\n  [2]: https://web.archive.org/web/20140811002815/http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/ &quot;repository&quot;\r","title":"error in install a plugin in Maven","body":"<p>If you browse to the <a href=\"http://qt-jambi.org/maven2/README.txt%20%20If%20you%20check%20the%20README%20above%20you%27ll%20see%20that%20the%20repository%20is%20actually%20located%20at:%20%20%20http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/%20README\" rel=\"nofollow noreferrer\">README</a> you'll find a link at the bottom to the <a href=\"https://web.archive.org/web/20140811002815/http://repository.qt-jambi.org/nexus/content/repositories/releases-before-2011/\" rel=\"nofollow noreferrer\" title=\"repository\">repository</a>.  Update your pom.xml then rerun maven:</p>\n<pre><code>$ mvn --update-plugins clean install\n\n$ mvn --version\n Apache Maven 3.0.4 (r1232337; 2012-01-17 00:44:56-0800)\n Maven home: /home/user/apache-maven-3.0.4\n Java version: 1.7.0_09, vendor: Oracle Corporation\n Java home: /home/user/jdk1.7.0_09/jre\n Default locale: en_CA, platform encoding: UTF-8\n OS name: &quot;linux&quot;, version: &quot;3.5.0-18-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212778,"reputation":2636,"user_id":1181011,"accept_rate":67,"display_name":"alex.p"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353951886,"creation_date":1353951374,"answer_id":13570138,"question_id":13569148,"body_markdown":"Try adding the version to the plugin it may not be being resolved automatically:\r\n\r\n    &lt;version&gt;4.6.3_04&lt;/version&gt;\r\n\r\nThe available versions you can use for the plugin is at the repository url: \r\n\r\nhttp://old.qt-jambi.org/maven2/net/sf/qtjambi/qtjambi-maven-plugin/\r\n\r\nAt a guess you&#39;d probably need the same plugin version as the version of qtjambi so in this case you&#39;d need to find the appropriate repository.","title":"error in install a plugin in Maven","body":"<p>Try adding the version to the plugin it may not be being resolved automatically:</p>\n\n<pre><code>&lt;version&gt;4.6.3_04&lt;/version&gt;\n</code></pre>\n\n<p>The available versions you can use for the plugin is at the repository url: </p>\n\n<p><a href=\"http://old.qt-jambi.org/maven2/net/sf/qtjambi/qtjambi-maven-plugin/\" rel=\"nofollow\">http://old.qt-jambi.org/maven2/net/sf/qtjambi/qtjambi-maven-plugin/</a></p>\n\n<p>At a guess you'd probably need the same plugin version as the version of qtjambi so in this case you'd need to find the appropriate repository.</p>\n"}],"owner":{"account_id":235037,"reputation":686,"user_id":501586,"accept_rate":80,"display_name":"mehdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13569737,"answer_count":3,"score":0,"last_activity_date":1673690651,"creation_date":1353947868,"question_id":13569148,"body_markdown":"I am new in Maven and I want to use qt-jambi in maven. I followed this **[tutorial][1]** and Maven gave me the following error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building iycTest\r\n    [INFO]    task-segment: [test]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] BUILD ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] The plugin &#39;net.sf.qtjambi:qtjambi-maven-plugin&#39; does not exist or no val\r\n    id version could be found\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] For more information, run Maven with the -e switch\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1 second\r\n    [INFO] Finished at: Mon Nov 26 02:25:57 PST 2012\r\n    [INFO] Final Memory: 3M/15M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nmy pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;mypacakage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;iycTest&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;iycTest&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.sf.qtjambi&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;qtjambi&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.5.2_01&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.qtjambi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;qtjambi-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;qtjambi&lt;/id&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sourcesDir&gt;src/main/java&lt;/sourcesDir&gt;\r\n    \t\t\t\t&lt;noObsoleteTranslations&gt;true&lt;/noObsoleteTranslations&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;qtjambi&lt;/id&gt;\r\n                &lt;name&gt;qtjambi&lt;/name&gt;\r\n                &lt;url&gt;http://qtjambi.sourceforge.net/maven2/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;qtjambi&lt;/id&gt;\r\n                &lt;name&gt;qtjambi&lt;/name&gt;\r\n                &lt;url&gt;http://qtjambi.sourceforge.net/maven2/&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHow do I solve it? i am using MS Windows xp and Maven 2.0.11\r\n\r\n\r\n  [1]: http://old.qt-jambi.org/users/maven-repository/","title":"error in install a plugin in Maven","body":"<p>I am new in Maven and I want to use qt-jambi in maven. I followed this <strong><a href=\"http://old.qt-jambi.org/users/maven-repository/\" rel=\"nofollow\">tutorial</a></strong> and Maven gave me the following error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Building iycTest\n[INFO]    task-segment: [test]\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[ERROR] BUILD ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] The plugin 'net.sf.qtjambi:qtjambi-maven-plugin' does not exist or no val\nid version could be found\n[INFO] ------------------------------------------------------------------------\n[INFO] For more information, run Maven with the -e switch\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1 second\n[INFO] Finished at: Mon Nov 26 02:25:57 PST 2012\n[INFO] Final Memory: 3M/15M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>my pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;mypacakage&lt;/groupId&gt;\n  &lt;artifactId&gt;iycTest&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;iycTest&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.qtjambi&lt;/groupId&gt;\n        &lt;artifactId&gt;qtjambi&lt;/artifactId&gt;\n        &lt;version&gt;4.5.2_01&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.sf.qtjambi&lt;/groupId&gt;\n            &lt;artifactId&gt;qtjambi-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;qtjambi&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;sourcesDir&gt;src/main/java&lt;/sourcesDir&gt;\n                &lt;noObsoleteTranslations&gt;true&lt;/noObsoleteTranslations&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;qtjambi&lt;/id&gt;\n            &lt;name&gt;qtjambi&lt;/name&gt;\n            &lt;url&gt;http://qtjambi.sourceforge.net/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;qtjambi&lt;/id&gt;\n            &lt;name&gt;qtjambi&lt;/name&gt;\n            &lt;url&gt;http://qtjambi.sourceforge.net/maven2/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>How do I solve it? i am using MS Windows xp and Maven 2.0.11</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673641501,"post_id":75113638,"comment_id":132552894,"body_markdown":"There is even an example in the APIDOC of GridBagLayout. Not that applets play a role in today&#39;s world... https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/GridBagLayout.html","body":"There is even an example in the APIDOC of GridBagLayout. Not that applets play a role in today&#39;s world... <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"score":0,"creation_date":1673641591,"post_id":75113638,"comment_id":132552914,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/15794821/eclipse-error-cannot-be-resolved-to-a-type.","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/15794821/eclipse-error-cannot-be-resolved-to-a-type\" title=\"eclipse error cannot be resolved to a type\">stackoverflow.com/questions/15794821/&hellip;</a>."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1673643742,"post_id":75113638,"comment_id":132553438,"body_markdown":"You haven&#39;t added your Swing components to the `JPanel`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) section.","body":"You haven&#39;t added your Swing components to the <code>JPanel</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> section."},{"owner":{"account_id":20288102,"reputation":19,"user_id":14880365,"display_name":"Ahsan"},"score":0,"creation_date":1673680894,"post_id":75113638,"comment_id":132556558,"body_markdown":"Seems like I had an issue with Eclipse. It working fine now. Thank you.","body":"Seems like I had an issue with Eclipse. It working fine now. Thank you."}],"owner":{"account_id":20288102,"reputation":19,"user_id":14880365,"display_name":"Ahsan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673690588,"creation_date":1673637591,"question_id":75113638,"body_markdown":"I am trying to learn Java Swing from a very old tutorial. As I was following the course I got stuck in a project where I was learning about GridBagLayout. When I called the function setLayout(new GridBagLayout());, Eclipse shows me &#39;GridBagLayout cannot be resolved to a type&#39;. Even though I have imported java. awt. GridBagLayout.\r\n\r\nHere&#39;s my code. \r\n\r\n\r\n```\r\npackage com.swing11;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagLayout;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.border.Border;\r\n\r\npublic class FormPanel extends JPanel {\r\n\r\n\tprivate JLabel nameLabel;\r\n\tprivate JLabel occupationLabel;\r\n\tprivate JTextField nameField;\r\n\tprivate JTextField occupationField;\r\n\tprivate JButton okButton;\r\n\r\n\tpublic FormPanel() {\r\n\r\n\t\tnameLabel = new JLabel(&quot;Name: &quot;);\r\n\t\toccupationLabel = new JLabel(&quot;Occupation: &quot;);\r\n\t\tnameField = new JTextField(10);\r\n\t\toccupationField = new JTextField(25);\r\n\t\tokButton = new JButton(&quot;Ok&quot;);\r\n\r\n\t\tDimension dim = getPreferredSize();\r\n\r\n\t\tdim.width = 250;\r\n\t\tsetPreferredSize(dim);\r\n\r\n\t\tBorder innerBorder = BorderFactory.createTitledBorder(&quot;Add Person&quot;);\r\n\t\tBorder outterBorder = BorderFactory.createEmptyBorder(5, 5, 5, 5);\r\n\r\n\t\tsetBorder(BorderFactory.createCompoundBorder(outterBorder, innerBorder));\r\n\r\n\t\tsetLayout(new GridBagLayout());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"GridBagLayout is not working in Java Swing","body":"<p>I am trying to learn Java Swing from a very old tutorial. As I was following the course I got stuck in a project where I was learning about GridBagLayout. When I called the function setLayout(new GridBagLayout());, Eclipse shows me 'GridBagLayout cannot be resolved to a type'. Even though I have imported java. awt. GridBagLayout.</p>\n<p>Here's my code.</p>\n<pre><code>package com.swing11;\n\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.Border;\n\npublic class FormPanel extends JPanel {\n\n    private JLabel nameLabel;\n    private JLabel occupationLabel;\n    private JTextField nameField;\n    private JTextField occupationField;\n    private JButton okButton;\n\n    public FormPanel() {\n\n        nameLabel = new JLabel(&quot;Name: &quot;);\n        occupationLabel = new JLabel(&quot;Occupation: &quot;);\n        nameField = new JTextField(10);\n        occupationField = new JTextField(25);\n        okButton = new JButton(&quot;Ok&quot;);\n\n        Dimension dim = getPreferredSize();\n\n        dim.width = 250;\n        setPreferredSize(dim);\n\n        Border innerBorder = BorderFactory.createTitledBorder(&quot;Add Person&quot;);\n        Border outterBorder = BorderFactory.createEmptyBorder(5, 5, 5, 5);\n\n        setBorder(BorderFactory.createCompoundBorder(outterBorder, innerBorder));\n\n        setLayout(new GridBagLayout());\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673690168,"creation_date":1673643299,"answer_id":75114393,"question_id":75107709,"body_markdown":"You just need to slightly modify your code. Instead of using `some_url?lang=en` use `some_url?lang=en_GB`.\r\n\r\nFor instance you can have a link that will trigger a language change to english\r\n\r\n     &lt;a  id=&quot;link_en_GB&quot; href=&quot;/some_url?lang=en_GB&quot; &gt;English&lt;/a&gt;\r\n\r\n\r\nEDIT:\r\nI&#39;ve just tried a language change using `some_url?lang=en` and that also works so I guess the problem isn&#39;t the url itself but something else. Make sure that you have a controller method matching /some_url and that the user has the right privilages to access it.","title":"why is my internationalization not working (Spring Boot Application)","body":"<p>You just need to slightly modify your code. Instead of using <code>some_url?lang=en</code> use <code>some_url?lang=en_GB</code>.</p>\n<p>For instance you can have a link that will trigger a language change to english</p>\n<pre><code> &lt;a  id=&quot;link_en_GB&quot; href=&quot;/some_url?lang=en_GB&quot; &gt;English&lt;/a&gt;\n</code></pre>\n<p>EDIT:\nI've just tried a language change using <code>some_url?lang=en</code> and that also works so I guess the problem isn't the url itself but something else. Make sure that you have a controller method matching /some_url and that the user has the right privilages to access it.</p>\n"}],"owner":{"account_id":21256476,"reputation":5,"user_id":17655648,"display_name":"mzlvv4k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673690168,"creation_date":1673604657,"question_id":75107709,"body_markdown":"This is how I added internationalization to my Spring application.\r\n\r\nFirst, I added to the class:  \r\n```\r\n@Configuration\r\npublic class SpringSecurityConfig {\r\n    // ...\r\n}\r\n```\r\nmethod (here I set default language - Polish):  \r\n```\r\n@Bean\r\npublic LocaleResolver localeResolver() {\r\n    SessionLocaleResolver slr = new SessionLocaleResolver();\r\n    slr.setDefaultLocale(new Locale(&quot;pl&quot;));\r\n    return slr;\r\n}\r\n```\r\n\r\nNext, in the class that implements the `WebMvcConfigurer` interface, I added the following two methods:  \r\n```\r\n@Component\r\npublic class WebMvcConfigurerImpl implements WebMvcConfigurer {\r\n\r\n    // ...\r\n\r\n    // Configuring a component that supports changing language settings\r\n    public LocaleChangeInterceptor localeChangeInterceptor() {\r\n        LocaleChangeInterceptor lci = new LocaleChangeInterceptor();\r\n        lci.setParamName(&quot;lang&quot;);\r\n        return lci;\r\n    }\r\n\r\n\r\n    // Registering a component that supports changing the language\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(localeChangeInterceptor());\r\n    }\r\n\r\n}\r\n```\r\n\r\nAfter adding the code above, I created two files `labels.properties` and `labels_en.properties` in the `resources` folder.\r\nIn these files, I will write the `key=value` format to the text that will be shown on the pages (I use Thymeleaf).  \r\n\r\nNext, we need to register these files in the application, for this, in the `application.properties` file, I added the name labels to `spring.messages.basename`, this is how it looks:  \r\n```\r\nspring.messages.basename=errors-messages,labels\r\n```\r\n\r\nNow, when the page in the request receives ...?lang=en (the `lang` parameter with the value `en`), the labels on the page should have changed, but it doesn&#39;t.\r\n\r\nWhat have I done wrong?","title":"why is my internationalization not working (Spring Boot Application)","body":"<p>This is how I added internationalization to my Spring application.</p>\n<p>First, I added to the class:</p>\n<pre><code>@Configuration\npublic class SpringSecurityConfig {\n    // ...\n}\n</code></pre>\n<p>method (here I set default language - Polish):</p>\n<pre><code>@Bean\npublic LocaleResolver localeResolver() {\n    SessionLocaleResolver slr = new SessionLocaleResolver();\n    slr.setDefaultLocale(new Locale(&quot;pl&quot;));\n    return slr;\n}\n</code></pre>\n<p>Next, in the class that implements the <code>WebMvcConfigurer</code> interface, I added the following two methods:</p>\n<pre><code>@Component\npublic class WebMvcConfigurerImpl implements WebMvcConfigurer {\n\n    // ...\n\n    // Configuring a component that supports changing language settings\n    public LocaleChangeInterceptor localeChangeInterceptor() {\n        LocaleChangeInterceptor lci = new LocaleChangeInterceptor();\n        lci.setParamName(&quot;lang&quot;);\n        return lci;\n    }\n\n\n    // Registering a component that supports changing the language\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(localeChangeInterceptor());\n    }\n\n}\n</code></pre>\n<p>After adding the code above, I created two files <code>labels.properties</code> and <code>labels_en.properties</code> in the <code>resources</code> folder.\nIn these files, I will write the <code>key=value</code> format to the text that will be shown on the pages (I use Thymeleaf).</p>\n<p>Next, we need to register these files in the application, for this, in the <code>application.properties</code> file, I added the name labels to <code>spring.messages.basename</code>, this is how it looks:</p>\n<pre><code>spring.messages.basename=errors-messages,labels\n</code></pre>\n<p>Now, when the page in the request receives ...?lang=en (the <code>lang</code> parameter with the value <code>en</code>), the labels on the page should have changed, but it doesn't.</p>\n<p>What have I done wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9264,"page":728,"page_size":100}
