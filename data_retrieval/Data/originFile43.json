{"items":[{"tags":["java","spring-boot","security","hmac"],"owner":{"account_id":25415235,"reputation":13,"user_id":19222283,"display_name":"MIX 2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700724934,"creation_date":1700724934,"question_id":77535066,"body_markdown":"I want to sign a digest and I need to store the Hmac.So should I store it in application properties or make folder like src/main/conf/key-hmac.txt or what?\r\n\r\nOr encrypt it and at runtime decrypt it. I am referring to github-code that say to Load keys from configuration text/json files in order to avoid to store keys as String in JVM memory.When I load the key it will be in memory right so it will be he same case.Or should I always read them from the file?","title":"Where to place Hmac key in springboot","body":"<p>I want to sign a digest and I need to store the Hmac.So should I store it in application properties or make folder like src/main/conf/key-hmac.txt or what?</p>\n<p>Or encrypt it and at runtime decrypt it. I am referring to github-code that say to Load keys from configuration text/json files in order to avoid to store keys as String in JVM memory.When I load the key it will be in memory right so it will be he same case.Or should I always read them from the file?</p>\n"},{"tags":["java","maven","bdd","serenity-bdd","cucumber-serenity"],"comments":[{"owner":{"account_id":7134726,"reputation":3847,"user_id":5454794,"display_name":"beatrice"},"score":0,"creation_date":1469563365,"post_id":38368889,"comment_id":64585757,"body_markdown":"Do you use clean test in maven? if so try clean verifiy.","body":"Do you use clean test in maven? if so try clean verifiy."}],"answers":[{"tags":[],"owner":{"account_id":9580995,"reputation":26,"user_id":7115521,"display_name":"Alla"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1478269655,"creation_date":1478269655,"answer_id":40425156,"question_id":38368889,"body_markdown":"I&#39;ve fixed it by updating serenity-maven-plugin to 1.1.42 version\r\n\r\n","title":"Serenity BDD report does not show stories with Examples (Embedded tables)","body":"<p>I've fixed it by updating serenity-maven-plugin to 1.1.42 version</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700809890,"post_id":77535028,"comment_id":136700930,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77535028/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4158337,"reputation":1,"user_id":3408949,"display_name":"Swapnesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700724632,"creation_date":1700724604,"answer_id":77535028,"question_id":38368889,"body_markdown":"Check the serenity.test.root in property file after I removed it my stories were shown","title":"Serenity BDD report does not show stories with Examples (Embedded tables)","body":"<p>Check the serenity.test.root in property file after I removed it my stories were shown</p>\n"}],"owner":{"account_id":7000572,"reputation":399,"user_id":5366736,"accept_rate":83,"display_name":"Traveller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2027,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40425156,"answer_count":2,"score":3,"last_activity_date":1700724632,"creation_date":1468484060,"question_id":38368889,"body_markdown":"I have a problem with all my stories showing up in the Serenity report.\r\n\r\nWhen I run them with maven (`mvn clean verify`) I can see them in the output and they run through all the examples but when I open the report that is generated in the \r\n`target\\site\\serenity` folder they do not appear there.\r\n\r\nSomehow the report plugin misses them and the problematic stories are the ones with **Examples:**.\r\n\r\nI have one class that is a `TestSuit` and runs all the stories and the `Steps` are organized in other classes:\r\n\r\n    public class BddTestSuite extends SerenityStories {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(BddTestSuite.class);\r\n\r\n    @BeforeStories\r\n    public void setUp(){\r\n        LOGGER.info(\r\n            &quot;\\n===========================================================================&quot; +\r\n            &quot;\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; STARTING THE INTEGRATION TEST-SUITE &quot; +\r\n            &quot;\\n===========================================================================&quot;);\r\n        }\r\n    }\r\n\r\nmy .story:\r\n\r\n    Narrative:\r\n    Short description\r\n\r\n    Scenario: Scenario title\r\n    Given a given with param1 &lt;param1&gt;\r\n    And a given with param2 &lt;param2&gt;\r\n    When a when with param3 &lt;param3&gt;\r\n    Then a then with param1 &lt;param1&gt;,  param2 &lt;param2&gt; and  param3 &lt;param3&gt;\r\n    Examples:\r\n    |param1|param2|param3|\r\n    |val11|val12|val13|\r\n    |val21|val22|val23|\r\n\r\n\r\nmy pom.xml:\r\n\r\n            &lt;build&gt;\r\n                    .\r\n                    .\r\n                    .\r\n                &lt;plugins&gt;\r\n                    .\r\n                    .\r\n                    .\r\n                    &lt;!--Running integration tests--&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${failsafe.plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/integration/**/*.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;!--Building Serenity report for BDD stories (integration tests)--&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n                                &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;","title":"Serenity BDD report does not show stories with Examples (Embedded tables)","body":"<p>I have a problem with all my stories showing up in the Serenity report.</p>\n\n<p>When I run them with maven (<code>mvn clean verify</code>) I can see them in the output and they run through all the examples but when I open the report that is generated in the \n<code>target\\site\\serenity</code> folder they do not appear there.</p>\n\n<p>Somehow the report plugin misses them and the problematic stories are the ones with <strong>Examples:</strong>.</p>\n\n<p>I have one class that is a <code>TestSuit</code> and runs all the stories and the <code>Steps</code> are organized in other classes:</p>\n\n<pre><code>public class BddTestSuite extends SerenityStories {\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(BddTestSuite.class);\n\n@BeforeStories\npublic void setUp(){\n    LOGGER.info(\n        \"\\n===========================================================================\" +\n        \"\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; STARTING THE INTEGRATION TEST-SUITE \" +\n        \"\\n===========================================================================\");\n    }\n}\n</code></pre>\n\n<p>my .story:</p>\n\n<pre><code>Narrative:\nShort description\n\nScenario: Scenario title\nGiven a given with param1 &lt;param1&gt;\nAnd a given with param2 &lt;param2&gt;\nWhen a when with param3 &lt;param3&gt;\nThen a then with param1 &lt;param1&gt;,  param2 &lt;param2&gt; and  param3 &lt;param3&gt;\nExamples:\n|param1|param2|param3|\n|val11|val12|val13|\n|val21|val22|val23|\n</code></pre>\n\n<p>my pom.xml:</p>\n\n<pre><code>        &lt;build&gt;\n                .\n                .\n                .\n            &lt;plugins&gt;\n                .\n                .\n                .\n                &lt;!--Running integration tests--&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${failsafe.plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/integration/**/*.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\n                                &lt;goal&gt;verify&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;!--Building Serenity report for BDD stories (integration tests)--&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${serenity.version}&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n                            &lt;version&gt;${serenity.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;serenity-reports&lt;/id&gt;\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;aggregate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","android-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684608965,"post_id":76295409,"comment_id":134543268,"body_markdown":"You have asked this before. Why are you acting as nothing happened? You got an answer.","body":"You have asked this before. Why are you acting as nothing happened? You got an answer."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1700724510,"post_id":76295409,"comment_id":136689988,"body_markdown":"stack overflow isn&#39;t your platform to decide what goes on. someone asks how much or whatever they want as long as it follows the guidelines. @blackapps","body":"stack overflow isn&#39;t your platform to decide what goes on. someone asks how much or whatever they want as long as it follows the guidelines. @blackapps"}],"answers":[{"comments":[{"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"score":0,"creation_date":1684762068,"post_id":76296876,"comment_id":134559822,"body_markdown":"So I don&#39;t need runtime permission at all for any sdk from 21 and above? How come all the pdf file reading apps that I ever download ask for access to storage permission? If you know the answer then where is your solution?","body":"So I don&#39;t need runtime permission at all for any sdk from 21 and above? How come all the pdf file reading apps that I ever download ask for access to storage permission? If you know the answer then where is your solution?"}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684608782,"creation_date":1684608782,"answer_id":76296876,"question_id":76295409,"body_markdown":"You do not need any permission.\r\n\r\nAnd why you are talking about a server is a puzzle.\r\n\r\n(This answer is given looking at the subject of your post only).","title":"What permissions are required to be able to choose and select PDF files from a phone&#39;s storage without connection to a server in android studio?","body":"<p>You do not need any permission.</p>\n<p>And why you are talking about a server is a puzzle.</p>\n<p>(This answer is given looking at the subject of your post only).</p>\n"},{"tags":[],"owner":{"account_id":29785226,"reputation":11,"user_id":22826722,"display_name":"Dvarkesh Talaviya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700723637,"creation_date":1700723023,"answer_id":77534889,"question_id":76295409,"body_markdown":"For Android 11 (R) and above, add the permission to the app’s manifest file.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\nFor Android Versions Below 11, add:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nCheck For Permissions At Runtime\r\n\r\n    public void checkStoragePermissions(){\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n            //Android is 11 (R) or above\r\n            try {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n                intent.setData(uri);\r\n                storageActivityResultLauncher.launch(intent);\r\n            } catch (Exception e) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                storageActivityResultLauncher.launch(intent);\r\n            }\r\n        }else {\r\n            //Below android 11\r\n            Dexter.withContext(MainActivity.this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override\r\n                    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                        displayPdf();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                        Toast.makeText(MainActivity.this, &quot;Permission is Required&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                        permissionToken.continuePermissionRequest();\r\n                    }\r\n                }).check();\r\n        }\r\n    }\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; storageActivityResultLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n\r\n                        @Override\r\n                        public void onActivityResult(ActivityResult o) {\r\n                            if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                                //Android is 11 (R) or above\r\n                                if(Environment.isExternalStorageManager()) {\r\n                                    //Manage External Storage Permissions Granted\r\n                                    displayPdf();\r\n                                } else {\r\n                                    Toast.makeText(MainActivity.this, &quot;Storage Permissions Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n   \r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"What permissions are required to be able to choose and select PDF files from a phone&#39;s storage without connection to a server in android studio?","body":"<p>For Android 11 (R) and above, add the permission to the app’s manifest file.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>For Android Versions Below 11, add:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>Check For Permissions At Runtime</p>\n<pre><code>public void checkStoragePermissions(){\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n        //Android is 11 (R) or above\n        try {\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n            intent.setData(uri);\n            storageActivityResultLauncher.launch(intent);\n        } catch (Exception e) {\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            storageActivityResultLauncher.launch(intent);\n        }\n    }else {\n        //Below android 11\n        Dexter.withContext(MainActivity.this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n            .withListener(new PermissionListener() {\n                @Override\n                public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                    displayPdf();\n                }\n\n                @Override\n                public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                    Toast.makeText(MainActivity.this, &quot;Permission is Required&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                    permissionToken.continuePermissionRequest();\n                }\n            }).check();\n    }\n}\n\nprivate ActivityResultLauncher&lt;Intent&gt; storageActivityResultLauncher =\n        registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n\n                    @Override\n                    public void onActivityResult(ActivityResult o) {\n                        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n                            //Android is 11 (R) or above\n                            if(Environment.isExternalStorageManager()) {\n                                //Manage External Storage Permissions Granted\n                                displayPdf();\n                            } else {\n                                Toast.makeText(MainActivity.this, &quot;Storage Permissions Denied&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700723637,"creation_date":1684588404,"question_id":76295409,"body_markdown":"I am trying to create an application that will allow users to get an overview of all the PDF files (PDF files only) in their phone&#39;s storage on my app and they should be able to select any of the PDF files of their choice to be able to read only. The user should be able to do this without an internet connection, so my app will not be a client app. My app has to work for sdk 21 and all above sdks. This is my current code so far in my MainActivty.java class:\r\n\r\n    \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private PdfAdapter pdfAdapter;\r\n        private List&lt;File&gt; pdfList;\r\n        private RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            runtimePermission();\r\n        }\r\n    \r\n        private void runtimePermission() {\r\n            Dexter.withContext(MainActivity.this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                    .withListener(new PermissionListener() {\r\n                        @Override\r\n                        public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                            displayPdf();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                            Toast.makeText(MainActivity.this, &quot;Permission is Required&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                            permissionToken.continuePermissionRequest();\r\n                        }\r\n                    }).check();\r\n    \r\n        }\r\n    \r\n        public ArrayList&lt;File&gt; findPdf (File file)\r\n        {\r\n            ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n            File[] files = file.listFiles();\r\n    \r\n            for (File singleFile: files)\r\n            {\r\n                if (singleFile.isDirectory() &amp;&amp; singleFile.isHidden()) {\r\n                    arrayList.addAll(findPdf(singleFile));\r\n                }\r\n                else {\r\n                    if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\r\n                        arrayList.add(singleFile);\r\n                    }\r\n                }\r\n            }\r\n            return arrayList;\r\n        }\r\n        private void displayPdf() {\r\n            recyclerView = findViewById(R.id.recycler_view);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new GridLayoutManager(this, 3));\r\n            pdfList = new ArrayList&lt;&gt;();\r\n            pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\r\n            pdfAdapter = new PdfAdapter(this, pdfList);\r\n            recyclerView.setAdapter(pdfAdapter);\r\n        }\r\n    }\r\n\r\nThe only uses permission I have in my manifest file is READ_EXTERNAL_STORAGE permission, I am using &#39;com.karumi:dexter:6.2.3&#39; as my implementation for runtime permission as it simplifies the process. My minSDK is 32, targetSDK 32 and compileSDK is 33. I also have a PDFAdapter and PDFViewHolder as the other two java classes in my android studio project. What changes should I make in order to achieve my goal?\r\n\r\n\r\n\r\n","title":"What permissions are required to be able to choose and select PDF files from a phone&#39;s storage without connection to a server in android studio?","body":"<p>I am trying to create an application that will allow users to get an overview of all the PDF files (PDF files only) in their phone's storage on my app and they should be able to select any of the PDF files of their choice to be able to read only. The user should be able to do this without an internet connection, so my app will not be a client app. My app has to work for sdk 21 and all above sdks. This is my current code so far in my MainActivty.java class:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private PdfAdapter pdfAdapter;\n    private List&lt;File&gt; pdfList;\n    private RecyclerView recyclerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        runtimePermission();\n    }\n\n    private void runtimePermission() {\n        Dexter.withContext(MainActivity.this).withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                .withListener(new PermissionListener() {\n                    @Override\n                    public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                        displayPdf();\n                    }\n\n                    @Override\n                    public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                        Toast.makeText(MainActivity.this, &quot;Permission is Required&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                    @Override\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                        permissionToken.continuePermissionRequest();\n                    }\n                }).check();\n\n    }\n\n    public ArrayList&lt;File&gt; findPdf (File file)\n    {\n        ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n        File[] files = file.listFiles();\n\n        for (File singleFile: files)\n        {\n            if (singleFile.isDirectory() &amp;&amp; singleFile.isHidden()) {\n                arrayList.addAll(findPdf(singleFile));\n            }\n            else {\n                if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\n                    arrayList.add(singleFile);\n                }\n            }\n        }\n        return arrayList;\n    }\n    private void displayPdf() {\n        recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new GridLayoutManager(this, 3));\n        pdfList = new ArrayList&lt;&gt;();\n        pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\n        pdfAdapter = new PdfAdapter(this, pdfList);\n        recyclerView.setAdapter(pdfAdapter);\n    }\n}\n</code></pre>\n<p>The only uses permission I have in my manifest file is READ_EXTERNAL_STORAGE permission, I am using 'com.karumi:dexter:6.2.3' as my implementation for runtime permission as it simplifies the process. My minSDK is 32, targetSDK 32 and compileSDK is 33. I also have a PDFAdapter and PDFViewHolder as the other two java classes in my android studio project. What changes should I make in order to achieve my goal?</p>\n"},{"tags":["java","database","jpa","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1556254621,"post_id":55860946,"comment_id":98382511,"body_markdown":"looks like you do not ned the `CONSTRAINT` lines in your `CREATE TABLE` as you are adding the constraints afterwards in the `ALTER TABLE`","body":"looks like you do not ned the <code>CONSTRAINT</code> lines in your <code>CREATE TABLE</code> as you are adding the constraints afterwards in the <code>ALTER TABLE</code>"},{"owner":{"account_id":3177281,"reputation":413,"user_id":2684818,"accept_rate":40,"display_name":"Adeel"},"score":0,"creation_date":1556255005,"post_id":55860946,"comment_id":98382594,"body_markdown":"Create Trains table first then Teams and at the end Users table.","body":"Create Trains table first then Teams and at the end Users table."},{"owner":{"account_id":13986947,"reputation":1622,"user_id":10101824,"display_name":"Shravani"},"score":0,"creation_date":1556290657,"post_id":55860946,"comment_id":98400385,"body_markdown":"@ScaryWombat I removied Constraint as you suggested, but when I am trying to insert values to all the 3 tables I am getting something like                **Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: &quot;FK_TEAMS_TRAINS: PUBLIC.TEAMS FOREIGN KEY(TRAIN_ID) REFERENCES PUBLIC.TRAINS(TRAIN_ID) (3)&quot;; SQL statement:**","body":"@ScaryWombat I removied Constraint as you suggested, but when I am trying to insert values to all the 3 tables I am getting something like                <b>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: &quot;FK_TEAMS_TRAINS: PUBLIC.TEAMS FOREIGN KEY(TRAIN_ID) REFERENCES PUBLIC.TRAINS(TRAIN_ID) (3)&quot;; SQL statement:</b>"},{"owner":{"account_id":13986947,"reputation":1622,"user_id":10101824,"display_name":"Shravani"},"score":0,"creation_date":1556290772,"post_id":55860946,"comment_id":98400449,"body_markdown":"@Adeel I already tried changing the order for table creation but still no luck","body":"@Adeel I already tried changing the order for table creation but still no luck"}],"answers":[{"tags":[],"owner":{"account_id":10230110,"reputation":1312,"user_id":7551190,"display_name":"Kathir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700723165,"creation_date":1700722206,"answer_id":77534817,"question_id":55860946,"body_markdown":"As pointed out by @Scary Wombat in the comments, you may remove `CONSTRAINTS` from `CREATE` statements and add them at the end using `ALTER` statements (as you already have)\r\n\r\nHere&#39;s the updated SQL:\r\n\r\n    DROP TABLE IF EXISTS TEAMS;\r\n    CREATE TABLE IF NOT EXISTS TEAMS (\r\n      `team_id` int (11) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar (100) NOT NULL DEFAULT &#39;0&#39;,\r\n      `train_id` int (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      PRIMARY KEY (`team_id`)\r\n    );\r\n\r\n    DROP TABLE IF EXISTS USERS;\r\n    CREATE TABLE IF NOT EXISTS USERS (\r\n      `user_id` int (11) NOT NULL AUTO_INCREMENT,\r\n      `team_id` int (11) DEFAULT NULL,\r\n      `reports_to` int (11) DEFAULT NULL,\r\n      PRIMARY KEY (`user_id`)\r\n    );\r\n\r\n\r\n    DROP TABLE IF EXISTS TRAINS;\r\n    CREATE TABLE IF NOT EXISTS TRAINS (\r\n      train_id INT (11) NOT NULL AUTO_INCREMENT,\r\n      train_name varchar (100) NOT NULL DEFAULT &#39;0&#39;,\r\n      team_coach INT (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      train_vp INT (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      PRIMARY KEY (`train_id`)\r\n    );\r\n\r\n    ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users` FOREIGN KEY (`team_coach`) REFERENCES USERS (`user_id`);\r\n    ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users_2` FOREIGN KEY (`train_vp`) REFERENCES USERS (`user_id`);\r\n    ALTER TABLE TEAMS ADD CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`);\r\n    ALTER TABLE USERS ADD CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`);\r\n    ALTER TABLE USERS ADD CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`);","title":"Interdependent tables","body":"<p>As pointed out by @Scary Wombat in the comments, you may remove <code>CONSTRAINTS</code> from <code>CREATE</code> statements and add them at the end using <code>ALTER</code> statements (as you already have)</p>\n<p>Here's the updated SQL:</p>\n<pre><code>DROP TABLE IF EXISTS TEAMS;\nCREATE TABLE IF NOT EXISTS TEAMS (\n  `team_id` int (11) NOT NULL AUTO_INCREMENT,\n  `name` varchar (100) NOT NULL DEFAULT '0',\n  `train_id` int (11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`team_id`)\n);\n\nDROP TABLE IF EXISTS USERS;\nCREATE TABLE IF NOT EXISTS USERS (\n  `user_id` int (11) NOT NULL AUTO_INCREMENT,\n  `team_id` int (11) DEFAULT NULL,\n  `reports_to` int (11) DEFAULT NULL,\n  PRIMARY KEY (`user_id`)\n);\n\n\nDROP TABLE IF EXISTS TRAINS;\nCREATE TABLE IF NOT EXISTS TRAINS (\n  train_id INT (11) NOT NULL AUTO_INCREMENT,\n  train_name varchar (100) NOT NULL DEFAULT '0',\n  team_coach INT (11) NOT NULL DEFAULT '0',\n  train_vp INT (11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`train_id`)\n);\n\nALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users` FOREIGN KEY (`team_coach`) REFERENCES USERS (`user_id`);\nALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users_2` FOREIGN KEY (`train_vp`) REFERENCES USERS (`user_id`);\nALTER TABLE TEAMS ADD CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`);\nALTER TABLE USERS ADD CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`);\nALTER TABLE USERS ADD CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`);\n</code></pre>\n"}],"owner":{"account_id":13986947,"reputation":1622,"user_id":10101824,"display_name":"Shravani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700723165,"creation_date":1556253936,"question_id":55860946,"body_markdown":"I am working on a project with Java, Spring Boot, JPA and H2 database.\r\nHowever, I am confused with how the database tables have been designed.\r\nThere are 3 tables A,B and C.\r\n\r\nTable A has Table B&#39;s primary key as foreign key.\r\n\r\nTable B has Table C&#39;s primary key as foreign key.\r\n\r\nTable C has Table A&#39;s primary key as foreign key.\r\nSince each table is dependent on other tables, when I am creating the schema of all the three I am getting an error indicating Table B is not found\r\n\r\nI have even tried using ALTER commands but still facing the same issue.\r\n\r\nHere is my code\r\n\r\n    DROP TABLE IF EXISTS TEAMS;\r\n    CREATE TABLE IF NOT EXISTS TEAMS (\r\n      `team_id` int (11) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar (100) NOT NULL DEFAULT &#39;0&#39;,\r\n      `train_id` int (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      PRIMARY KEY (`team_id`),\r\n      CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`)\r\n    );\r\n    \r\n    DROP TABLE IF EXISTS USERS;\r\n    CREATE TABLE IF NOT EXISTS USERS (\r\n      `user_id` int (11) NOT NULL AUTO_INCREMENT,\r\n      `team_id` int (11) DEFAULT NULL,\r\n      `reports_to` int (11) DEFAULT NULL,\r\n      PRIMARY KEY (`user_id`),\r\n      CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`),\r\n      CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`)\r\n    );\r\n    \r\n    \r\n    DROP TABLE IF EXISTS TRAINS;\r\n    CREATE TABLE IF NOT EXISTS TRAINS` (\r\n      train_id INT (11) NOT NULL AUTO_INCREMENT,\r\n      train_name varchar (100) NOT NULL DEFAULT &#39;0&#39;,\r\n      team_coach INT (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      train_vp INT (11) NOT NULL DEFAULT &#39;0&#39;,\r\n      PRIMARY KEY (`train_id`)\r\n    );\r\n    \r\n     ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users` FOREIGN KEY (`team_coach`) REFERENCES USERS (`user_id`);\r\n     ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users_2` FOREIGN KEY (`train_vp`) REFERENCES USERS (`user_id`);\r\n     ALTER TABLE TEAMS ADD CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`);\r\n     ALTER TABLE USERS ADD CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`);\r\n     ALTER TABLE USERS ADD CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`);\r\n\r\nHow can I solve this issue?","title":"Interdependent tables","body":"<p>I am working on a project with Java, Spring Boot, JPA and H2 database.\nHowever, I am confused with how the database tables have been designed.\nThere are 3 tables A,B and C.</p>\n\n<p>Table A has Table B's primary key as foreign key.</p>\n\n<p>Table B has Table C's primary key as foreign key.</p>\n\n<p>Table C has Table A's primary key as foreign key.\nSince each table is dependent on other tables, when I am creating the schema of all the three I am getting an error indicating Table B is not found</p>\n\n<p>I have even tried using ALTER commands but still facing the same issue.</p>\n\n<p>Here is my code</p>\n\n<pre><code>DROP TABLE IF EXISTS TEAMS;\nCREATE TABLE IF NOT EXISTS TEAMS (\n  `team_id` int (11) NOT NULL AUTO_INCREMENT,\n  `name` varchar (100) NOT NULL DEFAULT '0',\n  `train_id` int (11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`team_id`),\n  CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`)\n);\n\nDROP TABLE IF EXISTS USERS;\nCREATE TABLE IF NOT EXISTS USERS (\n  `user_id` int (11) NOT NULL AUTO_INCREMENT,\n  `team_id` int (11) DEFAULT NULL,\n  `reports_to` int (11) DEFAULT NULL,\n  PRIMARY KEY (`user_id`),\n  CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`),\n  CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`)\n);\n\n\nDROP TABLE IF EXISTS TRAINS;\nCREATE TABLE IF NOT EXISTS TRAINS` (\n  train_id INT (11) NOT NULL AUTO_INCREMENT,\n  train_name varchar (100) NOT NULL DEFAULT '0',\n  team_coach INT (11) NOT NULL DEFAULT '0',\n  train_vp INT (11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`train_id`)\n);\n\n ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users` FOREIGN KEY (`team_coach`) REFERENCES USERS (`user_id`);\n ALTER TABLE TRAINS ADD CONSTRAINT `FK_trains_users_2` FOREIGN KEY (`train_vp`) REFERENCES USERS (`user_id`);\n ALTER TABLE TEAMS ADD CONSTRAINT `FK_teams_trains` FOREIGN KEY (`train_id`) REFERENCES TRAINS (`train_id`);\n ALTER TABLE USERS ADD CONSTRAINT `FK_users_teams` FOREIGN KEY (`team_id`) REFERENCES TEAMS (`team_id`);\n ALTER TABLE USERS ADD CONSTRAINT `FK_users_users` FOREIGN KEY (`reports_to`) REFERENCES USERS (`user_id`);\n</code></pre>\n\n<p>How can I solve this issue?</p>\n"},{"tags":["java","date-formatting","datetimeformatter"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1700373271,"post_id":77509638,"comment_id":136645406,"body_markdown":"AM/PM are locale-sensitive, so make sure you set the locale to one that actually uses &quot;AM&quot; and &quot;PM&quot;. That said, this might be an [XY Problem](http://xyproblem.info/). It is rare that you need to parse a format like this that is meant to be human-readable.","body":"AM/PM are locale-sensitive, so make sure you set the locale to one that actually uses &quot;AM&quot; and &quot;PM&quot;. That said, this might be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It is rare that you need to parse a format like this that is meant to be human-readable."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1700373404,"post_id":77509638,"comment_id":136645412,"body_markdown":"What other values can the &quot;GMT&quot; part be? Is this an offset name, time zone abbreviation, or time zone name? Is any of the parts in the string localised depending on locale? Or are they always in the same locale?","body":"What other values can the &quot;GMT&quot; part be? Is this an offset name, time zone abbreviation, or time zone name? Is any of the parts in the string localised depending on locale? Or are they always in the same locale?"},{"owner":{"account_id":15768,"reputation":3961,"user_id":33682,"accept_rate":74,"display_name":"James Crowley"},"score":0,"creation_date":1700387349,"post_id":77509638,"comment_id":136646207,"body_markdown":"@Sweeper locale is en_GB - that string will actually always be GMT, and in fact always midnight as far as I can tell! Which actually just gave me an idea - I may be able to get away with using a literal, thanks!\n\nEEE MMM dd &#39;12:00:00 PM GMT&#39; yyyy","body":"@Sweeper locale is en_GB - that string will actually always be GMT, and in fact always midnight as far as I can tell! Which actually just gave me an idea - I may be able to get away with using a literal, thanks!  EEE MMM dd &#39;12:00:00 PM GMT&#39; yyyy"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700406441,"post_id":77509638,"comment_id":136647847,"body_markdown":"There is no error when using _LocalDate.parse(s, f)_.  What is the code, that is being used? _DateTimeFormatterBuilder_?","body":"There is no error when using <i>LocalDate.parse(s, f)</i>.  What is the code, that is being used? <i>DateTimeFormatterBuilder</i>?"},{"owner":{"account_id":15768,"reputation":3961,"user_id":33682,"accept_rate":74,"display_name":"James Crowley"},"score":0,"creation_date":1700432622,"post_id":77509638,"comment_id":136650633,"body_markdown":"@Relias\n\nLocalDate.parse(dateString, DateTimeFormatter.ofPattern(formatPattern))","body":"@Relias  LocalDate.parse(dateString, DateTimeFormatter.ofPattern(formatPattern))"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700434809,"post_id":77509638,"comment_id":136650837,"body_markdown":"@JamesCrowley, I get &quot;2020-06-03&quot;.  I&#39;m using _Java 20, build 20+36-2344_.","body":"@JamesCrowley, I get &quot;2020-06-03&quot;.  I&#39;m using <i>Java 20, build 20+36-2344</i>."},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1700597951,"post_id":77509638,"comment_id":136673780,"body_markdown":"Your date-time string also has alphabets which are `Locale`-dependent. Check [Always specify a Locale with a SimpleDateFormat, and a DateTimeFormatter for custom formats](https://stackoverflow.com/a/65544056/10819573) to learn more about it. If you are allowed to use a `Locale`, try `LocalDate.parse(&quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;, DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss a z uuuu&quot;, Locale.ENGLISH))`.","body":"Your date-time string also has alphabets which are <code>Locale</code>-dependent. Check <a href=\"https://stackoverflow.com/a/65544056/10819573\">Always specify a Locale with a SimpleDateFormat, and a DateTimeFormatter for custom formats</a> to learn more about it. If you are allowed to use a <code>Locale</code>, try <code>LocalDate.parse(&quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;, DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss a z uuuu&quot;, Locale.ENGLISH))</code>."}],"answers":[{"comments":[{"owner":{"account_id":15768,"reputation":3961,"user_id":33682,"accept_rate":74,"display_name":"James Crowley"},"score":0,"creation_date":1700387235,"post_id":77509803,"comment_id":136646202,"body_markdown":"Thanks @Basil - unfortunately as noted in the question - I am unable to modify the source code of the application, or the web app serving the crazy date, hence being stuck with their implementation and just trying to figure out a format string that works. It seems to be a potential bug though, given it works if I remove the PM/AM element from the equation.","body":"Thanks @Basil - unfortunately as noted in the question - I am unable to modify the source code of the application, or the web app serving the crazy date, hence being stuck with their implementation and just trying to figure out a format string that works. It seems to be a potential bug though, given it works if I remove the PM/AM element from the equation."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1700721008,"post_id":77509803,"comment_id":136689619,"body_markdown":"@JamesCrowley As Basil explained, a `LocalDate` doesn&#39;t have a time zone.  In fact, it doesn&#39;t have a time at all.  So no matter what format string you use, you&#39;re not going to be able to parse the time or the time zone correctly with this code.  You need to use `ZonedDateTime` instead of `LocalDate`.  You will HAVE to modify the source code, whether your employer likes it or not.","body":"@JamesCrowley As Basil explained, a <code>LocalDate</code> doesn&#39;t have a time zone.  In fact, it doesn&#39;t have a time at all.  So no matter what format string you use, you&#39;re not going to be able to parse the time or the time zone correctly with this code.  You need to use <code>ZonedDateTime</code> instead of <code>LocalDate</code>.  You will HAVE to modify the source code, whether your employer likes it or not."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700723191,"post_id":77509803,"comment_id":136689834,"body_markdown":"@DawoodibnKareem Your Comment prompted me to rethink the problem. I had assumed that parsing as `ZonedDateTime` was required. But it is *not* required. That input string with date, time, and pseudo-zone components *can* be parsed as a `LocalDate`. See new section of my Answer. Using the same formatting pattern works with both `ZonedDateTime.parse` and `LocalDate.parse`.","body":"@DawoodibnKareem Your Comment prompted me to rethink the problem. I had assumed that parsing as <code>ZonedDateTime</code> was required. But it is <i>not</i> required. That input string with date, time, and pseudo-zone components <i>can</i> be parsed as a <code>LocalDate</code>. See new section of my Answer. Using the same formatting pattern works with both <code>ZonedDateTime.parse</code> and <code>LocalDate.parse</code>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700723022,"creation_date":1700374068,"answer_id":77509803,"question_id":77509638,"body_markdown":"## tl;dr\r\n\r\n    ZonedDateTime.parse( \r\n        &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; , \r\n        DateTimeFormatter\r\n            .ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; )\r\n            .withLocale( Locale.US )\r\n    )\r\n    .toInstant()\r\n    .toString()\r\n\r\n&gt;2020-06-03T12:00Z\r\n\r\n\r\n## `ZonedDateTime`, not `LocalDate`\r\n\r\n[`LocalDate`][1] is the wrong class for your input. A `LocalDate` has only a date, no time-of-day, and no time zone. \r\n\r\nYou should be using [`ZonedDateTime`][2] class. \r\n\r\n## Specify locale for localization rules\r\n\r\nDefine a custom format matching your output using the `DateTimeFormatter` class.\r\n\r\nSpecify a `Locale`. Your input is localized in multiple ways: Name of day of week, name of month, and AM/PM. Choose a `Locale` that represents the localization choices seen in your inputs. I believe `Locale.US` might work.\r\n\r\n```java\r\nString input = &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; ;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; ).withLocale( Locale.US ) ;\r\nZonedDateTime zdt = ZonedDateTime.parse( input , f ) ;\r\n```\r\n\r\n&gt;zdt.toString() = 2020-06-03T12:00Z[GMT]\r\n\r\n# `LocalDate`\r\n\r\nIf you *really* want only the date portion, and wish to discard the time-of-day and offset/zone, then parse as a `LocalDate` while using the same correct formatting pattern. \r\n\r\n```java\r\nLocalDate ld = \r\n\tLocalDate.parse( \r\n\t    &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; , \r\n\t    DateTimeFormatter\r\n\t        .ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; )\r\n\t        .withLocale( Locale.US )\r\n\t);\r\n```\r\n\r\nSee this [code run at Ideone.com][3]. Be aware that the date extracted is the date as seen in the parsed time zone. \r\n\r\n&gt;ld.toString() = 2020-06-03\r\n\r\n## ISO 8601\r\n\r\nThe ideal solution is educate the publisher of your data about the [ISO 8601][4] standard for communicating date-time values unambiguously as text.\r\n\r\nYour example input should have been sent as: 2020-06-03T12:00Z\r\n\r\nThe `Z` on the end is an abbreviation of `+00:00`, pronounced “Zulu”, and means an offset of zero hours-minutes-seconds ahead of the temporal meridian of UTC.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/ZonedDateTime.html\r\n  [3]: https://ideone.com/3turpl\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601","title":"Java DateTimeFormatter expression to parse &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;","body":"<h2>tl;dr</h2>\n<pre><code>ZonedDateTime.parse( \n    &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; , \n    DateTimeFormatter\n        .ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; )\n        .withLocale( Locale.US )\n)\n.toInstant()\n.toString()\n</code></pre>\n<blockquote>\n<p>2020-06-03T12:00Z</p>\n</blockquote>\n<h2><code>ZonedDateTime</code>, not <code>LocalDate</code></h2>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> is the wrong class for your input. A <code>LocalDate</code> has only a date, no time-of-day, and no time zone.</p>\n<p>You should be using <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> class.</p>\n<h2>Specify locale for localization rules</h2>\n<p>Define a custom format matching your output using the <code>DateTimeFormatter</code> class.</p>\n<p>Specify a <code>Locale</code>. Your input is localized in multiple ways: Name of day of week, name of month, and AM/PM. Choose a <code>Locale</code> that represents the localization choices seen in your inputs. I believe <code>Locale.US</code> might work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; ).withLocale( Locale.US ) ;\nZonedDateTime zdt = ZonedDateTime.parse( input , f ) ;\n</code></pre>\n<blockquote>\n<p>zdt.toString() = 2020-06-03T12:00Z[GMT]</p>\n</blockquote>\n<h1><code>LocalDate</code></h1>\n<p>If you <em>really</em> want only the date portion, and wish to discard the time-of-day and offset/zone, then parse as a <code>LocalDate</code> while using the same correct formatting pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate ld = \n    LocalDate.parse( \n        &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot; , \n        DateTimeFormatter\n            .ofPattern( &quot;EEE MMM dd HH:mm:ss a z uuuu&quot; )\n            .withLocale( Locale.US )\n    );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/3turpl\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>. Be aware that the date extracted is the date as seen in the parsed time zone.</p>\n<blockquote>\n<p>ld.toString() = 2020-06-03</p>\n</blockquote>\n<h2>ISO 8601</h2>\n<p>The ideal solution is educate the publisher of your data about the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard for communicating date-time values unambiguously as text.</p>\n<p>Your example input should have been sent as: 2020-06-03T12:00Z</p>\n<p>The <code>Z</code> on the end is an abbreviation of <code>+00:00</code>, pronounced “Zulu”, and means an offset of zero hours-minutes-seconds ahead of the temporal meridian of UTC.</p>\n"}],"owner":{"account_id":15768,"reputation":3961,"user_id":33682,"accept_rate":74,"display_name":"James Crowley"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700723022,"creation_date":1700369549,"question_id":77509638,"body_markdown":"I am using an application written in Java, that uses LocalDate.parse with a DateTimeFormatter:\r\n\r\n    LocalDate.parse(&quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;, DateTimeFormatter.ofPattern(&quot;EEE MMM dd hh:mm:ss a zzz yyyy&quot;));\r\n\r\nI can only provide the format string (I cannot modify the source code). I need it to successfully parse a somewhat crazy date format that looks like this:\r\n\r\n    Wed Jun 03 12:00:00 PM GMT 2020\r\n\r\nThe closest format I&#39;ve gotten to is:\r\n\r\n    EEE MMM dd hh:mm:ss a zzz yyyy\r\n\r\nbut this bombs out with\r\n\r\n    Exception java.time.format.DateTimeParseException: Text &#39;Wed Jun 03 12:00:00 PM GMT 2020&#39; could not be parsed at index 20\r\n\r\nIf I remove the AM/PM in the date and format, all works fine. Any tweaks that will make this parse successfully?","title":"Java DateTimeFormatter expression to parse &quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;","body":"<p>I am using an application written in Java, that uses LocalDate.parse with a DateTimeFormatter:</p>\n<pre><code>LocalDate.parse(&quot;Wed Jun 03 12:00:00 PM GMT 2020&quot;, DateTimeFormatter.ofPattern(&quot;EEE MMM dd hh:mm:ss a zzz yyyy&quot;));\n</code></pre>\n<p>I can only provide the format string (I cannot modify the source code). I need it to successfully parse a somewhat crazy date format that looks like this:</p>\n<pre><code>Wed Jun 03 12:00:00 PM GMT 2020\n</code></pre>\n<p>The closest format I've gotten to is:</p>\n<pre><code>EEE MMM dd hh:mm:ss a zzz yyyy\n</code></pre>\n<p>but this bombs out with</p>\n<pre><code>Exception java.time.format.DateTimeParseException: Text 'Wed Jun 03 12:00:00 PM GMT 2020' could not be parsed at index 20\n</code></pre>\n<p>If I remove the AM/PM in the date and format, all works fine. Any tweaks that will make this parse successfully?</p>\n"},{"tags":["java","spring","spring-mvc","http-post","http-status-code-405"],"answers":[{"comments":[{"owner":{"account_id":10763603,"reputation":1,"user_id":10791543,"display_name":"user682312"},"score":0,"creation_date":1639316372,"post_id":70318853,"comment_id":124312642,"body_markdown":"I did this change. But I am getting an exception that GET request is not supported. I also put POST ans GET together. Still getting error.","body":"I did this change. But I am getting an exception that GET request is not supported. I also put POST ans GET together. Still getting error."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639348903,"post_id":70318853,"comment_id":124319935,"body_markdown":"That makes no sense. Your initial error was `Request method &#39;POST&#39; not supported` and I suggested you to change the code as above and now you are getting the same but for `GET`? DId you change the code in the right place? Are you calling the endpoint in any other place?","body":"That makes no sense. Your initial error was <code>Request method &#39;POST&#39; not supported</code> and I suggested you to change the code as above and now you are getting the same but for <code>GET</code>? DId you change the code in the right place? Are you calling the endpoint in any other place?"},{"owner":{"account_id":10763603,"reputation":1,"user_id":10791543,"display_name":"user682312"},"score":0,"creation_date":1639377728,"post_id":70318853,"comment_id":124324083,"body_markdown":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; not supported]...... I am getting this exception and yes i did the same changes as you mentioned....","body":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedExcept&zwnj;&#8203;ion: Request method &#39;GET&#39; not supported]...... I am getting this exception and yes i did the same changes as you mentioned...."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639395948,"post_id":70318853,"comment_id":124329668,"body_markdown":"But then where are you calling the endpoint `/updatePerson/{id}` with a `GET`? You must call it as a `POST` request...","body":"But then where are you calling the endpoint <code>&#47;updatePerson&#47;{id}</code> with a <code>GET</code>? You must call it as a <code>POST</code> request..."},{"owner":{"account_id":10763603,"reputation":1,"user_id":10791543,"display_name":"user682312"},"score":0,"creation_date":1639400513,"post_id":70318853,"comment_id":124331243,"body_markdown":"Yes i did it in the controller. Changed the method type to post. But then I got the above exception.","body":"Yes i did it in the controller. Changed the method type to post. But then I got the above exception."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1639410175,"post_id":70318853,"comment_id":124335334,"body_markdown":"That is not my question. Where in your JSPs you are calling the endpoint `/updatePerson/{id}` with a `GET`? You must use `POST` instead.","body":"That is not my question. Where in your JSPs you are calling the endpoint <code>&#47;updatePerson&#47;{id}</code> with a <code>GET</code>? You must use <code>POST</code> instead."}],"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639255102,"creation_date":1639255102,"answer_id":70318853,"question_id":70318478,"body_markdown":"Your endpoint is only accepting `GET` requests. You need to change it to `POST` as follows:\r\n```java\r\n@RequestMapping(value = &quot;/updatePerson/{id}&quot;, method = RequestMethod.POST, \r\n                headers = &quot;Accept=application/json&quot;)\r\npublic String updatePerson(@PathVariable(&quot;id&quot;) int id,Model model) {\r\n    model.addAttribute(&quot;person&quot;, this.service.getPerson(id));\r\n    model.addAttribute(&quot;listOfPersons&quot;, this.service.getAllPersons());\r\n    return &quot;PersonDetails&quot;;\r\n}\r\n```\r\n\r\nNevertheless, you should consider using `PUT` for update requests so that you follow the standards. You can read more at https://www.restapitutorial.com/lessons/httpmethods.html.","title":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported] Spring MVC","body":"<p>Your endpoint is only accepting <code>GET</code> requests. You need to change it to <code>POST</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/updatePerson/{id}&quot;, method = RequestMethod.POST, \n                headers = &quot;Accept=application/json&quot;)\npublic String updatePerson(@PathVariable(&quot;id&quot;) int id,Model model) {\n    model.addAttribute(&quot;person&quot;, this.service.getPerson(id));\n    model.addAttribute(&quot;listOfPersons&quot;, this.service.getAllPersons());\n    return &quot;PersonDetails&quot;;\n}\n</code></pre>\n<p>Nevertheless, you should consider using <code>PUT</code> for update requests so that you follow the standards. You can read more at <a href=\"https://www.restapitutorial.com/lessons/httpmethods.html\" rel=\"nofollow noreferrer\">https://www.restapitutorial.com/lessons/httpmethods.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":23666452,"reputation":9,"user_id":17693853,"display_name":"Yuvraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656599782,"creation_date":1656599782,"answer_id":72817682,"question_id":70318478,"body_markdown":"I had csrf enabled in my sprint security xml file, so I just added one line in the form:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n\r\nThis way I was able to submit the form having the model attribute.","title":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported] Spring MVC","body":"<p>I had csrf enabled in my sprint security xml file, so I just added one line in the form:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\n</code></pre>\n<p>This way I was able to submit the form having the model attribute.</p>\n"}],"owner":{"account_id":10763603,"reputation":1,"user_id":10791543,"display_name":"user682312"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700722965,"creation_date":1639252008,"question_id":70318478,"body_markdown":"I created a sample crud operations application using Spring Mvc, Hibernate, Maven. All my operations are working fine. I got a problem on update method. I dont know where I went wrong. I referred this article. https://java2blog.com/spring-mvc-hibernate-mysql-crud-example/\r\n\r\nAdd,delete, display methods are working fine.\r\nHere is the issue I am getting when I try to update.\r\nWARNING: Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\nI do not know what&#39;s wrong. Please help\r\n[output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jmvi9.png\r\n\r\nController Class:\r\n \r\n\r\n    package com.spring.controller;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import com.spring.bean.Person;\r\n    import com.spring.service.PersonService;\r\n    \r\n    @Controller\r\n    public class PersonController {\r\n    \r\n    \t@Autowired\r\n    \tPersonService service;\r\n    \t\r\n    \t@RequestMapping(value = &quot;/getAllPersons&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n        public String getPerson(Model model) {\r\n     \r\n            List&lt;Person&gt; listOfPersons = service.getAllPersons();\r\n            model.addAttribute(&quot;person&quot;, new Person());\r\n            model.addAttribute(&quot;listOfPersons&quot;, listOfPersons);\r\n            return &quot;PersonDetails&quot;;\r\n        }\r\n    \t\r\n    \t@RequestMapping(value = &quot;/getPerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n    \tpublic Person getPerson(@PathVariable int id) {\r\n    \t\treturn service.getPerson(id);\r\n    \t}\r\n    \t\r\n    \r\n    \t@RequestMapping(value = &quot;/addPerson&quot;, method = RequestMethod.POST, headers = &quot;Accept=application/json&quot;)\r\n    \tpublic String addPerson(@ModelAttribute(&quot;person&quot;) Person person) {\r\n    \r\n    \t\tif(person.getId()==0) {\r\n    \t\t\tservice.addPerson(person);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tservice.updatePerson(person);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn &quot;redirect:/getAllPersons&quot;;\r\n    \t}\r\n    \t\r\n    \t//@RequestMapping(value = &quot;/updateCountry/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n    \t@RequestMapping(value = &quot;/updatePerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n        public String updatePerson(@PathVariable(&quot;id&quot;) int id,Model model) {\r\n            model.addAttribute(&quot;person&quot;, this.service.getPerson(id));\r\n            model.addAttribute(&quot;listOfPersons&quot;, this.service.getAllPersons());\r\n            return &quot;PersonDetails&quot;;\r\n        }\r\n     \r\n        @RequestMapping(value = &quot;/deletePerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\r\n        public String deletePerson(@PathVariable(&quot;id&quot;) int id) {\r\n            service.deletePerson(id);\r\n            return &quot;redirect:/getAllPersons&quot;;\r\n        }\r\n    }\r\nDao Class:\r\n\r\n    package com.spring.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.spring.bean.Person;\r\n    \r\n    @Repository\r\n    public class PersonDao {\r\n         \r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionfactory;\r\n    \t\r\n    \tpublic void setSessionFactory(SessionFactory sf) {\r\n            this.sessionfactory = sf;\r\n        }\r\n    \t\r\n    \tpublic List&lt;Person&gt; getAllPersons() {\r\n    \t\tSession session=this.sessionfactory.getCurrentSession();\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tList&lt;Person&gt; persons= session.createQuery(&quot;from Person&quot;).list();\r\n    \t\t\r\n    \t\tfor(Person p:persons) {\r\n    \t\t\tSystem.out.print(p.getName()+&quot; &quot;+p.getCountry());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn persons;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Person getPerson(int id) {\r\n    \t\tSession session=this.sessionfactory.getCurrentSession();\r\n    \t\tSystem.out.println(&quot;Here&quot;);\r\n    \t\tPerson p=(Person)session.load(Person.class, new Integer(id));\r\n    \t\tSystem.out.println(p);\r\n    \t\treturn p;\r\n    \t}\r\n    \t\r\n    \tpublic Person addPerson(Person person) {\r\n    \t\tSession session=this.sessionfactory.getCurrentSession();\r\n    \t\t\r\n    \t\tsession.persist(person);\r\n    \t\treturn person;\r\n    \t}\r\n    \t\r\n    \tpublic void updatePerson(Person person) {\r\n    \t\tSession session=this.sessionfactory.getCurrentSession();\r\n    \t\t\r\n    \t\tsession.update(person);\r\n    \t}\r\n    \t\r\n    \tpublic void deletePerson(int id) {\r\n    \t\tSession session=this.sessionfactory.getCurrentSession();\r\n    \t\t\r\n    \t\tPerson p=session.load(Person.class, new Integer(id));\r\n    \t\tif(null!= p) {\r\n    \t\t\tsession.delete(p);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n  \r\n\r\nJsp Page:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://www.springframework.org/tags&quot; prefix=&quot;spring&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;form&quot; %&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Person Details&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form:form method=&quot;post&quot; modelAttribute=&quot;person&quot; action=&quot;addPerson&quot;&gt;\r\n    &lt;table&gt;\r\n            &lt;tr&gt;\r\n                &lt;th colspan=&quot;2&quot;&gt;Add Person&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n            &lt;form:hidden path=&quot;id&quot; /&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n              &lt;td&gt;&lt;form:label path=&quot;name&quot;&gt;Name:&lt;/form:label&gt;&lt;/td&gt;\r\n              &lt;td&gt;&lt;form:input path=&quot;name&quot; size=&quot;30&quot; maxlength=&quot;30&quot;&gt;&lt;/form:input&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                    &lt;td&gt;&lt;form:label path=&quot;country&quot;&gt;Country:&lt;/form:label&gt;&lt;/td&gt;\r\n              &lt;td&gt;&lt;form:input path=&quot;country&quot; size=&quot;30&quot; maxlength=&quot;30&quot;&gt;&lt;/form:input&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot;\r\n                    class=&quot;blue-button&quot; /&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/form:form&gt;\r\n    &lt;hr&gt;\r\n      &lt;h3&gt;Person List&lt;/h3&gt;\r\n    &lt;c:if test=&quot;${!empty listOfPersons}&quot;&gt;\r\n        &lt;table class=&quot;tg&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;th width=&quot;80&quot;&gt;Id&lt;/th&gt;\r\n            &lt;th width=&quot;120&quot;&gt;Person Name&lt;/th&gt;\r\n            &lt;th width=&quot;120&quot;&gt;Country&lt;/th&gt;\r\n            &lt;th width=&quot;60&quot;&gt;Edit&lt;/th&gt;\r\n            &lt;th width=&quot;60&quot;&gt;Delete&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;c:forEach items=&quot;${listOfPersons}&quot; var=&quot;person&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${person.id}&lt;/td&gt;\r\n                &lt;td&gt;${person.name}&lt;/td&gt;\r\n                &lt;td&gt;${person.country}&lt;/td&gt;\r\n                &lt;td&gt;&lt;a href=&quot;&lt;c:url value=&#39;updatePerson/${person.id}&#39; /&gt;&quot; &gt;Edit&lt;/a&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;a href=&quot;&lt;c:url value=&#39;deletePerson/${person.id}&#39; /&gt;&quot; &gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n    &lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported] Spring MVC","body":"<p>I created a sample crud operations application using Spring Mvc, Hibernate, Maven. All my operations are working fine. I got a problem on update method. I dont know where I went wrong. I referred this article. <a href=\"https://java2blog.com/spring-mvc-hibernate-mysql-crud-example/\" rel=\"nofollow noreferrer\">https://java2blog.com/spring-mvc-hibernate-mysql-crud-example/</a></p>\n<p>Add,delete, display methods are working fine.\nHere is the issue I am getting when I try to update.\nWARNING: Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]\nI do not know what's wrong. Please help\n<a href=\"https://i.stack.imgur.com/Jmvi9.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>Controller Class:</p>\n<pre><code>package com.spring.controller;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.spring.bean.Person;\nimport com.spring.service.PersonService;\n\n@Controller\npublic class PersonController {\n\n    @Autowired\n    PersonService service;\n    \n    @RequestMapping(value = &quot;/getAllPersons&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\n    public String getPerson(Model model) {\n \n        List&lt;Person&gt; listOfPersons = service.getAllPersons();\n        model.addAttribute(&quot;person&quot;, new Person());\n        model.addAttribute(&quot;listOfPersons&quot;, listOfPersons);\n        return &quot;PersonDetails&quot;;\n    }\n    \n    @RequestMapping(value = &quot;/getPerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\n    public Person getPerson(@PathVariable int id) {\n        return service.getPerson(id);\n    }\n    \n\n    @RequestMapping(value = &quot;/addPerson&quot;, method = RequestMethod.POST, headers = &quot;Accept=application/json&quot;)\n    public String addPerson(@ModelAttribute(&quot;person&quot;) Person person) {\n\n        if(person.getId()==0) {\n            service.addPerson(person);\n        }\n        else {\n            service.updatePerson(person);\n        }\n        \n        return &quot;redirect:/getAllPersons&quot;;\n    }\n    \n    //@RequestMapping(value = &quot;/updateCountry/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\n    @RequestMapping(value = &quot;/updatePerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\n    public String updatePerson(@PathVariable(&quot;id&quot;) int id,Model model) {\n        model.addAttribute(&quot;person&quot;, this.service.getPerson(id));\n        model.addAttribute(&quot;listOfPersons&quot;, this.service.getAllPersons());\n        return &quot;PersonDetails&quot;;\n    }\n \n    @RequestMapping(value = &quot;/deletePerson/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)\n    public String deletePerson(@PathVariable(&quot;id&quot;) int id) {\n        service.deletePerson(id);\n        return &quot;redirect:/getAllPersons&quot;;\n    }\n}\n</code></pre>\n<p>Dao Class:</p>\n<pre><code>package com.spring.dao;\n\nimport java.util.List;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport com.spring.bean.Person;\n\n@Repository\npublic class PersonDao {\n     \n    @Autowired\n    private SessionFactory sessionfactory;\n    \n    public void setSessionFactory(SessionFactory sf) {\n        this.sessionfactory = sf;\n    }\n    \n    public List&lt;Person&gt; getAllPersons() {\n        Session session=this.sessionfactory.getCurrentSession();\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        List&lt;Person&gt; persons= session.createQuery(&quot;from Person&quot;).list();\n        \n        for(Person p:persons) {\n            System.out.print(p.getName()+&quot; &quot;+p.getCountry());\n        }\n        \n        return persons;\n        \n    }\n    \n    public Person getPerson(int id) {\n        Session session=this.sessionfactory.getCurrentSession();\n        System.out.println(&quot;Here&quot;);\n        Person p=(Person)session.load(Person.class, new Integer(id));\n        System.out.println(p);\n        return p;\n    }\n    \n    public Person addPerson(Person person) {\n        Session session=this.sessionfactory.getCurrentSession();\n        \n        session.persist(person);\n        return person;\n    }\n    \n    public void updatePerson(Person person) {\n        Session session=this.sessionfactory.getCurrentSession();\n        \n        session.update(person);\n    }\n    \n    public void deletePerson(int id) {\n        Session session=this.sessionfactory.getCurrentSession();\n        \n        Person p=session.load(Person.class, new Integer(id));\n        if(null!= p) {\n            session.delete(p);\n        }\n        \n    }\n}\n</code></pre>\n<p>Jsp Page:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://www.springframework.org/tags\" prefix=\"spring\" %&gt;\n&lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"form\" %&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"ISO-8859-1\"&gt;\n&lt;title&gt;Person Details&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form:form method=\"post\" modelAttribute=\"person\" action=\"addPerson\"&gt;\n&lt;table&gt;\n        &lt;tr&gt;\n            &lt;th colspan=\"2\"&gt;Add Person&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n        &lt;form:hidden path=\"id\" /&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n          &lt;td&gt;&lt;form:label path=\"name\"&gt;Name:&lt;/form:label&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;form:input path=\"name\" size=\"30\" maxlength=\"30\"&gt;&lt;/form:input&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td&gt;&lt;form:label path=\"country\"&gt;Country:&lt;/form:label&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;form:input path=\"country\" size=\"30\" maxlength=\"30\"&gt;&lt;/form:input&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"2\"&gt;&lt;input type=\"submit\"\n                class=\"blue-button\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form:form&gt;\n&lt;hr&gt;\n  &lt;h3&gt;Person List&lt;/h3&gt;\n&lt;c:if test=\"${!empty listOfPersons}\"&gt;\n    &lt;table class=\"tg\"&gt;\n    &lt;tr&gt;\n        &lt;th width=\"80\"&gt;Id&lt;/th&gt;\n        &lt;th width=\"120\"&gt;Person Name&lt;/th&gt;\n        &lt;th width=\"120\"&gt;Country&lt;/th&gt;\n        &lt;th width=\"60\"&gt;Edit&lt;/th&gt;\n        &lt;th width=\"60\"&gt;Delete&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach items=\"${listOfPersons}\" var=\"person\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${person.id}&lt;/td&gt;\n            &lt;td&gt;${person.name}&lt;/td&gt;\n            &lt;td&gt;${person.country}&lt;/td&gt;\n            &lt;td&gt;&lt;a href=\"&lt;c:url value='updatePerson/${person.id}' /&gt;\" &gt;Edit&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;a href=\"&lt;c:url value='deletePerson/${person.id}' /&gt;\" &gt;Delete&lt;/a&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n    &lt;/table&gt;\n&lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","hibernate","debugging","intellij-idea"],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700722881,"creation_date":1700722881,"question_id":77534880,"body_markdown":"I&#39;m debugging a hibernate application, while debugging I want to check the entities.  \r\n\r\n`Hibernate.unproxy(entity)` just works for plain types and not for relations within the entity (`FetchType` is lazy). They are all still of type `HibernateProxy`.  \r\nOf course as soon as I unproxy the relations, I get the result. But for entities with a lot of relations this is quite cumbersome.  \r\n\r\nIs there a way to unproxy an object with all relations?\r\n\r\nMy IDE is intelliJ Idea if that is of any relevance.\r\n","title":"Hibernate unproxy object with lazy relations while debugging","body":"<p>I'm debugging a hibernate application, while debugging I want to check the entities.</p>\n<p><code>Hibernate.unproxy(entity)</code> just works for plain types and not for relations within the entity (<code>FetchType</code> is lazy). They are all still of type <code>HibernateProxy</code>.<br />\nOf course as soon as I unproxy the relations, I get the result. But for entities with a lot of relations this is quite cumbersome.</p>\n<p>Is there a way to unproxy an object with all relations?</p>\n<p>My IDE is intelliJ Idea if that is of any relevance.</p>\n"},{"tags":["java","reactive","flux"],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700722663,"creation_date":1700722663,"question_id":77534865,"body_markdown":"I am new to reactive (reactor.core) , I am trying to convert these 3 steps into reactive  .\r\n1)Filter List 2) Build request from output of Step-1 3)Call service from output of Step 2but I am getting an error while trying to use map on output of filter,\r\n***Cannot infer type argument(s) for &lt;V&gt; map(Function&lt;? super T,? extends V&gt;)*** . I am not sure how to fix this. \r\n\r\n\t\tFlux.fromIterable(listForOrder)\r\n\t\t\t\t.filter(ct -&gt; !PaymentTypes.CASH.name().equalsIgnoreCase(ct.getPaymentType()))\r\n\t\t\t\t.map( list-&gt; this.buildRequest(returnCT, payment, list)) //use output of filter\r\n\t\t\t\t.doOnSuccess(proxyRequest -&gt;invokeProxy(payment, returnCT, nonCashCT, proxyRequest, loggerKey))\r\n\t\t\t\t;\r\n\r\nOriginal Code\r\n\r\n\t\t// filter Non-CASH CT and call Proxy for them\r\n\t\tList&lt;ChargeTransaction&gt; nonCashCT = Flux.fromIterable(listForOrder)\r\n\t\t\t\t.filter(ct -&gt; !PaymentTypes.CASH.name().equalsIgnoreCase(ct.getPaymentType()))\r\n\t\t\t\t.collect(Collectors.toList()).block();\r\n\r\n\t\t// Build request call PG for NON-CASH CT\r\n\t\tPaymentProxyRequest proxyRequest = buildRequest(returnCT, payment, nonCashCT);\r\n\t\tlog.info(&quot;{} JSON Proxy Request for chargeTransactionId={} is={} &quot;, loggerKey, returnCT.getId(),\r\n\t\t\t\tJsonMapper.toJson(proxyRequest));\r\n\t\tinvokeProxy(payment, returnCT, nonCashCT, proxyRequest, loggerKey);","title":"Unable to call Map on Flux &lt;T&gt; using Reactive Programming in java","body":"<p>I am new to reactive (reactor.core) , I am trying to convert these 3 steps into reactive  .\n1)Filter List 2) Build request from output of Step-1 3)Call service from output of Step 2but I am getting an error while trying to use map on output of filter,\n<em><strong>Cannot infer type argument(s) for  map(Function&lt;? super T,? extends V&gt;)</strong></em> . I am not sure how to fix this.</p>\n<pre><code>    Flux.fromIterable(listForOrder)\n            .filter(ct -&gt; !PaymentTypes.CASH.name().equalsIgnoreCase(ct.getPaymentType()))\n            .map( list-&gt; this.buildRequest(returnCT, payment, list)) //use output of filter\n            .doOnSuccess(proxyRequest -&gt;invokeProxy(payment, returnCT, nonCashCT, proxyRequest, loggerKey))\n            ;\n</code></pre>\n<p>Original Code</p>\n<pre><code>    // filter Non-CASH CT and call Proxy for them\n    List&lt;ChargeTransaction&gt; nonCashCT = Flux.fromIterable(listForOrder)\n            .filter(ct -&gt; !PaymentTypes.CASH.name().equalsIgnoreCase(ct.getPaymentType()))\n            .collect(Collectors.toList()).block();\n\n    // Build request call PG for NON-CASH CT\n    PaymentProxyRequest proxyRequest = buildRequest(returnCT, payment, nonCashCT);\n    log.info(&quot;{} JSON Proxy Request for chargeTransactionId={} is={} &quot;, loggerKey, returnCT.getId(),\n            JsonMapper.toJson(proxyRequest));\n    invokeProxy(payment, returnCT, nonCashCT, proxyRequest, loggerKey);\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","compiler-errors"],"comments":[{"owner":{"account_id":17493,"reputation":3883,"user_id":39207,"display_name":"phatblat"},"score":0,"creation_date":1653582511,"post_id":72323063,"comment_id":127891682,"body_markdown":"I get the same error with openjdk version &quot;18.0.1&quot; 2022-04-19 and Gradle 7.3.3.","body":"I get the same error with openjdk version &quot;18.0.1&quot; 2022-04-19 and Gradle 7.3.3."}],"answers":[{"comments":[{"owner":{"account_id":15498426,"reputation":396,"user_id":11248482,"display_name":"mtalha"},"score":1,"creation_date":1669234628,"post_id":72395717,"comment_id":131601089,"body_markdown":"worked like a charm!\nopenjdk 19.0.1 2022-10-18","body":"worked like a charm! openjdk 19.0.1 2022-10-18"},{"owner":{"account_id":242041,"reputation":234,"user_id":513295,"accept_rate":100,"display_name":"Smile.Hunter"},"score":0,"creation_date":1678808238,"post_id":72395717,"comment_id":133603157,"body_markdown":"worked on my java 19.0.2 2023-01-17","body":"worked on my java 19.0.2 2023-01-17"}],"tags":[],"owner":{"account_id":17493,"reputation":3883,"user_id":39207,"display_name":"phatblat"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1653585673,"creation_date":1653585673,"answer_id":72395717,"question_id":72323063,"body_markdown":"Adding `--add-opens=java.base/java.io=ALL-UNNAMED` to your `JAVA_OPTS` environment variable or the `org.gradle.jvmargs` gradle property will resolve this issue with Java 18.\r\n\r\nHere is the full `org.gradle.jvmargs` gradle property value that I&#39;m using:\r\n\r\n```\r\norg.gradle.jvmargs = -Xmx2048M -Dkotlin.daemon.jvm.options\\=&quot;-Xmx2048M&quot; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n```\r\n\r\nAnother option is to downgrade to JDK 17. I downgraded to openjdk version &quot;17.0.3&quot; 2022-04-19 and did not get the error.","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>Adding <code>--add-opens=java.base/java.io=ALL-UNNAMED</code> to your <code>JAVA_OPTS</code> environment variable or the <code>org.gradle.jvmargs</code> gradle property will resolve this issue with Java 18.</p>\n<p>Here is the full <code>org.gradle.jvmargs</code> gradle property value that I'm using:</p>\n<pre><code>org.gradle.jvmargs = -Xmx2048M -Dkotlin.daemon.jvm.options\\=&quot;-Xmx2048M&quot; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n<p>Another option is to downgrade to JDK 17. I downgraded to openjdk version &quot;17.0.3&quot; 2022-04-19 and did not get the error.</p>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22213,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664912318,"creation_date":1664912318,"answer_id":73952870,"question_id":72323063,"body_markdown":"I got this weird error in IntelliJ when trying to build an Android project. I think the core reason was me changing the JDK version that Gradle uses in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and Gradle JVM down there at the bottom. I tried increasing that to fix something else and got this error. Just changing back to the exact version I always used seemed to fix it. This is kind of a terrible answer but I&#39;m going to post it anyway, it might help someone.","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>I got this weird error in IntelliJ when trying to build an Android project. I think the core reason was me changing the JDK version that Gradle uses in Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and Gradle JVM down there at the bottom. I tried increasing that to fix something else and got this error. Just changing back to the exact version I always used seemed to fix it. This is kind of a terrible answer but I'm going to post it anyway, it might help someone.</p>\n"},{"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":4,"creation_date":1683154209,"post_id":75502295,"comment_id":134324737,"body_markdown":"This is valid also for native Android. Thanks!","body":"This is valid also for native Android. Thanks!"},{"owner":{"account_id":9920554,"reputation":75,"user_id":7343826,"display_name":"Ahmed Gamal"},"score":0,"creation_date":1685133307,"post_id":75502295,"comment_id":134624195,"body_markdown":"that&#39;s worked for me too","body":"that&#39;s worked for me too"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1687114026,"post_id":75502295,"comment_id":134888220,"body_markdown":"upgrade to latest gradle version, it&#39;s now 7.4.2. In future 8.x.x, 9.x.x","body":"upgrade to latest gradle version, it&#39;s now 7.4.2. In future 8.x.x, 9.x.x"},{"owner":{"account_id":11150576,"reputation":403,"user_id":9693759,"display_name":"Leo Sammy"},"score":0,"creation_date":1697125604,"post_id":75502295,"comment_id":136243408,"body_markdown":"Yeah worked for me too, for flutter project i did in 2022.","body":"Yeah worked for me too, for flutter project i did in 2022."}],"tags":[],"owner":{"account_id":17645425,"reputation":12774,"user_id":12806961,"display_name":"Code on the Rocks"},"comment_count":4,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1676829562,"creation_date":1676829562,"answer_id":75502295,"question_id":72323063,"body_markdown":"# Answer for Flutter Devs\r\nI ran into this error in IntelliJ while trying to build a Flutter app for Android. I was updating an app I had worked on almost a year ago so the `com.android.tools.build:gradle` dependency in android/build.gradle was way out of date.\r\n\r\nFixed by changing dependency to this:\r\n```\r\n classpath &#39;com.android.tools.build:gradle:7.4.1&#39;\r\n```","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<h1>Answer for Flutter Devs</h1>\n<p>I ran into this error in IntelliJ while trying to build a Flutter app for Android. I was updating an app I had worked on almost a year ago so the <code>com.android.tools.build:gradle</code> dependency in android/build.gradle was way out of date.</p>\n<p>Fixed by changing dependency to this:</p>\n<pre><code> classpath 'com.android.tools.build:gradle:7.4.1'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5404048,"reputation":77,"user_id":4303072,"display_name":"Andy"},"score":0,"creation_date":1688459625,"post_id":76170361,"comment_id":135073500,"body_markdown":"This works for me.","body":"This works for me."}],"tags":[],"owner":{"account_id":13849998,"reputation":111,"user_id":9998155,"display_name":"zhxh"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1683184748,"creation_date":1683183485,"answer_id":76170361,"question_id":72323063,"body_markdown":"The Java version is too high, downgrading will solve this problem.\r\n\r\nYou can do it with following the breadcrumbs below:\r\n\r\nFile-&gt;Project Structure-&gt;SDK Location-&gt;Gradle Settings-&gt;Gradle JDK","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>The Java version is too high, downgrading will solve this problem.</p>\n<p>You can do it with following the breadcrumbs below:</p>\n<p>File-&gt;Project Structure-&gt;SDK Location-&gt;Gradle Settings-&gt;Gradle JDK</p>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2141,"user_id":10832700,"display_name":"ahmnouira"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686892028,"creation_date":1686892028,"answer_id":76487099,"question_id":72323063,"body_markdown":"Just doing an update to the project dependencies fix this.\r\n\r\n`File &gt; Project Structure &gt; Suggestions`\r\n","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>Just doing an update to the project dependencies fix this.</p>\n<p><code>File &gt; Project Structure &gt; Suggestions</code></p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687202036,"creation_date":1687202036,"answer_id":76509496,"question_id":72323063,"body_markdown":"For Flutter :\r\n\r\n\r\nI downloaded 2 JDK jdk-17.0.1 and jdk-11.0.13 and add below line on gradle.properties\r\n\r\n\r\n\r\n    **For Android** : org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\r\n\r\n    **For Mac:**\r\n    \r\n    org.gradle.java.home=/Applications/Android Studio 2.app/Contents/jbr/Contents/Home\r\n\r\n\r\n\r\n","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>For Flutter :</p>\n<p>I downloaded 2 JDK jdk-17.0.1 and jdk-11.0.13 and add below line on gradle.properties</p>\n<pre><code>**For Android** : org.gradle.java.home=C\\:\\\\Program Files (x86)\\\\Java\\\\jdk-11.0.13\n\n**For Mac:**\n\norg.gradle.java.home=/Applications/Android Studio 2.app/Contents/jbr/Contents/Home\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695590939,"post_id":77164396,"comment_id":136041189,"body_markdown":"Please don&#39;t post the same answer to multiple posts or post answers that [already exist for the said question](https://stackoverflow.com/a/72395717/10871900).","body":"Please don&#39;t post the same answer to multiple posts or post answers that <a href=\"https://stackoverflow.com/a/72395717/10871900\">already exist for the said question</a>."},{"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"score":0,"creation_date":1695658707,"post_id":77164396,"comment_id":136050936,"body_markdown":"thank you for your comment, I tried to mention the answer related to this problem, in which I did answered before","body":"thank you for your comment, I tried to mention the answer related to this problem, in which I did answered before"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695658950,"post_id":77164396,"comment_id":136050979,"body_markdown":"If two questions are asking the same, you can flag one as a duplicate of another. Aside from that, there is already an answer saying the same for this question.","body":"If two questions are asking the same, you can flag one as a duplicate of another. Aside from that, there is already an answer saying the same for this question."},{"owner":{"account_id":25202,"reputation":2920,"user_id":64635,"accept_rate":100,"display_name":"chesterbr"},"score":1,"creation_date":1696864465,"post_id":77164396,"comment_id":136204303,"body_markdown":"Solved for me, thanks! Also important to re-sync with gradle files after changing that, cf: https://stackoverflow.com/questions/72448223/android-studio-error-cannot-find-runner-for-app","body":"Solved for me, thanks! Also important to re-sync with gradle files after changing that, cf: <a href=\"https://stackoverflow.com/questions/72448223/android-studio-error-cannot-find-runner-for-app\" title=\"android studio error cannot find runner for app\">stackoverflow.com/questions/72448223/&hellip;</a>"},{"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"score":0,"creation_date":1696893956,"post_id":77164396,"comment_id":136208629,"body_markdown":"thanks you @chesterbr, but android studio can do the re-sync automatically, if it is diabled you need to do that yourself","body":"thanks you @chesterbr, but android studio can do the re-sync automatically, if it is diabled you need to do that yourself"},{"owner":{"account_id":17107955,"reputation":63,"user_id":12379546,"display_name":"Haseeb Javed"},"score":1,"creation_date":1699007511,"post_id":77164396,"comment_id":136479386,"body_markdown":"yes it worked for me on flutter @AbdeldjalilChougui","body":"yes it worked for me on flutter @AbdeldjalilChougui"}],"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695493153,"creation_date":1695493153,"answer_id":77164396,"question_id":72323063,"body_markdown":"I just figured out the solution\r\nAll I did is to add\r\n\r\n    org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\r\n\r\nto the `gradle.properties` file\r\n\r\nSee this link : [How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76207178/15721679","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>I just figured out the solution\nAll I did is to add</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\n</code></pre>\n<p>to the <code>gradle.properties</code> file</p>\n<p>See this link : <a href=\"https://stackoverflow.com/a/76207178/15721679\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not 'opens {package}' to {B}&quot;) on Java 9?</a></p>\n"},{"tags":[],"owner":{"account_id":17626006,"reputation":1,"user_id":12791029,"display_name":"Puja Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697939660,"creation_date":1697939660,"answer_id":77338395,"question_id":72323063,"body_markdown":"Downgrading the JDK version from 17 to 11 works for me.\r\nNote: Do not forget to set the path for the JDK for respective platforms.\r\n","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>Downgrading the JDK version from 17 to 11 works for me.\nNote: Do not forget to set the path for the JDK for respective platforms.</p>\n"},{"tags":[],"owner":{"account_id":2390469,"reputation":105,"user_id":2090410,"display_name":"Bill Xie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700722019,"creation_date":1700722019,"answer_id":77534809,"question_id":72323063,"body_markdown":"I fix it by check the JDK Version\r\n\r\n    javac -version\r\n\r\nDowngrading the JDK version from 17 to 11 like this in bash_profile\r\nsource bash_profile then build\r\n\r\n   \r\n    export JAVA_HOME=&quot;/Users/{$YOURNAME}/Library/Java/JavaVirtualMachines/corretto-1.8.0_382/Contents/Home&quot;\r\n\r\n    export PATH=$JAVA_HOME/bin:$PATH","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>I fix it by check the JDK Version</p>\n<pre><code>javac -version\n</code></pre>\n<p>Downgrading the JDK version from 17 to 11 like this in bash_profile\nsource bash_profile then build</p>\n<pre><code>export JAVA_HOME=&quot;/Users/{$YOURNAME}/Library/Java/JavaVirtualMachines/corretto-1.8.0_382/Contents/Home&quot;\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"}],"owner":{"account_id":24689870,"reputation":273,"user_id":18582529,"display_name":"lisa.smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63135,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":9,"score":26,"last_activity_date":1700722019,"creation_date":1653069435,"question_id":72323063,"body_markdown":"I am trying to run my android program in Qt however I am getting the following error:\r\n```\r\nExecution failed for task &#39;:processDebugManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @13d72a22\r\n```\r\n\r\nI tried different versions of jdk and gradle however nothing helps.\r\n\r\nGradle version: 7.4.2\r\nJDK version: 18","title":"Unable to make field private final java.lang.String java.io.File.path accessible Qt Android","body":"<p>I am trying to run my android program in Qt however I am getting the following error:</p>\n<pre><code>Execution failed for task ':processDebugManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @13d72a22\n</code></pre>\n<p>I tried different versions of jdk and gradle however nothing helps.</p>\n<p>Gradle version: 7.4.2\nJDK version: 18</p>\n"},{"tags":["java","intellij-idea","sdk","java-14"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1612465407,"post_id":66052076,"comment_id":116782718,"body_markdown":"*FYI:* The version should be `14`, not `1.14`.","body":"<i>FYI:</i> The version should be <code>14</code>, not <code>1.14</code>."}],"answers":[{"tags":[],"owner":{"account_id":3816046,"reputation":89,"user_id":3165392,"display_name":"doscio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612465408,"creation_date":1612465408,"answer_id":66052183,"question_id":66052076,"body_markdown":"I See from the external libraries that the project is set to run with java 11 JDK.\r\n\r\nUpdate your project Settings to use java 14 and it should work","title":"Java error: release version 14 not supported in IntelliJ IDEA","body":"<p>I See from the external libraries that the project is set to run with java 11 JDK.</p>\n<p>Update your project Settings to use java 14 and it should work</p>\n"},{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1612490287,"post_id":66052187,"comment_id":116790031,"body_markdown":"Shouldn&#39;t changing the pom.xml be sufficient, just asking if that&#39;s not already the expectation? (like IJ reads the version to use based on the maven configuration and fallback if not specified)","body":"Shouldn&#39;t changing the pom.xml be sufficient, just asking if that&#39;s not already the expectation? (like IJ reads the version to use based on the maven configuration and fallback if not specified)"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612465425,"creation_date":1612465425,"answer_id":66052187,"question_id":66052076,"body_markdown":"The screenshot shows you are using JDK 11 as the project JDK and trying to target JDK 14 language level via the Maven configuration (I&#39;d specify it as `14` instead of `1.14`).\r\n\r\nTo fix the problem change the project JDK to version 14.\r\n\r\nProject Structure | Project SDK:\r\n\r\n[![JDK][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ENxB7.png","title":"Java error: release version 14 not supported in IntelliJ IDEA","body":"<p>The screenshot shows you are using JDK 11 as the project JDK and trying to target JDK 14 language level via the Maven configuration (I'd specify it as <code>14</code> instead of <code>1.14</code>).</p>\n<p>To fix the problem change the project JDK to version 14.</p>\n<p>Project Structure | Project SDK:</p>\n<p><a href=\"https://i.stack.imgur.com/ENxB7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENxB7.png\" alt=\"JDK\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23582062,"reputation":11,"user_id":17620953,"display_name":"Mave Rich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700721797,"creation_date":1700721797,"answer_id":77534790,"question_id":66052076,"body_markdown":"Change language level from 14 to 7 works for me.\r\n\r\n[![change Language level][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7PHr.png","title":"Java error: release version 14 not supported in IntelliJ IDEA","body":"<p>Change language level from 14 to 7 works for me.</p>\n<p><a href=\"https://i.stack.imgur.com/t7PHr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7PHr.png\" alt=\"change Language level\" /></a></p>\n"}],"owner":{"account_id":17446868,"reputation":138,"user_id":12647721,"display_name":"Isha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7459,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":66052187,"answer_count":3,"score":2,"last_activity_date":1700721797,"creation_date":1612464955,"question_id":66052076,"body_markdown":"I&#39;m using IntelliJ to run a Java program, but I keep on getting this error &quot;java: error: release version 14 not supported&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/2Zahy.png","title":"Java error: release version 14 not supported in IntelliJ IDEA","body":"<p>I'm using IntelliJ to run a Java program, but I keep on getting this error &quot;java: error: release version 14 not supported&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/2Zahy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Zahy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","pom.xml","binary-compatibility"],"comments":[{"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"score":0,"creation_date":1649234280,"post_id":71476391,"comment_id":126821584,"body_markdown":"I was able to resolve this issue by changing jdk 8 to jdk 11, as the application was configured on spring boot 2.5.0 version. Some of the related dependencies are not backward compatible, hence was getting this issue.","body":"I was able to resolve this issue by changing jdk 8 to jdk 11, as the application was configured on spring boot 2.5.0 version. Some of the related dependencies are not backward compatible, hence was getting this issue."}],"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700721070,"creation_date":1647311766,"question_id":71476391,"body_markdown":"I am getting below on application startup and it is thrown randomly for different repositories. \r\n \r\n\r\n    @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IncompatibleClassChangeError\r\n    Caused by: java.lang.IncompatibleClassChangeError: null\r\n    \tat org.springframework.data.jpa.util.JpaMetamodel.lambda$isSingleIdAttribute$4(JpaMetamodel.java:94)\r\n    \tat org.springframework.data.jpa.util.JpaMetamodel$$Lambda$933/342191077.test(Unknown Source)\r\n    \tat java.util.Optional.filter(Optional.java:178)\r\n    \tat org.springframework.data.jpa.util.JpaMetamodel.isSingleIdAttribute(JpaMetamodel.java:94)\r\n    \tat org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl.lambda$new$2(JpaPersistentPropertyImpl.java:111)\r\n    \tat org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl$$Lambda$922/4723664.get(Unknown Source)\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230)\r\n\r\nGetting this error randomly only on prem servers, in local my application is running fine, Can anyone please help me with this issue as I am stuck since last 2 days?\r\n\r\nI;m using spring boot verison : 2.5.0\r\njava version &quot;1.8.0_25&quot;\r\n\r\npom file ::\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t &lt;!-- Password deobfuscate --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.24.v20191120&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\r\n\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\r\n\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JMS --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- DB --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.ibm.informix/jdbc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.6.20151104&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Others --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Swagger --&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.81.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n       &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n                \t&lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                    \t&lt;goal&gt;build-info&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t&lt;descriptors&gt;\r\n\t\t\t\t\t\t&lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n\t\t\t\t\t&lt;/descriptors&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;!-- this is used for inheritance merges --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;!-- bind to the packaging phase --&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.7&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;build-info&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-verbose&lt;/arg&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-parameters&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;${surefire.jacoco.args}&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n  \t\t\t\t &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n  \t\t\t\t &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\r\n  \t\t\t\t &lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t\t &lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;localCheckout&gt;true&lt;/localCheckout&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n","title":"@EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed;","body":"<p>I am getting below on application startup and it is thrown randomly for different repositories.</p>\n<pre><code>@EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IncompatibleClassChangeError\nCaused by: java.lang.IncompatibleClassChangeError: null\n    at org.springframework.data.jpa.util.JpaMetamodel.lambda$isSingleIdAttribute$4(JpaMetamodel.java:94)\n    at org.springframework.data.jpa.util.JpaMetamodel$$Lambda$933/342191077.test(Unknown Source)\n    at java.util.Optional.filter(Optional.java:178)\n    at org.springframework.data.jpa.util.JpaMetamodel.isSingleIdAttribute(JpaMetamodel.java:94)\n    at org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl.lambda$new$2(JpaPersistentPropertyImpl.java:111)\n    at org.springframework.data.jpa.mapping.JpaPersistentPropertyImpl$$Lambda$922/4723664.get(Unknown Source)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230)\n</code></pre>\n<p>Getting this error randomly only on prem servers, in local my application is running fine, Can anyone please help me with this issue as I am stuck since last 2 days?</p>\n<p>I;m using spring boot verison : 2.5.0\njava version &quot;1.8.0_25&quot;</p>\n<p>pom file ::</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;!-- Password deobfuscate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n            &lt;version&gt;9.4.24.v20191120&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JMS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n            &lt;version&gt;9.1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- DB --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.ibm.informix/jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.10.6.20151104&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Others --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Swagger --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bull.javamelody&lt;/groupId&gt;\n            &lt;artifactId&gt;javamelody-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.81.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n       &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-verbose&lt;/arg&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;${surefire.jacoco.args}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                 &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n                 &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;2.0.0&lt;/version&gt;\n             &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.13.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;localCheckout&gt;true&lt;/localCheckout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","openapi-generator","spring-hateoas"],"owner":{"account_id":4804924,"reputation":1426,"user_id":3880363,"display_name":"krisnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700720528,"creation_date":1700720528,"question_id":77534711,"body_markdown":"I am using Open API Code generator to generate SDK for my APIs. https://openapi-generator.tech/docs/generators/spring/ \r\n\r\nMy response POJO was as follows.\r\n\r\n```java\r\n\r\nclass User {\r\n    String name;\r\n    String id;\r\n    List&lt;Account&gt; accounts;\r\n}\r\n\r\n```\r\n\r\nI have integrated Spring Hateoas to support HAL Links to Account. My class structure now is \r\n\r\n```java\r\n\r\nclass User {\r\n    String name;\r\n    String id;\r\n    List&lt;EntityModel&lt;Account&gt;&gt; accounts;\r\n}\r\n\r\n```\r\n\r\nDue to this change, the generated SDK changed the name of the class from List&lt;Account&gt; in the SDK to List&lt;EntityModelAccount&gt; which results in breaking change.\r\n\r\nIs there anyway, I can specify SDK generator to continue using `Account`, instead of the new name `EntityModelAccount`","title":"Model name mapping with Open API Code generator","body":"<p>I am using Open API Code generator to generate SDK for my APIs. <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/spring/</a></p>\n<p>My response POJO was as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass User {\n    String name;\n    String id;\n    List&lt;Account&gt; accounts;\n}\n\n</code></pre>\n<p>I have integrated Spring Hateoas to support HAL Links to Account. My class structure now is</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass User {\n    String name;\n    String id;\n    List&lt;EntityModel&lt;Account&gt;&gt; accounts;\n}\n\n</code></pre>\n<p>Due to this change, the generated SDK changed the name of the class from List in the SDK to List which results in breaking change.</p>\n<p>Is there anyway, I can specify SDK generator to continue using <code>Account</code>, instead of the new name <code>EntityModelAccount</code></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1700771955,"post_id":77534691,"comment_id":136698062,"body_markdown":"Please don&#39;t repeat your question to get past our minimum length limits. If you&#39;re prompted to add more detail, _add more detail_. As it currently stands, this question is very unclear. Please read [ask].","body":"Please don&#39;t repeat your question to get past our minimum length limits. If you&#39;re prompted to add more detail, <i>add more detail</i>. As it currently stands, this question is very unclear. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":5649085,"reputation":1,"user_id":4470320,"display_name":"vinoth Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700720328,"creation_date":1700720328,"question_id":77534691,"body_markdown":"How to read JSON draft 7 schema.\r\n\r\nI have the use case to read the JSON draft 7 schema and create a normal JSON object accordingly based on my other inputs.\r\nI am working with Java &amp; Spring Boot\r\n\r\nHow to read JSON draft 7 schema.\r\n\r\nI have the use case to read the JSON draft 7 schema and create a normal JSON object accordingly based on my other inputs.\r\nI am working with Java &amp; Spring Boot\r\nCan anyone help on this ?","title":"How to read Draft 7 JSON schema in Java","body":"<p>How to read JSON draft 7 schema.</p>\n<p>I have the use case to read the JSON draft 7 schema and create a normal JSON object accordingly based on my other inputs.\nI am working with Java &amp; Spring Boot</p>\n<p>How to read JSON draft 7 schema.</p>\n<p>I have the use case to read the JSON draft 7 schema and create a normal JSON object accordingly based on my other inputs.\nI am working with Java &amp; Spring Boot\nCan anyone help on this ?</p>\n"},{"tags":["java","spring-boot","unit-testing","testcontainers-junit5","spring-boot-testcontainers"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700648781,"post_id":77528562,"comment_id":136679587,"body_markdown":"You are mixing JUnit4 and JUnit5 in one class, don&#39;t do that. Remove `@RunWith` and make sure that the `@Test` annotation is from JUnit5 not JUnit4.","body":"You are mixing JUnit4 and JUnit5 in one class, don&#39;t do that. Remove <code>@RunWith</code> and make sure that the <code>@Test</code> annotation is from JUnit5 not JUnit4."}],"owner":{"account_id":29914015,"reputation":3,"user_id":22924659,"display_name":"chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700719417,"creation_date":1700643603,"question_id":77528562,"body_markdown":"`package com.example.demo4.controller;\r\n\r\n\r\n \r\n    @RunWith(SpringRunner.class)\r\n    //@WebFluxTest(UserController.class)  // Specify the controller class to test\r\n\r\n\r\n    @SpringBootTest(classes = UserController.class)\r\n    @ComponentScan(basePackages = &quot;com.example.demo4&quot;)\r\n    @AutoConfigureWebTestClient\r\n    @Testcontainers\r\n    public class ControllerIntegrationTest {\r\n\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    @MockBean\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Container\r\n    @ServiceConnection\r\n    public static MySQLContainer mySQLContainer  = new MySQLContainer(&quot;mysql:8.2.0&quot;);\r\n\r\n\r\n\r\n    @Test\r\n    public void getAllUsers() {\r\n        // Set up the database with some test data\r\n        userRepository.saveAll(Flux.just(\r\n                new User(&quot;1&quot;, &quot;Alice&quot;, &quot;alice@example.com&quot;),\r\n                new User(&quot;2&quot;, &quot;Bob&quot;, &quot;bob@example.com&quot;),\r\n                new User(&quot;3&quot;, &quot;Charlie&quot;, &quot;charlie@example.com&quot;)\r\n        )).blockLast();\r\n\r\n        // Act and Assert\r\n        webTestClient.get().uri(&quot;/api/users&quot;)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectHeader().contentType(&quot;application/json&quot;)\r\n                .expectBodyList(User.class)\r\n                .value(userList -&gt; {\r\n                    StepVerifier.create(Flux.fromIterable(userList))\r\n                            .expectNextCount(3)\r\n                            .verifyComplete();\r\n                });\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n`\r\nthis is my testclass. below I will add my service and the repository classes.\r\n\r\n\r\n\r\n    `package com.example.demo4.repository;\r\n \r\n    import com.example.demo4.model.User;\r\n    import org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\n\r\n    public interface UserRepository extends ReactiveCrudRepository&lt;User, String&gt; {\r\n\r\n\r\n    }\r\n`\r\n###########################\r\nBelow is the service.\r\n\r\n\r\n`\r\n\r\n    @Service\r\n    public class UserService {\r\n        private final Map&lt;String, User&gt; userStorage = new HashMap&lt;&gt;();\r\n        private final UserRepository userRepository;\r\n\r\n        public UserService(UserRepository userRepository) {\r\n\r\n        this.userRepository = userRepository;\r\n\r\n        // Initialize the userStorage map in the constructor\r\n        User user1 = new User(&quot;1&quot;, &quot;Alice&quot;, &quot;alice@example.com&quot;);\r\n        User user2 = new User(&quot;2&quot;, &quot;Bob&quot;, &quot;bob@example.com&quot;);\r\n        User user3 = new User(&quot;3&quot;, &quot;Charlie&quot;, &quot;charlie@example.com&quot;);\r\n\r\n        userStorage.put(user1.getId(), user1);\r\n        userStorage.put(user2.getId(), user2);\r\n        userStorage.put(user3.getId(), user3);\r\n        }\r\n\r\n        public Flux&lt;User&gt; getAllUsers() {\r\n         return userRepository.findAll();\r\n\r\n        }\r\n\r\n        public Mono&lt;User&gt; getUserById(String id) {\r\n            // return userRepository.findById(id);\r\n            return Mono.justOrEmpty(userStorage.get(id));\r\n        }\r\n\r\n        public Mono&lt;User&gt; saveUser(User user) {\r\n            // return userRepository.save(user);\r\n             userStorage.put(user.getId(), user);\r\n            return Mono.just(user);\r\n        }\r\n\r\n        public Mono&lt;Void&gt; deleteUser(String id) {\r\n            // return userRepository.deleteById(id);\r\n            userStorage.remove(id);\r\n            return Mono.empty();\r\n       }\r\n    }\r\n`\r\n\r\n\r\nSo when I try running the above test case it gives me this error.\r\n\r\n[enter image description here](https://i.stack.imgur.com/o3xD5.png)\r\n\r\n\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@3c97f5e9 testClass = com.example.demo4.controller.ControllerIntegrationTest, locations = [], classes = [com.example.demo4.controller.UserController], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@ccbcc4be, [ImportsContextCustomizer@4583b617 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, @org.springframework.context.annotation.ComponentScan(basePackageClasses={}, basePackages={&quot;com.example.demo4&quot;}, excludeFilters={}, includeFilters={}, lazyInit=false, nameGenerator=org.springframework.beans.factory.support.BeanNameGenerator.class, resourcePattern=&quot;**/*.class&quot;, scopeResolver=org.springframework.context.annotation.AnnotationScopeMetadataResolver.class, scopedProxy=DEFAULT, useDefaultFilters=true, value={&quot;com.example.demo4&quot;}), org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@36c54a56, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73386d72, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@22be8255, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6034e75d, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@31be6b49, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d140a7, org.springframework.boot.test.context.SpringBootTestAnnotation@a8e610a5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;connectionFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/r2dbc/ConnectionFactoryConfigurations$PoolConfiguration$PooledConnectionFactoryConfiguration.class]: Failed to instantiate [io.r2dbc.pool.ConnectionPool]: Factory method &#39;connectionFactory&#39; threw exception with message: org/testcontainers/r2dbc/R2DBCDatabaseContainer\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n\t... 28 more\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.r2dbc.pool.ConnectionPool]: Factory method &#39;connectionFactory&#39; threw exception with message: org/testcontainers/r2dbc/R2DBCDatabaseContainer\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n\t... 52 more\r\nCaused by: java.lang.NoClassDefFoundError: org/testcontainers/r2dbc/R2DBCDatabaseContainer\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.springframework.boot.testcontainers.service.connection.r2dbc.MySqlR2dbcContainerConnectionDetailsFactory$MySqlR2dbcDatabaseContainerConnectionDetails.getConnectionFactoryOptions(MySqlR2dbcContainerConnectionDetailsFactory.java:60)\r\n\tat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryOptionsInitializer.initialize(ConnectionFactoryOptionsInitializer.java:51)\r\n\tat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryConfigurations.createConnectionFactory(ConnectionFactoryConfigurations.java:65)\r\n\tat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryConfigurations$PoolConfiguration$PooledConnectionFactoryConfiguration.connectionFactory(ConnectionFactoryConfigurations.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t... 53 more\r\nCaused by: java.lang.ClassNotFoundException: org.testcontainers.r2dbc.R2DBCDatabaseContainer\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 71 more\r\n","title":"It gives me an error while I&#39;m doing the integration test with the test containers in my reactive web spring boot application","body":"<p>`package com.example.demo4.controller;</p>\n<pre><code>@RunWith(SpringRunner.class)\n//@WebFluxTest(UserController.class)  // Specify the controller class to test\n\n\n@SpringBootTest(classes = UserController.class)\n@ComponentScan(basePackages = &quot;com.example.demo4&quot;)\n@AutoConfigureWebTestClient\n@Testcontainers\npublic class ControllerIntegrationTest {\n\n\n@Autowired\nprivate WebTestClient webTestClient;\n\n@MockBean\nprivate UserService userService;\n\n@Autowired\nprivate UserRepository userRepository;\n@Container\n@ServiceConnection\npublic static MySQLContainer mySQLContainer  = new MySQLContainer(&quot;mysql:8.2.0&quot;);\n\n\n\n@Test\npublic void getAllUsers() {\n    // Set up the database with some test data\n    userRepository.saveAll(Flux.just(\n            new User(&quot;1&quot;, &quot;Alice&quot;, &quot;alice@example.com&quot;),\n            new User(&quot;2&quot;, &quot;Bob&quot;, &quot;bob@example.com&quot;),\n            new User(&quot;3&quot;, &quot;Charlie&quot;, &quot;charlie@example.com&quot;)\n    )).blockLast();\n\n    // Act and Assert\n    webTestClient.get().uri(&quot;/api/users&quot;)\n            .exchange()\n            .expectStatus().isOk()\n            .expectHeader().contentType(&quot;application/json&quot;)\n            .expectBodyList(User.class)\n            .value(userList -&gt; {\n                StepVerifier.create(Flux.fromIterable(userList))\n                        .expectNextCount(3)\n                        .verifyComplete();\n            });\n}\n</code></pre>\n<p>}</p>\n<p>`\nthis is my testclass. below I will add my service and the repository classes.</p>\n<pre><code>`package com.example.demo4.repository;\n\nimport com.example.demo4.model.User;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\n\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, String&gt; {\n\n\n}\n</code></pre>\n<p>`\n###########################\nBelow is the service.</p>\n<p>`</p>\n<pre><code>@Service\npublic class UserService {\n    private final Map&lt;String, User&gt; userStorage = new HashMap&lt;&gt;();\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n\n    this.userRepository = userRepository;\n\n    // Initialize the userStorage map in the constructor\n    User user1 = new User(&quot;1&quot;, &quot;Alice&quot;, &quot;alice@example.com&quot;);\n    User user2 = new User(&quot;2&quot;, &quot;Bob&quot;, &quot;bob@example.com&quot;);\n    User user3 = new User(&quot;3&quot;, &quot;Charlie&quot;, &quot;charlie@example.com&quot;);\n\n    userStorage.put(user1.getId(), user1);\n    userStorage.put(user2.getId(), user2);\n    userStorage.put(user3.getId(), user3);\n    }\n\n    public Flux&lt;User&gt; getAllUsers() {\n     return userRepository.findAll();\n\n    }\n\n    public Mono&lt;User&gt; getUserById(String id) {\n        // return userRepository.findById(id);\n        return Mono.justOrEmpty(userStorage.get(id));\n    }\n\n    public Mono&lt;User&gt; saveUser(User user) {\n        // return userRepository.save(user);\n         userStorage.put(user.getId(), user);\n        return Mono.just(user);\n    }\n\n    public Mono&lt;Void&gt; deleteUser(String id) {\n        // return userRepository.deleteById(id);\n        userStorage.remove(id);\n        return Mono.empty();\n   }\n}\n</code></pre>\n<p>`</p>\n<p>So when I try running the above test case it gives me this error.</p>\n<p><a href=\"https://i.stack.imgur.com/o3xD5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext for [ReactiveWebMergedContextConfiguration@3c97f5e9 testClass = com.example.demo4.controller.ControllerIntegrationTest, locations = [], classes = [com.example.demo4.controller.UserController], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@ccbcc4be, [ImportsContextCustomizer@4583b617 key = [org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration, @org.springframework.context.annotation.ComponentScan(basePackageClasses={}, basePackages={&quot;com.example.demo4&quot;}, excludeFilters={}, includeFilters={}, lazyInit=false, nameGenerator=org.springframework.beans.factory.support.BeanNameGenerator.class, resourcePattern=&quot;**/*.class&quot;, scopeResolver=org.springframework.context.annotation.AnnotationScopeMetadataResolver.class, scopedProxy=DEFAULT, useDefaultFilters=true, value={&quot;com.example.demo4&quot;}), org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@36c54a56, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@73386d72, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@22be8255, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6034e75d, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@31be6b49, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ec54a5c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d140a7, org.springframework.boot.test.context.SpringBootTestAnnotation@a8e610a5], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]</p>\n<pre><code>at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\nat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\nat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\nat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'connectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/r2dbc/ConnectionFactoryConfigurations$PoolConfiguration$PooledConnectionFactoryConfiguration.class]: Failed to instantiate [io.r2dbc.pool.ConnectionPool]: Factory method 'connectionFactory' threw exception with message: org/testcontainers/r2dbc/R2DBCDatabaseContainer\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\nat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\nat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\nat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\nat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\nat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n... 28 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.r2dbc.pool.ConnectionPool]: Factory method 'connectionFactory' threw exception with message: org/testcontainers/r2dbc/R2DBCDatabaseContainer\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n... 52 more\nCaused by: java.lang.NoClassDefFoundError: org/testcontainers/r2dbc/R2DBCDatabaseContainer\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat org.springframework.boot.testcontainers.service.connection.r2dbc.MySqlR2dbcContainerConnectionDetailsFactory$MySqlR2dbcDatabaseContainerConnectionDetails.getConnectionFactoryOptions(MySqlR2dbcContainerConnectionDetailsFactory.java:60)\nat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryOptionsInitializer.initialize(ConnectionFactoryOptionsInitializer.java:51)\nat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryConfigurations.createConnectionFactory(ConnectionFactoryConfigurations.java:65)\nat org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryConfigurations$PoolConfiguration$PooledConnectionFactoryConfiguration.connectionFactory(ConnectionFactoryConfigurations.java:97)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n... 53 more\nCaused by: java.lang.ClassNotFoundException: org.testcontainers.r2dbc.R2DBCDatabaseContainer\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 71 more</p>\n"},{"tags":["java","unit-testing","junit","quarkus"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1700721069,"post_id":77534606,"comment_id":136689625,"body_markdown":"What do you mean &quot;I used @Mock in my test classes when I call the FeatureConfig&quot;? If the `FeatureConfig` is mocked then `isRetryEnabled()` will return false, unless instructed to do otherwise! If so, just instruct the mock to return true - e.g. with Mockito that would be as simple as: `when(mockFeatureConfig.isRetryEnabled()).thenReturn(true)`.","body":"What do you mean &quot;I used @Mock in my test classes when I call the FeatureConfig&quot;? If the <code>FeatureConfig</code> is mocked then <code>isRetryEnabled()</code> will return false, unless instructed to do otherwise! If so, just instruct the mock to return true - e.g. with Mockito that would be as simple as: <code>when(mockFeatureConfig.isRetryEnabled()).thenReturn(true)</code>."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1700995380,"post_id":77534606,"comment_id":136718034,"body_markdown":"Profile aware config files (e.g. `application-test.properties`) do not need to be prefixed with profile prefix (e.g. `%test.`) At first please ensure that `application-test.properties` exists at the exact same location as the `application.properties`. After that in the `application-test.properties` just use `feature.retry.enabled` (without any prefix) as a config key.","body":"Profile aware config files (e.g. <code>application-test.properties</code>) do not need to be prefixed with profile prefix (e.g. <code>%test.</code>) At first please ensure that <code>application-test.properties</code> exists at the exact same location as the <code>application.properties</code>. After that in the <code>application-test.properties</code> just use <code>feature.retry.enabled</code> (without any prefix) as a config key."}],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700718729,"creation_date":1700718729,"question_id":77534606,"body_markdown":"So I already have properties in my application-test.properties\r\n\r\n    %test.feature.retry.enabled=true\r\n\r\nwhile in my application.properties:\r\n\r\n    %dev.feature.retry.enabled=true\r\n\r\nthen in my java code it looks like this:\r\n\r\n    @ConfigMapping(prefix = &quot;feature&quot;)\r\n    public interface FeatureConfig {\r\n    \r\n        @WithName(&quot;retry.enabled&quot;)\r\n        boolean isRetryEnabled();\r\n    }\r\n\r\nthen in service:\r\n\r\n    @ApplicationScoped\r\n    public class GenerationService {\r\n\r\n    @Inject\r\n        private SoaFeatureConfig featureConfig;\r\n\r\n    public Response mainMethod() {\r\n    if (featureConfig.isRetryEnabled()) {\r\n    ...\r\n    }\r\n\r\nI used @Mock in my test classes when I call the FeatureConfig but whenever I run my test classes, it is always false. Is there anything I forgot?","title":"Quarkus Unit Test isn&#39;t reading the properties in application.properties","body":"<p>So I already have properties in my application-test.properties</p>\n<pre><code>%test.feature.retry.enabled=true\n</code></pre>\n<p>while in my application.properties:</p>\n<pre><code>%dev.feature.retry.enabled=true\n</code></pre>\n<p>then in my java code it looks like this:</p>\n<pre><code>@ConfigMapping(prefix = &quot;feature&quot;)\npublic interface FeatureConfig {\n\n    @WithName(&quot;retry.enabled&quot;)\n    boolean isRetryEnabled();\n}\n</code></pre>\n<p>then in service:</p>\n<pre><code>@ApplicationScoped\npublic class GenerationService {\n\n@Inject\n    private SoaFeatureConfig featureConfig;\n\npublic Response mainMethod() {\nif (featureConfig.isRetryEnabled()) {\n...\n}\n</code></pre>\n<p>I used @Mock in my test classes when I call the FeatureConfig but whenever I run my test classes, it is always false. Is there anything I forgot?</p>\n"},{"tags":["java","schema","avro","avro-tools","avsc"],"owner":{"account_id":24194844,"reputation":25,"user_id":18153563,"display_name":"AlpsToronto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700718541,"creation_date":1700718541,"question_id":77534596,"body_markdown":"I have some data that follows an avro schema given below. I generated Java classes from this schema by compiling it using avro-tools utility. However the Java classes contain only standard getters and setters and constructors. How do I access the value of custom attribute &quot;mapto&quot; in my java code. The intention is to transform the input avro file to an output avro file where the output field names come from the &quot;mapto&quot; field.\r\n\r\n   \r\n\r\n     {\r\n       &quot;type&quot;:&quot;record&quot;,\r\n       &quot;name&quot;:&quot;Products&quot;,\r\n       &quot;namespace&quot;:&quot;com.example.datasets&quot;,\r\n       &quot;fields&quot;:[\r\n          {\r\n             &quot;name&quot;:&quot;ProductDetails&quot;,\r\n             &quot;type&quot;:[&quot;null&quot;,{\r\n                &quot;type&quot;:&quot;record&quot;,\r\n                &quot;name&quot;:&quot;ProductDetailsRecord&quot;,\r\n                &quot;fields&quot;:[\r\n                   {\r\n                      &quot;name&quot;:&quot;itemName&quot;,\r\n                      &quot;type&quot;:[&quot;null&quot;,&quot;string&quot;],\r\n                      &quot;default&quot;:null,\r\n    \t\t\t\t  &quot;mapto&quot;:&quot;productName&quot;\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;itemCode&quot;,\r\n                      &quot;type&quot;:[&quot;null&quot;,&quot;string&quot;],\r\n                      &quot;default&quot;:null,\r\n    \t\t\t\t  &quot;mapto&quot;:&quot;productId&quot;\r\n                   }\r\n                   ]\r\n             }]\r\n          }\r\n       \r\n       ]\r\n    }","title":"Access custom attributes in avro schema from Java class","body":"<p>I have some data that follows an avro schema given below. I generated Java classes from this schema by compiling it using avro-tools utility. However the Java classes contain only standard getters and setters and constructors. How do I access the value of custom attribute &quot;mapto&quot; in my java code. The intention is to transform the input avro file to an output avro file where the output field names come from the &quot;mapto&quot; field.</p>\n<pre><code> {\n   &quot;type&quot;:&quot;record&quot;,\n   &quot;name&quot;:&quot;Products&quot;,\n   &quot;namespace&quot;:&quot;com.example.datasets&quot;,\n   &quot;fields&quot;:[\n      {\n         &quot;name&quot;:&quot;ProductDetails&quot;,\n         &quot;type&quot;:[&quot;null&quot;,{\n            &quot;type&quot;:&quot;record&quot;,\n            &quot;name&quot;:&quot;ProductDetailsRecord&quot;,\n            &quot;fields&quot;:[\n               {\n                  &quot;name&quot;:&quot;itemName&quot;,\n                  &quot;type&quot;:[&quot;null&quot;,&quot;string&quot;],\n                  &quot;default&quot;:null,\n                  &quot;mapto&quot;:&quot;productName&quot;\n               },\n               {\n                  &quot;name&quot;:&quot;itemCode&quot;,\n                  &quot;type&quot;:[&quot;null&quot;,&quot;string&quot;],\n                  &quot;default&quot;:null,\n                  &quot;mapto&quot;:&quot;productId&quot;\n               }\n               ]\n         }]\n      }\n   \n   ]\n}\n</code></pre>\n"},{"tags":["java","spring","resttemplate","jira-rest-api"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1406719181,"post_id":21920268,"comment_id":38936637,"body_markdown":"See also http://stackoverflow.com/questions/9376549/resttemplate-basic-or-digest-authentication-with-the-current-httpclient-4-x","body":"See also <a href=\"http://stackoverflow.com/questions/9376549/resttemplate-basic-or-digest-authentication-with-the-current-httpclient-4-x\" title=\"resttemplate basic or digest authentication with the current httpclient 4 x\">stackoverflow.com/questions/9376549/&hellip;</a>"},{"owner":{"account_id":322938,"reputation":6203,"user_id":642653,"accept_rate":89,"display_name":"divanov"},"score":2,"creation_date":1411028920,"post_id":21920268,"comment_id":40551383,"body_markdown":"curl supports authentication out of the box, you just need to tell it username and passoword `curl -u fred:fred`, no need for clunky manual headers. The same goes for Spring.","body":"curl supports authentication out of the box, you just need to tell it username and passoword <code>curl -u fred:fred</code>, no need for clunky manual headers. The same goes for Spring."}],"answers":[{"comments":[{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":2,"creation_date":1431889777,"post_id":21920398,"comment_id":48678692,"body_markdown":"Thanks - this worked for me. I had to point out that if you do not want to use the org.apache.commons.codec.binary.Base64 class and you would like to use the android Base64 class instead: import android.util.Base64;, you can replace the one line above with this:  byte[] base64CredsBytes = Base64.encode(plainCredsBytes, Base64.DEFAULT);","body":"Thanks - this worked for me. I had to point out that if you do not want to use the org.apache.commons.codec.binary.Base64 class and you would like to use the android Base64 class instead: import android.util.Base64;, you can replace the one line above with this:  byte[] base64CredsBytes = Base64.encode(plainCredsBytes, Base64.DEFAULT);"},{"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"score":8,"creation_date":1483384230,"post_id":21920398,"comment_id":70069950,"body_markdown":"java 8 you can use Base64.getMimeEncoder().encodeToString()","body":"java 8 you can use Base64.getMimeEncoder().encodeToString()"},{"owner":{"account_id":12975935,"reputation":88,"user_id":9934732,"display_name":"CKey"},"score":0,"creation_date":1690285219,"post_id":21920398,"comment_id":135329054,"body_markdown":"with HttpHeaders from spring-web:6.0.10, you can also write \nHttpHeaders requestHeaders = new HttpHeaders();\nrequestHeaders.setBasicAuth(user, password);`","body":"with HttpHeaders from spring-web:6.0.10, you can also write  HttpHeaders requestHeaders = new HttpHeaders(); requestHeaders.setBasicAuth(user, password);`"}],"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"comment_count":3,"down_vote_count":3,"up_vote_count":192,"is_accepted":true,"score":189,"last_activity_date":1491505152,"creation_date":1392933053,"answer_id":21920398,"question_id":21920268,"body_markdown":"Taken from the [example on this site][1], I think this would be the most natural way of doing it, by filling in the header value and passing the header to the template.\r\n\r\nThis is to fill in the header `Authorization`:\r\n\r\n    String plainCreds = &quot;willie:p@ssword&quot;;\r\n    byte[] plainCredsBytes = plainCreds.getBytes();\r\n    byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\r\n    String base64Creds = new String(base64CredsBytes);\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\r\n\r\nAnd this is to pass the header to the REST template:\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\n    ResponseEntity&lt;Account&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, Account.class);\r\n    Account account = response.getBody();\r\n\r\n\r\n  [1]: http://springinpractice.com/2013/10/02/quick-tip-basic-authentication-with-spring-resttemplate","title":"Basic authentication for REST API using spring restTemplate","body":"<p>Taken from the <a href=\"http://springinpractice.com/2013/10/02/quick-tip-basic-authentication-with-spring-resttemplate\" rel=\"noreferrer\">example on this site</a>, I think this would be the most natural way of doing it, by filling in the header value and passing the header to the template.</p>\n\n<p>This is to fill in the header <code>Authorization</code>:</p>\n\n<pre><code>String plainCreds = \"willie:p@ssword\";\nbyte[] plainCredsBytes = plainCreds.getBytes();\nbyte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\nString base64Creds = new String(base64CredsBytes);\n\nHttpHeaders headers = new HttpHeaders();\nheaders.add(\"Authorization\", \"Basic \" + base64Creds);\n</code></pre>\n\n<p>And this is to pass the header to the REST template:</p>\n\n<pre><code>HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\nResponseEntity&lt;Account&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, Account.class);\nAccount account = response.getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1569501084,"creation_date":1426060476,"answer_id":28981183,"question_id":21920268,"body_markdown":"Reference Spring Boot&#39;s `TestRestTemplate` implementation as follows:\r\n\r\nhttps://github.com/spring-projects/spring-boot/blob/v1.2.2.RELEASE/spring-boot/src/main/java/org/springframework/boot/test/TestRestTemplate.java\r\n\r\nEspecially, see the addAuthentication() method as follows:\r\n\r\n\r\n\tprivate void addAuthentication(String username, String password) {\r\n\t\tif (username == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tList&lt;ClientHttpRequestInterceptor&gt; interceptors = Collections\r\n\t\t\t\t.&lt;ClientHttpRequestInterceptor&gt; singletonList(new BasicAuthorizationInterceptor(\r\n\t\t\t\t\t\tusername, password));\r\n\t\tsetRequestFactory(new InterceptingClientHttpRequestFactory(getRequestFactory(),\r\n\t\t\t\tinterceptors));\r\n\t}\r\n\r\n\r\nSimilarly, you can make your own `RestTemplate` easily\r\n\r\nby inheritance like `TestRestTemplate` as follows:\r\n\r\nhttps://github.com/izeye/samples-spring-boot-branches/blob/rest-and-actuator-with-security/src/main/java/samples/springboot/util/BasicAuthRestTemplate.java","title":"Basic authentication for REST API using spring restTemplate","body":"<p>Reference Spring Boot's <code>TestRestTemplate</code> implementation as follows:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/v1.2.2.RELEASE/spring-boot/src/main/java/org/springframework/boot/test/TestRestTemplate.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/v1.2.2.RELEASE/spring-boot/src/main/java/org/springframework/boot/test/TestRestTemplate.java</a></p>\n\n<p>Especially, see the addAuthentication() method as follows:</p>\n\n<pre><code>private void addAuthentication(String username, String password) {\n    if (username == null) {\n        return;\n    }\n    List&lt;ClientHttpRequestInterceptor&gt; interceptors = Collections\n            .&lt;ClientHttpRequestInterceptor&gt; singletonList(new BasicAuthorizationInterceptor(\n                    username, password));\n    setRequestFactory(new InterceptingClientHttpRequestFactory(getRequestFactory(),\n            interceptors));\n}\n</code></pre>\n\n<p>Similarly, you can make your own <code>RestTemplate</code> easily</p>\n\n<p>by inheritance like <code>TestRestTemplate</code> as follows:</p>\n\n<p><a href=\"https://github.com/izeye/samples-spring-boot-branches/blob/rest-and-actuator-with-security/src/main/java/samples/springboot/util/BasicAuthRestTemplate.java\" rel=\"nofollow noreferrer\">https://github.com/izeye/samples-spring-boot-branches/blob/rest-and-actuator-with-security/src/main/java/samples/springboot/util/BasicAuthRestTemplate.java</a></p>\n"},{"comments":[{"owner":{"account_id":1536659,"reputation":904,"user_id":1628839,"accept_rate":80,"display_name":"Vivek Sethi"},"score":0,"creation_date":1462864413,"post_id":34947604,"comment_id":61802750,"body_markdown":"TestRestTemplate doesn&#39;t seem to working after upgrading spring boot to 1.3.x","body":"TestRestTemplate doesn&#39;t seem to working after upgrading spring boot to 1.3.x"},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":2,"creation_date":1566993567,"post_id":34947604,"comment_id":101828011,"body_markdown":"Isn&#39;t this supposed to be used for unit tests not release code?","body":"Isn&#39;t this supposed to be used for unit tests not release code?"}],"tags":[],"owner":{"account_id":7689807,"reputation":61,"user_id":5826455,"display_name":"Nidham"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453469633,"creation_date":1453468483,"answer_id":34947604,"question_id":21920268,"body_markdown":"Instead of instantiating as follows:\r\n\r\n    TestRestTemplate restTemplate = new TestRestTemplate();\r\n\r\nJust do it like this:\r\n\r\n    TestRestTemplate restTemplate = new TestRestTemplate(user, password);\r\n\r\nIt works for me, I hope it helps!\r\n","title":"Basic authentication for REST API using spring restTemplate","body":"<p>Instead of instantiating as follows:</p>\n\n<pre><code>TestRestTemplate restTemplate = new TestRestTemplate();\n</code></pre>\n\n<p>Just do it like this:</p>\n\n<pre><code>TestRestTemplate restTemplate = new TestRestTemplate(user, password);\n</code></pre>\n\n<p>It works for me, I hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":4354155,"reputation":3579,"user_id":4298803,"accept_rate":85,"display_name":"Rajkishan Swami"},"score":5,"creation_date":1516282549,"post_id":44370474,"comment_id":83630316,"body_markdown":"Thanks! This is the fastest and easiest way.","body":"Thanks! This is the fastest and easiest way."},{"owner":{"account_id":5100679,"reputation":2687,"user_id":4090386,"display_name":"attacomsian"},"score":4,"creation_date":1569069938,"post_id":44370474,"comment_id":102481393,"body_markdown":"It is not a good solution as it would add an authorization header to each and every request sent through `RestTemplate`.","body":"It is not a good solution as it would add an authorization header to each and every request sent through <code>RestTemplate</code>."}],"tags":[],"owner":{"account_id":968971,"reputation":2150,"user_id":991894,"display_name":"Alex"},"comment_count":2,"down_vote_count":0,"up_vote_count":124,"is_accepted":false,"score":124,"last_activity_date":1544782949,"creation_date":1496670504,"answer_id":44370474,"question_id":21920268,"body_markdown":"You may use spring-boot [RestTemplateBuilder][1]\r\n\r\n    @Bean\r\n    RestOperations rest(RestTemplateBuilder restTemplateBuilder) {\r\n        return restTemplateBuilder.basicAuthentication(&quot;user&quot;, &quot;password&quot;).build();\r\n    }\r\n\r\nSee [documentation][2]\r\n\r\n\r\n(before SB 2.1.0 it was `#basicAuthorization`)\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/client/RestTemplateBuilder.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-resttemplate","title":"Basic authentication for REST API using spring restTemplate","body":"<p>You may use spring-boot <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/client/RestTemplateBuilder.html\" rel=\"noreferrer\">RestTemplateBuilder</a></p>\n\n<pre><code>@Bean\nRestOperations rest(RestTemplateBuilder restTemplateBuilder) {\n    return restTemplateBuilder.basicAuthentication(\"user\", \"password\").build();\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-resttemplate\" rel=\"noreferrer\">documentation</a></p>\n\n<p>(before SB 2.1.0 it was <code>#basicAuthorization</code>)</p>\n"},{"comments":[{"owner":{"account_id":2095250,"reputation":1224,"user_id":1864170,"accept_rate":75,"display_name":"mconner"},"score":5,"creation_date":1555097245,"post_id":49297964,"comment_id":98005151,"body_markdown":"Beware that using interceptors has a consequence that streaming no longer works.  Here&#39;s why: `exchange()` -&gt; `doExecute()`, -&gt; `createRequest()`, -&gt; `InterceptingHttpAccessor.getRequestFactory()` (since `RestTemplate` extends `InterceptingHttpAccessor`).  If there are interceptors, `getRequestFactory()` returns an  `InterceptingClientHttpRequestFactory`, which creates `InterceptingClientHttpRequest`s.  These extend  AbstractBufferingClientHttpRequest`, which converts the input stream to a byte[] (to hand off to the interceptors). So, an InputStream is not actually streamed.","body":"Beware that using interceptors has a consequence that streaming no longer works.  Here&#39;s why: <code>exchange()</code> -&gt; <code>doExecute()</code>, -&gt; <code>createRequest()</code>, -&gt; <code>InterceptingHttpAccessor.getRequestFactory()</code> (since <code>RestTemplate</code> extends <code>InterceptingHttpAccessor</code>).  If there are interceptors, <code>getRequestFactory()</code> returns an  <code>InterceptingClientHttpRequestFactory</code>, which creates <code>InterceptingClientHttpRequest</code>s.  These extend  AbstractBufferingClientHttpRequest`, which converts the input stream to a byte[] (to hand off to the interceptors). So, an InputStream is not actually streamed."},{"owner":{"account_id":136756,"reputation":7597,"user_id":340478,"accept_rate":78,"display_name":"6006604"},"score":2,"creation_date":1663782056,"post_id":49297964,"comment_id":130322453,"body_markdown":"This approach is now deprecated. Use BasicAuthenticationInterceptor instead.","body":"This approach is now deprecated. Use BasicAuthenticationInterceptor instead."}],"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1521112318,"creation_date":1521112318,"answer_id":49297964,"question_id":21920268,"body_markdown":"(maybe) the easiest way without importing spring-boot.\r\n\r\n    restTemplate.getInterceptors().add(new BasicAuthorizationInterceptor(&quot;user&quot;, &quot;password&quot;));\r\n","title":"Basic authentication for REST API using spring restTemplate","body":"<p>(maybe) the easiest way without importing spring-boot.</p>\n\n<pre><code>restTemplate.getInterceptors().add(new BasicAuthorizationInterceptor(\"user\", \"password\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612749,"reputation":431,"user_id":5773145,"display_name":"YanivJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1542723362,"creation_date":1542723362,"answer_id":53394971,"question_id":21920268,"body_markdown":"As of Spring 5.1 you can use `HttpHeaders.setBasicAuth`\r\n\r\nCreate Basic Authorization header:\r\n\r\n    String username = &quot;willie&quot;;\r\n    String password = &quot;:p@ssword&quot;;\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(username, password);\r\n    ...other headers goes here...\r\n\r\nPass the headers to the RestTemplate:\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\n    ResponseEntity&lt;Account&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, Account.class);\r\n    Account account = response.getBody();\r\n\r\nDocumentation: \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setBasicAuth-java.lang.String-java.lang.String-\r\n\r\n","title":"Basic authentication for REST API using spring restTemplate","body":"<p>As of Spring 5.1 you can use <code>HttpHeaders.setBasicAuth</code></p>\n\n<p>Create Basic Authorization header:</p>\n\n<pre><code>String username = \"willie\";\nString password = \":p@ssword\";\nHttpHeaders headers = new HttpHeaders();\nheaders.setBasicAuth(username, password);\n...other headers goes here...\n</code></pre>\n\n<p>Pass the headers to the RestTemplate:</p>\n\n<pre><code>HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\nResponseEntity&lt;Account&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, Account.class);\nAccount account = response.getBody();\n</code></pre>\n\n<p>Documentation: \n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setBasicAuth-java.lang.String-java.lang.String-\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setBasicAuth-java.lang.String-java.lang.String-</a></p>\n"},{"comments":[{"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"score":0,"creation_date":1578299022,"post_id":58040587,"comment_id":105380920,"body_markdown":"Best answer. Each for it&#39;s kind.","body":"Best answer. Each for it&#39;s kind."},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":0,"creation_date":1657694225,"post_id":58040587,"comment_id":128868315,"body_markdown":"Being on Spring 5.2 I just loved to see the phrase &quot;If you are using Spring 5.1 or higher...&quot; - yes please, finally!","body":"Being on Spring 5.2 I just loved to see the phrase &quot;If you are using Spring 5.1 or higher...&quot; - yes please, finally!"}],"tags":[],"owner":{"account_id":5100679,"reputation":2687,"user_id":4090386,"display_name":"attacomsian"},"comment_count":2,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1569071191,"creation_date":1569071191,"answer_id":58040587,"question_id":21920268,"body_markdown":"There are multiple ways to add the basic HTTP authentication to the `RestTemplate`.\r\n\r\n### 1. For a single request\r\n\r\n```java\r\ntry {\r\n    // request url\r\n    String url = &quot;https://jsonplaceholder.typicode.com/posts&quot;;\r\n\r\n    // create auth credentials\r\n    String authStr = &quot;username:password&quot;;\r\n    String base64Creds = Base64.getEncoder().encodeToString(authStr.getBytes());\r\n\r\n    // create headers\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds);\r\n\r\n    // create request\r\n    HttpEntity request = new HttpEntity(headers);\r\n\r\n    // make a request\r\n    ResponseEntity&lt;String&gt; response = new RestTemplate().exchange(url, HttpMethod.GET, request, String.class);\r\n\r\n    // get JSON response\r\n    String json = response.getBody();\r\n\r\n} catch (Exception ex) {\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\nIf you are using Spring `5.1` or higher, it is no longer required to manually set the authorization header. Use `headers.setBasicAuth()` method instead:\r\n\r\n```java\r\n// create headers\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setBasicAuth(&quot;username&quot;, &quot;password&quot;);\r\n```\r\n\r\n### 2. For a group of requests\r\n\r\n```java\r\n@Service\r\npublic class RestService {\r\n\r\n    private final RestTemplate restTemplate;\r\n\r\n    public RestService(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder\r\n                .basicAuthentication(&quot;username&quot;, &quot;password&quot;)\r\n                .build();\r\n    }\r\n\r\n   // use `restTemplate` instance here\r\n}\r\n```\r\n\r\n### 3. For each and every request\r\n\r\n```java\r\n@Bean\r\nRestOperations restTemplateBuilder(RestTemplateBuilder restTemplateBuilder) {\r\n    return restTemplateBuilder.basicAuthentication(&quot;username&quot;, &quot;password&quot;).build();\r\n}\r\n```\r\n\r\nI hope it helps!","title":"Basic authentication for REST API using spring restTemplate","body":"<p>There are multiple ways to add the basic HTTP authentication to the <code>RestTemplate</code>.</p>\n\n<h3>1. For a single request</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // request url\n    String url = \"https://jsonplaceholder.typicode.com/posts\";\n\n    // create auth credentials\n    String authStr = \"username:password\";\n    String base64Creds = Base64.getEncoder().encodeToString(authStr.getBytes());\n\n    // create headers\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Authorization\", \"Basic \" + base64Creds);\n\n    // create request\n    HttpEntity request = new HttpEntity(headers);\n\n    // make a request\n    ResponseEntity&lt;String&gt; response = new RestTemplate().exchange(url, HttpMethod.GET, request, String.class);\n\n    // get JSON response\n    String json = response.getBody();\n\n} catch (Exception ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>If you are using Spring <code>5.1</code> or higher, it is no longer required to manually set the authorization header. Use <code>headers.setBasicAuth()</code> method instead:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// create headers\nHttpHeaders headers = new HttpHeaders();\nheaders.setBasicAuth(\"username\", \"password\");\n</code></pre>\n\n<h3>2. For a group of requests</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class RestService {\n\n    private final RestTemplate restTemplate;\n\n    public RestService(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder\n                .basicAuthentication(\"username\", \"password\")\n                .build();\n    }\n\n   // use `restTemplate` instance here\n}\n</code></pre>\n\n<h3>3. For each and every request</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nRestOperations restTemplateBuilder(RestTemplateBuilder restTemplateBuilder) {\n    return restTemplateBuilder.basicAuthentication(\"username\", \"password\").build();\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1601136295,"post_id":63835298,"comment_id":113314130,"body_markdown":"Dublicate of https://stackoverflow.com/a/53394971 answer","body":"Dublicate of <a href=\"https://stackoverflow.com/a/53394971\">stackoverflow.com/a/53394971</a> answer"}],"tags":[],"owner":{"account_id":3325603,"reputation":2164,"user_id":2795762,"display_name":"Clairton Luz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599760853,"creation_date":1599760853,"answer_id":63835298,"question_id":21920268,"body_markdown":"Use `setBasicAuth` to define credentials\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(&quot;myUsername&quot;, myPassword);\r\n\r\nThen create the request like you prefer.\r\n\r\nExample:\r\n\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, \r\n    request, String.class);\r\n    String body = response.getBody();","title":"Basic authentication for REST API using spring restTemplate","body":"<p>Use <code>setBasicAuth</code> to define credentials</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setBasicAuth(&quot;myUsername&quot;, myPassword);\n</code></pre>\n<p>Then create the request like you prefer.</p>\n<p>Example:</p>\n<pre><code>HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, \nrequest, String.class);\nString body = response.getBody();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1700718015,"post_id":70016798,"comment_id":136689346,"body_markdown":"This seems to be pretty much just a repeat of [this existing answer](https://stackoverflow.com/a/63835298).","body":"This seems to be pretty much just a repeat of <a href=\"https://stackoverflow.com/a/63835298\">this existing answer</a>."}],"tags":[],"owner":{"account_id":20012753,"reputation":61,"user_id":14669455,"display_name":"Its-Saab"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700717824,"creation_date":1637224686,"answer_id":70016798,"question_id":21920268,"body_markdown":"```java\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setBasicAuth(username, password);\r\n```\r\n\r\nthen continue with the same procedure mentioned by the others here:\r\n\r\n```java\r\nHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, String.class);\r\n```","title":"Basic authentication for REST API using spring restTemplate","body":"<pre class=\"lang-java prettyprint-override\"><code>HttpHeaders headers = new HttpHeaders();\nheaders.setBasicAuth(username, password);\n</code></pre>\n<p>then continue with the same procedure mentioned by the others here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, request, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1640555,"reputation":1305,"user_id":1513086,"accept_rate":50,"display_name":"Ali Bigdeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652530252,"creation_date":1652530252,"answer_id":72240058,"question_id":21920268,"body_markdown":"I&#39;m using spring version `5.3.15` for my unit test environment. I used `withBasicAuth` for my tests : \r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class MyTestClass {\r\n    ...\r\n    @Autowired\r\n    private TestRestTemplate restTemplate;\r\n    ...\r\n    @Test\r\n    @SneakyThrows\r\n    public void TestGetSettings(){\r\n        DtoClass dtoClass  = this.restTemplate\r\n                           .withBasicAuth(UserServices.DEFAULT_USER, UserServices.DEFAULT_PASSWORD)\r\n                           .getForObject(String.format(&quot;http://localhost:%d/setting&quot;,\r\n                port), DtoClass.class);\r\n        assertThat(dtoClass.getClientAddress()).isNotEmpty();\r\n    }\r\n   ...\r\n}\r\n\r\n```\r\nAs you see this method only work for basic authentication. If you look at the details of the `withBasicAuth` method, you will find that the method source will be like this: \r\n\r\n```java\r\n// TestRestTemplate.java file: \r\n...\r\npublic class TestRestTemplate {\r\n    ... \r\n    private final RestTemplateBuilder builder;\r\n    ...\r\n    public TestRestTemplate withBasicAuth(String username, String password) {\r\n      TestRestTemplate template = new TestRestTemplate(this.builder, username, password, this.httpClientOptions);\r\n      ...\r\n    }\r\n}\r\n\r\n```\r\nAs a result, for other types of authentication you can use the `RestTemplateBuilder` as a builder which is mentioned in other answers. ","title":"Basic authentication for REST API using spring restTemplate","body":"<p>I'm using spring version <code>5.3.15</code> for my unit test environment. I used <code>withBasicAuth</code> for my tests :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MyTestClass {\n    ...\n    @Autowired\n    private TestRestTemplate restTemplate;\n    ...\n    @Test\n    @SneakyThrows\n    public void TestGetSettings(){\n        DtoClass dtoClass  = this.restTemplate\n                           .withBasicAuth(UserServices.DEFAULT_USER, UserServices.DEFAULT_PASSWORD)\n                           .getForObject(String.format(&quot;http://localhost:%d/setting&quot;,\n                port), DtoClass.class);\n        assertThat(dtoClass.getClientAddress()).isNotEmpty();\n    }\n   ...\n}\n\n</code></pre>\n<p>As you see this method only work for basic authentication. If you look at the details of the <code>withBasicAuth</code> method, you will find that the method source will be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// TestRestTemplate.java file: \n...\npublic class TestRestTemplate {\n    ... \n    private final RestTemplateBuilder builder;\n    ...\n    public TestRestTemplate withBasicAuth(String username, String password) {\n      TestRestTemplate template = new TestRestTemplate(this.builder, username, password, this.httpClientOptions);\n      ...\n    }\n}\n\n</code></pre>\n<p>As a result, for other types of authentication you can use the <code>RestTemplateBuilder</code> as a builder which is mentioned in other answers.</p>\n"},{"tags":[],"owner":{"account_id":22750170,"reputation":1,"user_id":16910437,"display_name":"Praveen Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667557516,"creation_date":1667233084,"answer_id":74266205,"question_id":21920268,"body_markdown":"Follow Step By Step\r\n\r\nI added **Client Credentials** In application.Properties file like below...  \r\n \r\nhttp.basicauth.username = yourUserName   \r\nhttp.basicauth.password = yourPassword  \r\n \r\n And , Then I created one class With two fields Because I&#39;m loading those two fields from the Application.Properties file : **username** and **password** . Make sure your class is annotated with **@Component**..\r\n\r\n    @Value(&quot;${http.basicauth.username}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${http.basicauth.password}&quot;)\r\n    private String password;\r\n\r\nAnd Then , You need to **autowired** above class From Wherever you want..\r\n\r\n   \r\n    // I&#39;m getting a username and password from application.properties file \r\n    String userCredentials = referenceClassName.getUsername()+&quot;:&quot;+referenceClassName.getPassword();\r\n    // Encoded User Credentials and Convert it into a String                        \r\n    String encodedUserCredentials= Base64.getMimeEncoder().encodeToString(userCredentialsBytes.getBytes());        \r\n    headers.set(&quot;Authorization&quot;, &quot;Basic &quot; +base64UserCredentials);\r\n\r\n    HttpEntity request = new HttpEntity(headers);\r\n    String url = &quot;externalUrl&quot;;\r\n    // Getting a Json String body\r\n    String body = restTemplate.exchange(url,HttpMethod.GET,request,String.class).getBody();\r\n\r\n     Note :: For getting an Access Token from String Json body  , That&#39;s why  I converted it into a Json Object\r\n     JsonObject tokenJsonObject = new JsonParser().parse(body).getAsJsonObject();\r\n    // Getting access token as string from tokenJsonObject\r\n    String accessToken = tokenJsonObject.has(&quot;access_token&quot;) &amp;&amp; !tokenJsonObject.get(&quot;access_token&quot;).isJsonNull() ? tokenJsonObject.get(&quot;access_token&quot;).getAsString() : &quot;&quot;;\r\n\r\nIf you have any concerns, please let me know in comments..Hope It will helpful to you..\r\n\r\n ","title":"Basic authentication for REST API using spring restTemplate","body":"<p>Follow Step By Step</p>\n<p>I added <strong>Client Credentials</strong> In application.Properties file like below...</p>\n<p>http.basicauth.username = yourUserName<br />\nhttp.basicauth.password = yourPassword</p>\n<p>And , Then I created one class With two fields Because I'm loading those two fields from the Application.Properties file : <strong>username</strong> and <strong>password</strong> . Make sure your class is annotated with <strong>@Component</strong>..</p>\n<pre><code>@Value(&quot;${http.basicauth.username}&quot;)\nprivate String username;\n\n@Value(&quot;${http.basicauth.password}&quot;)\nprivate String password;\n</code></pre>\n<p>And Then , You need to <strong>autowired</strong> above class From Wherever you want..</p>\n<pre><code>// I'm getting a username and password from application.properties file \nString userCredentials = referenceClassName.getUsername()+&quot;:&quot;+referenceClassName.getPassword();\n// Encoded User Credentials and Convert it into a String                        \nString encodedUserCredentials= Base64.getMimeEncoder().encodeToString(userCredentialsBytes.getBytes());        \nheaders.set(&quot;Authorization&quot;, &quot;Basic &quot; +base64UserCredentials);\n\nHttpEntity request = new HttpEntity(headers);\nString url = &quot;externalUrl&quot;;\n// Getting a Json String body\nString body = restTemplate.exchange(url,HttpMethod.GET,request,String.class).getBody();\n\n Note :: For getting an Access Token from String Json body  , That's why  I converted it into a Json Object\n JsonObject tokenJsonObject = new JsonParser().parse(body).getAsJsonObject();\n// Getting access token as string from tokenJsonObject\nString accessToken = tokenJsonObject.has(&quot;access_token&quot;) &amp;&amp; !tokenJsonObject.get(&quot;access_token&quot;).isJsonNull() ? tokenJsonObject.get(&quot;access_token&quot;).getAsString() : &quot;&quot;;\n</code></pre>\n<p>If you have any concerns, please let me know in comments..Hope It will helpful to you..</p>\n"},{"tags":[],"owner":{"account_id":3822436,"reputation":1169,"user_id":3170186,"accept_rate":88,"display_name":"Atequer Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669115576,"creation_date":1669115576,"answer_id":74531717,"question_id":21920268,"body_markdown":"`I have been using Spring above 5.1.x`\r\n\r\n    // create headers for basic auth\r\n\r\n    var headers = new HttpHeaders();\r\n    headers.setBasicAuth(&quot;username&quot;, &quot;password&quot;);\r\n","title":"Basic authentication for REST API using spring restTemplate","body":"<p><code>I have been using Spring above 5.1.x</code></p>\n<pre><code>// create headers for basic auth\n\nvar headers = new HttpHeaders();\nheaders.setBasicAuth(&quot;username&quot;, &quot;password&quot;);\n</code></pre>\n"}],"owner":{"account_id":2473553,"reputation":2364,"user_id":2154744,"accept_rate":75,"display_name":"shippi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257403,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":21920398,"answer_count":12,"score":118,"last_activity_date":1700717824,"creation_date":1392932649,"question_id":21920268,"body_markdown":"I am completely new in RestTemplate and basically in the REST APIs also. I want to retrieve some data in my application via Jira REST API, but getting back 401 Unauthorised. Found and article on [jira rest api documentation][1] but don&#39;t really know how to rewrite this into java as the example uses the command line way with curl. I would appreciate any suggestion or advice how to rewrite:\r\n\r\n    curl -D- -X GET -H &quot;Authorization: Basic ZnJlZDpmcmVk&quot; -H &quot;Content-Type: application/json&quot; &quot;http://kelpie9:8081/rest/api/2/issue/QA-31&quot;\r\n\r\ninto java using spring rest template. Where the ZnJlZDpmcmVk is a base64 encoded string of username:password. Thank you very much.\r\n\r\n\r\n  [1]: https://developer.atlassian.com/display/JIRADEV/JIRA+REST+API+Example+-+Basic+Authentication","title":"Basic authentication for REST API using spring restTemplate","body":"<p>I am completely new in RestTemplate and basically in the REST APIs also. I want to retrieve some data in my application via Jira REST API, but getting back 401 Unauthorised. Found and article on <a href=\"https://developer.atlassian.com/display/JIRADEV/JIRA+REST+API+Example+-+Basic+Authentication\">jira rest api documentation</a> but don't really know how to rewrite this into java as the example uses the command line way with curl. I would appreciate any suggestion or advice how to rewrite:</p>\n\n<pre><code>curl -D- -X GET -H \"Authorization: Basic ZnJlZDpmcmVk\" -H \"Content-Type: application/json\" \"http://kelpie9:8081/rest/api/2/issue/QA-31\"\n</code></pre>\n\n<p>into java using spring rest template. Where the ZnJlZDpmcmVk is a base64 encoded string of username:password. Thank you very much.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","spring-scheduled"],"comments":[{"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"score":0,"creation_date":1649767038,"post_id":71702674,"comment_id":126954947,"body_markdown":"Was the answer I posted useful?","body":"Was the answer I posted useful?"}],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648798353,"creation_date":1648798353,"answer_id":71703319,"question_id":71702674,"body_markdown":"You need to manage consuming process manually. It is possible if you disable `autostartup` feature of `KafkaListener`.\r\n\r\nThere are two discussions about this. See below:\r\n\r\nhttps://stackoverflow.com/questions/59260089/is-there-any-example-of-spring-schedule-that-reads-kafka-topic\r\n\r\nhttps://stackoverflow.com/questions/65612527/spring-boot-job-scheduler-with-kafka-consumer   ","title":"Intermittently consuming kafka messages in a springboot application","body":"<p>You need to manage consuming process manually. It is possible if you disable <code>autostartup</code> feature of <code>KafkaListener</code>.</p>\n<p>There are two discussions about this. See below:</p>\n<p><a href=\"https://stackoverflow.com/questions/59260089/is-there-any-example-of-spring-schedule-that-reads-kafka-topic\">Is there any example of Spring Schedule that reads Kafka topic?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/65612527/spring-boot-job-scheduler-with-kafka-consumer\">Spring Boot Job scheduler with Kafka consumer</a></p>\n"},{"tags":[],"owner":{"account_id":3362578,"reputation":11,"user_id":2824065,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700717508,"creation_date":1700717490,"answer_id":77534532,"question_id":71702674,"body_markdown":"Try to use idleBetweenPolls parameter, it will allow you to read periodically\r\n\r\nSee https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/ContainerProperties.html#setIdleBetweenPolls(long)","title":"Intermittently consuming kafka messages in a springboot application","body":"<p>Try to use idleBetweenPolls parameter, it will allow you to read periodically</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/ContainerProperties.html#setIdleBetweenPolls(long)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/ContainerProperties.html#setIdleBetweenPolls(long)</a></p>\n"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71703319,"answer_count":2,"score":0,"last_activity_date":1700717508,"creation_date":1648794610,"question_id":71702674,"body_markdown":"I have the following use-case:\r\n\r\nMessages which my application could not process, possibly due to some intermittent issues related to network, etc, are being written to a kafka topic. \r\n\r\nI want to periodically read these messages using a cron/scheduled task, and then process them. \r\n\r\nSo far I&#39;ve used the  KafkaListener in my springboot for my kafka-related needs, and has worked well. \r\n\r\nHowever, I could not find a way to read messages intermittently using KafkaListener. \r\n\r\n\r\nIs there even a way to do this in spring? Would be glad if someone could link to documents or tutorials or describe a way to achieve what I want to do. \r\n","title":"Intermittently consuming kafka messages in a springboot application","body":"<p>I have the following use-case:</p>\n<p>Messages which my application could not process, possibly due to some intermittent issues related to network, etc, are being written to a kafka topic.</p>\n<p>I want to periodically read these messages using a cron/scheduled task, and then process them.</p>\n<p>So far I've used the  KafkaListener in my springboot for my kafka-related needs, and has worked well.</p>\n<p>However, I could not find a way to read messages intermittently using KafkaListener.</p>\n<p>Is there even a way to do this in spring? Would be glad if someone could link to documents or tutorials or describe a way to achieve what I want to do.</p>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580121185,"creation_date":1580120731,"answer_id":59929215,"question_id":59929037,"body_markdown":"No, it was suggested and [declined][1] (*Provide convenience methods for Headers in RestTemplateBuilder*)\r\n\r\n&gt;I think the easiest way at the moment is to do something like this:\r\n\r\n&gt;     RequestEntity&lt;Void&gt; request = RequestEntity.post(url)\r\n\t\t.accept(MediaType.APPLICATION_JSON).header(&quot;foo&quot;, &quot;bar&quot;).build();\r\n    restTemplate.exchange(request, String.class);\r\nI&#39;m inclined to agree with @wilkinsona that adding extra convince methods might not as useful as the current basicAuthorization method. That one is quite common, and when it was added was super painful to code yourself (it&#39;s now easier since Spring 4.3.1 added the BasicAuthorizationInterceptor class).\r\n\r\n&gt;We need to balance the convenience of any new convenience methods against the complexity of having too many ways to do the same thing. Since it&#39;s relatively easy to plug in a RestTemplateCustomizer for any application that want this behavior, I think we shouldn&#39;t add these.\r\n\r\n\r\n[1]:https://github.com/spring-projects/spring-boot/issues/11708","title":"RestTemplate with Bearer Authorization","body":"<p>No, it was suggested and <a href=\"https://github.com/spring-projects/spring-boot/issues/11708\" rel=\"nofollow noreferrer\">declined</a> (<em>Provide convenience methods for Headers in RestTemplateBuilder</em>)</p>\n\n<blockquote>\n  <p>I think the easiest way at the moment is to do something like this:</p>\n\n<pre><code>RequestEntity&lt;Void&gt; request = RequestEntity.post(url)\n    .accept(MediaType.APPLICATION_JSON).header(\"foo\", \"bar\").build();\nrestTemplate.exchange(request, String.class);\n</code></pre>\n  \n  <p>I'm inclined to agree with @wilkinsona that adding extra convince methods might not as useful as the current basicAuthorization method. That one is quite common, and when it was added was super painful to code yourself (it's now easier since Spring 4.3.1 added the BasicAuthorizationInterceptor class).</p>\n  \n  <p>We need to balance the convenience of any new convenience methods against the complexity of having too many ways to do the same thing. Since it's relatively easy to plug in a RestTemplateCustomizer for any application that want this behavior, I think we shouldn't add these.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11391822,"reputation":148,"user_id":8351575,"display_name":"svrdoljak"},"score":0,"creation_date":1580122806,"post_id":59929216,"comment_id":105981516,"body_markdown":"When i call this RestTemplate, can i still add more headers and my body like usual?","body":"When i call this RestTemplate, can i still add more headers and my body like usual?"},{"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"score":0,"creation_date":1580130784,"post_id":59929216,"comment_id":105985700,"body_markdown":"@svrdoljak, yes, but the `Bearer` header will always be override","body":"@svrdoljak, yes, but the <code>Bearer</code> header will always be override"},{"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"score":6,"creation_date":1597671980,"post_id":59929216,"comment_id":112201656,"body_markdown":"The header should probably be: request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + token), i.e. Bearer in the value part before the token and &quot;Authorization&quot; as the name of the header.","body":"The header should probably be: request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + token), i.e. Bearer in the value part before the token and &quot;Authorization&quot; as the name of the header."}],"tags":[],"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1700717029,"creation_date":1580120739,"answer_id":59929216,"question_id":59929037,"body_markdown":"You can use interceptors to inject the token to the request headers like so\r\n\r\n```java\r\n    @Bean(name = &quot;myRestTemplate&quot;)\r\n    public RestTemplate someRestTemplate(RestTemplateBuilder builder) {\r\n        return builder.rootUri(&quot;some uri&quot;)\r\n                .additionalInterceptors((ClientHttpRequestInterceptor) (request, body, execution) -&gt; {\r\n                    request.getHeaders().add(&quot;Bearer&quot;, &quot;token&quot;);\r\n                    return execution.execute(request, body);\r\n                }).build();\r\n    }\r\n```\r\n\r\nAnd from your app, you can simply use it like this:\r\n\r\n```java\r\n    @Autowired\r\n    @Qualifier(&quot;myRestTemplate&quot;)\r\n    private RestTemplate restTemplate;\r\n```\r\n\r\nKeep in mind you can still use the `restTemplate` object as usual, setting headers and etc, **but** the `Bearer` header will always be overridden with `&quot;token&quot;` because the interceptors apply right before the request is made.\r\n","title":"RestTemplate with Bearer Authorization","body":"<p>You can use interceptors to inject the token to the request headers like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean(name = &quot;myRestTemplate&quot;)\n    public RestTemplate someRestTemplate(RestTemplateBuilder builder) {\n        return builder.rootUri(&quot;some uri&quot;)\n                .additionalInterceptors((ClientHttpRequestInterceptor) (request, body, execution) -&gt; {\n                    request.getHeaders().add(&quot;Bearer&quot;, &quot;token&quot;);\n                    return execution.execute(request, body);\n                }).build();\n    }\n</code></pre>\n<p>And from your app, you can simply use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    @Qualifier(&quot;myRestTemplate&quot;)\n    private RestTemplate restTemplate;\n</code></pre>\n<p>Keep in mind you can still use the <code>restTemplate</code> object as usual, setting headers and etc, <strong>but</strong> the <code>Bearer</code> header will always be overridden with <code>&quot;token&quot;</code> because the interceptors apply right before the request is made.</p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580140559,"creation_date":1580140559,"answer_id":59934612,"question_id":59929037,"body_markdown":"You can use [OAuth2RestTemplate][1], which is tailored exactly for your purpose.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/oauth/apidocs/org/springframework/security/oauth2/client/OAuth2RestTemplate.html","title":"RestTemplate with Bearer Authorization","body":"<p>You can use <a href=\"https://docs.spring.io/spring-security/oauth/apidocs/org/springframework/security/oauth2/client/OAuth2RestTemplate.html\" rel=\"nofollow noreferrer\">OAuth2RestTemplate</a>, which is tailored exactly for your purpose.</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1700716961,"post_id":65735566,"comment_id":136689259,"body_markdown":"`new HttpEntity&lt;(headers);` ← missing `&gt;`","body":"<code>new HttpEntity&lt;(headers);</code> ← missing <code>&gt;</code>"}],"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610711320,"creation_date":1610711320,"answer_id":65735566,"question_id":59929037,"body_markdown":"        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Authorization&quot; , &quot;Bearer token&quot;);\r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;(headers);\r\n\r\n        ResponseEntity&lt;Object&gt; response = null;\r\n    \r\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;url&quot;);\r\n        try {\r\n            response = restTemplate.exchange(builder.toUriString(),\r\n                    HttpMethod.GET,\r\n                    entity, Object.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\nYou can try this one.","title":"RestTemplate with Bearer Authorization","body":"<pre><code>    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Authorization&quot; , &quot;Bearer token&quot;);\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;(headers);\n\n    ResponseEntity&lt;Object&gt; response = null;\n\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;url&quot;);\n    try {\n        response = restTemplate.exchange(builder.toUriString(),\n                HttpMethod.GET,\n                entity, Object.class);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>You can try this one.</p>\n"},{"comments":[{"owner":{"account_id":3926804,"reputation":312,"user_id":3246928,"display_name":"Brian"},"score":1,"creation_date":1627797867,"post_id":66045294,"comment_id":121248926,"body_markdown":"Additionally, like in linalinux&#39;s comment, there should be a space after &quot;Bearer&quot;. i.e. &quot;Bearer &quot; + token","body":"Additionally, like in linalinux&#39;s comment, there should be a space after &quot;Bearer&quot;. i.e. &quot;Bearer &quot; + token"}],"tags":[],"owner":{"account_id":14625491,"reputation":332,"user_id":10562974,"display_name":"ksysha"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1659705849,"creation_date":1612440431,"answer_id":66045294,"question_id":59929037,"body_markdown":"As [lilalinux][1] pointed out in the comment - Authorization is the name of the header and Bearer + the token itself are the value.  \r\n\r\n    @Bean(name = &quot;myRestTemplate&quot;)\r\n    public RestTemplate collectCentRestTemplate(RestTemplateBuilder builder) {\r\n        return builder.rootUri(&quot;some uri&quot;)\r\n                .additionalInterceptors((ClientHttpRequestInterceptor) (request, body, execution) -&gt; {\r\n                    request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n                    return execution.execute(request, body);\r\n                }).build();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1410212/lilalinux","title":"RestTemplate with Bearer Authorization","body":"<p>As <a href=\"https://stackoverflow.com/users/1410212/lilalinux\">lilalinux</a> pointed out in the comment - Authorization is the name of the header and Bearer + the token itself are the value.</p>\n<pre><code>@Bean(name = &quot;myRestTemplate&quot;)\npublic RestTemplate collectCentRestTemplate(RestTemplateBuilder builder) {\n    return builder.rootUri(&quot;some uri&quot;)\n            .additionalInterceptors((ClientHttpRequestInterceptor) (request, body, execution) -&gt; {\n                request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n                return execution.execute(request, body);\n            }).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629490766,"creation_date":1629490766,"answer_id":68867679,"question_id":59929037,"body_markdown":"this works for me,\r\n\r\n    restTemplate.getInterceptors().add((outReq, bytes, clientHttpReqExec) -&gt; {\r\n                outReq.getHeaders().set(\r\n                        HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token\r\n                      );\r\n                      return clientHttpReqExec.execute(outReq, bytes);\r\n                    });\r\n    restTemplate.getForObject(...\r\n    restTemplate.postForObject(....","title":"RestTemplate with Bearer Authorization","body":"<p>this works for me,</p>\n<pre><code>restTemplate.getInterceptors().add((outReq, bytes, clientHttpReqExec) -&gt; {\n            outReq.getHeaders().set(\n                    HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token\n                  );\n                  return clientHttpReqExec.execute(outReq, bytes);\n                });\nrestTemplate.getForObject(...\nrestTemplate.postForObject(....\n</code></pre>\n"}],"owner":{"account_id":11391822,"reputation":148,"user_id":8351575,"display_name":"svrdoljak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21190,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1700717029,"creation_date":1580120154,"question_id":59929037,"body_markdown":"Is it possible to create with RestTemplateBuilder an instance of RestTemplate with just the bearer header and token?\r\n\r\nI know i can use RestTemplate exchange and set inside the HttpEntity my headers but is it possible to do something like this:\r\n```java\r\npublic RestTemplate getRestTemplate(){\r\n    RestTemplateBuilder builder = new RestTemplateBuilder();\r\n    return builder.build().exchange().setBearerAuth(&quot;token here&quot;); //this is not possible\r\n}\r\n```\r\n\r\nHope you understand what i want to do.","title":"RestTemplate with Bearer Authorization","body":"<p>Is it possible to create with RestTemplateBuilder an instance of RestTemplate with just the bearer header and token?</p>\n\n<p>I know i can use RestTemplate exchange and set inside the HttpEntity my headers but is it possible to do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public RestTemplate getRestTemplate(){\n    RestTemplateBuilder builder = new RestTemplateBuilder();\n    return builder.build().exchange().setBearerAuth(\"token here\"); //this is not possible\n}\n</code></pre>\n\n<p>Hope you understand what i want to do.</p>\n"},{"tags":["java","arrays","char","filereader"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700676163,"post_id":77531895,"comment_id":136684935,"body_markdown":"The `ready()` call is pointless.","body":"The <code>ready()</code> call is pointless."}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700679379,"post_id":77532019,"comment_id":136685471,"body_markdown":"If the O/P doesn&#39;t want null characters in the array, the O/P could follow it with a call to a `fill`  method:  `char[] array = new char[100];  Arrays.fill (array, &#39; &#39;);","body":"If the O/P doesn&#39;t want null characters in the array, the O/P could follow it with a call to a <code>fill</code>  method:  `char[] array = new char[100];  Arrays.fill (array, &#39; &#39;);"}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700714485,"creation_date":1700673894,"answer_id":77532019,"question_id":77531895,"body_markdown":"You have an array:\r\n```\r\nchar[] array = new char[100];\r\n```\r\n\r\nAny time you create an array with particular size, it is initialized with the default values of its type. So, your array has default values in it and the default value of `char` is &#39;\\u0000&#39; (the [null character](https://en.wikipedia.org/wiki/Null_character)), which is printed as some weird rectangle that you see.\r\n\r\nAfter that, you have a code:\r\n```java\r\nreader.read(array);\r\n```\r\nwhich [reads](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)) input into provided array (i.e. reads input and stores that in the array). So, it fills the array from the beginning (0 index) with the content that is in the file (one character per one slot of the underlying array), and if the number of characters in the file is less than the number of slots of the provided array, you have a remainder, that is the slots with their initial (default) values in it.","title":"Why does my reader output square symbols?","body":"<p>You have an array:</p>\n<pre><code>char[] array = new char[100];\n</code></pre>\n<p>Any time you create an array with particular size, it is initialized with the default values of its type. So, your array has default values in it and the default value of <code>char</code> is '\\u0000' (the <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow noreferrer\">null character</a>), which is printed as some weird rectangle that you see.</p>\n<p>After that, you have a code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>reader.read(array);\n</code></pre>\n<p>which <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)\" rel=\"nofollow noreferrer\">reads</a> input into provided array (i.e. reads input and stores that in the array). So, it fills the array from the beginning (0 index) with the content that is in the file (one character per one slot of the underlying array), and if the number of characters in the file is less than the number of slots of the provided array, you have a remainder, that is the slots with their initial (default) values in it.</p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700686377,"creation_date":1700686377,"answer_id":77533038,"question_id":77531895,"body_markdown":"This is a very low-level way to read a text file. The method `read` that you used [returns](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)) the number of read characters and you can print them, say, in a loop:\r\n\r\n```java\r\nint n = reader.read(array);\r\n\r\nfor (int i = 0; i &lt; n; i++) {\r\n\tSystem.out.print(array[i]);\r\n}\r\n```\r\n\r\nOr you can [create](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D,int,int)) a new `String` from the read portion of the array:\r\n\r\n```java\r\nint n = reader.read(array);\r\nSystem.out.println(new String(array, 0, n));\r\n```\r\n\r\n`System.out` is of class `PrintStream`, which is rather ancient. The newer class `PrintWriter` has a [method](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#write(char%5B%5D,int,int)) to write a part of an array:\r\n\r\n```java\r\nint n = reader.read(array);\r\nPrintWriter writer = new PrintWriter(System.out);\r\nwriter.write(array, 0, n);\r\nwriter.flush();\r\n```\r\n\r\nUnfortunately, if the text file is empty, `n` becomes `-1` and two last approaches will fail, so for that an extra check is required.\r\n\r\nNote that you read only first 100 characters of the file this way. If the file can be larger, you need to repeat reading in a `while` loop.\r\n\r\nFor more high-level operations with text files, use [`BufferedReader`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/BufferedReader.html) class (contains a handy method `readLine`) or [`Scanner`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html).","title":"Why does my reader output square symbols?","body":"<p>This is a very low-level way to read a text file. The method <code>read</code> that you used <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)\" rel=\"nofollow noreferrer\">returns</a> the number of read characters and you can print them, say, in a loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = reader.read(array);\n\nfor (int i = 0; i &lt; n; i++) {\n    System.out.print(array[i]);\n}\n</code></pre>\n<p>Or you can <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D,int,int)\" rel=\"nofollow noreferrer\">create</a> a new <code>String</code> from the read portion of the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = reader.read(array);\nSystem.out.println(new String(array, 0, n));\n</code></pre>\n<p><code>System.out</code> is of class <code>PrintStream</code>, which is rather ancient. The newer class <code>PrintWriter</code> has a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#write(char%5B%5D,int,int)\" rel=\"nofollow noreferrer\">method</a> to write a part of an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = reader.read(array);\nPrintWriter writer = new PrintWriter(System.out);\nwriter.write(array, 0, n);\nwriter.flush();\n</code></pre>\n<p>Unfortunately, if the text file is empty, <code>n</code> becomes <code>-1</code> and two last approaches will fail, so for that an extra check is required.</p>\n<p>Note that you read only first 100 characters of the file this way. If the file can be larger, you need to repeat reading in a <code>while</code> loop.</p>\n<p>For more high-level operations with text files, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\"><code>BufferedReader</code></a> class (contains a handy method <code>readLine</code>) or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code></a>.</p>\n"}],"owner":{"account_id":29968407,"reputation":21,"user_id":22966420,"display_name":"user22966420"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700714485,"creation_date":1700672808,"question_id":77531895,"body_markdown":"I am following some tutorial vids and learning how to read files with java. In this example the instructor creates a char array sized to 100 and then uses the FileReader class to read a text file and place the characters is the char array, and then System.out the array to the console. My code is the same as the instructor but my output includes square symbols to fill up the 100 char array, while the instructors output shows the char array correctly.\r\n\r\nHere is the code snippet and output\r\n\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class MSReader\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        // the character stream lasses when working\r\n        // with char or strings [ reader, writer]\r\n        \r\n        char[] array = new char[100];\r\n        \r\n        try \r\n        {\r\n            Reader reader = new FileReader(\r\n                &quot;C:\\\\Users\\\\ricky\\\\OneDrive\\\\Desktop - Lenovo Laptop\\\\test\\\\InputStreamExample.txt&quot;);\r\n            // check if reader is ready\r\n            System.out.println(&quot;Ready: &quot; + reader.ready());\r\n            // reading the characters\r\n            reader.read(array);\r\n            System.out.println(&quot;Data in the stream: &quot;);\r\n            System.out.println(array);\r\n            \r\n            // close stream\r\n            reader.close();\r\n        }\r\n        catch (FileNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput I get:\r\n[output](https://i.stack.imgur.com/Ml1iI.png)\r\n\r\nThe instructors output doesnt show the square symbols.  When I copy and paste the symbols to this site, it doesnt show up either so I had to take a screenshot of it.\r\n","title":"Why does my reader output square symbols?","body":"<p>I am following some tutorial vids and learning how to read files with java. In this example the instructor creates a char array sized to 100 and then uses the FileReader class to read a text file and place the characters is the char array, and then System.out the array to the console. My code is the same as the instructor but my output includes square symbols to fill up the 100 char array, while the instructors output shows the char array correctly.</p>\n<p>Here is the code snippet and output</p>\n<pre><code>import java.io.*;\n\npublic class MSReader\n{\n\n    public static void main(String[] args)\n    {\n        // the character stream lasses when working\n        // with char or strings [ reader, writer]\n        \n        char[] array = new char[100];\n        \n        try \n        {\n            Reader reader = new FileReader(\n                &quot;C:\\\\Users\\\\ricky\\\\OneDrive\\\\Desktop - Lenovo Laptop\\\\test\\\\InputStreamExample.txt&quot;);\n            // check if reader is ready\n            System.out.println(&quot;Ready: &quot; + reader.ready());\n            // reading the characters\n            reader.read(array);\n            System.out.println(&quot;Data in the stream: &quot;);\n            System.out.println(array);\n            \n            // close stream\n            reader.close();\n        }\n        catch (FileNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Output I get:\n<a href=\"https://i.stack.imgur.com/Ml1iI.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>The instructors output doesnt show the square symbols.  When I copy and paste the symbols to this site, it doesnt show up either so I had to take a screenshot of it.</p>\n"},{"tags":["java","maven","groovy","command-line-interface","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1700712091,"post_id":77533224,"comment_id":136688868,"body_markdown":"_&quot; I know that only java tests run because AppTests.java has no tests&quot;_ You are wrong. `AppTests` actually has one test, it just happens to be doing nothing. It should be reported, but is not. I.e., not just the Spock tests are not running but the JUnit Java tests are not either. This tells you that there is something fundamentally wrong with your POM.","body":"<i>&quot; I know that only java tests run because AppTests.java has no tests&quot;</i> You are wrong. <code>AppTests</code> actually has one test, it just happens to be doing nothing. It should be reported, but is not. I.e., not just the Spock tests are not running but the JUnit Java tests are not either. This tells you that there is something fundamentally wrong with your POM."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700726083,"post_id":77533224,"comment_id":136690254,"body_markdown":"My question would be why using groovy based test instead of Java ... apart from that the spring boot version is a bit out of date ... https://spring.io/projects/spring-boot#support apart from that you should migrate to Spring Boot 3.X","body":"My question would be why using groovy based test instead of Java ... apart from that the spring boot version is a bit out of date ... <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> apart from that you should migrate to Spring Boot 3.X"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1700738937,"post_id":77533224,"comment_id":136692764,"body_markdown":"Karl Heinz, because Spock is an order of magnitude nicer than JUnit, both for developers and the stakeholders they talk to. For more than ten years, as an agile coach I have introduced Spock to multiple teams, and all of them never looked back, once they were infected. &#128521;","body":"Karl Heinz, because Spock is an order of magnitude nicer than JUnit, both for developers and the stakeholders they talk to. For more than ten years, as an agile coach I have introduced Spock to multiple teams, and all of them never looked back, once they were infected. 😉"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700714098,"creation_date":1700713622,"answer_id":77534365,"question_id":77533224,"body_markdown":"Your effective POM shows that you use Surefire 2.22.2 by default. If you upgrade to a more recent version, it should work:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;-Dplatform.environment=ci&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIf now your Spock tests are running, but not your Spring Boot test, probably you imported the JUnit 4 class `org.junit.Test`, which is also on your classpath. Instead, you need `org.junit.jupiter.api.Test` for JUnit 5:\r\n\r\n```java\r\npackage com.project;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass AppTests {\r\n  @Test // Do *not* import org.junit.Test!\r\n  void contextLoads() {}\r\n}\r\n```\r\n\r\nNow, both the Java JUnit Jupiter tests and the Spock 2 tests should run on the same platform, i.e. JUnit 5.\r\n\r\n---\r\n\r\n**Update:** The reason that JUnit 4 is on your classpath is that you got it via `groovy-all`, which also pulls in `groovy-test`. Maybe next time either only depend on `groovy` + other modules that you really need, or explicitly exclude `groovy-test`. Then the IDE will no longer offer to import the wrong annotation. But it will still offer the TestNG `@Test` annotation, so maybe you want to exclude that, too, if you do not need it.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n  &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.18&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy-test&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy-testng&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n  &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Maven - run java and groovy tests","body":"<p>Your effective POM shows that you use Surefire 2.22.2 by default. If you upgrade to a more recent version, it should work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;-Dplatform.environment=ci&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If now your Spock tests are running, but not your Spring Boot test, probably you imported the JUnit 4 class <code>org.junit.Test</code>, which is also on your classpath. Instead, you need <code>org.junit.jupiter.api.Test</code> for JUnit 5:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.project;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass AppTests {\n  @Test // Do *not* import org.junit.Test!\n  void contextLoads() {}\n}\n</code></pre>\n<p>Now, both the Java JUnit Jupiter tests and the Spock 2 tests should run on the same platform, i.e. JUnit 5.</p>\n<hr />\n<p><strong>Update:</strong> The reason that JUnit 4 is on your classpath is that you got it via <code>groovy-all</code>, which also pulls in <code>groovy-test</code>. Maybe next time either only depend on <code>groovy</code> + other modules that you really need, or explicitly exclude <code>groovy-test</code>. Then the IDE will no longer offer to import the wrong annotation. But it will still offer the TestNG <code>@Test</code> annotation, so maybe you want to exclude that, too, if you do not need it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n  &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n  &lt;version&gt;3.0.18&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy-test&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy-testng&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12494043,"reputation":18,"user_id":9094698,"display_name":"Rustacean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77534365,"answer_count":1,"score":0,"last_activity_date":1700714098,"creation_date":1700689209,"question_id":77533224,"body_markdown":"When running\r\n`mvn test`\r\nOnly java tests are run\r\n\r\nI want to learn how to run all tests without IDE\r\n\r\n\r\nOutput (important part)\r\n\r\n```\r\n[INFO] --- gmavenplus-plugin:3.0.0:addTestSources (default) @ project ---\r\n\r\n[INFO] --- swagger-codegen-maven-plugin:3.0.35:generate (generate-orchestrator) @ project ---\r\n...\r\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ project ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] Copying 1 resource\r\n[INFO] Copying 1 resource\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ project ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 32 source files to ...project/target/classes\r\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ project ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] skip non existing resourceDirectory ...project/src/test/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ project ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to ...project/target/test-classes\r\n[INFO] \r\n[INFO] --- gmavenplus-plugin:3.0.0:compileTests (default) @ project ---\r\n[INFO] Using isolated classloader, without GMavenPlus classpath.\r\n[INFO] Using Groovy 3.0.13 to perform compileTests.\r\n[INFO] Parallel parsing disabled.\r\n[INFO] Compiled 8 files.\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ project ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running TestSuite\r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.258 s - in TestSuite\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\ntests tree (anonimized, but idea is there)\r\n```\r\nsrc/test/\r\n├── groovy\r\n│&#160;&#160; └── com\r\n│&#160;&#160;           └── project\r\n│&#160;&#160;                 ├── ASampleTest.groovy\r\n│&#160;&#160;                 ├── smoke\r\n│&#160;&#160;                 │&#160;&#160; ├── BlaTest.groovy\r\n│&#160;&#160;                 │&#160;&#160; └── utils\r\n│&#160;&#160;                 │&#160;&#160;     └── Provider.groovy\r\n│&#160;&#160;                 └── unit\r\n│&#160;&#160;                     ├── BlaTest2.groovy\r\n│&#160;&#160;                     └── BlaTest.groovy\r\n├── java\r\n│&#160;&#160; └── com\r\n│&#160;&#160;             └── project\r\n│&#160;&#160;                 └── AppTests.java\r\n\r\n```\r\nAnd I know that only java tests run because AppTests.java has no tests:\r\n\r\n```\r\n@SpringBootTest\r\nclass AppTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;project&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2-M3-groovy-3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2-M3-groovy-3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.13&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.35&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-orchestrator&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi/geo_search_v4.yaml&lt;/inputSpec&gt;\r\n                            &lt;language&gt;java&lt;/language&gt;\r\n                            &lt;modelPackage&gt;com.sabre.zjwpit.geo.api&lt;/modelPackage&gt;\r\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                            &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;library&gt;resttemplate&lt;/library&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\r\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.30&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;addTestSources&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compileTests&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dplatform.environment=ci&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is a project I got and just cloned, I&#39;ve tried in IntelliJ Run All tests and it doesn&#39;t work either. I can run all groovy test with IntelliJ. but I&#39;m interested in running all tests from command line mainly for learning puposes.","title":"Maven - run java and groovy tests","body":"<p>When running\n<code>mvn test</code>\nOnly java tests are run</p>\n<p>I want to learn how to run all tests without IDE</p>\n<p>Output (important part)</p>\n<pre><code>[INFO] --- gmavenplus-plugin:3.0.0:addTestSources (default) @ project ---\n\n[INFO] --- swagger-codegen-maven-plugin:3.0.35:generate (generate-orchestrator) @ project ---\n...\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ project ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ project ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 32 source files to ...project/target/classes\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ project ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory ...project/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ project ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to ...project/target/test-classes\n[INFO] \n[INFO] --- gmavenplus-plugin:3.0.0:compileTests (default) @ project ---\n[INFO] Using isolated classloader, without GMavenPlus classpath.\n[INFO] Using Groovy 3.0.13 to perform compileTests.\n[INFO] Parallel parsing disabled.\n[INFO] Compiled 8 files.\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ project ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running TestSuite\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.258 s - in TestSuite\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>tests tree (anonimized, but idea is there)</p>\n<pre><code>src/test/\n├── groovy\n│   └── com\n│             └── project\n│                   ├── ASampleTest.groovy\n│                   ├── smoke\n│                   │   ├── BlaTest.groovy\n│                   │   └── utils\n│                   │       └── Provider.groovy\n│                   └── unit\n│                       ├── BlaTest2.groovy\n│                       └── BlaTest.groovy\n├── java\n│   └── com\n│               └── project\n│                   └── AppTests.java\n\n</code></pre>\n<p>And I know that only java tests run because AppTests.java has no tests:</p>\n<pre><code>@SpringBootTest\nclass AppTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2-M3-groovy-3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spock-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.2-M3-groovy-3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n            &lt;version&gt;3.0.13&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.35&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-orchestrator&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi/geo_search_v4.yaml&lt;/inputSpec&gt;\n                            &lt;language&gt;java&lt;/language&gt;\n                            &lt;modelPackage&gt;com.sabre.zjwpit.geo.api&lt;/modelPackage&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;generateApis&gt;false&lt;/generateApis&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;library&gt;resttemplate&lt;/library&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                        &lt;version&gt;1.30&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;addTestSources&lt;/goal&gt;\n                            &lt;goal&gt;compileTests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dplatform.environment=ci&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is a project I got and just cloned, I've tried in IntelliJ Run All tests and it doesn't work either. I can run all groovy test with IntelliJ. but I'm interested in running all tests from command line mainly for learning puposes.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":3,"creation_date":1700600514,"post_id":77525912,"comment_id":136674168,"body_markdown":"All you&#39;ve posted is a stack trace - Please post an actual description of your issue and any relevant troubleshooting you&#39;ve tried.","body":"All you&#39;ve posted is a stack trace - Please post an actual description of your issue and any relevant troubleshooting you&#39;ve tried."},{"owner":{"account_id":13080803,"reputation":13,"user_id":9451426,"display_name":"user9451426"},"score":0,"creation_date":1700600931,"post_id":77525912,"comment_id":136674231,"body_markdown":"But I am not using anywhere WebMvcConfigurerAdapter class in code","body":"But I am not using anywhere WebMvcConfigurerAdapter class in code"}],"owner":{"account_id":13080803,"reputation":13,"user_id":9451426,"display_name":"user9451426"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":0,"score":-4,"last_activity_date":1700712695,"creation_date":1700600456,"question_id":77525912,"body_markdown":"```none\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1f182d41 testClass = com.rbc.bbp0.wiremock.TestFibrsRestControllerIT, locations = [], classes = [com.rbc.bbp0.Application], contextInitializerClasses = [com.rbc.ue90.security.testtools.JsonWebKeySetEndpointInitializer], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;fibrsApiUrl.hostName=http://localhost:8082/api/v2/fibrs/&quot;, &quot;orgUsers.hostname=http://localhost:8082&quot;, &quot;entitlementApi.hostName=http://localhost:8082&quot;, &quot;spring.cloud.discovery.enabled=false&quot;, &quot;rest.client.custinq.baseUrl=http://localhost:8082&quot;, &quot;rest.client.interac-register.baseUrl=http://localhost:8082&quot;, &quot;rest.client.interac-register-v2.baseUrl=http://localhost:8082&quot;, &quot;rest.client.bcrms.baseUrl=http://localhost:8082&quot;, &quot;resilience4j.retry.instances.fibrs-shared-api.max-attempts=3&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.slidingWindowSize=4&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.permittedNumberOfCallsInHalfOpenState=3&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.wait-duration-in-open-state=1s&quot;, &quot;resilience4j.retry.instances.bcrms-get-contracts.max-attempts=3&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.slidingWindowSize=4&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.permittedNumberOfCallsInHalfOpenState=3&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.wait-duration-in-open-state=1s&quot;, &quot;rest.client.ventil.url=http://localhost:8082&quot;, &quot;rest.client.ventil.time-to-live=1&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [[ImportsContextCustomizer@5140f549 key = [com.rbc.bbp0.configuration.WireMockServerConfig, com.rbc.ue90.security.testtools.IsamTokenGeneratorConfig, com.rbc.ue90.security.eureka.authorities.SecurityMetadataReporterConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3968bc60, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@63c12e52, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@17e1125, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@5f314302, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e0c6a7a, org.springframework.boot.test.context.SpringBootTestAnnotation@de81dd7b], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.rbc.bbp0.Application]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:527)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:500)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n        ... 73 more\r\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\r\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\r\n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\r\n        at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\r\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n        at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86)\r\n        at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73)\r\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\r\n        at org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getSuperClass(ConfigurationClassParser.java:926)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:334)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:517)\r\n        ... 97 more\r\n```","title":"Spring Boot 3.0 migration fails by trying to find WebMvcConfigurerAdapter even though I do not use that class in code","body":"<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1f182d41 testClass = com.rbc.bbp0.wiremock.TestFibrsRestControllerIT, locations = [], classes = [com.rbc.bbp0.Application], contextInitializerClasses = [com.rbc.ue90.security.testtools.JsonWebKeySetEndpointInitializer], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;fibrsApiUrl.hostName=http://localhost:8082/api/v2/fibrs/&quot;, &quot;orgUsers.hostname=http://localhost:8082&quot;, &quot;entitlementApi.hostName=http://localhost:8082&quot;, &quot;spring.cloud.discovery.enabled=false&quot;, &quot;rest.client.custinq.baseUrl=http://localhost:8082&quot;, &quot;rest.client.interac-register.baseUrl=http://localhost:8082&quot;, &quot;rest.client.interac-register-v2.baseUrl=http://localhost:8082&quot;, &quot;rest.client.bcrms.baseUrl=http://localhost:8082&quot;, &quot;resilience4j.retry.instances.fibrs-shared-api.max-attempts=3&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.slidingWindowSize=4&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.permittedNumberOfCallsInHalfOpenState=3&quot;, &quot;resilience4j.circuitbreaker.instances.fibrs-shared-api.wait-duration-in-open-state=1s&quot;, &quot;resilience4j.retry.instances.bcrms-get-contracts.max-attempts=3&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.slidingWindowSize=4&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.permittedNumberOfCallsInHalfOpenState=3&quot;, &quot;resilience4j.circuitbreaker.instances.bcrms-get-contracts.wait-duration-in-open-state=1s&quot;, &quot;rest.client.ventil.url=http://localhost:8082&quot;, &quot;rest.client.ventil.time-to-live=1&quot;, &quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;, &quot;server.port=0&quot;], contextCustomizers = [[ImportsContextCustomizer@5140f549 key = [com.rbc.bbp0.configuration.WireMockServerConfig, com.rbc.ue90.security.testtools.IsamTokenGeneratorConfig, com.rbc.ue90.security.eureka.authorities.SecurityMetadataReporterConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3968bc60, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@63c12e52, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@17e1125, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@5f314302, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6e0c6a7a, org.springframework.boot.test.context.SpringBootTestAnnotation@de81dd7b], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n        at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n        at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.rbc.bbp0.Application]: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:527)\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:500)\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:779)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n        ... 73 more\nCaused by: java.io.FileNotFoundException: class path resource [org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.class] cannot be opened because it does not exist\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:211)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:54)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:48)\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n        at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86)\n        at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73)\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\n        at org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:613)\n        at org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getSuperClass(ConfigurationClassParser.java:926)\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:334)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:517)\n        ... 97 more\n</code></pre>\n"},{"tags":["java","multithreading","resteasy"],"answers":[{"comments":[{"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"score":0,"creation_date":1448864560,"post_id":33992066,"comment_id":55740832,"body_markdown":"So if I use `PoolingHttpClientConnectionManager` to create the `HttpClient`, then it should be thread safe?","body":"So if I use <code>PoolingHttpClientConnectionManager</code> to create the <code>HttpClient</code>, then it should be thread safe?"}],"tags":[],"owner":{"account_id":4335372,"reputation":725,"user_id":3539967,"display_name":"Russell Cohen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700712142,"creation_date":1448861944,"answer_id":33992066,"question_id":33990873,"body_markdown":"No. By default, the ResteasyClient is not thread safe because of its underlying HTTP dependencies. https://stackoverflow.com/questions/15508480/resteasy-client-proxy-overhead has a way to create a client in a threadsafe way.","title":"Is ResteasyClient threadsafe?","body":"<p>No. By default, the ResteasyClient is not thread safe because of its underlying HTTP dependencies. <a href=\"https://stackoverflow.com/questions/15508480/resteasy-client-proxy-overhead\">RESTEasy Client Proxy Overhead?</a> has a way to create a client in a threadsafe way.</p>\n"}],"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33992066,"answer_count":1,"score":1,"last_activity_date":1700712142,"creation_date":1448853025,"question_id":33990873,"body_markdown":"I want to avoid creating a new `org.jboss.resteasy.client.jaxrs.ResteasyClient 3.0.9`when my `Service` method gets called; so I want to set it as member variable in the `Service` class. Therefore, I&#39;d want to know if `ResteasyClient` **threadsafe**.","title":"Is ResteasyClient threadsafe?","body":"<p>I want to avoid creating a new <code>org.jboss.resteasy.client.jaxrs.ResteasyClient 3.0.9</code>when my <code>Service</code> method gets called; so I want to set it as member variable in the <code>Service</code> class. Therefore, I'd want to know if <code>ResteasyClient</code> <strong>threadsafe</strong>.</p>\n"},{"tags":["java","project-reactor","reactor"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1651762616,"post_id":72128875,"comment_id":127444876,"body_markdown":"How about this instead `.groupBy(Obj::getId).flatMap(group -&gt; group.window(Duration.ofMillis(2000).flatMap(Flux::last)).collectToList()`?","body":"How about this instead <code>.groupBy(Obj::getId).flatMap(group -&gt; group.window(Duration.ofMillis(2000).flatMap(Flux::last)).co&zwnj;&#8203;llectToList()</code>?"},{"owner":{"account_id":1176021,"reputation":130,"user_id":1152049,"accept_rate":100,"display_name":"Vincenzo"},"score":0,"creation_date":1651765381,"post_id":72128875,"comment_id":127446134,"body_markdown":"Not working, it waits the end of the flux to print, I think this is collect* behavior. Without collect it&#39;s better, I&#39;m working on that. Thanks","body":"Not working, it waits the end of the flux to print, I think this is collect* behavior. Without collect it&#39;s better, I&#39;m working on that. Thanks"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1651766300,"post_id":72128875,"comment_id":127446484,"body_markdown":"Well, that&#39;s your call to use a `collectToList()`. Not sure why you blame us for not working. It is really expected: see its JavaDocs: `Collect all elements emitted by this {@link Flux} into a {@link List} that is emitted by the resulting {@link Mono} when this sequence completes`","body":"Well, that&#39;s your call to use a <code>collectToList()</code>. Not sure why you blame us for not working. It is really expected: see its JavaDocs: <code>Collect all elements emitted by this {@link Flux} into a {@link List} that is emitted by the resulting {@link Mono} when this sequence completes</code>"},{"owner":{"account_id":1176021,"reputation":130,"user_id":1152049,"accept_rate":100,"display_name":"Vincenzo"},"score":0,"creation_date":1651766861,"post_id":72128875,"comment_id":127446694,"body_markdown":"Yeah exactly, sorry I mean not working for my use case, I&#39;m trying to create a list for each iteration, without wait for the sequence to complete.","body":"Yeah exactly, sorry I mean not working for my use case, I&#39;m trying to create a list for each iteration, without wait for the sequence to complete."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1651766996,"post_id":72128875,"comment_id":127446740,"body_markdown":"Then `buffer()` instead of `collectToList()`: `* Collect incoming values into multiple {@link List} buffers that will be emitted by the returned {@link Flux} every {@code bufferingTimespan}.`","body":"Then <code>buffer()</code> instead of <code>collectToList()</code>: <code>* Collect incoming values into multiple {@link List} buffers that will be emitted by the returned {@link Flux} every {@code bufferingTimespan}.</code>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677723569,"creation_date":1651815480,"answer_id":72136642,"question_id":72128875,"body_markdown":"`buffer` will emit `List&lt;T&gt;`, therefore you could just use non-reactive java to group by. For example, java streams like in your example. Assuming your process function is reactive, you could continue the flow\r\n\r\n```\r\nflux\r\n\t.buffer(Duration.ofMillis(2000))\r\n\t.map(list -&gt; list.stream().collect(Collectors.toMap(Entry::getId, Function.identity(), (k, v) -&gt; v)))\r\n\t.flatMapIterable(Map::values)\r\n\t.flatMap(obj -&gt; process(obj));\r\n```","title":"How to buffer and group elements in Reactor Flux in Java","body":"<p><code>buffer</code> will emit <code>List&lt;T&gt;</code>, therefore you could just use non-reactive java to group by. For example, java streams like in your example. Assuming your process function is reactive, you could continue the flow</p>\n<pre><code>flux\n    .buffer(Duration.ofMillis(2000))\n    .map(list -&gt; list.stream().collect(Collectors.toMap(Entry::getId, Function.identity(), (k, v) -&gt; v)))\n    .flatMapIterable(Map::values)\n    .flatMap(obj -&gt; process(obj));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176021,"reputation":130,"user_id":1152049,"accept_rate":100,"display_name":"Vincenzo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657617651,"creation_date":1657617651,"answer_id":72949940,"question_id":72128875,"body_markdown":"I was able to achieve it with the reactive grouping\r\n\r\n    flux.window(Duration.ofMillis(2000))\r\n        .flatMap(window -&gt; window.groupBy(Entry::getId)\r\n            .flatMap(GroupedFlux::last)\r\n            .collectList()\r\n        )\r\n        .subscribe(this::printList);","title":"How to buffer and group elements in Reactor Flux in Java","body":"<p>I was able to achieve it with the reactive grouping</p>\n<pre><code>flux.window(Duration.ofMillis(2000))\n    .flatMap(window -&gt; window.groupBy(Entry::getId)\n        .flatMap(GroupedFlux::last)\n        .collectList()\n    )\n    .subscribe(this::printList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20563987,"reputation":1,"user_id":15093841,"display_name":"seby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700712019,"creation_date":1700712019,"answer_id":77534296,"question_id":72128875,"body_markdown":"Have a somewhat similar use case. Have simulation data on AWS S3. The data is stored as JSON records in chunks of 512. Need to download a variable number of these chunks and transform them into a single JSON array. The transformer signals that it needs no more records by returning the number of transformed records - which would be zero when there is no need of further records. Below are two snippets of code. The first uses *Flux.window* while the latter uses *Flux.buffer*. The latter executes at about one tenth the speed of the former but downloads more data than is absolutely necessary.\r\n\r\n*Flux.window* code\r\n\r\n\t\tFlux&lt;Flux&lt;S3Object&gt;&gt; s3Objects = Flux.fromIterable(filteredList).window(windowSize);\r\n\t\tInteger cumulativeSize = s3Objects.concatMap(innerS3Objects -&gt; {\r\n\t\t\tFlux &lt;File&gt; downloadedFiles = innerS3Objects.publishOn(Schedulers.boundedElastic()).concatMap(s3Object -&gt; downloadS3Object(BUCKET_NAME, s3Object.key()));\r\n\t\t\treturn downloadedFiles.publishOn(Schedulers.single()).concatMap(downloadedFile -&gt; {\r\n\t\t\t\treturn transformMockarooData(downloadedFile, generator, targetHourCount);\r\n\t\t\t}).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j);\t\t\t\t\r\n\t\t}).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j).block();\r\n\r\n*Flux.buffer* code\r\n\r\n\t\tFlux&lt;List&lt;S3Object&gt;&gt; s3Objects = Flux.fromIterable(filteredList).buffer(windowSize);\r\n\t\tInteger cumulativeSize = s3Objects.concatMap(innerS3Objects -&gt; {\r\n\t\t\tList &lt;Mono&lt;File&gt;&gt; toDownloadFiles = innerS3Objects.stream().map(s3Object -&gt; downloadS3Object(BUCKET_NAME, s3Object.key())).collect(Collectors.toList());\r\n\t\t\tFlux &lt;File&gt; downloadedFiles = Flux.merge(toDownloadFiles);\r\n\t\t\treturn downloadedFiles.publishOn(Schedulers.single()).concatMap(downloadedFile -&gt; {\r\n\t\t\t\treturn transformMockarooData(downloadedFile, generator, targetHourCount);\r\n\t\t\t}).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j);\t\t\t\t\r\n\t\t}).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j).block();\r\n\r\n","title":"How to buffer and group elements in Reactor Flux in Java","body":"<p>Have a somewhat similar use case. Have simulation data on AWS S3. The data is stored as JSON records in chunks of 512. Need to download a variable number of these chunks and transform them into a single JSON array. The transformer signals that it needs no more records by returning the number of transformed records - which would be zero when there is no need of further records. Below are two snippets of code. The first uses <em>Flux.window</em> while the latter uses <em>Flux.buffer</em>. The latter executes at about one tenth the speed of the former but downloads more data than is absolutely necessary.</p>\n<p><em>Flux.window</em> code</p>\n<pre><code>    Flux&lt;Flux&lt;S3Object&gt;&gt; s3Objects = Flux.fromIterable(filteredList).window(windowSize);\n    Integer cumulativeSize = s3Objects.concatMap(innerS3Objects -&gt; {\n        Flux &lt;File&gt; downloadedFiles = innerS3Objects.publishOn(Schedulers.boundedElastic()).concatMap(s3Object -&gt; downloadS3Object(BUCKET_NAME, s3Object.key()));\n        return downloadedFiles.publishOn(Schedulers.single()).concatMap(downloadedFile -&gt; {\n            return transformMockarooData(downloadedFile, generator, targetHourCount);\n        }).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j);               \n    }).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j).block();\n</code></pre>\n<p><em>Flux.buffer</em> code</p>\n<pre><code>    Flux&lt;List&lt;S3Object&gt;&gt; s3Objects = Flux.fromIterable(filteredList).buffer(windowSize);\n    Integer cumulativeSize = s3Objects.concatMap(innerS3Objects -&gt; {\n        List &lt;Mono&lt;File&gt;&gt; toDownloadFiles = innerS3Objects.stream().map(s3Object -&gt; downloadS3Object(BUCKET_NAME, s3Object.key())).collect(Collectors.toList());\n        Flux &lt;File&gt; downloadedFiles = Flux.merge(toDownloadFiles);\n        return downloadedFiles.publishOn(Schedulers.single()).concatMap(downloadedFile -&gt; {\n            return transformMockarooData(downloadedFile, generator, targetHourCount);\n        }).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j);               \n    }).takeUntil(transformedRecordCount -&gt; (transformedRecordCount == 0)).reduce((i,j) -&gt; i + j).block();\n</code></pre>\n"}],"owner":{"account_id":1176021,"reputation":130,"user_id":1152049,"accept_rate":100,"display_name":"Vincenzo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72949940,"answer_count":3,"score":0,"last_activity_date":1700712019,"creation_date":1651760767,"question_id":72128875,"body_markdown":"Given an infinite flux of objects, where each object has an ID, how can I use flux to create a buffered list of updates grouped by ID property (keeping the last emitted value)?\r\nThanks\r\n\r\nExample\r\n\r\n```\r\n    Obj(ID=A, V=1)\r\n\tObj(ID=A, V=2)\r\n\tObj(ID=B, V=3) \r\n\t--- buffer -&gt; I want to subscribe with a list of [Obj(ID=A, V=2), Obj(ID=B, V=3)]\r\n\tObj(ID=A, V=1)\r\n\tObj(ID=B, V=4)\r\n\tObj(ID=B, V=6)\r\n\tObj(ID=A, V=2)\r\n\t--- buffer -&gt; I want to subscribe with a list of [Obj(ID=B, V=6), Obj(ID=A, V=2)]\r\n\tObj(ID=B, V=1)\r\n\t--- buffer -&gt; I want to subscribe with a list of [Obj(ID=B, V=1)]\r\n```\r\nSomething like the following would be perfect but it seems to wait the end of the flux in my tests instead of buffering.\r\n\r\n```\r\nflux\r\n    .buffer(Duration.ofMillis(2000))\r\n    .groupBy(Obj::getId)\r\n    .flatMap(GroupedFlux::getLast)\r\n    .collectToList()\r\n    .subscribe(this::printList);\r\n```\r\nIt works with buffer and custom logic for grouping\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n        flux.buffer(Duration.ofMillis(2000)).subscribe(this::groupList);\r\n\t}\r\n\r\n    private void groupList(List&lt;T&gt; ts) {\r\n        Collection&lt;T&gt; values = ts.stream()\r\n                .collect(Collectors.toMap(T::getId, Function.identity(), (k, v) -&gt; v))\r\n                .values();\r\n        System.out.println(values);\r\n    }\r\n```","title":"How to buffer and group elements in Reactor Flux in Java","body":"<p>Given an infinite flux of objects, where each object has an ID, how can I use flux to create a buffered list of updates grouped by ID property (keeping the last emitted value)?\nThanks</p>\n<p>Example</p>\n<pre><code>    Obj(ID=A, V=1)\n    Obj(ID=A, V=2)\n    Obj(ID=B, V=3) \n    --- buffer -&gt; I want to subscribe with a list of [Obj(ID=A, V=2), Obj(ID=B, V=3)]\n    Obj(ID=A, V=1)\n    Obj(ID=B, V=4)\n    Obj(ID=B, V=6)\n    Obj(ID=A, V=2)\n    --- buffer -&gt; I want to subscribe with a list of [Obj(ID=B, V=6), Obj(ID=A, V=2)]\n    Obj(ID=B, V=1)\n    --- buffer -&gt; I want to subscribe with a list of [Obj(ID=B, V=1)]\n</code></pre>\n<p>Something like the following would be perfect but it seems to wait the end of the flux in my tests instead of buffering.</p>\n<pre><code>flux\n    .buffer(Duration.ofMillis(2000))\n    .groupBy(Obj::getId)\n    .flatMap(GroupedFlux::getLast)\n    .collectToList()\n    .subscribe(this::printList);\n</code></pre>\n<p>It works with buffer and custom logic for grouping</p>\n<pre><code>    public static void main(String[] args) {\n        flux.buffer(Duration.ofMillis(2000)).subscribe(this::groupList);\n    }\n\n    private void groupList(List&lt;T&gt; ts) {\n        Collection&lt;T&gt; values = ts.stream()\n                .collect(Collectors.toMap(T::getId, Function.identity(), (k, v) -&gt; v))\n                .values();\n        System.out.println(values);\n    }\n</code></pre>\n"},{"tags":["java","openapi","javadoc","springdoc"],"answers":[{"comments":[{"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"score":0,"creation_date":1701701804,"post_id":77534224,"comment_id":136805099,"body_markdown":"Cool! In case anybody needs it, there&#39;s a variation that works for kotlin as well: https://stackoverflow.com/a/72773537/3094906","body":"Cool! In case anybody needs it, there&#39;s a variation that works for kotlin as well: <a href=\"https://stackoverflow.com/a/72773537/3094906\">stackoverflow.com/a/72773537/3094906</a>"}],"tags":[],"owner":{"account_id":7902590,"reputation":311,"user_id":5969163,"accept_rate":100,"display_name":"peacetrue"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700710333,"creation_date":1700710333,"answer_id":77534224,"question_id":77528882,"body_markdown":"You can use &#39;org.springdoc:springdoc-openapi-javadoc&#39;, refer to the documentation [https://springdoc.org/v1/#javadoc-support][1].\r\n@Schema has a higher priority than javadoc, and the two can be used together.\r\n\r\n  [1]: https://springdoc.org/v1/#javadoc-support","title":"SpringDoc / OpenAPI: How do deal with JavaDoc vs. @Schema?","body":"<p>You can use 'org.springdoc:springdoc-openapi-javadoc', refer to the documentation <a href=\"https://springdoc.org/v1/#javadoc-support\" rel=\"nofollow noreferrer\">https://springdoc.org/v1/#javadoc-support</a>.\n@Schema has a higher priority than javadoc, and the two can be used together.</p>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77534224,"answer_count":1,"score":1,"last_activity_date":1700710333,"creation_date":1700646748,"question_id":77528882,"body_markdown":"I&#39;m working on a Spring Boot project which uses SpringDoc to generate an OpenAPI schema.\r\n\r\nI&#39;m struggling with the documentation because on the one hand this:\r\n\r\n```java\r\n/** Description of the class */\r\npublic class MyClass { ... }\r\n```\r\n\r\n... will be interpreted by the IDE (IntelliJ) as a doc comment, but the Java compiler doesn&#39;t preserve it, so it&#39;s gone at runtime so SpringDoc cannot read it. On the other hand, this:\r\n\r\n```java\r\n@Schema(description = &quot;Description of the class&quot;)\r\npublic class MyClass { }\r\n```\r\n\r\n... will be interpreted by SpringDoc, but the IDE will not recognize it as a doc comment.\r\n\r\nDuplicating the descriptions and having both clearly is also not ideal.\r\n\r\nHow does everybody else handle this issue?","title":"SpringDoc / OpenAPI: How do deal with JavaDoc vs. @Schema?","body":"<p>I'm working on a Spring Boot project which uses SpringDoc to generate an OpenAPI schema.</p>\n<p>I'm struggling with the documentation because on the one hand this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Description of the class */\npublic class MyClass { ... }\n</code></pre>\n<p>... will be interpreted by the IDE (IntelliJ) as a doc comment, but the Java compiler doesn't preserve it, so it's gone at runtime so SpringDoc cannot read it. On the other hand, this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(description = &quot;Description of the class&quot;)\npublic class MyClass { }\n</code></pre>\n<p>... will be interpreted by SpringDoc, but the IDE will not recognize it as a doc comment.</p>\n<p>Duplicating the descriptions and having both clearly is also not ideal.</p>\n<p>How does everybody else handle this issue?</p>\n"},{"tags":["java","soap","https","fiddler"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":1,"creation_date":1382434308,"post_id":19512749,"comment_id":28947877,"body_markdown":"I don&#39;t know about all that fiddler MITM business, but https port usually 443, not 80.","body":"I don&#39;t know about all that fiddler MITM business, but https port usually 443, not 80."},{"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"score":0,"creation_date":1382438295,"post_id":19512749,"comment_id":28950163,"body_markdown":"@user1516873 Changing the JVM options to `-Dhttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=443 -DproxySet=true -DproxyHost=ipv4.fiddler -DproxyPort=80` didn&#39;t help (`UnknownHostException`).","body":"@user1516873 Changing the JVM options to <code>-Dhttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=443 -DproxySet=true -DproxyHost=ipv4.fiddler -DproxyPort=80</code> didn&#39;t help (<code>UnknownHostException</code>)."},{"owner":{"account_id":43215,"reputation":56631,"user_id":126229,"display_name":"EricLaw"},"score":0,"creation_date":1382467029,"post_id":19512749,"comment_id":28967727,"body_markdown":"Using &quot;ipv4.fiddler&quot; is never going to work for registering as the proxy because that hostname only exists when the traffic is already going through the proxy.","body":"Using &quot;ipv4.fiddler&quot; is never going to work for registering as the proxy because that hostname only exists when the traffic is already going through the proxy."}],"answers":[{"comments":[{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":1,"creation_date":1474053717,"post_id":19515842,"comment_id":66391440,"body_markdown":"It is not working for me. I added both http and https proxies but still I cannot see any soap call while I can see them in tomcat log.","body":"It is not working for me. I added both http and https proxies but still I cannot see any soap call while I can see them in tomcat log."}],"tags":[],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1382439161,"creation_date":1382439161,"answer_id":19515842,"question_id":19512749,"body_markdown":"The correct JVM parameters were: `-Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -DproxySet=true -DproxyHost=127.0.0.1 -DproxyPort=8888`.","title":"How to capture SOAP messages from a Tomcat Java app to an external server?","body":"<p>The correct JVM parameters were: <code>-Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8888 -DproxySet=true -DproxyHost=127.0.0.1 -DproxyPort=8888</code>.</p>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6879,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19515842,"answer_count":1,"score":7,"last_activity_date":1700710020,"creation_date":1382430526,"question_id":19512749,"body_markdown":"I have a web application, which runs inside Tomcat6 and sends SOAP messages to some external system via HTTPS.\r\n\r\nI want to intercept these messages.\r\n\r\nIn order to do this, I enabled HTTPS capture in the *Tools -&gt; Fiddler options* dialog box.\r\n\r\n![Fiddler options][1]\r\n\r\nAfter I restarted Fiddler, I can see HTTPS requests to several hosts (like Google, Evernote) but not to the external system my Java app talks to.\r\n\r\nThen, I added the JVM options `-Dhtttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=80` to my launch configuration and restarted the application. Again, no SOAP requests were captured by Fiddler.\r\n\r\n![Idea configuration][2]\r\n\r\nWhat can I do in order to view the SOAP messages (using Fiddler or some other tool)?\r\n\r\n**Update 1 (22.10.2013 12:35 MSK):** When I change the JVM parameters to `-Dhttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=80 -DproxySet=true -DproxyHost=ipv4.fiddler -DproxyPort=80\r\n` I get the exception `com.sun.xml.internal.ws.client.ClientTransportException: HTTP transport error: java.net.UnknownHostException: ipv4.fiddler` when the request is sent.\r\n\r\n  [1]: http://i.stack.imgur.com/SCWjU.png\r\n  [2]: http://i.stack.imgur.com/5b8pR.png","title":"How to capture SOAP messages from a Tomcat Java app to an external server?","body":"<p>I have a web application, which runs inside Tomcat6 and sends SOAP messages to some external system via HTTPS.</p>\n<p>I want to intercept these messages.</p>\n<p>In order to do this, I enabled HTTPS capture in the <em>Tools -&gt; Fiddler options</em> dialog box.</p>\n<p><img src=\"https://i.stack.imgur.com/SCWjU.png\" alt=\"Fiddler options\" /></p>\n<p>After I restarted Fiddler, I can see HTTPS requests to several hosts (like Google, Evernote) but not to the external system my Java app talks to.</p>\n<p>Then, I added the JVM options <code>-Dhtttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=80</code> to my launch configuration and restarted the application. Again, no SOAP requests were captured by Fiddler.</p>\n<p><img src=\"https://i.stack.imgur.com/5b8pR.png\" alt=\"Idea configuration\" /></p>\n<p>What can I do in order to view the SOAP messages (using Fiddler or some other tool)?</p>\n<p><strong>Update 1 (22.10.2013 12:35 MSK):</strong> When I change the JVM parameters to <code>-Dhttps.proxyHost=ipv4.fiddler -Dhttps.proxyPort=80 -DproxySet=true -DproxyHost=ipv4.fiddler -DproxyPort=80 </code> I get the exception <code>com.sun.xml.internal.ws.client.ClientTransportException: HTTP transport error: java.net.UnknownHostException: ipv4.fiddler</code> when the request is sent.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1700689869,"post_id":77533258,"comment_id":136686986,"body_markdown":"Well, a `List&lt;String&gt;` is not `Comparable`. You want to sort by number of known technologies, meaning you likely want to sort by the length of the skills list. So, create a comparator that compares the list&#39;s length, not the list itself.","body":"Well, a <code>List&lt;String&gt;</code> is not <code>Comparable</code>. You want to sort by number of known technologies, meaning you likely want to sort by the length of the skills list. So, create a comparator that compares the list&#39;s length, not the list itself."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700701360,"post_id":77533258,"comment_id":136688143,"body_markdown":"What is your actual requirement?  To `a)` sort the list and then `b)` find the user with the maximum skills, or to just do `(b)`?","body":"What is your actual requirement?  To <code>a)</code> sort the list and then <code>b)</code> find the user with the maximum skills, or to just do <code>(b)</code>?"},{"owner":{"account_id":13357783,"reputation":387,"user_id":9640782,"display_name":"Arkadiusz"},"score":1,"creation_date":1700723803,"post_id":77533258,"comment_id":136689905,"body_markdown":"What I want to achieve is b.","body":"What I want to achieve is b."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1700703662,"creation_date":1700690122,"answer_id":77533279,"question_id":77533258,"body_markdown":"You can compare by the `size` of the `List` of skills to get the result ordered by the number of skills the `User` has. Define a [`Comparator`][1] like the following.\r\n\r\n```java\r\nvar res = \r\n    users\r\n        .stream()\r\n        .sorted(\r\n            Comparator\r\n                .comparingInt(\r\n                    (User u) -&gt; u.skills().size()\r\n                )\r\n                .reversed()\r\n        )\r\n        .toList();\r\n// sorted in descending order of number of skills\r\nSystem.out.println(res);\r\n```\r\n\r\nYou could also use [`Stream#max`][2] if you only want the one `User` with the greatest amount of skills.\r\n\r\n```java\r\nUser res = users.stream().max(\r\n   Comparator.comparingInt(u -&gt; u.skills().size())).orElse(null);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/Comparator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/Stream.html#max(java.util.Comparator)","title":"Sort a list of objects by size of collection in member field, using streams in Java","body":"<p>You can compare by the <code>size</code> of the <code>List</code> of skills to get the result ordered by the number of skills the <code>User</code> has. Define a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var res = \n    users\n        .stream()\n        .sorted(\n            Comparator\n                .comparingInt(\n                    (User u) -&gt; u.skills().size()\n                )\n                .reversed()\n        )\n        .toList();\n// sorted in descending order of number of skills\nSystem.out.println(res);\n</code></pre>\n<p>You could also use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream#max</code></a> if you only want the one <code>User</code> with the greatest amount of skills.</p>\n<pre class=\"lang-java prettyprint-override\"><code>User res = users.stream().max(\n   Comparator.comparingInt(u -&gt; u.skills().size())).orElse(null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1700693066,"post_id":77533289,"comment_id":136687381,"body_markdown":"Indeed, `max` will be `O(N)` while sorting will be `O(NlogN)` and significantly slower.","body":"Indeed, <code>max</code> will be <code>O(N)</code> while sorting will be <code>O(NlogN)</code> and significantly slower."}],"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700690239,"creation_date":1700690239,"answer_id":77533289,"question_id":77533258,"body_markdown":"You can use `Stream#max` instead of sorting:\r\n\r\n```\r\nUser result = users.stream()\r\n                .max(Comparator.comparingInt(user -&gt; user.skills.size()))\r\n                .orElse(null);\r\n```","title":"Sort a list of objects by size of collection in member field, using streams in Java","body":"<p>You can use <code>Stream#max</code> instead of sorting:</p>\n<pre><code>User result = users.stream()\n                .max(Comparator.comparingInt(user -&gt; user.skills.size()))\n                .orElse(null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700728666,"post_id":77533522,"comment_id":136690748,"body_markdown":"`And optimally, extend the ArrayList class, to encapsulate the add method.` Why?","body":"<code>And optimally, extend the ArrayList class, to encapsulate the add method.</code> Why?"},{"owner":{"account_id":13357783,"reputation":387,"user_id":9640782,"display_name":"Arkadiusz"},"score":0,"creation_date":1700857741,"post_id":77533522,"comment_id":136708127,"body_markdown":"This is exactly what I wanted to achieve. Thanks a bunch!","body":"This is exactly what I wanted to achieve. Thanks a bunch!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1700708868,"creation_date":1700694165,"answer_id":77533522,"question_id":77533258,"body_markdown":"&gt; _&quot;... Now I need to find a user who knows the most technologies (using stream!) and display his name and a list of technologies. ...&quot;_\r\n\r\nThere is the possibility that more than one _User_, will have the same amount of skills.\\\r\nFor this, utilize a _[TreeMap](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeMap.html)_ _[Collector](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html)_; where the last entry will be a _[List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html)_ of _User_ objects, with the most skills.\r\n\r\n```java\r\nusers = users.stream()\r\n             .collect(\r\n                 Collectors.groupingBy(\r\n                     x -&gt; x.skills().size(),\r\n                     TreeMap::new,\r\n                     Collectors.toList()))\r\n             .lastEntry()\r\n             .getValue();\r\n```\r\n\r\nAnd optimally, extend the _[ArrayList](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html)_ _class_, to _[encapsulate](https://en.wikipedia.org/wiki/Encapsulation_(computer_programming))_ the _add_ method.\r\n\r\n```java\r\nclass UsersList extends ArrayList&lt;User&gt; {\r\n    boolean add(String name, int age, List&lt;String&gt; skills, boolean isActive) {\r\n        return super.add(new User(name, age, skills, isActive));\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nUser[name=Agnieszka, age=29, skills=[Java, Scala, Kotlin, Haskell, Clojure], isActive=false]\r\n```\r\n\r\nAlthough, this approach is fairly un-intuitive.\\\r\nTypically, _[stream operations](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_ are used for _[aggregating](https://en.wikipedia.org/wiki/Data_aggregation)_, or _[producing](https://en.wikipedia.org/wiki/Information_retrieval)_, data&amp;mdash;e.g., _mapping_, _filtering_, etc.&amp;mdash;and, not necessarily for calculating values.\\\r\nWhile the functionality is abstracted, it&#39;s not what is plausibly, pragmatic, in terms of _design constructs_, and _scalable interfaces_.\r\n\r\nWith that, I recommend using a basic _for-loop_ iteration.\r\n\r\n```java\r\nList&lt;User&gt; list = new ArrayList&lt;&gt;();\r\nUser u;\r\nint i, m = users.get(0).skills().size(), n = users.size(), t;\r\nfor (i = 1; i &lt; n; i++)\r\n    if ((t = users.get(i).skills().size()) &gt; m) m = t;\r\nfor (i = 0; i &lt; n; i++)\r\n    if ((u = users.get(i)).skills().size() == m) list.add(u);\r\n```\r\n\r\nOr, a _[ListIterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html)_.\r\n\r\n```java\r\nint m = users.get(0).skills().size(), t;\r\nListIterator&lt;User&gt; li = users.listIterator(1);\r\nwhile (li.hasNext())\r\n    if ((t = li.next().skills().size()) &gt; m) m = t;\r\nli = users.listIterator();\r\nwhile (li.hasNext())\r\n    if (li.next().skills().size() != m) li.remove();\r\n```","title":"Sort a list of objects by size of collection in member field, using streams in Java","body":"<blockquote>\n<p><em>&quot;... Now I need to find a user who knows the most technologies (using stream!) and display his name and a list of technologies. ...&quot;</em></p>\n</blockquote>\n<p>There is the possibility that more than one <em>User</em>, will have the same amount of skills.<br />\nFor this, utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a></em> <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\">Collector</a></em>; where the last entry will be a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> of <em>User</em> objects, with the most skills.</p>\n<pre class=\"lang-java prettyprint-override\"><code>users = users.stream()\n             .collect(\n                 Collectors.groupingBy(\n                     x -&gt; x.skills().size(),\n                     TreeMap::new,\n                     Collectors.toList()))\n             .lastEntry()\n             .getValue();\n</code></pre>\n<p>And optimally, extend the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> <em>class</em>, to <em><a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">encapsulate</a></em> the <em>add</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class UsersList extends ArrayList&lt;User&gt; {\n    boolean add(String name, int age, List&lt;String&gt; skills, boolean isActive) {\n        return super.add(new User(name, age, skills, isActive));\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>User[name=Agnieszka, age=29, skills=[Java, Scala, Kotlin, Haskell, Clojure], isActive=false]\n</code></pre>\n<p>Although, this approach is fairly un-intuitive.<br />\nTypically, <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream operations</a></em> are used for <em><a href=\"https://en.wikipedia.org/wiki/Data_aggregation\" rel=\"nofollow noreferrer\">aggregating</a></em>, or <em><a href=\"https://en.wikipedia.org/wiki/Information_retrieval\" rel=\"nofollow noreferrer\">producing</a></em>, data—e.g., <em>mapping</em>, <em>filtering</em>, etc.—and, not necessarily for calculating values.<br />\nWhile the functionality is abstracted, it's not what is plausibly, pragmatic, in terms of <em>design constructs</em>, and <em>scalable interfaces</em>.</p>\n<p>With that, I recommend using a basic <em>for-loop</em> iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; list = new ArrayList&lt;&gt;();\nUser u;\nint i, m = users.get(0).skills().size(), n = users.size(), t;\nfor (i = 1; i &lt; n; i++)\n    if ((t = users.get(i).skills().size()) &gt; m) m = t;\nfor (i = 0; i &lt; n; i++)\n    if ((u = users.get(i)).skills().size() == m) list.add(u);\n</code></pre>\n<p>Or, a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = users.get(0).skills().size(), t;\nListIterator&lt;User&gt; li = users.listIterator(1);\nwhile (li.hasNext())\n    if ((t = li.next().skills().size()) &gt; m) m = t;\nli = users.listIterator();\nwhile (li.hasNext())\n    if (li.next().skills().size() != m) li.remove();\n</code></pre>\n"}],"owner":{"account_id":13357783,"reputation":387,"user_id":9640782,"display_name":"Arkadiusz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77533522,"answer_count":3,"score":0,"last_activity_date":1700708868,"creation_date":1700689709,"question_id":77533258,"body_markdown":"I create a record User:\r\n\r\n````java\r\npublic record User(String name, int age, List&lt;String&gt; skills, boolean isActive) {\r\n}\r\n````\r\nand a list of users:\r\n````java\r\n    private static List&lt;User&gt; prepareData() {\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n        users.add(new User(&quot;Kamil&quot;, 35, List.of(&quot;Java&quot;, &quot;Python&quot;, &quot;JavaScript&quot;), true));\r\n        users.add(new User(&quot;Mariusz&quot;, 36, List.of(&quot;Java&quot;, &quot;C++&quot;, &quot;C#&quot;), true));\r\n        users.add(new User(&quot;Dominik&quot;, 30, List.of(&quot;Java&quot;, &quot;Dart&quot;, &quot;Python&quot;), false));\r\n        users.add(new User(&quot;Paulina&quot;, 36, List.of(&quot;PHP&quot;, &quot;SQL&quot;, &quot;Python&quot;), false));\r\n        users.add(new User(&quot;Rafał&quot;, 40, List.of(&quot;C#&quot;, &quot;Dart&quot;), true));\r\n        users.add(new User(&quot;Agnieszka&quot;, 29, List.of(&quot;Java&quot;, &quot;Scala&quot;, &quot;Kotlin&quot;, &quot;Haskell&quot;, &quot;Clojure&quot;), false));\r\n        users.add(new User(&quot;Weronika&quot;, 43, List.of(&quot;Python&quot;, &quot;C#&quot;, &quot;VBA&quot;), true));\r\n\r\n        return users;\r\n    }\r\n````\r\n\r\nNow I need to find a user who knows the most technologies (using stream!) and display his name and a list of technologies. I&#39;ve been trying to get my head around how I can sort a list in a stream. I&#39;ve tried with Comparator method but it throws an error:\r\n````java\r\n        users.stream()\r\n                .sorted(Comparator.comparing(User::skills))\r\n````\r\n\r\nAny idea how to do that?","title":"Sort a list of objects by size of collection in member field, using streams in Java","body":"<p>I create a record User:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record User(String name, int age, List&lt;String&gt; skills, boolean isActive) {\n}\n</code></pre>\n<p>and a list of users:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static List&lt;User&gt; prepareData() {\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n        users.add(new User(&quot;Kamil&quot;, 35, List.of(&quot;Java&quot;, &quot;Python&quot;, &quot;JavaScript&quot;), true));\n        users.add(new User(&quot;Mariusz&quot;, 36, List.of(&quot;Java&quot;, &quot;C++&quot;, &quot;C#&quot;), true));\n        users.add(new User(&quot;Dominik&quot;, 30, List.of(&quot;Java&quot;, &quot;Dart&quot;, &quot;Python&quot;), false));\n        users.add(new User(&quot;Paulina&quot;, 36, List.of(&quot;PHP&quot;, &quot;SQL&quot;, &quot;Python&quot;), false));\n        users.add(new User(&quot;Rafał&quot;, 40, List.of(&quot;C#&quot;, &quot;Dart&quot;), true));\n        users.add(new User(&quot;Agnieszka&quot;, 29, List.of(&quot;Java&quot;, &quot;Scala&quot;, &quot;Kotlin&quot;, &quot;Haskell&quot;, &quot;Clojure&quot;), false));\n        users.add(new User(&quot;Weronika&quot;, 43, List.of(&quot;Python&quot;, &quot;C#&quot;, &quot;VBA&quot;), true));\n\n        return users;\n    }\n</code></pre>\n<p>Now I need to find a user who knows the most technologies (using stream!) and display his name and a list of technologies. I've been trying to get my head around how I can sort a list in a stream. I've tried with Comparator method but it throws an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        users.stream()\n                .sorted(Comparator.comparing(User::skills))\n</code></pre>\n<p>Any idea how to do that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1700709077,"post_id":77534138,"comment_id":136688624,"body_markdown":"This, `String b;` is fine, but this, `b = &quot;s&quot;;` is where the error is occurring. You can&#39;t make non-declarative variable assignments outside of a method, constructor, or other similar code block. Why this is so? -- Because this is one of the rules of Java syntax.","body":"This, <code>String b;</code> is fine, but this, <code>b = &quot;s&quot;;</code> is where the error is occurring. You can&#39;t make non-declarative variable assignments outside of a method, constructor, or other similar code block. Why this is so? -- Because this is one of the rules of Java syntax."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1700709585,"post_id":77534138,"comment_id":136688674,"body_markdown":"Also ... C and C++ which is what Java syntax is derived from.","body":"Also ... C and C++ which is what Java syntax is derived from."}],"owner":{"account_id":29971186,"reputation":1,"user_id":22968454,"display_name":"Darang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1700709121,"answer_count":0,"score":-3,"last_activity_date":1700708649,"creation_date":1700708649,"question_id":77534138,"body_markdown":"```\r\npublic class ShoppingCart {\r\n\t\r\n\tString a = &quot;a&quot;;  // is good\r\n\tString b;  // Syntex error on token &quot;;&quot; \r\n\tb = &quot;s&quot;;\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n      \r\n        blablabla\r\n}\r\n```\r\n\r\nI wanna know why the first one( String a = &quot;a&quot;; ) doesn&#39;t make error but second(string b; b = &quot;s&quot;;) has error. I think there is no difference. is code wrong or something? ","title":"about creating something in class ( not method )","body":"<pre><code>public class ShoppingCart {\n    \n    String a = &quot;a&quot;;  // is good\n    String b;  // Syntex error on token &quot;;&quot; \n    b = &quot;s&quot;;\n    \n\n    public static void main(String[] args) {\n      \n        blablabla\n}\n</code></pre>\n<p>I wanna know why the first one( String a = &quot;a&quot;; ) doesn't make error but second(string b; b = &quot;s&quot;;) has error. I think there is no difference. is code wrong or something?</p>\n"},{"tags":["java","selenium","cucumber","jenkins-pipeline","cucumber-jvm"],"comments":[{"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"score":0,"creation_date":1517933960,"post_id":48640543,"comment_id":84292154,"body_markdown":"Please delete files or cucumber reports before generating new reports.   Are you using pretty format ?","body":"Please delete files or cucumber reports before generating new reports.   Are you using pretty format ?"},{"owner":{"account_id":10482114,"reputation":529,"user_id":7726821,"accept_rate":100,"display_name":"Ibtissam"},"score":0,"creation_date":1517941718,"post_id":48640543,"comment_id":84296896,"body_markdown":"@BostonStar yes here is my class runner `@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/test/java/features&quot;, glue = {&quot;steps&quot;}, plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;, &quot;json:target/cucumber.json&quot;})\npublic class RunFeaturesTest {}`","body":"@BostonStar yes here is my class runner <code>@RunWith(Cucumber.class) @CucumberOptions(features = &quot;src&#47;test&#47;java&#47;features&quot;, glue = {&quot;steps&quot;}, plugin = {&quot;pretty&quot;, &quot;html:target&#47;cucumber&quot;, &quot;json:target&#47;cucumber.json&quot;}) public class RunFeaturesTest {}</code>"},{"owner":{"account_id":10482114,"reputation":529,"user_id":7726821,"accept_rate":100,"display_name":"Ibtissam"},"score":0,"creation_date":1517941909,"post_id":48640543,"comment_id":84296986,"body_markdown":"I tried to delete cucumber reports before running my tests, but i have the same issue","body":"I tried to delete cucumber reports before running my tests, but i have the same issue"},{"owner":{"account_id":6816412,"reputation":916,"user_id":5244942,"accept_rate":88,"display_name":"N.."},"score":0,"creation_date":1518142546,"post_id":48640543,"comment_id":84394259,"body_markdown":"Please make sure you have right path because that can also cause this error. please remember every runner file should have unique json name that should be base on feature file name otherwise it overwrite value","body":"Please make sure you have right path because that can also cause this error. please remember every runner file should have unique json name that should be base on feature file name otherwise it overwrite value"}],"answers":[{"tags":[],"owner":{"account_id":11102521,"reputation":49,"user_id":8150791,"display_name":"Luis Eduardo Blandon Puello"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566947500,"creation_date":1566947500,"answer_id":57683219,"question_id":48640543,"body_markdown":"**It can be for several reasons.**\r\n\r\n 1. verify your pipeline, in the jenkinsfile, it is necessary when using the Cucumber Options indicate the path of the features\r\n```\r\n  stage &#39;Run Test&#39;\r\n         script \r\n\t\t\t{sh &quot;mvn clean test -Dcucumber.options=\\&quot;src/test/resources/features/ --tags @YourTagName\\&quot;&quot;}\r\n```\r\n 2. Verify plugin to use cucumber report in your JenkinsFile always put that inside &quot;Finally&quot; \r\n```\r\n      finally {\r\n    \t\t\t\t\t   cucumber buildStatus: &quot;UNSTABLE&quot;, \r\n    \t\t\t\t\t   fileIncludePattern: &quot;**/cucumber.json&quot;,\r\n    \t\t\t\t\t   jsonReportDirectory: &#39;target&#39;\r\n                            }\r\n```\r\n\r\nExample RunTest.java\r\n```\r\npackage runner;\r\n\r\nimport org.junit.runner.RunWith;\r\n\r\nimport cucumber.api.CucumberOptions;\r\nimport cucumber.api.junit.Cucumber;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(plugin = { &quot;pretty&quot;, &quot;json:target/cucumber.json&quot; }, features = {\r\n\t\t&quot;src/test/resources/features/&quot; }, glue = { &quot;classpath:&quot; }, tags = { &quot;@YourTagName&quot; })\r\npublic class RunTest {\r\n\r\n}\r\n```","title":"Cucumber Report Missing report result - report was not successfully completed","body":"<p><strong>It can be for several reasons.</strong></p>\n\n<ol>\n<li>verify your pipeline, in the jenkinsfile, it is necessary when using the Cucumber Options indicate the path of the features</li>\n</ol>\n\n<pre><code>  stage 'Run Test'\n         script \n            {sh \"mvn clean test -Dcucumber.options=\\\"src/test/resources/features/ --tags @YourTagName\\\"\"}\n</code></pre>\n\n<ol start=\"2\">\n<li>Verify plugin to use cucumber report in your JenkinsFile always put that inside \"Finally\" </li>\n</ol>\n\n<pre><code>      finally {\n                           cucumber buildStatus: \"UNSTABLE\", \n                           fileIncludePattern: \"**/cucumber.json\",\n                           jsonReportDirectory: 'target'\n                            }\n</code></pre>\n\n<p>Example RunTest.java</p>\n\n<pre><code>package runner;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(plugin = { \"pretty\", \"json:target/cucumber.json\" }, features = {\n        \"src/test/resources/features/\" }, glue = { \"classpath:\" }, tags = { \"@YourTagName\" })\npublic class RunTest {\n\n}\n</code></pre>\n"}],"owner":{"account_id":10482114,"reputation":529,"user_id":7726821,"accept_rate":100,"display_name":"Ibtissam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8926,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700708640,"creation_date":1517912246,"question_id":48640543,"body_markdown":"I use Cucumber Reports plugin to get cucumber reports in pipeline jobs it works fine before but now i have this error:\r\n\r\n   \r\n\r\n    [CucumberReport] Preparing Cucumber Reports\r\n    [CucumberReport] JSON report directory is &quot;target/&quot;\r\n    [CucumberReport] Copied 1 json files from workspace &quot;c:/jenkins/workspace/...&quot; to reports directory &quot;/var/jenkins_home/jobs/...&quot;\r\n    [CucumberReport] Copied 0 properties files from workspace &quot;c:/jenkins/workspace/...&quot; to reports directory &quot;/var/jenkins_home/jobs/...&quot;\r\n    [CucumberReport] Processing 1 json files:\r\n    [CucumberReport] /var/jenkins_home/jobs/.../cucumber.json\r\n    [CucumberReport] Missing report result - report was not successfully completed\r\n    [CucumberReport] Build status is left unchanged\r\n\r\nAnd if i run only some features the reports generate without any issue, i have this issue only if i run all features\r\n\r\nfor information i have about 15 feature with +2000 steps","title":"Cucumber Report Missing report result - report was not successfully completed","body":"<p>I use Cucumber Reports plugin to get cucumber reports in pipeline jobs it works fine before but now i have this error:</p>\n\n<pre><code>[CucumberReport] Preparing Cucumber Reports\n[CucumberReport] JSON report directory is \"target/\"\n[CucumberReport] Copied 1 json files from workspace \"c:/jenkins/workspace/...\" to reports directory \"/var/jenkins_home/jobs/...\"\n[CucumberReport] Copied 0 properties files from workspace \"c:/jenkins/workspace/...\" to reports directory \"/var/jenkins_home/jobs/...\"\n[CucumberReport] Processing 1 json files:\n[CucumberReport] /var/jenkins_home/jobs/.../cucumber.json\n[CucumberReport] Missing report result - report was not successfully completed\n[CucumberReport] Build status is left unchanged\n</code></pre>\n\n<p>And if i run only some features the reports generate without any issue, i have this issue only if i run all features</p>\n\n<p>for information i have about 15 feature with +2000 steps</p>\n"},{"tags":["java","spring-boot","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1700712464,"post_id":77534065,"comment_id":136688893,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77534065/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25757852,"reputation":1,"user_id":19509254,"display_name":"LUKIEEEE"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700706904,"creation_date":1700706904,"answer_id":77534065,"question_id":75457978,"body_markdown":"That is a very newbie question when I was just engaged into Java development, basically the dependences are controller by Maven, and we can go to Maven repository to see what packages and versions we can use into our project. \r\nSee this one:\r\nhttps://mvnrepository.com/","title":"how to import javax.script? Spring boot","body":"<p>That is a very newbie question when I was just engaged into Java development, basically the dependences are controller by Maven, and we can go to Maven repository to see what packages and versions we can use into our project.\nSee this one:\n<a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n"}],"owner":{"account_id":25757852,"reputation":1,"user_id":19509254,"display_name":"LUKIEEEE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700706904,"creation_date":1676454587,"question_id":75457978,"body_markdown":"    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n\r\nI try to import these two pacakges into spring boot java program. But I got the following [error](https://i.stack.imgur.com/rAA9i.png): \r\n\r\n    package javax.script does not exist.\r\n\r\nI know I need to write down the dependency into `pom.xml` such as [here](https://i.stack.imgur.com/kNYUw.png)\r\nBut I don&#39;t know exactly what do I need to write.\r\n","title":"how to import javax.script? Spring boot","body":"<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n</code></pre>\n<p>I try to import these two pacakges into spring boot java program. But I got the following <a href=\"https://i.stack.imgur.com/rAA9i.png\" rel=\"nofollow noreferrer\">error</a>:</p>\n<pre><code>package javax.script does not exist.\n</code></pre>\n<p>I know I need to write down the dependency into <code>pom.xml</code> such as <a href=\"https://i.stack.imgur.com/kNYUw.png\" rel=\"nofollow noreferrer\">here</a>\nBut I don't know exactly what do I need to write.</p>\n"},{"tags":["java","class","static","methods","synchronized"],"answers":[{"comments":[{"owner":{"account_id":49386,"reputation":5706,"user_id":147025,"accept_rate":71,"display_name":"Madhu"},"score":83,"creation_date":1251866992,"post_id":437627,"comment_id":1203920,"body_markdown":"Please answer Elaborate so that everyone can understand.","body":"Please answer Elaborate so that everyone can understand."},{"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"score":6,"creation_date":1350430582,"post_id":437627,"comment_id":17514410,"body_markdown":"@Madhu. It means that if you have 2 or more synchronized methods on the same class, both cannot execute at the same time, even when there are multiple instances of that class.\n\nThe locking is essentially the same as locking on the Object.class for each synchronized method.","body":"@Madhu. It means that if you have 2 or more synchronized methods on the same class, both cannot execute at the same time, even when there are multiple instances of that class.  The locking is essentially the same as locking on the Object.class for each synchronized method."},{"owner":{"account_id":275913,"reputation":5172,"user_id":569050,"accept_rate":72,"display_name":"deprecated"},"score":0,"creation_date":1351696246,"post_id":437627,"comment_id":17906472,"body_markdown":"This answer is wrong -`this` is the lock acquired on instance methods-, please fix it Oscar.","body":"This answer is wrong -<code>this</code> is the lock acquired on instance methods-, please fix it Oscar."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1351696619,"post_id":437627,"comment_id":17906660,"body_markdown":"@vemv The question is regarding class methods, not instance methods.","body":"@vemv The question is regarding class methods, not instance methods."},{"owner":{"account_id":275913,"reputation":5172,"user_id":569050,"accept_rate":72,"display_name":"deprecated"},"score":0,"creation_date":1351699976,"post_id":437627,"comment_id":17908427,"body_markdown":"Note that you don&#39;t include this context in your question - and neither it is on the question&#39;s title.","body":"Note that you don&#39;t include this context in your question - and neither it is on the question&#39;s title."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":23,"creation_date":1351704452,"post_id":437627,"comment_id":17910516,"body_markdown":"@vemv Well yes, to understand the answer you have to read the question first.","body":"@vemv Well yes, to understand the answer you have to read the question first."},{"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"score":0,"creation_date":1455798040,"post_id":437627,"comment_id":58656005,"body_markdown":"Which is better ?Making the static methods synchronized or using a synchronized block with a static object lock inside such methods, or are they same?","body":"Which is better ?Making the static methods synchronized or using a synchronized block with a static object lock inside such methods, or are they same?"},{"owner":{"account_id":2618012,"reputation":499,"user_id":2266704,"accept_rate":80,"display_name":"vash_ace"},"score":0,"creation_date":1501822872,"post_id":437627,"comment_id":77958054,"body_markdown":"what if the class object is an abstract class @OscarRyz","body":"what if the class object is an abstract class @OscarRyz"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1551476531,"post_id":437627,"comment_id":96667955,"body_markdown":"@vash_ace The class itself. When you inherit from that class now the child class is the class.  https://gist.github.com/oscarryz/263171aff2064c3162ebfb79faaf499c","body":"@vash_ace The class itself. When you inherit from that class now the child class is the class.  <a href=\"https://gist.github.com/oscarryz/263171aff2064c3162ebfb79faaf499c\" rel=\"nofollow noreferrer\">gist.github.com/oscarryz/263171aff2064c3162ebfb79faaf499c</a>"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":9,"down_vote_count":15,"up_vote_count":146,"is_accepted":true,"score":131,"last_activity_date":1477987353,"creation_date":1231808010,"answer_id":437627,"question_id":437620,"body_markdown":"&gt;  Since a static method has no associated object,  *will the synchronized keyword lock on the class, instead of the object?*\r\n\r\nYes. :) ","title":"Java synchronized static methods: lock on object or class","body":"<blockquote>\n  <p>Since a static method has no associated object,  <em>will the synchronized keyword lock on the class, instead of the object?</em></p>\n</blockquote>\n\n<p>Yes. :) </p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":17,"creation_date":1231815985,"post_id":437821,"comment_id":260341,"body_markdown":"Useful, I was looking for that quote +1","body":"Useful, I was looking for that quote +1"}],"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":1,"down_vote_count":0,"up_vote_count":203,"is_accepted":false,"score":203,"last_activity_date":1587720405,"creation_date":1231815521,"answer_id":437821,"question_id":437620,"body_markdown":"Just to add a little detail to Oscar&#39;s (pleasingly succinct!) answer, the relevant section on the Java Language Specification is [8.4.3.6, &#39;synchronized Methods&#39;][1]:\r\n\r\n  \r\n\r\n&gt; A synchronized method acquires a monitor ([&#167;17.1][2]) before it executes. For a class (static) method, the monitor associated with the Class object for the method&#39;s class is used. For an instance method, the monitor associated with this (the object for which the method was invoked) is used. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.3.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.1","title":"Java synchronized static methods: lock on object or class","body":"<p>Just to add a little detail to Oscar's (pleasingly succinct!) answer, the relevant section on the Java Language Specification is <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.3.6\" rel=\"noreferrer\">8.4.3.6, 'synchronized Methods'</a>:</p>\n\n<blockquote>\n  <p>A synchronized method acquires a monitor (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.1\" rel=\"noreferrer\">§17.1</a>) before it executes. For a class (static) method, the monitor associated with the Class object for the method's class is used. For an instance method, the monitor associated with this (the object for which the method was invoked) is used. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":30260,"reputation":1643,"user_id":82413,"accept_rate":74,"display_name":"baskin"},"score":18,"creation_date":1323401784,"post_id":438626,"comment_id":10432364,"body_markdown":"but what if g() is mutating some static variable which f() is reading. How do we make that thread safe? Do we explicitly acquire a lock on the class then?","body":"but what if g() is mutating some static variable which f() is reading. How do we make that thread safe? Do we explicitly acquire a lock on the class then?"},{"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"score":23,"creation_date":1323410237,"post_id":438626,"comment_id":10433475,"body_markdown":"Yes, your non-static method must explicitly synchronize on the class itself (ie, `synchronized (MyClass.class) {...}`.","body":"Yes, your non-static method must explicitly synchronize on the class itself (ie, <code>synchronized (MyClass.class) {...}</code>."},{"owner":{"account_id":14503797,"reputation":169,"user_id":10476114,"display_name":"crazymind"},"score":0,"creation_date":1550340033,"post_id":438626,"comment_id":96236081,"body_markdown":"@jfpoilpret &quot;synchronized (MyClass.class) {...}&quot; is equivalent to make this method static synchronized, right?","body":"@jfpoilpret &quot;synchronized (MyClass.class) {...}&quot; is equivalent to make this method static synchronized, right?"}],"tags":[],"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"comment_count":3,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1231844563,"creation_date":1231844563,"answer_id":438626,"question_id":437620,"body_markdown":"One point you have to be careful about (several programmers generally fall in that trap) is that there is no link between synchronized static methods and sync&#39;ed non static methods, ie:\r\n\r\n    class A {\r\n        static synchronized f() {...}\r\n        synchronized g() {...}\r\n    }\r\n\r\nMain:\r\n\r\n    A a = new A();\r\n\r\nThread 1:\r\n\r\n    A.f();\r\n\r\nThread 2:\r\n\r\n    a.g();\r\n\r\nf() and g() are not synchronized with each other and thus can execute totally concurrently.\r\n\r\n","title":"Java synchronized static methods: lock on object or class","body":"<p>One point you have to be careful about (several programmers generally fall in that trap) is that there is no link between synchronized static methods and sync'ed non static methods, ie:</p>\n\n<pre><code>class A {\n    static synchronized f() {...}\n    synchronized g() {...}\n}\n</code></pre>\n\n<p>Main:</p>\n\n<pre><code>A a = new A();\n</code></pre>\n\n<p>Thread 1:</p>\n\n<pre><code>A.f();\n</code></pre>\n\n<p>Thread 2:</p>\n\n<pre><code>a.g();\n</code></pre>\n\n<p>f() and g() are not synchronized with each other and thus can execute totally concurrently.</p>\n"},{"comments":[{"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"score":63,"creation_date":1290925467,"post_id":2210504,"comment_id":4661798,"body_markdown":"Note that there may actually be a chance of some very subtle and nasty bugs here. Remember `getClass()` returns the _runtime_ type; if you subclass the class, then the parent class and the child class will synchronize on different locks. `synchronized(MyClass.class)` is the way to go if you need to ensure all instances use the same lock.","body":"Note that there may actually be a chance of some very subtle and nasty bugs here. Remember <code>getClass()</code> returns the <i>runtime</i> type; if you subclass the class, then the parent class and the child class will synchronize on different locks. <code>synchronized(MyClass.class)</code> is the way to go if you need to ensure all instances use the same lock."}],"tags":[],"owner":{"display_name":"user267405"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1578559140,"creation_date":1265404752,"answer_id":2210504,"question_id":437620,"body_markdown":"Unless you implement g() as follows:\r\n\r\n    g() {\r\n        synchronized(getClass()) {\r\n            ...\r\n        }\r\n    }\r\n\r\nI find this pattern useful also when I want to implement mutual exclusion between different instances of the object (which is needed when accesing an external resource, for example).","title":"Java synchronized static methods: lock on object or class","body":"<p>Unless you implement g() as follows:</p>\n\n<pre><code>g() {\n    synchronized(getClass()) {\n        ...\n    }\n}\n</code></pre>\n\n<p>I find this pattern useful also when I want to implement mutual exclusion between different instances of the object (which is needed when accesing an external resource, for example).</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477987598,"creation_date":1477987598,"answer_id":40356196,"question_id":437620,"body_markdown":"Have a look at oracle documentation page on  [Intrinsic Locks and Synchronization][1]\r\n\r\n&gt; You might wonder what happens when a static synchronized method is invoked, since a static method is associated with a class, not an object. **In this case, the thread acquires the intrinsic lock for the Class object associated with the class**. **Thus access to class&#39;s static fields is controlled by a lock that&#39;s distinct from the lock for any instance of the class**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Java synchronized static methods: lock on object or class","body":"<p>Have a look at oracle documentation page on  <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow\">Intrinsic Locks and Synchronization</a></p>\n\n<blockquote>\n  <p>You might wonder what happens when a static synchronized method is invoked, since a static method is associated with a class, not an object. <strong>In this case, the thread acquires the intrinsic lock for the Class object associated with the class</strong>. <strong>Thus access to class's static fields is controlled by a lock that's distinct from the lock for any instance of the class</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5947498,"reputation":110,"user_id":4676599,"display_name":"Pahansith Gunathilake"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478667300,"creation_date":1478667300,"answer_id":40500366,"question_id":437620,"body_markdown":"A static method also has an associated object. It belongs to Class.class file in JDK toolkit. When the .class file load into the ram, the Class.class creates a instance of it called template object.\r\n\r\nEg :- when you try to create object from existing customer class like\r\n\r\n    Customer c = new Customer();\r\nThe Customer.class load into RAM. In that moment Class.class in JDK toolkit creates an Object called Template object and load that Customer.class into that template object.Static members of that Customer.class become attributes and methods in that template object.\r\n\r\nSo a static method or attribute also has an object","title":"Java synchronized static methods: lock on object or class","body":"<p>A static method also has an associated object. It belongs to Class.class file in JDK toolkit. When the .class file load into the ram, the Class.class creates a instance of it called template object.</p>\n\n<p>Eg :- when you try to create object from existing customer class like</p>\n\n<pre><code>Customer c = new Customer();\n</code></pre>\n\n<p>The Customer.class load into RAM. In that moment Class.class in JDK toolkit creates an Object called Template object and load that Customer.class into that template object.Static members of that Customer.class become attributes and methods in that template object.</p>\n\n<p>So a static method or attribute also has an object</p>\n"},{"tags":[],"owner":{"account_id":10964838,"reputation":1,"user_id":8056890,"display_name":"Pragya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700704518,"creation_date":1495594244,"answer_id":44148139,"question_id":437620,"body_markdown":"&gt; For those who are not familiar static synchronized method locked on class object e.g. for string class, it&#39;s `String.class` while instance synchronized method locks on the current instance of Object denoted by “this” keyword in Java. \r\n&gt; \r\n&gt; Since both of these objects are different they have a different lock so while one thread is executing the static synchronized method, the other thread in java doesn’t need to wait for that thread to return instead it will acquire a separate lock denoted byte .class literal and enter into the static synchronized method. \r\n\r\nSource: https://javarevisited.blogspot.com/2012/03/mixing-static-and-non-static.html","title":"Java synchronized static methods: lock on object or class","body":"<blockquote>\n<p>For those who are not familiar static synchronized method locked on class object e.g. for string class, it's <code>String.class</code> while instance synchronized method locks on the current instance of Object denoted by “this” keyword in Java.</p>\n<p>Since both of these objects are different they have a different lock so while one thread is executing the static synchronized method, the other thread in java doesn’t need to wait for that thread to return instead it will acquire a separate lock denoted byte .class literal and enter into the static synchronized method.</p>\n</blockquote>\n<p>Source: <a href=\"https://javarevisited.blogspot.com/2012/03/mixing-static-and-non-static.html\" rel=\"nofollow noreferrer\">https://javarevisited.blogspot.com/2012/03/mixing-static-and-non-static.html</a></p>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518552768,"creation_date":1502599557,"answer_id":45657164,"question_id":437620,"body_markdown":"Below examples gives more clarity between class and object lock, hope below example will help others as well :)\r\n\r\nFor example we have below methods one acquire class and other acquire object lock :\r\n\r\n    public class MultiThread {\r\n\r\n        public static synchronized void staticLock() throws InterruptedException {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                Thread.sleep(100);\r\n                System.out.println(Thread.currentThread().getName() + &quot; &quot; + i);\r\n            }\r\n        }\r\n\r\n        public synchronized void objLock() throws InterruptedException {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                Thread.sleep(100);\r\n                System.out.println(Thread.currentThread().getName() + &quot; &quot; + i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSo, now we can have following scenarios :\r\n\r\n 1. When threads using **same Object** tries to access `objLock` **OR** `staticLock` method same time (i.e. both threads are trying to access same method)\r\n\r\n        Thread-0 0\r\n        Thread-0 1\r\n        Thread-0 2\r\n        Thread-0 3\r\n        Thread-0 4\r\n        Thread-1 0\r\n        Thread-1 1\r\n        Thread-1 2\r\n        Thread-1 3\r\n        Thread-1 4\r\n\r\n 2. When threads using **same Object** tries to access `staticLock` and `objLock` methods same time (tries accessing different methods)\r\n\r\n        Thread-0 0\r\n        Thread-1 0\r\n        Thread-0 1\r\n        Thread-1 1\r\n        Thread-0 2\r\n        Thread-1 2\r\n        Thread-1 3\r\n        Thread-0 3\r\n        Thread-0 4\r\n        Thread-1 4\r\n\r\n 3. When threads using **different Object** tries to access `staticLock` method\r\n\r\n        Thread-0 0\r\n        Thread-0 1\r\n        Thread-0 2\r\n        Thread-0 3\r\n        Thread-0 4\r\n        Thread-1 0\r\n        Thread-1 1\r\n        Thread-1 2\r\n        Thread-1 3\r\n        Thread-1 4\r\n\r\n 4. When threads using **different Object** tries to access `objLock` method\r\n\r\n        Thread-0 0\r\n        Thread-1 0\r\n        Thread-0 1\r\n        Thread-1 1\r\n        Thread-0 2\r\n        Thread-1 2\r\n        Thread-1 3\r\n        Thread-0 3\r\n        Thread-0 4\r\n        Thread-1 4","title":"Java synchronized static methods: lock on object or class","body":"<p>Below examples gives more clarity between class and object lock, hope below example will help others as well :)</p>\n\n<p>For example we have below methods one acquire class and other acquire object lock :</p>\n\n<pre><code>public class MultiThread {\n\n    public static synchronized void staticLock() throws InterruptedException {\n        for (int i = 0; i &lt; 10; i++) {\n            Thread.sleep(100);\n            System.out.println(Thread.currentThread().getName() + \" \" + i);\n        }\n    }\n\n    public synchronized void objLock() throws InterruptedException {\n        for (int i = 0; i &lt; 10; i++) {\n            Thread.sleep(100);\n            System.out.println(Thread.currentThread().getName() + \" \" + i);\n        }\n    }\n}\n</code></pre>\n\n<p>So, now we can have following scenarios :</p>\n\n<ol>\n<li><p>When threads using <strong>same Object</strong> tries to access <code>objLock</code> <strong>OR</strong> <code>staticLock</code> method same time (i.e. both threads are trying to access same method)</p>\n\n<pre><code>Thread-0 0\nThread-0 1\nThread-0 2\nThread-0 3\nThread-0 4\nThread-1 0\nThread-1 1\nThread-1 2\nThread-1 3\nThread-1 4\n</code></pre></li>\n<li><p>When threads using <strong>same Object</strong> tries to access <code>staticLock</code> and <code>objLock</code> methods same time (tries accessing different methods)</p>\n\n<pre><code>Thread-0 0\nThread-1 0\nThread-0 1\nThread-1 1\nThread-0 2\nThread-1 2\nThread-1 3\nThread-0 3\nThread-0 4\nThread-1 4\n</code></pre></li>\n<li><p>When threads using <strong>different Object</strong> tries to access <code>staticLock</code> method</p>\n\n<pre><code>Thread-0 0\nThread-0 1\nThread-0 2\nThread-0 3\nThread-0 4\nThread-1 0\nThread-1 1\nThread-1 2\nThread-1 3\nThread-1 4\n</code></pre></li>\n<li><p>When threads using <strong>different Object</strong> tries to access <code>objLock</code> method</p>\n\n<pre><code>Thread-0 0\nThread-1 0\nThread-0 1\nThread-1 1\nThread-0 2\nThread-1 2\nThread-1 3\nThread-0 3\nThread-0 4\nThread-1 4\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":17315,"reputation":15891,"user_id":38663,"accept_rate":27,"display_name":"jbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101421,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":437627,"answer_count":8,"score":150,"last_activity_date":1700704518,"creation_date":1231807719,"question_id":437620,"body_markdown":"The [Java documentation][1] says: \r\n\r\n&gt; it is not possible for two invocations of synchronized methods on the same object to interleave.\r\n\r\nWhat does this mean for a static method?  Since a static method has no associated object, will the synchronized keyword lock on the class, instead of the object?\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"Java synchronized static methods: lock on object or class","body":"<p>The <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">Java documentation</a> says:</p>\n<blockquote>\n<p>it is not possible for two invocations of synchronized methods on the same object to interleave.</p>\n</blockquote>\n<p>What does this mean for a static method?  Since a static method has no associated object, will the synchronized keyword lock on the class, instead of the object?</p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1581342258,"post_id":60151747,"comment_id":106389228,"body_markdown":"I followed this repo for setting the config: https://github.com/mariubog/oauth-client-sample/blob/master/src/main/java/oauth/client/demo/config/OauthClientConfig.java","body":"I followed this repo for setting the config: <a href=\"https://github.com/mariubog/oauth-client-sample/blob/master/src/main/java/oauth/client/demo/config/OauthClientConfig.java\" rel=\"nofollow noreferrer\">github.com/mariubog/oauth-client-sample/blob/master/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"score":0,"creation_date":1581342397,"post_id":60151747,"comment_id":106389324,"body_markdown":"It can happen if the token response(especially the expires_in) is not in the default format. Did you verify that ?","body":"It can happen if the token response(especially the expires_in) is not in the default format. Did you verify that ?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1581342641,"post_id":60151747,"comment_id":106389468,"body_markdown":"Which version of Spring Boot are you working with?","body":"Which version of Spring Boot are you working with?"},{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1581343080,"post_id":60151747,"comment_id":106389720,"body_markdown":"org.springframework.security.oauth:spring-security-oauth2 is the OAuthClient and sprinboot version: 2.1.8.RELEASE","body":"org.springframework.security.oauth:spring-security-oauth2 is the OAuthClient and sprinboot version: 2.1.8.RELEASE"},{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1581343117,"post_id":60151747,"comment_id":106389746,"body_markdown":"@Abbin It is in the default format milliseconds","body":"@Abbin It is in the default format milliseconds"},{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1581343396,"post_id":60151747,"comment_id":106389896,"body_markdown":"Do you guys have a example code in github, that I could follow?","body":"Do you guys have a example code in github, that I could follow?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1581343582,"post_id":60151747,"comment_id":106390003,"body_markdown":"You could give Spring Boot 2.2 a try if you are able, there have been several changes to the OAUTH2 implementation in that version and a google seems to indicate that token refreshing may work more out of the box when upgrading to that version.","body":"You could give Spring Boot 2.2 a try if you are able, there have been several changes to the OAUTH2 implementation in that version and a google seems to indicate that token refreshing may work more out of the box when upgrading to that version."},{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1581343762,"post_id":60151747,"comment_id":106390120,"body_markdown":"Its uses webFlux I am not using webFlux in my project yet. And its more for reactive programing","body":"Its uses webFlux I am not using webFlux in my project yet. And its more for reactive programing"},{"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"score":0,"creation_date":1582336497,"post_id":60151747,"comment_id":106754062,"body_markdown":"I use client-credentials, which doesnt support refresh token, I looked into the spring code and found it","body":"I use client-credentials, which doesnt support refresh token, I looked into the spring code and found it"}],"answers":[{"tags":[],"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582617010,"creation_date":1582336649,"answer_id":60348348,"question_id":60151747,"body_markdown":"ClientCredentialsAccessTokenProvider doesn&#39;t not support &quot;Refresh Token&quot; according to spring boot oAuth implementation.\r\n\r\nI fixed the problem by checking the expiry and setting the token in oAuthContext to null before making the rest call.\r\n\r\n \r\n\r\n      private void checkTokenExpiry() {\r\n            OAuth2ClientContext oAuth2ClientContext = oAuth2RestOperations.getOAuth2ClientContext();\r\n            if (oAuth2ClientContext == null) {\r\n                return;\r\n            }\r\n            OAuth2AccessToken accessToken = oAuth2ClientContext.getAccessToken();\r\n            if (accessToken != null &amp;&amp; (accessToken.getExpiresIn() &gt; 5000 || accessToken\r\n                .isExpired())) { //5 seconds\r\n                log.info(&quot;Token expired&quot;);\r\n                oAuth2RestOperations.getOAuth2ClientContext()\r\n                    .setAccessToken(null); //to re-fetch the token\r\n            }\r\n        }\r\n\r\n","title":"OAuth2RestTemplate doesnt refresh the token after it expired","body":"<p>ClientCredentialsAccessTokenProvider doesn't not support \"Refresh Token\" according to spring boot oAuth implementation.</p>\n\n<p>I fixed the problem by checking the expiry and setting the token in oAuthContext to null before making the rest call.</p>\n\n<pre><code>  private void checkTokenExpiry() {\n        OAuth2ClientContext oAuth2ClientContext = oAuth2RestOperations.getOAuth2ClientContext();\n        if (oAuth2ClientContext == null) {\n            return;\n        }\n        OAuth2AccessToken accessToken = oAuth2ClientContext.getAccessToken();\n        if (accessToken != null &amp;&amp; (accessToken.getExpiresIn() &gt; 5000 || accessToken\n            .isExpired())) { //5 seconds\n            log.info(\"Token expired\");\n            oAuth2RestOperations.getOAuth2ClientContext()\n                .setAccessToken(null); //to re-fetch the token\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3711737,"reputation":2147,"user_id":3088897,"accept_rate":69,"display_name":"Minisha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700703744,"creation_date":1581342199,"question_id":60151747,"body_markdown":"I am using Spring OAuth2RestTemplate and the token is not refreshed after its expired. Below is my token provider. What am I missing? Any pointers would really help. \r\n\r\n    @Bean\r\n            public AccessTokenProvider clientAccessTokenProvider() {\r\n                ClientCredentialsAccessTokenProvider accessTokenProvider = new ClientCredentialsAccessTokenProvider();\r\n                accessTokenProvider.setRequestFactory(getClientHttpRequestFactory());\r\n                return accessTokenProvider;\r\n            }\r\n\r\n","title":"OAuth2RestTemplate doesnt refresh the token after it expired","body":"<p>I am using Spring OAuth2RestTemplate and the token is not refreshed after its expired. Below is my token provider. What am I missing? Any pointers would really help. </p>\n\n<pre><code>@Bean\n        public AccessTokenProvider clientAccessTokenProvider() {\n            ClientCredentialsAccessTokenProvider accessTokenProvider = new ClientCredentialsAccessTokenProvider();\n            accessTokenProvider.setRequestFactory(getClientHttpRequestFactory());\n            return accessTokenProvider;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"score":1,"creation_date":1584137217,"post_id":58999002,"comment_id":107354460,"body_markdown":"That&#39;s deprecated now too lol... at least UnAuthenticatedServerOAuth2AuthorizedClientRepository is...","body":"That&#39;s deprecated now too lol... at least UnAuthenticatedServerOAuth2AuthorizedClientRepository is..."},{"owner":{"account_id":1165663,"reputation":1423,"user_id":1144086,"accept_rate":75,"display_name":"loesak"},"score":3,"creation_date":1585971513,"post_id":58999002,"comment_id":107959784,"body_markdown":"@AnarSultanov &quot;Therefore, the best solution would be to abandon RestTemplate in favor of WebClient&quot; What about places where this is not an option? For example, Spring Cloud Discovery, Configuration, and Feign clients still rely RestTemplate and documentation states to provide a custom RestTemplate if you plan to add security like OAuth to those services.","body":"@AnarSultanov &quot;Therefore, the best solution would be to abandon RestTemplate in favor of WebClient&quot; What about places where this is not an option? For example, Spring Cloud Discovery, Configuration, and Feign clients still rely RestTemplate and documentation states to provide a custom RestTemplate if you plan to add security like OAuth to those services."},{"owner":{"account_id":2420552,"reputation":392,"user_id":2113605,"display_name":"rafael.braga"},"score":0,"creation_date":1587690535,"post_id":58999002,"comment_id":108617154,"body_markdown":"@AnarSultanov I&#39;ve tried that exact example that you gave and I get a 401 error. It seems that it isn&#39;t authenticating while trying to perform requests. Any tips on that?","body":"@AnarSultanov I&#39;ve tried that exact example that you gave and I get a 401 error. It seems that it isn&#39;t authenticating while trying to perform requests. Any tips on that?"},{"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"score":0,"creation_date":1587715593,"post_id":58999002,"comment_id":108623975,"body_markdown":"@rafael.braga I cannot recommend anything without seeing all the code and configuration. You can try the example from the official repository and adapt it to your needs: https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2webclient","body":"@rafael.braga I cannot recommend anything without seeing all the code and configuration. You can try the example from the official repository and adapt it to your needs: <a href=\"https://github.com/spring-projects/spring-security/tree/master/samples/boot/oauth2webclient\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/tree/master/sampl&zwnj;&#8203;es/&hellip;</a>"},{"owner":{"account_id":13805850,"reputation":189,"user_id":9964747,"display_name":"Crafton"},"score":1,"creation_date":1626395606,"post_id":58999002,"comment_id":120888103,"body_markdown":"Here&#39;s the relevant Spring Security doco. Provides a bit more detail and explanation of the various ways you can configure WebClient: https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#oauth2Client-webclient-servlet","body":"Here&#39;s the relevant Spring Security doco. Provides a bit more detail and explanation of the various ways you can configure WebClient: <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#oauth2Client-webclient-servlet\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/&hellip;</a>"},{"owner":{"account_id":1957366,"reputation":1175,"user_id":1760058,"accept_rate":46,"display_name":"egelev"},"score":0,"creation_date":1647279827,"post_id":58999002,"comment_id":126326679,"body_markdown":"Nice. When it comes to the OAuth2 client_credentials flow I would use AuthorizedClientServiceOAuth2AuthorizedClientManager instead of the DefaultOAuth2AuthorizedClientManager. The former is &#39; capable of operating outside of the context of a HttpServletRequest&#39; which means it is not bound to the incoming request.","body":"Nice. When it comes to the OAuth2 client_credentials flow I would use AuthorizedClientServiceOAuth2AuthorizedClientManager instead of the DefaultOAuth2AuthorizedClientManager. The former is &#39; capable of operating outside of the context of a HttpServletRequest&#39; which means it is not bound to the incoming request."}],"tags":[],"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"comment_count":6,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1585647647,"creation_date":1574443431,"answer_id":58999002,"question_id":58982286,"body_markdown":"OAuth 2.0 Client features of Spring Security 5.2.x do not support `RestTemplate`, but only `WebClient`. See [Spring Security Reference][1]:\r\n\r\n&gt; **HTTP Client support**\r\n&gt; \r\n&gt; * `WebClient` integration for Servlet Environments (for requesting\r\n&gt; protected resources)\r\n\r\n\r\nIn addition, `RestTemplate` will be deprecated in a future version. See [RestTemplate javadoc][2]:\r\n\r\n&gt; **NOTE:** As of 5.0, the non-blocking, reactive\r\n&gt; `org.springframework.web.reactive.client.WebClient` offers a modern\r\n&gt; alternative to the `RestTemplate` with efficient support for both sync\r\n&gt; and async, as well as streaming scenarios. The `RestTemplate` will be\r\n&gt; deprecated in a future version and will not have major new features\r\n&gt; added going forward. See the `WebClient` section of the Spring Framework\r\n&gt; reference documentation for more details and example code.\r\n\r\nTherefore, the best solution would be to abandon `RestTemplate` in favor of `WebClient`.\r\n\r\n\r\n----------\r\n\r\n\r\n## Using `WebClient` for Client Credentials Flow ##\r\nConfigure client registration and provider either programmatically or using Spring Boot auto-configuration:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              custom:\r\n                client-id: clientId\r\n                client-secret: clientSecret\r\n                authorization-grant-type: client_credentials\r\n            provider:\r\n              custom:\r\n                token-uri: http://localhost:8081/oauth/token\r\n\r\n…​and the `OAuth2AuthorizedClientManager` `@Bean`:\r\n\r\n    @Bean\r\n    public OAuth2AuthorizedClientManager authorizedClientManager(\r\n            ClientRegistrationRepository clientRegistrationRepository,\r\n            OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n    \r\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                OAuth2AuthorizedClientProviderBuilder.builder()\r\n                        .clientCredentials()\r\n                        .build();\r\n    \r\n        DefaultOAuth2AuthorizedClientManager authorizedClientManager =\r\n                new DefaultOAuth2AuthorizedClientManager(\r\n                        clientRegistrationRepository, authorizedClientRepository);\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n    \r\n        return authorizedClientManager;\r\n    }\r\n\r\nConfigure the `WebClient` instance to use `ServerOAuth2AuthorizedClientExchangeFilterFunction` with the provided `OAuth2AuthorizedClientManager`:\r\n\r\n    @Bean\r\n    WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth2Client.setDefaultClientRegistrationId(&quot;custom&quot;);\r\n        return WebClient.builder()\r\n                .apply(oauth2Client.oauth2Configuration())\r\n                .build();\r\n    }\r\n\r\nNow, if you try to make a request using this `WebClient` instance, it will first request a token from the authorization server and include it in the request.\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#oauth2client\r\n  [2]: https://docs.spring.io/spring/docs/5.2.1.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>OAuth 2.0 Client features of Spring Security 5.2.x do not support <code>RestTemplate</code>, but only <code>WebClient</code>. See <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.1.RELEASE/reference/htmlsingle/#oauth2client\" rel=\"noreferrer\">Spring Security Reference</a>:</p>\n\n<blockquote>\n  <p><strong>HTTP Client support</strong></p>\n  \n  <ul>\n  <li><code>WebClient</code> integration for Servlet Environments (for requesting\n  protected resources)</li>\n  </ul>\n</blockquote>\n\n<p>In addition, <code>RestTemplate</code> will be deprecated in a future version. See <a href=\"https://docs.spring.io/spring/docs/5.2.1.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate javadoc</a>:</p>\n\n<blockquote>\n  <p><strong>NOTE:</strong> As of 5.0, the non-blocking, reactive\n  <code>org.springframework.web.reactive.client.WebClient</code> offers a modern\n  alternative to the <code>RestTemplate</code> with efficient support for both sync\n  and async, as well as streaming scenarios. The <code>RestTemplate</code> will be\n  deprecated in a future version and will not have major new features\n  added going forward. See the <code>WebClient</code> section of the Spring Framework\n  reference documentation for more details and example code.</p>\n</blockquote>\n\n<p>Therefore, the best solution would be to abandon <code>RestTemplate</code> in favor of <code>WebClient</code>.</p>\n\n<hr>\n\n<h2>Using <code>WebClient</code> for Client Credentials Flow</h2>\n\n<p>Configure client registration and provider either programmatically or using Spring Boot auto-configuration:</p>\n\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          custom:\n            client-id: clientId\n            client-secret: clientSecret\n            authorization-grant-type: client_credentials\n        provider:\n          custom:\n            token-uri: http://localhost:8081/oauth/token\n</code></pre>\n\n<p>…​and the <code>OAuth2AuthorizedClientManager</code> <code>@Bean</code>:</p>\n\n<pre><code>@Bean\npublic OAuth2AuthorizedClientManager authorizedClientManager(\n        ClientRegistrationRepository clientRegistrationRepository,\n        OAuth2AuthorizedClientRepository authorizedClientRepository) {\n\n    OAuth2AuthorizedClientProvider authorizedClientProvider =\n            OAuth2AuthorizedClientProviderBuilder.builder()\n                    .clientCredentials()\n                    .build();\n\n    DefaultOAuth2AuthorizedClientManager authorizedClientManager =\n            new DefaultOAuth2AuthorizedClientManager(\n                    clientRegistrationRepository, authorizedClientRepository);\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n    return authorizedClientManager;\n}\n</code></pre>\n\n<p>Configure the <code>WebClient</code> instance to use <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> with the provided <code>OAuth2AuthorizedClientManager</code>:</p>\n\n<pre><code>@Bean\nWebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n    ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n            new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    oauth2Client.setDefaultClientRegistrationId(\"custom\");\n    return WebClient.builder()\n            .apply(oauth2Client.oauth2Configuration())\n            .build();\n}\n</code></pre>\n\n<p>Now, if you try to make a request using this <code>WebClient</code> instance, it will first request a token from the authorization server and include it in the request.</p>\n"},{"comments":[{"owner":{"account_id":3310380,"reputation":455,"user_id":2784045,"accept_rate":68,"display_name":"monti"},"score":0,"creation_date":1576219351,"post_id":59247804,"comment_id":104835521,"body_markdown":"How to I pass a client-id, client-secret and an oauth endpoint programatically?","body":"How to I pass a client-id, client-secret and an oauth endpoint programatically?"},{"owner":{"account_id":2454767,"reputation":1248,"user_id":2140248,"accept_rate":45,"display_name":"Matt Williams"},"score":1,"creation_date":1576830328,"post_id":59247804,"comment_id":105030397,"body_markdown":"I haven&#39;t tried this, but it looks like you could create instances of  `ClientRegistration`s with the required details and pass those into the constructor for `InMemoryReactiveClientRegistrationRepository` (the default implementation of `ReactiveClientRegistrationRepository`). You then use that newly created`InMemoryReactiveClientRegistrationRepository` bean in place of my autowired `clientRegistrationRepository` that is passed into the `oauthFilteredWebClient` method","body":"I haven&#39;t tried this, but it looks like you could create instances of  <code>ClientRegistration</code>s with the required details and pass those into the constructor for <code>InMemoryReactiveClientRegistrationRepository</code> (the default implementation of <code>ReactiveClientRegistrationRepository</code>). You then use that newly created<code>InMemoryReactiveClientRegistrationRepository</code> bean in place of my autowired <code>clientRegistrationRepository</code> that is passed into the <code>oauthFilteredWebClient</code> method"},{"owner":{"account_id":3310380,"reputation":455,"user_id":2784045,"accept_rate":68,"display_name":"monti"},"score":0,"creation_date":1576848384,"post_id":59247804,"comment_id":105038050,"body_markdown":"Mh, but I&#39;m not able to register different `ClientRegistration` at runtime, am I? As far as I understood I need to create a bean of `ClientRegistration` at startup.","body":"Mh, but I&#39;m not able to register different <code>ClientRegistration</code> at runtime, am I? As far as I understood I need to create a bean of <code>ClientRegistration</code> at startup."},{"owner":{"account_id":2454767,"reputation":1248,"user_id":2140248,"accept_rate":45,"display_name":"Matt Williams"},"score":0,"creation_date":1576852890,"post_id":59247804,"comment_id":105040135,"body_markdown":"Ah ok, I thought you just wanted to not declare them in the `application.properties` file.\nImplementing your own `ReactiveOAuth2AccessTokenResponseClient` allows you to make whatever request you want to get an OAuth2 token, but I do not know how you could provide a dynamic &quot;context&#39; to it per request. The same goes for if you implemented your own entire filter. All this would give you access to is the outgoing request, so unless you could infer what you need from there I&#39;m not sure what your options are.\nWhat&#39;s your use case? Why would you not know the possible registrations at startup?","body":"Ah ok, I thought you just wanted to not declare them in the <code>application.properties</code> file. Implementing your own <code>ReactiveOAuth2AccessTokenResponseClient</code> allows you to make whatever request you want to get an OAuth2 token, but I do not know how you could provide a dynamic &quot;context&#39; to it per request. The same goes for if you implemented your own entire filter. All this would give you access to is the outgoing request, so unless you could infer what you need from there I&#39;m not sure what your options are. What&#39;s your use case? Why would you not know the possible registrations at startup?"}],"tags":[],"owner":{"account_id":2454767,"reputation":1248,"user_id":2140248,"accept_rate":45,"display_name":"Matt Williams"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1575890512,"creation_date":1575890512,"answer_id":59247804,"question_id":58982286,"body_markdown":"The above answer from @Anar Sultanov helped me get to this point, but as I had to add some additional headers to my OAuth token request I thought I would provide a full answer for how I solved the issue for my use case.\r\n\r\nConfigure provider details\r\n---------------------------\r\nAdd the following to `application.properties`\r\n\r\n``` lang-java\r\nspring.security.oauth2.client.registration.uaa.client-id=${CLIENT_ID:}\r\nspring.security.oauth2.client.registration.uaa.client-secret=${CLIENT_SECRET:}\r\nspring.security.oauth2.client.registration.uaa.scope=${SCOPE:}\r\nspring.security.oauth2.client.registration.uaa.authorization-grant-type=client_credentials\r\nspring.security.oauth2.client.provider.uaa.token-uri=${UAA_URL:}\r\n```\r\n\r\nImplement custom `ReactiveOAuth2AccessTokenResponseClient`\r\n------------------------------------------------------------\r\nAs this is server-to-server communication we need to use the `ServerOAuth2AuthorizedClientExchangeFilterFunction`. This only accepts a `ReactiveOAuth2AuthorizedClientManager`, not the non-reactive `OAuth2AuthorizedClientManager`. Therefore when we use `ReactiveOAuth2AuthorizedClientManager.setAuthorizedClientProvider()` (to give it the provider to use to make the OAuth2 request) we have to give it a `ReactiveOAuth2AuthorizedClientProvider` instead of the non-reactive `OAuth2AuthorizedClientProvider`. As per the [spring-security reference documentation](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#customizing-the-access-token-request-3) if you use a non-reactive `DefaultClientCredentialsTokenResponseClient` you can use the `.setRequestEntityConverter()` method to alter the OAuth2 token request, but the reactive equivalent `WebClientReactiveClientCredentialsTokenResponseClient` does not provide this facility, so we have to implement our own (we can make use of the existing `WebClientReactiveClientCredentialsTokenResponseClient` logic).\r\n\r\nMy implementation was called `UaaWebClientReactiveClientCredentialsTokenResponseClient` (implementation omitted as it only very slightly alters the `headers()` and `body()` methods from the default `WebClientReactiveClientCredentialsTokenResponseClient` to add some extra headers/body fields, it does not change the underlying auth flow). \r\n\r\nConfigure `WebClient`\r\n---------------------\r\nThe `ServerOAuth2AuthorizedClientExchangeFilterFunction.setClientCredentialsTokenResponseClient()` method has been deprecated, so following the deprecation advice from that method:\r\n&gt;Deprecated. *Use `ServerOAuth2AuthorizedClientExchangeFilterFunction(ReactiveOAuth2AuthorizedClientManager)` instead. Create an instance of `ClientCredentialsReactiveOAuth2AuthorizedClientProvider` configured with a `WebClientReactiveClientCredentialsTokenResponseClient` (or a custom one) and than supply it to `DefaultReactiveOAuth2AuthorizedClientManager`.*\r\n\r\nThis ends up with configuration looking something like:\r\n``` lang-java\r\n@Bean(&quot;oAuth2WebClient&quot;)\r\npublic WebClient oauthFilteredWebClient(final ReactiveClientRegistrationRepository \r\n    clientRegistrationRepository)\r\n{\r\n    final ClientCredentialsReactiveOAuth2AuthorizedClientProvider\r\n        clientCredentialsReactiveOAuth2AuthorizedClientProvider =\r\n            new ClientCredentialsReactiveOAuth2AuthorizedClientProvider();\r\n    clientCredentialsReactiveOAuth2AuthorizedClientProvider.setAccessTokenResponseClient(\r\n        new UaaWebClientReactiveClientCredentialsTokenResponseClient());\r\n\r\n    final DefaultReactiveOAuth2AuthorizedClientManager defaultReactiveOAuth2AuthorizedClientManager =\r\n        new DefaultReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\r\n            new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n    defaultReactiveOAuth2AuthorizedClientManager.setAuthorizedClientProvider(\r\n        clientCredentialsReactiveOAuth2AuthorizedClientProvider);\r\n\r\n    final ServerOAuth2AuthorizedClientExchangeFilterFunction oAuthFilter =\r\n        new ServerOAuth2AuthorizedClientExchangeFilterFunction(defaultReactiveOAuth2AuthorizedClientManager);\r\n    oAuthFilter.setDefaultClientRegistrationId(&quot;uaa&quot;);\r\n\r\n    return WebClient.builder()\r\n        .filter(oAuthFilter)\r\n\t    .build();\r\n}\r\n```\r\n\r\nUse `WebClient` as normal\r\n-------------------------\r\nThe `oAuth2WebClient` bean is now ready to be used to access resources protected by our configured OAuth2 provider in the way you would make any other request using a `WebClient`.","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>The above answer from @Anar Sultanov helped me get to this point, but as I had to add some additional headers to my OAuth token request I thought I would provide a full answer for how I solved the issue for my use case.</p>\n\n<h2>Configure provider details</h2>\n\n<p>Add the following to <code>application.properties</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>spring.security.oauth2.client.registration.uaa.client-id=${CLIENT_ID:}\nspring.security.oauth2.client.registration.uaa.client-secret=${CLIENT_SECRET:}\nspring.security.oauth2.client.registration.uaa.scope=${SCOPE:}\nspring.security.oauth2.client.registration.uaa.authorization-grant-type=client_credentials\nspring.security.oauth2.client.provider.uaa.token-uri=${UAA_URL:}\n</code></pre>\n\n<h2>Implement custom <code>ReactiveOAuth2AccessTokenResponseClient</code></h2>\n\n<p>As this is server-to-server communication we need to use the <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code>. This only accepts a <code>ReactiveOAuth2AuthorizedClientManager</code>, not the non-reactive <code>OAuth2AuthorizedClientManager</code>. Therefore when we use <code>ReactiveOAuth2AuthorizedClientManager.setAuthorizedClientProvider()</code> (to give it the provider to use to make the OAuth2 request) we have to give it a <code>ReactiveOAuth2AuthorizedClientProvider</code> instead of the non-reactive <code>OAuth2AuthorizedClientProvider</code>. As per the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#customizing-the-access-token-request-3\" rel=\"noreferrer\">spring-security reference documentation</a> if you use a non-reactive <code>DefaultClientCredentialsTokenResponseClient</code> you can use the <code>.setRequestEntityConverter()</code> method to alter the OAuth2 token request, but the reactive equivalent <code>WebClientReactiveClientCredentialsTokenResponseClient</code> does not provide this facility, so we have to implement our own (we can make use of the existing <code>WebClientReactiveClientCredentialsTokenResponseClient</code> logic).</p>\n\n<p>My implementation was called <code>UaaWebClientReactiveClientCredentialsTokenResponseClient</code> (implementation omitted as it only very slightly alters the <code>headers()</code> and <code>body()</code> methods from the default <code>WebClientReactiveClientCredentialsTokenResponseClient</code> to add some extra headers/body fields, it does not change the underlying auth flow). </p>\n\n<h2>Configure <code>WebClient</code></h2>\n\n<p>The <code>ServerOAuth2AuthorizedClientExchangeFilterFunction.setClientCredentialsTokenResponseClient()</code> method has been deprecated, so following the deprecation advice from that method:</p>\n\n<blockquote>\n  <p>Deprecated. <em>Use <code>ServerOAuth2AuthorizedClientExchangeFilterFunction(ReactiveOAuth2AuthorizedClientManager)</code> instead. Create an instance of <code>ClientCredentialsReactiveOAuth2AuthorizedClientProvider</code> configured with a <code>WebClientReactiveClientCredentialsTokenResponseClient</code> (or a custom one) and than supply it to <code>DefaultReactiveOAuth2AuthorizedClientManager</code>.</em></p>\n</blockquote>\n\n<p>This ends up with configuration looking something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(\"oAuth2WebClient\")\npublic WebClient oauthFilteredWebClient(final ReactiveClientRegistrationRepository \n    clientRegistrationRepository)\n{\n    final ClientCredentialsReactiveOAuth2AuthorizedClientProvider\n        clientCredentialsReactiveOAuth2AuthorizedClientProvider =\n            new ClientCredentialsReactiveOAuth2AuthorizedClientProvider();\n    clientCredentialsReactiveOAuth2AuthorizedClientProvider.setAccessTokenResponseClient(\n        new UaaWebClientReactiveClientCredentialsTokenResponseClient());\n\n    final DefaultReactiveOAuth2AuthorizedClientManager defaultReactiveOAuth2AuthorizedClientManager =\n        new DefaultReactiveOAuth2AuthorizedClientManager(clientRegistrationRepository,\n            new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n    defaultReactiveOAuth2AuthorizedClientManager.setAuthorizedClientProvider(\n        clientCredentialsReactiveOAuth2AuthorizedClientProvider);\n\n    final ServerOAuth2AuthorizedClientExchangeFilterFunction oAuthFilter =\n        new ServerOAuth2AuthorizedClientExchangeFilterFunction(defaultReactiveOAuth2AuthorizedClientManager);\n    oAuthFilter.setDefaultClientRegistrationId(\"uaa\");\n\n    return WebClient.builder()\n        .filter(oAuthFilter)\n        .build();\n}\n</code></pre>\n\n<h2>Use <code>WebClient</code> as normal</h2>\n\n<p>The <code>oAuth2WebClient</code> bean is now ready to be used to access resources protected by our configured OAuth2 provider in the way you would make any other request using a <code>WebClient</code>.</p>\n"},{"comments":[{"owner":{"account_id":4044774,"reputation":3998,"user_id":3326331,"accept_rate":73,"display_name":"Sagar Pilkhwal"},"score":0,"creation_date":1592232116,"post_id":60479407,"comment_id":110344009,"body_markdown":"is there any sample code which can be tested for the above code snippet ?","body":"is there any sample code which can be tested for the above code snippet ?"},{"owner":{"account_id":313334,"reputation":417,"user_id":2806640,"display_name":"Jogger"},"score":0,"creation_date":1592245581,"post_id":60479407,"comment_id":110350887,"body_markdown":"@SagarPilkhwal You can create a simple spring-security based sample spring boot application (which you can easily find online). Set the client_credentials based access there and expose one test API. Then you can create WebClient using above code and try call that API.","body":"@SagarPilkhwal You can create a simple spring-security based sample spring boot application (which you can easily find online). Set the client_credentials based access there and expose one test API. Then you can create WebClient using above code and try call that API."}],"tags":[],"owner":{"account_id":313334,"reputation":417,"user_id":2806640,"display_name":"Jogger"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1583094173,"creation_date":1583094173,"answer_id":60479407,"question_id":58982286,"body_markdown":"I found @matt Williams answer quite helpful. Though I would like add in case someone would like to programatically pass clientId and secret for WebClient configuration. Here is how it can be Done.\r\n\r\n   \r\n\r\n     @Configuration\r\n        public class WebClientConfig {\r\n    \r\n        public static final String TEST_REGISTRATION_ID = &quot;test-client&quot;;\r\n    \r\n        @Bean\r\n        public ReactiveClientRegistrationRepository clientRegistrationRepository() {\r\n            var clientRegistration = ClientRegistration.withRegistrationId(TEST_REGISTRATION_ID)\r\n                    .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                    .clientId(&quot;&lt;client_id&gt;&quot;)\r\n                    .clientSecret(&quot;&lt;client_secret&gt;&quot;)\r\n                    .tokenUri(&quot;&lt;token_uri&gt;&quot;)\r\n                    .build();\r\n            return new InMemoryReactiveClientRegistrationRepository(clientRegistration);\r\n        }\r\n    \r\n        @Bean\r\n        public WebClient testWebClient(ReactiveClientRegistrationRepository clientRegistrationRepo) {\r\n    \r\n            var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepo,  new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\r\n            oauth.setDefaultClientRegistrationId(TEST_REGISTRATION_ID);\r\n    \r\n            return WebClient.builder()\r\n                    .baseUrl(&quot;https://.test.com&quot;)\r\n                    .filter(oauth)\r\n                    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n        }\r\n    }","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>I found @matt Williams answer quite helpful. Though I would like add in case someone would like to programatically pass clientId and secret for WebClient configuration. Here is how it can be Done.</p>\n\n<pre><code> @Configuration\n    public class WebClientConfig {\n\n    public static final String TEST_REGISTRATION_ID = \"test-client\";\n\n    @Bean\n    public ReactiveClientRegistrationRepository clientRegistrationRepository() {\n        var clientRegistration = ClientRegistration.withRegistrationId(TEST_REGISTRATION_ID)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .clientId(\"&lt;client_id&gt;\")\n                .clientSecret(\"&lt;client_secret&gt;\")\n                .tokenUri(\"&lt;token_uri&gt;\")\n                .build();\n        return new InMemoryReactiveClientRegistrationRepository(clientRegistration);\n    }\n\n    @Bean\n    public WebClient testWebClient(ReactiveClientRegistrationRepository clientRegistrationRepo) {\n\n        var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepo,  new UnAuthenticatedServerOAuth2AuthorizedClientRepository());\n        oauth.setDefaultClientRegistrationId(TEST_REGISTRATION_ID);\n\n        return WebClient.builder()\n                .baseUrl(\"https://.test.com\")\n                .filter(oauth)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1524893,"reputation":1418,"user_id":1423583,"accept_rate":82,"display_name":"Nathan"},"score":0,"creation_date":1658371083,"post_id":60634690,"comment_id":129036715,"body_markdown":"I like this approach because it&#39;s consistent with Spring Security&#39;s `DefaultClientCredentialsTokenResponseClient` which uses `RestTemplate` internally. That means my project doesn&#39;t need a dependency on spring-webflux.","body":"I like this approach because it&#39;s consistent with Spring Security&#39;s <code>DefaultClientCredentialsTokenResponseClient</code> which uses <code>RestTemplate</code> internally. That means my project doesn&#39;t need a dependency on spring-webflux."},{"owner":{"account_id":13964222,"reputation":627,"user_id":10084505,"display_name":"Walnussb&#228;r"},"score":1,"creation_date":1660730662,"post_id":60634690,"comment_id":129599774,"body_markdown":"best solution. Concise and works like a charm. Even the spring docs didn&#39;t provide such a clear how-to guide.","body":"best solution. Concise and works like a charm. Even the spring docs didn&#39;t provide such a clear how-to guide."},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":1,"creation_date":1663313140,"post_id":60634690,"comment_id":130214174,"body_markdown":"Just a small note, based on the source code, it seems to me that `AuthorizedClientServiceOAuth2AuthorizedClientManager` is not strictly thread-safe. Not in a way that will crash the application, but multiple calls to fetch new tokens will be made if several requests are being handled concurrently and they all use a token that&#39;s about to expire/expired.","body":"Just a small note, based on the source code, it seems to me that <code>AuthorizedClientServiceOAuth2AuthorizedClientManager</code> is not strictly thread-safe. Not in a way that will crash the application, but multiple calls to fetch new tokens will be made if several requests are being handled concurrently and they all use a token that&#39;s about to expire/expired."},{"owner":{"account_id":15532222,"reputation":191,"user_id":11205398,"display_name":"John Roshan"},"score":0,"creation_date":1671727712,"post_id":60634690,"comment_id":132164832,"body_markdown":"@Alexis how we can avoid that? I mean not using the expired ones?","body":"@Alexis how we can avoid that? I mean not using the expired ones?"},{"owner":{"account_id":7642098,"reputation":4980,"user_id":5793905,"display_name":"Alexis"},"score":0,"creation_date":1671730613,"post_id":60634690,"comment_id":132165681,"body_markdown":"@JohnRoshan it will automatically update tokens when needed, it&#39;s just that in some edge cases it might make multiple updates in parallel, some of which would be redundant. To avoid that, you&#39;d have to do the synchronization yourself.","body":"@JohnRoshan it will automatically update tokens when needed, it&#39;s just that in some edge cases it might make multiple updates in parallel, some of which would be redundant. To avoid that, you&#39;d have to do the synchronization yourself."},{"owner":{"account_id":15532222,"reputation":191,"user_id":11205398,"display_name":"John Roshan"},"score":0,"creation_date":1671821249,"post_id":60634690,"comment_id":132184551,"body_markdown":"@Alexis I implemented regular spring boot OAuthRestTemplates to call Service B,C,D from service A. Service A takes heavy load and it’s facing 401 from service B,C,D intermittently.","body":"@Alexis I implemented regular spring boot OAuthRestTemplates to call Service B,C,D from service A. Service A takes heavy load and it’s facing 401 from service B,C,D intermittently."}],"tags":[],"owner":{"account_id":8135283,"reputation":369,"user_id":6127125,"display_name":"Leandro Assis"},"comment_count":6,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1583927959,"creation_date":1583925139,"answer_id":60634690,"question_id":58982286,"body_markdown":"Hi maybe it&#39;s too late however RestTemplate is still supported in Spring Security 5, to non-reactive app RestTemplate is still used what you have to do is only configure spring security properly and create an interceptor as mentioned on migration guide\r\n\r\nUse the following configuration to use client_credentials flow\r\n\r\napplication.yml\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: ${okta.oauth2.issuer}/v1/keys\r\n      client:\r\n        registration:\r\n          okta:\r\n            client-id: ${okta.oauth2.clientId}\r\n            client-secret: ${okta.oauth2.clientSecret}\r\n            scope: &quot;custom-scope&quot;\r\n            authorization-grant-type: client_credentials\r\n            provider: okta\r\n        provider:\r\n          okta:\r\n            authorization-uri: ${okta.oauth2.issuer}/v1/authorize\r\n            token-uri: ${okta.oauth2.issuer}/v1/token\r\n```\r\n\r\nConfiguration to OauthResTemplate\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class OAuthRestTemplateConfig {\r\n\r\n    public static final String OAUTH_WEBCLIENT = &quot;OAUTH_WEBCLIENT&quot;;\r\n\r\n    private final RestTemplateBuilder restTemplateBuilder;\r\n    private final OAuth2AuthorizedClientService oAuth2AuthorizedClientService;\r\n    private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n    @Bean(OAUTH_WEBCLIENT)\r\n    RestTemplate oAuthRestTemplate() {\r\n        var clientRegistration = clientRegistrationRepository.findByRegistrationId(Constants.OKTA_AUTH_SERVER_ID);\r\n\r\n        return restTemplateBuilder\r\n                .additionalInterceptors(new OAuthClientCredentialsRestTemplateInterceptorConfig(authorizedClientManager(), clientRegistration))\r\n                .setReadTimeout(Duration.ofSeconds(5))\r\n                .setConnectTimeout(Duration.ofSeconds(1))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    OAuth2AuthorizedClientManager authorizedClientManager() {\r\n        var authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder.builder()\r\n                .clientCredentials()\r\n                .build();\r\n\r\n        var authorizedClientManager = new AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrationRepository, oAuth2AuthorizedClientService);\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n\r\n        return authorizedClientManager;\r\n    }\r\n\r\n}\r\n```\r\n\r\nInterceptor\r\n```\r\npublic class OAuthClientCredentialsRestTemplateInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n    private final OAuth2AuthorizedClientManager manager;\r\n    private final Authentication principal;\r\n    private final ClientRegistration clientRegistration;\r\n\r\n    public OAuthClientCredentialsRestTemplateInterceptor(OAuth2AuthorizedClientManager manager, ClientRegistration clientRegistration) {\r\n        this.manager = manager;\r\n        this.clientRegistration = clientRegistration;\r\n        this.principal = createPrincipal();\r\n    }\r\n\r\n    @Override\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        OAuth2AuthorizeRequest oAuth2AuthorizeRequest = OAuth2AuthorizeRequest\r\n                .withClientRegistrationId(clientRegistration.getRegistrationId())\r\n                .principal(principal)\r\n                .build();\r\n        OAuth2AuthorizedClient client = manager.authorize(oAuth2AuthorizeRequest);\r\n        if (isNull(client)) {\r\n            throw new IllegalStateException(&quot;client credentials flow on &quot; + clientRegistration.getRegistrationId() + &quot; failed, client is null&quot;);\r\n        }\r\n\r\n        request.getHeaders().add(HttpHeaders.AUTHORIZATION, BEARER_PREFIX + client.getAccessToken().getTokenValue());\r\n        return execution.execute(request, body);\r\n    }\r\n\r\n    private Authentication createPrincipal() {\r\n        return new Authentication() {\r\n            @Override\r\n            public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                return Collections.emptySet();\r\n            }\r\n\r\n            @Override\r\n            public Object getCredentials() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Object getDetails() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Object getPrincipal() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public boolean isAuthenticated() {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return clientRegistration.getClientId();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThis will generate access_token in the first call and whenever the token is expired. OAuth2AuthorizedClientManager will manage all this to you\r\n\r\n","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>Hi maybe it's too late however RestTemplate is still supported in Spring Security 5, to non-reactive app RestTemplate is still used what you have to do is only configure spring security properly and create an interceptor as mentioned on migration guide</p>\n\n<p>Use the following configuration to use client_credentials flow</p>\n\n<p>application.yml</p>\n\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: ${okta.oauth2.issuer}/v1/keys\n      client:\n        registration:\n          okta:\n            client-id: ${okta.oauth2.clientId}\n            client-secret: ${okta.oauth2.clientSecret}\n            scope: \"custom-scope\"\n            authorization-grant-type: client_credentials\n            provider: okta\n        provider:\n          okta:\n            authorization-uri: ${okta.oauth2.issuer}/v1/authorize\n            token-uri: ${okta.oauth2.issuer}/v1/token\n</code></pre>\n\n<p>Configuration to OauthResTemplate</p>\n\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class OAuthRestTemplateConfig {\n\n    public static final String OAUTH_WEBCLIENT = \"OAUTH_WEBCLIENT\";\n\n    private final RestTemplateBuilder restTemplateBuilder;\n    private final OAuth2AuthorizedClientService oAuth2AuthorizedClientService;\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    @Bean(OAUTH_WEBCLIENT)\n    RestTemplate oAuthRestTemplate() {\n        var clientRegistration = clientRegistrationRepository.findByRegistrationId(Constants.OKTA_AUTH_SERVER_ID);\n\n        return restTemplateBuilder\n                .additionalInterceptors(new OAuthClientCredentialsRestTemplateInterceptorConfig(authorizedClientManager(), clientRegistration))\n                .setReadTimeout(Duration.ofSeconds(5))\n                .setConnectTimeout(Duration.ofSeconds(1))\n                .build();\n    }\n\n    @Bean\n    OAuth2AuthorizedClientManager authorizedClientManager() {\n        var authorizedClientProvider = OAuth2AuthorizedClientProviderBuilder.builder()\n                .clientCredentials()\n                .build();\n\n        var authorizedClientManager = new AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrationRepository, oAuth2AuthorizedClientService);\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n        return authorizedClientManager;\n    }\n\n}\n</code></pre>\n\n<p>Interceptor</p>\n\n<pre><code>public class OAuthClientCredentialsRestTemplateInterceptor implements ClientHttpRequestInterceptor {\n\n    private final OAuth2AuthorizedClientManager manager;\n    private final Authentication principal;\n    private final ClientRegistration clientRegistration;\n\n    public OAuthClientCredentialsRestTemplateInterceptor(OAuth2AuthorizedClientManager manager, ClientRegistration clientRegistration) {\n        this.manager = manager;\n        this.clientRegistration = clientRegistration;\n        this.principal = createPrincipal();\n    }\n\n    @Override\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        OAuth2AuthorizeRequest oAuth2AuthorizeRequest = OAuth2AuthorizeRequest\n                .withClientRegistrationId(clientRegistration.getRegistrationId())\n                .principal(principal)\n                .build();\n        OAuth2AuthorizedClient client = manager.authorize(oAuth2AuthorizeRequest);\n        if (isNull(client)) {\n            throw new IllegalStateException(\"client credentials flow on \" + clientRegistration.getRegistrationId() + \" failed, client is null\");\n        }\n\n        request.getHeaders().add(HttpHeaders.AUTHORIZATION, BEARER_PREFIX + client.getAccessToken().getTokenValue());\n        return execution.execute(request, body);\n    }\n\n    private Authentication createPrincipal() {\n        return new Authentication() {\n            @Override\n            public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n                return Collections.emptySet();\n            }\n\n            @Override\n            public Object getCredentials() {\n                return null;\n            }\n\n            @Override\n            public Object getDetails() {\n                return null;\n            }\n\n            @Override\n            public Object getPrincipal() {\n                return this;\n            }\n\n            @Override\n            public boolean isAuthenticated() {\n                return false;\n            }\n\n            @Override\n            public void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException {\n            }\n\n            @Override\n            public String getName() {\n                return clientRegistration.getClientId();\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>This will generate access_token in the first call and whenever the token is expired. OAuth2AuthorizedClientManager will manage all this to you</p>\n"},{"tags":[],"owner":{"account_id":8592635,"reputation":91,"user_id":6436720,"display_name":"Krishnakanth Yachareni"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668034637,"creation_date":1668034637,"answer_id":74382304,"question_id":58982286,"body_markdown":"This is a simple alternative to `OAuth2RestTemplate`. The following snippet has been tested using Spring Boot `3.0.0-M4` and there is no `application.yml` configuration is needed.\r\n\r\nSecurityConfig.java\r\n````java\r\n    @Bean\r\n    public ReactiveClientRegistrationRepository getRegistration() {\r\n        ClientRegistration registration = ClientRegistration\r\n                .withRegistrationId(&quot;custom&quot;)\r\n                .tokenUri(&quot;&lt;token_URI&gt;&quot;)\r\n                .clientId(&quot;&lt;client_id&gt;&quot;)\r\n                .clientSecret(&quot;&lt;secret&gt;&quot;)\r\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                .build();\r\n        return new InMemoryReactiveClientRegistrationRepository(registration);\r\n    }\r\n\r\n    @Bean\r\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrations, clientService);\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth.setDefaultClientRegistrationId(&quot;custom&quot;);\r\n        return WebClient.builder()\r\n                .filter(oauth)\r\n                .filter(errorHandler()) // This is an optional\r\n                .build();\r\n\r\n    }\r\n\r\n    public static ExchangeFilterFunction errorHandler() {\r\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n\r\n            if (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError()) {\r\n                return clientResponse.bodyToMono(String.class)\r\n                        .flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\r\n            } else {\r\n                return Mono.just(clientResponse);\r\n            }\r\n        });\r\n    }\r\n````\r\npom.xml\r\n````xml\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n````","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>This is a simple alternative to <code>OAuth2RestTemplate</code>. The following snippet has been tested using Spring Boot <code>3.0.0-M4</code> and there is no <code>application.yml</code> configuration is needed.</p>\n<p>SecurityConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public ReactiveClientRegistrationRepository getRegistration() {\n        ClientRegistration registration = ClientRegistration\n                .withRegistrationId(&quot;custom&quot;)\n                .tokenUri(&quot;&lt;token_URI&gt;&quot;)\n                .clientId(&quot;&lt;client_id&gt;&quot;)\n                .clientSecret(&quot;&lt;secret&gt;&quot;)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .build();\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        InMemoryReactiveOAuth2AuthorizedClientService clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n        AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrations, clientService);\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth.setDefaultClientRegistrationId(&quot;custom&quot;);\n        return WebClient.builder()\n                .filter(oauth)\n                .filter(errorHandler()) // This is an optional\n                .build();\n\n    }\n\n    public static ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n\n            if (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError()) {\n                return clientResponse.bodyToMono(String.class)\n                        .flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\n            } else {\n                return Mono.just(clientResponse);\n            }\n        });\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":2454767,"reputation":1248,"user_id":2140248,"accept_rate":45,"display_name":"Matt Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69285,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":58999002,"answer_count":5,"score":76,"last_activity_date":1700703656,"creation_date":1574364003,"question_id":58982286,"body_markdown":"In `spring-security-oauth2:2.4.0.RELEASE`, classes such as `OAuth2RestTemplate`, `OAuth2ProtectedResourceDetails` and `ClientCredentialsAccessTokenProvider` have all been marked as deprecated.\r\n\r\nFrom the javadoc on these classes, it points to a [spring security migration guide](https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide) that insinuates that people should migrate to the core spring-security 5 project. However, I&#39;m having trouble finding how I would implement my use case in this project.\r\n\r\nAll of the documentation and examples talk about integrating with a 3rd part OAuth provider if you want incoming requests to your application to be authenticated and you want to use the 3rd party OAuth provider to verify the identity. \r\n\r\nIn my use case, all I want to do is make a request with a `RestTemplate` to an external service that is protected by OAuth. Currently, I create an `OAuth2ProtectedResourceDetails` with my client id and secret which I pass into an `OAuth2RestTemplate`. I also have a custom `ClientCredentialsAccessTokenProvider` added to the `OAuth2ResTemplate` that just adds some extra headers to the token request that are required by the OAuth provider I&#39;m using.\r\n\r\nIn the spring-security 5 documentation, I&#39;ve found a section that mentions [customising the token request](https://docs.spring.io/spring-security/site/docs/current/reference/html5/#customizing-the-access-token-request-3), but again that looks to be in the context of authenticating an incoming request with a 3rd party OAuth provider. It is not clear how you would use this in combination with something like a `ClientHttpRequestInterceptor` to ensure that each outgoing request to an external service first gets a token and then gets that added to the request. \r\n\r\nAlso, in the migration guide linked above, there is reference to an `OAuth2AuthorizedClientService` which it says is useful for using in interceptors. But again, this looks like it relies on things like the `ClientRegistrationRepository` which seems to be where it maintains registrations for third party providers if you want to use that provide to ensure an incoming request is authenticated.\r\n\r\nIs there any way I can make use of the new functionality in spring-security 5 for registering OAuth providers in order to get a token to add to outgoing requests from my application?","title":"Spring Security 5 Replacement for OAuth2RestTemplate","body":"<p>In <code>spring-security-oauth2:2.4.0.RELEASE</code>, classes such as <code>OAuth2RestTemplate</code>, <code>OAuth2ProtectedResourceDetails</code> and <code>ClientCredentialsAccessTokenProvider</code> have all been marked as deprecated.</p>\n<p>From the javadoc on these classes, it points to a <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">spring security migration guide</a> that insinuates that people should migrate to the core spring-security 5 project. However, I'm having trouble finding how I would implement my use case in this project.</p>\n<p>All of the documentation and examples talk about integrating with a 3rd part OAuth provider if you want incoming requests to your application to be authenticated and you want to use the 3rd party OAuth provider to verify the identity.</p>\n<p>In my use case, all I want to do is make a request with a <code>RestTemplate</code> to an external service that is protected by OAuth. Currently, I create an <code>OAuth2ProtectedResourceDetails</code> with my client id and secret which I pass into an <code>OAuth2RestTemplate</code>. I also have a custom <code>ClientCredentialsAccessTokenProvider</code> added to the <code>OAuth2ResTemplate</code> that just adds some extra headers to the token request that are required by the OAuth provider I'm using.</p>\n<p>In the spring-security 5 documentation, I've found a section that mentions <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#customizing-the-access-token-request-3\" rel=\"nofollow noreferrer\">customising the token request</a>, but again that looks to be in the context of authenticating an incoming request with a 3rd party OAuth provider. It is not clear how you would use this in combination with something like a <code>ClientHttpRequestInterceptor</code> to ensure that each outgoing request to an external service first gets a token and then gets that added to the request.</p>\n<p>Also, in the migration guide linked above, there is reference to an <code>OAuth2AuthorizedClientService</code> which it says is useful for using in interceptors. But again, this looks like it relies on things like the <code>ClientRegistrationRepository</code> which seems to be where it maintains registrations for third party providers if you want to use that provide to ensure an incoming request is authenticated.</p>\n<p>Is there any way I can make use of the new functionality in spring-security 5 for registering OAuth providers in order to get a token to add to outgoing requests from my application?</p>\n"},{"tags":["java","spring","spring-security-oauth2","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":1,"creation_date":1514926804,"post_id":40507524,"comment_id":83109035,"body_markdown":"I wonder if there are any build in solutions leveraging OAuth2RestTemplate/Spring that can accomplish what you describe, without instantiating &amp; caching arbitrary number of OAuth2RestTemplates. Maybe a custom AccessTokenProvider and another implementation of OAuth2RestTemplate? I would love to hear what others think.","body":"I wonder if there are any build in solutions leveraging OAuth2RestTemplate/Spring that can accomplish what you describe, without instantiating &amp; caching arbitrary number of OAuth2RestTemplates. Maybe a custom AccessTokenProvider and another implementation of OAuth2RestTemplate? I would love to hear what others think."},{"owner":{"account_id":15285933,"reputation":327,"user_id":11028953,"display_name":"Mart123"},"score":0,"creation_date":1617878400,"post_id":40507524,"comment_id":118434071,"body_markdown":"Any progress with this? Is there a better method for it or this is good? Also will this method refresh the token if needed.","body":"Any progress with this? Is there a better method for it or this is good? Also will this method refresh the token if needed."},{"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"score":0,"creation_date":1617972419,"post_id":40507524,"comment_id":118467277,"body_markdown":"I&#39;ve had this code running successfully over the last 4 years. It will refresh the token if needed. However, this is an old answer, and from what I can see OAuth2RestTemplate is deprecated in Spring 5, so you might want to look at other ways of solving this problem now.","body":"I&#39;ve had this code running successfully over the last 4 years. It will refresh the token if needed. However, this is an old answer, and from what I can see OAuth2RestTemplate is deprecated in Spring 5, so you might want to look at other ways of solving this problem now."}],"tags":[],"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1478696050,"creation_date":1478696050,"answer_id":40507524,"question_id":40306542,"body_markdown":"As nobody has replied yet, I&#39;ll attempt to answer my own question.\r\n\r\nI have created a Repository bean which caches and returns a RestTemplate based on a secret client key:\r\n\r\n    @Repository\r\n    public class ExternalServiceRepository {\r\n    \r\n        private static ConcurrentHashMap&lt;String, OAuth2RestTemplate&gt; restTemplates = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        /**\r\n         * Get a RestTemplate for a specific client based on it&#39;s client secret id.\r\n         * Create one if it hasn&#39;t been initialized yet.\r\n         */\r\n        public OAuth2RestTemplate restTemplate(String clientKey) {\r\n            \r\n            synchronized (restTemplates) {\r\n                OAuth2RestTemplate restTemplate = restTemplates.get(clientKey);\r\n                \r\n                if (restTemplate == null) {\r\n                    ClientCredentialsResourceDetails details = new ClientCredentialsResourceDetails();\r\n                    details.setAccessTokenUri(&quot;https://external-service.example.com/OAuth/Token&quot;);\r\n                    details.setClientId(&quot;abcdefghijklmnopq&quot;);\r\n                    details.setClientSecret(clientKey);\r\n                    details.setGrantType(&quot;client_credentials&quot;);\r\n                    \r\n                    restTemplate = new OAuth2RestTemplate(details, new DefaultOAuth2ClientContext());\r\n                    restTemplates.put(clientKey, restTemplate);\r\n                }\r\n                \r\n                return restTemplate;\r\n            }\r\n        }\r\n    }\r\n\r\nInstead of using the @EnableOAuth2Client annotation, which sets up an OAuth2 client context for every HTTP session, I&#39;m creating my own DefaultOAuth2ClientContext. As I&#39;m only using client credentials, I believe this code to be thread safe (please prove me wrong if you think otherwise).\r\n\r\nFinally, instead of injecting the RestTemplate, I&#39;m injecting and using my repository to get access to the restTemplate for a given client secret:\r\n\r\n    RestTemplate restTemplate =\r\n        externalServiceRepository.restTemplate(&quot;123456789123456789123456789&quot;);\r\n\r\n","title":"Using OAuth2RestTemplate on behalf of a number of users","body":"<p>As nobody has replied yet, I'll attempt to answer my own question.</p>\n\n<p>I have created a Repository bean which caches and returns a RestTemplate based on a secret client key:</p>\n\n<pre><code>@Repository\npublic class ExternalServiceRepository {\n\n    private static ConcurrentHashMap&lt;String, OAuth2RestTemplate&gt; restTemplates = new ConcurrentHashMap&lt;&gt;();\n\n    /**\n     * Get a RestTemplate for a specific client based on it's client secret id.\n     * Create one if it hasn't been initialized yet.\n     */\n    public OAuth2RestTemplate restTemplate(String clientKey) {\n\n        synchronized (restTemplates) {\n            OAuth2RestTemplate restTemplate = restTemplates.get(clientKey);\n\n            if (restTemplate == null) {\n                ClientCredentialsResourceDetails details = new ClientCredentialsResourceDetails();\n                details.setAccessTokenUri(\"https://external-service.example.com/OAuth/Token\");\n                details.setClientId(\"abcdefghijklmnopq\");\n                details.setClientSecret(clientKey);\n                details.setGrantType(\"client_credentials\");\n\n                restTemplate = new OAuth2RestTemplate(details, new DefaultOAuth2ClientContext());\n                restTemplates.put(clientKey, restTemplate);\n            }\n\n            return restTemplate;\n        }\n    }\n}\n</code></pre>\n\n<p>Instead of using the @EnableOAuth2Client annotation, which sets up an OAuth2 client context for every HTTP session, I'm creating my own DefaultOAuth2ClientContext. As I'm only using client credentials, I believe this code to be thread safe (please prove me wrong if you think otherwise).</p>\n\n<p>Finally, instead of injecting the RestTemplate, I'm injecting and using my repository to get access to the restTemplate for a given client secret:</p>\n\n<pre><code>RestTemplate restTemplate =\n    externalServiceRepository.restTemplate(\"123456789123456789123456789\");\n</code></pre>\n"}],"owner":{"account_id":49344,"reputation":361,"user_id":146870,"display_name":"reidarok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3779,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":40507524,"answer_count":1,"score":7,"last_activity_date":1700702673,"creation_date":1477662656,"question_id":40306542,"body_markdown":"I&#39;m creating a system which regularly exports data on behalf of many users to an external system, with OAuth2-authenticated HTTP requests.\r\n\r\nI have successfully been able to communicate with the external service using Spring Security OAuth2, with an OAuth2RestTemplate configured like this:\r\n\r\n    @Configuration\r\n    @EnableOAuth2Client\r\n    public class ExternalServiceConfiguration {\r\n        \r\n        @Autowired\r\n        private OAuth2ClientContext oauth2Context;\r\n    \r\n        @Bean\r\n        public OAuth2ProtectedResourceDetails credentials() {\r\n            \r\n            ClientCredentialsResourceDetails details = new ClientCredentialsResourceDetails();\r\n            details.setAccessTokenUri(&quot;https://external-service.example.com/OAuth/Token&quot;);\r\n            details.setClientId(&quot;abcdefghijklmnopq&quot;);\r\n            details.setClientSecret(&quot;123456789123456789123456789&quot;);\r\n            details.setGrantType(&quot;client_credentials&quot;);\r\n            \r\n            return details;\r\n        }\r\n        \r\n        @Bean\r\n        public OAuth2RestTemplate externalServiceRestTemplate() {\r\n            return new OAuth2RestTemplate(credentials(), oauth2Context);\r\n        }\r\n    }\r\n\r\nThis works well, and I&#39;m able to inject the OAuth2RestTemplate bean into my services:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;externalServiceRestTemplate&quot;)\r\n    private OAuth2RestTemplate restTemplate;\r\n\r\nHowever, in my application, I have a number of users that each need to configure their own client keys. In case it&#39;s relevant, I&#39;m doing this in a batch job, meaning it is done outside of a regular HTTP request, and sometimes in the same thread context.\r\n\r\nThis means that I will need to have multiple OAuth2ProtectedResourceDetails, and, I assume, multiple OAuth2RestTemplate instances as well. As this is something each user will be configuring on their own, it has to happen dynamically, based on client credentials saved in a database.\r\n\r\nDoes anyone have any advice on how to configure a dynamic number of OAuth2RestTemplate instances in an efficient, but thread-safe way?","title":"Using OAuth2RestTemplate on behalf of a number of users","body":"<p>I'm creating a system which regularly exports data on behalf of many users to an external system, with OAuth2-authenticated HTTP requests.</p>\n<p>I have successfully been able to communicate with the external service using Spring Security OAuth2, with an OAuth2RestTemplate configured like this:</p>\n<pre><code>@Configuration\n@EnableOAuth2Client\npublic class ExternalServiceConfiguration {\n    \n    @Autowired\n    private OAuth2ClientContext oauth2Context;\n\n    @Bean\n    public OAuth2ProtectedResourceDetails credentials() {\n        \n        ClientCredentialsResourceDetails details = new ClientCredentialsResourceDetails();\n        details.setAccessTokenUri(&quot;https://external-service.example.com/OAuth/Token&quot;);\n        details.setClientId(&quot;abcdefghijklmnopq&quot;);\n        details.setClientSecret(&quot;123456789123456789123456789&quot;);\n        details.setGrantType(&quot;client_credentials&quot;);\n        \n        return details;\n    }\n    \n    @Bean\n    public OAuth2RestTemplate externalServiceRestTemplate() {\n        return new OAuth2RestTemplate(credentials(), oauth2Context);\n    }\n}\n</code></pre>\n<p>This works well, and I'm able to inject the OAuth2RestTemplate bean into my services:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;externalServiceRestTemplate&quot;)\nprivate OAuth2RestTemplate restTemplate;\n</code></pre>\n<p>However, in my application, I have a number of users that each need to configure their own client keys. In case it's relevant, I'm doing this in a batch job, meaning it is done outside of a regular HTTP request, and sometimes in the same thread context.</p>\n<p>This means that I will need to have multiple OAuth2ProtectedResourceDetails, and, I assume, multiple OAuth2RestTemplate instances as well. As this is something each user will be configuring on their own, it has to happen dynamically, based on client credentials saved in a database.</p>\n<p>Does anyone have any advice on how to configure a dynamic number of OAuth2RestTemplate instances in an efficient, but thread-safe way?</p>\n"},{"tags":["javascript","java","selenium-webdriver","testcase"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1700676783,"post_id":77532219,"comment_id":136685035,"body_markdown":"How can an asterisk be available?","body":"How can an asterisk be available?"}],"answers":[{"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700701820,"creation_date":1700701820,"answer_id":77533863,"question_id":77532219,"body_markdown":"You can do something like this:\r\n\r\n    valid = driver.execute_script(&quot;&quot;&quot;\r\n      return arguments[0].checkValidity()\r\n    &quot;&quot;&quot;, inputElement)\r\n\r\nwhich will be false if the input is empty and required","title":"How to write selenium code for validate asterisk symbol","body":"<p>You can do something like this:</p>\n<pre><code>valid = driver.execute_script(&quot;&quot;&quot;\n  return arguments[0].checkValidity()\n&quot;&quot;&quot;, inputElement)\n</code></pre>\n<p>which will be false if the input is empty and required</p>\n"}],"owner":{"account_id":29968780,"reputation":11,"user_id":22966695,"display_name":"Ajay D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700701820,"creation_date":1700676034,"question_id":77532219,"body_markdown":"How to write selenium code for validate asterisk availablity with mandatory fields e.g First Name* , Last Name* , Enter Address*, Enter Phone Number* \r\nNeed to validate asterisk availablity after the field name\r\n\r\nTrying to write selenium code ","title":"How to write selenium code for validate asterisk symbol","body":"<p>How to write selenium code for validate asterisk availablity with mandatory fields e.g First Name* , Last Name* , Enter Address*, Enter Phone Number*\nNeed to validate asterisk availablity after the field name</p>\n<p>Trying to write selenium code</p>\n"},{"tags":["java","spring-boot","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1586811750,"post_id":61194451,"comment_id":108260885,"body_markdown":"I would suggest you point only to the com.ibm.mq.allclient.jar and a jms.jar that is 2.0.  You should NOT mix any jars from MQ v7.5.0 if this is what you are doing.","body":"I would suggest you point only to the com.ibm.mq.allclient.jar and a jms.jar that is 2.0.  You should NOT mix any jars from MQ v7.5.0 if this is what you are doing."},{"owner":{"account_id":13071481,"reputation":888,"user_id":9444909,"display_name":"Mark Taylor"},"score":0,"creation_date":1586848138,"post_id":61194451,"comment_id":108270974,"body_markdown":"If you are using the MQ JMS Spring Boot starter, you should not be explicitly putting either jms.jar or the allclient versions in your POM. Leave it to the spring boot setup to automatically provide the dependencies.","body":"If you are using the MQ JMS Spring Boot starter, you should not be explicitly putting either jms.jar or the allclient versions in your POM. Leave it to the spring boot setup to automatically provide the dependencies."},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1586848479,"post_id":61194451,"comment_id":108271139,"body_markdown":"Where did you put your `application.properties`? I have a feeling the config is not picked up during test execution so the code runs with the default configuration `localhost(1414)`.","body":"Where did you put your <code>application.properties</code>? I have a feeling the config is not picked up during test execution so the code runs with the default configuration <code>localhost(1414)</code>."},{"owner":{"account_id":2804587,"reputation":1686,"user_id":2412077,"accept_rate":25,"display_name":"loganrussell48"},"score":1,"creation_date":1589492816,"post_id":61194451,"comment_id":109325110,"body_markdown":"Were you ever able to figure this out?","body":"Were you ever able to figure this out?"}],"answers":[{"comments":[{"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"score":0,"creation_date":1586808422,"post_id":61195441,"comment_id":108259430,"body_markdown":"I have updated the application.properties\n ibm.mq.queueManager=MQS1\nibm.mq.queue=IDSMQ.REQUEST.FROM.RTPMQ\nibm.mq.connName=localhost(1415)\n\nHowever, setting connName didn&#39;t help getting same exception.","body":"I have updated the application.properties  ibm.mq.queueManager=MQS1 ibm.mq.queue=IDSMQ.REQUEST.FROM.RTPMQ ibm.mq.connName=localhost(1415)  However, setting connName didn&#39;t help getting same exception."}],"tags":[],"owner":{"account_id":13071481,"reputation":888,"user_id":9444909,"display_name":"Mark Taylor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586806719,"creation_date":1586806719,"answer_id":61195441,"question_id":61194451,"body_markdown":"`hostname` and `port` are not valid properties. Use `ibm.mq.connName` as the documentation and samples show.","title":"IBM MQ JMS application with Spring Boot. Getting exception:IBM MQ call failed &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;)","body":"<p><code>hostname</code> and <code>port</code> are not valid properties. Use <code>ibm.mq.connName</code> as the documentation and samples show.</p>\n"},{"tags":[],"owner":{"account_id":22153965,"reputation":1,"user_id":16402029,"display_name":"Anubhav Jana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625687479,"creation_date":1625687479,"answer_id":68292254,"question_id":61194451,"body_markdown":"You properties file should be in below format.\r\n\r\n    ibm.mq.queueManager=QM1\r\n    ibm.mq.channel=DEV.ADMIN.SVRCONN\r\n    ibm.mq.connName=localhost(1414)\r\n    ibm.mq.user=admin\r\n    ibm.mq.password=passw0rd\r\n\r\nhttps://developer.ibm.com/components/ibm-mq/tutorials/mq-jms-application-development-with-spring-boot/","title":"IBM MQ JMS application with Spring Boot. Getting exception:IBM MQ call failed &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;)","body":"<p>You properties file should be in below format.</p>\n<pre><code>ibm.mq.queueManager=QM1\nibm.mq.channel=DEV.ADMIN.SVRCONN\nibm.mq.connName=localhost(1414)\nibm.mq.user=admin\nibm.mq.password=passw0rd\n</code></pre>\n<p><a href=\"https://developer.ibm.com/components/ibm-mq/tutorials/mq-jms-application-development-with-spring-boot/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/components/ibm-mq/tutorials/mq-jms-application-development-with-spring-boot/</a></p>\n"}],"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700701520,"creation_date":1586803237,"question_id":61194451,"body_markdown":"I tried to create Spring boot IBM MQ application with Spring JMS.\r\n\r\nMaven (`pom.xml`):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.4.RELEASE &lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mqspring&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;mqspring&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;webSphereMQVersion&gt;7.5.0.1&lt;/webSphereMQVersion&gt;\r\n    \t\t&lt;springJMSVersion&gt;4.0.0.RELEASE&lt;/springJMSVersion&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.jms/jms --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt; \r\n                &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt; \r\n                &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt; \r\n                &lt;version&gt;9.0.5.0&lt;/version&gt; \r\n            &lt;/dependency&gt; \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nJava:\r\n\r\n```Java\r\n@EnableJms\r\n@SpringBootApplication\r\npublic class MqspringApplication {\r\n\r\n\t@Autowired\r\n\tprivate JmsTemplate jmsTemplate;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MqspringApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:application.properties&quot;)\r\n@Component\r\npublic class MessageSender\r\n{\r\n\t@Autowired\r\n\tprivate JmsTemplate jmsTemplate;\r\n\t\t\r\n\t@Value(&quot;${ibm.mq.queue}&quot;)\r\n\tprivate String destination;\r\n\r\n\tpublic void sendMessage() {\r\n\t\tjmsTemplate.send(destination, new MessageCreator() {\r\n\t\t\tpublic Message createMessage(Session session) throws JMSException {\r\n\t\t\t\treturn session.createTextMessage(&quot;ABC&quot;);\r\n\t\t\t}\r\n\t\t});  \t\t\r\n\t}    \t\r\n}\r\n\r\n@Component\r\n@PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:application.properties&quot;)\r\npublic class MessageReceiver {\r\n\r\n@Autowired\r\nprivate JmsTemplate jmsTemplate;\r\n\r\n\t@JmsListener(destination = &quot;ibm.mq.queue&quot;)\r\n\tpublic String readMessage() throws JMSException {\r\n\t\tSystem.out.println(&quot;Recieve&quot;);\r\n\t\tString message = null;\r\n\t\tObject msg =  jmsTemplate.receiveAndConvert();\r\n\t\tSystem.out.println(&quot;Message:::: &quot;+msg.toString());\r\n\t\tif(msg instanceof TextMessage) {\r\n\t\t\tmessage = ((TextMessage) msg).getText();\r\n\t\t\tSystem.out.println(&quot;Message&quot; + message);\r\n\t\t}\r\n\t\t\r\n\t\treturn message;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nConfig (`application.properties`):\r\n\r\n    ibm.mq.queueManager=MQS1\r\n    ibm.mq.queue=IDSMQ.REQUEST.FROM.RTPMQ\r\n    ibm.mq.hostname=localhost\r\n    ibm.mq.port=1415\r\n\r\nTests:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(classes  = MqspringApplication.class)\r\n    public class SimpleListenerTest {\r\n         \r\n        @Autowired\r\n        private MessageSender msgService;\r\n         \r\n        @Autowired\r\n        private MessageReceiver msgReceiver;\r\n         \r\n        @Test\r\n        public void sendSimpleMessageSender() throws JMSException {\r\n        \tmsgService.sendMessage();   \t\r\n        }\r\n        \r\n        @Test\r\n        public void sendSimpleMessageReceiver() throws JMSException {\r\n        \t msgReceiver.readMessage();       \t\r\n        }      \r\n    }\r\n\r\nWhen I execute the test cases I am unable to connect to the IBM MQ. Getting exception:\r\n\r\n    org.springframework.jms.IllegalStateException: JMSWMQ0018: Failed to connect to queue manager &#39;MQS1&#39; with connection mode &#39;Client&#39; and host name &#39;localhost(1414)&#39;.; nested exception is com.ibm.msg.client.jms.DetailedIllegalStateException: JMSWMQ0018: Failed to connect to queue manager &#39;MQS1&#39; with connection mode &#39;Client&#39; and host name &#39;localhost(1414)&#39;.\r\n    Check the queue manager is started and if running in client mode, check there is a listener running. Please see the linked exception for more information.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;).\r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:274)\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\r\n    \tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\r\n    \tat com.example.mqspring.MessageService.sendMessage(MessageService.java:42)\r\n    \tat com.example.mqspring.SimpleListenerTest.sendSimpleMessage(SimpleListenerTest.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n    Caused by: com.ibm.msg.client.jms.DetailedIllegalStateException: JMSWMQ0018: Failed to connect to queue manager &#39;MQS1&#39; with connection mode &#39;Client&#39; and host name &#39;localhost(1414)&#39;.\r\n    Check the queue manager is started and if running in client mode, check there is a listener running. Please see the linked exception for more information.\r\n    \tat com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:489)\r\n    \tat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\r\n    \tat com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424)\r\n    \tat com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8475)\r\n    \tat com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7815)\r\n    \tat com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:303)\r\n    \tat com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:236)\r\n    \tat com.ibm.mq.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6016)\r\n    \tat com.ibm.mq.jms.MQConnectionFactory.createConnection(MQConnectionFactory.java:6041)\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196)\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:494)\r\n    \t... 34 more\r\n    Caused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;).\r\n    \tat com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\r\n    \t... 43 more\r\n    Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host &#39;localhost(1414)&#39; rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9213\r\n\r\nCan someone please help me to understand why I am getting above error.\r\nIf I am giving port 1415, Why its trying to connect to localhost(1414)?\r\n\r\nI have checked listener, LISTENER.TCP is running on port 1415. Why is not connecting to Queue Manager `MQS1`?\r\n\r\nI have Websphere MQ 7.5.0 version installed but dependency \r\n`com.ibm.mq.allclient` points to version 9.0.5.0. Does it create any problem? \r\n\r\n\r\n","title":"IBM MQ JMS application with Spring Boot. Getting exception:IBM MQ call failed &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;)","body":"<p>I tried to create Spring boot IBM MQ application with Spring JMS.</p>\n\n<p>Maven (<code>pom.xml</code>):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE &lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mqspring&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mqspring&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;webSphereMQVersion&gt;7.5.0.1&lt;/webSphereMQVersion&gt;\n        &lt;springJMSVersion&gt;4.0.0.RELEASE&lt;/springJMSVersion&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt; \n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.jms/jms --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt; \n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt; \n            &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt; \n            &lt;version&gt;9.0.5.0&lt;/version&gt; \n        &lt;/dependency&gt; \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>@EnableJms\n@SpringBootApplication\npublic class MqspringApplication {\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MqspringApplication.class, args);\n    }\n\n}\n\n@PropertySource(ignoreResourceNotFound = true, value = \"classpath:application.properties\")\n@Component\npublic class MessageSender\n{\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @Value(\"${ibm.mq.queue}\")\n    private String destination;\n\n    public void sendMessage() {\n        jmsTemplate.send(destination, new MessageCreator() {\n            public Message createMessage(Session session) throws JMSException {\n                return session.createTextMessage(\"ABC\");\n            }\n        });         \n    }       \n}\n\n@Component\n@PropertySource(ignoreResourceNotFound = true, value = \"classpath:application.properties\")\npublic class MessageReceiver {\n\n@Autowired\nprivate JmsTemplate jmsTemplate;\n\n    @JmsListener(destination = \"ibm.mq.queue\")\n    public String readMessage() throws JMSException {\n        System.out.println(\"Recieve\");\n        String message = null;\n        Object msg =  jmsTemplate.receiveAndConvert();\n        System.out.println(\"Message:::: \"+msg.toString());\n        if(msg instanceof TextMessage) {\n            message = ((TextMessage) msg).getText();\n            System.out.println(\"Message\" + message);\n        }\n\n        return message;\n    }\n\n}\n</code></pre>\n\n<p>Config (<code>application.properties</code>):</p>\n\n<pre><code>ibm.mq.queueManager=MQS1\nibm.mq.queue=IDSMQ.REQUEST.FROM.RTPMQ\nibm.mq.hostname=localhost\nibm.mq.port=1415\n</code></pre>\n\n<p>Tests:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes  = MqspringApplication.class)\npublic class SimpleListenerTest {\n\n    @Autowired\n    private MessageSender msgService;\n\n    @Autowired\n    private MessageReceiver msgReceiver;\n\n    @Test\n    public void sendSimpleMessageSender() throws JMSException {\n        msgService.sendMessage();       \n    }\n\n    @Test\n    public void sendSimpleMessageReceiver() throws JMSException {\n         msgReceiver.readMessage();         \n    }      \n}\n</code></pre>\n\n<p>When I execute the test cases I am unable to connect to the IBM MQ. Getting exception:</p>\n\n<pre><code>org.springframework.jms.IllegalStateException: JMSWMQ0018: Failed to connect to queue manager 'MQS1' with connection mode 'Client' and host name 'localhost(1414)'.; nested exception is com.ibm.msg.client.jms.DetailedIllegalStateException: JMSWMQ0018: Failed to connect to queue manager 'MQS1' with connection mode 'Client' and host name 'localhost(1414)'.\nCheck the queue manager is started and if running in client mode, check there is a listener running. Please see the linked exception for more information.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2538' ('MQRC_HOST_NOT_AVAILABLE').\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:274)\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507)\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584)\n    at com.example.mqspring.MessageService.sendMessage(MessageService.java:42)\n    at com.example.mqspring.SimpleListenerTest.sendSimpleMessage(SimpleListenerTest.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: com.ibm.msg.client.jms.DetailedIllegalStateException: JMSWMQ0018: Failed to connect to queue manager 'MQS1' with connection mode 'Client' and host name 'localhost(1414)'.\nCheck the queue manager is started and if running in client mode, check there is a listener running. Please see the linked exception for more information.\n    at com.ibm.msg.client.wmq.common.internal.Reason.reasonToException(Reason.java:489)\n    at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:215)\n    at com.ibm.msg.client.wmq.internal.WMQConnection.&lt;init&gt;(WMQConnection.java:424)\n    at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8475)\n    at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:7815)\n    at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:303)\n    at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:236)\n    at com.ibm.mq.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6016)\n    at com.ibm.mq.jms.MQConnectionFactory.createConnection(MQConnectionFactory.java:6041)\n    at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196)\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:494)\n    ... 34 more\nCaused by: com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2538' ('MQRC_HOST_NOT_AVAILABLE').\n    at com.ibm.msg.client.wmq.common.internal.Reason.createException(Reason.java:203)\n    ... 43 more\nCaused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host 'localhost(1414)' rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9213\n</code></pre>\n\n<p>Can someone please help me to understand why I am getting above error.\nIf I am giving port 1415, Why its trying to connect to localhost(1414)?</p>\n\n<p>I have checked listener, LISTENER.TCP is running on port 1415. Why is not connecting to Queue Manager <code>MQS1</code>?</p>\n\n<p>I have Websphere MQ 7.5.0 version installed but dependency \n<code>com.ibm.mq.allclient</code> points to version 9.0.5.0. Does it create any problem? </p>\n"},{"tags":["java","filenotfoundexception"],"comments":[{"owner":{"account_id":376436,"reputation":5890,"user_id":1969893,"display_name":"Steinar"},"score":7,"creation_date":1381445959,"post_id":19307622,"comment_id":28595260,"body_markdown":"What is current directory? Try printing `new File(&quot;.&quot;)`","body":"What is current directory? Try printing <code>new File(&quot;.&quot;)</code>"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":5,"creation_date":1381445998,"post_id":19307622,"comment_id":28595271,"body_markdown":"Print the path of `new File(&quot;scores.dat&quot;)` and double-check to see if it exists in the expected directory.","body":"Print the path of <code>new File(&quot;scores.dat&quot;)</code> and double-check to see if it exists in the expected directory."},{"owner":{"account_id":2308957,"reputation":7288,"user_id":2027567,"accept_rate":91,"display_name":"scrblnrd3"},"score":0,"creation_date":1381446218,"post_id":19307622,"comment_id":28595338,"body_markdown":"@Steinar it is searching in the correct directory, and it is giving the correct absolute path, however, the file is still not found","body":"@Steinar it is searching in the correct directory, and it is giving the correct absolute path, however, the file is still not found"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1381446286,"post_id":19307622,"comment_id":28595359,"body_markdown":"Is this on a Unix machine? If so, please post the output of `ls -la` from the directory where you&#39;re running `java`.","body":"Is this on a Unix machine? If so, please post the output of <code>ls -la</code> from the directory where you&#39;re running <code>java</code>."},{"owner":{"account_id":376436,"reputation":5890,"user_id":1969893,"display_name":"Steinar"},"score":0,"creation_date":1381446514,"post_id":19307622,"comment_id":28595416,"body_markdown":"More stuff to try out: What does `new File(&quot;scores.dat&quot;).exists()` return? What does `new File(&quot;.&quot;).listFiles()` returns? Do you find your file in the list? If you pick that instance, does it work with the scanner?","body":"More stuff to try out: What does <code>new File(&quot;scores.dat&quot;).exists()</code> return? What does <code>new File(&quot;.&quot;).listFiles()</code> returns? Do you find your file in the list? If you pick that instance, does it work with the scanner?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1381448238,"post_id":19307622,"comment_id":28595923,"body_markdown":"What is the text of the exception?","body":"What is the text of the exception?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":6,"creation_date":1381456407,"post_id":19307622,"comment_id":28597708,"body_markdown":"It&#39;s almost certain that you&#39;re in the wrong directory.  Print `new File(&quot;scores.dat&quot;).getAbsolutePath()` and make sure the file&#39;s really in that location.","body":"It&#39;s almost certain that you&#39;re in the wrong directory.  Print <code>new File(&quot;scores.dat&quot;).getAbsolutePath()</code> and make sure the file&#39;s really in that location."},{"owner":{"account_id":13557110,"reputation":659,"user_id":9780149,"display_name":"Csa77"},"score":0,"creation_date":1567064073,"post_id":19307622,"comment_id":101852978,"body_markdown":"just as a side note, I was getting this error by calling `new File().getName()` instead of `new File().getAbsolutePath()`, even though `getName()` returned the correct path, it did not include `file:` at the beginning of the String.","body":"just as a side note, I was getting this error by calling <code>new File().getName()</code> instead of <code>new File().getAbsolutePath()</code>, even though <code>getName()</code> returned the correct path, it did not include <code>file:</code> at the beginning of the String."}],"answers":[{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"comment_count":0,"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1564865478,"creation_date":1381446184,"answer_id":19307663,"question_id":19307622,"body_markdown":"The code itself is working correctly. The problem is, that the program working path is pointing to other place than you think.\r\n\r\nUse this line and see where the path is:\r\n\r\n    System.out.println(new File(&quot;.&quot;).getAbsoluteFile());","title":"Java says FileNotFoundException but file exists","body":"<p>The code itself is working correctly. The problem is, that the program working path is pointing to other place than you think.</p>\n\n<p>Use this line and see where the path is:</p>\n\n<pre><code>System.out.println(new File(\".\").getAbsoluteFile());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1430089083,"post_id":19309163,"comment_id":47893188,"body_markdown":"Your third case includes the other two, and also includes a number of other easily separable cases such as permission problems, network failures, etc., which isn&#39;t very enlightening, and doesn&#39;t make any kind of a case for there being &#39;three cases&#39;. Testing `File.canRead()` is futile when you already have to catch an exception, and wasteful when the system has to test it anyway during the open.","body":"Your third case includes the other two, and also includes a number of other easily separable cases such as permission problems, network failures, etc., which isn&#39;t very enlightening, and doesn&#39;t make any kind of a case for there being &#39;three cases&#39;. Testing <code>File.canRead()</code> is futile when you already have to catch an exception, and wasteful when the system has to test it anyway during the open."},{"owner":{"account_id":10118501,"reputation":305,"user_id":9209011,"display_name":"Talik"},"score":0,"creation_date":1662973342,"post_id":19309163,"comment_id":130121331,"body_markdown":"If the issue occurs on MacOS, it could be because Java or Android Studio/your IDE doesn&#39;t have access to the Documents folder. This can be fixed in Settings/Security&amp; Privacy/Files and Folders (or Full Disk Access)","body":"If the issue occurs on MacOS, it could be because Java or Android Studio/your IDE doesn&#39;t have access to the Documents folder. This can be fixed in Settings/Security&amp; Privacy/Files and Folders (or Full Disk Access)"},{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1678760354,"post_id":19309163,"comment_id":133592258,"body_markdown":"Well, `File.canRead()` can test the problem. When you find the solution, just remove it. For me, it is also a silly problem. I worked in springboot project. My path in `application-dev.properties` is `my.path=&quot;/etc/my/path/file.conf&quot;`. The problem is the double quote. So, when I print the path in my program, the result looks good. That is:`The pathname looks correct but is actually wrong`. Just remove the double quote, and everything works fine.","body":"Well, <code>File.canRead()</code> can test the problem. When you find the solution, just remove it. For me, it is also a silly problem. I worked in springboot project. My path in <code>application-dev.properties</code> is <code>my.path=&quot;&#47;etc&#47;my&#47;path&#47;file.conf&quot;</code>. The problem is the double quote. So, when I print the path in my program, the result looks good. That is:<code>The pathname looks correct but is actually wrong</code>. Just remove the double quote, and everything works fine."}],"tags":[],"owner":{"account_id":397289,"reputation":17010,"user_id":761330,"accept_rate":97,"display_name":"Terry Li"},"comment_count":3,"down_vote_count":2,"up_vote_count":97,"is_accepted":true,"score":95,"last_activity_date":1632464121,"creation_date":1381457536,"answer_id":19309163,"question_id":19307622,"body_markdown":"There are a number situation where a `FileNotFoundException` may be thrown at runtime.\r\n\r\n1. The named file does not exist.  This could be for a number of reasons including:\r\n\r\n    - The pathname is simply wrong\r\n    - The pathname looks correct but is actually wrong because it contains non-printing characters (or homoglyphs) that you did not notice\r\n    - The pathname is relative, and it doesn&#39;t resolve correctly relative to  the *actual* current directory of the running application.  This typically happens because the application&#39;s current directory is not what you are expecting or assuming.\r\n    - The path to the file is is broken; e.g. a directory name of the path is incorrect, a symbolic link on the path is broken, or there is a permission problem with one of the path components.\r\n\r\n2. The named file is actually a directory.\r\n3. The named file cannot be opened for reading for some reason.\r\n\r\nThe good news that, the problem will *inevitably* be one of the above.  It is just a matter of working out which.  Here are some things that you can try:\r\n\r\n- Calling `file.exists()` will tell you if any file system object exists with the given name / pathname.\r\n- Calling `file.isDirectory()` will test if it is a directory.\r\n- Calling `file.canRead()` will test if it is a readable file.\r\n- This line will tell you what the current directory is:\r\n\r\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n\r\n- This line will print out the pathname in a way that makes it easier to spot things like unexpected leading or trailing whitespace:\r\n\r\n        System.out.println(&quot;The path is &#39;&quot; + path + &quot;&#39;&quot;);\r\n\r\n  Look for unexpected spaces, line breaks, etc in the output.\r\n\r\n----------------------------------\r\n\r\nIt turns out that your example code has a compilation error.\r\n\r\nI ran your code without taking care of the complaint from Netbeans, only to get the following exception message:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\r\n&gt; source code - unreported exception java.io.FileNotFoundException; must\r\n&gt; be caught or declared to be thrown\r\n\r\nIf you change your code to the following, it will fix *that* problem.\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {    \r\n        File file = new File(&quot;scores.dat&quot;);\r\n        System.out.println(file.exists());\r\n        Scanner scan = new Scanner(file);\r\n    }\r\n\r\n*Explanation*: the `Scanner(File)` constructor is declared as throwing the `FileNotFoundException` exception.  (It happens the scanner it cannot open the file.)  Now `FileNotFoundException` is a *checked exception*.  That means that a method in which the exception *may be* thrown *must* either catch the exception or declare it in the `throws` clause.  The above fix takes the latter approach.\r\n&lt;!-- ten character edit limit --&gt;","title":"Java says FileNotFoundException but file exists","body":"<p>There are a number situation where a <code>FileNotFoundException</code> may be thrown at runtime.</p>\n<ol>\n<li><p>The named file does not exist.  This could be for a number of reasons including:</p>\n<ul>\n<li>The pathname is simply wrong</li>\n<li>The pathname looks correct but is actually wrong because it contains non-printing characters (or homoglyphs) that you did not notice</li>\n<li>The pathname is relative, and it doesn't resolve correctly relative to  the <em>actual</em> current directory of the running application.  This typically happens because the application's current directory is not what you are expecting or assuming.</li>\n<li>The path to the file is is broken; e.g. a directory name of the path is incorrect, a symbolic link on the path is broken, or there is a permission problem with one of the path components.</li>\n</ul>\n</li>\n<li><p>The named file is actually a directory.</p>\n</li>\n<li><p>The named file cannot be opened for reading for some reason.</p>\n</li>\n</ol>\n<p>The good news that, the problem will <em>inevitably</em> be one of the above.  It is just a matter of working out which.  Here are some things that you can try:</p>\n<ul>\n<li><p>Calling <code>file.exists()</code> will tell you if any file system object exists with the given name / pathname.</p>\n</li>\n<li><p>Calling <code>file.isDirectory()</code> will test if it is a directory.</p>\n</li>\n<li><p>Calling <code>file.canRead()</code> will test if it is a readable file.</p>\n</li>\n<li><p>This line will tell you what the current directory is:</p>\n<pre><code>  System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n</code></pre>\n</li>\n<li><p>This line will print out the pathname in a way that makes it easier to spot things like unexpected leading or trailing whitespace:</p>\n<pre><code>  System.out.println(&quot;The path is '&quot; + path + &quot;'&quot;);\n</code></pre>\n<p>Look for unexpected spaces, line breaks, etc in the output.</p>\n</li>\n</ul>\n<hr />\n<p>It turns out that your example code has a compilation error.</p>\n<p>I ran your code without taking care of the complaint from Netbeans, only to get the following exception message:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\nsource code - unreported exception java.io.FileNotFoundException; must\nbe caught or declared to be thrown</p>\n</blockquote>\n<p>If you change your code to the following, it will fix <em>that</em> problem.</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {    \n    File file = new File(&quot;scores.dat&quot;);\n    System.out.println(file.exists());\n    Scanner scan = new Scanner(file);\n}\n</code></pre>\n<p><em>Explanation</em>: the <code>Scanner(File)</code> constructor is declared as throwing the <code>FileNotFoundException</code> exception.  (It happens the scanner it cannot open the file.)  Now <code>FileNotFoundException</code> is a <em>checked exception</em>.  That means that a method in which the exception <em>may be</em> thrown <em>must</em> either catch the exception or declare it in the <code>throws</code> clause.  The above fix takes the latter approach.</p>\n\n"},{"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1649935281,"post_id":30114756,"comment_id":127002999,"body_markdown":"Yes, that was the real culprit. &quot;Hide file extensions for known file types&quot; is checked and unfortunately my file was having a redundant extension.","body":"Yes, that was the real culprit. &quot;Hide file extensions for known file types&quot; is checked and unfortunately my file was having a redundant extension."}],"tags":[],"owner":{"account_id":121785,"reputation":823,"user_id":315127,"accept_rate":60,"display_name":"petehern"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1700701342,"creation_date":1431051511,"answer_id":30114756,"question_id":19307622,"body_markdown":"It turned out that the file didn&#39;t exist, even though it looked like it did. The problem was that Windows 7 was configured to &quot;Hide file extensions for known file types.&quot; This means that if file appears to have the name &quot;data.txt&quot; its **actual** filename is &quot;data.txt.txt&quot;.","title":"Java says FileNotFoundException but file exists","body":"<p>It turned out that the file didn't exist, even though it looked like it did. The problem was that Windows 7 was configured to &quot;Hide file extensions for known file types.&quot; This means that if file appears to have the name &quot;data.txt&quot; its <strong>actual</strong> filename is &quot;data.txt.txt&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1564806628,"creation_date":1470902103,"answer_id":38890470,"question_id":19307622,"body_markdown":"I recently found interesting case that produces FileNotFoundExeption when file is obviously exists on the disk. \r\nIn my program I read file path from another text file and create File object: \r\n\r\n    //String path was read from file\r\n    System.out.println(path); //file with exactly same visible path exists on disk\r\n    File file = new File(path); \r\n    System.out.println(file.exists());  //false\r\n\tSystem.out.println(file.canRead());  //false\r\n    FileInputStream fis = new FileInputStream(file);  // FileNotFoundExeption \r\n\r\nThe cause of the problem was that the path contained invisible `\\r\\n` characters at the end.\r\n\r\nThe fix in my case was: \r\n\r\n    File file = new File(path.trim()); \r\n\r\nTo generalize a bit, the invisible / non-printing characters could have include space or tab characters, and possibly others, and they could have appeared at the beginning of the path, at the end, or embedded in the path.  Trim will work in some cases but not all.  There are a couple of things that you can help to spot this kind of problem:\r\n\r\n  1.  Output the pathname with quote characters around it; e.g.\r\n\r\n          System.out.println(&quot;Check me! &#39;&quot; + path + &quot;&#39;&quot;);\r\n\r\n      and carefully check the output for spaces and line breaks where they shouldn&#39;t be.\r\n\r\n  2.  Use a Java debugger to carefully examine the pathname string, character by character, looking for characters that shouldn&#39;t be there.  (Also check for homoglyph characters!)","title":"Java says FileNotFoundException but file exists","body":"<p>I recently found interesting case that produces FileNotFoundExeption when file is obviously exists on the disk. \nIn my program I read file path from another text file and create File object: </p>\n\n<pre><code>//String path was read from file\nSystem.out.println(path); //file with exactly same visible path exists on disk\nFile file = new File(path); \nSystem.out.println(file.exists());  //false\nSystem.out.println(file.canRead());  //false\nFileInputStream fis = new FileInputStream(file);  // FileNotFoundExeption \n</code></pre>\n\n<p>The cause of the problem was that the path contained invisible <code>\\r\\n</code> characters at the end.</p>\n\n<p>The fix in my case was: </p>\n\n<pre><code>File file = new File(path.trim()); \n</code></pre>\n\n<p>To generalize a bit, the invisible / non-printing characters could have include space or tab characters, and possibly others, and they could have appeared at the beginning of the path, at the end, or embedded in the path.  Trim will work in some cases but not all.  There are a couple of things that you can help to spot this kind of problem:</p>\n\n<ol>\n<li><p>Output the pathname with quote characters around it; e.g.</p>\n\n<pre><code>  System.out.println(\"Check me! '\" + path + \"'\");\n</code></pre>\n\n<p>and carefully check the output for spaces and line breaks where they shouldn't be.</p></li>\n<li><p>Use a Java debugger to carefully examine the pathname string, character by character, looking for characters that shouldn't be there.  (Also check for homoglyph characters!)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3111293,"reputation":98,"user_id":2632964,"display_name":"Alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700701396,"creation_date":1495893549,"answer_id":44217735,"question_id":19307622,"body_markdown":"If you are reading the path through Scanner or through command line args, instead of copy pasting the path directly from Windows Explorer just **manually type in the path.**","title":"Java says FileNotFoundException but file exists","body":"<p>If you are reading the path through Scanner or through command line args, instead of copy pasting the path directly from Windows Explorer just <strong>manually type in the path.</strong></p>\n"},{"tags":[],"owner":{"account_id":7801561,"reputation":113,"user_id":5900817,"display_name":"morphytronx"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499432604,"creation_date":1499432273,"answer_id":44971385,"question_id":19307622,"body_markdown":"Reading and writing from and to a file can be blocked by your OS depending on the file&#39;s permission attributes.\r\n\r\nIf you are trying to read from the file, then I recommend using File&#39;s setReadable method to set it to true, or, this code for instance:\r\n    \r\n    String arbitrary_path = &quot;C:/Users/Username/Blah.txt&quot;;\r\n    byte[] data_of_file;\r\n    File f = new File(arbitrary_path);\r\n    f.setReadable(true);\r\n    data_of_file = Files.readAllBytes(f);\r\n    f.setReadable(false); // do this if you want to prevent un-knowledgeable \r\n                          //programmers from accessing your file.\r\n\r\nIf you are trying to write to the file, then I recommend using File&#39;s setWritable method to set it to true, or, this code for instance:\r\n    \r\n    String arbitrary_path = &quot;C:/Users/Username/Blah.txt&quot;;\r\n    byte[] data_of_file = { (byte) 0x00, (byte) 0xFF, (byte) 0xEE };\r\n    File f = new File(arbitrary_path);\r\n    f.setWritable(true);\r\n    Files.write(f, byte_array);\r\n    f.setWritable(false); // do this if you want to prevent un-knowledgeable \r\n                          //programmers from changing your file (for security.)","title":"Java says FileNotFoundException but file exists","body":"<p>Reading and writing from and to a file can be blocked by your OS depending on the file's permission attributes.</p>\n\n<p>If you are trying to read from the file, then I recommend using File's setReadable method to set it to true, or, this code for instance:</p>\n\n<pre><code>String arbitrary_path = \"C:/Users/Username/Blah.txt\";\nbyte[] data_of_file;\nFile f = new File(arbitrary_path);\nf.setReadable(true);\ndata_of_file = Files.readAllBytes(f);\nf.setReadable(false); // do this if you want to prevent un-knowledgeable \n                      //programmers from accessing your file.\n</code></pre>\n\n<p>If you are trying to write to the file, then I recommend using File's setWritable method to set it to true, or, this code for instance:</p>\n\n<pre><code>String arbitrary_path = \"C:/Users/Username/Blah.txt\";\nbyte[] data_of_file = { (byte) 0x00, (byte) 0xFF, (byte) 0xEE };\nFile f = new File(arbitrary_path);\nf.setWritable(true);\nFiles.write(f, byte_array);\nf.setWritable(false); // do this if you want to prevent un-knowledgeable \n                      //programmers from changing your file (for security.)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14587641,"reputation":61,"user_id":10535882,"display_name":"Irina Larisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1700701514,"creation_date":1540119874,"answer_id":52914622,"question_id":19307622,"body_markdown":"Move the files out of src and into the main folder of the project.","title":"Java says FileNotFoundException but file exists","body":"<p>Move the files out of src and into the main folder of the project.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1564804991,"post_id":56092473,"comment_id":101160173,"body_markdown":"While this worked for you, there are problems with this approach.  1) You are making your application platform dependent by using Windows-specific pathname syntax. 2) You are assuming that your code is going to be executed with the current directory set to the build directory (or something).  That won&#39;t work when you ship the code to someone else.","body":"While this worked for you, there are problems with this approach.  1) You are making your application platform dependent by using Windows-specific pathname syntax. 2) You are assuming that your code is going to be executed with the current directory set to the build directory (or something).  That won&#39;t work when you ship the code to someone else."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1564805141,"post_id":56092473,"comment_id":101160188,"body_markdown":"If the file you are trying to read is part of your source code base, a better idea is to copy it into your JAR file (or the file tree containing your compiled classes) and use `getResourceAsStream` to find it via the (runtime) classpath.","body":"If the file you are trying to read is part of your source code base, a better idea is to copy it into your JAR file (or the file tree containing your compiled classes) and use <code>getResourceAsStream</code> to find it via the (runtime) classpath."}],"tags":[],"owner":{"account_id":6234234,"reputation":71,"user_id":4850015,"display_name":"lewiscool"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1557608328,"creation_date":1557593799,"answer_id":56092473,"question_id":19307622,"body_markdown":"I had this same error and solved it simply by adding the src directory that is found in Java project structure.\r\n\r\n   \r\n\r\n    String path = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\package_name\\\\file_name&quot;;\r\n    File file = new File(path);\r\n    Scanner scanner = new Scanner(file);\r\n\r\nNotice that System.getProperty(&quot;user.dir&quot;) and new File(&quot;.&quot;).getAbsolutePath() return your project root directory path, so you have to add the path to your subdirectories and packages\r\n","title":"Java says FileNotFoundException but file exists","body":"<p>I had this same error and solved it simply by adding the src directory that is found in Java project structure.</p>\n\n<pre><code>String path = System.getProperty(\"user.dir\") + \"\\\\src\\\\package_name\\\\file_name\";\nFile file = new File(path);\nScanner scanner = new Scanner(file);\n</code></pre>\n\n<p>Notice that System.getProperty(\"user.dir\") and new File(\".\").getAbsolutePath() return your project root directory path, so you have to add the path to your subdirectories and packages</p>\n"},{"tags":[],"owner":{"account_id":2914893,"reputation":3215,"user_id":2498327,"accept_rate":86,"display_name":"Aditya Vikas Devarapalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578066010,"creation_date":1578066010,"answer_id":59581348,"question_id":19307622,"body_markdown":"You&#39;d obviously figure it out after a while but just posting this so that it might help someone. This could also happen when your file path contains any whitespace appended or prepended to it.\r\n","title":"Java says FileNotFoundException but file exists","body":"<p>You'd obviously figure it out after a while but just posting this so that it might help someone. This could also happen when your file path contains any whitespace appended or prepended to it.</p>\n"},{"tags":[],"owner":{"account_id":17812449,"reputation":1,"user_id":12936712,"display_name":"Lefin K.R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582270254,"creation_date":1582264561,"answer_id":60332896,"question_id":19307622,"body_markdown":"Use single  forward slash and always type the path manually. For example:                                                        \r\n\r\n    FileInputStream fi= new FileInputStream(&quot;D:/excelfiles/myxcel.xlsx&quot;);","title":"Java says FileNotFoundException but file exists","body":"<p>Use single  forward slash and always type the path manually. For example:                                                        </p>\n\n<pre><code>FileInputStream fi= new FileInputStream(\"D:/excelfiles/myxcel.xlsx\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10649496,"reputation":633,"user_id":8211365,"display_name":"tejasvi88"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615192273,"creation_date":1615192273,"answer_id":66526509,"question_id":19307622,"body_markdown":"What worked for me was catching the exception. Without it the compiler complains even if the file exists.\r\n\r\n```java\r\nInputStream file = new FileInputStream(&quot;filename&quot;);\r\n```\r\n\r\nchanged to\r\n\r\n```java\r\ntry{\r\n    InputStream file = new FileInputStream(&quot;filename&quot;);\r\n    System.out.println(file.available());\r\n}\r\ncatch (Exception e){\r\n    System.out.println(e);\r\n}\r\n```","title":"Java says FileNotFoundException but file exists","body":"<p>What worked for me was catching the exception. Without it the compiler complains even if the file exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream file = new FileInputStream(&quot;filename&quot;);\n</code></pre>\n<p>changed to</p>\n<pre class=\"lang-java prettyprint-override\"><code>try{\n    InputStream file = new FileInputStream(&quot;filename&quot;);\n    System.out.println(file.available());\n}\ncatch (Exception e){\n    System.out.println(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24516581,"reputation":1,"user_id":18430239,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650887992,"creation_date":1650887854,"answer_id":71999175,"question_id":19307622,"body_markdown":"This works for me. It also can read files such txt, csv and .in\r\n```\r\npublic class NewReader {\r\n\r\n    public void read() throws FileNotFoundException, URISyntaxException {\r\n        File file = new File(Objects.requireNonNull(NewReader.class.getResource(&quot;/test.txt&quot;)).toURI());\r\n        Scanner sc = new Scanner(file);\r\n\r\n        while (sc.hasNext()) {\r\n            String text = sc.next();\r\n            System.out.println(text);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthe file is located in resource folder generated by maven. If you have other folders nested in, just add it to the file name like &quot;examples/test.txt&quot;.","title":"Java says FileNotFoundException but file exists","body":"<p>This works for me. It also can read files such txt, csv and .in</p>\n<pre><code>public class NewReader {\n\n    public void read() throws FileNotFoundException, URISyntaxException {\n        File file = new File(Objects.requireNonNull(NewReader.class.getResource(&quot;/test.txt&quot;)).toURI());\n        Scanner sc = new Scanner(file);\n\n        while (sc.hasNext()) {\n            String text = sc.next();\n            System.out.println(text);\n\n        }\n    }\n}\n</code></pre>\n<p>the file is located in resource folder generated by maven. If you have other folders nested in, just add it to the file name like &quot;examples/test.txt&quot;.</p>\n"},{"comments":[{"owner":{"account_id":3767341,"reputation":672,"user_id":3130521,"display_name":"greg spears"},"score":1,"creation_date":1700173345,"post_id":77493010,"comment_id":136625457,"body_markdown":"It would be nice if you would please share the code so that others can be helped by your find... thx","body":"It would be nice if you would please share the code so that others can be helped by your find... thx"}],"tags":[],"owner":{"account_id":29915581,"reputation":1,"user_id":22925870,"display_name":"estelar9"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700120637,"creation_date":1700120637,"answer_id":77493010,"question_id":19307622,"body_markdown":"Kinda weird, I still don&#39;t understand why but it worked for me : **I just surrounded** my &#39;Scanner sc=new Scanner(new File(&quot;your/path&quot;));&#39; **in a try catch block** and while still in the try block I can access the file","title":"Java says FileNotFoundException but file exists","body":"<p>Kinda weird, I still don't understand why but it worked for me : <strong>I just surrounded</strong> my 'Scanner sc=new Scanner(new File(&quot;your/path&quot;));' <strong>in a try catch block</strong> and while still in the try block I can access the file</p>\n"},{"tags":[],"owner":{"account_id":24205685,"reputation":1,"user_id":18162939,"display_name":"MyouiJay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700696981,"creation_date":1700696981,"answer_id":77533664,"question_id":19307622,"body_markdown":"I moved the text file outside of the src folder and then it worked. I thought it was supposed to work in the src folder but apparently not.\r\n","title":"Java says FileNotFoundException but file exists","body":"<p>I moved the text file outside of the src folder and then it worked. I thought it was supposed to work in the src folder but apparently not.</p>\n"}],"owner":{"account_id":2308957,"reputation":7288,"user_id":2027567,"accept_rate":91,"display_name":"scrblnrd3"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334831,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"accepted_answer_id":19309163,"answer_count":14,"score":63,"last_activity_date":1700701514,"creation_date":1381445905,"question_id":19307622,"body_markdown":"I have an assignment for my CS class where it says to read a file with several test scores and asks me to sum and average them. While summing and averaging is easy, I am having problems with the file reading. The instructor said to use this syntax\r\n\r\n    Scanner scores = new Scanner(new File(&quot;scores.dat&quot;));\r\n\r\nHowever, this throws a `FileNotFoundException`, but I have checked over and over again to see if the file exists in the current folder, and after that, I figured that it had to do something with the permissions. I changed the permissions for read and write for everyone, but it still did not work and it still keeps throwing the error. Does anyone have any idea why this may be occurring?\r\n\r\nEDIT: It was actually pointing to a directory up, however, I have fixed that problem. Now `file.exists()` returns `true`, but when I try to put it in the `Scanner`, it throws the `FileNotFoundException`\r\n\r\nHere is all my code\r\n\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    public class readInt{\r\n            public static void main(String args[]){\r\n                    File file = new File(&quot;lines.txt&quot;);\r\n                    System.out.println(file.exists());\r\n                    Scanner scan = new Scanner(file);\r\n            }\r\n    }","title":"Java says FileNotFoundException but file exists","body":"<p>I have an assignment for my CS class where it says to read a file with several test scores and asks me to sum and average them. While summing and averaging is easy, I am having problems with the file reading. The instructor said to use this syntax</p>\n<pre><code>Scanner scores = new Scanner(new File(&quot;scores.dat&quot;));\n</code></pre>\n<p>However, this throws a <code>FileNotFoundException</code>, but I have checked over and over again to see if the file exists in the current folder, and after that, I figured that it had to do something with the permissions. I changed the permissions for read and write for everyone, but it still did not work and it still keeps throwing the error. Does anyone have any idea why this may be occurring?</p>\n<p>EDIT: It was actually pointing to a directory up, however, I have fixed that problem. Now <code>file.exists()</code> returns <code>true</code>, but when I try to put it in the <code>Scanner</code>, it throws the <code>FileNotFoundException</code></p>\n<p>Here is all my code</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*;\npublic class readInt{\n        public static void main(String args[]){\n                File file = new File(&quot;lines.txt&quot;);\n                System.out.println(file.exists());\n                Scanner scan = new Scanner(file);\n        }\n}\n</code></pre>\n"},{"tags":["java","sql","sql-server"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":4,"creation_date":1699492279,"post_id":77449845,"comment_id":136540140,"body_markdown":"Store your dates as UTC dates, and display them using the users locale? And convert from local user time to UTC before storing in the database.","body":"Store your dates as UTC dates, and display them using the users locale? And convert from local user time to UTC before storing in the database."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1699492330,"post_id":77449845,"comment_id":136540148,"body_markdown":"Use a [`java.time.ZonedDateTime`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html) on the Java side. Convert between UTC and the [time zone of the user](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZoneId.html) when communicating with the database. Or find a way to store the time zone in the database. Also, just in case, note that a _time zone_ is not the same thing as an _offset_.","body":"Use a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>java.time.ZonedDateTime</code></a> on the Java side. Convert between UTC and the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">time zone of the user</a> when communicating with the database. Or find a way to store the time zone in the database. Also, just in case, note that a <i>time zone</i> is not the same thing as an <i>offset</i>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":2,"creation_date":1699492947,"post_id":77449845,"comment_id":136540205,"body_markdown":"Store the timezone with the date/time value! Converting the time to UTC is only the second best solution, because when you want to run something at nine o&#39;clock walltime, this should not change when DST is switched on or off. And as said alread by @Slaw, there is an important distinction between timezone (Europe/London), an offset (+00:00) and a zone time (GMT). You need to store the timezone!!!","body":"Store the timezone with the date/time value! Converting the time to UTC is only the second best solution, because when you want to run something at nine o&#39;clock walltime, this should not change when DST is switched on or off. And as said alread by @Slaw, there is an important distinction between timezone (Europe/London), an offset (+00:00) and a zone time (GMT). You need to store the timezone!!!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1699493117,"post_id":77449845,"comment_id":136540226,"body_markdown":"If your politicians were to change the rules of your time zone, such as adopting or dropping Daylight Saving Time (DST), would you want the time-of-day to change accordingly? Or would you want to stick with the same moment, the same point on the timeline regardless of what rules are changed by the politicians?","body":"If your politicians were to change the rules of your time zone, such as adopting or dropping Daylight Saving Time (DST), would you want the time-of-day to change accordingly? Or would you want to stick with the same moment, the same point on the timeline regardless of what rules are changed by the politicians?"},{"owner":{"account_id":198763,"reputation":2171,"user_id":443626,"accept_rate":70,"display_name":"redoc01"},"score":0,"creation_date":1699493528,"post_id":77449845,"comment_id":136540254,"body_markdown":"Thanks @DaleK and Slaw, tquadrat and basil bourque for the quick response. What would be the datatype in sql server 2019 that would need to select from","body":"Thanks @DaleK and Slaw, tquadrat and basil bourque for the quick response. What would be the datatype in sql server 2019 that would need to select from"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1699493658,"post_id":77449845,"comment_id":136540264,"body_markdown":"_&quot;So if I shedule a time between 1pm to 3pm in United Kingdom, then if I was to see this schedule in America, then as you know America is 7 hours infront and so Americas shedule time would be 7pm to 10pm&quot;_ - No, the offset is _behind_ (negative) and there are 4 timezones in the continental US, and the offset also depends on Daylight Saving time, which isn&#39;t uniformly observed.  A real mess.","body":"<i>&quot;So if I shedule a time between 1pm to 3pm in United Kingdom, then if I was to see this schedule in America, then as you know America is 7 hours infront and so Americas shedule time would be 7pm to 10pm&quot;</i> - No, the offset is <i>behind</i> (negative) and there are 4 timezones in the continental US, and the offset also depends on Daylight Saving time, which isn&#39;t uniformly observed.  A real mess."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1699493906,"post_id":77449845,"comment_id":136540290,"body_markdown":"Another wrinkle: Say I scheduled a meeting for 2023-11-03 09:30:00 GMT in London.  On the west coast of the US that falls into the DST change time, complicating the issue even more.  Handling dates/times/zones correctly is incredibly complex and prone to errors.  The only sane solution is to store all dates/time as UTC (zero offset) and convert to/from local for the user interface.","body":"Another wrinkle: Say I scheduled a meeting for 2023-11-03 09:30:00 GMT in London.  On the west coast of the US that falls into the DST change time, complicating the issue even more.  Handling dates/times/zones correctly is incredibly complex and prone to errors.  The only sane solution is to store all dates/time as UTC (zero offset) and convert to/from local for the user interface."},{"owner":{"account_id":198763,"reputation":2171,"user_id":443626,"accept_rate":70,"display_name":"redoc01"},"score":0,"creation_date":1699494111,"post_id":77449845,"comment_id":136540313,"body_markdown":"Would I need to write something so when a user selects the start and end date, I would need to manually set the correct time zones individually for every country to get the correct time zones","body":"Would I need to write something so when a user selects the start and end date, I would need to manually set the correct time zones individually for every country to get the correct time zones"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1699494153,"post_id":77449845,"comment_id":136540318,"body_markdown":"No, convert ONLY on input (from the user&#39;s locale to UTC) and on output (from UTC to the user&#39;s locale).  A user&#39;s local time can always be unambiguously converted to UTC, and a given UTC instant can always be converted to a local time in any timezone.","body":"No, convert ONLY on input (from the user&#39;s locale to UTC) and on output (from UTC to the user&#39;s locale).  A user&#39;s local time can always be unambiguously converted to UTC, and a given UTC instant can always be converted to a local time in any timezone."},{"owner":{"account_id":198763,"reputation":2171,"user_id":443626,"accept_rate":70,"display_name":"redoc01"},"score":0,"creation_date":1699494241,"post_id":77449845,"comment_id":136540328,"body_markdown":"What data type needs to be selected in sql server 2019, its not datetimeoffset as its been mentioned in this post. So what would be the datatype I select in sql server?","body":"What data type needs to be selected in sql server 2019, its not datetimeoffset as its been mentioned in this post. So what would be the datatype I select in sql server?"},{"owner":{"account_id":198763,"reputation":2171,"user_id":443626,"accept_rate":70,"display_name":"redoc01"},"score":0,"creation_date":1699494793,"post_id":77449845,"comment_id":136540381,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255887/discussion-between-redoc01-and-jim-garrison).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255887/discussion-between-redoc01-and-jim-garrison\">continue this discussion in chat</a>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1699555059,"post_id":77449845,"comment_id":136550159,"body_markdown":"Voting to reopen because (a) The subject is HARD for developers to get right, even if the question was a bit unfocused, but more importantly (b) The answer from @BasilBourque is pretty much canonical for the topic and needs to be preserved.","body":"Voting to reopen because (a) The subject is HARD for developers to get right, even if the question was a bit unfocused, but more importantly (b) The answer from @BasilBourque is pretty much canonical for the topic and needs to be preserved."},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1699572792,"post_id":77449845,"comment_id":136552660,"body_markdown":"If this question is to be preserved then please fix the 2nd paragraph.","body":"If this question is to be preserved then please fix the 2nd paragraph."}],"answers":[{"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1699494897,"post_id":77449976,"comment_id":136540394,"body_markdown":"Why varchar for duration?","body":"Why varchar for duration?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1699494977,"post_id":77449976,"comment_id":136540402,"body_markdown":"@DaleK Because neither the SQL Standard nor MS SQL Server offers a data type for duration. So store  as text in standard ISO 8601 format. The SQL Standard barely touches on date-time matters, and even that they did poorly.","body":"@DaleK Because neither the SQL Standard nor MS SQL Server offers a data type for duration. So store  as text in standard ISO 8601 format. The SQL Standard barely touches on date-time matters, and even that they did poorly."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1699519310,"post_id":77449976,"comment_id":136542897,"body_markdown":"One should just watch out so sql server doesn&#39;t re-mangle localdatetimes into it&#39;s own local version of datetime2. Dating is very hard indeed, nice answer!","body":"One should just watch out so sql server doesn&#39;t re-mangle localdatetimes into it&#39;s own local version of datetime2. Dating is very hard indeed, nice answer!"},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1699956852,"post_id":77449976,"comment_id":136592831,"body_markdown":"Great answer! I have also voted to open the question because it does not deserve to be closed.","body":"Great answer! I have also voted to open the question because it does not deserve to be closed."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1700700818,"creation_date":1699494521,"answer_id":77449976,"question_id":77449845,"body_markdown":"You have not specified if you want to track a specific point on the timeline or if you want to track a time-of-day that adjusts as needed if politicians change the rules of your time zone. The first case (like a rocket launch) is simpler, but I get the sense you meant the second case (like booking a medical/dental appointment). Let&#39;s cover both.\r\n\r\n## Fixed point in time\r\n\r\nTo schedule a rocket launch, the flight engineers study the weather predictions. Once they pick an opportune launch time, that point on the time line is fixed, unchanging. If politicians change the rules for the time zone, the launch does not move. The planned moment remains the same even though the wall clock time in the surrounding area may change from 15:33 to 14:33. The weather, and the rocket, don&#39;t care about the time-of-day, they care about a point on the timeline.\r\n\r\nIf you are tracking specific point on the timeline, use the standard SQL type `TIMESTAMP WITH TIME ZONE`. In [MS SQL Server][1], that would be the type [`datetimeoffset`][2]. In Java, use [`Instant`][3] in general, but for [JDBC][4] database calls, use [`OffsetDateTime`][5]. \r\n\r\n\r\n| Kind of data | Standard SQL | MS SQL Server | Java |\r\n| :---: |:---: | :---: | :---: |\r\n| Point on time line | `TIMESTAMP WITH TIME ZONE` | [`datetimeoffset`][2] | Generally use [`Instant`][3].&lt;br /&gt;In JDBC, use [`OffsetDateTime`][5]. |\r\n| Duration | `VARCHAR`   | [`varchar`][6] | [`Duration`][7] |\r\n\r\nSay our rocket launch flight director has determined a launch time of 3:33 PM on January 23rd, 2024 as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. In standard ISO 8601 text, that would be `2024-01-23T15:33:00Z`. The `Z` on the end indicates an offset of zero, and is pronounced “Zulu”.\r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text.\r\n\r\n    Instant launchWindowStart = Instant.parse( &quot;2024-01-23T15:33:00Z&quot; ) ; \r\n\r\nAnd imagine that the launch window is one hour long. We use Duration class to represent that span of time unattached to the timeline.\r\n\r\n    Duration launchWindowSpan = Duration.ofHours( 1 ) ;\r\n\r\nWe can determine the end time:\r\n\r\n    Instant launchWindowEnd = launchWindowStart.plus( launchWindowSpan ) ;\r\n\r\nIn our database we could store either the start and the span, or the start and the end, or all three (though all three would violate [normalization][8]). For JDBC, adjust the `Instant` objects into `OffsetDateTime` as the SQL standard has no concept mapping to `Instant`. \r\n\r\n    OffsetDateTime odtLaunchWindowStart = launchWindowStart.atOffset( ZoneOffset.UTC ) ;\r\n    OffsetDateTime odtLaunchWindowEnd = launchWindowEnd.atOffset( ZoneOffset.UTC ) ;\r\n\r\n    myPreparedStatement.setObject( … , odtLaunchWindowStart ) ;\r\n    myPreparedStatement.setString( … , launchWindowSpan.toString() ) ;\r\n    myPreparedStatement.setObject( … , odtLaunchWindowEnd ) ;\r\n\r\nRetrieval.\r\n\r\n    Instant launchWindowStart = myResultSet.getObject( … , OffsetDateTime.class).toInstant() ;\r\n    Duration launchWindowSpan = Duration.parse( myResultSet.getString() ) ;\r\n    Instant launchWindowEnd = myResultSet.getObject( … , OffsetDateTime.class).toInstant() ;\r\n\r\n\r\n## Moving point in time\r\n\r\nFor appointments, you need to store the date &amp; time-of-day separately from the intended time zone. So two columns in your table. \r\n\r\nFor date &amp; time-of-day in MS SQL Server, use `datetime2` type. In Java, [`LocalDateTime`][9].\r\n\r\nFor the time zone, store the [`Continent/Region`][10] name of the zone such as `Europe/London`. In Java, [`ZoneId`][11].\r\n\r\nRecord appointments only with a start time, not a stop time. Instead of a stop time, store a *duration*. The stop time may not be the time-of-day you expect. For example, if an appointment starts at 1 PM but happens to occur during a &quot;spring-ahead&quot; clock cutover, the stop time might be 4 PM rather than the 3 PM you would otherwise expect so a 2-hour meeting could run 1-4 PM.\r\n\r\nNeither the SQL Standard nor MS SQL Server offers a data type for duration. So store as text in standard ISO 8601 format. For duration in the database, store as text in standard [ISO 8601][12] format of `PnYnMnDTnHnMnS` where `P` marks the beginning, and the `T` separates the years-months-days from the hours-minutes-seconds. For Java, use [`Duration`][7] object. A duration of two hours is `PT2H`. \r\n\r\n\r\n| Kind of data | Standard SQL | MS SQL Server | Java |\r\n| :---: |:---: | :---: | :---: |\r\n| Date + time-of-day | `TIMESTAMP WITHOUT TIME ZONE` | [`datetime2`][13] | [`LocalDateTime`][9] |\r\n| Time zone name | `VARCHAR`   | [`varchar`][6] | [`ZoneId`][11] |\r\n| Duration | `VARCHAR`   | [`varchar`][6] | [`Duration`][7] |\r\n\r\n\r\n&gt; shedule a time between 1pm to 3pm in United Kingdom\r\n\r\nAs an example, let&#39;s book a week out from today.\r\n\r\n    ZoneId zLondon = ZoneId.of( &quot;Europe/London&quot; ) ;\r\n    LocalDate today = LocalDate.now( zLondon ) ;\r\n    LocalDate apptDate = today.plusWeeks( 1 ) ;\r\n    LocalTime apptTime = LocalTime.of( 13 , 0 ) ;  // 1 PM.\r\n    LocalDateTime apptStart = LocalDateTime.of( apptDate , apptTime ) ;\r\n    Duration duration = Duration.ofHours( 2 ) ;\r\n\r\nWrite those to your `datetime2`, `VARCHAR`, and `VARCHAR` columns. \r\n\r\n```java\r\nmyPreparedStatement.setObject( … , apptStart ) ;\r\nmyPreparedStatement.setString( … , zLondon.toString() ) ;\r\nmyPreparedStatement.setString( … , duration.toString() ) ;\r\n```\r\n\r\nRetrieval.\r\n\r\n```java\r\nLocalDateTime apptStart = myResultSet.getObject( … , LocalDateTime.class ) ;\r\nZoneId zLondon = ZoneId.of( myResultSet.getString( … ) ) ;\r\nDuration duration = Duration.parse( myResultSet.getString( … ) ) ;\r\n```\r\n\r\n\r\nBe very clear on this crucial point: `LocalDateTime` &amp; `datetime2` do *not* represent a moment, are *not* a point on the timeline. They represent merely a date with a time-of-day. They purposely lack any concept of time zone or offset-from-UTC. So their values are inherently ambiguous. \r\n\r\nWhen it comes time to build a schedule, apply the time zone to the date-time. Very important: **Do *not* store this value**, use it only to build a schedule dynamically, temporarily, such as for presentation to the user.\r\n\r\n    ZonedDateTime zdtLondon = appt.atZone( zLondon ) ;\r\n\r\nNow we have a moment, a specific point on the timeline. \r\n\r\nYou can adjust to another time zone.\r\n\r\n```java\r\nZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\nZonedDateTime zdtEdmonton = zdtLondon.atZoneSameInstant( zEdmonton ) ;\r\n```\r\n\r\nBoth `zdtLondon` and `zdtEdmonton` represent the same simultaneous moment, the same point on the timeline. The one single moment is being viewed through two different lenses, the lens of the wall clock &amp; calendar used by people in England UK versus the lens of the wall clock and calendar used by the people of Alberta Canada. \r\n\r\n\r\nSpans of time are generally best handled using the Half-Open approach. In Half-Open, the beginning is *inclusive* while the ending is *exclusive*. So an appoint from 1 PM to 3 PM starts at the first moment of the hour 13, then runs up to, but does not include, the first moment of the hour 15 (or so, depending on political time-keeping anomalies mentioned above). Tip: In SQL, do *not* use `BETWEEN` in your Half-Open queries, as `BETWEEN` is Fully Closed (both start and end are inclusive). \r\n\r\nTo represent the whole span of time, the *java.time* framework does not define any such class. You could define your own. For example:\r\n\r\n    record SpanOfTimeZoned ( ZonedDateTime start , ZonedDateTime end ) {}\r\n\r\nOr more practical:\r\n\r\n```java\r\npublic record SpanOfTimeZoned( ZonedDateTime start , ZonedDateTime end ) {\r\n    public static SpanOfTimeZoned of ( ZonedDateTime start , Duration duration ) {\r\n        return new SpanOfTimeZoned ( start , start.plus ( duration ) );\r\n    }\r\n\r\n    public Duration duration ( ) {\r\n        return Duration.between ( this.start , this.end );\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```java\r\nSpanOfTimeZoned apptSpan = SpanOfTimeZoned.of( zdtEdmonton , duration ) ;\r\n```\r\n\r\nOr, you might find useful adding the [ThreeTen-Extra][14] library to your project. That library offers the [`Interval`][15] class, holding a pair of [`java.time.Instant`][3] objects. An `Instant` represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. \r\n\r\n    Interval apptSpan = Interval.of( zdtEdmonton.toInstant() , duration ) ;\r\n\r\nNote that `org.threeten.extra.Interval` is always in UTC (an offset of zero), not a particular time zone. You can, of course, always apply a time zone to get a `ZonedDateTime`.\r\n\r\n    ZonedDateTime apptStartLondon = apptSpan.getStart().atZone( zLondon ) ;\r\n\r\nYou said:\r\n\r\n&gt; The clientside I will be using is java to display the start and end date for different time zones.\r\n\r\nIn your app, you need to collect from the user:\r\n\r\n - Date \r\n - Start time\r\n - Time zone\r\n - Duration (or calculate based on user providing an end-time)\r\n\r\nFrom that, you will produce in Java:\r\n\r\n - `LocalDateTime` object\r\n - `ZoneId` object\r\n - `Duration` object\r\n\r\nSounds like you want to convert from the user&#39;s time zone to your preferred time zone before storing in the database. Be aware that this conversion is risky. We can adjust from Edmonton time to London time, for example. But that adjustment must use the rules for both those zones as they exist at this moment. In the time between this moment and that appointment, if politicians in Alberta, or politicians in England, were to change their time zone rules, our stored appointment will appear to be wrong from the perspective of the person on the other side of the pond. This change by politicians may seem unlikely; history has proved otherwise. Politicians around the world have shown a penchant for twiddling with the time zone rules of their jurisdiction. \r\n\r\n```java\r\nLocalDateTime userLdt = LocalDateTime.of( … ) ;\r\nZoneId userZoneId = ZoneId.of( … ) ;\r\nDuration duration = Duration.of( … ) ;\r\n\r\nZonedDateTime userZdt = userLdt.atZone( userZoneId ) ;\r\nZonedDateTime zdtLondon = userZdt.atZoneSameInstant( zLondon ) ;\r\nLocalDateTime apptStart = zdtLondon.toLocalDateTime() ; \r\n```\r\n\r\nAt this point you can store `apptStart`, `zLondon`, and `duration` as discussed earlier in this Answer.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Microsoft_SQL_Server\r\n  [2]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\r\n  [4]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [6]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-ver16#varchar---n--max--\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html\r\n  [8]: https://en.wikipedia.org/wiki/Database_normalization\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\r\n  [10]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [11]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZoneId.html\r\n  [12]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [13]: https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime2-transact-sql?view=sql-server-ver16#datetime2-description\r\n  [14]: https://www.threeten.org/threeten-extra/\r\n  [15]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"Schedule a time given but works with different time zones in SQL Server and using Java client","body":"<p>You have not specified if you want to track a specific point on the timeline or if you want to track a time-of-day that adjusts as needed if politicians change the rules of your time zone. The first case (like a rocket launch) is simpler, but I get the sense you meant the second case (like booking a medical/dental appointment). Let's cover both.</p>\n<h2>Fixed point in time</h2>\n<p>To schedule a rocket launch, the flight engineers study the weather predictions. Once they pick an opportune launch time, that point on the time line is fixed, unchanging. If politicians change the rules for the time zone, the launch does not move. The planned moment remains the same even though the wall clock time in the surrounding area may change from 15:33 to 14:33. The weather, and the rocket, don't care about the time-of-day, they care about a point on the timeline.</p>\n<p>If you are tracking specific point on the timeline, use the standard SQL type <code>TIMESTAMP WITH TIME ZONE</code>. In <a href=\"https://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"nofollow noreferrer\">MS SQL Server</a>, that would be the type <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a>. In Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> in general, but for <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> database calls, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Kind of data</th>\n<th style=\"text-align: center;\">Standard SQL</th>\n<th style=\"text-align: center;\">MS SQL Server</th>\n<th style=\"text-align: center;\">Java</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">Point on time line</td>\n<td style=\"text-align: center;\"><code>TIMESTAMP WITH TIME ZONE</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetimeoffset-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\"><code>datetimeoffset</code></a></td>\n<td style=\"text-align: center;\">Generally use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.<br />In JDBC, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Duration</td>\n<td style=\"text-align: center;\"><code>VARCHAR</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-ver16#varchar---n--max--\" rel=\"nofollow noreferrer\"><code>varchar</code></a></td>\n<td style=\"text-align: center;\"><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Say our rocket launch flight director has determined a launch time of 3:33 PM on January 23rd, 2024 as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC. In standard ISO 8601 text, that would be <code>2024-01-23T15:33:00Z</code>. The <code>Z</code> on the end indicates an offset of zero, and is pronounced “Zulu”.</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>Instant launchWindowStart = Instant.parse( &quot;2024-01-23T15:33:00Z&quot; ) ; \n</code></pre>\n<p>And imagine that the launch window is one hour long. We use Duration class to represent that span of time unattached to the timeline.</p>\n<pre><code>Duration launchWindowSpan = Duration.ofHours( 1 ) ;\n</code></pre>\n<p>We can determine the end time:</p>\n<pre><code>Instant launchWindowEnd = launchWindowStart.plus( launchWindowSpan ) ;\n</code></pre>\n<p>In our database we could store either the start and the span, or the start and the end, or all three (though all three would violate <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow noreferrer\">normalization</a>). For JDBC, adjust the <code>Instant</code> objects into <code>OffsetDateTime</code> as the SQL standard has no concept mapping to <code>Instant</code>.</p>\n<pre><code>OffsetDateTime odtLaunchWindowStart = launchWindowStart.atOffset( ZoneOffset.UTC ) ;\nOffsetDateTime odtLaunchWindowEnd = launchWindowEnd.atOffset( ZoneOffset.UTC ) ;\n\nmyPreparedStatement.setObject( … , odtLaunchWindowStart ) ;\nmyPreparedStatement.setString( … , launchWindowSpan.toString() ) ;\nmyPreparedStatement.setObject( … , odtLaunchWindowEnd ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>Instant launchWindowStart = myResultSet.getObject( … , OffsetDateTime.class).toInstant() ;\nDuration launchWindowSpan = Duration.parse( myResultSet.getString() ) ;\nInstant launchWindowEnd = myResultSet.getObject( … , OffsetDateTime.class).toInstant() ;\n</code></pre>\n<h2>Moving point in time</h2>\n<p>For appointments, you need to store the date &amp; time-of-day separately from the intended time zone. So two columns in your table.</p>\n<p>For date &amp; time-of-day in MS SQL Server, use <code>datetime2</code> type. In Java, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>.</p>\n<p>For the time zone, store the <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\"><code>Continent/Region</code></a> name of the zone such as <code>Europe/London</code>. In Java, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a>.</p>\n<p>Record appointments only with a start time, not a stop time. Instead of a stop time, store a <em>duration</em>. The stop time may not be the time-of-day you expect. For example, if an appointment starts at 1 PM but happens to occur during a &quot;spring-ahead&quot; clock cutover, the stop time might be 4 PM rather than the 3 PM you would otherwise expect so a 2-hour meeting could run 1-4 PM.</p>\n<p>Neither the SQL Standard nor MS SQL Server offers a data type for duration. So store as text in standard ISO 8601 format. For duration in the database, store as text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601</a> format of <code>PnYnMnDTnHnMnS</code> where <code>P</code> marks the beginning, and the <code>T</code> separates the years-months-days from the hours-minutes-seconds. For Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> object. A duration of two hours is <code>PT2H</code>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Kind of data</th>\n<th style=\"text-align: center;\">Standard SQL</th>\n<th style=\"text-align: center;\">MS SQL Server</th>\n<th style=\"text-align: center;\">Java</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">Date + time-of-day</td>\n<td style=\"text-align: center;\"><code>TIMESTAMP WITHOUT TIME ZONE</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/datetime2-transact-sql?view=sql-server-ver16#datetime2-description\" rel=\"nofollow noreferrer\"><code>datetime2</code></a></td>\n<td style=\"text-align: center;\"><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Time zone name</td>\n<td style=\"text-align: center;\"><code>VARCHAR</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-ver16#varchar---n--max--\" rel=\"nofollow noreferrer\"><code>varchar</code></a></td>\n<td style=\"text-align: center;\"><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">Duration</td>\n<td style=\"text-align: center;\"><code>VARCHAR</code></td>\n<td style=\"text-align: center;\"><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/char-and-varchar-transact-sql?view=sql-server-ver16#varchar---n--max--\" rel=\"nofollow noreferrer\"><code>varchar</code></a></td>\n<td style=\"text-align: center;\"><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>shedule a time between 1pm to 3pm in United Kingdom</p>\n</blockquote>\n<p>As an example, let's book a week out from today.</p>\n<pre><code>ZoneId zLondon = ZoneId.of( &quot;Europe/London&quot; ) ;\nLocalDate today = LocalDate.now( zLondon ) ;\nLocalDate apptDate = today.plusWeeks( 1 ) ;\nLocalTime apptTime = LocalTime.of( 13 , 0 ) ;  // 1 PM.\nLocalDateTime apptStart = LocalDateTime.of( apptDate , apptTime ) ;\nDuration duration = Duration.ofHours( 2 ) ;\n</code></pre>\n<p>Write those to your <code>datetime2</code>, <code>VARCHAR</code>, and <code>VARCHAR</code> columns.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myPreparedStatement.setObject( … , apptStart ) ;\nmyPreparedStatement.setString( … , zLondon.toString() ) ;\nmyPreparedStatement.setString( … , duration.toString() ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime apptStart = myResultSet.getObject( … , LocalDateTime.class ) ;\nZoneId zLondon = ZoneId.of( myResultSet.getString( … ) ) ;\nDuration duration = Duration.parse( myResultSet.getString( … ) ) ;\n</code></pre>\n<p>Be very clear on this crucial point: <code>LocalDateTime</code> &amp; <code>datetime2</code> do <em>not</em> represent a moment, are <em>not</em> a point on the timeline. They represent merely a date with a time-of-day. They purposely lack any concept of time zone or offset-from-UTC. So their values are inherently ambiguous.</p>\n<p>When it comes time to build a schedule, apply the time zone to the date-time. Very important: <strong>Do <em>not</em> store this value</strong>, use it only to build a schedule dynamically, temporarily, such as for presentation to the user.</p>\n<pre><code>ZonedDateTime zdtLondon = appt.atZone( zLondon ) ;\n</code></pre>\n<p>Now we have a moment, a specific point on the timeline.</p>\n<p>You can adjust to another time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdtEdmonton = zdtLondon.atZoneSameInstant( zEdmonton ) ;\n</code></pre>\n<p>Both <code>zdtLondon</code> and <code>zdtEdmonton</code> represent the same simultaneous moment, the same point on the timeline. The one single moment is being viewed through two different lenses, the lens of the wall clock &amp; calendar used by people in England UK versus the lens of the wall clock and calendar used by the people of Alberta Canada.</p>\n<p>Spans of time are generally best handled using the Half-Open approach. In Half-Open, the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So an appoint from 1 PM to 3 PM starts at the first moment of the hour 13, then runs up to, but does not include, the first moment of the hour 15 (or so, depending on political time-keeping anomalies mentioned above). Tip: In SQL, do <em>not</em> use <code>BETWEEN</code> in your Half-Open queries, as <code>BETWEEN</code> is Fully Closed (both start and end are inclusive).</p>\n<p>To represent the whole span of time, the <em>java.time</em> framework does not define any such class. You could define your own. For example:</p>\n<pre><code>record SpanOfTimeZoned ( ZonedDateTime start , ZonedDateTime end ) {}\n</code></pre>\n<p>Or more practical:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record SpanOfTimeZoned( ZonedDateTime start , ZonedDateTime end ) {\n    public static SpanOfTimeZoned of ( ZonedDateTime start , Duration duration ) {\n        return new SpanOfTimeZoned ( start , start.plus ( duration ) );\n    }\n\n    public Duration duration ( ) {\n        return Duration.between ( this.start , this.end );\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpanOfTimeZoned apptSpan = SpanOfTimeZoned.of( zdtEdmonton , duration ) ;\n</code></pre>\n<p>Or, you might find useful adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> library to your project. That library offers the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class, holding a pair of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a> objects. An <code>Instant</code> represents a moment as seen with an offset of zero hours-minutes-seconds from the temporal meridian of UTC.</p>\n<pre><code>Interval apptSpan = Interval.of( zdtEdmonton.toInstant() , duration ) ;\n</code></pre>\n<p>Note that <code>org.threeten.extra.Interval</code> is always in UTC (an offset of zero), not a particular time zone. You can, of course, always apply a time zone to get a <code>ZonedDateTime</code>.</p>\n<pre><code>ZonedDateTime apptStartLondon = apptSpan.getStart().atZone( zLondon ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>The clientside I will be using is java to display the start and end date for different time zones.</p>\n</blockquote>\n<p>In your app, you need to collect from the user:</p>\n<ul>\n<li>Date</li>\n<li>Start time</li>\n<li>Time zone</li>\n<li>Duration (or calculate based on user providing an end-time)</li>\n</ul>\n<p>From that, you will produce in Java:</p>\n<ul>\n<li><code>LocalDateTime</code> object</li>\n<li><code>ZoneId</code> object</li>\n<li><code>Duration</code> object</li>\n</ul>\n<p>Sounds like you want to convert from the user's time zone to your preferred time zone before storing in the database. Be aware that this conversion is risky. We can adjust from Edmonton time to London time, for example. But that adjustment must use the rules for both those zones as they exist at this moment. In the time between this moment and that appointment, if politicians in Alberta, or politicians in England, were to change their time zone rules, our stored appointment will appear to be wrong from the perspective of the person on the other side of the pond. This change by politicians may seem unlikely; history has proved otherwise. Politicians around the world have shown a penchant for twiddling with the time zone rules of their jurisdiction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime userLdt = LocalDateTime.of( … ) ;\nZoneId userZoneId = ZoneId.of( … ) ;\nDuration duration = Duration.of( … ) ;\n\nZonedDateTime userZdt = userLdt.atZone( userZoneId ) ;\nZonedDateTime zdtLondon = userZdt.atZoneSameInstant( zLondon ) ;\nLocalDateTime apptStart = zdtLondon.toLocalDateTime() ; \n</code></pre>\n<p>At this point you can store <code>apptStart</code>, <code>zLondon</code>, and <code>duration</code> as discussed earlier in this Answer.</p>\n"}],"owner":{"account_id":198763,"reputation":2171,"user_id":443626,"accept_rate":70,"display_name":"redoc01"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":77449976,"answer_count":1,"score":-1,"last_activity_date":1700700818,"creation_date":1699492000,"question_id":77449845,"body_markdown":"I need to allow a system to schedule some time locally and present this time correctly in different time zones.\r\n\r\nSo if I schedule a time between 1pm to 3pm in United Kingdom, then if I was to see this schedule in America, then as you know America is 7 hours ahead and so Americas schedule time would be 7pm to 10pm\r\n\r\nI have used datetimeoffset in sql server before which allows UTC dates to work with different time zones.\r\n\r\nAnd I really need to use sql server for this solution.\r\n\r\nSo how would I go about this approach to get time differences when a user selects the start date and end date?\r\n\r\nThe client side I will be using is java to display the start and end date for different time zones.\r\n\r\nI have tried this in sql server but I used getutcdate. This was for another project to initialise when some date is stored initially wen a entry has been made. But like I said above I need users to select date between the start date and end date.\r\n\r\nJust to note the database that stores the date is 1 hour ahead as it&#39;s on a server in another country.","title":"Schedule a time given but works with different time zones in SQL Server and using Java client","body":"<p>I need to allow a system to schedule some time locally and present this time correctly in different time zones.</p>\n<p>So if I schedule a time between 1pm to 3pm in United Kingdom, then if I was to see this schedule in America, then as you know America is 7 hours ahead and so Americas schedule time would be 7pm to 10pm</p>\n<p>I have used datetimeoffset in sql server before which allows UTC dates to work with different time zones.</p>\n<p>And I really need to use sql server for this solution.</p>\n<p>So how would I go about this approach to get time differences when a user selects the start date and end date?</p>\n<p>The client side I will be using is java to display the start and end date for different time zones.</p>\n<p>I have tried this in sql server but I used getutcdate. This was for another project to initialise when some date is stored initially wen a entry has been made. But like I said above I need users to select date between the start date and end date.</p>\n<p>Just to note the database that stores the date is 1 hour ahead as it's on a server in another country.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700723835,"post_id":77533793,"comment_id":136689908,"body_markdown":"Spring boot 6 is for Tomcat 10. It uses JakartaEE not JavaEE. Remove the `javax.servlet-api` dependency and use the jakarta one (scope should be provided) and use the proper tomcat. Even better use Spring Boot instead of plain spring it will make your life a lot easier.","body":"Spring boot 6 is for Tomcat 10. It uses JakartaEE not JavaEE. Remove the <code>javax.servlet-api</code> dependency and use the jakarta one (scope should be provided) and use the proper tomcat. Even better use Spring Boot instead of plain spring it will make your life a lot easier."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1700747344,"post_id":77533793,"comment_id":136694229,"body_markdown":"I switched to tomcat 10 and it finally worked. Thanks","body":"I switched to tomcat 10 and it finally worked. Thanks"}],"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700699902,"creation_date":1700699902,"question_id":77533793,"body_markdown":"I am trying to build a simple Restful service with Spring but without Spring Boot.\r\nI made config classes and then I tried to test controller but it is never triggered by request.\r\nI tried java servlets - everthing worked fine.\r\nSo maybe the problem is within my config or dependencies.. Cant handle it myself\r\nI am building project with Intellij \r\n\r\nconfig classes:\r\n```\r\npublic class DispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return new Class[0];\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[]{SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[]{&quot;/&quot;};\r\n    }\r\n```\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages =&quot;ru.spring.testRest&quot;)\r\npublic class SpringConfig   {\r\n    \r\n}\r\n\r\n```\r\n\r\ncontroller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/rest&quot;)\r\npublic class TestRest {\r\n\r\n    @GetMapping(&quot;/here&quot;)\r\n    public String test(){\r\n        System.out.println(&quot;TRIGGERED&quot;);\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n```\r\nDepndencies\r\n[![depndencies][1]][1]\r\n\r\nTomcat\r\n[![Tomcat][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5qPk.png\r\n  [2]: https://i.stack.imgur.com/uNcIl.png","title":"Tomcat can&#39;t see my Spring app when I run it","body":"<p>I am trying to build a simple Restful service with Spring but without Spring Boot.\nI made config classes and then I tried to test controller but it is never triggered by request.\nI tried java servlets - everthing worked fine.\nSo maybe the problem is within my config or dependencies.. Cant handle it myself\nI am building project with Intellij</p>\n<p>config classes:</p>\n<pre><code>public class DispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[0];\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n</code></pre>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages =&quot;ru.spring.testRest&quot;)\npublic class SpringConfig   {\n    \n}\n\n</code></pre>\n<p>controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/rest&quot;)\npublic class TestRest {\n\n    @GetMapping(&quot;/here&quot;)\n    public String test(){\n        System.out.println(&quot;TRIGGERED&quot;);\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>Depndencies\n<a href=\"https://i.stack.imgur.com/N5qPk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N5qPk.png\" alt=\"depndencies\" /></a></p>\n<p>Tomcat\n<a href=\"https://i.stack.imgur.com/uNcIl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uNcIl.png\" alt=\"Tomcat\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream-binder-kafka"],"owner":{"account_id":28357140,"reputation":11,"user_id":21687699,"display_name":"Olga Klassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700699013,"creation_date":1681977701,"question_id":76061808,"body_markdown":"I have the following BiConsumer\r\n\r\n```\r\n\r\n@Bean\r\n    public BiConsumer&lt;KStream&lt;String, UserEvent&gt;, GlobalKTable&lt;Long, ShopEvent&gt;&gt; process() {\r\n        \r\n            return (userEvent, shopEvent) -&gt; {\r\n\r\n             userEvent\r\n                    .leftJoin(shopEvent, (key, value) -&gt; value.getShopId())\r\n                    .filter(filterApplier.isEventValied(userEvent))\r\n                    .foreach((eventId, userEvent) -&gt; {\r\n                        \r\n                         log.info(userEvent.toString())\r\n\r\n                    });\r\n\r\n        };\r\n    }\r\n```\r\n\r\nI would like to consume the messages in batches. I found the [following](https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-kafka/3.0.0.RC1/reference/html/spring-cloud-stream-binder-kafka.html#_consuming_batches) documentation from apache-kafka-binder which describes some properties like: \r\n\r\n```\r\nspring.cloud.stream.bindings.process-in-0.consumer.batch-mode: true\r\n\r\n```\r\n\r\nand \r\n\r\n```\r\nspring.cloud.binders.kstream-binder:\r\n          consumer-properties.max.poll.interval.ms: 1000\r\n          consumer-properties.max.poll.records: 1\r\n          consumer-properties.fetch.max.wait.ms: 1000\r\n          consumer-properties.fetch.min.bytes: 5000\r\n```\r\n\r\n\r\nAs described in [this](https://medium.com/@anupriyakumawat95/consume-messages-in-batch-using-spring-cloud-stream-kafka-binder-d82b0f4a9935) tutorial you can have something like this using apache-kafka-binder.\r\n\r\n```\r\n@Bean\r\n    public Consumer&lt;List&lt;String&gt;&gt; input() {\r\n        return list -&gt; {\r\n            System.out.println(list);\r\n            throw new RuntimeException(&quot;test&quot;);\r\n        };\r\n    }\r\n```\r\n\r\nBut is there any possibility to implement it the same way but with kafka-streams-binder?","title":"Consume Messages in Batches using KStreams","body":"<p>I have the following BiConsumer</p>\n<pre><code>\n@Bean\n    public BiConsumer&lt;KStream&lt;String, UserEvent&gt;, GlobalKTable&lt;Long, ShopEvent&gt;&gt; process() {\n        \n            return (userEvent, shopEvent) -&gt; {\n\n             userEvent\n                    .leftJoin(shopEvent, (key, value) -&gt; value.getShopId())\n                    .filter(filterApplier.isEventValied(userEvent))\n                    .foreach((eventId, userEvent) -&gt; {\n                        \n                         log.info(userEvent.toString())\n\n                    });\n\n        };\n    }\n</code></pre>\n<p>I would like to consume the messages in batches. I found the <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-stream-binder-kafka/3.0.0.RC1/reference/html/spring-cloud-stream-binder-kafka.html#_consuming_batches\" rel=\"nofollow noreferrer\">following</a> documentation from apache-kafka-binder which describes some properties like:</p>\n<pre><code>spring.cloud.stream.bindings.process-in-0.consumer.batch-mode: true\n\n</code></pre>\n<p>and</p>\n<pre><code>spring.cloud.binders.kstream-binder:\n          consumer-properties.max.poll.interval.ms: 1000\n          consumer-properties.max.poll.records: 1\n          consumer-properties.fetch.max.wait.ms: 1000\n          consumer-properties.fetch.min.bytes: 5000\n</code></pre>\n<p>As described in <a href=\"https://medium.com/@anupriyakumawat95/consume-messages-in-batch-using-spring-cloud-stream-kafka-binder-d82b0f4a9935\" rel=\"nofollow noreferrer\">this</a> tutorial you can have something like this using apache-kafka-binder.</p>\n<pre><code>@Bean\n    public Consumer&lt;List&lt;String&gt;&gt; input() {\n        return list -&gt; {\n            System.out.println(list);\n            throw new RuntimeException(&quot;test&quot;);\n        };\n    }\n</code></pre>\n<p>But is there any possibility to implement it the same way but with kafka-streams-binder?</p>\n"},{"tags":["java","apache-kafka","left-join","apache-kafka-streams","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672188368,"creation_date":1672188368,"answer_id":74935307,"question_id":74864685,"body_markdown":"Seems you are using an older version of Kafka Streams, that faces the first issue about &quot;spurious left join results&quot;. It&#39;s fixed in Kafka 3.1 release (cf https://issues.apache.org/jira/browse/KAFKA-10847).\r\n\r\nCompare https://cwiki.apache.org/confluence/display/KAFKA/KIP-633%3A+Deprecate+24-hour+Default+Grace+Period+for+Windowed+Operations+in+Streams\r\n\r\nFor the second issue, yes, you should get an output -- if you use version 3.1, the only explanation for a missing output would be that your input streams &quot;stopped/pause&quot; and no new data arrives -- if there is no new data that join window won&#39;t close the the left-join result is &quot;stuck&quot; until time advances (based on record timestamps and thus required new input data).","title":"KStream-KStream leftjoin doesn&#39;t produce any value when the second matching value is not present","body":"<p>Seems you are using an older version of Kafka Streams, that faces the first issue about &quot;spurious left join results&quot;. It's fixed in Kafka 3.1 release (cf <a href=\"https://issues.apache.org/jira/browse/KAFKA-10847\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-10847</a>).</p>\n<p>Compare <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-633%3A+Deprecate+24-hour+Default+Grace+Period+for+Windowed+Operations+in+Streams\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/KAFKA/KIP-633%3A+Deprecate+24-hour+Default+Grace+Period+for+Windowed+Operations+in+Streams</a></p>\n<p>For the second issue, yes, you should get an output -- if you use version 3.1, the only explanation for a missing output would be that your input streams &quot;stopped/pause&quot; and no new data arrives -- if there is no new data that join window won't close the the left-join result is &quot;stuck&quot; until time advances (based on record timestamps and thus required new input data).</p>\n"}],"owner":{"account_id":27307850,"reputation":19,"user_id":20823518,"display_name":"Office Kafka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1700698930,"creation_date":1671546916,"question_id":74864685,"body_markdown":"We have theses POJOs:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructure\r\n@AllArgsConstructure\r\nclass MyPost {\r\n    private String content;\r\n    private SeenInfo seenInfo;\r\n}\r\n\r\n\r\n@Data\r\n@NoArgsConstructure\r\n@AllArgsConstructure\r\nclass SeenInfo {\r\n    private Integer seenCount;\r\n    //other fields...\r\n}\r\n```\r\n\r\nand this left-join process in our application:\r\n\r\n```\r\n@Bean\r\npublic Function&lt;KStream&lt;String, MyPost&gt;, Function&lt;KStream&lt;String, SeenInfo&gt;, KStream&lt;String, MyPost&gt;&gt;&gt; joinProcess(Map&lt;String, String&gt; schemaConfig) {\r\n    return postStream -&gt;\r\n            seenInfoStream -&gt; {\r\n                SpecificAvroSerde&lt;MyPost&gt; postSerde = new SpecificAvroSerde&lt;&gt;();\r\n                SpecificAvroSerde&lt;SeenInfo&gt; seenInfoSerde = new SpecificAvroSerde&lt;&gt;();\r\n                postSerde.configure(schemaConfig, true);\r\n                seenInfoSerde.configure(schemaConfig, true);\r\n                return postStream.leftJoin(seenInfoStream,\r\n                        (p, s) -&gt; {\r\n                            p.setSeenInfo(s);\r\n                            return p;\r\n                        },\r\n                        JoinWindows.of(Duration.ofMinutes(5)),\r\n                        StreamJoined.with(Serdes.String(),\r\n                                postSerde,\r\n                                seenInfoSerde));\r\n            };\r\n}\r\n```\r\n\r\n# **Problem One:**\r\n\r\n**When** MyPost and SeenInfo matching values **are present** within 5 minutes, the join process **produces two messages**:\r\n\r\n`Message1: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: null}`&lt;br&gt;\r\n`Message2: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: { &quot;seenCount&quot;: 1, ...}}`\r\n\r\n# **Problem Two:**\r\n\r\nIf MyPost is present and SeenInfo is not, the join process will not return any data.&lt;br&gt;\r\n**We Expect:** `Message: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: null}`\r\n\r\nWhat should we do to solve this problem?","title":"KStream-KStream leftjoin doesn&#39;t produce any value when the second matching value is not present","body":"<p>We have theses POJOs:</p>\n<pre><code>@Data\n@NoArgsConstructure\n@AllArgsConstructure\nclass MyPost {\n    private String content;\n    private SeenInfo seenInfo;\n}\n\n\n@Data\n@NoArgsConstructure\n@AllArgsConstructure\nclass SeenInfo {\n    private Integer seenCount;\n    //other fields...\n}\n</code></pre>\n<p>and this left-join process in our application:</p>\n<pre><code>@Bean\npublic Function&lt;KStream&lt;String, MyPost&gt;, Function&lt;KStream&lt;String, SeenInfo&gt;, KStream&lt;String, MyPost&gt;&gt;&gt; joinProcess(Map&lt;String, String&gt; schemaConfig) {\n    return postStream -&gt;\n            seenInfoStream -&gt; {\n                SpecificAvroSerde&lt;MyPost&gt; postSerde = new SpecificAvroSerde&lt;&gt;();\n                SpecificAvroSerde&lt;SeenInfo&gt; seenInfoSerde = new SpecificAvroSerde&lt;&gt;();\n                postSerde.configure(schemaConfig, true);\n                seenInfoSerde.configure(schemaConfig, true);\n                return postStream.leftJoin(seenInfoStream,\n                        (p, s) -&gt; {\n                            p.setSeenInfo(s);\n                            return p;\n                        },\n                        JoinWindows.of(Duration.ofMinutes(5)),\n                        StreamJoined.with(Serdes.String(),\n                                postSerde,\n                                seenInfoSerde));\n            };\n}\n</code></pre>\n<h1><strong>Problem One:</strong></h1>\n<p><strong>When</strong> MyPost and SeenInfo matching values <strong>are present</strong> within 5 minutes, the join process <strong>produces two messages</strong>:</p>\n<p><code>Message1: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: null}</code><br>\n<code>Message2: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: { &quot;seenCount&quot;: 1, ...}}</code></p>\n<h1><strong>Problem Two:</strong></h1>\n<p>If MyPost is present and SeenInfo is not, the join process will not return any data.<br>\n<strong>We Expect:</strong> <code>Message: MyPost={ &quot;content&quot;: &quot;some text&quot;, &quot;seenInfo&quot;: null}</code></p>\n<p>What should we do to solve this problem?</p>\n"},{"tags":["java","javafx","charts","jfreechart","jfreechart-fx"],"answers":[{"comments":[{"owner":{"account_id":16819762,"reputation":286,"user_id":12160558,"display_name":"ptan9o"},"score":1,"creation_date":1700697332,"post_id":77533592,"comment_id":136687821,"body_markdown":"That worked! I&#39;ve looked at those posts that you provided and I thought I had tried this already. Clearly I must have done something wrong previously. Thanks for the help!","body":"That worked! I&#39;ve looked at those posts that you provided and I thought I had tried this already. Clearly I must have done something wrong previously. Thanks for the help!"}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700697964,"creation_date":1700695407,"answer_id":77533592,"question_id":77531917,"body_markdown":"As shown [here][1] for an `XYPlot` and [here][2] for a `CategoryPlot`, you can remove the plot&#39;s axis offset like this:\r\n\r\n    var plot = chart.getXYPlot();\r\n    plot.setAxisOffset(RectangleInsets.ZERO_INSETS);\r\n\r\n[![Borderless plot][3]][3]\r\n\r\n  [1]: https://stackoverflow.com/a/74776061/230513\r\n  [2]: https://stackoverflow.com/a/42455239/230513\r\n  [3]: https://i.stack.imgur.com/B5fOK.png\r\n","title":"JFreeChart Remove Border From Chart","body":"<p>As shown <a href=\"https://stackoverflow.com/a/74776061/230513\">here</a> for an <code>XYPlot</code> and <a href=\"https://stackoverflow.com/a/42455239/230513\">here</a> for a <code>CategoryPlot</code>, you can remove the plot's axis offset like this:</p>\n<pre><code>var plot = chart.getXYPlot();\nplot.setAxisOffset(RectangleInsets.ZERO_INSETS);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B5fOK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5fOK.png\" alt=\"Borderless plot\" /></a></p>\n"}],"owner":{"account_id":16819762,"reputation":286,"user_id":12160558,"display_name":"ptan9o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77533592,"answer_count":1,"score":4,"last_activity_date":1700697964,"creation_date":1700673072,"question_id":77531917,"body_markdown":"I am using JFreeChart with JavaFX and I have my chart looking almost exactly how I want. The last piece is this little bit of border that is still around the chart. I can&#39;t seem to figure out how to make the chart flush with the window pane.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMost answers that I&#39;ve found so far have involved just setting the padding or opaque insets to `0`, but that doesn&#39;t seem to fully solve the issue. I&#39;m also not sure if this has something to do with `ChartViewer` adding some extra padding. \r\n \r\nThis is my code thus far.\r\n\r\n```java\r\npublic class TestApp extends Application\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage)\r\n    {\r\n        TimeSeries throttleSeries = new TimeSeries(&quot;&quot;);\r\n        throttleSeries.setMaximumItemCount(200);\r\n\r\n        long currentTime = System.currentTimeMillis();\r\n        for (int i = 200; i &gt; 0; i--)\r\n        {\r\n            long now = currentTime - (i * 33L);\r\n            throttleSeries.add(new FixedMillisecond(new Date(now)), 0.0);\r\n        }\r\n\r\n        TimeSeriesCollection timeSeriesCollection = new TimeSeriesCollection();\r\n        timeSeriesCollection.addSeries(throttleSeries);\r\n\r\n        Color throttleColor = Color.GREEN;\r\n\r\n        XYLineAndShapeRenderer lineRenderer = new XYLineAndShapeRenderer();\r\n        lineRenderer.setDefaultShapesVisible(false);\r\n        lineRenderer.setSeriesStroke(0, new BasicStroke(2f));\r\n        lineRenderer.setSeriesPaint(0, throttleColor);\r\n\r\n        XYAreaRenderer areaRenderer = new XYAreaRenderer();\r\n        areaRenderer.setSeriesVisible(0, true);\r\n        areaRenderer.setSeriesPaint(0, throttleColor);\r\n\r\n        var areaChart = ChartFactory.createTimeSeriesChart(&quot;&quot;, &quot;&quot;, &quot;&quot;, timeSeriesCollection, false, false, false);\r\n        var lineChart = ChartFactory.createTimeSeriesChart(&quot;&quot;, &quot;&quot;, &quot;&quot;, timeSeriesCollection, false, false, false);\r\n\r\n        setJFreeChartStyle(lineChart);\r\n        lineChart.getXYPlot().setRenderer(lineRenderer);\r\n\r\n        setJFreeChartStyle(areaChart);\r\n        areaChart.getXYPlot().setRenderer(areaRenderer);\r\n\r\n        StackPane stackPane = new StackPane();\r\n        stackPane.setStyle(&quot;-fx-background-color: black;&quot;);\r\n\r\n        ChartViewer bottomChart = new ChartViewer(areaChart);\r\n        bottomChart.setOpacity(0.3);\r\n        bottomChart.setPadding(Insets.EMPTY);\r\n        bottomChart.setOpaqueInsets(Insets.EMPTY);\r\n        bottomChart.setBorder(Border.EMPTY);\r\n        bottomChart.setStyle(&quot;-fx-background-color: transparent;&quot;);\r\n\r\n        stackPane.getChildren().add(bottomChart);\r\n        StackPane.setAlignment(bottomChart, Pos.CENTER);\r\n\r\n        ChartViewer topChart = new ChartViewer(lineChart);\r\n        topChart.setPadding(Insets.EMPTY);\r\n        topChart.setOpaqueInsets(Insets.EMPTY);\r\n        topChart.setBorder(Border.EMPTY);\r\n        topChart.setStyle(&quot;-fx-background-color: transparent;&quot;);\r\n\r\n        stackPane.getChildren().add(topChart);\r\n        StackPane.setAlignment(topChart, Pos.CENTER);\r\n\r\n        Scene scene = new Scene(stackPane, 400, 150);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\n        Thread thread = new Thread(() -&gt; {\r\n\r\n            int counter = 0;\r\n            while (true)\r\n            {\r\n                try\r\n                {\r\n                    Thread.sleep(33);\r\n                }\r\n                catch (InterruptedException ignored)\r\n                {\r\n                }\r\n\r\n                int finalCounter = counter;\r\n                Platform.runLater(() -&gt; throttleSeries.addOrUpdate(new FixedMillisecond(),\r\n                                                                   Math.sin(2 * Math.PI * 0.25 * (finalCounter * 0.033)) *\r\n                                                                   0.5 +\r\n                                                                   0.5));\r\n\r\n                counter++;\r\n            }\r\n        });\r\n\r\n        thread.setDaemon(true);\r\n        thread.start();\r\n    }\r\n\r\n    protected void setJFreeChartStyle(JFreeChart chart)\r\n    {\r\n        chart.setBackgroundPaint(new java.awt.Color(0, 0, 0, 0));\r\n        chart.setBorderVisible(false);\r\n        chart.getXYPlot().getRangeAxis().setRange(0, 1);\r\n        chart.getXYPlot().setOutlineVisible(false);\r\n\r\n        chart.getXYPlot().getDomainAxis().setLowerMargin(0.0);\r\n        chart.getXYPlot().getDomainAxis().setUpperMargin(0.0);\r\n        chart.setPadding(RectangleInsets.ZERO_INSETS);\r\n        chart.getXYPlot().setBackgroundAlpha(0);\r\n        chart.getXYPlot().setInsets(RectangleInsets.ZERO_INSETS);\r\n\r\n        chart.getXYPlot().setRangeCrosshairVisible(false);\r\n        chart.getXYPlot().setRangeZeroBaselineVisible(false);\r\n        chart.getXYPlot().setRangeGridlinesVisible(false);\r\n        chart.getXYPlot().setRangeMinorGridlinesVisible(false);\r\n\r\n        chart.getXYPlot().setDomainCrosshairVisible(false);\r\n        chart.getXYPlot().setDomainZeroBaselineVisible(false);\r\n        chart.getXYPlot().setDomainGridlinesVisible(false);\r\n        chart.getXYPlot().setDomainMinorGridlinesVisible(false);\r\n\r\n        chart.getXYPlot().getDomainAxis().setVisible(false);\r\n        chart.getXYPlot().getRangeAxis().setVisible(false);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEirt.png","title":"JFreeChart Remove Border From Chart","body":"<p>I am using JFreeChart with JavaFX and I have my chart looking almost exactly how I want. The last piece is this little bit of border that is still around the chart. I can't seem to figure out how to make the chart flush with the window pane.</p>\n<p><a href=\"https://i.stack.imgur.com/rEirt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEirt.png\" alt=\"enter image description here\" /></a></p>\n<p>Most answers that I've found so far have involved just setting the padding or opaque insets to <code>0</code>, but that doesn't seem to fully solve the issue. I'm also not sure if this has something to do with <code>ChartViewer</code> adding some extra padding.</p>\n<p>This is my code thus far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestApp extends Application\n{\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        TimeSeries throttleSeries = new TimeSeries(&quot;&quot;);\n        throttleSeries.setMaximumItemCount(200);\n\n        long currentTime = System.currentTimeMillis();\n        for (int i = 200; i &gt; 0; i--)\n        {\n            long now = currentTime - (i * 33L);\n            throttleSeries.add(new FixedMillisecond(new Date(now)), 0.0);\n        }\n\n        TimeSeriesCollection timeSeriesCollection = new TimeSeriesCollection();\n        timeSeriesCollection.addSeries(throttleSeries);\n\n        Color throttleColor = Color.GREEN;\n\n        XYLineAndShapeRenderer lineRenderer = new XYLineAndShapeRenderer();\n        lineRenderer.setDefaultShapesVisible(false);\n        lineRenderer.setSeriesStroke(0, new BasicStroke(2f));\n        lineRenderer.setSeriesPaint(0, throttleColor);\n\n        XYAreaRenderer areaRenderer = new XYAreaRenderer();\n        areaRenderer.setSeriesVisible(0, true);\n        areaRenderer.setSeriesPaint(0, throttleColor);\n\n        var areaChart = ChartFactory.createTimeSeriesChart(&quot;&quot;, &quot;&quot;, &quot;&quot;, timeSeriesCollection, false, false, false);\n        var lineChart = ChartFactory.createTimeSeriesChart(&quot;&quot;, &quot;&quot;, &quot;&quot;, timeSeriesCollection, false, false, false);\n\n        setJFreeChartStyle(lineChart);\n        lineChart.getXYPlot().setRenderer(lineRenderer);\n\n        setJFreeChartStyle(areaChart);\n        areaChart.getXYPlot().setRenderer(areaRenderer);\n\n        StackPane stackPane = new StackPane();\n        stackPane.setStyle(&quot;-fx-background-color: black;&quot;);\n\n        ChartViewer bottomChart = new ChartViewer(areaChart);\n        bottomChart.setOpacity(0.3);\n        bottomChart.setPadding(Insets.EMPTY);\n        bottomChart.setOpaqueInsets(Insets.EMPTY);\n        bottomChart.setBorder(Border.EMPTY);\n        bottomChart.setStyle(&quot;-fx-background-color: transparent;&quot;);\n\n        stackPane.getChildren().add(bottomChart);\n        StackPane.setAlignment(bottomChart, Pos.CENTER);\n\n        ChartViewer topChart = new ChartViewer(lineChart);\n        topChart.setPadding(Insets.EMPTY);\n        topChart.setOpaqueInsets(Insets.EMPTY);\n        topChart.setBorder(Border.EMPTY);\n        topChart.setStyle(&quot;-fx-background-color: transparent;&quot;);\n\n        stackPane.getChildren().add(topChart);\n        StackPane.setAlignment(topChart, Pos.CENTER);\n\n        Scene scene = new Scene(stackPane, 400, 150);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        Thread thread = new Thread(() -&gt; {\n\n            int counter = 0;\n            while (true)\n            {\n                try\n                {\n                    Thread.sleep(33);\n                }\n                catch (InterruptedException ignored)\n                {\n                }\n\n                int finalCounter = counter;\n                Platform.runLater(() -&gt; throttleSeries.addOrUpdate(new FixedMillisecond(),\n                                                                   Math.sin(2 * Math.PI * 0.25 * (finalCounter * 0.033)) *\n                                                                   0.5 +\n                                                                   0.5));\n\n                counter++;\n            }\n        });\n\n        thread.setDaemon(true);\n        thread.start();\n    }\n\n    protected void setJFreeChartStyle(JFreeChart chart)\n    {\n        chart.setBackgroundPaint(new java.awt.Color(0, 0, 0, 0));\n        chart.setBorderVisible(false);\n        chart.getXYPlot().getRangeAxis().setRange(0, 1);\n        chart.getXYPlot().setOutlineVisible(false);\n\n        chart.getXYPlot().getDomainAxis().setLowerMargin(0.0);\n        chart.getXYPlot().getDomainAxis().setUpperMargin(0.0);\n        chart.setPadding(RectangleInsets.ZERO_INSETS);\n        chart.getXYPlot().setBackgroundAlpha(0);\n        chart.getXYPlot().setInsets(RectangleInsets.ZERO_INSETS);\n\n        chart.getXYPlot().setRangeCrosshairVisible(false);\n        chart.getXYPlot().setRangeZeroBaselineVisible(false);\n        chart.getXYPlot().setRangeGridlinesVisible(false);\n        chart.getXYPlot().setRangeMinorGridlinesVisible(false);\n\n        chart.getXYPlot().setDomainCrosshairVisible(false);\n        chart.getXYPlot().setDomainZeroBaselineVisible(false);\n        chart.getXYPlot().setDomainGridlinesVisible(false);\n        chart.getXYPlot().setDomainMinorGridlinesVisible(false);\n\n        chart.getXYPlot().getDomainAxis().setVisible(false);\n        chart.getXYPlot().getRangeAxis().setVisible(false);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-kafka","testcontainers"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1700666852,"post_id":77530223,"comment_id":136683063,"body_markdown":"`If this test class is executed first and then other test classes it passes.` - it looks like there are some other test which essentially &quot;steals&quot; data from this test. So, `@DirtiesContext` must be added to that test class.","body":"<code>If this test class is executed first and then other test classes it passes.</code> - it looks like there are some other test which essentially &quot;steals&quot; data from this test. So, <code>@DirtiesContext</code> must be added to that test class."}],"answers":[{"tags":[],"owner":{"account_id":26904803,"reputation":43,"user_id":20481346,"display_name":"karixdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700697719,"creation_date":1700697719,"answer_id":77533702,"question_id":77530223,"body_markdown":"As Artem wrote in his comment the solution was adding `@DirtiesContext` - in question I mentioned that I have already tried placing `@DirtiesContext` on the class but I put it as the last annotation (the first from the bottom). \r\n\r\nAfter placing: `@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)` as a first annotation from the top on the class problem was fixed.","title":"Spring Kafka integration test class fails if not executed first","body":"<p>As Artem wrote in his comment the solution was adding <code>@DirtiesContext</code> - in question I mentioned that I have already tried placing <code>@DirtiesContext</code> on the class but I put it as the last annotation (the first from the bottom).</p>\n<p>After placing: <code>@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)</code> as a first annotation from the top on the class problem was fixed.</p>\n"}],"owner":{"account_id":26904803,"reputation":43,"user_id":20481346,"display_name":"karixdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77533702,"answer_count":1,"score":0,"last_activity_date":1700697719,"creation_date":1700658601,"question_id":77530223,"body_markdown":"I wrote following integration test class:\r\n```java\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\n@Testcontainers\r\nclass DomainCourseMapperServiceApplicationIntegrationTest {\r\n\r\n    @Container\r\n    static final KafkaContainer kafkaContainer =\r\n            new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.4.3&quot;));\r\n\r\n    @DynamicPropertySource\r\n    static void overrideKafkaProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafkaContainer::getBootstrapServers);\r\n    }\r\n\r\n    private static final String SCHEDULE_RAW_TOPIC = &quot;schedule.raw&quot;;\r\n    private static final String SCHEDULE_DOMAIN_TOPIC = &quot;schedule.domain&quot;;\r\n\r\n    KafkaTemplate&lt;String, ScheduleRaw&gt; scheduleRawProducer;\r\n    Consumer&lt;String, ScheduleDomain&gt; scheduleDomainConsumer;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        Map&lt;String, Object&gt; producerProps = KafkaTestUtils.producerProps(kafkaContainer.getBootstrapServers());\r\n        producerProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        producerProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n\r\n        ProducerFactory&lt;String, ScheduleRaw&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(producerProps);\r\n        scheduleRawProducer = new KafkaTemplate&lt;&gt;(producerFactory);\r\n\r\n        Map&lt;String, Object&gt; scheduleDomainConsumerProps = KafkaTestUtils.consumerProps(kafkaContainer.getBootstrapServers(), &quot;schedule-domain-test-group&quot;, &quot;false&quot;);\r\n        scheduleDomainConsumerProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        scheduleDomainConsumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        scheduleDomainConsumerProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        scheduleDomainConsumerProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n\r\n        ConsumerFactory&lt;String, ScheduleDomain&gt; scheduleDomainConsumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(scheduleDomainConsumerProps);\r\n        scheduleDomainConsumer = scheduleDomainConsumerFactory.createConsumer();\r\n        scheduleDomainConsumer.subscribe(List.of(SCHEDULE_DOMAIN_TOPIC));\r\n\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        scheduleDomainConsumer.close();\r\n    }\r\n\r\n    @Test\r\n    void shouldConsumeScheduleRawAndProduceMappedScheduleDomainToDomainTopic() {\r\n        // Given\r\n        ...\r\n\r\n        // When\r\n        scheduleRawProducer.send(SCHEDULE_RAW_TOPIC, key, event);\r\n        ConsumerRecord&lt;String, ScheduleDomain&gt; result = KafkaTestUtils.getSingleRecord(scheduleDomainConsumer, SCHEDULE_DOMAIN_TOPIC, Duration.ofSeconds(20));\r\n\r\n        // Then\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen this test class is executed alone it passes, but the problem occurs when this test class is not run alone and I get following stack trace in output of test:\r\n```\r\njava.lang.IllegalStateException: No records found for topic\r\n\r\nat org.springframework.kafka.test.utils.KafkaTestUtils.getSingleRecord(KafkaTestUtils.java:181)\r\n```\r\n\r\nWhen test class is executed with other test classes (in project except this test class there are no other integration test classes - only unit tests) it fails, but only at one condition - it mustn&#39;t be executed first. If this test class is executed first and then other test classes it passes.\r\n\r\nI added breakpoint on the line where event is handled in `SCHEDULE_RAW_TOPIC` consumer to see if event is received and the breakpoint has not been triggered - so there are two possibilities: problem with `scheduleRawProducer` or with the consumer.\r\n\r\nI also tried adding `@DirtiesContext` on top of test class but it didn&#39;t resolve the problem.\r\n\r\nHas anyone faced similar problem or knows what could be the solution?\r\n\r\n----------\r\n","title":"Spring Kafka integration test class fails if not executed first","body":"<p>I wrote following integration test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\n@Testcontainers\nclass DomainCourseMapperServiceApplicationIntegrationTest {\n\n    @Container\n    static final KafkaContainer kafkaContainer =\n            new KafkaContainer(DockerImageName.parse(&quot;confluentinc/cp-kafka:7.4.3&quot;));\n\n    @DynamicPropertySource\n    static void overrideKafkaProperties(DynamicPropertyRegistry registry) {\n        registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafkaContainer::getBootstrapServers);\n    }\n\n    private static final String SCHEDULE_RAW_TOPIC = &quot;schedule.raw&quot;;\n    private static final String SCHEDULE_DOMAIN_TOPIC = &quot;schedule.domain&quot;;\n\n    KafkaTemplate&lt;String, ScheduleRaw&gt; scheduleRawProducer;\n    Consumer&lt;String, ScheduleDomain&gt; scheduleDomainConsumer;\n\n    @BeforeEach\n    void setUp() {\n        Map&lt;String, Object&gt; producerProps = KafkaTestUtils.producerProps(kafkaContainer.getBootstrapServers());\n        producerProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        producerProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        ProducerFactory&lt;String, ScheduleRaw&gt; producerFactory = new DefaultKafkaProducerFactory&lt;&gt;(producerProps);\n        scheduleRawProducer = new KafkaTemplate&lt;&gt;(producerFactory);\n\n        Map&lt;String, Object&gt; scheduleDomainConsumerProps = KafkaTestUtils.consumerProps(kafkaContainer.getBootstrapServers(), &quot;schedule-domain-test-group&quot;, &quot;false&quot;);\n        scheduleDomainConsumerProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        scheduleDomainConsumerProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        scheduleDomainConsumerProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        scheduleDomainConsumerProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n\n        ConsumerFactory&lt;String, ScheduleDomain&gt; scheduleDomainConsumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(scheduleDomainConsumerProps);\n        scheduleDomainConsumer = scheduleDomainConsumerFactory.createConsumer();\n        scheduleDomainConsumer.subscribe(List.of(SCHEDULE_DOMAIN_TOPIC));\n\n    }\n\n    @AfterEach\n    void tearDown() {\n        scheduleDomainConsumer.close();\n    }\n\n    @Test\n    void shouldConsumeScheduleRawAndProduceMappedScheduleDomainToDomainTopic() {\n        // Given\n        ...\n\n        // When\n        scheduleRawProducer.send(SCHEDULE_RAW_TOPIC, key, event);\n        ConsumerRecord&lt;String, ScheduleDomain&gt; result = KafkaTestUtils.getSingleRecord(scheduleDomainConsumer, SCHEDULE_DOMAIN_TOPIC, Duration.ofSeconds(20));\n\n        // Then\n        ...\n    }\n\n}\n</code></pre>\n<p>When this test class is executed alone it passes, but the problem occurs when this test class is not run alone and I get following stack trace in output of test:</p>\n<pre><code>java.lang.IllegalStateException: No records found for topic\n\nat org.springframework.kafka.test.utils.KafkaTestUtils.getSingleRecord(KafkaTestUtils.java:181)\n</code></pre>\n<p>When test class is executed with other test classes (in project except this test class there are no other integration test classes - only unit tests) it fails, but only at one condition - it mustn't be executed first. If this test class is executed first and then other test classes it passes.</p>\n<p>I added breakpoint on the line where event is handled in <code>SCHEDULE_RAW_TOPIC</code> consumer to see if event is received and the breakpoint has not been triggered - so there are two possibilities: problem with <code>scheduleRawProducer</code> or with the consumer.</p>\n<p>I also tried adding <code>@DirtiesContext</code> on top of test class but it didn't resolve the problem.</p>\n<p>Has anyone faced similar problem or knows what could be the solution?</p>\n<hr />\n"},{"tags":["java","sonarqube","jdbctemplate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1644445017,"post_id":71057470,"comment_id":125612195,"body_markdown":"Check out prepared statements.","body":"Check out prepared statements."},{"owner":{"account_id":79254,"reputation":741,"user_id":224905,"accept_rate":37,"display_name":"xrx215"},"score":0,"creation_date":1644445220,"post_id":71057470,"comment_id":125612259,"body_markdown":"here my query is appending sql to the existing query. It is not passing it as a parameter. I am confused on using prepared statement to append string to existing query.","body":"here my query is appending sql to the existing query. It is not passing it as a parameter. I am confused on using prepared statement to append string to existing query."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1644445413,"post_id":71057470,"comment_id":125612323,"body_markdown":"If you&#39;re using spring-data check [Specifications](https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/). Anyway, if you&#39;re *absolutely* positive that those additional `WHERE` clauses contain nothing that comes from user inputs you can simply mark the issue as wontfix","body":"If you&#39;re using spring-data check <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">Specifications</a>. Anyway, if you&#39;re <i>absolutely</i> positive that those additional <code>WHERE</code> clauses contain nothing that comes from user inputs you can simply mark the issue as wontfix"}],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644445462,"creation_date":1644445462,"answer_id":71057567,"question_id":71057470,"body_markdown":"Your code combines strings into SQL statements. If any of these strings contains user provided input, an attacker can sneak in code to trigger an [SQL injection][1] attack and possibly run arbitrary code on your computer (obligatory [Bobby Tables][2] reference).\r\n\r\nSimple example: \r\n\r\n```java\r\nString sql = &quot;SELECT * FROM users WHERE name = &#39;&quot; + name + &quot;&#39; AND password = &#39;&quot; + password + &quot;&#39;&quot;;\r\n```\r\n\r\nIf I enter `&#39; OR 1=1 --` for the name (and &quot;...&quot; for the password, but that doesn&#39;t really matter anymore) the code becomes a valid SQL statement:\r\n\r\n```sql\r\nSELECT *\r\nFROM users \r\nWHERE name = &#39;&#39; OR 1=1 -- &#39; AND password = &#39;...&#39;\r\n```\r\nbut the user name / password check is completely disabled.\r\n\r\n\r\nTo avoid this, use [prepared statements][3]. They build the SQL command in a way that SQL injection is impossible.\r\n\r\n\r\nMaybe this never happens in your code as you don&#39;t accept user input, but Sonar doesn&#39;t know this (and human reviewers won&#39;t either). I&#39;d always use prepared statements. Just because your code only passed column headers from a frontend, doesn&#39;t mean an attacker cannot manually call your web service endpoints and pass whatever they want, it your code runs as an HTTP endpoint.\r\n\r\n\r\n  [1]: https://owasp.org/www-community/attacks/SQL_Injection\r\n  [2]: https://xkcd.com/327/\r\n  [3]: https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","title":"BLOCKER - Change this code to not construct SQL queries directly from user-controlled data","body":"<p>Your code combines strings into SQL statements. If any of these strings contains user provided input, an attacker can sneak in code to trigger an <a href=\"https://owasp.org/www-community/attacks/SQL_Injection\" rel=\"nofollow noreferrer\">SQL injection</a> attack and possibly run arbitrary code on your computer (obligatory <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Bobby Tables</a> reference).</p>\n<p>Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;SELECT * FROM users WHERE name = '&quot; + name + &quot;' AND password = '&quot; + password + &quot;'&quot;;\n</code></pre>\n<p>If I enter <code>' OR 1=1 --</code> for the name (and &quot;...&quot; for the password, but that doesn't really matter anymore) the code becomes a valid SQL statement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM users \nWHERE name = '' OR 1=1 -- ' AND password = '...'\n</code></pre>\n<p>but the user name / password check is completely disabled.</p>\n<p>To avoid this, use <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">prepared statements</a>. They build the SQL command in a way that SQL injection is impossible.</p>\n<p>Maybe this never happens in your code as you don't accept user input, but Sonar doesn't know this (and human reviewers won't either). I'd always use prepared statements. Just because your code only passed column headers from a frontend, doesn't mean an attacker cannot manually call your web service endpoints and pass whatever they want, it your code runs as an HTTP endpoint.</p>\n"},{"tags":[],"owner":{"account_id":79254,"reputation":741,"user_id":224905,"accept_rate":37,"display_name":"xrx215"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700697691,"creation_date":1700674553,"answer_id":77532087,"question_id":71057470,"body_markdown":"This worked for me:\r\n```\r\ntry {\r\n    if (!sortingDateOrderBy.matches(&quot;&quot;)) {\r\n\r\n    }\r\n\r\n}\r\ncatch (Exception ex)\r\n{\r\n    throw(ex);\r\n}\r\n```","title":"BLOCKER - Change this code to not construct SQL queries directly from user-controlled data","body":"<p>This worked for me:</p>\n<pre><code>try {\n    if (!sortingDateOrderBy.matches(&quot;&quot;)) {\n\n    }\n\n}\ncatch (Exception ex)\n{\n    throw(ex);\n}\n</code></pre>\n"}],"owner":{"account_id":79254,"reputation":741,"user_id":224905,"accept_rate":37,"display_name":"xrx215"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2390,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700697691,"creation_date":1644444877,"question_id":71057470,"body_markdown":"Sonarqube is giving me this error:\r\n\r\n&gt; [BLOCKER] Change this code to not construct SQL queries directly from user-controlled data\r\n\r\nHere is my code:\r\n\r\n```java\r\nString countSQL;\r\n\r\ncountSQL = (String.format(&quot;SELECT count(*) as total FROM ltid_owner.enty %s&quot;,additionalWhereClauses));\r\n\r\njdbcTemplateTMI.queryForObject(countSQL, Integer.class);\r\n```\r\n\r\nIn the above code `additionalWhereClauses` could be something like this shown below which I am building on the fly when the user clicks on the grid to perform filtering on different columns:\r\n\r\n```java\r\nadditionalWhereClauses = where UPPER(enty_num) like &#39;003%&#39;\r\n```\r\n\r\nCan you please let me know how to resolve this issue?\r\n\r\n\r\n","title":"BLOCKER - Change this code to not construct SQL queries directly from user-controlled data","body":"<p>Sonarqube is giving me this error:</p>\n<blockquote>\n<p>[BLOCKER] Change this code to not construct SQL queries directly from user-controlled data</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String countSQL;\n\ncountSQL = (String.format(&quot;SELECT count(*) as total FROM ltid_owner.enty %s&quot;,additionalWhereClauses));\n\njdbcTemplateTMI.queryForObject(countSQL, Integer.class);\n</code></pre>\n<p>In the above code <code>additionalWhereClauses</code> could be something like this shown below which I am building on the fly when the user clicks on the grid to perform filtering on different columns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>additionalWhereClauses = where UPPER(enty_num) like '003%'\n</code></pre>\n<p>Can you please let me know how to resolve this issue?</p>\n"},{"tags":["java","casting","format","conditional-operator"],"owner":{"account_id":16317031,"reputation":1,"user_id":22967916,"display_name":"Kristi Teneqexhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700697956,"answer_count":0,"score":0,"last_activity_date":1700697668,"creation_date":1700697668,"question_id":77533698,"body_markdown":"I wanted to make a type of formatted printing (without using the printf() method) so that I can print a float varible without decimal point if the number does not contain a decimal part. I chose to make an inline if/else statement using the conditional operator. Debugging evaluates to true, however it still prints the decimal point. When used without the formated printing (for ex. a solution would be adding an if statement above instead of the conditional opperator) it prints it as expected. Why is this happening? \r\n```\r\nfloat rezultati = 15.0f;\r\nSystem.out.println((rezultati % 1 == 0.0f ? ((int) rezultati) : rezultati));\r\nSystem.out.println((int) rezultati);\r\n```\r\noutputs:\r\n\r\n```\r\n15.0\r\n15\r\n```\r\n\r\n\r\nCasting doesnt seem to be the problem. I know I can work around it however I was wondering what is happening there?\r\n\r\n```\r\nSystem.out.println((rezultati % 1 == 0.0f ? 1 : rezultati));\r\n```\r\noutput\r\n\r\n```\r\n1.0\r\n```\r\n","title":"Why is the conditional operator in java behaving diffrently with conversions? I want to print float as integer form if the decimal part is 0","body":"<p>I wanted to make a type of formatted printing (without using the printf() method) so that I can print a float varible without decimal point if the number does not contain a decimal part. I chose to make an inline if/else statement using the conditional operator. Debugging evaluates to true, however it still prints the decimal point. When used without the formated printing (for ex. a solution would be adding an if statement above instead of the conditional opperator) it prints it as expected. Why is this happening?</p>\n<pre><code>float rezultati = 15.0f;\nSystem.out.println((rezultati % 1 == 0.0f ? ((int) rezultati) : rezultati));\nSystem.out.println((int) rezultati);\n</code></pre>\n<p>outputs:</p>\n<pre><code>15.0\n15\n</code></pre>\n<p>Casting doesnt seem to be the problem. I know I can work around it however I was wondering what is happening there?</p>\n<pre><code>System.out.println((rezultati % 1 == 0.0f ? 1 : rezultati));\n</code></pre>\n<p>output</p>\n<pre><code>1.0\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":1,"creation_date":1553469573,"post_id":55317812,"comment_id":97384752,"body_markdown":"The problem is your code uses `Sort` and JpaSpecification `thinks` its part of query. You need to define `Pageable`. Look this example: [https://stackoverflow.com/questions/52687061/spring-data-jpa-method-query-with-paging-gives-me-an-error](https://stackoverflow.com/questions/52687061/spring-data-jpa-method-query-with-paging-gives-me-an-error)","body":"The problem is your code uses <code>Sort</code> and JpaSpecification <code>thinks</code> its part of query. You need to define <code>Pageable</code>. Look this example: <a href=\"https://stackoverflow.com/questions/52687061/spring-data-jpa-method-query-with-paging-gives-me-an-error\">https://stackoverflow.com/questions/52687061/spring-data-jpa&zwnj;&#8203;-method-query-with-p&zwnj;&#8203;aging-gives-me-an-er&zwnj;&#8203;ror</a>"}],"answers":[{"comments":[{"owner":{"account_id":6179102,"reputation":658,"user_id":4815174,"accept_rate":80,"display_name":"Ivan Vilanculo"},"score":0,"creation_date":1574695871,"post_id":55329327,"comment_id":104313325,"body_markdown":"I totally agree with you but what about when you want to use projections?","body":"I totally agree with you but what about when you want to use projections?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":2,"creation_date":1574710243,"post_id":55329327,"comment_id":104320506,"body_markdown":"@IvanVilanculo Mixing projections and specifications is not supported, see https://stackoverflow.com/questions/41692391/how-to-use-projections-and-specifications-with-spring-data-jpa","body":"@IvanVilanculo Mixing projections and specifications is not supported, see <a href=\"https://stackoverflow.com/questions/41692391/how-to-use-projections-and-specifications-with-spring-data-jpa\" title=\"how to use projections and specifications with spring data jpa\">stackoverflow.com/questions/41692391/&hellip;</a>"}],"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553467735,"creation_date":1553467735,"answer_id":55329327,"question_id":55317812,"body_markdown":"First of all, your code should read ` implements JpaSpecificationExecutor&lt;Sight&gt;`. \r\n\r\nSecondly, the whole point of implementing `JPASpecificationExecutor` is to make use of the methods it provides. You should be calling the `findAll(Specification, Sort)` method, while filtering by `cityId` should be part of the specification. ","title":"At least 2 parameter(s) provided but only 1 parameter(s) present in query by Use Specification and Sort","body":"<p>First of all, your code should read <code>implements JpaSpecificationExecutor&lt;Sight&gt;</code>. </p>\n\n<p>Secondly, the whole point of implementing <code>JPASpecificationExecutor</code> is to make use of the methods it provides. You should be calling the <code>findAll(Specification, Sort)</code> method, while filtering by <code>cityId</code> should be part of the specification. </p>\n"}],"owner":{"account_id":11546374,"reputation":461,"user_id":8460267,"display_name":"Adam Kingsley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23074,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1700697093,"creation_date":1553371125,"question_id":55317812,"body_markdown":"While using the JPA interface `JpaSpecificationExecutor`, I created the following code but it throws an error: &quot;At least 2 parameter(s) provided but only 1 parameter(s) present in query&quot;.\r\n\r\nThe invoke code \r\n\r\n```java\r\n@Override\r\npublic Result findSightsWithConditions(String cityId, Map&lt;String, String&gt; filter_map) {\r\n  //scoreOrder priceOrder minScore maxScore minPrice maxPrice\r\n  Specification&lt;Sight&gt; specification = new Specification&lt;Sight&gt;() {\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;Sight&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\r\n      List&lt;Predicate&gt; predicates = Lists.newArrayList();\r\n      //predicates.add(criteriaBuilder.equal(root.get(&quot;cityId&quot;), cityId));\r\n      if (null != filter_map.get(&quot;maxScore&quot;)) {\r\n        double max = Integer.parseInt(filter_map.get(&quot;maxScore&quot;));\r\n        predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;score&quot;), max));\r\n      }\r\n      if (null != filter_map.get(&quot;maxPrice&quot;)) {\r\n        double max = Integer.parseInt(filter_map.get(&quot;maxPrice&quot;));\r\n        predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;price&quot;), max));\r\n      }\r\n      if (null != filter_map.get(&quot;minScore&quot;)) {\r\n        double min = Double.parseDouble(filter_map.get(&quot;minScore&quot;));\r\n        predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;score&quot;), min));\r\n      }\r\n\r\n      if (null != filter_map.get(&quot;minPrice&quot;)) {\r\n        double min = Double.parseDouble(filter_map.get(&quot;minPrice&quot;));\r\n        predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;price&quot;), min));\r\n      }\r\n      return criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    }\r\n  };\r\n  Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\r\n  String scoreOrder = filter_map.get(&quot;scoreOrder&quot;);\r\n  String priceOrder = filter_map.get(&quot;priceOrder&quot;);\r\n\r\n  if (scoreOrder != null) {\r\n    // 1 ASE 2DESC\r\n    sort = sort.and(new Sort(Integer.parseInt(scoreOrder) == 1 ? Sort.Direction.ASC : Sort.Direction.DESC, &quot;score&quot;));\r\n  }\r\n  if (priceOrder != null) {\r\n    sort = sort.and(new Sort(Integer.parseInt(scoreOrder) == 1 ? Sort.Direction.ASC : Sort.Direction.DESC, &quot;price&quot;));\r\n  }\r\n\r\n  List&lt;Sight&gt; sights = sightDao.findAllByCityId(cityId, specification, sort);\r\n  List&lt;SightSimpleVO&gt; sightSimpleVOS = sights.stream().map(sight -&gt; {\r\n    SightSimpleVO vo = new SightSimpleVO();\r\n    BeanUtils.copyProperties(sight, vo, &quot;pics&quot;, &quot;labels&quot;);\r\n    vo.setPics(StringUtil.getList(sight.getPics(), &quot;,&quot;));\r\n    vo.setLabels(StringUtil.getList(sight.getLabels(), &quot;,&quot;));\r\n    return vo;\r\n  }).collect(Collectors.toList());\r\n  return Result.success().message(&quot;success!&quot;).withData(sightSimpleVOS);\r\n}\r\n```\r\n\r\nRepository code:\r\n```\r\n@Repository\r\npublic interface SightRepository extends PagingAndSortingRepository&lt;Sight, Long&gt;, JpaSpecificationExecutor {\r\n\r\n    List&lt;Sight&gt; findAllByCityId(String cityIds, Specification&lt;Sight&gt; specification, Sort var1);\r\n\r\n}\r\n```\r\n\r\n\r\nI just want to obtain the results under dynamic condition. The Exception message is as following:\r\n\r\n```\r\njava.lang.IllegalArgumentException: At least 2 parameter(s) provided but only 1 parameter(s) present in query.\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:136)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$CriteriaQueryParameterSetterFactory.create(QueryParameterSetterFactory.java:290)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.lambda$createQueryParameterSetter$1(ParameterBinderFactory.java:139)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.createQueryParameterSetter(ParameterBinderFactory.java:141)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.lambda$createSetters$0(ParameterBinderFactory.java:131)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.createSetters(ParameterBinderFactory.java:132)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.createSetters(ParameterBinderFactory.java:124)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinderFactory.createCriteriaBinder(ParameterBinderFactory.java:75)\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.getBinder(PartTreeJpaQuery.java:248)\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:164)\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:92)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:210)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy159.findAllByCityId(Unknown Source)\r\n```","title":"At least 2 parameter(s) provided but only 1 parameter(s) present in query by Use Specification and Sort","body":"<p>While using the JPA interface <code>JpaSpecificationExecutor</code>, I created the following code but it throws an error: &quot;At least 2 parameter(s) provided but only 1 parameter(s) present in query&quot;.</p>\n<p>The invoke code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Result findSightsWithConditions(String cityId, Map&lt;String, String&gt; filter_map) {\n  //scoreOrder priceOrder minScore maxScore minPrice maxPrice\n  Specification&lt;Sight&gt; specification = new Specification&lt;Sight&gt;() {\n\n    @Override\n    public Predicate toPredicate(Root&lt;Sight&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\n      List&lt;Predicate&gt; predicates = Lists.newArrayList();\n      //predicates.add(criteriaBuilder.equal(root.get(&quot;cityId&quot;), cityId));\n      if (null != filter_map.get(&quot;maxScore&quot;)) {\n        double max = Integer.parseInt(filter_map.get(&quot;maxScore&quot;));\n        predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;score&quot;), max));\n      }\n      if (null != filter_map.get(&quot;maxPrice&quot;)) {\n        double max = Integer.parseInt(filter_map.get(&quot;maxPrice&quot;));\n        predicates.add(criteriaBuilder.lessThanOrEqualTo(root.get(&quot;price&quot;), max));\n      }\n      if (null != filter_map.get(&quot;minScore&quot;)) {\n        double min = Double.parseDouble(filter_map.get(&quot;minScore&quot;));\n        predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;score&quot;), min));\n      }\n\n      if (null != filter_map.get(&quot;minPrice&quot;)) {\n        double min = Double.parseDouble(filter_map.get(&quot;minPrice&quot;));\n        predicates.add(criteriaBuilder.greaterThanOrEqualTo(root.get(&quot;price&quot;), min));\n      }\n      return criteriaBuilder.and(predicates.toArray(new Predicate[predicates.size()]));\n    }\n  };\n  Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\n  String scoreOrder = filter_map.get(&quot;scoreOrder&quot;);\n  String priceOrder = filter_map.get(&quot;priceOrder&quot;);\n\n  if (scoreOrder != null) {\n    // 1 ASE 2DESC\n    sort = sort.and(new Sort(Integer.parseInt(scoreOrder) == 1 ? Sort.Direction.ASC : Sort.Direction.DESC, &quot;score&quot;));\n  }\n  if (priceOrder != null) {\n    sort = sort.and(new Sort(Integer.parseInt(scoreOrder) == 1 ? Sort.Direction.ASC : Sort.Direction.DESC, &quot;price&quot;));\n  }\n\n  List&lt;Sight&gt; sights = sightDao.findAllByCityId(cityId, specification, sort);\n  List&lt;SightSimpleVO&gt; sightSimpleVOS = sights.stream().map(sight -&gt; {\n    SightSimpleVO vo = new SightSimpleVO();\n    BeanUtils.copyProperties(sight, vo, &quot;pics&quot;, &quot;labels&quot;);\n    vo.setPics(StringUtil.getList(sight.getPics(), &quot;,&quot;));\n    vo.setLabels(StringUtil.getList(sight.getLabels(), &quot;,&quot;));\n    return vo;\n  }).collect(Collectors.toList());\n  return Result.success().message(&quot;success!&quot;).withData(sightSimpleVOS);\n}\n</code></pre>\n<p>Repository code:</p>\n<pre><code>@Repository\npublic interface SightRepository extends PagingAndSortingRepository&lt;Sight, Long&gt;, JpaSpecificationExecutor {\n\n    List&lt;Sight&gt; findAllByCityId(String cityIds, Specification&lt;Sight&gt; specification, Sort var1);\n\n}\n</code></pre>\n<p>I just want to obtain the results under dynamic condition. The Exception message is as following:</p>\n<pre><code>java.lang.IllegalArgumentException: At least 2 parameter(s) provided but only 1 parameter(s) present in query.\n    at org.springframework.util.Assert.isTrue(Assert.java:136)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetterFactory$CriteriaQueryParameterSetterFactory.create(QueryParameterSetterFactory.java:290)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.lambda$createQueryParameterSetter$1(ParameterBinderFactory.java:139)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.createQueryParameterSetter(ParameterBinderFactory.java:141)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.lambda$createSetters$0(ParameterBinderFactory.java:131)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.createSetters(ParameterBinderFactory.java:132)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.createSetters(ParameterBinderFactory.java:124)\n    at org.springframework.data.jpa.repository.query.ParameterBinderFactory.createCriteriaBinder(ParameterBinderFactory.java:75)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.getBinder(PartTreeJpaQuery.java:248)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:164)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:92)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:210)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy159.findAllByCityId(Unknown Source)\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1425784607,"post_id":28922040,"comment_id":46102386,"body_markdown":"How are you executing each command?  If that is separate class like &quot;Action&quot; or &quot;Command&quot; you could perform the check there.  Other than that not much you can do...as written in other answers.","body":"How are you executing each command?  If that is separate class like &quot;Action&quot; or &quot;Command&quot; you could perform the check there.  Other than that not much you can do...as written in other answers."},{"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"score":0,"creation_date":1425790335,"post_id":28922040,"comment_id":46103251,"body_markdown":"I am code autonomous for a FRC robot. Some of it is to set motors to a speed and wait, other bits are to set motor values until sensors give certain valuse.","body":"I am code autonomous for a FRC robot. Some of it is to set motors to a speed and wait, other bits are to set motor values until sensors give certain valuse."}],"answers":[{"comments":[{"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"score":1,"creation_date":1425781295,"post_id":28922069,"comment_id":46101859,"body_markdown":"Remember this is not a looped bit of code. There is not convenient place where checking a flag will happen often. If I understand your solution, I would have check the flag every other line, at which point I might as well just check the boolean.","body":"Remember this is not a looped bit of code. There is not convenient place where checking a flag will happen often. If I understand your solution, I would have check the flag every other line, at which point I might as well just check the boolean."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425778040,"creation_date":1425777709,"answer_id":28922069,"question_id":28922040,"body_markdown":"You can use wait / notify as a alternative to suspend / resume. Instead of stop you can set a flag, notify and throw an exception from notified thread","title":"Alternative to Thread.suspend() and .resume()","body":"<p>You can use wait / notify as a alternative to suspend / resume. Instead of stop you can set a flag, notify and throw an exception from notified thread</p>\n"},{"comments":[{"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"score":0,"creation_date":1425781553,"post_id":28922121,"comment_id":46101888,"body_markdown":"I cannot think of how to use wait and notify in my situation. If you can, I would be glad to know.","body":"I cannot think of how to use wait and notify in my situation. If you can, I would be glad to know."},{"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"score":0,"creation_date":1503291401,"post_id":28922121,"comment_id":78536722,"body_markdown":"@yesennes See the answer https://stackoverflow.com/questions/28922040/alternative-to-thread-suspend-and-resume/45786529#45786529 for doing this using wait/notify.","body":"@yesennes See the answer <a href=\"https://stackoverflow.com/questions/28922040/alternative-to-thread-suspend-and-resume/45786529#45786529\" title=\"alternative to thread suspend and resume\">stackoverflow.com/questions/28922040/&hellip;</a> for doing this using wait/notify."}],"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425778165,"creation_date":1425778165,"answer_id":28922121,"question_id":28922040,"body_markdown":"There is an excellent documentation about why `Thread.stop()`, `Thread.pause()` and `Thread.resume()` are deprecated:\r\n\r\n[Java Thread Primitive Deprecation][1]\r\n\r\nThere is also an alternative for `Thread.pause()` / `Thread.resume()` using `wait` and `notify` explained.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","title":"Alternative to Thread.suspend() and .resume()","body":"<p>There is an excellent documentation about why <code>Thread.stop()</code>, <code>Thread.pause()</code> and <code>Thread.resume()</code> are deprecated:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow\">Java Thread Primitive Deprecation</a></p>\n\n<p>There is also an alternative for <code>Thread.pause()</code> / <code>Thread.resume()</code> using <code>wait</code> and <code>notify</code> explained.</p>\n"},{"comments":[{"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"score":0,"creation_date":1503261404,"post_id":28922131,"comment_id":78530740,"body_markdown":"There is an approximate solution to this problem. Please see the answer  https://stackoverflow.com/questions/28922040/alternative-to-thread-suspend-and-resume/45786529#45786529","body":"There is an approximate solution to this problem. Please see the answer  <a href=\"https://stackoverflow.com/questions/28922040/alternative-to-thread-suspend-and-resume/45786529#45786529\" title=\"alternative to thread suspend and resume\">stackoverflow.com/questions/28922040/&hellip;</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1425784677,"creation_date":1425778285,"answer_id":28922131,"question_id":28922040,"body_markdown":"&gt; I could check the boolean between every line of code, but I am hoping for a more elegant solution.  Is there a good way to do this?\r\n\r\nUnfortunately, no.\r\n\r\nTo replace pause / resume, what you really need is for one thread to &quot;pause&quot; another thread, without involving the code of the second thread.  \r\n\r\nThis is not possible to do safely in Java as currently spec&#39;d and implemented.  \r\n\r\nThe deprecated Thread methods are the only way for one thread to kill, stop / pause, resume another thread ... if the other thread is not actively cooperating.  They were deprecated because (in a nutshell) that kind of control *cannot* be implemented safely within any current generation mainstream JVM&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\nThe best you could do is wrap the pause / resume logic in a method that the second thread calls at appropriate points.  (This probably should use wait / notify ... or equivalent ... to deal with the resumption.  But wait/notify *per se* does not address your clear requirement for pause/resuming a non-cooperating thread.)\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - You&#39;d need something like the Isolates API to do this. There have been attempts to implement it in research projects, but AFAIK Isolates has never been implemented in a production JVM.&lt;/sup&gt;","title":"Alternative to Thread.suspend() and .resume()","body":"<blockquote>\n  <p>I could check the boolean between every line of code, but I am hoping for a more elegant solution.  Is there a good way to do this?</p>\n</blockquote>\n\n<p>Unfortunately, no.</p>\n\n<p>To replace pause / resume, what you really need is for one thread to \"pause\" another thread, without involving the code of the second thread.  </p>\n\n<p>This is not possible to do safely in Java as currently spec'd and implemented.  </p>\n\n<p>The deprecated Thread methods are the only way for one thread to kill, stop / pause, resume another thread ... if the other thread is not actively cooperating.  They were deprecated because (in a nutshell) that kind of control <em>cannot</em> be implemented safely within any current generation mainstream JVM<sup>1</sup>.  </p>\n\n<p>The best you could do is wrap the pause / resume logic in a method that the second thread calls at appropriate points.  (This probably should use wait / notify ... or equivalent ... to deal with the resumption.  But wait/notify <em>per se</em> does not address your clear requirement for pause/resuming a non-cooperating thread.)</p>\n\n<hr>\n\n<p><sup>1 - You'd need something like the Isolates API to do this. There have been attempts to implement it in research projects, but AFAIK Isolates has never been implemented in a production JVM.</sup></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1425793342,"post_id":28923180,"comment_id":46103664,"body_markdown":"I disagree with this.  Interrupt has the problem that it will ... basically ... interrupt some blocking operations, leaving the interrupted thread in a state where resumption is (at least) complicated.  Testing a boolean is a better approach for a pause / resume.","body":"I disagree with this.  Interrupt has the problem that it will ... basically ... interrupt some blocking operations, leaving the interrupted thread in a state where resumption is (at least) complicated.  Testing a boolean is a better approach for a pause / resume."},{"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"score":0,"creation_date":1425793639,"post_id":28923180,"comment_id":46103710,"body_markdown":"@StephenC All blocking operations that might be interrupted force you to check for InterruptedException and decide what to do. It sounds to me like if they are using any such operations, then interrupting them is the desired behavior (though they may need to add some means of signaling to not increment taskPos); if this is not the desired behavior then they can easily replace `Thread.interrupted()` with a special field query.","body":"@StephenC All blocking operations that might be interrupted force you to check for InterruptedException and decide what to do. It sounds to me like if they are using any such operations, then interrupting them is the desired behavior (though they may need to add some means of signaling to not increment taskPos); if this is not the desired behavior then they can easily replace <code>Thread.interrupted()</code> with a special field query."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1425795195,"post_id":28923180,"comment_id":46103993,"body_markdown":"In this case, the OP wants suspend / resume, not interrupt / start-over-again semantics.  The Question says that he is looking for a replacement for `Thread.suspend()`, etcetera.","body":"In this case, the OP wants suspend / resume, not interrupt / start-over-again semantics.  The Question says that he is looking for a replacement for <code>Thread.suspend()</code>, etcetera."},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1425895622,"post_id":28923180,"comment_id":46133542,"body_markdown":"I like this solution as it overcomes the problems that may arise when suspending/pausing a task inbetween (e.g. think of a sort algorithm that is paused and in the meantime the underlying list is changed) by falling back to the last well-defined state. Of course this might cause other problems especially when the interrupted task has already performed some state changes that should better be undone. So a task might decide to not react to interruption in case undoing changes are too complex. It has full control! Much better than using the deprecated Thread-methods!","body":"I like this solution as it overcomes the problems that may arise when suspending/pausing a task inbetween (e.g. think of a sort algorithm that is paused and in the meantime the underlying list is changed) by falling back to the last well-defined state. Of course this might cause other problems especially when the interrupted task has already performed some state changes that should better be undone. So a task might decide to not react to interruption in case undoing changes are too complex. It has full control! Much better than using the deprecated Thread-methods!"}],"tags":[],"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1425791250,"creation_date":1425789872,"answer_id":28923180,"question_id":28922040,"body_markdown":"The correct way to handle interrupting a thread (in this case, to pause or stop it) is, naturally, with `Thread#interrupt()`. It is designed so that you can define safe points at which the thread can be interrupted, which for you is naturally the point between each task. So, to avoid having to manually check your variable between each task, and to be able to easily resume where you left off, you can store your tasks as a list of `Runnable`s, and remember your position in the list from when you left off, like this:\r\n\r\n    public class Foo {\r\n        public static void runTask(Runnable task) throws InterruptedException {\r\n            task.run();\r\n            if (Thread.interrupted()) throw new InterruptedException();\r\n        }\r\n        Runnable[] frobnicateTasks = new Runnable[] {\r\n            () -&gt; { System.out.println(&quot;task1&quot;); },\r\n            () -&gt; { Thread.currentThread().interrupt(); }, //Interrupt self only as example\r\n            () -&gt; { System.out.println(&quot;task2&quot;); }\r\n        };\r\n        public int frobnicate() {\r\n            return resumeFrobnicate(0);\r\n        }\r\n        public int resumeFrobnicate(int taskPos) {\r\n            try {\r\n                while (taskPos &lt; frobnicateTasks.length)\r\n                    runTask(frobnicateTasks[taskPos++]);\r\n            } catch (InterruptedException ex) {\r\n            }\r\n            if (taskPos == frobnicateTasks.length) {\r\n                return -1; //done\r\n            }\r\n            return taskPos;\r\n        }\r\n        public static void main(String[] args) {\r\n            Foo foo = new Foo();\r\n            int progress = foo.frobnicate();\r\n            while (progress != -1) {\r\n                System.out.println(&quot;Paused&quot;);\r\n                progress = foo.resumeFrobnicate(progress);\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    }\r\n    --&gt;\r\n    task1\r\n    Paused\r\n    task2\r\n    Done","title":"Alternative to Thread.suspend() and .resume()","body":"<p>The correct way to handle interrupting a thread (in this case, to pause or stop it) is, naturally, with <code>Thread#interrupt()</code>. It is designed so that you can define safe points at which the thread can be interrupted, which for you is naturally the point between each task. So, to avoid having to manually check your variable between each task, and to be able to easily resume where you left off, you can store your tasks as a list of <code>Runnable</code>s, and remember your position in the list from when you left off, like this:</p>\n\n<pre><code>public class Foo {\n    public static void runTask(Runnable task) throws InterruptedException {\n        task.run();\n        if (Thread.interrupted()) throw new InterruptedException();\n    }\n    Runnable[] frobnicateTasks = new Runnable[] {\n        () -&gt; { System.out.println(\"task1\"); },\n        () -&gt; { Thread.currentThread().interrupt(); }, //Interrupt self only as example\n        () -&gt; { System.out.println(\"task2\"); }\n    };\n    public int frobnicate() {\n        return resumeFrobnicate(0);\n    }\n    public int resumeFrobnicate(int taskPos) {\n        try {\n            while (taskPos &lt; frobnicateTasks.length)\n                runTask(frobnicateTasks[taskPos++]);\n        } catch (InterruptedException ex) {\n        }\n        if (taskPos == frobnicateTasks.length) {\n            return -1; //done\n        }\n        return taskPos;\n    }\n    public static void main(String[] args) {\n        Foo foo = new Foo();\n        int progress = foo.frobnicate();\n        while (progress != -1) {\n            System.out.println(\"Paused\");\n            progress = foo.resumeFrobnicate(progress);\n        }\n        System.out.println(\"Done\");\n    }\n}\n--&gt;\ntask1\nPaused\ntask2\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503928221,"creation_date":1503261065,"answer_id":45786529,"question_id":28922040,"body_markdown":"I have an idea how to do this using AspectJ. The solution I am outlining below will allow you to pause/resume another thread. This pause will only come into effect on the next method invocation from inside of your target method after you called the pause routine. This will *not* require boolean checks after every line of code of your target method. I am using wait/notify to do this.\r\n\r\nI am using Spring in the below example.\r\n\r\nFirst, wrap your target method in a Runnable. \r\n   \r\n\r\n       package com.app.inter.thread.communication.runnables;\r\n    \r\n    \r\n        public class TestRunnable implements Runnable{\r\n        \r\n        \tpublic void run() {\r\n        \t\tlong i=0;\r\n                //For explanatory purposes, I have used an infinite loop below\r\n                //and printed an increasing number\r\n\r\n        \t\twhile(!Thread.interrupted()){\r\n                    //someService.action1();\r\n                    //someService.action2();\r\n                    //....                    \r\n        \t\t\tif(i++%10000000==0)\r\n        \t\t\t\tSystem.out.println(&quot;Working &quot;+i);\r\n        \t\t}\r\n        \t\t\r\n        \t}\r\n        \r\n        }\r\n\r\nNext, you make an aspect which would be called conditionally on any method invocation inside your target method.\r\n\r\n    @Aspect\r\n    @Component\r\n    public class HandlerAspect {\r\n    \t\r\n    \tpublic static volatile boolean stop=false;\r\n     \tpublic static volatile String monitor=&quot;&quot;;\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Pointcut(&quot;withincode(public void com.app.inter.thread.communication.runnables.TestRunnable.run()) &quot;\r\n    \t\t\t+ &quot;&amp;&amp; call(* *.*(*)) &quot;\r\n    \t\t\t+ &quot;&amp;&amp; if()&quot;)\r\n    \tpublic static boolean stopAspect(){\r\n    \t\treturn stop;\r\n    \t}\r\n    \t@Before(&quot;stopAspect()&quot;) \r\n        public void beforeAdvice(JoinPoint jp) {\r\n           try {\r\n        \t   System.out.println(&quot;Waiting&quot;);\r\n    \t   \r\n    \t       synchronized(monitor){\r\n    \t\t       monitor.wait();\r\n    \t       }\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n            stop=false;\r\n        }\r\n    }\r\n\r\nNow, whenever you want to pause your thread, just set the value of `stop` to true, and vice versa.\r\n\r\n    @Service\r\n    public class Driver {\r\n    \t@Autowired\r\n    \tprivate HandlerAspect aspect;\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void init(){\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tint i=-1;\r\n    \t\tTestRunnable runnable = new TestRunnable();\r\n    \t\tThread thread= new Thread(runnable);\r\n    \t\tthread.start();\r\n    \t\taspect.monitor=&quot;MONITOR&quot;;\r\n            while((i=scanner.nextInt())!=0){\r\n    \t\t\tswitch(i){\r\n    \t\t\t\tcase 1:\t\r\n    \t\t\t\t\taspect.stop=true;\r\n    \t\t\t\t\tbreak;\t\t\r\n                    case 2:\r\n\t\t\t\t\t\r\n\t\t\t\t\t    aspect.stop=false;\t\t\t\t\t\r\n\t\t\t\t\t    synchronized(aspect.monitor){\r\n\t\t\t\t\t\t    aspect.monitor.notify();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    break;\t\r\n    \t\t\t}\r\n    \t\t}\r\n            // in case the main thread is stopped\r\n            // while the other thread is in wait state\r\n            synchronized(aspect.monitor){\r\n\t\t\t    aspect.monitor.notify();\r\n\t\t    }\r\n    \t\tthread.interrupt();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThe output is as follows:\r\n\r\n    ...\r\n    Working 400000001\r\n    1Working 410000001\r\n    Working 420000001\r\n    Working 430000001\r\n    Working 440000001\r\n    Working 450000001\r\n    Working 460000001\r\n    Working 470000001\r\n    Waiting\r\n    2\r\n    Working 480000001\r\n    Working 490000001\r\n    0\r\n\r\nWorking code is at https://github.com/zafar142007/InterThreadCommunication\r\n\r\n\r\n","title":"Alternative to Thread.suspend() and .resume()","body":"<p>I have an idea how to do this using AspectJ. The solution I am outlining below will allow you to pause/resume another thread. This pause will only come into effect on the next method invocation from inside of your target method after you called the pause routine. This will <em>not</em> require boolean checks after every line of code of your target method. I am using wait/notify to do this.</p>\n\n<p>I am using Spring in the below example.</p>\n\n<p>First, wrap your target method in a Runnable. </p>\n\n<pre><code>   package com.app.inter.thread.communication.runnables;\n\n\n    public class TestRunnable implements Runnable{\n\n        public void run() {\n            long i=0;\n            //For explanatory purposes, I have used an infinite loop below\n            //and printed an increasing number\n\n            while(!Thread.interrupted()){\n                //someService.action1();\n                //someService.action2();\n                //....                    \n                if(i++%10000000==0)\n                    System.out.println(\"Working \"+i);\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>Next, you make an aspect which would be called conditionally on any method invocation inside your target method.</p>\n\n<pre><code>@Aspect\n@Component\npublic class HandlerAspect {\n\n    public static volatile boolean stop=false;\n    public static volatile String monitor=\"\";\n\n\n\n    @Pointcut(\"withincode(public void com.app.inter.thread.communication.runnables.TestRunnable.run()) \"\n            + \"&amp;&amp; call(* *.*(*)) \"\n            + \"&amp;&amp; if()\")\n    public static boolean stopAspect(){\n        return stop;\n    }\n    @Before(\"stopAspect()\") \n    public void beforeAdvice(JoinPoint jp) {\n       try {\n           System.out.println(\"Waiting\");\n\n           synchronized(monitor){\n               monitor.wait();\n           }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        stop=false;\n    }\n}\n</code></pre>\n\n<p>Now, whenever you want to pause your thread, just set the value of <code>stop</code> to true, and vice versa.</p>\n\n<pre><code>@Service\npublic class Driver {\n    @Autowired\n    private HandlerAspect aspect;\n\n    @PostConstruct\n    public void init(){\n        Scanner scanner = new Scanner(System.in);\n        int i=-1;\n        TestRunnable runnable = new TestRunnable();\n        Thread thread= new Thread(runnable);\n        thread.start();\n        aspect.monitor=\"MONITOR\";\n        while((i=scanner.nextInt())!=0){\n            switch(i){\n                case 1: \n                    aspect.stop=true;\n                    break;      \n                case 2:\n\n                    aspect.stop=false;                  \n                    synchronized(aspect.monitor){\n                        aspect.monitor.notify();\n                    }\n                    break;  \n            }\n        }\n        // in case the main thread is stopped\n        // while the other thread is in wait state\n        synchronized(aspect.monitor){\n            aspect.monitor.notify();\n        }\n        thread.interrupt();\n\n    }\n}\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>...\nWorking 400000001\n1Working 410000001\nWorking 420000001\nWorking 430000001\nWorking 440000001\nWorking 450000001\nWorking 460000001\nWorking 470000001\nWaiting\n2\nWorking 480000001\nWorking 490000001\n0\n</code></pre>\n\n<p>Working code is at <a href=\"https://github.com/zafar142007/InterThreadCommunication\" rel=\"nofollow noreferrer\">https://github.com/zafar142007/InterThreadCommunication</a></p>\n"},{"tags":[],"owner":{"account_id":3292390,"reputation":21,"user_id":2770401,"display_name":"BatBold"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700696974,"creation_date":1573066437,"answer_id":58736796,"question_id":28922040,"body_markdown":"I don&#39;t know why no one mentioned semaphore here. You can every once in a while try acquire and release a semaphore in you main code. On the side work you can trigger semaphore acquire so to block the main code acquiring if you don&#39;t want the whole while loop with wait and notify going.\r\n\r\n","title":"Alternative to Thread.suspend() and .resume()","body":"<p>I don't know why no one mentioned semaphore here. You can every once in a while try acquire and release a semaphore in you main code. On the side work you can trigger semaphore acquire so to block the main code acquiring if you don't want the whole while loop with wait and notify going.</p>\n"},{"tags":[],"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573073605,"creation_date":1573073605,"answer_id":58738318,"question_id":28922040,"body_markdown":"Somehow this thread still seems to be active, so I will pitch my answer, as 4 years of developing experience has given me more insight and hasn&#39;t quite clouded my memory of my problem.\r\n\r\nThe problem boiled down to the FRC library I was using trying to shoehorn me into use functions that were roughly like: `motor.drive(speed, time)` and would block execution for time length. In all but the most narrow cases, this is bad function to use, as so much of robotics code relies on combining sensor data and time passing to make decisions.\r\n\r\nWhat I should have done was call it with time being 0 or very small, or find some other function that would indefinitely drive the motor, and be sure to turn it off afterwards. Then run that function in a tight loop looking for the conditions that would make be go to the next command.\r\n\r\nI probably should have used a state machine to make the code more readable and easier to modify.","title":"Alternative to Thread.suspend() and .resume()","body":"<p>Somehow this thread still seems to be active, so I will pitch my answer, as 4 years of developing experience has given me more insight and hasn't quite clouded my memory of my problem.</p>\n\n<p>The problem boiled down to the FRC library I was using trying to shoehorn me into use functions that were roughly like: <code>motor.drive(speed, time)</code> and would block execution for time length. In all but the most narrow cases, this is bad function to use, as so much of robotics code relies on combining sensor data and time passing to make decisions.</p>\n\n<p>What I should have done was call it with time being 0 or very small, or find some other function that would indefinitely drive the motor, and be sure to turn it off afterwards. Then run that function in a tight loop looking for the conditions that would make be go to the next command.</p>\n\n<p>I probably should have used a state machine to make the code more readable and easier to modify.</p>\n"}],"owner":{"account_id":2442207,"reputation":1167,"user_id":2130376,"accept_rate":100,"display_name":"yesennes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16053,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28923180,"answer_count":7,"score":11,"last_activity_date":1700696974,"creation_date":1425777488,"question_id":28922040,"body_markdown":"I have a large segment of code that is not a loop, just a list of commands that happens once but takes some time. I need it to either pause or terminate this at any point based on a changing boolean value. I could use a different thread to suspend, resume and stop this code, but those methods are deprecated, so I would like to avoid using them. I could check the boolean between every line of code, but I am hoping for a more elegant solution. Is there a good way to do this?","title":"Alternative to Thread.suspend() and .resume()","body":"<p>I have a large segment of code that is not a loop, just a list of commands that happens once but takes some time. I need it to either pause or terminate this at any point based on a changing boolean value. I could use a different thread to suspend, resume and stop this code, but those methods are deprecated, so I would like to avoid using them. I could check the boolean between every line of code, but I am hoping for a more elegant solution. Is there a good way to do this?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700696670,"creation_date":1700696670,"answer_id":77533653,"question_id":77533463,"body_markdown":"&quot;Can/Should I verify if a mock is called somewhere in the chain?&quot;\r\nI dont think so. At least not in the way your doing. Since you&#39;re unit testing the foo() method, you only want to test the logic of this method, you don&#39;t care about whats inside of bar(), you will mock bar() and make it return (in case its not void) whatever you want/need. So, you don&#39;t need to check what is inside of bar() and how its behaving.\r\n\r\n    @Mock\r\n    private HelperClass helperClass;\r\n    \r\n    @InjectMocks\r\n    private TestingClass testingClass;\r\n    \r\n    @Test\r\n    public void fooTest() {\r\n       testingClass.foo();\r\n    \r\n       // wont return anything in case the method is void ofc\r\n       when(helperClass.bar().thenReturn(something);\r\n    \r\n       // you could verify that the mocked method got called if you need to\r\n       verify(helperClass).bar();\r\n    }\r\n\r\nIf you want to post your real code maybe i can help in a better way, since an &quot;abstract&quot; example may not be the best way to explain.\r\n\r\n\r\n","title":"Can I mockito verify if I have a method that I test, what calls another method in the same class what calls another&#39;s class method?","body":"<p>&quot;Can/Should I verify if a mock is called somewhere in the chain?&quot;\nI dont think so. At least not in the way your doing. Since you're unit testing the foo() method, you only want to test the logic of this method, you don't care about whats inside of bar(), you will mock bar() and make it return (in case its not void) whatever you want/need. So, you don't need to check what is inside of bar() and how its behaving.</p>\n<pre><code>@Mock\nprivate HelperClass helperClass;\n\n@InjectMocks\nprivate TestingClass testingClass;\n\n@Test\npublic void fooTest() {\n   testingClass.foo();\n\n   // wont return anything in case the method is void ofc\n   when(helperClass.bar().thenReturn(something);\n\n   // you could verify that the mocked method got called if you need to\n   verify(helperClass).bar();\n}\n</code></pre>\n<p>If you want to post your real code maybe i can help in a better way, since an &quot;abstract&quot; example may not be the best way to explain.</p>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700696670,"creation_date":1700693002,"question_id":77533463,"body_markdown":"So I have a method (`foo()`) in class `TestingThis`\r\n\r\n```\r\npublic class TestingThis {\r\n    // injected another class\r\n    private HelperClass helperClass;\r\n\r\n    public void foo() {\r\n        bar();\r\n    }\r\n\r\n    public void bar() {\r\n        helperClass.call();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe test:\r\n\r\n```\r\n@Mock\r\nprivate HelperClass helperClass;\r\n\r\n@InjectMocks\r\nprivate TestingClass testingClass;\r\n\r\n@Test\r\npublic void fooTest() {\r\n   testingClass.foo();\r\n\r\n   // can I have something like this?\r\n   verify(helperClass).call();\r\n   verifyNoMoreInteractions(helperClass);\r\n}\r\n```\r\n\r\nCan/Should I verify if a mock is called somewhere in the chain?\r\n\r\nAt the moment it says &quot;Wanted but not invoked&quot;, what does not feel right...","title":"Can I mockito verify if I have a method that I test, what calls another method in the same class what calls another&#39;s class method?","body":"<p>So I have a method (<code>foo()</code>) in class <code>TestingThis</code></p>\n<pre><code>public class TestingThis {\n    // injected another class\n    private HelperClass helperClass;\n\n    public void foo() {\n        bar();\n    }\n\n    public void bar() {\n        helperClass.call();\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>@Mock\nprivate HelperClass helperClass;\n\n@InjectMocks\nprivate TestingClass testingClass;\n\n@Test\npublic void fooTest() {\n   testingClass.foo();\n\n   // can I have something like this?\n   verify(helperClass).call();\n   verifyNoMoreInteractions(helperClass);\n}\n</code></pre>\n<p>Can/Should I verify if a mock is called somewhere in the chain?</p>\n<p>At the moment it says &quot;Wanted but not invoked&quot;, what does not feel right...</p>\n"},{"tags":["java","junit","mockito","apacheignite"],"owner":{"account_id":28884281,"reputation":1,"user_id":22123029,"display_name":"ruth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700696382,"creation_date":1700696382,"question_id":77533637,"body_markdown":"I have a class and a test class, I am trying to test the result of an ignite cache query in my class by adding a mockito test in my test class. I am having a hard time understanding what needs to be mocked and what query I have to create \r\n\r\n\r\n\r\n1) is the code portion I am trying to test, based on the data processed, I should be able to retrieve one record (id) being added to the cache. I would like to verify that the record was added successfully.\r\n\r\nquery is already defined \r\n\r\nthis code in the class is also part of a method in which return value is void\r\n\r\n1)\r\n\r\n    try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = MyCache.query(query.setArgs(id, startOfDayMillis,      endOfDayMillis))) {\r\n        if (cursor != null) {\r\n             for (List&lt;?&gt; row : cursor) {\r\n                 if (row.get(0) instanceof SomeJavaObject) {\r\n                     cacheValue = (SomeJavaObject) row.get(0);\r\n                 }\r\n             }\r\n         }\r\n     }\r\n\r\n    if (cacheValue == null) {\r\n        Session key = new SessionKey(sessionId + &quot;_T7&quot;, id, sessionTime);\r\n        SessionObject v = new SessionObject(vin);\r\n        SomeJavaObject value = new SomeJavaObject(sessionId + &quot;_T7&quot;, v);\r\n        MyCache.put(key, value); //I am trying to retrieve these values \r\n    } \r\n\r\n    when(Gen2NodeUtility.getOrCreateIgniteInstanceByType(IGNITE_CLIENT)).thenReturn(ignite);\r\n    when(ignite.cache(SomeConstants.TableName)).thenReturn(MyCache);\r\n                   \r\n\r\n    SqlFieldsQuery sqlQuery = new SqlFieldsQuery(query);\r\n    List&lt;List&lt;?&gt;&gt; cacheQuery = MyCache.query(sqlQuery).getAll();\r\n    verify(resistT7Cache, times(1)).query(sqlQuery);\r\n\r\n","title":"how to mock an apache ignite query using mockito","body":"<p>I have a class and a test class, I am trying to test the result of an ignite cache query in my class by adding a mockito test in my test class. I am having a hard time understanding what needs to be mocked and what query I have to create</p>\n<ol>\n<li>is the code portion I am trying to test, based on the data processed, I should be able to retrieve one record (id) being added to the cache. I would like to verify that the record was added successfully.</li>\n</ol>\n<p>query is already defined</p>\n<p>this code in the class is also part of a method in which return value is void</p>\n<p>1)</p>\n<pre><code>try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = MyCache.query(query.setArgs(id, startOfDayMillis,      endOfDayMillis))) {\n    if (cursor != null) {\n         for (List&lt;?&gt; row : cursor) {\n             if (row.get(0) instanceof SomeJavaObject) {\n                 cacheValue = (SomeJavaObject) row.get(0);\n             }\n         }\n     }\n }\n\nif (cacheValue == null) {\n    Session key = new SessionKey(sessionId + &quot;_T7&quot;, id, sessionTime);\n    SessionObject v = new SessionObject(vin);\n    SomeJavaObject value = new SomeJavaObject(sessionId + &quot;_T7&quot;, v);\n    MyCache.put(key, value); //I am trying to retrieve these values \n} \n\nwhen(Gen2NodeUtility.getOrCreateIgniteInstanceByType(IGNITE_CLIENT)).thenReturn(ignite);\nwhen(ignite.cache(SomeConstants.TableName)).thenReturn(MyCache);\n               \n\nSqlFieldsQuery sqlQuery = new SqlFieldsQuery(query);\nList&lt;List&lt;?&gt;&gt; cacheQuery = MyCache.query(sqlQuery).getAll();\nverify(resistT7Cache, times(1)).query(sqlQuery);\n</code></pre>\n"},{"tags":["java","appium","appium-android","appium-ios"],"answers":[{"comments":[{"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"score":0,"creation_date":1585186943,"post_id":60846105,"comment_id":107677530,"body_markdown":"Thanks for reply bro. for iOS u r using IOSElement, I am using MobileElement and it&#39;s not working. for Android it&#39;s working perfect very first time and when I am calling same function i.e. androidScrollToAnElementByText it&#39;s keep on scrolling up and down and doing nothing. any idea about this? e.g. homePage.androidScrollToAnElementByText(&quot;Account Information&quot;) after getting account information click on that and then calling next androidScrollToAnElementByText(&quot;Log Out&quot;) for this log out it keep on scrolling up and down around few times and stop.","body":"Thanks for reply bro. for iOS u r using IOSElement, I am using MobileElement and it&#39;s not working. for Android it&#39;s working perfect very first time and when I am calling same function i.e. androidScrollToAnElementByText it&#39;s keep on scrolling up and down and doing nothing. any idea about this? e.g. homePage.androidScrollToAnElementByText(&quot;Account Information&quot;) after getting account information click on that and then calling next androidScrollToAnElementByText(&quot;Log Out&quot;) for this log out it keep on scrolling up and down around few times and stop."},{"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"score":0,"creation_date":1585194736,"post_id":60846105,"comment_id":107679070,"body_markdown":"Apart from that if I give text which is not on page, then it keep on scrolling up and down for Android. no luck for iOS","body":"Apart from that if I give text which is not on page, then it keep on scrolling up and down for Android. no luck for iOS"},{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":1,"creation_date":1585217925,"post_id":60846105,"comment_id":107686286,"body_markdown":"for iOS you can use `IOSElement` ir `MobileElement` (ios element extends mobile), both of them has `getId()` methods. If it keeps scrolling, it means that there is no such element in your page. For Android, `text` is just an example. You can pass whatever you need to find your element (accessibility id, xpath or whatever). So, again, if it keeps scrolling it means that element cannot be located","body":"for iOS you can use <code>IOSElement</code> ir <code>MobileElement</code> (ios element extends mobile), both of them has <code>getId()</code> methods. If it keeps scrolling, it means that there is no such element in your page. For Android, <code>text</code> is just an example. You can pass whatever you need to find your element (accessibility id, xpath or whatever). So, again, if it keeps scrolling it means that element cannot be located"},{"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"score":0,"creation_date":1585259731,"post_id":60846105,"comment_id":107705851,"body_markdown":"For iOS: it&#39;s not scrolling. For Android yes for invalid text it;s scrolling up and down for 4 to 5 times. Is this expected? can we not keep on scrolling up and down. Thanks Bro for quick response.","body":"For iOS: it&#39;s not scrolling. For Android yes for invalid text it;s scrolling up and down for 4 to 5 times. Is this expected? can we not keep on scrolling up and down. Thanks Bro for quick response."},{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":0,"creation_date":1585303821,"post_id":60846105,"comment_id":107717654,"body_markdown":"have you used method for iOS as is that i pasted? There is a `Direction` cnum class that i am using, maybe you confused with this. I edited my post to use this without my enum","body":"have you used method for iOS as is that i pasted? There is a <code>Direction</code> cnum class that i am using, maybe you confused with this. I edited my post to use this without my enum"},{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":1,"creation_date":1585304322,"post_id":60846105,"comment_id":107717856,"body_markdown":"@Hari logic of this method is: it does one scroll iteration and try to find element, if there is no such element it keeps scrolling untill it reaches bottom of the screen. If he didn&#39;t find an element it starts the same logic but with scrolling up, and if there is no element it stops at the top os the screen.","body":"@Hari logic of this method is: it does one scroll iteration and try to find element, if there is no such element it keeps scrolling untill it reaches bottom of the screen. If he didn&#39;t find an element it starts the same logic but with scrolling up, and if there is no element it stops at the top os the screen."},{"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"score":0,"creation_date":1585314683,"post_id":60846105,"comment_id":107722643,"body_markdown":"Perfect and it&#39;s working for ios and android. One more question, I want to store option in hashmap, so there is any way I can store. Do u have code for ios and android. e.g After tapping on setting I am getting 10 option and 6 is display on screen and 4 are not but i want to store all 10 option. How do I do? e.g. https://marinetraffic.zendesk.com/hc/en-us/article_attachments/210369227/allsettings.PNG","body":"Perfect and it&#39;s working for ios and android. One more question, I want to store option in hashmap, so there is any way I can store. Do u have code for ios and android. e.g After tapping on setting I am getting 10 option and 6 is display on screen and 4 are not but i want to store all 10 option. How do I do? e.g. <a href=\"https://marinetraffic.zendesk.com/hc/en-us/article_attachments/210369227/allsettings.PNG\" rel=\"nofollow noreferrer\">marinetraffic.zendesk.com/hc/en-us/article_attachments/&hellip;</a>"},{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":0,"creation_date":1585315258,"post_id":60846105,"comment_id":107722919,"body_markdown":"@Hari first: if i answered to your question - mark my answer as &quot;best answer&quot;. For the second part: you can dynamically add options (WebElements, accessability ids or whatever you want to store) into your HashMap with `distinct` function to prevent duplicates (you can implement yoiur own logic to prevent duplicates, this is just a thought)","body":"@Hari first: if i answered to your question - mark my answer as &quot;best answer&quot;. For the second part: you can dynamically add options (WebElements, accessability ids or whatever you want to store) into your HashMap with <code>distinct</code> function to prevent duplicates (you can implement yoiur own logic to prevent duplicates, this is just a thought)"},{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":1,"creation_date":1585318832,"post_id":60846105,"comment_id":107724869,"body_markdown":"you better ask another question (but first perform some investigating)","body":"you better ask another question (but first perform some investigating)"},{"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"score":0,"creation_date":1585546006,"post_id":60846105,"comment_id":107787221,"body_markdown":"@valult23 This is in regards of androidScrollToAnElementByText which you answer the question. As I said above for incorrect text search it&#39;s keep scrolling up and down for 6 times. This i am seeing every time. Any idea why?","body":"@valult23 This is in regards of androidScrollToAnElementByText which you answer the question. As I said above for incorrect text search it&#39;s keep scrolling up and down for 6 times. This i am seeing every time. Any idea why?"}],"tags":[],"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585303854,"creation_date":1585128753,"answer_id":60846105,"question_id":60830757,"body_markdown":"These are the methods for your needs for iOS and Android:\r\n\r\n    private JavascriptExecutor js;\r\n    private HashMap&lt;String, String&gt; scrollObject = new HashMap&lt;&gt;();\r\n    \r\n    void iosScrollToAnElement(IOSElement el) {\r\n            scrollObject.put(&quot;direction&quot;, &quot;down&quot;);\r\n            scrollObject.put(&quot;element&quot;, el.getId());\r\n            js.executeScript(&quot;mobile: swipe&quot;, scrollObject);\r\n    }\r\n    \r\n    void androidScrollToAnElementByText(String text) {\r\n            try {\r\n                ((AndroidDriver)driver).findElementByAndroidUIAutomator(&quot;new UiScrollable(new UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().text(\\&quot;&quot; + text + &quot;\\&quot;).instance(0))&quot;);\r\n            } catch (Exception e) {\r\n                throw new NoSuchElementException(&quot;No element&quot; + e);\r\n            }\r\n        }\r\n\r\nafter this you need to `click()` on your particular element that you are looking for. (there methods only for scrolling)","title":"Looking to ios and android scroll up and down till element found and then click","body":"<p>These are the methods for your needs for iOS and Android:</p>\n\n<pre><code>private JavascriptExecutor js;\nprivate HashMap&lt;String, String&gt; scrollObject = new HashMap&lt;&gt;();\n\nvoid iosScrollToAnElement(IOSElement el) {\n        scrollObject.put(\"direction\", \"down\");\n        scrollObject.put(\"element\", el.getId());\n        js.executeScript(\"mobile: swipe\", scrollObject);\n}\n\nvoid androidScrollToAnElementByText(String text) {\n        try {\n            ((AndroidDriver)driver).findElementByAndroidUIAutomator(\"new UiScrollable(new UiSelector().scrollable(true).instance(0)).scrollIntoView(new UiSelector().text(\\\"\" + text + \"\\\").instance(0))\");\n        } catch (Exception e) {\n            throw new NoSuchElementException(\"No element\" + e);\n        }\n    }\n</code></pre>\n\n<p>after this you need to <code>click()</code> on your particular element that you are looking for. (there methods only for scrolling)</p>\n"},{"comments":[{"owner":{"account_id":4897132,"reputation":1111,"user_id":3946355,"display_name":"Fred Qian"},"score":2,"creation_date":1654745103,"post_id":72551273,"comment_id":128166518,"body_markdown":"Please add some explanation in addition to the code snippet.","body":"Please add some explanation in addition to the code snippet."},{"owner":{"account_id":5129087,"reputation":151,"user_id":4109960,"accept_rate":21,"display_name":"Nisim Naim"},"score":0,"creation_date":1670857416,"post_id":72551273,"comment_id":131964029,"body_markdown":"Please add some kind of guidelines or explanation.","body":"Please add some kind of guidelines or explanation."}],"tags":[],"owner":{"account_id":25509693,"reputation":9,"user_id":19301587,"display_name":"Ankur Mehta"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654716839,"creation_date":1654716839,"answer_id":72551273,"question_id":60830757,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFV95.png\r\n\r\nplease try this ","title":"Looking to ios and android scroll up and down till element found and then click","body":"<p><a href=\"https://i.stack.imgur.com/nFV95.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>please try this</p>\n"}],"owner":{"account_id":8049186,"reputation":75,"user_id":6068366,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60846105,"answer_count":2,"score":0,"last_activity_date":1700695898,"creation_date":1585051678,"question_id":60830757,"body_markdown":"I tried lot of blogs and discussion about ios &amp; android scrolling in appium, java. but looks like most of method are deprecated or not working. pls helping.\r\nI am using appium 1.15.1, java, selenium.\r\n\r\nlooking for quick help.\r\n\r\nI am trying following code but it&#39;s scrolling twice and not even clicking.\r\n\r\nHi,\r\n\r\nI am on Mac and working with real device.\r\nI am using Appium 1.15.1, Selenium, Java with POM. \r\nI wrote following code for iOS swipe down.\r\n\r\nHi,\r\n \r\n\r\n    public void chkMenuOptioniOS1(String sName)\r\n        { \t\r\n    /* This is actual path which got from inspector\r\n    //XCUIElementTypeStaticText[@name=&quot;Account Information&quot;]\r\n    */\r\n        \tString targetCell = &quot;//XCUIElementTypeStaticText[contains(@name,&#39;&quot; + sName + &quot;&#39;)]&quot;;\r\n    \t\tMobileElement cellWithText = driver.findElement(By.xpath(targetCell));\r\n    \t\tHashMap&lt;String, String&gt; scrollObject = new HashMap&lt;String, String&gt;();\r\n    \t\tscrollObject.put(&quot;element&quot;, ((RemoteWebElement)cellWithText).getId());\r\n    \t\tscrollObject.put(&quot;direction&quot;, &quot;down&quot;);\r\n    \t\tscrollObject.put(&quot;predicateString&quot;, &quot;value == &#39;&quot; + sName + &quot;&#39;&quot;);\r\n    \t\tscrollObject.put(&quot;toVisible&quot;, &quot;true&quot;);\r\n    \t\tdriver.executeScript(&quot;mobile:scroll&quot;, scrollObject);\r\n    \t\ttry {\r\n        \t\tSystem.out.println(&quot;In Try Block &quot;+cellWithText.getText());\r\n        \t\tThread.sleep(10);\r\n        \t\tcellWithText.click();\r\n        \t} catch (InterruptedException e) {\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        }\r\n\r\n1. It scrolling twice\r\n2. and it;s not clicking,\r\n\r\nAttaching DOM object screen capture.\r\n\r\nPlease help me[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XtfR9.png","title":"Looking to ios and android scroll up and down till element found and then click","body":"<p>I tried lot of blogs and discussion about ios &amp; android scrolling in appium, java. but looks like most of method are deprecated or not working. pls helping.\nI am using appium 1.15.1, java, selenium.</p>\n\n<p>looking for quick help.</p>\n\n<p>I am trying following code but it's scrolling twice and not even clicking.</p>\n\n<p>Hi,</p>\n\n<p>I am on Mac and working with real device.\nI am using Appium 1.15.1, Selenium, Java with POM. \nI wrote following code for iOS swipe down.</p>\n\n<p>Hi,</p>\n\n<pre><code>public void chkMenuOptioniOS1(String sName)\n    {   \n/* This is actual path which got from inspector\n//XCUIElementTypeStaticText[@name=\"Account Information\"]\n*/\n        String targetCell = \"//XCUIElementTypeStaticText[contains(@name,'\" + sName + \"')]\";\n        MobileElement cellWithText = driver.findElement(By.xpath(targetCell));\n        HashMap&lt;String, String&gt; scrollObject = new HashMap&lt;String, String&gt;();\n        scrollObject.put(\"element\", ((RemoteWebElement)cellWithText).getId());\n        scrollObject.put(\"direction\", \"down\");\n        scrollObject.put(\"predicateString\", \"value == '\" + sName + \"'\");\n        scrollObject.put(\"toVisible\", \"true\");\n        driver.executeScript(\"mobile:scroll\", scrollObject);\n        try {\n            System.out.println(\"In Try Block \"+cellWithText.getText());\n            Thread.sleep(10);\n            cellWithText.click();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<ol>\n<li>It scrolling twice</li>\n<li>and it;s not clicking,</li>\n</ol>\n\n<p>Attaching DOM object screen capture.</p>\n\n<p>Please help me<a href=\"https://i.stack.imgur.com/XtfR9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XtfR9.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700674315,"post_id":77530741,"comment_id":136684633,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700695895,"creation_date":1700663540,"answer_id":77530814,"question_id":77530741,"body_markdown":"It seems that you need an API key in the form of a username and password, reference: [https://www.meteomatics.com/en/weather-api/how-to-get-weather-api-key/][1]\r\n\r\nIn this article they is a pretty good documentation on how to get a key and how to use it. I consider reading it first and then if you still have issues copy/paste them here.\r\n\r\n\r\n  [1]: https://www.meteomatics.com/en/weather-api/how-to-get-weather-api-key/","title":"MeteoMatics Weather API","body":"<p>It seems that you need an API key in the form of a username and password, reference: <a href=\"https://www.meteomatics.com/en/weather-api/how-to-get-weather-api-key/\" rel=\"nofollow noreferrer\">https://www.meteomatics.com/en/weather-api/how-to-get-weather-api-key/</a></p>\n<p>In this article they is a pretty good documentation on how to get a key and how to use it. I consider reading it first and then if you still have issues copy/paste them here.</p>\n"}],"owner":{"account_id":23252269,"reputation":1,"user_id":17339843,"display_name":"jfc9419"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1700695895,"creation_date":1700662947,"question_id":77530741,"body_markdown":"I&#39;m creating an app in Java using REST services to get the weather for a location based on LONG and LAT.\r\nI have successfully been able to retrieve this data, but when I&#39;m using MateoMatics weather API it requires username and password when passed.\r\n\r\nHow do I pass this in the link?\r\nThis is the output:\r\n \r\n&gt; MetroMatics API URl: https://api.meteomatics.com/2023-11-22/t_2m:C/53.2293545,-0.5404819/json  \r\nMeteomatics API Response: No username or password provided.\r\n\r\n\r\n\r\nThis is my current code:\r\n\r\n    try{\r\n            LocalDate date = LocalDate.now();\r\n            String meteoAPIURl = &quot;https://api.meteomatics.com/&quot;+date +&quot;/&quot;+&quot;t_2m:C&quot;+&quot;/&quot;+latitude +&quot;,&quot;+longitude+&quot;/&quot;+&quot;json&quot;;\r\n            HttpClient meteoMaticsClient = HttpClient.newHttpClient();\r\n            HttpRequest meteoMaticsRequest = HttpRequest.newBuilder().uri(URI.create(meteoAPIURl)).build();\r\n            \r\n            System.out.println(&quot;MetroMatics API URl: &quot;+meteoAPIURl);\r\n            \r\n            HttpResponse&lt;String&gt;meteoResponse = meteoMaticsClient.send(meteoMaticsRequest, HttpResponse.BodyHandlers.ofString());\r\n            String meteomaticsResponseBody = meteoResponse.body();\r\n            \r\n            System.out.println(&quot;Meteomatics API Response: &quot; + meteomaticsResponseBody);\r\n        }                  \r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n","title":"MeteoMatics Weather API","body":"<p>I'm creating an app in Java using REST services to get the weather for a location based on LONG and LAT.\nI have successfully been able to retrieve this data, but when I'm using MateoMatics weather API it requires username and password when passed.</p>\n<p>How do I pass this in the link?\nThis is the output:</p>\n<blockquote>\n<p>MetroMatics API URl: <a href=\"https://api.meteomatics.com/2023-11-22/t_2m:C/53.2293545,-0.5404819/json\" rel=\"nofollow noreferrer\">https://api.meteomatics.com/2023-11-22/t_2m:C/53.2293545,-0.5404819/json</a><br />\nMeteomatics API Response: No username or password provided.</p>\n</blockquote>\n<p>This is my current code:</p>\n<pre><code>try{\n        LocalDate date = LocalDate.now();\n        String meteoAPIURl = &quot;https://api.meteomatics.com/&quot;+date +&quot;/&quot;+&quot;t_2m:C&quot;+&quot;/&quot;+latitude +&quot;,&quot;+longitude+&quot;/&quot;+&quot;json&quot;;\n        HttpClient meteoMaticsClient = HttpClient.newHttpClient();\n        HttpRequest meteoMaticsRequest = HttpRequest.newBuilder().uri(URI.create(meteoAPIURl)).build();\n        \n        System.out.println(&quot;MetroMatics API URl: &quot;+meteoAPIURl);\n        \n        HttpResponse&lt;String&gt;meteoResponse = meteoMaticsClient.send(meteoMaticsRequest, HttpResponse.BodyHandlers.ofString());\n        String meteomaticsResponseBody = meteoResponse.body();\n        \n        System.out.println(&quot;Meteomatics API Response: &quot; + meteomaticsResponseBody);\n    }                  \n    catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","jersey"],"answers":[{"comments":[{"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"score":0,"creation_date":1700271919,"post_id":77484017,"comment_id":136637903,"body_markdown":"I&#39;ve changed my question to say &quot;Application-wide&quot; instead of &quot;server-wide&quot;. I still need to solve the problem-- I can&#39;t modify my codebase to have more than one application.","body":"I&#39;ve changed my question to say &quot;Application-wide&quot; instead of &quot;server-wide&quot;. I still need to solve the problem-- I can&#39;t modify my codebase to have more than one application."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1700598449,"post_id":77484017,"comment_id":136673856,"body_markdown":"So if you have just one app, it does not affect the other applications, does it?","body":"So if you have just one app, it does not affect the other applications, does it?"},{"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"score":0,"creation_date":1700695714,"post_id":77484017,"comment_id":136687647,"body_markdown":"I only have one application. I don’t want to affect all endpoints in the application, that’s my problem.","body":"I only have one application. I don’t want to affect all endpoints in the application, that’s my problem."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1700735518,"post_id":77484017,"comment_id":136692105,"body_markdown":"Maybe you want to use [ChunkedOutput](https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/async.html#chunked-output) instead?","body":"Maybe you want to use <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/async.html#chunked-output\" rel=\"nofollow noreferrer\">ChunkedOutput</a> instead?"},{"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"score":0,"creation_date":1700835142,"post_id":77484017,"comment_id":136705068,"body_markdown":"I saw that, I don’t see how to use it in the context of an application like I am showing in the original post. If you can post a working example, that would be helpful.","body":"I saw that, I don’t see how to use it in the context of an application like I am showing in the original post. If you can post a working example, that would be helpful."}],"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699998226,"creation_date":1699998226,"answer_id":77484017,"question_id":77482635,"body_markdown":"&gt; Since the OUTBOUND_CONTENT_LENGTH_BUFFER setting is a server-wide setting\r\n\r\nThis is an Application-scoped setting. Each Application has its own set of settings and won&#39;t affect other Applications. That is if you are in the standard Application Server that supports one application per one war. \r\n\r\nYou might be on another environment that might even support multiple Applications per runtime (e.g. Helidon), but it is rare to use more than one Application in a single runtime instance.","title":"Jersey: StreamingOutput in a chunked fashion without setting OUTBOUND_CONTENT_LENGTH_BUFFER to 0?","body":"<blockquote>\n<p>Since the OUTBOUND_CONTENT_LENGTH_BUFFER setting is a server-wide setting</p>\n</blockquote>\n<p>This is an Application-scoped setting. Each Application has its own set of settings and won't affect other Applications. That is if you are in the standard Application Server that supports one application per one war.</p>\n<p>You might be on another environment that might even support multiple Applications per runtime (e.g. Helidon), but it is rare to use more than one Application in a single runtime instance.</p>\n"}],"owner":{"account_id":2856379,"reputation":364,"user_id":2452569,"display_name":"mpderbec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700695813,"creation_date":1699982748,"question_id":77482635,"body_markdown":"I am using Jersey to stream &quot;chunked&quot; output, and my client wishes to read and display partial results as they are streamed.\r\n\r\nHere is example code of what I am doing:\r\n\r\n\r\n```\r\n@Path(&quot;streaming&quot;)\r\npublic class StreamingResource {\r\n\r\n    @GET\r\n    @Produces(&quot;application/octet-stream&quot;)\r\n    public Response getStream() {\r\n        return Response.ok(new FeedReturnStreamingOutput()).build();\r\n    }\r\n\r\n    public static class FeedReturnStreamingOutput implements StreamingOutput {\r\n\r\n        @Override\r\n        public void write(OutputStream output)\r\n                throws IOException, WebApplicationException {\r\n            try {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    output.write(String.format(&quot;Hello %d\\n&quot;, i).getBytes());\r\n                    output.flush();\r\n                    TimeUnit.MILLISECONDS.sleep(500);\r\n                }\r\n            } catch (InterruptedException e) {  throw new RuntimeException(e); }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs described in https://stackoverflow.com/a/34358215/2452569, I have to add a configuration value to my server config like so, otherwise the content is not flushed as it is written:\r\n\r\n```\r\npublic class AppConfig extends ResourceConfig {\r\n    public AppConfig() {\r\n        ...\r\n        property(ServerProperties.OUTBOUND_CONTENT_LENGTH_BUFFER, 0);\r\n    }\r\n}\r\n```\r\n\r\nThis Jersey server is part of a large commercial application that, up until now, just didn&#39;t have any endpoints that required this kind of streaming.\r\n\r\nSince the `OUTBOUND_CONTENT_LENGTH_BUFFER` setting is an Application-wide setting, I&#39;m worried that setting it to zero will have negative ramifications in our customer base. I&#39;ve scoured the web to try to figure out what those could be, but I&#39;m having a hard time discerning anything concrete.\r\n\r\nSo, two questions:\r\n1. Is there any way (still using Jersey) to avoid setting this Application-wide config variable and still be able to stream from one endpoint? \r\n2. If there&#39;s no other way, can anyone describe the potential negative ramifications?","title":"Jersey: StreamingOutput in a chunked fashion without setting OUTBOUND_CONTENT_LENGTH_BUFFER to 0?","body":"<p>I am using Jersey to stream &quot;chunked&quot; output, and my client wishes to read and display partial results as they are streamed.</p>\n<p>Here is example code of what I am doing:</p>\n<pre><code>@Path(&quot;streaming&quot;)\npublic class StreamingResource {\n\n    @GET\n    @Produces(&quot;application/octet-stream&quot;)\n    public Response getStream() {\n        return Response.ok(new FeedReturnStreamingOutput()).build();\n    }\n\n    public static class FeedReturnStreamingOutput implements StreamingOutput {\n\n        @Override\n        public void write(OutputStream output)\n                throws IOException, WebApplicationException {\n            try {\n                for (int i = 0; i &lt; 10; i++) {\n                    output.write(String.format(&quot;Hello %d\\n&quot;, i).getBytes());\n                    output.flush();\n                    TimeUnit.MILLISECONDS.sleep(500);\n                }\n            } catch (InterruptedException e) {  throw new RuntimeException(e); }\n        }\n    }\n}\n</code></pre>\n<p>As described in <a href=\"https://stackoverflow.com/a/34358215/2452569\">https://stackoverflow.com/a/34358215/2452569</a>, I have to add a configuration value to my server config like so, otherwise the content is not flushed as it is written:</p>\n<pre><code>public class AppConfig extends ResourceConfig {\n    public AppConfig() {\n        ...\n        property(ServerProperties.OUTBOUND_CONTENT_LENGTH_BUFFER, 0);\n    }\n}\n</code></pre>\n<p>This Jersey server is part of a large commercial application that, up until now, just didn't have any endpoints that required this kind of streaming.</p>\n<p>Since the <code>OUTBOUND_CONTENT_LENGTH_BUFFER</code> setting is an Application-wide setting, I'm worried that setting it to zero will have negative ramifications in our customer base. I've scoured the web to try to figure out what those could be, but I'm having a hard time discerning anything concrete.</p>\n<p>So, two questions:</p>\n<ol>\n<li>Is there any way (still using Jersey) to avoid setting this Application-wide config variable and still be able to stream from one endpoint?</li>\n<li>If there's no other way, can anyone describe the potential negative ramifications?</li>\n</ol>\n"},{"tags":["java","spring","spring-cloud-config-server"],"owner":{"account_id":11509761,"reputation":1,"user_id":8434978,"display_name":"Guilherme Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700695274,"creation_date":1700695274,"question_id":77533575,"body_markdown":"I&#39;m facing an issue with communication between my Spring API application and the Spring Cloud Config Server, both running in Docker containers on the same network named &quot;guiteste.&quot; I&#39;m working on a local project and, for learning purposes, I&#39;m running each container individually (starting with the config server and then the Spring API). I&#39;m choosing not to use Docker Compose at this point, with the intention to set it up later.\r\n\r\nUpon starting my Spring API application, I&#39;m receiving the following error:\r\n\r\n`2023-11-22T22:50:12.283Z  INFO 1 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://configserver:8000/config:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:8000/config/config-server/default&quot;: Connection refused. Will be trying the next url if available\r\n`\r\n\r\nBoth containers are on the same &quot;guiteste&quot; Docker network, and I&#39;m using the container name as the address for the config server.\r\n\r\nHere are the relevant configurations:\r\n\r\n# For the Spring API:\r\n\r\n\r\n```\r\nspring.profiles.active=default\r\nspring.application.name=config-server\r\nspring.config.import=optional:configserver:http://configserver:8000/config\r\nmanagement.endpoints.web.exposure.include=*\r\n```\r\n\r\n\r\n# For the Spring Cloud Config Server:\r\n\r\n\r\n```\r\nserver.port=8000\r\nspring.application.name=config-server\r\nspring.profiles.active=native\r\nspring.cloud.config.server.native.searchLocations=file:///C:/Users/IdeaProjects/config/\r\nspring.cloud.config.server.native.cache=false\r\n```\r\n\r\nBoth containers are on the same &quot;guiteste&quot; Docker network.\r\n\r\n# Versions:\r\n\r\nJava: 19\r\nSpring Boot: 3.1.4\r\n\r\n# Question:\r\n\r\nDoes anyone have any idea why I&#39;m receiving the &quot;Connection refused&quot; error? I&#39;m open to suggestions on how to resolve this issue and make my Spring API application communicate correctly with the Spring Cloud Config Server in Docker containers.\r\n\r\nI appreciate any help in advance!\r\n\r\nI&#39;ve confirmed that both containers are on the same Docker network, and I&#39;ve verified that the ports are correctly configured. However, I&#39;m still encountering the &quot;Connection refused&quot; error. I&#39;m seeking advice from the community to see if anyone has suggestions on what might be causing this issue or if someone has encountered a similar issue and how they resolved it.\r\n\r\nAppreciate any insights or guidance!","title":"Connection Issue between Spring API and Spring Cloud Config Server in Docker Containers on the Same Network","body":"<p>I'm facing an issue with communication between my Spring API application and the Spring Cloud Config Server, both running in Docker containers on the same network named &quot;guiteste.&quot; I'm working on a local project and, for learning purposes, I'm running each container individually (starting with the config server and then the Spring API). I'm choosing not to use Docker Compose at this point, with the intention to set it up later.</p>\n<p>Upon starting my Spring API application, I'm receiving the following error:</p>\n<p><code>2023-11-22T22:50:12.283Z  INFO 1 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Exception on Url - http://configserver:8000/config:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://configserver:8000/config/config-server/default&quot;: Connection refused. Will be trying the next url if available </code></p>\n<p>Both containers are on the same &quot;guiteste&quot; Docker network, and I'm using the container name as the address for the config server.</p>\n<p>Here are the relevant configurations:</p>\n<h1>For the Spring API:</h1>\n<pre><code>spring.profiles.active=default\nspring.application.name=config-server\nspring.config.import=optional:configserver:http://configserver:8000/config\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<h1>For the Spring Cloud Config Server:</h1>\n<pre><code>server.port=8000\nspring.application.name=config-server\nspring.profiles.active=native\nspring.cloud.config.server.native.searchLocations=file:///C:/Users/IdeaProjects/config/\nspring.cloud.config.server.native.cache=false\n</code></pre>\n<p>Both containers are on the same &quot;guiteste&quot; Docker network.</p>\n<h1>Versions:</h1>\n<p>Java: 19\nSpring Boot: 3.1.4</p>\n<h1>Question:</h1>\n<p>Does anyone have any idea why I'm receiving the &quot;Connection refused&quot; error? I'm open to suggestions on how to resolve this issue and make my Spring API application communicate correctly with the Spring Cloud Config Server in Docker containers.</p>\n<p>I appreciate any help in advance!</p>\n<p>I've confirmed that both containers are on the same Docker network, and I've verified that the ports are correctly configured. However, I'm still encountering the &quot;Connection refused&quot; error. I'm seeking advice from the community to see if anyone has suggestions on what might be causing this issue or if someone has encountered a similar issue and how they resolved it.</p>\n<p>Appreciate any insights or guidance!</p>\n"},{"tags":["java","ubuntu-20.04","cytoscape"],"answers":[{"comments":[{"owner":{"account_id":20400935,"reputation":5,"user_id":14966662,"display_name":"Mells"},"score":0,"creation_date":1697100270,"post_id":77277486,"comment_id":136237896,"body_markdown":"i think it is my problem. it report this error when i run Cytoscape `java.util.zip.ZipException: Invalid CEN header (invalid extra data field size for tag: 0xbfef at 1309602)`  and freeze on the OSGi","body":"i think it is my problem. it report this error when i run Cytoscape <code>java.util.zip.ZipException: Invalid CEN header (invalid extra data field size for tag: 0xbfef at 1309602)</code>  and freeze on the OSGi"},{"owner":{"account_id":20400935,"reputation":5,"user_id":14966662,"display_name":"Mells"},"score":0,"creation_date":1697123308,"post_id":77277486,"comment_id":136242916,"body_markdown":"Thanks @ScooterMorris, i solved by updating to java 17 and installing cytoscape 3.10.1","body":"Thanks @ScooterMorris, i solved by updating to java 17 and installing cytoscape 3.10.1"}],"tags":[],"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700695218,"creation_date":1697080605,"answer_id":77277486,"question_id":77274425,"body_markdown":"There was a recent update to both Java 11 and Java 17 that broke OSGi.  Not sure if that&#39;s your problem, but I would suggest updating to Java 17 and Cytoscape 3.10.1, which has a workaround for the problem.\r\n","title":"cytoscape is stuck on iniziling OSGi","body":"<p>There was a recent update to both Java 11 and Java 17 that broke OSGi.  Not sure if that's your problem, but I would suggest updating to Java 17 and Cytoscape 3.10.1, which has a workaround for the problem.</p>\n"}],"owner":{"account_id":20400935,"reputation":5,"user_id":14966662,"display_name":"Mells"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77277486,"answer_count":1,"score":0,"last_activity_date":1700695218,"creation_date":1697037960,"question_id":77274425,"body_markdown":"i managed to install cytoscape 3.9.1 on ubuntu 20.04, but when i open it is permanently stuck on `inizializing OGSi container...`  window. i have java 11, path of java_home is set. everything is 64 bit...\r\n\r\nI tried the `disable-opencl.dummy` file in CytoscapeConfiguration folder and nothing changed. looking for solutions in the helpdesk group of cytoskape i tried also to delete the CytoscapeConfiguration file,but did not worked. i tried to change the PATH to $JAVA_HOME/bin in bashrc. nothing...Cytoscape is stuck there forever. i don&#39;t know what to do.","title":"cytoscape is stuck on iniziling OSGi","body":"<p>i managed to install cytoscape 3.9.1 on ubuntu 20.04, but when i open it is permanently stuck on <code>inizializing OGSi container...</code>  window. i have java 11, path of java_home is set. everything is 64 bit...</p>\n<p>I tried the <code>disable-opencl.dummy</code> file in CytoscapeConfiguration folder and nothing changed. looking for solutions in the helpdesk group of cytoskape i tried also to delete the CytoscapeConfiguration file,but did not worked. i tried to change the PATH to $JAVA_HOME/bin in bashrc. nothing...Cytoscape is stuck there forever. i don't know what to do.</p>\n"},{"tags":["java","swing","jframe","desktop","minimize"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1700695099,"post_id":77533559,"comment_id":136687595,"body_markdown":"There&#39;s probably no way to do this from within Java and you&#39;ll need to explore a native workflow via JNI/JNA","body":"There&#39;s probably no way to do this from within Java and you&#39;ll need to explore a native workflow via JNI/JNA"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700778345,"post_id":77533559,"comment_id":136698667,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20707831,"reputation":1,"user_id":15205237,"display_name":"Pillonix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700694960,"creation_date":1700694960,"question_id":77533559,"body_markdown":"So I&#39;ve been trying to make an application that acts basically as an icon on the desktop, where it&#39;s never minimized and always stays in the back, similarly to the Keep On Top functionality of the Windows Clock where it&#39;s not changed when the Show Desktop button is pressed, except it&#39;s always sent to the back so it&#39;s on the desktop.\r\n\r\nI&#39;ve gotten many of these aspects down, except for whenever I press the Show Desktop button, everything, including my window, minimizes.\r\n\r\nI&#39;ve tried running a while loop to constantly set the window to a restored state.\r\n\r\nI&#39;ve also tried adding a `WindowStateListener` that checks if the window state has been changed, and if so, to restore it.\r\n\r\nNeither of these stopped the Show Desktop button from minimizing them.\r\nI tried combining these and lagged my computer out to the point of force shutdown.","title":"How do I go about making a JFrame unaffected by a press of the &quot;Show Desktop&quot; button on the taskbar","body":"<p>So I've been trying to make an application that acts basically as an icon on the desktop, where it's never minimized and always stays in the back, similarly to the Keep On Top functionality of the Windows Clock where it's not changed when the Show Desktop button is pressed, except it's always sent to the back so it's on the desktop.</p>\n<p>I've gotten many of these aspects down, except for whenever I press the Show Desktop button, everything, including my window, minimizes.</p>\n<p>I've tried running a while loop to constantly set the window to a restored state.</p>\n<p>I've also tried adding a <code>WindowStateListener</code> that checks if the window state has been changed, and if so, to restore it.</p>\n<p>Neither of these stopped the Show Desktop button from minimizing them.\nI tried combining these and lagged my computer out to the point of force shutdown.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":494704,"reputation":5171,"user_id":1225882,"accept_rate":100,"display_name":"anothernode"},"score":1,"creation_date":1534843839,"post_id":51945574,"comment_id":90840600,"body_markdown":"Looks to me like the best practice for this use case would be to use a [property file](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html).","body":"Looks to me like the best practice for this use case would be to use a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">property file</a>."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1534843995,"post_id":51945574,"comment_id":90840697,"body_markdown":"I do not think that the class is not loaded.","body":"I do not think that the class is not loaded."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534844096,"post_id":51945574,"comment_id":90840748,"body_markdown":"@Jens I debug the code and the constructor isn&#39;t called.","body":"@Jens I debug the code and the constructor isn&#39;t called."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534844196,"post_id":51945574,"comment_id":90840804,"body_markdown":"@anothernode I&#39;d like to get values of some constants from the system environment variables.","body":"@anothernode I&#39;d like to get values of some constants from the system environment variables."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1534844224,"post_id":51945574,"comment_id":90840830,"body_markdown":"@ArianHosseinzadeh You have only static properties!! Why you expect a constructor call?","body":"@ArianHosseinzadeh You have only static properties!! Why you expect a constructor call?"},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534844271,"post_id":51945574,"comment_id":90840861,"body_markdown":"why the value for that static field is not instantiated then ?","body":"why the value for that static field is not instantiated then ?"},{"owner":{"account_id":5648618,"reputation":3627,"user_id":4469944,"accept_rate":50,"display_name":"S.K."},"score":0,"creation_date":1534844667,"post_id":51945574,"comment_id":90841089,"body_markdown":"Try reading some other system variable. May be your system variables are not updated and JWT_SECRET_KEY is not visible.","body":"Try reading some other system variable. May be your system variables are not updated and JWT_SECRET_KEY is not visible."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534873426,"post_id":51945574,"comment_id":90858506,"body_markdown":"@S.K. I think the problem is that eclipse doesn&#39;t pickup the value from the environment value. I set the value in the terminal, and I can see the value in `printenv` and I run eclipse on the same terminal windows, but eclipse ignores the value.","body":"@S.K. I think the problem is that eclipse doesn&#39;t pickup the value from the environment value. I set the value in the terminal, and I can see the value in <code>printenv</code> and I run eclipse on the same terminal windows, but eclipse ignores the value."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534873661,"post_id":51945574,"comment_id":90858615,"body_markdown":"I&#39;d like to mention that I restart eclipse and it recognizes other environment variables, but doesn&#39;t recognize the one I added.","body":"I&#39;d like to mention that I restart eclipse and it recognizes other environment variables, but doesn&#39;t recognize the one I added."},{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1534873940,"post_id":51945574,"comment_id":90858754,"body_markdown":"It might be related to this bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=490816","body":"It might be related to this bug: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=490816\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=490816</a>"},{"owner":{"account_id":5648618,"reputation":3627,"user_id":4469944,"accept_rate":50,"display_name":"S.K."},"score":0,"creation_date":1534908916,"post_id":51945574,"comment_id":90869314,"body_markdown":"You can add environment variables in eclipse run configuration for testing through eclipse.","body":"You can add environment variables in eclipse run configuration for testing through eclipse."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693043398,"post_id":51945574,"comment_id":135709875,"body_markdown":"`System.getenv` doesn&#39;t require any custom classes to be loaded or their constructor being called. It only reqiures the environment variable to be actually present in your process.","body":"<code>System.getenv</code> doesn&#39;t require any custom classes to be loaded or their constructor being called. It only reqiures the environment variable to be actually present in your process."}],"answers":[{"tags":[],"owner":{"account_id":2342901,"reputation":169,"user_id":2053813,"display_name":"Manjunath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534846363,"creation_date":1534846363,"answer_id":51946399,"question_id":51945574,"body_markdown":"You can make a class as bean set the initial values to it. So that you can access it across the application.","title":"Spring Boot: How to initialize a class of constant values","body":"<p>You can make a class as bean set the initial values to it. So that you can access it across the application.</p>\n"},{"tags":[],"owner":{"account_id":29970343,"reputation":1,"user_id":22967814,"display_name":"Hrutik S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700694763,"creation_date":1700694763,"answer_id":77533550,"question_id":51945574,"body_markdown":"Since all the constants are static, you can access them using the Class name.\r\nFor your case, to access JWT_SECRET you can write - SecurityConstants.JWT_SECRET","title":"Spring Boot: How to initialize a class of constant values","body":"<p>Since all the constants are static, you can access them using the Class name.\nFor your case, to access JWT_SECRET you can write - SecurityConstants.JWT_SECRET</p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8922,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1700694763,"creation_date":1534843538,"question_id":51945574,"body_markdown":"I&#39;m putting constant values of spring boot my application in a final class:\r\n\r\n    public final class SecurityConstants {\r\n    \t/*\r\n    \t * Authentication will only be initiated for the requests with matching URLs\r\n    \t */\r\n    \tprotected final static String DEFAULT_FILTER_PROCESS_URL = &quot;/mypath/**&quot;;\r\n    \r\n    \tpublic static final String AUTHENTICATION_HEADER = &quot;Authorization&quot;;\r\n    \r\n    \tpublic static final String BEARER = &quot;Bearer&quot;;\r\n    \r\n    \tpublic static final String JWT_SECRET = System.getenv(&quot;JWT_SECRET_KEY&quot;);\r\n    \r\n    \tpublic static final long EXPIRATIONTIME = 864_000_000; // 10 days\r\n    \r\n    }\r\n\r\nThe problem is that when I access the `JWT_SECRET` value it&#39;s null, because the class is not loaded. I don&#39;t think it makes sense to annotate this class with `@Component`. I&#39;m wondering how I should load the class and initialize these constants.","title":"Spring Boot: How to initialize a class of constant values","body":"<p>I'm putting constant values of spring boot my application in a final class:</p>\n\n<pre><code>public final class SecurityConstants {\n    /*\n     * Authentication will only be initiated for the requests with matching URLs\n     */\n    protected final static String DEFAULT_FILTER_PROCESS_URL = \"/mypath/**\";\n\n    public static final String AUTHENTICATION_HEADER = \"Authorization\";\n\n    public static final String BEARER = \"Bearer\";\n\n    public static final String JWT_SECRET = System.getenv(\"JWT_SECRET_KEY\");\n\n    public static final long EXPIRATIONTIME = 864_000_000; // 10 days\n\n}\n</code></pre>\n\n<p>The problem is that when I access the <code>JWT_SECRET</code> value it's null, because the class is not loaded. I don't think it makes sense to annotate this class with <code>@Component</code>. I'm wondering how I should load the class and initialize these constants.</p>\n"},{"tags":["java","android","text","addition"],"owner":{"account_id":28989104,"reputation":1,"user_id":22205310,"display_name":"the emirate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700694366,"creation_date":1700694366,"question_id":77533529,"body_markdown":"How do I create a specific login id to a specific text or to a specific line of text in android studio but after trying several I couldn&#39;t get it but I try some method like admin and user log in \r\n\r\nHave try several ways but won&#39;t work ","title":"How to create a specific login id to a specific text in android studio","body":"<p>How do I create a specific login id to a specific text or to a specific line of text in android studio but after trying several I couldn't get it but I try some method like admin and user log in</p>\n<p>Have try several ways but won't work</p>\n"},{"tags":["java","kotlin","kotlin-multiplatform","kotlin-native"],"comments":[{"owner":{"account_id":1132561,"reputation":3146,"user_id":1118307,"accept_rate":42,"display_name":"vpiTriumph"},"score":0,"creation_date":1700605215,"post_id":77526178,"comment_id":136674764,"body_markdown":"The linked provided explains how to call Java code from kotlin-jvm.  This is well understood and documented.  It&#39;s a simpler technical problem because, in this case, the Kotlin code is running off the JVM too.\n\nThe important part of my question is that it pertains to Kotlin native specifically.","body":"The linked provided explains how to call Java code from kotlin-jvm.  This is well understood and documented.  It&#39;s a simpler technical problem because, in this case, the Kotlin code is running off the JVM too.  The important part of my question is that it pertains to Kotlin native specifically."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1700605248,"post_id":77526178,"comment_id":136674767,"body_markdown":"Ah sorry, I glossed over that.","body":"Ah sorry, I glossed over that."},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1700690150,"post_id":77526178,"comment_id":136687018,"body_markdown":"JNI is for calling native code _from_ Java, not the other way around, so I can&#39;t see how it could help.  In the case of Kotlin/Native, there _is_ no JVM running, and so calling Java code will necessarily involve starting one — and I don&#39;t think Kotlin/Native has any special way of doing that (after all, it&#39;s intended to be platform-neutral!), so I suspect the only practical way is (as you say) to start it like you would any other program.","body":"JNI is for calling native code <i>from</i> Java, not the other way around, so I can&#39;t see how it could help.  In the case of Kotlin/Native, there <i>is</i> no JVM running, and so calling Java code will necessarily involve starting one — and I don&#39;t think Kotlin/Native has any special way of doing that (after all, it&#39;s intended to be platform-neutral!), so I suspect the only practical way is (as you say) to start it like you would any other program."}],"answers":[{"tags":[],"owner":{"account_id":9869929,"reputation":2144,"user_id":7309962,"display_name":"Evgeny K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700693761,"creation_date":1700693761,"answer_id":77533494,"question_id":77526178,"body_markdown":"The answer is yes, you can. But I would never recommend this. For MacOS and Android targets it will be better use JVM target for Kotlin instead of Kotlin/Native. Performance and developer experience will be much better this way.\r\n\r\nIf you really want to use Kotlin/Native you need first compile your java library using [Java AOT](https://openjdk.org/jeps/295) for every native target, and then use [Kotlin/Native cinterop](https://kotlinlang.org/docs/native-c-interop.html).\r\n\r\nJNI is completely opposite technology, it allows to use native libraries in JVM, not other way around.","title":"Call Java library from Kotlin Native","body":"<p>The answer is yes, you can. But I would never recommend this. For MacOS and Android targets it will be better use JVM target for Kotlin instead of Kotlin/Native. Performance and developer experience will be much better this way.</p>\n<p>If you really want to use Kotlin/Native you need first compile your java library using <a href=\"https://openjdk.org/jeps/295\" rel=\"nofollow noreferrer\">Java AOT</a> for every native target, and then use <a href=\"https://kotlinlang.org/docs/native-c-interop.html\" rel=\"nofollow noreferrer\">Kotlin/Native cinterop</a>.</p>\n<p>JNI is completely opposite technology, it allows to use native libraries in JVM, not other way around.</p>\n"}],"owner":{"account_id":1132561,"reputation":3146,"user_id":1118307,"accept_rate":42,"display_name":"vpiTriumph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700693761,"creation_date":1700604118,"question_id":77526178,"body_markdown":"I am using Kotlin Native to create code that will run on two separate operating systems (MacOS and Android).  Both machines will have JVMs installed.\r\n\r\nI have a Java library that cannot be rewritten in Kotlin, as it relies on an open-souce third party Java dependency -- specifically [WireMock](https://github.com/wiremock) but I don&#39;t think that&#39;s relevant to answer the broader question.\r\n\r\nAre there options for Java interop beyond invoking a standalone JAR from the Native shell/terminal?  Is there something that can be achieved via the JNI to allow for programatic invocation of the JAR from Kotlin Native?","title":"Call Java library from Kotlin Native","body":"<p>I am using Kotlin Native to create code that will run on two separate operating systems (MacOS and Android).  Both machines will have JVMs installed.</p>\n<p>I have a Java library that cannot be rewritten in Kotlin, as it relies on an open-souce third party Java dependency -- specifically <a href=\"https://github.com/wiremock\" rel=\"nofollow noreferrer\">WireMock</a> but I don't think that's relevant to answer the broader question.</p>\n<p>Are there options for Java interop beyond invoking a standalone JAR from the Native shell/terminal?  Is there something that can be achieved via the JNI to allow for programatic invocation of the JAR from Kotlin Native?</p>\n"},{"tags":["java","android","mobile","android-tv","screensaver"],"comments":[{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1700721342,"post_id":77533451,"comment_id":136689643,"body_markdown":"lonut, Is it not working with specific android device or API level?","body":"lonut, Is it not working with specific android device or API level?"},{"owner":{"account_id":8341093,"reputation":43,"user_id":6266392,"display_name":"Duliba Ionut"},"score":0,"creation_date":1700751633,"post_id":77533451,"comment_id":136695026,"body_markdown":"@Harshali It&#39; not working for any android device","body":"@Harshali It&#39; not working for any android device"},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":1,"creation_date":1700793574,"post_id":77533451,"comment_id":136699707,"body_markdown":"Try with xml file, add `android:keepScreenOn=&quot;true&quot;` in your activity_main xml file.","body":"Try with xml file, add <code>android:keepScreenOn=&quot;true&quot;</code> in your activity_main xml file."},{"owner":{"account_id":8341093,"reputation":43,"user_id":6266392,"display_name":"Duliba Ionut"},"score":0,"creation_date":1700837102,"post_id":77533451,"comment_id":136705397,"body_markdown":"@Harshali I am also using a WebView, I guess I also need `mWebView = findViewById(R.id.webview);\n        mWebView.setKeepScreenOn(true);`","body":"@Harshali I am also using a WebView, I guess I also need <code>mWebView = findViewById(R.id.webview);         mWebView.setKeepScreenOn(true);</code>"},{"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"score":0,"creation_date":1700839923,"post_id":77533451,"comment_id":136705837,"body_markdown":"Does it works? set `setKeepScreenOn` to webView keep your screen on?","body":"Does it works? set <code>setKeepScreenOn</code> to webView keep your screen on?"}],"owner":{"account_id":8341093,"reputation":43,"user_id":6266392,"display_name":"Duliba Ionut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700692819,"creation_date":1700692819,"question_id":77533451,"body_markdown":"I have a product that is a web app running on android wrapped app on TVs.\r\nOver time the app is timing out and going to screen saver.\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n   \r\n            setContentView(R.layout.activity_main);\r\n            startWebview();\r\n            Objects.requireNonNull(getSupportActionBar()).hide();\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n    \r\n            generateUniqueIdentifier();\r\n    \r\n        }\r\n\r\nI have added             **getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);**\r\nbut screen saver still appears\r\n\r\nAlso in \r\n\r\n  \r\n\r\n      @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n    \r\n            if (mWebView != null) {\r\n                mWebView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LOW_PROFILE\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n            }\r\n    \r\n        }\r\n\r\nIs there a way to stop the screen saver from going on?\r\n","title":"Prevent Screen Saver From Appearing on Android TV","body":"<p>I have a product that is a web app running on android wrapped app on TVs.\nOver time the app is timing out and going to screen saver.</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n        startWebview();\n        Objects.requireNonNull(getSupportActionBar()).hide();\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n        generateUniqueIdentifier();\n\n    }\n</code></pre>\n<p>I have added             <strong>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);</strong>\nbut screen saver still appears</p>\n<p>Also in</p>\n<pre><code>  @Override\n    protected void onResume() {\n        super.onResume();\n        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n\n        if (mWebView != null) {\n            mWebView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LOW_PROFILE\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n        }\n\n    }\n</code></pre>\n<p>Is there a way to stop the screen saver from going on?</p>\n"},{"tags":["java","ant"],"answers":[{"tags":[],"owner":{"account_id":3312105,"reputation":17055,"user_id":2785358,"display_name":"Alcanzar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1416595186,"creation_date":1416595186,"answer_id":27068101,"question_id":27068064,"body_markdown":"Window/Show View/Ant, drag build.xml into that window, and you can double click on any of the tasks defined in your build.xml","title":"How to run `ant clean` from Eclipse","body":"<p>Window/Show View/Ant, drag build.xml into that window, and you can double click on any of the tasks defined in your build.xml</p>\n"},{"tags":[],"owner":{"account_id":5176790,"reputation":118,"user_id":4143637,"display_name":"Karpinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507143473,"creation_date":1416595855,"answer_id":27068261,"question_id":27068064,"body_markdown":"Right click on the build.xml &gt; Run As &gt; Ant Build...\r\n\r\nOn Targets tab, check clean option.\r\n","title":"How to run `ant clean` from Eclipse","body":"<p>Right click on the build.xml > Run As > Ant Build...</p>\n\n<p>On Targets tab, check clean option.</p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27068101,"answer_count":2,"score":0,"last_activity_date":1700692704,"creation_date":1416595059,"question_id":27068064,"body_markdown":"Like I can run an `ant build` by right-clicking on `build.xml`, and selecting Run as --&gt; Ant build, how do I do the same thing for `ant clean`?\r\n","title":"How to run `ant clean` from Eclipse","body":"<p>Like I can run an <code>ant build</code> by right-clicking on <code>build.xml</code>, and selecting Run as --&gt; Ant build, how do I do the same thing for <code>ant clean</code>?</p>\n"},{"tags":["java","exception"],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700082183,"answer_count":0,"score":-1,"last_activity_date":1700692666,"creation_date":1700082026,"question_id":77490891,"body_markdown":"I am trying to understand how exception handling works in a nested try catch vs regular try/catch. While this may seem basic, I find it rather tricky to understand. See my inline questions in this code: \r\n\r\n        Scenario 1\r\n            try {\r\n        \t  try {\r\n        \t\t//do something\r\n        \t   }catch(Exception ex) {\r\n               \tthrow new IOException(&quot;IOException occured&quot;);\r\n        \t  }\r\n            } catch (Exception ex) {\r\n        \tif(ex instanceOf IOException) {\r\n        \t\t//do something - My assumption is the exception being thrown in inner catch is being caught here\r\n        \t}\r\n        }\r\n        \r\n        \r\n       Scenario 2\r\n        try {\r\n        \t//do something\r\n        \tthrow new IOException;\r\n        } catch(Exception ex) {\r\n        \tif(ex instanceOf IOException) {\r\n        \t\t//do something - will this get caught here?\r\n        \t}\r\n        \r\n        }\r\n        \r\n    Scenario 3\r\n        try {\r\n        \t//do something\r\n        } catch(IOException ex) {\r\n        \r\n          } catch(IOException ex) {\r\n        \tthrow ex; // will this get caught in the calling method&#39;s catch block?\r\n          }\r\n        \r\n        }\r\n\r\n    ","title":"Exception handling in Java in case of nested try catch vs regular try catch","body":"<p>I am trying to understand how exception handling works in a nested try catch vs regular try/catch. While this may seem basic, I find it rather tricky to understand. See my inline questions in this code:</p>\n<pre><code>    Scenario 1\n        try {\n          try {\n            //do something\n           }catch(Exception ex) {\n            throw new IOException(&quot;IOException occured&quot;);\n          }\n        } catch (Exception ex) {\n        if(ex instanceOf IOException) {\n            //do something - My assumption is the exception being thrown in inner catch is being caught here\n        }\n    }\n    \n    \n   Scenario 2\n    try {\n        //do something\n        throw new IOException;\n    } catch(Exception ex) {\n        if(ex instanceOf IOException) {\n            //do something - will this get caught here?\n        }\n    \n    }\n    \nScenario 3\n    try {\n        //do something\n    } catch(IOException ex) {\n    \n      } catch(IOException ex) {\n        throw ex; // will this get caught in the calling method's catch block?\n      }\n    \n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":5494298,"reputation":698,"user_id":4365969,"accept_rate":100,"display_name":"0xtvarun"},"score":0,"creation_date":1513777083,"post_id":47907174,"comment_id":82781666,"body_markdown":"Data in Kafka pipelines are immutable","body":"Data in Kafka pipelines are immutable"}],"answers":[{"comments":[{"owner":{"account_id":4295121,"reputation":21,"user_id":3510389,"display_name":"Prashanth"},"score":0,"creation_date":1513837885,"post_id":47917070,"comment_id":82805916,"body_markdown":"Thanks for the reply Matthias :-). I will try both methods","body":"Thanks for the reply Matthias :-). I will try both methods"}],"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700691602,"creation_date":1513823334,"answer_id":47917070,"question_id":47907174,"body_markdown":"If you configure a topic with `CreateTime` the timestamp store will be the timestamp provided by the producer.\r\n\r\nFor a plain `KafkaProducer` if you don&#39;t specify the timestamp explicitly, `KafkaProducer` uses `System.currentTimeMillis()` and sends the message to the broker.\r\n\r\nFor Kafka Streams, if you read input records with certain timestamps, there is dedicate timestamp inference logic to compute the timestamp for the result records. Thus, Kafka Streams set the timestamp explicitly when handing it to the internally used `KafkaProducer` and thus the producer does just use this timestamp and does not use current wall-clock-time. For stream processing, this is usually desired behavior.\r\n\r\nIf you have a simple pipeline that just copies data from one topic to another, the timestamp inference will use the input record timestamp as output record timestamp.\r\n\r\nThere are two thing you can do to get different semantics:\r\n\r\n 1. Configure `WallClockTimestampExtractor` for you Kafka Streams application. For this case, Kafka Stream will not use the embedded record timestamp but the current wall-clock time to derive the timestamp of the output record.\r\n 2. Configure your output topic with `AppendTime` instead of `CreateTime`. For this case, the broker always overwrites the record timestamp provided by the producer with current broker wall-clock time.","title":"input record timestamp and output record timestamp is same across both source and sink topics?","body":"<p>If you configure a topic with <code>CreateTime</code> the timestamp store will be the timestamp provided by the producer.</p>\n<p>For a plain <code>KafkaProducer</code> if you don't specify the timestamp explicitly, <code>KafkaProducer</code> uses <code>System.currentTimeMillis()</code> and sends the message to the broker.</p>\n<p>For Kafka Streams, if you read input records with certain timestamps, there is dedicate timestamp inference logic to compute the timestamp for the result records. Thus, Kafka Streams set the timestamp explicitly when handing it to the internally used <code>KafkaProducer</code> and thus the producer does just use this timestamp and does not use current wall-clock-time. For stream processing, this is usually desired behavior.</p>\n<p>If you have a simple pipeline that just copies data from one topic to another, the timestamp inference will use the input record timestamp as output record timestamp.</p>\n<p>There are two thing you can do to get different semantics:</p>\n<ol>\n<li>Configure <code>WallClockTimestampExtractor</code> for you Kafka Streams application. For this case, Kafka Stream will not use the embedded record timestamp but the current wall-clock time to derive the timestamp of the output record.</li>\n<li>Configure your output topic with <code>AppendTime</code> instead of <code>CreateTime</code>. For this case, the broker always overwrites the record timestamp provided by the producer with current broker wall-clock time.</li>\n</ol>\n"}],"owner":{"account_id":4295121,"reputation":21,"user_id":3510389,"display_name":"Prashanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700691602,"creation_date":1513776591,"question_id":47907174,"body_markdown":"I create kafka streaming application using Processor API.\r\n\r\nHere is how i create a topic to attach timestamp to all incoming messages\r\n&gt; kafka-topics.sh --create --zookeeper localhost:2181\r\n&gt; --replication-factor 1 --partitions 1 --topic topicName --config  message.timestamp.type=**CreateTime**\r\n\r\nThe workflow is processing the incoming messages from source topic and posting it to sink topic. For some strange reason, I have seen same timestamp coming in both source and sink topic messages. \r\nSay for ex, in source topic for a message create time is **T0** , that remains same in sink topic as well.\r\n\r\nWhat do i need to do to see the updated timestamp in the sink topic messages?","title":"input record timestamp and output record timestamp is same across both source and sink topics?","body":"<p>I create kafka streaming application using Processor API.</p>\n\n<p>Here is how i create a topic to attach timestamp to all incoming messages</p>\n\n<blockquote>\n  <p>kafka-topics.sh --create --zookeeper localhost:2181\n  --replication-factor 1 --partitions 1 --topic topicName --config  message.timestamp.type=<strong>CreateTime</strong></p>\n</blockquote>\n\n<p>The workflow is processing the incoming messages from source topic and posting it to sink topic. For some strange reason, I have seen same timestamp coming in both source and sink topic messages. \nSay for ex, in source topic for a message create time is <strong>T0</strong> , that remains same in sink topic as well.</p>\n\n<p>What do i need to do to see the updated timestamp in the sink topic messages?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700667698,"post_id":77531180,"comment_id":136683263,"body_markdown":"Perhaps the parent provides a builder that wraps the creation of a WebClient?  The builder   would handle the common required configuration internally, and exposes fluent methods for the app specific configuration.","body":"Perhaps the parent provides a builder that wraps the creation of a WebClient?  The builder   would handle the common required configuration internally, and exposes fluent methods for the app specific configuration."},{"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"score":0,"creation_date":1700669094,"post_id":77531180,"comment_id":136683565,"body_markdown":"I imagined that this is a possible approach. Im not sure if its the best or right approach, but if so -  The question now is how do I make `WebClient.build()` return my new builder instead of the default one?  And another question that i didnt specify in my original question - would i still be able to apply custom configurations to a new WebClient if needed?","body":"I imagined that this is a possible approach. Im not sure if its the best or right approach, but if so -  The question now is how do I make <code>WebClient.build()</code> return my new builder instead of the default one?  And another question that i didnt specify in my original question - would i still be able to apply custom configurations to a new WebClient if needed?"}],"answers":[{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700672234,"creation_date":1700671507,"answer_id":77531766,"question_id":77531180,"body_markdown":"Follow up from the comments:\r\n\r\nprovided by the parent - a builder that wraps the `WebClient` builder so common configuration can always be applied.\r\n\r\n    public class StandardWebClientBuilder {\r\n        private static final long CONNECT_TIMEOUT_MILLIS = 1000;\r\n        private String baseUrl;\r\n\r\n        public static StandardWebClientBuilder builder()  {\r\n            return new StandardWebClientBuilder();\r\n        }\r\n\r\n        // provide methods as needed so app can customize some, but not all, properties\r\n        public StandardWebClientBuilder baseUrl(String baseUrl) {\r\n            this.baseUrl = baseUrl;   \r\n            return this;\r\n        }\r\n\r\n        public WebClient build() {\r\n            var httpClient = HttpClient.create()\r\n\t\t        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, CONNECT_TIMEOUT_MILLIS );\r\n\r\n             return WebClient.builder()\r\n\t\t         .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                 .baseUrl(baseUrl)\r\n\t\t         .build();\r\n         }\r\n    }\r\n\r\nand used by the app - there can be multiple instances, each with their own customization, but all using the standard properties defined by the parent.\r\n\r\n\r\n    @Bean(&quot;Service1Client&quot;)\r\n    public WebClient buildService1Client(@Value(&quot;service1.baseUrl&quot;) String baseUrl) {\r\n        return StandardWebClientBuilder.builder()\r\n           .baseUrl(baseUrl)\r\n           .build();\r\n    }\r\n\r\n    @Bean(&quot;Service2Client&quot;)\r\n    public WebClient buildService2Client(@Value(&quot;service2.baseUrl&quot;) String baseUrl) {\r\n        return StandardWebClientBuilder.builder()\r\n           .baseUrl(baseUrl)\r\n           .build();\r\n    }\r\n\r\nOther processes, such as code review or static code analysis, would have to ensure `StandardWebClientBuilder` was used by the app instead of directly using `WebClient.builder`.","title":"The best way to pre-configure all instances of WebClient globally?","body":"<p>Follow up from the comments:</p>\n<p>provided by the parent - a builder that wraps the <code>WebClient</code> builder so common configuration can always be applied.</p>\n<pre><code>public class StandardWebClientBuilder {\n    private static final long CONNECT_TIMEOUT_MILLIS = 1000;\n    private String baseUrl;\n\n    public static StandardWebClientBuilder builder()  {\n        return new StandardWebClientBuilder();\n    }\n\n    // provide methods as needed so app can customize some, but not all, properties\n    public StandardWebClientBuilder baseUrl(String baseUrl) {\n        this.baseUrl = baseUrl;   \n        return this;\n    }\n\n    public WebClient build() {\n        var httpClient = HttpClient.create()\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, CONNECT_TIMEOUT_MILLIS );\n\n         return WebClient.builder()\n             .clientConnector(new ReactorClientHttpConnector(httpClient))\n             .baseUrl(baseUrl)\n             .build();\n     }\n}\n</code></pre>\n<p>and used by the app - there can be multiple instances, each with their own customization, but all using the standard properties defined by the parent.</p>\n<pre><code>@Bean(&quot;Service1Client&quot;)\npublic WebClient buildService1Client(@Value(&quot;service1.baseUrl&quot;) String baseUrl) {\n    return StandardWebClientBuilder.builder()\n       .baseUrl(baseUrl)\n       .build();\n}\n\n@Bean(&quot;Service2Client&quot;)\npublic WebClient buildService2Client(@Value(&quot;service2.baseUrl&quot;) String baseUrl) {\n    return StandardWebClientBuilder.builder()\n       .baseUrl(baseUrl)\n       .build();\n}\n</code></pre>\n<p>Other processes, such as code review or static code analysis, would have to ensure <code>StandardWebClientBuilder</code> was used by the app instead of directly using <code>WebClient.builder</code>.</p>\n"},{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700690168,"creation_date":1700675443,"answer_id":77532173,"question_id":77531180,"body_markdown":"The [Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.rest-client.webclient) recommends:\r\n\r\n&gt; Spring Boot creates and pre-configures a WebClient.Builder for you. It is strongly advised to inject it in your components and use it to create WebClient instances.\r\n\r\nThe Spring Boot documentation further describes how to [customize the WebClient.Builder](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.rest-client.webclient.customization):\r\n\r\n&gt; To make the scope of any customizations as narrow as possible, inject the auto-configured WebClient.Builder and then call its methods as required. WebClient.Builder instances are stateful: Any change on the builder is reflected in all clients subsequently created with it. If you want to create several clients with the same builder, you can also consider cloning the builder with `WebClient.Builder other = builder.clone();`.\r\n\r\n&gt; To make an application-wide, additive customization to all WebClient.Builder instances, you can declare [WebClientCustomizer](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/reactive/function/client/WebClientCustomizer.html) beans and change the WebClient.Builder locally at the point of injection.\r\n","title":"The best way to pre-configure all instances of WebClient globally?","body":"<p>The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.rest-client.webclient\" rel=\"nofollow noreferrer\">Spring Boot documentation</a> recommends:</p>\n<blockquote>\n<p>Spring Boot creates and pre-configures a WebClient.Builder for you. It is strongly advised to inject it in your components and use it to create WebClient instances.</p>\n</blockquote>\n<p>The Spring Boot documentation further describes how to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#io.rest-client.webclient.customization\" rel=\"nofollow noreferrer\">customize the WebClient.Builder</a>:</p>\n<blockquote>\n<p>To make the scope of any customizations as narrow as possible, inject the auto-configured WebClient.Builder and then call its methods as required. WebClient.Builder instances are stateful: Any change on the builder is reflected in all clients subsequently created with it. If you want to create several clients with the same builder, you can also consider cloning the builder with <code>WebClient.Builder other = builder.clone();</code>.</p>\n</blockquote>\n<blockquote>\n<p>To make an application-wide, additive customization to all WebClient.Builder instances, you can declare <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/reactive/function/client/WebClientCustomizer.html\" rel=\"nofollow noreferrer\">WebClientCustomizer</a> beans and change the WebClient.Builder locally at the point of injection.</p>\n</blockquote>\n"}],"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700690168,"creation_date":1700666510,"question_id":77531180,"body_markdown":"TL;DR - I am looking for the best way to provide all instances of WebClient in a single application some base configurations, like defining a timeout, by defining it in a single piece of code.\r\n\r\nI need to be able to manage the configuration of WebClient objects in multiple springboot projects. The goal is to make sure that these projects are following certain policies. \r\nFor example, all WebClient objects instantiated in each of these projects should have `CONNECT_TIMEOUT_MILLIS` set to 1000 miliseconds. Another example is manipulating the request header of each request made by a WebClient.\r\n\r\nI know that my examples can perhaps be solved in better ways (filters for header manipulation for example) but I chose these simple examples to learn about solutions that are related specifically to WebClient manipulation.\r\n\r\nI am creating a starter project that all of these projects would use as a parent. Through this project they will obtain their equivalent of `spring-boot-starter-webflux`.\r\n\r\nIf I would have used a RestTemplate, id simply define it as a bean in the starter dependency project and autowire it in each child project. The problem is that I do not want to have a single WebClient per project, but want to have the ability to build multiple WebClients per project that adhere to these pre-configured configurations, otherwise I would not be able to use the full potential of webflux.\r\n\r\nWhat would be the best way to solve this requirement without limiting myself to a single WebClient instance per application?\r\n","title":"The best way to pre-configure all instances of WebClient globally?","body":"<p>TL;DR - I am looking for the best way to provide all instances of WebClient in a single application some base configurations, like defining a timeout, by defining it in a single piece of code.</p>\n<p>I need to be able to manage the configuration of WebClient objects in multiple springboot projects. The goal is to make sure that these projects are following certain policies.\nFor example, all WebClient objects instantiated in each of these projects should have <code>CONNECT_TIMEOUT_MILLIS</code> set to 1000 miliseconds. Another example is manipulating the request header of each request made by a WebClient.</p>\n<p>I know that my examples can perhaps be solved in better ways (filters for header manipulation for example) but I chose these simple examples to learn about solutions that are related specifically to WebClient manipulation.</p>\n<p>I am creating a starter project that all of these projects would use as a parent. Through this project they will obtain their equivalent of <code>spring-boot-starter-webflux</code>.</p>\n<p>If I would have used a RestTemplate, id simply define it as a bean in the starter dependency project and autowire it in each child project. The problem is that I do not want to have a single WebClient per project, but want to have the ability to build multiple WebClients per project that adhere to these pre-configured configurations, otherwise I would not be able to use the full potential of webflux.</p>\n<p>What would be the best way to solve this requirement without limiting myself to a single WebClient instance per application?</p>\n"},{"tags":["java","expression","predicate","aerospike"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700690030,"creation_date":1700689678,"answer_id":77533256,"question_id":77529037,"body_markdown":"Looks like you asked the same question here: https://discuss.aerospike.com/t/replacement-for-predexp-on-a-list-bin-of-strings/10657/2 - I validated your Expression construct. (I had used `listValueExp` there, now referred below.)  You have added more color to your question here. So let me continue:\r\nFor a read query:  `query(QueryPolicy qPolicy, Statement stmt)` you will specify the Secondary Index filter (if you are using one) in the Statement object and the filter expression to be applied after records that match the SI using the QueryPolicy object.  e.g.\r\n\r\n`stmt.setFilter(Filter.range(&quot;age&quot;,20,60));` -- for SI\r\n\r\n`qPolicy.filterExp = listValueExp;`   -- for expression based subsequent filtering. Hope this clarifies.","title":"Replacement for PredExp on a list bin","body":"<p>Looks like you asked the same question here: <a href=\"https://discuss.aerospike.com/t/replacement-for-predexp-on-a-list-bin-of-strings/10657/2\" rel=\"nofollow noreferrer\">https://discuss.aerospike.com/t/replacement-for-predexp-on-a-list-bin-of-strings/10657/2</a> - I validated your Expression construct. (I had used <code>listValueExp</code> there, now referred below.)  You have added more color to your question here. So let me continue:\nFor a read query:  <code>query(QueryPolicy qPolicy, Statement stmt)</code> you will specify the Secondary Index filter (if you are using one) in the Statement object and the filter expression to be applied after records that match the SI using the QueryPolicy object.  e.g.</p>\n<p><code>stmt.setFilter(Filter.range(&quot;age&quot;,20,60));</code> -- for SI</p>\n<p><code>qPolicy.filterExp = listValueExp;</code>   -- for expression based subsequent filtering. Hope this clarifies.</p>\n"}],"owner":{"account_id":20336063,"reputation":1,"user_id":14916732,"display_name":"Avanish Ghosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700690030,"creation_date":1700648166,"question_id":77529037,"body_markdown":"I have a bin of type List&lt;String&gt;. I want to query and get the records for which this bin has a value equal to variable &#39;val&#39;, lets say. Using PredExp this can be done using: \r\n``` \r\npredExps = Arrays.asList(\r\nPredExp.stringVar(&quot;v&quot;),\r\nPredExp.stringValue(String.valueOf(val)),\r\nPredExp.stringEqual(),\r\nPredExp.listBin(fieldName),\r\nPredExp.listIterateOr(&quot;v&quot;)); \r\n``` \r\nAfter PredExp has been deprecated 6.0.0 onwards, how can the same behaviour be replicated? I am using expressions for the same, but it&#39;s not working as expected. \r\n``` \r\nexp = Exp.build( \r\nListExp.getByValue( \r\nListReturnType.VALUE, Exp.val(String.valueOf(val)),\r\nExp.listBin(fieldName) ) ); \r\n```\r\n\r\nI used expression to replicate the issue, but I think I might have to use a filter inside of statement. I already have a filter getting passed in statement for the query. Can two filters be merged into one?","title":"Replacement for PredExp on a list bin","body":"<p>I have a bin of type List. I want to query and get the records for which this bin has a value equal to variable 'val', lets say. Using PredExp this can be done using:</p>\n<pre><code>predExps = Arrays.asList(\nPredExp.stringVar(&quot;v&quot;),\nPredExp.stringValue(String.valueOf(val)),\nPredExp.stringEqual(),\nPredExp.listBin(fieldName),\nPredExp.listIterateOr(&quot;v&quot;)); \n</code></pre>\n<p>After PredExp has been deprecated 6.0.0 onwards, how can the same behaviour be replicated? I am using expressions for the same, but it's not working as expected.</p>\n<pre><code>exp = Exp.build( \nListExp.getByValue( \nListReturnType.VALUE, Exp.val(String.valueOf(val)),\nExp.listBin(fieldName) ) ); \n</code></pre>\n<p>I used expression to replicate the issue, but I think I might have to use a filter inside of statement. I already have a filter getting passed in statement for the query. Can two filters be merged into one?</p>\n"},{"tags":["java","hikaricp"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1632312472,"post_id":69283032,"comment_id":122457010,"body_markdown":"What version of oracle jdbc are you using?","body":"What version of oracle jdbc are you using?"},{"owner":{"account_id":2806364,"reputation":405,"user_id":2413527,"accept_rate":38,"display_name":"orion_kid"},"score":0,"creation_date":1632314118,"post_id":69283032,"comment_id":122457759,"body_markdown":"&lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.3&lt;/version&gt;","body":"&lt;groupId&gt;com.oracle&lt;/groupId&gt;             &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;             &lt;version&gt;19.3&lt;/version&gt;"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1632314228,"post_id":69283032,"comment_id":122457813,"body_markdown":"Can you try using \n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;21.3.0.0&lt;/version&gt;","body":"Can you try using      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;     &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;     &lt;version&gt;21.3.0.0&lt;/version&gt;"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1632315006,"post_id":69283032,"comment_id":122458176,"body_markdown":"show your configuration","body":"show your configuration"}],"answers":[{"tags":[],"owner":{"account_id":22883353,"reputation":46,"user_id":17024640,"display_name":"kdp008"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632827338,"creation_date":1632827338,"answer_id":69360612,"question_id":69283032,"body_markdown":"I had the same issue but with Java 8 as well as Java 11. I tried passing this VM argument and it worked for me:\r\n\r\n-Doracle.jdbc.javaNetNio=false\r\n\r\nOr, we can also set it as properties if creating an OracleDataSource:\r\n\r\n    OracleDataSource oracleDataSource = new OracleDataSource();\r\n    oracleDataSource.setURL(jdbcUrl);\r\n    oracleDataSource.setDriverType(dbDriver);\r\n    Properties properties = new Properties();\r\n    //... other properties if needed\r\n    properties.setProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;false&quot;);\r\n        \r\n    oracleDataSource.setConnectionProperties(properties);\r\n\r\nOr if creating a HikariDataSource, we can use it as:\r\n\r\n    HikariConfig poolConfig = new HikariConfig();\r\n    poolConfig.setJdbcUrl(jdbcUrl);\r\n    poolConfig.setDriverClassName(jdbcDriver);  \r\n    //...  other properties if needed\r\n    poolConfig.addDataSourceProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;false&quot;);\r\n\r\n","title":"Getting a Hikari Pool Initialization error","body":"<p>I had the same issue but with Java 8 as well as Java 11. I tried passing this VM argument and it worked for me:</p>\n<p>-Doracle.jdbc.javaNetNio=false</p>\n<p>Or, we can also set it as properties if creating an OracleDataSource:</p>\n<pre><code>OracleDataSource oracleDataSource = new OracleDataSource();\noracleDataSource.setURL(jdbcUrl);\noracleDataSource.setDriverType(dbDriver);\nProperties properties = new Properties();\n//... other properties if needed\nproperties.setProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;false&quot;);\n    \noracleDataSource.setConnectionProperties(properties);\n</code></pre>\n<p>Or if creating a HikariDataSource, we can use it as:</p>\n<pre><code>HikariConfig poolConfig = new HikariConfig();\npoolConfig.setJdbcUrl(jdbcUrl);\npoolConfig.setDriverClassName(jdbcDriver);  \n//...  other properties if needed\npoolConfig.addDataSourceProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;false&quot;);\n</code></pre>\n"}],"owner":{"account_id":2806364,"reputation":405,"user_id":2413527,"accept_rate":38,"display_name":"orion_kid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69360612,"answer_count":1,"score":0,"last_activity_date":1700689433,"creation_date":1632309058,"question_id":69283032,"body_markdown":"Getting this on startup in my JRE 11. No-one else in the team seems to get it. It does resolve if I compile and run in JDK 8. \r\n\r\n    HikariPool-1 - Exception during pool initialization\r\n    \r\n    java.nio.BufferOverflowException: null\r\n    \tat java.base/java.nio.HeapByteBuffer.put(HeapByteBuffer.java:221)\r\n    \tat java.base/java.nio.ByteBuffer.put(ByteBuffer.java:978)\r\n    \tat oracle.net.ano.AnoCommNIO.d(Unknown Source\r\n\r\netc\r\n\r\n    2021-09-22 12:13:23.280  WARN [amp-optimizer-services,,] 29760 --- [-172.28.233.166] o.s.b.a.jdbc.DataSourceHealthIndicator   : DataSource health check failed\r\n    \r\n    com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: null\r\n    \tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)","title":"Getting a Hikari Pool Initialization error","body":"<p>Getting this on startup in my JRE 11. No-one else in the team seems to get it. It does resolve if I compile and run in JDK 8.</p>\n<pre><code>HikariPool-1 - Exception during pool initialization\n\njava.nio.BufferOverflowException: null\n    at java.base/java.nio.HeapByteBuffer.put(HeapByteBuffer.java:221)\n    at java.base/java.nio.ByteBuffer.put(ByteBuffer.java:978)\n    at oracle.net.ano.AnoCommNIO.d(Unknown Source\n</code></pre>\n<p>etc</p>\n<pre><code>2021-09-22 12:13:23.280  WARN [amp-optimizer-services,,] 29760 --- [-172.28.233.166] o.s.b.a.jdbc.DataSourceHealthIndicator   : DataSource health check failed\n\ncom.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: null\n    at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"answers":[{"comments":[{"owner":{"account_id":73352,"reputation":22219,"user_id":211277,"accept_rate":78,"display_name":"tolitius"},"score":31,"creation_date":1338331656,"post_id":1778779,"comment_id":14063885,"body_markdown":"just in case someone need it in Scala: `verify(bar).DoStuff(any[Array[Foo]])`","body":"just in case someone need it in Scala: <code>verify(bar).DoStuff(any[Array[Foo]])</code>"},{"owner":{"account_id":27865,"reputation":20234,"user_id":73955,"accept_rate":76,"display_name":"Doppelganger"},"score":7,"creation_date":1402667712,"post_id":1778779,"comment_id":37375330,"body_markdown":"I had a problem with the import, I was using the any() from hamcrest in my imports and it collided with the one from mockito.","body":"I had a problem with the import, I was using the any() from hamcrest in my imports and it collided with the one from mockito."},{"owner":{"account_id":193540,"reputation":587,"user_id":435336,"accept_rate":89,"display_name":"thilko"},"score":4,"creation_date":1441022043,"post_id":1778779,"comment_id":52496213,"body_markdown":"Please have a look into the API, the class argument is just used for casting, the method still accepts any kind of object! http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#any(java.lang.Class). Use isA() for this case http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#isA(java.lang.Class).","body":"Please have a look into the API, the class argument is just used for casting, the method still accepts any kind of object! <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#any(java.lang.Class)\" rel=\"nofollow noreferrer\">site.mockito.org/mockito/docs/current/org/mockito/&hellip;</a>. Use isA() for this case <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#isA(java.lang.Class)\" rel=\"nofollow noreferrer\">site.mockito.org/mockito/docs/current/org/mockito/&hellip;</a>."},{"owner":{"account_id":2894895,"reputation":2037,"user_id":2482894,"display_name":"leo9r"},"score":4,"creation_date":1553297160,"post_id":1778779,"comment_id":97346143,"body_markdown":"This class is now deprecated in order to avoid a name clash with Hamcrest. Use org.mockito.ArgumentMatchers","body":"This class is now deprecated in order to avoid a name clash with Hamcrest. Use org.mockito.ArgumentMatchers"}],"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"comment_count":4,"down_vote_count":0,"up_vote_count":299,"is_accepted":false,"score":299,"last_activity_date":1559629611,"creation_date":1258898375,"answer_id":1778779,"question_id":1778744,"body_markdown":"This should work\r\n\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.verify;\r\n\r\n    verify(bar).DoStuff(any(Foo[].class));","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>This should work</p>\n\n<pre><code>import static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.verify;\n\nverify(bar).DoStuff(any(Foo[].class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1589266464,"post_id":30886011,"comment_id":109216934,"body_markdown":"I am pleasantly surprised every time this answer gets an upvote! I would have guessed that the question would not attract much attention since Java 8, since the `any` method should just work. You don&#39;t lookup answer for things that just work!","body":"I am pleasantly surprised every time this answer gets an upvote! I would have guessed that the question would not attract much attention since Java 8, since the <code>any</code> method should just work. You don&#39;t lookup answer for things that just work!"},{"owner":{"account_id":6482088,"reputation":3182,"user_id":5018771,"accept_rate":88,"display_name":"AdrienW"},"score":1,"creation_date":1592807679,"post_id":30886011,"comment_id":110545337,"body_markdown":"I came here because I didn&#39;t know why my code did not work with `any()` but was ok with `anyBoolean()`, which the last part of your answer sheds light on beautifully.","body":"I came here because I didn&#39;t know why my code did not work with <code>any()</code> but was ok with <code>anyBoolean()</code>, which the last part of your answer sheds light on beautifully."}],"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":2,"down_vote_count":0,"up_vote_count":149,"is_accepted":true,"score":149,"last_activity_date":1660900532,"creation_date":1434529199,"answer_id":30886011,"question_id":1778744,"body_markdown":"Since Java 8 you can use the argument-less `any` method and the type argument will get inferred by the compiler:\r\n\r\n    verify(bar).doStuff(any());\r\n\r\n---\r\n\r\n### Explanation\r\n\r\nThe new thing in Java 8 is that the [*target type*][1] of an expression will be used to infer type parameters of its sub-expressions. Before Java 8 only arguments to methods where used for type parameter inference (most of the time).\r\n\r\nIn this case the parameter type of `doStuff` will be the target type for `any()`, and the return value type of `any()` will get chosen to match that argument type.\r\n\r\nThis mechanism was added mainly to be able to compile lambda expressions, but it improves type inferences generally.\r\n\r\n---\r\n\r\n### Primitive types\r\n\r\nThis doesn&#39;t work with primitive types, unfortunately:\r\n\r\n    public interface IBar {\r\n        void doPrimitiveStuff(int i);\r\n    }\r\n\r\n    verify(bar).doPrimitiveStuff(any()); // Compiles but throws NullPointerException\r\n    verify(bar).doPrimitiveStuff(anyInt()); // This is what you have to do instead\r\n\r\nThe problem is that the compiler will infer `Integer` as the return value type of `any()`. Mockito will not be aware of this (due to type erasure) and return the default value for reference types, which is `null`. The runtime will try to unbox the null return value by calling the `intValue` method on it before passing it to `doStuff`, and the exception gets thrown.\r\n\r\n[1]: https://dev.java/learn/type-inference#target-types\r\n","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>Since Java 8 you can use the argument-less <code>any</code> method and the type argument will get inferred by the compiler:</p>\n<pre><code>verify(bar).doStuff(any());\n</code></pre>\n<hr />\n<h3>Explanation</h3>\n<p>The new thing in Java 8 is that the <a href=\"https://dev.java/learn/type-inference#target-types\" rel=\"noreferrer\"><em>target type</em></a> of an expression will be used to infer type parameters of its sub-expressions. Before Java 8 only arguments to methods where used for type parameter inference (most of the time).</p>\n<p>In this case the parameter type of <code>doStuff</code> will be the target type for <code>any()</code>, and the return value type of <code>any()</code> will get chosen to match that argument type.</p>\n<p>This mechanism was added mainly to be able to compile lambda expressions, but it improves type inferences generally.</p>\n<hr />\n<h3>Primitive types</h3>\n<p>This doesn't work with primitive types, unfortunately:</p>\n<pre><code>public interface IBar {\n    void doPrimitiveStuff(int i);\n}\n\nverify(bar).doPrimitiveStuff(any()); // Compiles but throws NullPointerException\nverify(bar).doPrimitiveStuff(anyInt()); // This is what you have to do instead\n</code></pre>\n<p>The problem is that the compiler will infer <code>Integer</code> as the return value type of <code>any()</code>. Mockito will not be aware of this (due to type erasure) and return the default value for reference types, which is <code>null</code>. The runtime will try to unbox the null return value by calling the <code>intValue</code> method on it before passing it to <code>doStuff</code>, and the exception gets thrown.</p>\n"},{"comments":[{"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"score":0,"creation_date":1493298503,"post_id":32310756,"comment_id":74364773,"body_markdown":"This is the correct answer. Using any(Clazz) is completely wrong.","body":"This is the correct answer. Using any(Clazz) is completely wrong."},{"owner":{"account_id":69636,"reputation":3071,"user_id":202504,"display_name":"jmiserez"},"score":4,"creation_date":1512556191,"post_id":32310756,"comment_id":82302956,"body_markdown":"@SurasinTancharoen Actually, any(Class) is just an alias of isA(Class) (see the docs). So it&#39;s not at all wrong.","body":"@SurasinTancharoen Actually, any(Class) is just an alias of isA(Class) (see the docs). So it&#39;s not at all wrong."},{"owner":{"account_id":3154670,"reputation":2663,"user_id":2667323,"accept_rate":53,"display_name":"Asiri Liyana Arachchi"},"score":0,"creation_date":1600926257,"post_id":32310756,"comment_id":113244043,"body_markdown":"isA is deprecated","body":"isA is deprecated"}],"tags":[],"owner":{"account_id":193540,"reputation":587,"user_id":435336,"accept_rate":89,"display_name":"thilko"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1441022418,"creation_date":1441022418,"answer_id":32310756,"question_id":1778744,"body_markdown":"You can use `Mockito.isA()` for that:\r\n\r\n    import static org.mockito.Matchers.isA;\r\n    import static org.mockito.Mockito.verify;\r\n\r\n    verify(bar).doStuff(isA(Foo[].class));\r\n\r\nhttp://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#isA(java.lang.Class)","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>You can use <code>Mockito.isA()</code> for that:</p>\n\n<pre><code>import static org.mockito.Matchers.isA;\nimport static org.mockito.Mockito.verify;\n\nverify(bar).doStuff(isA(Foo[].class));\n</code></pre>\n\n<p><a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#isA(java.lang.Class)\" rel=\"noreferrer\">http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#isA(java.lang.Class)</a></p>\n"},{"comments":[{"owner":{"account_id":8992294,"reputation":15735,"user_id":6703783,"accept_rate":67,"display_name":"Manu Chadha"},"score":0,"creation_date":1552051847,"post_id":42298070,"comment_id":96876410,"body_markdown":"How can I import org.mockito.ArgumentMatcher in Scala? I tried import org.mockito.ArgumentMatcher.any I get error `value any is not a member of object org.mockito.ArgumentMatcher","body":"How can I import org.mockito.ArgumentMatcher in Scala? I tried import org.mockito.ArgumentMatcher.any I get error `value any is not a member of object org.mockito.ArgumentMatcher"},{"owner":{"account_id":8992294,"reputation":15735,"user_id":6703783,"accept_rate":67,"display_name":"Manu Chadha"},"score":0,"creation_date":1552051891,"post_id":42298070,"comment_id":96876436,"body_markdown":"Could you please tell me what is the equivalent in version 3.0?","body":"Could you please tell me what is the equivalent in version 3.0?"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":1,"creation_date":1559629924,"post_id":42298070,"comment_id":99470538,"body_markdown":"We shall know once it will be released ;)","body":"We shall know once it will be released ;)"}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1569484986,"creation_date":1487334715,"answer_id":42298070,"question_id":1778744,"body_markdown":"As I needed to use this feature for my latest project (at one point we updated from 1.10.19), just to keep the users (that are already using the **mockito-core version 2.1.0 or greater**) up to date, the static methods from the above answers should be taken from `ArgumentMatchers` class:\r\n\r\n    import static org.mockito.ArgumentMatchers.isA;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n\r\nPlease keep this in mind if you are planning to keep your Mockito artefacts up to date as possibly starting from version 3, this class may no longer exist:\r\n\r\nAs per 2.1.0 and above, Javadoc of org.mockito.Matchers states:\r\n\r\n&gt; Use `org.mockito.ArgumentMatchers`. This class is now deprecated in order to\r\n&gt; avoid a name clash with Hamcrest  * &lt;code&gt;org.hamcrest.Matchers&lt;/code&gt;\r\n&gt; class. This class will likely be removed in version 3.0.\r\n\r\n\r\nI have written a little article on [mockito wildcards][1] if you&#39;re up for further reading.\r\n\r\n\r\n  [1]: https://www.sourceartists.com/blog/unit-testing/mockito-wildcards/3","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>As I needed to use this feature for my latest project (at one point we updated from 1.10.19), just to keep the users (that are already using the <strong>mockito-core version 2.1.0 or greater</strong>) up to date, the static methods from the above answers should be taken from <code>ArgumentMatchers</code> class:</p>\n\n<pre><code>import static org.mockito.ArgumentMatchers.isA;\nimport static org.mockito.ArgumentMatchers.any;\n</code></pre>\n\n<p>Please keep this in mind if you are planning to keep your Mockito artefacts up to date as possibly starting from version 3, this class may no longer exist:</p>\n\n<p>As per 2.1.0 and above, Javadoc of org.mockito.Matchers states:</p>\n\n<blockquote>\n  <p>Use <code>org.mockito.ArgumentMatchers</code>. This class is now deprecated in order to\n  avoid a name clash with Hamcrest  * <code>org.hamcrest.Matchers</code>\n  class. This class will likely be removed in version 3.0.</p>\n</blockquote>\n\n<p>I have written a little article on <a href=\"https://www.sourceartists.com/blog/unit-testing/mockito-wildcards/3\" rel=\"noreferrer\">mockito wildcards</a> if you're up for further reading.</p>\n"},{"tags":[],"owner":{"account_id":5383151,"reputation":59,"user_id":4287880,"display_name":"Andrea Falco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700689315,"creation_date":1700689315,"answer_id":77533232,"question_id":1778744,"body_markdown":"In the recent version of Mockito you could use any(Foo.class)","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>In the recent version of Mockito you could use any(Foo.class)</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419345,"favorite_count":0,"down_vote_count":0,"up_vote_count":233,"accepted_answer_id":30886011,"answer_count":5,"score":233,"last_activity_date":1700689315,"creation_date":1258897800,"question_id":1778744,"body_markdown":"I have an interface with a method that expects an array of `Foo`:\r\n\r\n    public interface IBar {\r\n      void doStuff(Foo[] arr);\r\n    }\r\n\r\nI am mocking this interface using Mockito, and I&#39;d like to assert that `doStuff()` is called, but I don&#39;t want to validate what argument are passed - &quot;don&#39;t care&quot;.\r\n\r\nHow do I write the following code using `any()`, the generic method, instead of `anyObject()`?\r\n\r\n    IBar bar = mock(IBar.class);\r\n    ...\r\n    verify(bar).doStuff((Foo[]) anyObject());\r\n","title":"Using Mockito&#39;s generic &quot;any()&quot; method","body":"<p>I have an interface with a method that expects an array of <code>Foo</code>:</p>\n\n<pre><code>public interface IBar {\n  void doStuff(Foo[] arr);\n}\n</code></pre>\n\n<p>I am mocking this interface using Mockito, and I'd like to assert that <code>doStuff()</code> is called, but I don't want to validate what argument are passed - \"don't care\".</p>\n\n<p>How do I write the following code using <code>any()</code>, the generic method, instead of <code>anyObject()</code>?</p>\n\n<pre><code>IBar bar = mock(IBar.class);\n...\nverify(bar).doStuff((Foo[]) anyObject());\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-webflux","openapi"],"answers":[{"tags":[],"owner":{"account_id":12787588,"reputation":192,"user_id":9253292,"display_name":"Artsiom the Brave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700688829,"creation_date":1700688829,"answer_id":77533200,"question_id":64183696,"body_markdown":"UPD: sorry, I&#39;ve just noticed that you want to validate on client side. I don&#39;t have such use case and my answer is about server-side, but you can have a look.\r\n\r\n--- \r\nYou can try this library: https://github.com/cdimascio/openapi-spring-webflux-validator\r\n\r\nHere is brief example in kotlin\r\n\r\n```kotlin\r\nval validator = Validate.configure(\r\n    openApiSwaggerPath = &quot;http://your-swagger-addr&quot;,\r\n)\r\n\r\ndata class YourRequestBody(...)\r\n                                                   \r\nfun handle(request: ServerRequest) =\r\n    validator.request(request)\r\n        .withBody&lt;YourRequestBody&gt; { requestBody -&gt;\r\n            // process request...\r\n            // return Mono&lt;ServerResponse&gt;\r\n        }\r\n```\r\n\r\nIn my case I&#39;m serving swagger-ui from the same service using spring boot 3.1.5. I had to manually specify dependencies to resolve some conflicts. Here is my gradle configuration. \r\n\r\n```groovy\r\ndependencies {\r\n    //...\r\n    implementation(&#39;org.springdoc:springdoc-openapi-starter-webflux-ui:2.2.0&#39;)\r\n    // validator has not been updated since 2022. It uses atlassian validator from 2021, which is incompatible\r\n    // with new swagger-models from webflux-ui.\r\n    implementation(&#39;io.github.cdimascio:openapi-spring-webflux-validator:4.2.0&#39;)\r\n    // Manually setting version of atlassian validator works for now.\r\n    implementation(&quot;com.atlassian.oai:swagger-request-validator-core:2.39.0&quot;)\r\n    /...\r\n}\r\n\r\n```","title":"Spring WebFlux Validate OpenAPI Spec Against request","body":"<p>UPD: sorry, I've just noticed that you want to validate on client side. I don't have such use case and my answer is about server-side, but you can have a look.</p>\n<hr />\n<p>You can try this library: <a href=\"https://github.com/cdimascio/openapi-spring-webflux-validator\" rel=\"nofollow noreferrer\">https://github.com/cdimascio/openapi-spring-webflux-validator</a></p>\n<p>Here is brief example in kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val validator = Validate.configure(\n    openApiSwaggerPath = &quot;http://your-swagger-addr&quot;,\n)\n\ndata class YourRequestBody(...)\n                                                   \nfun handle(request: ServerRequest) =\n    validator.request(request)\n        .withBody&lt;YourRequestBody&gt; { requestBody -&gt;\n            // process request...\n            // return Mono&lt;ServerResponse&gt;\n        }\n</code></pre>\n<p>In my case I'm serving swagger-ui from the same service using spring boot 3.1.5. I had to manually specify dependencies to resolve some conflicts. Here is my gradle configuration.</p>\n<pre><code>dependencies {\n    //...\n    implementation('org.springdoc:springdoc-openapi-starter-webflux-ui:2.2.0')\n    // validator has not been updated since 2022. It uses atlassian validator from 2021, which is incompatible\n    // with new swagger-models from webflux-ui.\n    implementation('io.github.cdimascio:openapi-spring-webflux-validator:4.2.0')\n    // Manually setting version of atlassian validator works for now.\n    implementation(&quot;com.atlassian.oai:swagger-request-validator-core:2.39.0&quot;)\n    /...\n}\n\n</code></pre>\n"}],"owner":{"account_id":8545504,"reputation":195,"user_id":6404182,"accept_rate":25,"display_name":"Abhi Nandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1700688829,"creation_date":1601724420,"question_id":64183696,"body_markdown":"I am trying to validate if OpenAPI specification matches the implementation in Spring Boot Reactive Microservice (*WebClient*). I bumped into this library [swagger-request-validator][1], however, it does not have any implementation for the WebClient (*the one provided as under web client uses Rest Template*). Is there any open-source library that can check API spec against implementation? I am trying to make a call to the service that will run against the actual implementation, and at the same time will validate if the request/response matches the OpenAPI specification.\r\n\r\n\r\n  [1]: https://bitbucket.org/atlassian/swagger-request-validator/src/master/","title":"Spring WebFlux Validate OpenAPI Spec Against request","body":"<p>I am trying to validate if OpenAPI specification matches the implementation in Spring Boot Reactive Microservice (<em>WebClient</em>). I bumped into this library <a href=\"https://bitbucket.org/atlassian/swagger-request-validator/src/master/\" rel=\"nofollow noreferrer\">swagger-request-validator</a>, however, it does not have any implementation for the WebClient (<em>the one provided as under web client uses Rest Template</em>). Is there any open-source library that can check API spec against implementation? I am trying to make a call to the service that will run against the actual implementation, and at the same time will validate if the request/response matches the OpenAPI specification.</p>\n"},{"tags":["java","architecture","backend"],"comments":[{"owner":{"account_id":21591205,"reputation":258,"user_id":15920786,"display_name":"easleyfixed"},"score":0,"creation_date":1700675764,"post_id":77532181,"comment_id":136684871,"body_markdown":"Too many edits, but for the record until a mod gets around to it, this is Java question.","body":"Too many edits, but for the record until a mod gets around to it, this is Java question."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700688102,"creation_date":1700678948,"answer_id":77532453,"question_id":77532181,"body_markdown":"There&#39;s no wrong or right architecture to do this.  It just depends on your requirements and what your software is supposed to do.  Obviously from the 2 choices you described there are pros and cons to each model.  Here is what I see those being:\r\n\r\nPersist at Each Step Model:\r\n\r\n*Pros*\r\n\r\n - Strict control over the process for the server\r\n - If the user refreshes the page nothing is lost\r\n - The user can resume the flow at a later date\r\n - Enables easier troubleshooting user problems with flow.\r\n\r\n*Cons*\r\n\r\n - Could create a lot of trash or abandoned records in the DB, will require clean up of those situations\r\n - More work involved to persist each step\r\n - Changing the flow would mean more rework of the backend\r\n - too much control exerted by the server could create unnecessary coupling\r\n\r\nPersist At the End Model\r\n\r\n*Pros*\r\n\r\n - Minimal work to validate at each step\r\n - Only completed records are kept in the DB\r\n - Changes in the front end flow don&#39;t have to affect the backend (or maybe less of an effect)\r\n\r\n*Cons*\r\n\r\n - Front end will loose the flow if the user refreshes the page (local storage)\r\n - Won&#39;t be able to resume a flow some point later\r\n - Some other option to troubleshoot user flow issues.\r\n - Control of the overall process may be too loose\r\n\r\nHow the client fits into this is going to impact these two solutions.  Is this a SPA-style frontend or server side rendering.  So the answer to the question is going to depend on not just the technology involved on the server, but could have implications for the client as well.\r\n\r\nThe *pros* and *cons* of each solution can be mitigated with other solutions being introduced.  For example, a clean up procedure on the backend or staging tables to hold the users entries before they finish the wizard flow, use of local storage in the browser to temporarily hold onto flows that were abandoned by the user - no backend clean up needed, or Google analytics style tracking on the front end for troubleshooting UX issues.  To some degree each solution can be made palatable by introducing other solutions to dampen the *cons*.\r\n\r\nSo it sometimes comes down to which is going to involve more supporting solutions to make up for the issues.  If it&#39;s a lot of them then maybe the other way is better for you.  Maybe you can tolerate some *cons*, or other *pros* are more important to you.\r\n\r\nI would add though that storing the state in the server memory is something you want to avoid.  Keeping the server stateless should be the goal.  Of course if you kept the state in something like Redis or an external cache that would fine, but it&#39;s a more complex architecture.  But you definitely don&#39;t want it stored in server memory.  That is one design that is definitely inferior.\r\n\r\nHopefully this has given you some ideas of *pros* and *cons* of your own.","title":"What is the correct way to create multi-step forms on the server side?","body":"<p>There's no wrong or right architecture to do this.  It just depends on your requirements and what your software is supposed to do.  Obviously from the 2 choices you described there are pros and cons to each model.  Here is what I see those being:</p>\n<p>Persist at Each Step Model:</p>\n<p><em>Pros</em></p>\n<ul>\n<li>Strict control over the process for the server</li>\n<li>If the user refreshes the page nothing is lost</li>\n<li>The user can resume the flow at a later date</li>\n<li>Enables easier troubleshooting user problems with flow.</li>\n</ul>\n<p><em>Cons</em></p>\n<ul>\n<li>Could create a lot of trash or abandoned records in the DB, will require clean up of those situations</li>\n<li>More work involved to persist each step</li>\n<li>Changing the flow would mean more rework of the backend</li>\n<li>too much control exerted by the server could create unnecessary coupling</li>\n</ul>\n<p>Persist At the End Model</p>\n<p><em>Pros</em></p>\n<ul>\n<li>Minimal work to validate at each step</li>\n<li>Only completed records are kept in the DB</li>\n<li>Changes in the front end flow don't have to affect the backend (or maybe less of an effect)</li>\n</ul>\n<p><em>Cons</em></p>\n<ul>\n<li>Front end will loose the flow if the user refreshes the page (local storage)</li>\n<li>Won't be able to resume a flow some point later</li>\n<li>Some other option to troubleshoot user flow issues.</li>\n<li>Control of the overall process may be too loose</li>\n</ul>\n<p>How the client fits into this is going to impact these two solutions.  Is this a SPA-style frontend or server side rendering.  So the answer to the question is going to depend on not just the technology involved on the server, but could have implications for the client as well.</p>\n<p>The <em>pros</em> and <em>cons</em> of each solution can be mitigated with other solutions being introduced.  For example, a clean up procedure on the backend or staging tables to hold the users entries before they finish the wizard flow, use of local storage in the browser to temporarily hold onto flows that were abandoned by the user - no backend clean up needed, or Google analytics style tracking on the front end for troubleshooting UX issues.  To some degree each solution can be made palatable by introducing other solutions to dampen the <em>cons</em>.</p>\n<p>So it sometimes comes down to which is going to involve more supporting solutions to make up for the issues.  If it's a lot of them then maybe the other way is better for you.  Maybe you can tolerate some <em>cons</em>, or other <em>pros</em> are more important to you.</p>\n<p>I would add though that storing the state in the server memory is something you want to avoid.  Keeping the server stateless should be the goal.  Of course if you kept the state in something like Redis or an external cache that would fine, but it's a more complex architecture.  But you definitely don't want it stored in server memory.  That is one design that is definitely inferior.</p>\n<p>Hopefully this has given you some ideas of <em>pros</em> and <em>cons</em> of your own.</p>\n"}],"owner":{"account_id":24052324,"reputation":13,"user_id":18030640,"display_name":"Eugene Nail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700680713,"accepted_answer_id":77532453,"answer_count":1,"score":-2,"last_activity_date":1700688102,"creation_date":1700675604,"question_id":77532181,"body_markdown":"I have an Application entity that includes other entities. In pseudo code that is not specific to a particular programming language, it would be described like this:\r\n```\r\npublic class Application {\r\n\tpublic Client client = null;\r\n\tpublic Address address address = null;\r\n\tpublic House house house = null;\r\n\tpublic float price = 0;\r\n\tpublic boolean hasMortgage = false;\r\n}\r\n```\r\nThe validation of each entity is a separate step and is performed by the server, not the client\r\n\r\n**I see two options and want to know which one is used on real projects.**\r\n\r\na) Each individual step:\r\n\r\n\t1. User enters entity data\r\n\t2. On the server the entity is validated in the controller of this entity\r\n\t3. A record of the entity is created in the database\r\n\t4. The id of the created record is returned to the user\r\n\r\nWhen all steps are completed, the ApplicationController creates the Application entity, assigns the existing Address, House entities by their id and saves the Application entity record to the database.\r\n\r\nb) At each individual step:\r\n\r\n\t1. The user enters the entity data\r\n\t2. On the server, the entity is validated in the controller of this entity\r\n\t3. The user receives a response &quot;Yes, you can go to the next step&quot;.\r\n\r\nWhen all steps are passed, the ApplicationController creates the Application entity, creates the Address, House entities, assigns them to the Application entity, and only then saves records about all entities into the database.","title":"What is the correct way to create multi-step forms on the server side?","body":"<p>I have an Application entity that includes other entities. In pseudo code that is not specific to a particular programming language, it would be described like this:</p>\n<pre><code>public class Application {\n    public Client client = null;\n    public Address address address = null;\n    public House house house = null;\n    public float price = 0;\n    public boolean hasMortgage = false;\n}\n</code></pre>\n<p>The validation of each entity is a separate step and is performed by the server, not the client</p>\n<p><strong>I see two options and want to know which one is used on real projects.</strong></p>\n<p>a) Each individual step:</p>\n<pre><code>1. User enters entity data\n2. On the server the entity is validated in the controller of this entity\n3. A record of the entity is created in the database\n4. The id of the created record is returned to the user\n</code></pre>\n<p>When all steps are completed, the ApplicationController creates the Application entity, assigns the existing Address, House entities by their id and saves the Application entity record to the database.</p>\n<p>b) At each individual step:</p>\n<pre><code>1. The user enters the entity data\n2. On the server, the entity is validated in the controller of this entity\n3. The user receives a response &quot;Yes, you can go to the next step&quot;.\n</code></pre>\n<p>When all steps are passed, the ApplicationController creates the Application entity, creates the Address, House entities, assigns them to the Application entity, and only then saves records about all entities into the database.</p>\n"},{"tags":["java","spring-boot","maven","jboss","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1700640268,"post_id":77524845,"comment_id":136678117,"body_markdown":"Those are `WARN` tagged and there are multiple. So we can assume, that this is not a fatal error.","body":"Those are <code>WARN</code> tagged and there are multiple. So we can assume, that this is not a fatal error."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1700648141,"post_id":77524845,"comment_id":136679452,"body_markdown":"Does this answer your question? [JBoss EAP 7.0 java.lang.IllegalStateException: Unknown tag! pos=3 poolCount = 20 WARN](https://stackoverflow.com/questions/64790738/jboss-eap-7-0-java-lang-illegalstateexception-unknown-tag-pos-3-poolcount-20)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64790738/jboss-eap-7-0-java-lang-illegalstateexception-unknown-tag-pos-3-poolcount-20\">JBoss EAP 7.0 java.lang.IllegalStateException: Unknown tag! pos=3 poolCount = 20 WARN</a>"},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1700671480,"post_id":77524845,"comment_id":136684079,"body_markdown":"@cfrick  After the WARN messages come the ERROR messages, starting with:  11:07:49,137 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpResponse$ResponseAsyncListener&quot;.WeldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpResponse$ResponseAsyncListener&quot;.WeldInstantiator: Failed to start service","body":"@cfrick  After the WARN messages come the ERROR messages, starting with:  11:07:49,137 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springfr&zwnj;&#8203;amework.http.server.&zwnj;&#8203;reactive.ServletServ&zwnj;&#8203;erHttpResponse$Respo&zwnj;&#8203;nseAsyncListener&quot;.We&zwnj;&#8203;ldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springfr&zwnj;&#8203;amework.http.server.&zwnj;&#8203;reactive.ServletServ&zwnj;&#8203;erHttpResponse$Respo&zwnj;&#8203;nseAsyncListener&quot;.We&zwnj;&#8203;ldInstantiator: Failed to start service"},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1700671875,"post_id":77524845,"comment_id":136684164,"body_markdown":"@ollitietavainen I have a second JBoss instance setup with your fix.  I get these of errors on that instance:  11:10:15,847 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: Failed to start service","body":"@ollitietavainen I have a second JBoss instance setup with your fix.  I get these of errors on that instance:  11:10:15,847 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springfr&zwnj;&#8203;amework.http.server.&zwnj;&#8203;reactive.ServletServ&zwnj;&#8203;erHttpRequest$Reques&zwnj;&#8203;tAsyncListener&quot;.Weld&zwnj;&#8203;Instantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springfr&zwnj;&#8203;amework.http.server.&zwnj;&#8203;reactive.ServletServ&zwnj;&#8203;erHttpRequest$Reques&zwnj;&#8203;tAsyncListener&quot;.Weld&zwnj;&#8203;Instantiator: Failed to start service"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1700673948,"post_id":77524845,"comment_id":136684561,"body_markdown":"Please edit the question - comments are not suitable to improve it","body":"Please edit the question - comments are not suitable to improve it"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1700681093,"post_id":77524845,"comment_id":136685738,"body_markdown":"Is this all? Not stacktrace?","body":"Is this all? Not stacktrace?"},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1700687874,"post_id":77524845,"comment_id":136686717,"body_markdown":"I have just now uploaded both referenced stack traces, in their entirety, into the aforementioned repo.  See link above.","body":"I have just now uploaded both referenced stack traces, in their entirety, into the aforementioned repo.  See link above."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1700722325,"post_id":77524845,"comment_id":136689737,"body_markdown":"I&#39;d hope there would be some more log explaining the root cause of _why_ the service failed to start","body":"I&#39;d hope there would be some more log explaining the root cause of <i>why</i> the service failed to start"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1700826467,"post_id":77524845,"comment_id":136703599,"body_markdown":"Why are you using this outdated technology?","body":"Why are you using this outdated technology?"},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1701093837,"post_id":77524845,"comment_id":136728604,"body_markdown":"@ollitietavainen, if you know a way I can expose more log output to get at the root cause, I&#39;m all ears.","body":"@ollitietavainen, if you know a way I can expose more log output to get at the root cause, I&#39;m all ears."},{"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"score":0,"creation_date":1701093894,"post_id":77524845,"comment_id":136728621,"body_markdown":"@SimonMartinelli, our client is the government, and our application is a relatively small tool that&#39;s part of a larger system maintained by another team, and as such we piggyback on their runtime environment.","body":"@SimonMartinelli, our client is the government, and our application is a relatively small tool that&#39;s part of a larger system maintained by another team, and as such we piggyback on their runtime environment."}],"owner":{"account_id":29374007,"reputation":19,"user_id":22505996,"display_name":"BelaOxmyx"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700688101,"creation_date":1700588107,"question_id":77524845,"body_markdown":"I&#39;m attempting without success to deploy a basic Spring Boot/Vaadin 14 Greeter application to JBoss 7.1 under Java 8.\r\n\r\nSteps to recreate.\r\n\r\nClone [this branch][1] of my GitHub repo locally.\r\n\r\nOptionally, skip next step to use my included war file.\r\n\r\nNavigate to vdn-hiya project’s folder, and type “mvn clean package -Pproduction” to build war file.\r\n\r\nObserve war file successfully built in project’s “target” folder.\r\n \r\nRun “standalone.bat” in JBoss bin folder to start Jboss EAP 7.1.\r\n \r\nOpen JBoss Admin Console.  Mine is at localhost:9990/console/App.html#home\r\n \r\nOpen Deployments tab\r\n \r\nClick “Add”\r\n \r\nClick “Next”\r\n \r\nClick “Choose File”\r\n \r\nSelect vdn-hiya.war file from project’s target folder, and click “Open”.\r\n \r\nClick “Next”\r\n \r\nLeave “Enable selected, and click “Finish”.\r\n \r\nObserve errors in deploy dialog, and in JBoss console output, which begin with several &quot;Unknown tag!&quot; errors.  Does any of this seem familiar?\r\n\r\nBelow is the first error I&#39;m seeing when deploying to my unaltered Jboss instance.  See both complete stack traces, including the one occurring in my JBoss instance altered as recommended in other Q&amp;A&#39;s in the [aforementioned repo][1].\r\n\r\n11:40:43,180 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: Failed to start service\r\n        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1978)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\n\r\n\r\n\r\n  [1]: https://github.com/NCIDevRonR/vaadin-issues/tree/deploy-to-jboss-71-fails","title":"Need Help Deploying Vaadin 14 app to JBoss EAP 7.1 on Java 8","body":"<p>I'm attempting without success to deploy a basic Spring Boot/Vaadin 14 Greeter application to JBoss 7.1 under Java 8.</p>\n<p>Steps to recreate.</p>\n<p>Clone <a href=\"https://github.com/NCIDevRonR/vaadin-issues/tree/deploy-to-jboss-71-fails\" rel=\"nofollow noreferrer\">this branch</a> of my GitHub repo locally.</p>\n<p>Optionally, skip next step to use my included war file.</p>\n<p>Navigate to vdn-hiya project’s folder, and type “mvn clean package -Pproduction” to build war file.</p>\n<p>Observe war file successfully built in project’s “target” folder.</p>\n<p>Run “standalone.bat” in JBoss bin folder to start Jboss EAP 7.1.</p>\n<p>Open JBoss Admin Console.  Mine is at localhost:9990/console/App.html#home</p>\n<p>Open Deployments tab</p>\n<p>Click “Add”</p>\n<p>Click “Next”</p>\n<p>Click “Choose File”</p>\n<p>Select vdn-hiya.war file from project’s target folder, and click “Open”.</p>\n<p>Click “Next”</p>\n<p>Leave “Enable selected, and click “Finish”.</p>\n<p>Observe errors in deploy dialog, and in JBoss console output, which begin with several &quot;Unknown tag!&quot; errors.  Does any of this seem familiar?</p>\n<p>Below is the first error I'm seeing when deploying to my unaltered Jboss instance.  See both complete stack traces, including the one occurring in my JBoss instance altered as recommended in other Q&amp;A's in the <a href=\"https://github.com/NCIDevRonR/vaadin-issues/tree/deploy-to-jboss-71-fails\" rel=\"nofollow noreferrer\">aforementioned repo</a>.</p>\n<p>11:40:43,180 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;vdn-hiya.war&quot;.component.&quot;org.springframework.http.server.reactive.ServletServerHttpRequest$RequestAsyncListener&quot;.WeldInstantiator: Failed to start service\nat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1978)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)</p>\n"},{"tags":["java","maven","graphql-java","graphql-java-generator"],"comments":[{"owner":{"account_id":6378382,"reputation":2978,"user_id":4948640,"accept_rate":58,"display_name":"suraj bahl"},"score":0,"creation_date":1698857775,"post_id":77391151,"comment_id":136458991,"body_markdown":"https://stackoverflow.com/users/5056068/etienne-sf","body":"<a href=\"https://stackoverflow.com/users/5056068/etienne-sf\">stackoverflow.com/users/5056068/etienne-sf</a>"}],"answers":[{"tags":[],"owner":{"account_id":6536916,"reputation":166,"user_id":5056068,"display_name":"etienne-sf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700687511,"creation_date":1700687511,"answer_id":77533119,"question_id":77391151,"body_markdown":"The issue is due to `&lt;type&gt;pom&lt;/type&gt;`\r\n\r\nThis is due to an error in the doc: this changed in an early version of the plugin, but this change has not be reported into the doc. \r\n\r\nThe ` graphql-java-server-runtime` dependency should be written this way:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n         &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-server-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n\r\nThe doc is now corrected.\r\n\r\nEtienne","title":"GraphQL maven plugin java generator giving compile time error","body":"<p>The issue is due to <code>&lt;type&gt;pom&lt;/type&gt;</code></p>\n<p>This is due to an error in the doc: this changed in an early version of the plugin, but this change has not be reported into the doc.</p>\n<p>The <code> graphql-java-server-runtime</code> dependency should be written this way:</p>\n<pre><code>        &lt;dependency&gt;\n         &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-server-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The doc is now corrected.</p>\n<p>Etienne</p>\n"}],"owner":{"account_id":6378382,"reputation":2978,"user_id":4948640,"accept_rate":58,"display_name":"suraj bahl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77533119,"answer_count":1,"score":1,"last_activity_date":1700687511,"creation_date":1698691430,"question_id":77391151,"body_markdown":"Trying to generate server side code from graphQL schema using following plugin but generated code is having a compile time error &quot;**package com.graphql_java_generator.server.util does not exist**&quot;. There is no jar added with this package.\r\n\r\nhttps://github.com/graphql-java-generator/GraphQL-Forum-Maven-Tutorial-server\r\n\r\nHere is my POM.xml created as per above tutorial\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;GraphqlCodeGen&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;GraphqlCodeGen&lt;/name&gt;\r\n    \t&lt;description&gt;GraphqlCodeGen&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;graphql-maven-plugin.version&gt;2.3.1&lt;/graphql-maven-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphql-java-server-runtime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generateServerCode&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;!-- Let&#39;s configure the GraphQL Gradle Plugin: --&gt;\r\n    \t\t\t\t\t&lt;!-- All available parameters are described here: --&gt;\r\n    \t\t\t\t\t&lt;!-- https://graphql-maven-plugin-project.graphql-java-generator.com/graphql-maven-plugin/generateServerCode-mojo.html --&gt;\r\n    \t\t\t\t\t&lt;packageName&gt;org.forum.server.graphql&lt;/packageName&gt;\r\n    \t\t\t\t\t&lt;scanBasePackages&gt;org.forum.server.impl, org.forum.server.jpa&lt;/scanBasePackages&gt;\r\n    \t\t\t\t\t&lt;customScalars&gt;\r\n    \t\t\t\t\t\t&lt;customScalar&gt;\r\n    \t\t\t\t\t\t\t&lt;graphQLTypeName&gt;Date&lt;/graphQLTypeName&gt;\r\n    \t\t\t\t\t\t\t&lt;javaType&gt;java.util.Date&lt;/javaType&gt;\r\n    \t\t\t\t\t\t\t&lt;graphQLScalarTypeStaticField&gt;com.graphql_java_generator.customscalars.GraphQLScalarTypeDate.Date\r\n    \t\t\t\t\t\t\t&lt;/graphQLScalarTypeStaticField&gt;\r\n    \t\t\t\t\t\t&lt;/customScalar&gt;\r\n    \t\t\t\t\t&lt;/customScalars&gt;\r\n    \t\t\t\t\t&lt;!-- The parameters below change the 1.x default behavior. They are set to respect the behavior of the future 2.x versions --&gt;\r\n    \t\t\t\t\t&lt;copyRuntimeSources&gt;false&lt;/copyRuntimeSources&gt;\r\n    \t\t\t\t\t&lt;generateBatchLoaderEnvironment&gt;true&lt;/generateBatchLoaderEnvironment&gt;\r\n    \t\t\t\t\t&lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\r\n    \t\t\t\t\t&lt;skipGenerationIfSchemaHasNotChanged&gt;true&lt;/skipGenerationIfSchemaHasNotChanged&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nhttps://stackoverflow.com/users/5056068/etienne-sf tagging you for your kind attention","title":"GraphQL maven plugin java generator giving compile time error","body":"<p>Trying to generate server side code from graphQL schema using following plugin but generated code is having a compile time error &quot;<strong>package com.graphql_java_generator.server.util does not exist</strong>&quot;. There is no jar added with this package.</p>\n<p><a href=\"https://github.com/graphql-java-generator/GraphQL-Forum-Maven-Tutorial-server\" rel=\"nofollow noreferrer\">https://github.com/graphql-java-generator/GraphQL-Forum-Maven-Tutorial-server</a></p>\n<p>Here is my POM.xml created as per above tutorial</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;GraphqlCodeGen&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;GraphqlCodeGen&lt;/name&gt;\n    &lt;description&gt;GraphqlCodeGen&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;graphql-maven-plugin.version&gt;2.3.1&lt;/graphql-maven-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java-server-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.graphql-java-generator&lt;/groupId&gt;\n                &lt;artifactId&gt;graphql-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${graphql-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generateServerCode&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Let's configure the GraphQL Gradle Plugin: --&gt;\n                    &lt;!-- All available parameters are described here: --&gt;\n                    &lt;!-- https://graphql-maven-plugin-project.graphql-java-generator.com/graphql-maven-plugin/generateServerCode-mojo.html --&gt;\n                    &lt;packageName&gt;org.forum.server.graphql&lt;/packageName&gt;\n                    &lt;scanBasePackages&gt;org.forum.server.impl, org.forum.server.jpa&lt;/scanBasePackages&gt;\n                    &lt;customScalars&gt;\n                        &lt;customScalar&gt;\n                            &lt;graphQLTypeName&gt;Date&lt;/graphQLTypeName&gt;\n                            &lt;javaType&gt;java.util.Date&lt;/javaType&gt;\n                            &lt;graphQLScalarTypeStaticField&gt;com.graphql_java_generator.customscalars.GraphQLScalarTypeDate.Date\n                            &lt;/graphQLScalarTypeStaticField&gt;\n                        &lt;/customScalar&gt;\n                    &lt;/customScalars&gt;\n                    &lt;!-- The parameters below change the 1.x default behavior. They are set to respect the behavior of the future 2.x versions --&gt;\n                    &lt;copyRuntimeSources&gt;false&lt;/copyRuntimeSources&gt;\n                    &lt;generateBatchLoaderEnvironment&gt;true&lt;/generateBatchLoaderEnvironment&gt;\n                    &lt;separateUtilityClasses&gt;true&lt;/separateUtilityClasses&gt;\n                    &lt;skipGenerationIfSchemaHasNotChanged&gt;true&lt;/skipGenerationIfSchemaHasNotChanged&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/users/5056068/etienne-sf\">https://stackoverflow.com/users/5056068/etienne-sf</a> tagging you for your kind attention</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2254750,"reputation":11,"user_id":1986168,"display_name":"Avinash"},"score":0,"creation_date":1699675655,"post_id":77436436,"comment_id":136564855,"body_markdown":"any response on this would be highly appreciated.","body":"any response on this would be highly appreciated."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1700689107,"post_id":77436436,"comment_id":136686886,"body_markdown":"It works for me","body":"It works for me"}],"owner":{"account_id":2254750,"reputation":11,"user_id":1986168,"display_name":"Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700687194,"creation_date":1699343949,"question_id":77436436,"body_markdown":"I am trying some lambda code snippets to learn. When I pass method reference the code works fine , but as soon as I pass lambda equivalent it throws error.  \r\n\r\nI tried to sort a list using comparing of Comparator class passing lambda which throws error. The same code works fine when i pass method reference. \r\nTransation::getValue works fine but transaction-&gt; transaction.getValue() doesn&#39;t work.\r\n\r\n    public class Trader {\r\n        private final String name;\r\n        private final String city;\r\n    \r\n        public Trader(String n, String c) {\r\n            this.name = n;\r\n            this.city = c;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return this.city;\r\n        }\r\n    \r\n        public String toString() {\r\n            return &quot;Trader:&quot; + this.name + &quot; in &quot; + this.city;\r\n        }\r\n    }\r\n\r\n    public class Transaction {\r\n    \r\n        private final Trader trader;\r\n        private final int year;\r\n        private final int value;\r\n    \r\n        public Transaction(Trader trader, int year, int value) {\r\n            this.trader = trader;\r\n            this.year = year;\r\n            this.value = value;\r\n        }\r\n    \r\n        public Trader getTrader() {\r\n            return this.trader;\r\n        }\r\n    \r\n        public int getYear() {\r\n            return this.year;\r\n        }\r\n    \r\n        public int getValue() {\r\n            return this.value;\r\n        }\r\n    \r\n        public String toString() {\r\n            return &quot;{&quot; + this.trader + &quot;, &quot; + &quot;year: &quot; + this.year + &quot;, &quot; + &quot;value:&quot; + this.value + &quot;}&quot;;\r\n        }\r\n    }\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class TraderRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            Trader raoul = new Trader(&quot;Raoul&quot;, &quot;Cambridge&quot;);\r\n            Trader mario = new Trader(&quot;Mario&quot;,&quot;Milan&quot;);\r\n            Trader alan = new Trader(&quot;Alan&quot;,&quot;Cambridge&quot;);\r\n            Trader brian = new Trader(&quot;Brian&quot;,&quot;Cambridge&quot;);\r\n    \r\n            List&lt;Transaction&gt; transactions = Arrays.asList(\r\n                    new Transaction(brian, 2011, 300),\r\n                    new Transaction(raoul, 2012, 1000),\r\n                    new Transaction(raoul, 2011, 400),\r\n                    new Transaction(mario, 2012, 710),\r\n                    new Transaction(mario, 2012, 700),\r\n                    new Transaction(alan, 2012, 950)\r\n                    );\r\n    \r\n            List&lt;Transaction&gt; list = transactions.stream()\r\n                    .filter(a -&gt; a.getYear()== 2012).\r\n                    sorted(Comparator.comparing(Transaction::getValue)).\r\n                    collect(Collectors.toList());\r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Lambda Equivalent of Method reference throws error","body":"<p>I am trying some lambda code snippets to learn. When I pass method reference the code works fine , but as soon as I pass lambda equivalent it throws error.</p>\n<p>I tried to sort a list using comparing of Comparator class passing lambda which throws error. The same code works fine when i pass method reference.\nTransation::getValue works fine but transaction-&gt; transaction.getValue() doesn't work.</p>\n<pre><code>public class Trader {\n    private final String name;\n    private final String city;\n\n    public Trader(String n, String c) {\n        this.name = n;\n        this.city = c;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getCity() {\n        return this.city;\n    }\n\n    public String toString() {\n        return &quot;Trader:&quot; + this.name + &quot; in &quot; + this.city;\n    }\n}\n\npublic class Transaction {\n\n    private final Trader trader;\n    private final int year;\n    private final int value;\n\n    public Transaction(Trader trader, int year, int value) {\n        this.trader = trader;\n        this.year = year;\n        this.value = value;\n    }\n\n    public Trader getTrader() {\n        return this.trader;\n    }\n\n    public int getYear() {\n        return this.year;\n    }\n\n    public int getValue() {\n        return this.value;\n    }\n\n    public String toString() {\n        return &quot;{&quot; + this.trader + &quot;, &quot; + &quot;year: &quot; + this.year + &quot;, &quot; + &quot;value:&quot; + this.value + &quot;}&quot;;\n    }\n}\n\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class TraderRunner {\n\n    public static void main(String[] args) {\n        Trader raoul = new Trader(&quot;Raoul&quot;, &quot;Cambridge&quot;);\n        Trader mario = new Trader(&quot;Mario&quot;,&quot;Milan&quot;);\n        Trader alan = new Trader(&quot;Alan&quot;,&quot;Cambridge&quot;);\n        Trader brian = new Trader(&quot;Brian&quot;,&quot;Cambridge&quot;);\n\n        List&lt;Transaction&gt; transactions = Arrays.asList(\n                new Transaction(brian, 2011, 300),\n                new Transaction(raoul, 2012, 1000),\n                new Transaction(raoul, 2011, 400),\n                new Transaction(mario, 2012, 710),\n                new Transaction(mario, 2012, 700),\n                new Transaction(alan, 2012, 950)\n                );\n\n        List&lt;Transaction&gt; list = transactions.stream()\n                .filter(a -&gt; a.getYear()== 2012).\n                sorted(Comparator.comparing(Transaction::getValue)).\n                collect(Collectors.toList());\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":["java","git","jenkins","jenkins-plugins","ubuntu-16.04"],"answers":[{"comments":[{"owner":{"account_id":1868719,"reputation":3430,"user_id":1691599,"display_name":"Ra&#250;l Salinas-Monteagudo"},"score":1,"creation_date":1579707295,"post_id":49498369,"comment_id":105857769,"body_markdown":"What is hinting you at this?","body":"What is hinting you at this?"},{"owner":{"account_id":4867485,"reputation":443,"user_id":3925204,"accept_rate":20,"display_name":"zwelz"},"score":0,"creation_date":1579884541,"post_id":49498369,"comment_id":105928476,"body_markdown":"Trial and error experience with something similar. Anecdotal at best","body":"Trial and error experience with something similar. Anecdotal at best"}],"tags":[],"owner":{"account_id":4867485,"reputation":443,"user_id":3925204,"accept_rate":20,"display_name":"zwelz"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522089962,"creation_date":1522089320,"answer_id":49498369,"question_id":48342338,"body_markdown":"Looks like you may have an issue with using secret credentials on a virtual slave. \r\n\r\nFrom [Here][1]:\r\n\r\n&gt; ... best path forward is to create a git client authentication token class which uses AuthenticationTokens.convert() to map specific credentials (username/password or ssh private key) to the git client, then that git client authentication token would be sent over the wire from the master to the agent, rather than sending the Secret over the wire.\r\n\r\nMaybe try using a [credential plugin][2]? \r\n\r\n*&lt;sub&gt;&lt;sub&gt;Also might I suggest removing your email from the snippet&lt;/sub&gt;&lt;/sub&gt;*\r\n\r\n  [1]: https://issues.jenkins-ci.org/browse/JENKINS-48200\r\n  [2]: https://github.com/jenkinsci/credentials-binding-plugin","title":"jenkins master connection fails with java.nio.channels.ClosedChannelException","body":"<p>Looks like you may have an issue with using secret credentials on a virtual slave. </p>\n\n<p>From <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-48200\" rel=\"nofollow noreferrer\">Here</a>:</p>\n\n<blockquote>\n  <p>... best path forward is to create a git client authentication token class which uses AuthenticationTokens.convert() to map specific credentials (username/password or ssh private key) to the git client, then that git client authentication token would be sent over the wire from the master to the agent, rather than sending the Secret over the wire.</p>\n</blockquote>\n\n<p>Maybe try using a <a href=\"https://github.com/jenkinsci/credentials-binding-plugin\" rel=\"nofollow noreferrer\">credential plugin</a>? </p>\n\n<p><em><sub><sub>Also might I suggest removing your email from the snippet</sub></sub></em></p>\n"},{"tags":[],"owner":{"account_id":1176281,"reputation":2258,"user_id":1152240,"accept_rate":89,"display_name":"Arcadien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537257529,"creation_date":1537257529,"answer_id":52381680,"question_id":48342338,"body_markdown":"It may be due to a memory error, as stated in [this bug][1]\r\n\r\n\r\n  [1]: https://issues.jenkins-ci.org/browse/JENKINS-50132","title":"jenkins master connection fails with java.nio.channels.ClosedChannelException","body":"<p>It may be due to a memory error, as stated in <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-50132\" rel=\"nofollow noreferrer\">this bug</a></p>\n"}],"owner":{"account_id":10570152,"reputation":51,"user_id":7787223,"display_name":"Mosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8625,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1700686905,"creation_date":1516368888,"question_id":48342338,"body_markdown":"I have a Job which runs every hours, from a Master(Jenkins on Ubuntu) to Windows 10 machine as slave, 30-40 % of the time job just fails with following error. I need some help where to start looking or what is a possible solution for this.\r\n\r\nBoth Master and Slave have same Java version &quot;1.8.0_151&quot;\r\n\r\n       FATAL: java.nio.channels.ClosedChannelException\r\n       java.nio.channels.ClosedChannelException\r\n       Also:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from p578c1cb8.dip0.t-ipconnect.de/67.110.18.114:55940\r\n        at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1693)\r\n    \t\tat hudson.remoting.Request.call(Request.java:192)\r\n    \t\tat hudson.remoting.Channel.call(Channel.java:907)\r\n    \t\tat hudson.FilePath.act(FilePath.java:986)\r\n    \t\tat hudson.FilePath.act(FilePath.java:975)\r\n    \t\tat hudson.FilePath.mkdirs(FilePath.java:1158)\r\n    \t\tat hudson.model.AbstractProject.checkout(AbstractProject.java:1200)\r\n    \t\tat hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:574)\r\n    \t\tat jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\r\n    \t\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499)\r\n    \t\tat hudson.model.Run.execute(Run.java:1724)\r\n    \t\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\r\n    \t\tat hudson.model.ResourceController.execute(ResourceController.java:97)\r\n    \t\tat hudson.model.Executor.run(Executor.java:421)\r\n    Caused: hudson.remoting.RequestAbortedException\r\n    \tat hudson.remoting.Request.abort(Request.java:329)\r\n    \tat hudson.remoting.Channel.terminate(Channel.java:992)\r\n    \tat org.jenkinsci.remoting.protocol.impl.ChannelApplicationLayer.onReadClosed(ChannelApplicationLayer.java:208)\r\n    \tat org.jenkinsci.remoting.protocol.ApplicationLayer.onRecvClosed(ApplicationLayer.java:222)\r\n    \tat org.jenkinsci.remoting.protocol.ProtocolStack$Ptr.onRecvClosed(ProtocolStack.java:832)\r\n    \tat org.jenkinsci.remoting.protocol.FilterLayer.onRecvClosed(FilterLayer.java:287)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.onRecvClosed(SSLEngineFilterLayer.java:181)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.switchToNoSecure(SSLEngineFilterLayer.java:283)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.processWrite(SSLEngineFilterLayer.java:503)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.processQueuedWrites(SSLEngineFilterLayer.java:248)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.doSend(SSLEngineFilterLayer.java:200)\r\n    \tat org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.doCloseSend(SSLEngineFilterLayer.java:213)\r\n    \tat org.jenkinsci.remoting.protocol.ProtocolStack$Ptr.doCloseSend(ProtocolStack.java:800)\r\n    \tat org.jenkinsci.remoting.protocol.ApplicationLayer.doCloseWrite(ApplicationLayer.java:173)\r\n    \tat org.jenkinsci.remoting.protocol.impl.ChannelApplicationLayer$ByteBufferCommandTransport.closeWrite(ChannelApplicationLayer.java:311)\r\n    \tat hudson.remoting.Channel.close(Channel.java:1405)\r\n    \tat hudson.remoting.Channel.close(Channel.java:1358)\r\n    \tat hudson.slaves.SlaveComputer.closeChannel(SlaveComputer.java:737)\r\n    \tat hudson.slaves.SlaveComputer.access$800(SlaveComputer.java:96)\r\n    \tat hudson.slaves.SlaveComputer$3.run(SlaveComputer.java:655)\r\n    \tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    ERROR: Step ‘Publish Robot Framework test results’ failed: no workspace for T_REG #117\r\n    ERROR: Step ‘E-mail Notification’ failed: no workspace for T_REG #117\r\n    Email was triggered for: Failure - Any\r\n    Sending email for trigger: Failure - Any\r\n    ERROR: Error: No workspace found!\r\n    Sending email to: tw.aa@gmail.com\r\n    Finished: FAILURE","title":"jenkins master connection fails with java.nio.channels.ClosedChannelException","body":"<p>I have a Job which runs every hours, from a Master(Jenkins on Ubuntu) to Windows 10 machine as slave, 30-40 % of the time job just fails with following error. I need some help where to start looking or what is a possible solution for this.</p>\n<p>Both Master and Slave have same Java version &quot;1.8.0_151&quot;</p>\n<pre><code>   FATAL: java.nio.channels.ClosedChannelException\n   java.nio.channels.ClosedChannelException\n   Also:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to JNLP4-connect connection from p578c1cb8.dip0.t-ipconnect.de/67.110.18.114:55940\n    at hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1693)\n        at hudson.remoting.Request.call(Request.java:192)\n        at hudson.remoting.Channel.call(Channel.java:907)\n        at hudson.FilePath.act(FilePath.java:986)\n        at hudson.FilePath.act(FilePath.java:975)\n        at hudson.FilePath.mkdirs(FilePath.java:1158)\n        at hudson.model.AbstractProject.checkout(AbstractProject.java:1200)\n        at hudson.model.AbstractBuild$AbstractBuildExecution.defaultCheckout(AbstractBuild.java:574)\n        at jenkins.scm.SCMCheckoutStrategy.checkout(SCMCheckoutStrategy.java:86)\n        at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499)\n        at hudson.model.Run.execute(Run.java:1724)\n        at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)\n        at hudson.model.ResourceController.execute(ResourceController.java:97)\n        at hudson.model.Executor.run(Executor.java:421)\nCaused: hudson.remoting.RequestAbortedException\n    at hudson.remoting.Request.abort(Request.java:329)\n    at hudson.remoting.Channel.terminate(Channel.java:992)\n    at org.jenkinsci.remoting.protocol.impl.ChannelApplicationLayer.onReadClosed(ChannelApplicationLayer.java:208)\n    at org.jenkinsci.remoting.protocol.ApplicationLayer.onRecvClosed(ApplicationLayer.java:222)\n    at org.jenkinsci.remoting.protocol.ProtocolStack$Ptr.onRecvClosed(ProtocolStack.java:832)\n    at org.jenkinsci.remoting.protocol.FilterLayer.onRecvClosed(FilterLayer.java:287)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.onRecvClosed(SSLEngineFilterLayer.java:181)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.switchToNoSecure(SSLEngineFilterLayer.java:283)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.processWrite(SSLEngineFilterLayer.java:503)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.processQueuedWrites(SSLEngineFilterLayer.java:248)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.doSend(SSLEngineFilterLayer.java:200)\n    at org.jenkinsci.remoting.protocol.impl.SSLEngineFilterLayer.doCloseSend(SSLEngineFilterLayer.java:213)\n    at org.jenkinsci.remoting.protocol.ProtocolStack$Ptr.doCloseSend(ProtocolStack.java:800)\n    at org.jenkinsci.remoting.protocol.ApplicationLayer.doCloseWrite(ApplicationLayer.java:173)\n    at org.jenkinsci.remoting.protocol.impl.ChannelApplicationLayer$ByteBufferCommandTransport.closeWrite(ChannelApplicationLayer.java:311)\n    at hudson.remoting.Channel.close(Channel.java:1405)\n    at hudson.remoting.Channel.close(Channel.java:1358)\n    at hudson.slaves.SlaveComputer.closeChannel(SlaveComputer.java:737)\n    at hudson.slaves.SlaveComputer.access$800(SlaveComputer.java:96)\n    at hudson.slaves.SlaveComputer$3.run(SlaveComputer.java:655)\n    at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nERROR: Step ‘Publish Robot Framework test results’ failed: no workspace for T_REG #117\nERROR: Step ‘E-mail Notification’ failed: no workspace for T_REG #117\nEmail was triggered for: Failure - Any\nSending email for trigger: Failure - Any\nERROR: Error: No workspace found!\nSending email to: tw.aa@gmail.com\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-websocket"],"owner":{"account_id":29969718,"reputation":1,"user_id":22967377,"display_name":"Ds Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700686486,"creation_date":1700686486,"question_id":77533048,"body_markdown":"Iam using ReactJs as frontend and Spring Boot as backend\r\nusing stomp and sockJs\r\nevery time i connect to the socket cors policy is displayed\r\n\r\nthe error is the following :  \r\nAccess to XMLHttpRequest at &#39;&lt;http://localhost:5433/ws/info?t=1700638752589&gt;&#39; from origin &#39;&lt;http://localhost:3000&gt;&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nreact js frontend code :\r\n\r\n```\r\nimport React, { useState } from &#39;react&#39;\r\nimport SockJS from &#39;sockjs-client&#39;\r\nimport { over } from &#39;stompjs&#39;;\r\nimport Stomp from &#39;stompjs&#39;;\r\n\r\n\r\nvar myStompClient = null ;\r\n\r\nconst ChatRoom = () =&gt; {\r\n    //message details,connection details ..\r\n    const [userData,setUserDate] = useState({\r\n        username : &quot;&quot; ,\r\n        recievername: &quot;&quot; ,\r\n        connected : false,\r\n        message: &quot;&quot; \r\n    })\r\n\r\n    //hold all public chats\r\n    const [publicChats,setPublicChats] = useState([]);\r\n\r\n    //to set a private message the simplest way is to make a map the username as akey and then this userkey will hold list of messages \r\n    const[privateChats,setPrivateChats] = useState(new Map);\r\n\r\n    //this will hold wehter a chatroom or particular user\r\n    const[tab,setTab] = useState(&quot;CHATROOM&quot;)\r\n\r\n    const handleUserName = (event) =&gt;{\r\n        const {value} = event.target;\r\n        setUserDate({...userData,&quot;username&quot; : value})\r\n\r\n    }\r\n\r\n    const registerUser = () =&gt;{\r\n        // subscribe to all the channel and connect to the websocket\r\n       \r\n        let mySock  = new SockJS(&#39;http://localhost:5433/ws&#39;);;\r\n        \r\n        myStompClient = Stomp.over(mySock);\r\n\r\n\r\n        \r\n        console.log(myStompClient);\r\n        \r\n        myStompClient.connect({},onConnected,onError);\r\n\r\n\r\n    }\r\n\r\n    const onConnected = () =&gt;{\r\n        console.log(&quot;enter connected function&quot;)\r\n        setUserDate({...userData,&quot;connected&quot;:true});\r\n        myStompClient.subscribe(&#39;/chatroom/public&#39; , onPublicMessageRecieved); //3rd is for the callback function\r\n        myStompClient.subscribe(&#39;/user/&#39; +userData.username+&#39;/private&#39;,onPrivateMessage);\r\n        userJoin();\r\n    }\r\n\r\nconst userJoin =() =&gt; {\r\n    let chatMessage = {\r\nsenderName : userData.username,\r\nstatus:&#39;JOIN&#39;\r\n\r\n    };\r\n    myStompClient.send(&#39;/app/message&#39;,{},JSON.stringify(chatMessage));\r\n\r\n}\r\n\r\n\r\n    const  onPublicMessageRecieved = (payload) =&gt;{\r\nlet payloadData = JSON.parse(payload.body);\r\nswitch(payloadData.status){\r\n    case &quot;JOIN&quot;:\r\n\r\n    if(!privateChats.get(payloadData.senderName)){\r\n        privateChats.set(payloadData.senderName , []);\r\n        setPrivateChats(new Map(privateChats));\r\n    }\r\n\r\n        break;\r\n    case &quot;MESSAGE&quot;: publicChats.push(payloadData);\r\n    setPublicChats([...publicChats]);\r\n        break;\r\n}\r\n\r\n    }\r\n\r\n\r\n    const onError = (error) =&gt;{\r\n        console.log(&quot;failed&quot;);\r\n        console.log(error);\r\n    }\r\n\r\n\r\n\r\n    const onPrivateMessage = (payload) =&gt;{\r\n        let payloadData = JSON.parse(payload.body);\r\n        if(privateChats.get(payloadData.senderName)){\r\n            privateChats.get(payloadData.senderName).push(payloadData);\r\n            setPrivateChats(new Map(privateChats));\r\n        }else{\r\n            let list = [] ;\r\n            list.push(payloadData);\r\n            privateChats.set(payloadData.senderName,list);\r\n            setPrivateChats(new Map(privateChats));\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    //functions for buttons\r\n    const handleValue = (event) =&gt;{\r\n        const {value,name} = event.target;\r\n        setUserDate({...userData,[name] : value});\r\n\r\n    }\r\n\r\n\r\n    const sendPublicMessage = () =&gt;{\r\n        if(myStompClient){\r\n            let chatMessage = {\r\nsenderName:userData.username,\r\nmessage:userData.message,\r\nstatus : &#39;Message&#39;\r\n\r\n            };\r\n            myStompClient.send(&#39;/app/message&#39;,{},JSON.stringify(chatMessage));\r\n            setUserDate({...userData,&quot;message&quot;: &quot;&quot;});\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    const sendPrivateMessage = () =&gt;{\r\n        if(myStompClient){\r\n            let chatMessage = {\r\nsenderName:userData.username,\r\nrecievername : tab,\r\nmessage:userData.message,\r\nstatus : &#39;Message&#39;\r\n\r\n            };\r\nif(userData.username !== tab){\r\n    privateChats.get(tab).push(chatMessage);\r\n    setPrivateChats(new Map(privateChats));\r\n} \r\n\r\n            myStompClient.send(&#39;/app/private-message&#39;,{},JSON.stringify(chatMessage));\r\n            setUserDate({...userData,&quot;message&quot;: &quot;&quot;});\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    &lt;div className=&#39;container&#39;&gt;\r\n        {/* if connected then show the chat else */}\r\n        {userData.connected?\r\n        &lt;div className=&#39;chat-box&#39;&gt;\r\n            &lt;div className=&#39;member-list&#39;&gt;\r\n                &lt;ul&gt;\r\n                    &lt;li onClick={()=&gt;{setTab(&quot;CHATROOM&quot;)} }className={`member ${tab===&quot;CHATROOM&quot; &amp;&amp; &quot;ACTIVE&quot;}`} &gt;Chatroom&lt;/li&gt;\r\n                    {[...privateChats.keys()].map(\r\n                    (name,index) =&gt; (\r\n                        &lt;li onClick={()=&gt;{setTab(name)}} className={`member ${tab===name &amp;&amp; &quot;ACTIVE&quot;}`}&gt;{name}&lt;/li&gt;\r\n\r\n                    ))}\r\n                &lt;/ul&gt;\r\n   {tab === &quot;chatroom&quot; &amp;&amp;  &lt;div className=&#39;chatContent&#39;&gt;  \r\n\r\n   &lt;ul className=&#39;chat-messages&#39;&gt;\r\n                        {publicChats.map((chat,index) =&gt;(\r\n                            &lt;li className=&#39;message&#39; key={index}&gt;\r\n                                    {chat.senderName !== userData.username &amp;&amp; &lt;div className=&#39;avatar&#39;&gt;{chat.senderName}&lt;/div&gt;}\r\n                                    &lt;div className=&#39;message-data&#39;&gt;{chat.message}&lt;/div&gt;\r\n                                    {chat.senderName === userData.username &amp;&amp; &lt;div className=&#39;avatar self&#39;&gt;{chat.senderName}&lt;/div&gt;}\r\n                                 &lt;/li&gt;\r\n\r\n                        ))} \r\n\r\n&lt;/ul&gt;     \r\n\r\n\r\n&lt;div className=&#39;send-message&#39;&gt;\r\n    &lt;input type=&#39;text&#39; className=&#39;input-message&#39; name=&#39;message&#39; placeholder=&#39;enter public message&#39; value={userData.message} onChange={handleValue}&gt;&lt;/input&gt;\r\n    &lt;button type=&#39;button&#39; className=&#39;send button&#39; onClick={sendPublicMessage}&gt;send&lt;/button&gt;\r\n\r\n&lt;/div&gt;\r\n                        \r\n     &lt;/div&gt;}\r\n\r\n                            {/* if it is not a chatroom */}\r\n                            \r\n     {tab !== &quot;chatroom&quot; &amp;&amp;  &lt;div className=&#39;chatContent&#39;&gt;  \r\n     &lt;ul className=&#39;chat-messages&#39;&gt;\r\n                        {[...privateChats.get(tab)].map((chat,index) =&gt;(\r\n                            &lt;li className=&#39;message&#39; key={index}&gt;\r\n                                    {chat.senderName !== userData.username &amp;&amp; &lt;div className=&#39;avatar&#39;&gt;{chat.senderName}&lt;/div&gt;}\r\n                                    &lt;div className=&#39;message-data&#39;&gt;{chat.message}&lt;/div&gt;\r\n                                    {chat.senderName === userData.username &amp;&amp; &lt;div className=&#39;avatar self&#39;&gt;{chat.senderName}&lt;/div&gt;}\r\n                                 &lt;/li&gt;\r\n\r\n                        ))} \r\n\r\n                        &lt;/ul&gt;\r\n\r\n                        &lt;div className=&#39;send-message&#39;&gt;\r\n    &lt;input type=&#39;text&#39; className=&#39;input-message&#39; name=&#39;message&#39; placeholder={`enter private message for ${tab}`} value={userData.message} onChange={handleValue}&gt;&lt;/input&gt;\r\n    &lt;button type=&#39;button&#39; className=&#39;send button&#39; onClick={sendPrivateMessage}&gt;send&lt;/button&gt;\r\n\r\n&lt;/div&gt;\r\n                      \r\n                        \r\n     &lt;/div&gt;}\r\n\r\n\r\n\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;    \r\n        :\r\n        &lt;div className=&#39;register&#39;&gt;\r\n            &lt;input  id=&#39;username&#39; name=&#39;username&#39; placeholder=&#39;enter the user name&#39; value={userData.username} onChange={handleValue}/&gt;\r\n            &lt;button type=&#39;button&#39; onClick={registerUser}&gt;connect&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \r\n    }\r\n\r\n    &lt;/div&gt;\r\n  )\r\n}\r\n\r\nexport default ChatRoom\r\n```\r\n\r\nbackend spring boot websocket code: \r\n\r\n```\r\npackage Configurations;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n\r\n\r\n\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class webSocketConfig implements WebSocketMessageBrokerConfigurer{\r\n\r\n\t\r\n\t\r\n\r\n\t@Override\r\n\tpublic  void registerStompEndpoints(StompEndpointRegistry registry) {\r\n\t\t \r\n\t\tregistry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).setAllowedOrigins(&quot;http://localhost:3000&quot;).withSockJS(); //registers an endpoint ws and allows connections from any origin\r\n\t\t//The withSockJS() method enables SockJS fallback options for browsers that do not support WebSocket directly.\r\n\t\t//Clients will connect to the WebSocket server using this endpoint.\r\n\t\tSystem.out.println(&quot;entered the function1&quot;);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t//register stomp endpoints\r\n\t\r\n\t\r\n\t//configure message broker\r\n\t//responsible for routing messages from one client to another.\r\n\t\r\n\t@Override\r\n\tpublic  void configureMessageBroker(MessageBrokerRegistry registry) {\r\n\t\t//prefix in which the user is sending the data to the server\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;); //messages sent from the client to the server should start with &quot;/app&quot;.// this method defines the prefix that clients should use when sending messages to the server.\r\n\t\tregistry.enableSimpleBroker(&quot;/chatroom&quot;,&quot;/user&quot;);//These prefixes represent the different topics or channels to which the server can send messages. //Messages sent to destinations starting with &quot;/chatroom&quot; will be sent to subscribers, and messages sent to destinations starting with &quot;/user&quot; will be routed to specific users.\r\n\t\tregistry.setUserDestinationPrefix(&quot;/user&quot;);//Messages sent to destinations starting with &quot;/user&quot; will be directed to individual users\r\n\t\t//This is the destination prefix for user-specific destinations. When the server sends a message to a destination that starts with &quot;/user&quot;, it indicates that the message is intended for an individual user.\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nspring boot controller : \r\n\r\n```\r\npackage Controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.messaging.handler.annotation.MessageMapping;\r\nimport org.springframework.messaging.handler.annotation.Payload;\r\nimport org.springframework.messaging.handler.annotation.SendTo;\r\nimport org.springframework.messaging.simp.SimpMessagingTemplate;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport Model.MessageModel;\r\n\r\n\r\n\r\n@RestController\r\npublic class ChatRoomController {\r\n//create method which recieves the data to chatroom and sends the message to the chatRoom topic\r\n\r\n\t\r\n\t//we can create a dynamic topics with this\r\n\t@Autowired\r\n\tprivate SimpMessagingTemplate simpMessagingTemp;\r\n\t//his template simplifies sending messages to WebSocket destinations.\r\n\t\r\n\t\r\n\t//messages sent to the &quot;/app/message&quot; destination will be handled by the receivePublicMessage method.\r\n\t\r\n\t@MessageMapping(&quot;/message&quot;) //user must use /app/message since we declare //app to make user comunicate with server\r\n\t@SendTo(&quot;/chatroom/public&quot;) //using the chatroom topic i declared\r\n\t//This annotation specifies that the return value of the below mehtod  should be sent to the &quot;/chatroom/public\r\n\tprivate MessageModel recievePublicMessage(@Payload MessageModel messageModel) { //@Payload annotation indicates that the method parameter should be extracted from the payload of the message.\r\n\t\treturn messageModel;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t@MessageMapping(&quot;/private-message&quot;)  //   /app/private-message\r\n\tprivate MessageModel recievePrivateMessage(@Payload MessageModel messageModel) {\r\n\t\t\r\n\t\t\r\n\t\t//to send to diffrenet topic\r\n\t\tsimpMessagingTemp.convertAndSendToUser(messageModel.getRecieverName() , &quot;/private&quot;, messageModel); //to /user/david/private\r\n\t\t// the first argument is the username of the receiver, the second argument is the destination (in this case, &quot;/private&quot;), and the third argument is the message to be sent.\r\n\t\t\r\n\t\treturn messageModel;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n//\tprocessing public and private messages. \r\n//\tPublic messages are broadcasted to the &quot;/chatroom/public&quot; topic, \r\n//\tand private messages are sent directly to the specified user using the &quot;/private&quot; topic. \r\n}\r\n```","title":"CORS POLICY Accesing springboot websocket from reactjs sockjs-clien","body":"<p>Iam using ReactJs as frontend and Spring Boot as backend\nusing stomp and sockJs\nevery time i connect to the socket cors policy is displayed</p>\n<p>the error is the following :<br />\nAccess to XMLHttpRequest at '<a href=\"http://localhost:5433/ws/info?t=1700638752589\" rel=\"nofollow noreferrer\">http://localhost:5433/ws/info?t=1700638752589</a>' from origin '<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>react js frontend code :</p>\n<pre><code>import React, { useState } from 'react'\nimport SockJS from 'sockjs-client'\nimport { over } from 'stompjs';\nimport Stomp from 'stompjs';\n\n\nvar myStompClient = null ;\n\nconst ChatRoom = () =&gt; {\n    //message details,connection details ..\n    const [userData,setUserDate] = useState({\n        username : &quot;&quot; ,\n        recievername: &quot;&quot; ,\n        connected : false,\n        message: &quot;&quot; \n    })\n\n    //hold all public chats\n    const [publicChats,setPublicChats] = useState([]);\n\n    //to set a private message the simplest way is to make a map the username as akey and then this userkey will hold list of messages \n    const[privateChats,setPrivateChats] = useState(new Map);\n\n    //this will hold wehter a chatroom or particular user\n    const[tab,setTab] = useState(&quot;CHATROOM&quot;)\n\n    const handleUserName = (event) =&gt;{\n        const {value} = event.target;\n        setUserDate({...userData,&quot;username&quot; : value})\n\n    }\n\n    const registerUser = () =&gt;{\n        // subscribe to all the channel and connect to the websocket\n       \n        let mySock  = new SockJS('http://localhost:5433/ws');;\n        \n        myStompClient = Stomp.over(mySock);\n\n\n        \n        console.log(myStompClient);\n        \n        myStompClient.connect({},onConnected,onError);\n\n\n    }\n\n    const onConnected = () =&gt;{\n        console.log(&quot;enter connected function&quot;)\n        setUserDate({...userData,&quot;connected&quot;:true});\n        myStompClient.subscribe('/chatroom/public' , onPublicMessageRecieved); //3rd is for the callback function\n        myStompClient.subscribe('/user/' +userData.username+'/private',onPrivateMessage);\n        userJoin();\n    }\n\nconst userJoin =() =&gt; {\n    let chatMessage = {\nsenderName : userData.username,\nstatus:'JOIN'\n\n    };\n    myStompClient.send('/app/message',{},JSON.stringify(chatMessage));\n\n}\n\n\n    const  onPublicMessageRecieved = (payload) =&gt;{\nlet payloadData = JSON.parse(payload.body);\nswitch(payloadData.status){\n    case &quot;JOIN&quot;:\n\n    if(!privateChats.get(payloadData.senderName)){\n        privateChats.set(payloadData.senderName , []);\n        setPrivateChats(new Map(privateChats));\n    }\n\n        break;\n    case &quot;MESSAGE&quot;: publicChats.push(payloadData);\n    setPublicChats([...publicChats]);\n        break;\n}\n\n    }\n\n\n    const onError = (error) =&gt;{\n        console.log(&quot;failed&quot;);\n        console.log(error);\n    }\n\n\n\n    const onPrivateMessage = (payload) =&gt;{\n        let payloadData = JSON.parse(payload.body);\n        if(privateChats.get(payloadData.senderName)){\n            privateChats.get(payloadData.senderName).push(payloadData);\n            setPrivateChats(new Map(privateChats));\n        }else{\n            let list = [] ;\n            list.push(payloadData);\n            privateChats.set(payloadData.senderName,list);\n            setPrivateChats(new Map(privateChats));\n\n        }\n\n\n    }\n\n\n    //functions for buttons\n    const handleValue = (event) =&gt;{\n        const {value,name} = event.target;\n        setUserDate({...userData,[name] : value});\n\n    }\n\n\n    const sendPublicMessage = () =&gt;{\n        if(myStompClient){\n            let chatMessage = {\nsenderName:userData.username,\nmessage:userData.message,\nstatus : 'Message'\n\n            };\n            myStompClient.send('/app/message',{},JSON.stringify(chatMessage));\n            setUserDate({...userData,&quot;message&quot;: &quot;&quot;});\n        }\n\n    }\n\n\n\n    const sendPrivateMessage = () =&gt;{\n        if(myStompClient){\n            let chatMessage = {\nsenderName:userData.username,\nrecievername : tab,\nmessage:userData.message,\nstatus : 'Message'\n\n            };\nif(userData.username !== tab){\n    privateChats.get(tab).push(chatMessage);\n    setPrivateChats(new Map(privateChats));\n} \n\n            myStompClient.send('/app/private-message',{},JSON.stringify(chatMessage));\n            setUserDate({...userData,&quot;message&quot;: &quot;&quot;});\n        }\n\n    }\n\n\n\n\n\n\n\n\n  return (\n    &lt;div className='container'&gt;\n        {/* if connected then show the chat else */}\n        {userData.connected?\n        &lt;div className='chat-box'&gt;\n            &lt;div className='member-list'&gt;\n                &lt;ul&gt;\n                    &lt;li onClick={()=&gt;{setTab(&quot;CHATROOM&quot;)} }className={`member ${tab===&quot;CHATROOM&quot; &amp;&amp; &quot;ACTIVE&quot;}`} &gt;Chatroom&lt;/li&gt;\n                    {[...privateChats.keys()].map(\n                    (name,index) =&gt; (\n                        &lt;li onClick={()=&gt;{setTab(name)}} className={`member ${tab===name &amp;&amp; &quot;ACTIVE&quot;}`}&gt;{name}&lt;/li&gt;\n\n                    ))}\n                &lt;/ul&gt;\n   {tab === &quot;chatroom&quot; &amp;&amp;  &lt;div className='chatContent'&gt;  \n\n   &lt;ul className='chat-messages'&gt;\n                        {publicChats.map((chat,index) =&gt;(\n                            &lt;li className='message' key={index}&gt;\n                                    {chat.senderName !== userData.username &amp;&amp; &lt;div className='avatar'&gt;{chat.senderName}&lt;/div&gt;}\n                                    &lt;div className='message-data'&gt;{chat.message}&lt;/div&gt;\n                                    {chat.senderName === userData.username &amp;&amp; &lt;div className='avatar self'&gt;{chat.senderName}&lt;/div&gt;}\n                                 &lt;/li&gt;\n\n                        ))} \n\n&lt;/ul&gt;     \n\n\n&lt;div className='send-message'&gt;\n    &lt;input type='text' className='input-message' name='message' placeholder='enter public message' value={userData.message} onChange={handleValue}&gt;&lt;/input&gt;\n    &lt;button type='button' className='send button' onClick={sendPublicMessage}&gt;send&lt;/button&gt;\n\n&lt;/div&gt;\n                        \n     &lt;/div&gt;}\n\n                            {/* if it is not a chatroom */}\n                            \n     {tab !== &quot;chatroom&quot; &amp;&amp;  &lt;div className='chatContent'&gt;  \n     &lt;ul className='chat-messages'&gt;\n                        {[...privateChats.get(tab)].map((chat,index) =&gt;(\n                            &lt;li className='message' key={index}&gt;\n                                    {chat.senderName !== userData.username &amp;&amp; &lt;div className='avatar'&gt;{chat.senderName}&lt;/div&gt;}\n                                    &lt;div className='message-data'&gt;{chat.message}&lt;/div&gt;\n                                    {chat.senderName === userData.username &amp;&amp; &lt;div className='avatar self'&gt;{chat.senderName}&lt;/div&gt;}\n                                 &lt;/li&gt;\n\n                        ))} \n\n                        &lt;/ul&gt;\n\n                        &lt;div className='send-message'&gt;\n    &lt;input type='text' className='input-message' name='message' placeholder={`enter private message for ${tab}`} value={userData.message} onChange={handleValue}&gt;&lt;/input&gt;\n    &lt;button type='button' className='send button' onClick={sendPrivateMessage}&gt;send&lt;/button&gt;\n\n&lt;/div&gt;\n                      \n                        \n     &lt;/div&gt;}\n\n\n\n            &lt;/div&gt;\n        &lt;/div&gt;    \n        :\n        &lt;div className='register'&gt;\n            &lt;input  id='username' name='username' placeholder='enter the user name' value={userData.username} onChange={handleValue}/&gt;\n            &lt;button type='button' onClick={registerUser}&gt;connect&lt;/button&gt;\n        &lt;/div&gt;\n    \n    }\n\n    &lt;/div&gt;\n  )\n}\n\nexport default ChatRoom\n</code></pre>\n<p>backend spring boot websocket code:</p>\n<pre><code>package Configurations;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\n\n\n\n@CrossOrigin(origins = &quot;*&quot;)\n@Configuration\n@EnableWebSocketMessageBroker\npublic class webSocketConfig implements WebSocketMessageBrokerConfigurer{\n\n    \n    \n\n    @Override\n    public  void registerStompEndpoints(StompEndpointRegistry registry) {\n         \n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).setAllowedOrigins(&quot;http://localhost:3000&quot;).withSockJS(); //registers an endpoint ws and allows connections from any origin\n        //The withSockJS() method enables SockJS fallback options for browsers that do not support WebSocket directly.\n        //Clients will connect to the WebSocket server using this endpoint.\n        System.out.println(&quot;entered the function1&quot;);\n    }\n    \n    \n    \n    \n    \n    //register stomp endpoints\n    \n    \n    //configure message broker\n    //responsible for routing messages from one client to another.\n    \n    @Override\n    public  void configureMessageBroker(MessageBrokerRegistry registry) {\n        //prefix in which the user is sending the data to the server\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;); //messages sent from the client to the server should start with &quot;/app&quot;.// this method defines the prefix that clients should use when sending messages to the server.\n        registry.enableSimpleBroker(&quot;/chatroom&quot;,&quot;/user&quot;);//These prefixes represent the different topics or channels to which the server can send messages. //Messages sent to destinations starting with &quot;/chatroom&quot; will be sent to subscribers, and messages sent to destinations starting with &quot;/user&quot; will be routed to specific users.\n        registry.setUserDestinationPrefix(&quot;/user&quot;);//Messages sent to destinations starting with &quot;/user&quot; will be directed to individual users\n        //This is the destination prefix for user-specific destinations. When the server sends a message to a destination that starts with &quot;/user&quot;, it indicates that the message is intended for an individual user.\n        \n    \n    }\n    \n\n\n    \n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p>spring boot controller :</p>\n<pre><code>package Controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.messaging.handler.annotation.MessageMapping;\nimport org.springframework.messaging.handler.annotation.Payload;\nimport org.springframework.messaging.handler.annotation.SendTo;\nimport org.springframework.messaging.simp.SimpMessagingTemplate;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport Model.MessageModel;\n\n\n\n@RestController\npublic class ChatRoomController {\n//create method which recieves the data to chatroom and sends the message to the chatRoom topic\n\n    \n    //we can create a dynamic topics with this\n    @Autowired\n    private SimpMessagingTemplate simpMessagingTemp;\n    //his template simplifies sending messages to WebSocket destinations.\n    \n    \n    //messages sent to the &quot;/app/message&quot; destination will be handled by the receivePublicMessage method.\n    \n    @MessageMapping(&quot;/message&quot;) //user must use /app/message since we declare //app to make user comunicate with server\n    @SendTo(&quot;/chatroom/public&quot;) //using the chatroom topic i declared\n    //This annotation specifies that the return value of the below mehtod  should be sent to the &quot;/chatroom/public\n    private MessageModel recievePublicMessage(@Payload MessageModel messageModel) { //@Payload annotation indicates that the method parameter should be extracted from the payload of the message.\n        return messageModel;\n        \n    }\n    \n    \n    @MessageMapping(&quot;/private-message&quot;)  //   /app/private-message\n    private MessageModel recievePrivateMessage(@Payload MessageModel messageModel) {\n        \n        \n        //to send to diffrenet topic\n        simpMessagingTemp.convertAndSendToUser(messageModel.getRecieverName() , &quot;/private&quot;, messageModel); //to /user/david/private\n        // the first argument is the username of the receiver, the second argument is the destination (in this case, &quot;/private&quot;), and the third argument is the message to be sent.\n        \n        return messageModel;\n        \n    }\n    \n    \n//  processing public and private messages. \n//  Public messages are broadcasted to the &quot;/chatroom/public&quot; topic, \n//  and private messages are sent directly to the specified user using the &quot;/private&quot; topic. \n}\n</code></pre>\n"},{"tags":["java","maven","maven-3","artifactory"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1700687267,"post_id":77532955,"comment_id":136686625,"body_markdown":"Looks like a bug. Only happens with Maven versions earlier than 4.x when scope type is `import`.","body":"Looks like a bug. Only happens with Maven versions earlier than 4.x when scope type is <code>import</code>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1700762883,"post_id":77532955,"comment_id":136696911,"body_markdown":"The usage spring-boot-starter-parent as a scope import is not really correct better `spring-boot-dependencies` instead... apart from that spring boot version 2.X is end of support (https://spring.io/projects/spring-boot#support) and most important dependencyManagement does NOT support version ranges (for Maven 4 yes) but not for Maven 3.X apart from the general bad idea to use version ranges...","body":"The usage spring-boot-starter-parent as a scope import is not really correct better <code>spring-boot-dependencies</code> instead... apart from that spring boot version 2.X is end of support (<a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>) and most important dependencyManagement does NOT support version ranges (for Maven 4 yes) but not for Maven 3.X apart from the general bad idea to use version ranges..."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1701096064,"post_id":77532955,"comment_id":136729109,"body_markdown":"@khmarbaise cute that you think I have some control over which version of spring boot we&#39;re on... thanks for the correction though. I missed the memo on `-dependencies` I guess.","body":"@khmarbaise cute that you think I have some control over which version of spring boot we&#39;re on... thanks for the correction though. I missed the memo on <code>-dependencies</code> I guess."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1701102460,"post_id":77532955,"comment_id":136730582,"body_markdown":"I closed as duplicate, but in case anyone needs a fix for gradle publishing https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:resolved_dependencies","body":"I closed as duplicate, but in case anyone needs a fix for gradle publishing <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:resolved_dependencies\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701094256,"answer_count":0,"score":0,"last_activity_date":1700685559,"creation_date":1700685559,"question_id":77532955,"body_markdown":"So in our enterprise deployment that of course hosts/proxies everything via Artifactory and any complications that come with that.\r\n\r\nWe&#39;re creating a library that publishes a pom with this.\r\n\r\n```xml\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;[2.5,3)&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nthis is actually generated by Gradle but looks correct to me. Gradle has no problem finding this dependency (there are definitely versions available) for the build.\r\n\r\nMaven generates the following error. It has problems finding the dynamic version using its own syntax... \r\n\r\n```\r\nThe following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:[2.5,3) (absent): Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:[2.5,3) in artcentral\r\n```\r\n\r\n```\r\nApache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\r\n```\r\n\r\n","title":"Dynamic version in library not resolving with maven","body":"<p>So in our enterprise deployment that of course hosts/proxies everything via Artifactory and any complications that come with that.</p>\n<p>We're creating a library that publishes a pom with this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;[2.5,3)&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>this is actually generated by Gradle but looks correct to me. Gradle has no problem finding this dependency (there are definitely versions available) for the build.</p>\n<p>Maven generates the following error. It has problems finding the dynamic version using its own syntax...</p>\n<pre><code>The following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:[2.5,3) (absent): Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:[2.5,3) in artcentral\n</code></pre>\n<pre><code>Apache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546)\n</code></pre>\n"},{"tags":["java","android","android-layout","android-constraintlayout"],"answers":[{"comments":[{"owner":{"account_id":6752660,"reputation":591,"user_id":5202215,"accept_rate":61,"display_name":"Yonah Karp"},"score":15,"creation_date":1493777319,"post_id":40527407,"comment_id":74542477,"body_markdown":"Why does this work? Some explanation would be appreciated. Thanks!","body":"Why does this work? Some explanation would be appreciated. Thanks!"},{"owner":{"account_id":5555999,"reputation":2841,"user_id":4407321,"accept_rate":88,"display_name":"Allan W"},"score":10,"creation_date":1499397673,"post_id":40527407,"comment_id":76899270,"body_markdown":"@YonahKarp You are first adding all of the children to the constraint layout before cloning it to the set, so all the views you&#39;ve added are included. I&#39;d like to point out that you need to set your id programmatically as well, otherwise all getId()s will return -1","body":"@YonahKarp You are first adding all of the children to the constraint layout before cloning it to the set, so all the views you&#39;ve added are included. I&#39;d like to point out that you need to set your id programmatically as well, otherwise all getId()s will return -1"},{"owner":{"account_id":430115,"reputation":1407,"user_id":813353,"accept_rate":54,"display_name":"Diego Fernando Murillo Valenci"},"score":3,"creation_date":1524835564,"post_id":40527407,"comment_id":87143415,"body_markdown":"I spent so many hours and the solution was too simple, there is some place where is this pointed in documentation? how do you know this?","body":"I spent so many hours and the solution was too simple, there is some place where is this pointed in documentation? how do you know this?"},{"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"score":1,"creation_date":1529304997,"post_id":40527407,"comment_id":88807846,"body_markdown":"@DiegoFernandoMurilloValenci it seems that applying a constraintset clears previously applied constraintsets and knowing that one could first extract the old constraintset using clone and then add the new constraint and apply it. In other words, you can add one thing to an existing constraintlayout but you can&#39;t add one constraint to the existing constraintset. This is just my inference based solely on this answer. I am very new to this stuff and Android in general.","body":"@DiegoFernandoMurilloValenci it seems that applying a constraintset clears previously applied constraintsets and knowing that one could first extract the old constraintset using clone and then add the new constraint and apply it. In other words, you can add one thing to an existing constraintlayout but you can&#39;t add one constraint to the existing constraintset. This is just my inference based solely on this answer. I am very new to this stuff and Android in general."},{"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"score":2,"creation_date":1631535993,"post_id":40527407,"comment_id":122240311,"body_markdown":"It&#39;s giving me exception: java.lang.RuntimeException: All children of ConstraintLayout must have ids to use ConstraintSet","body":"It&#39;s giving me exception: java.lang.RuntimeException: All children of ConstraintLayout must have ids to use ConstraintSet"}],"tags":[],"owner":{"account_id":4814419,"reputation":1681,"user_id":3886934,"accept_rate":57,"display_name":"rerashhh"},"comment_count":5,"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1683571128,"creation_date":1478780137,"answer_id":40527407,"question_id":40275152,"body_markdown":"I think you should clone the layout after adding your ImageView.\r\n```java\r\nConstraintLayout layout = (ConstraintLayout)findViewById(R.id.mainConstraint);\r\nConstraintSet set = new ConstraintSet();\r\n\r\nImageView view = new ImageView(this);\r\nview.setId(View.generateViewId());  // cannot set id after add\r\nlayout.addView(view,0);\r\nset.clone(layout);\r\nset.connect(view.getId(), ConstraintSet.TOP, layout.getId(), ConstraintSet.TOP, 60);\r\nset.applyTo(layout); // apply to layout","title":"How to programmatically add views and constraints to a ConstraintLayout?","body":"<p>I think you should clone the layout after adding your ImageView.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConstraintLayout layout = (ConstraintLayout)findViewById(R.id.mainConstraint);\nConstraintSet set = new ConstraintSet();\n\nImageView view = new ImageView(this);\nview.setId(View.generateViewId());  // cannot set id after add\nlayout.addView(view,0);\nset.clone(layout);\nset.connect(view.getId(), ConstraintSet.TOP, layout.getId(), ConstraintSet.TOP, 60);\nset.applyTo(layout); // apply to layout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6441578,"reputation":1389,"user_id":4991437,"display_name":"Phillip Kigenyi"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1627561718,"creation_date":1627561718,"answer_id":68575944,"question_id":40275152,"body_markdown":"Merging this https://stackoverflow.com/q/6369062/4991437 with https://stackoverflow.com/a/40527407/4991437 \r\n\r\nI have discovered an &#39;easier&#39; solution. This works best for adding multiple consistent views that uses **Viewbinding** and **ViewModel**\r\n\r\n 1. Create the *fragment_home.xml*\r\n 2. Add a LinearLayout to the bottom of *fragment_home.xml*\r\n 3. Create an *dynamic_view.xml* that you will inflate\r\n 4. Get elements from ViewModel/Array or whatever source of data available\r\n 5. Inflate and add elements\r\n\r\nIn this case I am creating a textview(title) with a recyclerview[there are libs for this, however, I found more control doing this]\r\n\r\nStep 1,2\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.hometab.HomeFragment&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraint_parent&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;!-- otherviews here --&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/dynamic_linear_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;@dimen/margin_large&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/curated_recycler&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\nStep 3\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/dynamic_constraint&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.Guideline\r\n            android:id=&quot;@+id/guideline&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintGuide_begin=&quot;@dimen/margin_large&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/title_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/shop_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/diary&quot;\r\n            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/title_view&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@id/guideline&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/title_view&quot; /&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/shop_recycler&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:clipToPadding=&quot;false&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@id/guideline&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/title_view&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\nStep 4,5\r\n\r\n        binding = FragmentHomeBinding.inflate(getLayoutInflater());\r\n\r\n        ShopViewModel shopViewModel = new ViewModelProvider(this).get(ShopViewModel.class);\r\n        shopViewModel.getAllShops(false).observe(getViewLifecycleOwner(), shopEntities -&gt; {\r\n            List&lt;ConstraintLayout&gt; shopConstraints = new ArrayList&lt;&gt;();\r\n\r\n            for (ShopEntity shopEntity : shopEntities) {\r\n                // get an instance of the dynamic_view.xml\r\n                DynamicViewBinding dynamicViewBinding = DynamicViewBinding.inflate(getLayoutInflater());\r\n                // add text view content\r\n                dynamicViewBinding.shopName.setText(shopEntity.getName());\r\n                // initialize the recycler layout adapter\r\n                dynamicViewBinding.shopRecycler.setLayoutManager(new ProductCardLayoutManager(getContext(), 1,\r\n                        GridLayoutManager.HORIZONTAL, false, 80));\r\n\r\n                // get all products and add them to recycler view\r\n                productViewModel.getAllProductsByShop(shopEntity.getShopId(), 10).observe(getViewLifecycleOwner(), productEntities -&gt;\r\n                        dynamicViewBinding.shopRecycler.setAdapter(new ProductAdapter(getActivity(), productEntities)));\r\n\r\n                // attach dynamic view to list of dynamic constraint layouts\r\n                shopConstraints.add(dynamicViewBinding.getRoot());\r\n            }\r\n\r\n            // remove all previous views from the linear layout\r\n            binding.dynamicLinearLayout.removeAllViews();\r\n\r\n            // add the new views\r\n            for (ConstraintLayout shopConstraint : shopConstraints) {\r\n                binding.dynamicLinearLayout.addView(shopConstraint);\r\n            }\r\n        });","title":"How to programmatically add views and constraints to a ConstraintLayout?","body":"<p>Merging this <a href=\"https://stackoverflow.com/q/6369062/4991437\">How do I add elements dynamically to a view created with XML</a> with <a href=\"https://stackoverflow.com/a/40527407/4991437\">https://stackoverflow.com/a/40527407/4991437</a></p>\n<p>I have discovered an 'easier' solution. This works best for adding multiple consistent views that uses <strong>Viewbinding</strong> and <strong>ViewModel</strong></p>\n<ol>\n<li>Create the <em>fragment_home.xml</em></li>\n<li>Add a LinearLayout to the bottom of <em>fragment_home.xml</em></li>\n<li>Create an <em>dynamic_view.xml</em> that you will inflate</li>\n<li>Get elements from ViewModel/Array or whatever source of data available</li>\n<li>Inflate and add elements</li>\n</ol>\n<p>In this case I am creating a textview(title) with a recyclerview[there are libs for this, however, I found more control doing this]</p>\n<p>Step 1,2</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.hometab.HomeFragment&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint_parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;!-- otherviews here --&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/dynamic_linear_layout&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;@dimen/margin_large&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/curated_recycler&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>Step 3</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/dynamic_constraint&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=&quot;@+id/guideline&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintGuide_begin=&quot;@dimen/margin_large&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/title_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/shop_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/diary&quot;\n        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n        android:textColor=&quot;@android:color/black&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/title_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/guideline&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/title_view&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/shop_recycler&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:clipToPadding=&quot;false&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/guideline&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/title_view&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Step 4,5</p>\n<pre><code>    binding = FragmentHomeBinding.inflate(getLayoutInflater());\n\n    ShopViewModel shopViewModel = new ViewModelProvider(this).get(ShopViewModel.class);\n    shopViewModel.getAllShops(false).observe(getViewLifecycleOwner(), shopEntities -&gt; {\n        List&lt;ConstraintLayout&gt; shopConstraints = new ArrayList&lt;&gt;();\n\n        for (ShopEntity shopEntity : shopEntities) {\n            // get an instance of the dynamic_view.xml\n            DynamicViewBinding dynamicViewBinding = DynamicViewBinding.inflate(getLayoutInflater());\n            // add text view content\n            dynamicViewBinding.shopName.setText(shopEntity.getName());\n            // initialize the recycler layout adapter\n            dynamicViewBinding.shopRecycler.setLayoutManager(new ProductCardLayoutManager(getContext(), 1,\n                    GridLayoutManager.HORIZONTAL, false, 80));\n\n            // get all products and add them to recycler view\n            productViewModel.getAllProductsByShop(shopEntity.getShopId(), 10).observe(getViewLifecycleOwner(), productEntities -&gt;\n                    dynamicViewBinding.shopRecycler.setAdapter(new ProductAdapter(getActivity(), productEntities)));\n\n            // attach dynamic view to list of dynamic constraint layouts\n            shopConstraints.add(dynamicViewBinding.getRoot());\n        }\n\n        // remove all previous views from the linear layout\n        binding.dynamicLinearLayout.removeAllViews();\n\n        // add the new views\n        for (ConstraintLayout shopConstraint : shopConstraints) {\n            binding.dynamicLinearLayout.addView(shopConstraint);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006653,"reputation":310,"user_id":13166930,"display_name":"miredirex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675927180,"creation_date":1675927180,"answer_id":75395379,"question_id":40275152,"body_markdown":"### MotionLayout Solution\r\nMotionLayout is trickier as it requires special handling due to it having multiple ConstraintSets. If you use the solution intended for ConstraintLayout, for some reason it will position your views somewhere in the bottom right. The correct way to add view in MotionLayout is to use `updateState` instead of `applyTo`:\r\n```kotlin\r\n/* ...up until this point the steps are the same: create constraint set,\r\nset view&#39;s id, clone, connect, etc. */\r\n\r\nlayout.updateState(R.id.start, set)\r\n```\r\n\r\nIn order to make your view visible in other defined ConstraintSets (in this case the `end` ConstraintSet, aka `R.id.end`), use the dedicated `cloneConstraintSet` method and set the view&#39;s size:\r\n\r\n```kotlin\r\n// Clone the constraint set using MotionLayout&#39;s `cloneConstraintSet`\r\nval setEnd = layout.cloneConstraintSet(R.id.end)\r\n// Set the view&#39;s width and height\r\nsetEnd.constrainWidth(view.id, ConstraintLayout.LayoutParams.WRAP_CONTENT)\r\nsetEnd.constrainHeight(view.id, ConstraintLayout.LayoutParams.WRAP_CONTENT)\r\n// Update state\r\nlayout.updateState(R.id.end, setEnd)\r\n```","title":"How to programmatically add views and constraints to a ConstraintLayout?","body":"<h3>MotionLayout Solution</h3>\n<p>MotionLayout is trickier as it requires special handling due to it having multiple ConstraintSets. If you use the solution intended for ConstraintLayout, for some reason it will position your views somewhere in the bottom right. The correct way to add view in MotionLayout is to use <code>updateState</code> instead of <code>applyTo</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/* ...up until this point the steps are the same: create constraint set,\nset view's id, clone, connect, etc. */\n\nlayout.updateState(R.id.start, set)\n</code></pre>\n<p>In order to make your view visible in other defined ConstraintSets (in this case the <code>end</code> ConstraintSet, aka <code>R.id.end</code>), use the dedicated <code>cloneConstraintSet</code> method and set the view's size:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Clone the constraint set using MotionLayout's `cloneConstraintSet`\nval setEnd = layout.cloneConstraintSet(R.id.end)\n// Set the view's width and height\nsetEnd.constrainWidth(view.id, ConstraintLayout.LayoutParams.WRAP_CONTENT)\nsetEnd.constrainHeight(view.id, ConstraintLayout.LayoutParams.WRAP_CONTENT)\n// Update state\nlayout.updateState(R.id.end, setEnd)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171431,"reputation":6427,"user_id":398844,"display_name":"Torben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700684538,"creation_date":1700684538,"answer_id":77532885,"question_id":40275152,"body_markdown":"Adding constraints to a programmatically generated view is also possible without creating a new constraint set, but simply by just setting the layout parameters of the view. Here is an example in Kotlin and Java:\r\n\r\n```kotlin\r\nval view = ImageView(this)\r\nview.layoutParams = ConstraintLayout.LayoutParams(\r\n    ConstraintLayout.LayoutParams.WRAP_CONTENT,\r\n    ConstraintLayout.LayoutParams.WRAP_CONTENT\r\n).apply {\r\n    topToTop = R.id.mainConstraint\r\n    topMargin = 60\r\n}\r\n\r\nval layout = findViewById&lt;ConstraintLayout&gt;(R.id.mainConstraint)\r\nlayout.addView(view)\r\n```\r\n```\r\nConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(\r\n    ConstraintLayout.LayoutParams.WRAP_CONTENT,\r\n    ConstraintLayout.LayoutParams.WRAP_CONTENT\r\n);\r\nlayoutParams.topToTop = R.id.mainConstraint;\r\nlayoutParams.topMargin = 60;\r\n\r\nImageView view = new ImageView(this);\r\nview.setLayoutParams(layoutParams);\r\n\r\nConstraintLayout layout = findViewById(R.id.mainConstraint);\r\nlayout.addView(view);\r\n```\r\n\r\nIt is also easy to modify the layout parameters after a view has already been added to a layout. Again an example in Kotlin and Java:\r\n\r\n```kotlin\r\nview.layoutParams = (tv.layoutParams as ConstraintLayout.LayoutParams).apply {\r\n    topMargin = 120\r\n}\r\n```\r\n```\r\nConstraintLayout.LayoutParams layoutParams = (ConstraintLayout.LayoutParams) view.getLayoutParams();\r\nlayoutParams.topMargin = 120;\r\nview.setLayoutParams(layoutParams);\r\n```\r\n\r\nJust don&#39;t forget to re-assign the modified layout parameters to the view. Otherwise the changes won&#39;t be applied.","title":"How to programmatically add views and constraints to a ConstraintLayout?","body":"<p>Adding constraints to a programmatically generated view is also possible without creating a new constraint set, but simply by just setting the layout parameters of the view. Here is an example in Kotlin and Java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val view = ImageView(this)\nview.layoutParams = ConstraintLayout.LayoutParams(\n    ConstraintLayout.LayoutParams.WRAP_CONTENT,\n    ConstraintLayout.LayoutParams.WRAP_CONTENT\n).apply {\n    topToTop = R.id.mainConstraint\n    topMargin = 60\n}\n\nval layout = findViewById&lt;ConstraintLayout&gt;(R.id.mainConstraint)\nlayout.addView(view)\n</code></pre>\n<pre><code>ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(\n    ConstraintLayout.LayoutParams.WRAP_CONTENT,\n    ConstraintLayout.LayoutParams.WRAP_CONTENT\n);\nlayoutParams.topToTop = R.id.mainConstraint;\nlayoutParams.topMargin = 60;\n\nImageView view = new ImageView(this);\nview.setLayoutParams(layoutParams);\n\nConstraintLayout layout = findViewById(R.id.mainConstraint);\nlayout.addView(view);\n</code></pre>\n<p>It is also easy to modify the layout parameters after a view has already been added to a layout. Again an example in Kotlin and Java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>view.layoutParams = (tv.layoutParams as ConstraintLayout.LayoutParams).apply {\n    topMargin = 120\n}\n</code></pre>\n<pre><code>ConstraintLayout.LayoutParams layoutParams = (ConstraintLayout.LayoutParams) view.getLayoutParams();\nlayoutParams.topMargin = 120;\nview.setLayoutParams(layoutParams);\n</code></pre>\n<p>Just don't forget to re-assign the modified layout parameters to the view. Otherwise the changes won't be applied.</p>\n"}],"owner":{"account_id":5339493,"reputation":7038,"user_id":4257162,"accept_rate":80,"display_name":"LeoColman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72846,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":40527407,"answer_count":4,"score":94,"last_activity_date":1700684538,"creation_date":1477535372,"question_id":40275152,"body_markdown":"I&#39;m having a problem to programmatically add views to a `ConstraintLayout`, and set up all the constraints required for the layout to work.  \r\n\r\nWhat I have at the moment doesn&#39;t work:\r\n\r\n    ConstraintLayout layout = (ConstraintLayout) findViewById(R.id.mainConstraint);\r\n    ConstraintSet set = new ConstraintSet();\r\n    set.clone(layout);\r\n\r\n    ImageView view = new ImageView(this);\r\n    layout.addView(view,0);\r\n    set.connect(view.getId(), ConstraintSet.TOP, layout.getId(), ConstraintSet.TOP, 60);\r\n    set.applyTo(layout);\r\n\r\nThe `ImageView` doesn&#39;t even appear on the layout. When adding to a `RelativeLayout`, it works like a charm.\r\n\r\nWhat can I do to create the constraints I need, so that my layout work again?","title":"How to programmatically add views and constraints to a ConstraintLayout?","body":"<p>I'm having a problem to programmatically add views to a <code>ConstraintLayout</code>, and set up all the constraints required for the layout to work.  </p>\n\n<p>What I have at the moment doesn't work:</p>\n\n<pre><code>ConstraintLayout layout = (ConstraintLayout) findViewById(R.id.mainConstraint);\nConstraintSet set = new ConstraintSet();\nset.clone(layout);\n\nImageView view = new ImageView(this);\nlayout.addView(view,0);\nset.connect(view.getId(), ConstraintSet.TOP, layout.getId(), ConstraintSet.TOP, 60);\nset.applyTo(layout);\n</code></pre>\n\n<p>The <code>ImageView</code> doesn't even appear on the layout. When adding to a <code>RelativeLayout</code>, it works like a charm.</p>\n\n<p>What can I do to create the constraints I need, so that my layout work again?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1700664806,"post_id":77529917,"comment_id":136682603,"body_markdown":"Add fetch type to lazy `@ManyToOne(fetch=FetchType.LAZY)\n@JoinColumnsOrFormulas({\n @JoinColumnOrFormula(column=@JoinColumn(name=&quot;custId&quot;, referencedColumnName =&quot;id&quot;) ),\n @JoinColumnOrFormula(formula = @JoinFormula(value=&quot;1&quot;,referencedColumnName = &quot;active&quot;))\n})\nCustomer customer;\n`","body":"Add fetch type to lazy <code>@ManyToOne(fetch=FetchType.LAZY) @JoinColumnsOrFormulas({  @JoinColumnOrFormula(column=@JoinColumn(name=&quot;custId&quot;, referencedColumnName =&quot;id&quot;) ),  @JoinColumnOrFormula(formula = @JoinFormula(value=&quot;1&quot;,referencedColumnName = &quot;active&quot;)) }) Customer customer; </code>"},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1700666038,"post_id":77529917,"comment_id":136682881,"body_markdown":"@ArunDuraisamy this approach won&#39;t work in the current context.","body":"@ArunDuraisamy this approach won&#39;t work in the current context."},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1700670299,"post_id":77529917,"comment_id":136683792,"body_markdown":"can you elaborate your question more.","body":"can you elaborate your question more."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1700810556,"post_id":77529917,"comment_id":136701025,"body_markdown":"@ArunDuraisamy &gt;&gt; Please to clarify what exactly clarification do you need to help me to resolve this question. The problem is straightforward. I have an entity and this entity has a relationship to a foreign entity. I need somehow to be able to search by foreign entity attributes. But as a result, return this entity with lazy fields. (Not fetch all foreign entity attributes. )","body":"@ArunDuraisamy &gt;&gt; Please to clarify what exactly clarification do you need to help me to resolve this question. The problem is straightforward. I have an entity and this entity has a relationship to a foreign entity. I need somehow to be able to search by foreign entity attributes. But as a result, return this entity with lazy fields. (Not fetch all foreign entity attributes. )"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1700985907,"post_id":77529917,"comment_id":136717331,"body_markdown":"Once we query with foreign entity fields, objects will be loaded even though we mapped relation as FetchType.Lazy. \n1. Either think on Mapping a Hibernate Query to a Custom Class so that only required fields can return \n2. try with Entity Graph feature","body":"Once we query with foreign entity fields, objects will be loaded even though we mapped relation as FetchType.Lazy.  1. Either think on Mapping a Hibernate Query to a Custom Class so that only required fields can return  2. try with Entity Graph feature"}],"answers":[{"comments":[{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1700810377,"post_id":77532776,"comment_id":136701000,"body_markdown":"Yeah, but the problem if I will make the entity in such way. I won&#39;t be able to search by foreign entity fields.It is required for my task. So, I need somehow to be able to search by foreign entity attributes and I need to return the entity lazy.","body":"Yeah, but the problem if I will make the entity in such way. I won&#39;t be able to search by foreign entity fields.It is required for my task. So, I need somehow to be able to search by foreign entity attributes and I need to return the entity lazy."}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700683038,"creation_date":1700683038,"answer_id":77532776,"question_id":77529917,"body_markdown":"If you only want to get the ID, you should not use class B type in the entity, since this tells Hibernate to always fetch the entity when you do getName();\r\n\r\n    @Entity\r\n    class A {\r\n        private String name;\r\n    }\r\n\r\nis this not working?\r\n","title":"Combine LAZY load and @JoinColumnOrFormula","body":"<p>If you only want to get the ID, you should not use class B type in the entity, since this tells Hibernate to always fetch the entity when you do getName();</p>\n<pre><code>@Entity\nclass A {\n    private String name;\n}\n</code></pre>\n<p>is this not working?</p>\n"}],"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700683038,"creation_date":1700655817,"question_id":77529917,"body_markdown":"folks!\r\nI have entity A and this entity has a relationship @ManyToOne wit entity B. Mapping goes as follows:\r\n```java  \r\n@Entity\r\nclass A {\r\n@ManyToOne\r\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;&#39;SOME_VALUE&#39;&quot;, referencedColumnName = &quot;type&quot;))\r\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;name::varchar&quot;, referencedColumnName = &quot;code&quot;, nullable = false))\r\n    private B name;\r\n}\r\n```\r\n\r\nIt seems like Hibernate loads this entity every time. Is there a way to only fetch only its id?","title":"Combine LAZY load and @JoinColumnOrFormula","body":"<p>folks!\nI have entity A and this entity has a relationship @ManyToOne wit entity B. Mapping goes as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass A {\n@ManyToOne\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;'SOME_VALUE'&quot;, referencedColumnName = &quot;type&quot;))\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;name::varchar&quot;, referencedColumnName = &quot;code&quot;, nullable = false))\n    private B name;\n}\n</code></pre>\n<p>It seems like Hibernate loads this entity every time. Is there a way to only fetch only its id?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":14190617,"reputation":115,"user_id":10251393,"display_name":"Prashant Prakash"},"score":0,"creation_date":1700719919,"post_id":77532759,"comment_id":136689509,"body_markdown":"The AbstractMessageListenercontainer calls the createConsumer method internally while starting the listener","body":"The AbstractMessageListenercontainer calls the createConsumer method internally while starting the listener"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700682811,"creation_date":1700682811,"answer_id":77532759,"question_id":77531306,"body_markdown":"Since you are constructing the Containers yourself, you have access to the Consumers. What if you create a ConsumerService, which holds an internal list of all the consumers used, and you add a shutdown hook to that?\r\n\r\n    @Service\r\n    public class ConsumerService {\r\n    \r\n        private final List&lt;KafkaConsumer&gt; consumers = new ArrayList&lt;KafkaConsumer&gt;();\r\n    \r\n        public KafkaConsumer&lt;String, String&gt; requestConsumer(){\r\n            var consumer = createConsumer();\r\n            consumers.add(consumer);\r\n            return consumer;   \r\n        }\r\n    \r\n        @PreDestroy\r\n        public void destroy() {\r\n            //here do the clean, like for example not ACK the messages, so another consumer can pick them up?\r\n        }\r\n    \r\n    }","title":"Graceful Shutdown Spring Kafka","body":"<p>Since you are constructing the Containers yourself, you have access to the Consumers. What if you create a ConsumerService, which holds an internal list of all the consumers used, and you add a shutdown hook to that?</p>\n<pre><code>@Service\npublic class ConsumerService {\n\n    private final List&lt;KafkaConsumer&gt; consumers = new ArrayList&lt;KafkaConsumer&gt;();\n\n    public KafkaConsumer&lt;String, String&gt; requestConsumer(){\n        var consumer = createConsumer();\n        consumers.add(consumer);\n        return consumer;   \n    }\n\n    @PreDestroy\n    public void destroy() {\n        //here do the clean, like for example not ACK the messages, so another consumer can pick them up?\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14190617,"reputation":115,"user_id":10251393,"display_name":"Prashant Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700682811,"creation_date":1700667725,"question_id":77531306,"body_markdown":"I am writing consumer for a few kafka topics using spring framework and spring Kafka. I have to use spring-kafka 1.3 due to some reason. I have done manual configuration to read all topics, create listener, wrap it in container, then start all of them. I am using batch message listener with manual acknowledgement.\r\n\r\nI want the application to stop gracefully on shutdown. I was thinking of putting the consumer to pause, processing all the leftover payload that was fetched, then stop the container. When all containers are stopped, I would have stopped and exit the application. But, older version doesn&#39;t have pause method to container, or any way to access the Consumer&lt;K, V&gt; object. Is there any way to achieve this without updating to newer version?\r\n\r\nThe stop method waits on container to process the payload for a defined timeout value, then stops it, which might cause payload being dropped, or processed twice.","title":"Graceful Shutdown Spring Kafka","body":"<p>I am writing consumer for a few kafka topics using spring framework and spring Kafka. I have to use spring-kafka 1.3 due to some reason. I have done manual configuration to read all topics, create listener, wrap it in container, then start all of them. I am using batch message listener with manual acknowledgement.</p>\n<p>I want the application to stop gracefully on shutdown. I was thinking of putting the consumer to pause, processing all the leftover payload that was fetched, then stop the container. When all containers are stopped, I would have stopped and exit the application. But, older version doesn't have pause method to container, or any way to access the Consumer&lt;K, V&gt; object. Is there any way to achieve this without updating to newer version?</p>\n<p>The stop method waits on container to process the payload for a defined timeout value, then stops it, which might cause payload being dropped, or processed twice.</p>\n"},{"tags":["java","mapstruct"],"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700682768,"creation_date":1700682164,"question_id":77532705,"body_markdown":"Is there any possibility to ignore some field, eg `@Mapping(ignore = true, target = &quot;dontWantToLazyFetchFromDbSometimes&quot;)`? I have mapper where sometimes the common object has list of objects and that list is sometimes unnecessary. I want to prevent unnecessary fetching data from db when someone forget to add `ignore` when adding some new mapping method:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface ModelMapper {\r\n\r\n    @Mapping(target = &quot;aaa&quot;, source = &quot;bbb&quot;)\r\n    @Mapping(ignore = true, target = &quot;ccc&quot;)\r\n    ResultObject mapToResultObject(Window window);\r\n\r\n    @Mapping(target = &quot;aaa&quot;, source = &quot;bbb&quot;)\r\n    @Mapping(target= &quot;ccc&quot;, source= &quot;ccc&quot;)\r\n    ResultObject mapToResultObject(Window window);\r\n```","title":"Mapstruct - ignore field for the whole mapper","body":"<p>Is there any possibility to ignore some field, eg <code>@Mapping(ignore = true, target = &quot;dontWantToLazyFetchFromDbSometimes&quot;)</code>? I have mapper where sometimes the common object has list of objects and that list is sometimes unnecessary. I want to prevent unnecessary fetching data from db when someone forget to add <code>ignore</code> when adding some new mapping method:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ModelMapper {\n\n    @Mapping(target = &quot;aaa&quot;, source = &quot;bbb&quot;)\n    @Mapping(ignore = true, target = &quot;ccc&quot;)\n    ResultObject mapToResultObject(Window window);\n\n    @Mapping(target = &quot;aaa&quot;, source = &quot;bbb&quot;)\n    @Mapping(target= &quot;ccc&quot;, source= &quot;ccc&quot;)\n    ResultObject mapToResultObject(Window window);\n</code></pre>\n"},{"tags":["java","docker"],"answers":[{"comments":[{"owner":{"account_id":151680,"reputation":769,"user_id":365708,"display_name":"aurelije"},"score":20,"creation_date":1564135778,"post_id":54517077,"comment_id":100940002,"body_markdown":"As I read -XX:+UseContainerSupport is turned on by default so even without it on JDK 10 and newer it will be the same as having that. Only useful is option to disable it with -XX:-UseContainerSupport. But in that case JVM will not be able to observe the limits set by docker container, it will read directly limits of whole container host so instead of getting java.lang.OutOfMemoryError: Java heap space the process would be brutally killed when it hits container limit. No application logs would show the problem... So in a word do not disable this option","body":"As I read -XX:+UseContainerSupport is turned on by default so even without it on JDK 10 and newer it will be the same as having that. Only useful is option to disable it with -XX:-UseContainerSupport. But in that case JVM will not be able to observe the limits set by docker container, it will read directly limits of whole container host so instead of getting java.lang.OutOfMemoryError: Java heap space the process would be brutally killed when it hits container limit. No application logs would show the problem... So in a word do not disable this option"},{"owner":{"account_id":9890449,"reputation":814,"user_id":7323578,"display_name":"Toofy"},"score":0,"creation_date":1606919142,"post_id":54517077,"comment_id":115108775,"body_markdown":"Is this parameter enabled by default on java 8?","body":"Is this parameter enabled by default on java 8?"},{"owner":{"account_id":16127529,"reputation":320,"user_id":11641977,"display_name":"cipher0"},"score":0,"creation_date":1632396016,"post_id":54517077,"comment_id":122483422,"body_markdown":"From the release notes they say it&#39;s enabled by default on Java8 as well:\nhttps://www.oracle.com/java/technologies/javase/8u191-relnotes.html","body":"From the release notes they say it&#39;s enabled by default on Java8 as well: <a href=\"https://www.oracle.com/java/technologies/javase/8u191-relnotes.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/8u191-relnotes.html</a>"}],"tags":[],"owner":{"account_id":15262961,"reputation":218,"user_id":11012448,"display_name":"ionenorch"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1560871165,"creation_date":1549286568,"answer_id":54517077,"question_id":54516988,"body_markdown":"Yes. The container will start without `-XX:+UseContainerSupport`.\r\n\r\n`-XX:+UseContainerSupport` is used to allocate a larger fraction of memory.\r\n\r\nTo prevent the JVM adjusting the maximum heap size when running in a container, set  `-XX:-UseContainerSupport`.\r\n\r\nIn addition to that, https://www.eclipse.org/openj9/docs/xxusecontainersupport/ might be helpful.","title":"What does UseContainerSupport VM parameter do?","body":"<p>Yes. The container will start without <code>-XX:+UseContainerSupport</code>.</p>\n\n<p><code>-XX:+UseContainerSupport</code> is used to allocate a larger fraction of memory.</p>\n\n<p>To prevent the JVM adjusting the maximum heap size when running in a container, set  <code>-XX:-UseContainerSupport</code>.</p>\n\n<p>In addition to that, <a href=\"https://www.eclipse.org/openj9/docs/xxusecontainersupport/\" rel=\"noreferrer\">https://www.eclipse.org/openj9/docs/xxusecontainersupport/</a> might be helpful.</p>\n"},{"tags":[],"owner":{"account_id":2363312,"reputation":912,"user_id":2069549,"display_name":"Thiago"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1700682582,"creation_date":1565852010,"answer_id":57505850,"question_id":54516988,"body_markdown":"Starting from Java 10, this parameter (which is enabled by default) is used to make the JVM take the **container** memory limits into account when allocating the heap size, not the host machine configuration.\r\n\r\nThis option was backported to Java 8:\r\nhttps://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html\r\n\r\nExamples:\r\n\r\nIf you run:\r\n\r\n    docker run **-m 1gb** openjdk:8u131 java -XshowSettings:vm -version\r\n\r\nThe result is going to be (on my machine Ubuntu with 8gb)\r\n    \r\n    Max. Heap Size (Estimated): 1.68G\r\n\r\nI set a memory limit for the container but it ignored and used the host config (it uses by default total memory/4)\r\n\r\nNow if I run the version that has the new feature (link above) you can see that the container memory limite was taken into account:\r\n\r\n    docker run **-m 1g** openjdk:8u191-jre-alpine java -XshowSettings:vm -version\r\n\r\nResult (total memory / 4):\r\n\r\n    Max. Heap Size (Estimated): 247.50M\r\n\r\nAt the time I&#39;m writing this the LATEST version of the openjdk:8 image is 222 so you can use this version. That has the feature included.\r\n\r\nFor more information:\r\n\r\nExplains this flag use in Java 10: https://medium.com/adorsys/jvm-memory-settings-in-a-container-environment-64b0840e1d9e\r\n\r\nUsing this flag with Java 8: https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54 \r\n","title":"What does UseContainerSupport VM parameter do?","body":"<p>Starting from Java 10, this parameter (which is enabled by default) is used to make the JVM take the <strong>container</strong> memory limits into account when allocating the heap size, not the host machine configuration.</p>\n<p>This option was backported to Java 8:\n<a href=\"https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html</a></p>\n<p>Examples:</p>\n<p>If you run:</p>\n<pre><code>docker run **-m 1gb** openjdk:8u131 java -XshowSettings:vm -version\n</code></pre>\n<p>The result is going to be (on my machine Ubuntu with 8gb)</p>\n<pre><code>Max. Heap Size (Estimated): 1.68G\n</code></pre>\n<p>I set a memory limit for the container but it ignored and used the host config (it uses by default total memory/4)</p>\n<p>Now if I run the version that has the new feature (link above) you can see that the container memory limite was taken into account:</p>\n<pre><code>docker run **-m 1g** openjdk:8u191-jre-alpine java -XshowSettings:vm -version\n</code></pre>\n<p>Result (total memory / 4):</p>\n<pre><code>Max. Heap Size (Estimated): 247.50M\n</code></pre>\n<p>At the time I'm writing this the LATEST version of the openjdk:8 image is 222 so you can use this version. That has the feature included.</p>\n<p>For more information:</p>\n<p>Explains this flag use in Java 10: <a href=\"https://medium.com/adorsys/jvm-memory-settings-in-a-container-environment-64b0840e1d9e\" rel=\"nofollow noreferrer\">https://medium.com/adorsys/jvm-memory-settings-in-a-container-environment-64b0840e1d9e</a></p>\n<p>Using this flag with Java 8: <a href=\"https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54\" rel=\"nofollow noreferrer\">https://blog.softwaremill.com/docker-support-in-new-java-8-finally-fd595df0ca54</a></p>\n"}],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36983,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":54517077,"answer_count":2,"score":29,"last_activity_date":1700682582,"creation_date":1549286218,"question_id":54516988,"body_markdown":"What does this option do in docker file?\r\n\r\n    ENTRYPOINT java -XX:+UseContainerSupport $JAVA_OPTIONS -jar /myapp.jar\r\n\r\nWill the docker container start without this parameter?\r\nI checked [one article][1] which says \r\n\r\n&gt; enable memory support\r\n\r\nbut it is still not clear to me.\r\n\r\n  [1]: http://www.batey.info/docker-jvm-k8s.html","title":"What does UseContainerSupport VM parameter do?","body":"<p>What does this option do in docker file?</p>\n\n<pre><code>ENTRYPOINT java -XX:+UseContainerSupport $JAVA_OPTIONS -jar /myapp.jar\n</code></pre>\n\n<p>Will the docker container start without this parameter?\nI checked <a href=\"http://www.batey.info/docker-jvm-k8s.html\" rel=\"noreferrer\">one article</a> which says </p>\n\n<blockquote>\n  <p>enable memory support</p>\n</blockquote>\n\n<p>but it is still not clear to me.</p>\n"},{"tags":["java","alfresco","hazelcast"],"comments":[{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":1,"creation_date":1698992797,"post_id":77410858,"comment_id":136477275,"body_markdown":"From the logs we can see that Alfresco cluster is trying to access Hazelcast cluster but for some reason the operation times out. Check if the network connection is up, Hazelcast cluster is up. Also check CPU, JVM logs etc. The problem is the communication between Alfresco and HZ","body":"From the logs we can see that Alfresco cluster is trying to access Hazelcast cluster but for some reason the operation times out. Check if the network connection is up, Hazelcast cluster is up. Also check CPU, JVM logs etc. The problem is the communication between Alfresco and HZ"}],"answers":[{"comments":[{"owner":{"account_id":29811865,"reputation":1,"user_id":22847117,"display_name":"Stefan Milenkov"},"score":0,"creation_date":1699124952,"post_id":77416223,"comment_id":136493011,"body_markdown":"Thank you all for your answers. DB team is investigating. If they find a solution , I will post it here","body":"Thank you all for your answers. DB team is investigating. If they find a solution , I will post it here"},{"owner":{"account_id":29811865,"reputation":1,"user_id":22847117,"display_name":"Stefan Milenkov"},"score":0,"creation_date":1700726124,"post_id":77416223,"comment_id":136690264,"body_markdown":"The problem occurs on every 30 to max 48 hours .DB team says everything on the DB server is OK. No issues with SQL . They run the checks while alfreso is logging the concurrent_map_get/put errors. Each time this happens only alfresco restart is &quot;fixing&quot; the issue . The system is stable for a day or two.","body":"The problem occurs on every 30 to max 48 hours .DB team says everything on the DB server is OK. No issues with SQL . They run the checks while alfreso is logging the concurrent_map_get/put errors. Each time this happens only alfresco restart is &quot;fixing&quot; the issue . The system is stable for a day or two."},{"owner":{"account_id":2138996,"reputation":2563,"user_id":1898538,"display_name":"Heiko Robert"},"score":0,"creation_date":1700755047,"post_id":77416223,"comment_id":136695680,"body_markdown":"hazelcast timeouts could have many causes similar to printer is not printing. You may also check the jdbc connection pool on the Alfresco site too. Since Alfresco is only packaged with hazelcast in the Enterprise Edition I suggest you contact commercial support or at least consult someone who is familiar with your stack.","body":"hazelcast timeouts could have many causes similar to printer is not printing. You may also check the jdbc connection pool on the Alfresco site too. Since Alfresco is only packaged with hazelcast in the Enterprise Edition I suggest you contact commercial support or at least consult someone who is familiar with your stack."}],"tags":[],"owner":{"account_id":2138996,"reputation":2563,"user_id":1898538,"display_name":"Heiko Robert"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699010112,"creation_date":1699010112,"answer_id":77416223,"question_id":77410858,"body_markdown":"As mentioned by Or&#231;un &#199;olak in the comments, the exception comes from a timeout of your hazelcast cache cluster, but this is probably not the actual problem, just the symptom. I would guess that on your DB server and/or on the Alfresco jdbc connection pool the maximum number of connections has run out. However, this should be in the log on one of the cluster nodes.\r\n\r\nTry to analyze the database server if the problem occurs again.\r\n","title":"Alfresco errors","body":"<p>As mentioned by Orçun Çolak in the comments, the exception comes from a timeout of your hazelcast cache cluster, but this is probably not the actual problem, just the symptom. I would guess that on your DB server and/or on the Alfresco jdbc connection pool the maximum number of connections has run out. However, this should be in the log on one of the cluster nodes.</p>\n<p>Try to analyze the database server if the problem occurs again.</p>\n"}],"owner":{"account_id":29811865,"reputation":1,"user_id":22847117,"display_name":"Stefan Milenkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700682473,"creation_date":1698938689,"question_id":77410858,"body_markdown":"Can someone help me with the following errors:\r\n\r\n```none\r\n3:02:19,562 ERROR [org.springframework.extensions.webscripts.AbstractRuntime] Exception from executeScript - redirecting to status template error: 10021817710 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\norg.springframework.extensions.webscripts.WebScriptException: 10021817710 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\n\tat org.springframework.extensions.webscripts.AbstractWebScript.createStatusException(AbstractWebScript.java:1067)\r\n\tat org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:171)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer$3.execute(RepositoryContainer.java:422)\r\n\tat org.alfresco.repo.transaction.RetryingTransactionHelper.doInTransaction(RetryingTransactionHelper.java:450)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecute(RepositoryContainer.java:491)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecuteAs(RepositoryContainer.java:529)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.executeScript(RepositoryContainer.java:341)\r\n\tat org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:378)\r\n\tat org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:209)\r\n\tat org.springframework.extensions.webscripts.servlet.WebScriptServlet.service(WebScriptServlet.java:132)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.alfresco.web.app.servlet.GlobalLocalizationFilter.doFilter(GlobalLocalizationFilter.java:61)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.hazelcast.core.OperationTimeoutException: [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.waitAndGetResult(BaseManager.java:619)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.getRedoAwareResult(BaseManager.java:641)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.getResult(BaseManager.java:636)\r\n\tat com.hazelcast.impl.BaseManager$RequestBasedCall.getResultAsObject(BaseManager.java:464)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.getResultAsObject(BaseManager.java:555)\r\n\tat com.hazelcast.impl.BaseManager$RequestBasedCall.getResultAsObject(BaseManager.java:460)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.getResultAsObject(BaseManager.java:555)\r\n\tat com.hazelcast.impl.BaseManager$RequestBasedCall.objectCall(BaseManager.java:502)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.objectCall(BaseManager.java:555)\r\n\tat com.hazelcast.impl.BaseManager$RequestBasedCall.objectCall(BaseManager.java:508)\r\n\tat com.hazelcast.impl.BaseManager$ResponseQueueCall.objectCall(BaseManager.java:555)\r\n\tat com.hazelcast.impl.ConcurrentMapManager$MGet.get(ConcurrentMapManager.java:1124)\r\n\tat com.hazelcast.impl.MProxyImpl$MProxyReal.get(MProxyImpl.java:781)\r\n\tat com.hazelcast.impl.MProxyImpl.get(MProxyImpl.java:114)\r\n\tat org.alfresco.repo.lock.mem.AbstractLockStore.get(AbstractLockStore.java:61)\r\n\tat org.alfresco.enterprise.repo.cluster.lock.HazelcastLockStore.get(HazelcastLockStore.java:60)\r\n\tat sun.reflect.GeneratedMethodAccessor332.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.alfresco.enterprise.repo.cluster.core.ClusteredObjectProxyFactory$AbstractClusteredObjectProxyInvoker.invoke(ClusteredObjectProxyFactory.java:275)\r\n\tat com.sun.proxy.$Proxy9.get(Unknown Source)\r\n\tat org.alfresco.repo.lock.mem.LockableAspectInterceptor.invoke(LockableAspectInterceptor.java:90)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy10.hasAspect(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.alfresco.repo.tenant.MultiTNodeServiceInterceptor.invoke(MultiTNodeServiceInterceptor.java:104)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy10.hasAspect(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.alfresco.repo.service.StoreRedirectorProxyFactory$RedirectorInvocationHandler.invoke(StoreRedirectorProxyFactory.java:215)\r\n\tat com.sun.proxy.$Proxy28.hasAspect(Unknown Source)\r\n\tat org.alfresco.repo.node.MLPropertyInterceptor.getPivotNodeRef(MLPropertyInterceptor.java:324)\r\n\tat org.alfresco.repo.node.MLPropertyInterceptor.invoke(MLPropertyInterceptor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.alfresco.enterprise.repo.sync.SyncPropertyInterceptor.invoke(SyncPropertyInterceptor.java:150)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.alfresco.repo.node.NodeRefPropertyMethodInterceptor.invoke(NodeRefPropertyMethodInterceptor.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\tat com.sun.proxy.$Proxy10.getProperty(Unknown Source)\r\n\tat sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\r\n\tat com.sun.proxy.$Proxy10.getProperty(Unknown Source)\r\n\tat org.alfresco.repo.security.person.PersonServiceImpl.getPersonOrNullImpl(PersonServiceImpl.java:552)\r\n\tat org.alfresco.repo.security.person.PersonServiceImpl.personExists(PersonServiceImpl.java:516)\r\n\tat org.alfresco.repo.model.Repository.getFullyAuthenticatedPerson(Repository.java:271)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.addRepoParameters(RepositoryContainer.java:234)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.getScriptParameters(RepositoryContainer.java:190)\r\n\tat org.springframework.extensions.webscripts.AbstractWebScript.createScriptParameters(AbstractWebScript.java:669)\r\n\tat org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:81)\r\n\t... 27 more\r\n13:02:19,656 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can&#39;t get value from cluster for cache HazelcastSimpleCache[cacheName=cache.aclSharedCache], key=AclEntity[ ID=718467, version=2538900, aclId=c51ff8f7-b2de-4891-a40d-85a57e66a09e, isLatest=true, aclVersion=1, inherits=true, inheritsFrom=718466, type=2, inheritedAcl=718467, isVersioned=false, requiresVersion=false, aclChangeSet=68236281]\r\n13:02:19,765 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can&#39;t get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=77b86475f7d72a489685c1b27ed4d908c9e8121c\r\n13:02:19,765 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can&#39;t get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=905318b647d82d3b29ec6c41e0f926a3ffc9bba7\r\n13:02:20,124 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can&#39;t get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=662ceb1110e795ae1ca2a3af0c8380bfdc67c495\r\n13:02:20,312 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can&#39;t get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=cb0b43102deb2f15b71625c047d548998677c8dc\r\n13:02:20,624 ERROR [org.springframework.extensions.webscripts.AbstractRuntime] Exception from executeScript - redirecting to status template error: 10021817712 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\norg.springframework.extensions.webscripts.WebScriptException: 10021817712 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\n\tat org.springframework.extensions.webscripts.AbstractWebScript.createStatusException(AbstractWebScript.java:1067)\r\n\tat org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:171)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer$3.execute(RepositoryContainer.java:422)\r\n\tat org.alfresco.repo.transaction.RetryingTransactionHelper.doInTransaction(RetryingTransactionHelper.java:450)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecute(RepositoryContainer.java:491)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecuteAs(RepositoryContainer.java:529)\r\n\tat org.alfresco.repo.web.scripts.RepositoryContainer.executeScript(RepositoryContainer.java:341)\r\n\tat org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:378)\r\n\tat org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:209)\r\n\tat org.springframework.extensions.webscripts.servlet.WebScriptServlet.service(WebScriptServlet.java:132)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.alfresco.web.app.servlet.GlobalLocalizationFilter.doFilter(GlobalLocalizationFilter.java:61)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.hazelcast.core.OperationTimeoutException: [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\r\n```\r\n\r\nWhat could cause them? The application which is using Alfresco Tomcat just hangs when this (and a lot more) is logged in the Alfresco log. I am not very familiar with the technology, but if any information is needed I can try to provide it \r\n\r\nOnly restart of the SQL services on the DB server and/or (because it is not always the same) restart of the Alfresco service on the Application server resolves the issue, but for a few days only, then the application hangs with the above error.","title":"Alfresco errors","body":"<p>Can someone help me with the following errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>3:02:19,562 ERROR [org.springframework.extensions.webscripts.AbstractRuntime] Exception from executeScript - redirecting to status template error: 10021817710 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\norg.springframework.extensions.webscripts.WebScriptException: 10021817710 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\n    at org.springframework.extensions.webscripts.AbstractWebScript.createStatusException(AbstractWebScript.java:1067)\n    at org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:171)\n    at org.alfresco.repo.web.scripts.RepositoryContainer$3.execute(RepositoryContainer.java:422)\n    at org.alfresco.repo.transaction.RetryingTransactionHelper.doInTransaction(RetryingTransactionHelper.java:450)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecute(RepositoryContainer.java:491)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecuteAs(RepositoryContainer.java:529)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.executeScript(RepositoryContainer.java:341)\n    at org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:378)\n    at org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:209)\n    at org.springframework.extensions.webscripts.servlet.WebScriptServlet.service(WebScriptServlet.java:132)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.alfresco.web.app.servlet.GlobalLocalizationFilter.doFilter(GlobalLocalizationFilter.java:61)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.hazelcast.core.OperationTimeoutException: [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.waitAndGetResult(BaseManager.java:619)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.getRedoAwareResult(BaseManager.java:641)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.getResult(BaseManager.java:636)\n    at com.hazelcast.impl.BaseManager$RequestBasedCall.getResultAsObject(BaseManager.java:464)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.getResultAsObject(BaseManager.java:555)\n    at com.hazelcast.impl.BaseManager$RequestBasedCall.getResultAsObject(BaseManager.java:460)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.getResultAsObject(BaseManager.java:555)\n    at com.hazelcast.impl.BaseManager$RequestBasedCall.objectCall(BaseManager.java:502)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.objectCall(BaseManager.java:555)\n    at com.hazelcast.impl.BaseManager$RequestBasedCall.objectCall(BaseManager.java:508)\n    at com.hazelcast.impl.BaseManager$ResponseQueueCall.objectCall(BaseManager.java:555)\n    at com.hazelcast.impl.ConcurrentMapManager$MGet.get(ConcurrentMapManager.java:1124)\n    at com.hazelcast.impl.MProxyImpl$MProxyReal.get(MProxyImpl.java:781)\n    at com.hazelcast.impl.MProxyImpl.get(MProxyImpl.java:114)\n    at org.alfresco.repo.lock.mem.AbstractLockStore.get(AbstractLockStore.java:61)\n    at org.alfresco.enterprise.repo.cluster.lock.HazelcastLockStore.get(HazelcastLockStore.java:60)\n    at sun.reflect.GeneratedMethodAccessor332.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.alfresco.enterprise.repo.cluster.core.ClusteredObjectProxyFactory$AbstractClusteredObjectProxyInvoker.invoke(ClusteredObjectProxyFactory.java:275)\n    at com.sun.proxy.$Proxy9.get(Unknown Source)\n    at org.alfresco.repo.lock.mem.LockableAspectInterceptor.invoke(LockableAspectInterceptor.java:90)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n    at com.sun.proxy.$Proxy10.hasAspect(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n    at org.alfresco.repo.tenant.MultiTNodeServiceInterceptor.invoke(MultiTNodeServiceInterceptor.java:104)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n    at com.sun.proxy.$Proxy10.hasAspect(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.alfresco.repo.service.StoreRedirectorProxyFactory$RedirectorInvocationHandler.invoke(StoreRedirectorProxyFactory.java:215)\n    at com.sun.proxy.$Proxy28.hasAspect(Unknown Source)\n    at org.alfresco.repo.node.MLPropertyInterceptor.getPivotNodeRef(MLPropertyInterceptor.java:324)\n    at org.alfresco.repo.node.MLPropertyInterceptor.invoke(MLPropertyInterceptor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.alfresco.enterprise.repo.sync.SyncPropertyInterceptor.invoke(SyncPropertyInterceptor.java:150)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.alfresco.repo.node.NodeRefPropertyMethodInterceptor.invoke(NodeRefPropertyMethodInterceptor.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n    at com.sun.proxy.$Proxy10.getProperty(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\n    at com.sun.proxy.$Proxy10.getProperty(Unknown Source)\n    at org.alfresco.repo.security.person.PersonServiceImpl.getPersonOrNullImpl(PersonServiceImpl.java:552)\n    at org.alfresco.repo.security.person.PersonServiceImpl.personExists(PersonServiceImpl.java:516)\n    at org.alfresco.repo.model.Repository.getFullyAuthenticatedPerson(Repository.java:271)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.addRepoParameters(RepositoryContainer.java:234)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.getScriptParameters(RepositoryContainer.java:190)\n    at org.springframework.extensions.webscripts.AbstractWebScript.createScriptParameters(AbstractWebScript.java:669)\n    at org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:81)\n    ... 27 more\n13:02:19,656 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can't get value from cluster for cache HazelcastSimpleCache[cacheName=cache.aclSharedCache], key=AclEntity[ ID=718467, version=2538900, aclId=c51ff8f7-b2de-4891-a40d-85a57e66a09e, isLatest=true, aclVersion=1, inherits=true, inheritsFrom=718466, type=2, inheritedAcl=718467, isVersioned=false, requiresVersion=false, aclChangeSet=68236281]\n13:02:19,765 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can't get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=77b86475f7d72a489685c1b27ed4d908c9e8121c\n13:02:19,765 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can't get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=905318b647d82d3b29ec6c41e0f926a3ffc9bba7\n13:02:20,124 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can't get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=662ceb1110e795ae1ca2a3af0c8380bfdc67c495\n13:02:20,312 WARN  [org.alfresco.enterprise.repo.cluster.cache.HazelcastSimpleCache] Can't get value from cluster for cache HazelcastSimpleCache[cacheName=cache.ticketsCache], key=cb0b43102deb2f15b71625c047d548998677c8dc\n13:02:20,624 ERROR [org.springframework.extensions.webscripts.AbstractRuntime] Exception from executeScript - redirecting to status template error: 10021817712 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\norg.springframework.extensions.webscripts.WebScriptException: 10021817712 Wrapped Exception (with status template): [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\n    at org.springframework.extensions.webscripts.AbstractWebScript.createStatusException(AbstractWebScript.java:1067)\n    at org.springframework.extensions.webscripts.DeclarativeWebScript.execute(DeclarativeWebScript.java:171)\n    at org.alfresco.repo.web.scripts.RepositoryContainer$3.execute(RepositoryContainer.java:422)\n    at org.alfresco.repo.transaction.RetryingTransactionHelper.doInTransaction(RetryingTransactionHelper.java:450)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecute(RepositoryContainer.java:491)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.transactionedExecuteAs(RepositoryContainer.java:529)\n    at org.alfresco.repo.web.scripts.RepositoryContainer.executeScript(RepositoryContainer.java:341)\n    at org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:378)\n    at org.springframework.extensions.webscripts.AbstractRuntime.executeScript(AbstractRuntime.java:209)\n    at org.springframework.extensions.webscripts.servlet.WebScriptServlet.service(WebScriptServlet.java:132)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.alfresco.web.app.servlet.GlobalLocalizationFilter.doFilter(GlobalLocalizationFilter.java:61)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: com.hazelcast.core.OperationTimeoutException: [CONCURRENT_MAP_GET] Operation Timeout (with no response!): 20000\n</code></pre>\n<p>What could cause them? The application which is using Alfresco Tomcat just hangs when this (and a lot more) is logged in the Alfresco log. I am not very familiar with the technology, but if any information is needed I can try to provide it</p>\n<p>Only restart of the SQL services on the DB server and/or (because it is not always the same) restart of the Alfresco service on the Application server resolves the issue, but for a few days only, then the application hangs with the above error.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1700593782,"post_id":77525305,"comment_id":136673122,"body_markdown":"Of course my app is manually started by the user.\nI can&#39;t believe there isn&#39;t a solution to my problem, given how many apps seem to me to act the way I want. I think I&#39;m not architecting my application correctly and posing the problem correctly. I&#39;m going to edit my question to make my question more specific but less dependent on how I do things.","body":"Of course my app is manually started by the user. I can&#39;t believe there isn&#39;t a solution to my problem, given how many apps seem to me to act the way I want. I think I&#39;m not architecting my application correctly and posing the problem correctly. I&#39;m going to edit my question to make my question more specific but less dependent on how I do things."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700593138,"creation_date":1700592835,"answer_id":77525305,"question_id":77524801,"body_markdown":"You cant start an activity from background, but you dont need activity for your connectivity monitor. Depending on what you do in its callback, you can either start a foreground service to show some info in notifications - and make notification open activity if clicked (thats polite to user), or maybe allow work in background (thats less polite) - but you will risk android killing your app - foreground service will allow to keep your app alive. \r\n\r\nAlso your user will have to manually start your app at least once to make ACTION_BOOT_COMPLETED work.\r\n\r\nTo make it even harder, various manufacturers optimize their devices, preventing such background app like yours from eating resources. You must be prepared for that. See this page: https://dontkillmyapp.com/. I remember having lots of problems on xiaomi, I needed to show user information dialog with information on how to make changes in the device UI to allow for device to work in background in she/he want to.","title":"how to make Default Network detection working after reboot","body":"<p>You cant start an activity from background, but you dont need activity for your connectivity monitor. Depending on what you do in its callback, you can either start a foreground service to show some info in notifications - and make notification open activity if clicked (thats polite to user), or maybe allow work in background (thats less polite) - but you will risk android killing your app - foreground service will allow to keep your app alive.</p>\n<p>Also your user will have to manually start your app at least once to make ACTION_BOOT_COMPLETED work.</p>\n<p>To make it even harder, various manufacturers optimize their devices, preventing such background app like yours from eating resources. You must be prepared for that. See this page: <a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">https://dontkillmyapp.com/</a>. I remember having lots of problems on xiaomi, I needed to show user information dialog with information on how to make changes in the device UI to allow for device to work in background in she/he want to.</p>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700682140,"creation_date":1700587740,"question_id":77524801,"body_markdown":"Go directly to **EDIT** part.\r\n\r\nMy app have to detect default network changes and make a HTTP request then (if connected, of course).\r\nAll works well, but, when the phone reboots, network change isn&#39;t detected anymore.\r\n\r\nI added BroadcastReceiver which is launched at reboot, but I don&#39;t understand what I have to do with. Have I to create registerDefaultNetworkCallback again?\r\nHave I to outsource the detection part to use it from MainActivity AND from BraodcastReceiver? If yes, how can I do that please?\r\n\r\nMy sample code is:\r\n```\r\npublic class MainActivity extends Activity {\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tConnectivityManager connectivityManager = getSystemService(ConnectivityManager.class);\r\n\t\tconnectivityManager.registerDefaultNetworkCallback(new ConnectivityManager.NetworkCallback() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onAvailable(@NonNull Network network) {\r\n\t\t\t\t// my HTTP request in background, works fine\r\n\t\t\t\t// parameter needed : Activity (MainActivity.this here)\r\n\t\t\t\t// for background task\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\npublic class MyBroadcastReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\r\n\t\t// what should I do here?\r\n\t\t// how to access to Activity, needed for BackgroundTask\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI suppose that the BroadcastReceiver is mandatory to detect the reboot and restart the network change detection. And my problem is that I don&#39;t know how to do a BackgroundTask with it since I don&#39;t have an Activity. But if I&#39;m completely wrong and my app&#39;s network change detection can very well continue on reboot in another way, that&#39;s obviously ideal.\r\n\r\n**EDIT:**\r\n\r\nI&#39;m going to ask my question differently, so as not to influence the answers with my way of doing things:\r\n\r\nFor my personnal use only, I want to create an app that do a HTTP request each time my IP change (default network change is sufficient) EVEN after reboot.\r\nThe user (me) starts the app ONCE only and doesn&#39;t need to restart it (in any way), even after reboot, and the IP change detection continues to work ALWAYS.\r\n\r\nIt that possible one way or another? And if yes, how please?","title":"how to make Default Network detection working after reboot","body":"<p>Go directly to <strong>EDIT</strong> part.</p>\n<p>My app have to detect default network changes and make a HTTP request then (if connected, of course).\nAll works well, but, when the phone reboots, network change isn't detected anymore.</p>\n<p>I added BroadcastReceiver which is launched at reboot, but I don't understand what I have to do with. Have I to create registerDefaultNetworkCallback again?\nHave I to outsource the detection part to use it from MainActivity AND from BraodcastReceiver? If yes, how can I do that please?</p>\n<p>My sample code is:</p>\n<pre><code>public class MainActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ConnectivityManager connectivityManager = getSystemService(ConnectivityManager.class);\n        connectivityManager.registerDefaultNetworkCallback(new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(@NonNull Network network) {\n                // my HTTP request in background, works fine\n                // parameter needed : Activity (MainActivity.this here)\n                // for background task\n            }\n        });\n    }\n}\n\npublic class MyBroadcastReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\n        // what should I do here?\n        // how to access to Activity, needed for BackgroundTask\n        }\n    }\n}\n</code></pre>\n<p>I suppose that the BroadcastReceiver is mandatory to detect the reboot and restart the network change detection. And my problem is that I don't know how to do a BackgroundTask with it since I don't have an Activity. But if I'm completely wrong and my app's network change detection can very well continue on reboot in another way, that's obviously ideal.</p>\n<p><strong>EDIT:</strong></p>\n<p>I'm going to ask my question differently, so as not to influence the answers with my way of doing things:</p>\n<p>For my personnal use only, I want to create an app that do a HTTP request each time my IP change (default network change is sufficient) EVEN after reboot.\nThe user (me) starts the app ONCE only and doesn't need to restart it (in any way), even after reboot, and the IP change detection continues to work ALWAYS.</p>\n<p>It that possible one way or another? And if yes, how please?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"score":0,"creation_date":1700681863,"post_id":77532655,"comment_id":136685834,"body_markdown":"Does this https://stackoverflow.com/a/38111311/5521670 and this https://levelup.gitconnected.com/parsing-json-arrays-as-objects-with-jackson-c2620e7cc439 answer your question?","body":"Does this <a href=\"https://stackoverflow.com/a/38111311/5521670\">stackoverflow.com/a/38111311/5521670</a> and this <a href=\"https://levelup.gitconnected.com/parsing-json-arrays-as-objects-with-jackson-c2620e7cc439\" rel=\"nofollow noreferrer\">levelup.gitconnected.com/&hellip;</a> answer your question?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700682049,"post_id":77532655,"comment_id":136685855,"body_markdown":"the JsonpropertyOrder seems to be worth checking out indeed, however I dont see sense in use the Shapy of Array because the entity has also an api endpoint that only returns a single object instead of an array containing multiple. Can&#39;t I just leave away the Shape.Array and inside the objectmapper readvalue pass the .class with a [] prefix?","body":"the JsonpropertyOrder seems to be worth checking out indeed, however I dont see sense in use the Shapy of Array because the entity has also an api endpoint that only returns a single object instead of an array containing multiple. Can&#39;t I just leave away the Shape.Array and inside the objectmapper readvalue pass the .class with a [] prefix?"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700682036,"creation_date":1700682036,"answer_id":77532687,"question_id":77532655,"body_markdown":"You can write a custom dto, which has a JsonCreator to store the &quot;state&quot; internally and then you add alot of getters to extract each thing:\r\n\r\n    public class TestDto {\r\n    \r\n        private String[] data;\r\n    \r\n        @JsonCreator\r\n        public TestDto(String[] data){\r\n            this.data = data;\r\n        }\r\n    \r\n        public String getName(){\r\n            return data[0];\r\n        }\r\n    \r\n        public String getAddress(){\r\n            return data[1];\r\n        }\r\n        \r\n        //etc\r\n    \r\n    }\r\n\r\nEDIT: if you convert it to a `List&lt;TestDto&gt;`, you can extract everything\r\n\r\n    ","title":"Spring Boot Jackson map JSON response from 3rd party API to custom Object","body":"<p>You can write a custom dto, which has a JsonCreator to store the &quot;state&quot; internally and then you add alot of getters to extract each thing:</p>\n<pre><code>public class TestDto {\n\n    private String[] data;\n\n    @JsonCreator\n    public TestDto(String[] data){\n        this.data = data;\n    }\n\n    public String getName(){\n        return data[0];\n    }\n\n    public String getAddress(){\n        return data[1];\n    }\n    \n    //etc\n\n}\n</code></pre>\n<p>EDIT: if you convert it to a <code>List&lt;TestDto&gt;</code>, you can extract everything</p>\n"},{"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700682396,"post_id":77532699,"comment_id":136685890,"body_markdown":"what if I got an endpoint that returns a single object instead of an array, does the custom class with the JsonFormat shape of type array still work then or can I ommit that Annotation and pass into the objectmapper readvalue method an array of type x?","body":"what if I got an endpoint that returns a single object instead of an array, does the custom class with the JsonFormat shape of type array still work then or can I ommit that Annotation and pass into the objectmapper readvalue method an array of type x?"},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700682754,"post_id":77532699,"comment_id":136685953,"body_markdown":"ignore my previous comment, the response is always an array or an array inside an array so I think its correct.","body":"ignore my previous comment, the response is always an array or an array inside an array so I think its correct."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1700683109,"post_id":77532699,"comment_id":136686023,"body_markdown":"That solution seems to work, however my own restcontrollers json response now looks exactly like the response from the 3rd party API instead of having the keys from the fields I have set via @JsonProperty Annotations","body":"That solution seems to work, however my own restcontrollers json response now looks exactly like the response from the 3rd party API instead of having the keys from the fields I have set via @JsonProperty Annotations"}],"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700682135,"creation_date":1700682135,"answer_id":77532699,"question_id":77532655,"body_markdown":"You want to use:\r\n```java\r\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n@JsonPropertyOrder({ &quot;foo&quot;, &quot;bar&quot; })\r\npublic class FooBar {\r\n  public String foo;\r\n  public String bar;\r\n}\r\n```\r\n\r\nExample here:\r\n\r\n - https://stackoverflow.com/a/38111311/5521670\r\n - https://levelup.gitconnected.com/parsing-json-arrays-as-objects-with-jackson-c2620e7cc439","title":"Spring Boot Jackson map JSON response from 3rd party API to custom Object","body":"<p>You want to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n@JsonPropertyOrder({ &quot;foo&quot;, &quot;bar&quot; })\npublic class FooBar {\n  public String foo;\n  public String bar;\n}\n</code></pre>\n<p>Example here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/38111311/5521670\">https://stackoverflow.com/a/38111311/5521670</a></li>\n<li><a href=\"https://levelup.gitconnected.com/parsing-json-arrays-as-objects-with-jackson-c2620e7cc439\" rel=\"nofollow noreferrer\">https://levelup.gitconnected.com/parsing-json-arrays-as-objects-with-jackson-c2620e7cc439</a></li>\n</ul>\n"}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532699,"answer_count":2,"score":0,"last_activity_date":1700682135,"creation_date":1700681627,"question_id":77532655,"body_markdown":"I want to create a Java class out of a json response I get from a third party API which I have already managed to to with using the ObjectMapper. However, in this specific case, the JSON response has no keys so I dont know how I can map this into an Object, basically how should I use @JsonProperty annotation if the json response looks like this\r\n\r\n    [\r\n    [\r\n    1499040000000,      // Kline open time\r\n    &quot;0.01634790&quot;,       // Open price\r\n    &quot;0.80000000&quot;,       // High price\r\n    &quot;0.01575800&quot;,       // Low price\r\n    &quot;0.01577100&quot;,       // Close price\r\n    &quot;148976.11427815&quot;,  // Volume\r\n    1499644799999,      // Kline Close time\r\n    &quot;2434.19055334&quot;,    // Quote asset volume\r\n    308,                // Number of trades\r\n    &quot;1756.87402397&quot;,    // Taker buy base asset volume\r\n    &quot;28.46694368&quot;,      // Taker buy quote asset volume\r\n    &quot;0&quot;                 // Unused field, ignore.\r\n    ]\r\n    ]","title":"Spring Boot Jackson map JSON response from 3rd party API to custom Object","body":"<p>I want to create a Java class out of a json response I get from a third party API which I have already managed to to with using the ObjectMapper. However, in this specific case, the JSON response has no keys so I dont know how I can map this into an Object, basically how should I use @JsonProperty annotation if the json response looks like this</p>\n<pre><code>[\n[\n1499040000000,      // Kline open time\n&quot;0.01634790&quot;,       // Open price\n&quot;0.80000000&quot;,       // High price\n&quot;0.01575800&quot;,       // Low price\n&quot;0.01577100&quot;,       // Close price\n&quot;148976.11427815&quot;,  // Volume\n1499644799999,      // Kline Close time\n&quot;2434.19055334&quot;,    // Quote asset volume\n308,                // Number of trades\n&quot;1756.87402397&quot;,    // Taker buy base asset volume\n&quot;28.46694368&quot;,      // Taker buy quote asset volume\n&quot;0&quot;                 // Unused field, ignore.\n]\n]\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1700689241,"post_id":77532695,"comment_id":136686908,"body_markdown":"intermediate table is generated as expected. My issue is that values are not stored as expected","body":"intermediate table is generated as expected. My issue is that values are not stored as expected"},{"owner":{"account_id":8783864,"reputation":108,"user_id":6566626,"display_name":"Aleksander Orchowski"},"score":0,"creation_date":1700693773,"post_id":77532695,"comment_id":136687472,"body_markdown":"@davidvera i&#39;ve got it, but to be honest I&#39;d look for a problem in the logic(in these mappers you have etc.). Without seeing requests or whatever is invoking this code you had it;d be difficult to answer your question. Have you verified if everything looks as expected in memory?\nMy proposal would help with the second issue i believe.\n\nWith select&#39;s you can have an n+1 problem, but i rejected is as you used EAGER. My guess is that JPA loses the point somehow, but ofc. i didn&#39;t see code that fetches data. Also hard to say","body":"@davidvera i&#39;ve got it, but to be honest I&#39;d look for a problem in the logic(in these mappers you have etc.). Without seeing requests or whatever is invoking this code you had it;d be difficult to answer your question. Have you verified if everything looks as expected in memory? My proposal would help with the second issue i believe.  With select&#39;s you can have an n+1 problem, but i rejected is as you used EAGER. My guess is that JPA loses the point somehow, but ofc. i didn&#39;t see code that fetches data. Also hard to say"},{"owner":{"account_id":8783864,"reputation":108,"user_id":6566626,"display_name":"Aleksander Orchowski"},"score":0,"creation_date":1700693898,"post_id":77532695,"comment_id":136687478,"body_markdown":"@davidvera What comes to detached entities - just read about hibernate entity lifecycle. There are tones of articles","body":"@davidvera What comes to detached entities - just read about hibernate entity lifecycle. There are tones of articles"}],"tags":[],"owner":{"account_id":8783864,"reputation":108,"user_id":6566626,"display_name":"Aleksander Orchowski"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700682113,"creation_date":1700682113,"answer_id":77532695,"question_id":77532489,"body_markdown":"Last time i made many-2-many in java was about 5 years ago as I&#39;m avoiding such things but as far as I remember you need to define an intermediate table\r\n\r\nyou called `&quot;workflow_tasks_workflow_tasks_settings&quot;`\r\n\r\n```\r\n@Entity\r\n@IdClass(WorkflowTasksSettingsMappingIds.class) // nice to add some id on these two i believe\r\n@Table(name = &quot;workflow_tasks_workflow_tasks_settings&quot;)\r\npublic class WorkflowTasksWorkflowTasksSettings {\r\n\r\n    @NotNull\r\n    @Column(name = &quot;workflow_task_id&quot;)\r\n    private String workflowTasksId;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;setting_id&quot;)\r\n    private String settingId;\r\n\r\n  \r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;workflow_task_id&quot;, insertable = false, updatable = false)\r\n    private WorkflowTaskEntity taask;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;setting_id&quot;, insertable = false, updatable = false)\r\n    private WorkflowTaskSettingEntity setting;\r\n\r\n// getters setters\r\n\r\n}\r\n```\r\n\r\nand ID\r\n\r\n```\r\n@Embeddable\r\npublic class ArticleOwnerId implements Serializable {\r\n\r\n    @Column(name = &quot;workflow_task_id&quot;)\r\n    private String workflowTaskId;\r\n\r\n    @Column(name = &quot;setting_id&quot;)\r\n    private String settingId;\r\n\r\n  //getters setters\r\n}\r\n\r\n```\r\n\r\nthat&#39;s my guess","title":"Many to Many persistence JPA","body":"<p>Last time i made many-2-many in java was about 5 years ago as I'm avoiding such things but as far as I remember you need to define an intermediate table</p>\n<p>you called <code>&quot;workflow_tasks_workflow_tasks_settings&quot;</code></p>\n<pre><code>@Entity\n@IdClass(WorkflowTasksSettingsMappingIds.class) // nice to add some id on these two i believe\n@Table(name = &quot;workflow_tasks_workflow_tasks_settings&quot;)\npublic class WorkflowTasksWorkflowTasksSettings {\n\n    @NotNull\n    @Column(name = &quot;workflow_task_id&quot;)\n    private String workflowTasksId;\n\n    @NotNull\n    @Column(name = &quot;setting_id&quot;)\n    private String settingId;\n\n  \n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;workflow_task_id&quot;, insertable = false, updatable = false)\n    private WorkflowTaskEntity taask;\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;setting_id&quot;, insertable = false, updatable = false)\n    private WorkflowTaskSettingEntity setting;\n\n// getters setters\n\n}\n</code></pre>\n<p>and ID</p>\n<pre><code>@Embeddable\npublic class ArticleOwnerId implements Serializable {\n\n    @Column(name = &quot;workflow_task_id&quot;)\n    private String workflowTaskId;\n\n    @Column(name = &quot;setting_id&quot;)\n    private String settingId;\n\n  //getters setters\n}\n\n</code></pre>\n<p>that's my guess</p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700682113,"creation_date":1700679293,"question_id":77532489,"body_markdown":"I&#39;m trying to persist entities using JPA. \r\nI have 2 entities with many to many relationship and I want to be able to do all crud operation on both sides. \r\n\r\n**Here is a sample of my tables:** \r\n\r\n    @Entity\r\n    @Table(name = &quot;workflow_tasks&quot;)\r\n    @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public class WorkflowTaskEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(length = 30)\r\n        private String workflowTaskId;\r\n    \r\n        @Column(unique = true)\r\n        private String name;\r\n\r\n        @ManyToMany(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER\r\n        )\r\n        @JoinTable(\r\n            name=&quot;workflow_tasks_workflow_tasks_settings&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;workflow_task_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;setting_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        )\r\n        private Set&lt;WorkflowTaskSettingEntity&gt; settings;\r\n    ...\r\n    }\r\n\r\n**On the other side:** \r\n\r\n    @Entity\r\n    @Table(name = &quot;workflow_task_settings&quot;)\r\n    @Getter @Setter\r\n    @AllArgsConstructor @NoArgsConstructor\r\n    public class WorkflowTaskSettingEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(length = 30)\r\n        private String workflowTaskSettingId;\r\n\r\n        @Column(unique = true)\r\n        private String name;\r\n    \r\n        @ManyToMany(\r\n                cascade = CascadeType.ALL,\r\n                mappedBy = &quot;settings&quot;,\r\n                fetch = FetchType.EAGER\r\n        )\r\n        private Set&lt;WorkflowTaskEntity&gt; workflowTasks;\r\n    }\r\n\r\nHere is a repository interface implemented: \r\n\r\n    public interface WorkflowTaskSettingRepository\r\n            extends CrudRepository&lt;WorkflowTaskSettingEntity, Long&gt; {\r\n        Page&lt;WorkflowTaskSettingEntity&gt; findAll(Pageable pageRequest);\r\n        List&lt;WorkflowTaskSettingEntity&gt; findAll();\r\n        WorkflowTaskSettingEntity findByWorkflowTaskSettingId(String workflowTaskSettingId);\r\n    \r\n        WorkflowTaskSettingEntity findByValue(String name);\r\n    \r\n        @Modifying\r\n        @Transactional\r\n        @Query(value = &quot;DELETE FROM WorkflowTaskSettingEntity c WHERE c.id = :id&quot;)\r\n        void deleteById(@Param(&quot;id&quot;) Long id);\r\n    }\r\n\r\n**Here is the different cases I have to handle:** \r\n- Create WorkflowTaskSettingEntity and WorkflowTaskEntity objects in one shot\r\n- Create WorkflowTaskSettingEntity and link it to several WorkflowTaskEntity objects\r\n- Create WorkflowTaskSettingEntity and link it to several WorkflowTaskEntity\r\n- Delete a relation between both tables\r\n- Delete WorkflowTaskSettingEntity and relations \r\n- Delete WorkflowTaskEntity and relations\r\n\r\n**My first issue when i create an entry is that i don&#39;t persist all relations:**\r\n\r\nI created first : \r\n  - 4 entries of WorkflowTaskEntity \r\n  - I try to persist 10 WorkflowTaskSettingEntity objects linked to the 4 entries I created\r\n  - The first WorkflowTaskSettingEntity is correctly persisted\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**When persisting the second object it becomes weird:** \r\nIn theory I should have: \r\n\r\n    1-1, 1-2, 1-3, 1-4, 2-1, 2-2, 2-3, 2-4 ...\r\n\r\nand so on... but the result is the following.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**My second issue concerns performance and code length :**\r\nI log my SQL queries and note that there are too many SQL queries for a basic select and insert. I also wonder why I have issues with detached entities and do have to persist a single object twice... It seems that my entities mapping is not as it should be.\r\n\r\n**For creation I have the following code:** \r\n\r\n    @Override\r\n    public WorkflowTaskSettingDto create(WorkflowTaskSettingDto workflowTaskSettingDto) {\r\n        Set&lt;WorkflowTaskDto&gt; workflowTaskDtos = workflowTaskSettingDto.getWorkflowTasks();\r\n        WorkflowTaskSettingEntity workflowTaskSettingEntity = modelMapper.map(\r\n                workflowTaskSettingDto, WorkflowTaskSettingEntity.class);\r\n\r\n        workflowTaskSettingEntity.setWorkflowTasks(null);\r\n        workflowTaskSettingEntity = repository.save(workflowTaskSettingEntity);\r\n        Set&lt;WorkflowTaskEntity&gt; workflowTaskEntities = getWorkflowTasks(workflowTaskDtos);\r\n        workflowTaskSettingEntity.addWorkflowTasks(workflowTaskEntities);\r\n        workflowTaskSettingEntity = repository.save(workflowTaskSettingEntity);\r\n\r\n        return modelMapper.map(workflowTaskSettingEntity, WorkflowTaskSettingDto.class);\r\n    }\r\n\r\n    private Set&lt;WorkflowTaskEntity&gt; getWorkflowTasks(Set&lt;WorkflowTaskDto&gt; workflowTaskDtos) {\r\n        Set&lt;WorkflowTaskEntity&gt; workflowTaskEntities = new HashSet&lt;&gt;();\r\n        workflowTaskDtos.forEach(workflowTaskDto -&gt; {\r\n            WorkflowTaskEntity workflowTaskEntity =\r\n                    appService.workflowTaskService().getById(workflowTaskDto.getWorkflowTaskId());\r\n            if (workflowTaskEntity == null) {\r\n                WorkflowTaskDto create = appService.workflowTaskService().create(workflowTaskDto);\r\n                workflowTaskEntity = appService.workflowTaskService().getById(create.getWorkflowTaskId());\r\n            }\r\n            workflowTaskEntity.setSettings(workflowTaskEntity.getSettings());\r\n            workflowTaskEntities.add(workflowTaskEntity);\r\n        });\r\n        return workflowTaskEntities;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Xuya.png\r\n  [2]: https://i.stack.imgur.com/ghrRG.png","title":"Many to Many persistence JPA","body":"<p>I'm trying to persist entities using JPA.\nI have 2 entities with many to many relationship and I want to be able to do all crud operation on both sides.</p>\n<p><strong>Here is a sample of my tables:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;workflow_tasks&quot;)\n@Getter @Setter\n@AllArgsConstructor @NoArgsConstructor\npublic class WorkflowTaskEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(length = 30)\n    private String workflowTaskId;\n\n    @Column(unique = true)\n    private String name;\n\n    @ManyToMany(\n        cascade = CascadeType.ALL,\n        fetch = FetchType.EAGER\n    )\n    @JoinTable(\n        name=&quot;workflow_tasks_workflow_tasks_settings&quot;,\n        joinColumns = @JoinColumn(name = &quot;workflow_task_id&quot;, referencedColumnName = &quot;id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;setting_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;WorkflowTaskSettingEntity&gt; settings;\n...\n}\n</code></pre>\n<p><strong>On the other side:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;workflow_task_settings&quot;)\n@Getter @Setter\n@AllArgsConstructor @NoArgsConstructor\npublic class WorkflowTaskSettingEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(length = 30)\n    private String workflowTaskSettingId;\n\n    @Column(unique = true)\n    private String name;\n\n    @ManyToMany(\n            cascade = CascadeType.ALL,\n            mappedBy = &quot;settings&quot;,\n            fetch = FetchType.EAGER\n    )\n    private Set&lt;WorkflowTaskEntity&gt; workflowTasks;\n}\n</code></pre>\n<p>Here is a repository interface implemented:</p>\n<pre><code>public interface WorkflowTaskSettingRepository\n        extends CrudRepository&lt;WorkflowTaskSettingEntity, Long&gt; {\n    Page&lt;WorkflowTaskSettingEntity&gt; findAll(Pageable pageRequest);\n    List&lt;WorkflowTaskSettingEntity&gt; findAll();\n    WorkflowTaskSettingEntity findByWorkflowTaskSettingId(String workflowTaskSettingId);\n\n    WorkflowTaskSettingEntity findByValue(String name);\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;DELETE FROM WorkflowTaskSettingEntity c WHERE c.id = :id&quot;)\n    void deleteById(@Param(&quot;id&quot;) Long id);\n}\n</code></pre>\n<p><strong>Here is the different cases I have to handle:</strong></p>\n<ul>\n<li>Create WorkflowTaskSettingEntity and WorkflowTaskEntity objects in one shot</li>\n<li>Create WorkflowTaskSettingEntity and link it to several WorkflowTaskEntity objects</li>\n<li>Create WorkflowTaskSettingEntity and link it to several WorkflowTaskEntity</li>\n<li>Delete a relation between both tables</li>\n<li>Delete WorkflowTaskSettingEntity and relations</li>\n<li>Delete WorkflowTaskEntity and relations</li>\n</ul>\n<p><strong>My first issue when i create an entry is that i don't persist all relations:</strong></p>\n<p>I created first :</p>\n<ul>\n<li>4 entries of WorkflowTaskEntity</li>\n<li>I try to persist 10 WorkflowTaskSettingEntity objects linked to the 4 entries I created</li>\n<li>The first WorkflowTaskSettingEntity is correctly persisted</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/5Xuya.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Xuya.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>When persisting the second object it becomes weird:</strong>\nIn theory I should have:</p>\n<pre><code>1-1, 1-2, 1-3, 1-4, 2-1, 2-2, 2-3, 2-4 ...\n</code></pre>\n<p>and so on... but the result is the following.</p>\n<p><a href=\"https://i.stack.imgur.com/ghrRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghrRG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My second issue concerns performance and code length :</strong>\nI log my SQL queries and note that there are too many SQL queries for a basic select and insert. I also wonder why I have issues with detached entities and do have to persist a single object twice... It seems that my entities mapping is not as it should be.</p>\n<p><strong>For creation I have the following code:</strong></p>\n<pre><code>@Override\npublic WorkflowTaskSettingDto create(WorkflowTaskSettingDto workflowTaskSettingDto) {\n    Set&lt;WorkflowTaskDto&gt; workflowTaskDtos = workflowTaskSettingDto.getWorkflowTasks();\n    WorkflowTaskSettingEntity workflowTaskSettingEntity = modelMapper.map(\n            workflowTaskSettingDto, WorkflowTaskSettingEntity.class);\n\n    workflowTaskSettingEntity.setWorkflowTasks(null);\n    workflowTaskSettingEntity = repository.save(workflowTaskSettingEntity);\n    Set&lt;WorkflowTaskEntity&gt; workflowTaskEntities = getWorkflowTasks(workflowTaskDtos);\n    workflowTaskSettingEntity.addWorkflowTasks(workflowTaskEntities);\n    workflowTaskSettingEntity = repository.save(workflowTaskSettingEntity);\n\n    return modelMapper.map(workflowTaskSettingEntity, WorkflowTaskSettingDto.class);\n}\n\nprivate Set&lt;WorkflowTaskEntity&gt; getWorkflowTasks(Set&lt;WorkflowTaskDto&gt; workflowTaskDtos) {\n    Set&lt;WorkflowTaskEntity&gt; workflowTaskEntities = new HashSet&lt;&gt;();\n    workflowTaskDtos.forEach(workflowTaskDto -&gt; {\n        WorkflowTaskEntity workflowTaskEntity =\n                appService.workflowTaskService().getById(workflowTaskDto.getWorkflowTaskId());\n        if (workflowTaskEntity == null) {\n            WorkflowTaskDto create = appService.workflowTaskService().create(workflowTaskDto);\n            workflowTaskEntity = appService.workflowTaskService().getById(create.getWorkflowTaskId());\n        }\n        workflowTaskEntity.setSettings(workflowTaskEntity.getSettings());\n        workflowTaskEntities.add(workflowTaskEntity);\n    });\n    return workflowTaskEntities;\n}\n</code></pre>\n"},{"tags":["java","macos","jpackage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644876203,"post_id":71117698,"comment_id":125716968,"body_markdown":"For drag and drop, you don’t use file associations.  File associations are for the default desktop operation (such as double-clicking) on a file.","body":"For drag and drop, you don’t use file associations.  File associations are for the default desktop operation (such as double-clicking) on a file."},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1644877472,"post_id":71117698,"comment_id":125717299,"body_markdown":"OK, how can I get it so that any file can be dragged to my application?","body":"OK, how can I get it so that any file can be dragged to my application?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644878435,"post_id":71117698,"comment_id":125717557,"body_markdown":"I may have misunderstood.  When you say “dropped onto my application,” do you mean dropped into the application’s window, or dropped into the application’s desktop icon?","body":"I may have misunderstood.  When you say “dropped onto my application,” do you mean dropped into the application’s window, or dropped into the application’s desktop icon?"},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1644878512,"post_id":71117698,"comment_id":125717580,"body_markdown":"Application desktop icon. I am trying to create a Java file uploader utility, which allows you to drag the icon of any file(s) or directory(ies) to its icon in the dock.","body":"Application desktop icon. I am trying to create a Java file uploader utility, which allows you to drag the icon of any file(s) or directory(ies) to its icon in the dock."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644879579,"post_id":71117698,"comment_id":125717841,"body_markdown":"That’s a tricky one.  I thought I had read that wildcard MIME types could be in the file association properties files, but now I can’t find any documentation confirming that.","body":"That’s a tricky one.  I thought I had read that wildcard MIME types could be in the file association properties files, but now I can’t find any documentation confirming that."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700682098,"creation_date":1700682098,"answer_id":77532692,"question_id":71117698,"body_markdown":"The &#39;post processing&#39; seems to be a good way, yet you want to get rid of it.\r\nI guess it is happening post installation, which means you still need to process data after the installer has run.\r\n\r\nThere is one other possibility: Override JPackage resources.\r\nIf you want to know about [resources used][1], the documentation lists them and they include Info.plist for the Apple Mac.\r\n\r\nNow you&#39;d have to extract the given Info.plist, place it with whatever additions you want to have in a &#39;resources&#39; directory and specify that on the JPackage command line.\r\n\r\nSee also [Overriding JPackage Resources][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-405708DC-0243-49FC-84D9-B2A7F0A011A9\r\n  [2]: https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6","title":"How can I package a Java application for Mac so that it can accept any file dropped on it?","body":"<p>The 'post processing' seems to be a good way, yet you want to get rid of it.\nI guess it is happening post installation, which means you still need to process data after the installer has run.</p>\n<p>There is one other possibility: Override JPackage resources.\nIf you want to know about <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-405708DC-0243-49FC-84D9-B2A7F0A011A9\" rel=\"nofollow noreferrer\">resources used</a>, the documentation lists them and they include Info.plist for the Apple Mac.</p>\n<p>Now you'd have to extract the given Info.plist, place it with whatever additions you want to have in a 'resources' directory and specify that on the JPackage command line.</p>\n<p>See also <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\" rel=\"nofollow noreferrer\">Overriding JPackage Resources</a>.</p>\n"}],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700682098,"creation_date":1644869335,"question_id":71117698,"body_markdown":"I&#39;m creating a file upload utility in Java, and packaging it as a Mac OS X Application. I&#39;m using Java 17 and jpackage to create my application. Everything is working, except I can&#39;t figure out how to use --associate-file with a wildcard so that any file, including directories, can be dropped onto my application. I need this so that my application can upload the file(s) or directories to the cloud.\r\n\r\n[UPDATE]\r\n\r\nI ended up fixing the problem by parsing the generated Info.plist, removing the jpackage-generated array associated with the CFBundleDocumentTypes, and replacing it with my own array. This seems very kludgey, and I would welcome any answers that explain how to do it using jpackage without post-processing.\r\n\r\nThe fixed version looks like this:\r\n\r\n      &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\r\n      &lt;array&gt;&lt;dict&gt;&lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;&lt;array&gt;&lt;string&gt;*&lt;/string&gt;&lt;/array&gt;&lt;key&gt;CFBundleTypeRole&lt;/key&gt;&lt;string&gt;Editor&lt;/string&gt;&lt;/dict&gt;&lt;/array&gt;\r\n\r\nReference documentation on the CFBundleDocumentTypes can be found at https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-101685-TPXREF107","title":"How can I package a Java application for Mac so that it can accept any file dropped on it?","body":"<p>I'm creating a file upload utility in Java, and packaging it as a Mac OS X Application. I'm using Java 17 and jpackage to create my application. Everything is working, except I can't figure out how to use --associate-file with a wildcard so that any file, including directories, can be dropped onto my application. I need this so that my application can upload the file(s) or directories to the cloud.</p>\n<p>[UPDATE]</p>\n<p>I ended up fixing the problem by parsing the generated Info.plist, removing the jpackage-generated array associated with the CFBundleDocumentTypes, and replacing it with my own array. This seems very kludgey, and I would welcome any answers that explain how to do it using jpackage without post-processing.</p>\n<p>The fixed version looks like this:</p>\n<pre><code>  &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n  &lt;array&gt;&lt;dict&gt;&lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;&lt;array&gt;&lt;string&gt;*&lt;/string&gt;&lt;/array&gt;&lt;key&gt;CFBundleTypeRole&lt;/key&gt;&lt;string&gt;Editor&lt;/string&gt;&lt;/dict&gt;&lt;/array&gt;\n</code></pre>\n<p>Reference documentation on the CFBundleDocumentTypes can be found at <a href=\"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-101685-TPXREF107\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-101685-TPXREF107</a></p>\n"},{"tags":["java","sql","postgresql"],"owner":{"account_id":22180376,"reputation":1,"user_id":16424190,"display_name":"dadesyatnikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700681616,"creation_date":1700681616,"question_id":77532652,"body_markdown":"There is a function that accepts a string array as input. The function calls a stored procedure that filters data by column based on the string array from the function and returns the cursor.\r\nHow to pass an array of strings to a function call correctly?\r\n\r\nNow it looks like this\r\n\r\n```\r\ncreate function pricing.report_avg_price_ref(arr_string text[]) returns refcursor\r\n       language plpgsql\r\nas\r\n$$\r\nDECLARE\r\nret_cursor refcursor;\r\nbegin\r\nopen ret_cursor for\r\nselect rap.id,\r\n       rap.region_name,\r\n       rap.fc_code,\r\n       rap.fc_name,\r\n       rap.ph3_code,\r\n       rap.ph3_name,\r\n       rap.ph4_code,\r\n       rap.ph4_name,\r\n       rap.product_plu,\r\n       rap.product_name,\r\n       rap.price_value\r\nfrom pricing.report_avg_price rap\r\nwhere rap.region_name = any (arr_string);\r\nreturn ret_cursor;\r\nend;\r\n$$\r\n```\r\n\r\nSo it is called\r\n```\r\nList&lt;String&gt; regionNames = List.of(&#39;London&#39;, &#39;Paris&#39;);\r\nQuery&lt;ReportAveragePrice&gt; query = statelessSession.createNamedQuery(REPORT_REF_QUERY_NAME, ReportAveragePrice.class);\r\nquery.setParameter(1,  regionNames);\r\n```\r\n\r\n   Description in entity\r\n```\r\n    @NamedNativeQuery(\r\n        name = ReportAveragePrice.REPORT_REF_QUERY_NAME,\r\n        query = &quot;{ ? = call pricing.report_avg_price_ref(?) }&quot;,\r\n        callable = true,\r\n        cacheMode = CacheModeType.IGNORE,\r\n        resultClass = ReportAveragePrice.class\r\n    )\r\n```\r\n\r\nThis is how the call works if the function and procedure looks like :\r\n\r\n```\r\ncreate function pricing.report_avg_price_ref() returns refcursor\r\n       language plpgsql\r\nas\r\n$$\r\nDECLARE\r\nret_cursor refcursor;\r\nbegin\r\nopen ret_cursor for\r\nselect rap.id,\r\n       rap.region_name,\r\n       rap.fc_code,\r\n       rap.fc_name,\r\n       rap.ph3_code,\r\n       rap.ph3_name,\r\n       rap.ph4_code,\r\n       rap.ph4_name,\r\n       rap.product_plu,\r\n       rap.product_name,\r\n       rap.price_value\r\nfrom pricing.report_avg_price rap\r\nwhere rap.region_name = any array ([&#39;London&#39;]);\r\nreturn ret_cursor;\r\nend;\r\n$$\r\n```\r\n\r\nThen all entries are output, where region_name = &#39;London&#39;\r\n\r\nNo how to call the list of translations&lt;Line&gt; = List.of(&#39;London&#39;, &#39;Paris&#39;)?","title":"calling a function with passing parameters to a function, and from a function to a procedure","body":"<p>There is a function that accepts a string array as input. The function calls a stored procedure that filters data by column based on the string array from the function and returns the cursor.\nHow to pass an array of strings to a function call correctly?</p>\n<p>Now it looks like this</p>\n<pre><code>create function pricing.report_avg_price_ref(arr_string text[]) returns refcursor\n       language plpgsql\nas\n$$\nDECLARE\nret_cursor refcursor;\nbegin\nopen ret_cursor for\nselect rap.id,\n       rap.region_name,\n       rap.fc_code,\n       rap.fc_name,\n       rap.ph3_code,\n       rap.ph3_name,\n       rap.ph4_code,\n       rap.ph4_name,\n       rap.product_plu,\n       rap.product_name,\n       rap.price_value\nfrom pricing.report_avg_price rap\nwhere rap.region_name = any (arr_string);\nreturn ret_cursor;\nend;\n$$\n</code></pre>\n<p>So it is called</p>\n<pre><code>List&lt;String&gt; regionNames = List.of('London', 'Paris');\nQuery&lt;ReportAveragePrice&gt; query = statelessSession.createNamedQuery(REPORT_REF_QUERY_NAME, ReportAveragePrice.class);\nquery.setParameter(1,  regionNames);\n</code></pre>\n<p>Description in entity</p>\n<pre><code>    @NamedNativeQuery(\n        name = ReportAveragePrice.REPORT_REF_QUERY_NAME,\n        query = &quot;{ ? = call pricing.report_avg_price_ref(?) }&quot;,\n        callable = true,\n        cacheMode = CacheModeType.IGNORE,\n        resultClass = ReportAveragePrice.class\n    )\n</code></pre>\n<p>This is how the call works if the function and procedure looks like :</p>\n<pre><code>create function pricing.report_avg_price_ref() returns refcursor\n       language plpgsql\nas\n$$\nDECLARE\nret_cursor refcursor;\nbegin\nopen ret_cursor for\nselect rap.id,\n       rap.region_name,\n       rap.fc_code,\n       rap.fc_name,\n       rap.ph3_code,\n       rap.ph3_name,\n       rap.ph4_code,\n       rap.ph4_name,\n       rap.product_plu,\n       rap.product_name,\n       rap.price_value\nfrom pricing.report_avg_price rap\nwhere rap.region_name = any array (['London']);\nreturn ret_cursor;\nend;\n$$\n</code></pre>\n<p>Then all entries are output, where region_name = 'London'</p>\n<p>No how to call the list of translations = List.of('London', 'Paris')?</p>\n"},{"tags":["java","testing"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1700931413,"post_id":77532646,"comment_id":136713549,"body_markdown":"I don&#39;t really understand what you&#39;re trying to do. What do you mean by &quot;I want external class TestFunctionsClass so it holds functionality of tests.&quot;? What kind of functionality? I&#39;m not familiar with TestNG, but the [documentation](https://testng.org/doc/index.html) suggests you don&#39;t need to extend another class.","body":"I don&#39;t really understand what you&#39;re trying to do. What do you mean by &quot;I want external class TestFunctionsClass so it holds functionality of tests.&quot;? What kind of functionality? I&#39;m not familiar with TestNG, but the <a href=\"https://testng.org/doc/index.html\" rel=\"nofollow noreferrer\">documentation</a> suggests you don&#39;t need to extend another class."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1700931560,"post_id":77532646,"comment_id":136713569,"body_markdown":"Further, your example isn&#39;t valid Java code. Please provide a minimal, reproducible example that demonstrates the problem, as per https://stackoverflow.com/help/minimal-reproducible-example.","body":"Further, your example isn&#39;t valid Java code. Please provide a minimal, reproducible example that demonstrates the problem, as per <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."}],"owner":{"account_id":24801056,"reputation":145,"user_id":18683435,"display_name":"Masofke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700681508,"creation_date":1700681508,"question_id":77532646,"body_markdown":"I use TestNG framework, but I will provide my problem without that framework so everyone can understand.\r\n\r\nLet&#39;s say I have BaseClass that inits WebDriver and has it as public var.\r\nMy TestClass must extend BaseClass (As it is a must in TestNG framework)\r\nBut for easier development I want external class TestFunctionsClass so it holds functionality of tests. Also my TestFunctionsClass extends ElementActions class that has it&#39;s specific elements.\r\n\r\nSo current approach is to initialize TestFunctionsClass inside TestClass and push WebDriver through parameters, and inside TestFunctionsClass use super instance to give WebDriver to a parent class (ElementActions). \r\n\r\nSo the problem is if my BaseClass would contain many inits like Logger, Driver, etc... It would be a mess to keep everything pushing through parameters to instances. So is there a better appraoch to this?\r\n\r\nHere&#39;s code example, and if there could be a better approach to reduce code without instances in each parent classes from TestFunctions class:\r\n\r\n    public Class Base {\r\n      WebDriver driver;\r\n\r\n      // beforeTest\r\n      void public setUp() {\r\n          driver = init...\r\n      }\r\n    }\r\n\r\n    public Class Test extends Base {\r\n      public void runTest() {\r\n          TestFunctions testFunctions = new TestFunctions(driver);\r\n      }\r\n    }\r\n\r\n    public Class TestFunctions extends Actions {\r\n      WebDriver driver;\r\n    \r\n      public TestFunctions(WebDriver driver) {\r\n          super(driver);\r\n        \r\n          this.driver = driver;\r\n      }\r\n    }\r\n\r\n    \r\n    public Class Actions {\r\n        WebDriver driver;\r\n\r\n        public Actions(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n\r\n        public click() {\r\n            // driver accessable here\r\n        }\r\n      }","title":"How to approach Java testing manner structure","body":"<p>I use TestNG framework, but I will provide my problem without that framework so everyone can understand.</p>\n<p>Let's say I have BaseClass that inits WebDriver and has it as public var.\nMy TestClass must extend BaseClass (As it is a must in TestNG framework)\nBut for easier development I want external class TestFunctionsClass so it holds functionality of tests. Also my TestFunctionsClass extends ElementActions class that has it's specific elements.</p>\n<p>So current approach is to initialize TestFunctionsClass inside TestClass and push WebDriver through parameters, and inside TestFunctionsClass use super instance to give WebDriver to a parent class (ElementActions).</p>\n<p>So the problem is if my BaseClass would contain many inits like Logger, Driver, etc... It would be a mess to keep everything pushing through parameters to instances. So is there a better appraoch to this?</p>\n<p>Here's code example, and if there could be a better approach to reduce code without instances in each parent classes from TestFunctions class:</p>\n<pre><code>public Class Base {\n  WebDriver driver;\n\n  // beforeTest\n  void public setUp() {\n      driver = init...\n  }\n}\n\npublic Class Test extends Base {\n  public void runTest() {\n      TestFunctions testFunctions = new TestFunctions(driver);\n  }\n}\n\npublic Class TestFunctions extends Actions {\n  WebDriver driver;\n\n  public TestFunctions(WebDriver driver) {\n      super(driver);\n    \n      this.driver = driver;\n  }\n}\n\n\npublic Class Actions {\n    WebDriver driver;\n\n    public Actions(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public click() {\n        // driver accessable here\n    }\n  }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1700667723,"post_id":77531255,"comment_id":136683270,"body_markdown":"You need to start at start angle and iterate on the angle until you get to end angle. At each angle you can use x + sin(currentAngle) * radius, y + cos(currentAngle) * radius to get your points.","body":"You need to start at start angle and iterate on the angle until you get to end angle. At each angle you can use x + sin(currentAngle) * radius, y + cos(currentAngle) * radius to get your points."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1700681596,"post_id":77531255,"comment_id":136685791,"body_markdown":"@ControlAltDel Calling sin and cos at every point is decidedly **not** the Bresenham algorithm.","body":"@ControlAltDel Calling sin and cos at every point is decidedly <b>not</b> the Bresenham algorithm."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700682613,"post_id":77531255,"comment_id":136685928,"body_markdown":"https://en.wikipedia.org/wiki/Midpoint_circle_algorithm it&#39;s really odd that you would change the radius. Also, you&#39;ll probably need to limit the angle range somehow, then check if your pixels are between the limits based on some conditions.","body":"<a href=\"https://en.wikipedia.org/wiki/Midpoint_circle_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Midpoint_circle_algorithm</a> it&#39;s really odd that you would change the radius. Also, you&#39;ll probably need to limit the angle range somehow, then check if your pixels are between the limits based on some conditions."}],"owner":{"account_id":24341560,"reputation":1,"user_id":20575958,"display_name":"Gug1n16"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700681497,"creation_date":1700667168,"question_id":77531255,"body_markdown":"I have a method for drawing a circle using the Bresenham algorithm. How do I redo it so that it draws the arc of a circle from startAngle to endAngle?\r\n\r\n    public static void drawCircleArc(\r\n                final GraphicsContext graphicsContext,\r\n                final int xc, final int yc,\r\n                int radius,\r\n                final int startAngle, final int endAngle) {\r\n            final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\r\n            int error = 2 - 2 * radius;\r\n            int x = -radius;\r\n            int y = 0;\r\n            do {\r\n                pixelWriter.setColor(xc - x, yc + y, Color.BLACK);\r\n                pixelWriter.setColor(xc + x, yc - y, Color.BLACK);\r\n                pixelWriter.setColor(xc - x, yc - y, Color.BLACK);\r\n                pixelWriter.setColor(xc + x, yc + y, Color.BLACK);\r\n    \r\n                radius = error;\r\n    \r\n                if (radius &lt;= y) {\r\n                    y++;\r\n                    error = error + y * 2 + 1;\r\n    \r\n                }\r\n                if (radius &gt; x || error &gt; y) {\r\n                    x++;\r\n                    error = error + x * 2 + 1;\r\n                }\r\n    \r\n            } while (x &lt; 0);\r\n    \r\n        }\r\n\r\n\r\nI tried to make a check that the pixel is between the startAngle and the endAngle when drawing, but it didn&#39;t work.","title":"Method for drawing the arc of a circle by the Bresenham algorithm","body":"<p>I have a method for drawing a circle using the Bresenham algorithm. How do I redo it so that it draws the arc of a circle from startAngle to endAngle?</p>\n<pre><code>public static void drawCircleArc(\n            final GraphicsContext graphicsContext,\n            final int xc, final int yc,\n            int radius,\n            final int startAngle, final int endAngle) {\n        final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\n        int error = 2 - 2 * radius;\n        int x = -radius;\n        int y = 0;\n        do {\n            pixelWriter.setColor(xc - x, yc + y, Color.BLACK);\n            pixelWriter.setColor(xc + x, yc - y, Color.BLACK);\n            pixelWriter.setColor(xc - x, yc - y, Color.BLACK);\n            pixelWriter.setColor(xc + x, yc + y, Color.BLACK);\n\n            radius = error;\n\n            if (radius &lt;= y) {\n                y++;\n                error = error + y * 2 + 1;\n\n            }\n            if (radius &gt; x || error &gt; y) {\n                x++;\n                error = error + x * 2 + 1;\n            }\n\n        } while (x &lt; 0);\n\n    }\n</code></pre>\n<p>I tried to make a check that the pixel is between the startAngle and the endAngle when drawing, but it didn't work.</p>\n"},{"tags":["java","optimization","jakarta-ee","lucene","solr"],"answers":[{"tags":[],"owner":{"account_id":324312,"reputation":13274,"user_id":644817,"accept_rate":87,"display_name":"The Bndr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312540676,"creation_date":1312540676,"answer_id":6954986,"question_id":6954358,"body_markdown":"There are different ways to optimize an index.\r\nYou could trigger one of the solr basic scripts:\r\n[http://wiki.apache.org/solr/SolrOperationsTools#optimize][1]\r\n\r\nYou also could set `optimize=true` at an (full) import or while adding new data.\r\n...or simply trigger an commit with `optimize=true`\r\n\r\nMaybe also this could be interesting for your needs:\r\n[http://wiki.apache.org/solr/UpdateXmlMessages#A.22commit.22_and_.22optimize.22][2]\r\n\r\n\r\n  [1]: http://wiki.apache.org/solr/SolrOperationsTools#optimize\r\n  [2]: http://wiki.apache.org/solr/UpdateXmlMessages#A.22commit.22_and_.22optimize.22","title":"How to optimize solr index","body":"<p>There are different ways to optimize an index.\nYou could trigger one of the solr basic scripts:\n<a href=\"http://wiki.apache.org/solr/SolrOperationsTools#optimize\" rel=\"nofollow\">http://wiki.apache.org/solr/SolrOperationsTools#optimize</a></p>\n\n<p>You also could set <code>optimize=true</code> at an (full) import or while adding new data.\n...or simply trigger an commit with <code>optimize=true</code></p>\n\n<p>Maybe also this could be interesting for your needs:\n<a href=\"http://wiki.apache.org/solr/UpdateXmlMessages#A.22commit.22_and_.22optimize.22\" rel=\"nofollow\">http://wiki.apache.org/solr/UpdateXmlMessages#A.22commit.22_and_.22optimize.22</a></p>\n"},{"tags":[],"owner":{"account_id":370836,"reputation":2492,"user_id":719031,"accept_rate":95,"display_name":"Dorin"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1312892394,"creation_date":1312892394,"answer_id":6996108,"question_id":6954358,"body_markdown":"For testing how much a change you do optimize the indexing, just write a custom indexer and add random generated content. Add a big number of documents (500.000 or 1.000.000) and measure the time it takes.\r\n\r\nFollowing the articles shared above I made to myself a custom indexer and I mananged to optimize the time it took to index documents by 80%.","title":"How to optimize solr index","body":"<p>For testing how much a change you do optimize the indexing, just write a custom indexer and add random generated content. Add a big number of documents (500.000 or 1.000.000) and measure the time it takes.</p>\n\n<p>Following the articles shared above I made to myself a custom indexer and I mananged to optimize the time it took to index documents by 80%.</p>\n"},{"comments":[{"owner":{"account_id":1335430,"reputation":1211,"user_id":1278315,"accept_rate":75,"display_name":"Milee"},"score":2,"creation_date":1378289243,"post_id":12318128,"comment_id":27393641,"body_markdown":"But this doesnot return any status after executing this command. and i dont see any changes in my admin page. The cmd is stuck","body":"But this doesnot return any status after executing this command. and i dont see any changes in my admin page. The cmd is stuck"}],"tags":[],"owner":{"account_id":151684,"reputation":2702,"user_id":365712,"accept_rate":57,"display_name":"spier"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1347020954,"creation_date":1347020954,"answer_id":12318128,"question_id":6954358,"body_markdown":"I find this to be the easiest way to optimize a Solr index. In my context &quot;optimize&quot; means to merge all index segments.\r\n\r\n    curl http://localhost:8983/solr/&lt;core_name&gt;/update -F stream.body=&#39; &lt;optimize /&gt;&#39;","title":"How to optimize solr index","body":"<p>I find this to be the easiest way to optimize a Solr index. In my context \"optimize\" means to merge all index segments.</p>\n\n<pre><code>curl http://localhost:8983/solr/&lt;core_name&gt;/update -F stream.body=' &lt;optimize /&gt;'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1650994,"reputation":2947,"user_id":1521627,"accept_rate":92,"display_name":"Tuna"},"score":0,"creation_date":1554782966,"post_id":34283673,"comment_id":97867392,"body_markdown":"Need to add parameter `commit=true` ?","body":"Need to add parameter <code>commit=true</code> ?"}],"tags":[],"owner":{"account_id":5920025,"reputation":564,"user_id":4657757,"display_name":"Rameez"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1450846980,"creation_date":1450165886,"answer_id":34283673,"question_id":6954358,"body_markdown":"Check the size of respective core before you start.\r\n\r\nOpen Terminal 1:\r\n\r\n    watch -n 10 &quot;du -sh /path to core/data/*&quot;\r\n\r\nOpen Terminal 2 and Execute:\r\n\r\n    curl http://hostname:8980/solr/&lt;core&gt;/update?optimize=true\r\n\r\nInstead of &quot;core&quot;, update your respective name of the core.\r\n\r\nYou could see the size of the core will increase gradually about double the size of your indexed data and will reduce suddenly. This will take time depends on your solr data.\r\n\r\nFor instance, 50G indexed data spikes nearly 90G and downs to optimized 25G data. And normally it will take 30-45min for this amount of data.\r\n\r\n[Why doesn&#39;t my index directory get smaller (immediately) when i delete documents? force a merge? optimize?][1]\r\n\r\n\r\n  [1]: http://wiki.apache.org/solr/FAQ#How_can_I_delete_all_documents_from_my_index.3F","title":"How to optimize solr index","body":"<p>Check the size of respective core before you start.</p>\n\n<p>Open Terminal 1:</p>\n\n<pre><code>watch -n 10 \"du -sh /path to core/data/*\"\n</code></pre>\n\n<p>Open Terminal 2 and Execute:</p>\n\n<pre><code>curl http://hostname:8980/solr/&lt;core&gt;/update?optimize=true\n</code></pre>\n\n<p>Instead of \"core\", update your respective name of the core.</p>\n\n<p>You could see the size of the core will increase gradually about double the size of your indexed data and will reduce suddenly. This will take time depends on your solr data.</p>\n\n<p>For instance, 50G indexed data spikes nearly 90G and downs to optimized 25G data. And normally it will take 30-45min for this amount of data.</p>\n\n<p><a href=\"http://wiki.apache.org/solr/FAQ#How_can_I_delete_all_documents_from_my_index.3F\" rel=\"noreferrer\">Why doesn't my index directory get smaller (immediately) when i delete documents? force a merge? optimize?</a></p>\n"},{"tags":[],"owner":{"account_id":654699,"reputation":8875,"user_id":1093248,"display_name":"Sumoanand"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1478717324,"creation_date":1478717324,"answer_id":40513967,"question_id":6954358,"body_markdown":"You need to pass `optimize=true` to update solr request to optimize the solr.\r\n\r\n&gt; http://[HostName]:[port]/solr/update?optimize=true","title":"How to optimize solr index","body":"<p>You need to pass <code>optimize=true</code> to update solr request to optimize the solr.</p>\n\n<blockquote>\n  <p><a href=\"http://[HostName]:[port]/solr/update?optimize=true\" rel=\"noreferrer\">http://[HostName]:[port]/solr/update?optimize=true</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2368449,"reputation":216,"user_id":2073658,"display_name":"Rafal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585163173,"creation_date":1585163173,"answer_id":60855730,"question_id":6954358,"body_markdown":"When it comes to optimization of Solr core/shard data it is as easy as running a command like this:\r\n\r\n    curl http://hostname:8980/solr/&lt;COLLECTION_NAME&gt;/update?optimize=true&#39;\r\n\r\nBut be aware that this doesn&#39;t come for free - if you have a lot of data you may end up with quite a lot of I/O on Solr nodes and the process itself taking a lot of time. In most cases, you want to start with tuning the merge process, not force merging the index itself. \r\n\r\nI did a talk on that topic during Lucene/Solr revolution - if you would like to have a look at the slides and the video here is a link: https://sematext.com/blog/solr-optimize-is-not-bad-for-you-lucene-solr-revolution/","title":"How to optimize solr index","body":"<p>When it comes to optimization of Solr core/shard data it is as easy as running a command like this:</p>\n\n<pre><code>curl http://hostname:8980/solr/&lt;COLLECTION_NAME&gt;/update?optimize=true'\n</code></pre>\n\n<p>But be aware that this doesn't come for free - if you have a lot of data you may end up with quite a lot of I/O on Solr nodes and the process itself taking a lot of time. In most cases, you want to start with tuning the merge process, not force merging the index itself. </p>\n\n<p>I did a talk on that topic during Lucene/Solr revolution - if you would like to have a look at the slides and the video here is a link: <a href=\"https://sematext.com/blog/solr-optimize-is-not-bad-for-you-lucene-solr-revolution/\" rel=\"nofollow noreferrer\">https://sematext.com/blog/solr-optimize-is-not-bad-for-you-lucene-solr-revolution/</a></p>\n"},{"tags":[],"owner":{"account_id":21108462,"reputation":21,"user_id":15516965,"display_name":"Shailesh Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617143822,"creation_date":1617133097,"answer_id":66877435,"question_id":6954358,"body_markdown":"By Optimise considering it to be forceMerge. The Optimize operation re-organizes all the Segments in a Core (or per shard) and merged them to 1 single Segment (default is 1 segment)\r\n\r\nTo optimise: You could specify MergePolicy in solrconfig.xml, so that Solr will merge segments by himself. To manually trigger the optimise http://hostname:port/solr/&lt;COLLECTION_NAME&gt;/update?optimize=true&amp;maxSegments=1&#39;\r\n\r\n\r\nTo answer you next question - how to verify if optimise is done or not ? You can check the Core/Shard Overview tab in the Solr UI which will denote the count of segment. You can also verify the size of segments in the /data/index folder before and after the optimise.\r\n\r\n[![segment count in the statistics of Solr overview][1]][1]\r\n\r\n\r\nOptimize/forceMerge are better behaved, but still expensive operations.\r\n\r\nhttps://wiki.apache.org/solr/SolrPerformanceFactors#Optimization_Considerations:\r\n\r\n“Optimizing is very expensive, and if the index is constantly changing, the slight performance boost will not last long.”\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UfbZp.png","title":"How to optimize solr index","body":"<p>By Optimise considering it to be forceMerge. The Optimize operation re-organizes all the Segments in a Core (or per shard) and merged them to 1 single Segment (default is 1 segment)</p>\n<p>To optimise: You could specify MergePolicy in solrconfig.xml, so that Solr will merge segments by himself. To manually trigger the optimise http://hostname:port/solr/&lt;COLLECTION_NAME&gt;/update?optimize=true&amp;maxSegments=1'</p>\n<p>To answer you next question - how to verify if optimise is done or not ? You can check the Core/Shard Overview tab in the Solr UI which will denote the count of segment. You can also verify the size of segments in the /data/index folder before and after the optimise.</p>\n<p><a href=\"https://i.stack.imgur.com/UfbZp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UfbZp.png\" alt=\"segment count in the statistics of Solr overview\" /></a></p>\n<p>Optimize/forceMerge are better behaved, but still expensive operations.</p>\n<p><a href=\"https://wiki.apache.org/solr/SolrPerformanceFactors#Optimization_Considerations\" rel=\"nofollow noreferrer\">https://wiki.apache.org/solr/SolrPerformanceFactors#Optimization_Considerations</a>:</p>\n<p>“Optimizing is very expensive, and if the index is constantly changing, the slight performance boost will not last long.”</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700680644,"creation_date":1700680644,"answer_id":77532585,"question_id":6954358,"body_markdown":"If you have access to the Solr web-based UI, this can be done there by navigating to the core you want to optimize, then:\r\n\r\n1. Open the &quot;Documents&quot; page/menu/whatever\r\n1. Set the `Request-Handler` to `/update` (which is the default) and the document type to `XML` (this may be possible with JSON, but...)\r\n1. Enter `&lt;optimize/&gt;` into the &quot;Document(s)&quot; text area\r\n1. Submit the document\r\n\r\nThis will kick-off the optimization process.","title":"How to optimize solr index","body":"<p>If you have access to the Solr web-based UI, this can be done there by navigating to the core you want to optimize, then:</p>\n<ol>\n<li>Open the &quot;Documents&quot; page/menu/whatever</li>\n<li>Set the <code>Request-Handler</code> to <code>/update</code> (which is the default) and the document type to <code>XML</code> (this may be possible with JSON, but...)</li>\n<li>Enter <code>&lt;optimize/&gt;</code> into the &quot;Document(s)&quot; text area</li>\n<li>Submit the document</li>\n</ol>\n<p>This will kick-off the optimization process.</p>\n"}],"owner":{"display_name":"user800854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43277,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":8,"score":14,"last_activity_date":1700680644,"creation_date":1312537400,"question_id":6954358,"body_markdown":"How to optimize solr index. \r\nI want to optimize my solr indexing for i try to change in solrconfig.xml it getting indexed but i want to how to verify that they are optimized and with which thing are involve in index optimization.","title":"How to optimize solr index","body":"<p>How to optimize solr index. \nI want to optimize my solr indexing for i try to change in solrconfig.xml it getting indexed but i want to how to verify that they are optimized and with which thing are involve in index optimization.</p>\n"},{"tags":["java","jvisualvm"],"comments":[{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":1,"creation_date":1296161328,"post_id":4821664,"comment_id":5347768,"body_markdown":"I would guess that an allocated object that is not live is just one that hasn&#39;t been GCed yet.","body":"I would guess that an allocated object that is not live is just one that hasn&#39;t been GCed yet."},{"owner":{"account_id":629632,"reputation":7455,"user_id":386593,"accept_rate":91,"display_name":"Anonym"},"score":1,"creation_date":1296161717,"post_id":4821664,"comment_id":5347858,"body_markdown":"That&#39;s my guess too, but I&#39;d like to have some definite facts :-)","body":"That&#39;s my guess too, but I&#39;d like to have some definite facts :-)"}],"answers":[{"tags":[],"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1417600027,"creation_date":1296480457,"answer_id":4851365,"question_id":4821664,"body_markdown":" - Allocated objects are all objects that have been created since application start (or reset)\r\n - Live objects are reachable objects that are being actively used by your program (likely still in the Young Generation)","title":"What is the difference between live objects and allocated objects in VisualVM?","body":"<ul>\n<li>Allocated objects are all objects that have been created since application start (or reset)</li>\n<li>Live objects are reachable objects that are being actively used by your program (likely still in the Young Generation)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1314547751,"creation_date":1314547751,"answer_id":7222074,"question_id":4821664,"body_markdown":"The number of allocated objects is not the number of objects not yet reclaimed by the garbage collector. Rather, it is the number of objects created since application start, or since a reset of the &quot;Collected Results Buffer&quot; in VisualVM (there is a button in the memory profiler view to reset the collected results buffer).\r\n\r\nThe live objects are those objects that haven&#39;t been reclaimed by the garbage collector; this may include objects that are unreachable, and will definitely include objects that are still in use by the application.","title":"What is the difference between live objects and allocated objects in VisualVM?","body":"<p>The number of allocated objects is not the number of objects not yet reclaimed by the garbage collector. Rather, it is the number of objects created since application start, or since a reset of the \"Collected Results Buffer\" in VisualVM (there is a button in the memory profiler view to reset the collected results buffer).</p>\n\n<p>The live objects are those objects that haven't been reclaimed by the garbage collector; this may include objects that are unreachable, and will definitely include objects that are still in use by the application.</p>\n"}],"owner":{"account_id":629632,"reputation":7455,"user_id":386593,"accept_rate":91,"display_name":"Anonym"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6229,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":4851365,"answer_count":2,"score":20,"last_activity_date":1700680390,"creation_date":1296161188,"question_id":4821664,"body_markdown":"As seen in the screenshot here, 0 live objects, 9 allocated objects.\r\n\r\nWhat&#39;s the difference between a live and an allocated object?\r\n\r\n![jvisualvm screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SaZQS.png","title":"What is the difference between live objects and allocated objects in VisualVM?","body":"<p>As seen in the screenshot here, 0 live objects, 9 allocated objects.</p>\n<p>What's the difference between a live and an allocated object?</p>\n<p><img src=\"https://i.stack.imgur.com/SaZQS.png\" alt=\"jvisualvm screenshot\" /></p>\n"},{"tags":["java","wcf",".net-core","soap","wsdl"],"comments":[{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1700670025,"post_id":77531515,"comment_id":136683732,"body_markdown":"`XmlSerializer` doesn&#39;t support custom formats for primitives like `decimal`, `double`, `DateTime` and so on.  The standard workaround is to mark the real property with `[XmlIgnore]` and use a surrogate `string` valued property.  See e.g. [this answer](https://stackoverflow.com/a/17438468) to [XML deserialization crashes on decimal parse due to formatting](https://stackoverflow.com/q/17437946) as well as [Can you specify format for XmlSerialization of a datetime?](https://stackoverflow.com/q/1118833).  Be sure to parse and format the string using `CultureInfo.InvariantCulture`.","body":"<code>XmlSerializer</code> doesn&#39;t support custom formats for primitives like <code>decimal</code>, <code>double</code>, <code>DateTime</code> and so on.  The standard workaround is to mark the real property with <code>[XmlIgnore]</code> and use a surrogate <code>string</code> valued property.  See e.g. <a href=\"https://stackoverflow.com/a/17438468\">this answer</a> to <a href=\"https://stackoverflow.com/q/17437946\">XML deserialization crashes on decimal parse due to formatting</a> as well as <a href=\"https://stackoverflow.com/q/1118833\">Can you specify format for XmlSerialization of a datetime?</a>.  Be sure to parse and format the string using <code>CultureInfo.InvariantCulture</code>."},{"owner":{"account_id":689,"reputation":151114,"user_id":905,"accept_rate":75,"display_name":"Keith"},"score":0,"creation_date":1700671046,"post_id":77531515,"comment_id":136683983,"body_markdown":"@dbc thanks but this is autogenerated code - line 8478 out of 31338. Adding `[XmlIgnore]` and a `string` surrogate gets around losing data for `double` to `decimal` conversion, but the real pain is manually editing a huge autogenerated file every time the WSDL changes.","body":"@dbc thanks but this is autogenerated code - line 8478 out of 31338. Adding <code>[XmlIgnore]</code> and a <code>string</code> surrogate gets around losing data for <code>double</code> to <code>decimal</code> conversion, but the real pain is manually editing a huge autogenerated file every time the WSDL changes."},{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1700672184,"post_id":77531515,"comment_id":136684237,"body_markdown":"Then you may need to consider creating a customized `XmlCodeExporter`.  See e.g. [XmlCodeExporter and nullable types](https://stackoverflow.com/q/42295155/3744182).  Or maybe you could sanitize the XML before deserializing by using an XSLT transform or something similar.","body":"Then you may need to consider creating a customized <code>XmlCodeExporter</code>.  See e.g. <a href=\"https://stackoverflow.com/q/42295155/3744182\">XmlCodeExporter and nullable types</a>.  Or maybe you could sanitize the XML before deserializing by using an XSLT transform or something similar."},{"owner":{"account_id":689,"reputation":151114,"user_id":905,"accept_rate":75,"display_name":"Keith"},"score":0,"creation_date":1700672732,"post_id":77531515,"comment_id":136684340,"body_markdown":"@dbc we&#39;re on .NET 8, I&#39;m not sure that we could even consider a library so old that it doesn&#39;t even support nullables (added in .NET Framework 2 around 20 years ago) even if this is SOAP. Inline XSLT would be a significant performance bottleneck as well as a lot of work to implement, but I&#39;m not even sure how they could be applied without some kind of proxy between WCF and the SOAP service?","body":"@dbc we&#39;re on .NET 8, I&#39;m not sure that we could even consider a library so old that it doesn&#39;t even support nullables (added in .NET Framework 2 around 20 years ago) even if this is SOAP. Inline XSLT would be a significant performance bottleneck as well as a lot of work to implement, but I&#39;m not even sure how they could be applied without some kind of proxy between WCF and the SOAP service?"},{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1700677576,"post_id":77531515,"comment_id":136685163,"body_markdown":"`XmlCodeExporter` supports nullable types, just not the way that querent wanted.  Anyway, WCF is very old technology.  `XmlSerializer` dates from .NET 2 and `DataContractSerializer` dates from .NET 3.  How are you using WCF in .NET 8?  Are you using CoreWCF?","body":"<code>XmlCodeExporter</code> supports nullable types, just not the way that querent wanted.  Anyway, WCF is very old technology.  <code>XmlSerializer</code> dates from .NET 2 and <code>DataContractSerializer</code> dates from .NET 3.  How are you using WCF in .NET 8?  Are you using CoreWCF?"},{"owner":{"account_id":25794941,"reputation":206,"user_id":19538299,"display_name":"QI You"},"score":0,"creation_date":1701250944,"post_id":77531515,"comment_id":136751312,"body_markdown":"Since the code is automatically generated from the WSDL document (it should be via svcutil.exe). I also think you can refer to the documentation for CoreWCF.","body":"Since the code is automatically generated from the WSDL document (it should be via svcutil.exe). I also think you can refer to the documentation for CoreWCF."}],"owner":{"account_id":689,"reputation":151114,"user_id":905,"accept_rate":75,"display_name":"Keith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700680145,"creation_date":1700669450,"question_id":77531515,"body_markdown":"We have a .NET 8 project (though this was also an issue in .NET 7 and .NET Framework 4.8).\r\n\r\nWe have a vendor SOAP service - they give us a WSDL and we auto-generate a WCF client in Visual Studio.\r\n\r\nThis WSDL is _very_ large, and results in many thousands of lines of C# autogenerated code.\r\n\r\nWe have a problem with one field that causes serialisation errors.\r\n\r\nIn the WSDL this is defined as:\r\n\r\n```xml\r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;spend&quot; nillable=&quot;true&quot; type=&quot;xs:decimal&quot;/&gt;\r\n```\r\n\r\nSo in the C# generated code this is a `System.Decimal`/`decimal`.\r\n\r\n```C#\r\n[System.Xml.Serialization.XmlElementAttribute(IsNullable=true, Order=17)]\r\npublic System.Nullable&lt;decimal&gt; spend { ...\r\n```\r\n\r\nHowever, in the SOAP API response we get:\r\n\r\n```xml\r\n&lt;ns:spend&gt;0E-10&lt;/ns:spend&gt;\r\n```\r\n\r\nThis is floating point e-notation, valid for a IEEE754-1985 floating point number, but specifically [not valid for a `decimal`](https://www.w3.org/TR/xmlschema-2/#decimal) - .NET crashes when parsing it.\r\n\r\nIn case this was a bug in .NET&#39;s SOAP implementation we also tested it with https://www.soapui.org, with the same result.\r\n\r\nI _think_ this is the correct behaviour - `0E-10` can become a valid `decimal`, but `12345E-10` would lose data and you don&#39;t want that to happen silently.\r\n\r\nWe know this vendor uses Java, and this appears to be a bug in Java&#39;s `BigDecimal` type. It&#39;s been an issue with SOAP implementations like [JAXB for a long time](https://github.com/javaee/jaxb-v2/issues/386). By default Java&#39;s `BigDecimal.toString()` outputs e-notation. Apparently this [isn&#39;t to hard to fix](https://stackoverflow.com/questions/15834879/format-bigdecimal-without-scientific-notation-with-full-precision) but let&#39;s assume this vendor isn&#39;t going to do that.\r\n\r\nWe _could_ work around this by overriding the type in the generated code:\r\n\r\n```c#\r\npublic System.Nullable&lt;double&gt; spend { \r\n```\r\n\r\nBut then we potentially have inaccuracies (this field holds a cash value) and need to make this change again every time the vendor updates their WSDL (about once every 3 months) and this becomes a nasty bit of technical debt.\r\n\r\nIs there a way in WCF or using Microsoft&#39;s SOAP tools to add a string-parser for this specific field? Or any `decimal` property from this provider? \r\n\r\nHas anyone else worked around this? Java has had this bug for 20 years, there must be other .NET SOAP clients of Java services that had to handle it?","title":"Work around Java BigDecimal outputting e-notation in .NET WCF SOAP client","body":"<p>We have a .NET 8 project (though this was also an issue in .NET 7 and .NET Framework 4.8).</p>\n<p>We have a vendor SOAP service - they give us a WSDL and we auto-generate a WCF client in Visual Studio.</p>\n<p>This WSDL is <em>very</em> large, and results in many thousands of lines of C# autogenerated code.</p>\n<p>We have a problem with one field that causes serialisation errors.</p>\n<p>In the WSDL this is defined as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:element minOccurs=&quot;0&quot; name=&quot;spend&quot; nillable=&quot;true&quot; type=&quot;xs:decimal&quot;/&gt;\n</code></pre>\n<p>So in the C# generated code this is a <code>System.Decimal</code>/<code>decimal</code>.</p>\n<pre><code>[System.Xml.Serialization.XmlElementAttribute(IsNullable=true, Order=17)]\npublic System.Nullable&lt;decimal&gt; spend { ...\n</code></pre>\n<p>However, in the SOAP API response we get:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ns:spend&gt;0E-10&lt;/ns:spend&gt;\n</code></pre>\n<p>This is floating point e-notation, valid for a IEEE754-1985 floating point number, but specifically <a href=\"https://www.w3.org/TR/xmlschema-2/#decimal\" rel=\"nofollow noreferrer\">not valid for a <code>decimal</code></a> - .NET crashes when parsing it.</p>\n<p>In case this was a bug in .NET's SOAP implementation we also tested it with <a href=\"https://www.soapui.org\" rel=\"nofollow noreferrer\">https://www.soapui.org</a>, with the same result.</p>\n<p>I <em>think</em> this is the correct behaviour - <code>0E-10</code> can become a valid <code>decimal</code>, but <code>12345E-10</code> would lose data and you don't want that to happen silently.</p>\n<p>We know this vendor uses Java, and this appears to be a bug in Java's <code>BigDecimal</code> type. It's been an issue with SOAP implementations like <a href=\"https://github.com/javaee/jaxb-v2/issues/386\" rel=\"nofollow noreferrer\">JAXB for a long time</a>. By default Java's <code>BigDecimal.toString()</code> outputs e-notation. Apparently this <a href=\"https://stackoverflow.com/questions/15834879/format-bigdecimal-without-scientific-notation-with-full-precision\">isn't to hard to fix</a> but let's assume this vendor isn't going to do that.</p>\n<p>We <em>could</em> work around this by overriding the type in the generated code:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public System.Nullable&lt;double&gt; spend { \n</code></pre>\n<p>But then we potentially have inaccuracies (this field holds a cash value) and need to make this change again every time the vendor updates their WSDL (about once every 3 months) and this becomes a nasty bit of technical debt.</p>\n<p>Is there a way in WCF or using Microsoft's SOAP tools to add a string-parser for this specific field? Or any <code>decimal</code> property from this provider?</p>\n<p>Has anyone else worked around this? Java has had this bug for 20 years, there must be other .NET SOAP clients of Java services that had to handle it?</p>\n"},{"tags":["java","cadence"],"owner":{"account_id":29969000,"reputation":1,"user_id":22966863,"display_name":"Mohammed Samir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700679600,"creation_date":1700679202,"question_id":77532479,"body_markdown":"I&#39;m trying to create a workflow using uber cadence, and using OpenTelemetry to capture the traces, when trying to create a http request from cadence activity, the trace_id and span_id printed as nulls in logs.\r\n\r\ntrying to propagate OpenTelemetry context to cadence workflow","title":"Propagate OpenTelemetry context to uber cadence workflow","body":"<p>I'm trying to create a workflow using uber cadence, and using OpenTelemetry to capture the traces, when trying to create a http request from cadence activity, the trace_id and span_id printed as nulls in logs.</p>\n<p>trying to propagate OpenTelemetry context to cadence workflow</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":19386421,"reputation":37,"user_id":14176037,"display_name":"Rithik Tank"},"score":0,"creation_date":1700655828,"post_id":77529655,"comment_id":136680872,"body_markdown":"I&#39;m afraid not. My email and password still won&#39;t write to the textfile","body":"I&#39;m afraid not. My email and password still won&#39;t write to the textfile"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700664996,"post_id":77529655,"comment_id":136682646,"body_markdown":"Sorry, that wouldn&#39;t have caused the problem anyway (I was wrong to suggest that as the cause, so I deleted my comment and retracted my close vote).","body":"Sorry, that wouldn&#39;t have caused the problem anyway (I was wrong to suggest that as the cause, so I deleted my comment and retracted my close vote)."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700665128,"post_id":77529655,"comment_id":136682679,"body_markdown":"Maybe you should check if an exception was thrown. You catch the exception and print the exception message to standard error. Where is that appearing if you&#39;re running on Android? It&#39;s usually a bad idea, in most cases, to have an exception handler that just prints a stack trace. Just remove the catch, and let your exception propagate to its callers. You&#39;ll probably see an error message more easily like that.","body":"Maybe you should check if an exception was thrown. You catch the exception and print the exception message to standard error. Where is that appearing if you&#39;re running on Android? It&#39;s usually a bad idea, in most cases, to have an exception handler that just prints a stack trace. Just remove the catch, and let your exception propagate to its callers. You&#39;ll probably see an error message more easily like that."},{"owner":{"account_id":19386421,"reputation":37,"user_id":14176037,"display_name":"Rithik Tank"},"score":0,"creation_date":1700706329,"post_id":77529655,"comment_id":136688463,"body_markdown":"I tried that but now my application stops responding. Furthermore, it does not print an error message. I&#39;m unsure how to navigate android studio and determine where the error occurs and how to go about resolving it.","body":"I tried that but now my application stops responding. Furthermore, it does not print an error message. I&#39;m unsure how to navigate android studio and determine where the error occurs and how to go about resolving it."}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1700732994,"post_id":77532509,"comment_id":136691574,"body_markdown":"This is true only for Java, but the OP&#39;s code is in Kotlin and `==` works fine.","body":"This is true only for Java, but the OP&#39;s code is in Kotlin and <code>==</code> works fine."},{"owner":{"account_id":23459219,"reputation":34,"user_id":17514282,"display_name":"Arsham"},"score":0,"creation_date":1700741453,"post_id":77532509,"comment_id":136693154,"body_markdown":"@k314159 Yes, my bad, I saw the Java code snippet first and didn&#39;t notice that the second code snippet was written in Java or Kotlin. sorry.","body":"@k314159 Yes, my bad, I saw the Java code snippet first and didn&#39;t notice that the second code snippet was written in Java or Kotlin. sorry."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1700741569,"post_id":77532509,"comment_id":136693174,"body_markdown":"Understood, no worries","body":"Understood, no worries"}],"tags":[],"owner":{"account_id":23459219,"reputation":34,"user_id":17514282,"display_name":"Arsham"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700679569,"creation_date":1700679569,"answer_id":77532509,"question_id":77529655,"body_markdown":"Try using &quot;equals()&quot; function instead of &quot;==&quot; to compare the content of two String.\r\n\r\nDo this:\r\n\r\n    if (email.equals(&quot;tutor@email.com&quot;) &amp;&amp; password.equals(&quot;tutor123&quot;)) {\r\n                //Line of Issue\r\n                fileHandler.write(email, password, true)\r\n                // -----------\r\n                setContentView(R.layout.tutormenu)\r\n            } else if (email.equals(&quot;student@email.com&quot;) &amp;&amp; password.equals(&quot;student123&quot;))\r\n                setContentView(R.layout.studentmenu)\r\n        }\r\n\r\nThe main difference is that, equals checks the content of two Strings if they have the same contents. But == checks the location of two Strings in memory.","title":"First time trying to use Android and my fileHandler class won&#39;t write the email and password to the textfile &quot;app/accounts.txt&quot;","body":"<p>Try using &quot;equals()&quot; function instead of &quot;==&quot; to compare the content of two String.</p>\n<p>Do this:</p>\n<pre><code>if (email.equals(&quot;tutor@email.com&quot;) &amp;&amp; password.equals(&quot;tutor123&quot;)) {\n            //Line of Issue\n            fileHandler.write(email, password, true)\n            // -----------\n            setContentView(R.layout.tutormenu)\n        } else if (email.equals(&quot;student@email.com&quot;) &amp;&amp; password.equals(&quot;student123&quot;))\n            setContentView(R.layout.studentmenu)\n    }\n</code></pre>\n<p>The main difference is that, equals checks the content of two Strings if they have the same contents. But == checks the location of two Strings in memory.</p>\n"}],"owner":{"account_id":19386421,"reputation":37,"user_id":14176037,"display_name":"Rithik Tank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700679569,"creation_date":1700653505,"question_id":77529655,"body_markdown":"My FileHandler class does not work in my application but works when I try and run it with coverage in another java file.\r\n\r\n```java\r\npublic class FileHandler {\r\n\r\n    public Scanner fileReader;\r\n    public PrintWriter printWriter;\r\n\r\n    public void write(String email, String password, boolean tutor) {\r\n        try {\r\n            String filePath = &quot;app/accounts.txt&quot;;\r\n            FileWriter fileWriter = new FileWriter(filePath, true);\r\n\r\n            PrintWriter printWriter = new PrintWriter(fileWriter);\r\n            String message = email + &quot;,&quot; + password + &quot;,&quot; + tutor;\r\n            printWriter.println(message);\r\n            printWriter.close();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n```\r\n```kotlin\r\nclass LoginSignUp : AppCompatActivity() {\r\n\r\n    lateinit var logInButton: Button\r\n    lateinit var signUpButton : Button\r\n    lateinit var emailField: EditText\r\n    lateinit var passwordField : EditText\r\n    lateinit var email : String\r\n    lateinit var password : String\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.loginsignup)\r\n    \r\n        logInButton = findViewById(R.id.login)\r\n        signUpButton = findViewById(R.id.SignUpButton)\r\n        passwordField = findViewById(R.id.EnterPasswordField)\r\n        emailField = findViewById(R.id.EmailAddressField)\r\n    \r\n        logInButton.setOnClickListener {\r\n            email = emailField.getText().toString()\r\n            password = passwordField.getText().toString()\r\n    \r\n            val fileHandler = FileHandler()\r\n            if (email == &quot;tutor@email.com&quot; &amp;&amp; password == &quot;tutor123&quot;) {\r\n                //Line of Issue\r\n                fileHandler.write(email, password, true)\r\n                // -----------\r\n                setContentView(R.layout.tutormenu)\r\n            } else if (email == &quot;student@email.com&quot; &amp;&amp; password == &quot;student123&quot;)\r\n                setContentView(R.layout.studentmenu)\r\n        }\r\n    \r\n        signUpButton.setOnClickListener {\r\n            email = emailField.text.toString()\r\n            password = passwordField.text.toString()\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI&#39;m sure that the loginButton handler works how it is supposed to and have been able to isolate the issue of my code to the fileHandler implementation. Now, I&#39;m not sure how to go about  execution of the fileHandler wherein if the email and password match the specified text they will be written to a file. I thought writing this line of code in my manifest would resolve it but it didn&#39;t.\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\n","title":"First time trying to use Android and my fileHandler class won&#39;t write the email and password to the textfile &quot;app/accounts.txt&quot;","body":"<p>My FileHandler class does not work in my application but works when I try and run it with coverage in another java file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHandler {\n\n    public Scanner fileReader;\n    public PrintWriter printWriter;\n\n    public void write(String email, String password, boolean tutor) {\n        try {\n            String filePath = &quot;app/accounts.txt&quot;;\n            FileWriter fileWriter = new FileWriter(filePath, true);\n\n            PrintWriter printWriter = new PrintWriter(fileWriter);\n            String message = email + &quot;,&quot; + password + &quot;,&quot; + tutor;\n            printWriter.println(message);\n            printWriter.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class LoginSignUp : AppCompatActivity() {\n\n    lateinit var logInButton: Button\n    lateinit var signUpButton : Button\n    lateinit var emailField: EditText\n    lateinit var passwordField : EditText\n    lateinit var email : String\n    lateinit var password : String\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.loginsignup)\n    \n        logInButton = findViewById(R.id.login)\n        signUpButton = findViewById(R.id.SignUpButton)\n        passwordField = findViewById(R.id.EnterPasswordField)\n        emailField = findViewById(R.id.EmailAddressField)\n    \n        logInButton.setOnClickListener {\n            email = emailField.getText().toString()\n            password = passwordField.getText().toString()\n    \n            val fileHandler = FileHandler()\n            if (email == &quot;tutor@email.com&quot; &amp;&amp; password == &quot;tutor123&quot;) {\n                //Line of Issue\n                fileHandler.write(email, password, true)\n                // -----------\n                setContentView(R.layout.tutormenu)\n            } else if (email == &quot;student@email.com&quot; &amp;&amp; password == &quot;student123&quot;)\n                setContentView(R.layout.studentmenu)\n        }\n    \n        signUpButton.setOnClickListener {\n            email = emailField.text.toString()\n            password = passwordField.text.toString()\n        }\n    }\n\n</code></pre>\n<p>I'm sure that the loginButton handler works how it is supposed to and have been able to isolate the issue of my code to the fileHandler implementation. Now, I'm not sure how to go about  execution of the fileHandler wherein if the email and password match the specified text they will be written to a file. I thought writing this line of code in my manifest would resolve it but it didn't.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1700679566,"creation_date":1327300824,"answer_id":8968033,"question_id":8967923,"body_markdown":"Because [`ChartFactory.createWaterfallChart()`][1] instantiates a `CategoryAxis`, simply set the relevant margins:\r\n\r\n    CategoryAxis domainAxis = plot.getDomainAxis();\r\n    domainAxis.setLowerMargin(0);\r\n    domainAxis.setUpperMargin(0);\r\n\r\nAddendum: Note that negative values make the margin smaller, as illustrated [here][2].\r\n\r\n    domainAxis.setLowerMargin(-0.05);\r\n    domainAxis.setUpperMargin(-0.05);\r\n\r\n  [1]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartFactory.html#createWaterfallChart-java.lang.String-java.lang.String-java.lang.String-org.jfree.data.category.CategoryDataset-org.jfree.chart.plot.PlotOrientation-boolean-boolean-boolean-\r\n  [2]: https://github.com/jfree/jfreechart/issues/388","title":"jfreechart - remove spaces in chart","body":"<p>Because <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartFactory.html#createWaterfallChart-java.lang.String-java.lang.String-java.lang.String-org.jfree.data.category.CategoryDataset-org.jfree.chart.plot.PlotOrientation-boolean-boolean-boolean-\" rel=\"nofollow noreferrer\"><code>ChartFactory.createWaterfallChart()</code></a> instantiates a <code>CategoryAxis</code>, simply set the relevant margins:</p>\n<pre><code>CategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setLowerMargin(0);\ndomainAxis.setUpperMargin(0);\n</code></pre>\n<p>Addendum: Note that negative values make the margin smaller, as illustrated <a href=\"https://github.com/jfree/jfreechart/issues/388\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>domainAxis.setLowerMargin(-0.05);\ndomainAxis.setUpperMargin(-0.05);\n</code></pre>\n"}],"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8968033,"answer_count":1,"score":4,"last_activity_date":1700679566,"creation_date":1327300003,"question_id":8967923,"body_markdown":"I am using `JFreeChart`, and I want to remove the left and right spaces in my waterfall chart.\r\n\r\nHere is what my chart looks like right now with the red squiggles to demonstrate the space I want to remove.\r\n\r\n![WaterfallChart][1]\r\n\r\nAny idea how to remove these spaces?\r\n\r\n[1]: http://i.stack.imgur.com/Leoom.png","title":"jfreechart - remove spaces in chart","body":"<p>I am using <code>JFreeChart</code>, and I want to remove the left and right spaces in my waterfall chart.</p>\n\n<p>Here is what my chart looks like right now with the red squiggles to demonstrate the space I want to remove.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Leoom.png\" alt=\"WaterfallChart\"></p>\n\n<p>Any idea how to remove these spaces?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700652485,"post_id":77529512,"comment_id":136680306,"body_markdown":"afaik Maven doesn&#39;t self-update. You need to get the version you need","body":"afaik Maven doesn&#39;t self-update. You need to get the version you need"},{"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"score":0,"creation_date":1700652622,"post_id":77529512,"comment_id":136680337,"body_markdown":"Yes, it does not. So this project that I am working on is using an outdated version of Maven and thus I want to update it in a Pull Request. Looking a solution for that.","body":"Yes, it does not. So this project that I am working on is using an outdated version of Maven and thus I want to update it in a Pull Request. Looking a solution for that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700652809,"post_id":77529512,"comment_id":136680367,"body_markdown":"As I said, you need to get (download or otherwise) and use the version you need https://maven.apache.org/download.cgi?.","body":"As I said, you need to get (download or otherwise) and use the version you need <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a>?."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700652864,"post_id":77529512,"comment_id":136680384,"body_markdown":"What do you mean by PR.  Pull request?  Please use the full word so that we know what you are saying.","body":"What do you mean by PR.  Pull request?  Please use the full word so that we know what you are saying."},{"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"score":0,"creation_date":1700652890,"post_id":77529512,"comment_id":136680386,"body_markdown":"This way the version will be updated in my locals only, I want to change it for all other users as well.","body":"This way the version will be updated in my locals only, I want to change it for all other users as well."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700653086,"post_id":77529512,"comment_id":136680417,"body_markdown":"If you mean &quot;pull request&quot; ... what you want to do cannot be done.  No matter how many times you say that you need it.  The &quot;other users&quot; will need to update their installation of Maven too.","body":"If you mean &quot;pull request&quot; ... what you want to do cannot be done.  No matter how many times you say that you need it.  The &quot;other users&quot; will need to update their installation of Maven too."},{"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"score":0,"creation_date":1700653231,"post_id":77529512,"comment_id":136680436,"body_markdown":"Does that mean if once we have used a certain maven version for a project (in this case a remote repository), we will have to stick to that version forever and if we want to change the version we can only do it individually by installing the required version?","body":"Does that mean if once we have used a certain maven version for a project (in this case a remote repository), we will have to stick to that version forever and if we want to change the version we can only do it individually by installing the required version?"},{"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"score":0,"creation_date":1700653501,"post_id":77529512,"comment_id":136680490,"body_markdown":"Reframing the question - How can we update the CI to have a new version of Maven?","body":"Reframing the question - How can we update the CI to have a new version of Maven?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700657063,"post_id":77529512,"comment_id":136681057,"body_markdown":"Do you use maven wrapper (mvnw) or a pre-installed maven on the CI? Which CI do you use? (please add the answers directly to your question, as they are relevant for an answer).","body":"Do you use maven wrapper (mvnw) or a pre-installed maven on the CI? Which CI do you use? (please add the answers directly to your question, as they are relevant for an answer)."}],"answers":[{"comments":[{"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"score":0,"creation_date":1700654988,"post_id":77529647,"comment_id":136680748,"body_markdown":"thank you so much","body":"thank you so much"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700656042,"creation_date":1700653474,"answer_id":77529647,"question_id":77529512,"body_markdown":"What you want to do cannot be done.  Maven cannot update itself.  You ... and the other people building your project ... will need to update the version of Maven in the normal way:\r\n\r\n  - If you / they are running builds on workstations, etc, use the platform&#39;s package installer or whatever to update Maven,\r\n\r\n  - If you are doing builds on a CI system, you may need to update the installed Maven on the CI server.  Ask the admin to do it.\r\n\r\n  - If you are publishing your project, put the required Maven version into the project&#39;s build instructions / README file.\r\n\r\n-------------------------\r\n\r\n\r\n&gt; Does that mean if once we have used a certain maven version for a project (in this case a remote repository), we will have to stick to that version forever \r\n\r\nNo ...\r\n\r\n&gt; and if we want to change the version we can only do it individually by installing the required version? \r\n\r\nYes.  Or on the CI server if that is what you are using.\r\n\r\nYou should avoid specifying a tight Maven version constraint in your POM file.  Use version ranges (see the [documentation][1]) ... or no version constraint at all.  (Typically, Maven builds are largely insensitive to the Maven version that is used.)\r\n\r\n-----------------------\r\n\r\n\r\n&gt; How can we update the CI to have a new version of Maven?\r\n\r\nRead the CI system documentation.  That will explain what you need to do.  Or talk to the person who manages it for you.\r\n\r\n\r\n  [1]: https://maven.apache.org/enforcer/enforcer-rules/requireMavenVersion.html","title":"Update Maven Version","body":"<p>What you want to do cannot be done.  Maven cannot update itself.  You ... and the other people building your project ... will need to update the version of Maven in the normal way:</p>\n<ul>\n<li><p>If you / they are running builds on workstations, etc, use the platform's package installer or whatever to update Maven,</p>\n</li>\n<li><p>If you are doing builds on a CI system, you may need to update the installed Maven on the CI server.  Ask the admin to do it.</p>\n</li>\n<li><p>If you are publishing your project, put the required Maven version into the project's build instructions / README file.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>Does that mean if once we have used a certain maven version for a project (in this case a remote repository), we will have to stick to that version forever</p>\n</blockquote>\n<p>No ...</p>\n<blockquote>\n<p>and if we want to change the version we can only do it individually by installing the required version?</p>\n</blockquote>\n<p>Yes.  Or on the CI server if that is what you are using.</p>\n<p>You should avoid specifying a tight Maven version constraint in your POM file.  Use version ranges (see the <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireMavenVersion.html\" rel=\"nofollow noreferrer\">documentation</a>) ... or no version constraint at all.  (Typically, Maven builds are largely insensitive to the Maven version that is used.)</p>\n<hr />\n<blockquote>\n<p>How can we update the CI to have a new version of Maven?</p>\n</blockquote>\n<p>Read the CI system documentation.  That will explain what you need to do.  Or talk to the person who manages it for you.</p>\n"}],"owner":{"account_id":23104779,"reputation":11,"user_id":17213602,"display_name":"Suniti"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77529647,"answer_count":1,"score":0,"last_activity_date":1700678876,"creation_date":1700652122,"question_id":77529512,"body_markdown":"How can we update the version of maven in a java project. \r\n\r\nI have tried changing the version in pom.xml file but that is leading to build failures when PR is raised. What other things can be done to change the version?\r\n\r\nI want to change this and update the version to 3.8.8\r\n\r\n```\r\n&lt;requireMavenVersion&gt;\r\n   &lt;version&gt;3.3.9&lt;/version&gt;\r\n&lt;/requireMavenVersion&gt;\r\n```","title":"Update Maven Version","body":"<p>How can we update the version of maven in a java project.</p>\n<p>I have tried changing the version in pom.xml file but that is leading to build failures when PR is raised. What other things can be done to change the version?</p>\n<p>I want to change this and update the version to 3.8.8</p>\n<pre><code>&lt;requireMavenVersion&gt;\n   &lt;version&gt;3.3.9&lt;/version&gt;\n&lt;/requireMavenVersion&gt;\n</code></pre>\n"},{"tags":["java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":10725450,"reputation":85,"user_id":7893102,"display_name":"Coolcodehere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700678569,"creation_date":1700597658,"answer_id":77525703,"question_id":77525341,"body_markdown":"It doesn&#39;t seem like this was documented anywhere but the fields need to have getters for the form to be populated with previous results.\r\n\r\nExamples:\r\n\r\nhttps://github.com/jenkinsci/git-plugin/blob/8293c49a5a053bdad6b2212728ba72e127f88a82/src/main/java/jenkins/plugins/git/GitStep.java#L65\r\n\r\n\r\nhttps://github.com/jenkinsci/git-plugin/blob/master/src/main/resources/jenkins/plugins/git/GitStep/config.jelly","title":"Jenkins Plugin config.jelly get previous input values in config","body":"<p>It doesn't seem like this was documented anywhere but the fields need to have getters for the form to be populated with previous results.</p>\n<p>Examples:</p>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/blob/8293c49a5a053bdad6b2212728ba72e127f88a82/src/main/java/jenkins/plugins/git/GitStep.java#L65\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/git-plugin/blob/8293c49a5a053bdad6b2212728ba72e127f88a82/src/main/java/jenkins/plugins/git/GitStep.java#L65</a></p>\n<p><a href=\"https://github.com/jenkinsci/git-plugin/blob/master/src/main/resources/jenkins/plugins/git/GitStep/config.jelly\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/git-plugin/blob/master/src/main/resources/jenkins/plugins/git/GitStep/config.jelly</a></p>\n"}],"owner":{"account_id":10725450,"reputation":85,"user_id":7893102,"display_name":"Coolcodehere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700678569,"creation_date":1700593268,"question_id":77525341,"body_markdown":"I&#39;m creating a Jenkins plugin and I&#39;m trying to get the form to be automatically filled with previous config values. \r\n\r\nThis is similar to a field I currently have:\r\n```\r\n&lt;strong class=&quot;required-field&quot;&gt;Test&lt;/strong&gt;\r\n&lt;f:entry field=&quot;test&quot;&gt;\r\n    &lt;f:textbox placeholder=&quot;test input&quot;/&gt;\r\n&lt;/f:entry&gt;\r\n```\r\n\r\nI&#39;m trying to do something similar to this but inside a config.jelly file: https://stackoverflow.com/questions/18513130/how-to-remember-parameter-values-used-on-last-build-in-jenkins-hudson\r\n\r\nAny help would be appreciated.","title":"Jenkins Plugin config.jelly get previous input values in config","body":"<p>I'm creating a Jenkins plugin and I'm trying to get the form to be automatically filled with previous config values.</p>\n<p>This is similar to a field I currently have:</p>\n<pre><code>&lt;strong class=&quot;required-field&quot;&gt;Test&lt;/strong&gt;\n&lt;f:entry field=&quot;test&quot;&gt;\n    &lt;f:textbox placeholder=&quot;test input&quot;/&gt;\n&lt;/f:entry&gt;\n</code></pre>\n<p>I'm trying to do something similar to this but inside a config.jelly file: <a href=\"https://stackoverflow.com/questions/18513130/how-to-remember-parameter-values-used-on-last-build-in-jenkins-hudson\">How to remember parameter values used on last build in Jenkins/Hudson</a></p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","junit","spring-security","spring-cloud"],"comments":[{"owner":{"account_id":197590,"reputation":83547,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":0,"creation_date":1670146223,"post_id":74633891,"comment_id":131801877,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/250132/discussion-on-question-by-s-n-spring-boot-microservices-servicetest-and-contro).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/250132/discussion-on-question-by-s-n-spring-boot-microservices-servicetest-and-contro\">moved to chat</a>."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670175678,"post_id":74633891,"comment_id":131809191,"body_markdown":"@xerx593 How can I define CustomDetailService in order service as I defined in auth service. I also did the same process for other service. How can I do that? I found this link as https://github.com/spring-projects/spring-framework/issues/29215#issuecomment-1263802532","body":"@xerx593 How can I define CustomDetailService in order service as I defined in auth service. I also did the same process for other service. How can I do that? I found this link as <a href=\"https://github.com/spring-projects/spring-framework/issues/29215#issuecomment-1263802532\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/&hellip;</a>"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670261527,"post_id":74633891,"comment_id":131830482,"body_markdown":"Why there are so many steps to run the tests? I&#39;d expect the test to be self-contained and maybe just require docker to be running. I&#39;d suggest you to simplify your test implementation and maybe provide a minimal, reproducible sample.","body":"Why there are so many steps to run the tests? I&#39;d expect the test to be self-contained and maybe just require docker to be running. I&#39;d suggest you to simplify your test implementation and maybe provide a minimal, reproducible sample."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670271145,"post_id":74633891,"comment_id":131833406,"body_markdown":"@MarcusHertdaCoregio I defined zipkin and redis in api gateway and all these are running on docker. I think there is a problem in security config part in order service. I hope you can help me.","body":"@MarcusHertdaCoregio I defined zipkin and redis in api gateway and all these are running on docker. I think there is a problem in security config part in order service. I hope you can help me."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670282897,"post_id":74633891,"comment_id":131836256,"body_markdown":"I think you should isolate your order service in order to figure out the problem. I doubt that zipkin, redis and API gateway had something to do with that. If it is possible, mock those external services in the test scenario.","body":"I think you should isolate your order service in order to figure out the problem. I doubt that zipkin, redis and API gateway had something to do with that. If it is possible, mock those external services in the test scenario."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670283767,"post_id":74633891,"comment_id":131836411,"body_markdown":"@MarcusHertdaCoregio There is no problem in zipkin and redis part in api gateway. My problem is related with Spring security in order service. I think there can be authentication manager problem in security config in order service. As I still couldn&#39;t fix it, I asked it to you.","body":"@MarcusHertdaCoregio There is no problem in zipkin and redis part in api gateway. My problem is related with Spring security in order service. I think there can be authentication manager problem in security config in order service. As I still couldn&#39;t fix it, I asked it to you."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670372834,"post_id":74633891,"comment_id":131860810,"body_markdown":"@DaShaun As I couldn&#39;t fix it, I think you can help me fix my issue which I&#39;ven&#39;t fixed for nearly one week.","body":"@DaShaun As I couldn&#39;t fix it, I think you can help me fix my issue which I&#39;ven&#39;t fixed for nearly one week."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670448389,"post_id":74633891,"comment_id":131881247,"body_markdown":"@MarcusHertdaCoregio I still couldn&#39;t fix the the issue. Is it possible to help me?","body":"@MarcusHertdaCoregio I still couldn&#39;t fix the the issue. Is it possible to help me?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670449529,"post_id":74633891,"comment_id":131881537,"body_markdown":"Can you please see this answer and check if it makes sense for you? https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w/74706573#74706573","body":"Can you please see this answer and check if it makes sense for you? <a href=\"https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w/74706573#74706573\" title=\"authenticationmanager authenticate throws java lang stackoverflowerror null w\">stackoverflow.com/questions/74694980/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670450138,"post_id":74633891,"comment_id":131881679,"body_markdown":"@MarcusHertdaCoregio I edited my post. Can you look through it if you don&#39;t mind?","body":"@MarcusHertdaCoregio I edited my post. Can you look through it if you don&#39;t mind?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670450988,"post_id":74633891,"comment_id":131881867,"body_markdown":"It seems to me that you didn’t read my answer on that question with attention. If you are not using AuthenticationProvider you should probably use the UseDetailsService to create a DaoAuthenticationProvider","body":"It seems to me that you didn’t read my answer on that question with attention. If you are not using AuthenticationProvider you should probably use the UseDetailsService to create a DaoAuthenticationProvider"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670451190,"post_id":74633891,"comment_id":131881906,"body_markdown":"@MarcusHertdaCoregio I already defined UseDetailsService in auth service. My issue is in order service as it is a spring cloud example. How can I define UseDetailsService  in order service?","body":"@MarcusHertdaCoregio I already defined UseDetailsService in auth service. My issue is in order service as it is a spring cloud example. How can I define UseDetailsService  in order service?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670471249,"post_id":74633891,"comment_id":131884961,"body_markdown":"If your order service is a resource server it shouldn’t have any kind of authentication mechanism, just a validation of the token (I’m assuming you are using JWT). In summary, you should not need an AuthenticationManager at all","body":"If your order service is a resource server it shouldn’t have any kind of authentication mechanism, just a validation of the token (I’m assuming you are using JWT). In summary, you should not need an AuthenticationManager at all"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670499778,"post_id":74633891,"comment_id":131891863,"body_markdown":"@MarcusHertdaCoregio I use JWT in order service. What should I do SecurityConfig as I use preAuthorized annotation in ordercontroller?","body":"@MarcusHertdaCoregio I use JWT in order service. What should I do SecurityConfig as I use preAuthorized annotation in ordercontroller?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670533277,"post_id":74633891,"comment_id":131902841,"body_markdown":"@MarcusHertdaCoregio Is it possible to share the response if you don&#39;t mind?","body":"@MarcusHertdaCoregio Is it possible to share the response if you don&#39;t mind?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1670593790,"post_id":74633891,"comment_id":131915924,"body_markdown":"I do not know the answer to your question, it is your requirement. I’d say that you should validate the token, retrieve whatever user information is in there (username, authorities) and set it into the SecurityContextHolder","body":"I do not know the answer to your question, it is your requirement. I’d say that you should validate the token, retrieve whatever user information is in there (username, authorities) and set it into the SecurityContextHolder"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670593859,"post_id":74633891,"comment_id":131915946,"body_markdown":"@MarcusHertdaCoregio I removed authenticationManager from security config.","body":"@MarcusHertdaCoregio I removed authenticationManager from security config."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670593917,"post_id":74633891,"comment_id":131915972,"body_markdown":"@MarcusHertdaCoregio Can you look through my another issue not calling another service ? Here is the link : https://stackoverflow.com/questions/74737014/spring-boot-microservice-junit-controller-test-cannot-call-another-service-m","body":"@MarcusHertdaCoregio Can you look through my another issue not calling another service ? Here is the link : <a href=\"https://stackoverflow.com/questions/74737014/spring-boot-microservice-junit-controller-test-cannot-call-another-service-m\" title=\"spring boot microservice junit controller test cannot call another service m\">stackoverflow.com/questions/74737014/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":968934,"reputation":608,"user_id":991862,"accept_rate":40,"display_name":"Stephan Windm&#252;ller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672927840,"creation_date":1672916518,"answer_id":75017429,"question_id":74633891,"body_markdown":"The error is most likely caused by declaring the AuthenticationManager as a `@Bean`. Try this in your test class:\r\n\r\n```\r\n@MockBean\r\nprivate AuthenticationManager _authenticationManager;\r\n```\r\n\r\nThat said, the Spring Security team does not recommend exposing the AuthenticationManager in this way, see the comment in Spring issue [#29215][1]\r\n\r\n\r\n[1]: https://github.com/spring-projects/spring-framework/issues/29215#issuecomment-1263802532","title":"Spring Boot Microservices - Spring Security - ServiceTest and ControllerTest for JUnit throwing java.lang.StackOverflowError","body":"<p>The error is most likely caused by declaring the AuthenticationManager as a <code>@Bean</code>. Try this in your test class:</p>\n<pre><code>@MockBean\nprivate AuthenticationManager _authenticationManager;\n</code></pre>\n<p>That said, the Spring Security team does not recommend exposing the AuthenticationManager in this way, see the comment in Spring issue <a href=\"https://github.com/spring-projects/spring-framework/issues/29215#issuecomment-1263802532\" rel=\"nofollow noreferrer\">#29215</a></p>\n"},{"tags":[],"owner":{"account_id":29923834,"reputation":1,"user_id":22932333,"display_name":"Mat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700678257,"creation_date":1700678257,"answer_id":77532403,"question_id":74633891,"body_markdown":"I would recommand you instead of relying on Spring to autowire the List&lt;AuthenticationProvider&gt;, explicitly define your authentication providers as beans in your configuration.\r\n\r\nlike:\r\n\r\n```\r\n@Bean\r\npublic AuthenticationProvider myAuthenticationProvider() {\r\n    return new MyAuthenticationProvider();\r\n}\r\n\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationProvider myAuthenticationProvider) {\r\n    return new ProviderManager(Collections.singletonList(myAuthenticationProvider));\r\n}\r\n```","title":"Spring Boot Microservices - Spring Security - ServiceTest and ControllerTest for JUnit throwing java.lang.StackOverflowError","body":"<p>I would recommand you instead of relying on Spring to autowire the List, explicitly define your authentication providers as beans in your configuration.</p>\n<p>like:</p>\n<pre><code>@Bean\npublic AuthenticationProvider myAuthenticationProvider() {\n    return new MyAuthenticationProvider();\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationProvider myAuthenticationProvider) {\n    return new ProviderManager(Collections.singletonList(myAuthenticationProvider));\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1700678257,"creation_date":1669840690,"question_id":74633891,"body_markdown":"I have a problem in running any test method in service test and controller test in one of the spring boot microservices (order service).\r\n\r\nAfter I completed service and controller , I tried to write their test methods but I have a problem in there.\r\n\r\nHow can I fix it?\r\n\r\nHere is the security config of order service?\r\n\r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n        //\r\n        private final JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n        private final JWTAccessDeniedHandler accessDeniedHandler;\r\n        private final JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    \r\n    \r\n        @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST, &quot;/order/**&quot;).hasRole(&quot;USER&quot;)\r\n                    .antMatchers(HttpMethod.GET, &quot;/order/**&quot;).hasRole(&quot;USER&quot;)\r\n                    .and()\r\n                    .authorizeRequests().anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin().disable()\r\n                    .httpBasic().disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .accessDeniedHandler(accessDeniedHandler)\r\n                    .and()\r\n                    .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web)\r\n                    -&gt; web.ignoring().antMatchers(&quot;/authenticate/signup&quot;, &quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nHere is one of the test method of OrderServiceTest shown below\r\n\r\n    @DisplayName(&quot;Get Order - Success Scenario&quot;)\r\n    @Test\r\n    void test_When_Order_Success() {\r\n        \r\n        //Mocking\r\n        Order order = getMockOrder();\r\n        when(orderRepository.findById(anyLong()))\r\n                    .thenReturn(Optional.of(order));\r\n        \r\n        when(restTemplate.getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class\r\n        )).thenReturn(getMockProductResponse());\r\n        \r\n        when(restTemplate.getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class\r\n        )).thenReturn(getMockPaymentResponse());\r\n        \r\n        //Actual\r\n        OrderResponse orderResponse = orderService.getOrderDetails(1);\r\n        \r\n        //Verification\r\n        verify(orderRepository, times(1)).findById(anyLong());\r\n        verify(restTemplate, times(1)).getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class);\r\n        verify(restTemplate, times(1)).getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class);\r\n        \r\n        //Assert\r\n        assertNotNull(orderResponse);\r\n        assertEquals(order.getId(), orderResponse.getOrderId());\r\n    }\r\n\r\nHere is one of the test method of OrderControllerTest shown below.\r\n\r\n    @Test\r\n    @DisplayName(&quot;Place Order -- Success Scenario&quot;)\r\n    @WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\r\n    void test_When_placeOrder_DoPayment_Success() throws Exception {\r\n\r\n        OrderRequest orderRequest = getMockOrderRequest();\r\n        String jwt = getJWTTokenForRoleUser();\r\n\r\n        MvcResult mvcResult\r\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                        .content(objectMapper.writeValueAsString(orderRequest)))\r\n                .andExpect(MockMvcResultMatchers.status().isOk())\r\n                .andReturn();\r\n\r\n        String orderId = mvcResult.getResponse().getContentAsString();\r\n\r\n        Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\r\n        assertTrue(order.isPresent());\r\n\r\n        Order o = order.get();\r\n        assertEquals(Long.parseLong(orderId), o.getId());\r\n        assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\r\n        assertEquals(orderRequest.getTotalAmount(), o.getAmount());\r\n        assertEquals(orderRequest.getQuantity(), o.getQuantity());\r\n    }\r\n\r\nHere is the error when I run any method of service test and controller shown below.\r\n\r\n    java.lang.StackOverflowError\r\n    \tat java.base/java.lang.Throwable.getOurStackTrace(Throwable.java:861)\r\n    \tat java.base/java.lang.Throwable.getStackTrace(Throwable.java:853)\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:79)\r\n        ...\r\n        ...\r\n\r\n**To run the app,**\r\n\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services\r\n\r\nHere is the repo : [Link][1]\r\n\r\nHere is the **result of the service test** screenshot : [Link][2]\r\n\r\nHere is the **result of the controller test** screenshot : [Link][3]\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer\r\n  [2]: https://ibb.co/FwmdLLS\r\n  [3]: https://ibb.co/MZwD22Q\r\n\r\nEdited\r\n\r\nReplace \r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\nwith\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\r\n            return new ProviderManager(myAuthenticationProviders);\r\n    }\r\n\r\n\r\nin secuity config of order service.\r\n\r\n\r\nHere is the error message shown below.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authenticationManager&#39; defined in class path resource [com/microservice/orderservice/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Factory method &#39;authenticationManager&#39; threw exception; nested exception is java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15) ~[classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Factory method &#39;authenticationManager&#39; threw exception; nested exception is java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\r\n    \tat org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.authentication.ProviderManager.checkState(ProviderManager.java:138) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:129) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:117) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n    \tat com.microservice.orderservice.config.SecurityConfig.authenticationManager(SecurityConfig.java:42) ~[classes/:na]\r\n    \tat com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5.CGLIB$authenticationManager$0(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5$$FastClassBySpringCGLIB$$8d59030c.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5.authenticationManager(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \t... 20 common frames omitted\r\n\r\n","title":"Spring Boot Microservices - Spring Security - ServiceTest and ControllerTest for JUnit throwing java.lang.StackOverflowError","body":"<p>I have a problem in running any test method in service test and controller test in one of the spring boot microservices (order service).</p>\n<p>After I completed service and controller , I tried to write their test methods but I have a problem in there.</p>\n<p>How can I fix it?</p>\n<p>Here is the security config of order service?</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n    //\n    private final JwtAuthenticationEntryPoint authenticationEntryPoint;\n    private final JWTAccessDeniedHandler accessDeniedHandler;\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\n\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/order/**&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(HttpMethod.GET, &quot;/order/**&quot;).hasRole(&quot;USER&quot;)\n                .and()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .formLogin().disable()\n                .httpBasic().disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .accessDeniedHandler(accessDeniedHandler)\n                .and()\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web)\n                -&gt; web.ignoring().antMatchers(&quot;/authenticate/signup&quot;, &quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;);\n    }\n\n}\n</code></pre>\n<p>Here is one of the test method of OrderServiceTest shown below</p>\n<pre><code>@DisplayName(&quot;Get Order - Success Scenario&quot;)\n@Test\nvoid test_When_Order_Success() {\n    \n    //Mocking\n    Order order = getMockOrder();\n    when(orderRepository.findById(anyLong()))\n                .thenReturn(Optional.of(order));\n    \n    when(restTemplate.getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class\n    )).thenReturn(getMockProductResponse());\n    \n    when(restTemplate.getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class\n    )).thenReturn(getMockPaymentResponse());\n    \n    //Actual\n    OrderResponse orderResponse = orderService.getOrderDetails(1);\n    \n    //Verification\n    verify(orderRepository, times(1)).findById(anyLong());\n    verify(restTemplate, times(1)).getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class);\n    verify(restTemplate, times(1)).getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class);\n    \n    //Assert\n    assertNotNull(orderResponse);\n    assertEquals(order.getId(), orderResponse.getOrderId());\n}\n</code></pre>\n<p>Here is one of the test method of OrderControllerTest shown below.</p>\n<pre><code>@Test\n@DisplayName(&quot;Place Order -- Success Scenario&quot;)\n@WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\nvoid test_When_placeOrder_DoPayment_Success() throws Exception {\n\n    OrderRequest orderRequest = getMockOrderRequest();\n    String jwt = getJWTTokenForRoleUser();\n\n    MvcResult mvcResult\n            = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\n                    .contentType(MediaType.APPLICATION_JSON_VALUE)\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                    .content(objectMapper.writeValueAsString(orderRequest)))\n            .andExpect(MockMvcResultMatchers.status().isOk())\n            .andReturn();\n\n    String orderId = mvcResult.getResponse().getContentAsString();\n\n    Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\n    assertTrue(order.isPresent());\n\n    Order o = order.get();\n    assertEquals(Long.parseLong(orderId), o.getId());\n    assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\n    assertEquals(orderRequest.getTotalAmount(), o.getAmount());\n    assertEquals(orderRequest.getQuantity(), o.getQuantity());\n}\n</code></pre>\n<p>Here is the error when I run any method of service test and controller shown below.</p>\n<pre><code>java.lang.StackOverflowError\n    at java.base/java.lang.Throwable.getOurStackTrace(Throwable.java:861)\n    at java.base/java.lang.Throwable.getStackTrace(Throwable.java:853)\n    at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:79)\n    ...\n    ...\n</code></pre>\n<p><strong>To run the app,</strong></p>\n<p>1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker</p>\n<pre><code>  docker run -d -p 9411:9411 openzipkin/zipkin\n  docker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the <strong>result of the service test</strong> screenshot : <a href=\"https://ibb.co/FwmdLLS\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the <strong>result of the controller test</strong> screenshot : <a href=\"https://ibb.co/MZwD22Q\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Edited</p>\n<p>Replace</p>\n<pre><code>@Bean(BeanIds.AUTHENTICATION_MANAGER)\npublic AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>with</p>\n<pre><code>@Bean\npublic AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\n        return new ProviderManager(myAuthenticationProviders);\n}\n</code></pre>\n<p>in secuity config of order service.</p>\n<p>Here is the error message shown below.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/microservice/orderservice/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: A parent AuthenticationManager or a list of AuthenticationProviders is required\n    at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.security.authentication.ProviderManager.checkState(ProviderManager.java:138) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:129) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:117) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at com.microservice.orderservice.config.SecurityConfig.authenticationManager(SecurityConfig.java:42) ~[classes/:na]\n    at com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5.CGLIB$authenticationManager$0(&lt;generated&gt;) ~[classes/:na]\n    at com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5$$FastClassBySpringCGLIB$$8d59030c.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.22.jar:5.3.22]\n    at com.microservice.orderservice.config.SecurityConfig$$EnhancerBySpringCGLIB$$83744c5.authenticationManager(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","android","gradle","onesignal"],"answers":[{"comments":[{"owner":{"account_id":17900577,"reputation":11,"user_id":13004914,"display_name":"Alhassan Abubakar Sadiq"},"score":0,"creation_date":1691410549,"post_id":76846898,"comment_id":135483314,"body_markdown":"I don&#39;t know but I run the project last week it run smoothly but now I just get the error, i don&#39;t know may be because I change my PC","body":"I don&#39;t know but I run the project last week it run smoothly but now I just get the error, i don&#39;t know may be because I change my PC"}],"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691340878,"creation_date":1691340878,"answer_id":76846898,"question_id":76846824,"body_markdown":"Check Dependencies and Versions.\r\nMake sure you have the correct version of the OneSignal plugin and other related dependencies in your project&#39;s build.gradle files. Please verify that the plugin version matches your project&#39;s requirements.\r\n\r\nOr, Update the Plugin.\r\nIf you&#39;re using an older version of the OneSignal plugin, try updating it to the latest version. Check the OneSignal documentation or GitHub repository for the latest version and instructions on how to update.","title":"Failed to apply plugin &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;","body":"<p>Check Dependencies and Versions.\nMake sure you have the correct version of the OneSignal plugin and other related dependencies in your project's build.gradle files. Please verify that the plugin version matches your project's requirements.</p>\n<p>Or, Update the Plugin.\nIf you're using an older version of the OneSignal plugin, try updating it to the latest version. Check the OneSignal documentation or GitHub repository for the latest version and instructions on how to update.</p>\n"},{"tags":[],"owner":{"account_id":13300760,"reputation":51,"user_id":9602343,"display_name":"Rander Leal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700677994,"creation_date":1700677994,"answer_id":77532377,"question_id":76846824,"body_markdown":"This happened to me when i update my android studio to giraffe,\r\nI just changed my dependencies from :\r\n\r\n   ` classpath &#39;com.android.tools.build:gradle:3.6.2&#39;` \r\n\r\n ` classpath &quot;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.12.6&quot;`     \r\n\r\nTo:\r\n\r\n ` classpath &#39;com.android.tools.build:gradle:7.0.0&#39; `\r\n\r\n` classpath &quot;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.13.4&quot; `\r\n\r\nLook here :\r\nhttps://github.com/OneSignal/OneSignal-Android-SDK/issues/1399#issuecomment-889816863","title":"Failed to apply plugin &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;","body":"<p>This happened to me when i update my android studio to giraffe,\nI just changed my dependencies from :</p>\n<p><code> classpath 'com.android.tools.build:gradle:3.6.2'</code></p>\n<p><code> classpath &quot;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.12.6&quot;</code></p>\n<p>To:</p>\n<p><code>classpath 'com.android.tools.build:gradle:7.0.0'</code></p>\n<p><code>classpath &quot;gradle.plugin.com.onesignal:onesignal-gradle-plugin:0.13.4&quot;</code></p>\n<p>Look here :\n<a href=\"https://github.com/OneSignal/OneSignal-Android-SDK/issues/1399#issuecomment-889816863\" rel=\"nofollow noreferrer\">https://github.com/OneSignal/OneSignal-Android-SDK/issues/1399#issuecomment-889816863</a></p>\n"}],"owner":{"account_id":17900577,"reputation":11,"user_id":13004914,"display_name":"Alhassan Abubakar Sadiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700677994,"creation_date":1691339658,"question_id":76846824,"body_markdown":"i face this error when i try to open my project om android studio\r\n\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Failed to apply plugin &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;.\r\n   &gt; Could not create plugin of type &#39;GradleProjectPlugin&#39;.\r\n      &gt; Could not initialize class com.onesignal.androidsdk.GradleProjectPlugin\r\n\r\ni try: invalid cache ","title":"Failed to apply plugin &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;","body":"<p>i face this error when i try to open my project om android studio</p>\n<p>A problem occurred evaluating project ':app'.</p>\n<blockquote>\n<p>Failed to apply plugin 'com.onesignal.androidsdk.onesignal-gradle-plugin'.\nCould not create plugin of type 'GradleProjectPlugin'.\n&gt; Could not initialize class com.onesignal.androidsdk.GradleProjectPlugin</p>\n</blockquote>\n<p>i try: invalid cache</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1699900352,"post_id":77475676,"comment_id":136586336,"body_markdown":"It is not clear what happens. You say &quot;the exception is caught but the custom error is not thrown&quot;, and the title is &quot;Jackson Not Throwing Custom Exception&quot;, but are you really sure **this** is what really happens? Put some print into the exception constructor, or use the debugger. I suspect that the exception **is** *thrown*, but not caught by the error handler. Please verify it. And btw what is a &quot;requisition&quot;? Do you mean a request? :)","body":"It is not clear what happens. You say &quot;the exception is caught but the custom error is not thrown&quot;, and the title is &quot;Jackson Not Throwing Custom Exception&quot;, but are you really sure <b>this</b> is what really happens? Put some print into the exception constructor, or use the debugger. I suspect that the exception <b>is</b> <i>thrown</i>, but not caught by the error handler. Please verify it. And btw what is a &quot;requisition&quot;? Do you mean a request? :)"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1699900696,"post_id":77475676,"comment_id":136586379,"body_markdown":"I have a quick theory, that you should use `@RestControllerAdvice` (https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html) and not just `@ControllerAdvice`. What is the Raw response? Is it some html code?","body":"I have a quick theory, that you should use <code>@RestControllerAdvice</code> (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/or&zwnj;&#8203;g/&hellip;</a>) and not just <code>@ControllerAdvice</code>. What is the Raw response? Is it some html code?"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699900983,"creation_date":1699900983,"answer_id":77476144,"question_id":77475676,"body_markdown":"Try using [`@RestControllerAdvice`][1] instead of `@ControllerAdvice`.\r\n\r\nI believe that your code actually *does* throw the `InvalidDateFormatException`, but it is not handled later as you expect.\r\n\r\nThe title of your question probably should not be &quot;Jackson Not Throwing Custom Exception&quot;, but &quot;Rest Controller doesn&#39;t return error as JSON&quot; or similar.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html","title":"Jackson Not Throwing Custom Exception","body":"<p>Try using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html\" rel=\"nofollow noreferrer\"><code>@RestControllerAdvice</code></a> instead of <code>@ControllerAdvice</code>.</p>\n<p>I believe that your code actually <em>does</em> throw the <code>InvalidDateFormatException</code>, but it is not handled later as you expect.</p>\n<p>The title of your question probably should not be &quot;Jackson Not Throwing Custom Exception&quot;, but &quot;Rest Controller doesn't return error as JSON&quot; or similar.</p>\n"},{"tags":[],"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700599510,"creation_date":1700599510,"answer_id":77525837,"question_id":77475676,"body_markdown":"Just I make few changes I hope to help you. \r\n\r\nI created JacksonConfig, you can check I haved called your class here (**LocalDateDeserializer()**)\r\n\r\n   \r\n\r\n     import com.fasterxml.jackson.databind.ObjectMapper;\r\n        import com.fasterxml.jackson.databind.module.SimpleModule;\r\n        import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n        import com.henry.stackoverflowdemo.exception.LocalDateDeserializer;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n    \r\n        import java.time.LocalDate;\r\n    \r\n        @Configuration\r\n        public class JacksonConfig {\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n         \r\n            objectMapper.registerModule(new JavaTimeModule());\r\n    \r\n           \r\n            SimpleModule simpleModule = new SimpleModule();\r\n            simpleModule.addDeserializer(LocalDate.class, new LocalDateDeserializer());\r\n            objectMapper.registerModule(simpleModule);\r\n    \r\n            return objectMapper;\r\n        } }\r\n\r\nSo make public your constructor instead of protected\r\n\r\n  \r\n\r\n    public LocalDateDeserializer() {\r\n            super(LocalDate.class);\r\n        }\r\n\r\na few changes in ApplicationExceptionHandler class:\r\n\r\n    @ControllerAdvice\r\n    public class ApplicationExceptionHandler {\r\n    \r\n        @ExceptionHandler({ InvalidDateFormatException.class })\r\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;Object&gt; handleInvalidDateFormatException(InvalidDateFormatException ex) {\r\n            return new ResponseEntity&lt;&gt;(ex.getMessage(), createHeader(), HttpStatus.BAD_REQUEST);\r\n        }\r\n        \r\n        private HttpHeaders createHeader() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n            return headers;\r\n        }\r\n    }\r\n\r\nRemove **@JsonDeserialize**\r\n\r\n    @NotNull\r\n        @Schema(description = &quot;BIRTH DATE&quot;, example = &quot;1992-02-15&quot;)\r\n        private LocalDate birthDate;\r\n\r\nI suppose you work with POST request in this case should be work.\r\n\r\n","title":"Jackson Not Throwing Custom Exception","body":"<p>Just I make few changes I hope to help you.</p>\n<p>I created JacksonConfig, you can check I haved called your class here (<strong>LocalDateDeserializer()</strong>)</p>\n<pre><code> import com.fasterxml.jackson.databind.ObjectMapper;\n    import com.fasterxml.jackson.databind.module.SimpleModule;\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\n    import com.henry.stackoverflowdemo.exception.LocalDateDeserializer;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n\n    import java.time.LocalDate;\n\n    @Configuration\n    public class JacksonConfig {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n     \n        objectMapper.registerModule(new JavaTimeModule());\n\n       \n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addDeserializer(LocalDate.class, new LocalDateDeserializer());\n        objectMapper.registerModule(simpleModule);\n\n        return objectMapper;\n    } }\n</code></pre>\n<p>So make public your constructor instead of protected</p>\n<pre><code>public LocalDateDeserializer() {\n        super(LocalDate.class);\n    }\n</code></pre>\n<p>a few changes in ApplicationExceptionHandler class:</p>\n<pre><code>@ControllerAdvice\npublic class ApplicationExceptionHandler {\n\n    @ExceptionHandler({ InvalidDateFormatException.class })\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ResponseEntity&lt;Object&gt; handleInvalidDateFormatException(InvalidDateFormatException ex) {\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), createHeader(), HttpStatus.BAD_REQUEST);\n    }\n    \n    private HttpHeaders createHeader() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n        return headers;\n    }\n}\n</code></pre>\n<p>Remove <strong>@JsonDeserialize</strong></p>\n<pre><code>@NotNull\n    @Schema(description = &quot;BIRTH DATE&quot;, example = &quot;1992-02-15&quot;)\n    private LocalDate birthDate;\n</code></pre>\n<p>I suppose you work with POST request in this case should be work.</p>\n"},{"tags":[],"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700677457,"creation_date":1700677457,"answer_id":77532334,"question_id":77475676,"body_markdown":"What actually solved my problem was to add the following config in bootstrap.yml:\r\n\r\n  \r\n\r\n    jackson:\r\n        deserialization:\r\n          wrap-exceptions: false","title":"Jackson Not Throwing Custom Exception","body":"<p>What actually solved my problem was to add the following config in bootstrap.yml:</p>\n<pre><code>jackson:\n    deserialization:\n      wrap-exceptions: false\n</code></pre>\n"}],"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532334,"answer_count":3,"score":0,"last_activity_date":1700677457,"creation_date":1699895872,"question_id":77475676,"body_markdown":"I have the following field in my requisition\r\n```\r\n@NotNull\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    @Schema(description = &quot;BIRTH DATE&quot;, example = &quot;1992-02-15&quot;)\r\n    private LocalDate birthDate;\r\n```\r\n\r\nSo I set up the following jackson deserializer:\r\n```\r\npublic class LocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\r\n\r\n    private static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n    protected LocalDateDeserializer() {\r\n        super(LocalDate.class);\r\n    }\r\n\r\n    @Override\r\n    public LocalDate deserialize(\r\n            final JsonParser jsonParser,\r\n            final DeserializationContext deserializationContext)\r\n            throws IOException {\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n        String date = node.asText();\r\n\r\n        try {\r\n            return LocalDate.parse(date, DATE_TIME_FORMATTER);\r\n        } catch (Exception e) {\r\n            throw new InvalidDateFormatException(&quot;Invalid format&quot; + date);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is my custom exception class:\r\n```\r\npublic class InvalidDateFormatException extends RuntimeException {\r\n    public InvalidDateFormatException(final String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nThis is my ApplicationExceptionHandler class:\r\n```\r\n@ControllerAdvice\r\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    public static final String MISSING_HEADER_MESSAGE = &quot;{0} header must be informed&quot;;\r\n\r\n    @ExceptionHandler(InvalidDateFormatException.class)\r\n    public ResponseEntity&lt;String&gt; handleInvalidDateFormatException(InvalidDateFormatException ex) {\r\n        // Customize the response based on your needs\r\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\n**When I send the requisition with a birthDate wrong formatted the code enters in the deserializer, the exception is caught but the custom error is not thrown.** I just got a generic 400 like the image below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/whAaS.png\r\n\r\nI don&#39;t have any more clues about how to solve this problem.","title":"Jackson Not Throwing Custom Exception","body":"<p>I have the following field in my requisition</p>\n<pre><code>@NotNull\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    @Schema(description = &quot;BIRTH DATE&quot;, example = &quot;1992-02-15&quot;)\n    private LocalDate birthDate;\n</code></pre>\n<p>So I set up the following jackson deserializer:</p>\n<pre><code>public class LocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\n\n    private static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n    protected LocalDateDeserializer() {\n        super(LocalDate.class);\n    }\n\n    @Override\n    public LocalDate deserialize(\n            final JsonParser jsonParser,\n            final DeserializationContext deserializationContext)\n            throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        String date = node.asText();\n\n        try {\n            return LocalDate.parse(date, DATE_TIME_FORMATTER);\n        } catch (Exception e) {\n            throw new InvalidDateFormatException(&quot;Invalid format&quot; + date);\n        }\n    }\n}\n</code></pre>\n<p>This is my custom exception class:</p>\n<pre><code>public class InvalidDateFormatException extends RuntimeException {\n    public InvalidDateFormatException(final String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>This is my ApplicationExceptionHandler class:</p>\n<pre><code>@ControllerAdvice\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\n\n    public static final String MISSING_HEADER_MESSAGE = &quot;{0} header must be informed&quot;;\n\n    @ExceptionHandler(InvalidDateFormatException.class)\n    public ResponseEntity&lt;String&gt; handleInvalidDateFormatException(InvalidDateFormatException ex) {\n        // Customize the response based on your needs\n        return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p><strong>When I send the requisition with a birthDate wrong formatted the code enters in the deserializer, the exception is caught but the custom error is not thrown.</strong> I just got a generic 400 like the image below:\n<a href=\"https://i.stack.imgur.com/whAaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/whAaS.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't have any more clues about how to solve this problem.</p>\n"},{"tags":["java","wix","licensing","java-17","jpackage"],"answers":[{"comments":[{"owner":{"account_id":2361245,"reputation":631,"user_id":2067886,"display_name":"Ganesh Shenoy"},"score":0,"creation_date":1700716314,"post_id":77532291,"comment_id":136689196,"body_markdown":"Thank you very much @queeg, this is really helpful","body":"Thank you very much @queeg, this is really helpful"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700676945,"creation_date":1700676945,"answer_id":77532291,"question_id":77531677,"body_markdown":"Taken from https://wixtoolset.org/docs/about/#license:\r\n\r\n*The WiX toolset is released under the Microsoft Reciprocal License (MS-RL). A reciprocal license is used to ensure that others who build on the effort of the WiX community give back to the WiX community. Specifically the license requires that fixes and improvements to the WiX toolset must be published using the same license.\r\nSometimes the reciprocal license is incorrectly interpreted to also apply to bundles, packages, and custom actions built using the WiX toolset. The Outercurve Foundation has previously provided this statement below to clarify which now the .NET Foundation reaffirms:\r\n    The WiX toolset (WiX) is licensed under the Microsoft Reciprocal License (MS-RL). The MS-RL governs the distribution of the software licensed under it, as well as derivative works, and incorporates the definition of a derivative work provided in U.S. copyright law. **OuterCurve Foundation (and the .NET Foundation) does not view the installer packages generated by WiX as falling within the definition of a derivative work, merely because they are produced using WiX. Thus, the installer packages generated by WiX will normally fall outside the scope of the MS-RL, and any of your source code, binaries, libraries, routines or other software components that are incorporated in installer packages generated by WiX can be governed by other licensing terms.**\r\nThe full text of the MS-RL license is reproduced below. It can also be found in the LICENSE.TXT file included with the source code.*\r\n\r\nI am no lawyer, but the text marked up bold would tell me I should not worry about my creative work that uses WIX. Only if I modify/improve WIX itself the same license has to be applied.","title":"JPackage, WIX and license","body":"<p>Taken from <a href=\"https://wixtoolset.org/docs/about/#license\" rel=\"nofollow noreferrer\">https://wixtoolset.org/docs/about/#license</a>:</p>\n<p><em>The WiX toolset is released under the Microsoft Reciprocal License (MS-RL). A reciprocal license is used to ensure that others who build on the effort of the WiX community give back to the WiX community. Specifically the license requires that fixes and improvements to the WiX toolset must be published using the same license.\nSometimes the reciprocal license is incorrectly interpreted to also apply to bundles, packages, and custom actions built using the WiX toolset. The Outercurve Foundation has previously provided this statement below to clarify which now the .NET Foundation reaffirms:\nThe WiX toolset (WiX) is licensed under the Microsoft Reciprocal License (MS-RL). The MS-RL governs the distribution of the software licensed under it, as well as derivative works, and incorporates the definition of a derivative work provided in U.S. copyright law. <strong>OuterCurve Foundation (and the .NET Foundation) does not view the installer packages generated by WiX as falling within the definition of a derivative work, merely because they are produced using WiX. Thus, the installer packages generated by WiX will normally fall outside the scope of the MS-RL, and any of your source code, binaries, libraries, routines or other software components that are incorporated in installer packages generated by WiX can be governed by other licensing terms.</strong>\nThe full text of the MS-RL license is reproduced below. It can also be found in the LICENSE.TXT file included with the source code.</em></p>\n<p>I am no lawyer, but the text marked up bold would tell me I should not worry about my creative work that uses WIX. Only if I modify/improve WIX itself the same license has to be applied.</p>\n"}],"owner":{"account_id":2361245,"reputation":631,"user_id":2067886,"display_name":"Ganesh Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77532291,"answer_count":1,"score":0,"last_activity_date":1700676945,"creation_date":1700670791,"question_id":77531677,"body_markdown":"We have JavaFx project and we want to create an installer for the application in Windows. Hence we are using JDK 17 - JPackage with WIX 3.x for creating the installer. But we note that the license for WIX is Microsoft Reciprocal license. \r\n\r\n&gt; https://www.tldrlegal.com/license/microsoft-reciprocal-license-ms-rl\r\n\r\nAs we understand using the JPackage with WIX do not modify or distribute any WIX content as per the licensing terms. Note that we are not well versed with Windows OS / programming world, hence not sure WIX SDK or any other such features does have any implications in regard to MS RL. Hence we are only looking from Java / JDK 17 / JPacakge perspective and wanted to confirm if Jpackage + WIX is fine, any pointers are highly appreciated.","title":"JPackage, WIX and license","body":"<p>We have JavaFx project and we want to create an installer for the application in Windows. Hence we are using JDK 17 - JPackage with WIX 3.x for creating the installer. But we note that the license for WIX is Microsoft Reciprocal license.</p>\n<blockquote>\n<p><a href=\"https://www.tldrlegal.com/license/microsoft-reciprocal-license-ms-rl\" rel=\"nofollow noreferrer\">https://www.tldrlegal.com/license/microsoft-reciprocal-license-ms-rl</a></p>\n</blockquote>\n<p>As we understand using the JPackage with WIX do not modify or distribute any WIX content as per the licensing terms. Note that we are not well versed with Windows OS / programming world, hence not sure WIX SDK or any other such features does have any implications in regard to MS RL. Hence we are only looking from Java / JDK 17 / JPacakge perspective and wanted to confirm if Jpackage + WIX is fine, any pointers are highly appreciated.</p>\n"},{"tags":["java","arraylist","lambda","java-stream"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1595961991,"post_id":63140834,"comment_id":111654079,"body_markdown":"Don&#39;t you already know the element to delete? Why do you want to return it?","body":"Don&#39;t you already know the element to delete? Why do you want to return it?"},{"owner":{"account_id":6327762,"reputation":111,"user_id":10889738,"display_name":"liviubiur"},"score":0,"creation_date":1595962237,"post_id":63140834,"comment_id":111654190,"body_markdown":"I know the id of it.","body":"I know the id of it."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1595962248,"post_id":63140834,"comment_id":111654195,"body_markdown":"Would you mind posting what you have tried so far?","body":"Would you mind posting what you have tried so far?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1595962642,"post_id":63140834,"comment_id":111654367,"body_markdown":"If there isn&#39;t a list method that does exactly what you want, you can still iterate through your list and check each element explicitly.","body":"If there isn&#39;t a list method that does exactly what you want, you can still iterate through your list and check each element explicitly."},{"owner":{"account_id":6327762,"reputation":111,"user_id":10889738,"display_name":"liviubiur"},"score":0,"creation_date":1595962756,"post_id":63140834,"comment_id":111654421,"body_markdown":"@hev1 I edited the post.","body":"@hev1 I edited the post."},{"owner":{"account_id":4525304,"reputation":651,"user_id":3677320,"accept_rate":90,"display_name":"ajc2000"},"score":0,"creation_date":1595962902,"post_id":63140834,"comment_id":111654476,"body_markdown":"If you want the value removed from the list, `remove(int index)` in `List` should be helpful; this returns the removed value rather than a boolean.","body":"If you want the value removed from the list, <code>remove(int index)</code> in <code>List</code> should be helpful; this returns the removed value rather than a boolean."}],"answers":[{"tags":[],"owner":{"account_id":6231207,"reputation":342,"user_id":4847944,"display_name":"Ketan Vekariya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595962040,"creation_date":1595962040,"answer_id":63140882,"question_id":63140834,"body_markdown":"Just use ArrayList.contains(desiredElement). For example, if you&#39;re looking for the conta1 account from your example, you could use something like:\r\n\r\n\r\nEdit: Note that in order for this to work, you will need to properly override the equals() and hashCode() methods. If you are using Eclipse IDE, then you can have these methods generated by first opening the source file for your CurrentAccount object and the selecting Source &gt; Generate hashCode() and equals()...","title":"Remove an item from a list and return the item","body":"<p>Just use ArrayList.contains(desiredElement). For example, if you're looking for the conta1 account from your example, you could use something like:</p>\n<p>Edit: Note that in order for this to work, you will need to properly override the equals() and hashCode() methods. If you are using Eclipse IDE, then you can have these methods generated by first opening the source file for your CurrentAccount object and the selecting Source &gt; Generate hashCode() and equals()...</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595962967,"creation_date":1595962967,"answer_id":63141104,"question_id":63140834,"body_markdown":"If you want to find an element by a certain predicate, remove it and return it, you can have a method like this:\r\n\r\n    public static &lt;E&gt; E findRemoveAndReturn(List&lt;E&gt; items, Predicate&lt;? super E&gt; predicate) {\r\n        Iterator&lt;E&gt; iter = items.iterator();\r\n        while (iter.hasNext()) {\r\n            E item = iter.next();\r\n            if (predicate.test(item)) {\r\n                iter.remove();\r\n                return item;\r\n            }\r\n        }\r\n        return null; // or throw an exception\r\n    }\r\n","title":"Remove an item from a list and return the item","body":"<p>If you want to find an element by a certain predicate, remove it and return it, you can have a method like this:</p>\n<pre><code>public static &lt;E&gt; E findRemoveAndReturn(List&lt;E&gt; items, Predicate&lt;? super E&gt; predicate) {\n    Iterator&lt;E&gt; iter = items.iterator();\n    while (iter.hasNext()) {\n        E item = iter.next();\n        if (predicate.test(item)) {\n            iter.remove();\n            return item;\n        }\n    }\n    return null; // or throw an exception\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6327762,"reputation":111,"user_id":10889738,"display_name":"liviubiur"},"score":0,"creation_date":1595963104,"post_id":63141108,"comment_id":111654562,"body_markdown":"Thanks for your idea!","body":"Thanks for your idea!"}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595962980,"creation_date":1595962980,"answer_id":63141108,"question_id":63140834,"body_markdown":"You can do this in two steps. First, iterate(or stream) the list and filter the elements that satisfy your condition. Then remove them all from the list.\r\n\r\n    List&lt;String&gt; elementsToBeRemoved = tests.stream()\r\n            .filter(test -&gt; test.getId().equals(id))\r\n            .collect(Collectors.toList());\r\n    tests.removeAll(elementsToBeRemoved);\r\n        \r\nIf you want to remove the first matching element or when you know for sure only one will match, you can do lile,\r\n\r\n    Optional&lt;String&gt; elementToBeRemoved = tests.stream()\r\n            .filter(test -&gt; test.getId().equals(id))\r\n            .findFirst();\r\n    elementToBeRemoved.ifPresent(tests::remove);","title":"Remove an item from a list and return the item","body":"<p>You can do this in two steps. First, iterate(or stream) the list and filter the elements that satisfy your condition. Then remove them all from the list.</p>\n<pre><code>List&lt;String&gt; elementsToBeRemoved = tests.stream()\n        .filter(test -&gt; test.getId().equals(id))\n        .collect(Collectors.toList());\ntests.removeAll(elementsToBeRemoved);\n    \n</code></pre>\n<p>If you want to remove the first matching element or when you know for sure only one will match, you can do lile,</p>\n<pre><code>Optional&lt;String&gt; elementToBeRemoved = tests.stream()\n        .filter(test -&gt; test.getId().equals(id))\n        .findFirst();\nelementToBeRemoved.ifPresent(tests::remove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9250310,"reputation":171,"user_id":6871028,"display_name":"Albert Gevorgyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700676937,"creation_date":1700676937,"answer_id":77532290,"question_id":63140834,"body_markdown":"Call collect(partitioningBy()) with the predicate that you would use in removeIf. The elements under true match the predicate, so you can return them. Those under false should replace the input collection. ","title":"Remove an item from a list and return the item","body":"<p>Call collect(partitioningBy()) with the predicate that you would use in removeIf. The elements under true match the predicate, so you can return them. Those under false should replace the input collection.</p>\n"}],"owner":{"account_id":6327762,"reputation":111,"user_id":10889738,"display_name":"liviubiur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700676937,"creation_date":1595961866,"question_id":63140834,"body_markdown":"I have an `ArrayList` and I want to check if an element exist in the list and if it exist I want to remove it and return it. \r\n\r\nI tried to use `removeIf` but it returns a `boolean` value.\r\n\r\nHow can I do that? \r\n\r\nThanks!\r\n\r\nLE\r\n\r\nI have a list of objects Test: \r\n\r\n`private static List&lt;Test&gt; tests = new ArrayList&lt;&gt;();`\r\n\r\nI have the method `public Test deleteById(long id) {}`. \r\n\r\nWhat I want is to check if `tests` contains a test with `id` and if that is true I want to remove the object and return it.","title":"Remove an item from a list and return the item","body":"<p>I have an <code>ArrayList</code> and I want to check if an element exist in the list and if it exist I want to remove it and return it.</p>\n<p>I tried to use <code>removeIf</code> but it returns a <code>boolean</code> value.</p>\n<p>How can I do that?</p>\n<p>Thanks!</p>\n<p>LE</p>\n<p>I have a list of objects Test:</p>\n<p><code>private static List&lt;Test&gt; tests = new ArrayList&lt;&gt;();</code></p>\n<p>I have the method <code>public Test deleteById(long id) {}</code>.</p>\n<p>What I want is to check if <code>tests</code> contains a test with <code>id</code> and if that is true I want to remove the object and return it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9874,"page":43,"page_size":100}
