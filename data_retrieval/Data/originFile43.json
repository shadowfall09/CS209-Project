{"items":[{"tags":["java","spring","shell"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649327808,"post_id":71780518,"comment_id":126850038,"body_markdown":"https://docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/htmlsingle/#_promptprovider","body":"<a href=\"https://docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/htmlsingle/#_promptprovider\" rel=\"nofollow noreferrer\">docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649327972,"creation_date":1649327972,"answer_id":71780627,"question_id":71780518,"body_markdown":"You can define a ```PromptProvider```, see in the Docs: https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider","title":"Change the prompt in spring shell at runtime","body":"<p>You can define a <code>PromptProvider</code>, see in the Docs: <a href=\"https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider</a></p>\n"},{"tags":[],"owner":{"account_id":16602983,"reputation":53,"user_id":11998134,"display_name":"Davidge"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649407678,"creation_date":1649407678,"answer_id":71794175,"question_id":71780518,"body_markdown":"Thank you for the answer! I&#39;ve overlooked this feature. I created this class, put it into my configuration-package and it works good for me:\r\n\r\n    package de.myapp.spring.configuration;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;de.myapp.spring.shell&quot;)\r\n    public class ShellApplicationConfiguration implements PromptProvider {\r\n    \r\n    \t@Override\r\n    \tpublic final AttributedString getPrompt() {\r\n    \r\n    \t\treturn new AttributedString(&quot;myapp:&gt;&quot;);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Change the prompt in spring shell at runtime","body":"<p>Thank you for the answer! I've overlooked this feature. I created this class, put it into my configuration-package and it works good for me:</p>\n<pre><code>package de.myapp.spring.configuration;\n\n@Configuration\n@ComponentScan(&quot;de.myapp.spring.shell&quot;)\npublic class ShellApplicationConfiguration implements PromptProvider {\n\n    @Override\n    public final AttributedString getPrompt() {\n\n        return new AttributedString(&quot;myapp:&gt;&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700641829,"creation_date":1700641829,"answer_id":77528359,"question_id":71780518,"body_markdown":"What worked for me:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.shell.jline.PromptProvider;\r\nimport org.jline.utils.AttributedString;\r\n\r\n@Configuration\r\npublic class SpringShellConfiguration implements PromptProvider {\r\n    @Override\r\n    public final AttributedString getPrompt() {\r\n        return new AttributedString(&quot;myapp:&gt; &quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nReference:\r\nhttps://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html\r\n","title":"Change the prompt in spring shell at runtime","body":"<p>What worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.shell.jline.PromptProvider;\nimport org.jline.utils.AttributedString;\n\n@Configuration\npublic class SpringShellConfiguration implements PromptProvider {\n    @Override\n    public final AttributedString getPrompt() {\n        return new AttributedString(&quot;myapp:&gt; &quot;);\n    }\n\n}\n</code></pre>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html</a></p>\n"}],"owner":{"account_id":16602983,"reputation":53,"user_id":11998134,"display_name":"Davidge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71780627,"answer_count":3,"score":2,"last_activity_date":1700641829,"creation_date":1649327444,"question_id":71780518,"body_markdown":"is it possible to change the prompt in a spring shell application? For default it seems that the prompt is:\r\n\r\n    shell:&gt;\r\n\r\nIs is possible to change this text at runtime?\r\n\r\nTHX","title":"Change the prompt in spring shell at runtime","body":"<p>is it possible to change the prompt in a spring shell application? For default it seems that the prompt is:</p>\n<pre><code>shell:&gt;\n</code></pre>\n<p>Is is possible to change this text at runtime?</p>\n<p>THX</p>\n"},{"tags":["java","spring-boot","swagger","basic-authentication","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"score":1,"creation_date":1700572367,"post_id":77522752,"comment_id":136668974,"body_markdown":"When I use exactly your code (with latest Spring Boot `3.1.5`), import springdoc-openapi-ui v`2.2.0` into the project, then everything works as should per your description. For the non-existent paths I just get an expected `404`, no `403` or `400`. Are you sure you don&#39;t have any extra security configuration that might be intercepting? Or something else misconfigured?","body":"When I use exactly your code (with latest Spring Boot <code>3.1.5</code>), import springdoc-openapi-ui v<code>2.2.0</code> into the project, then everything works as should per your description. For the non-existent paths I just get an expected <code>404</code>, no <code>403</code> or <code>400</code>. Are you sure you don&#39;t have any extra security configuration that might be intercepting? Or something else misconfigured?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1700574958,"post_id":77522752,"comment_id":136669537,"body_markdown":"Sorry, but I did not get you, just tell me if i understood correct what you meant to do. Permit everyone to the `swagger ui` and all `open api` staff, but restrict access to endpoints.","body":"Sorry, but I did not get you, just tell me if i understood correct what you meant to do. Permit everyone to the <code>swagger ui</code> and all <code>open api</code> staff, but restrict access to endpoints."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1700641721,"post_id":77522752,"comment_id":136678359,"body_markdown":"@Troley we fixed it, see here: https://stackoverflow.com/a/77528344/571875","body":"@Troley we fixed it, see here: <a href=\"https://stackoverflow.com/a/77528344/571875\">stackoverflow.com/a/77528344/571875</a>"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1700641776,"post_id":77522752,"comment_id":136678367,"body_markdown":"@AndreiLisa The other way around, we want access to the apis themselves (they&#39;re secured elsewhere) and to secure the swagger stuff. I found the problem:  https://stackoverflow.com/a/77528344/571875","body":"@AndreiLisa The other way around, we want access to the apis themselves (they&#39;re secured elsewhere) and to secure the swagger stuff. I found the problem:  <a href=\"https://stackoverflow.com/a/77528344/571875\">stackoverflow.com/a/77528344/571875</a>"}],"answers":[{"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700576787,"creation_date":1700576787,"answer_id":77523611,"question_id":77522752,"body_markdown":"For having authentication on swagger only, i&#39;ve implemented two different filter chains. One for swagger and the other for the whole service. this is how my SecurityConfig looks like: \r\n\r\n    http.addFilterBefore(ssoAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            http.authorizeHttpRequests(c -&gt;\r\n                                c.requestMatchers(&quot;/swagger-ui&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;,&quot;CASHIER&quot;,&quot;TENANTADMIN&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/swagger-config&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/swagger-ui/login&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/actuator/health&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/actuator/prometheus&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/api-docs&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/eod&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;TENANTADMIN&quot;, &quot;CASHIER&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/statistics&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\r\n                                        .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\r\n                                .anyRequest().authenticated()\r\n            );\r\n    \r\n            http.formLogin(form -&gt; form\r\n                    .loginPage(&quot;/swagger-ui/login&quot;)\r\n                    .loginProcessingUrl(&quot;/swagger-ui/login&quot;)\r\n                    .successHandler(myAuthenticationSuccessHandler())\r\n                    .failureHandler(myAuthenticationFailureHandler())\r\n                    .permitAll()\r\n            );\r\n    \r\n            http.addFilterBefore(swaggerAuthFilter, UsernamePasswordAuthenticationFilter.class).exceptionHandling(handling -&gt; {\r\n                handling.accessDeniedHandler(accessDeniedHandler());\r\n                handling.authenticationEntryPoint(new CustomHttp403ForbiddenEntryPoint());\r\n            });\r\n    \r\n            http.authenticationProvider(swaggerAuthProvider);\r\n\r\nAs you can see i&#39;ve SSOAuthFilter for my whole service and SwaggerAuthFilter for swagger purposes only. \r\n\r\nYou&#39;ll also need a AuthenticationProvider: \r\n\r\n \r\n\r\n       public class SwaggerAuthProvider implements AuthenticationProvider {\r\n            private UserService userService;\r\n        \r\n            @Autowired\r\n            public SwaggerAuthProvider(UserService userService) {\r\n                this.userService = userService;\r\n            }\r\n        \r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                String username = authentication.getName();\r\n                String password = authentication.getCredentials().toString();\r\n                Optional&lt;WhoAmIResponse&gt; whoAmIResponse = userService.authenticate(new LoginRequest(username,password));\r\n        \r\n                if (whoAmIResponse.isEmpty()) {\r\n                    log.debug(&quot;Authentication failed. Invalid credentials.&quot;);\r\n                    throw new BadCredentialsException(&quot;Authentication failed. Invalid credentials.&quot;);\r\n                }\r\n        \r\n                // Create a new authenticated token with the JWT token\r\n                return new JwtAuthenticationToken(\r\n                        whoAmIResponse.get().getToken(),\r\n                        username, password,\r\n                        List.of(\r\n                                new SimpleGrantedAuthority(\r\n                                    whoAmIResponse.get().getType().toUpperCase()\r\n                                )\r\n                        )\r\n                );\r\n            }\r\n        \r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; authentication) {\r\n                return authentication.isAssignableFrom(JwtAuthenticationToken.class);\r\n            }\r\n        }\r\n\r\nAnd this is how my SwaggerAuthFilter looks like: \r\n\r\n    public class SwaggerAuthFilter extends OncePerRequestFilter {\r\n    \r\n        private final MyUserDetailsService userDetailsService;\r\n        private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n    \r\n        @Autowired\r\n        public SwaggerAuthFilter(MyUserDetailsService userDetailsService) {\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n        private String checkCookie(Cookie tokenCookie){\r\n            String token = tokenCookie.getValue();\r\n            if(token == null || token.length() &lt; 7){\r\n                log.debug(&quot;token problem with length {}&quot;, token.length());\r\n            }\r\n    \r\n            if(token.startsWith(&quot;Bearer&quot;))\r\n                return token.substring(7);\r\n            return token;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest req,\r\n                                        HttpServletResponse res,\r\n                                        FilterChain chain) throws IOException, ServletException {\r\n            String url = req.getRequestURI();\r\n            if(\r\n                    (!req.getRequestURI().contains(&quot;swagger-ui&quot;) &amp;&amp;\r\n                    !req.getRequestURI().contains(&quot;api-docs&quot;)) ||\r\n                    req.getRequestURI().contains(&quot;login&quot;)\r\n            ){\r\n                log.debug(&quot;request with uri: {} was not associated with swagger filter&quot;, url);\r\n                chain.doFilter(req, res);\r\n                return;\r\n            }\r\n    \r\n            Cookie tokenCookie = WebUtils.getCookie(req, &quot;token&quot;);\r\n            if(tokenCookie == null){\r\n                log.debug(&quot;token cookie is null, redirecting to login page&quot;);\r\n                redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\r\n                return;\r\n            }\r\n            String token = checkCookie(tokenCookie);\r\n    \r\n            UsernamePasswordAuthenticationToken authentication;\r\n            try {\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(token);\r\n                if(userDetails == null){\r\n                    log.debug(&quot;user retrieved by token in cookie is null, redirecting to login page&quot;);\r\n                    tokenCookie.setMaxAge(0);\r\n                    res.addCookie(tokenCookie);\r\n                    redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\r\n                    return;\r\n                }\r\n                authentication =\r\n                        new JwtAuthenticationToken(token,userDetails,\r\n                                null,\r\n                                userDetails.getAuthorities());\r\n    \r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(req));\r\n    \r\n            } catch (AuthException | NullPointerException | IllegalArgumentException e) {\r\n                log.debug(&quot;cannot authorize because {}&quot;, e.getLocalizedMessage());\r\n                authentication = null;\r\n            }\r\n            SecurityContextHolder.getContext().setAuthentication(authentication); // set the user here\r\n            chain.doFilter(req, res);\r\n        }\r\n    }\r\n\r\nHope that this helps you resolve your issue!\r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>For having authentication on swagger only, i've implemented two different filter chains. One for swagger and the other for the whole service. this is how my SecurityConfig looks like:</p>\n<pre><code>http.addFilterBefore(ssoAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n        http.authorizeHttpRequests(c -&gt;\n                            c.requestMatchers(&quot;/swagger-ui&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;,&quot;CASHIER&quot;,&quot;TENANTADMIN&quot;)\n                                    .requestMatchers(&quot;/api-docs/swagger-config&quot;).permitAll()\n                                    .requestMatchers(&quot;/swagger-ui/login&quot;).permitAll()\n                                    .requestMatchers(&quot;/actuator/health&quot;).permitAll()\n                                    .requestMatchers(&quot;/actuator/prometheus&quot;).permitAll()\n                                    .requestMatchers(&quot;/api-docs&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\n                                    .requestMatchers(&quot;/api-docs/eod&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;TENANTADMIN&quot;, &quot;CASHIER&quot;)\n                                    .requestMatchers(&quot;/api-docs/statistics&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\n                                    .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\n                            .anyRequest().authenticated()\n        );\n\n        http.formLogin(form -&gt; form\n                .loginPage(&quot;/swagger-ui/login&quot;)\n                .loginProcessingUrl(&quot;/swagger-ui/login&quot;)\n                .successHandler(myAuthenticationSuccessHandler())\n                .failureHandler(myAuthenticationFailureHandler())\n                .permitAll()\n        );\n\n        http.addFilterBefore(swaggerAuthFilter, UsernamePasswordAuthenticationFilter.class).exceptionHandling(handling -&gt; {\n            handling.accessDeniedHandler(accessDeniedHandler());\n            handling.authenticationEntryPoint(new CustomHttp403ForbiddenEntryPoint());\n        });\n\n        http.authenticationProvider(swaggerAuthProvider);\n</code></pre>\n<p>As you can see i've SSOAuthFilter for my whole service and SwaggerAuthFilter for swagger purposes only.</p>\n<p>You'll also need a AuthenticationProvider:</p>\n<pre><code>   public class SwaggerAuthProvider implements AuthenticationProvider {\n        private UserService userService;\n    \n        @Autowired\n        public SwaggerAuthProvider(UserService userService) {\n            this.userService = userService;\n        }\n    \n        @Override\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            String username = authentication.getName();\n            String password = authentication.getCredentials().toString();\n            Optional&lt;WhoAmIResponse&gt; whoAmIResponse = userService.authenticate(new LoginRequest(username,password));\n    \n            if (whoAmIResponse.isEmpty()) {\n                log.debug(&quot;Authentication failed. Invalid credentials.&quot;);\n                throw new BadCredentialsException(&quot;Authentication failed. Invalid credentials.&quot;);\n            }\n    \n            // Create a new authenticated token with the JWT token\n            return new JwtAuthenticationToken(\n                    whoAmIResponse.get().getToken(),\n                    username, password,\n                    List.of(\n                            new SimpleGrantedAuthority(\n                                whoAmIResponse.get().getType().toUpperCase()\n                            )\n                    )\n            );\n        }\n    \n        @Override\n        public boolean supports(Class&lt;?&gt; authentication) {\n            return authentication.isAssignableFrom(JwtAuthenticationToken.class);\n        }\n    }\n</code></pre>\n<p>And this is how my SwaggerAuthFilter looks like:</p>\n<pre><code>public class SwaggerAuthFilter extends OncePerRequestFilter {\n\n    private final MyUserDetailsService userDetailsService;\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Autowired\n    public SwaggerAuthFilter(MyUserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    private String checkCookie(Cookie tokenCookie){\n        String token = tokenCookie.getValue();\n        if(token == null || token.length() &lt; 7){\n            log.debug(&quot;token problem with length {}&quot;, token.length());\n        }\n\n        if(token.startsWith(&quot;Bearer&quot;))\n            return token.substring(7);\n        return token;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req,\n                                    HttpServletResponse res,\n                                    FilterChain chain) throws IOException, ServletException {\n        String url = req.getRequestURI();\n        if(\n                (!req.getRequestURI().contains(&quot;swagger-ui&quot;) &amp;&amp;\n                !req.getRequestURI().contains(&quot;api-docs&quot;)) ||\n                req.getRequestURI().contains(&quot;login&quot;)\n        ){\n            log.debug(&quot;request with uri: {} was not associated with swagger filter&quot;, url);\n            chain.doFilter(req, res);\n            return;\n        }\n\n        Cookie tokenCookie = WebUtils.getCookie(req, &quot;token&quot;);\n        if(tokenCookie == null){\n            log.debug(&quot;token cookie is null, redirecting to login page&quot;);\n            redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\n            return;\n        }\n        String token = checkCookie(tokenCookie);\n\n        UsernamePasswordAuthenticationToken authentication;\n        try {\n            UserDetails userDetails = userDetailsService.loadUserByUsername(token);\n            if(userDetails == null){\n                log.debug(&quot;user retrieved by token in cookie is null, redirecting to login page&quot;);\n                tokenCookie.setMaxAge(0);\n                res.addCookie(tokenCookie);\n                redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\n                return;\n            }\n            authentication =\n                    new JwtAuthenticationToken(token,userDetails,\n                            null,\n                            userDetails.getAuthorities());\n\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(req));\n\n        } catch (AuthException | NullPointerException | IllegalArgumentException e) {\n            log.debug(&quot;cannot authorize because {}&quot;, e.getLocalizedMessage());\n            authentication = null;\n        }\n        SecurityContextHolder.getContext().setAuthentication(authentication); // set the user here\n        chain.doFilter(req, res);\n    }\n}\n</code></pre>\n<p>Hope that this helps you resolve your issue!</p>\n"},{"tags":[],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700641679,"creation_date":1700641679,"answer_id":77528344,"question_id":77522752,"body_markdown":"So this was a weird one. \r\nIn the service I&#39;m working on we have an endpoint called `/error`.   \r\nSpring has a default error controller which also has an endpoint called `/error`.   \r\nThis was never a problem before, but apparently with the inclusion of spring-security something changed and it became a problem.  \r\nSpring couldn&#39;t figure out which resource to use for whatever it was trying to do, and so selected the wrong one, which resulted in weird behaviours.   \r\nInterestingly there were no actual errors.   \r\nIn the debug logs I noticed that we were calling `/error` for some reason (still can&#39;t figure that out) and there was a warning that the expected body wasn&#39;t in the request, which was odd because we weren&#39;t calling that resource, and the `GET` request that was failing didn&#39;t have a body.   \r\nIt wasn&#39;t until we turned on trace logs that we could see that there were two conflicting `/error` resources, and spring was picking out resource instead of the one it was looking for.   \r\nWe renamed our error resource to something else and all the issues went away.   \r\nI find it weird that spring doesn&#39;t complain properly when that happens though. Surely that sort of conflict requires more than a trace log?   \r\nIn any case, it is working now.   \r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>So this was a weird one.\nIn the service I'm working on we have an endpoint called <code>/error</code>.<br />\nSpring has a default error controller which also has an endpoint called <code>/error</code>.<br />\nThis was never a problem before, but apparently with the inclusion of spring-security something changed and it became a problem.<br />\nSpring couldn't figure out which resource to use for whatever it was trying to do, and so selected the wrong one, which resulted in weird behaviours.<br />\nInterestingly there were no actual errors.<br />\nIn the debug logs I noticed that we were calling <code>/error</code> for some reason (still can't figure that out) and there was a warning that the expected body wasn't in the request, which was odd because we weren't calling that resource, and the <code>GET</code> request that was failing didn't have a body.<br />\nIt wasn't until we turned on trace logs that we could see that there were two conflicting <code>/error</code> resources, and spring was picking out resource instead of the one it was looking for.<br />\nWe renamed our error resource to something else and all the issues went away.<br />\nI find it weird that spring doesn't complain properly when that happens though. Surely that sort of conflict requires more than a trace log?<br />\nIn any case, it is working now.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700641679,"creation_date":1700569088,"question_id":77522752,"body_markdown":"I&#39;ve looked in so many questions on here, but with no solutions that work for me.  \r\nI have a service that I want to run open api and the swagger ui on.  \r\nI have no problems running them without security, and when I try add basic authentication with the code below it works as I&#39;d like, BUT it also puts all my other API&#39;s behind the same authentication, which I do not want. I thought I could add an additional `requestMatcher` like this:   \r\n```java\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\r\n                                     &quot;/v3/api-docs/**&quot;,\r\n                                     &quot;/v3/api-docs&quot;,\r\n                                     &quot;/swagger-ui.html&quot;)\r\n                    .hasRole(&quot;USER&quot;)\r\n                    .requestMatchers(&quot;/**&quot;).permitAll()\r\n                    .and()\r\n                    .httpBasic(Customizer.withDefaults());\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nWhen I do this, my other API&#39;s are. accessible without security as I expect, and when I go to the swagger ui I get the popup, I can log in, but then the get request to `/v3/api-config` fails with a 403 forbidden error or a 400 error, depending on where the permitAll requestMatcher is located.  \r\nWhat is the correct way to do this?   \r\nI want the swagger api&#39;s to be behind basic auth, but all other api&#39;s to be accessible by anyone.   \r\nI cannot find an existing answer to help with this.   \r\nMy current security config is below, this blocks everything and allows swagger after authentication:   \r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    public static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\r\n                                     &quot;/v3/api-docs/**&quot;,\r\n                                     &quot;/v3/api-docs&quot;,\r\n                                     &quot;/swagger-ui.html&quot;)\r\n                    .hasRole(&quot;USER&quot;)\r\n                    .and()\r\n                    .httpBasic(Customizer.withDefaults());\r\n        return httpSecurity.build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user = User.withUsername(&quot;user&quot;)\r\n                               .password(passwordEncoder.encode(&quot;password&quot;))\r\n                               .roles(&quot;USER&quot;)\r\n                               .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>I've looked in so many questions on here, but with no solutions that work for me.<br />\nI have a service that I want to run open api and the swagger ui on.<br />\nI have no problems running them without security, and when I try add basic authentication with the code below it works as I'd like, BUT it also puts all my other API's behind the same authentication, which I do not want. I thought I could add an additional <code>requestMatcher</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeHttpRequests()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\n                                     &quot;/v3/api-docs/**&quot;,\n                                     &quot;/v3/api-docs&quot;,\n                                     &quot;/swagger-ui.html&quot;)\n                    .hasRole(&quot;USER&quot;)\n                    .requestMatchers(&quot;/**&quot;).permitAll()\n                    .and()\n                    .httpBasic(Customizer.withDefaults());\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>When I do this, my other API's are. accessible without security as I expect, and when I go to the swagger ui I get the popup, I can log in, but then the get request to <code>/v3/api-config</code> fails with a 403 forbidden error or a 400 error, depending on where the permitAll requestMatcher is located.<br />\nWhat is the correct way to do this?<br />\nI want the swagger api's to be behind basic auth, but all other api's to be accessible by anyone.<br />\nI cannot find an existing answer to help with this.<br />\nMy current security config is below, this blocks everything and allows swagger after authentication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    public static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeHttpRequests()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\n                                     &quot;/v3/api-docs/**&quot;,\n                                     &quot;/v3/api-docs&quot;,\n                                     &quot;/swagger-ui.html&quot;)\n                    .hasRole(&quot;USER&quot;)\n                    .and()\n                    .httpBasic(Customizer.withDefaults());\n        return httpSecurity.build();\n\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user = User.withUsername(&quot;user&quot;)\n                               .password(passwordEncoder.encode(&quot;password&quot;))\n                               .roles(&quot;USER&quot;)\n                               .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671696530,"creation_date":1671696530,"answer_id":74885693,"question_id":74885553,"body_markdown":"For apps targeting Android 13 (API level 33) or higher, the `setForceDark()` method is deprecated, resulting in a no-op if the method is called.\r\n\r\nInstead, WebView now always sets the media query `prefers-color-scheme` according to the app&#39;s theme attribute, [isLightTheme][1]. In other words, if `isLightTheme` is true or not specified, `prefers-color-scheme` is light; otherwise, it is dark. This behavior means that the web content&#39;s light or dark style is applied automatically to match the app&#39;s theme if the content supports it.\r\n\r\nFor most apps, the new behavior should apply the appropriate app styles automatically, however you should test your app to check for any cases where you might&#39;ve been manually controlling dark mode settings.\r\n\r\nIf you still need to customize your app&#39;s color theme behavior, use the [setAlgorithmicDarkeningAllowed()][2] method instead. For backward compatibility with previous Android versions, we recommend using the equivalent [setAlgorithmicDarkeningAllowed()][2] method in AndroidX.\r\n\r\nSee the documentation for that method to learn more about what behavior you can expect in your app depending on your app&#39;s targetSdkVersion and theme settings.\r\n\r\nFor more info, visit to this docs https://developer.android.com/about/versions/13/behavior-changes-13\r\n\r\n  [1]: https://developer.android.com/reference/android/R.styleable#Theme_isLightTheme\r\n  [2]: https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>For apps targeting Android 13 (API level 33) or higher, the <code>setForceDark()</code> method is deprecated, resulting in a no-op if the method is called.</p>\n<p>Instead, WebView now always sets the media query <code>prefers-color-scheme</code> according to the app's theme attribute, <a href=\"https://developer.android.com/reference/android/R.styleable#Theme_isLightTheme\" rel=\"nofollow noreferrer\">isLightTheme</a>. In other words, if <code>isLightTheme</code> is true or not specified, <code>prefers-color-scheme</code> is light; otherwise, it is dark. This behavior means that the web content's light or dark style is applied automatically to match the app's theme if the content supports it.</p>\n<p>For most apps, the new behavior should apply the appropriate app styles automatically, however you should test your app to check for any cases where you might've been manually controlling dark mode settings.</p>\n<p>If you still need to customize your app's color theme behavior, use the <a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)\" rel=\"nofollow noreferrer\">setAlgorithmicDarkeningAllowed()</a> method instead. For backward compatibility with previous Android versions, we recommend using the equivalent <a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)\" rel=\"nofollow noreferrer\">setAlgorithmicDarkeningAllowed()</a> method in AndroidX.</p>\n<p>See the documentation for that method to learn more about what behavior you can expect in your app depending on your app's targetSdkVersion and theme settings.</p>\n<p>For more info, visit to this docs <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13</a></p>\n"},{"tags":[],"owner":{"account_id":17516480,"reputation":11,"user_id":12703405,"display_name":"Max23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674469620,"creation_date":1674469620,"answer_id":75208174,"question_id":74885553,"body_markdown":"Try this\r\n\r\n            if (SDK_INT &gt;= 32) { \r\n                if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\r\n                    try {       WebSettingsCompat.setAlgorithmicDarkeningAllowed(myWebView.getSettings(), true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }else {\r\n\r\n                if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\r\n\r\n                    int nightModeFlags = getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n\r\n                    if (nightModeFlags == Configuration.UI_MODE_NIGHT_YES) {\r\n                        //Theme is switched to Night/Dark mode, turn on webview darkening\r\n                        WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\r\n                    }\r\n","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>Try this</p>\n<pre><code>        if (SDK_INT &gt;= 32) { \n            if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\n                try {       WebSettingsCompat.setAlgorithmicDarkeningAllowed(myWebView.getSettings(), true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }else {\n\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\n\n                int nightModeFlags = getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\n\n                if (nightModeFlags == Configuration.UI_MODE_NIGHT_YES) {\n                    //Theme is switched to Night/Dark mode, turn on webview darkening\n                    WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\n                }\n</code></pre>\n"}],"owner":{"account_id":17290165,"reputation":200,"user_id":12521889,"display_name":"Chester "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700641120,"creation_date":1671695715,"question_id":74885553,"body_markdown":"I&#39;m using `WebSettingsCompat.setForceDark(webView.getSettings(), WebSettingsCompat.FORCE_DARK_OFF);` on android 12 is working well, but on android 13 it not working. please help and thank you.","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>I'm using <code>WebSettingsCompat.setForceDark(webView.getSettings(), WebSettingsCompat.FORCE_DARK_OFF);</code> on android 12 is working well, but on android 13 it not working. please help and thank you.</p>\n"},{"tags":["java","tiff","bufferedimage","cmyk","twelvemonkeys"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700128020,"post_id":77493677,"comment_id":136617421,"body_markdown":"Do you have a sample of your image? Which line is throwing the error? Why not use ImageIO.read( file)? Did you check which readers you have to make sure your plugin is installed correctly? https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#getImageReadersBySuffix-java.lang.String-","body":"Do you have a sample of your image? Which line is throwing the error? Why not use ImageIO.read( file)? Did you check which readers you have to make sure your plugin is installed correctly? <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#getImageReadersBySuffix-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/imageio/&hellip;</a>"},{"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"score":0,"creation_date":1700128710,"post_id":77493677,"comment_id":136617562,"body_markdown":"The exception is thrown by line `newBi= new BufferedImage(height, width, type);`. As I understand the problem is that `new BufferedImage(int width, int height, int imageType)` constructor doesn&#39;t support type 0. I don&#39;t use `ImageIO.read(file)` because I want to be sure that I use TIFFImageReader from TwelveMonkeys. I checked it and it&#39;s ok - I use right reader","body":"The exception is thrown by line <code>newBi= new BufferedImage(height, width, type);</code>. As I understand the problem is that <code>new BufferedImage(int width, int height, int imageType)</code> constructor doesn&#39;t support type 0. I don&#39;t use <code>ImageIO.read(file)</code> because I want to be sure that I use TIFFImageReader from TwelveMonkeys. I checked it and it&#39;s ok - I use right reader"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700129566,"post_id":77493677,"comment_id":136617729,"body_markdown":"Try using the [Apache Commons Imaging API](https://commons.apache.org/proper/commons-imaging/) but, for the sake of detail...[give this a full read](https://issues.apache.org/jira/browse/IMAGING-201).","body":"Try using the <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"nofollow noreferrer\">Apache Commons Imaging API</a> but, for the sake of detail...<a href=\"https://issues.apache.org/jira/browse/IMAGING-201\" rel=\"nofollow noreferrer\">give this a full read</a>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700129881,"post_id":77493677,"comment_id":136617816,"body_markdown":"Why do you need your new BufferedImage to be &#39;cmyk&#39;? You could try using the [BufferedImageOp](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/BufferedImageOp.html) supply null for the destination and see what java gives you back.","body":"Why do you need your new BufferedImage to be &#39;cmyk&#39;? You could try using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/BufferedImageOp.html\" rel=\"nofollow noreferrer\">BufferedImageOp</a> supply null for the destination and see what java gives you back."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700130936,"post_id":77493677,"comment_id":136618012,"body_markdown":"@DevilsHnd-退した the OP is using [TwelveMonkeys](https://github.com/haraldk/TwelveMonkeys). Are you saying that he should use _Apache Commons Imaging_ instead?","body":"@DevilsHnd-退した the OP is using <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">TwelveMonkeys</a>. Are you saying that he should use <i>Apache Commons Imaging</i> instead?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700131127,"post_id":77493677,"comment_id":136618044,"body_markdown":"[twelvemonkeys](https://github.com/haraldk/TwelveMonkeys/blob/0378f504e7bf0fde5e20c146fc357c66119b0b5b/common/common-image/src/main/java/com/twelvemonkeys/image/AffineTransformOp.java) also has some image ops, that might preserve the image type.","body":"<a href=\"https://github.com/haraldk/TwelveMonkeys/blob/0378f504e7bf0fde5e20c146fc357c66119b0b5b/common/common-image/src/main/java/com/twelvemonkeys/image/AffineTransformOp.java\" rel=\"nofollow noreferrer\">twelvemonkeys</a> also has some image ops, that might preserve the image type."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1700131151,"post_id":77493677,"comment_id":136618051,"body_markdown":"FYI, the author of _TwelveMonkeys_ usually answers question tagged &quot;twelvemonkeys&quot; but it may take some time before he answers.","body":"FYI, the author of <i>TwelveMonkeys</i> usually answers question tagged &quot;twelvemonkeys&quot; but it may take some time before he answers."},{"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"score":0,"creation_date":1700135476,"post_id":77493677,"comment_id":136618780,"body_markdown":"@matt thank you for the information about BufferedImageOp. I tried to use ColorConvertOp from Image IO and it successfully converted CMYK to RGB. If there is no other solution I will use color space conversion like this: ```ColorConvertOp colorConvertOp = new ColorConvertOp(cmykBi.getColorModel().getColorSpace(),\n          new ICC_ColorSpace(ICC_Profile.getInstance(ColorSpace.CS_sRGB)), null);\n      BufferedImage rgbBi = colorConvertOp.filter(cmykBi, null);```","body":"@matt thank you for the information about BufferedImageOp. I tried to use ColorConvertOp from Image IO and it successfully converted CMYK to RGB. If there is no other solution I will use color space conversion like this: <code>ColorConvertOp colorConvertOp = new ColorConvertOp(cmykBi.getColorModel().getColorSpace(),           new ICC_ColorSpace(ICC_Profile.getInstance(ColorSpace.CS_sRGB)), null);       BufferedImage rgbBi = colorConvertOp.filter(cmykBi, null);</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1700219951,"post_id":77493677,"comment_id":136630367,"body_markdown":"@bepopov You should probably post the full stack trace. From my understanding, the problem isn&#39;t related to `TwelveMonkeys`, but the fact that any CMYK  `BufferedImage` has to be `TYPE_CUSTOM` (the constant value 0). And you can&#39;t create a new `BufferedImage` using the constructor taking a type argument for type custom images.","body":"@bepopov You should probably post the full stack trace. From my understanding, the problem isn&#39;t related to <code>TwelveMonkeys</code>, but the fact that any CMYK  <code>BufferedImage</code> has to be <code>TYPE_CUSTOM</code> (the constant value 0). And you can&#39;t create a new <code>BufferedImage</code> using the constructor taking a type argument for type custom images."}],"answers":[{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700132627,"creation_date":1700132627,"answer_id":77494284,"question_id":77493677,"body_markdown":"I don&#39;t know how you would read a CMYK Tiff image with ImageIO, but here&#39;s how you could read and rotate the image using OpenCV:\r\n\r\nNote that you would need [this dependency](https://github.com/openpnp/opencv) in your project.\r\n\r\n```java\r\n// Since OpenCV is a native (C++) library, it needs to be loaded before it can be used. Only do this once in your application.\r\nOpenCV.loadLocally();\r\n\r\nMatOfByte inputBuffer = new MatOfByte(bytes);\r\nMat inputImage;\r\n\r\ntry {\r\n    inputImage = Imgcodecs.imdecode(inputBuffer, Imgcodecs.IMREAD_UNCHANGED);\r\n} finally {\r\n    inputBuffer.release();\r\n}\r\n\r\nMat rotatedImage;\r\n\r\ntry {\r\n    if (angle == 0) {\r\n        // Copies the image by reference as we will release the input image in the finally-block\r\n        rotatedImage = new Mat(inputImage, new Rect(0, 0, inputImage.cols(), inputImage.rows()));\r\n    } else {\r\n        int rotateCode = Core.ROTATE_180;\r\n\r\n        if (angle == 90) rotateCode = Core.ROTATE_90_CLOCKWISE;\r\n        else if (angle == 270) rotateCode = Core.ROTATE_90_COUNTERCLOCKWISE;\r\n\r\n        rotatedImage = new Mat();\r\n        Core.rotate(inputImage, rotatedImage, rotateCode);\r\n    }\r\n} finally {\r\n    inputImage.release();\r\n}\r\n\r\n// Convert the image to a BufferedImage\r\nMatOfByte outputBuffer = new MatOfByte();\r\nBufferedImage bufferedImage;\r\ntry {\r\n    Imgcodecs.imencode(&quot;.png&quot;, rotatedImage, outputBuffer);\r\n    bufferedImage = ImageIO.read(new ByteArrayInputStream(outputBuffer.toArray()));\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n} finally {\r\n    outputBuffer.release();\r\n}\r\n```\r\n\r\nAlso, note that the conversion in the last step to a `BufferedImage` uses the `png` file-format in this example. You can probably safely change it to Tiff, if you have the TwelveMonkeys plugin installed.\r\n\r\nFurthermore, `Imgcodecs.imdecode` may change the color space from CMYK to BGR ([relevant documentation](https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56)). Since I don&#39;t have a test picture available, you would need to test that.","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>I don't know how you would read a CMYK Tiff image with ImageIO, but here's how you could read and rotate the image using OpenCV:</p>\n<p>Note that you would need <a href=\"https://github.com/openpnp/opencv\" rel=\"nofollow noreferrer\">this dependency</a> in your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Since OpenCV is a native (C++) library, it needs to be loaded before it can be used. Only do this once in your application.\nOpenCV.loadLocally();\n\nMatOfByte inputBuffer = new MatOfByte(bytes);\nMat inputImage;\n\ntry {\n    inputImage = Imgcodecs.imdecode(inputBuffer, Imgcodecs.IMREAD_UNCHANGED);\n} finally {\n    inputBuffer.release();\n}\n\nMat rotatedImage;\n\ntry {\n    if (angle == 0) {\n        // Copies the image by reference as we will release the input image in the finally-block\n        rotatedImage = new Mat(inputImage, new Rect(0, 0, inputImage.cols(), inputImage.rows()));\n    } else {\n        int rotateCode = Core.ROTATE_180;\n\n        if (angle == 90) rotateCode = Core.ROTATE_90_CLOCKWISE;\n        else if (angle == 270) rotateCode = Core.ROTATE_90_COUNTERCLOCKWISE;\n\n        rotatedImage = new Mat();\n        Core.rotate(inputImage, rotatedImage, rotateCode);\n    }\n} finally {\n    inputImage.release();\n}\n\n// Convert the image to a BufferedImage\nMatOfByte outputBuffer = new MatOfByte();\nBufferedImage bufferedImage;\ntry {\n    Imgcodecs.imencode(&quot;.png&quot;, rotatedImage, outputBuffer);\n    bufferedImage = ImageIO.read(new ByteArrayInputStream(outputBuffer.toArray()));\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} finally {\n    outputBuffer.release();\n}\n</code></pre>\n<p>Also, note that the conversion in the last step to a <code>BufferedImage</code> uses the <code>png</code> file-format in this example. You can probably safely change it to Tiff, if you have the TwelveMonkeys plugin installed.</p>\n<p>Furthermore, <code>Imgcodecs.imdecode</code> may change the color space from CMYK to BGR (<a href=\"https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56\" rel=\"nofollow noreferrer\">relevant documentation</a>). Since I don't have a test picture available, you would need to test that.</p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700221928,"creation_date":1700220615,"answer_id":77501321,"question_id":77493677,"body_markdown":"To rotate a `BufferedImage` in Java, the normal way would be to use [`AffineTransformOp`](https://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html). This will allow you to rotate any image without having to create a new image of the same type up front. \r\n\r\nFor an example see the [`TIFFUtilities.applyOrientation`](https://github.com/haraldk/TwelveMonkeys/blob/77a1745106df765193f9c9a514aac1b6f4c9e035/contrib/src/main/java/com/twelvemonkeys/contrib/tiff/TIFFUtilities.java#L240) method in TwelveMonkeys &quot;contrib&quot; module. You can also just use this method directly, if you like. Just beware the input is one of the TIFF orientation tag constant values, not an angle:\r\n\r\nIe. to rotate 90 degrees (assuming static imports for readability):\r\n\r\n```java\r\nBufferedImage original;\r\n\r\nBufferedImage rotated = applyOrientation(original, ORIENTATION_RIGHTTOP); // 6\r\n```\r\n\r\n---\r\n\r\nFor the more general topic *&quot;How can I create a BufferedImage for a TIFF CMYK image&quot;*, the quick answer is use [the constructor that takes a `WritableRaster` and a `ColorModel` as argument](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-java.awt.image.ColorModel-java.awt.image.WritableRaster-boolean-java.util.Hashtable-) like this:\r\n\r\n```java\r\nBufferedImage original;\r\n\r\nColorModel cm = original.getColorModel();\r\nWritableRaster raster = cm.createCompatibleWritableRaster(newWidth, newHeight);\r\nBufferedImage image = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\r\n```\r\n\r\nYou have to use this constructor, as any CMYK `BufferedImage` has to be `TYPE_CUSTOM` (the constant value 0). And the `BufferedImage`  constructor taking a type argument does not allow `TYPE_CUSTOM` (after all, which of the countless possible custom types would that be?). ","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>To rotate a <code>BufferedImage</code> in Java, the normal way would be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html\" rel=\"nofollow noreferrer\"><code>AffineTransformOp</code></a>. This will allow you to rotate any image without having to create a new image of the same type up front.</p>\n<p>For an example see the <a href=\"https://github.com/haraldk/TwelveMonkeys/blob/77a1745106df765193f9c9a514aac1b6f4c9e035/contrib/src/main/java/com/twelvemonkeys/contrib/tiff/TIFFUtilities.java#L240\" rel=\"nofollow noreferrer\"><code>TIFFUtilities.applyOrientation</code></a> method in TwelveMonkeys &quot;contrib&quot; module. You can also just use this method directly, if you like. Just beware the input is one of the TIFF orientation tag constant values, not an angle:</p>\n<p>Ie. to rotate 90 degrees (assuming static imports for readability):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage original;\n\nBufferedImage rotated = applyOrientation(original, ORIENTATION_RIGHTTOP); // 6\n</code></pre>\n<hr />\n<p>For the more general topic <em>&quot;How can I create a BufferedImage for a TIFF CMYK image&quot;</em>, the quick answer is use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-java.awt.image.ColorModel-java.awt.image.WritableRaster-boolean-java.util.Hashtable-\" rel=\"nofollow noreferrer\">the constructor that takes a <code>WritableRaster</code> and a <code>ColorModel</code> as argument</a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage original;\n\nColorModel cm = original.getColorModel();\nWritableRaster raster = cm.createCompatibleWritableRaster(newWidth, newHeight);\nBufferedImage image = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\n</code></pre>\n<p>You have to use this constructor, as any CMYK <code>BufferedImage</code> has to be <code>TYPE_CUSTOM</code> (the constant value 0). And the <code>BufferedImage</code>  constructor taking a type argument does not allow <code>TYPE_CUSTOM</code> (after all, which of the countless possible custom types would that be?).</p>\n"}],"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77501321,"answer_count":2,"score":1,"last_activity_date":1700640121,"creation_date":1700127245,"question_id":77493677,"body_markdown":"I need to rotate my TIFF image with color space CMYK. Standard Java ImageIO doesn&#39;t support CMYK TIFF images so I used TwelveMonkeys plugin. But it didn&#39;t help. When I tried to rotate my image I faced with an exception.\r\n\r\nI do the following:\r\n```\r\ntry (InputStream is = new ByteArrayInputStream(bytes);\r\n        ImageInputStream iis = ImageIO.createImageInputStream(is)) {\r\n      Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\r\n\r\n      if (!iter.hasNext()) {\r\n        throw new RuntimeException(&quot;Image type is not supported&quot;);\r\n      }\r\n\r\n      ImageReader reader = iter.next();\r\n      BufferedImage bi;\r\n      try {\r\n        reader.setInput(iis);\r\n        bi = reader.read(0);\r\n      } finally {\r\n        reader.dispose();\r\n      }\r\n      int type = bi.getType();\r\n      BufferedImage newBi;\r\n      if (angle == 90 || angle == 270) {\r\n        newBi= new BufferedImage(height, width, type);\r\n      } else {\r\n        newBi= new BufferedImage(width, height, type);\r\n      }\r\n      //writing the image content to new buffered image\r\n}\r\n```\r\nBut it throws `java.lang.IllegalArgumentException: Unknown image type 0`. How can I create a BufferedImage for TIFF CMYK image? Or at least how can I rotate TIFF CMYK image?","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>I need to rotate my TIFF image with color space CMYK. Standard Java ImageIO doesn't support CMYK TIFF images so I used TwelveMonkeys plugin. But it didn't help. When I tried to rotate my image I faced with an exception.</p>\n<p>I do the following:</p>\n<pre><code>try (InputStream is = new ByteArrayInputStream(bytes);\n        ImageInputStream iis = ImageIO.createImageInputStream(is)) {\n      Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\n\n      if (!iter.hasNext()) {\n        throw new RuntimeException(&quot;Image type is not supported&quot;);\n      }\n\n      ImageReader reader = iter.next();\n      BufferedImage bi;\n      try {\n        reader.setInput(iis);\n        bi = reader.read(0);\n      } finally {\n        reader.dispose();\n      }\n      int type = bi.getType();\n      BufferedImage newBi;\n      if (angle == 90 || angle == 270) {\n        newBi= new BufferedImage(height, width, type);\n      } else {\n        newBi= new BufferedImage(width, height, type);\n      }\n      //writing the image content to new buffered image\n}\n</code></pre>\n<p>But it throws <code>java.lang.IllegalArgumentException: Unknown image type 0</code>. How can I create a BufferedImage for TIFF CMYK image? Or at least how can I rotate TIFF CMYK image?</p>\n"},{"tags":["java","mysql","indexing","h2","unique-constraint"],"answers":[{"tags":[],"owner":{"account_id":12379030,"reputation":150,"user_id":9025520,"display_name":"Federico Bassini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700640076,"creation_date":1700640076,"answer_id":77528219,"question_id":63404188,"body_markdown":"I&#39;m occured in the same problem and I found this question so I can share my workaround.\r\n\r\nThe only way that I found is to ignore che change set where the index is created in the h2 context with `dbms=&quot;!h2&quot;`\r\n```\r\n    &lt;changeSet id=&quot;index-creation&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nNow you have two choice:\r\n\r\n 1. Create a changeset with an index with different name for the h2 context:\r\n```\r\n    &lt;changeSet id=&quot;index-creation-test&quot; author=&quot;ffex&quot; dbms=&quot;h2&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n2. Create a changeset with the drop of the index and a create index in every context. I choose this one because is more simple if the DB in the main context and the test context are the same.\r\n```\r\n    &lt;changeSet id=&quot;index-drop&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\r\n        &lt;dropIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n    &lt;changeSet id=&quot;index-creation-new&quot; author=&quot;ffex&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nYou can use also the attribute `contextFilter` to control the execution of the changesets in contexts.","title":"Workaround to h2 database unique index name","body":"<p>I'm occured in the same problem and I found this question so I can share my workaround.</p>\n<p>The only way that I found is to ignore che change set where the index is created in the h2 context with <code>dbms=&quot;!h2&quot;</code></p>\n<pre><code>    &lt;changeSet id=&quot;index-creation&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>Now you have two choice:</p>\n<ol>\n<li>Create a changeset with an index with different name for the h2 context:</li>\n</ol>\n<pre><code>    &lt;changeSet id=&quot;index-creation-test&quot; author=&quot;ffex&quot; dbms=&quot;h2&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Create a changeset with the drop of the index and a create index in every context. I choose this one because is more simple if the DB in the main context and the test context are the same.</li>\n</ol>\n<pre><code>    &lt;changeSet id=&quot;index-drop&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\n        &lt;dropIndex ... /&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet id=&quot;index-creation-new&quot; author=&quot;ffex&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>You can use also the attribute <code>contextFilter</code> to control the execution of the changesets in contexts.</p>\n"}],"owner":{"account_id":4054629,"reputation":1622,"user_id":3333052,"accept_rate":91,"display_name":"kadamb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1700640076,"creation_date":1597358776,"question_id":63404188,"body_markdown":"I have a java application which uses Liquibase for migration and till now was using MySQL for running test cases.\r\n\r\nI want to run the test cases with the h2 database. For that, I made required changes in JDBC config. But when I ran the `mvn test`, I get the following error :\r\n\r\n&gt; Index &quot;idx_workflow_id&quot; already exists; SQL statement:\r\n\r\nOn debugging I found out two tables were having an index with the same name: `idx_workflow_id`, and h2 database has some constraint of having unique index names in the database.\r\n\r\nNow the problem is the DB structure is already present in staging and prod, and changing the index name is not an option.\r\n\r\nIs there any way where I can run the migrations for h2 database, either without creating an index or ignoring them. Or some config change, which would allow index with the same name in DB.\r\n\r\nconfig:\r\n\r\n```\r\ndatabase:\r\n    driverClass: org.h2.Driver\r\n    url: &quot;jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_UPPER=false;IGNORECASE=TRUE;DB_CLOSE_DELAY=-1&quot;\r\n    maxWaitForConnection: 1s\r\n    minSize: ${MIN_DB_CONNECTIONS:-10}\r\n    maxSize: ${MAX_DB_CONNECTIONS:-100}\r\n    defaultTransactionIsolation: READ_COMMITTED\r\n    checkConnectionWhileIdle: false\r\n    checkConnectionOnBorrow: true\r\n    checkConnectionOnConnect: true\r\n    validationQuery: &quot;SELECT 1&quot;\r\n    properties:\r\n      hibernate.dialect: org.hibernate.dialect.H2Dialect\r\n      hibernate.show_sql: false\r\n      hibernate.hbm2ddl.auto: none\r\n      hibernate.session.events.log: false\r\n      hibernate.generate_statistics: true\r\n      org.hibernate.stat: INFO\r\n      charSet: UTF-8\r\n```","title":"Workaround to h2 database unique index name","body":"<p>I have a java application which uses Liquibase for migration and till now was using MySQL for running test cases.</p>\n<p>I want to run the test cases with the h2 database. For that, I made required changes in JDBC config. But when I ran the <code>mvn test</code>, I get the following error :</p>\n<blockquote>\n<p>Index &quot;idx_workflow_id&quot; already exists; SQL statement:</p>\n</blockquote>\n<p>On debugging I found out two tables were having an index with the same name: <code>idx_workflow_id</code>, and h2 database has some constraint of having unique index names in the database.</p>\n<p>Now the problem is the DB structure is already present in staging and prod, and changing the index name is not an option.</p>\n<p>Is there any way where I can run the migrations for h2 database, either without creating an index or ignoring them. Or some config change, which would allow index with the same name in DB.</p>\n<p>config:</p>\n<pre><code>database:\n    driverClass: org.h2.Driver\n    url: &quot;jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_UPPER=false;IGNORECASE=TRUE;DB_CLOSE_DELAY=-1&quot;\n    maxWaitForConnection: 1s\n    minSize: ${MIN_DB_CONNECTIONS:-10}\n    maxSize: ${MAX_DB_CONNECTIONS:-100}\n    defaultTransactionIsolation: READ_COMMITTED\n    checkConnectionWhileIdle: false\n    checkConnectionOnBorrow: true\n    checkConnectionOnConnect: true\n    validationQuery: &quot;SELECT 1&quot;\n    properties:\n      hibernate.dialect: org.hibernate.dialect.H2Dialect\n      hibernate.show_sql: false\n      hibernate.hbm2ddl.auto: none\n      hibernate.session.events.log: false\n      hibernate.generate_statistics: true\n      org.hibernate.stat: INFO\n      charSet: UTF-8\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"score":0,"creation_date":1486375798,"post_id":42064968,"comment_id":71301693,"body_markdown":"do you have any database driver on classpath? Which spring boot starters do you use? if you do, remove it. It will stop any db-autoconfiguration magic.","body":"do you have any database driver on classpath? Which spring boot starters do you use? if you do, remove it. It will stop any db-autoconfiguration magic."},{"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"score":0,"creation_date":1486377602,"post_id":42064968,"comment_id":71302836,"body_markdown":"@BartoszBilicki I have removed all jpa starter dependencies. it works now, thx. although I still don&#39;t know, why excluding the classes does not work for the test...","body":"@BartoszBilicki I have removed all jpa starter dependencies. it works now, thx. although I still don&#39;t know, why excluding the classes does not work for the test..."}],"answers":[{"tags":[],"owner":{"account_id":6214010,"reputation":753,"user_id":4839424,"display_name":"Florian Schmitt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486375944,"creation_date":1486375944,"answer_id":42065170,"question_id":42064968,"body_markdown":"The `@SpringBootApplication` annotation has an exclude property, which you should use in favor of `@EnableAutoConfiguration(exclude = ...)` in this case. If you use it, the `@SpringBootTest` annotated tests should enforce the exclude correctly. \r\n\r\n[Spring Boot API - SpringBootApplication][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>The <code>@SpringBootApplication</code> annotation has an exclude property, which you should use in favor of <code>@EnableAutoConfiguration(exclude = ...)</code> in this case. If you use it, the <code>@SpringBootTest</code> annotated tests should enforce the exclude correctly. </p>\n\n<p><a href=\"http://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\" rel=\"nofollow noreferrer\">Spring Boot API - SpringBootApplication</a></p>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563388321,"creation_date":1563388321,"answer_id":57082228,"question_id":42064968,"body_markdown":"I&#39;m had this issue with version 2.0.9.RELEASE, which I have to use to stay in compliance with my company standards.  What worked for me was:\r\n\r\n    @SpringBootTest(properties=&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;)\r\n\r\nI can&#39;t say for certain if this is an issue with @EnableAutoConfiguration in my version of Springboot, but with version 2.1.5.RELEASE, I do not have to set the property with the @SpringBootTest to make this work.","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>I'm had this issue with version 2.0.9.RELEASE, which I have to use to stay in compliance with my company standards.  What worked for me was:</p>\n\n<pre><code>@SpringBootTest(properties=\"spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\")\n</code></pre>\n\n<p>I can't say for certain if this is an issue with @EnableAutoConfiguration in my version of Springboot, but with version 2.1.5.RELEASE, I do not have to set the property with the @SpringBootTest to make this work.</p>\n"}],"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10734,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1700640060,"creation_date":1486375330,"question_id":42064968,"body_markdown":"I want to configure a Spring Boot Application so that no DB is used at all.\r\nSo I have annotated my Application class for excluding JPA autoconfig classes:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n    public class Application {\r\n    \r\n        public static void main(final String... args) {\r\n            run(Application.class, args);\r\n        }\r\n    }\r\n\r\nThis works fine when the service is run standalone\r\n\r\nUnfortunately my test classe seems to ignore the annotation, although I use the Application class for my test\r\n\r\n    @Slf4j\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class SwaggerJsonExistenceTest {\r\n        ...\r\n    }\r\n\r\nThe test fails with the following error message\r\n\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;dataSource&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalStateException: Cannot\r\n&gt; determine embedded database for tests. If you want an embedded\r\n&gt; database please put a supported one on the classpath.\r\n\r\nUpdate: \r\nThere are no DB drivers on the classpath.\r\n\r\norg.springframework.boot:spring-boot-starter-data-jpa is used for testing (included via testCompile directive in gradle)\r\n\r\nHow has the test to be configured so that it does not use db-related autoconfiguration?\r\n\r\nFix: I have removed all jpa starter dependencies (as no DB is needed), so that datasource autoconfig is not done at all.\r\n\r\n","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>I want to configure a Spring Boot Application so that no DB is used at all.\nSo I have annotated my Application class for excluding JPA autoconfig classes:</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\npublic class Application {\n\n    public static void main(final String... args) {\n        run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>This works fine when the service is run standalone</p>\n\n<p>Unfortunately my test classe seems to ignore the annotation, although I use the Application class for my test</p>\n\n<pre><code>@Slf4j\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class SwaggerJsonExistenceTest {\n    ...\n}\n</code></pre>\n\n<p>The test fails with the following error message</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.factory.BeanCreationException:\n  Error creating bean with name 'dataSource': Invocation of init method\n  failed; nested exception is java.lang.IllegalStateException: Cannot\n  determine embedded database for tests. If you want an embedded\n  database please put a supported one on the classpath.</p>\n</blockquote>\n\n<p>Update: \nThere are no DB drivers on the classpath.</p>\n\n<p>org.springframework.boot:spring-boot-starter-data-jpa is used for testing (included via testCompile directive in gradle)</p>\n\n<p>How has the test to be configured so that it does not use db-related autoconfiguration?</p>\n\n<p>Fix: I have removed all jpa starter dependencies (as no DB is needed), so that datasource autoconfig is not done at all.</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":1250216,"reputation":18313,"user_id":1210760,"accept_rate":56,"display_name":"Iswanto San"},"score":1,"creation_date":1363932436,"post_id":15563770,"comment_id":22058947,"body_markdown":"[What have you tried?](http://mattgemmell.com/2008/12/08/what-have-you-tried/). Can you post it?","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>. Can you post it?"},{"owner":{"account_id":51337,"reputation":604,"user_id":153393,"display_name":"Rob Breidecker"},"score":1,"creation_date":1363932775,"post_id":15563770,"comment_id":22059039,"body_markdown":"http://stackoverflow.com/questions/6127648/writing-in-the-beginning-of-a-text-file-java","body":"<a href=\"http://stackoverflow.com/questions/6127648/writing-in-the-beginning-of-a-text-file-java\" title=\"writing in the beginning of a text file java\">stackoverflow.com/questions/6127648/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562253885,"creation_date":1363932629,"answer_id":15563824,"question_id":15563770,"body_markdown":"Read the file, add the header and save the file:\r\n\r\n    try{\r\n        BufferedReader in = new BufferedReader(new FileReader(yourFile));\r\n        String header = &quot;Your Header&quot;;\r\n        String content = &quot;&quot;;\r\n        while (in.ready()) {\r\n          content += in.readLine();\r\n        }\r\n        in.close();\r\n      \r\n        String output = header + System.getProperty(&quot;line.separator&quot;) + content;\r\n          \r\n        FileWriter fstream = new FileWriter(YourOutputFile);\r\n        BufferedWriter out = new BufferedWriter(fstream);\r\n        out.write(output);  \r\n        out.close();\r\n  \r\n      }catch (IOException e){\r\n        System.err.println(&quot;Error: &quot; + e.getMessage());\r\n      }\r\n\r\n\r\n","title":"How to Add header row in text file using java","body":"<p>Read the file, add the header and save the file:</p>\n\n<pre><code>try{\n    BufferedReader in = new BufferedReader(new FileReader(yourFile));\n    String header = \"Your Header\";\n    String content = \"\";\n    while (in.ready()) {\n      content += in.readLine();\n    }\n    in.close();\n\n    String output = header + System.getProperty(\"line.separator\") + content;\n\n    FileWriter fstream = new FileWriter(YourOutputFile);\n    BufferedWriter out = new BufferedWriter(fstream);\n    out.write(output);  \n    out.close();\n\n  }catch (IOException e){\n    System.err.println(\"Error: \" + e.getMessage());\n  }\n</code></pre>\n"}],"owner":{"account_id":1688730,"reputation":803,"user_id":1551515,"accept_rate":56,"display_name":"UmeshR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10777,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700640060,"creation_date":1363932338,"question_id":15563770,"body_markdown":"I have requirement to add header row in existing text file, is there any way to do it without affecting any other file format or structure. ","title":"How to Add header row in text file using java","body":"<p>I have requirement to add header row in existing text file, is there any way to do it without affecting any other file format or structure. </p>\n"},{"tags":["java","sql","oracle11g","oracle-sqldeveloper","oracle10g"],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135377,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700636653,"creation_date":1700636653,"answer_id":77527912,"question_id":77527695,"body_markdown":"In such cases, Oracle performs **implicit datatype conversion**. If it manages to do that, it will return result. Otherwise, it would fail.\r\n\r\nFor example, you could have compared `length &gt; &#39;A2&#39;`; as `A2` (a string) can&#39;t be converted to numeric value, you&#39;d get an error.\r\n\r\n    SQL&gt; select count(*) from dual where length(dummy) &gt; &#39;-25&#39;;\r\n    \r\n      COUNT(*)\r\n    ----------\r\n             1\r\n    \r\n    SQL&gt; select count(*) from dual where length(dummy) &gt; &#39;A2&#39;;\r\n    select count(*) from dual where length(dummy) &gt; &#39;A2&#39;\r\n                                                    *\r\n    ERROR at line 1:\r\n    ORA-01722: invalid number\r\n    \r\n    \r\n    SQL&gt;","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>In such cases, Oracle performs <strong>implicit datatype conversion</strong>. If it manages to do that, it will return result. Otherwise, it would fail.</p>\n<p>For example, you could have compared <code>length &gt; 'A2'</code>; as <code>A2</code> (a string) can't be converted to numeric value, you'd get an error.</p>\n<pre><code>SQL&gt; select count(*) from dual where length(dummy) &gt; '-25';\n\n  COUNT(*)\n----------\n         1\n\nSQL&gt; select count(*) from dual where length(dummy) &gt; 'A2';\nselect count(*) from dual where length(dummy) &gt; 'A2'\n                                                *\nERROR at line 1:\nORA-01722: invalid number\n\n\nSQL&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2623160,"reputation":91224,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700640036,"creation_date":1700639352,"answer_id":77528156,"question_id":77527695,"body_markdown":"Oracle applies implicit data conversion here as documented in [docs.oracle.com\\..\\Data-Type-Comparison-Rules.html](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Type-Comparison-Rules.html#GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B).\r\n\r\nIn my opinion, the explantion in the docs is rather poor:\r\n\r\n&gt;Oracle Database automatically converts a value from one data type to another when such a conversion makes sense.\r\n\r\nIn your query you compare numbers with strings. In this case, Oracle converts the string into a number implicitly. Why does this &quot;make sense&quot;? Because `where num_col &lt; &#39;012&#39;` with num_col = 1 would return false, if converted to `where &#39;1&#39; &lt; &#39;012&#39;`, because &#39;1&#39; comes after &#39;0&#39; in string sorts, whereas `where 1 &lt; 12` returns true as expected.\r\n\r\nOracle recommends to always convert explicitly (or better avoid the conversion in the first place by using the appropriate data types for table columns and the appropriate literal type as well).\r\n\r\nIf you rely on implicit conversion, it may fail unexpectedly. With numbers, this can easily happen for instance, when the session setting for the decimal separator is different from what you expect. `where num_col &lt; &#39;1.0&#39;` can fail, when used by a person who uses the comma as the decimal separator. This becomes even more important, when you have queries in PL/SQL functions, procedures or packages, because the code would compile with `where num_col &lt; &#39;1,0&#39;`, while it would not with `where num_col &lt; 1,0`. So in the latter case you get an error when compiling and can fix the error immediately, in the former case you&#39;ll have broken code leading to a runtime error someday.\r\n\r\nAnother important point is that implicit conversion can slow down queries immensely. `where string_col = 1` will lead to the DBMS having to convert the string column to a number for each and every row in order to do the comparison, while it might be able to use an index with `where string_col = &#39;1&#39;` and get the desired rows instantly. (The real solution here would of course be to change the column type to the appropriate numeric data type instead.)","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>Oracle applies implicit data conversion here as documented in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Type-Comparison-Rules.html#GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B\" rel=\"nofollow noreferrer\">docs.oracle.com..\\Data-Type-Comparison-Rules.html</a>.</p>\n<p>In my opinion, the explantion in the docs is rather poor:</p>\n<blockquote>\n<p>Oracle Database automatically converts a value from one data type to another when such a conversion makes sense.</p>\n</blockquote>\n<p>In your query you compare numbers with strings. In this case, Oracle converts the string into a number implicitly. Why does this &quot;make sense&quot;? Because <code>where num_col &lt; '012'</code> with num_col = 1 would return false, if converted to <code>where '1' &lt; '012'</code>, because '1' comes after '0' in string sorts, whereas <code>where 1 &lt; 12</code> returns true as expected.</p>\n<p>Oracle recommends to always convert explicitly (or better avoid the conversion in the first place by using the appropriate data types for table columns and the appropriate literal type as well).</p>\n<p>If you rely on implicit conversion, it may fail unexpectedly. With numbers, this can easily happen for instance, when the session setting for the decimal separator is different from what you expect. <code>where num_col &lt; '1.0'</code> can fail, when used by a person who uses the comma as the decimal separator. This becomes even more important, when you have queries in PL/SQL functions, procedures or packages, because the code would compile with <code>where num_col &lt; '1,0'</code>, while it would not with <code>where num_col &lt; 1,0</code>. So in the latter case you get an error when compiling and can fix the error immediately, in the former case you'll have broken code leading to a runtime error someday.</p>\n<p>Another important point is that implicit conversion can slow down queries immensely. <code>where string_col = 1</code> will lead to the DBMS having to convert the string column to a number for each and every row in order to do the comparison, while it might be able to use an index with <code>where string_col = '1'</code> and get the desired rows instantly. (The real solution here would of course be to change the column type to the appropriate numeric data type instead.)</p>\n"}],"owner":{"account_id":20367323,"reputation":58,"user_id":15316123,"display_name":"The beginner guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77527912,"answer_count":2,"score":1,"last_activity_date":1700640036,"creation_date":1700633959,"question_id":77527695,"body_markdown":"Suppose I have a query like this (not so practical, and I&#39;m aware this is not the approach)\r\n\r\n```sql\r\nSELECT * \r\nFROM CO.CUSTOMERS \r\nWHERE CUSTOMER_ID = &#39;1&#39; \r\n  AND length((SELECT FULL_NAME \r\n              FROM CO.CUSTOMERS \r\n              WHERE CUSTOMER_ID=1)) &gt; &#39;35&#39;;\r\n\r\n-- in the last as you can see I&#39;m comparing it with a string ( i think )\r\n\r\n```\r\n\r\nBut still the above query is giving result, so I would like to know is the comparison is  being done with the string or the integer that is made out of string.\r\n","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>Suppose I have a query like this (not so practical, and I'm aware this is not the approach)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * \nFROM CO.CUSTOMERS \nWHERE CUSTOMER_ID = '1' \n  AND length((SELECT FULL_NAME \n              FROM CO.CUSTOMERS \n              WHERE CUSTOMER_ID=1)) &gt; '35';\n\n-- in the last as you can see I'm comparing it with a string ( i think )\n\n</code></pre>\n<p>But still the above query is giving result, so I would like to know is the comparison is  being done with the string or the integer that is made out of string.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"owner":{"account_id":29289685,"reputation":35,"user_id":22440483,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700640010,"creation_date":1700640010,"question_id":77528211,"body_markdown":"I have created kafka producer in spring. While sending message, at start broker/server are turned off. Before timeouts are reached I&#39;m starting kafka server.\r\n```\r\n  kafkaTemplate.send(producerRecord).get(30,TimeUnit.SECONDS);\r\n```   \r\n  Even then i get excpetion:\r\n\r\n**RMI TCP Connection(9)-192.168.201.1: [192.168.201.1] exception: \r\njavax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication**\r\n\r\nAt the end I get exception:\r\n\r\n**org.apache.kafka.common.errors.TimeoutException: Topic Dummy-Topic not present in metadata after 60000 ms.**\r\n\r\nSpring kafkaTemplate - don&#39;t want to reconnect while sending message ( when send is triggered kafka server is down) \r\n\r\nProps of my producer:\r\n```\r\n        final Map&lt;String, Object&gt; props = kafkaProperties.buildProducerProperties();\r\n        props.putAll(kafkaProperties.getProducer().buildProperties());\r\n        props.put(&quot;ReplyToTopicName&quot;,&quot;dummyResponseTopic&quot;);\r\n        props.put(ProducerConfig.RETRIES_CONFIG, 2);\r\n        props.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 100);\r\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\r\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 50);\r\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,15000);\r\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG, 20000);\r\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 60000);\r\n\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\r\n```\r\n\r\n","title":"Spring kafkaTemplate - don&#39;t want to reconnect while sending message ( when send is triggered kafka server is down)","body":"<p>I have created kafka producer in spring. While sending message, at start broker/server are turned off. Before timeouts are reached I'm starting kafka server.</p>\n<pre><code>  kafkaTemplate.send(producerRecord).get(30,TimeUnit.SECONDS);\n</code></pre>\n<p>Even then i get excpetion:</p>\n<p><strong>RMI TCP Connection(9)-192.168.201.1: [192.168.201.1] exception:\njavax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication</strong></p>\n<p>At the end I get exception:</p>\n<p><strong>org.apache.kafka.common.errors.TimeoutException: Topic Dummy-Topic not present in metadata after 60000 ms.</strong></p>\n<p>Spring kafkaTemplate - don't want to reconnect while sending message ( when send is triggered kafka server is down)</p>\n<p>Props of my producer:</p>\n<pre><code>        final Map&lt;String, Object&gt; props = kafkaProperties.buildProducerProperties();\n        props.putAll(kafkaProperties.getProducer().buildProperties());\n        props.put(&quot;ReplyToTopicName&quot;,&quot;dummyResponseTopic&quot;);\n        props.put(ProducerConfig.RETRIES_CONFIG, 2);\n        props.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 100);\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 50);\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,15000);\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG, 20000);\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 60000);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\n</code></pre>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":29961233,"reputation":1,"user_id":22960865,"display_name":"Rostand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700639992,"creation_date":1700603866,"question_id":77526156,"body_markdown":"I have to read a zipped file from hadoop directory with java spark but it brings me back file with special characters calculated by spark\r\n\r\nHow can I read a zipped file in hadoop with java spark please? \r\nbelow my code:\r\n\r\n    if(!isFileExist(sparkSession, path)) {\r\n                final String message = String.format(&quot;HdfsReader : readFile : error : Path does not exist, path=%s&quot;, path);\r\n                log.error(message);\r\n                throw new ApplicationConfigException(message);\r\n            }\r\n    \r\n            return sparkSession\r\n                    .read()\r\n                    .textFile(path).javaRDD();  ","title":"Java Spark Job get file and not only contents file from hadoop","body":"<p>I have to read a zipped file from hadoop directory with java spark but it brings me back file with special characters calculated by spark</p>\n<p>How can I read a zipped file in hadoop with java spark please?\nbelow my code:</p>\n<pre><code>if(!isFileExist(sparkSession, path)) {\n            final String message = String.format(&quot;HdfsReader : readFile : error : Path does not exist, path=%s&quot;, path);\n            log.error(message);\n            throw new ApplicationConfigException(message);\n        }\n\n        return sparkSession\n                .read()\n                .textFile(path).javaRDD();  \n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1619948238,"creation_date":1574060165,"answer_id":58909363,"question_id":58903820,"body_markdown":"It&#39;s the Conflict between two jars. You can either figure out which one you are not using from Modules_annotation 16.XXX and annotations-java5-XXXX jar files.\r\n\r\n\r\nI found out two ways to solve this.\r\n\r\n1. Excluding the JetBrains annotations module is a workaround; why is it in your project in the first place? Most likely, it got automatically added to your classpath by Android Studio when what you really wanted was Android&#39;s own annotations.\r\n\r\nSo, a better solution is to look for an org.jetbrains:annotations dependency in your build.gradle file[s], like this:\r\n\r\n    implementation &#39;org.jetbrains:annotations-java5:15.0&#39;\r\n\r\n...and remove it.\r\n\r\nIf 1 is not working \r\n\r\n2. Please add the following line in your Module level build.gradle.\r\n\r\n   \r\n\r\n \r\n\r\n \r\n\r\n&gt;     configurations {\r\n&gt;                 cleanedAnnotations\r\n&gt;                  compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n&gt;              }","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>It's the Conflict between two jars. You can either figure out which one you are not using from Modules_annotation 16.XXX and annotations-java5-XXXX jar files.</p>\n<p>I found out two ways to solve this.</p>\n<ol>\n<li>Excluding the JetBrains annotations module is a workaround; why is it in your project in the first place? Most likely, it got automatically added to your classpath by Android Studio when what you really wanted was Android's own annotations.</li>\n</ol>\n<p>So, a better solution is to look for an org.jetbrains:annotations dependency in your build.gradle file[s], like this:</p>\n<pre><code>implementation 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n<p>...and remove it.</p>\n<p>If 1 is not working</p>\n<ol start=\"2\">\n<li>Please add the following line in your Module level build.gradle.</li>\n</ol>\n<blockquote>\n<pre><code>configurations {\n            cleanedAnnotations\n             compile.exclude group: 'org.jetbrains' , module:'annotations'\n         }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2337672,"reputation":1772,"user_id":2049623,"accept_rate":45,"display_name":"Keval Langalia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613345429,"creation_date":1613345429,"answer_id":66201152,"question_id":58903820,"body_markdown":"It&#39;s a conflict between single artifact in two different lib/jar files. basically we need to remove the unused lib or remove the artifact from any one lib.\r\n\r\nStarting from [Kotlin 1.4][1] you no longer need the below dependency\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin&quot;\r\n\r\nSo removing this dependency will also solve the issue.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/whatsnew14.html#dependency-on-the-standard-library-added-by-default","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>It's a conflict between single artifact in two different lib/jar files. basically we need to remove the unused lib or remove the artifact from any one lib.</p>\n<p>Starting from <a href=\"https://kotlinlang.org/docs/whatsnew14.html#dependency-on-the-standard-library-added-by-default\" rel=\"noreferrer\">Kotlin 1.4</a> you no longer need the below dependency</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin&quot;\n</code></pre>\n<p>So removing this dependency will also solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":15976884,"reputation":575,"user_id":11529544,"display_name":"Alejandro Fort"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1629773127,"creation_date":1629773127,"answer_id":68901181,"question_id":58903820,"body_markdown":"[Harsh Mishra&#39;s][1] answer is correct, however latest versions of Android Studio no longer declare `org.jetbrains:annotations-java5:15.0` or `org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin` in your gradle dependencies and the use of **compile** was also replaced by **implementation**, with this your build.gradle should look like this:\r\n\r\n        plugins {\r\n\t        ...\r\n        }\r\n\r\n        android {\r\n\t        ...\r\n        }\r\n\r\n        configurations {\r\n            cleanedAnnotations\r\n            implementation.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n        }\r\n\r\n        dependencies {\r\n\t        ...\r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8385680","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p><a href=\"https://stackoverflow.com/users/8385680\">Harsh Mishra's</a> answer is correct, however latest versions of Android Studio no longer declare <code>org.jetbrains:annotations-java5:15.0</code> or <code>org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin</code> in your gradle dependencies and the use of <strong>compile</strong> was also replaced by <strong>implementation</strong>, with this your build.gradle should look like this:</p>\n<pre><code>    plugins {\n        ...\n    }\n\n    android {\n        ...\n    }\n\n    configurations {\n        cleanedAnnotations\n        implementation.exclude group: 'org.jetbrains' , module:'annotations'\n    }\n\n    dependencies {\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7124642,"reputation":441,"user_id":5447963,"display_name":"Anandu"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1634666225,"creation_date":1634666225,"answer_id":69635630,"question_id":58903820,"body_markdown":"I fixed the issue on mine by changing the \r\n\r\n    implementation &#39;androidx.room:room-compiler:2.4.0-beta01&#39;\r\nto \r\n\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.4.0-beta01&#39;\r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I fixed the issue on mine by changing the</p>\n<pre><code>implementation 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n<p>to</p>\n<pre><code>annotationProcessor 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20035041,"reputation":66,"user_id":14686958,"display_name":"agnostic-apollo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681413428,"creation_date":1681413428,"answer_id":76009074,"question_id":58903820,"body_markdown":"For a  `org.jetbrains:annotations-java5` dependency in a library, would need to add `annotations-java5` as module instead of `annotations`.\r\n\r\n```\r\nconfigurations {\r\n        cleanedAnnotations\r\n        implementation.exclude group: &quot;org.jetbrains&quot;, module: &quot;annotations-java5&quot;\r\n    }\r\n```","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>For a  <code>org.jetbrains:annotations-java5</code> dependency in a library, would need to add <code>annotations-java5</code> as module instead of <code>annotations</code>.</p>\n<pre><code>configurations {\n        cleanedAnnotations\n        implementation.exclude group: &quot;org.jetbrains&quot;, module: &quot;annotations-java5&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28614914,"reputation":11,"user_id":21909142,"display_name":"Rabia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684302646,"creation_date":1684262382,"answer_id":76266168,"question_id":58903820,"body_markdown":" I change it  implementation `(&quot;androidx.room:room-compiler:$room_version&quot;)` with this\r\n `annotationProcessor (&quot;androidx.room:room-compiler:2.4.0-beta01&quot;)`","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I change it  implementation <code>(&quot;androidx.room:room-compiler:$room_version&quot;)</code> with this\n<code>annotationProcessor (&quot;androidx.room:room-compiler:2.4.0-beta01&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686738272,"creation_date":1686738272,"answer_id":76472516,"question_id":58903820,"body_markdown":"None of the suggestions worked for me from out of the box, though the second part of the accepted answer is correct - it depends on the specifics of the build.gradle implementation. In order to be safe with almost every implementation do this: \r\n```\r\nconfigurations {\r\n    cleanedAnnotations\r\n    compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n    api.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n    implementation.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n}\r\n\r\n```\r\nThus making sure all the major dependency inclusion ways are covered.\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>None of the suggestions worked for me from out of the box, though the second part of the accepted answer is correct - it depends on the specifics of the build.gradle implementation. In order to be safe with almost every implementation do this:</p>\n<pre><code>configurations {\n    cleanedAnnotations\n    compile.exclude group: 'org.jetbrains' , module:'annotations'\n    api.exclude group: 'org.jetbrains' , module:'annotations'\n    implementation.exclude group: 'org.jetbrains' , module:'annotations'\n}\n\n</code></pre>\n<p>Thus making sure all the major dependency inclusion ways are covered.</p>\n"},{"tags":[],"owner":{"account_id":24022620,"reputation":11,"user_id":18004675,"display_name":"Eric Nkunda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353238,"creation_date":1687353238,"answer_id":76523697,"question_id":58903820,"body_markdown":"i faced this problem too. After spending much time searching for result, I have replaced  implementation &#39;androidx.room:room-compiler:2.4.2&#39; with annotationProcessor  &#39;androidx.room:room-compiler:2.4.2&#39; and the problem got solved","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>i faced this problem too. After spending much time searching for result, I have replaced  implementation 'androidx.room:room-compiler:2.4.2' with annotationProcessor  'androidx.room:room-compiler:2.4.2' and the problem got solved</p>\n"},{"tags":[],"owner":{"account_id":3171366,"reputation":2879,"user_id":2680254,"accept_rate":54,"display_name":"Gilberto Ibarra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693542723,"creation_date":1693542723,"answer_id":77020522,"question_id":58903820,"body_markdown":"I put by error the same library twice. \r\n\r\n    implementation(Libs.AndroidX.room)\r\n    implementation(Libs.AndroidX.room)\r\n\r\nI remove one, and everything is working fine now. \r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I put by error the same library twice.</p>\n<pre><code>implementation(Libs.AndroidX.room)\nimplementation(Libs.AndroidX.room)\n</code></pre>\n<p>I remove one, and everything is working fine now.</p>\n"},{"tags":[],"owner":{"account_id":29141319,"reputation":11,"user_id":22324220,"display_name":"Zama Metshin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700639919,"creation_date":1700639919,"answer_id":77528208,"question_id":58903820,"body_markdown":"I changed \r\n`implementation(&quot;androidx.room:room-compiler:2.6.0&quot;)`\r\nto \r\n`kapt(&quot;androidx.room:room-compiler:2.6.0&quot;)`\r\n\r\nI hope it will help, if somebody get the same situation","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I changed\n<code>implementation(&quot;androidx.room:room-compiler:2.6.0&quot;)</code>\nto\n<code>kapt(&quot;androidx.room:room-compiler:2.6.0&quot;)</code></p>\n<p>I hope it will help, if somebody get the same situation</p>\n"}],"owner":{"account_id":17119113,"reputation":381,"user_id":12387818,"display_name":"Khương Mai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29257,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":58909363,"answer_count":10,"score":34,"last_activity_date":1700639919,"creation_date":1574015636,"question_id":58903820,"body_markdown":"Text of the output:\r\n\r\n     Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    1 exception was raised by workers:\r\n      java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.Identifier found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>Text of the output:</p>\n\n<pre><code> Execution failed for task ':app:checkDebugDuplicateClasses'.\n1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.Identifier found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n</code></pre>\n"},{"tags":["java","testing","linked-list","output"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700639112,"creation_date":1700639112,"answer_id":77528127,"question_id":77527099,"body_markdown":"You have chosen to implement a doubly linked list, with two dummy (sentinal) nodes, `head` and `tail`.\r\n\r\nThis is fine, but there are several issues in your code:\r\n\r\n* In `get`, `addAtIndex` and `deleteAtIndex`, you start with `curr` equal to `head`, which means that if the given index is 0, `curr` will still be that `head`, while the node at index 0 really is the *successor* of your `head`. `head` doesn&#39;t count as node, as it is a dummy node. So you should start with `curr = head.next` instead of `curr = head`. As a consequence, in `deleteAtIndex`, you don&#39;t need the last part of the `if` condition (`curr.prev != null`), as this is now guaranteed.\r\n\r\n* In the same three functions you have a loop condition that says `tail != null`, but this condition is always true. `tail` never is assigned anything else after its initialisation in the constructor (and it shouldn&#39;t). The loop condition should instead test `curr != null`.\r\n\r\n* In `addAtHead` you have wired the nodes incorrectly. The assignment `head.next = newHead;` should happen *after* `newHead.next = head.next;`, because as you have it now, you make `newHead.next` to become equal to `newHead`, introducing a cycle in your list.\r\n\r\n* In `addAtTail` the order of assignments is also in the wrong order. You make `newTail.prev` equal to `newTail`, introducing a cycle.\r\n\r\n* In `addAtIndex` there are two wrong assignments. The first two would attempt to *exclude* `curr` from the list, but it should become the neighbor of the new node. Therefore you should do `newNode.next = curr;` instead of `newNode.next = curr.next;`. `curr.next.prev = newNode;` is also wrong, as this link should not be updated. It could even lead to an exception, because `curr` could be equal to the tail node, which has a `null` for its `next` field. Instead you should do `curr.prev = newNode;`\r\n\r\n\r\nNot a problem, but in `get` you have declared an unused variable `i`. You can drop it.\r\n\r\nHere is your code with the above corrections applied to it (see comments in code):\r\n\r\n```java\r\nclass DoublyListNode {\r\n    int val;\r\n    DoublyListNode next;\r\n    DoublyListNode prev;\r\n\r\n    public DoublyListNode(int val) {\r\n        this.val = val;\r\n        this.next = null;\r\n        this.prev = null;\r\n    } \r\n}\r\n\r\nclass MyLinkedList {    \r\n    DoublyListNode head;\r\n    DoublyListNode tail;\r\n    \r\n    public MyLinkedList() {\r\n        head = new DoublyListNode(-1);\r\n        tail = new DoublyListNode(-1);\r\n\r\n        head.next = tail;\r\n        tail.prev = head;\r\n    }\r\n    \r\n    public int get(int index) {\r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n        \r\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if (index == 0 &amp;&amp; curr != null) {\r\n            return curr.val;\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public void addAtHead(int val) {\r\n        DoublyListNode newHead = new DoublyListNode(val);\r\n        // Fixed the order of the assignments: \r\n        newHead.next = head.next;\r\n        newHead.prev = head;\r\n        head.next.prev = newHead;\r\n        head.next = newHead;\r\n    }\r\n    \r\n    public void addAtTail(int val) {\r\n        DoublyListNode newTail = new DoublyListNode(val);\r\n        // Fixed the order of the assignments: \r\n        newTail.next = tail;\r\n        newTail.prev = tail.prev;\r\n        tail.prev.next = newTail;\r\n        tail.prev = newTail;\r\n    }\r\n    \r\n    public void addAtIndex(int index, int val) {\r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n\r\n        while (curr != null &amp;&amp; index &gt; 0){ // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if (index == 0 &amp;&amp; curr != null) {\r\n            DoublyListNode newNode = new DoublyListNode(val);\r\n            newNode.prev = curr.prev;\r\n            newNode.next = curr; // Corrected assignment\r\n            curr.prev.next = newNode;\r\n            curr.prev = newNode; // Corrected assignment\r\n        }\r\n    }\r\n    \r\n    public void deleteAtIndex(int index) {            \r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n\r\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n        if (index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null) { // Removed obsolete condition\r\n            curr.prev.next = curr.next;\r\n            curr.next.prev = curr.prev;\r\n        }\r\n    }\r\n}    \r\n```\r\n\r\nAs a next step, you could try to remove some code repetition, as you have essentially the same loop in three of these methods.","title":"Design Linked List - Leetcode #707 - getting wrong output","body":"<p>You have chosen to implement a doubly linked list, with two dummy (sentinal) nodes, <code>head</code> and <code>tail</code>.</p>\n<p>This is fine, but there are several issues in your code:</p>\n<ul>\n<li><p>In <code>get</code>, <code>addAtIndex</code> and <code>deleteAtIndex</code>, you start with <code>curr</code> equal to <code>head</code>, which means that if the given index is 0, <code>curr</code> will still be that <code>head</code>, while the node at index 0 really is the <em>successor</em> of your <code>head</code>. <code>head</code> doesn't count as node, as it is a dummy node. So you should start with <code>curr = head.next</code> instead of <code>curr = head</code>. As a consequence, in <code>deleteAtIndex</code>, you don't need the last part of the <code>if</code> condition (<code>curr.prev != null</code>), as this is now guaranteed.</p>\n</li>\n<li><p>In the same three functions you have a loop condition that says <code>tail != null</code>, but this condition is always true. <code>tail</code> never is assigned anything else after its initialisation in the constructor (and it shouldn't). The loop condition should instead test <code>curr != null</code>.</p>\n</li>\n<li><p>In <code>addAtHead</code> you have wired the nodes incorrectly. The assignment <code>head.next = newHead;</code> should happen <em>after</em> <code>newHead.next = head.next;</code>, because as you have it now, you make <code>newHead.next</code> to become equal to <code>newHead</code>, introducing a cycle in your list.</p>\n</li>\n<li><p>In <code>addAtTail</code> the order of assignments is also in the wrong order. You make <code>newTail.prev</code> equal to <code>newTail</code>, introducing a cycle.</p>\n</li>\n<li><p>In <code>addAtIndex</code> there are two wrong assignments. The first two would attempt to <em>exclude</em> <code>curr</code> from the list, but it should become the neighbor of the new node. Therefore you should do <code>newNode.next = curr;</code> instead of <code>newNode.next = curr.next;</code>. <code>curr.next.prev = newNode;</code> is also wrong, as this link should not be updated. It could even lead to an exception, because <code>curr</code> could be equal to the tail node, which has a <code>null</code> for its <code>next</code> field. Instead you should do <code>curr.prev = newNode;</code></p>\n</li>\n</ul>\n<p>Not a problem, but in <code>get</code> you have declared an unused variable <code>i</code>. You can drop it.</p>\n<p>Here is your code with the above corrections applied to it (see comments in code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DoublyListNode {\n    int val;\n    DoublyListNode next;\n    DoublyListNode prev;\n\n    public DoublyListNode(int val) {\n        this.val = val;\n        this.next = null;\n        this.prev = null;\n    } \n}\n\nclass MyLinkedList {    \n    DoublyListNode head;\n    DoublyListNode tail;\n    \n    public MyLinkedList() {\n        head = new DoublyListNode(-1);\n        tail = new DoublyListNode(-1);\n\n        head.next = tail;\n        tail.prev = head;\n    }\n    \n    public int get(int index) {\n        DoublyListNode curr = head.next; // This is the node at index 0\n        \n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n\n        if (index == 0 &amp;&amp; curr != null) {\n            return curr.val;\n        }\n        return -1;\n    }\n    \n    public void addAtHead(int val) {\n        DoublyListNode newHead = new DoublyListNode(val);\n        // Fixed the order of the assignments: \n        newHead.next = head.next;\n        newHead.prev = head;\n        head.next.prev = newHead;\n        head.next = newHead;\n    }\n    \n    public void addAtTail(int val) {\n        DoublyListNode newTail = new DoublyListNode(val);\n        // Fixed the order of the assignments: \n        newTail.next = tail;\n        newTail.prev = tail.prev;\n        tail.prev.next = newTail;\n        tail.prev = newTail;\n    }\n    \n    public void addAtIndex(int index, int val) {\n        DoublyListNode curr = head.next; // This is the node at index 0\n\n        while (curr != null &amp;&amp; index &gt; 0){ // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n\n        if (index == 0 &amp;&amp; curr != null) {\n            DoublyListNode newNode = new DoublyListNode(val);\n            newNode.prev = curr.prev;\n            newNode.next = curr; // Corrected assignment\n            curr.prev.next = newNode;\n            curr.prev = newNode; // Corrected assignment\n        }\n    }\n    \n    public void deleteAtIndex(int index) {            \n        DoublyListNode curr = head.next; // This is the node at index 0\n\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n        if (index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null) { // Removed obsolete condition\n            curr.prev.next = curr.next;\n            curr.next.prev = curr.prev;\n        }\n    }\n}    \n</code></pre>\n<p>As a next step, you could try to remove some code repetition, as you have essentially the same loop in three of these methods.</p>\n"}],"owner":{"account_id":27027509,"reputation":21,"user_id":20584510,"display_name":"Marcus Mousavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700639663,"creation_date":1700622156,"question_id":77527099,"body_markdown":"I am trying to solve LeetCode problem [707. Design Linked List](https://leetcode.com/problems/design-linked-list/):\r\n\r\n&gt; Design your implementation of the linked list. You can choose to use a singly or doubly linked list.\r\n&gt; \r\n&gt; A node in a singly linked list should have two attributes: `val` and `next`. `val` is the value of the current node, and `next` is a pointer/reference to the next node.\r\n&gt; \r\n&gt; If you want to use the doubly linked list, you will need one more attribute `prev` to indicate the previous node in the linked list. Assume all nodes in the linked list are **0-indexed**.\r\n&gt; \r\n&gt; Implement the `MyLinkedList` class:\r\n&gt; \r\n&gt; * `MyLinkedList()` Initializes the `MyLinkedList` object.\r\n&gt; * `int get(int index)` Get the value of the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list. If the index is invalid, return -1.\r\n&gt; * `void addAtHead(int val)` Add a node of value `val` before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.\r\n&gt; * `void addAtTail(int val)` Append a node of value `val` as the last element of the linked list.\r\n&gt; * `void addAtIndex(int index, int val)` Add a node of value `val` before the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list. If `index` equals the length of the linked list, the node will be appended to the end of the linked list. If `index` is greater than the length, the node **will not be inserted**.\r\n&gt; * `void deleteAtIndex(int index)` Delete the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list, if the `index` is valid.\r\n&gt;\r\n&gt; ### Example 1:\r\n&gt; \r\n&gt; **Input**\r\n&gt; \r\n&gt; ```\r\n&gt; [&quot;MyLinkedList&quot;, &quot;addAtHead&quot;, &quot;addAtTail&quot;, &quot;addAtIndex&quot;, &quot;get&quot;, &quot;deleteAtIndex&quot;, &quot;get&quot;]\r\n&gt; [[], [1], [3], [1, 2], [1], [1], [1]]\r\n&gt; ```\r\n&gt; \r\n&gt; **Output**\r\n&gt; \r\n&gt; ```\r\n&gt; [null, null, null, null, 2, null, 3]\r\n&gt; ```\r\n&gt;\r\n&gt; **Explanation**\r\n&gt; \r\n&gt; ```\r\n&gt; MyLinkedList myLinkedList = new MyLinkedList();\r\n&gt; myLinkedList.addAtHead(1);\r\n&gt; myLinkedList.addAtTail(3);\r\n&gt; myLinkedList.addAtIndex(1, 2);    // linked list becomes 1-&gt;2-&gt;3\r\n&gt; myLinkedList.get(1);              // return 2\r\n&gt; myLinkedList.deleteAtIndex(1);    // now the linked list is 1-&gt;3\r\n&gt; myLinkedList.get(1);              // return 3\r\n&gt; ``` \r\n\r\nWondering what&#39;s wrong with my LinkedList here. \r\n\r\n\r\nCan&#39;t get it past the input:\r\n\r\n```\r\n[&quot;MyLinkedList&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;deleteAtIndex&quot;,&quot;addAtHead&quot;,&quot;addAtTail&quot;,&quot;get&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;addAtHead&quot;]\r\n\r\n[[],[7],[2],[1],[3,0],[2],[6],[4],[4],[4],[5,0],[6]]\r\n```\r\n\r\nwith my output as:\r\n\r\n```\r\n[null,null,null,null,null,null,null,null,6,null,null,null]\r\n```\r\n\r\nand the expected output as: \r\n\r\n```\r\n[null,null,null,null,null,null,null,null,4,null,null,null]\r\n```\r\n\r\nThis is my implementation:\r\n\r\n```\r\nclass DoublyListNode {   \r\n    int val;\r\n    DoublyListNode next;\r\n    DoublyListNode prev;\r\n\r\n    public DoublyListNode(int val) {\r\n        this.val = val;\r\n        this.next = null;\r\n        this.prev = null;\r\n    } \r\n}\r\n\r\nclass MyLinkedList {    \r\n\r\n    DoublyListNode head;\r\n    DoublyListNode tail;\r\n    \r\n    public MyLinkedList() {\r\n       head = new DoublyListNode(-1);\r\n       tail = new DoublyListNode(-1);\r\n\r\n       head.next = tail;\r\n       tail.prev = head;\r\n    }\r\n    \r\n    public int get(int index) {\r\n        DoublyListNode curr = head;\r\n        int i = 0;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;     \r\n        }\r\n\r\n        if(index == 0 &amp;&amp; curr != null){\r\n            return curr.val;\r\n        } \r\n        return -1;\r\n    }\r\n    \r\n    public void addAtHead(int val) {\r\n        DoublyListNode newHead = new DoublyListNode(val);\r\n        head.next.prev = newHead;\r\n        head.next = newHead;\r\n        newHead.next = head.next;\r\n        newHead.prev = head;\r\n    }\r\n    \r\n    public void addAtTail(int val) {\r\n        DoublyListNode newTail = new DoublyListNode(val);\r\n\r\n        tail.prev.next = newTail;\r\n        tail.prev = newTail;\r\n        newTail.next = tail;\r\n        newTail.prev = tail.prev;\r\n    }\r\n    \r\n    public void addAtIndex(int index, int val) {\r\n        DoublyListNode curr = head;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if(index == 0 &amp;&amp; curr != null){\r\n            DoublyListNode newNode = new DoublyListNode(val);\r\n            newNode.prev = curr.prev;\r\n            newNode.next = curr.next;\r\n            curr.prev.next = newNode;\r\n            curr.next.prev = newNode;\r\n        }\r\n    }\r\n    \r\n    public void deleteAtIndex(int index) {            \r\n        DoublyListNode curr = head;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n        if(index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null &amp;&amp; curr.prev != null){\r\n            curr.prev.next = curr.next;\r\n            curr.next.prev = curr.prev;\r\n        }\r\n    }\r\n}    \r\n\r\n/**\r\n * Your MyLinkedList object will be instantiated and called as such:\r\n * MyLinkedList obj = new MyLinkedList();\r\n * int param_1 = obj.get(index);\r\n * obj.addAtHead(val);\r\n * obj.addAtTail(val);\r\n * obj.addAtIndex(index,val);\r\n * obj.deleteAtIndex(index);\r\n */\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Design Linked List - Leetcode #707 - getting wrong output","body":"<p>I am trying to solve LeetCode problem <a href=\"https://leetcode.com/problems/design-linked-list/\" rel=\"nofollow noreferrer\">707. Design Linked List</a>:</p>\n<blockquote>\n<p>Design your implementation of the linked list. You can choose to use a singly or doubly linked list.</p>\n<p>A node in a singly linked list should have two attributes: <code>val</code> and <code>next</code>. <code>val</code> is the value of the current node, and <code>next</code> is a pointer/reference to the next node.</p>\n<p>If you want to use the doubly linked list, you will need one more attribute <code>prev</code> to indicate the previous node in the linked list. Assume all nodes in the linked list are <strong>0-indexed</strong>.</p>\n<p>Implement the <code>MyLinkedList</code> class:</p>\n<ul>\n<li><code>MyLinkedList()</code> Initializes the <code>MyLinkedList</code> object.</li>\n<li><code>int get(int index)</code> Get the value of the <code>index</code><sup>th</sup> node in the linked list. If the index is invalid, return -1.</li>\n<li><code>void addAtHead(int val)</code> Add a node of value <code>val</code> before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.</li>\n<li><code>void addAtTail(int val)</code> Append a node of value <code>val</code> as the last element of the linked list.</li>\n<li><code>void addAtIndex(int index, int val)</code> Add a node of value <code>val</code> before the <code>index</code><sup>th</sup> node in the linked list. If <code>index</code> equals the length of the linked list, the node will be appended to the end of the linked list. If <code>index</code> is greater than the length, the node <strong>will not be inserted</strong>.</li>\n<li><code>void deleteAtIndex(int index)</code> Delete the <code>index</code><sup>th</sup> node in the linked list, if the <code>index</code> is valid.</li>\n</ul>\n<h3>Example 1:</h3>\n<p><strong>Input</strong></p>\n<pre><code>[&quot;MyLinkedList&quot;, &quot;addAtHead&quot;, &quot;addAtTail&quot;, &quot;addAtIndex&quot;, &quot;get&quot;, &quot;deleteAtIndex&quot;, &quot;get&quot;]\n[[], [1], [3], [1, 2], [1], [1], [1]]\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[null, null, null, null, 2, null, 3]\n</code></pre>\n<p><strong>Explanation</strong></p>\n<pre><code>MyLinkedList myLinkedList = new MyLinkedList();\nmyLinkedList.addAtHead(1);\nmyLinkedList.addAtTail(3);\nmyLinkedList.addAtIndex(1, 2);    // linked list becomes 1-&gt;2-&gt;3\nmyLinkedList.get(1);              // return 2\nmyLinkedList.deleteAtIndex(1);    // now the linked list is 1-&gt;3\nmyLinkedList.get(1);              // return 3\n</code></pre>\n</blockquote>\n<p>Wondering what's wrong with my LinkedList here.</p>\n<p>Can't get it past the input:</p>\n<pre><code>[&quot;MyLinkedList&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;deleteAtIndex&quot;,&quot;addAtHead&quot;,&quot;addAtTail&quot;,&quot;get&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;addAtHead&quot;]\n\n[[],[7],[2],[1],[3,0],[2],[6],[4],[4],[4],[5,0],[6]]\n</code></pre>\n<p>with my output as:</p>\n<pre><code>[null,null,null,null,null,null,null,null,6,null,null,null]\n</code></pre>\n<p>and the expected output as:</p>\n<pre><code>[null,null,null,null,null,null,null,null,4,null,null,null]\n</code></pre>\n<p>This is my implementation:</p>\n<pre><code>class DoublyListNode {   \n    int val;\n    DoublyListNode next;\n    DoublyListNode prev;\n\n    public DoublyListNode(int val) {\n        this.val = val;\n        this.next = null;\n        this.prev = null;\n    } \n}\n\nclass MyLinkedList {    \n\n    DoublyListNode head;\n    DoublyListNode tail;\n    \n    public MyLinkedList() {\n       head = new DoublyListNode(-1);\n       tail = new DoublyListNode(-1);\n\n       head.next = tail;\n       tail.prev = head;\n    }\n    \n    public int get(int index) {\n        DoublyListNode curr = head;\n        int i = 0;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;     \n        }\n\n        if(index == 0 &amp;&amp; curr != null){\n            return curr.val;\n        } \n        return -1;\n    }\n    \n    public void addAtHead(int val) {\n        DoublyListNode newHead = new DoublyListNode(val);\n        head.next.prev = newHead;\n        head.next = newHead;\n        newHead.next = head.next;\n        newHead.prev = head;\n    }\n    \n    public void addAtTail(int val) {\n        DoublyListNode newTail = new DoublyListNode(val);\n\n        tail.prev.next = newTail;\n        tail.prev = newTail;\n        newTail.next = tail;\n        newTail.prev = tail.prev;\n    }\n    \n    public void addAtIndex(int index, int val) {\n        DoublyListNode curr = head;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;\n        }\n\n        if(index == 0 &amp;&amp; curr != null){\n            DoublyListNode newNode = new DoublyListNode(val);\n            newNode.prev = curr.prev;\n            newNode.next = curr.next;\n            curr.prev.next = newNode;\n            curr.next.prev = newNode;\n        }\n    }\n    \n    public void deleteAtIndex(int index) {            \n        DoublyListNode curr = head;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;\n        }\n        if(index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null &amp;&amp; curr.prev != null){\n            curr.prev.next = curr.next;\n            curr.next.prev = curr.prev;\n        }\n    }\n}    \n\n/**\n * Your MyLinkedList object will be instantiated and called as such:\n * MyLinkedList obj = new MyLinkedList();\n * int param_1 = obj.get(index);\n * obj.addAtHead(val);\n * obj.addAtTail(val);\n * obj.addAtIndex(index,val);\n * obj.deleteAtIndex(index);\n */\n</code></pre>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698750171,"creation_date":1698750171,"answer_id":77395328,"question_id":77393906,"body_markdown":"You can try\r\n\r\n```java\r\nRestAssured\r\n        .given()\r\n        .log().everything(true)\r\n        .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\r\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n        // When\r\n        .when()\r\n        .get(&quot;/posts/1&quot;)\r\n\r\n        // Then\r\n        .then()\r\n        .statusCode(200);\r\n```\r\n","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<p>You can try</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured\n        .given()\n        .log().everything(true)\n        .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n        // When\n        .when()\n        .get(&quot;/posts/1&quot;)\n\n        // Then\n        .then()\n        .statusCode(200);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700639550,"creation_date":1700639550,"answer_id":77528179,"question_id":77393906,"body_markdown":"&gt; Define a LogConfig configuration in the test method that prints a log\r\n&gt; regardless of whether the request succeeds or fails.\r\n\r\nYou mean print log of both request and response? then NO way to do it using `LogConfig`.\r\n\r\nSolution: use `RequestLoggingFilter` &amp; `ResponseLoggingFilter`, because `LogConfig` is just a shortcut for RequestLoggingFilter and ResponseLoggingFilter.\r\n\r\n```java\r\nRestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\r\n```\r\n\r\nor\r\n\r\n```java\r\nRestAssured\r\n        .given()\r\n        .filters(new RequestLoggingFilter(), new ResponseLoggingFilter())\r\n        ...\r\n```","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<blockquote>\n<p>Define a LogConfig configuration in the test method that prints a log\nregardless of whether the request succeeds or fails.</p>\n</blockquote>\n<p>You mean print log of both request and response? then NO way to do it using <code>LogConfig</code>.</p>\n<p>Solution: use <code>RequestLoggingFilter</code> &amp; <code>ResponseLoggingFilter</code>, because <code>LogConfig</code> is just a shortcut for RequestLoggingFilter and ResponseLoggingFilter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured\n        .given()\n        .filters(new RequestLoggingFilter(), new ResponseLoggingFilter())\n        ...\n</code></pre>\n"}],"owner":{"account_id":15693388,"reputation":1,"user_id":11323695,"display_name":"codenow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700639550,"creation_date":1698736665,"question_id":77393906,"body_markdown":"RestAssured api testing demo\r\n \r\n```\r\npackage com.example;\r\n\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.config.LogConfig;\r\nimport io.restassured.filter.log.LogDetail;\r\nimport org.testng.annotations.Test;\r\n\r\nimport static io.restassured.RestAssured.given;\r\nimport static org.hamcrest.Matchers.equalTo;\r\n\r\npublic class TestDemo {\r\n\r\n    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)\r\n    public void verifyGetAPI() {\r\n\r\n        LogConfig logConfig = LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL).enablePrettyPrinting(true);\r\n\r\n        // Given\r\n        given()\r\n                .config(RestAssured.config().logConfig(logConfig))\r\n                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n                // When\r\n                .when()\r\n                .get(&quot;/posts/1&quot;)\r\n\r\n                // Then\r\n                .then()\r\n                .statusCode(200)\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nDefine a LogConfig configuration in the test method that prints a log regardless of whether the request succeeds or fails.","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<p>RestAssured api testing demo</p>\n<pre><code>package com.example;\n\nimport io.restassured.RestAssured;\nimport io.restassured.config.LogConfig;\nimport io.restassured.filter.log.LogDetail;\nimport org.testng.annotations.Test;\n\nimport static io.restassured.RestAssured.given;\nimport static org.hamcrest.Matchers.equalTo;\n\npublic class TestDemo {\n\n    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)\n    public void verifyGetAPI() {\n\n        LogConfig logConfig = LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL).enablePrettyPrinting(true);\n\n        // Given\n        given()\n                .config(RestAssured.config().logConfig(logConfig))\n                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n                // When\n                .when()\n                .get(&quot;/posts/1&quot;)\n\n                // Then\n                .then()\n                .statusCode(200)\n    }\n\n}\n</code></pre>\n<p>Define a LogConfig configuration in the test method that prints a log regardless of whether the request succeeds or fails.</p>\n"},{"tags":["java","android"],"owner":{"account_id":29964108,"reputation":1,"user_id":22963079,"display_name":"장민수"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700638789,"creation_date":1700638417,"question_id":77528066,"body_markdown":"I&#39;m trying to extract an AAR file from an Android sample project, but I&#39;m encountering an error. I&#39;ve tried setting up the NDK path, updating the SDK, and updating Gradle, but it&#39;s still not working.\r\n\r\n![enter image description here](https://i.stack.imgur.com/IIEXO.png)\r\n\r\n1. Set NDK Path\r\n2. update SDK\r\n3. gradle update\r\n4. embed to compileOnly\r\n5. --warning-mode=all","title":"Android studio &quot;Can not find task bundleDebug!&quot; what is this?","body":"<p>I'm trying to extract an AAR file from an Android sample project, but I'm encountering an error. I've tried setting up the NDK path, updating the SDK, and updating Gradle, but it's still not working.</p>\n<p><img src=\"https://i.stack.imgur.com/IIEXO.png\" alt=\"enter image description here\" /></p>\n<ol>\n<li>Set NDK Path</li>\n<li>update SDK</li>\n<li>gradle update</li>\n<li>embed to compileOnly</li>\n<li>--warning-mode=all</li>\n</ol>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1624514958,"post_id":68110373,"comment_id":120380469,"body_markdown":"Hint: start with comparing strings correctly, then look up the javadocs of `Stream.findFirst`","body":"Hint: start with comparing strings correctly, then look up the javadocs of <code>Stream.findFirst</code>"}],"answers":[{"tags":[],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1624515742,"creation_date":1624515035,"answer_id":68110426,"question_id":68110373,"body_markdown":"You can use Stream.filter() to filter the list with attributes whose attribute name matches your key and find the first attribute: \r\n\r\n```\r\nOptional&lt;Attribute&gt; attributeOptional = list.stream().filter(attr-&gt; &quot;some key&quot;.equals(attr.name).findFirst();\r\n```\r\n\r\nEdit: if you want the value out of the attribute then you can use Optional.map() to map found attribute to its value, and if&#39;s not found then some default value like null.\r\n\r\n```\r\nString value = list\r\n                    .stream()\r\n                    .filter(attr-&gt; key.equals(attr.name))\r\n                    .findFirst()\r\n                    .map(attribute -&gt; attribute.value)\r\n                    .orElse(null);\r\n```","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<p>You can use Stream.filter() to filter the list with attributes whose attribute name matches your key and find the first attribute:</p>\n<pre><code>Optional&lt;Attribute&gt; attributeOptional = list.stream().filter(attr-&gt; &quot;some key&quot;.equals(attr.name).findFirst();\n</code></pre>\n<p>Edit: if you want the value out of the attribute then you can use Optional.map() to map found attribute to its value, and if's not found then some default value like null.</p>\n<pre><code>String value = list\n                    .stream()\n                    .filter(attr-&gt; key.equals(attr.name))\n                    .findFirst()\n                    .map(attribute -&gt; attribute.value)\n                    .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3224337,"reputation":11,"user_id":2721032,"display_name":"Umitay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700638303,"creation_date":1700335831,"answer_id":77508420,"question_id":68110373,"body_markdown":"    List&lt;...&gt;  newList = objectList.stream()\r\n                           .filter(obj -&gt; otherListOrSet.stream().anyMatch(other -&gt; other.getIntValue.equals(obj.getIntValue)))\r\n                           .toList();\r\n    \r\n\r\n","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<pre><code>List&lt;...&gt;  newList = objectList.stream()\n                       .filter(obj -&gt; otherListOrSet.stream().anyMatch(other -&gt; other.getIntValue.equals(obj.getIntValue)))\n                       .toList();\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68110426,"answer_count":2,"score":-1,"last_activity_date":1700638303,"creation_date":1624514648,"question_id":68110373,"body_markdown":"How to filter this using streams or any other way to write in one line instead of for-loop.\r\n\r\n```\r\nclass Attribute {\r\n\r\n  String name;\r\n  String value;\r\n\r\n  .. \r\n  //getter-setter\r\n\r\n}\r\n\r\n.. main\r\nList&lt;Attribute&gt; list = populateAttributes();\r\n\r\nfor (Attribute attr : list) {\r\n\r\n  if (attr.name == &quot;some key&quot;) {\r\n     return attr.value;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nI am interested to do so in 1 line since I will be reading that path from config and my generic code will traverse the dot sequence and invoke methods using reflection. So something like this `classpackage.getAttributes...(getValue where attr.getname == &quot;somekey&quot;)`","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<p>How to filter this using streams or any other way to write in one line instead of for-loop.</p>\n<pre><code>class Attribute {\n\n  String name;\n  String value;\n\n  .. \n  //getter-setter\n\n}\n\n.. main\nList&lt;Attribute&gt; list = populateAttributes();\n\nfor (Attribute attr : list) {\n\n  if (attr.name == &quot;some key&quot;) {\n     return attr.value;\n  }\n\n}\n\n</code></pre>\n<p>I am interested to do so in 1 line since I will be reading that path from config and my generic code will traverse the dot sequence and invoke methods using reflection. So something like this <code>classpackage.getAttributes...(getValue where attr.getname == &quot;somekey&quot;)</code></p>\n"},{"tags":["java","android","security","sdk","platform"],"owner":{"account_id":19068098,"reputation":57,"user_id":13922837,"display_name":"hdthky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700640552,"answer_count":0,"score":0,"last_activity_date":1700638135,"creation_date":1700638135,"question_id":77528034,"body_markdown":"I know there are API restrictions in Android platform and there is a @hide notation inside a comment block above each restricted API. If a blocked API is accessed, the system will throw an error. I wonder how Android acheives this behavior even if the API is a public member.","title":"how does Android achieve restricting API&#39;s?","body":"<p>I know there are API restrictions in Android platform and there is a @hide notation inside a comment block above each restricted API. If a blocked API is accessed, the system will throw an error. I wonder how Android acheives this behavior even if the API is a public member.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700637405,"post_id":77527031,"comment_id":136677663,"body_markdown":"&quot;[BIO connector] When a request arrives, it allocates a thread from the thread pool and maps it to the request&quot;: false. A thread is permanently allocated to the connection. There is no other way it can work. Duplicate, and nothing to do with Spring whatsoever.","body":"&quot;[BIO connector] When a request arrives, it allocates a thread from the thread pool and maps it to the request&quot;: false. A thread is permanently allocated to the connection. There is no other way it can work. Duplicate, and nothing to do with Spring whatsoever."},{"owner":{"account_id":19893997,"reputation":47,"user_id":14575428,"display_name":"White Piano"},"score":0,"creation_date":1700651267,"post_id":77527031,"comment_id":136680084,"body_markdown":"@user207421 I read through the questions you guided me to, and it looks like my 4th guess was correct. Thanks for the advice!","body":"@user207421 I read through the questions you guided me to, and it looks like my 4th guess was correct. Thanks for the advice!"}],"owner":{"account_id":19893997,"reputation":47,"user_id":14575428,"display_name":"White Piano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700647856,"answer_count":0,"score":0,"last_activity_date":1700637352,"creation_date":1700620480,"question_id":77527031,"body_markdown":"While studying Spring, I was curious about how Multi-Thread works when many users connect at the same time. I realized that it is Tomcat, not Spring, that receives requests and allocates threads. Tomcat provides two ways to do this: BIO connector and NIO connector, and Tomcat decided to use NIO instead of BIO for performance reasons. However, I had a hard time understanding the reason for the performance degradation when using BIO.\r\n\r\n### BIO Connector\r\n- It works in a blocking way.\r\n- When a request arrives, it allocates a thread from the thread pool and maps it to the request.\r\n- When the request ends, it returns the thread.\r\n\r\n### NIO Connector\r\n- It works in a non-blocking way.\r\n- The poller thread loops through the socket channel in a non-blocking manner and maps a thread to the request that arrives.\r\n\r\n### Question\r\n- It is said that the BIO method affects performance **due to the idle time of the allocated threads** and **requires more threads** than the NIO method.\r\n- In order for the NIO method to be beneficial, **blocking must occur after the request is mapped to a thread**. (so that the thread has idle time).\r\n- However, from the moment a Request is assigned to a Thread, the Thread will behave as defined by the Spring Container, so there will be no idle time.\r\n\r\n### First guess\r\nTomcat uses `socket.accept` to recognize a request. If the point at which `socket.accept` recognizes a request is **when the first packet of the request arrives**, rather than **when the request arrives in its entirety from the network**, then there may be a delay after assigning a thread to the request, waiting for the remaining packets to arrive.\r\n\r\n Putting aside whether this assumption is correct for now, I wonder if the delay is too small to justify NIO for this reason alone, and if the overhead is too high.\r\n\r\n### Second guess\r\nIf tomcat allocates a thread to the created socket channel and polls for requests in a blocking manner, the idle time of the thread will be significant even if there is no immediate connection (because even if there is no connection, the thread is allocated and blocked until the next connection). In this case, the statement **&quot;When a request arrives, a thread is allocated from the thread pool, and when the request is resolved, the thread is returned&quot;** is **incorrect**. This is because **&quot;a thread is allocated at the time the socket channel is created, and once created, the socket channel is persisted until the server is shut down, so the allocated thread is not returned to the pool.&quot;**\r\n\r\nIf this were the case, I could sympathize with the need for an NIO connector. However, in this case, the need for a thread pool is questionable.\r\n\r\n### Third guess\r\nThe BIO Connector is maintained in multiple threads. The number of threads is equal to the number of socket channels created. Later, when all the created channels are in use, new threads are created and allocated for new requests, increasing the number of channels. **The threads of the BIO Connector managed in this way are completely separate from the threads that will resolve requests in Spring**. \r\n\r\nTherefore, there is no difference in the allocation/return time and the number of threads that will be created to act as Spring Containers, whether BIO or NIO. Only the number of own Threads of BIO Connector and NIO Connector decreases from N (number of socket channels) to 1 (Selector) and their behavior changes from Blocking to Non-Blocking.\r\n\r\n### Fourth guess\r\nBIO allocates a thread from the moment a request arrives, and does not return the thread when it resolves the request. **It waits for the connection to close before deallocating the thread.**\r\n\r\n**NIO does not map a thread to a request**, but rather queues up the job requested by the request and **assigns that job to the thread**. When the thread resolves the job, it is returned directly to the pool **without waiting for the connection to close**. If there are additional requests, the poller will create the job again, queue it, and assign it to an idle thread.\r\n\r\n### Cleanup\r\nTomcat introduced the NIO connector because of problems with the BIO connector. But what exactly was wrong with the BIO connector? If it allocates a thread on request arrival and returns a thread on resolve, it&#39;s not a problem by any stretch of the imagination. If it allocates a thread on socket channel creation and doesn&#39;t return the thread when the request is resolved, it&#39;s definitely a performance issue. But if that&#39;s really the case, there is no process of returning and reusing threads, so thread pools are pointless. So are threads in Tomcat Connector and threads in Spring Container separate concepts? Maybe the difference between BIO and NIO is the difference between mapping a request to a thread or mapping the job that the request requires to a thread?\r\n\r\nI&#39;m new to Spring, so maybe I&#39;m asking too many obvious questions, or maybe I&#39;m just being silly. Thank you for reading this long post and I hope my question makes sense.","title":"Why is the Tomcat BIO Connector inefficient?","body":"<p>While studying Spring, I was curious about how Multi-Thread works when many users connect at the same time. I realized that it is Tomcat, not Spring, that receives requests and allocates threads. Tomcat provides two ways to do this: BIO connector and NIO connector, and Tomcat decided to use NIO instead of BIO for performance reasons. However, I had a hard time understanding the reason for the performance degradation when using BIO.</p>\n<h3>BIO Connector</h3>\n<ul>\n<li>It works in a blocking way.</li>\n<li>When a request arrives, it allocates a thread from the thread pool and maps it to the request.</li>\n<li>When the request ends, it returns the thread.</li>\n</ul>\n<h3>NIO Connector</h3>\n<ul>\n<li>It works in a non-blocking way.</li>\n<li>The poller thread loops through the socket channel in a non-blocking manner and maps a thread to the request that arrives.</li>\n</ul>\n<h3>Question</h3>\n<ul>\n<li>It is said that the BIO method affects performance <strong>due to the idle time of the allocated threads</strong> and <strong>requires more threads</strong> than the NIO method.</li>\n<li>In order for the NIO method to be beneficial, <strong>blocking must occur after the request is mapped to a thread</strong>. (so that the thread has idle time).</li>\n<li>However, from the moment a Request is assigned to a Thread, the Thread will behave as defined by the Spring Container, so there will be no idle time.</li>\n</ul>\n<h3>First guess</h3>\n<p>Tomcat uses <code>socket.accept</code> to recognize a request. If the point at which <code>socket.accept</code> recognizes a request is <strong>when the first packet of the request arrives</strong>, rather than <strong>when the request arrives in its entirety from the network</strong>, then there may be a delay after assigning a thread to the request, waiting for the remaining packets to arrive.</p>\n<p>Putting aside whether this assumption is correct for now, I wonder if the delay is too small to justify NIO for this reason alone, and if the overhead is too high.</p>\n<h3>Second guess</h3>\n<p>If tomcat allocates a thread to the created socket channel and polls for requests in a blocking manner, the idle time of the thread will be significant even if there is no immediate connection (because even if there is no connection, the thread is allocated and blocked until the next connection). In this case, the statement <strong>&quot;When a request arrives, a thread is allocated from the thread pool, and when the request is resolved, the thread is returned&quot;</strong> is <strong>incorrect</strong>. This is because <strong>&quot;a thread is allocated at the time the socket channel is created, and once created, the socket channel is persisted until the server is shut down, so the allocated thread is not returned to the pool.&quot;</strong></p>\n<p>If this were the case, I could sympathize with the need for an NIO connector. However, in this case, the need for a thread pool is questionable.</p>\n<h3>Third guess</h3>\n<p>The BIO Connector is maintained in multiple threads. The number of threads is equal to the number of socket channels created. Later, when all the created channels are in use, new threads are created and allocated for new requests, increasing the number of channels. <strong>The threads of the BIO Connector managed in this way are completely separate from the threads that will resolve requests in Spring</strong>.</p>\n<p>Therefore, there is no difference in the allocation/return time and the number of threads that will be created to act as Spring Containers, whether BIO or NIO. Only the number of own Threads of BIO Connector and NIO Connector decreases from N (number of socket channels) to 1 (Selector) and their behavior changes from Blocking to Non-Blocking.</p>\n<h3>Fourth guess</h3>\n<p>BIO allocates a thread from the moment a request arrives, and does not return the thread when it resolves the request. <strong>It waits for the connection to close before deallocating the thread.</strong></p>\n<p><strong>NIO does not map a thread to a request</strong>, but rather queues up the job requested by the request and <strong>assigns that job to the thread</strong>. When the thread resolves the job, it is returned directly to the pool <strong>without waiting for the connection to close</strong>. If there are additional requests, the poller will create the job again, queue it, and assign it to an idle thread.</p>\n<h3>Cleanup</h3>\n<p>Tomcat introduced the NIO connector because of problems with the BIO connector. But what exactly was wrong with the BIO connector? If it allocates a thread on request arrival and returns a thread on resolve, it's not a problem by any stretch of the imagination. If it allocates a thread on socket channel creation and doesn't return the thread when the request is resolved, it's definitely a performance issue. But if that's really the case, there is no process of returning and reusing threads, so thread pools are pointless. So are threads in Tomcat Connector and threads in Spring Container separate concepts? Maybe the difference between BIO and NIO is the difference between mapping a request to a thread or mapping the job that the request requires to a thread?</p>\n<p>I'm new to Spring, so maybe I'm asking too many obvious questions, or maybe I'm just being silly. Thank you for reading this long post and I hope my question makes sense.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654772432,"post_id":72558973,"comment_id":128174139,"body_markdown":"You don`t created folder &quot;Sent items&quot;","body":"You don`t created folder &quot;Sent items&quot;"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654772503,"post_id":72558973,"comment_id":128174161,"body_markdown":"@WBLord i didn&#39;t got what u mean ?","body":"@WBLord i didn&#39;t got what u mean ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654773220,"post_id":72558973,"comment_id":128174459,"body_markdown":"Maybe you got the name &quot;Sent Items&quot; wrong?","body":"Maybe you got the name &quot;Sent Items&quot; wrong?"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654773807,"post_id":72558973,"comment_id":128174693,"body_markdown":"@g00se in outlook there is a folder named &quot;Sent items&quot;","body":"@g00se in outlook there is a folder named &quot;Sent items&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654777241,"post_id":72558973,"comment_id":128175914,"body_markdown":"I would check the IMAP url. Not sure where you&#39;d find that","body":"I would check the IMAP url. Not sure where you&#39;d find that"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654778245,"post_id":72558973,"comment_id":128176292,"body_markdown":"@g00se it not a url prob because when i changed the folder name to &quot;inbox&quot; it works very well and i retreive my inbox emails","body":"@g00se it not a url prob because when i changed the folder name to &quot;inbox&quot; it works very well and i retreive my inbox emails"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654779049,"post_id":72558973,"comment_id":128176629,"body_markdown":"You misunderstand. Folders are hierarchical and are not necessarily where you think they are. [IMAP urls](https://edoras.sdsu.edu/doc/mit-scheme-9.2/mit-scheme-imail/IMAP-URLs.html) reflect that and might be a better guide to where the folder *actually* is. You can also address the folder by its url instead of its name","body":"You misunderstand. Folders are hierarchical and are not necessarily where you think they are. <a href=\"https://edoras.sdsu.edu/doc/mit-scheme-9.2/mit-scheme-imail/IMAP-URLs.html\" rel=\"nofollow noreferrer\">IMAP urls</a> reflect that and might be a better guide to where the folder <i>actually</i> is. You can also address the folder by its url instead of its name"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654781301,"post_id":72558973,"comment_id":128177620,"body_markdown":"I tried to use the url of folder but it doesnt work","body":"I tried to use the url of folder but it doesnt work"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700644707,"post_id":72558973,"comment_id":136678829,"body_markdown":"It&#39;s called &#39;Sent&#39; in my Outlook/IMAP setup.","body":"It&#39;s called &#39;Sent&#39; in my Outlook/IMAP setup."}],"answers":[{"tags":[],"owner":{"account_id":29963931,"reputation":1,"user_id":22962929,"display_name":"user22962929"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700636625,"creation_date":1700636483,"answer_id":77527901,"question_id":72558973,"body_markdown":"```\r\nFolder inbox = store.getFolder(&quot;[Gmail]/Sent Mail&quot;);\r\ninbox.open(Folder.READ_ONLY);\r\n```","title":"Javax.mail.FolderNotFoundException: Sent Items not found","body":"<pre><code>Folder inbox = store.getFolder(&quot;[Gmail]/Sent Mail&quot;);\ninbox.open(Folder.READ_ONLY);\n</code></pre>\n"}],"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700636625,"creation_date":1654771735,"question_id":72558973,"body_markdown":"Hello im trying to retreive emails sent by my outlook mail but i have a prob in the folder name \r\nI can retreive my mail inbox using the folder &quot;Inbox&quot; but i want the sent items folder \r\n```\r\nfinal String username = &quot;XXXX@outlook.fr&quot;;  \r\n    final String password = &quot;XXXX&quot;;\r\n        Properties props = new Properties();\r\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);        \r\nprops.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\nprops.setProperty(&quot;mail.imap.connectiontimeout&quot;, &quot;5000&quot;);\r\nprops.setProperty(&quot;mail.imap.timeout&quot;, &quot;5000&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(props, null);\r\n        session.setDebug(true);\r\n        try {\r\n            Store store = session.getStore(&quot;imaps&quot;);\r\n            store.connect(&quot;outlook.office365.com&quot;, username, password);\r\n            \r\n\r\n            Folder inbox = store.getFolder(&quot;Sent Items&quot;);\r\n            inbox.open(Folder.READ_ONLY);\r\n            Message[] messages = inbox.getMessages();\r\n            for (int i = 0; i &lt; messages.length; i++) {\r\n                Message message = messages[i];\r\n                System.out.println(&quot;---------------------------------&quot;);\r\n                System.out.println(&quot;Email Number &quot; + (i + 1));\r\n                System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n                System.out.println(&quot;To: &quot; + message.getRecipients(Message.RecipientType.TO));\r\n                System.out.println(&quot;Text: &quot; + message.getContent().toString());\r\n            }\r\n            inbox.close(true);\r\n            store.close();\r\n        } catch (Exception e){\r\n   e.printStackTrace();\r\n  }\r\n```\r\n```\r\navax.mail.FolderNotFoundException: Sent Items not found\r\n\tat com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:455)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1068)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1001)\r\n\tat com.jsf.com.SendEmail.read2(SendEmail.java:61)\r\n\tat com.jsf.com.SendEmail.main(SendEmail.java:11)\r\n```","title":"Javax.mail.FolderNotFoundException: Sent Items not found","body":"<p>Hello im trying to retreive emails sent by my outlook mail but i have a prob in the folder name\nI can retreive my mail inbox using the folder &quot;Inbox&quot; but i want the sent items folder</p>\n<pre><code>final String username = &quot;XXXX@outlook.fr&quot;;  \n    final String password = &quot;XXXX&quot;;\n        Properties props = new Properties();\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);        \nprops.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\nprops.setProperty(&quot;mail.imap.connectiontimeout&quot;, &quot;5000&quot;);\nprops.setProperty(&quot;mail.imap.timeout&quot;, &quot;5000&quot;);\n\n        Session session = Session.getDefaultInstance(props, null);\n        session.setDebug(true);\n        try {\n            Store store = session.getStore(&quot;imaps&quot;);\n            store.connect(&quot;outlook.office365.com&quot;, username, password);\n            \n\n            Folder inbox = store.getFolder(&quot;Sent Items&quot;);\n            inbox.open(Folder.READ_ONLY);\n            Message[] messages = inbox.getMessages();\n            for (int i = 0; i &lt; messages.length; i++) {\n                Message message = messages[i];\n                System.out.println(&quot;---------------------------------&quot;);\n                System.out.println(&quot;Email Number &quot; + (i + 1));\n                System.out.println(&quot;Subject: &quot; + message.getSubject());\n                System.out.println(&quot;To: &quot; + message.getRecipients(Message.RecipientType.TO));\n                System.out.println(&quot;Text: &quot; + message.getContent().toString());\n            }\n            inbox.close(true);\n            store.close();\n        } catch (Exception e){\n   e.printStackTrace();\n  }\n</code></pre>\n<pre><code>avax.mail.FolderNotFoundException: Sent Items not found\n    at com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:455)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1068)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1001)\n    at com.jsf.com.SendEmail.read2(SendEmail.java:61)\n    at com.jsf.com.SendEmail.main(SendEmail.java:11)\n</code></pre>\n"},{"tags":["java","jpackage"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700607845,"post_id":77518378,"comment_id":136675076,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700636619,"creation_date":1700636619,"answer_id":77527909,"question_id":77518378,"body_markdown":"JPackage is an easy to use wrapper for native install systems. It allows a &#39;consistent&#39; installation approach across platforms, yet the genrated installer is as native to the platform as possible. With that it implies some standards such as all application&#39;s resources to go into a lib folder.\r\n\r\nIt seems you want to deviate from that, which likely means jpackage is no longer the installer of choice.\r\n\r\nJPackage is wrapping [wix][1] on the Windows platform so you could try to control this directly. Or make use of [NSIS][2].\r\n\r\n\r\n  [1]: https://wixtoolset.org/\r\n  [2]: https://nsis.sourceforge.io/Main_Page","title":"Could you help me to put files in the root folder in which there is launcher exe by using Jpackage?","body":"<p>JPackage is an easy to use wrapper for native install systems. It allows a 'consistent' installation approach across platforms, yet the genrated installer is as native to the platform as possible. With that it implies some standards such as all application's resources to go into a lib folder.</p>\n<p>It seems you want to deviate from that, which likely means jpackage is no longer the installer of choice.</p>\n<p>JPackage is wrapping <a href=\"https://wixtoolset.org/\" rel=\"nofollow noreferrer\">wix</a> on the Windows platform so you could try to control this directly. Or make use of <a href=\"https://nsis.sourceforge.io/Main_Page\" rel=\"nofollow noreferrer\">NSIS</a>.</p>\n"}],"owner":{"account_id":29951391,"reputation":1,"user_id":22953378,"display_name":"Albert Einstein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700636619,"creation_date":1700507985,"question_id":77518378,"body_markdown":"I want to generate the installer with jpackage but I&#39;m not able to put the file in the same folder with launcher in exe type.\r\n\r\nAdd files in the same folder with launcher.\r\n\r\nThis is the structure that I want to do.\r\n\r\n```none\r\nName-Root-folder\r\n   .\\app\r\n   .\\Runtime\r\n   .\\launcher-name.exe\r\n   .\\icon-file.ico\r\n   **.\\others files //this what I want to put here in the root folder of the installed program.**\r\n```","title":"Could you help me to put files in the root folder in which there is launcher exe by using Jpackage?","body":"<p>I want to generate the installer with jpackage but I'm not able to put the file in the same folder with launcher in exe type.</p>\n<p>Add files in the same folder with launcher.</p>\n<p>This is the structure that I want to do.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Name-Root-folder\n   .\\app\n   .\\Runtime\n   .\\launcher-name.exe\n   .\\icon-file.ico\n   **.\\others files //this what I want to put here in the root folder of the installed program.**\n</code></pre>\n"},{"tags":["java","mysql","sql-server","jpa"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1433855865,"post_id":30733032,"comment_id":49522544,"body_markdown":"What is `&#39;-2&#39;`? Are you trying to subtract 2 days? months? or ????","body":"What is <code>&#39;-2&#39;</code>? Are you trying to subtract 2 days? months? or ????"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1433856480,"post_id":30733032,"comment_id":49523046,"body_markdown":"@RavinderReddy Days, in this way I obtained the correct traslate (I have verified this)","body":"@RavinderReddy Days, in this way I obtained the correct traslate (I have verified this)"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1433947494,"post_id":30733032,"comment_id":49572326,"body_markdown":"CAST is not valid JPQL. You could use the SQL function &quot;CAST&quot; using JPQL standard &quot;FUNCTION&quot; (in JPA 2.1)","body":"CAST is not valid JPQL. You could use the SQL function &quot;CAST&quot; using JPQL standard &quot;FUNCTION&quot; (in JPA 2.1)"},{"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"score":1,"creation_date":1434009902,"post_id":30733032,"comment_id":49600618,"body_markdown":"Try to read this: http://stackoverflow.com/questions/12160303/convert-float-int-to-calendar-in-jpa-hibernate-sql-server","body":"Try to read this: <a href=\"http://stackoverflow.com/questions/12160303/convert-float-int-to-calendar-in-jpa-hibernate-sql-server\" title=\"convert float int to calendar in jpa hibernate sql server\">stackoverflow.com/questions/12160303/&hellip;</a>"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1434117332,"post_id":30733032,"comment_id":49658061,"body_markdown":"There is NO SUCH THING AS JPA 2.5. If you mean ECLIPSELINK v2.5 then that is a VENDOR EXTENSION","body":"There is NO SUCH THING AS JPA 2.5. If you mean ECLIPSELINK v2.5 then that is a VENDOR EXTENSION"},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434357467,"post_id":30733032,"comment_id":49725278,"body_markdown":"In the native Query we do like this : \n\n\n`SELECT CAST(COLUMN_NAME AS varchar) COLUMN_NAME FROM TABLENAME`\n\nIf you test the cast like that it gives you what?\n\nSo in my case i casted all my fields as varchar and in my java code i cast them to the right format whitch i want , because it gives me an exception like that , i don&#39;t remember of the right erros message exactly but some think like that","body":"In the native Query we do like this :    <code>SELECT CAST(COLUMN_NAME AS varchar) COLUMN_NAME FROM TABLENAME</code>  If you test the cast like that it gives you what?  So in my case i casted all my fields as varchar and in my java code i cast them to the right format whitch i want , because it gives me an exception like that , i don&#39;t remember of the right erros message exactly but some think like that"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434452719,"post_id":30733032,"comment_id":49773106,"body_markdown":"@TinyOS I try to do it but I obtained an error of IllegalStateException.","body":"@TinyOS I try to do it but I obtained an error of IllegalStateException."},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434454200,"post_id":30733032,"comment_id":49774066,"body_markdown":"Can you debug and te me when it gives you this exactly ? and during the debug you can inspect and get the right query whitch writen","body":"Can you debug and te me when it gives you this exactly ? and during the debug you can inspect and get the right query whitch writen"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434454317,"post_id":30733032,"comment_id":49774134,"body_markdown":"@TinyOS Is Syntattically incorrect.`TypedQuery&lt;String&gt; convFattura = emI24.createQuery(&quot; SELECT  CAST (dataFattura as VARCHAR) FROM FatturaI24 f where f.id = :idFattura&quot;, String.class);`","body":"@TinyOS Is Syntattically incorrect.<code>TypedQuery&lt;String&gt; convFattura = emI24.createQuery(&quot; SELECT  CAST (dataFattura as VARCHAR) FROM FatturaI24 f where f.id = :idFattura&quot;, String.class);</code>"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1466755628,"post_id":30733032,"comment_id":63460279,"body_markdown":"using JPA and native SQL queries at the same time is ... really pointless - doesnt make any sense. JPA only makes sense if you want to make your database algorithms **database-vendor independent** *(also : less error-prone, much more portable and stable)* ... which you&#39;re pretty much negating with non-JPQL queries. Oh and : you&#39;re not actually using JPA ... you&#39;re passing queries through your EntityManager. JPA = database entity objects and criteria","body":"using JPA and native SQL queries at the same time is ... really pointless - doesnt make any sense. JPA only makes sense if you want to make your database algorithms <b>database-vendor independent</b> <i>(also : less error-prone, much more portable and stable)</i> ... which you&#39;re pretty much negating with non-JPQL queries. Oh and : you&#39;re not actually using JPA ... you&#39;re passing queries through your EntityManager. JPA = database entity objects and criteria"}],"answers":[{"tags":[],"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434458403,"creation_date":1434456400,"answer_id":30867110,"question_id":30733032,"body_markdown":"As you said in the comment , the return value is a float type so what we will do is not doing a cast in sql but convert the float with java code and you have bellow the right code :\r\n\r\n    Query convFattura = emI24.createQuery(&quot; SELECT f.dataFattura FROM FatturaI24 f where f.id = :idFattura&quot;);\r\n\t\t\t\tconvFattura = convFattura.setParameter(&quot;idFattura&quot;, idFatturaValue);  \r\n\t\t\tfloat dataFattura = convFattura.getSingleResult(); \r\n\r\n\r\n--------------------------------\r\n\r\njava code to convert float to date :\r\n\r\n\tCalendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tcalendar.set(Calendar.HOUR_OF_DAY, 0);\r\n\tcalendar.add(Calendar.HOUR_OF_DAY, (int) dataFattura);\r\n\tcalendar.set(Calendar.MINUTE, (int) ((dataFattura * 60) % 60));\r\n\tcalendar.set(Calendar.SECOND, (int) ((dataFattura * 3600) % 3600));\r\n\r\n\tDateFormat fmt = new SimpleDateFormat();\r\n\tfmt.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Paris&quot;)); \r\n\tSystem.out.println(fmt.format(calendar.getTime()));\r\n\r\nHope that is useful for you !","title":"Cast field in JPA Query","body":"<p>As you said in the comment , the return value is a float type so what we will do is not doing a cast in sql but convert the float with java code and you have bellow the right code :</p>\n\n<pre><code>Query convFattura = emI24.createQuery(\" SELECT f.dataFattura FROM FatturaI24 f where f.id = :idFattura\");\n            convFattura = convFattura.setParameter(\"idFattura\", idFatturaValue);  \n        float dataFattura = convFattura.getSingleResult(); \n</code></pre>\n\n<hr>\n\n<p>java code to convert float to date :</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\ncalendar.set(Calendar.HOUR_OF_DAY, 0);\ncalendar.add(Calendar.HOUR_OF_DAY, (int) dataFattura);\ncalendar.set(Calendar.MINUTE, (int) ((dataFattura * 60) % 60));\ncalendar.set(Calendar.SECOND, (int) ((dataFattura * 3600) % 3600));\n\nDateFormat fmt = new SimpleDateFormat();\nfmt.setTimeZone(TimeZone.getTimeZone(\"Europe/Paris\")); \nSystem.out.println(fmt.format(calendar.getTime()));\n</code></pre>\n\n<p>Hope that is useful for you !</p>\n"},{"tags":[],"owner":{"account_id":8696745,"reputation":9,"user_id":6507871,"display_name":"Mohand BDF"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466755331,"creation_date":1466755331,"answer_id":38008507,"question_id":30733032,"body_markdown":"try to use Convert function instead of Cast function.\r\nit works for me ...!","title":"Cast field in JPA Query","body":"<p>try to use Convert function instead of Cast function.\nit works for me ...!</p>\n"}],"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9157,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1700636475,"creation_date":1433855552,"question_id":30733032,"body_markdown":"In my sql-server, the field DATE are saved in float format (es: `DATADOC = 42155`)\r\n\r\nI want to import the field in mysql DB as DATETIME.\r\nI try on sql-server to cast the field with this query:\r\n\r\n    SELECT CAST(DATDOC as DATETIME) -2 FROM FATTURE where id=25460;\r\n\r\n \r\nAnd the result is correct.\r\n\r\nNow, I want to translate it in JPA Query:\r\n\r\n    TypedQuery&lt;DateTime&gt; convFattura = emI24.createQuery(&quot; SELECT CAST(dataFattura as DATETIME) -2 FROM FatturaI24 f where f.id = :idFattura&quot;, DateTime.class);\r\n\r\nBut I obtained this error:\r\n\r\n        09-06-2015 14:32:00 ERROR: org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task.\r\n    java.lang.NullPointerException\r\n    \tat org.hibernate.dialect.function.CastFunction.render(CastFunction.java:55)\r\n    \tat org.hibernate.hql.internal.ast.SqlGenerator.endFunctionTemplate(SqlGenerator.java:220)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.methodCall(SqlGeneratorBase.java:2326)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.simpleExpr(SqlGeneratorBase.java:2681)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.expr(SqlGeneratorBase.java:1476)\r\n\r\n\r\nWhat is the correct syntax of the CAST in DATETIME?\r\n\r\nAny ideas?\r\n","title":"Cast field in JPA Query","body":"<p>In my sql-server, the field DATE are saved in float format (es: <code>DATADOC = 42155</code>)</p>\n\n<p>I want to import the field in mysql DB as DATETIME.\nI try on sql-server to cast the field with this query:</p>\n\n<pre><code>SELECT CAST(DATDOC as DATETIME) -2 FROM FATTURE where id=25460;\n</code></pre>\n\n<p>And the result is correct.</p>\n\n<p>Now, I want to translate it in JPA Query:</p>\n\n<pre><code>TypedQuery&lt;DateTime&gt; convFattura = emI24.createQuery(\" SELECT CAST(dataFattura as DATETIME) -2 FROM FatturaI24 f where f.id = :idFattura\", DateTime.class);\n</code></pre>\n\n<p>But I obtained this error:</p>\n\n<pre><code>    09-06-2015 14:32:00 ERROR: org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task.\njava.lang.NullPointerException\n    at org.hibernate.dialect.function.CastFunction.render(CastFunction.java:55)\n    at org.hibernate.hql.internal.ast.SqlGenerator.endFunctionTemplate(SqlGenerator.java:220)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.methodCall(SqlGeneratorBase.java:2326)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.simpleExpr(SqlGeneratorBase.java:2681)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.expr(SqlGeneratorBase.java:1476)\n</code></pre>\n\n<p>What is the correct syntax of the CAST in DATETIME?</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","windows-10","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697162638,"creation_date":1697162638,"answer_id":77284681,"question_id":77280959,"body_markdown":"I saw similar errors reported by users of Chinese locale. So maybe your cl.exe reports some localized version string which `native-image` fails to parse. So one idea is to try using en_US locale.\r\n\r\nAnother thing to try is to skip VS detection, while making sure `native-image` can access the compiler:\r\n- Start Command Prompt\r\n- Run vsvars64.bat inside it to set up compiler paths and environment\r\n- Run `native-image` with the `-H:-CheckToolchain` option","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I saw similar errors reported by users of Chinese locale. So maybe your cl.exe reports some localized version string which <code>native-image</code> fails to parse. So one idea is to try using en_US locale.</p>\n<p>Another thing to try is to skip VS detection, while making sure <code>native-image</code> can access the compiler:</p>\n<ul>\n<li>Start Command Prompt</li>\n<li>Run vsvars64.bat inside it to set up compiler paths and environment</li>\n<li>Run <code>native-image</code> with the <code>-H:-CheckToolchain</code> option</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1148822,"reputation":41,"user_id":1130979,"display_name":"LiquidProQuo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700635577,"creation_date":1700635577,"answer_id":77527818,"question_id":77280959,"body_markdown":"I was just in a similar boat of attempting to run a simple &quot;Hello World&quot; app with GraalVM(graalvm-jdk-21.0.1+12.1) and even though I already had the latest `Visual Studio 2022` installed, I was still running into the exact error you posted above.\r\n\r\nI was eventually able to resolve the issue using this same solution in [this older answer here][1].\r\n\r\n**TL;DR:**\r\nA workaround to ensure the build toolchain is always added is to modify the beginning of your `native-image.cmd` file (found in in `%JAVA_HOME%\\bin`) with a call to to VS 2022&#39;s vcvars64.bat, e.g.: `call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul`\r\n\r\nSo the final version of my `native-image.cmd` file looked like this:\r\n\r\n    @echo off\r\n    \r\n    call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul\r\n    call :getScriptLocation location\r\n    set &quot;GRAALVM_ARGUMENT_VECTOR_PROGRAM_NAME=%~0&quot;\r\n    &quot;%location%..\\lib\\svm\\bin\\native-image.exe&quot; %*\r\n    exit /b %errorlevel%\r\n    \r\n    :: If this script is in `%PATH%` and called quoted without a full path (e.g., `&quot;js&quot;`), `%~dp0` is expanded to `cwd`\r\n    :: rather than the path to the script.\r\n    :: This does not happen if `%~dp0` is accessed in a subroutine.\r\n    :getScriptLocation variableName\r\n        set &quot;%~1=%~dp0&quot;\r\n        exit /b 0\r\n\r\n  [1]: https://stackoverflow.com/a/75348946/1130979","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I was just in a similar boat of attempting to run a simple &quot;Hello World&quot; app with GraalVM(graalvm-jdk-21.0.1+12.1) and even though I already had the latest <code>Visual Studio 2022</code> installed, I was still running into the exact error you posted above.</p>\n<p>I was eventually able to resolve the issue using this same solution in <a href=\"https://stackoverflow.com/a/75348946/1130979\">this older answer here</a>.</p>\n<p><strong>TL;DR:</strong>\nA workaround to ensure the build toolchain is always added is to modify the beginning of your <code>native-image.cmd</code> file (found in in <code>%JAVA_HOME%\\bin</code>) with a call to to VS 2022's vcvars64.bat, e.g.: <code>call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul</code></p>\n<p>So the final version of my <code>native-image.cmd</code> file looked like this:</p>\n<pre><code>@echo off\n\ncall &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul\ncall :getScriptLocation location\nset &quot;GRAALVM_ARGUMENT_VECTOR_PROGRAM_NAME=%~0&quot;\n&quot;%location%..\\lib\\svm\\bin\\native-image.exe&quot; %*\nexit /b %errorlevel%\n\n:: If this script is in `%PATH%` and called quoted without a full path (e.g., `&quot;js&quot;`), `%~dp0` is expanded to `cwd`\n:: rather than the path to the script.\n:: This does not happen if `%~dp0` is accessed in a subroutine.\n:getScriptLocation variableName\n    set &quot;%~1=%~dp0&quot;\n    exit /b 0\n</code></pre>\n"}],"owner":{"account_id":19564503,"reputation":41,"user_id":14317040,"display_name":"Alien6306"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700635577,"creation_date":1697116674,"question_id":77280959,"body_markdown":"I&#39;m trying to create a native image from a simple Java program using GraalVM on my Windows 10 machine. The Java program, Hello.java, is a basic &quot;Hello World&quot; print statement. \r\n\r\nI followed these steps:\r\n\r\n1. Created Hello.java with a &quot;Hello World&quot; print statement.\r\n2. Compiled it using javac Hello.java, which resulted in a Hello.class file.\r\n3. Attempted to create a native image with the command:\r\n\r\n`native-image Hello`\r\n\r\nHowever, I encountered the following error:\r\n\r\n```\r\nError: On Windows, GraalVM Native Image for JDK 21 requires Visual Studio 2022 version 17.1.0 or later (C/C++ Optimizing Compiler Version 19.31 or later).\r\nCompiler info detected: cl.exe (microsoft, x64, 19.29.30152)\r\nError: To prevent native-toolchain checking provide command-line option -H:-CheckToolchain\r\n```\r\n\r\n[![error](https://i.stack.imgur.com/ibNi7.png)](https://i.stack.imgur.com/ibNi7.png)\r\n\r\nI already have Visual Studio Community 2022 installed. What could be causing this error, and how can I resolve it? Are there any specific configurations or additional steps needed to make GraalVM recognize Visual Studio 2022 correctly?\r\n\r\nAdditional information:\r\n- System variebles/Path/ C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\\r\n- openjdk version &quot;21&quot; 2023-09-19\r\n- OpenJDK Runtime Environment GraalVM CE 21+35.1 (build 21+35-jvmci-23.1-b15)\r\n\r\n[![visualStudio](https://i.stack.imgur.com/ETBy1.png)](https://i.stack.imgur.com/ETBy1.png)","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I'm trying to create a native image from a simple Java program using GraalVM on my Windows 10 machine. The Java program, Hello.java, is a basic &quot;Hello World&quot; print statement.</p>\n<p>I followed these steps:</p>\n<ol>\n<li>Created Hello.java with a &quot;Hello World&quot; print statement.</li>\n<li>Compiled it using javac Hello.java, which resulted in a Hello.class file.</li>\n<li>Attempted to create a native image with the command:</li>\n</ol>\n<p><code>native-image Hello</code></p>\n<p>However, I encountered the following error:</p>\n<pre><code>Error: On Windows, GraalVM Native Image for JDK 21 requires Visual Studio 2022 version 17.1.0 or later (C/C++ Optimizing Compiler Version 19.31 or later).\nCompiler info detected: cl.exe (microsoft, x64, 19.29.30152)\nError: To prevent native-toolchain checking provide command-line option -H:-CheckToolchain\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ibNi7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibNi7.png\" alt=\"error\" /></a></p>\n<p>I already have Visual Studio Community 2022 installed. What could be causing this error, and how can I resolve it? Are there any specific configurations or additional steps needed to make GraalVM recognize Visual Studio 2022 correctly?</p>\n<p>Additional information:</p>\n<ul>\n<li>System variebles/Path/ C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\</li>\n<li>openjdk version &quot;21&quot; 2023-09-19</li>\n<li>OpenJDK Runtime Environment GraalVM CE 21+35.1 (build 21+35-jvmci-23.1-b15)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ETBy1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETBy1.png\" alt=\"visualStudio\" /></a></p>\n"},{"tags":["java","jsessionid"],"answers":[{"tags":[],"owner":{"account_id":1399,"reputation":15103,"user_id":1870,"accept_rate":95,"display_name":"Mo."},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1556021123,"creation_date":1235864860,"answer_id":598914,"question_id":595872,"body_markdown":"CORRECTION: Please vote for Peter Štibran&#253;&#39;s answer - it is more correct and complete!\r\n\r\nA &quot;JSESSIONID&quot; is the unique id of the http session - [see the javadoc here][1]. There, you&#39;ll find the following sentence\r\n\r\n&gt; Session information is scoped only to the current web application (ServletContext), so information stored in one context will not be directly visible in another.\r\n\r\nSo when you first hit a site, a new session is created and bound to the SevletContext. If you deploy multiple applications, the session is not shared.\r\n\r\nYou can also invalidate the current session and therefore create a new one. e.g. when switching from http to https (after login), it is a very good idea, to create a new session.\r\n\r\nHope, this answers your question.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E17802_01/products/products/servlet/2.5/docs/servlet-2_5-mr2/javax/servlet/http/HttpSession.html","title":"Under what conditions is a JSESSIONID created?","body":"<p>CORRECTION: Please vote for Peter Štibraný's answer - it is more correct and complete!</p>\n\n<p>A \"JSESSIONID\" is the unique id of the http session - <a href=\"https://docs.oracle.com/cd/E17802_01/products/products/servlet/2.5/docs/servlet-2_5-mr2/javax/servlet/http/HttpSession.html\" rel=\"noreferrer\">see the javadoc here</a>. There, you'll find the following sentence</p>\n\n<blockquote>\n  <p>Session information is scoped only to the current web application (ServletContext), so information stored in one context will not be directly visible in another.</p>\n</blockquote>\n\n<p>So when you first hit a site, a new session is created and bound to the SevletContext. If you deploy multiple applications, the session is not shared.</p>\n\n<p>You can also invalidate the current session and therefore create a new one. e.g. when switching from http to https (after login), it is a very good idea, to create a new session.</p>\n\n<p>Hope, this answers your question.</p>\n"},{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":0,"up_vote_count":374,"is_accepted":true,"score":374,"last_activity_date":1474912687,"creation_date":1235865367,"answer_id":598923,"question_id":595872,"body_markdown":"JSESSIONID cookie is created/sent when session is created. Session is created when your code calls `request.getSession()` or `request.getSession(true)` for the first time. If you just want to get the session, but not create it if it doesn&#39;t exist, use `request.getSession(false)` -- this will return you a session or `null`. In this case, new session is not created, and JSESSIONID cookie is not sent. (This also means that **session isn&#39;t necessarily created on first request**... you and your code are in control *when* the session is created)\r\n\r\nSessions are per-context:\r\n\r\n&gt; SRV.7.3 Session Scope\r\n&gt; \r\n&gt; HttpSession objects must be scoped at\r\n&gt; the application (or servlet context)\r\n&gt; level. The underlying mechanism, such\r\n&gt; as the cookie used to establish the\r\n&gt; session, can be the same for different\r\n&gt; contexts, but the object referenced,\r\n&gt; including the attributes in that\r\n&gt; object, must never be shared between\r\n&gt; contexts by the container.\r\n\r\n([Servlet 2.4 specification](http://jcp.org/aboutJava/communityprocess/final/jsr154/index.html))\r\n\r\nUpdate: Every call to JSP page implicitly creates a new session if there is no session yet. This can be turned off with the `session=&#39;false&#39;` page directive, in which case session variable is not available on JSP page at all.","title":"Under what conditions is a JSESSIONID created?","body":"<p>JSESSIONID cookie is created/sent when session is created. Session is created when your code calls <code>request.getSession()</code> or <code>request.getSession(true)</code> for the first time. If you just want to get the session, but not create it if it doesn't exist, use <code>request.getSession(false)</code> -- this will return you a session or <code>null</code>. In this case, new session is not created, and JSESSIONID cookie is not sent. (This also means that <strong>session isn't necessarily created on first request</strong>... you and your code are in control <em>when</em> the session is created)</p>\n\n<p>Sessions are per-context:</p>\n\n<blockquote>\n  <p>SRV.7.3 Session Scope</p>\n  \n  <p>HttpSession objects must be scoped at\n  the application (or servlet context)\n  level. The underlying mechanism, such\n  as the cookie used to establish the\n  session, can be the same for different\n  contexts, but the object referenced,\n  including the attributes in that\n  object, must never be shared between\n  contexts by the container.</p>\n</blockquote>\n\n<p>(<a href=\"http://jcp.org/aboutJava/communityprocess/final/jsr154/index.html\" rel=\"noreferrer\">Servlet 2.4 specification</a>)</p>\n\n<p>Update: Every call to JSP page implicitly creates a new session if there is no session yet. This can be turned off with the <code>session='false'</code> page directive, in which case session variable is not available on JSP page at all.</p>\n"},{"tags":[],"owner":{"account_id":4713,"reputation":972,"user_id":7222,"display_name":"Rangachari Anand"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1484833161,"creation_date":1254245594,"answer_id":1493954,"question_id":595872,"body_markdown":"Here is some information about one more source of the `JSESSIONID` cookie:\r\n\r\nI was just debugging some Java code that runs on a tomcat server. I was not calling `request.getSession()` explicitly anywhere in my code but I noticed that a `JSESSIONID` cookie was still being set. \r\n\r\nI finally took a look at the generated Java code corresponding to a JSP in the work directory under Tomcat.\r\n\r\nIt appears that, whether you like it or not, if you invoke a JSP from a servlet, `JSESSIONID` will get created!\r\n\r\nAdded: I just found that by adding the following JSP directive:\r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n\r\nyou can disable the setting of `JSESSIONID` by a JSP.\r\n","title":"Under what conditions is a JSESSIONID created?","body":"<p>Here is some information about one more source of the <code>JSESSIONID</code> cookie:</p>\n\n<p>I was just debugging some Java code that runs on a tomcat server. I was not calling <code>request.getSession()</code> explicitly anywhere in my code but I noticed that a <code>JSESSIONID</code> cookie was still being set. </p>\n\n<p>I finally took a look at the generated Java code corresponding to a JSP in the work directory under Tomcat.</p>\n\n<p>It appears that, whether you like it or not, if you invoke a JSP from a servlet, <code>JSESSIONID</code> will get created!</p>\n\n<p>Added: I just found that by adding the following JSP directive:</p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>you can disable the setting of <code>JSESSIONID</code> by a JSP.</p>\n"},{"tags":[],"owner":{"account_id":32780,"reputation":1863,"user_id":91225,"display_name":"Jerome Jaglale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255122484,"creation_date":1255122484,"answer_id":1546051,"question_id":595872,"body_markdown":"For links generated in a JSP with custom tags, I had to use \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n\r\nin the JSP \r\n\r\nAND\r\n\r\n    request.getSession().invalidate();\r\n\r\nin the Struts action","title":"Under what conditions is a JSESSIONID created?","body":"<p>For links generated in a JSP with custom tags, I had to use </p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>in the JSP </p>\n\n<p>AND</p>\n\n<pre><code>request.getSession().invalidate();\n</code></pre>\n\n<p>in the Struts action</p>\n"},{"tags":[],"owner":{"account_id":93570,"reputation":791,"user_id":255931,"display_name":"polaretto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1371660435,"creation_date":1371660435,"answer_id":17196872,"question_id":595872,"body_markdown":"Beware if your page is including other .jsp or .jspf (fragment)! If you don&#39;t set \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\non them as well, the parent page will end up starting a new session and setting the JSESSIONID cookie.\r\n\r\nFor .jspf pages in particular, this happens if you configured your web.xml with such a snippet:\r\n\r\n    &lt;jsp-config&gt;\r\n    \t&lt;jsp-property-group&gt;\r\n    \t\t&lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\r\n    \t&lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\nin order to enable scriptlets inside them.","title":"Under what conditions is a JSESSIONID created?","body":"<p>Beware if your page is including other .jsp or .jspf (fragment)! If you don't set </p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>on them as well, the parent page will end up starting a new session and setting the JSESSIONID cookie.</p>\n\n<p>For .jspf pages in particular, this happens if you configured your web.xml with such a snippet:</p>\n\n<pre><code>&lt;jsp-config&gt;\n    &lt;jsp-property-group&gt;\n        &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\n    &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n\n<p>in order to enable scriptlets inside them.</p>\n"}],"owner":{"account_id":10831,"reputation":7092,"user_id":20641,"accept_rate":49,"display_name":"joshjdevl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477045,"favorite_count":0,"down_vote_count":0,"up_vote_count":318,"accepted_answer_id":598923,"answer_count":5,"score":318,"last_activity_date":1700635485,"creation_date":1235757612,"question_id":595872,"body_markdown":"When / what are the conditions when a `JSESSIONID` is created?\r\n\r\nIs it per a domain? For instance, if I have a Tomcat app server, and I deploy multiple web applications, will a different `JSESSIONID` be created per context (web application), or is it shared across web applications as long as they are the same domain?","title":"Under what conditions is a JSESSIONID created?","body":"<p>When / what are the conditions when a <code>JSESSIONID</code> is created?</p>\n\n<p>Is it per a domain? For instance, if I have a Tomcat app server, and I deploy multiple web applications, will a different <code>JSESSIONID</code> be created per context (web application), or is it shared across web applications as long as they are the same domain?</p>\n"},{"tags":["java","oop","inheritance","composition"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1700424130,"post_id":77512096,"comment_id":136649710,"body_markdown":"You&#39;d have to use _Object_.  You shouldn&#39;t expect to store different _data-types_, in the same array. otherwise.","body":"You&#39;d have to use <i>Object</i>.  You shouldn&#39;t expect to store different <i>data-types</i>, in the same array. otherwise."}],"answers":[{"tags":[],"owner":{"account_id":15783689,"reputation":11,"user_id":11389206,"display_name":"Max Aliev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700423392,"creation_date":1700423392,"answer_id":77512249,"question_id":77512096,"body_markdown":"You can only store entities in here. So just add player.entity/monster.entity or whatever.","title":"What type should an array store when using composition over inheritance?","body":"<p>You can only store entities in here. So just add player.entity/monster.entity or whatever.</p>\n"},{"tags":[],"owner":{"account_id":310007,"reputation":2072,"user_id":622752,"display_name":"mcyalcin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700635352,"creation_date":1700635352,"answer_id":77527799,"question_id":77512096,"body_markdown":"The answer is already given as a comment to the question; you need to use a common superclass, which in this case is Object.","title":"What type should an array store when using composition over inheritance?","body":"<p>The answer is already given as a comment to the question; you need to use a common superclass, which in this case is Object.</p>\n"}],"owner":{"account_id":29865744,"reputation":1,"user_id":22888408,"display_name":"cardiaque66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700635352,"creation_date":1700420577,"question_id":77512096,"body_markdown":"When using inheritance, you can create two classes `A` and `B` that inherit from class `C`. You can then create an array of `C` to store either of these -- `C[]`.\r\n\r\nHowever, when using composition, what type would an array have to be to store either of these types?\r\n\r\n```\r\nclass Entity {\r\n    public int id;\r\n\r\n    public Entity() {\r\n        this.id = 0;\r\n    }\r\n}\r\n\r\nclass Player extends Entity {\r\n    public Player() {\r\n        this.id = 1;\r\n    }\r\n}\r\n\r\nclass Monster extends Entity {\r\n    public Monster() {\r\n        this.id = 2;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Entity[] entities = new Entity[2];\r\n \r\n        entities[0] = new Player(); // id == 1\r\n        entities[1] = new Monster(); // id == 2\r\n    }\r\n}\r\n```\r\n\r\nWhen using composition, you&#39;d have to store Entity as a field:\r\n\r\n```\r\nclass Entity {\r\n    public int id;\r\n\r\n    public Entity() {\r\n        this.id = 0;\r\n    }\r\n}\r\n\r\nclass Player {\r\n    Entity entity;\r\n\r\n    public Player() {\r\n        this.entity = new Entity();\r\n        this.entity.id = 1;\r\n    }\r\n}\r\n\r\nclass Monster {\r\n    Entity entity;\r\n\r\n    public Monster() {        \r\n        this.entity = new Entity();\r\n        this.entity.id = 2;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Player player = new Player();\r\n        Monster monster = new Monster();\r\n        \r\n        Entity[] entities = new Entity[2];\r\n        // TODO: won&#39;t work! what type?\r\n        entities[0] = player;\r\n        entities[1] = monster;\r\n    }\r\n}\r\n```","title":"What type should an array store when using composition over inheritance?","body":"<p>When using inheritance, you can create two classes <code>A</code> and <code>B</code> that inherit from class <code>C</code>. You can then create an array of <code>C</code> to store either of these -- <code>C[]</code>.</p>\n<p>However, when using composition, what type would an array have to be to store either of these types?</p>\n<pre><code>class Entity {\n    public int id;\n\n    public Entity() {\n        this.id = 0;\n    }\n}\n\nclass Player extends Entity {\n    public Player() {\n        this.id = 1;\n    }\n}\n\nclass Monster extends Entity {\n    public Monster() {\n        this.id = 2;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Entity[] entities = new Entity[2];\n \n        entities[0] = new Player(); // id == 1\n        entities[1] = new Monster(); // id == 2\n    }\n}\n</code></pre>\n<p>When using composition, you'd have to store Entity as a field:</p>\n<pre><code>class Entity {\n    public int id;\n\n    public Entity() {\n        this.id = 0;\n    }\n}\n\nclass Player {\n    Entity entity;\n\n    public Player() {\n        this.entity = new Entity();\n        this.entity.id = 1;\n    }\n}\n\nclass Monster {\n    Entity entity;\n\n    public Monster() {        \n        this.entity = new Entity();\n        this.entity.id = 2;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Player player = new Player();\n        Monster monster = new Monster();\n        \n        Entity[] entities = new Entity[2];\n        // TODO: won't work! what type?\n        entities[0] = player;\n        entities[1] = monster;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1700634126,"post_id":77527692,"comment_id":136677216,"body_markdown":"So whats your question?","body":"So whats your question?"},{"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"score":0,"creation_date":1700638069,"post_id":77527692,"comment_id":136677780,"body_markdown":"i have a index xml file  with  table tag and variable column tag  for that i need to  map the values of tables and columns with respect to   the database table columns names  for example in xml i have &lt;table&gt;&lt;name &gt;Tagesabschluss&lt;/name &gt;&lt;/table&gt; this table i need to map with database  salesreport table similar to columns","body":"i have a index xml file  with  table tag and variable column tag  for that i need to  map the values of tables and columns with respect to   the database table columns names  for example in xml i have &lt;table&gt;&lt;name &gt;Tagesabschluss&lt;/name &gt;&lt;/table&gt; this table i need to map with database  salesreport table similar to columns"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1700638253,"post_id":77527692,"comment_id":136677814,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"score":0,"creation_date":1700643825,"post_id":77527692,"comment_id":136678684,"body_markdown":"I HAVE index.xml as target and database as Source In need create mapping Document for  target (in xml type should map to database table and Element should map to columns )and Source  file  with the help of this mapping document and  by using  core  java code    need to generate the csv file","body":"I HAVE index.xml as target and database as Source In need create mapping Document for  target (in xml type should map to database table and Element should map to columns )and Source  file  with the help of this mapping document and  by using  core  java code    need to generate the csv file"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1700666222,"post_id":77527692,"comment_id":136682918,"body_markdown":"Sorry, your question is still too vague. It is not clear what you actually want to achieve and, above all, what exactly your concrete problem is. Please look at the [Help Center](https://stackoverflow.com/help). Especially you should read [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask). It would also help if you could create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and where exactly you got stuck.","body":"Sorry, your question is still too vague. It is not clear what you actually want to achieve and, above all, what exactly your concrete problem is. Please look at the <a href=\"https://stackoverflow.com/help\">Help Center</a>. Especially you should read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>. It would also help if you could create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and where exactly you got stuck."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1700666398,"post_id":77527692,"comment_id":136682960,"body_markdown":"Don&#39;t despair. The ability to describe your specific problem to a bystander so that they understand it and can help is a skill in itself. You can learn that, but you have to practice a lot. If you have difficulties with this, it can also mean that you yourself have not yet properly understood the problem.","body":"Don&#39;t despair. The ability to describe your specific problem to a bystander so that they understand it and can help is a skill in itself. You can learn that, but you have to practice a lot. If you have difficulties with this, it can also mean that you yourself have not yet properly understood the problem."}],"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700633945,"creation_date":1700633945,"question_id":77527692,"body_markdown":"i have a xml file In contains values of tables and variable columns with defined names. for that  we need to map the database table and columns and generate the configuration file   based on this configuration file  the java code  generate the csv for mapping columns \r\n\r\n","title":"Mapping the xml file to database mapping in configuration file generate And csv file by using java","body":"<p>i have a xml file In contains values of tables and variable columns with defined names. for that  we need to map the database table and columns and generate the configuration file   based on this configuration file  the java code  generate the csv for mapping columns</p>\n"},{"tags":["java","spring-boot","hibernate","querydsl"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700648739,"post_id":77523479,"comment_id":136679573,"body_markdown":"_&quot;I&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.&quot;_ If you&#39;ve changed nothing, then that is not going to do anything. The problem is that you have an incompatible combination of dependencies (mismatching versions) for QueryDSL and Hibernate.","body":"<i>&quot;I&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.&quot;</i> If you&#39;ve changed nothing, then that is not going to do anything. The problem is that you have an incompatible combination of dependencies (mismatching versions) for QueryDSL and Hibernate."},{"owner":{"account_id":5255170,"reputation":89,"user_id":4955319,"accept_rate":100,"display_name":"Andy Min"},"score":0,"creation_date":1700657864,"post_id":77523479,"comment_id":136681192,"body_markdown":"@MarkRotteveel yes since Spring boot3 uses hibernate 6 as its default, querydsl will have issue with it. But as you can see it from my question, there is a workaround for it which I found from querydsl issue page. However, even though I applied the trick mentioned in the querydsl issue page, it does not seem to work with my setting where I extend QuerydslRepositorySupport and I wanted to see if anyone got any clue for it.","body":"@MarkRotteveel yes since Spring boot3 uses hibernate 6 as its default, querydsl will have issue with it. But as you can see it from my question, there is a workaround for it which I found from querydsl issue page. However, even though I applied the trick mentioned in the querydsl issue page, it does not seem to work with my setting where I extend QuerydslRepositorySupport and I wanted to see if anyone got any clue for it."}],"owner":{"account_id":5255170,"reputation":89,"user_id":4955319,"accept_rate":100,"display_name":"Andy Min"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700586236,"answer_count":0,"score":-1,"last_activity_date":1700633580,"creation_date":1700575734,"question_id":77523479,"body_markdown":"I am having a hard time dealing with this error and so wanted to get some advices.\r\n\r\nI am working on a project where I am using Spring Boot3, JDK17, JPA + QueryDsl 5.0.0 and Hibernate 6.2.2.\r\n\r\nEverything worked fine until I started to use transform in querydsl.\r\n\r\nWhen executed, it gives me an error.\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;java.lang.Object org.hibernate.ScrollableResults.get(int)&#39;\r\n\tat com.querydsl.jpa.ScrollableResultsIterator.next(ScrollableResultsIterator.java:70) ~[querydsl-jpa-5.0.0-jakarta.jar:na]\r\n\tat com.querydsl.core.group.GroupByList.transform(GroupByList.java:60) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.querydsl.core.group.GroupByList.transform(GroupByList.java:36) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.querydsl.core.support.FetchableQueryBase.transform(FetchableQueryBase.java:55) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.wandted.matitnyam.repository.impl.RegionRepositoryImpl.findAllBy(RegionRepositoryImpl.java:36) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat com.wandted.matitnyam.repository.impl.RegionRepositoryImpl$$SpringCGLIB$$0.findAllBy(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy131.findAllBy(Unknown Source) ~[na:na]\r\n\tat com.wandted.matitnyam.service.impl.RegionServiceImpl.get(RegionServiceImpl.java:26) ~[classes/:na]\r\n\tat com.wandted.matitnyam.controller.RegionController.read(RegionController.java:35) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\r\n\r\n```\r\n\r\nSo I started to google the error message and saw solution from querydsl issue page.\r\nhttps://github.com/querydsl/querydsl/issues/3428\r\n\r\nMany others were facing same issues like me.\r\n\r\nAfter reading through the comments and all, I tried the solution given by one of the user which was to change my JPAConfiguration class something like this.\r\n\r\n```\r\npublic class JpaConfiguration {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Bean\r\n    public JPAQueryFactory jpaQueryFactory() {\r\n        return new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager); // added JPQLTemplates.DEFAULT\r\n    }\r\n\r\n}\r\n```\r\nHowever that did not solved my problem.\r\n\r\nI am still getting same error everytime when I try to use transform method.\r\n\r\nthe only difference I can see is that I am using a class where it extends QuerydslRepositorySuppot and have few custom methods I use in my repositroies.\r\n\r\n```\r\npublic class QueryDslRepositoryPaginationSupport extends QuerydslRepositorySupport {\r\n\r\n    private final JPAQueryFactory queryFactory;\r\n\r\n\r\n    public QueryDslRepositoryPaginationSupport(Class&lt;?&gt; domainClass, JPAQueryFactory queryFactory) {\r\n        super(domainClass);\r\n        this.queryFactory = queryFactory;\r\n    }\r\n\r\n\r\n    protected JPAQueryFactory getQueryFactory() {\r\n        return this.queryFactory;\r\n    }\r\n\r\n    protected int saveAllNativeQuery(@NonNull String tableName, @NonNull List&lt;String&gt; columnNames,\r\n                                     @NonNull List&lt;List&lt;Object&gt;&gt; values) {\r\n        // @formatter:off\r\n        String marker = columnNames.stream().map(v -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;));\r\n\r\n        Query nativeQuery = getEntityManager().createNativeQuery(&quot;INSERT INTO &quot;\r\n                + tableName + &quot; (&quot; + String.join(&quot;, &quot;, columnNames) + &quot;) VALUES &quot;\r\n                + values.stream().map(v -&gt; &quot;(&quot; + marker + &quot;)&quot;).collect(Collectors.joining(&quot;, &quot;)));\r\n\r\n        List&lt;Object&gt; flatValues = values.stream().flatMap(Collection::stream).collect(Collectors.toList());\r\n        for (int i = 0; i &lt; flatValues.size(); i++) {\r\n            nativeQuery.setParameter(i + 1, flatValues.get(i));\r\n        }\r\n        // @formatter:on\r\n\r\n        return nativeQuery.executeUpdate();\r\n    }\r\n\r\n    protected &lt;T&gt; JPAQuery&lt;T&gt; select(Expression&lt;T&gt; expr) {\r\n        return getQueryFactory().select(expr);\r\n    }\r\n\r\n    protected JPAQuery&lt;Integer&gt; selectOne() {\r\n        return getQueryFactory().selectOne();\r\n    }\r\n\r\n    protected &lt;T&gt; JPAQuery&lt;T&gt; selectFrom(EntityPath&lt;T&gt; from) {\r\n        return getQueryFactory().selectFrom(from);\r\n    }\r\n\r\n    protected &lt;T&gt; Page&lt;T&gt; applyPagination(@NonNull Pageable pageable, @NonNull JPQLQuery&lt;T&gt; query) {\r\n        Querydsl querydsl = getValidatedQueryDsl();\r\n\r\n        List&lt;T&gt; queryResults = querydsl.applyPagination(pageable, query).fetch();\r\n        long totalCount = query.fetchCount();\r\n        \r\n        if (pageable.getOffset() &gt;= totalCount &amp;&amp; totalCount &gt; 0) {\r\n            int lastPageNo = (int) totalCount / pageable.getPageSize();\r\n            pageable = PageRequest.of(lastPageNo, pageable.getPageSize(), pageable.getSort());\r\n            queryResults = querydsl.applyPagination(pageable, query).fetch();\r\n        }\r\n\r\n        return new PageImpl&lt;&gt;(queryResults, pageable, totalCount);\r\n    }\r\n\r\n    private Querydsl getValidatedQueryDsl() {\r\n        Querydsl querydsl = getQuerydsl();\r\n\r\n        if (null == querydsl) {\r\n            throw new IllegalStateException(&quot;QueryDsl is null&quot;);\r\n        }\r\n\r\n        return querydsl;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;PMD&quot;)\r\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(QSort qsort, JPQLQuery&lt;T&gt; query) {\r\n        List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = qsort.getOrderSpecifiers();\r\n        return query.orderBy(orderSpecifiers.toArray(new OrderSpecifier[0]));\r\n    }\r\n\r\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(@NonNull Sort sort, @NonNull JPQLQuery&lt;T&gt; query) {\r\n        for (Sort.Order order : sort) {\r\n            query.orderBy(toOrderSpecifier(order));\r\n        }\r\n\r\n        return query;\r\n    }\r\n\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;java:S3740&quot;})\r\n    private OrderSpecifier toOrderSpecifier(@NonNull Sort.Order order) {\r\n        return new OrderSpecifier(\r\n                order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC,\r\n                buildOrderPropertyPathFrom(order),\r\n                toQueryDslNullHandling(order.getNullHandling()));\r\n    }\r\n\r\n    private OrderSpecifier.NullHandling toQueryDslNullHandling(@NonNull Sort.NullHandling nullHandling) {\r\n        switch (nullHandling) {\r\n            case NULLS_FIRST:\r\n                return OrderSpecifier.NullHandling.NullsFirst;\r\n            case NULLS_LAST:\r\n                return OrderSpecifier.NullHandling.NullsLast;\r\n            case NATIVE:\r\n            default:\r\n                return OrderSpecifier.NullHandling.Default;\r\n        }\r\n    }\r\n\r\n    private Expression&lt;?&gt; buildOrderPropertyPathFrom(@NonNull Sort.Order order) {\r\n        PropertyPath path = PropertyPath.from(order.getProperty(), getBuilder().getType());\r\n        Expression&lt;?&gt; sortPropertyExpression = getBuilder();\r\n\r\n        while (path != null) {\r\n            if (!path.hasNext() &amp;&amp; order.isIgnoreCase()) {\r\n                sortPropertyExpression = Expressions.stringPath((Path&lt;?&gt;) sortPropertyExpression, path.getSegment())\r\n                        .lower();\r\n            } else {\r\n                sortPropertyExpression = Expressions.path(path.getType(), (Path&lt;?&gt;) sortPropertyExpression,\r\n                        path.getSegment());\r\n            }\r\n\r\n            path = path.next();\r\n        }\r\n\r\n        return sortPropertyExpression;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nwhen I remove the QueryDslRepositoryPaginationSupport class and modify other classes where it extends it, then it works with no problem.\r\n\r\nSo my best bet is that the QueryDslRepositoryPaginationSupport class is causing the issue but have no clues on why.\r\n\r\nCan someone guide me through so that I can understand what is going on?\r\n\r\nAny help will be appreciated.\r\n\r\nThank you.\r\n\r\n\r\nedit.\r\nI&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.\r\n\r\nI&#39;ve checked my build option, project structure and everything.","title":"java.lang.Object org.hibernate.ScrollableResults.get(int) in spring boot 3","body":"<p>I am having a hard time dealing with this error and so wanted to get some advices.</p>\n<p>I am working on a project where I am using Spring Boot3, JDK17, JPA + QueryDsl 5.0.0 and Hibernate 6.2.2.</p>\n<p>Everything worked fine until I started to use transform in querydsl.</p>\n<p>When executed, it gives me an error.</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.lang.Object org.hibernate.ScrollableResults.get(int)'\n    at com.querydsl.jpa.ScrollableResultsIterator.next(ScrollableResultsIterator.java:70) ~[querydsl-jpa-5.0.0-jakarta.jar:na]\n    at com.querydsl.core.group.GroupByList.transform(GroupByList.java:60) ~[querydsl-core-5.0.0.jar:na]\n    at com.querydsl.core.group.GroupByList.transform(GroupByList.java:36) ~[querydsl-core-5.0.0.jar:na]\n    at com.querydsl.core.support.FetchableQueryBase.transform(FetchableQueryBase.java:55) ~[querydsl-core-5.0.0.jar:na]\n    at com.wandted.matitnyam.repository.impl.RegionRepositoryImpl.findAllBy(RegionRepositoryImpl.java:36) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]\n    at com.wandted.matitnyam.repository.impl.RegionRepositoryImpl$$SpringCGLIB$$0.findAllBy(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy131.findAllBy(Unknown Source) ~[na:na]\n    at com.wandted.matitnyam.service.impl.RegionServiceImpl.get(RegionServiceImpl.java:26) ~[classes/:na]\n    at com.wandted.matitnyam.controller.RegionController.read(RegionController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\n\n</code></pre>\n<p>So I started to google the error message and saw solution from querydsl issue page.\n<a href=\"https://github.com/querydsl/querydsl/issues/3428\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/issues/3428</a></p>\n<p>Many others were facing same issues like me.</p>\n<p>After reading through the comments and all, I tried the solution given by one of the user which was to change my JPAConfiguration class something like this.</p>\n<pre><code>public class JpaConfiguration {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Bean\n    public JPAQueryFactory jpaQueryFactory() {\n        return new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager); // added JPQLTemplates.DEFAULT\n    }\n\n}\n</code></pre>\n<p>However that did not solved my problem.</p>\n<p>I am still getting same error everytime when I try to use transform method.</p>\n<p>the only difference I can see is that I am using a class where it extends QuerydslRepositorySuppot and have few custom methods I use in my repositroies.</p>\n<pre><code>public class QueryDslRepositoryPaginationSupport extends QuerydslRepositorySupport {\n\n    private final JPAQueryFactory queryFactory;\n\n\n    public QueryDslRepositoryPaginationSupport(Class&lt;?&gt; domainClass, JPAQueryFactory queryFactory) {\n        super(domainClass);\n        this.queryFactory = queryFactory;\n    }\n\n\n    protected JPAQueryFactory getQueryFactory() {\n        return this.queryFactory;\n    }\n\n    protected int saveAllNativeQuery(@NonNull String tableName, @NonNull List&lt;String&gt; columnNames,\n                                     @NonNull List&lt;List&lt;Object&gt;&gt; values) {\n        // @formatter:off\n        String marker = columnNames.stream().map(v -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;));\n\n        Query nativeQuery = getEntityManager().createNativeQuery(&quot;INSERT INTO &quot;\n                + tableName + &quot; (&quot; + String.join(&quot;, &quot;, columnNames) + &quot;) VALUES &quot;\n                + values.stream().map(v -&gt; &quot;(&quot; + marker + &quot;)&quot;).collect(Collectors.joining(&quot;, &quot;)));\n\n        List&lt;Object&gt; flatValues = values.stream().flatMap(Collection::stream).collect(Collectors.toList());\n        for (int i = 0; i &lt; flatValues.size(); i++) {\n            nativeQuery.setParameter(i + 1, flatValues.get(i));\n        }\n        // @formatter:on\n\n        return nativeQuery.executeUpdate();\n    }\n\n    protected &lt;T&gt; JPAQuery&lt;T&gt; select(Expression&lt;T&gt; expr) {\n        return getQueryFactory().select(expr);\n    }\n\n    protected JPAQuery&lt;Integer&gt; selectOne() {\n        return getQueryFactory().selectOne();\n    }\n\n    protected &lt;T&gt; JPAQuery&lt;T&gt; selectFrom(EntityPath&lt;T&gt; from) {\n        return getQueryFactory().selectFrom(from);\n    }\n\n    protected &lt;T&gt; Page&lt;T&gt; applyPagination(@NonNull Pageable pageable, @NonNull JPQLQuery&lt;T&gt; query) {\n        Querydsl querydsl = getValidatedQueryDsl();\n\n        List&lt;T&gt; queryResults = querydsl.applyPagination(pageable, query).fetch();\n        long totalCount = query.fetchCount();\n        \n        if (pageable.getOffset() &gt;= totalCount &amp;&amp; totalCount &gt; 0) {\n            int lastPageNo = (int) totalCount / pageable.getPageSize();\n            pageable = PageRequest.of(lastPageNo, pageable.getPageSize(), pageable.getSort());\n            queryResults = querydsl.applyPagination(pageable, query).fetch();\n        }\n\n        return new PageImpl&lt;&gt;(queryResults, pageable, totalCount);\n    }\n\n    private Querydsl getValidatedQueryDsl() {\n        Querydsl querydsl = getQuerydsl();\n\n        if (null == querydsl) {\n            throw new IllegalStateException(&quot;QueryDsl is null&quot;);\n        }\n\n        return querydsl;\n    }\n\n    @SuppressWarnings(&quot;PMD&quot;)\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(QSort qsort, JPQLQuery&lt;T&gt; query) {\n        List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = qsort.getOrderSpecifiers();\n        return query.orderBy(orderSpecifiers.toArray(new OrderSpecifier[0]));\n    }\n\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(@NonNull Sort sort, @NonNull JPQLQuery&lt;T&gt; query) {\n        for (Sort.Order order : sort) {\n            query.orderBy(toOrderSpecifier(order));\n        }\n\n        return query;\n    }\n\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;java:S3740&quot;})\n    private OrderSpecifier toOrderSpecifier(@NonNull Sort.Order order) {\n        return new OrderSpecifier(\n                order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC,\n                buildOrderPropertyPathFrom(order),\n                toQueryDslNullHandling(order.getNullHandling()));\n    }\n\n    private OrderSpecifier.NullHandling toQueryDslNullHandling(@NonNull Sort.NullHandling nullHandling) {\n        switch (nullHandling) {\n            case NULLS_FIRST:\n                return OrderSpecifier.NullHandling.NullsFirst;\n            case NULLS_LAST:\n                return OrderSpecifier.NullHandling.NullsLast;\n            case NATIVE:\n            default:\n                return OrderSpecifier.NullHandling.Default;\n        }\n    }\n\n    private Expression&lt;?&gt; buildOrderPropertyPathFrom(@NonNull Sort.Order order) {\n        PropertyPath path = PropertyPath.from(order.getProperty(), getBuilder().getType());\n        Expression&lt;?&gt; sortPropertyExpression = getBuilder();\n\n        while (path != null) {\n            if (!path.hasNext() &amp;&amp; order.isIgnoreCase()) {\n                sortPropertyExpression = Expressions.stringPath((Path&lt;?&gt;) sortPropertyExpression, path.getSegment())\n                        .lower();\n            } else {\n                sortPropertyExpression = Expressions.path(path.getType(), (Path&lt;?&gt;) sortPropertyExpression,\n                        path.getSegment());\n            }\n\n            path = path.next();\n        }\n\n        return sortPropertyExpression;\n    }\n\n\n}\n</code></pre>\n<p>when I remove the QueryDslRepositoryPaginationSupport class and modify other classes where it extends it, then it works with no problem.</p>\n<p>So my best bet is that the QueryDslRepositoryPaginationSupport class is causing the issue but have no clues on why.</p>\n<p>Can someone guide me through so that I can understand what is going on?</p>\n<p>Any help will be appreciated.</p>\n<p>Thank you.</p>\n<p>edit.\nI've tried gradle clean -&gt; build so many times and sure it did not help at all.</p>\n<p>I've checked my build option, project structure and everything.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1555524752,"post_id":55733582,"comment_id":98145863,"body_markdown":"Do not forget to `close` your scanner.","body":"Do not forget to <code>close</code> your scanner."},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1555524917,"post_id":55733582,"comment_id":98145921,"body_markdown":"Why are you creating a text area that is only one character wide? and why throw that away and re-create a text area in the try-block? And why put the text area in a scroll pane, and then re-parent the text area as a child of the content pane, and then doing nothing with the scroll pane?","body":"Why are you creating a text area that is only one character wide? and why throw that away and re-create a text area in the try-block? And why put the text area in a scroll pane, and then re-parent the text area as a child of the content pane, and then doing nothing with the scroll pane?"}],"answers":[{"tags":[],"owner":{"account_id":15750529,"reputation":96,"user_id":11365223,"display_name":"kenbrown_ct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700633364,"creation_date":1555536745,"answer_id":55736272,"question_id":55733582,"body_markdown":"Here is an [MCVE][1] from which you cut and paste as needed for your question.  The example below is not fundamentally different from your question, but it allows other users on StackOverflow to replicate the problem and pass along suggestions or solutions.\r\n\r\nIn addition to modifying the question, please indicate which version of Java you are running.\r\n\r\nBased on what you have said, you will probably need to implement some type of listener to determine when the contents of the file change -- or does it get created and never changed?\r\n\r\n190418 1646Z: Added a refresh button per your last comment.  Let me know if you would prefer the window to update without having to click a button.\r\n\r\n\r\n    package javaapplication7;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class FileWatcher extends JFrame {\r\n\r\n        static final File WATCH_FILE = new File(&quot;c:\\\\temp\\\\java7.txt&quot;);\r\n        static final String DELIMITER = &quot;\\n&quot;;\r\n        private JPanel panel = new JPanel();\r\n        private JTextArea textArea = new JTextArea(20, 20);\r\n\r\n        public FileWatcher() {\r\n\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(600, 300);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n            frame.setTitle(&quot;File Watcher&quot;);\r\n\r\n            frame.add(createPanel());\r\n            frame.pack();\r\n        }\r\n\r\n        private JPanel createPanel() {\r\n            // some code...\r\n\r\n            JPanel tempPanel = getPanel();\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            tempPanel.setLayout(new GridBagLayout());\r\n\r\n            JButton button = new JButton(&quot;Refresh&quot;);\r\n            button.addMouseListener(new MouseListener() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    getUpdatedText();\r\n                }\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseReleased(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseEntered(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent e) {\r\n                }\r\n\r\n            });\r\n            gbc.anchor = GridBagConstraints.NORTH;\r\n            getPanel().add(button, gbc);\r\n\r\n            getTextArea().setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 16));\r\n            getTextArea().setBorder(BorderFactory.createEtchedBorder());\r\n            getTextArea().setLineWrap(true);\r\n            getTextArea().setWrapStyleWord(true);\r\n            getTextArea().setOpaque(true);\r\n            getTextArea().setVisible(true);\r\n            getUpdatedText();\r\n\r\n            JScrollPane scroll = new JScrollPane(getTextArea(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n            scroll.setBorder(BorderFactory.createLineBorder(Color.blue));\r\n            scroll.setVisible(true);\r\n            //        frmUser.getContentPane().add(textArea);\r\n\r\n            gbc.gridy = 1;\r\n            gbc.weightx = 1;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            tempPanel.add(scroll, gbc);\r\n\r\n            return tempPanel;\r\n        }\r\n\r\n        public void getUpdatedText() {\r\n            String all = new String();\r\n            try (Scanner scanner = new Scanner(WATCH_FILE).useDelimiter(DELIMITER)) {\r\n                while (scanner.hasNext()) {\r\n                    all = all.concat(scanner.next()).concat(DELIMITER);\r\n                }\r\n            } catch (FileNotFoundException ex) {\r\n                // swallow, next line covers it\r\n            }\r\n\r\n            if (all.isEmpty()) {\r\n                all = &quot;No Infractions&quot;;\r\n            }\r\n            \r\n            getTextArea().setText(all);\r\n            \r\n        }\r\n\r\n        public JPanel getPanel() {\r\n            return panel;\r\n        }\r\n\r\n        public void setPanel(JPanel panel) {\r\n            this.panel = panel;\r\n        }\r\n\r\n        public JTextArea getTextArea() {\r\n            return textArea;\r\n        }\r\n\r\n        public void setTextArea(JTextArea textArea) {\r\n            this.textArea = textArea;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            FileWatcher javaApplication7 = new FileWatcher();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/mcve","title":"Refresh JTextArea in method","body":"<p>Here is an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> from which you cut and paste as needed for your question.  The example below is not fundamentally different from your question, but it allows other users on StackOverflow to replicate the problem and pass along suggestions or solutions.</p>\n<p>In addition to modifying the question, please indicate which version of Java you are running.</p>\n<p>Based on what you have said, you will probably need to implement some type of listener to determine when the contents of the file change -- or does it get created and never changed?</p>\n<p>190418 1646Z: Added a refresh button per your last comment.  Let me know if you would prefer the window to update without having to click a button.</p>\n<pre><code>package javaapplication7;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class FileWatcher extends JFrame {\n\n    static final File WATCH_FILE = new File(&quot;c:\\\\temp\\\\java7.txt&quot;);\n    static final String DELIMITER = &quot;\\n&quot;;\n    private JPanel panel = new JPanel();\n    private JTextArea textArea = new JTextArea(20, 20);\n\n    public FileWatcher() {\n\n        JFrame frame = new JFrame();\n        frame.setSize(600, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.setTitle(&quot;File Watcher&quot;);\n\n        frame.add(createPanel());\n        frame.pack();\n    }\n\n    private JPanel createPanel() {\n        // some code...\n\n        JPanel tempPanel = getPanel();\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        tempPanel.setLayout(new GridBagLayout());\n\n        JButton button = new JButton(&quot;Refresh&quot;);\n        button.addMouseListener(new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                getUpdatedText();\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseEntered(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n            }\n\n        });\n        gbc.anchor = GridBagConstraints.NORTH;\n        getPanel().add(button, gbc);\n\n        getTextArea().setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 16));\n        getTextArea().setBorder(BorderFactory.createEtchedBorder());\n        getTextArea().setLineWrap(true);\n        getTextArea().setWrapStyleWord(true);\n        getTextArea().setOpaque(true);\n        getTextArea().setVisible(true);\n        getUpdatedText();\n\n        JScrollPane scroll = new JScrollPane(getTextArea(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        scroll.setBorder(BorderFactory.createLineBorder(Color.blue));\n        scroll.setVisible(true);\n        //        frmUser.getContentPane().add(textArea);\n\n        gbc.gridy = 1;\n        gbc.weightx = 1;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        tempPanel.add(scroll, gbc);\n\n        return tempPanel;\n    }\n\n    public void getUpdatedText() {\n        String all = new String();\n        try (Scanner scanner = new Scanner(WATCH_FILE).useDelimiter(DELIMITER)) {\n            while (scanner.hasNext()) {\n                all = all.concat(scanner.next()).concat(DELIMITER);\n            }\n        } catch (FileNotFoundException ex) {\n            // swallow, next line covers it\n        }\n\n        if (all.isEmpty()) {\n            all = &quot;No Infractions&quot;;\n        }\n        \n        getTextArea().setText(all);\n        \n    }\n\n    public JPanel getPanel() {\n        return panel;\n    }\n\n    public void setPanel(JPanel panel) {\n        this.panel = panel;\n    }\n\n    public JTextArea getTextArea() {\n        return textArea;\n    }\n\n    public void setTextArea(JTextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    public static void main(String[] args) {\n        FileWatcher javaApplication7 = new FileWatcher();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14266486,"reputation":4044,"user_id":10305444,"display_name":"Maifee Ul Asad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555559738,"creation_date":1555559738,"answer_id":55738909,"question_id":55733582,"body_markdown":"Use `revalidate()` and `repaint()`.","title":"Refresh JTextArea in method","body":"<p>Use <code>revalidate()</code> and <code>repaint()</code>.</p>\n"}],"owner":{"account_id":15748263,"reputation":1,"user_id":11375360,"display_name":"Foreign"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700633364,"creation_date":1555524342,"question_id":55733582,"body_markdown":"I have the following problem:\r\nin my JTextArea I inserted a default string, which must be updated with the new wording once the file is uploaded.\r\nI have the problem that a live refresh of JTextArea is not done, but if I log out and log in I will see the changed string.\r\n\r\n```\r\n\tpublic void createWindow()\r\n\t{\r\n          // some code...\r\n\r\n          JTextArea textArea = new JTextArea(1,1);\r\n          String all = &quot;Nothing Infractions&quot;;\r\n\t  try {\r\n\t\tall = new Scanner (file).useDelimiter(&quot;\\\\A&quot;).next();\r\n\t\ttextArea =new JTextArea(100,1);\r\n\t  } catch (FileNotFoundException e1) {\r\n\t\ttextArea =new JTextArea(1,1);\r\n\t  }\t\r\n\tJScrollPane scroll = new \r\nJScrollPane(textArea,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n\ttextArea.setText(all);\r\n\tfrmUser.getContentPane().add(textArea);\r\n```\r\nUpdate:\r\n\r\nthe text area was thought to have been written without infraction, then passed the program going on randomly and assigning it to each user, the problem and that when assigning them all the logged in user does not automatically update that part of text where no infraction was written.\r\n\r\nI Use Java 8","title":"Refresh JTextArea in method","body":"<p>I have the following problem:\nin my JTextArea I inserted a default string, which must be updated with the new wording once the file is uploaded.\nI have the problem that a live refresh of JTextArea is not done, but if I log out and log in I will see the changed string.</p>\n\n<pre><code>    public void createWindow()\n    {\n          // some code...\n\n          JTextArea textArea = new JTextArea(1,1);\n          String all = \"Nothing Infractions\";\n      try {\n        all = new Scanner (file).useDelimiter(\"\\\\A\").next();\n        textArea =new JTextArea(100,1);\n      } catch (FileNotFoundException e1) {\n        textArea =new JTextArea(1,1);\n      } \n    JScrollPane scroll = new \nJScrollPane(textArea,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n    textArea.setText(all);\n    frmUser.getContentPane().add(textArea);\n</code></pre>\n\n<p>Update:</p>\n\n<p>the text area was thought to have been written without infraction, then passed the program going on randomly and assigning it to each user, the problem and that when assigning them all the logged in user does not automatically update that part of text where no infraction was written.</p>\n\n<p>I Use Java 8</p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700569362,"post_id":77522474,"comment_id":136668423,"body_markdown":"I&#39;m not familiar with the MS Graph API, but from the error message and looking that the JavaDocs (https://javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.0/com/microsoft/graph/models/Message.html#parentFolderId), I suspect `message.id` should be `message.parentFolderId`.","body":"I&#39;m not familiar with the MS Graph API, but from the error message and looking that the JavaDocs (<a href=\"https://javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.0/com/microsoft/graph/models/Message.html#parentFolderId\" rel=\"nofollow noreferrer\">javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.&zwnj;&#8203;0/&hellip;</a>), I suspect <code>message.id</code> should be <code>message.parentFolderId</code>."},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700617870,"post_id":77522474,"comment_id":136675947,"body_markdown":"@NickHolt tried with message.parentFolderId getting null value.","body":"@NickHolt tried with message.parentFolderId getting null value."},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700619910,"post_id":77522474,"comment_id":136676098,"body_markdown":"Even I try to pass message.parentFolderId . but I am getting same error.","body":"Even I try to pass message.parentFolderId . but I am getting same error."}],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700633306,"creation_date":1700575458,"answer_id":77523436,"question_id":77522474,"body_markdown":"If you want to move message the call `messages` instead of `mailFolders`\r\n\r\n    private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\r\n        System.out.println(message.id);\r\n                \r\n             _appClient.users(o365Mailbox)\r\n                     .messages(message.id)\r\n                    .move(MessageMoveParameterSet\r\n                    .newBuilder()\r\n                    .withDestinationId(&quot;Junk E-mail&quot;)\r\n                    .build())\r\n                .buildRequest()\r\n                .post();\r\n                \r\n    }","title":"How can I move the mail from Inbox to another folder in GraphAPI","body":"<p>If you want to move message the call <code>messages</code> instead of <code>mailFolders</code></p>\n<pre><code>private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\n    System.out.println(message.id);\n            \n         _appClient.users(o365Mailbox)\n                 .messages(message.id)\n                .move(MessageMoveParameterSet\n                .newBuilder()\n                .withDestinationId(&quot;Junk E-mail&quot;)\n                .build())\n            .buildRequest()\n            .post();\n            \n}\n</code></pre>\n"}],"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700633306,"creation_date":1700566345,"question_id":77522474,"body_markdown":"How do I move an email from the Inbox to the Junk E-mail folder in the outlook?\r\n\r\nI tried using below code: \r\n\r\n    private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\r\n\t\tSystem.out.println(message.id);\r\n\t\t\t\t\r\n\t\t\t _appClient.users(o365Mailbox)\r\n\t\t\t     \t .mailFolders(message.id)\r\n\t\t\t \t\t.move(MailFolderMoveParameterSet\r\n\t\t\t\t    .newBuilder()\r\n\t\t\t\t\t.withDestinationId(&quot;Junk E-mail&quot;)\r\n\t\t\t\t\t.build())\r\n\t\t\t\t.buildRequest()\r\n\t\t\t\t.post();\r\n\t\t\t\t\r\n\t}\r\n\r\nBut get the error:\r\n\r\n    SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ErrorInvalidIdMalformed\r\n    Error message: Id is malformed.\r\n\r\nCan any help me on this?","title":"How can I move the mail from Inbox to another folder in GraphAPI","body":"<p>How do I move an email from the Inbox to the Junk E-mail folder in the outlook?</p>\n<p>I tried using below code:</p>\n<pre><code>private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\n    System.out.println(message.id);\n            \n         _appClient.users(o365Mailbox)\n                 .mailFolders(message.id)\n                .move(MailFolderMoveParameterSet\n                .newBuilder()\n                .withDestinationId(&quot;Junk E-mail&quot;)\n                .build())\n            .buildRequest()\n            .post();\n            \n}\n</code></pre>\n<p>But get the error:</p>\n<pre><code>SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ErrorInvalidIdMalformed\nError message: Id is malformed.\n</code></pre>\n<p>Can any help me on this?</p>\n"},{"tags":["java","chromium-embedded","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1700639611,"post_id":77527629,"comment_id":136678011,"body_markdown":"Build time warnings mean that the two methods are listed in `reflect-config.json` but not present in class files. Run time errors suggest that the classes they mention were not configured for reflective access, which seems indeed the case, as they are missing in `reflect-config.json`. They might be missing due to a bug in the agent, or because this particular code path was not executed during agent run.","body":"Build time warnings mean that the two methods are listed in <code>reflect-config.json</code> but not present in class files. Run time errors suggest that the classes they mention were not configured for reflective access, which seems indeed the case, as they are missing in <code>reflect-config.json</code>. They might be missing due to a bug in the agent, or because this particular code path was not executed during agent run."}],"owner":{"account_id":14632469,"reputation":11,"user_id":10567776,"display_name":"S.Baner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700633174,"creation_date":1700633174,"question_id":77527629,"body_markdown":"I have created a browser based on jcef that displays any url passed to it in command line with some custom context menu, using the library [jcefmaven](https://github.com/jcefmaven/jcefmaven) (The jcef native are stored in a fat jar and extracted if not present). I generated the config files using the native image agent. when i tried to build a native image of a jar with those config files, I get two warnings `Warning: Method org.cef.browser.CefBrowserWr$3.coalesceEvents(AWTEvent, AWTEvent) not found.` and `Warning: Method org.example.SingletonDevTools.coalesceEvents(AWTEvent, AWTEvent) not found.`even if reflect-config.json does contain the following entries:\r\n\r\n```\r\n{\r\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n}\r\n```\r\n\r\nand when I launch the native image with same parameters and conditions as the config generation, I get the following error:\r\n\r\n```\r\nLaunch called\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: LOCATING |&gt; In progress...\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: INITIALIZING |&gt; In progress...\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: INITIALIZED |&gt; In progress...\r\ninitialize on Thread[AWT-EventQueue-0,6,main] with library path /home/****/****/****/jcef-bundle\r\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefCommandLine_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\n\tat org.cef.CefApp.N_Initialize(Native Method)\r\n\tat org.cef.CefApp.access$400(CefApp.java:25)\r\n\tat org.cef.CefApp$3.run(CefApp.java:427)\r\n\tat java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\r\n\tat java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefSchemeRegistrar_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\n\tat org.cef.CefApp.N_Initialize(Native Method)\r\n\tat org.cef.CefApp.access$400(CefApp.java:25)\r\n\tat org.cef.CefApp$3.run(CefApp.java:427)\r\n\tat java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\r\n\tat java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\n[1122/103735.075523:WARNING:chrome_browser_cloud_management_controller.cc(88)] Could not create policy manager as CBCM is not enabled.\r\n[1122/103735.158443:WARNING:sandbox_linux.cc(393)] InitializeSandbox() called with multiple threads in process gpu-process.\r\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.browser.CefFrame_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.network.CefRequest_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-19&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.misc.BoolRef\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefContextMenuParams_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefMenuModel_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n\tat org.example.ContextMenuHandler.onBeforeContextMenu(ContextMenuHandler.java:30)\r\n\tat org.cef.CefClient.onBeforeContextMenu(CefClient.java:246)\r\n```\r\n\r\nOS :- Linux Mint\r\n\r\nJava version: 17\r\n\r\n# Source Code :-\r\n\r\n**SingletonDevTools.java**\r\n\r\n```\r\npublic class SingletonDevTools extends JFrame {\r\n    private static SingletonDevTools instance;\r\n\r\n    private SingletonDevTools(){\r\n        super(&quot;Dev Tools&quot;);\r\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    }\r\n\r\n    public static SingletonDevTools getInstance(){\r\n        if(instance == null || !instance.isDisplayable()) {\r\n            instance = new SingletonDevTools();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void launch(CefBrowser devToolsBrowser) {\r\n        if(!isVisible()){\r\n            getContentPane().add(devToolsBrowser.getUIComponent(), BorderLayout.CENTER);\r\n            setVisible(true);\r\n        } else {\r\n            toFront();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**ContextMenuHandler.java**\r\n\r\n```\r\npublic class ContextMenuHandler extends CefContextMenuHandlerAdapter {\r\n    private final int INSPECT = 1;\r\n    private final int OPEN_IN_BROWSER = 2;\r\n    private final int RELOAD = 3;\r\n    String url;\r\n    private CefBrowser devTools;\r\n    private CefBrowser browser;\r\n\r\n    public ContextMenuHandler(CefBrowser browser, String url) {\r\n        this.devTools = browser.getDevTools();\r\n        this.browser = browser;\r\n        this.url = url;\r\n    }\r\n\r\n    @Override\r\n    public void onBeforeContextMenu(\r\n            CefBrowser browser, CefFrame frame, CefContextMenuParams params, CefMenuModel model\r\n    ) {\r\n        // Clear the default context menu\r\n        model.clear();\r\n\r\n        // Add a custom menu item\r\n        model.addItem(RELOAD, &quot;Reload&quot;);\r\n        model.setEnabled(RELOAD, true);\r\n\r\n        model.addSeparator();\r\n\r\n        model.addItem(INSPECT, &quot;Inspect&quot;);\r\n        model.setEnabled(INSPECT, true);\r\n\r\n        model.addItem(OPEN_IN_BROWSER, &quot;Open in browser&quot;);\r\n        model.setEnabled(OPEN_IN_BROWSER, true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onContextMenuCommand(CefBrowser browser, CefFrame frame,\r\n                                        CefContextMenuParams params, int commandId, int eventFlags\r\n    ) {\r\n        // Register a listener for custom menu item clicks\r\n        switch (commandId) {\r\n            case RELOAD -&gt; {\r\n                browser.reload();\r\n                return true;\r\n            }\r\n            case INSPECT -&gt; {\r\n                SingletonDevTools.getInstance().launch(devTools);\r\n                return true;\r\n            }\r\n            case OPEN_IN_BROWSER -&gt; {\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(url));\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n}\r\n```\r\n\r\n**JcefLauncher.java**\r\n\r\n```\r\npublic class JcefLauncher {\r\n    String url;\r\n    CefApp app;\r\n\r\n    public JcefLauncher(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public void launch() {\r\n        System.out.println(&quot;Launch called&quot;);\r\n        //Create a new CefAppBuilder instance\r\n        CefAppBuilder builder = new CefAppBuilder();\r\n\r\n        //Configure the builder instance\r\n        builder.getCefSettings().windowless_rendering_enabled = false;\r\n\r\n        //Build a CefApp instance using the configuration above\r\n        try {\r\n            app = builder.build();\r\n        } catch (IOException | InterruptedException | CefInitializationException | UnsupportedPlatformException e) {\r\n            System.out.println(e);\r\n            System.exit(1);\r\n        }\r\n\r\n        // Create a CefClient instance\r\n        CefClient client = app.createClient();\r\n\r\n        // Create a CefBrowser instance\r\n        CefBrowser browser = client.createBrowser(this.url, false, false);\r\n\r\n        final ContextMenuHandler contextMenuHandler = new ContextMenuHandler(browser, this.url);\r\n        client.addContextMenuHandler(contextMenuHandler);\r\n\r\n        client.addDisplayHandler(new CefDisplayHandlerAdapter() {\r\n            @Override\r\n            public void onAddressChange(CefBrowser browser, CefFrame frame, String url) {\r\n                contextMenuHandler.setUrl(url);\r\n            }\r\n\r\n            @Override\r\n            public boolean onConsoleMessage(CefBrowser browser, CefSettings.LogSeverity level, String message, String source, int line){\r\n                return true;\r\n            }\r\n        });\r\n\r\n        // Create a JFrame to host the browser\r\n        JFrame frame = new JFrame(&quot;Time Table Scheduler&quot;);\r\n        frame.setSize(1260, 700);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.getContentPane().add(browser.getUIComponent(), BorderLayout.CENTER);\r\n        frame.setVisible(true);\r\n        frame.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                app.dispose();\r\n                System.out.println(&quot;System exiting&quot;);\r\n                System.exit(0);\r\n            }\r\n        });\r\n        while (true) {\r\n            try {\r\n                Thread.sleep(30000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            if (!frame.isVisible()){\r\n                app.dispose();\r\n                System.out.println(&quot;System exiting&quot;);\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        if(args == null || args.length==0) {\r\n            System.err.println(&quot;No initial link provided, exiting&quot;);\r\n            System.exit(1);\r\n        }\r\n        JcefLauncher jcefLauncher = new JcefLauncher(args[0]);\r\n        jcefLauncher.launch();\r\n    }\r\n}\r\n```\r\n\r\n# Config files :-\r\n\r\n**reflect-config.json :-**\r\n\r\n```\r\n[\r\n{\r\n  &quot;name&quot;:&quot;java.awt.SequencedEvent&quot;\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.awt.event.KeyEvent&quot;,\r\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;VK_CONTEXT_MENU&quot;}, {&quot;name&quot;:&quot;VK_F10&quot;}]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.sql.Date&quot;\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.util.concurrent.atomic.AtomicBoolean&quot;,\r\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;value&quot;}]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;javax.swing.plaf.basic.BasicPanelUI&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;javax.swing.plaf.metal.MetalRootPaneUI&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;sun.java2d.marlin.DMarlinRenderingEngine&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n}\r\n]\r\n```\r\n\r\n**resource-config.json :-**\r\n\r\n```\r\n{\r\n  &quot;resources&quot;:{\r\n  &quot;includes&quot;:[{\r\n    &quot;pattern&quot;:&quot;\\\\Qbuild_meta.json\\\\E&quot;\r\n  }, {\r\n    &quot;pattern&quot;:&quot;\\\\Qjcef-natives-linux-amd64-jcef-37f25dc+cef-116.0.19+gc6a20bc+chromium-116.0.5845.141.tar.gz\\\\E&quot;\r\n  }]},\r\n  &quot;bundles&quot;:[{\r\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;,\r\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;]\r\n  }, {\r\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;,\r\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;]\r\n  }, {\r\n    &quot;name&quot;:&quot;sun.awt.resources.awt&quot;,\r\n    &quot;classNames&quot;:[&quot;sun.awt.resources.awt&quot;]\r\n  }]\r\n}\r\n```","title":"GraalVM native image of JCEF application not working, even if agent generated config files were added","body":"<p>I have created a browser based on jcef that displays any url passed to it in command line with some custom context menu, using the library <a href=\"https://github.com/jcefmaven/jcefmaven\" rel=\"nofollow noreferrer\">jcefmaven</a> (The jcef native are stored in a fat jar and extracted if not present). I generated the config files using the native image agent. when i tried to build a native image of a jar with those config files, I get two warnings <code>Warning: Method org.cef.browser.CefBrowserWr$3.coalesceEvents(AWTEvent, AWTEvent) not found.</code> and <code>Warning: Method org.example.SingletonDevTools.coalesceEvents(AWTEvent, AWTEvent) not found.</code>even if reflect-config.json does contain the following entries:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n}\n</code></pre>\n<p>and when I launch the native image with same parameters and conditions as the config generation, I get the following error:</p>\n<pre><code>Launch called\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: LOCATING |&gt; In progress...\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: INITIALIZING |&gt; In progress...\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: INITIALIZED |&gt; In progress...\ninitialize on Thread[AWT-EventQueue-0,6,main] with library path /home/****/****/****/jcef-bundle\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefCommandLine_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\n    at org.cef.CefApp.N_Initialize(Native Method)\n    at org.cef.CefApp.access$400(CefApp.java:25)\n    at org.cef.CefApp$3.run(CefApp.java:427)\n    at java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\n    at java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefSchemeRegistrar_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\n    at org.cef.CefApp.N_Initialize(Native Method)\n    at org.cef.CefApp.access$400(CefApp.java:25)\n    at org.cef.CefApp$3.run(CefApp.java:427)\n    at java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\n    at java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\n[1122/103735.075523:WARNING:chrome_browser_cloud_management_controller.cc(88)] Could not create policy manager as CBCM is not enabled.\n[1122/103735.158443:WARNING:sandbox_linux.cc(393)] InitializeSandbox() called with multiple threads in process gpu-process.\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.browser.CefFrame_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.network.CefRequest_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-19&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.misc.BoolRef\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefContextMenuParams_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefMenuModel_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.NullPointerException\njava.lang.NullPointerException\n    at org.example.ContextMenuHandler.onBeforeContextMenu(ContextMenuHandler.java:30)\n    at org.cef.CefClient.onBeforeContextMenu(CefClient.java:246)\n</code></pre>\n<p>OS :- Linux Mint</p>\n<p>Java version: 17</p>\n<h1>Source Code :-</h1>\n<p><strong>SingletonDevTools.java</strong></p>\n<pre><code>public class SingletonDevTools extends JFrame {\n    private static SingletonDevTools instance;\n\n    private SingletonDevTools(){\n        super(&quot;Dev Tools&quot;);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    }\n\n    public static SingletonDevTools getInstance(){\n        if(instance == null || !instance.isDisplayable()) {\n            instance = new SingletonDevTools();\n        }\n        return instance;\n    }\n\n    public void launch(CefBrowser devToolsBrowser) {\n        if(!isVisible()){\n            getContentPane().add(devToolsBrowser.getUIComponent(), BorderLayout.CENTER);\n            setVisible(true);\n        } else {\n            toFront();\n        }\n    }\n}\n</code></pre>\n<p><strong>ContextMenuHandler.java</strong></p>\n<pre><code>public class ContextMenuHandler extends CefContextMenuHandlerAdapter {\n    private final int INSPECT = 1;\n    private final int OPEN_IN_BROWSER = 2;\n    private final int RELOAD = 3;\n    String url;\n    private CefBrowser devTools;\n    private CefBrowser browser;\n\n    public ContextMenuHandler(CefBrowser browser, String url) {\n        this.devTools = browser.getDevTools();\n        this.browser = browser;\n        this.url = url;\n    }\n\n    @Override\n    public void onBeforeContextMenu(\n            CefBrowser browser, CefFrame frame, CefContextMenuParams params, CefMenuModel model\n    ) {\n        // Clear the default context menu\n        model.clear();\n\n        // Add a custom menu item\n        model.addItem(RELOAD, &quot;Reload&quot;);\n        model.setEnabled(RELOAD, true);\n\n        model.addSeparator();\n\n        model.addItem(INSPECT, &quot;Inspect&quot;);\n        model.setEnabled(INSPECT, true);\n\n        model.addItem(OPEN_IN_BROWSER, &quot;Open in browser&quot;);\n        model.setEnabled(OPEN_IN_BROWSER, true);\n    }\n\n    @Override\n    public boolean onContextMenuCommand(CefBrowser browser, CefFrame frame,\n                                        CefContextMenuParams params, int commandId, int eventFlags\n    ) {\n        // Register a listener for custom menu item clicks\n        switch (commandId) {\n            case RELOAD -&gt; {\n                browser.reload();\n                return true;\n            }\n            case INSPECT -&gt; {\n                SingletonDevTools.getInstance().launch(devTools);\n                return true;\n            }\n            case OPEN_IN_BROWSER -&gt; {\n                try {\n                    Desktop.getDesktop().browse(new URI(url));\n                } catch (Exception e) {\n                    System.out.println(e);\n                    return false;\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n}\n</code></pre>\n<p><strong>JcefLauncher.java</strong></p>\n<pre><code>public class JcefLauncher {\n    String url;\n    CefApp app;\n\n    public JcefLauncher(String url) {\n        this.url = url;\n    }\n\n    public void launch() {\n        System.out.println(&quot;Launch called&quot;);\n        //Create a new CefAppBuilder instance\n        CefAppBuilder builder = new CefAppBuilder();\n\n        //Configure the builder instance\n        builder.getCefSettings().windowless_rendering_enabled = false;\n\n        //Build a CefApp instance using the configuration above\n        try {\n            app = builder.build();\n        } catch (IOException | InterruptedException | CefInitializationException | UnsupportedPlatformException e) {\n            System.out.println(e);\n            System.exit(1);\n        }\n\n        // Create a CefClient instance\n        CefClient client = app.createClient();\n\n        // Create a CefBrowser instance\n        CefBrowser browser = client.createBrowser(this.url, false, false);\n\n        final ContextMenuHandler contextMenuHandler = new ContextMenuHandler(browser, this.url);\n        client.addContextMenuHandler(contextMenuHandler);\n\n        client.addDisplayHandler(new CefDisplayHandlerAdapter() {\n            @Override\n            public void onAddressChange(CefBrowser browser, CefFrame frame, String url) {\n                contextMenuHandler.setUrl(url);\n            }\n\n            @Override\n            public boolean onConsoleMessage(CefBrowser browser, CefSettings.LogSeverity level, String message, String source, int line){\n                return true;\n            }\n        });\n\n        // Create a JFrame to host the browser\n        JFrame frame = new JFrame(&quot;Time Table Scheduler&quot;);\n        frame.setSize(1260, 700);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.getContentPane().add(browser.getUIComponent(), BorderLayout.CENTER);\n        frame.setVisible(true);\n        frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                app.dispose();\n                System.out.println(&quot;System exiting&quot;);\n                System.exit(0);\n            }\n        });\n        while (true) {\n            try {\n                Thread.sleep(30000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            if (!frame.isVisible()){\n                app.dispose();\n                System.out.println(&quot;System exiting&quot;);\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        if(args == null || args.length==0) {\n            System.err.println(&quot;No initial link provided, exiting&quot;);\n            System.exit(1);\n        }\n        JcefLauncher jcefLauncher = new JcefLauncher(args[0]);\n        jcefLauncher.launch();\n    }\n}\n</code></pre>\n<h1>Config files :-</h1>\n<p><strong>reflect-config.json :-</strong></p>\n<pre><code>[\n{\n  &quot;name&quot;:&quot;java.awt.SequencedEvent&quot;\n},\n{\n  &quot;name&quot;:&quot;java.awt.event.KeyEvent&quot;,\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;VK_CONTEXT_MENU&quot;}, {&quot;name&quot;:&quot;VK_F10&quot;}]\n},\n{\n  &quot;name&quot;:&quot;java.sql.Date&quot;\n},\n{\n  &quot;name&quot;:&quot;java.util.concurrent.atomic.AtomicBoolean&quot;,\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;value&quot;}]\n},\n{\n  &quot;name&quot;:&quot;javax.swing.plaf.basic.BasicPanelUI&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;javax.swing.plaf.metal.MetalRootPaneUI&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;sun.java2d.marlin.DMarlinRenderingEngine&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n}\n]\n</code></pre>\n<p><strong>resource-config.json :-</strong></p>\n<pre><code>{\n  &quot;resources&quot;:{\n  &quot;includes&quot;:[{\n    &quot;pattern&quot;:&quot;\\\\Qbuild_meta.json\\\\E&quot;\n  }, {\n    &quot;pattern&quot;:&quot;\\\\Qjcef-natives-linux-amd64-jcef-37f25dc+cef-116.0.19+gc6a20bc+chromium-116.0.5845.141.tar.gz\\\\E&quot;\n  }]},\n  &quot;bundles&quot;:[{\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;,\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;]\n  }, {\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;,\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;]\n  }, {\n    &quot;name&quot;:&quot;sun.awt.resources.awt&quot;,\n    &quot;classNames&quot;:[&quot;sun.awt.resources.awt&quot;]\n  }]\n}\n</code></pre>\n"},{"tags":["java","android","android-deep-link"],"owner":{"account_id":1964004,"reputation":1,"user_id":1764717,"display_name":"user1764717"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700632720,"creation_date":1700485576,"question_id":77516119,"body_markdown":"I am adding deeplinks to my Android  but I am not getting the URL when I click on &lt;https://example.com/myvalues&gt;, while When I click on myScheme://example.com/myvalues  (Scheme is myScheme)\r\n\r\nHere are my intent-filters:\r\n\r\n**AndroidManifest.xml**\r\n\r\n```xml\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:scheme=&quot;http&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:scheme=&quot;https&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;myScheme&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot;https&quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;https&quot;\r\n                    android:host=&quot;example.com&quot;\r\n                    android:pathPrefix=&quot;/&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot; &gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;!-- Accepts URIs that begin with &quot;example://gizmos” --&gt;\r\n\t&lt;data android:scheme=&quot;myScheme&quot;\r\n                    android:host=&quot;example.com&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nAnd my Java code is\r\n\r\n```java\r\nfinal String intentString = intent.getDataString();\r\n\r\n// read intent\r\nString action = intent.getAction();\r\nUri url = intent.getData();\r\n```\r\n\r\nIn url I am getting,\r\n\r\n&gt; url : &quot;myScheme://&quot;,\r\n&gt; host:&quot;&quot;,\r\n&gt; queryString: &quot;&quot;\r\n\r\nCan anyone please help me to get what I am missing or debug this ?\r\n\r\nI have tried almost all example and guides on blogs and also tried with the official documentations.","title":"Android deeplinks not getting url","body":"<p>I am adding deeplinks to my Android  but I am not getting the URL when I click on <a href=\"https://example.com/myvalues\" rel=\"nofollow noreferrer\">https://example.com/myvalues</a>, while When I click on myScheme://example.com/myvalues  (Scheme is myScheme)</p>\n<p>Here are my intent-filters:</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:scheme=&quot;http&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:scheme=&quot;https&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;myScheme&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot;https&quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot;\n                    android:host=&quot;example.com&quot;\n                    android:pathPrefix=&quot;/&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot; &gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;!-- Accepts URIs that begin with &quot;example://gizmos” --&gt;\n    &lt;data android:scheme=&quot;myScheme&quot;\n                    android:host=&quot;example.com&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>And my Java code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String intentString = intent.getDataString();\n\n// read intent\nString action = intent.getAction();\nUri url = intent.getData();\n</code></pre>\n<p>In url I am getting,</p>\n<blockquote>\n<p>url : &quot;myScheme://&quot;,\nhost:&quot;&quot;,\nqueryString: &quot;&quot;</p>\n</blockquote>\n<p>Can anyone please help me to get what I am missing or debug this ?</p>\n<p>I have tried almost all example and guides on blogs and also tried with the official documentations.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670384110,"creation_date":1670384110,"answer_id":74711478,"question_id":74710652,"body_markdown":"Two things, add the dependency the error log talks about (which I see you did) and then create a objectmapper bean in your spring configs for your service to use. Please remove what you have in the config class above and simply it to just this one bean method:\r\n\r\n    @Bean\r\n    ObjectMapper jacksonObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        return objectMapper;\r\n    }","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>Two things, add the dependency the error log talks about (which I see you did) and then create a objectmapper bean in your spring configs for your service to use. Please remove what you have in the config class above and simply it to just this one bean method:</p>\n<pre><code>@Bean\nObjectMapper jacksonObjectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    return objectMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14681183,"reputation":147,"user_id":10602598,"display_name":"I.Yuldoshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700632705,"creation_date":1700632705,"answer_id":77527608,"question_id":74710652,"body_markdown":"From you logs you can see that ES is using `JacksonJsonpMapper` for parsing and it is not using object mapper configured by Spring. Also, you will lose autoconfiguration for `ObjectMapper` if you define it as a bean yourself.\r\n\r\nDefine `JacksonJsonpMapper` yourself with autoconfigured `ObjectMapper`\r\nand add this additional custom converters for ES\r\n\r\n```\r\n\r\n@Configuration\r\npublic class JacksonConfig {\r\n\r\n    /**\r\n     * Support for Java date and time API.\r\n     * @return the corresponding Jackson module.\r\n     */\r\n    @Bean\r\n    public JavaTimeModule javaTimeModule() {\r\n        return new JavaTimeModule();\r\n    }\r\n\r\n    @Bean\r\n    public Jdk8Module jdk8TimeModule() {\r\n        return new Jdk8Module();\r\n    }\r\n\r\n}\r\n\r\n\r\n@Configuration\r\npublic class ESConfig extends ElasticsearchConfigurationSupport {\r\n\r\n\r\n    @Bean\r\n    public JacksonJsonpMapper jacksonJsonpMapper(ObjectMapper objectMapper) {\r\n        return new JacksonJsonpMapper(objectMapper);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\r\n        return new ElasticsearchCustomConversions(\r\n                List.of(\r\n                        new ZonedDateTimeWritingConverter(),\r\n                        new ZonedDateTimeReadingConverter(),\r\n                        new InstantWritingConverter(),\r\n                        new InstantReadingConverter(),\r\n                        new LocalDateWritingConverter(),\r\n                        new LocalDateReadingConverter()\r\n                )\r\n        );\r\n    }\r\n\r\n    @WritingConverter\r\n    static class ZonedDateTimeWritingConverter implements Converter&lt;ZonedDateTime, String&gt; {\r\n\r\n        @Override\r\n        public String convert(ZonedDateTime source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toInstant().toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class ZonedDateTimeReadingConverter implements Converter&lt;String, ZonedDateTime&gt; {\r\n\r\n        @Override\r\n        public ZonedDateTime convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return Instant.parse(source).atZone(ZoneId.systemDefault());\r\n        }\r\n    }\r\n\r\n    @WritingConverter\r\n    static class InstantWritingConverter implements Converter&lt;Instant, String&gt; {\r\n\r\n        @Override\r\n        public String convert(Instant source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class InstantReadingConverter implements Converter&lt;String, Instant&gt; {\r\n\r\n        @Override\r\n        public Instant convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return Instant.parse(source);\r\n        }\r\n    }\r\n\r\n    @WritingConverter\r\n    static class LocalDateWritingConverter implements Converter&lt;LocalDate, String&gt; {\r\n\r\n        @Override\r\n        public String convert(LocalDate source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class LocalDateReadingConverter implements Converter&lt;String, LocalDate&gt; {\r\n\r\n        @Override\r\n        public LocalDate convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return LocalDate.parse(source);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>From you logs you can see that ES is using <code>JacksonJsonpMapper</code> for parsing and it is not using object mapper configured by Spring. Also, you will lose autoconfiguration for <code>ObjectMapper</code> if you define it as a bean yourself.</p>\n<p>Define <code>JacksonJsonpMapper</code> yourself with autoconfigured <code>ObjectMapper</code>\nand add this additional custom converters for ES</p>\n<pre><code>\n@Configuration\npublic class JacksonConfig {\n\n    /**\n     * Support for Java date and time API.\n     * @return the corresponding Jackson module.\n     */\n    @Bean\n    public JavaTimeModule javaTimeModule() {\n        return new JavaTimeModule();\n    }\n\n    @Bean\n    public Jdk8Module jdk8TimeModule() {\n        return new Jdk8Module();\n    }\n\n}\n\n\n@Configuration\npublic class ESConfig extends ElasticsearchConfigurationSupport {\n\n\n    @Bean\n    public JacksonJsonpMapper jacksonJsonpMapper(ObjectMapper objectMapper) {\n        return new JacksonJsonpMapper(objectMapper);\n    }\n\n    @Bean\n    @Override\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\n        return new ElasticsearchCustomConversions(\n                List.of(\n                        new ZonedDateTimeWritingConverter(),\n                        new ZonedDateTimeReadingConverter(),\n                        new InstantWritingConverter(),\n                        new InstantReadingConverter(),\n                        new LocalDateWritingConverter(),\n                        new LocalDateReadingConverter()\n                )\n        );\n    }\n\n    @WritingConverter\n    static class ZonedDateTimeWritingConverter implements Converter&lt;ZonedDateTime, String&gt; {\n\n        @Override\n        public String convert(ZonedDateTime source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toInstant().toString();\n        }\n    }\n\n    @ReadingConverter\n    static class ZonedDateTimeReadingConverter implements Converter&lt;String, ZonedDateTime&gt; {\n\n        @Override\n        public ZonedDateTime convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return Instant.parse(source).atZone(ZoneId.systemDefault());\n        }\n    }\n\n    @WritingConverter\n    static class InstantWritingConverter implements Converter&lt;Instant, String&gt; {\n\n        @Override\n        public String convert(Instant source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toString();\n        }\n    }\n\n    @ReadingConverter\n    static class InstantReadingConverter implements Converter&lt;String, Instant&gt; {\n\n        @Override\n        public Instant convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return Instant.parse(source);\n        }\n    }\n\n    @WritingConverter\n    static class LocalDateWritingConverter implements Converter&lt;LocalDate, String&gt; {\n\n        @Override\n        public String convert(LocalDate source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toString();\n        }\n    }\n\n    @ReadingConverter\n    static class LocalDateReadingConverter implements Converter&lt;String, LocalDate&gt; {\n\n        @Override\n        public LocalDate convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return LocalDate.parse(source);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700632705,"creation_date":1670374768,"question_id":74710652,"body_markdown":"I know there have been a few duplicates of my question but none have resolved my issue so I&#39;m creating a new question. \r\n\r\nI have a spring boot app (v 2.7.6) with JDK17 which queries an ElasticSearch object. This object contains an Instant field which when being mapped to an Java object is causing the following error:\r\n\r\n```\r\n2022-12-07 00:43:14.442 ERROR 59384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed; nested exception is co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.GetResponse: jakarta.json.JsonException: Jackson exception (JSON path: _source) (line no=1, column no=280, offset=-1)] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 279] (through reference chain: test.com.model.Project[&quot;createdDate&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.impl.UnsupportedTypeDeserializer.deserialize(UnsupportedTypeDeserializer.java:48) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat co.elastic.clients.json.jackson.JacksonJsonpMapper$JacksonValueParser.deserialize(JacksonJsonpMapper.java:123) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpMapperBase.deserialize(JsonpMapperBase.java:70) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer$1.deserialize(JsonpDeserializer.java:99) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:325) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:295) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:831) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:847) ~[elasticsearch-java-8.5.1.jar:na]\r\n...\r\n.....\r\n```\r\nOriginally I had no JacksonConfiguration so I would have thought the default jackson would have just worked. \r\n\r\nAfter reading other stackoverflow posts I have tried creating a configuration class like so, but it has not resolved the issue:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport org.openapitools.jackson.nullable.JsonNullableModule;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\n@Configuration\r\npublic class JacksonConfiguration {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public JacksonConfiguration(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Bean\r\n    public JavaTimeModule dateTimeModule(){\r\n        return new JavaTimeModule();\r\n    }\r\n\r\n    @PostConstruct\r\n    ObjectMapper jacksonObjectMapper() {\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.registerModule(new JsonNullableModule());\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nHere are also my dependancies:\r\n```\r\ndependencies {\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-elasticsearch&#39;, version: &#39;5.0.0&#39;\r\n    implementation &#39;org.elasticsearch.client:elasticsearch-rest-client:8.5.2&#39;\r\n    implementation &#39;co.elastic.clients:elasticsearch-java:8.5.1&#39;\r\n    implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.17.6&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-oauth2-client&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-oauth2-resource-server&#39;\r\n//    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    implementation &#39;org.apache.httpcomponents.client5:httpclient5:5.0.3&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-security:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webmvc-core:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.13&#39;\r\n\r\n    implementation(&quot;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&quot;)\r\n    implementation(&quot;org.springframework.integration:spring-integration-core&quot;)\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-logging&#39;\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-logging&#39;, version: &#39;1.2.8.RELEASE&#39;\r\n\r\n    implementation group: &#39;co.elastic.logging&#39;, name: &#39;logback-ecs-encoder&#39;, version: &#39;1.3.2&#39;\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk&#39;, version: &#39;1.12.142&#39;\r\n\r\n    implementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n//    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.13.1&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.14.1&#39;\r\n    implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n\r\n    implementation group: &#39;org.openapitools&#39;, name: &#39;jackson-databind-nullable&#39;, version: &#39;0.2.2&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n    implementation &#39;jakarta.json:jakarta.json-api:2.0.1&#39;\r\n\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.4&#39;\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n\r\n    implementation group: &#39;com.auth0&#39;, name: &#39;java-jwt&#39;, version: &#39;3.12.0&#39;\r\n    implementation group: &#39;com.auth0&#39;, name: &#39;auth0&#39;, version: &#39;1.34.1&#39;\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n\r\n\r\n    implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.15&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.2&#39;\r\n    testImplementation &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n}\r\n```\r\n","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>I know there have been a few duplicates of my question but none have resolved my issue so I'm creating a new question.</p>\n<p>I have a spring boot app (v 2.7.6) with JDK17 which queries an ElasticSearch object. This object contains an Instant field which when being mapped to an Java object is causing the following error:</p>\n<pre><code>2022-12-07 00:43:14.442 ERROR 59384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed; nested exception is co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.GetResponse: jakarta.json.JsonException: Jackson exception (JSON path: _source) (line no=1, column no=280, offset=-1)] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 279] (through reference chain: test.com.model.Project[&quot;createdDate&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.impl.UnsupportedTypeDeserializer.deserialize(UnsupportedTypeDeserializer.java:48) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at co.elastic.clients.json.jackson.JacksonJsonpMapper$JacksonValueParser.deserialize(JacksonJsonpMapper.java:123) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpMapperBase.deserialize(JsonpMapperBase.java:70) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer$1.deserialize(JsonpDeserializer.java:99) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:325) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:295) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:831) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:847) ~[elasticsearch-java-8.5.1.jar:na]\n...\n.....\n</code></pre>\n<p>Originally I had no JacksonConfiguration so I would have thought the default jackson would have just worked.</p>\n<p>After reading other stackoverflow posts I have tried creating a configuration class like so, but it has not resolved the issue:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport org.openapitools.jackson.nullable.JsonNullableModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\n\n@Configuration\npublic class JacksonConfiguration {\n\n    private final ObjectMapper objectMapper;\n\n    public JacksonConfiguration(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Bean\n    public JavaTimeModule dateTimeModule(){\n        return new JavaTimeModule();\n    }\n\n    @PostConstruct\n    ObjectMapper jacksonObjectMapper() {\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.registerModule(new JsonNullableModule());\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>Here are also my dependancies:</p>\n<pre><code>dependencies {\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb'\n    implementation group: 'org.springframework.data', name: 'spring-data-elasticsearch', version: '5.0.0'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-client:8.5.2'\n    implementation 'co.elastic.clients:elasticsearch-java:8.5.1'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.17.6'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security'\n    implementation group: 'org.springframework.security', name: 'spring-security-oauth2-client'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-oauth2-resource-server'\n//    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation 'org.apache.httpcomponents.client5:httpclient5:5.0.3'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-security:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webmvc-core:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webflux-core:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.13'\n\n    implementation(&quot;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&quot;)\n    implementation(&quot;org.springframework.integration:spring-integration-core&quot;)\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-logging'\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-logging', version: '1.2.8.RELEASE'\n\n    implementation group: 'co.elastic.logging', name: 'logback-ecs-encoder', version: '1.3.2'\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk', version: '1.12.142'\n\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n//    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.13.1'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.14.1'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    implementation group: 'org.json', name: 'json', version: '20201115'\n\n    implementation group: 'org.openapitools', name: 'jackson-databind-nullable', version: '0.2.2'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n    implementation 'jakarta.json:jakarta.json-api:2.0.1'\n\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: '4.4'\n    implementation 'commons-io:commons-io:2.11.0'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.guava:guava:31.0.1-jre'\n\n    implementation group: 'com.auth0', name: 'java-jwt', version: '3.12.0'\n    implementation group: 'com.auth0', name: 'auth0', version: '1.34.1'\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n\n    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation group: 'junit', name: 'junit', version: '4.13.2'\n    testImplementation 'org.projectlombok:lombok:1.18.20'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n}\n</code></pre>\n"},{"tags":["java","maven","osgi","micronaut"],"owner":{"account_id":29963340,"reputation":1,"user_id":22962460,"display_name":"Sudheer Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700632396,"creation_date":1700632396,"question_id":77527595,"body_markdown":"I am not to integrate micronaut in sample oneM2M osgi project .I want to calculate the execution time of the functions using micronaut,but micronaut is  running as a seperate application. But not with osgi project . I have created the plugin named **org.eclipse.om2m.sample.ipe** and added the plugin in the mn-cse module . \r\n\r\nI have created the sample plugin in mn-cse and added the micronaut functionality in that but the annotations like singleton,async and many more are not resolved. My micronaut functinality is running in the seperate project but not in the plugin one . What should I need to do ?\r\n[error photo ](https://i.stack.imgur.com/bDuV0.png).If someone can tell me how to integrate micronaut with oneM2M sample project then it would be great !","title":"I want to integrate micronaut functionality in sample oneM2M project and to calculate the execution time of the functions","body":"<p>I am not to integrate micronaut in sample oneM2M osgi project .I want to calculate the execution time of the functions using micronaut,but micronaut is  running as a seperate application. But not with osgi project . I have created the plugin named <strong>org.eclipse.om2m.sample.ipe</strong> and added the plugin in the mn-cse module .</p>\n<p>I have created the sample plugin in mn-cse and added the micronaut functionality in that but the annotations like singleton,async and many more are not resolved. My micronaut functinality is running in the seperate project but not in the plugin one . What should I need to do ?\n<a href=\"https://i.stack.imgur.com/bDuV0.png\" rel=\"nofollow noreferrer\">error photo </a>.If someone can tell me how to integrate micronaut with oneM2M sample project then it would be great !</p>\n"},{"tags":["java","generics","nested-generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1698959624,"post_id":77412786,"comment_id":136474255,"body_markdown":"I&#39;m not quite sure why you want to keep the type parameters in your `Impl` classes. Why not just `class NodeImpl implements Node&lt;EdgeImpl&gt; { ...` ?","body":"I&#39;m not quite sure why you want to keep the type parameters in your <code>Impl</code> classes. Why not just <code>class NodeImpl implements Node&lt;EdgeImpl&gt; { ...</code> ?"},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1699132496,"post_id":77412786,"comment_id":136493735,"body_markdown":"There may be multiple node and edge implementations. I want every node implementation to work with any edge implementation and every edge implementation to work with any node implementation.","body":"There may be multiple node and edge implementations. I want every node implementation to work with any edge implementation and every edge implementation to work with any node implementation."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699135608,"post_id":77412786,"comment_id":136494006,"body_markdown":"Are you sure you need generics at all? Just let `Node`s deal with general `Edge`s and vice-versa.","body":"Are you sure you need generics at all? Just let <code>Node</code>s deal with general <code>Edge</code>s and vice-versa."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699146250,"post_id":77412786,"comment_id":136494718,"body_markdown":"Please edit your question and show how you want to use the implementations.","body":"Please edit your question and show how you want to use the implementations."}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700632253,"creation_date":1700632253,"answer_id":77527590,"question_id":77412786,"body_markdown":"If you want to have two implementation classes that are linked, you can declare the interfaces as:\r\n\r\n    public interface Node&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\r\n\r\nThen you can declare implementation classes as:\r\n\r\n    public class NodeImpl implements Node&lt;NodeImpl, EdgeImpl&gt; {\r\n    public class EdgeImpl implements Edge&lt;NodeImpl, EdgeImpl&gt; {","title":"How can self-references (recursion) in Java generics be used correctly?","body":"<p>If you want to have two implementation classes that are linked, you can declare the interfaces as:</p>\n<pre><code>public interface Node&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\n</code></pre>\n<p>Then you can declare implementation classes as:</p>\n<pre><code>public class NodeImpl implements Node&lt;NodeImpl, EdgeImpl&gt; {\npublic class EdgeImpl implements Edge&lt;NodeImpl, EdgeImpl&gt; {\n</code></pre>\n"}],"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700632253,"creation_date":1698957877,"question_id":77412786,"body_markdown":"Let&#39;s say I have two Java interfaces. One is a node interface that is supposed to manage its outgoing and incoming edges, so it is parameterized with an edge type. The other one is an edge interface that has a source node and a target node, so it is parameterized with a node type.\r\n\r\nI could start defining it like this:\r\n\r\n    public interface Node&lt;E extends Edge&gt; {\r\n        List&lt;E&gt; getOutgoingEdges();\r\n        List&lt;E&gt; getIncomingEdges();\r\n    }\r\n\r\n    public interface Edge&lt;N extends Node&gt; {\r\n        N getSource();\r\n        N getTarget();\r\n    }\r\n\r\nThis is only partially correct, because Edge and Node have parameters, and they have been omitted.\r\n\r\nSo I could try this:\r\n\r\n    public interface Node&lt;E extends Edge&lt;Node&lt;E&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;Edge&lt;N&gt;&gt; {\r\n\r\nHowever, this causes compiler errors.\r\n\r\nThis works, but it doesn&#39;t quite seem to be what I want:\r\n\r\n    public interface Node&lt;E extends Edge&lt;?&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;?&gt;&gt; {\r\n\r\nAnd least it also allows implementing the interfaces with two classes:\r\n\r\n    public class NodeImpl&lt;E extends Edge&lt;NodeImpl&lt;E&gt;&gt;&gt; implements Node&lt;E&gt; {\r\n    public class EdgeImpl&lt;N extends Node&lt;EdgeImpl&lt;N&gt;&gt;&gt; implements Edge&lt;N&gt; {\r\n\r\nWhat is then the correct way to declare and instantiate NodeImpl and EdgeImpl? None of this works without warnings/errors:\r\n\r\n    Node&lt;?&gt; node = new NodeImpl&lt;&gt;();\r\n    Node&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    Node&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;?&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n\r\nHow shall the interfaces be declared, how do the implementations need to be declared and how can I declare/instantiate the implementations?","title":"How can self-references (recursion) in Java generics be used correctly?","body":"<p>Let's say I have two Java interfaces. One is a node interface that is supposed to manage its outgoing and incoming edges, so it is parameterized with an edge type. The other one is an edge interface that has a source node and a target node, so it is parameterized with a node type.</p>\n<p>I could start defining it like this:</p>\n<pre><code>public interface Node&lt;E extends Edge&gt; {\n    List&lt;E&gt; getOutgoingEdges();\n    List&lt;E&gt; getIncomingEdges();\n}\n\npublic interface Edge&lt;N extends Node&gt; {\n    N getSource();\n    N getTarget();\n}\n</code></pre>\n<p>This is only partially correct, because Edge and Node have parameters, and they have been omitted.</p>\n<p>So I could try this:</p>\n<pre><code>public interface Node&lt;E extends Edge&lt;Node&lt;E&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;Edge&lt;N&gt;&gt; {\n</code></pre>\n<p>However, this causes compiler errors.</p>\n<p>This works, but it doesn't quite seem to be what I want:</p>\n<pre><code>public interface Node&lt;E extends Edge&lt;?&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;?&gt;&gt; {\n</code></pre>\n<p>And least it also allows implementing the interfaces with two classes:</p>\n<pre><code>public class NodeImpl&lt;E extends Edge&lt;NodeImpl&lt;E&gt;&gt;&gt; implements Node&lt;E&gt; {\npublic class EdgeImpl&lt;N extends Node&lt;EdgeImpl&lt;N&gt;&gt;&gt; implements Edge&lt;N&gt; {\n</code></pre>\n<p>What is then the correct way to declare and instantiate NodeImpl and EdgeImpl? None of this works without warnings/errors:</p>\n<pre><code>Node&lt;?&gt; node = new NodeImpl&lt;&gt;();\nNode&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\nNode&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;?&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\n</code></pre>\n<p>How shall the interfaces be declared, how do the implementations need to be declared and how can I declare/instantiate the implementations?</p>\n"},{"tags":["java","scala","file","jvm"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1513073738,"post_id":47769957,"comment_id":82501144,"body_markdown":"&quot;Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it&quot; No, that&#39;s why explicit close methods and try-with-resources exist.","body":"&quot;Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it&quot; No, that&#39;s why explicit close methods and try-with-resources exist."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1513073825,"post_id":47769957,"comment_id":82501201,"body_markdown":"Related: https://codereview.stackexchange.com/questions/33010/do-i-need-to-close-my-fileoutputstreams","body":"Related: <a href=\"https://codereview.stackexchange.com/questions/33010/do-i-need-to-close-my-fileoutputstreams\" title=\"do i need to close my fileoutputstreams\">codereview.stackexchange.com/questions/33010/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1513074214,"post_id":47769957,"comment_id":82501427,"body_markdown":"@saifahmad - Incorrect.  They will be *eventually* collected by the GC ... after they become unreachable.  The problem is &quot;eventually&quot;.  If you rely on the GC to close files, your application is liable to run out of *file descriptors* before the GC gets a chance to clean up your mess.","body":"@saifahmad - Incorrect.  They will be <i>eventually</i> collected by the GC ... after they become unreachable.  The problem is &quot;eventually&quot;.  If you rely on the GC to close files, your application is liable to run out of <i>file descriptors</i> before the GC gets a chance to clean up your mess."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1513087117,"post_id":47769957,"comment_id":82509678,"body_markdown":"@Stephen C But JVM is intelligent enough to detect that file discriptor is going to fill. And GC would kick-in. But I agree that it&#39;s a bad practice to leave a file pointer dangling.","body":"@Stephen C But JVM is intelligent enough to detect that file discriptor is going to fill. And GC would kick-in. But I agree that it&#39;s a bad practice to leave a file pointer dangling."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1513088378,"post_id":47769957,"comment_id":82510545,"body_markdown":"@saifahmad - I&#39;m pretty sure that the GC will not be triggered if you run out of file descriptors.  (And I just looked at the OpenJDK Java 8 source code ...)","body":"@saifahmad - I&#39;m pretty sure that the GC will not be triggered if you run out of file descriptors.  (And I just looked at the OpenJDK Java 8 source code ...)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1513088581,"post_id":47769957,"comment_id":82510672,"body_markdown":"And I just confirmed it with a simple test program.","body":"And I just confirmed it with a simple test program."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1513088664,"post_id":47769957,"comment_id":82510728,"body_markdown":"@saifahmad: no, it is not. The JVM itself does not know anything about file descriptors. It doesn’t detect when it runs out of descriptor and it doesn’t trigger a garbage collection. Even worse, a garbage collection running at the same time wouldn’t free them in time. The only thing, the garbage collector does, is detecting that the objects encapsulating the descriptors are garbage. That alone is not sufficient to free them.","body":"@saifahmad: no, it is not. The JVM itself does not know anything about file descriptors. It doesn’t detect when it runs out of descriptor and it doesn’t trigger a garbage collection. Even worse, a garbage collection running at the same time wouldn’t free them in time. The only thing, the garbage collector does, is detecting that the objects encapsulating the descriptors are garbage. That alone is not sufficient to free them."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1513092982,"post_id":47769957,"comment_id":82513565,"body_markdown":"Thanks all for the information. I was unaware of the fact that file descriptor are not considered in the GC.","body":"Thanks all for the information. I was unaware of the fact that file descriptor are not considered in the GC."},{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1513767275,"post_id":47769957,"comment_id":82775374,"body_markdown":"You can let the JVM do it **provided** you never create too many file between GCs, however if you make this assumption you never know when this might break your application as it can depend on load. It is much safer to always clean up resources that are Closeable.","body":"You can let the JVM do it <b>provided</b> you never create too many file between GCs, however if you make this assumption you never know when this might break your application as it can depend on load. It is much safer to always clean up resources that are Closeable."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1700631909,"creation_date":1513074847,"answer_id":47770437,"question_id":47769957,"body_markdown":"&gt; Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? \r\n\r\nIt is partly true.\r\n\r\nIf you open a file, use it and then drop the file or stream handle (or whatever you want to call it), AND the GC finds it, THEN the GC will queue the file handle object for finalization.  When the finalization occurs the file handler&#39;s `finalize()` method will release the resources; i.e. the file descriptor.\r\n\r\nHowever, it is **a bad idea** to rely on the GC to do this.\r\n\r\n  - If a file handle is (still) reachable, then the GC won&#39;t queue it for finalization.\r\n  - You have no way of knowing when the GC is going to run next&lt;sup&gt;1&lt;/sup&gt;.\r\n  - And when the GC runs, it won&#39;t necessarily collect *all* of the garbage&lt;sup&gt;2&lt;/sup&gt; (and hence queue *all* lost file handles).\r\n  - And objects that are queued for finalization don&#39;t get actually finalized until after the GC finishes.  (See @Holger&#39;s comment)\r\n\r\nPut these four things together, and an application can easily run out of file descriptors before the GC gets around to collecting and closing the abandoned file handles.  If that happens, you are liable to get exceptions on operations that open files, directories, sockets, etcetera.\r\n\r\nHere&#39;s an example you can run (on Linux / UNIX) to see this happening:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                new FileInputStream(&quot;/etc/motd&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    $ javac Test.java \r\n    $ java Test \r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: /etc/motd (Too many open files)\r\n    \tat java.io.FileInputStream.open0(Native Method)\r\n    \tat java.io.FileInputStream.open(FileInputStream.java:195)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\n    \tat Test.main(Test.java:6)\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - A typical GC only runs when the heap (or part of the heap) reaches a given threshold of &quot;fullness&quot;.  If an application doesn&#39;t allocate many objects, it can take a long time for the threshold to be reached.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Modern JVMs use generational garbage collectors which collect different parts of the heap at different rates.&lt;/sup&gt;\r\n","title":"Does JVM automatically closes files?","body":"<blockquote>\n<p>Somewhere I read that it's unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true?</p>\n</blockquote>\n<p>It is partly true.</p>\n<p>If you open a file, use it and then drop the file or stream handle (or whatever you want to call it), AND the GC finds it, THEN the GC will queue the file handle object for finalization.  When the finalization occurs the file handler's <code>finalize()</code> method will release the resources; i.e. the file descriptor.</p>\n<p>However, it is <strong>a bad idea</strong> to rely on the GC to do this.</p>\n<ul>\n<li>If a file handle is (still) reachable, then the GC won't queue it for finalization.</li>\n<li>You have no way of knowing when the GC is going to run next<sup>1</sup>.</li>\n<li>And when the GC runs, it won't necessarily collect <em>all</em> of the garbage<sup>2</sup> (and hence queue <em>all</em> lost file handles).</li>\n<li>And objects that are queued for finalization don't get actually finalized until after the GC finishes.  (See @Holger's comment)</li>\n</ul>\n<p>Put these four things together, and an application can easily run out of file descriptors before the GC gets around to collecting and closing the abandoned file handles.  If that happens, you are liable to get exceptions on operations that open files, directories, sockets, etcetera.</p>\n<p>Here's an example you can run (on Linux / UNIX) to see this happening:</p>\n<pre><code>import java.io.FileInputStream;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        for (int i = 0; i &lt; 100000; i++) {\n            new FileInputStream(&quot;/etc/motd&quot;);\n        }\n    }\n}\n\n$ javac Test.java \n$ java Test \nException in thread &quot;main&quot; java.io.FileNotFoundException: /etc/motd (Too many open files)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\n    at Test.main(Test.java:6)\n</code></pre>\n<hr />\n<p><sup>1 - A typical GC only runs when the heap (or part of the heap) reaches a given threshold of &quot;fullness&quot;.  If an application doesn't allocate many objects, it can take a long time for the threshold to be reached.</sup></p>\n<p><sup>2 - Modern JVMs use generational garbage collectors which collect different parts of the heap at different rates.</sup></p>\n"},{"tags":[],"owner":{"account_id":3439841,"reputation":14084,"user_id":2882051,"display_name":"chengpohi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513095629,"creation_date":1513095629,"answer_id":47777129,"question_id":47769957,"body_markdown":"Yes, In some point it&#39;s true, **JVM** will help release the file descriptor when GC in some time with invoking `finalize` method(you can try to verify it by `System.gc()`).\r\n\r\nAnd also totally agree we need to explicitly close `InputStream` when we don&#39;t need this and release the **file descriptor**. \r\n\r\nbut if your application don&#39;t frequently operate on file descriptors(file, network io), do we need to care this too? after all, there is `finalize` method. \r\n\r\nYes it&#39;s a good practice to `close` it, explicitly release it.\r\n\r\n\r\nand for OP&#39;s problem is very like **Java**&#39;s: how to safely close the `Stream` by `Files.lines`. In **Java**, we can use the **try with resources** handle this. But **Scala** not support this, maybe you can try with `try ... finally` to handle this, like:\r\n\r\n    val reader = Source.fromFile(&quot;build.sbt&quot;).bufferedReader()\r\n    try {\r\n      reader.lines().forEach(line =&gt; {\r\n      ...\r\n      })\r\n    } finally {\r\n      reader.close()\r\n    }","title":"Does JVM automatically closes files?","body":"<p>Yes, In some point it's true, <strong>JVM</strong> will help release the file descriptor when GC in some time with invoking <code>finalize</code> method(you can try to verify it by <code>System.gc()</code>).</p>\n\n<p>And also totally agree we need to explicitly close <code>InputStream</code> when we don't need this and release the <strong>file descriptor</strong>. </p>\n\n<p>but if your application don't frequently operate on file descriptors(file, network io), do we need to care this too? after all, there is <code>finalize</code> method. </p>\n\n<p>Yes it's a good practice to <code>close</code> it, explicitly release it.</p>\n\n<p>and for OP's problem is very like <strong>Java</strong>'s: how to safely close the <code>Stream</code> by <code>Files.lines</code>. In <strong>Java</strong>, we can use the <strong>try with resources</strong> handle this. But <strong>Scala</strong> not support this, maybe you can try with <code>try ... finally</code> to handle this, like:</p>\n\n<pre><code>val reader = Source.fromFile(\"build.sbt\").bufferedReader()\ntry {\n  reader.lines().forEach(line =&gt; {\n  ...\n  })\n} finally {\n  reader.close()\n}\n</code></pre>\n"}],"owner":{"account_id":9661645,"reputation":45,"user_id":7169509,"display_name":"Vova Polischuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700631909,"creation_date":1513073364,"question_id":47769957,"body_markdown":"Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? \r\n\r\nAssume I need to fetch data from file with\r\n\r\n    Source.fromFile(fileName).getLines() \r\n\r\ndirectly, without\r\n\r\n    val source = Source.fromFile(fileName)\r\n    val lines = source.getLines()\r\n    ............\r\n    source.close()\r\n\r\nIn a first way, I can&#39;t get access directly to the source and close it. My JVM works for a long period. And I need a file to be closed (unused resources need to be closed). \r\n\r\nIt would be great if somebody could leave some links or explanations here.","title":"Does JVM automatically closes files?","body":"<p>Somewhere I read that it's unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? </p>\n\n<p>Assume I need to fetch data from file with</p>\n\n<pre><code>Source.fromFile(fileName).getLines() \n</code></pre>\n\n<p>directly, without</p>\n\n<pre><code>val source = Source.fromFile(fileName)\nval lines = source.getLines()\n............\nsource.close()\n</code></pre>\n\n<p>In a first way, I can't get access directly to the source and close it. My JVM works for a long period. And I need a file to be closed (unused resources need to be closed). </p>\n\n<p>It would be great if somebody could leave some links or explanations here.</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-data-r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1678697528,"post_id":75718469,"comment_id":133576863,"body_markdown":"1000 requests but with what rate?","body":"1000 requests but with what rate?"},{"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"score":0,"creation_date":1678734076,"post_id":75718469,"comment_id":133587811,"body_markdown":"I think it&#39;s close to ~1000 rps, but processing these requests (in the code from the question) is done in a single thread.","body":"I think it&#39;s close to ~1000 rps, but processing these requests (in the code from the question) is done in a single thread."}],"answers":[{"tags":[],"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700631062,"creation_date":1700631062,"answer_id":77527515,"question_id":75718469,"body_markdown":"This behavior is likely already fixed. See https://github.com/r2dbc/r2dbc-pool/issues/190","title":"Thread pool in r2dbc-postgresql","body":"<p>This behavior is likely already fixed. See <a href=\"https://github.com/r2dbc/r2dbc-pool/issues/190\" rel=\"nofollow noreferrer\">https://github.com/r2dbc/r2dbc-pool/issues/190</a></p>\n"}],"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77527515,"answer_count":1,"score":2,"last_activity_date":1700631062,"creation_date":1678687238,"question_id":75718469,"body_markdown":"Can you help me understand? There is a Spring Boot (3.0.2) service with Spring Data R2DBC repository and r2dbc-postgresql driver. By default, a pool of 10 connections and 10 reactor-tcp-nio threads is created. I have enabled logging of R2DBC queries in the database and logging in the operators after the reactive repository. 1000 HTTP requests per second have been generated using JMeter. The result is that I see that all queries in the database and all operators after the reactive repository are executed in the reactor-tcp-nio-1 thread. If a breakpoint is set in the doOnNext operator (not on the line, but on the lambda) in the IDE, the reactor-tcp-nio-1 thread will suspend, and all other threads will still not be utilized.\r\n\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class R2DBCApplication {\r\n    private static final Logger log = LoggerFactory.getLogger(R2DBCApplication.class);\r\n\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(R2DBCApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.UUID;\r\n\r\n@RestController\r\npublic class ValueController {\r\n    private static final Logger log = LoggerFactory.getLogger(ValueController.class);\r\n\r\n    @Autowired\r\n    private ValueRepository repository;\r\n\r\n    @GetMapping(&quot;/value&quot;)\r\n    public Mono&lt;String&gt; get() {\r\n        final var uuid = UUID.randomUUID().toString();\r\n        log.info(&quot;start for uuid = {}&quot;, uuid);\r\n        return repository\r\n                .findById(1L)\r\n                .map(ValueEntity::getId)\r\n                .map(String::valueOf)\r\n                .switchIfEmpty(Mono.fromSupplier(() -&gt; uuid))\r\n                .doOnNext(v -&gt; log.info(&quot;after switchIfEmpty uuid = {}&quot;, v));\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.relational.core.mapping.Column;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\n\r\n@Table(&quot;value&quot;)\r\npublic class ValueEntity {\r\n\r\n    @Id\r\n    @Column(&quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(&quot;value&quot;)\r\n    private String value;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(final String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface ValueRepository extends R2dbcRepository&lt;ValueEntity, Long&gt; {\r\n\r\n}\r\n```\r\n```\r\nserver.port: 9080\r\nspring:\r\n  application.name: r2dbc-service\r\n  r2dbc:\r\n    url: r2dbc:postgresql://localhost:5433/postgres\r\n    username: postgres\r\n    password: 12345\r\n    properties:\r\n      schema: public\r\n\r\nlogging.level.root: DEBUG\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIs this the expected behavior? I assumed that all 10 reactor-tcp-nio threads would be utilized.\r\nWhat can be done to make queries and operator execution happen in different threads? (reactor-tcp-nio-1, ..., reactor-tcp-nio-10).\r\n\r\nDo you really need to add publishOn or subscribeOn after every call to a reactive repository?\r\n","title":"Thread pool in r2dbc-postgresql","body":"<p>Can you help me understand? There is a Spring Boot (3.0.2) service with Spring Data R2DBC repository and r2dbc-postgresql driver. By default, a pool of 10 connections and 10 reactor-tcp-nio threads is created. I have enabled logging of R2DBC queries in the database and logging in the operators after the reactive repository. 1000 HTTP requests per second have been generated using JMeter. The result is that I see that all queries in the database and all operators after the reactive repository are executed in the reactor-tcp-nio-1 thread. If a breakpoint is set in the doOnNext operator (not on the line, but on the lambda) in the IDE, the reactor-tcp-nio-1 thread will suspend, and all other threads will still not be utilized.</p>\n<pre><code>package com.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class R2DBCApplication {\n    private static final Logger log = LoggerFactory.getLogger(R2DBCApplication.class);\n\n    public static void main(final String[] args) {\n        SpringApplication.run(R2DBCApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Mono;\n\nimport java.util.UUID;\n\n@RestController\npublic class ValueController {\n    private static final Logger log = LoggerFactory.getLogger(ValueController.class);\n\n    @Autowired\n    private ValueRepository repository;\n\n    @GetMapping(&quot;/value&quot;)\n    public Mono&lt;String&gt; get() {\n        final var uuid = UUID.randomUUID().toString();\n        log.info(&quot;start for uuid = {}&quot;, uuid);\n        return repository\n                .findById(1L)\n                .map(ValueEntity::getId)\n                .map(String::valueOf)\n                .switchIfEmpty(Mono.fromSupplier(() -&gt; uuid))\n                .doOnNext(v -&gt; log.info(&quot;after switchIfEmpty uuid = {}&quot;, v));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.relational.core.mapping.Column;\nimport org.springframework.data.relational.core.mapping.Table;\n\n@Table(&quot;value&quot;)\npublic class ValueEntity {\n\n    @Id\n    @Column(&quot;id&quot;)\n    private Long id;\n\n    @Column(&quot;value&quot;)\n    private String value;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(final Long id) {\n        this.id = id;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(final String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface ValueRepository extends R2dbcRepository&lt;ValueEntity, Long&gt; {\n\n}\n</code></pre>\n<pre><code>server.port: 9080\nspring:\n  application.name: r2dbc-service\n  r2dbc:\n    url: r2dbc:postgresql://localhost:5433/postgres\n    username: postgres\n    password: 12345\n    properties:\n      schema: public\n\nlogging.level.root: DEBUG\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Is this the expected behavior? I assumed that all 10 reactor-tcp-nio threads would be utilized.\nWhat can be done to make queries and operator execution happen in different threads? (reactor-tcp-nio-1, ..., reactor-tcp-nio-10).</p>\n<p>Do you really need to add publishOn or subscribeOn after every call to a reactive repository?</p>\n"},{"tags":["java","search","time","hashset","treeset"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700640638,"post_id":77527365,"comment_id":136678170,"body_markdown":"Consider the _OpenJDK_ project, _&quot;[Java Microbenchmark Harness](https://openjdk.org/projects/code-tools/jmh/)&quot;_.  This may produce the derivatives you&#39;re looking for.","body":"Consider the <i>OpenJDK</i> project, <i>&quot;<a href=\"https://openjdk.org/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">Java Microbenchmark Harness</a>&quot;</i>.  This may produce the derivatives you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700630870,"creation_date":1700630870,"answer_id":77527505,"question_id":77527365,"body_markdown":"Yes. You&#39;ve missed a lot. So much, in fact, it&#39;s almost impossible for you to this right. Good news though, there&#39;s a library for that. Specifically,  [JMH](https://www.baeldung.com/java-microbenchmark-harness).\r\n\r\nThe JVM is not a simple thing. It runs code slowly and does all sorts of seemingly pointless bookkeeping so that it knows which 0.1% of the code spends 95% of the CPU resources (those aren&#39;t exaggerated numbers; that&#39;s what most apps end up doing. An academic case that _just_ tests the speed of some algorithm obviously isn&#39;t like that, but the JVM is optimized for real life apps, not test cases). Once it figures out what that is, it uses all that seemingly pointless bookkeeping to craft a highly optimized bit of machine code that e.g. is written to optimize branching (CPUs tend to be faster at &#39;do not jump&#39; then &#39;do jump&#39;, which is what any loop structure is translated to. The JVM knows which &#39;path&#39; is, so far, taken more often and optimizes accordingly. Compile-time only optimizers can&#39;t do that without hints).\r\n\r\nThat&#39;s one of about 900 reasons why you can&#39;t just rely on calculating the delta between 2 nanoTime() calls and extract meaningful conclusions about timing.\r\n\r\nJMH fixes some of this. Not all, but most. Follow the tutorial linked above, hang your benchmark in a JMH harness, and _then_ check your results.","title":"Searching Time in HashSet vs. Searching Time in TreeSet in Java","body":"<p>Yes. You've missed a lot. So much, in fact, it's almost impossible for you to this right. Good news though, there's a library for that. Specifically,  <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a>.</p>\n<p>The JVM is not a simple thing. It runs code slowly and does all sorts of seemingly pointless bookkeeping so that it knows which 0.1% of the code spends 95% of the CPU resources (those aren't exaggerated numbers; that's what most apps end up doing. An academic case that <em>just</em> tests the speed of some algorithm obviously isn't like that, but the JVM is optimized for real life apps, not test cases). Once it figures out what that is, it uses all that seemingly pointless bookkeeping to craft a highly optimized bit of machine code that e.g. is written to optimize branching (CPUs tend to be faster at 'do not jump' then 'do jump', which is what any loop structure is translated to. The JVM knows which 'path' is, so far, taken more often and optimizes accordingly. Compile-time only optimizers can't do that without hints).</p>\n<p>That's one of about 900 reasons why you can't just rely on calculating the delta between 2 nanoTime() calls and extract meaningful conclusions about timing.</p>\n<p>JMH fixes some of this. Not all, but most. Follow the tutorial linked above, hang your benchmark in a JMH harness, and <em>then</em> check your results.</p>\n"}],"owner":{"account_id":27133718,"reputation":13,"user_id":20675547,"display_name":"mohammad_azam_22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77527505,"answer_count":1,"score":1,"last_activity_date":1700630870,"creation_date":1700628145,"question_id":77527365,"body_markdown":"I have read that searching time in TreeSet is of the order of log(N) and in HashSet is of the order of 1 (Constant). Now, to test this in a program I have written a Java program.\r\n\r\n\r\n```\r\nimport java.util.TreeSet;\r\nimport java.util.Random;\r\n\r\npublic class SearchSpeed {\r\n    int totalElements, target;\r\n    Set&lt;Integer&gt; hashSet, treeSet;\r\n    Random r;\r\n\r\n    // parameterized constructor\r\n    SearchSpeed(int totalElements){\r\n        this.totalElements = totalElements;\r\n        r = new Random();\r\n        hashSet = new HashSet&lt;&gt;();\r\n        treeSet = new TreeSet&lt;&gt;();\r\n    }\r\n\r\n    // populating the sets and selecting the target element\r\n    void populateSets(){\r\n        hashSet.clear();\r\n        treeSet.clear();\r\n        int num, count = 0;\r\n        while(hashSet.size() != totalElements){\r\n            num = r.nextInt();\r\n            hashSet.add(num);\r\n            treeSet.add(num);\r\n            count++;\r\n            if(count == 5000){    // picking the 5000th element as the target element\r\n                target = num;\r\n            }\r\n        }\r\n    }\r\n\r\n    // searching the target element in HashSet\r\n    long searchHash(){\r\n        long initialTime = System.nanoTime();\r\n        hashSet.contains(target);\r\n        long finalTime = System.nanoTime();\r\n        return finalTime - initialTime;\r\n    }\r\n\r\n    // searching the target element in TreeSet\r\n    long searchTree(){\r\n        long initialTime = System.nanoTime();\r\n        treeSet.contains(target);\r\n        long finalTime = System.nanoTime();\r\n        return finalTime - initialTime;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SearchSpeed ss = new SearchSpeed(10000);\r\n\r\n        long hashTime = 0, treeTime = 0;\r\n        for(int i = 0; i &lt; 1000; i++){\r\n            ss.populateSets();\r\n            hashTime += ss.searchHash();\r\n            treeTime += ss.searchTree();\r\n        }\r\n        double avgTreeTime = treeTime/1000.0;\r\n        double avgHashTime = hashTime/1000.0;\r\n\r\n        System.out.printf(&quot;Time taken by TreeSet MINUS Time Taken by HashSet = %.4f nanoseconds\\n&quot;,avgTreeTime - avgHashTime);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAfter running this program several times, these are the results I got:\r\n\r\nOutput 1: Time taken by TreeSet MINUS Time Taken by HashSet = 105.6000 nanoseconds&lt;br&gt;\r\nOutput 2: Time taken by TreeSet MINUS Time Taken by HashSet = 99.1000 nanoseconds&lt;br&gt;\r\nOutput 3: Time taken by TreeSet MINUS Time Taken by HashSet = 36.8000 nanoseconds&lt;br&gt;\r\nOutput 4: Time taken by TreeSet MINUS Time Taken by HashSet = 50.6000 nanoseconds&lt;br&gt;\r\nOutput 5: Time taken by TreeSet MINUS Time Taken by HashSet = -30.4000 nanoseconds&lt;br&gt;\r\n\r\nI was expecting the time difference to be somewhat a larger value but, in some cases, the difference of time is as low as 36 nanoseconds and even negative in some cases.&lt;br&gt;\r\nIs this what I should be expecting? or have I missed something while writing the program?","title":"Searching Time in HashSet vs. Searching Time in TreeSet in Java","body":"<p>I have read that searching time in TreeSet is of the order of log(N) and in HashSet is of the order of 1 (Constant). Now, to test this in a program I have written a Java program.</p>\n<pre><code>import java.util.TreeSet;\nimport java.util.Random;\n\npublic class SearchSpeed {\n    int totalElements, target;\n    Set&lt;Integer&gt; hashSet, treeSet;\n    Random r;\n\n    // parameterized constructor\n    SearchSpeed(int totalElements){\n        this.totalElements = totalElements;\n        r = new Random();\n        hashSet = new HashSet&lt;&gt;();\n        treeSet = new TreeSet&lt;&gt;();\n    }\n\n    // populating the sets and selecting the target element\n    void populateSets(){\n        hashSet.clear();\n        treeSet.clear();\n        int num, count = 0;\n        while(hashSet.size() != totalElements){\n            num = r.nextInt();\n            hashSet.add(num);\n            treeSet.add(num);\n            count++;\n            if(count == 5000){    // picking the 5000th element as the target element\n                target = num;\n            }\n        }\n    }\n\n    // searching the target element in HashSet\n    long searchHash(){\n        long initialTime = System.nanoTime();\n        hashSet.contains(target);\n        long finalTime = System.nanoTime();\n        return finalTime - initialTime;\n    }\n\n    // searching the target element in TreeSet\n    long searchTree(){\n        long initialTime = System.nanoTime();\n        treeSet.contains(target);\n        long finalTime = System.nanoTime();\n        return finalTime - initialTime;\n    }\n\n\n    public static void main(String[] args) {\n\n        SearchSpeed ss = new SearchSpeed(10000);\n\n        long hashTime = 0, treeTime = 0;\n        for(int i = 0; i &lt; 1000; i++){\n            ss.populateSets();\n            hashTime += ss.searchHash();\n            treeTime += ss.searchTree();\n        }\n        double avgTreeTime = treeTime/1000.0;\n        double avgHashTime = hashTime/1000.0;\n\n        System.out.printf(&quot;Time taken by TreeSet MINUS Time Taken by HashSet = %.4f nanoseconds\\n&quot;,avgTreeTime - avgHashTime);\n    }\n}\n\n</code></pre>\n<p>After running this program several times, these are the results I got:</p>\n<p>Output 1: Time taken by TreeSet MINUS Time Taken by HashSet = 105.6000 nanoseconds<br>\nOutput 2: Time taken by TreeSet MINUS Time Taken by HashSet = 99.1000 nanoseconds<br>\nOutput 3: Time taken by TreeSet MINUS Time Taken by HashSet = 36.8000 nanoseconds<br>\nOutput 4: Time taken by TreeSet MINUS Time Taken by HashSet = 50.6000 nanoseconds<br>\nOutput 5: Time taken by TreeSet MINUS Time Taken by HashSet = -30.4000 nanoseconds<br></p>\n<p>I was expecting the time difference to be somewhat a larger value but, in some cases, the difference of time is as low as 36 nanoseconds and even negative in some cases.<br>\nIs this what I should be expecting? or have I missed something while writing the program?</p>\n"},{"tags":["java","pass-by-reference","final","pass-by-value"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":118,"creation_date":1233495084,"post_id":500508,"comment_id":316048,"body_markdown":"One quick point on terminology - Java doesn&#39;t have pass-by-reference at all. It has pass reference *by value* which is not the same thing. With true pass by reference semantics the results of your code would be different.","body":"One quick point on terminology - Java doesn&#39;t have pass-by-reference at all. It has pass reference <i>by value</i> which is not the same thing. With true pass by reference semantics the results of your code would be different."},{"owner":{"account_id":534256,"reputation":5711,"user_id":904344,"accept_rate":74,"display_name":"NobleUplift"},"score":10,"creation_date":1381765110,"post_id":500508,"comment_id":28692668,"body_markdown":"What&#39;s the difference between pass by reference and pass reference by value?","body":"What&#39;s the difference between pass by reference and pass reference by value?"},{"owner":{"account_id":217729,"reputation":61,"user_id":473666,"display_name":"jerslan"},"score":1,"creation_date":1381868334,"post_id":500508,"comment_id":28738827,"body_markdown":"It&#39;s easier to describe that difference in a C context (at least for me). If I pass a pointer to a method like: &lt;code&gt;int foo(int *bar)&lt;/code&gt;, then that pointer is being passed by value. Meaning it is copied, so if I do something inside that method like &lt;code&gt;free(bar); bar = malloc(...);&lt;/code&gt; then I&#39;ve just done a really bad thing. The free call will actually free up the chunk of memory being pointed at (so whatever pointer I passed in is now dangling). However, &lt;code&gt;int foo(int* &amp;bar)&lt;/bar&gt; means that code is valid and the value of the pointer passed in will be changed.","body":"It&#39;s easier to describe that difference in a C context (at least for me). If I pass a pointer to a method like: &lt;code&gt;int foo(int <i>bar)&lt;/code&gt;, then that pointer is being passed by value. Meaning it is copied, so if I do something inside that method like &lt;code&gt;free(bar); bar = malloc(...);&lt;/code&gt; then I&#39;ve just done a really bad thing. The free call will actually free up the chunk of memory being pointed at (so whatever pointer I passed in is now dangling). However, &lt;code&gt;int foo(int</i> &amp;bar)&lt;/bar&gt; means that code is valid and the value of the pointer passed in will be changed."},{"owner":{"account_id":217729,"reputation":61,"user_id":473666,"display_name":"jerslan"},"score":4,"creation_date":1381868787,"post_id":500508,"comment_id":28739035,"body_markdown":"The first one is supposed to be `int foo(int* bar)` and the last one `int foo(int* &amp;bar)`. The latter is passing a pointer by reference, the former is passing a reference by value.","body":"The first one is supposed to be <code>int foo(int* bar)</code> and the last one <code>int foo(int* &amp;bar)</code>. The latter is passing a pointer by reference, the former is passing a reference by value."},{"owner":{"account_id":87708,"reputation":3120,"user_id":243089,"accept_rate":100,"display_name":"Victor Zamanian"},"score":2,"creation_date":1465991571,"post_id":500508,"comment_id":63130540,"body_markdown":"@Martin, in my opinion, it&#39;s a good *question*; see the title for the question, and the post content as an explanation for why the *question* is asked. Maybe I am misunderstanding the rules here, but this is exactly the question I wanted when searching for *&quot;uses of final parameters in methods&quot;*.","body":"@Martin, in my opinion, it&#39;s a good <i>question</i>; see the title for the question, and the post content as an explanation for why the <i>question</i> is asked. Maybe I am misunderstanding the rules here, but this is exactly the question I wanted when searching for <i>&quot;uses of final parameters in methods&quot;</i>."},{"owner":{"account_id":140269,"reputation":2423,"user_id":346461,"accept_rate":80,"display_name":"Martin"},"score":0,"creation_date":1475051838,"post_id":500508,"comment_id":66781294,"body_markdown":"The title is a question, but the body is not. It is an example based on misconception. Changing the reference in another scope (by means of method call) does not change the reference in the current scope.","body":"The title is a question, but the body is not. It is an example based on misconception. Changing the reference in another scope (by means of method call) does not change the reference in the current scope."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1233495935,"creation_date":1233482085,"answer_id":500517,"question_id":500508,"body_markdown":"Yes, excluding anonymous classes, readability and intent declaration it&#39;s almost worthless. Are those three things worthless though?\r\n\r\nPersonally I tend not to use `final` for local variables and parameters unless I&#39;m using the variable in an anonymous inner class, but I can certainly see the point of those who want to make it clear that the parameter value itself won&#39;t change (even if the object it refers to changes its contents). For those who find that adds to readability, I think it&#39;s an entirely reasonable thing to do.\r\n\r\nYour point would be more important if anyone were actually claiming that it *did* keep data constant in a way that it doesn&#39;t - but I can&#39;t remember seeing any such claims. Are you suggesting there&#39;s a significant body of developers suggesting that `final` has more effect than it really does?\r\n\r\nEDIT: I should really have summed all of this up with a Monty Python reference; the question seems somewhat similar to asking &quot;What have the Romans ever done for us?&quot;","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Yes, excluding anonymous classes, readability and intent declaration it's almost worthless. Are those three things worthless though?</p>\n\n<p>Personally I tend not to use <code>final</code> for local variables and parameters unless I'm using the variable in an anonymous inner class, but I can certainly see the point of those who want to make it clear that the parameter value itself won't change (even if the object it refers to changes its contents). For those who find that adds to readability, I think it's an entirely reasonable thing to do.</p>\n\n<p>Your point would be more important if anyone were actually claiming that it <em>did</em> keep data constant in a way that it doesn't - but I can't remember seeing any such claims. Are you suggesting there's a significant body of developers suggesting that <code>final</code> has more effect than it really does?</p>\n\n<p>EDIT: I should really have summed all of this up with a Monty Python reference; the question seems somewhat similar to asking \"What have the Romans ever done for us?\"</p>\n"},{"tags":[],"owner":{"account_id":9311,"reputation":4535,"user_id":17138,"accept_rate":70,"display_name":"Germ&#225;n"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1233483235,"creation_date":1233483235,"answer_id":500537,"question_id":500508,"body_markdown":"Using final in a method parameter has nothing to do with what happens to the argument on the caller side. It is only meant to mark it as not changing inside that method. As I try to adopt a more functional programming style, I kind of see the value in that.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Using final in a method parameter has nothing to do with what happens to the argument on the caller side. It is only meant to mark it as not changing inside that method. As I try to adopt a more functional programming style, I kind of see the value in that.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55663,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1233486110,"creation_date":1233486110,"answer_id":500595,"question_id":500508,"body_markdown":"Personally I don&#39;t use final on method parameters, because it adds too much clutter to parameter lists.\r\nI prefer to enforce that method parameters are not changed through something like Checkstyle.\r\n\r\nFor local variables I use final whenever possible, I even let Eclipse do that automatically in my setup for personal projects.\r\n\r\nI would certainly like something stronger like C/C++ const.\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Personally I don't use final on method parameters, because it adds too much clutter to parameter lists.\nI prefer to enforce that method parameters are not changed through something like Checkstyle.</p>\n\n<p>For local variables I use final whenever possible, I even let Eclipse do that automatically in my setup for personal projects.</p>\n\n<p>I would certainly like something stronger like C/C++ const.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1233487431,"creation_date":1233487431,"answer_id":500627,"question_id":500508,"body_markdown":"Let me explain a bit about the one case where you *have* to use final, which Jon already mentioned:\r\n\r\nIf you create an anonymous inner class in your method and use a local variable (such as a method parameter) inside that class, then the compiler forces you to make the parameter final:\r\n\r\n    public Iterator&lt;Integer&gt; createIntegerIterator(final int from, final int to)\r\n    {\r\n        return new Iterator&lt;Integer&gt;(){\r\n            int index = from;\r\n            public Integer next()\r\n            {\r\n                return index++;\r\n            }\r\n            public boolean hasNext()\r\n            {\r\n                return index &lt;= to;\r\n            }\r\n            // remove method omitted\r\n        };\r\n    }\r\n\r\nHere the `from` and `to` parameters need to be final so they can be used inside the anonymous class. \r\n\r\nThe reason for that requirement is this: Local variables live on the stack, therefore they exist only while the method is executed. However, the anonymous class instance is returned from the method, so it may live for much longer. You can&#39;t preserve the stack, because it is needed for subsequent method calls. \r\n\r\nSo what Java does instead is to put *copies* of those local variables as hidden instance variables into the anonymous class (you can see them if you examine the byte code). But if they were not final, one might expect the anonymous class and the method seeing changes the other one makes to the variable. In order to maintain the illusion that there is only one variable rather than two copies, it has to be final.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Let me explain a bit about the one case where you <em>have</em> to use final, which Jon already mentioned:</p>\n\n<p>If you create an anonymous inner class in your method and use a local variable (such as a method parameter) inside that class, then the compiler forces you to make the parameter final:</p>\n\n<pre><code>public Iterator&lt;Integer&gt; createIntegerIterator(final int from, final int to)\n{\n    return new Iterator&lt;Integer&gt;(){\n        int index = from;\n        public Integer next()\n        {\n            return index++;\n        }\n        public boolean hasNext()\n        {\n            return index &lt;= to;\n        }\n        // remove method omitted\n    };\n}\n</code></pre>\n\n<p>Here the <code>from</code> and <code>to</code> parameters need to be final so they can be used inside the anonymous class. </p>\n\n<p>The reason for that requirement is this: Local variables live on the stack, therefore they exist only while the method is executed. However, the anonymous class instance is returned from the method, so it may live for much longer. You can't preserve the stack, because it is needed for subsequent method calls. </p>\n\n<p>So what Java does instead is to put <em>copies</em> of those local variables as hidden instance variables into the anonymous class (you can see them if you examine the byte code). But if they were not final, one might expect the anonymous class and the method seeing changes the other one makes to the variable. In order to maintain the illusion that there is only one variable rather than two copies, it has to be final.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1328740001,"creation_date":1233501609,"answer_id":500984,"question_id":500508,"body_markdown":"I use final all the time on parameters. \r\n\r\nDoes it add that much? Not really.\r\n\r\nWould I turn it off? No.\r\n\r\nThe reason: I found 3 bugs where people had written sloppy code and failed to set a member variable in accessors. All bugs proved difficult to find.\r\n\r\nI&#39;d like to see this made the default in a future version of Java. The pass by value/reference thing trips up an awful lot of junior programmers.   \r\n\r\nOne more thing.. my methods tend to have a low number of parameters so the extra text on a method declaration isn&#39;t an issue.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I use final all the time on parameters. </p>\n\n<p>Does it add that much? Not really.</p>\n\n<p>Would I turn it off? No.</p>\n\n<p>The reason: I found 3 bugs where people had written sloppy code and failed to set a member variable in accessors. All bugs proved difficult to find.</p>\n\n<p>I'd like to see this made the default in a future version of Java. The pass by value/reference thing trips up an awful lot of junior programmers.   </p>\n\n<p>One more thing.. my methods tend to have a low number of parameters so the extra text on a method declaration isn't an issue.</p>\n"},{"tags":[],"owner":{"account_id":24119,"reputation":3941,"user_id":61126,"display_name":"Jerry Sha"},"down_vote_count":3,"up_vote_count":242,"is_accepted":false,"score":239,"last_activity_date":1557967376,"creation_date":1233551908,"answer_id":502252,"question_id":500508,"body_markdown":"Sometimes it&#39;s nice to be explicit (for readability) that the variable doesn&#39;t change. Here&#39;s a simple example where using `final` can save some possible headaches:\r\n\r\n    public void setTest(String test) {\r\n        test = test;\r\n    }\r\n\r\nIf you forget the &#39;this&#39; keyword on a setter, then the variable you want to set doesn&#39;t get set. However, if you used the `final` keyword on the parameter, then the bug would be caught at compile time.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Sometimes it's nice to be explicit (for readability) that the variable doesn't change. Here's a simple example where using <code>final</code> can save some possible headaches:</p>\n\n<pre><code>public void setTest(String test) {\n    test = test;\n}\n</code></pre>\n\n<p>If you forget the 'this' keyword on a setter, then the variable you want to set doesn't get set. However, if you used the <code>final</code> keyword on the parameter, then the bug would be caught at compile time.</p>\n"},{"tags":[],"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233553360,"creation_date":1233553360,"answer_id":502289,"question_id":500508,"body_markdown":"One additional reason to add final to parameter declarations is that it helps to identify variables that need to be renamed as part of a &quot;Extract Method&quot; refactoring. I have found that adding final to each parameter prior to starting a large method refactoring quickly tells me if there are any issues I need to address before continuing.\r\n\r\nHowever, I generally remove them as superfluous at the end of the refactoring.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>One additional reason to add final to parameter declarations is that it helps to identify variables that need to be renamed as part of a \"Extract Method\" refactoring. I have found that adding final to each parameter prior to starting a large method refactoring quickly tells me if there are any issues I need to address before continuing.</p>\n\n<p>However, I generally remove them as superfluous at the end of the refactoring.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":6,"up_vote_count":344,"is_accepted":false,"score":338,"last_activity_date":1700630796,"creation_date":1335774056,"answer_id":10380512,"question_id":500508,"body_markdown":"# Stop a Variable’s Reassignment\r\n\r\nWhile these answers are intellectually interesting, I&#39;ve not read the short simple answer:\r\n\r\n&gt; Use the keyword *final* when you want the compiler to prevent a\r\n&gt; variable from being re-assigned to a different object.\r\n\r\nWhether the variable is a static variable, member variable, local variable, or argument/parameter variable, the effect is entirely the same.\r\n\r\n## Example\r\n\r\nLet’s see the effect in action.\r\n\r\nConsider this simple method, where the two variables (*arg* and *x*) can both be re-assigned different objects.\r\n\r\n    // Example use of this method: \r\n    //   this.doSomething( &quot;tiger&quot; );\r\n    void doSomething( String arg ) {\r\n      String x = arg;   // Both variables now point to the same String object.\r\n      x = &quot;elephant&quot;;   // This variable now points to a different String object.\r\n      arg = &quot;giraffe&quot;;  // Ditto. Now neither variable points to the original passed String.\r\n    }\r\n\r\nMark the local variable as *final*. This results in a compiler error.\r\n\r\n    void doSomething( String arg ) {\r\n      final String x = arg;  // Mark variable as &#39;final&#39;.\r\n      x = &quot;elephant&quot;;  // Compiler error: The final local variable x cannot be assigned. \r\n      arg = &quot;giraffe&quot;;  \r\n    }\r\n\r\nInstead, let’s mark the parameter variable as *final*. This too results in a compiler error.\r\n\r\n    void doSomething( final String arg ) {  // Mark argument as &#39;final&#39;.\r\n      String x = arg;   \r\n      x = &quot;elephant&quot;; \r\n      arg = &quot;giraffe&quot;;  // Compiler error: The passed argument variable arg cannot be re-assigned to another object.\r\n    }\r\n\r\nMoral of the story: \r\n\r\n&gt; If you want to ensure a variable always points to the same object,\r\n&gt; mark the variable *final*.\r\n\r\n## Never Reassign Arguments\r\n\r\nAs good programming practice (in any language), you should *never* re-assign a parameter/argument variable to an object other than the object passed by the calling method. In the examples above, one should never write the line `arg = `. Since humans make mistakes, and programmers are human, let’s ask the compiler to assist us. Mark every parameter/argument variable as &#39;final&#39; so that the compiler may find and flag any such re-assignments.\r\n\r\n## In Retrospect\r\n\r\nAs noted in other answers…\r\nGiven Java&#39;s original design goal of helping programmers to avoid dumb mistakes such as reading past the end of an array, Java should have been designed to automatically enforce all parameter/argument variables as &#39;final&#39;. In other words, *Arguments should not be variables*. But hindsight is 20/20 vision, and the Java designers had their hands full at the time.\r\n\r\n# So, always add `final` to all arguments?\r\n\r\nShould we add `final` to each and every method parameter being declared? \r\n\r\n - In theory, yes.\r\n - In practice, no.&lt;br /&gt;➥ Add `final` only when the method’s code is long or complicated, where the argument may be mistaken for a local or member variable and possibly re-assigned. \r\n\r\nIf you buy into the practice of never re-assigning an argument, you will be inclined to add a `final` to each. But this is tedious and makes the declaration a bit harder to read. \r\n\r\nFor short simple code where the argument is obviously an argument, and not a local variable nor a member variable, I do not bother adding the `final`. If the code is quite obvious, with no chance of me nor any other programmer doing maintenance or refactoring accidentally mistaking the argument variable as something other than an argument, then don’t bother. In my own work, I add `final` only in longer or more involved code where an argument might be mistaken for a local or member variable. \r\n\r\n\r\n#Another case added for the completeness\r\n\r\n\r\n    public class MyClass {\r\n        private int x;\r\n        //getters and setters\r\n    }\r\n\r\n    void doSomething( final MyClass arg ) {  // Mark argument as &#39;final&#39;.\r\n      \r\n       arg =  new MyClass();  // Compiler error: The passed argument variable arg  cannot be re-assigned to another object.\r\n\r\n       arg.setX(20); // allowed\r\n      // We can re-assign properties of argument which is marked as final\r\n     }\r\n\r\n# `record`\r\n\r\nJava 16 brings the new [records][1] feature. A record is a very brief way to define a class whose central purpose is to merely carry data, immutably and transparently. \r\n\r\nYou simply declare the class name along with the names and types of its member fields. The compiler implicitly provides the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nThe fields are read-only, with no setters. So a `record` is one case where there is no need to mark the arguments `final`. They are already effectively final. Indeed, the compiler forbids using `final` when declaring the fields of a record.\r\n\r\n```java\r\npublic record Employee( String name , LocalDate whenHired )  // &#129092; Marking `final` here is *not* allowed.\r\n{\r\n}\r\n```\r\n\r\nIf you provide an optional constructor, there you *can* mark `final`.  \r\n\r\n```java\r\npublic record Employee(String name , LocalDate whenHired)  // &#129092; Marking `final` here is *not* allowed.\r\n{\r\n    public Employee ( final String name , final LocalDate whenHired )  // &#129092; Marking `final` here *is* allowed.\r\n    {\r\n        this.name = name;\r\n        whenHired = LocalDate.MIN;  // &#129092; Compiler error, because of `final`. \r\n        this.whenHired = whenHired;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<h1>Stop a Variable’s Reassignment</h1>\n<p>While these answers are intellectually interesting, I've not read the short simple answer:</p>\n<blockquote>\n<p>Use the keyword <em>final</em> when you want the compiler to prevent a\nvariable from being re-assigned to a different object.</p>\n</blockquote>\n<p>Whether the variable is a static variable, member variable, local variable, or argument/parameter variable, the effect is entirely the same.</p>\n<h2>Example</h2>\n<p>Let’s see the effect in action.</p>\n<p>Consider this simple method, where the two variables (<em>arg</em> and <em>x</em>) can both be re-assigned different objects.</p>\n<pre><code>// Example use of this method: \n//   this.doSomething( &quot;tiger&quot; );\nvoid doSomething( String arg ) {\n  String x = arg;   // Both variables now point to the same String object.\n  x = &quot;elephant&quot;;   // This variable now points to a different String object.\n  arg = &quot;giraffe&quot;;  // Ditto. Now neither variable points to the original passed String.\n}\n</code></pre>\n<p>Mark the local variable as <em>final</em>. This results in a compiler error.</p>\n<pre><code>void doSomething( String arg ) {\n  final String x = arg;  // Mark variable as 'final'.\n  x = &quot;elephant&quot;;  // Compiler error: The final local variable x cannot be assigned. \n  arg = &quot;giraffe&quot;;  \n}\n</code></pre>\n<p>Instead, let’s mark the parameter variable as <em>final</em>. This too results in a compiler error.</p>\n<pre><code>void doSomething( final String arg ) {  // Mark argument as 'final'.\n  String x = arg;   \n  x = &quot;elephant&quot;; \n  arg = &quot;giraffe&quot;;  // Compiler error: The passed argument variable arg cannot be re-assigned to another object.\n}\n</code></pre>\n<p>Moral of the story:</p>\n<blockquote>\n<p>If you want to ensure a variable always points to the same object,\nmark the variable <em>final</em>.</p>\n</blockquote>\n<h2>Never Reassign Arguments</h2>\n<p>As good programming practice (in any language), you should <em>never</em> re-assign a parameter/argument variable to an object other than the object passed by the calling method. In the examples above, one should never write the line <code>arg = </code>. Since humans make mistakes, and programmers are human, let’s ask the compiler to assist us. Mark every parameter/argument variable as 'final' so that the compiler may find and flag any such re-assignments.</p>\n<h2>In Retrospect</h2>\n<p>As noted in other answers…\nGiven Java's original design goal of helping programmers to avoid dumb mistakes such as reading past the end of an array, Java should have been designed to automatically enforce all parameter/argument variables as 'final'. In other words, <em>Arguments should not be variables</em>. But hindsight is 20/20 vision, and the Java designers had their hands full at the time.</p>\n<h1>So, always add <code>final</code> to all arguments?</h1>\n<p>Should we add <code>final</code> to each and every method parameter being declared?</p>\n<ul>\n<li>In theory, yes.</li>\n<li>In practice, no.<br />➥ Add <code>final</code> only when the method’s code is long or complicated, where the argument may be mistaken for a local or member variable and possibly re-assigned.</li>\n</ul>\n<p>If you buy into the practice of never re-assigning an argument, you will be inclined to add a <code>final</code> to each. But this is tedious and makes the declaration a bit harder to read.</p>\n<p>For short simple code where the argument is obviously an argument, and not a local variable nor a member variable, I do not bother adding the <code>final</code>. If the code is quite obvious, with no chance of me nor any other programmer doing maintenance or refactoring accidentally mistaking the argument variable as something other than an argument, then don’t bother. In my own work, I add <code>final</code> only in longer or more involved code where an argument might be mistaken for a local or member variable.</p>\n<p>#Another case added for the completeness</p>\n<pre><code>public class MyClass {\n    private int x;\n    //getters and setters\n}\n\nvoid doSomething( final MyClass arg ) {  // Mark argument as 'final'.\n  \n   arg =  new MyClass();  // Compiler error: The passed argument variable arg  cannot be re-assigned to another object.\n\n   arg.setX(20); // allowed\n  // We can re-assign properties of argument which is marked as final\n }\n</code></pre>\n<h1><code>record</code></h1>\n<p>Java 16 brings the new <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature. A record is a very brief way to define a class whose central purpose is to merely carry data, immutably and transparently.</p>\n<p>You simply declare the class name along with the names and types of its member fields. The compiler implicitly provides the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>The fields are read-only, with no setters. So a <code>record</code> is one case where there is no need to mark the arguments <code>final</code>. They are already effectively final. Indeed, the compiler forbids using <code>final</code> when declaring the fields of a record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Employee( String name , LocalDate whenHired )  // 🡄 Marking `final` here is *not* allowed.\n{\n}\n</code></pre>\n<p>If you provide an optional constructor, there you <em>can</em> mark <code>final</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Employee(String name , LocalDate whenHired)  // 🡄 Marking `final` here is *not* allowed.\n{\n    public Employee ( final String name , final LocalDate whenHired )  // 🡄 Marking `final` here *is* allowed.\n    {\n        this.name = name;\n        whenHired = LocalDate.MIN;  // 🡄 Compiler error, because of `final`. \n        this.whenHired = whenHired;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1015592,"reputation":892,"user_id":1027209,"accept_rate":38,"display_name":"Chris Milburn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380408937,"creation_date":1357574913,"answer_id":14199645,"question_id":500508,"body_markdown":"I never use final in a parameter list, it just adds clutter like previous respondents have said. Also in Eclipse you can set parameter assignment to generate an error so using final in a parameter list seems pretty redundant to me.\r\nInterestingly when I enabled the Eclipse setting for parameter assignment generating an error on it caught this code (this is just how I remember the flow, not the actual code. ) :-\r\n\r\n    private String getString(String A, int i, String B, String C)\r\n    {\r\n        if (i &gt; 0)\r\n            A += B;\r\n      \r\n        if (i &gt; 100)\r\n            A += C;\r\n    \r\n        return A;\r\n    }\r\n\r\nPlaying devil&#39;s advocate, what exactly is wrong with doing this?\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I never use final in a parameter list, it just adds clutter like previous respondents have said. Also in Eclipse you can set parameter assignment to generate an error so using final in a parameter list seems pretty redundant to me.\nInterestingly when I enabled the Eclipse setting for parameter assignment generating an error on it caught this code (this is just how I remember the flow, not the actual code. ) :-</p>\n\n<pre><code>private String getString(String A, int i, String B, String C)\n{\n    if (i &gt; 0)\n        A += B;\n\n    if (i &gt; 100)\n        A += C;\n\n    return A;\n}\n</code></pre>\n\n<p>Playing devil's advocate, what exactly is wrong with doing this?</p>\n"},{"tags":[],"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1587645368,"creation_date":1383052702,"answer_id":19659347,"question_id":500508,"body_markdown":"Since Java passes copies of arguments I feel the relevance of `final` is rather limited. I guess the habit comes from the C++ era where you could prohibit reference content from being changed by doing a `const char const *`. I feel this kind of stuff makes you believe the developer is inherently stupid as f*** and needs to be protected against truly every character he types. In all humbleness may I say, I write very few bugs even though I omit `final` (unless I don&#39;t want someone to override my methods and classes). Maybe I&#39;m just an old-school dev.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Since Java passes copies of arguments I feel the relevance of <code>final</code> is rather limited. I guess the habit comes from the C++ era where you could prohibit reference content from being changed by doing a <code>const char const *</code>. I feel this kind of stuff makes you believe the developer is inherently stupid as f*** and needs to be protected against truly every character he types. In all humbleness may I say, I write very few bugs even though I omit <code>final</code> (unless I don't want someone to override my methods and classes). Maybe I'm just an old-school dev.</p>\n"},{"tags":[],"owner":{"account_id":2626295,"reputation":652,"user_id":2273211,"accept_rate":67,"display_name":"KunYu Tsai"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1599645012,"creation_date":1458239619,"answer_id":36068940,"question_id":500508,"body_markdown":"Follow up by Michel&#39;s post. I made myself another example to explain it. I hope it could help.\r\n\r\n    public static void main(String[] args){\r\n        MyParam myParam = thisIsWhy(new MyObj());\r\n        myParam.setArgNewName();\r\n\r\n        System.out.println(myParam.showObjName());\r\n    }\r\n\r\n    public static MyParam thisIsWhy(final MyObj obj){\r\n        MyParam myParam = new MyParam() {\r\n            @Override\r\n            public void setArgNewName() {\r\n                obj.name = &quot;afterSet&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String showObjName(){\r\n                return obj.name;\r\n            }\r\n        };\r\n\r\n        return myParam;\r\n    }\r\n\r\n    public static class MyObj{\r\n        String name = &quot;beforeSet&quot;;\r\n        public MyObj() {\r\n        }\r\n    }\r\n\r\n    public abstract static class MyParam{\r\n        public abstract void setArgNewName();\r\n        public abstract String showObjName();\r\n    }\r\n\r\nFrom the code above, in the method **thisIsWhy()**, we actually **didn&#39;t assign** the **[argument MyObj obj]** to a **real reference** in MyParam. In instead, we just use the **[argument MyObj obj]** in the method inside MyParam.\r\n\r\nBut after we finish the method **thisIsWhy()**, ***should the argument(object) MyObj still exist?***\r\n\r\nSeems like it should, because we can see in main we still call the method  **showObjName()** and it needs to reach **obj**. MyParam will still use/reaches the method argument even the method already returned! \r\n\r\nHow Java really achieve this is to generate a copy also is a hidden reference of the **argument MyObj obj** inside the MyParam object ( but it&#39;s not a formal field in MyParam so that we can&#39;t see it )\r\n\r\nAs we call &quot;showObjName&quot;, it will use that reference to get the corresponding value.\r\n\r\nBut if we didn&#39;t put the argument final, which leads a situation we can reassign a new memory(object) to the **argument MyObj obj**.\r\n\r\n**Technically there&#39;s no clash at all!** If we are allowed to do that, below will be the situation:\r\n\r\n 1. We now have a hidden [MyObj obj] point to a [Memory A in heap] now live in MyParam object.\r\n 2. We also have another [MyObj obj] which is the argument point to a [Memory B in heap] now live in thisIsWhy method.\r\n\r\nNo clash, but **&quot;CONFUSING!!&quot;** Because they are all using the **same &quot;reference name&quot; which is &quot;obj&quot;**.\r\n\r\nTo avoid this, set it as &quot;final&quot; to avoid programmer do the &quot;mistake-prone&quot; code.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Follow up by Michel's post. I made myself another example to explain it. I hope it could help.</p>\n<pre><code>public static void main(String[] args){\n    MyParam myParam = thisIsWhy(new MyObj());\n    myParam.setArgNewName();\n\n    System.out.println(myParam.showObjName());\n}\n\npublic static MyParam thisIsWhy(final MyObj obj){\n    MyParam myParam = new MyParam() {\n        @Override\n        public void setArgNewName() {\n            obj.name = &quot;afterSet&quot;;\n        }\n\n        @Override\n        public String showObjName(){\n            return obj.name;\n        }\n    };\n\n    return myParam;\n}\n\npublic static class MyObj{\n    String name = &quot;beforeSet&quot;;\n    public MyObj() {\n    }\n}\n\npublic abstract static class MyParam{\n    public abstract void setArgNewName();\n    public abstract String showObjName();\n}\n</code></pre>\n<p>From the code above, in the method <strong>thisIsWhy()</strong>, we actually <strong>didn't assign</strong> the <strong>[argument MyObj obj]</strong> to a <strong>real reference</strong> in MyParam. In instead, we just use the <strong>[argument MyObj obj]</strong> in the method inside MyParam.</p>\n<p>But after we finish the method <strong>thisIsWhy()</strong>, <em><strong>should the argument(object) MyObj still exist?</strong></em></p>\n<p>Seems like it should, because we can see in main we still call the method  <strong>showObjName()</strong> and it needs to reach <strong>obj</strong>. MyParam will still use/reaches the method argument even the method already returned!</p>\n<p>How Java really achieve this is to generate a copy also is a hidden reference of the <strong>argument MyObj obj</strong> inside the MyParam object ( but it's not a formal field in MyParam so that we can't see it )</p>\n<p>As we call &quot;showObjName&quot;, it will use that reference to get the corresponding value.</p>\n<p>But if we didn't put the argument final, which leads a situation we can reassign a new memory(object) to the <strong>argument MyObj obj</strong>.</p>\n<p><strong>Technically there's no clash at all!</strong> If we are allowed to do that, below will be the situation:</p>\n<ol>\n<li>We now have a hidden [MyObj obj] point to a [Memory A in heap] now live in MyParam object.</li>\n<li>We also have another [MyObj obj] which is the argument point to a [Memory B in heap] now live in thisIsWhy method.</li>\n</ol>\n<p>No clash, but <strong>&quot;CONFUSING!!&quot;</strong> Because they are all using the <strong>same &quot;reference name&quot; which is &quot;obj&quot;</strong>.</p>\n<p>To avoid this, set it as &quot;final&quot; to avoid programmer do the &quot;mistake-prone&quot; code.</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1466456661,"creation_date":1466456661,"answer_id":37931786,"question_id":500508,"body_markdown":"Short answer: `final` helps a tiny bit but... use defensive programming on the client side instead.\r\n\r\nIndeed, the problem with `final` is that it only enforces the **reference** is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Short answer: <code>final</code> helps a tiny bit but... use defensive programming on the client side instead.</p>\n\n<p>Indeed, the problem with <code>final</code> is that it only enforces the <strong>reference</strong> is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs.</p>\n"}],"owner":{"display_name":"Yotam Gilboa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177151,"favorite_count":0,"down_vote_count":1,"up_vote_count":456,"answer_count":12,"score":455,"last_activity_date":1700630796,"creation_date":1233481782,"question_id":500508,"body_markdown":"I can&#39;t understand where the `final` keyword is *really* handy when it is used on method parameters.  \r\n\r\nIf we exclude the usage of anonymous classes, readability and intent declaration then it seems almost worthless to me. \r\n\r\nEnforcing that some data remains constant is not as strong as it seems. \r\n\r\n- If the parameter is a primitive then it will have no effect since the parameter is passed to the method as a value and changing it will have no effect outside the scope. \r\n\r\n- If we are passing a parameter by reference, then the reference itself is a local variable and if the reference is changed from within the method, that would not have any effect from outside of the method scope. \r\n\r\nConsider the simple test example below.\r\nThis test passes although the method changed the value of the reference given to it, it has no effect.\r\n\r\n    public void testNullify() {\r\n        Collection&lt;Integer&gt; c  = new ArrayList&lt;Integer&gt;();\t\t\r\n        nullify(c);\r\n        assertNotNull(c);\t\t\r\n        final Collection&lt;Integer&gt; c1 = c;\r\n        assertTrue(c1.equals(c));\r\n        change(c);\r\n        assertTrue(c1.equals(c));\r\n    }\r\n\r\n    private void change(Collection&lt;Integer&gt; c) {\r\n        c = new ArrayList&lt;Integer&gt;();\r\n    }\r\n\r\n    public void nullify(Collection&lt;?&gt; t) {\r\n        t = null;\r\n    }\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I can't understand where the <code>final</code> keyword is <em>really</em> handy when it is used on method parameters.  </p>\n\n<p>If we exclude the usage of anonymous classes, readability and intent declaration then it seems almost worthless to me. </p>\n\n<p>Enforcing that some data remains constant is not as strong as it seems. </p>\n\n<ul>\n<li><p>If the parameter is a primitive then it will have no effect since the parameter is passed to the method as a value and changing it will have no effect outside the scope. </p></li>\n<li><p>If we are passing a parameter by reference, then the reference itself is a local variable and if the reference is changed from within the method, that would not have any effect from outside of the method scope. </p></li>\n</ul>\n\n<p>Consider the simple test example below.\nThis test passes although the method changed the value of the reference given to it, it has no effect.</p>\n\n<pre><code>public void testNullify() {\n    Collection&lt;Integer&gt; c  = new ArrayList&lt;Integer&gt;();      \n    nullify(c);\n    assertNotNull(c);       \n    final Collection&lt;Integer&gt; c1 = c;\n    assertTrue(c1.equals(c));\n    change(c);\n    assertTrue(c1.equals(c));\n}\n\nprivate void change(Collection&lt;Integer&gt; c) {\n    c = new ArrayList&lt;Integer&gt;();\n}\n\npublic void nullify(Collection&lt;?&gt; t) {\n    t = null;\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","intellij-plugin","intellij-14"],"owner":{"account_id":29963179,"reputation":11,"user_id":22962339,"display_name":"user22962339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700630616,"creation_date":1700630616,"question_id":77527489,"body_markdown":"I am trying to setup IntelliJ and maven project on multiple machines. I used Powershell to programmatically install IntelliJ on the machines and download the maven project repo. I also programmatically downloaded JDK and set JAVA_HOME to point to it. \r\n\r\nWhen I open the maven project in IntelliJ, the default project SDK is not set. I need to manually go to Project Structure &gt; Project Settings &gt; Project and then point to the installed JDK on the machine. Is there a way to programmatically set the IntelliJ default project SDK to the installed JDK (referenced by the JAVA_HOME path) on the machine using the command line, so that when I open the maven project in IntelliJ the default project SDK is already set? I’d like to avoid manually going to project structure and setting the SDK using the IntelliJ UI. \r\n\r\nFor reference, I am using IntelliJ IDEA 2023.1.2 x64\r\n\r\n\r\nI tried searching for command line operations that can be invoked on IntelliJ to set the default project SDK but couldn’t find any. ","title":"Programmatically Set Default Project SDK in IntelliJ","body":"<p>I am trying to setup IntelliJ and maven project on multiple machines. I used Powershell to programmatically install IntelliJ on the machines and download the maven project repo. I also programmatically downloaded JDK and set JAVA_HOME to point to it.</p>\n<p>When I open the maven project in IntelliJ, the default project SDK is not set. I need to manually go to Project Structure &gt; Project Settings &gt; Project and then point to the installed JDK on the machine. Is there a way to programmatically set the IntelliJ default project SDK to the installed JDK (referenced by the JAVA_HOME path) on the machine using the command line, so that when I open the maven project in IntelliJ the default project SDK is already set? I’d like to avoid manually going to project structure and setting the SDK using the IntelliJ UI.</p>\n<p>For reference, I am using IntelliJ IDEA 2023.1.2 x64</p>\n<p>I tried searching for command line operations that can be invoked on IntelliJ to set the default project SDK but couldn’t find any.</p>\n"},{"tags":["java","android","butterknife"],"comments":[{"owner":{"account_id":111374,"reputation":51656,"user_id":294248,"display_name":"fadden"},"score":0,"creation_date":1421694903,"post_id":28031905,"comment_id":44448450,"body_markdown":"Can you show the logcat output?  There may be some additional information in the log before the exception.  (There was in Dalvik, not sure what Art shows.)","body":"Can you show the logcat output?  There may be some additional information in the log before the exception.  (There was in Dalvik, not sure what Art shows.)"},{"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"score":0,"creation_date":1421697246,"post_id":28031905,"comment_id":44449676,"body_markdown":"I added the logs that show up right before the error. I see one problem right away. Line 2 shows an parent class called `LoggedInNavActivitya`, the `a` is not in the actual name. The other glaring issue that that `LoggedInNavActivity` is no longer even in my codebase... I deleted that file a while ago.","body":"I added the logs that show up right before the error. I see one problem right away. Line 2 shows an parent class called <code>LoggedInNavActivitya</code>, the <code>a</code> is not in the actual name. The other glaring issue that that <code>LoggedInNavActivity</code> is no longer even in my codebase... I deleted that file a while ago."}],"answers":[{"tags":[],"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1421698118,"creation_date":1421698118,"answer_id":28032719,"question_id":28031905,"body_markdown":"Cleaning out the `build` folder resolved the problem. Not sure why ART had an issue but Dalvik did not.\r\n\r\nRunning a gradle `clean` task was not clearing out my `build` folder all the way. I had to do it manually, but `clean` may work for some people.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Cleaning out the <code>build</code> folder resolved the problem. Not sure why ART had an issue but Dalvik did not.</p>\n\n<p>Running a gradle <code>clean</code> task was not clearing out my <code>build</code> folder all the way. I had to do it manually, but <code>clean</code> may work for some people.</p>\n"},{"tags":[],"owner":{"account_id":1074669,"reputation":12309,"user_id":1367571,"accept_rate":73,"display_name":"Sebastiano"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1423233530,"creation_date":1423233530,"answer_id":28368177,"question_id":28031905,"body_markdown":"In my case, the cause was slightly different.\r\n\r\nApparently, putting a `synchronized` statement inside a `try/catch` block causes the `VerifyError`, as reported [here on SO][1] and on the [official bug tracker][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27076759/sqlite-dbhelper-doesnt-work-with-art\r\n  [2]: https://code.google.com/p/android/issues/detail?id=80961","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, the cause was slightly different.</p>\n\n<p>Apparently, putting a <code>synchronized</code> statement inside a <code>try/catch</code> block causes the <code>VerifyError</code>, as reported <a href=\"https://stackoverflow.com/questions/27076759/sqlite-dbhelper-doesnt-work-with-art\">here on SO</a> and on the <a href=\"https://code.google.com/p/android/issues/detail?id=80961\" rel=\"noreferrer\">official bug tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":1563277,"reputation":9,"user_id":1452641,"display_name":"user1452641"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1501506155,"creation_date":1463989731,"answer_id":37385394,"question_id":28031905,"body_markdown":"In my case, the cause is proguard. My app shutdown on sumsung note3 whick is android 5.0.  \r\nI imported the android-async-http-1.4.9.jar, the proguard is:\r\n\r\n    -dontwarn com.loopj.android.http.**\r\n    -keep class com.loopj.android.http.**{*;}\r\n\r\nIt is not enough. I added:\r\n\r\n    -dontwarn cz.msebera.**\r\n    -keep class cz.msebera.**{*;}\r\n\r\nthe bug gone.\r\n\r\nso if you come into this bug, the deep-seated reason maybe not obvious, it is to be noted the proguard file.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, the cause is proguard. My app shutdown on sumsung note3 whick is android 5.0.<br>\nI imported the android-async-http-1.4.9.jar, the proguard is:</p>\n\n<pre><code>-dontwarn com.loopj.android.http.**\n-keep class com.loopj.android.http.**{*;}\n</code></pre>\n\n<p>It is not enough. I added:</p>\n\n<pre><code>-dontwarn cz.msebera.**\n-keep class cz.msebera.**{*;}\n</code></pre>\n\n<p>the bug gone.</p>\n\n<p>so if you come into this bug, the deep-seated reason maybe not obvious, it is to be noted the proguard file.</p>\n"},{"tags":[],"owner":{"account_id":1180206,"reputation":8276,"user_id":1155282,"accept_rate":77,"display_name":"Irshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488188928,"creation_date":1488188928,"answer_id":42482458,"question_id":28031905,"body_markdown":"I had the same issue thrown by `GoogleTagManager`.\r\n\r\n&gt; java.lang.VerifyError: Verifier rejected class com.google.android.gms.tagmanager.TagManager: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int) failed to verify: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int): [0x11] returning &#39;Reference: com.google.android.gms.tagmanager.zzp&#39;, but expected from declaration &#39;Reference: com.google.android.gms.common.api.PendingResult&#39;\r\n\r\n It happened after the merge. My collegue updated the library from `10.0.1` to `10.2.1`. Clean build didn&#39;t work.\r\n\r\n Due to time constraints, i rollback to the older version, and it worked.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I had the same issue thrown by <code>GoogleTagManager</code>.</p>\n\n<blockquote>\n  <p>java.lang.VerifyError: Verifier rejected class com.google.android.gms.tagmanager.TagManager: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int) failed to verify: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int): [0x11] returning 'Reference: com.google.android.gms.tagmanager.zzp', but expected from declaration 'Reference: com.google.android.gms.common.api.PendingResult'</p>\n</blockquote>\n\n<p>It happened after the merge. My collegue updated the library from <code>10.0.1</code> to <code>10.2.1</code>. Clean build didn't work.</p>\n\n<p>Due to time constraints, i rollback to the older version, and it worked.</p>\n"},{"tags":[],"owner":{"account_id":3613591,"reputation":2755,"user_id":3014036,"accept_rate":63,"display_name":"ahmed_khan_89"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1611582332,"creation_date":1488893451,"answer_id":42649629,"question_id":28031905,"body_markdown":"**Edit: As people are still voting this answer, I want to mention that it is from 2017. I am not sure if it&#39;s still correct... I hope it&#39;s still useful for some of you...**\r\n\r\nIn my case, I simply disabled the &quot;Instant Run&quot; option from my &quot;Build, Execution, Deployment&quot; settings. \r\n\r\nTo do so: \r\n\r\n 1. go to &quot;File&quot; &gt; &quot;Settings&quot; &gt; &quot;Build, Execution, Deployment&quot; &gt; &quot;Instant Run&quot;\r\n 2. uncheck the box &quot;Enable Instant Run...&quot; and click &quot;OK&quot; button\r\n\r\n \r\n","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p><strong>Edit: As people are still voting this answer, I want to mention that it is from 2017. I am not sure if it's still correct... I hope it's still useful for some of you...</strong></p>\n<p>In my case, I simply disabled the &quot;Instant Run&quot; option from my &quot;Build, Execution, Deployment&quot; settings.</p>\n<p>To do so:</p>\n<ol>\n<li>go to &quot;File&quot; &gt; &quot;Settings&quot; &gt; &quot;Build, Execution, Deployment&quot; &gt; &quot;Instant Run&quot;</li>\n<li>uncheck the box &quot;Enable Instant Run...&quot; and click &quot;OK&quot; button</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5519125,"reputation":713,"user_id":4382732,"display_name":"Marius Kohmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518785538,"creation_date":1518785538,"answer_id":48827222,"question_id":28031905,"body_markdown":"In my case the method that the error message said was &#39;bad&#39;, had some unknown faults. Changing from a Kotlin lambda to a regular loop solved my issue.\r\n\r\nBefore (With Error):\r\n\r\n    fun validZipCode(zipcode: String): Boolean {\r\n        val validRegexes = arrayOf(\r\n                &quot;0[0-9]{1}[0-9]{2}&quot;, \r\n                &quot;1[0-2]{1}[0-9]{2}&quot;, \r\n                &quot;1[3-4]{1}[0-9]{2}&quot;, \r\n                &quot;19[0-9]{2}&quot;, \r\n                &quot;2[0-1]{1}[0-9]{2}&quot; \r\n        )\r\n    return validRegexes.any { zipcode.matches(it.toRegex()) }\r\nAfter:\r\n\r\n    fun validZipCode(zipcode: String): Boolean {\r\n\r\n        val validRegexes = arrayOf(\r\n                &quot;0[0-9]{1}[0-9]{2}&quot;, \r\n                &quot;1[0-2]{1}[0-9]{2}&quot;, \r\n                &quot;1[3-4]{1}[0-9]{2}&quot;,\r\n                &quot;19[0-9]{2}&quot;, \r\n                &quot;2[0-1]{1}[0-9]{2}&quot;\r\n        )\r\n\r\n        for (regex in validRegexes) {\r\n            if (zipcode.matches(regex.toRegex())) {\r\n                return true\r\n            }\r\n        }\r\n\r\n        return false\r\n    }","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case the method that the error message said was 'bad', had some unknown faults. Changing from a Kotlin lambda to a regular loop solved my issue.</p>\n\n<p>Before (With Error):</p>\n\n<pre><code>fun validZipCode(zipcode: String): Boolean {\n    val validRegexes = arrayOf(\n            \"0[0-9]{1}[0-9]{2}\", \n            \"1[0-2]{1}[0-9]{2}\", \n            \"1[3-4]{1}[0-9]{2}\", \n            \"19[0-9]{2}\", \n            \"2[0-1]{1}[0-9]{2}\" \n    )\nreturn validRegexes.any { zipcode.matches(it.toRegex()) }\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>fun validZipCode(zipcode: String): Boolean {\n\n    val validRegexes = arrayOf(\n            \"0[0-9]{1}[0-9]{2}\", \n            \"1[0-2]{1}[0-9]{2}\", \n            \"1[3-4]{1}[0-9]{2}\",\n            \"19[0-9]{2}\", \n            \"2[0-1]{1}[0-9]{2}\"\n    )\n\n    for (regex in validRegexes) {\n        if (zipcode.matches(regex.toRegex())) {\n            return true\n        }\n    }\n\n    return false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547009,"reputation":2174,"user_id":5729661,"display_name":"Ali Nawaz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523952721,"creation_date":1523952721,"answer_id":49872959,"question_id":28031905,"body_markdown":"Simple **(3) steps** worked for me:\r\n\r\n**1 -** from top menu of android studio build --&gt; **clean project**\r\n\r\n**2 -** from top menu of android studio build --&gt; **make project**\r\n\r\n**3 -** from top menu of android studio build --&gt; **rebuild  project**\r\n\r\nAll set up..","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Simple <strong>(3) steps</strong> worked for me:</p>\n\n<p><strong>1 -</strong> from top menu of android studio build --> <strong>clean project</strong></p>\n\n<p><strong>2 -</strong> from top menu of android studio build --> <strong>make project</strong></p>\n\n<p><strong>3 -</strong> from top menu of android studio build --> <strong>rebuild  project</strong></p>\n\n<p>All set up..</p>\n"},{"tags":[],"owner":{"account_id":1346901,"reputation":2458,"user_id":1287459,"display_name":"Georgie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542951789,"creation_date":1541272846,"answer_id":53134716,"question_id":28031905,"body_markdown":"My app was working on most platforms but crashing immediately on Android 5.1. I started to suspect the new D8 dex compiler after reading Google info on how great it is. Disabling D8, so it uses the original DX compiler, is the only thing that worked for me. \r\nProject clean/invalidate caches didn&#39;t fix it.\r\nI had some synchronized blocks, but removing them didn&#39;t fix it.\r\nTurning off instant run didn&#39;t fix it.\r\nDisabling proguard didn&#39;t fix it.\r\n\r\nHere is how you disable D8:\r\n&lt;br&gt;-Create a file called gradle.properties in the root of your project, if it doesn&#39;t exist\r\n&lt;br&gt;-In it put this line: android.enableD8=false\r\n\r\nYou&#39;ll get deprecated warnings. Hopefully Google actually fixes D8 before they fully remove the deprecated DX. I don&#39;t know what in my code triggers it. I&#39;m using Android Studio 3.2.1 with gradle version 4.6.\r\nEdit: I&#39;ve reported this bug and Google developers are actively investigating","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>My app was working on most platforms but crashing immediately on Android 5.1. I started to suspect the new D8 dex compiler after reading Google info on how great it is. Disabling D8, so it uses the original DX compiler, is the only thing that worked for me. \nProject clean/invalidate caches didn't fix it.\nI had some synchronized blocks, but removing them didn't fix it.\nTurning off instant run didn't fix it.\nDisabling proguard didn't fix it.</p>\n\n<p>Here is how you disable D8:\n<br>-Create a file called gradle.properties in the root of your project, if it doesn't exist\n<br>-In it put this line: android.enableD8=false</p>\n\n<p>You'll get deprecated warnings. Hopefully Google actually fixes D8 before they fully remove the deprecated DX. I don't know what in my code triggers it. I'm using Android Studio 3.2.1 with gradle version 4.6.\nEdit: I've reported this bug and Google developers are actively investigating</p>\n"},{"tags":[],"owner":{"account_id":15671656,"reputation":17,"user_id":11307961,"display_name":"mannu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557434218,"creation_date":1557434218,"answer_id":56067199,"question_id":28031905,"body_markdown":"May be this can help some one who is facing this issue in Debug Build as well.\r\n\r\nI was also facing the same error.I missed to Configure Google API Console project.\r\nSo **Configure Google API Console project** following [this][1]\r\nand specify your app&#39;s package name when prompted. You will also need to provide the **SHA-1 hash** of your signing certificate. See Authenticating Your Client for information.\r\n\r\n\r\n  [1]: https://developers.google.com/identity/sign-in/android/start-integrating","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>May be this can help some one who is facing this issue in Debug Build as well.</p>\n\n<p>I was also facing the same error.I missed to Configure Google API Console project.\nSo <strong>Configure Google API Console project</strong> following <a href=\"https://developers.google.com/identity/sign-in/android/start-integrating\" rel=\"nofollow noreferrer\">this</a>\nand specify your app's package name when prompted. You will also need to provide the <strong>SHA-1 hash</strong> of your signing certificate. See Authenticating Your Client for information.</p>\n"},{"tags":[],"owner":{"account_id":1927550,"reputation":959,"user_id":1737646,"accept_rate":25,"display_name":"Anuj Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579867455,"creation_date":1579867455,"answer_id":59896082,"question_id":28031905,"body_markdown":"Verify Error is majorly thrown in certain scenarios which occurs **if we changed definition of class A, but class B was compiled using an older version of the class A.** That&#39;s why it gets resolved if we clear our project and rebuild all the classes together with same version of Java. \r\n\r\nFollowing link lists some of the scenarios where Verify error might occur. \r\n[java.lang.VerifyError – How to solve VerifyError][1]\r\n\r\n\r\n  [1]: https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-verifyerror-how-to-solve-verifyerror/","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Verify Error is majorly thrown in certain scenarios which occurs <strong>if we changed definition of class A, but class B was compiled using an older version of the class A.</strong> That's why it gets resolved if we clear our project and rebuild all the classes together with same version of Java. </p>\n\n<p>Following link lists some of the scenarios where Verify error might occur. \n<a href=\"https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-verifyerror-how-to-solve-verifyerror/\" rel=\"nofollow noreferrer\">java.lang.VerifyError – How to solve VerifyError</a></p>\n"},{"tags":[],"owner":{"account_id":5544002,"reputation":5430,"user_id":4399414,"display_name":"Sdghasemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634718936,"creation_date":1634718936,"answer_id":69642782,"question_id":28031905,"body_markdown":"I&#39;ve had this issue with stable version of Android Studio Arctic Fox Patch 3 (AGP 7.0.3) while using Kotlin `1.5.x` or `1.6.x`. When I was setting `&quot;1.5&quot;` or `&quot;1.6&quot;` as my **Kotlin language version** most of classes written in Kotlin were encountering `VerifyError`. Turned out the language version was the culprit, reducing it to `&quot;1.4&quot;` (while using Kotlin `1.5.x`) fixed the errors for me:\r\n\r\napp **build.gradle.kts:**\r\n```Kotlin\r\nkotlinOptions {\r\n    languageVersion = &quot;1.4&quot;\r\n    jvmTarget = &quot;11&quot;\r\n}\r\n```","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I've had this issue with stable version of Android Studio Arctic Fox Patch 3 (AGP 7.0.3) while using Kotlin <code>1.5.x</code> or <code>1.6.x</code>. When I was setting <code>&quot;1.5&quot;</code> or <code>&quot;1.6&quot;</code> as my <strong>Kotlin language version</strong> most of classes written in Kotlin were encountering <code>VerifyError</code>. Turned out the language version was the culprit, reducing it to <code>&quot;1.4&quot;</code> (while using Kotlin <code>1.5.x</code>) fixed the errors for me:</p>\n<p>app <strong>build.gradle.kts:</strong></p>\n<pre><code>kotlinOptions {\n    languageVersion = &quot;1.4&quot;\n    jvmTarget = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19323473,"reputation":1,"user_id":14126669,"display_name":"Artem roid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700630049,"creation_date":1700619160,"answer_id":77526980,"question_id":28031905,"body_markdown":"In my case, I upgraded the gradle version from 4 to 7 and changed \r\n\r\n    compileOptions   {\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\nwith\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n    }","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, I upgraded the gradle version from 4 to 7 and changed</p>\n<pre><code>compileOptions   {\nsourceCompatibility JavaVersion.VERSION_11\ntargetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>with</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n"}],"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62045,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":28032719,"answer_count":12,"score":56,"last_activity_date":1700630049,"creation_date":1421694770,"question_id":28031905,"body_markdown":"I get this error when I install my release APK on a `5.x` device. The error does not occur when I push the same code from Android Studio, or if I run it on a `4.x` device.\r\n\r\n    java.lang.VerifyError: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) (declaration of &#39;com.myapp.android.ui.activity.MainActivity$$ViewInjector&#39; appears in /data/app/com.myapp.android-2/base.apk)\r\n           at java.lang.Class.classForName(Class.java)\r\n           at java.lang.Class.forName(Class.java:308)\r\n           at java.lang.Class.forName(Class.java:272)\r\n           at butterknife.ButterKnife.findInjectorForClass(ButterKnife.java:298)\r\n           at butterknife.ButterKnife.inject(ButterKnife.java:271)\r\n           at butterknife.ButterKnife.inject(ButterKnife.java:184)\r\n           at com.myapp.android.ui.activity.MyDrawerActivity.onCreate(MyDrawerActivity.java:31)\r\n\r\nI inject my Toolbar and a custom NavigationDrawer in the class.\r\n\r\n    @InjectView(R.id.toolbar) Toolbar mToolbar;\r\n    @InjectView(R.id.nav_drawer) MyNavigationDrawer mNavigationDrawer;\r\n\r\nLine 31:\r\n\r\n    ButterKnife.inject(this);\r\n\r\nIs there something that would be different with the Butterknife codegen when using `gradle assembleRelease`? I am not using ProGuard at all.\r\n\r\nHere are my other Android build settings:\r\n\r\n    # Android SDK settings\r\n    ANDROID_BUILD_MIN_SDK_VERSION=14\r\n    ANDROID_BUILD_TARGET_SDK_VERSION=21\r\n    ANDROID_BUILD_SDK_VERSION=21\r\n    ANDROID_BUILD_TOOLS_VERSION=21.1.2\r\n\r\n\r\n**Logcat**\r\n\r\n    I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object)\r\n    I/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object) failed to verify: register v4 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivitya.lang.Object): [0x0]\r\n    I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\r\n    I/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) failed to verify: register v1 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivity\r\n    E/art     (21354): Verification failed on class com.myapp.android.ui.activity.MainActivity$$ViewInjector in /data/app/com.myapp.android-1/base.apk because: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I get this error when I install my release APK on a <code>5.x</code> device. The error does not occur when I push the same code from Android Studio, or if I run it on a <code>4.x</code> device.</p>\n\n<pre><code>java.lang.VerifyError: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) (declaration of 'com.myapp.android.ui.activity.MainActivity$$ViewInjector' appears in /data/app/com.myapp.android-2/base.apk)\n       at java.lang.Class.classForName(Class.java)\n       at java.lang.Class.forName(Class.java:308)\n       at java.lang.Class.forName(Class.java:272)\n       at butterknife.ButterKnife.findInjectorForClass(ButterKnife.java:298)\n       at butterknife.ButterKnife.inject(ButterKnife.java:271)\n       at butterknife.ButterKnife.inject(ButterKnife.java:184)\n       at com.myapp.android.ui.activity.MyDrawerActivity.onCreate(MyDrawerActivity.java:31)\n</code></pre>\n\n<p>I inject my Toolbar and a custom NavigationDrawer in the class.</p>\n\n<pre><code>@InjectView(R.id.toolbar) Toolbar mToolbar;\n@InjectView(R.id.nav_drawer) MyNavigationDrawer mNavigationDrawer;\n</code></pre>\n\n<p>Line 31:</p>\n\n<pre><code>ButterKnife.inject(this);\n</code></pre>\n\n<p>Is there something that would be different with the Butterknife codegen when using <code>gradle assembleRelease</code>? I am not using ProGuard at all.</p>\n\n<p>Here are my other Android build settings:</p>\n\n<pre><code># Android SDK settings\nANDROID_BUILD_MIN_SDK_VERSION=14\nANDROID_BUILD_TARGET_SDK_VERSION=21\nANDROID_BUILD_SDK_VERSION=21\nANDROID_BUILD_TOOLS_VERSION=21.1.2\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object)\nI/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object) failed to verify: register v4 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivitya.lang.Object): [0x0]\nI/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\nI/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) failed to verify: register v1 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivity\nE/art     (21354): Verification failed on class com.myapp.android.ui.activity.MainActivity$$ViewInjector in /data/app/com.myapp.android-1/base.apk because: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\n</code></pre>\n"},{"tags":["java","postgresql","jpa","one-to-many","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":6686268,"reputation":1,"user_id":5157412,"display_name":"Lukier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700629768,"creation_date":1700504481,"answer_id":77518127,"question_id":77517390,"body_markdown":"Due to tutorials like: https://www.baeldung.com/hibernate-one-to-many\r\n\r\nI guess the problem in your model is `mappedBy` in `@OneToMany`. In your case it should point to class field which mapping this relation. \r\n\r\nSo it should be: `@OneToMany(mapped_by = &quot;configuration&quot;, ...)`","title":"OneToMany relationship doesn&#39;t save id of owner entity in secondary entity","body":"<p>Due to tutorials like: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-one-to-many</a></p>\n<p>I guess the problem in your model is <code>mappedBy</code> in <code>@OneToMany</code>. In your case it should point to class field which mapping this relation.</p>\n<p>So it should be: <code>@OneToMany(mapped_by = &quot;configuration&quot;, ...)</code></p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700629768,"creation_date":1700496736,"question_id":77517390,"body_markdown":"Im trying to save in postgres 2 entities, ***Configuration*** and ***Screen***. ***Configuration*** can have many ***Screens***, then is `oneToMany`, and one ***Screen*** can have one ***Configuration***, then is`manyToOne`. I&#39;m using `JPA` to save those entities. The problem I have is, in ***Screen*** table, ***configuration_id*** relationship is not saved. That&#39;s my code:\r\n\r\n    @Data\r\n    public class Configuration  {\r\n    \r\n    @Id\r\n    private String id = UUID.randomUUID().toString();\r\n    \r\n    @OneToMany(mappedBy = &quot;id_configuration&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Screen&gt; screen;\r\n\r\nAnd this other\r\n\r\n    @Table\r\n    @Entity\r\n    @Data\r\n    public class Screen {\r\n    \r\n    private String status;\r\n    \r\n    @JoinColumn(name = &quot;configuration_id&quot;)\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Configuration configuration;\r\n\r\nwhen I create a new ***Configuration***, I indicate the ***Screen*** that should be created except the &#39;id&#39; field (it&#39;s configuration id created randomlly)\r\n\r\nThe data is saved well, both in ***Configuration*** and ***Screen***, except for that (***id_configuration***) field. There is a ***configuration_id*** field in ***Screen*** table, but it is always empty and never filled. Why is this happening? I&#39;m indicating the cascade type ALL, and relationships are well-formed.","title":"OneToMany relationship doesn&#39;t save id of owner entity in secondary entity","body":"<p>Im trying to save in postgres 2 entities, <em><strong>Configuration</strong></em> and <em><strong>Screen</strong></em>. <em><strong>Configuration</strong></em> can have many <em><strong>Screens</strong></em>, then is <code>oneToMany</code>, and one <em><strong>Screen</strong></em> can have one <em><strong>Configuration</strong></em>, then is<code>manyToOne</code>. I'm using <code>JPA</code> to save those entities. The problem I have is, in <em><strong>Screen</strong></em> table, <em><strong>configuration_id</strong></em> relationship is not saved. That's my code:</p>\n<pre><code>@Data\npublic class Configuration  {\n\n@Id\nprivate String id = UUID.randomUUID().toString();\n\n@OneToMany(mappedBy = &quot;id_configuration&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate List&lt;Screen&gt; screen;\n</code></pre>\n<p>And this other</p>\n<pre><code>@Table\n@Entity\n@Data\npublic class Screen {\n\nprivate String status;\n\n@JoinColumn(name = &quot;configuration_id&quot;)\n@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate Configuration configuration;\n</code></pre>\n<p>when I create a new <em><strong>Configuration</strong></em>, I indicate the <em><strong>Screen</strong></em> that should be created except the 'id' field (it's configuration id created randomlly)</p>\n<p>The data is saved well, both in <em><strong>Configuration</strong></em> and <em><strong>Screen</strong></em>, except for that (<em><strong>id_configuration</strong></em>) field. There is a <em><strong>configuration_id</strong></em> field in <em><strong>Screen</strong></em> table, but it is always empty and never filled. Why is this happening? I'm indicating the cascade type ALL, and relationships are well-formed.</p>\n"},{"tags":["java","for-loop","tic-tac-toe"],"comments":[{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":1,"creation_date":1700624551,"post_id":77527174,"comment_id":136676466,"body_markdown":"Your code example should be in the question, not the comments. Please [edit] the question. If you want to output the cell number, you would do `row * 3 + column + 1`. This is basic math. Or you could create a &quot;counter&quot; variable prior to the loops and increment it inside the inner-most loop. You may wish to enclose the entire math expression in parentheses if you intend to also perform string operations on it. Or output the tab character in a separate statement.","body":"Your code example should be in the question, not the comments. Please <a href=\"https://stackoverflow.com/posts/77527174/edit\">edit</a> the question. If you want to output the cell number, you would do <code>row * 3 + column + 1</code>. This is basic math. Or you could create a &quot;counter&quot; variable prior to the loops and increment it inside the inner-most loop. You may wish to enclose the entire math expression in parentheses if you intend to also perform string operations on it. Or output the tab character in a separate statement."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700627435,"post_id":77527174,"comment_id":136676687,"body_markdown":"Writing a tic tac toe game is far more involved than printing out the shown matrix.  You may want to focus on some simpler things until your coding skills evolve.  Another thing is to pick a class, say String, and play around with the methods.  Then move to another class.  Then when you want to write a program, you may remember something you learned during that process that would help that you wouldn&#39;t have previously known you could do.  I also recommend you check out Oracles java tutorials.","body":"Writing a tic tac toe game is far more involved than printing out the shown matrix.  You may want to focus on some simpler things until your coding skills evolve.  Another thing is to pick a class, say String, and play around with the methods.  Then move to another class.  Then when you want to write a program, you may remember something you learned during that process that would help that you wouldn&#39;t have previously known you could do.  I also recommend you check out Oracles java tutorials."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700627812,"post_id":77527174,"comment_id":136676714,"body_markdown":"[The Java Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700625297,"creation_date":1700625297,"answer_id":77527236,"question_id":77527174,"body_markdown":"You need 2 for-loops for this. One for-loop to iterate over the rows and the other for loop is to iterate through the columns. \r\n\r\n&gt; Refer the working sample [here][1]\r\n\r\nRefer the code below :\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int rows = 3;\r\n            int cols = 3;\r\n    \r\n            for (int i = 1; i &lt;= rows; i++) {\r\n                for (int j = 1; j &lt;= cols; j++) {\r\n                    System.out.print((i - 1) * cols + j + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput :\r\n\r\n    1      2      3    \r\n    4      5      6   \r\n    7      8      9\r\n\r\n\r\n  [1]: https://onlinegdb.com/hW52IMElM","title":"How do I make an output like this using Java for-loops?","body":"<p>You need 2 for-loops for this. One for-loop to iterate over the rows and the other for loop is to iterate through the columns.</p>\n<blockquote>\n<p>Refer the working sample <a href=\"https://onlinegdb.com/hW52IMElM\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n<p>Refer the code below :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int rows = 3;\n        int cols = 3;\n\n        for (int i = 1; i &lt;= rows; i++) {\n            for (int j = 1; j &lt;= cols; j++) {\n                System.out.print((i - 1) * cols + j + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>1      2      3    \n4      5      6   \n7      8      9\n</code></pre>\n"}],"owner":{"account_id":29962644,"reputation":9,"user_id":22961939,"display_name":"akari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1700630263,"answer_count":1,"score":-3,"last_activity_date":1700629034,"creation_date":1700623956,"question_id":77527174,"body_markdown":"    1      2      3    \r\n    4      5      6   \r\n    7      8      9\r\n\r\nI&#39;m making a tic-tac-toe game with this;-;\r\n\r\nI tried a formula but it only turned out as\r\n\r\n    0    0    0\r\n    1    1    1\r\n    2    2    2\r\n\r\nWould also really appreciate it if you could also direct me on how to change the numbers to X/O when chosen.\r\n\r\n    int[][] x = new int[3][3];\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            System.out.print(&quot; &quot;);\r\n            System.out.print(i+1+j+ &quot;\\t&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nI apologize, I&#39;m really quite new to this.\r\n","title":"How do I make an output like this using Java for-loops?","body":"<pre><code>1      2      3    \n4      5      6   \n7      8      9\n</code></pre>\n<p>I'm making a tic-tac-toe game with this;-;</p>\n<p>I tried a formula but it only turned out as</p>\n<pre><code>0    0    0\n1    1    1\n2    2    2\n</code></pre>\n<p>Would also really appreciate it if you could also direct me on how to change the numbers to X/O when chosen.</p>\n<pre><code>int[][] x = new int[3][3];\nfor (int i = 0; i &lt; 3; i++) {\n    for (int j = 0; j &lt; 3; j++) {\n        System.out.print(&quot; &quot;);\n        System.out.print(i+1+j+ &quot;\\t&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>I apologize, I'm really quite new to this.</p>\n"},{"tags":["java","maven","log4j","pom.xml","slf4j"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674059710,"post_id":75162281,"comment_id":132635526,"body_markdown":"You have log4j and logback in the classpath remove one.","body":"You have log4j and logback in the classpath remove one."},{"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"score":0,"creation_date":1674060014,"post_id":75162281,"comment_id":132635637,"body_markdown":"@Jens Would you happen to know how to remove it?  Thanks!","body":"@Jens Would you happen to know how to remove it?  Thanks!"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674061886,"post_id":75162281,"comment_id":132636309,"body_markdown":"it must be a dependency in your project. remove it from there","body":"it must be a dependency in your project. remove it from there"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1674060662,"creation_date":1674060295,"answer_id":75162534,"question_id":75162281,"body_markdown":"Based on [this documentation](https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/):\r\n\r\n&gt;Due to a break in compatibility in the SLF4J binding, as of release 2.19.0 two SLF4J to Log4j Adapters are provided.\r\n&gt;\r\n&gt;1. `log4j-slf4j-impl` should be used with SLF4J 1.7.x releases or older.\r\n&gt;2. `log4j-slf4j2-impl` should be used with SLF4J 2.0.x releases or newer.\r\n&gt;\r\n&gt;Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.\r\n\r\nSo the simplest way (if you need SLF4J 2) is to use `&lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;`. The other thing you can do is to revert back to `slf4j-api` 1.7.x.\r\n\r\n**Other notes:**\r\n\r\n- The SLF4J log shows that `logback-classic` is also present in the dependency tree. You need to select either `logback-classic` or the log4j binding. Run `mvn dependency:tree` on your project to find where `logback-classic` is being added.\r\n\r\n- If you want to keep `logback-classic`, then same as mentioned above, you need to use the `logback-classic` compatible with SLF4J 2.","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>Based on <a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"noreferrer\">this documentation</a>:</p>\n<blockquote>\n<p>Due to a break in compatibility in the SLF4J binding, as of release 2.19.0 two SLF4J to Log4j Adapters are provided.</p>\n<ol>\n<li><code>log4j-slf4j-impl</code> should be used with SLF4J 1.7.x releases or older.</li>\n<li><code>log4j-slf4j2-impl</code> should be used with SLF4J 2.0.x releases or newer.</li>\n</ol>\n<p>Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.</p>\n</blockquote>\n<p>So the simplest way (if you need SLF4J 2) is to use <code>&lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;</code>. The other thing you can do is to revert back to <code>slf4j-api</code> 1.7.x.</p>\n<p><strong>Other notes:</strong></p>\n<ul>\n<li><p>The SLF4J log shows that <code>logback-classic</code> is also present in the dependency tree. You need to select either <code>logback-classic</code> or the log4j binding. Run <code>mvn dependency:tree</code> on your project to find where <code>logback-classic</code> is being added.</p>\n</li>\n<li><p>If you want to keep <code>logback-classic</code>, then same as mentioned above, you need to use the <code>logback-classic</code> compatible with SLF4J 2.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11270646,"reputation":405,"user_id":8266206,"display_name":"Charden Daxicen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694526259,"creation_date":1694526259,"answer_id":77089718,"question_id":75162281,"body_markdown":"I was using Gradle. Adding this dependency worked\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j-slf4j2-impl:2.20.0&#39;\r\n\r\n","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>I was using Gradle. Adding this dependency worked</p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-slf4j2-impl:2.20.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26150741,"reputation":1,"user_id":19838736,"display_name":"罗天翔"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700628678,"creation_date":1700628678,"answer_id":77527396,"question_id":75162281,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.36&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nI downgrade the slf4j version from 1.8.* to 1.7.36 ,and It works, otherwise it happens:\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\n","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n  &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nI downgrade the slf4j version from 1.8.* to 1.7.36 ,and It works, otherwise it happens:\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.</p>\n"}],"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8265,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75162534,"answer_count":3,"score":3,"last_activity_date":1700628678,"creation_date":1674059118,"question_id":75162281,"body_markdown":"I am currently getting the below errors when trying to run a Spring Java program.\r\n\r\n\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n```\r\n\r\nHere is the section in the pom.xml file that has the SLF4J and Log4J dependencies.  This same section has worked in previous projects.\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI don&#39;t have any components that are targeting  indings for slf4j-api version 1..x or earlier.  This error message seems to both say that I don&#39;t have SLF4J and that I have the wrong version.\r\n\r\nIf there are any thoughts on how to resolve this, I would appreciate it.  Thank you!\r\n\r\n\r\nI have tried using different dependencies in the pom.xml file, but ultimately these have worked in a previous program.  I have also tried looking at dependencies that might also use SLF4J and excluding SLF4J from them, but I am still getting an error message.  I have tried solutions from other similar questions asked but keep getting the same error.","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>I am currently getting the below errors when trying to run a Spring Java program.</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\n</code></pre>\n<p>Here is the section in the pom.xml file that has the SLF4J and Log4J dependencies.  This same section has worked in previous projects.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I don't have any components that are targeting  indings for slf4j-api version 1..x or earlier.  This error message seems to both say that I don't have SLF4J and that I have the wrong version.</p>\n<p>If there are any thoughts on how to resolve this, I would appreciate it.  Thank you!</p>\n<p>I have tried using different dependencies in the pom.xml file, but ultimately these have worked in a previous program.  I have also tried looking at dependencies that might also use SLF4J and excluding SLF4J from them, but I am still getting an error message.  I have tried solutions from other similar questions asked but keep getting the same error.</p>\n"},{"tags":["java","android","gradle","android-app-bundle"],"answers":[{"tags":[],"owner":{"account_id":14286485,"reputation":3511,"user_id":10319730,"display_name":"Andre Thiele"},"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1700628659,"creation_date":1615926906,"answer_id":66663015,"question_id":66661789,"body_markdown":"I forgot to add my `keystore.properties` file which I read at the signing process.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I forgot to add my <code>keystore.properties</code> file which I read at the signing process.</p>\n"},{"tags":[],"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672335296,"creation_date":1672335296,"answer_id":74954317,"question_id":66661789,"body_markdown":"I had the same error. I used usb to copy upload key, not using cloud services like Google Drive and copied the content of key.properties file and pasted the content into notepad or editor and again copy and paste the content into the file. I think the former operation is irrelevant, but I fixed the error in this way.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I had the same error. I used usb to copy upload key, not using cloud services like Google Drive and copied the content of key.properties file and pasted the content into notepad or editor and again copy and paste the content into the file. I think the former operation is irrelevant, but I fixed the error in this way.</p>\n"},{"tags":[],"owner":{"account_id":19893334,"reputation":65,"user_id":14574885,"display_name":"Lakshan Kodithuwakku"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1674995053,"creation_date":1674995053,"answer_id":75274853,"question_id":66661789,"body_markdown":"If you added your keystore properties to your gitignore file, it may have caused issues with your signing process. To fix this, you should remove the keystore properties from the gitignore file and ensure they are included in your repository. This will ensure that the signing process has access to the necessary information to build your app.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>If you added your keystore properties to your gitignore file, it may have caused issues with your signing process. To fix this, you should remove the keystore properties from the gitignore file and ensure they are included in your repository. This will ensure that the signing process has access to the necessary information to build your app.</p>\n"},{"tags":[],"owner":{"account_id":8805769,"reputation":692,"user_id":6580519,"display_name":"Mohammed Salim Al-Othman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683447179,"creation_date":1683447179,"answer_id":76192830,"question_id":66661789,"body_markdown":"keystore.properties file should be located inside the android folder or flutter app then the keystore file should be located in the same given directory inside the keystore.properties file .","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>keystore.properties file should be located inside the android folder or flutter app then the keystore file should be located in the same given directory inside the keystore.properties file .</p>\n"},{"tags":[],"owner":{"account_id":17969158,"reputation":677,"user_id":13058371,"display_name":"Remoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691494701,"creation_date":1691494701,"answer_id":76859192,"question_id":66661789,"body_markdown":"For me, where I am using Fastlane and GitHub Action to upload a new Android version... I did have the file `keystore.properties` called `key.properties` locally... but in GitHub Action I was using `keystore.properties` and that was my problem ","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>For me, where I am using Fastlane and GitHub Action to upload a new Android version... I did have the file <code>keystore.properties</code> called <code>key.properties</code> locally... but in GitHub Action I was using <code>keystore.properties</code> and that was my problem</p>\n"},{"tags":[],"owner":{"account_id":5332702,"reputation":2180,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694643933,"creation_date":1694643933,"answer_id":77100828,"question_id":66661789,"body_markdown":"A little late to the party, in my particular case I had misplaced my `key.properties` file containing keystore credentials. \r\n\r\n### Exception\r\n```\r\n[   +1 ms] FAILURE: Build failed with an exception.\r\n[   +1 ms] * What went wrong:\r\n[        ] Execution failed for task &#39;:app:signReleaseBundle&#39;.\r\n[        ] &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n[        ]    &gt; java.lang.NullPointerException (no error message)\r\n[        ] * Try:\r\n[        ] &gt; Run with --debug option to get more log output.\r\n[        ] &gt; Run with --scan to get full insights.\r\n[        ] * Exception is\r\n```\r\n\r\nThe hint here (atleast for me) is `signReleaseBundle`, to me indicating all builds, etc completed. Knowing I have a keystore, etc to sign the app - this would be my first point to look at.\r\n\r\n### Solution\r\n\r\nOriginally my `key.properties` was placed in `android/app/key.properties`. Moving this up to module level `android/key.properties` resolved the issue.\r\n\r\nMy usage was in `android/app/gradle.build`:\r\n\r\n```asdl\r\ndef keystoreProperties = new Properties()\r\ndef keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\nif (keystorePropertiesFile.exists()) {\r\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 34\r\n    ...\r\n\r\n    signingConfigs {\r\n       release {\r\n           keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n           keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n           storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n           storePassword keystoreProperties[&#39;storePassword&#39;]\r\n        }\r\n     }\r\n```\r\n\r\n\r\n","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>A little late to the party, in my particular case I had misplaced my <code>key.properties</code> file containing keystore credentials.</p>\n<h3>Exception</h3>\n<pre><code>[   +1 ms] FAILURE: Build failed with an exception.\n[   +1 ms] * What went wrong:\n[        ] Execution failed for task ':app:signReleaseBundle'.\n[        ] &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n[        ]    &gt; java.lang.NullPointerException (no error message)\n[        ] * Try:\n[        ] &gt; Run with --debug option to get more log output.\n[        ] &gt; Run with --scan to get full insights.\n[        ] * Exception is\n</code></pre>\n<p>The hint here (atleast for me) is <code>signReleaseBundle</code>, to me indicating all builds, etc completed. Knowing I have a keystore, etc to sign the app - this would be my first point to look at.</p>\n<h3>Solution</h3>\n<p>Originally my <code>key.properties</code> was placed in <code>android/app/key.properties</code>. Moving this up to module level <code>android/key.properties</code> resolved the issue.</p>\n<p>My usage was in <code>android/app/gradle.build</code>:</p>\n<pre><code>def keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 34\n    ...\n\n    signingConfigs {\n       release {\n           keyAlias keystoreProperties['keyAlias']\n           keyPassword keystoreProperties['keyPassword']\n           storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n           storePassword keystoreProperties['storePassword']\n        }\n     }\n</code></pre>\n"}],"owner":{"account_id":14286485,"reputation":3511,"user_id":10319730,"display_name":"Andre Thiele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25868,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":66663015,"answer_count":6,"score":42,"last_activity_date":1700628659,"creation_date":1615921433,"question_id":66661789,"body_markdown":"I am getting this error message when creating a signed app-bundle on CI and also my MacBook via the terminal. What am I missing? I already have a signing key that I used before and I am using the same key.\r\n\r\nI also cannot build my App Bundle via Android Studio, which is weird. I included the google-services.json, and the necessary keys via the Gradle Config.\r\n\r\n```\r\n&gt; Task :app:signReleaseBundle FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:signReleaseBundle&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n   &gt; kotlin.KotlinNullPointerException (no error message)\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:signReleaseBundle&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:336)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:502)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:479)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:462)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$400(ExecuteActionsTaskExecuter.java:105)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:273)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:251)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$executeOperation$1(ExecuteStep.java:66)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.executeOperation(ExecuteStep.java:66)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:34)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:44)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:72)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:42)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:53)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:39)\r\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:44)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:77)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:58)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:54)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:32)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:57)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:38)\r\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:63)\r\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:30)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:176)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:76)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:43)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:39)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:25)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:102)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:95)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:83)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:96)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:52)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:83)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:54)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:88)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:88)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:46)\r\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:34)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:43)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$3.withWorkspace(ExecuteActionsTaskExecuter.java:286)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:43)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:33)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:40)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:30)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:54)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:40)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine.execute(DefaultExecutionEngine.java:41)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:183)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:183)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: kotlin.KotlinNullPointerException\r\n        at com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable.run(FinalizeBundleTask.kt:114)\r\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:67)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:63)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:63)\r\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:60)\r\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:200)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\r\n        ... 3 more\r\n\r\n```","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I am getting this error message when creating a signed app-bundle on CI and also my MacBook via the terminal. What am I missing? I already have a signing key that I used before and I am using the same key.</p>\n<p>I also cannot build my App Bundle via Android Studio, which is weird. I included the google-services.json, and the necessary keys via the Gradle Config.</p>\n<pre><code>&gt; Task :app:signReleaseBundle FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:signReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n   &gt; kotlin.KotlinNullPointerException (no error message)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:signReleaseBundle'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:336)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:502)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:479)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:462)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$400(ExecuteActionsTaskExecuter.java:105)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:273)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:251)\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$executeOperation$1(ExecuteStep.java:66)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeOperation(ExecuteStep.java:66)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:34)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:44)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:72)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:42)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:53)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:39)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:44)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:77)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:58)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:54)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:32)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:38)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:63)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:30)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:176)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:76)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:39)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:25)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:102)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:95)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:83)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:96)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:52)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:83)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:54)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:88)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:88)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:46)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:34)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:43)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$3.withWorkspace(ExecuteActionsTaskExecuter.java:286)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:43)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:33)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:40)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:30)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:54)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:40)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine.execute(DefaultExecutionEngine.java:41)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:183)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:183)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: kotlin.KotlinNullPointerException\n        at com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable.run(FinalizeBundleTask.kt:114)\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:67)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:63)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:63)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:60)\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:200)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\n        ... 3 more\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1700493743,"post_id":77516855,"comment_id":136658183,"body_markdown":"Any good reason to run on CR build when Final exists? I would test it on 6.3.0.Final or better 6.3.1.Final","body":"Any good reason to run on CR build when Final exists? I would test it on 6.3.0.Final or better 6.3.1.Final"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700628052,"post_id":77516855,"comment_id":136676728,"body_markdown":"https://discourse.hibernate.org/t/cannot-invoke-org-hibernate-query-bindabletype-resolveexpressible-org-hibernate-engine-spi-sessionfactoryimplementor-because-declaredparametertype-is-null/7887","body":"<a href=\"https://discourse.hibernate.org/t/cannot-invoke-org-hibernate-query-bindabletype-resolveexpressible-org-hibernate-engine-spi-sessionfactoryimplementor-because-declaredparametertype-is-null/7887\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a>"}],"owner":{"account_id":29949744,"reputation":1,"user_id":22952151,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700628125,"creation_date":1700492120,"question_id":77516855,"body_markdown":"I&#39;m getting this runtime error after upgrading java version from `11 to 17`, hibernate version used is `6.3.0.CR1`.\r\nThe same code works fine with Java 11\r\n\r\nError at runtime:\r\n\r\n    Cannot invoke &quot;org.hibernate.query.BindableType.resolveExpressible(org.hibernate.engine.spi.SessionFactoryImplementor)&quot; because &quot;declaredParameterType&quot; is null","title":"Runtime Error when upgraded from java 11 to 17","body":"<p>I'm getting this runtime error after upgrading java version from <code>11 to 17</code>, hibernate version used is <code>6.3.0.CR1</code>.\nThe same code works fine with Java 11</p>\n<p>Error at runtime:</p>\n<pre><code>Cannot invoke &quot;org.hibernate.query.BindableType.resolveExpressible(org.hibernate.engine.spi.SessionFactoryImplementor)&quot; because &quot;declaredParameterType&quot; is null\n</code></pre>\n"},{"tags":["java","android","kotlin","bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686304802,"post_id":76436040,"comment_id":134783750,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686661674,"post_id":76436040,"comment_id":134827363,"body_markdown":"I don&#39;t think that there is a universal method to retrieve data from a fitness tracker, but maybe taking a look at the Gadgetbridge App (https://codeberg.org/Freeyourgadget/Gadgetbridge/) is worth a try.","body":"I don&#39;t think that there is a universal method to retrieve data from a fitness tracker, but maybe taking a look at the Gadgetbridge App (<a href=\"https://codeberg.org/Freeyourgadget/Gadgetbridge/\" rel=\"nofollow noreferrer\">codeberg.org/Freeyourgadget/Gadgetbridge</a>) is worth a try."}],"answers":[{"tags":[],"owner":{"account_id":17333111,"reputation":872,"user_id":12555686,"display_name":"Simran Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700628105,"creation_date":1686658669,"answer_id":76464852,"question_id":76436040,"body_markdown":"You must use a bluetooth library to connect to the device (fitness tracker).\r\n\r\nBluetooth devices such as fitness trackers communicate data through services. Every bluetooth device has its own set of services. Every service has multiple characteristics.\r\n\r\n1. Once you connect to the device, use the bluetooth library to get the list of services, that the device supports.\r\n\r\nEvery service has a UUID. You can check which service you need according to the UUID. Bluetooth has an official document for this purpose. You can refer to this: https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf\r\n\r\nFor example, if you need &quot;heart rate&quot; data, then you need the service with the UUID &quot;0x180d&quot;.\r\n\r\n2. Once you find the service you wanted (in this example &quot;0x180d&quot;), get the list of characteristics present in that service. And get the official documentation for that service on this link: https://www.bluetooth.com/specifications/specs/\r\n\r\nGo on the link, and search for the desired service (In our example, &quot;heart rate service&quot; i.e. &quot;HRS&quot;. Read the documentation carefully on how to extract data. The documentation has the list of characteristics it supports and the format, the data is present in. Check what set of characteristics your device is supporting and work accordingly.\r\n\r\nFor heart rate, the characteristic you are looking for is &quot;0x2a37&quot;. Again you can refer to the above links for this purpose.\r\n\r\n3. Once you have the desired characteristic, read the documentation of the characteristic, if you have to read the data or listen to the data over time.\r\n\r\nFor example, the heart rate characteristic &quot;0x2a37&quot;, only supports listening to the data. The data you will get is a list of integers. You need to parse it into readable format. Refer to this answer for that purpose: https://stackoverflow.com/a/65458794/12555686\r\n\r\nAnd there you have it, you need to follow these steps every time you need data for a certain activity.\r\n\r\nOne more thing, a lot of fitness trackers (MiBand, Firebolt, etc..) use custom services. For example, the steps data has to be communicated through the &quot;Physical Activity Monitor Service&quot; (PAMS), but MiBand doesn&#39;t have this service. It communicates the data regarding steps through its custom service &quot;0xfee0&quot; with the characteristic &quot;0x0007&quot;. So that is going to be a tricky job.\r\n\r\nYou can refer to some GitHub repositories for this purpose. As of now, I know only some GitHub repositories and they are for MiBand. But I assume that other brands must also follow a similar pattern.\r\n\r\nHere are the links to some projects: \r\n1. https://github.com/creotiv/MiBand2/tree/master (python)\r\n2. https://github.com/dkhmelenko/miband-android/tree/master (kotlin)\r\n3. https://github.com/simranss/my_fit (flutter) (this is not just for MiBand, but for every fitness tracker)","title":"Get Data From Fitness Tracker","body":"<p>You must use a bluetooth library to connect to the device (fitness tracker).</p>\n<p>Bluetooth devices such as fitness trackers communicate data through services. Every bluetooth device has its own set of services. Every service has multiple characteristics.</p>\n<ol>\n<li>Once you connect to the device, use the bluetooth library to get the list of services, that the device supports.</li>\n</ol>\n<p>Every service has a UUID. You can check which service you need according to the UUID. Bluetooth has an official document for this purpose. You can refer to this: <a href=\"https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf\" rel=\"nofollow noreferrer\">https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf</a></p>\n<p>For example, if you need &quot;heart rate&quot; data, then you need the service with the UUID &quot;0x180d&quot;.</p>\n<ol start=\"2\">\n<li>Once you find the service you wanted (in this example &quot;0x180d&quot;), get the list of characteristics present in that service. And get the official documentation for that service on this link: <a href=\"https://www.bluetooth.com/specifications/specs/\" rel=\"nofollow noreferrer\">https://www.bluetooth.com/specifications/specs/</a></li>\n</ol>\n<p>Go on the link, and search for the desired service (In our example, &quot;heart rate service&quot; i.e. &quot;HRS&quot;. Read the documentation carefully on how to extract data. The documentation has the list of characteristics it supports and the format, the data is present in. Check what set of characteristics your device is supporting and work accordingly.</p>\n<p>For heart rate, the characteristic you are looking for is &quot;0x2a37&quot;. Again you can refer to the above links for this purpose.</p>\n<ol start=\"3\">\n<li>Once you have the desired characteristic, read the documentation of the characteristic, if you have to read the data or listen to the data over time.</li>\n</ol>\n<p>For example, the heart rate characteristic &quot;0x2a37&quot;, only supports listening to the data. The data you will get is a list of integers. You need to parse it into readable format. Refer to this answer for that purpose: <a href=\"https://stackoverflow.com/a/65458794/12555686\">https://stackoverflow.com/a/65458794/12555686</a></p>\n<p>And there you have it, you need to follow these steps every time you need data for a certain activity.</p>\n<p>One more thing, a lot of fitness trackers (MiBand, Firebolt, etc..) use custom services. For example, the steps data has to be communicated through the &quot;Physical Activity Monitor Service&quot; (PAMS), but MiBand doesn't have this service. It communicates the data regarding steps through its custom service &quot;0xfee0&quot; with the characteristic &quot;0x0007&quot;. So that is going to be a tricky job.</p>\n<p>You can refer to some GitHub repositories for this purpose. As of now, I know only some GitHub repositories and they are for MiBand. But I assume that other brands must also follow a similar pattern.</p>\n<p>Here are the links to some projects:</p>\n<ol>\n<li><a href=\"https://github.com/creotiv/MiBand2/tree/master\" rel=\"nofollow noreferrer\">https://github.com/creotiv/MiBand2/tree/master</a> (python)</li>\n<li><a href=\"https://github.com/dkhmelenko/miband-android/tree/master\" rel=\"nofollow noreferrer\">https://github.com/dkhmelenko/miband-android/tree/master</a> (kotlin)</li>\n<li><a href=\"https://github.com/simranss/my_fit\" rel=\"nofollow noreferrer\">https://github.com/simranss/my_fit</a> (flutter) (this is not just for MiBand, but for every fitness tracker)</li>\n</ol>\n"}],"owner":{"account_id":28783496,"reputation":13,"user_id":22044564,"display_name":"mrBrain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76464852,"answer_count":1,"score":1,"last_activity_date":1700628105,"creation_date":1686262616,"question_id":76436040,"body_markdown":"I&#39;m developing mobile app on Kotlin and I need to get data (ex. Heart Rate) from Fitness Tracker. But I don&#39;t find universal API for this task.\r\n\r\nAlso I know, that some fitness tracker like Mi Band, Huawei Watch has a official API, but I need a universal method.","title":"Get Data From Fitness Tracker","body":"<p>I'm developing mobile app on Kotlin and I need to get data (ex. Heart Rate) from Fitness Tracker. But I don't find universal API for this task.</p>\n<p>Also I know, that some fitness tracker like Mi Band, Huawei Watch has a official API, but I need a universal method.</p>\n"},{"tags":["java","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":29962930,"reputation":1,"user_id":22962151,"display_name":"Anton Kolomeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700627122,"creation_date":1700627122,"answer_id":77527317,"question_id":77195839,"body_markdown":"You need to override this method in ControllerAdvice \r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n            HttpMessageNotReadableException ex, \r\n            HttpHeaders headers, \r\n            HttpStatusCode status, \r\n            WebRequest request\r\n    ) {\r\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\r\n                webRequest.getDescription(false),\r\n                HttpStatus.INTERNAL_SERVER_ERROR,\r\n                exception.getMessage(),\r\n                LocalDateTime.now()\r\n        );\r\n        return super.handleExceptionInternal(ex, errorResponseDTO, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n    }","title":"Cannot catch HttpMessageNotReadableException into ControllerAdvice for enums validation","body":"<p>You need to override this method in ControllerAdvice</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n        HttpMessageNotReadableException ex, \n        HttpHeaders headers, \n        HttpStatusCode status, \n        WebRequest request\n) {\n    ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\n            webRequest.getDescription(false),\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            exception.getMessage(),\n            LocalDateTime.now()\n    );\n    return super.handleExceptionInternal(ex, errorResponseDTO, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\n}\n</code></pre>\n"}],"owner":{"account_id":2935696,"reputation":69,"user_id":2514645,"accept_rate":40,"display_name":"gustavomr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700627122,"creation_date":1695910719,"question_id":77195839,"body_markdown":"I have a Enum class as follow:\r\n\r\n```\r\npublic enum UserRole {\r\n    ADMIN(&quot;ADMIN&quot;),\r\n    USER (&quot;USER&quot;);\r\n\r\n\r\n    public String label;\r\n\r\n    UserRole(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getValue() {\r\n        return this.label;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy DTO uses as follow:\r\n\r\n```\r\n@EnumValidator(enumClass = UserRole.class, message = &quot;Invalid Role&quot;)\r\nUserRole role\r\n```\r\n\r\nMy custom Validators:\r\n\r\n```\r\npublic class EnumValidatorConstraint implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n\r\n\r\n\r\n    private static final Set&lt;String&gt; TYPE_NAMES =\r\n            EnumSet.allOf(UserRole.class).stream().map(Enum::name).collect(Collectors.toSet());\r\n\r\n    @Override\r\n    public boolean isValid(String engineType,\r\n                           ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        if (!TYPE_NAMES.contains(engineType)) throw new UserNotExistsException(engineType);\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE, TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy= EnumValidatorConstraint.class)\r\n@Documented\r\npublic @interface EnumValidator {\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n    String message() default &quot;must be any of enum {enumClass}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nI can see at log this message when submitting a enum that doesnot belongs to the enum and at my request response:\r\n\r\n```\r\n2023-09-28T11:13:33.498-03:00  WARN 10995 --- [nio-9000-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.gustavomr.domain.UserRole` from String &quot;XXXX&quot;: not one of the values accepted for Enum class: [USER, ADMIN]]\r\n\r\n```\r\n\r\n```\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\r\n    &quot;instance&quot;: &quot;/user/register&quot;\r\n}\r\n```\r\n\r\nI have a controller advice that handles all excpetions in order to format:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler  extends ResponseEntityExceptionHandler {\r\n\r\n    public ResponseEntity&lt;ErrorResponseDTO&gt; handle(HttpMessageNotReadableException exception,\r\n                                                                  WebRequest webRequest) {\r\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\r\n                webRequest.getDescription(false),\r\n                HttpStatus.INTERNAL_SERVER_ERROR,\r\n                exception.getMessage(),\r\n                LocalDateTime.now()\r\n        );\r\n        return new ResponseEntity&lt;&gt;(errorResponseDTO, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy @Controller advice is not capturing the exception captured by enum validator. I&#39;ve testes using @Order(Ordered.HIGHEST_PRECEDENCE) but didn&#39;t work as well. \r\n\r\nI tried to use at method level @ExceptionHandler(HttpMessageNotReadableException.class) but also gives me a error about ambiguity during spring boot startup.\r\n\r\n","title":"Cannot catch HttpMessageNotReadableException into ControllerAdvice for enums validation","body":"<p>I have a Enum class as follow:</p>\n<pre><code>public enum UserRole {\n    ADMIN(&quot;ADMIN&quot;),\n    USER (&quot;USER&quot;);\n\n\n    public String label;\n\n    UserRole(String label) {\n        this.label = label;\n    }\n\n    @JsonValue\n    public String getValue() {\n        return this.label;\n    }\n}\n\n</code></pre>\n<p>My DTO uses as follow:</p>\n<pre><code>@EnumValidator(enumClass = UserRole.class, message = &quot;Invalid Role&quot;)\nUserRole role\n</code></pre>\n<p>My custom Validators:</p>\n<pre><code>public class EnumValidatorConstraint implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n\n\n    private static final Set&lt;String&gt; TYPE_NAMES =\n            EnumSet.allOf(UserRole.class).stream().map(Enum::name).collect(Collectors.toSet());\n\n    @Override\n    public boolean isValid(String engineType,\n                           ConstraintValidatorContext constraintValidatorContext) {\n\n        if (!TYPE_NAMES.contains(engineType)) throw new UserNotExistsException(engineType);\n\n        return true;\n    }\n}\n</code></pre>\n<pre><code>@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE, TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy= EnumValidatorConstraint.class)\n@Documented\npublic @interface EnumValidator {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>I can see at log this message when submitting a enum that doesnot belongs to the enum and at my request response:</p>\n<pre><code>2023-09-28T11:13:33.498-03:00  WARN 10995 --- [nio-9000-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.gustavomr.domain.UserRole` from String &quot;XXXX&quot;: not one of the values accepted for Enum class: [USER, ADMIN]]\n\n</code></pre>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\n    &quot;instance&quot;: &quot;/user/register&quot;\n}\n</code></pre>\n<p>I have a controller advice that handles all excpetions in order to format:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler  extends ResponseEntityExceptionHandler {\n\n    public ResponseEntity&lt;ErrorResponseDTO&gt; handle(HttpMessageNotReadableException exception,\n                                                                  WebRequest webRequest) {\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\n                webRequest.getDescription(false),\n                HttpStatus.INTERNAL_SERVER_ERROR,\n                exception.getMessage(),\n                LocalDateTime.now()\n        );\n        return new ResponseEntity&lt;&gt;(errorResponseDTO, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p>My @Controller advice is not capturing the exception captured by enum validator. I've testes using @Order(Ordered.HIGHEST_PRECEDENCE) but didn't work as well.</p>\n<p>I tried to use at method level @ExceptionHandler(HttpMessageNotReadableException.class) but also gives me a error about ambiguity during spring boot startup.</p>\n"},{"tags":["java","junit4","junit5"],"comments":[{"owner":{"account_id":5796625,"reputation":4590,"user_id":4800355,"accept_rate":67,"display_name":"Radek Postołowicz"},"score":0,"creation_date":1628593131,"post_id":48864716,"comment_id":121456992,"body_markdown":"There is useful extension which check for such ignored JUnit 5 callback methods: [JUnit5MisusageCheck](https://github.com/cronn/test-utils#junit5misusagecheck)","body":"There is useful extension which check for such ignored JUnit 5 callback methods: <a href=\"https://github.com/cronn/test-utils#junit5misusagecheck\" rel=\"nofollow noreferrer\">JUnit5MisusageCheck</a>"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1700626828,"creation_date":1519038630,"answer_id":48864850,"question_id":48864716,"body_markdown":"The actual behavior for JUnit 5 is expected as the [@BeforeEach javadoc][1]  states :\r\n\r\n&gt; **Inheritance**\r\n&gt; \r\n&gt; `@BeforeEach` methods are inherited from superclasses as long as they\r\n&gt; are not overridden.\r\n\r\nYou override the `setup()`  method that contains `@BeforeEach` in the `InheritsFromBase` class.   \r\n So it is not inherited any longer.\r\n\r\nFor JUnit 4, the [`@Before` javadoc][2] doesn&#39;t state any particularity and inheritance abilities.   \r\nSo you should consider the actual behavior as &quot;normal&quot; but no documented.\r\n\r\nTo get the same behavior with JUnit 5, you should do the reverse what you do with JUni4 : remove `@BeforeEach` in the super class and add it only in the subclass.  \r\n\r\n\r\n    public class BaseTestClass {\r\n    \r\n        public void setUp() {\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n            super.setUp();\r\n        }\r\n    }\r\n\r\n\r\nAs I execute the tests, it produces as output :\r\n\r\n&gt; I inherit from base\r\n&gt; \r\n&gt; Base Test Class\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/BeforeEach.html\r\n  [2]: https://junit.org/junit4/javadoc/4.13/org/junit/Before.html\r\n\r\n","title":"@Before/@BeforeEach inheritance behaviour change JUnit4 / JUnit5","body":"<p>The actual behavior for JUnit 5 is expected as the <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/BeforeEach.html\" rel=\"nofollow noreferrer\">@BeforeEach javadoc</a>  states :</p>\n<blockquote>\n<p><strong>Inheritance</strong></p>\n<p><code>@BeforeEach</code> methods are inherited from superclasses as long as they\nare not overridden.</p>\n</blockquote>\n<p>You override the <code>setup()</code>  method that contains <code>@BeforeEach</code> in the <code>InheritsFromBase</code> class.<br />\nSo it is not inherited any longer.</p>\n<p>For JUnit 4, the <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/Before.html\" rel=\"nofollow noreferrer\"><code>@Before</code> javadoc</a> doesn't state any particularity and inheritance abilities.<br />\nSo you should consider the actual behavior as &quot;normal&quot; but no documented.</p>\n<p>To get the same behavior with JUnit 5, you should do the reverse what you do with JUni4 : remove <code>@BeforeEach</code> in the super class and add it only in the subclass.</p>\n<pre><code>public class BaseTestClass {\n\n    public void setUp() {\n        System.out.println(&quot;Base Test Class&quot;);\n    }\n}\n\n\npublic class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    @BeforeEach\n    public void setUp() {\n        System.out.println(&quot;I inherit from base&quot;);\n        super.setUp();\n    }\n}\n</code></pre>\n<p>As I execute the tests, it produces as output :</p>\n<blockquote>\n<p>I inherit from base</p>\n<p>Base Test Class</p>\n</blockquote>\n"}],"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16030,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":48864850,"answer_count":1,"score":18,"last_activity_date":1700626828,"creation_date":1519038174,"question_id":48864716,"body_markdown":"When migrating from JUnit4 to JUnit5 I found a change in the behaviour of JUnit4 and JUnit5 and wanted to check if the change was a bug in JUnit4 or in JUnit5 and how to do it correctly.\r\n\r\nLets assume the following structure:\r\n\r\nOne base class\r\n\r\n    public class BaseTestClass {\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAnother class that inherits from this base class\r\n\r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n    \r\n            super.setUp();\r\n        }\r\n    }\r\n\r\nAnd an actual test class\r\n\r\n    public class ActualTests extends InheritsFromBase {\r\n    \r\n        @Test\r\n        public void myTest(){\r\n            Assert.assertTrue(true);\r\n        }\r\n    }\r\n\r\n\r\nIf I run `myTest()` in JUnit 4 then the `setUp()` method of both, `BaseTestClass` and `InheritsFromBase` is called.\r\n\r\nAfter migrating this code to JUnit5, the `setUp()` methods are not called anymore. I had to manually add the `@BeforeEach` annotation on `InheritsFromBase`.\r\n\r\nResulting in the following classes:\r\n\r\n\r\n    public class BaseTestClass {\r\n    \r\n        @BeforeEach\r\n        public void setUp(){\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n    \r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n    \r\n            super.setUp();\r\n        }\r\n    }\r\n    \r\n    public class ActualTests extends InheritsFromBase {\r\n    \r\n        @Test\r\n        public void myTest(){\r\n            Assertions.assertTrue(true);\r\n        }\r\n    }\r\n\r\n\r\nSo my question: Was the behaviour in JUnit4 correct or in JUnit5?","title":"@Before/@BeforeEach inheritance behaviour change JUnit4 / JUnit5","body":"<p>When migrating from JUnit4 to JUnit5 I found a change in the behaviour of JUnit4 and JUnit5 and wanted to check if the change was a bug in JUnit4 or in JUnit5 and how to do it correctly.</p>\n\n<p>Lets assume the following structure:</p>\n\n<p>One base class</p>\n\n<pre><code>public class BaseTestClass {\n\n    @Before\n    public void setUp(){\n        System.out.println(\"Base Test Class\");\n    }\n}\n</code></pre>\n\n<p>Another class that inherits from this base class</p>\n\n<pre><code>public class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    public void setUp() {\n        System.out.println(\"I inherit from base\");\n\n        super.setUp();\n    }\n}\n</code></pre>\n\n<p>And an actual test class</p>\n\n<pre><code>public class ActualTests extends InheritsFromBase {\n\n    @Test\n    public void myTest(){\n        Assert.assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>If I run <code>myTest()</code> in JUnit 4 then the <code>setUp()</code> method of both, <code>BaseTestClass</code> and <code>InheritsFromBase</code> is called.</p>\n\n<p>After migrating this code to JUnit5, the <code>setUp()</code> methods are not called anymore. I had to manually add the <code>@BeforeEach</code> annotation on <code>InheritsFromBase</code>.</p>\n\n<p>Resulting in the following classes:</p>\n\n<pre><code>public class BaseTestClass {\n\n    @BeforeEach\n    public void setUp(){\n        System.out.println(\"Base Test Class\");\n    }\n}\n\npublic class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    @BeforeEach\n    public void setUp() {\n        System.out.println(\"I inherit from base\");\n\n        super.setUp();\n    }\n}\n\npublic class ActualTests extends InheritsFromBase {\n\n    @Test\n    public void myTest(){\n        Assertions.assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>So my question: Was the behaviour in JUnit4 correct or in JUnit5?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1485512947,"post_id":41891759,"comment_id":70965573,"body_markdown":"define *I was unable to make it right* Where is the problem?","body":"define <i>I was unable to make it right</i> Where is the problem?"},{"owner":{"account_id":7803556,"reputation":1605,"user_id":6949829,"accept_rate":33,"display_name":"Anil"},"score":0,"creation_date":1485513225,"post_id":41891759,"comment_id":70965731,"body_markdown":"can u able to view your recyclerview in  your layout.xml preview","body":"can u able to view your recyclerview in  your layout.xml preview"},{"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"score":0,"creation_date":1485514033,"post_id":41891759,"comment_id":70966256,"body_markdown":"@AnilDS it&#39;s previewing default recyclerview","body":"@AnilDS it&#39;s previewing default recyclerview"}],"answers":[{"tags":[],"owner":{"account_id":1423167,"reputation":786,"user_id":1347349,"display_name":"ibrcic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485513035,"creation_date":1485513035,"answer_id":41891835,"question_id":41891759,"body_markdown":"You are using wrong class for RecyclerView, instead of AlertController.RecyclerListView use this:\r\n\r\n    &lt;!-- A RecyclerView with some commonly used attributes --&gt;\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:id=&quot;@+id/my_recycler_view&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nHere are some more informations:\r\n\r\n[RecyclerView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/material/lists-cards.html","title":"How to add a recycler view to fragment","body":"<p>You are using wrong class for RecyclerView, instead of AlertController.RecyclerListView use this:</p>\n\n<pre><code>&lt;!-- A RecyclerView with some commonly used attributes --&gt;\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/my_recycler_view\"\n    android:scrollbars=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n\n<p>Here are some more informations:</p>\n\n<p><a href=\"https://developer.android.com/training/material/lists-cards.html\" rel=\"nofollow noreferrer\">RecyclerView</a></p>\n"},{"tags":[],"owner":{"account_id":6616730,"reputation":1047,"user_id":5109681,"accept_rate":17,"display_name":"Rehan Shikkalgar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485514213,"creation_date":1485514213,"answer_id":41892205,"question_id":41891759,"body_markdown":"1) first add dependency to your app level gradle file then sync your project \r\n\r\n    compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n\r\n2) go to your Layout file (eg: activity_main.xml) add recyclerview tag inside your base layout\r\n\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;\r\n         xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n         app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n         tools:context=&quot;com.examples.rehan.excluzo.Fragments.OneFragment&quot;&gt;\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:id=&quot;@+id/recycler_view&quot;&gt;\r\n\r\n    &lt;/android.support.v7.widget.RecyclerView&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n3) create a class model.java and paste your code.\r\n\r\npublic class model{\r\n    private String name, gender;\r\n \r\n    public model() {\r\n    }\r\n \r\n    public model(String name, String gender) {\r\n        this.name= name;\r\n        this.gender= gender;\r\n    }\r\n \r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n \r\n    public void setGender(String gneder) {\r\n        this.gender= gender;\r\n    }\r\n \r\n  \r\n    public String getName() {\r\n        return name;\r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name= name;\r\n    }\r\n}\r\n\r\n4)create xml file in your layout folder item_layout.xml and paste this code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;10dp&quot;  &gt;\r\n     \r\n        &lt;TextView\r\n            android:id=&quot;@+id/name&quot;\r\n            android:textColor=&quot;@color/title&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n     \r\n        &lt;TextView\r\n            android:id=&quot;@+id/gender&quot;\r\n            android:layout_below=&quot;@id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt; \r\n     \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n5)your need to create adapter to add child views to your listview. so create a       file testAdapter.java file and paste this code.\r\n\r\nhere in list view i will be having only 2 items(eg : Name and gender)\r\n\r\n\r\n    public class testAdapter extends RecyclerView.Adapter&lt;testAdapter.MyViewHolder&gt; {\r\n    \r\n    \r\n        private List&lt;model&gt; productList;\r\n        Context context;\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View itemView = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.item_layout, parent, false);\r\n    \r\n            return new MyViewHolder(itemView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n            model product = productList.get(position);\r\n            holder.name.setText(product.getName());\r\n            holder.gender.setText(product.getGender());\r\n        } \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return productList.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView name,gender;\r\n    \r\n            public MyViewHolder(View view) {\r\n                super(view);\r\n                name = (TextView) view.findViewById(R.id.name);\r\n                gender = (TextView) view.findViewById(R.id.gender);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public testAdapter(List&lt;model&gt; productList, Context context) {\r\n            this.productList = productList;\r\n            this.context = context;\r\n        }\r\n    \r\n    }\r\n\r\n6) now goto your MainActivity.java and paste this code\r\n\r\n\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.DefaultItemAnimator;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.GestureDetector;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n     \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n     \r\n    public class MainActivity extends AppCompatActivity {\r\n        private List&lt;modle&gt; movieList = new ArrayList&lt;&gt;();\r\n        private RecyclerView recyclerView;\r\n        private testAdapter mAdapter;\r\n     \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main); \r\n     \r\n            recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n     \r\n            mAdapter = new testAdapter(movieList);\r\n            RecyclerView.LayoutManager mLayoutManager = new    LinearLayoutManager(getApplicationContext());\r\n            recyclerView.setLayoutManager(mLayoutManager);\r\n            recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n            recyclerView.setAdapter(mAdapter);\r\n     \r\n            preparedata();\r\n        }\r\n     \r\n        private void preparedata() {\r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n     \r\n           //add the items according to your wish\r\n           //name,gender\r\n           //here i have added all items with same name and gender. you can change it\r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n           mAdapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n\r\nHope this helps :)","title":"How to add a recycler view to fragment","body":"<p>1) first add dependency to your app level gradle file then sync your project </p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:23.4.0'\n</code></pre>\n\n<p>2) go to your Layout file (eg: activity_main.xml) add recyclerview tag inside your base layout</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n     tools:context=\"com.examples.rehan.excluzo.Fragments.OneFragment\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:scrollbars=\"vertical\"\n    android:id=\"@+id/recycler_view\"&gt;\n\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p></p>\n\n<p>3) create a class model.java and paste your code.</p>\n\n<p>public class model{\n    private String name, gender;</p>\n\n<pre><code>public model() {\n}\n\npublic model(String name, String gender) {\n    this.name= name;\n    this.gender= gender;\n}\n\npublic String getGender() {\n    return gender;\n}\n\npublic void setGender(String gneder) {\n    this.gender= gender;\n}\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name= name;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>4)create xml file in your layout folder item_layout.xml and paste this code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:focusable=\"true\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"\n    android:paddingTop=\"10dp\"\n    android:paddingBottom=\"10dp\"  &gt;\n\n    &lt;TextView\n        android:id=\"@+id/name\"\n        android:textColor=\"@color/title\"\n        android:textSize=\"16dp\"\n        android:textStyle=\"bold\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/gender\"\n        android:layout_below=\"@id/title\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt; \n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>5)your need to create adapter to add child views to your listview. so create a       file testAdapter.java file and paste this code.</p>\n\n<p>here in list view i will be having only 2 items(eg : Name and gender)</p>\n\n<pre><code>public class testAdapter extends RecyclerView.Adapter&lt;testAdapter.MyViewHolder&gt; {\n\n\n    private List&lt;model&gt; productList;\n    Context context;\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.item_layout, parent, false);\n\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        model product = productList.get(position);\n        holder.name.setText(product.getName());\n        holder.gender.setText(product.getGender());\n    } \n\n    @Override\n    public int getItemCount() {\n        return productList.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        public TextView name,gender;\n\n        public MyViewHolder(View view) {\n            super(view);\n            name = (TextView) view.findViewById(R.id.name);\n            gender = (TextView) view.findViewById(R.id.gender);\n        }\n    }\n\n\n\n    public testAdapter(List&lt;model&gt; productList, Context context) {\n        this.productList = productList;\n        this.context = context;\n    }\n\n}\n</code></pre>\n\n<p>6) now goto your MainActivity.java and paste this code</p>\n\n<pre><code>import android.content.Context;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.DefaultItemAnimator;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.support.v7.widget.Toolbar;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    private List&lt;modle&gt; movieList = new ArrayList&lt;&gt;();\n    private RecyclerView recyclerView;\n    private testAdapter mAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main); \n\n        recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\n\n        mAdapter = new testAdapter(movieList);\n        RecyclerView.LayoutManager mLayoutManager = new    LinearLayoutManager(getApplicationContext());\n        recyclerView.setLayoutManager(mLayoutManager);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n        recyclerView.setAdapter(mAdapter);\n\n        preparedata();\n    }\n\n    private void preparedata() {\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n       //add the items according to your wish\n       //name,gender\n       //here i have added all items with same name and gender. you can change it\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n       mAdapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}],"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8314,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1700625795,"creation_date":1485512783,"question_id":41891759,"body_markdown":"I have tried many ways to add recyclerview inside a fragment. I&#39;m new for android. My android have 5 fragments one of these fragment I need to add a recyclerview. here is my code \r\n\r\n**notification_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/notification_item_root&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:gravity=&quot;center_vertical|left&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:paddingLeft=&quot;16dp&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=&quot;@+id/notification_item_img&quot;\r\n            android:layout_width=&quot;36dp&quot;\r\n            android:layout_height=&quot;36dp&quot;\r\n            android:src=&quot;@android:drawable/ic_input_get&quot; /&gt;\r\n\r\n       &lt;TextView\r\n            android:id=&quot;@+id/notification_item_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:paddingLeft=&quot;8dp&quot;\r\n            android:text=&quot;Test Testre&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**notification_Fragment.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;android.support.v7.app.AlertController.RecycleListView\r\n        android:id=&quot;@+id/notification_list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**NotificationItem.java**\r\n\r\n    public class NotificationItem {\r\n        private String title;\r\n        private int imageResId;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public int getImageResId() {\r\n            return imageResId;\r\n        }\r\n\r\n        public void setImageResId(int imageResId) {\r\n            this.imageResId = imageResId;\r\n        }\r\n    }\r\n\r\n**NotificationData.java**\r\n\r\n    public class NotificationData {\r\n        private static final String[] textItem = {&quot;pathum&quot;, &quot;sai&quot;, &quot;charu&quot;};\r\n        private static final int[] imgItem = {android.R.drawable.ic_popup_reminder, android.R.drawable.ic_menu_add, android.R.drawable.ic_menu_delete};\r\n\r\n        public static List&lt;NotificationItem&gt; getListData() {\r\n            List&lt;NotificationItem&gt; data = new ArrayList&lt;&gt;();\r\n\r\n            for (int x = 0; x &lt; 4; x++) {\r\n                for (int i = 0; i &lt; textItem.length &amp;&amp; i &lt; imgItem.length; i++) {\r\n                    NotificationItem item = new NotificationItem();\r\n                    item.setImageResId(imgItem[i]);\r\n                    item.setTitle(textItem[i]);\r\n                    data.add(item);\r\n                }\r\n            }\r\n\r\n            return data;\r\n        }\r\n\r\n    }\r\n\r\n**NotificationAdapter.java**\r\n\r\n    public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.NotificationHolder&gt; {\r\n\r\n        private List&lt;NotificationItem&gt; listData;\r\n        private LayoutInflater inflater;\r\n\r\n        public NotificationAdapter(List&lt;NotificationItem&gt; listData, Context c) {\r\n\r\n            this.inflater = LayoutInflater.from(c);\r\n            this.listData = listData;\r\n        }\r\n\r\n        @Override\r\n        public NotificationHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = inflater.inflate(R.layout.notification_item,parent,false);\r\n            return new NotificationHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(NotificationHolder holder, int position) {\r\n            NotificationItem item = listData.get(position);\r\n            holder.title.setText(item.getTitle());\r\n            holder.icon.setImageResource(item.getImageResId());\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listData.size();\r\n        }\r\n\r\n        class NotificationHolder extends RecyclerView.ViewHolder {\r\n\r\n            private TextView title;\r\n            private CircleImageView icon;\r\n            private View container;\r\n\r\n            public NotificationHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                title = (TextView) itemView.findViewById(R.id.notification_item_text);\r\n                icon = (CircleImageView) itemView.findViewById(R.id.notification_item_img);\r\n                container = itemView.findViewById(R.id.notification_item_root);\r\n            }\r\n        }\r\n    }\r\n\r\n**NotificationFragment.java**\r\n\r\n    public class NotificationFragment extends Fragment {\r\n\r\n        RecyclerView recyclerView;\r\n        NotificationAdapter notificationAdapter;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n            View rootView = inflater.inflate(R.layout.notification_fragment, container, false);\r\n        recyclerView = (RecyclerView) rootView.findViewById(R.id.notification_list);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\n        notificationAdapter = new NotificationAdapter(NotificationData.getListData(),this);\r\n        recyclerView.setAdapter(notificationAdapter);\r\n\r\n\r\n        return rootView;\r\n    }\r\n}\r\n\r\nI was unable to make it right in **NotificationFragment.java** and **NotificationAdapter.java** please help me guys.","title":"How to add a recycler view to fragment","body":"<p>I have tried many ways to add recyclerview inside a fragment. I'm new for android. My android have 5 fragments one of these fragment I need to add a recyclerview. here is my code </p>\n\n<p><strong>notification_item.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/notification_item_root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"56dp\"\n    android:gravity=\"center_vertical|left\"\n    android:orientation=\"horizontal\"\n    android:paddingLeft=\"16dp\"&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=\"@+id/notification_item_img\"\n        android:layout_width=\"36dp\"\n        android:layout_height=\"36dp\"\n        android:src=\"@android:drawable/ic_input_get\" /&gt;\n\n   &lt;TextView\n        android:id=\"@+id/notification_item_text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center\"\n        android:paddingLeft=\"8dp\"\n        android:text=\"Test Testre\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>notification_Fragment.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.app.AlertController.RecycleListView\n    android:id=\"@+id/notification_list\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>NotificationItem.java</strong></p>\n\n<pre><code>public class NotificationItem {\n    private String title;\n    private int imageResId;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public int getImageResId() {\n        return imageResId;\n    }\n\n    public void setImageResId(int imageResId) {\n        this.imageResId = imageResId;\n    }\n}\n</code></pre>\n\n<p><strong>NotificationData.java</strong></p>\n\n<pre><code>public class NotificationData {\n    private static final String[] textItem = {\"pathum\", \"sai\", \"charu\"};\n    private static final int[] imgItem = {android.R.drawable.ic_popup_reminder, android.R.drawable.ic_menu_add, android.R.drawable.ic_menu_delete};\n\n    public static List&lt;NotificationItem&gt; getListData() {\n        List&lt;NotificationItem&gt; data = new ArrayList&lt;&gt;();\n\n        for (int x = 0; x &lt; 4; x++) {\n            for (int i = 0; i &lt; textItem.length &amp;&amp; i &lt; imgItem.length; i++) {\n                NotificationItem item = new NotificationItem();\n                item.setImageResId(imgItem[i]);\n                item.setTitle(textItem[i]);\n                data.add(item);\n            }\n        }\n\n        return data;\n    }\n\n}\n</code></pre>\n\n<p><strong>NotificationAdapter.java</strong></p>\n\n<pre><code>public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.NotificationHolder&gt; {\n\n    private List&lt;NotificationItem&gt; listData;\n    private LayoutInflater inflater;\n\n    public NotificationAdapter(List&lt;NotificationItem&gt; listData, Context c) {\n\n        this.inflater = LayoutInflater.from(c);\n        this.listData = listData;\n    }\n\n    @Override\n    public NotificationHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.notification_item,parent,false);\n        return new NotificationHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(NotificationHolder holder, int position) {\n        NotificationItem item = listData.get(position);\n        holder.title.setText(item.getTitle());\n        holder.icon.setImageResource(item.getImageResId());\n    }\n\n    @Override\n    public int getItemCount() {\n        return listData.size();\n    }\n\n    class NotificationHolder extends RecyclerView.ViewHolder {\n\n        private TextView title;\n        private CircleImageView icon;\n        private View container;\n\n        public NotificationHolder(View itemView) {\n            super(itemView);\n\n            title = (TextView) itemView.findViewById(R.id.notification_item_text);\n            icon = (CircleImageView) itemView.findViewById(R.id.notification_item_img);\n            container = itemView.findViewById(R.id.notification_item_root);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>NotificationFragment.java</strong></p>\n\n<pre><code>public class NotificationFragment extends Fragment {\n\n    RecyclerView recyclerView;\n    NotificationAdapter notificationAdapter;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        View rootView = inflater.inflate(R.layout.notification_fragment, container, false);\n    recyclerView = (RecyclerView) rootView.findViewById(R.id.notification_list);\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n\n    notificationAdapter = new NotificationAdapter(NotificationData.getListData(),this);\n    recyclerView.setAdapter(notificationAdapter);\n\n\n    return rootView;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I was unable to make it right in <strong>NotificationFragment.java</strong> and <strong>NotificationAdapter.java</strong> please help me guys.</p>\n"},{"tags":["java","jvm","apache-flink","remote-debugging"],"answers":[{"tags":[],"owner":{"account_id":6863081,"reputation":156,"user_id":5276434,"display_name":"Xingxing Qiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700624820,"creation_date":1700624820,"answer_id":77527213,"question_id":63970826,"body_markdown":"The mainClass in myapp.jar represents the job definition and is executed when bin/flink run is invoked. To enable remote debugging, add JVM options to the bin/flink script.\r\n\r\nIf you want to debug the data flow within the job, include JVM options for the TaskManager and add breakpoints to the Deserializer or other code responsible for processing data when the job receives input.\r\n","title":"Remote debugging in flink","body":"<p>The mainClass in myapp.jar represents the job definition and is executed when bin/flink run is invoked. To enable remote debugging, add JVM options to the bin/flink script.</p>\n<p>If you want to debug the data flow within the job, include JVM options for the TaskManager and add breakpoints to the Deserializer or other code responsible for processing data when the job receives input.</p>\n"}],"owner":{"account_id":8872930,"reputation":56,"user_id":6626126,"display_name":"Utlesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700624820,"creation_date":1600531903,"question_id":63970826,"body_markdown":"Added one parameter in flink-conf.yaml :\r\n```\r\nenv.java.opts.taskmanager: &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=51005&quot;\r\n```\r\nThen i started a jobmanager and a taskmanager using below commands on localhost :\r\n```\r\nflink-1.9.1_bin/bin/jobmanager.sh start\r\nflink-1.9.1_bin/bin/taskmanager.sh start\r\n```\r\nJobmanager runs and i can see flink UI dashboard on localhost:8081. Taskmanager waits for connection on 51001 port. It runs after i debug my code from IDE(IntelliJ) which has setup for remote debugging on localhost:51001. I can see tasks slots been added when i start debugging from IDE. After this i ran below command:\r\n```\r\nflink-1.9.1_bin/bin/flink run -c myapp.Main myapp.jar\r\n```\r\n\r\nI am expecting debug point to come to my local code in IDE, but it&#39;s not coming. My code goes in running state directly that i can in flink UI dashboard.\r\n\r\nI am able do remote debugging for normal java projects but not for flink jobs.\r\n\r\n\r\n\r\n  \r\n\r\n\r\n","title":"Remote debugging in flink","body":"<p>Added one parameter in flink-conf.yaml :</p>\n<pre><code>env.java.opts.taskmanager: &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=51005&quot;\n</code></pre>\n<p>Then i started a jobmanager and a taskmanager using below commands on localhost :</p>\n<pre><code>flink-1.9.1_bin/bin/jobmanager.sh start\nflink-1.9.1_bin/bin/taskmanager.sh start\n</code></pre>\n<p>Jobmanager runs and i can see flink UI dashboard on localhost:8081. Taskmanager waits for connection on 51001 port. It runs after i debug my code from IDE(IntelliJ) which has setup for remote debugging on localhost:51001. I can see tasks slots been added when i start debugging from IDE. After this i ran below command:</p>\n<pre><code>flink-1.9.1_bin/bin/flink run -c myapp.Main myapp.jar\n</code></pre>\n<p>I am expecting debug point to come to my local code in IDE, but it's not coming. My code goes in running state directly that i can in flink UI dashboard.</p>\n<p>I am able do remote debugging for normal java projects but not for flink jobs.</p>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1491748041,"post_id":43307532,"comment_id":73680250,"body_markdown":"Show your editor where the code is not highlighted.","body":"Show your editor where the code is not highlighted."},{"owner":{"account_id":10602697,"reputation":2550,"user_id":7809177,"accept_rate":60,"display_name":"Prince Lionel N&#39;zi"},"score":0,"creation_date":1491815778,"post_id":43307532,"comment_id":73702611,"body_markdown":"I have edited my post by adding a new screenshot available here: [link to screenshot of my code](https://i.stack.imgur.com/zPfeK.png)","body":"I have edited my post by adding a new screenshot available here: <a href=\"https://i.stack.imgur.com/zPfeK.png\" rel=\"nofollow noreferrer\">link to screenshot of my code</a>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1491816678,"post_id":43307532,"comment_id":73703266,"body_markdown":"Why do you expect an error on the `main(String[] args)` line? Just because it isn&#39;t a valid entry point for your Java program doesn&#39;t mean that this method is invalid altogether.","body":"Why do you expect an error on the <code>main(String[] args)</code> line? Just because it isn&#39;t a valid entry point for your Java program doesn&#39;t mean that this method is invalid altogether."},{"owner":{"account_id":274160,"reputation":10415,"user_id":3161093,"accept_rate":82,"display_name":"therealrootuser"},"score":1,"creation_date":1527872962,"post_id":43307532,"comment_id":88306893,"body_markdown":"@Tom there isn&#39;t a return type.","body":"@Tom there isn&#39;t a return type."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1491816108,"creation_date":1491816108,"answer_id":43319356,"question_id":43307532,"body_markdown":"Java file is not analyzed since it&#39;s located outside of the **source root**. You need to either relocate the file or reconfigure your [content roots](https://www.jetbrains.com/help/idea/configuring-content-roots.html) so that it resides under the folder configured as the **Sources** root.\r\n\r\n**Sources** root is marked in blue in the project view. Here is the example of the properly configured project (notice the class icon is different than on your screenshot):\r\n\r\n[![java project][1]][1]\r\n\r\n[![source root][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z2T3q.png\r\n  [2]: https://i.stack.imgur.com/RgIyI.png","title":"Auto errors detection in IntelliJ IDEA","body":"<p>Java file is not analyzed since it's located outside of the <strong>source root</strong>. You need to either relocate the file or reconfigure your <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"noreferrer\">content roots</a> so that it resides under the folder configured as the <strong>Sources</strong> root.</p>\n\n<p><strong>Sources</strong> root is marked in blue in the project view. Here is the example of the properly configured project (notice the class icon is different than on your screenshot):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z2T3q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z2T3q.png\" alt=\"java project\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RgIyI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RgIyI.png\" alt=\"source root\"></a></p>\n"},{"tags":[],"owner":{"account_id":13778656,"reputation":321,"user_id":9944315,"display_name":"user9944315"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1538414550,"creation_date":1538414550,"answer_id":52595967,"question_id":43307532,"body_markdown":"This is finally what worked for me! Phew!\r\nMy Problem: Whenever I exit Intellij and try to open up an old/existing project, I have trouble getting the builds and execute to work on my localhost. I&#39;m just using localhost.\r\n\r\nHere are the steps that finally worked on my localhost environment:\r\n\r\n*1. Go to Project Structure and Select Project* \r\n\r\na. Set the SDK to 10 (“Java Version 10.0.2”) or whatever you are using.\r\n\r\nb. (I think this was the main step I was missing) Set the project compiler output to point to where I want the compiled output to sit: C:\\Users\\kbala\\OneDrive - MatrixCare\\SoftWLearnings\\Javamyfun\\NewHelloWorld\\out\r\n\r\nc. Project Language Level: I chose “SDK Default”\r\n\r\n*2. Go to Project Structure and Select Modules*\r\n\r\na. Click on src (this is where my source code sits). \r\n\r\nb. Then, Click on the “Sources” folder icon on the top. This adds src to the “Source folders” on the right. You will see the color change to Blue \r\n\r\nc. Click ok. \r\n\r\n*3. Then, click on “Add Configuration” (top right corner of Intellij)*\r\n\r\na. Select + at the top left hand corner.\r\n\r\nb. Select “Application”\r\n\r\nc. Change the name to “Main”\r\n\r\nd. Now click on the Ellipsis (three dots) in “Main Class”. You should now see your Main Class. Select it. \r\n\r\ne. You should now see the execute arrow at that top right of Intellij. And you should see the build icon (Hammer). \r\n\r\nThis should work!\r\n","title":"Auto errors detection in IntelliJ IDEA","body":"<p>This is finally what worked for me! Phew!\nMy Problem: Whenever I exit Intellij and try to open up an old/existing project, I have trouble getting the builds and execute to work on my localhost. I'm just using localhost.</p>\n\n<p>Here are the steps that finally worked on my localhost environment:</p>\n\n<p><em>1. Go to Project Structure and Select Project</em> </p>\n\n<p>a. Set the SDK to 10 (“Java Version 10.0.2”) or whatever you are using.</p>\n\n<p>b. (I think this was the main step I was missing) Set the project compiler output to point to where I want the compiled output to sit: C:\\Users\\kbala\\OneDrive - MatrixCare\\SoftWLearnings\\Javamyfun\\NewHelloWorld\\out</p>\n\n<p>c. Project Language Level: I chose “SDK Default”</p>\n\n<p><em>2. Go to Project Structure and Select Modules</em></p>\n\n<p>a. Click on src (this is where my source code sits). </p>\n\n<p>b. Then, Click on the “Sources” folder icon on the top. This adds src to the “Source folders” on the right. You will see the color change to Blue </p>\n\n<p>c. Click ok. </p>\n\n<p><em>3. Then, click on “Add Configuration” (top right corner of Intellij)</em></p>\n\n<p>a. Select + at the top left hand corner.</p>\n\n<p>b. Select “Application”</p>\n\n<p>c. Change the name to “Main”</p>\n\n<p>d. Now click on the Ellipsis (three dots) in “Main Class”. You should now see your Main Class. Select it. </p>\n\n<p>e. You should now see the execute arrow at that top right of Intellij. And you should see the build icon (Hammer). </p>\n\n<p>This should work!</p>\n"},{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1580131305,"creation_date":1543949928,"answer_id":53619714,"question_id":43307532,"body_markdown":"One more reason could be IntelliJ is running on power saver mode, this could be disabled following way:\r\n\r\n`File Menu -&gt; Power Saver Mode`","title":"Auto errors detection in IntelliJ IDEA","body":"<p>One more reason could be IntelliJ is running on power saver mode, this could be disabled following way:</p>\n\n<p><code>File Menu -&gt; Power Saver Mode</code></p>\n"},{"tags":[],"owner":{"account_id":8714817,"reputation":301,"user_id":6519815,"display_name":"ankit rawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594563504,"creation_date":1573104819,"answer_id":58742531,"question_id":43307532,"body_markdown":"I was getting the same issue, I just clicked on the `re-import` button on the `maven` panel and it solved the problem .","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I was getting the same issue, I just clicked on the <code>re-import</code> button on the <code>maven</code> panel and it solved the problem .</p>\n"},{"tags":[],"owner":{"account_id":11376360,"reputation":315,"user_id":8340554,"display_name":"Kalinda Pride"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1593896289,"creation_date":1593896289,"answer_id":62734409,"question_id":43307532,"body_markdown":"**If you use a build system (Maven, Gradle, etc.):** \r\n\r\nOpen its panel in IntelliJ, then click the **reimport** button. For Gradle, this button looks like a sync icon and its hovertext says &quot;Reload All Gradle Projects&quot;. \r\n\r\n**Why it works:** \r\n\r\nSince the build system is in charge of compiling your code, it knows which files are source code. It would be a waste of computing power to look for missing semicolons in a compiled binary file, so IntelliJ won&#39;t try to find errors until it knows the file is source code. \r\n\r\nMost build systems, Maven and Gradle included, are also dependency managers. When you write code that uses libraries or depends on a different module, IntelliJ needs to be able to understand the dependency to tell you whether your code makes sense, or whether you made a mistake like forgetting an import statement or passing the wrong type of argument into a library function. When IntelliJ doesn&#39;t understand your dependencies, it displays all your uses of imported code in red text. ","title":"Auto errors detection in IntelliJ IDEA","body":"<p><strong>If you use a build system (Maven, Gradle, etc.):</strong></p>\n<p>Open its panel in IntelliJ, then click the <strong>reimport</strong> button. For Gradle, this button looks like a sync icon and its hovertext says &quot;Reload All Gradle Projects&quot;.</p>\n<p><strong>Why it works:</strong></p>\n<p>Since the build system is in charge of compiling your code, it knows which files are source code. It would be a waste of computing power to look for missing semicolons in a compiled binary file, so IntelliJ won't try to find errors until it knows the file is source code.</p>\n<p>Most build systems, Maven and Gradle included, are also dependency managers. When you write code that uses libraries or depends on a different module, IntelliJ needs to be able to understand the dependency to tell you whether your code makes sense, or whether you made a mistake like forgetting an import statement or passing the wrong type of argument into a library function. When IntelliJ doesn't understand your dependencies, it displays all your uses of imported code in red text.</p>\n"},{"tags":[],"owner":{"account_id":25432698,"reputation":1,"user_id":19236846,"display_name":"Mehdi Taheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659710261,"creation_date":1659710261,"answer_id":73251443,"question_id":43307532,"body_markdown":"I had the same issue and here it is how I solved it:\r\nSome files where ignored and I Unignored them. To do this go to Maven tab on the right panel -&gt; right click on each project that is in grey color and click Unignore projects.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I had the same issue and here it is how I solved it:\nSome files where ignored and I Unignored them. To do this go to Maven tab on the right panel -&gt; right click on each project that is in grey color and click Unignore projects.</p>\n"},{"tags":[],"owner":{"account_id":2218418,"reputation":177,"user_id":1958490,"display_name":"BitLord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660237169,"creation_date":1660237169,"answer_id":73324417,"question_id":43307532,"body_markdown":"I&#39;ll add an another reason for it. For me it was Reader mode enabled. I was not even been aware of its existence. Can be disabled in Settings -&gt; Editor -&gt; Reader mode.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I'll add an another reason for it. For me it was Reader mode enabled. I was not even been aware of its existence. Can be disabled in Settings -&gt; Editor -&gt; Reader mode.</p>\n"},{"tags":[],"owner":{"account_id":26656195,"reputation":11,"user_id":20269693,"display_name":"Felipe Gallardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669948501,"creation_date":1669948501,"answer_id":74650274,"question_id":43307532,"body_markdown":"In my case was a maven option!\r\nWhen you open the proyect in intellij, it create a notification.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case was a maven option!\nWhen you open the proyect in intellij, it create a notification.</p>\n"},{"tags":[],"owner":{"account_id":14952113,"reputation":387,"user_id":11390509,"display_name":"Camilo Ur&#225;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679663636,"creation_date":1679663636,"answer_id":75834109,"question_id":43307532,"body_markdown":"In my case none of these solutions were solving my problem, but I knew that I had been able to get error highlights when I started working on the project so I deleted the .idea folder in the project folder, reopened IntelliJ, and got back my errors. No clue as to what could have happened","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case none of these solutions were solving my problem, but I knew that I had been able to get error highlights when I started working on the project so I deleted the .idea folder in the project folder, reopened IntelliJ, and got back my errors. No clue as to what could have happened</p>\n"},{"tags":[],"owner":{"account_id":27551047,"reputation":1,"user_id":21026109,"display_name":"t0ny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700624272,"creation_date":1700624272,"answer_id":77527184,"question_id":43307532,"body_markdown":"In my case, just Reloading the project solved it.\r\n\r\n&gt; Right Click on Root folder -&gt; Maven -&gt; Reload Project","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case, just Reloading the project solved it.</p>\n<blockquote>\n<p>Right Click on Root folder -&gt; Maven -&gt; Reload Project</p>\n</blockquote>\n"}],"owner":{"account_id":10602697,"reputation":2550,"user_id":7809177,"accept_rate":60,"display_name":"Prince Lionel N&#39;zi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119084,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":43319356,"answer_count":10,"score":49,"last_activity_date":1700624272,"creation_date":1491746101,"question_id":43307532,"body_markdown":"I am new to Java programming language and the IntelliJ IDEA 2017.1 IDE.\r\n\r\nI just installed the IDE and I activated all the various inspections but the IDE is unable to detect the errors any time I make a mistake such as omitting a bracket or a semicolon.\r\n\r\nThis image displays the activated inspections:\r\n\r\n[![Activated Inspections][1]][1]\r\n\r\nThis is a screenshot of my code with multiple errors but no detected by the IDE:\r\n[![screenshot of my code][2]][2]\r\n\r\nKindly help me solve this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFnPU.png\r\n  [2]: https://i.stack.imgur.com/zPfeK.png","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I am new to Java programming language and the IntelliJ IDEA 2017.1 IDE.</p>\n\n<p>I just installed the IDE and I activated all the various inspections but the IDE is unable to detect the errors any time I make a mistake such as omitting a bracket or a semicolon.</p>\n\n<p>This image displays the activated inspections:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JFnPU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JFnPU.png\" alt=\"Activated Inspections\"></a></p>\n\n<p>This is a screenshot of my code with multiple errors but no detected by the IDE:\n<a href=\"https://i.stack.imgur.com/zPfeK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zPfeK.png\" alt=\"screenshot of my code\"></a></p>\n\n<p>Kindly help me solve this problem.</p>\n"},{"tags":["java","collections","guava","flatten"],"answers":[{"tags":[],"owner":{"account_id":116301,"reputation":2832,"user_id":305009,"display_name":"Sean Parsons"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1700624034,"creation_date":1305027062,"answer_id":5949355,"question_id":5949091,"body_markdown":"The [Iterables.concat method][1] satisfies that requirement:\r\n\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; inputs)\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable)","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>The <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable)\" rel=\"nofollow noreferrer\">Iterables.concat method</a> satisfies that requirement:</p>\n<pre><code>public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; inputs)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420778925,"creation_date":1420778925,"answer_id":27854006,"question_id":5949091,"body_markdown":"As of Java 8, you can do this without Guava.  It&#39;s a bit clunky because [Iterable doesn&#39;t directly provide streams](https://stackoverflow.com/q/23114015/3614835), requiring the use of StreamSupport, but it doesn&#39;t require creating a new collection like the code in the question.\r\n\r\n    private static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;T&gt;&gt; foo) {\r\n        return () -&gt; StreamSupport.stream(foo.spliterator(), false)\r\n            .flatMap(i -&gt; StreamSupport.stream(i.spliterator(), false))\r\n            .iterator();\r\n    }\r\n\r\n","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>As of Java 8, you can do this without Guava.  It's a bit clunky because <a href=\"https://stackoverflow.com/q/23114015/3614835\">Iterable doesn't directly provide streams</a>, requiring the use of StreamSupport, but it doesn't require creating a new collection like the code in the question.</p>\n\n<pre><code>private static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;T&gt;&gt; foo) {\n    return () -&gt; StreamSupport.stream(foo.spliterator(), false)\n        .flatMap(i -&gt; StreamSupport.stream(i.spliterator(), false))\n        .iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":3335,"reputation":2383,"user_id":4805,"display_name":"Andy Whitfield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15980,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":5949355,"answer_count":2,"score":41,"last_activity_date":1700624034,"creation_date":1305025872,"question_id":5949091,"body_markdown":"Is there a `flatten` method in Guava - or an easy way to convert an `Iterable&lt;Iterable&lt;T&gt;&gt;` to an `Iterable&lt;T&gt;`?\r\n\r\nI have a `Multimap&lt;K, V&gt;` [sourceMultimap] and I want to return all values where the key matches some predicate [keyPredicate]. So at the moment I have:\r\n\r\n    Iterable&lt;Collection&lt;V&gt;&gt; vals = Maps.filterKeys(sourceMultimap.asMap(), keyPredicate).values();\r\n    \r\n    Collection&lt;V&gt; retColl = ...;\r\n    for (Collection&lt;V&gt; vs : vals) retColl.addAll(vs);\r\n    return retColl;\r\n\r\nI&#39;ve looked through the Guava docs, but nothing jumped out. I am just checking I&#39;ve not missed anything. Otherwise, I&#39;ll extract my three lines into a short flatten generic method and leave it as that.","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>Is there a <code>flatten</code> method in Guava - or an easy way to convert an <code>Iterable&lt;Iterable&lt;T&gt;&gt;</code> to an <code>Iterable&lt;T&gt;</code>?</p>\n\n<p>I have a <code>Multimap&lt;K, V&gt;</code> [sourceMultimap] and I want to return all values where the key matches some predicate [keyPredicate]. So at the moment I have:</p>\n\n<pre><code>Iterable&lt;Collection&lt;V&gt;&gt; vals = Maps.filterKeys(sourceMultimap.asMap(), keyPredicate).values();\n\nCollection&lt;V&gt; retColl = ...;\nfor (Collection&lt;V&gt; vs : vals) retColl.addAll(vs);\nreturn retColl;\n</code></pre>\n\n<p>I've looked through the Guava docs, but nothing jumped out. I am just checking I've not missed anything. Otherwise, I'll extract my three lines into a short flatten generic method and leave it as that.</p>\n"},{"tags":["java","arrays","string","char","reverse"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1700582378,"post_id":77524176,"comment_id":136671006,"body_markdown":"You are overwriting the data. You need to work in from both ends, meet in the middle, and use a temporary char variable to prevent overwriting the data as you go. The reason it works with `charAt` is because strings are immutable so you can&#39;t destroy the data while you&#39;re reversing it.","body":"You are overwriting the data. You need to work in from both ends, meet in the middle, and use a temporary char variable to prevent overwriting the data as you go. The reason it works with <code>charAt</code> is because strings are immutable so you can&#39;t destroy the data while you&#39;re reversing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1700582504,"post_id":77524176,"comment_id":136671031,"body_markdown":"And that&#39;s exactly what you should use: `reverseword[j] = str.charAt(i);\n` and begin by creating an empty array And of course you can do `return new StringBuilder(str).reverse().toString();`","body":"And that&#39;s exactly what you should use: <code>reverseword[j] = str.charAt(i); </code> and begin by creating an empty array And of course you can do <code>return new StringBuilder(str).reverse().toString();</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1700583743,"post_id":77524176,"comment_id":136671305,"body_markdown":"Check out the example at the end of [reverse an array](https://stackoverflow.com/a/77466881/1552534).  You can do the same thing with an array of characters and the return a new String of those characters.  Note that you only need to iterate half way from each end towards the middle.","body":"Check out the example at the end of <a href=\"https://stackoverflow.com/a/77466881/1552534\">reverse an array</a>.  You can do the same thing with an array of characters and the return a new String of those characters.  Note that you only need to iterate half way from each end towards the middle."},{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":2,"creation_date":1700584292,"post_id":77524176,"comment_id":136671418,"body_markdown":"This might not apply to your exercise, but note that reversing a Java string using a character array will break if the string contains one or more  UTF-16 surrogate pairs. It&#39;s probably better to work with integer code points, e.g. String#codePoints().","body":"This might not apply to your exercise, but note that reversing a Java string using a character array will break if the string contains one or more  UTF-16 surrogate pairs. It&#39;s probably better to work with integer code points, e.g. String#codePoints()."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700591879,"post_id":77524176,"comment_id":136672791,"body_markdown":"Try the following, _String s = &quot;&quot;; for (char c : &quot;geeks&quot;.toCharArray()) s = c + s;_.","body":"Try the following, <i>String s = &quot;&quot;; for (char c : &quot;geeks&quot;.toCharArray()) s = c + s;</i>."}],"answers":[{"tags":[],"owner":{"account_id":29959026,"reputation":31,"user_id":22959249,"display_name":"Yuay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700620551,"creation_date":1700620340,"answer_id":77527027,"question_id":77524176,"body_markdown":"In your code, you are trying to read and write data in the same array at the same time, which is causing data loss. When you start reading data from the end of the array and write it to the beginning of the array, you are actually overwriting the original data.To fix this, you need to create a new array to store the reversed characters, so you&#39;re not overwriting the original characters. \r\n\r\nHowever, when you use the `charAt`, you are reading the original string, which has not been modified the entire process. So you can correctly take the character from the end of the string.","title":"issue in reversing a string in java","body":"<p>In your code, you are trying to read and write data in the same array at the same time, which is causing data loss. When you start reading data from the end of the array and write it to the beginning of the array, you are actually overwriting the original data.To fix this, you need to create a new array to store the reversed characters, so you're not overwriting the original characters.</p>\n<p>However, when you use the <code>charAt</code>, you are reading the original string, which has not been modified the entire process. So you can correctly take the character from the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700622675,"creation_date":1700622675,"answer_id":77527125,"question_id":77524176,"body_markdown":"Your code has two algorithmic problems:\r\n\r\n - `reverseword[j] = reverseword[i];` overwrites the character at index `j` and leaves the char at `i` as is. You can use a temporary variable to swap these two values;\r\n - by running the for loop from `reverseword.length - 1` to `0`, even if you use a temporary variable, you are going to swap them correctly, but you are going to do it twice and end up with the initial array.  \r\n\r\nBelow is a code that fixes it (and adds another way of reversing a string):  \r\n\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            for(String arg: args) {\r\n                System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse(arg));\r\n                System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse2(arg));\r\n            }\r\n        }\r\n    \r\n        static String reverse(String value) {\r\n            char [] characters = value.toCharArray();\r\n    \r\n            int len = characters.length;\r\n            for (int i = 0; i &lt;= len/2 - 1; i++) {\r\n                char tmp = characters[i];\r\n                characters[i] = characters[len-i-1];\r\n                characters[len-i-1] = tmp;\r\n            }\r\n            return new String(characters);\r\n        }\r\n    \r\n        static String reverse2(String value) {\r\n            StringBuilder reverse = new StringBuilder(value);\r\n            return reverse.reverse().toString();\r\n        }\r\n    }","title":"issue in reversing a string in java","body":"<p>Your code has two algorithmic problems:</p>\n<ul>\n<li><code>reverseword[j] = reverseword[i];</code> overwrites the character at index <code>j</code> and leaves the char at <code>i</code> as is. You can use a temporary variable to swap these two values;</li>\n<li>by running the for loop from <code>reverseword.length - 1</code> to <code>0</code>, even if you use a temporary variable, you are going to swap them correctly, but you are going to do it twice and end up with the initial array.</li>\n</ul>\n<p>Below is a code that fixes it (and adds another way of reversing a string):</p>\n<pre><code>public class Test {\n    public static void main(String [] args) {\n        for(String arg: args) {\n            System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse(arg));\n            System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse2(arg));\n        }\n    }\n\n    static String reverse(String value) {\n        char [] characters = value.toCharArray();\n\n        int len = characters.length;\n        for (int i = 0; i &lt;= len/2 - 1; i++) {\n            char tmp = characters[i];\n            characters[i] = characters[len-i-1];\n            characters[len-i-1] = tmp;\n        }\n        return new String(characters);\n    }\n\n    static String reverse2(String value) {\n        StringBuilder reverse = new StringBuilder(value);\n        return reverse.reverse().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16190280,"reputation":11,"user_id":11689267,"display_name":"Sreenath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700622675,"creation_date":1700582034,"question_id":77524176,"body_markdown":"cant reverse my string using char[] array\r\nif my input is geeks and output shpuld be skeeg \r\nif i reverse using charAt function it reverse the string correctly if i use the reverse[i]=reverse[j] i cant reverse it properly where (j=length of reverse)  for clear view please view my code .\r\nthe above code gives me output as wrong for example if my input is geeks it gives output as skeks\r\nif i change the line reverseword[j] = reverseword[i]; to reverseword[j] = test.charAt(i); it gives coorect output.\r\nsince reversedword also contains the same word but it gives issue while reversing a string but when using test.chatAt it works?\r\nwhats the issue in reversing a string using reverseword[j] = reverseword[i];?\r\n\r\n```\r\nclass reverse {\r\n\r\n\tpublic static String sample(String str) {\r\n\t\tString test = str;\r\n\t\tchar[] reverseword;\r\n\r\n\t\treverseword = test.toCharArray();\r\n\r\n\t\tint j = 0;\r\n\t\t\r\n\t\tfor (int i = reverseword.length - 1; i &gt;= 0; i--) {\r\n\t\t\treverseword[j] = reverseword[i];\r\n\t\t\tj++;\r\n\t\t}\r\n\r\n\t\tString finalresult = new String(reverseword);\r\n\t\treturn finalresult;\r\n\t}\r\n} \r\n```\r\n\r\n","title":"issue in reversing a string in java","body":"<p>cant reverse my string using char[] array\nif my input is geeks and output shpuld be skeeg\nif i reverse using charAt function it reverse the string correctly if i use the reverse[i]=reverse[j] i cant reverse it properly where (j=length of reverse)  for clear view please view my code .\nthe above code gives me output as wrong for example if my input is geeks it gives output as skeks\nif i change the line reverseword[j] = reverseword[i]; to reverseword[j] = test.charAt(i); it gives coorect output.\nsince reversedword also contains the same word but it gives issue while reversing a string but when using test.chatAt it works?\nwhats the issue in reversing a string using reverseword[j] = reverseword[i];?</p>\n<pre><code>class reverse {\n\n    public static String sample(String str) {\n        String test = str;\n        char[] reverseword;\n\n        reverseword = test.toCharArray();\n\n        int j = 0;\n        \n        for (int i = reverseword.length - 1; i &gt;= 0; i--) {\n            reverseword[j] = reverseword[i];\n            j++;\n        }\n\n        String finalresult = new String(reverseword);\n        return finalresult;\n    }\n} \n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"owner":{"account_id":29944048,"reputation":1,"user_id":22947778,"display_name":"Alex Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700622596,"creation_date":1700436474,"question_id":77512879,"body_markdown":"I have a parent entity with the following definition:\r\n\r\n```\r\n@Entity(name = &quot;parent&quot;)\r\nclass ParentEntity {\r\n\r\n    @Id\r\n    var id: String = UUID.randomUUID().toString()\r\n    ...\r\n```\r\na child entity with the following definition:\r\n```\r\n@Entity(name = &quot;child_1&quot;\r\nclass ChildEntity1{\r\n    @Id\r\n    var id: String? = null\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;parentId&quot;)\r\n    var parentEntity: ParentEntity? = null\r\n}\r\n```\r\nand another child entity with similar definition\r\n```\r\n@Entity(name = &quot;child_2&quot;\r\nclass ChildEntity2{\r\n    @Id\r\n    var id: String? = null\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;parentId&quot;)\r\n    var parentEntity: ParentEntity? = null\r\n}\r\n```\r\nI have a Jpa Repository created for each entity. My goal is to have the ParentEntity persisted when ChildEntity1 is persisted, but not when ChildEntity2 is persisted. E.g. If I have\r\n```\r\nvar parentEntity = ParentEntity()\r\nvar childEntity1 = ChildEntity1()\r\nchildEntity1.parentEntity = parentEntity\r\nchildEntity1Repo.save(childEntity1)\r\n```\r\nThe child entity should be inserted along with the parent entity, but if I have\r\n```\r\nvar parentEntity = ParentEntity()\r\nvar childEntity2 = ChildEntity2()\r\nchildEntity2.parentEntity = parentEntity\r\nchildEntity2Repo.save(childEntity2)\r\n```\r\nthe parent entity should not be persisted, only the childEntity2.\r\nCurrently, if I persist any of the child entities, the parent is persisted along with it.\r\n\r\n\r\nI just want to know if it&#39;s possible, and if so how?","title":"Spring JPA/Hibernate Saving Only the Child Entity Sometimes","body":"<p>I have a parent entity with the following definition:</p>\n<pre><code>@Entity(name = &quot;parent&quot;)\nclass ParentEntity {\n\n    @Id\n    var id: String = UUID.randomUUID().toString()\n    ...\n</code></pre>\n<p>a child entity with the following definition:</p>\n<pre><code>@Entity(name = &quot;child_1&quot;\nclass ChildEntity1{\n    @Id\n    var id: String? = null\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;parentId&quot;)\n    var parentEntity: ParentEntity? = null\n}\n</code></pre>\n<p>and another child entity with similar definition</p>\n<pre><code>@Entity(name = &quot;child_2&quot;\nclass ChildEntity2{\n    @Id\n    var id: String? = null\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;parentId&quot;)\n    var parentEntity: ParentEntity? = null\n}\n</code></pre>\n<p>I have a Jpa Repository created for each entity. My goal is to have the ParentEntity persisted when ChildEntity1 is persisted, but not when ChildEntity2 is persisted. E.g. If I have</p>\n<pre><code>var parentEntity = ParentEntity()\nvar childEntity1 = ChildEntity1()\nchildEntity1.parentEntity = parentEntity\nchildEntity1Repo.save(childEntity1)\n</code></pre>\n<p>The child entity should be inserted along with the parent entity, but if I have</p>\n<pre><code>var parentEntity = ParentEntity()\nvar childEntity2 = ChildEntity2()\nchildEntity2.parentEntity = parentEntity\nchildEntity2Repo.save(childEntity2)\n</code></pre>\n<p>the parent entity should not be persisted, only the childEntity2.\nCurrently, if I persist any of the child entities, the parent is persisted along with it.</p>\n<p>I just want to know if it's possible, and if so how?</p>\n"},{"tags":["java","testing","junit","junit4","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":187,"is_accepted":false,"score":186,"last_activity_date":1616080854,"creation_date":1257775339,"answer_id":1701143,"question_id":1701113,"body_markdown":"There&#39;s no big advantage for those cases where an `assertFoo` exists that exactly matches your intent. In those cases they behave almost the same.\r\n\r\nBut when you come to checks that are somewhat more complex, then the advantage becomes more visible:\r\n\r\n    val foo = List.of(&quot;someValue&quot;);\r\n    assertTrue(foo.contains(&quot;someValue&quot;) &amp;&amp; foo.contains(&quot;anotherValue&quot;));\r\n\r\n```\r\nExpected: is &lt;true&gt;\r\n         but: was &lt;false&gt;\r\n```\r\n\r\nvs.\r\n\r\n    val foo = List.of(&quot;someValue&quot;);\r\n    assertThat(foo, containsInAnyOrder(&quot;someValue&quot;, &quot;anotherValue&quot;));\r\n\r\n```\r\nExpected: iterable with items [&quot;someValue&quot;, &quot;anotherValue&quot;] in any order\r\n     but: no item matches: &quot;anotherValue&quot; in [&quot;someValue&quot;]\r\n```\r\n\r\n\r\nOne can discuss which one of those is easier to read, but once the assert fails, you&#39;ll get a good error message from `assertThat`, but only a very minimal amount of information from `assertTrue`.","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>There's no big advantage for those cases where an <code>assertFoo</code> exists that exactly matches your intent. In those cases they behave almost the same.</p>\n<p>But when you come to checks that are somewhat more complex, then the advantage becomes more visible:</p>\n<pre><code>val foo = List.of(&quot;someValue&quot;);\nassertTrue(foo.contains(&quot;someValue&quot;) &amp;&amp; foo.contains(&quot;anotherValue&quot;));\n</code></pre>\n<pre><code>Expected: is &lt;true&gt;\n         but: was &lt;false&gt;\n</code></pre>\n<p>vs.</p>\n<pre><code>val foo = List.of(&quot;someValue&quot;);\nassertThat(foo, containsInAnyOrder(&quot;someValue&quot;, &quot;anotherValue&quot;));\n</code></pre>\n<pre><code>Expected: iterable with items [&quot;someValue&quot;, &quot;anotherValue&quot;] in any order\n     but: no item matches: &quot;anotherValue&quot; in [&quot;someValue&quot;]\n</code></pre>\n<p>One can discuss which one of those is easier to read, but once the assert fails, you'll get a good error message from <code>assertThat</code>, but only a very minimal amount of information from <code>assertTrue</code>.</p>\n"},{"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1682499472,"creation_date":1270565674,"answer_id":2585820,"question_id":1701113,"body_markdown":"The JUnit [release notes][1] for version 4.4 (where it was introduced) state four advantages :\r\n\r\n&gt; - More readable and typeable: this syntax allows you to think in terms of subject, verb, object (assert &quot;x is 3&quot;) rather than *assertEquals*, which uses verb, object, subject (assert &quot;equals 3 x&quot;)\r\n&gt; - Combinations: any matcher statement s can be negated (*not(s)*), combined (*either(s).or(t)*), mapped to a collection (*each(s)*), or used in custom combinations (*afterFiveSeconds(s)*)\r\n&gt; - Readable failure messages. (...)\r\n&gt; - Custom Matchers. By implementing the *Matcher* interface yourself, you can get all of the above benefits for your own custom assertions.\r\n\r\nMore detailed argumentation from the person who created the new syntax : [here][2].\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/doc/ReleaseNotes4.4.html\r\n  [2]: http://joe.truemesh.com/blog/000511.html","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>The JUnit <a href=\"http://junit.sourceforge.net/doc/ReleaseNotes4.4.html\" rel=\"nofollow noreferrer\">release notes</a> for version 4.4 (where it was introduced) state four advantages :</p>\n<blockquote>\n<ul>\n<li>More readable and typeable: this syntax allows you to think in terms of subject, verb, object (assert &quot;x is 3&quot;) rather than <em>assertEquals</em>, which uses verb, object, subject (assert &quot;equals 3 x&quot;)</li>\n<li>Combinations: any matcher statement s can be negated (<em>not(s)</em>), combined (<em>either(s).or(t)</em>), mapped to a collection (<em>each(s)</em>), or used in custom combinations (<em>afterFiveSeconds(s)</em>)</li>\n<li>Readable failure messages. (...)</li>\n<li>Custom Matchers. By implementing the <em>Matcher</em> interface yourself, you can get all of the above benefits for your own custom assertions.</li>\n</ul>\n</blockquote>\n<p>More detailed argumentation from the person who created the new syntax : <a href=\"http://joe.truemesh.com/blog/000511.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1009150,"reputation":3208,"user_id":1022119,"accept_rate":71,"display_name":"MartinL"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1320223916,"creation_date":1320077104,"answer_id":7956297,"question_id":1701113,"body_markdown":"Example:\r\n\r\n\tassertThat(5 , allOf(greaterThan(1),lessThan(3)));\r\n\t//\tjava.lang.AssertionError:\r\n\t//\tExpected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)\r\n\t//\t     got: &lt;5&gt;\r\n\tassertTrue(&quot;Number not between 1 and 3!&quot;, 1 &lt; 5 &amp;&amp; 5 &lt; 3);\r\n\t//\tjava.lang.AssertionError: Number not between 1 and 3!\r\n\r\n 1. you can make your tests more particular\r\n 2. you get a more detailed Exception, if tests fail\r\n 3. easier to read the Test\r\n\r\nbtw: you can write Text in assertXXX too...","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>Example:</p>\n\n<pre><code>assertThat(5 , allOf(greaterThan(1),lessThan(3)));\n//  java.lang.AssertionError:\n//  Expected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)\n//       got: &lt;5&gt;\nassertTrue(\"Number not between 1 and 3!\", 1 &lt; 5 &amp;&amp; 5 &lt; 3);\n//  java.lang.AssertionError: Number not between 1 and 3!\n</code></pre>\n\n<ol>\n<li>you can make your tests more particular</li>\n<li>you get a more detailed Exception, if tests fail</li>\n<li>easier to read the Test</li>\n</ol>\n\n<p>btw: you can write Text in assertXXX too...</p>\n"},{"tags":[],"owner":{"account_id":243830,"reputation":1403,"user_id":516236,"accept_rate":77,"display_name":"Andy Davis"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1330407634,"creation_date":1330407634,"answer_id":9476957,"question_id":1701113,"body_markdown":"A very basic justification is that it is hard to mess up the new syntax.\r\n\r\nSuppose that a particular value, foo, should be 1 after a test.\r\n\r\n    assertEqual(1, foo);\r\n\r\n--OR--\r\n    \r\n    assertThat(foo, is(1));\r\n\r\nWith the first approach, it is very easy to forget the correct order, and type it backwards.  Then rather than saying that the test failed because it expected 1 and got 2, the message is backwards.  Not a problem when the test passes, but can lead to confusion when the test fails.\r\n\r\nWith the second version, it is almost impossible to make this mistake.\r\n","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>A very basic justification is that it is hard to mess up the new syntax.</p>\n\n<p>Suppose that a particular value, foo, should be 1 after a test.</p>\n\n<pre><code>assertEqual(1, foo);\n</code></pre>\n\n<p>--OR--</p>\n\n<pre><code>assertThat(foo, is(1));\n</code></pre>\n\n<p>With the first approach, it is very easy to forget the correct order, and type it backwards.  Then rather than saying that the test failed because it expected 1 and got 2, the message is backwards.  Not a problem when the test passes, but can lead to confusion when the test fails.</p>\n\n<p>With the second version, it is almost impossible to make this mistake.</p>\n"},{"tags":[],"owner":{"account_id":144735,"reputation":9875,"user_id":354009,"accept_rate":92,"display_name":"Igor Popov"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1476689947,"creation_date":1350171695,"answer_id":12878027,"question_id":1701113,"body_markdown":"Basically for **increasing the readability of the code**.   \r\n\r\nBesides hamcrest you can also use the [**fest assertions**][1].\r\nThey have **a few advantages over hamcrest** such as:\r\n\r\n - they are more readable  \r\n(`assertEquals(123, actual); // reads &quot;assert equals 123 is actual&quot;` vs   \r\n`assertThat(actual).isEqualTo(123); // reads &quot;assert that actual is equal to 123&quot;)`\r\n - they are discoverable ([you can make autocompletion work with any IDE][2]).\r\n\r\nSome examples\r\n-------------\r\n\r\n    import static org.fest.assertions.api.Assertions.*;\r\n    \r\n    // common assertions\r\n    assertThat(yoda).isInstanceOf(Jedi.class);\r\n    assertThat(frodo.getName()).isEqualTo(&quot;Frodo&quot;);\r\n    assertThat(frodo).isNotEqualTo(sauron);\r\n    assertThat(frodo).isIn(fellowshipOfTheRing);\r\n    assertThat(sauron).isNotIn(fellowshipOfTheRing);\r\n    \r\n    // String specific assertions\r\n    assertThat(frodo.getName()).startsWith(&quot;Fro&quot;).endsWith(&quot;do&quot;)\r\n                               .isEqualToIgnoringCase(&quot;frodo&quot;);\r\n    \r\n    // collection specific assertions\r\n    assertThat(fellowshipOfTheRing).hasSize(9)\r\n                                   .contains(frodo, sam)\r\n                                   .excludes(sauron);\r\n    \r\n    \r\n    // map specific assertions (One ring and elves ring bearers initialized before)\r\n    assertThat(ringBearers).hasSize(4)\r\n                           .includes(entry(Ring.oneRing, frodo), entry(Ring.nenya, galadriel))\r\n                           .excludes(entry(Ring.oneRing, aragorn));\r\n\r\n\r\n----------\r\n# October 17th, 2016 Update  \r\nFest is not active anymore, use [**AssertJ**][3] instead.\r\n\r\n  [1]: https://github.com/alexruiz/fest-assert-2.x/wiki/One-minute-starting-guide\r\n  [2]: https://github.com/alexruiz/fest-assert-2.x/wiki/Tips-and-tricks#wiki-ide-automatic-static-import\r\n  [3]: http://joel-costigliola.github.io/assertj","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>Basically for <strong>increasing the readability of the code</strong>.   </p>\n\n<p>Besides hamcrest you can also use the <a href=\"https://github.com/alexruiz/fest-assert-2.x/wiki/One-minute-starting-guide\" rel=\"noreferrer\"><strong>fest assertions</strong></a>.\nThey have <strong>a few advantages over hamcrest</strong> such as:</p>\n\n<ul>\n<li>they are more readable<br>\n(<code>assertEquals(123, actual); // reads \"assert equals 123 is actual\"</code> vs<br>\n<code>assertThat(actual).isEqualTo(123); // reads \"assert that actual is equal to 123\")</code></li>\n<li>they are discoverable (<a href=\"https://github.com/alexruiz/fest-assert-2.x/wiki/Tips-and-tricks#wiki-ide-automatic-static-import\" rel=\"noreferrer\">you can make autocompletion work with any IDE</a>).</li>\n</ul>\n\n<h2>Some examples</h2>\n\n<pre><code>import static org.fest.assertions.api.Assertions.*;\n\n// common assertions\nassertThat(yoda).isInstanceOf(Jedi.class);\nassertThat(frodo.getName()).isEqualTo(\"Frodo\");\nassertThat(frodo).isNotEqualTo(sauron);\nassertThat(frodo).isIn(fellowshipOfTheRing);\nassertThat(sauron).isNotIn(fellowshipOfTheRing);\n\n// String specific assertions\nassertThat(frodo.getName()).startsWith(\"Fro\").endsWith(\"do\")\n                           .isEqualToIgnoringCase(\"frodo\");\n\n// collection specific assertions\nassertThat(fellowshipOfTheRing).hasSize(9)\n                               .contains(frodo, sam)\n                               .excludes(sauron);\n\n\n// map specific assertions (One ring and elves ring bearers initialized before)\nassertThat(ringBearers).hasSize(4)\n                       .includes(entry(Ring.oneRing, frodo), entry(Ring.nenya, galadriel))\n                       .excludes(entry(Ring.oneRing, aragorn));\n</code></pre>\n\n<hr>\n\n<h1>October 17th, 2016 Update</h1>\n\n<p>Fest is not active anymore, use <a href=\"http://joel-costigliola.github.io/assertj\" rel=\"noreferrer\"><strong>AssertJ</strong></a> instead.</p>\n"},{"tags":[],"owner":{"account_id":5715419,"reputation":31,"user_id":4515828,"display_name":"user4515828"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422919986,"creation_date":1422747923,"answer_id":28257866,"question_id":1701113,"body_markdown":"&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    assertThat(frodo.getName()).isEqualTo(&quot;Frodo&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIs close to natural language.\r\n\r\nEasier read, easier analyze code.\r\nProgramer spend more time to analyze code than write new one. So if code will be easy to analyze then developer should be more productive.\r\n\r\nP.S.\r\nCode should be as well-written book.\r\nSelf documented code.","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<pre class=\"lang-java prettyprint-override\"><code>assertThat(frodo.getName()).isEqualTo(\"Frodo\");\n</code></pre>\n\n<p>Is close to natural language.</p>\n\n<p>Easier read, easier analyze code.\nProgramer spend more time to analyze code than write new one. So if code will be easy to analyze then developer should be more productive.</p>\n\n<p>P.S.\nCode should be as well-written book.\nSelf documented code.</p>\n"},{"tags":[],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506234723,"creation_date":1506234723,"answer_id":46387283,"question_id":1701113,"body_markdown":"there are advantages to assertThat over assertEquals -   \r\n 1) more readable  \r\n 2) more information on failure  \r\n 3) compile time errors - rather than run time errors  \r\n 4) flexibility with writing test conditions  \r\n 5) portable - if you are using hamcrest - you can use  jUnit or TestNG as the underlying framework. ","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>there are advantages to assertThat over assertEquals -<br>\n 1) more readable<br>\n 2) more information on failure<br>\n 3) compile time errors - rather than run time errors<br>\n 4) flexibility with writing test conditions<br>\n 5) portable - if you are using hamcrest - you can use  jUnit or TestNG as the underlying framework. </p>\n"}],"owner":{"display_name":"Peter Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62748,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"answer_count":7,"score":169,"last_activity_date":1700621441,"creation_date":1257774996,"question_id":1701113,"body_markdown":"When I look at the examples in the Assert class JavaDoc\r\n\r\n    assertThat(&quot;Help! Integers don&#39;t work&quot;, 0, is(1)); // fails:\r\n    // failure message:\r\n    // Help! Integers don&#39;t work\r\n    // expected: is &lt;1&gt; \r\n    // got value: &lt;0&gt;\r\n    assertThat(&quot;Zero is one&quot;, 0, is(not(1))) // passes\r\n\r\nI don&#39;t see a big advantage over, let&#39;s say, `assertEquals( 0, 1 )`.\r\n\r\nIt&#39;s nice maybe for the messages if the constructs get more complicated, but do you see more advantages? Readability?\r\n\r\n","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>When I look at the examples in the Assert class JavaDoc</p>\n<pre><code>assertThat(&quot;Help! Integers don't work&quot;, 0, is(1)); // fails:\n// failure message:\n// Help! Integers don't work\n// expected: is &lt;1&gt; \n// got value: &lt;0&gt;\nassertThat(&quot;Zero is one&quot;, 0, is(not(1))) // passes\n</code></pre>\n<p>I don't see a big advantage over, let's say, <code>assertEquals( 0, 1 )</code>.</p>\n<p>It's nice maybe for the messages if the constructs get more complicated, but do you see more advantages? Readability?</p>\n"},{"tags":["java","spring","postman"],"comments":[{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1656495653,"post_id":72799167,"comment_id":128584700,"body_markdown":"also i turned off SSL certificate","body":"also i turned off SSL certificate"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1656496290,"post_id":72799167,"comment_id":128584956,"body_markdown":"Usually means the resource you are requesting isn&#39;t found or you are hitting the wrong URL, Check your hostname, endpoint, resource requested, SSL certificate required if any !","body":"Usually means the resource you are requesting isn&#39;t found or you are hitting the wrong URL, Check your hostname, endpoint, resource requested, SSL certificate required if any !"}],"answers":[{"tags":[],"owner":{"account_id":2130018,"reputation":235,"user_id":1891053,"display_name":"Pacurar Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700618841,"creation_date":1700618841,"answer_id":77526957,"question_id":72799167,"body_markdown":"In my case(C# + IIS) one property from response was missing a\r\n\r\n    set {}\r\nbecause it was a calculated property( only get{} )","title":"Postman is giving me error &quot;Error: read ECONNRESET&quot;","body":"<p>In my case(C# + IIS) one property from response was missing a</p>\n<pre><code>set {}\n</code></pre>\n<p>because it was a calculated property( only get{} )</p>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700618841,"creation_date":1656495620,"question_id":72799167,"body_markdown":"I wanted to test my new API, but it was giving me error with ```Postman``` \r\nso i redownloaded it and in the initial page it was a test api : ```http://github.com/user/repo/main/db.json```\r\nWith GetMethod i just sent there but it is giving me error in console:\r\n```\r\nError: read ECONNRESET\r\nProxy\r\nid: &quot;f36a2318-be97-400f-b630-26aeb0b38f8e&quot;\r\ndisabled: false\r\nhost: &quot;121.0.0.1&quot;\r\nmatch: {…}\r\nport: 8080\r\ntunnel: false\r\nauthenticate: false\r\nRequest Headers\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 48e66b61-7f3b-4f15-b0c2-f266c066e9ec\r\nHost: github.com\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n```\r\nAnd in response i am getting \r\n```\r\nCould not send request\r\nError: getaddrinfo ENOTFOUND user\r\n\r\n```\r\nWhat i am doing wrong , and why it is giving me error, i just newly donwloaded it: \r\nHere is my Headers: \r\n[it was also automatically there ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UZwDP.png","title":"Postman is giving me error &quot;Error: read ECONNRESET&quot;","body":"<p>I wanted to test my new API, but it was giving me error with <code>Postman</code>\nso i redownloaded it and in the initial page it was a test api : <code>http://github.com/user/repo/main/db.json</code>\nWith GetMethod i just sent there but it is giving me error in console:</p>\n<pre><code>Error: read ECONNRESET\nProxy\nid: &quot;f36a2318-be97-400f-b630-26aeb0b38f8e&quot;\ndisabled: false\nhost: &quot;121.0.0.1&quot;\nmatch: {…}\nport: 8080\ntunnel: false\nauthenticate: false\nRequest Headers\nUser-Agent: PostmanRuntime/7.29.0\nAccept: */*\nCache-Control: no-cache\nPostman-Token: 48e66b61-7f3b-4f15-b0c2-f266c066e9ec\nHost: github.com\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n</code></pre>\n<p>And in response i am getting</p>\n<pre><code>Could not send request\nError: getaddrinfo ENOTFOUND user\n\n</code></pre>\n<p>What i am doing wrong , and why it is giving me error, i just newly donwloaded it:\nHere is my Headers:\n<a href=\"https://i.stack.imgur.com/UZwDP.png\" rel=\"nofollow noreferrer\">it was also automatically there </a></p>\n"},{"tags":["java","maven","intellij-idea","junit","junit4"],"answers":[{"tags":[],"owner":{"account_id":7749818,"reputation":175,"user_id":5866097,"display_name":"Niks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454678007,"creation_date":1454678007,"answer_id":35225165,"question_id":35211102,"body_markdown":"You can try this :\r\n\r\n    mvn clean install -Dtest=MigratorTestSuite test ","title":"No tests found for parameterized JUnit4 test","body":"<p>You can try this :</p>\n\n<pre><code>mvn clean install -Dtest=MigratorTestSuite test \n</code></pre>\n"},{"tags":[],"owner":{"account_id":55217,"reputation":8498,"user_id":165292,"display_name":"avandeursen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454712261,"creation_date":1454712261,"answer_id":35234818,"question_id":35211102,"body_markdown":"The `data` method should return a collection of object arrays, i.e., `Collection&lt;Object[]&gt;`. Each object array is a test vector, containing, e.g., an input String and an expected outcome.\n\nThe test class constructor should take as arguments the elements of the test vector. In the example above, it would take a String  and an outcome argument, which you would typically store in a field, so that the actual test case can use it. For each test vector, a new instance of the test class is created.\n\nIn your case, it seems you want to use a series of scenarios as parameters.\n\nTherefore, your data method should return a collection of scenario-*arrays* (with each array of length 1), and your constructor should consume a *single* scenario (instead of the full collection; so there is no need to &#39;peek&#39; around).\n","title":"No tests found for parameterized JUnit4 test","body":"<p>The <code>data</code> method should return a collection of object arrays, i.e., <code>Collection&lt;Object[]&gt;</code>. Each object array is a test vector, containing, e.g., an input String and an expected outcome.</p>\n\n<p>The test class constructor should take as arguments the elements of the test vector. In the example above, it would take a String  and an outcome argument, which you would typically store in a field, so that the actual test case can use it. For each test vector, a new instance of the test class is created.</p>\n\n<p>In your case, it seems you want to use a series of scenarios as parameters.</p>\n\n<p>Therefore, your data method should return a collection of scenario-<em>arrays</em> (with each array of length 1), and your constructor should consume a <em>single</em> scenario (instead of the full collection; so there is no need to 'peek' around).</p>\n"}],"owner":{"account_id":3995076,"reputation":432,"user_id":3292845,"accept_rate":48,"display_name":"Nana89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700618752,"creation_date":1454618136,"question_id":35211102,"body_markdown":"I&#39;m trying to parameterize a JUnit4 test from a `queue` previously set in one of my src/main classes. This is what I&#39;ve done so far, there&#39;s a class for the test suite (`MigratorTestSuite`)\r\n\r\n```java\r\n@RunWith(Suite.class)\r\n@Suite.SuiteClasses({ParameterizedTest.class})\r\npublic class MigratorTestSuite {\r\n    @BeforeClass\r\n    public static void setUp() throws SAXException, ParserConfigurationException, GitAPIException, IOException {\r\n        Migrator.getReady();\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDown() throws SQLException {\r\n        DatabaseManager.closeConnections();\r\n        RepositoryManager.closeRepository();\r\n    }\r\n}\r\n```\r\n\r\nAnd a class `ParameterizedTest` where I&#39;m figuring out how to run a [parameterized JUnit test][1] which looks as follows:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ParameterizedTest {\r\n    \r\n        @Parameterized.Parameters(name=&quot;whatever&quot;)\r\n        public static Queue&lt;Deque&lt;String&gt;&gt; data(){\r\n            return TestCasesConstructor.testCasesQueue;\r\n        }\r\n    \r\n        private Deque&lt;String&gt; scenario;\r\n    \r\n        public ParameterizedTest(Queue&lt;Deque&lt;String&gt;&gt; q){\r\n            scenario = q.peek();\r\n        }\r\n    \r\n        @Before\r\n        public void initialize() throws ParserConfigurationException, IOException, SQLException, ClassNotFoundException {\r\n    \r\n            System.out.println(&quot;--- Preparing database for running scripts&quot;);\r\n            DatabaseManager.dropDatabase();\r\n            DatabaseManager.createDatabase();\r\n        }\r\n    \r\n        @Test\r\n        public void testPlainMigration() throws Exception {\r\n            Assert.assertTrue(Migrator.runScenario(this.scenario));\r\n        }\r\n    \r\n        @After\r\n        public void after() throws SQLException {\r\n            DatabaseManager.closeConnections();\r\n            TestCasesConstructor.testCasesQueue.remove();\r\n        }\r\n    }\r\n\r\nWhen I perform a `mvn clean install test -Dtest=MigratorTestSuite` the result is that it doesn&#39;t find any test and when I debug it, it shows:\r\n\r\n&gt; No tests found matching data with any parameter from `org.junit.runner.Request`\r\n&gt; at `org.junit.internal.requests.FilterRequest.getRunner`\r\n\r\nWhat am I doing wrong? Should I better implement it in TestNG? I&#39;m really new to Junit.\r\n\r\n  [1]: https://stackoverflow.com/questions/358802/junit-test-with-dynamic-number-of-tests","title":"No tests found for parameterized JUnit4 test","body":"<p>I'm trying to parameterize a JUnit4 test from a <code>queue</code> previously set in one of my src/main classes. This is what I've done so far, there's a class for the test suite (<code>MigratorTestSuite</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({ParameterizedTest.class})\npublic class MigratorTestSuite {\n    @BeforeClass\n    public static void setUp() throws SAXException, ParserConfigurationException, GitAPIException, IOException {\n        Migrator.getReady();\n    }\n\n    @AfterClass\n    public static void tearDown() throws SQLException {\n        DatabaseManager.closeConnections();\n        RepositoryManager.closeRepository();\n    }\n}\n</code></pre>\n<p>And a class <code>ParameterizedTest</code> where I'm figuring out how to run a <a href=\"https://stackoverflow.com/questions/358802/junit-test-with-dynamic-number-of-tests\">parameterized JUnit test</a> which looks as follows:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class ParameterizedTest {\n\n    @Parameterized.Parameters(name=&quot;whatever&quot;)\n    public static Queue&lt;Deque&lt;String&gt;&gt; data(){\n        return TestCasesConstructor.testCasesQueue;\n    }\n\n    private Deque&lt;String&gt; scenario;\n\n    public ParameterizedTest(Queue&lt;Deque&lt;String&gt;&gt; q){\n        scenario = q.peek();\n    }\n\n    @Before\n    public void initialize() throws ParserConfigurationException, IOException, SQLException, ClassNotFoundException {\n\n        System.out.println(&quot;--- Preparing database for running scripts&quot;);\n        DatabaseManager.dropDatabase();\n        DatabaseManager.createDatabase();\n    }\n\n    @Test\n    public void testPlainMigration() throws Exception {\n        Assert.assertTrue(Migrator.runScenario(this.scenario));\n    }\n\n    @After\n    public void after() throws SQLException {\n        DatabaseManager.closeConnections();\n        TestCasesConstructor.testCasesQueue.remove();\n    }\n}\n</code></pre>\n<p>When I perform a <code>mvn clean install test -Dtest=MigratorTestSuite</code> the result is that it doesn't find any test and when I debug it, it shows:</p>\n<blockquote>\n<p>No tests found matching data with any parameter from <code>org.junit.runner.Request</code>\nat <code>org.junit.internal.requests.FilterRequest.getRunner</code></p>\n</blockquote>\n<p>What am I doing wrong? Should I better implement it in TestNG? I'm really new to Junit.</p>\n"},{"tags":["java","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591107515,"creation_date":1591107515,"answer_id":62154135,"question_id":62153847,"body_markdown":"Yes. In Java 7, server side default TLS version was 1.2. In Java 8 both server and client have default TLS version 1.2.\r\n\r\nAs TLS version is backward compatible on both side unless server is configured strictly to specific version should not be an issue.","title":"TLS version used in JDK 8","body":"<p>Yes. In Java 7, server side default TLS version was 1.2. In Java 8 both server and client have default TLS version 1.2.</p>\n\n<p>As TLS version is backward compatible on both side unless server is configured strictly to specific version should not be an issue.</p>\n"}],"owner":{"account_id":135406,"reputation":5506,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700618610,"creation_date":1591106549,"question_id":62153847,"body_markdown":"We initialise our SSL context with the following code and are running on Java 8.\r\n\r\n    SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\nSince Java 8 uses TLSv1.2 by default? Does it mean the above code will start sending TLSv1.2 requests if my server supports it.\r\n\r\nWant to understand if &quot;SSL&quot; protocol name is just an alias but java runtime starts sending the requests with default TLS version.\r\n\r\n**UPDATE**\r\n\r\nI ran my code against &quot;https://www.google.co.in/&quot; and found this in fiddler\r\n\r\n    A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\r\n    \r\n    Version: 3.3 (TLS/1.2\r\n\r\nAnd also if i change my protocol to TLSv1 which only supports 1.0. Then Fiddler tells me\r\n\r\n    A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\r\n    \r\n    Version: 3.1 (TLS/1.0)\r\n\r\nSo, I guess the above code with &quot;SSL&quot; protocol name should work well with TLS 1.2 servers.\r\n","title":"TLS version used in JDK 8","body":"<p>We initialise our SSL context with the following code and are running on Java 8.</p>\n\n<pre><code>SSLContext context = SSLContext.getInstance(\"SSL\");\n</code></pre>\n\n<p>Since Java 8 uses TLSv1.2 by default? Does it mean the above code will start sending TLSv1.2 requests if my server supports it.</p>\n\n<p>Want to understand if \"SSL\" protocol name is just an alias but java runtime starts sending the requests with default TLS version.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I ran my code against \"<a href=\"https://www.google.co.in/\" rel=\"nofollow noreferrer\">https://www.google.co.in/</a>\" and found this in fiddler</p>\n\n<pre><code>A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\n\nVersion: 3.3 (TLS/1.2\n</code></pre>\n\n<p>And also if i change my protocol to TLSv1 which only supports 1.0. Then Fiddler tells me</p>\n\n<pre><code>A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\n\nVersion: 3.1 (TLS/1.0)\n</code></pre>\n\n<p>So, I guess the above code with \"SSL\" protocol name should work well with TLS 1.2 servers.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1504100120,"post_id":45961893,"comment_id":78882188,"body_markdown":"Add the complete stacktarce","body":"Add the complete stacktarce"},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1504100136,"post_id":45961893,"comment_id":78882208,"body_markdown":"Aside from the actual problem, modifying an enum value seems like a *really* bad idea to me. That&#39;s global state, basically.","body":"Aside from the actual problem, modifying an enum value seems like a <i>really</i> bad idea to me. That&#39;s global state, basically."},{"owner":{"account_id":2918019,"reputation":4374,"user_id":2500842,"accept_rate":85,"display_name":"Master Yoda"},"score":0,"creation_date":1504100195,"post_id":45961893,"comment_id":78882253,"body_markdown":"I was thinking the same thing. Why would you want to modify an existing enum anyway?","body":"I was thinking the same thing. Why would you want to modify an existing enum anyway?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1504100240,"post_id":45961893,"comment_id":78882303,"body_markdown":"I think op has not understand what an enum is for","body":"I think op has not understand what an enum is for"},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504100644,"post_id":45961893,"comment_id":78882644,"body_markdown":"Yes I agree with you but I didn&#39;t find a better solution. \nIf you have, i&#39;m listening carefully.\nTo explain quickly what I need : I have a text containing variables between hashtags, like #NAME_PEOPLE#. These variables have to be filled by my current user values. \nThe name of these variables must be available on the front side for the admin of the app.","body":"Yes I agree with you but I didn&#39;t find a better solution.  If you have, i&#39;m listening carefully. To explain quickly what I need : I have a text containing variables between hashtags, like #NAME_PEOPLE#. These variables have to be filled by my current user values.  The name of these variables must be available on the front side for the admin of the app."},{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":1,"creation_date":1504100789,"post_id":45961893,"comment_id":78882759,"body_markdown":"What about a HashMap? key is the tag name and value the current value from the people object. This will work with concurrent threads, too. Your Enum solution will not ...","body":"What about a HashMap? key is the tag name and value the current value from the people object. This will work with concurrent threads, too. Your Enum solution will not ..."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1504100836,"post_id":45961893,"comment_id":78882802,"body_markdown":"What exactly does your `String textToTransform` contain? Is it possible that text matched by group 1 from `#(.*?)#` (here `FIRSTNAME_PEOPLE`) contains some extra (invisible) characters? Could you print its codepoints (result of `Arrays.toString(s.codePoints().toArray())`).","body":"What exactly does your <code>String textToTransform</code> contain? Is it possible that text matched by group 1 from <code>#(.*?)#</code> (here <code>FIRSTNAME_PEOPLE</code>) contains some extra (invisible) characters? Could you print its codepoints (result of <code>Arrays.toString(s.codePoints().toArray())</code>)."},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504101398,"post_id":45961893,"comment_id":78883303,"body_markdown":"A hashmap in an abstract class for example ? \n\nYes you are right, there was a space in the text, like #NAME_PEOPLE # \nThank you","body":"A hashmap in an abstract class for example ?   Yes you are right, there was a space in the text, like #NAME_PEOPLE #  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504101341,"creation_date":1504101341,"answer_id":45962410,"question_id":45961893,"body_markdown":"Drop the enum and do this :)\r\n\r\n    public String transform(String textToTransform, People people){\r\n        Pattern TAG_REGEX = Pattern.compile(&quot;#(.+?)#&quot;);\r\n        Matcher matcher = TAG_REGEX.matcher(textToTransform);\r\n        while (matcher.find()) {\r\n            String s = matcher.group(1);\r\n            String replaceWith = null;\r\n            switch (s) {\r\n                case &quot;FIRSTNAME_PEOPLE&quot;:\r\n                    replaceWith = people.getFirstName();\r\n                    break;\r\n                case &quot;NAME_PEOPLE&quot;:\r\n                    replaceWith = people.getName();\r\n                    break;\r\n                case &quot;ID&quot;:\r\n                    replaceWith = people.getEmail();\r\n                    break;\r\n                case &quot;PASS&quot;:\r\n                    replaceWith = people.getPassword();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            textToTransform = textToTransform.replace(&quot;#&quot; + s + &quot;#&quot;, replaceWith);\r\n        }\r\n        return textToTransform;\r\n    }","title":"java.lang.IllegalArgumentException: No enum constant","body":"<p>Drop the enum and do this :)</p>\n\n<pre><code>public String transform(String textToTransform, People people){\n    Pattern TAG_REGEX = Pattern.compile(\"#(.+?)#\");\n    Matcher matcher = TAG_REGEX.matcher(textToTransform);\n    while (matcher.find()) {\n        String s = matcher.group(1);\n        String replaceWith = null;\n        switch (s) {\n            case \"FIRSTNAME_PEOPLE\":\n                replaceWith = people.getFirstName();\n                break;\n            case \"NAME_PEOPLE\":\n                replaceWith = people.getName();\n                break;\n            case \"ID\":\n                replaceWith = people.getEmail();\n                break;\n            case \"PASS\":\n                replaceWith = people.getPassword();\n                break;\n            default:\n                break;\n        }\n        textToTransform = textToTransform.replace(\"#\" + s + \"#\", replaceWith);\n    }\n    return textToTransform;\n}\n</code></pre>\n"}],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700618610,"creation_date":1504099984,"question_id":45961893,"body_markdown":"I have problems with my enum.\r\n\r\nHere it is :\r\n\r\n    public enum DataEnum {\r\n        NAME_PEOPLE(&quot;NAME_PEOPLE&quot;),\r\n        FIRSTNAME_PEOPLE(&quot;FIRSTNAME_PEOPLE&quot;),\r\n        ID(&quot;ID&quot;),\r\n        PASS(&quot;PASS&quot;),\r\n        NEW_MAIL(&quot;NEW_MAIL&quot;);\r\n    \r\n        private  String name;\r\n        private DataEnum(String s) {\r\n            name = s;\r\n        }\r\n        public String getValue() {\r\n            return name;\r\n        }\r\n        public void setValue(String s) {\r\n            this.name = s;\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m using it there :\r\n\r\n    public String transform(String textToTransform, People people){\r\n            Pattern TAG_REGEX = Pattern.compile(&quot;#(.+?)#&quot;);\r\n            Matcher matcher = TAG_REGEX.matcher(textToTransform);\r\n            while (matcher.find()) {\r\n                String s = matcher.group(1);\r\n                switch (s) {\r\n                    case &quot;FIRSTNAME_PEOPLE&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getFirstName());\r\n                        break;\r\n                    case &quot;NAME_PEOPLE&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getName());\r\n                        break;\r\n                    case &quot;ID&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getEmail());\r\n                        break;\r\n                    case &quot;PASS&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getPassword());\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                textToTransform = textToTransform.replace(&quot;#&quot; + DataEnum.valueOf(s) + &quot;#&quot;, DataEnum.valueOf(s).getValue());\r\n            }\r\n            return textToTransform;\r\n        }\r\n\r\nAnd I get the following error :\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: No enum constant\r\n&gt; fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE\r\n\r\n\r\nEDIT :\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: No enum constant\r\n&gt; fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE  \tat\r\n&gt; java.lang.Enum.valueOf(Enum.java:238) \tat\r\n&gt; fr.pdf.utils.DataEnum.valueOf(DataEnum.java:3)\r\n&gt; \tat\r\n&gt; fr.pdf.services.impl.MailServiceImpl.transform(MailServiceImpl.java:160)\r\n&gt; \tat\r\n&gt; fr.pdf.services.impl.MailServiceImpl.sendMail(MailServiceImpl.java:84)\r\n&gt; \tat\r\n&gt; fr.pdf.dao.impl.People.update(People.java:372)\r\n\r\n\r\nLine 160 correspond to : \r\n\r\n    textToTransform = textToTransform.replace(&quot;#&quot; + DataEnum.valueOf(s) + &quot;#&quot;, DataEnum.valueOf(s).getValue());","title":"java.lang.IllegalArgumentException: No enum constant","body":"<p>I have problems with my enum.</p>\n\n<p>Here it is :</p>\n\n<pre><code>public enum DataEnum {\n    NAME_PEOPLE(\"NAME_PEOPLE\"),\n    FIRSTNAME_PEOPLE(\"FIRSTNAME_PEOPLE\"),\n    ID(\"ID\"),\n    PASS(\"PASS\"),\n    NEW_MAIL(\"NEW_MAIL\");\n\n    private  String name;\n    private DataEnum(String s) {\n        name = s;\n    }\n    public String getValue() {\n        return name;\n    }\n    public void setValue(String s) {\n        this.name = s;\n    }\n}\n</code></pre>\n\n<p>I'm using it there :</p>\n\n<pre><code>public String transform(String textToTransform, People people){\n        Pattern TAG_REGEX = Pattern.compile(\"#(.+?)#\");\n        Matcher matcher = TAG_REGEX.matcher(textToTransform);\n        while (matcher.find()) {\n            String s = matcher.group(1);\n            switch (s) {\n                case \"FIRSTNAME_PEOPLE\":\n                    DataEnum.valueOf(s).setValue(people.getFirstName());\n                    break;\n                case \"NAME_PEOPLE\":\n                    DataEnum.valueOf(s).setValue(people.getName());\n                    break;\n                case \"ID\":\n                    DataEnum.valueOf(s).setValue(people.getEmail());\n                    break;\n                case \"PASS\":\n                    DataEnum.valueOf(s).setValue(people.getPassword());\n                    break;\n                default:\n                    break;\n            }\n            textToTransform = textToTransform.replace(\"#\" + DataEnum.valueOf(s) + \"#\", DataEnum.valueOf(s).getValue());\n        }\n        return textToTransform;\n    }\n</code></pre>\n\n<p>And I get the following error :</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: No enum constant\n  fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE</p>\n</blockquote>\n\n<p>EDIT :</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: No enum constant\n  fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE    at\n  java.lang.Enum.valueOf(Enum.java:238)     at\n  fr.pdf.utils.DataEnum.valueOf(DataEnum.java:3)\n    at\n  fr.pdf.services.impl.MailServiceImpl.transform(MailServiceImpl.java:160)\n    at\n  fr.pdf.services.impl.MailServiceImpl.sendMail(MailServiceImpl.java:84)\n    at\n  fr.pdf.dao.impl.People.update(People.java:372)</p>\n</blockquote>\n\n<p>Line 160 correspond to : </p>\n\n<pre><code>textToTransform = textToTransform.replace(\"#\" + DataEnum.valueOf(s) + \"#\", DataEnum.valueOf(s).getValue());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1433426415,"post_id":30645727,"comment_id":49355551,"body_markdown":"you could add timer, so it will do clicks only for some period of time, or you could wait for key combination","body":"you could add timer, so it will do clicks only for some period of time, or you could wait for key combination"}],"answers":[{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433429179,"creation_date":1433429179,"answer_id":30647070,"question_id":30645727,"body_markdown":"Add a key listener to the frame, and when the key is pressed, stop the pressing. Note that this will not work if the frame goes out of focus, in which case you would have to listen for a global key press, which I believe would be much more difficult.","title":"How to make an Auto Clicker with Java?","body":"<p>Add a key listener to the frame, and when the key is pressed, stop the pressing. Note that this will not work if the frame goes out of focus, in which case you would have to listen for a global key press, which I believe would be much more difficult.</p>\n"},{"tags":[],"owner":{"account_id":26364924,"reputation":1,"user_id":20020553,"display_name":"rayaan ali"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697883525,"creation_date":1663427417,"answer_id":73756016,"question_id":30645727,"body_markdown":"You can use this to end your program and try link it to the press of a button.\r\n\r\nCode:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Statement 1&quot;);\r\n            System.exit(0);\r\n            System.out.println(&quot;Statement 2&quot;);\r\n        }\r\n    }\r\n","title":"How to make an Auto Clicker with Java?","body":"<p>You can use this to end your program and try link it to the press of a button.</p>\n<p>Code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Statement 1&quot;);\n        System.exit(0);\n        System.out.println(&quot;Statement 2&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4827177,"reputation":9,"user_id":4969989,"display_name":"user8099"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12261,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700618610,"creation_date":1433426041,"question_id":30645727,"body_markdown":"So I wanted to make a program that holds down the mouse button for me. \r\n\r\nSo far I&#39;ve got this: http://pastebin.com/UTJwdHY7\r\n\r\nWhat I&#39;m wondering is how I can stop it. Also, what I realise is that stopping the button makes no sense as I wouldn&#39;t be able to click it anyway. Also some tips on how I&#39;ve done so far would be nice.\r\n\r\nEdit (Adding code):\r\n    \r\n    package main;\r\n \r\n    import javax.swing.*;\r\n    import javax.swing.border.LineBorder;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.InputEvent;\r\n    import java.beans.PropertyChangeListener;\r\n \r\n    public class clickForever extends JFrame implements ActionListener {\r\n \r\n    public static boolean isClicking = false;\r\n \r\n    public void actionPerformed(ActionEvent e) {}\r\n \r\n    public void createFrame() { initComponents(); }\r\n \r\n    public void initComponents() {\r\n \r\n        JFrame frame = new JFrame(&quot;AutoClicker&quot;);\r\n        JPanel panel = new JPanel(true);\r\n        JButton button = new JButton(&quot;OKAY&quot;);\r\n        JLabel label = new JLabel();\r\n \r\n        frame.setVisible(true);\r\n        frame.setSize(350, 67);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.getContentPane().add(panel, BorderLayout.CENTER);\r\n        frame.add(panel);\r\n       \r\n        button.addActionListener(new Action() {\r\n \r\n            @Override\r\n            public Object getValue(String s) {\r\n                return null;\r\n            }\r\n \r\n            @Override\r\n            public void putValue(String s, Object o) {}\r\n \r\n            @Override\r\n            public void setEnabled(boolean b) {}\r\n \r\n            @Override\r\n            public boolean isEnabled() {\r\n                return false;\r\n            }\r\n \r\n            @Override\r\n            public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\r\n \r\n            @Override\r\n            public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\r\n \r\n            @Override\r\n            public void actionPerformed(ActionEvent actionEvent) {\r\n \r\n                if(isClicking){isClicking = false; return;}\r\n                if(!isClicking){isClicking = true; return;}\r\n            }\r\n        });\r\n \r\n        label.setFont(new Font(&quot;Times New Roman&quot;, 1, 16));\r\n        label.setText(&quot;Click &#39;OKAY&#39; to start.&quot;);\r\n        label.setBorder(BorderFactory.createLineBorder(Color.black));\r\n \r\n        panel.add(label);\r\n        panel.setBorder(new LineBorder(Color.BLACK));\r\n        panel.add(button);\r\n \r\n    }\r\n \r\n    public static void main(String[] args) throws java.awt.AWTException, java.lang.InterruptedException {\r\n        clickForever clickForever = new clickForever();\r\n        Robot rbt = new Robot();\r\n \r\n        clickForever.createFrame();\r\n \r\n        while(true){\r\n            if(isClicking) rbt.mousePress(InputEvent.BUTTON1_MASK);\r\n            if(!isClicking) ;\r\n        }\r\n      }\r\n    }","title":"How to make an Auto Clicker with Java?","body":"<p>So I wanted to make a program that holds down the mouse button for me. </p>\n\n<p>So far I've got this: <a href=\"http://pastebin.com/UTJwdHY7\" rel=\"nofollow\">http://pastebin.com/UTJwdHY7</a></p>\n\n<p>What I'm wondering is how I can stop it. Also, what I realise is that stopping the button makes no sense as I wouldn't be able to click it anyway. Also some tips on how I've done so far would be nice.</p>\n\n<p>Edit (Adding code):</p>\n\n<pre><code>package main;\n\nimport javax.swing.*;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.InputEvent;\nimport java.beans.PropertyChangeListener;\n\npublic class clickForever extends JFrame implements ActionListener {\n\npublic static boolean isClicking = false;\n\npublic void actionPerformed(ActionEvent e) {}\n\npublic void createFrame() { initComponents(); }\n\npublic void initComponents() {\n\n    JFrame frame = new JFrame(\"AutoClicker\");\n    JPanel panel = new JPanel(true);\n    JButton button = new JButton(\"OKAY\");\n    JLabel label = new JLabel();\n\n    frame.setVisible(true);\n    frame.setSize(350, 67);\n    frame.setResizable(false);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().add(panel, BorderLayout.CENTER);\n    frame.add(panel);\n\n    button.addActionListener(new Action() {\n\n        @Override\n        public Object getValue(String s) {\n            return null;\n        }\n\n        @Override\n        public void putValue(String s, Object o) {}\n\n        @Override\n        public void setEnabled(boolean b) {}\n\n        @Override\n        public boolean isEnabled() {\n            return false;\n        }\n\n        @Override\n        public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\n\n        @Override\n        public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\n\n        @Override\n        public void actionPerformed(ActionEvent actionEvent) {\n\n            if(isClicking){isClicking = false; return;}\n            if(!isClicking){isClicking = true; return;}\n        }\n    });\n\n    label.setFont(new Font(\"Times New Roman\", 1, 16));\n    label.setText(\"Click 'OKAY' to start.\");\n    label.setBorder(BorderFactory.createLineBorder(Color.black));\n\n    panel.add(label);\n    panel.setBorder(new LineBorder(Color.BLACK));\n    panel.add(button);\n\n}\n\npublic static void main(String[] args) throws java.awt.AWTException, java.lang.InterruptedException {\n    clickForever clickForever = new clickForever();\n    Robot rbt = new Robot();\n\n    clickForever.createFrame();\n\n    while(true){\n        if(isClicking) rbt.mousePress(InputEvent.BUTTON1_MASK);\n        if(!isClicking) ;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8","instanceof"],"answers":[{"tags":[],"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700618153,"creation_date":1424035530,"answer_id":28531350,"question_id":28531305,"body_markdown":"The way you did it. However, you will have to cast `u` to the type you want.\r\n\r\n    if (u instanceof Admin) {\r\n        Admin a = (Admin) u;\r\n        // your logic\r\n    }\r\n\r\n**Edit:** As of Java 14, you can also do this:\r\n\r\n```java\r\nif (u instanceof Admin a) {\r\n    // your logic\r\n}\r\n```","title":"How to write instanceof with Java 8?","body":"<p>The way you did it. However, you will have to cast <code>u</code> to the type you want.</p>\n<pre><code>if (u instanceof Admin) {\n    Admin a = (Admin) u;\n    // your logic\n}\n</code></pre>\n<p><strong>Edit:</strong> As of Java 14, you can also do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (u instanceof Admin a) {\n    // your logic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1424036049,"creation_date":1424035723,"answer_id":28531381,"question_id":28531305,"body_markdown":"You would do it like this :\r\n\r\n    @RequestMapping(value = &quot;/account&quot;,\r\n                method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;UserDTO&gt; getAccount() {\r\n            return Optional.ofNullable(userService.getUserWithAuthorities())\r\n                .map(user -&gt; {\r\n                    if (user instanceof Admin) {\r\n                        //...\r\n                    }\r\n                    return new ResponseEntity&lt;&gt;(new UserDTO(...), HttpStatus.OK);\r\n                })\r\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\r\n        }\r\n\r\nHowever, if you can, avoid the `instanceof` operator. Add a `isAdmin` method to your `User` class : in class `Admin`, it would return `true` and in class `NormalUser`, it would return `false`.","title":"How to write instanceof with Java 8?","body":"<p>You would do it like this :</p>\n\n<pre><code>@RequestMapping(value = \"/account\",\n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;UserDTO&gt; getAccount() {\n        return Optional.ofNullable(userService.getUserWithAuthorities())\n            .map(user -&gt; {\n                if (user instanceof Admin) {\n                    //...\n                }\n                return new ResponseEntity&lt;&gt;(new UserDTO(...), HttpStatus.OK);\n            })\n            .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\n    }\n</code></pre>\n\n<p>However, if you can, avoid the <code>instanceof</code> operator. Add a <code>isAdmin</code> method to your <code>User</code> class : in class <code>Admin</code>, it would return <code>true</code> and in class <code>NormalUser</code>, it would return <code>false</code>.</p>\n"}],"owner":{"account_id":1768620,"reputation":4271,"user_id":1613902,"accept_rate":45,"display_name":"Pracede"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21909,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28531381,"answer_count":2,"score":3,"last_activity_date":1700618153,"creation_date":1424035232,"question_id":28531305,"body_markdown":"I am new in Java 8 Optional. I have to change the following code : \r\n\r\n      \r\n \r\n\r\n    @RequestMapping(value = &quot;/account&quot;,\r\n                method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;UserDTO&gt; getAccount() {\r\n        return \r\n        \tOptional.ofNullable(userService.getUserWithAuthorities())\r\n            .map(user -&gt; \r\n            \tnew ResponseEntity&lt;&gt;(\r\n            \t\tnew UserDTO(\r\n\t                    user.getLogin(),\r\n\t                    null,\r\n\t                    user.getFirstName(),\r\n\t                    user.getLastName(),\r\n\t                    user.getEmail(),\r\n\t                    &quot;&quot;,\r\n\t                    user.getLangKey(),\r\n\t                    user.getAuthorities()\r\n\t                        .stream()\r\n\t                        .map(Authority::getName)\r\n\t                        .collect(Collectors.toList())\r\n                \t),\r\n                \tHttpStatus.OK\r\n                )\r\n            )\r\n            .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\r\n    }\r\n\r\nI want to create a different ResponseEntity according to the instance of `user`.\r\nHow i can write the equivalent of the following code:\r\n\r\n    if(user instanceof Admin )\r\n    {\r\n    // my logic\r\n    }\r\n    else if(user instanceof NormalUser)\r\n    {\r\n    // my logic\r\n    }\r\n\r\nThanks","title":"How to write instanceof with Java 8?","body":"<p>I am new in Java 8 Optional. I have to change the following code : </p>\n\n<pre><code>@RequestMapping(value = \"/account\",\n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;UserDTO&gt; getAccount() {\n    return \n        Optional.ofNullable(userService.getUserWithAuthorities())\n        .map(user -&gt; \n            new ResponseEntity&lt;&gt;(\n                new UserDTO(\n                    user.getLogin(),\n                    null,\n                    user.getFirstName(),\n                    user.getLastName(),\n                    user.getEmail(),\n                    \"\",\n                    user.getLangKey(),\n                    user.getAuthorities()\n                        .stream()\n                        .map(Authority::getName)\n                        .collect(Collectors.toList())\n                ),\n                HttpStatus.OK\n            )\n        )\n        .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\n}\n</code></pre>\n\n<p>I want to create a different ResponseEntity according to the instance of <code>user</code>.\nHow i can write the equivalent of the following code:</p>\n\n<pre><code>if(user instanceof Admin )\n{\n// my logic\n}\nelse if(user instanceof NormalUser)\n{\n// my logic\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot","kotlin"],"comments":[{"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"score":0,"creation_date":1700617859,"post_id":77332298,"comment_id":136675945,"body_markdown":"Ultimately, I went with option 2 as it was quite easy to do on application startup. First an extension:","body":"Ultimately, I went with option 2 as it was quite easy to do on application startup. First an extension:"}],"answers":[{"tags":[],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700618005,"creation_date":1700618005,"answer_id":77526922,"question_id":77332298,"body_markdown":"Ultimately, I went with option 2 as it turned out to be quite easy to enable `changeStreamPreAndPostImages` on application start up. I created an extension on the mongo client:\r\n\r\n```\r\nfun MongoDatabase.enablePreImageChangeStream(collection: String) {\r\n    this.runCommand(\r\n        BsonDocument.parse(\r\n            &quot;&quot;&quot;\r\n               {\r\n                   &quot;collMod&quot;: &quot;$collection&quot;,\r\n                   &quot;changeStreamPreAndPostImages&quot;: { &quot;enabled&quot;: true }\r\n               }\r\n            &quot;&quot;&quot;\r\n        )\r\n    )\r\n}\r\n```\r\n\r\nThen on application start up I did:\r\n```\r\n@Configuration\r\nclass ChangeStreamConfiguration(\r\n    private val mongoTemplate: MongoTemplate,\r\n) {\r\n    init {\r\n        mongoTemplate.db.enablePreImageChangeStream(&quot;&lt;collection name here&gt;&quot;)\r\n\r\n  }\r\n}\r\n```","title":"Generating mongodb update query dynamically in Spring Data","body":"<p>Ultimately, I went with option 2 as it turned out to be quite easy to enable <code>changeStreamPreAndPostImages</code> on application start up. I created an extension on the mongo client:</p>\n<pre><code>fun MongoDatabase.enablePreImageChangeStream(collection: String) {\n    this.runCommand(\n        BsonDocument.parse(\n            &quot;&quot;&quot;\n               {\n                   &quot;collMod&quot;: &quot;$collection&quot;,\n                   &quot;changeStreamPreAndPostImages&quot;: { &quot;enabled&quot;: true }\n               }\n            &quot;&quot;&quot;\n        )\n    )\n}\n</code></pre>\n<p>Then on application start up I did:</p>\n<pre><code>@Configuration\nclass ChangeStreamConfiguration(\n    private val mongoTemplate: MongoTemplate,\n) {\n    init {\n        mongoTemplate.db.enablePreImageChangeStream(&quot;&lt;collection name here&gt;&quot;)\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77526922,"answer_count":1,"score":0,"last_activity_date":1700618005,"creation_date":1697817324,"question_id":77332298,"body_markdown":"I am currently implementing a Mongo ChangeStream poller in which I would like to monitor a collection for any changes. I was originally intending to write the updates to a change log and trigger some other actions. However, I found out that the `save()` call in Spring Data performs a document replace instead of update. Therefore, I only have access to the new document instead of the delta as would occur during an update.\r\n\r\nThere are two options I see:\r\n\r\n1. Replace the `save` call with something like `updateOne`\r\n2. Update the collection with `changeStreamPreAndPostImages` set to `true` and diff the two documents\r\n\r\nIf I go with option 1, I&#39;m wondering if there is an easy way to generate the update query dynamically based on the existing document and the updated document? Prior to the save/update I fetch the current document and update the values before saving again. I couldn&#39;t find any built in support. I&#39;m guessing I&#39;d have to take a reflection based approach, but I wanted to see if there&#39;s any existing solutions already.","title":"Generating mongodb update query dynamically in Spring Data","body":"<p>I am currently implementing a Mongo ChangeStream poller in which I would like to monitor a collection for any changes. I was originally intending to write the updates to a change log and trigger some other actions. However, I found out that the <code>save()</code> call in Spring Data performs a document replace instead of update. Therefore, I only have access to the new document instead of the delta as would occur during an update.</p>\n<p>There are two options I see:</p>\n<ol>\n<li>Replace the <code>save</code> call with something like <code>updateOne</code></li>\n<li>Update the collection with <code>changeStreamPreAndPostImages</code> set to <code>true</code> and diff the two documents</li>\n</ol>\n<p>If I go with option 1, I'm wondering if there is an easy way to generate the update query dynamically based on the existing document and the updated document? Prior to the save/update I fetch the current document and update the values before saving again. I couldn't find any built in support. I'm guessing I'd have to take a reflection based approach, but I wanted to see if there's any existing solutions already.</p>\n"},{"tags":["java","oracle","jdbc","mybatis","ibatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1684232258,"post_id":76260932,"comment_id":134484278,"body_markdown":"I left a comment on your earlier question, but I think you need to use `java.sql.Struct` there. See the [type handler](https://github.com/harawata/mybatis-issues/blob/master/so-56834806/src/test/java/test/UserListTypeHandler.java) in my demo.","body":"I left a comment on your earlier question, but I think you need to use <code>java.sql.Struct</code> there. See the <a href=\"https://github.com/harawata/mybatis-issues/blob/master/so-56834806/src/test/java/test/UserListTypeHandler.java\" rel=\"nofollow noreferrer\">type handler</a> in my demo."},{"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"score":0,"creation_date":1684303713,"post_id":76260932,"comment_id":134496694,"body_markdown":"Thank you, i had to create a List&lt;Struct&gt; populated with Structs as in your code.","body":"Thank you, i had to create a List&lt;Struct&gt; populated with Structs as in your code."}],"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700617894,"creation_date":1684226252,"question_id":76260932,"body_markdown":"I have an issue in my TypeHandler using MyBatis. In the setParamter method which is called before calling my procedure, I create the java.sql.Array that I have to set in the PreparedStatement. Going in debug I see that the Array is created with his datumArray. This datumArray has correctly 2 internal datumArray that are null in the positions where I should find my Strings. \r\n\r\nThis is what I see in debug as my java.sql.Array arr:\r\n[![PrintScreen of the variables in debug](https://i.stack.imgur.com/tgF9G.png)](https://i.stack.imgur.com/tgF9G.png)\r\n\r\nThis is my TypeHandler:\r\n\r\n```\r\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt; {\r\n\r\n\t@Override\r\n\tpublic void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\r\n\t\t\tthrows SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArray arr = ps.getConnection().unwrap(OracleConnection.class).createOracleArray(&quot;DYNAPP.V_ELENCO_CAMPI_MODIFICATI&quot;, Arrays.stream(parameter.getCampiModificati()).toArray());\r\n\t\tps.setArray(i, arr);\r\n\t}\r\n```\r\n\r\nThis is the parameter that is given to the setParameter method:\r\n\r\n```\r\n\t\tCampoModificato mod = new CampoModificato(&quot;CAMPO_MODIFICATO&quot;,&quot;VALORE_OLD&quot;,&quot;VALORE_NEW&quot;);\r\n\t\tCampoModificato mod1 = new CampoModificato(&quot;CAMPO_MODIFICATO1&quot;,&quot;VALORE_OLD1&quot;,&quot;VALORE_NEW1&quot;);\r\n\t\tCampoModificato[] arr = new CampoModificato[] {mod, mod1};\r\nElencoCampiModificati elenco = new ElencoCampiModificati(arr);\r\n```\r\n\r\nThis is the structure of ElencoCampiModificati:\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\n\r\npublic class ElencoCampiModificati implements Array{\r\n\tprivate CampoModificato[] campiModificati;\r\n\t\r\n\tpublic ElencoCampiModificati() {}\r\n\r\n\tpublic ElencoCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\tpublic CampoModificato[] getCampiModificati() {\r\n\t\treturn campiModificati;\r\n\t}\r\n\r\n\tpublic void setCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getBaseTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getBaseType() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray(index, count);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void free() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThis is the CampoModificato:\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.SQLData;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLInput;\r\nimport java.sql.SQLOutput;\r\n\r\npublic class CampoModificato implements SQLData, Serializable{\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate String nome_campo;\r\n\tprivate String valore_old;\r\n\tprivate String valore_new;\r\n\t\r\n\tpublic CampoModificato() {}\r\n\t\r\n\tpublic CampoModificato(String nome_campo, String valore_old, String valore_new) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t\tthis.valore_old = valore_old;\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\tpublic String getNomeCampo() {\r\n\t\treturn nome_campo;\r\n\t}\r\n\tpublic void setNomeCampo(String nome_campo) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t}\r\n\tpublic String getValoreOld() {\r\n\t\treturn valore_old;\r\n\t}\r\n\tpublic void setValoreOld(String valore_old) {\r\n\t\tthis.valore_old = valore_old;\r\n\t}\r\n\tpublic String getValoreNew() {\r\n\t\treturn valore_new;\r\n\t}\r\n\tpublic void setValoreNew(String valore_new) {\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getSQLTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;TY_CAMPI_MODIFICATI&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput stream) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI was trying to use others objects as ArrayDescriptor or ARRAY but are deprecated. I tried to use ps.getConnection().unwrap(OracleConnection.class).createARRAY or ps.getConnection().unwrap(OracleConnection.class).createArrayOf methods but the result is the same.","title":"CreateOracleArray of OracleConnection always create an array internally null","body":"<p>I have an issue in my TypeHandler using MyBatis. In the setParamter method which is called before calling my procedure, I create the java.sql.Array that I have to set in the PreparedStatement. Going in debug I see that the Array is created with his datumArray. This datumArray has correctly 2 internal datumArray that are null in the positions where I should find my Strings.</p>\n<p>This is what I see in debug as my java.sql.Array arr:\n<a href=\"https://i.stack.imgur.com/tgF9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgF9G.png\" alt=\"PrintScreen of the variables in debug\" /></a></p>\n<p>This is my TypeHandler:</p>\n<pre><code>public class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt; {\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\n            throws SQLException {\n        // TODO Auto-generated method stub\n        Array arr = ps.getConnection().unwrap(OracleConnection.class).createOracleArray(&quot;DYNAPP.V_ELENCO_CAMPI_MODIFICATI&quot;, Arrays.stream(parameter.getCampiModificati()).toArray());\n        ps.setArray(i, arr);\n    }\n</code></pre>\n<p>This is the parameter that is given to the setParameter method:</p>\n<pre><code>        CampoModificato mod = new CampoModificato(&quot;CAMPO_MODIFICATO&quot;,&quot;VALORE_OLD&quot;,&quot;VALORE_NEW&quot;);\n        CampoModificato mod1 = new CampoModificato(&quot;CAMPO_MODIFICATO1&quot;,&quot;VALORE_OLD1&quot;,&quot;VALORE_NEW1&quot;);\n        CampoModificato[] arr = new CampoModificato[] {mod, mod1};\nElencoCampiModificati elenco = new ElencoCampiModificati(arr);\n</code></pre>\n<p>This is the structure of ElencoCampiModificati:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class ElencoCampiModificati implements Array{\n    private CampoModificato[] campiModificati;\n    \n    public ElencoCampiModificati() {}\n\n    public ElencoCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    public CampoModificato[] getCampiModificati() {\n        return campiModificati;\n    }\n\n    public void setCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n         return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray(index, count);\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n</code></pre>\n<p>This is the CampoModificato:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.io.Serializable;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\n\npublic class CampoModificato implements SQLData, Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String nome_campo;\n    private String valore_old;\n    private String valore_new;\n    \n    public CampoModificato() {}\n    \n    public CampoModificato(String nome_campo, String valore_old, String valore_new) {\n        this.nome_campo = nome_campo;\n        this.valore_old = valore_old;\n        this.valore_new = valore_new;\n    }\n    public String getNomeCampo() {\n        return nome_campo;\n    }\n    public void setNomeCampo(String nome_campo) {\n        this.nome_campo = nome_campo;\n    }\n    public String getValoreOld() {\n        return valore_old;\n    }\n    public void setValoreOld(String valore_old) {\n        this.valore_old = valore_old;\n    }\n    public String getValoreNew() {\n        return valore_new;\n    }\n    public void setValoreNew(String valore_new) {\n        this.valore_new = valore_new;\n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return &quot;TY_CAMPI_MODIFICATI&quot;;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>I was trying to use others objects as ArrayDescriptor or ARRAY but are deprecated. I tried to use ps.getConnection().unwrap(OracleConnection.class).createARRAY or ps.getConnection().unwrap(OracleConnection.class).createArrayOf methods but the result is the same.</p>\n"},{"tags":["java","logging","intellij-idea","live-templates"],"comments":[{"owner":{"account_id":2228996,"reputation":15977,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":0,"creation_date":1439842304,"post_id":32058864,"comment_id":52016553,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/6097646/intellij-live-template","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6097646/intellij-live-template\" title=\"intellij live template\">stackoverflow.com/questions/6097646/intellij-live-template</a>"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439842638,"creation_date":1439842638,"answer_id":32058985,"question_id":32058864,"body_markdown":"Not by default but you can create a new one with the live template:\r\n\r\nSee this: \r\nhttps://stackoverflow.com/questions/6097646/intellij-live-template","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Not by default but you can create a new one with the live template:</p>\n\n<p>See this: \n<a href=\"https://stackoverflow.com/questions/6097646/intellij-live-template\">Intellij Live Template</a></p>\n"},{"tags":[],"owner":{"account_id":1390443,"reputation":8438,"user_id":1321404,"accept_rate":100,"display_name":"Dmitry Zagorulkin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439842907,"creation_date":1439842907,"answer_id":32059061,"question_id":32058864,"body_markdown":"you can add template by adding following code in:\r\n\r\n`Settings -&gt; Editor -&gt; File and Code Templates -&gt; class`\r\n\r\n`private static final Logger log = LoggerFactory.getLogger(${NAME}.class);`\r\n\r\n","title":"How to enter logger definition in IntelliJ fast?","body":"<p>you can add template by adding following code in:</p>\n\n<p><code>Settings -&gt; Editor -&gt; File and Code Templates -&gt; class</code></p>\n\n<p><code>private static final Logger log = LoggerFactory.getLogger(${NAME}.class);</code></p>\n"},{"tags":[],"owner":{"account_id":57645,"reputation":3295,"user_id":5162063,"display_name":"mzc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439888160,"creation_date":1439844629,"answer_id":32059465,"question_id":32058864,"body_markdown":"Have you tried [Lombok][1]? It&#39;s not a live template, but it helps with a lot of boilerplate code (getters/setters, equals, hash codes, loggers...)\r\n\r\nTo create a logger, annotate your class with `@Log`/`@Slf4j`/`@CommonsLog` and Lombok will create a static field `log` for you to use.\r\n\r\nIt plays well with IntelliJ - IDE plugin will inject the bolierplate code in your class during compilation phase while keeping your sources lean.\r\n\r\n  [1]: https://projectlombok.org/features/","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Have you tried <a href=\"https://projectlombok.org/features/\" rel=\"nofollow\">Lombok</a>? It's not a live template, but it helps with a lot of boilerplate code (getters/setters, equals, hash codes, loggers...)</p>\n\n<p>To create a logger, annotate your class with <code>@Log</code>/<code>@Slf4j</code>/<code>@CommonsLog</code> and Lombok will create a static field <code>log</code> for you to use.</p>\n\n<p>It plays well with IntelliJ - IDE plugin will inject the bolierplate code in your class during compilation phase while keeping your sources lean.</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1439890993,"creation_date":1439890993,"answer_id":32068897,"question_id":32058864,"body_markdown":"I am using this live template:\r\n\r\n    private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( $CLASSNAME$.class );\r\n\r\nGo to &quot;Edit variables&quot; and set the `CLASSNAME` variable to be the expression `className()` so IntelliJ will automatically insert the class name.\r\n\r\nFurther, enable the checkbox &#39;Shorten FQ names&#39; so IntelliJ will use import statements.","title":"How to enter logger definition in IntelliJ fast?","body":"<p>I am using this live template:</p>\n\n<pre><code>private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( $CLASSNAME$.class );\n</code></pre>\n\n<p>Go to \"Edit variables\" and set the <code>CLASSNAME</code> variable to be the expression <code>className()</code> so IntelliJ will automatically insert the class name.</p>\n\n<p>Further, enable the checkbox 'Shorten FQ names' so IntelliJ will use import statements.</p>\n"},{"tags":[],"owner":{"account_id":11185263,"reputation":3857,"user_id":8207836,"display_name":"huytmb"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1700616774,"creation_date":1596779395,"answer_id":63295940,"question_id":32058864,"body_markdown":"Using IntelliJ Live Template:\r\n\r\n    Settings -&gt; Editor -&gt; Live Templates\r\n    \r\nSetting like below:\r\n\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASSNAME$.class);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kf2mU.png\r\n\r\nTo expand a code snippet, type &quot;**logger**&quot; and press **Tab**","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Using IntelliJ Live Template:</p>\n<pre><code>Settings -&gt; Editor -&gt; Live Templates\n</code></pre>\n<p>Setting like below:</p>\n<pre><code>private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASSNAME$.class);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kf2mU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kf2mU.png\" alt=\"enter image description here\" /></a></p>\n<p>To expand a code snippet, type &quot;<strong>logger</strong>&quot; and press <strong>Tab</strong></p>\n"}],"owner":{"account_id":94736,"reputation":48411,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7393,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":5,"score":20,"last_activity_date":1700616774,"creation_date":1439842224,"question_id":32058864,"body_markdown":"Are there some live template or something, to add logger definition into a class?\r\n\r\nIn Eclipse I had a template:\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(${enclosing_type}.class);\r\n\r\nDon&#39;t see something about this in [Log Support plugin][1].\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/?idea&amp;id=4953","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Are there some live template or something, to add logger definition into a class?</p>\n\n<p>In Eclipse I had a template:</p>\n\n<pre><code>private static final Logger log = LoggerFactory.getLogger(${enclosing_type}.class);\n</code></pre>\n\n<p>Don't see something about this in <a href=\"https://plugins.jetbrains.com/plugin/?idea&amp;id=4953\" rel=\"noreferrer\">Log Support plugin</a>.</p>\n"},{"tags":["java","hadoop","pyspark"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700049893,"post_id":77487178,"comment_id":136606587,"body_markdown":"Please use the correct [code format](https://stackoverflow.com/editing-help#code) and do not use images for code, data, error messages, etc. Copy or type the text into the question. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please use the correct <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> and do not use images for code, data, error messages, etc. Copy or type the text into the question. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":7920486,"reputation":58,"user_id":5981641,"display_name":"zmbc"},"score":0,"creation_date":1700615296,"post_id":77487178,"comment_id":136675715,"body_markdown":"I just ran into this as well, and the recency of this question makes me think it may be a version mismatch issue caused by a recent release. I&#39;ll debug this and report back if I figure anything out.","body":"I just ran into this as well, and the recency of this question makes me think it may be a version mismatch issue caused by a recent release. I&#39;ll debug this and report back if I figure anything out."}],"answers":[{"tags":[],"owner":{"account_id":7920486,"reputation":58,"user_id":5981641,"display_name":"zmbc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700616226,"creation_date":1700616226,"answer_id":77526845,"question_id":77487178,"body_markdown":"I don&#39;t understand Spark very well, but I was able to fix this issue by upgrading Spark. The version numbers of PySpark and Spark itself matched exactly both times it was working for me, which makes me think they may have to be kept in lockstep -- perhaps someone else can confirm this.\r\n\r\nI had previously used PySpark 3.4.1 with Spark 3.4.1. I just upgraded PySpark to 3.5.0 and saw this error with Spark 3.4.1. Upgrading Spark itself to 3.5.0 resolved it.","title":"Error : py4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist","body":"<p>I don't understand Spark very well, but I was able to fix this issue by upgrading Spark. The version numbers of PySpark and Spark itself matched exactly both times it was working for me, which makes me think they may have to be kept in lockstep -- perhaps someone else can confirm this.</p>\n<p>I had previously used PySpark 3.4.1 with Spark 3.4.1. I just upgraded PySpark to 3.5.0 and saw this error with Spark 3.4.1. Upgrading Spark itself to 3.5.0 resolved it.</p>\n"}],"owner":{"account_id":27242446,"reputation":21,"user_id":20768394,"display_name":"Quốc Ph&#250;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700616226,"creation_date":1700046079,"question_id":77487178,"body_markdown":"i am using Pyspark 3.4.1, java 8, hadoop 3.4.0, scala 2.12.17, python 3.11.4 and this is my code in vscode :\r\n```\r\ndef calculating_click(df):\r\n    click_data = df.filter((df.custom_track == &quot;click&quot;))\r\n    click_data = click_data.na.fill({&#39;bid&#39;:0})\r\n    click_data = click_data.na.fill({&#39;job_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;publisher_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;group_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;campaign_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;campaign_id&#39;:0})\r\n    click_data.registerTempTable(&#39;clicks&#39;) #name temporary table &#39;clicks&#39;\r\n    click_output = spark.sql(&quot;&quot;&quot;select job_id,date(ts) as date,hour(ts) as hour,publisher_id,campaign_id,group_id, avg(bid) as bid_set,count(*) as clicks, sum(bid) as spend_hour from clicks`group by job_id, date(ts), hour(ts),publisher_id, campaign_id, group_id &quot;&quot;&quot;)`\r\n\r\n```\r\n\r\nI got this error : \r\n\r\n```\r\nPy4JError: An error occurred while calling o28.sql. Trace:\r\npy4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist\r\n\tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:321)\r\n\tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:329)\r\n\tat py4j.Gateway.invoke(Gateway.java:274)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n[enter image description here](https://i.stack.imgur.com/gmywH.png)\r\n[enter image description here](https://i.stack.imgur.com/ReZc5.png)\r\n[enter image description here](https://i.stack.imgur.com/K5UJP.png)\r\nCould anyone help me fix this ?\r\nI&#39;m trying using pyspark but got error every time, which version of spark,hadoop,java should i use ?","title":"Error : py4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist","body":"<p>i am using Pyspark 3.4.1, java 8, hadoop 3.4.0, scala 2.12.17, python 3.11.4 and this is my code in vscode :</p>\n<pre><code>def calculating_click(df):\n    click_data = df.filter((df.custom_track == &quot;click&quot;))\n    click_data = click_data.na.fill({'bid':0})\n    click_data = click_data.na.fill({'job_id':0})\n    click_data = click_data.na.fill({'publisher_id':0})\n    click_data = click_data.na.fill({'group_id':0})\n    click_data = click_data.na.fill({'campaign_id':0})\n    click_data = click_data.na.fill({'campaign_id':0})\n    click_data.registerTempTable('clicks') #name temporary table 'clicks'\n    click_output = spark.sql(&quot;&quot;&quot;select job_id,date(ts) as date,hour(ts) as hour,publisher_id,campaign_id,group_id, avg(bid) as bid_set,count(*) as clicks, sum(bid) as spend_hour from clicks`group by job_id, date(ts), hour(ts),publisher_id, campaign_id, group_id &quot;&quot;&quot;)`\n\n</code></pre>\n<p>I got this error :</p>\n<pre><code>Py4JError: An error occurred while calling o28.sql. Trace:\npy4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:321)\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:329)\n    at py4j.Gateway.invoke(Gateway.java:274)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gmywH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/ReZc5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/K5UJP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCould anyone help me fix this ?\nI'm trying using pyspark but got error every time, which version of spark,hadoop,java should i use ?</p>\n"},{"tags":["java","gradle","build.gradle","gradle-task"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700616212,"creation_date":1700237223,"answer_id":77503049,"question_id":77459868,"body_markdown":"Few points to mention:\r\n\r\n- `doLast` is an action to a task. It runs at the end of the task. \r\n\r\n- Your gradle task `continuous-build` depends on the `compileJava` task via this line `dependsOn tasks.compileJava` which means that if `compileJava` task fails, i.e, compilation of Java classes fail then `doLast` task action will not be executed from your `continuous-build` task. So, that&#39;s why the file is not created/updated.\r\n\r\n- This line `onlyIf { !compileJava.state.upToDate }` from the `continuous-build` gradle task tells that any task action will be executed only if the `compileJava` task state is changed. In simple words, if you do a code change in your Java classes, then `doLast` action will be executed from your `continuous-build` task, otherwise it will be skipped from the execution.\r\n\r\nSo, your `doLast` action depends on these two lines `dependsOn tasks.compileJava` and `onlyIf { !compileJava.state.upToDate }` completely.\r\n\r\nTo demonstrate, I have updated your gradle task a little bit to explain.\r\n\r\n\r\n    import java.time.Instant\r\n    \r\n    tasks.register(&#39;continuous-build&#39;) {\r\n        dependsOn tasks.compileJava\r\n        onlyIf { !compileJava.state.upToDate }\r\n        logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\r\n        doLast {\r\n            def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\r\n            def created = file.createNewFile();\r\n            logger.lifecycle(&quot;File created status :&quot; + created);\r\n            file.setLastModified(Instant.now().toEpochMilli())\r\n            logger.lifecycle(&quot;Last modified timestamp of the file: &quot; + file.lastModified());\r\n            logger.lifecycle(&quot;This message is never seen&quot;)\r\n        }\r\n    } \r\n\r\n**First time Execution:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Second time Execution (with no change in Java classes):**\r\n\r\n`doLast` task action will not be executed as explained in the point (because of this line `onlyIf { !compileJava.state.upToDate }`).\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Third Time Execution (with the modification in a Java class):**\r\n\r\nThe `doLast` task action will be executed and this will trigger the file to be updated instead of creation although the timestamp will be changed this time.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Fourth Time Execution (with the modification in a Java class with an error):**\r\n\r\nThe `doLast` task action will not be executed due to the compilation error in one of the Java classes detected by the `compileJava` task and the `continuous-build` task depends on `compileJava`.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Fifth time Execution (with no error, i.e, reverted the changes)**: In this case, the **third time execution scenario** is repeated again.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwpdm.png\r\n  [2]: https://i.stack.imgur.com/zTVs7.png\r\n  [3]: https://i.stack.imgur.com/gKVYu.png\r\n  [4]: https://i.stack.imgur.com/YXTaR.png\r\n  [5]: https://i.stack.imgur.com/re3aY.png\r\n  [6]: https://i.stack.imgur.com/QyGvd.png","title":"Gradle continuous build behaves odd","body":"<p>Few points to mention:</p>\n<ul>\n<li><p><code>doLast</code> is an action to a task. It runs at the end of the task.</p>\n</li>\n<li><p>Your gradle task <code>continuous-build</code> depends on the <code>compileJava</code> task via this line <code>dependsOn tasks.compileJava</code> which means that if <code>compileJava</code> task fails, i.e, compilation of Java classes fail then <code>doLast</code> task action will not be executed from your <code>continuous-build</code> task. So, that's why the file is not created/updated.</p>\n</li>\n<li><p>This line <code>onlyIf { !compileJava.state.upToDate }</code> from the <code>continuous-build</code> gradle task tells that any task action will be executed only if the <code>compileJava</code> task state is changed. In simple words, if you do a code change in your Java classes, then <code>doLast</code> action will be executed from your <code>continuous-build</code> task, otherwise it will be skipped from the execution.</p>\n</li>\n</ul>\n<p>So, your <code>doLast</code> action depends on these two lines <code>dependsOn tasks.compileJava</code> and <code>onlyIf { !compileJava.state.upToDate }</code> completely.</p>\n<p>To demonstrate, I have updated your gradle task a little bit to explain.</p>\n<pre><code>import java.time.Instant\n\ntasks.register('continuous-build') {\n    dependsOn tasks.compileJava\n    onlyIf { !compileJava.state.upToDate }\n    logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\n    doLast {\n        def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\n        def created = file.createNewFile();\n        logger.lifecycle(&quot;File created status :&quot; + created);\n        file.setLastModified(Instant.now().toEpochMilli())\n        logger.lifecycle(&quot;Last modified timestamp of the file: &quot; + file.lastModified());\n        logger.lifecycle(&quot;This message is never seen&quot;)\n    }\n} \n</code></pre>\n<p><strong>First time Execution:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zwpdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwpdm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zTVs7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTVs7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Second time Execution (with no change in Java classes):</strong></p>\n<p><code>doLast</code> task action will not be executed as explained in the point (because of this line <code>onlyIf { !compileJava.state.upToDate }</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/gKVYu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKVYu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Third Time Execution (with the modification in a Java class):</strong></p>\n<p>The <code>doLast</code> task action will be executed and this will trigger the file to be updated instead of creation although the timestamp will be changed this time.</p>\n<p><a href=\"https://i.stack.imgur.com/YXTaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXTaR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Fourth Time Execution (with the modification in a Java class with an error):</strong></p>\n<p>The <code>doLast</code> task action will not be executed due to the compilation error in one of the Java classes detected by the <code>compileJava</code> task and the <code>continuous-build</code> task depends on <code>compileJava</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/re3aY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/re3aY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Fifth time Execution (with no error, i.e, reverted the changes)</strong>: In this case, the <strong>third time execution scenario</strong> is repeated again.</p>\n<p><a href=\"https://i.stack.imgur.com/QyGvd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyGvd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77503049,"answer_count":1,"score":2,"last_activity_date":1700616212,"creation_date":1699617792,"question_id":77459868,"body_markdown":"Gradle is a magic box for me. I often don&#39;t get it and always do try and error.\r\nI use gradle 8.1 and groovy scripts. I have this small task \r\n\r\n    import java.time.Instant\r\n    \r\n    tasks.register(&#39;continuous-build&#39;) {\r\n        dependsOn tasks.compileJava\r\n        onlyIf { !compileJava.state.upToDate }\r\n        logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\r\n        doLast {\r\n            def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\r\n            file.createNewFile();\r\n            file.setLastModified(Instant.now().toEpochMilli())\r\n            logger.lifecycle(&quot;This message is never seen&quot;)\r\n        }\r\n    }\r\n\r\nI want this task to run with --continuous-build and just touch a file if it&#39;s done compiling. \r\n\r\nthis is what I do:\r\n\r\n**Run ./gradlew continuous-build --continuous**\r\n\r\n    $ ./gradlew continuous-build --continuous\r\n    Reload triggered at 2023-11-10T11:48:50.446501720Z   \r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 5 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\n**Make a small change to Main.java which compiles fine**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...\r\n    Reload triggered at 2023-11-10T11:49:02.870526619Z\r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 2 from cache, 3 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is changed. That is what I want.\r\n\r\n**Make a small change to Main.java which compiles with error**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...   \r\n    Reload triggered at 2023-11-10T11:49:09.303034432Z    \r\n    &gt; Task :compileJava FAILED\r\n    [...]Main.java:22: error: &lt;identifier&gt; expected\r\n        publi static final String ANSWER = &quot;42&quot;;\r\n             ^\r\n    1 error\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.   \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.    \r\n    * Get more help at https://help.gradle.org    \r\n    BUILD FAILED in 1s\r\n    3 actionable tasks: 2 executed, 1 up-to-date    \r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is **NOT** changed. That is what I want as it compiled with an error.\r\n\r\n**Make a small change to Main.java which compiles fine again**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...\r\n    Reload triggered at 2023-11-10T11:49:14.192599979Z\r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 5 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is **NOT** changed anymore even the compilation succeeded. How can I achieve a file touch cmd if compileJava was successful.\r\n\r\nAnd why is the second logging message never seen?\r\n\r\nPS I have shortened the output a little bit to make it more readable\r\n\r\n\r\n\r\n","title":"Gradle continuous build behaves odd","body":"<p>Gradle is a magic box for me. I often don't get it and always do try and error.\nI use gradle 8.1 and groovy scripts. I have this small task</p>\n<pre><code>import java.time.Instant\n\ntasks.register('continuous-build') {\n    dependsOn tasks.compileJava\n    onlyIf { !compileJava.state.upToDate }\n    logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\n    doLast {\n        def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\n        file.createNewFile();\n        file.setLastModified(Instant.now().toEpochMilli())\n        logger.lifecycle(&quot;This message is never seen&quot;)\n    }\n}\n</code></pre>\n<p>I want this task to run with --continuous-build and just touch a file if it's done compiling.</p>\n<p>this is what I do:</p>\n<p><strong>Run ./gradlew continuous-build --continuous</strong></p>\n<pre><code>$ ./gradlew continuous-build --continuous\nReload triggered at 2023-11-10T11:48:50.446501720Z   \nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 5 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p><strong>Make a small change to Main.java which compiles fine</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...\nReload triggered at 2023-11-10T11:49:02.870526619Z\nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 2 from cache, 3 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is changed. That is what I want.</p>\n<p><strong>Make a small change to Main.java which compiles with error</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...   \nReload triggered at 2023-11-10T11:49:09.303034432Z    \n&gt; Task :compileJava FAILED\n[...]Main.java:22: error: &lt;identifier&gt; expected\n    publi static final String ANSWER = &quot;42&quot;;\n         ^\n1 error\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.   \n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.    \n* Get more help at https://help.gradle.org    \nBUILD FAILED in 1s\n3 actionable tasks: 2 executed, 1 up-to-date    \nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is <strong>NOT</strong> changed. That is what I want as it compiled with an error.</p>\n<p><strong>Make a small change to Main.java which compiles fine again</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...\nReload triggered at 2023-11-10T11:49:14.192599979Z\nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 5 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is <strong>NOT</strong> changed anymore even the compilation succeeded. How can I achieve a file touch cmd if compileJava was successful.</p>\n<p>And why is the second logging message never seen?</p>\n<p>PS I have shortened the output a little bit to make it more readable</p>\n"},{"tags":["java","serialization","jackson","jackson-databind","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":22801078,"reputation":79,"user_id":16953739,"display_name":"Joshua Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700615932,"creation_date":1700615060,"answer_id":77526785,"question_id":77483790,"body_markdown":"Here is my final working solution.  I almost think it&#39;s a bug that serializers which were assigned via annotation are NOT processed by `SerializerModifiers` attached to the `ObjectMapper`.  Nothing in the documentation says they&#39;ll &quot;modify serializers, but oh, not those serializers.&quot;  My solution is a bit hacky, but it works.\r\n\r\nFirst, a custom `BeanSerializerFactory` to add running the modifiers if the serializer is found via annotation.  This happens right at the beginning of the overridden method anyway.\r\n\r\n```java\r\npublic class FixedBeanSerializerFactory extends BeanSerializerFactory {\r\n    public FixedBeanSerializerFactory(SerializerFactoryConfig config) {\r\n        super(config);\r\n    }\r\n\r\n    @Override\r\n    public JsonSerializer&lt;Object&gt; createSerializer(SerializerProvider prov, JavaType origType)\r\n            throws JsonMappingException {\r\n\r\n        // Very first thing, let&#39;s check if there is explicit serializer annotation:\r\n        final SerializationConfig config = prov.getConfig();\r\n        BeanDescription beanDesc = config.introspect(origType);\r\n        JsonSerializer&lt;?&gt; ser = findSerializerFromAnnotation(prov, beanDesc.getClassInfo());\r\n        if (ser != null) {\r\n            if (_factoryConfig.hasSerializerModifiers()) {\r\n                for (BeanSerializerModifier mod : _factoryConfig.serializerModifiers()) {\r\n                    ser = mod.modifySerializer(config, beanDesc, ser);\r\n                }\r\n            }\r\n            return (JsonSerializer&lt;Object&gt;) ser;\r\n        }\r\n\r\n        return super.createSerializer(prov, origType);\r\n    }\r\n\r\n    @Override\r\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\r\n        return new FixedBeanSerializerFactory(config);\r\n    }\r\n}\r\n```\r\n\r\nNow, this `DepthLimitedSerializer` is a LOT longer than it needs to be, mostly because I had to duplicate a lot of the code from `BeanSerailzier`.  Why, you ask?  Because the `serialize` method in `BeanSerializer` is final, so I can&#39;t override it.  Instead, I&#39;m forced to override `BeanSerializerBase` and copy a bunch of code from it.\r\n\r\n```java\r\npublic class DepthLimitedSerializer extends BeanSerializerBase {\r\n    public static final int DEFAULT_DEPTH = 2;\r\n\r\n    private static final ObjectMapper jackson = new ObjectMapper();\r\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\r\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\r\n\r\n    public static JsonSerializer&lt;Object&gt; forSerializer(JsonSerializer&lt;Object&gt; serializer,\r\n                                                       BeanDescription beanDesc,\r\n                                                       int depth) {\r\n\r\n        if (serializer instanceof BeanSerializerBase) {\r\n            return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\r\n\r\n        } else {\r\n            BeanSerializerBuilder builder = new BeanSerializerBuilder(beanDesc);\r\n            JavaType type = jackson.constructType(serializer.handledType());\r\n            BeanPropertyWriter[] properties = {};\r\n            BeanPropertyWriter[] filteredProperties = {};\r\n            maxDepth.set(depth);\r\n            return new DepthLimitedSerializer(serializer, type, builder, properties, filteredProperties);\r\n        }\r\n    }\r\n\r\n    protected JsonSerializer&lt;Object&gt; src;\r\n\r\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\r\n        super(src);\r\n        this.src = src;\r\n        maxDepth.set(depth);\r\n    }\r\n\r\n    protected DepthLimitedSerializer(DepthLimitedSerializer depthLimitedSerializer,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(depthLimitedSerializer, properties, filteredProperties);\r\n        this.src = depthLimitedSerializer;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(JsonSerializer&lt;Object&gt; src, JavaType type, BeanSerializerBuilder builder,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(type, builder, properties, filteredProperties);\r\n        this.src = src;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(BeanSerializerBase src, ObjectIdWriter objectIdWriter, Object filterId) {\r\n        super(src, objectIdWriter, filterId);\r\n        this.src = src;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(BeanSerializerBase src,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(src, properties, filteredProperties);\r\n        this.src = src;\r\n    }\r\n\r\n    @Override\r\n    public BeanSerializerBase withObjectIdWriter(ObjectIdWriter objectIdWriter) {\r\n        return new DepthLimitedSerializer(this, objectIdWriter, _propertyFilterId);\r\n    }\r\n\r\n    @Override\r\n    protected BeanSerializerBase withByNameInclusion(Set&lt;String&gt; toIgnore, Set&lt;String&gt; toInclude) {\r\n        return null;\r\n    }\r\n\r\n    @Override // @since 2.11.1\r\n    protected BeanSerializerBase withProperties(BeanPropertyWriter[] properties,\r\n                                                BeanPropertyWriter[] filteredProperties) {\r\n        return new DepthLimitedSerializer(this, properties, filteredProperties);\r\n    }\r\n\r\n    @Override\r\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n            currentDepth.set(currentDepth.get() + 1);\r\n\r\n            super.serializeFields(bean, gen, provider);\r\n\r\n            currentDepth.set(currentDepth.get() - 1);\r\n        } else {\r\n            try {\r\n                JsonDepthLimited depthAnnotation = bean.getClass().getAnnotation(JsonDepthLimited.class);\r\n                String defaultFieldName = depthAnnotation.defaultField();\r\n                boolean includeNulls = depthAnnotation.includeNulls();\r\n                if (StringUtils.isNotEmpty(defaultFieldName)) {\r\n                    if (!includeNulls) {\r\n                        Arrays.stream(_props).\r\n                                filter(p -&gt; p.getName().equals(defaultFieldName))\r\n                                .findFirst().orElseThrow()\r\n                                .serializeAsField(bean, gen, provider);\r\n                    } else {\r\n                        Arrays.stream(_props).forEach(p -&gt; {\r\n                            try {\r\n                                if (p.getName().equals(defaultFieldName)) {\r\n                                    p.serializeAsField(bean, gen, provider);\r\n                                } else {\r\n                                    gen.writeNullField(p.getName());\r\n                                }\r\n                            } catch (Exception e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected BeanSerializerBase asArraySerializer() {\r\n        if ((_objectIdWriter == null)\r\n                &amp;&amp; (_anyGetterWriter == null)\r\n                &amp;&amp; (_propertyFilterId == null)\r\n        ) {\r\n            return new BeanAsArraySerializer(this);\r\n        }\r\n        // already is one, so:\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public BeanSerializerBase withFilterId(Object filterId) {\r\n        return new DepthLimitedSerializer(this, _objectIdWriter, filterId);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Object bean, JsonGenerator gen, SerializerProvider provider)\r\n            throws IOException {\r\n\r\n        if (src == null || src instanceof BeanSerializerBase) {\r\n            if (_objectIdWriter != null) {\r\n                gen.setCurrentValue(bean); // [databind#631]\r\n                _serializeWithObjectId(bean, gen, provider, true);\r\n                return;\r\n            }\r\n            gen.writeStartObject(bean);\r\n            if (_propertyFilterId != null) {\r\n                serializeFieldsFiltered(bean, gen, provider);\r\n            } else {\r\n                serializeFields(bean, gen, provider);\r\n            }\r\n            gen.writeEndObject();\r\n\r\n        } else {\r\n            if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n                Class&lt;?&gt; t = src.handledType();\r\n                src.serialize(t.cast(bean), gen, provider);\r\n            } else {\r\n                gen.writeNull();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override public String toString() {\r\n        return &quot;DepthAwareSerializer for &quot; + handledType().getName();\r\n    }\r\n}\r\n```\r\n\r\nThis annotation marks the classes included and lets us pass a few arguments.\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\npublic @interface JsonDepthLimited {\r\n    String defaultField() default StringUtils.EMPTY;\r\n    boolean includeNulls() default false;\r\n}\r\n```\r\n\r\nAnd here is our POJO hierarchy to demonstrate:\r\n```java\r\n@JsonDepthLimited(defaultField = &quot;id&quot;)\r\n@Getter @Setter\r\npublic class BaseClass {\r\n    private String id;\r\n    private String someBaseProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\n@JsonSerialize(using = FooSerializer.class)\r\npublic class Foo extends BaseClass {\r\n    private String someFooProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\npublic class Bar extends BaseClass {\r\n    String someBarProperty;\r\n    Foo fooOfBar;\r\n}\r\n```\r\nA custom serializer for `Foo`:\r\n```java\r\npublic class FooSerializer extends StdSerializer&lt;Foo&gt; {\r\n    protected FooSerializer() {\r\n        super(Foo.class);\r\n    }\r\n\r\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\r\n            throws IOException {\r\n        jgen.writeStartObject();\r\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\r\n        jgen.writeEndObject();\r\n    }\r\n}\r\n```\r\nAnd finally, the demonstration:\r\n```java\r\n\r\nclass SerializeTest {\r\n    @Test\r\n    void testSerialization() throws JsonProcessingException {\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;fooID&quot;);\r\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\r\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\r\n\r\n        Bar bar = new Bar();\r\n        bar.setId(&quot;barId&quot;);\r\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\r\n        bar.setFooOfBar(foo);\r\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\r\n\r\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\r\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\r\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\r\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\r\n    }\r\n\r\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\r\n        ObjectMapper jackson = new ObjectMapper();\r\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\r\n        SerializerFactoryConfig factoryConfig = new SerializerFactoryConfig();\r\n        jackson.setSerializerFactory(new FixedBeanSerializerFactory(factoryConfig));\r\n\r\n        if (depth &gt;= 0) {\r\n            SimpleModule fragmentModule = new SimpleModule(&quot;FragmentModule&quot;);\r\n            BeanSerializerModifier modifier = new BeanSerializerModifier() {\r\n                @Override\r\n                public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\r\n                                                          JsonSerializer&lt;?&gt; serializer) {\r\n                    if (beanDesc.getClassAnnotations().has(JsonDepthLimited.class)) {\r\n\r\n                        return DepthLimitedSerializer\r\n                                .forSerializer((JsonSerializer&lt;Object&gt;) serializer, beanDesc, depth);\r\n                    }\r\n                    return serializer;\r\n                }\r\n            };\r\n\r\n            fragmentModule.setSerializerModifier(modifier);\r\n            jackson.registerModule(fragmentModule);\r\n        }\r\n\r\n        return jackson.writeValueAsString(model);\r\n    }\r\n}\r\n```\r\n\r\nAnd here in the final output you can see that the custom serializer runs when the `depth` is set to `1`, but doesn&#39;t run (null is used) when the depth is set to `0`, exactly as it should.\r\n\r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : null\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\n```","title":"Nested objects not being processed by `SerializerModifier` when class has custom Serializer (Jackson)","body":"<p>Here is my final working solution.  I almost think it's a bug that serializers which were assigned via annotation are NOT processed by <code>SerializerModifiers</code> attached to the <code>ObjectMapper</code>.  Nothing in the documentation says they'll &quot;modify serializers, but oh, not those serializers.&quot;  My solution is a bit hacky, but it works.</p>\n<p>First, a custom <code>BeanSerializerFactory</code> to add running the modifiers if the serializer is found via annotation.  This happens right at the beginning of the overridden method anyway.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FixedBeanSerializerFactory extends BeanSerializerFactory {\n    public FixedBeanSerializerFactory(SerializerFactoryConfig config) {\n        super(config);\n    }\n\n    @Override\n    public JsonSerializer&lt;Object&gt; createSerializer(SerializerProvider prov, JavaType origType)\n            throws JsonMappingException {\n\n        // Very first thing, let's check if there is explicit serializer annotation:\n        final SerializationConfig config = prov.getConfig();\n        BeanDescription beanDesc = config.introspect(origType);\n        JsonSerializer&lt;?&gt; ser = findSerializerFromAnnotation(prov, beanDesc.getClassInfo());\n        if (ser != null) {\n            if (_factoryConfig.hasSerializerModifiers()) {\n                for (BeanSerializerModifier mod : _factoryConfig.serializerModifiers()) {\n                    ser = mod.modifySerializer(config, beanDesc, ser);\n                }\n            }\n            return (JsonSerializer&lt;Object&gt;) ser;\n        }\n\n        return super.createSerializer(prov, origType);\n    }\n\n    @Override\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\n        return new FixedBeanSerializerFactory(config);\n    }\n}\n</code></pre>\n<p>Now, this <code>DepthLimitedSerializer</code> is a LOT longer than it needs to be, mostly because I had to duplicate a lot of the code from <code>BeanSerailzier</code>.  Why, you ask?  Because the <code>serialize</code> method in <code>BeanSerializer</code> is final, so I can't override it.  Instead, I'm forced to override <code>BeanSerializerBase</code> and copy a bunch of code from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepthLimitedSerializer extends BeanSerializerBase {\n    public static final int DEFAULT_DEPTH = 2;\n\n    private static final ObjectMapper jackson = new ObjectMapper();\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\n\n    public static JsonSerializer&lt;Object&gt; forSerializer(JsonSerializer&lt;Object&gt; serializer,\n                                                       BeanDescription beanDesc,\n                                                       int depth) {\n\n        if (serializer instanceof BeanSerializerBase) {\n            return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\n\n        } else {\n            BeanSerializerBuilder builder = new BeanSerializerBuilder(beanDesc);\n            JavaType type = jackson.constructType(serializer.handledType());\n            BeanPropertyWriter[] properties = {};\n            BeanPropertyWriter[] filteredProperties = {};\n            maxDepth.set(depth);\n            return new DepthLimitedSerializer(serializer, type, builder, properties, filteredProperties);\n        }\n    }\n\n    protected JsonSerializer&lt;Object&gt; src;\n\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\n        super(src);\n        this.src = src;\n        maxDepth.set(depth);\n    }\n\n    protected DepthLimitedSerializer(DepthLimitedSerializer depthLimitedSerializer,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(depthLimitedSerializer, properties, filteredProperties);\n        this.src = depthLimitedSerializer;\n    }\n\n    protected DepthLimitedSerializer(JsonSerializer&lt;Object&gt; src, JavaType type, BeanSerializerBuilder builder,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(type, builder, properties, filteredProperties);\n        this.src = src;\n    }\n\n    protected DepthLimitedSerializer(BeanSerializerBase src, ObjectIdWriter objectIdWriter, Object filterId) {\n        super(src, objectIdWriter, filterId);\n        this.src = src;\n    }\n\n    protected DepthLimitedSerializer(BeanSerializerBase src,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(src, properties, filteredProperties);\n        this.src = src;\n    }\n\n    @Override\n    public BeanSerializerBase withObjectIdWriter(ObjectIdWriter objectIdWriter) {\n        return new DepthLimitedSerializer(this, objectIdWriter, _propertyFilterId);\n    }\n\n    @Override\n    protected BeanSerializerBase withByNameInclusion(Set&lt;String&gt; toIgnore, Set&lt;String&gt; toInclude) {\n        return null;\n    }\n\n    @Override // @since 2.11.1\n    protected BeanSerializerBase withProperties(BeanPropertyWriter[] properties,\n                                                BeanPropertyWriter[] filteredProperties) {\n        return new DepthLimitedSerializer(this, properties, filteredProperties);\n    }\n\n    @Override\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n            currentDepth.set(currentDepth.get() + 1);\n\n            super.serializeFields(bean, gen, provider);\n\n            currentDepth.set(currentDepth.get() - 1);\n        } else {\n            try {\n                JsonDepthLimited depthAnnotation = bean.getClass().getAnnotation(JsonDepthLimited.class);\n                String defaultFieldName = depthAnnotation.defaultField();\n                boolean includeNulls = depthAnnotation.includeNulls();\n                if (StringUtils.isNotEmpty(defaultFieldName)) {\n                    if (!includeNulls) {\n                        Arrays.stream(_props).\n                                filter(p -&gt; p.getName().equals(defaultFieldName))\n                                .findFirst().orElseThrow()\n                                .serializeAsField(bean, gen, provider);\n                    } else {\n                        Arrays.stream(_props).forEach(p -&gt; {\n                            try {\n                                if (p.getName().equals(defaultFieldName)) {\n                                    p.serializeAsField(bean, gen, provider);\n                                } else {\n                                    gen.writeNullField(p.getName());\n                                }\n                            } catch (Exception e) {\n                                throw new RuntimeException(e);\n                            }\n                        });\n                    }\n\n                }\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    @Override\n    protected BeanSerializerBase asArraySerializer() {\n        if ((_objectIdWriter == null)\n                &amp;&amp; (_anyGetterWriter == null)\n                &amp;&amp; (_propertyFilterId == null)\n        ) {\n            return new BeanAsArraySerializer(this);\n        }\n        // already is one, so:\n        return this;\n    }\n\n    @Override\n    public BeanSerializerBase withFilterId(Object filterId) {\n        return new DepthLimitedSerializer(this, _objectIdWriter, filterId);\n    }\n\n    @Override\n    public void serialize(Object bean, JsonGenerator gen, SerializerProvider provider)\n            throws IOException {\n\n        if (src == null || src instanceof BeanSerializerBase) {\n            if (_objectIdWriter != null) {\n                gen.setCurrentValue(bean); // [databind#631]\n                _serializeWithObjectId(bean, gen, provider, true);\n                return;\n            }\n            gen.writeStartObject(bean);\n            if (_propertyFilterId != null) {\n                serializeFieldsFiltered(bean, gen, provider);\n            } else {\n                serializeFields(bean, gen, provider);\n            }\n            gen.writeEndObject();\n\n        } else {\n            if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n                Class&lt;?&gt; t = src.handledType();\n                src.serialize(t.cast(bean), gen, provider);\n            } else {\n                gen.writeNull();\n            }\n        }\n\n    }\n\n    @Override public String toString() {\n        return &quot;DepthAwareSerializer for &quot; + handledType().getName();\n    }\n}\n</code></pre>\n<p>This annotation marks the classes included and lets us pass a few arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface JsonDepthLimited {\n    String defaultField() default StringUtils.EMPTY;\n    boolean includeNulls() default false;\n}\n</code></pre>\n<p>And here is our POJO hierarchy to demonstrate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDepthLimited(defaultField = &quot;id&quot;)\n@Getter @Setter\npublic class BaseClass {\n    private String id;\n    private String someBaseProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\n@JsonSerialize(using = FooSerializer.class)\npublic class Foo extends BaseClass {\n    private String someFooProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class Bar extends BaseClass {\n    String someBarProperty;\n    Foo fooOfBar;\n}\n</code></pre>\n<p>A custom serializer for <code>Foo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooSerializer extends StdSerializer&lt;Foo&gt; {\n    protected FooSerializer() {\n        super(Foo.class);\n    }\n\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\n            throws IOException {\n        jgen.writeStartObject();\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n<p>And finally, the demonstration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass SerializeTest {\n    @Test\n    void testSerialization() throws JsonProcessingException {\n        Foo foo = new Foo();\n        foo.setId(&quot;fooID&quot;);\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\n\n        Bar bar = new Bar();\n        bar.setId(&quot;barId&quot;);\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\n        bar.setFooOfBar(foo);\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\n\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\n    }\n\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\n        ObjectMapper jackson = new ObjectMapper();\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\n        SerializerFactoryConfig factoryConfig = new SerializerFactoryConfig();\n        jackson.setSerializerFactory(new FixedBeanSerializerFactory(factoryConfig));\n\n        if (depth &gt;= 0) {\n            SimpleModule fragmentModule = new SimpleModule(&quot;FragmentModule&quot;);\n            BeanSerializerModifier modifier = new BeanSerializerModifier() {\n                @Override\n                public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\n                                                          JsonSerializer&lt;?&gt; serializer) {\n                    if (beanDesc.getClassAnnotations().has(JsonDepthLimited.class)) {\n\n                        return DepthLimitedSerializer\n                                .forSerializer((JsonSerializer&lt;Object&gt;) serializer, beanDesc, depth);\n                    }\n                    return serializer;\n                }\n            };\n\n            fragmentModule.setSerializerModifier(modifier);\n            jackson.registerModule(fragmentModule);\n        }\n\n        return jackson.writeValueAsString(model);\n    }\n}\n</code></pre>\n<p>And here in the final output you can see that the custom serializer runs when the <code>depth</code> is set to <code>1</code>, but doesn't run (null is used) when the depth is set to <code>0</code>, exactly as it should.</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : null\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22801078,"reputation":79,"user_id":16953739,"display_name":"Joshua Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77526785,"answer_count":1,"score":1,"last_activity_date":1700615932,"creation_date":1699995483,"question_id":77483790,"body_markdown":"Okay, so I&#39;ve built a functional custom `BeanSerializer`, which limits the depth of serialization, and I can use it as shown by creating a `SerializerModifier` and adding it to module.  This WORKS great and is called each time another nested field is encountered, creating the instance of `DepthLimitedSerializer` perfectly.  HOWEVER, when I add a custom serializer to the nested class (using `@JsonSerialize`), then my `modifySerializer` method NEVER RUNS on the nested field!\r\n\r\nHere is the simple class hierarchy, of which we will serialize the outer instance of `Bar`:\r\n\r\n```java\r\n@Getter @Setter\r\npublic class BaseClass {\r\n    private String id;\r\n    private String someBaseProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\n//@JsonSerialize(using = FooSerializer.class)\r\npublic class Foo extends BaseClass {\r\n    private String someFooProperty;\r\n\r\n}\r\n```\r\n```java \r\n@Getter @Setter\r\npublic class Bar extends BaseClass {\r\n    String someBarProperty;\r\n    Foo fooOfBar;\r\n}\r\n```\r\n\r\nAnd here is the simplified custom serializer to which you pass a `maxDepth` and if it reaches that depth, it ONLY serializes a single (`id`) field, otherwise, it simply calls the `super`:\r\n```java\r\npublic class DepthLimitedSerializer extends BeanSerializer {\r\n    public static int DEFAULT_DEPTH = 2;\r\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\r\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\r\n\r\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\r\n        super(src);\r\n        maxDepth.set(depth);\r\n    }\r\n\r\n    @Override\r\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n            currentDepth.set(currentDepth.get() + 1);\r\n\r\n            super.serializeFields(bean, gen, provider);\r\n\r\n            currentDepth.set(currentDepth.get() - 1);\r\n        } else {\r\n            try {\r\n                Arrays.stream(_props).\r\n                    filter(p -&gt; p.getName().equals(&quot;id&quot;))\r\n                    .findFirst().orElseThrow()\r\n                    .serializeAsField(bean, gen, provider);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this simple test we populate a `Foo` and a `Bar` and serialize them:\r\n```java\r\nclass SerializeTest {\r\n    @Test\r\n    void testSerialization() throws JsonProcessingException {\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;fooID&quot;);\r\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\r\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\r\n\r\n        Bar bar = new Bar();\r\n        bar.setId(&quot;barId&quot;);\r\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\r\n        bar.setFooOfBar(foo);\r\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\r\n\r\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\r\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\r\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\r\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\r\n    }\r\n\r\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\r\n        ObjectMapper jackson = new ObjectMapper();\r\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        SimpleModule module = new SimpleModule(&quot;TestModule&quot;);\r\n        module.setSerializerModifier(new BeanSerializerModifier() {\r\n            @Override\r\n            public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\r\n                                                      JsonSerializer&lt;?&gt; serializer) {\r\n                if (BaseClass.class.isAssignableFrom(beanDesc.getType().getRawClass())) {\r\n                    return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\r\n                }\r\n                return super.modifySerializer(config, beanDesc, serializer);\r\n            }\r\n        });\r\n\r\n        jackson.registerModule(module);\r\n        return jackson.writeValueAsString(model);\r\n    }\r\n}\r\n```\r\n\r\nThis gives us exactly what we expect, notice that with a `depth` of `0`, we only get the `id` field of the nested `Foo fooOfBar`, which is correct, but at a `depth` of `1`, we get the full output.  This works to arbitrary depths just fine, and when it runs, that `modifySerializer` method as well as those in the `DepthLimitedSerializer` all run for EACH nested model! \r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;id&quot; : &quot;fooID&quot;\r\n  }\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;id&quot; : &quot;fooID&quot;,\r\n    &quot;someBaseProperty&quot; : &quot;someBaseValue&quot;,\r\n    &quot;someFooProperty&quot; : &quot;foo property value&quot;\r\n  }\r\n}\r\n```\r\n\r\nHOWEVER!  If one of these subclasses of `BaseClass` requires custom serialization, and I attempt to add a custom serializer for a particular class, like `Foo`:\r\n\r\n```java\r\npublic class FooSerializer extends StdSerializer&lt;Foo&gt; {\r\n\r\n    public FooSerializer() {\r\n        super(Foo.class);\r\n    }\r\n\r\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\r\n            throws IOException {\r\n        jgen.writeStartObject();\r\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\r\n        jgen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nAnd I uncomment the above `@JsonSerialize(using = FooSerializer.class)` line and assign the custom serializer to the class, then my `modifySerializer` method and all others are NEVER RUN for my custom-annotated nested class, and so the `depth` is ignored and the custom serializer just ALWAYS runs:\r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe behavior I would have expected is for the `modifySerializer` method to STILL be run, and then for the `super.modifySerializer()` call to find that the `FooSerializer`, but instead it&#39;s only run for the top-level object (and others, not so custom annotated).\r\n\r\nHow can I achieve this behavior?  I tried to make the custom serializer `extends `DepthLimitedSerializer`, but they are of different types of Jackson `Serializer` and I have thus far been unable to reconcile them and get them to work together in the correct order!  Clearly I can&#39;t use the annotation to assign the serializer, but how can I?\r\n\r\nThank you all.","title":"Nested objects not being processed by `SerializerModifier` when class has custom Serializer (Jackson)","body":"<p>Okay, so I've built a functional custom <code>BeanSerializer</code>, which limits the depth of serialization, and I can use it as shown by creating a <code>SerializerModifier</code> and adding it to module.  This WORKS great and is called each time another nested field is encountered, creating the instance of <code>DepthLimitedSerializer</code> perfectly.  HOWEVER, when I add a custom serializer to the nested class (using <code>@JsonSerialize</code>), then my <code>modifySerializer</code> method NEVER RUNS on the nested field!</p>\n<p>Here is the simple class hierarchy, of which we will serialize the outer instance of <code>Bar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class BaseClass {\n    private String id;\n    private String someBaseProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\n//@JsonSerialize(using = FooSerializer.class)\npublic class Foo extends BaseClass {\n    private String someFooProperty;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class Bar extends BaseClass {\n    String someBarProperty;\n    Foo fooOfBar;\n}\n</code></pre>\n<p>And here is the simplified custom serializer to which you pass a <code>maxDepth</code> and if it reaches that depth, it ONLY serializes a single (<code>id</code>) field, otherwise, it simply calls the <code>super</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepthLimitedSerializer extends BeanSerializer {\n    public static int DEFAULT_DEPTH = 2;\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\n\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\n        super(src);\n        maxDepth.set(depth);\n    }\n\n    @Override\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n            currentDepth.set(currentDepth.get() + 1);\n\n            super.serializeFields(bean, gen, provider);\n\n            currentDepth.set(currentDepth.get() - 1);\n        } else {\n            try {\n                Arrays.stream(_props).\n                    filter(p -&gt; p.getName().equals(&quot;id&quot;))\n                    .findFirst().orElseThrow()\n                    .serializeAsField(bean, gen, provider);\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>In this simple test we populate a <code>Foo</code> and a <code>Bar</code> and serialize them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SerializeTest {\n    @Test\n    void testSerialization() throws JsonProcessingException {\n        Foo foo = new Foo();\n        foo.setId(&quot;fooID&quot;);\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\n\n        Bar bar = new Bar();\n        bar.setId(&quot;barId&quot;);\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\n        bar.setFooOfBar(foo);\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\n\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\n    }\n\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\n        ObjectMapper jackson = new ObjectMapper();\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\n\n        SimpleModule module = new SimpleModule(&quot;TestModule&quot;);\n        module.setSerializerModifier(new BeanSerializerModifier() {\n            @Override\n            public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\n                                                      JsonSerializer&lt;?&gt; serializer) {\n                if (BaseClass.class.isAssignableFrom(beanDesc.getType().getRawClass())) {\n                    return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\n                }\n                return super.modifySerializer(config, beanDesc, serializer);\n            }\n        });\n\n        jackson.registerModule(module);\n        return jackson.writeValueAsString(model);\n    }\n}\n</code></pre>\n<p>This gives us exactly what we expect, notice that with a <code>depth</code> of <code>0</code>, we only get the <code>id</code> field of the nested <code>Foo fooOfBar</code>, which is correct, but at a <code>depth</code> of <code>1</code>, we get the full output.  This works to arbitrary depths just fine, and when it runs, that <code>modifySerializer</code> method as well as those in the <code>DepthLimitedSerializer</code> all run for EACH nested model!</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;id&quot; : &quot;fooID&quot;\n  }\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;id&quot; : &quot;fooID&quot;,\n    &quot;someBaseProperty&quot; : &quot;someBaseValue&quot;,\n    &quot;someFooProperty&quot; : &quot;foo property value&quot;\n  }\n}\n</code></pre>\n<p>HOWEVER!  If one of these subclasses of <code>BaseClass</code> requires custom serialization, and I attempt to add a custom serializer for a particular class, like <code>Foo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooSerializer extends StdSerializer&lt;Foo&gt; {\n\n    public FooSerializer() {\n        super(Foo.class);\n    }\n\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\n            throws IOException {\n        jgen.writeStartObject();\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n<p>And I uncomment the above <code>@JsonSerialize(using = FooSerializer.class)</code> line and assign the custom serializer to the class, then my <code>modifySerializer</code> method and all others are NEVER RUN for my custom-annotated nested class, and so the <code>depth</code> is ignored and the custom serializer just ALWAYS runs:</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\n</code></pre>\n<p>The behavior I would have expected is for the <code>modifySerializer</code> method to STILL be run, and then for the <code>super.modifySerializer()</code> call to find that the <code>FooSerializer</code>, but instead it's only run for the top-level object (and others, not so custom annotated).</p>\n<p>How can I achieve this behavior?  I tried to make the custom serializer <code>extends </code>DepthLimitedSerializer<code>, but they are of different types of Jackson </code>Serializer` and I have thus far been unable to reconcile them and get them to work together in the correct order!  Clearly I can't use the annotation to assign the serializer, but how can I?</p>\n<p>Thank you all.</p>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"score":0,"creation_date":1390281983,"post_id":21231838,"comment_id":32012441,"body_markdown":"As question is voted up by other people, you can update your post with the requirement you had. i.e Why you need ONLY single element to be checked. Basically Tree viewer is used to represent hierarchical data ex: countries can have states and states can have districts etc etc. Surprisingly there is no class called **RadioTreeViewer** in SWT/JFACE where user can select single tree item.","body":"As question is voted up by other people, you can update your post with the requirement you had. i.e Why you need ONLY single element to be checked. Basically Tree viewer is used to represent hierarchical data ex: countries can have states and states can have districts etc etc. Surprisingly there is no class called <b>RadioTreeViewer</b> in SWT/JFACE where user can select single tree item."},{"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"score":0,"creation_date":1390319822,"post_id":21231838,"comment_id":32035195,"body_markdown":"The requirement is something like this, when the use select&#39;s the tree element, I update a table control giving details of the element. The user can select any elements to view properties. By clicking on the checkbox the user selects an item for further processing. I thought the checkbox conveys the meaning &quot;check item for further processing&quot; better.","body":"The requirement is something like this, when the use select&#39;s the tree element, I update a table control giving details of the element. The user can select any elements to view properties. By clicking on the checkbox the user selects an item for further processing. I thought the checkbox conveys the meaning &quot;check item for further processing&quot; better."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1390382460,"post_id":21231838,"comment_id":32063002,"body_markdown":"@chimanrao Why did you delete your latest question?","body":"@chimanrao Why did you delete your latest question?"},{"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"score":0,"creation_date":1390470225,"post_id":21231838,"comment_id":32108371,"body_markdown":"I had written some incorrect code, the removeAll was working. After a small break and cup of tea I found my mistake! The question was incorrect, so I deleted the question.","body":"I had written some incorrect code, the removeAll was working. After a small break and cup of tea I found my mistake! The question was incorrect, so I deleted the question."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1390553298,"post_id":21231838,"comment_id":32150466,"body_markdown":"@chimanrao If you&#39;re using a `TreeViewer`, you shouldn&#39;t manipulate the underlying `Tree`, but rather the content provider and then update the `TreeViewer`. Removing the items from the `Tree` directly may lead to unforeseen consequences...","body":"@chimanrao If you&#39;re using a <code>TreeViewer</code>, you shouldn&#39;t manipulate the underlying <code>Tree</code>, but rather the content provider and then update the <code>TreeViewer</code>. Removing the items from the <code>Tree</code> directly may lead to unforeseen consequences..."}],"answers":[{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1390217032,"creation_date":1390217032,"answer_id":21232728,"question_id":21231838,"body_markdown":"**SWT.SINGLE** AND **SWT.MULTI** style bits are related to single or multiple selection in list, tree and tables.\r\n\r\nBut AFAIK you have to use **addCheckStateListener** and deselect all elements first and then toggle the check state of current element.","title":"CheckboxTreeViewer allow only one element to be checked","body":"<p><strong>SWT.SINGLE</strong> AND <strong>SWT.MULTI</strong> style bits are related to single or multiple selection in list, tree and tables.</p>\n\n<p>But AFAIK you have to use <strong>addCheckStateListener</strong> and deselect all elements first and then toggle the check state of current element.</p>\n"},{"tags":[],"owner":{"account_id":29962076,"reputation":1,"user_id":22961502,"display_name":"SUNGHWAN JANG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700615917,"creation_date":1700615917,"answer_id":77526830,"question_id":21231838,"body_markdown":"\tCheckboxTreeViewer treeViewer;\r\n\tICheckStateListener checkStateListener= new ICheckStateListener() {\r\n\t\t@Override\r\n\t\tpublic void checkStateChanged(CheckStateChangedEvent event) {\r\n\t\t\tObject checked = event.getElement();\r\n\t\t\ttreeViewer.setCheckedElements(new Object[]{checked});\r\n\t\t}\r\n\t};","title":"CheckboxTreeViewer allow only one element to be checked","body":"<pre><code>CheckboxTreeViewer treeViewer;\nICheckStateListener checkStateListener= new ICheckStateListener() {\n    @Override\n    public void checkStateChanged(CheckStateChangedEvent event) {\n        Object checked = event.getElement();\n        treeViewer.setCheckedElements(new Object[]{checked});\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21232728,"answer_count":2,"score":4,"last_activity_date":1700615917,"creation_date":1390214637,"question_id":21231838,"body_markdown":"How do I force the `CheckboxTreeViewer` class to allow for only one checked element? \r\nI could not find a style that enforces this behavior. \r\n\r\nThe only other alternative I have to so capture the check event and uncheck the other elements","title":"CheckboxTreeViewer allow only one element to be checked","body":"<p>How do I force the <code>CheckboxTreeViewer</code> class to allow for only one checked element? \nI could not find a style that enforces this behavior. </p>\n\n<p>The only other alternative I have to so capture the check event and uncheck the other elements</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":11271392,"reputation":1064,"user_id":8266738,"display_name":"Michael"},"score":2,"creation_date":1563542202,"post_id":57113091,"comment_id":100745362,"body_markdown":"Your are simply missing the slf4j API. You need to add it as a dependency. :)","body":"Your are simply missing the slf4j API. You need to add it as a dependency. :)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1700615904,"creation_date":1563541918,"answer_id":57113242,"question_id":57113091,"body_markdown":"You also need to add slf4j itself as a dependency to your project by including it in your pom file. All lombok features in the `lombok.extern` package share this property: They help you use a library that is _NOT_ already available out of the box as part of java itself, and for all of them, lombok does not inherently include any of these dependencies.\r\n\r\nShould be as simple as adding the following block to your `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>You also need to add slf4j itself as a dependency to your project by including it in your pom file. All lombok features in the <code>lombok.extern</code> package share this property: They help you use a library that is <em>NOT</em> already available out of the box as part of java itself, and for all of them, lombok does not inherently include any of these dependencies.</p>\n<p>Should be as simple as adding the following block to your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5291481,"reputation":23,"user_id":4223936,"display_name":"Victor"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1563541954,"creation_date":1563541954,"answer_id":57113252,"question_id":57113091,"body_markdown":"You&#39;ll need to install the Lombok plugin in IntelliJ(IDE) if you want IntelliJ to recognize Lombok annotations. and restart your IDE to reflact the changes.\r\n ","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>You'll need to install the Lombok plugin in IntelliJ(IDE) if you want IntelliJ to recognize Lombok annotations. and restart your IDE to reflact the changes.</p>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582393719,"creation_date":1582393719,"answer_id":60355030,"question_id":57113091,"body_markdown":"I tried adding slf4j-api as a dependency as rzwitserloot suggested above, but that did not work for me. Adding it as a plugin in my build.gradle file did, though:\r\n\r\n    plugins {\r\n        ...\r\n        id &#39;io.freefair.lombok&#39; version &#39;4.1.6&#39;\r\n        ...\r\n    }\r\n","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>I tried adding slf4j-api as a dependency as rzwitserloot suggested above, but that did not work for me. Adding it as a plugin in my build.gradle file did, though:</p>\n\n<pre><code>plugins {\n    ...\n    id 'io.freefair.lombok' version '4.1.6'\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":16285288,"reputation":315,"user_id":11760201,"display_name":"makiz123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40367,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":57113242,"answer_count":3,"score":31,"last_activity_date":1700615904,"creation_date":1563541313,"question_id":57113091,"body_markdown":"I want to use logger from Lombok. I added `@Slf4j` annotation, added dependency and it says that it cannot resolve symbol `log`. `Error:(5, 1) java: package org.slf4j does not exist`\r\n```java\r\npackage a;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class a {\r\n    public static void main(String[] args) {\r\n        log.info(&quot;lala&quot;);\r\n    }\r\n}\r\n```\r\n**pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;a&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;a&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>I want to use logger from Lombok. I added <code>@Slf4j</code> annotation, added dependency and it says that it cannot resolve symbol <code>log</code>. <code>Error:(5, 1) java: package org.slf4j does not exist</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package a;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class a {\n    public static void main(String[] args) {\n        log.info(\"lala\");\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;a&lt;/groupId&gt;\n    &lt;artifactId&gt;a&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","group-by"],"owner":{"account_id":3980399,"reputation":309,"user_id":3282435,"accept_rate":100,"display_name":"Nikki Mino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700615238,"creation_date":1700615238,"question_id":77526796,"body_markdown":"I have a data with timestamps and would like to aggregate them into 10-minute intervals. I tried to groupBy, however, timestamps can only be split into hourly intervals without using any UDF.\r\n\r\nSample data\r\n\r\n    id\ttimestamp\r\n    b\t2/22/2022 8:31\r\n    a\t2/22/2022 8:37\r\n    b\t2/22/2022 8:46\r\n    b\t2/22/2022 9:46\r\n    a\t2/22/2022 9:48\r\n\r\nResult wanted\r\n\r\n    interval\ttimestamp\tid\r\n       1\t2/22/2022 8:31\tb\r\n       1\t2/22/2022 8:37\ta\r\n       2\t2/22/2022 8:46\tb\r\n       3\t2/22/2022 9:46\tb\r\n       3\t2/22/2022 9:48\ta\r\n\r\n","title":"Spark Java aggregate timestamp by intervals e.g. aggregate every 10 minutes","body":"<p>I have a data with timestamps and would like to aggregate them into 10-minute intervals. I tried to groupBy, however, timestamps can only be split into hourly intervals without using any UDF.</p>\n<p>Sample data</p>\n<pre><code>id  timestamp\nb   2/22/2022 8:31\na   2/22/2022 8:37\nb   2/22/2022 8:46\nb   2/22/2022 9:46\na   2/22/2022 9:48\n</code></pre>\n<p>Result wanted</p>\n<pre><code>interval    timestamp   id\n   1    2/22/2022 8:31  b\n   1    2/22/2022 8:37  a\n   2    2/22/2022 8:46  b\n   3    2/22/2022 9:46  b\n   3    2/22/2022 9:48  a\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":27142702,"reputation":3,"user_id":20683365,"display_name":"Terry K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700612432,"creation_date":1700612432,"answer_id":77526666,"question_id":77526327,"body_markdown":"Did you remove the ControllerAdvice class you were using previously? \r\nThere is a possibility that the previously used ControllerAdvice class is handling the exception that occurred, or that DefaultHandlerExceptionResolver rather than ResponseStatusExceptionResolver is catching it due to some configuration.","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Did you remove the ControllerAdvice class you were using previously?\nThere is a possibility that the previously used ControllerAdvice class is handling the exception that occurred, or that DefaultHandlerExceptionResolver rather than ResponseStatusExceptionResolver is catching it due to some configuration.</p>\n"},{"tags":[],"owner":{"account_id":264899,"reputation":495,"user_id":551512,"accept_rate":32,"display_name":"thurmc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700614666,"creation_date":1700613270,"answer_id":77526708,"question_id":77526327,"body_markdown":"Found the cause which was that one of the gradle dependencies was importing a @ControllerAdvice annotated class which was catching all exceptions and if it didn&#39;t have the specific exception type in a switch case it was treating it as an INTERNAL_SERVICE_ERROR.  Excluding the class from being used using `@SpringBootApplication(exclude = UnwantedExceptionHandler.class)` fixed the issue","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Found the cause which was that one of the gradle dependencies was importing a @ControllerAdvice annotated class which was catching all exceptions and if it didn't have the specific exception type in a switch case it was treating it as an INTERNAL_SERVICE_ERROR.  Excluding the class from being used using <code>@SpringBootApplication(exclude = UnwantedExceptionHandler.class)</code> fixed the issue</p>\n"}],"owner":{"account_id":264899,"reputation":495,"user_id":551512,"accept_rate":32,"display_name":"thurmc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700614666,"creation_date":1700606243,"question_id":77526327,"body_markdown":"Recently switched from using ControllerAdvice to using the ResponseStatusException which was introduced in Spring 5 but instead of getting a response code that matches the status passed into the ResponseStatusException constructor I am getting a 500 and the message includes the response code.  Any idea what the issue is here?  I can&#39;t seem to find anything on SO or online anywhere.  spring-web version is 5.3.9. \r\n\r\nEdit: Did some investigation and it looks like the ResponseStatusException is not being handled by the ResponseStatusExceptionHandler.  Any idea why that might be?\r\n\r\nEdit 2: Found the cause which was that one of the gradle dependencies was importing a `@ControllerAdvice` annotated class which was catching all exceptions and if it didn&#39;t have the specific exception type in a switch case it was treating it as an `INTERNAL_SERVICE_ERROR`.  \r\n\r\n    @RestController\r\n    @RequestMapping(V_1)\r\n    public class SpringController {\r\n\r\n        @PostMapping(value = /bids, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Object&gt; postBids(@Valid @RequestBody BidRequest bidRequest) throws JsonProcessingException {\r\n\r\n            if (!validateBidRequest(bidRequest)) {\r\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bid request fails validation&quot;);\r\n            }\r\n\r\n            return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(response);\r\n        }\r\n\r\n        private boolean validateBidRequest(BidRequest bidRequest) {\r\n            return bidRequest.getApplication() != null;\r\n        }\r\n    }\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-11-21T22:25:41.507509Z&quot;,\r\n        &quot;id&quot;: &quot;13f34470-842c-4a53-8c9d-57186446e301&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;name&quot;: &quot;org.springframework.web.server.ResponseStatusException&quot;,\r\n        &quot;message&quot;: &quot;400 BAD_REQUEST \\&quot;Bid request fails validation\\&quot;&quot;\r\n    }","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Recently switched from using ControllerAdvice to using the ResponseStatusException which was introduced in Spring 5 but instead of getting a response code that matches the status passed into the ResponseStatusException constructor I am getting a 500 and the message includes the response code.  Any idea what the issue is here?  I can't seem to find anything on SO or online anywhere.  spring-web version is 5.3.9.</p>\n<p>Edit: Did some investigation and it looks like the ResponseStatusException is not being handled by the ResponseStatusExceptionHandler.  Any idea why that might be?</p>\n<p>Edit 2: Found the cause which was that one of the gradle dependencies was importing a <code>@ControllerAdvice</code> annotated class which was catching all exceptions and if it didn't have the specific exception type in a switch case it was treating it as an <code>INTERNAL_SERVICE_ERROR</code>.</p>\n<pre><code>@RestController\n@RequestMapping(V_1)\npublic class SpringController {\n\n    @PostMapping(value = /bids, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Object&gt; postBids(@Valid @RequestBody BidRequest bidRequest) throws JsonProcessingException {\n\n        if (!validateBidRequest(bidRequest)) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bid request fails validation&quot;);\n        }\n\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(response);\n    }\n\n    private boolean validateBidRequest(BidRequest bidRequest) {\n        return bidRequest.getApplication() != null;\n    }\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-11-21T22:25:41.507509Z&quot;,\n    &quot;id&quot;: &quot;13f34470-842c-4a53-8c9d-57186446e301&quot;,\n    &quot;status&quot;: 500,\n    &quot;name&quot;: &quot;org.springframework.web.server.ResponseStatusException&quot;,\n    &quot;message&quot;: &quot;400 BAD_REQUEST \\&quot;Bid request fails validation\\&quot;&quot;\n}\n</code></pre>\n"},{"tags":["java","class","mergesort"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700412988,"post_id":77511513,"comment_id":136648541,"body_markdown":"Can you, please,  provide a link to the problem description on the coding website?","body":"Can you, please,  provide a link to the problem description on the coding website?"},{"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"score":1,"creation_date":1700413395,"post_id":77511513,"comment_id":136648590,"body_markdown":"https://www.hackerrank.com/challenges/fraudulent-activity-notifications/problem?isFullScreen=true","body":"<a href=\"https://www.hackerrank.com/challenges/fraudulent-activity-notifications/problem?isFullScreen=true\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/fraudulent-activity-notifications/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700414602,"post_id":77511513,"comment_id":136648725,"body_markdown":"So, code in `public class Solution` was provided by HackerRank.  You added code to complete the `public static int activityNotifications(List&lt;Integer&gt; expenditure, int d)` method, as instructed. You also added `class MergeSort`.","body":"So, code in <code>public class Solution</code> was provided by HackerRank.  You added code to complete the <code>public static int activityNotifications(List&lt;Integer&gt; expenditure, int d)</code> method, as instructed. You also added <code>class MergeSort</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700414752,"post_id":77511513,"comment_id":136648742,"body_markdown":"Off-topic: Instead of adding and using code for `MergeSort` , have you considered completing this HackerRank problem by calling [`List#sort​(Comparator&lt;? super E&gt; c)`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)) method?","body":"Off-topic: Instead of adding and using code for <code>MergeSort</code> , have you considered completing this HackerRank problem by calling <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List#sort​(Comparator&lt;? super E&gt; c)</code></a> method?"},{"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"score":0,"creation_date":1700414943,"post_id":77511513,"comment_id":136648755,"body_markdown":"I&#39;ll surely check it out, I&#39;m new to the Java language:)","body":"I&#39;ll surely check it out, I&#39;m new to the Java language:)"}],"answers":[{"tags":[],"owner":{"account_id":5823909,"reputation":136941,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700613702,"creation_date":1700613702,"answer_id":77526727,"question_id":77511513,"body_markdown":"The 2 `while` loops in the `merge` method should be outside the body of the outer `while` loop:\r\n\r\n```\r\n    public static void merge(int[] arr, int l, int mid, int h) {\r\n        int n1 = mid - l + 1;\r\n        int n2 = h - mid;\r\n\r\n        int[] L = new int[n1];\r\n        int[] R = new int[n2];\r\n\r\n        for (int p = 0; p &lt; n1; p++) {\r\n            L[p] = arr[p + l];\r\n        }\r\n\r\n        for (int p = 0; p &lt; n2; p++) {\r\n            R[p] = arr[p + mid + 1];\r\n        }\r\n\r\n        int k = l;\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n            if (arr[i] &lt;= arr[j]) {\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            } else {\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n        }\r\n        while (i &lt; n1) {\r\n            arr[k] = L[i];\r\n            i++;\r\n            k++;\r\n        }\r\n        while (j &lt; n2) {\r\n            arr[k] = R[j];\r\n            j++;\r\n            k++;\r\n        }\r\n    }  \r\n}\r\n```","title":"MergeSort does not modify the array that I pass into the method","body":"<p>The 2 <code>while</code> loops in the <code>merge</code> method should be outside the body of the outer <code>while</code> loop:</p>\n<pre><code>    public static void merge(int[] arr, int l, int mid, int h) {\n        int n1 = mid - l + 1;\n        int n2 = h - mid;\n\n        int[] L = new int[n1];\n        int[] R = new int[n2];\n\n        for (int p = 0; p &lt; n1; p++) {\n            L[p] = arr[p + l];\n        }\n\n        for (int p = 0; p &lt; n2; p++) {\n            R[p] = arr[p + mid + 1];\n        }\n\n        int k = l;\n        int i = 0;\n        int j = 0;\n\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (arr[i] &lt;= arr[j]) {\n                arr[k] = L[i];\n                i++;\n                k++;\n            } else {\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n        }\n        while (i &lt; n1) {\n            arr[k] = L[i];\n            i++;\n            k++;\n        }\n        while (j &lt; n2) {\n            arr[k] = R[j];\n            j++;\n            k++;\n        }\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700613702,"creation_date":1700410294,"question_id":77511513,"body_markdown":"\r\n```\r\nclass Result {\r\n    public static int activityNotifications(List&lt;Integer&gt; expenditure, int d) {\r\n        int notices = 0;\r\n        int len = expenditure.size();\r\n        for(int i = d; i &lt; len; i++){\r\n            int[] clone = new int[d];\r\n\r\n            for(int j = 0; j &lt; d; j++){\r\n                clone[j] = expenditure.get(i - d + j);\r\n            }\r\n\r\n            MergeSort.mergeSort(clone, 0, d - 1);\r\n            double median;\r\n            if (d % 2 == 0){\r\n                median = (clone[d/2] + clone[d/2 + 1]) / 2.0;\r\n            } else{\r\n                median = clone[d / 2];\r\n            }\r\n            if(expenditure.get(i) &gt;= median * 2){\r\n                notices++;\r\n            }\r\n        }\r\n        return notices;\r\n    }\r\n}\r\n\r\nclass MergeSort{\r\n    public static void mergeSort(int[] arr, int l, int h){\r\n        if (l &lt; h){\r\n            int mid  = (l + h) / 2;\r\n            mergeSort(arr, l ,mid);\r\n            mergeSort(arr, mid + 1 , h);\r\n            merge(arr, l, mid, h);\r\n        }\r\n    }\r\n\r\n    public static void merge(int[] arr, int l, int mid, int h){\r\n        int n1 = mid - l + 1;\r\n        int n2 = h - mid;\r\n\r\n        int[] L = new int[n1];\r\n        int[] R = new int[n2];\r\n\r\n        for (int p = 0; p &lt; n1; p++){\r\n            L[p] = arr[p + l];\r\n        }\r\n\r\n        for (int p = 0; p &lt; n2; p++){\r\n            R[p] = arr[p + mid + 1];\r\n        }\r\n\r\n        int k = l;\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2){\r\n            if (arr[i] &lt;= arr[j]){\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            }\r\n            else {\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n\r\n            while(i &lt; n1){\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            }\r\n\r\n            while(j &lt; n2){\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n        }\r\n    }  \r\n}\r\n\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv(&quot;OUTPUT_PATH&quot;)));\r\n\r\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\r\n\r\n        int n = Integer.parseInt(firstMultipleInput[0]);\r\n\r\n        int d = Integer.parseInt(firstMultipleInput[1]);\r\n\r\n        List&lt;Integer&gt; expenditure = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n            .map(Integer::parseInt)\r\n            .collect(toList());\r\n\r\n        int result = Result.activityNotifications(expenditure, d);\r\n\r\n        bufferedWriter.write(String.valueOf(result));\r\n        bufferedWriter.newLine();\r\n\r\n        bufferedReader.close();\r\n        bufferedWriter.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is the code. Basically everything works fine on my IDE, when I create a MergeSort.java file and then I created an instance of the class and used the static mergeSort method to sort the array.\r\nBut when I run it on this coding website which allows only one file, I cramped in the MergeSort class into the same file. And now I&#39;ve realized that no actual change is done to the array that is passed in to the method. Can I please know why?\r\n\r\nI tried different things but wasn&#39;t able to get the sorting to work. ","title":"MergeSort does not modify the array that I pass into the method","body":"<pre><code>class Result {\n    public static int activityNotifications(List&lt;Integer&gt; expenditure, int d) {\n        int notices = 0;\n        int len = expenditure.size();\n        for(int i = d; i &lt; len; i++){\n            int[] clone = new int[d];\n\n            for(int j = 0; j &lt; d; j++){\n                clone[j] = expenditure.get(i - d + j);\n            }\n\n            MergeSort.mergeSort(clone, 0, d - 1);\n            double median;\n            if (d % 2 == 0){\n                median = (clone[d/2] + clone[d/2 + 1]) / 2.0;\n            } else{\n                median = clone[d / 2];\n            }\n            if(expenditure.get(i) &gt;= median * 2){\n                notices++;\n            }\n        }\n        return notices;\n    }\n}\n\nclass MergeSort{\n    public static void mergeSort(int[] arr, int l, int h){\n        if (l &lt; h){\n            int mid  = (l + h) / 2;\n            mergeSort(arr, l ,mid);\n            mergeSort(arr, mid + 1 , h);\n            merge(arr, l, mid, h);\n        }\n    }\n\n    public static void merge(int[] arr, int l, int mid, int h){\n        int n1 = mid - l + 1;\n        int n2 = h - mid;\n\n        int[] L = new int[n1];\n        int[] R = new int[n2];\n\n        for (int p = 0; p &lt; n1; p++){\n            L[p] = arr[p + l];\n        }\n\n        for (int p = 0; p &lt; n2; p++){\n            R[p] = arr[p + mid + 1];\n        }\n\n        int k = l;\n        int i = 0;\n        int j = 0;\n\n        while (i &lt; n1 &amp;&amp; j &lt; n2){\n            if (arr[i] &lt;= arr[j]){\n                arr[k] = L[i];\n                i++;\n                k++;\n            }\n            else {\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n\n            while(i &lt; n1){\n                arr[k] = L[i];\n                i++;\n                k++;\n            }\n\n            while(j &lt; n2){\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n        }\n    }  \n}\n\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv(&quot;OUTPUT_PATH&quot;)));\n\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\n\n        int n = Integer.parseInt(firstMultipleInput[0]);\n\n        int d = Integer.parseInt(firstMultipleInput[1]);\n\n        List&lt;Integer&gt; expenditure = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .collect(toList());\n\n        int result = Result.activityNotifications(expenditure, d);\n\n        bufferedWriter.write(String.valueOf(result));\n        bufferedWriter.newLine();\n\n        bufferedReader.close();\n        bufferedWriter.close();\n    }\n}\n</code></pre>\n<p>This is the code. Basically everything works fine on my IDE, when I create a MergeSort.java file and then I created an instance of the class and used the static mergeSort method to sort the array.\nBut when I run it on this coding website which allows only one file, I cramped in the MergeSort class into the same file. And now I've realized that no actual change is done to the array that is passed in to the method. Can I please know why?</p>\n<p>I tried different things but wasn't able to get the sorting to work.</p>\n"},{"tags":["java","listview","scroll","javafx","warnings"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1433599200,"post_id":30683685,"comment_id":49427335,"body_markdown":"Possible duplicate of [How to correctly add new data to TableView and scroll to it](http://stackoverflow.com/questions/29714267/how-to-correctly-add-new-data-to-tableview-and-scroll-to-it). You can upvote the [ticket](https://javafx-jira.kenai.com/browse/RT-40564) opened for the issue","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29714267/how-to-correctly-add-new-data-to-tableview-and-scroll-to-it\">How to correctly add new data to TableView and scroll to it</a>. You can upvote the <a href=\"https://javafx-jira.kenai.com/browse/RT-40564\" rel=\"nofollow noreferrer\">ticket</a> opened for the issue"},{"owner":{"account_id":15396644,"reputation":25722,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700616466,"post_id":30683685,"comment_id":136675822,"body_markdown":"related?: https://github.com/openjfx/openjfx-docs/issues/219","body":"related?: <a href=\"https://github.com/openjfx/openjfx-docs/issues/219\" rel=\"nofollow noreferrer\">github.com/openjfx/openjfx-docs/issues/219</a>"}],"answers":[{"tags":[],"owner":{"account_id":3412097,"reputation":2278,"user_id":2861794,"display_name":"J. S."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481111129,"creation_date":1481111129,"answer_id":41016621,"question_id":30683685,"body_markdown":"I know it&#39;s a little bit late, but maybe It&#39;ll help someone.\r\n\r\nIn my case I had to set the Column Resize Policy to unconstrained-resize, that worked for me.","title":"Why do I get this weird warning when I scroll to the end of a ListView in JavaFX?","body":"<p>I know it's a little bit late, but maybe It'll help someone.</p>\n\n<p>In my case I had to set the Column Resize Policy to unconstrained-resize, that worked for me.</p>\n"}],"owner":{"account_id":6402675,"reputation":157,"user_id":4964847,"accept_rate":17,"display_name":"javachessgui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6994,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1700613537,"creation_date":1433598850,"question_id":30683685,"body_markdown":"    list.getSelectionModel().select(game_ptr);\r\n    list.scrollTo(game_ptr);\r\n\r\nWhen this code is run, I get the following warning:\r\n\r\n    com.sun.javafx.scene.control.skin.VirtualFlow addTrailingCells\r\n    INFO: index exceeds maxCellCount. Check size calculations for class com.sun.javafx.scene.control.skin.ListViewSkin$2\r\n\r\nNow, the index in game_ptr is correct. This is tested. If I run the following code, there is no warning:\r\n\r\n    list.getSelectionModel().select(game_ptr);\r\n    //list.scrollTo(game_ptr);","title":"Why do I get this weird warning when I scroll to the end of a ListView in JavaFX?","body":"<pre><code>list.getSelectionModel().select(game_ptr);\nlist.scrollTo(game_ptr);\n</code></pre>\n\n<p>When this code is run, I get the following warning:</p>\n\n<pre><code>com.sun.javafx.scene.control.skin.VirtualFlow addTrailingCells\nINFO: index exceeds maxCellCount. Check size calculations for class com.sun.javafx.scene.control.skin.ListViewSkin$2\n</code></pre>\n\n<p>Now, the index in game_ptr is correct. This is tested. If I run the following code, there is no warning:</p>\n\n<pre><code>list.getSelectionModel().select(game_ptr);\n//list.scrollTo(game_ptr);\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"owner":{"account_id":21049619,"reputation":1,"user_id":15470272,"display_name":"Kevin Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700613157,"creation_date":1700612779,"question_id":77526689,"body_markdown":"I have a POJO class (field names anonymized) below. I use lombok tags to meet the Flink POJO requirements, and have verified that it is a valid Flink POJO with `PojoTestUtils.assertSerializedAsPojoWithoutKryo()`\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class EmbeddedPojoClass {\r\n  int field1;\r\n  int field2;\r\n  int field3;\r\n  double field4;\r\n  double field5;\r\n}\r\n```\r\n\r\nThis class is then stored in another POJO class:\r\n\r\n```\r\n@NoArgsConstructor\r\n@Data\r\n@TypeInfo(PojoClassTypeInformationFactory.class)\r\npublic class PojoClass {\r\n  SortedMap&lt;Instant, EmbeddedPojoClass&gt; timeSeries,\r\n  Instant minTimestamp,\r\n  Instant maxTimestamp,\r\n  long intervalMillis\r\n}\r\n```\r\n\r\nwhich is registered as a Flink POJO using a custom `TypeInformationFactory`\r\n\r\n```\r\npublic class PojoClassTypeInformationFactory\r\n    extends TypeInfoFactory&lt;PojoClass&gt; {\r\n  @Override\r\n  public TypeInformation&lt;PojoClass&gt; createTypeInfo(\r\n      Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\r\n    return Types.POJO(\r\n        PojoClass.class,\r\n        new HashMap&lt;&gt;() {\r\n          {\r\n            put(\r\n                &quot;timeSeries&quot;,\r\n                new SortedMapTypeInfo&lt;&gt;(\r\n                    Types.INSTANT.getTypeClass(),\r\n                    EmbeddedPojoClass.class));\r\n            put(&quot;minTimestamp&quot;, Types.INSTANT);\r\n            put(&quot;maxTimestamp&quot;, Types.INSTANT);\r\n            put(&quot;intervalMillis&quot;, Types.LONG);\r\n          }\r\n        });\r\n  }\r\n}\r\n```\r\n\r\nLike `EmbeddedPojoClass`, I&#39;ve verified this is a valid POJO with `PojoTestUtils.assertSerializedAsPojoWithoutKryo()` This `PojoClass` is stored in Flink state in one of my operators.\r\n\r\nI would now like to add 2 more `Instant` fields to `EmbeddedPojoClass`. So I&#39;d like to change it to:\r\n\r\n```\r\npublic class EmbeddedPojoClass {\r\n  int field1;\r\n  int field2;\r\n  int field3;\r\n  double field4;\r\n  double field5;\r\n\r\n  // New fields\r\n  Instant time1;\r\n  Instant time2;\r\n}\r\n```\r\n\r\nAfter rolling out this change, I get this error when I load back Flink state upon restart:\r\n\r\n```\r\n2023-11-21 18:47:57\r\njava.time.DateTimeException: Instant exceeds minimum or maximum instant\r\n    at java.base/java.time.Instant.create(Instant.java:411)\r\n    at java.base/java.time.Instant.ofEpochSecond(Instant.java:330)\r\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:90)\r\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:31)\r\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:141)\r\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:41)\r\n    at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.deserialize(PojoSerializer.java:411)\r\n    at org.apache.flink.contrib.streaming.state.RocksDBValueState.value(RocksDBValueState.java:89)\r\n```\r\n\r\nJudging by the stack trace, I see that the `PojoSerializer` is being invoked, but I&#39;m confused why the new fields would be backwards incompatible. Am I missing something here?\r\n\r\nI&#39;m using Flink 1.17.1 with RocksDB state backend.\r\n\r\nI&#39;ve validated that the existing Java classes I use in my Flink job are recognized as POJO. I thought adding new fields is supported by POJO schema evolution rules, and don&#39;t know why the state checkpoint fails to load with the new fields added.","title":"Flink schema evolution for a POJO embedded in another POJO","body":"<p>I have a POJO class (field names anonymized) below. I use lombok tags to meet the Flink POJO requirements, and have verified that it is a valid Flink POJO with <code>PojoTestUtils.assertSerializedAsPojoWithoutKryo()</code></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class EmbeddedPojoClass {\n  int field1;\n  int field2;\n  int field3;\n  double field4;\n  double field5;\n}\n</code></pre>\n<p>This class is then stored in another POJO class:</p>\n<pre><code>@NoArgsConstructor\n@Data\n@TypeInfo(PojoClassTypeInformationFactory.class)\npublic class PojoClass {\n  SortedMap&lt;Instant, EmbeddedPojoClass&gt; timeSeries,\n  Instant minTimestamp,\n  Instant maxTimestamp,\n  long intervalMillis\n}\n</code></pre>\n<p>which is registered as a Flink POJO using a custom <code>TypeInformationFactory</code></p>\n<pre><code>public class PojoClassTypeInformationFactory\n    extends TypeInfoFactory&lt;PojoClass&gt; {\n  @Override\n  public TypeInformation&lt;PojoClass&gt; createTypeInfo(\n      Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\n    return Types.POJO(\n        PojoClass.class,\n        new HashMap&lt;&gt;() {\n          {\n            put(\n                &quot;timeSeries&quot;,\n                new SortedMapTypeInfo&lt;&gt;(\n                    Types.INSTANT.getTypeClass(),\n                    EmbeddedPojoClass.class));\n            put(&quot;minTimestamp&quot;, Types.INSTANT);\n            put(&quot;maxTimestamp&quot;, Types.INSTANT);\n            put(&quot;intervalMillis&quot;, Types.LONG);\n          }\n        });\n  }\n}\n</code></pre>\n<p>Like <code>EmbeddedPojoClass</code>, I've verified this is a valid POJO with <code>PojoTestUtils.assertSerializedAsPojoWithoutKryo()</code> This <code>PojoClass</code> is stored in Flink state in one of my operators.</p>\n<p>I would now like to add 2 more <code>Instant</code> fields to <code>EmbeddedPojoClass</code>. So I'd like to change it to:</p>\n<pre><code>public class EmbeddedPojoClass {\n  int field1;\n  int field2;\n  int field3;\n  double field4;\n  double field5;\n\n  // New fields\n  Instant time1;\n  Instant time2;\n}\n</code></pre>\n<p>After rolling out this change, I get this error when I load back Flink state upon restart:</p>\n<pre><code>2023-11-21 18:47:57\njava.time.DateTimeException: Instant exceeds minimum or maximum instant\n    at java.base/java.time.Instant.create(Instant.java:411)\n    at java.base/java.time.Instant.ofEpochSecond(Instant.java:330)\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:90)\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:31)\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:141)\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:41)\n    at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.deserialize(PojoSerializer.java:411)\n    at org.apache.flink.contrib.streaming.state.RocksDBValueState.value(RocksDBValueState.java:89)\n</code></pre>\n<p>Judging by the stack trace, I see that the <code>PojoSerializer</code> is being invoked, but I'm confused why the new fields would be backwards incompatible. Am I missing something here?</p>\n<p>I'm using Flink 1.17.1 with RocksDB state backend.</p>\n<p>I've validated that the existing Java classes I use in my Flink job are recognized as POJO. I thought adding new fields is supported by POJO schema evolution rules, and don't know why the state checkpoint fails to load with the new fields added.</p>\n"},{"tags":["java","quarkus","graalvm-native-image"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1599147936,"post_id":63685389,"comment_id":112690636,"body_markdown":"At the moment we don&#39;t provide a tooling image providing mandrel. You would have to install it. If you follow the script from https://github.com/quarkusio/quarkus-images/tree/master/modules/mandrel/20.1.0.1.Final-java11, you will see how it could be done.","body":"At the moment we don&#39;t provide a tooling image providing mandrel. You would have to install it. If you follow the script from <a href=\"https://github.com/quarkusio/quarkus-images/tree/master/modules/mandrel/20.1.0.1.Final-java11\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus-images/tree/master/modules/mand&zwnj;&#8203;rel/&hellip;</a>, you will see how it could be done."},{"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"score":0,"creation_date":1600779568,"post_id":63685389,"comment_id":113190517,"body_markdown":"Thank you and sorry for my late answer. Due to priority changes I&#39;m not able to try this out at the moment. I&#39;ll give it a try as soon as possible.","body":"Thank you and sorry for my late answer. Due to priority changes I&#39;m not able to try this out at the moment. I&#39;ll give it a try as soon as possible."}],"answers":[{"tags":[],"owner":{"account_id":29961856,"reputation":1,"user_id":22961333,"display_name":"Rohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700613050,"creation_date":1700613050,"answer_id":77526702,"question_id":63685389,"body_markdown":"This works to build with gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ## Stage 1 : build with gradle builder image with native capabilities\r\n\r\n    FROM quay.io/quarkus/ubi-quarkus-mandrel-builder-image:22.3-java17 AS build\r\n    USER root\r\n    RUN microdnf install findutils\r\n    COPY --chown=quarkus:quarkus gradlew /code/gradlew\r\n    COPY --chown=quarkus:quarkus gradle /code/gradle\r\n    COPY --chown=quarkus:quarkus build.gradle /code/\r\n    COPY --chown=quarkus:quarkus gradle.properties /code/\r\n    COPY --chown=quarkus:quarkus settings.gradle /code/\r\n    USER quarkus\r\n    WORKDIR /code\r\n    COPY src /code/src\r\n    RUN ./gradlew build -x test -Dquarkus.package.type=native\r\n\r\n    ## Stage 2 : create the docker final image\r\n\r\n    FROM registry.access.redhat.com/ubi8/ubi-minimal:8.8\r\n    WORKDIR /work/\r\n    RUN chown 1001 /work \\\r\n        &amp;&amp; chmod &quot;g+rwX&quot; /work \\\r\n        &amp;&amp; chown 1001:root /work\r\n    COPY --chown=1001:root --from=build /code/build/*-runner /work/application\r\n\r\n    EXPOSE 8080\r\n    USER 1001\r\n\r\n    ENTRYPOINT [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Quarkus native build with Mandrel","body":"<p>This works to build with gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>## Stage 1 : build with gradle builder image with native capabilities\n\nFROM quay.io/quarkus/ubi-quarkus-mandrel-builder-image:22.3-java17 AS build\nUSER root\nRUN microdnf install findutils\nCOPY --chown=quarkus:quarkus gradlew /code/gradlew\nCOPY --chown=quarkus:quarkus gradle /code/gradle\nCOPY --chown=quarkus:quarkus build.gradle /code/\nCOPY --chown=quarkus:quarkus gradle.properties /code/\nCOPY --chown=quarkus:quarkus settings.gradle /code/\nUSER quarkus\nWORKDIR /code\nCOPY src /code/src\nRUN ./gradlew build -x test -Dquarkus.package.type=native\n\n## Stage 2 : create the docker final image\n\nFROM registry.access.redhat.com/ubi8/ubi-minimal:8.8\nWORKDIR /work/\nRUN chown 1001 /work \\\n    &amp;&amp; chmod \"g+rwX\" /work \\\n    &amp;&amp; chown 1001:root /work\nCOPY --chown=1001:root --from=build /code/build/*-runner /work/application\n\nEXPOSE 8080\nUSER 1001\n\nENTRYPOINT [\"./application\", \"-Dquarkus.http.host=0.0.0.0\"]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700613050,"creation_date":1598954090,"question_id":63685389,"body_markdown":"I&#39;m trying to build Quarkus in native mode with Mandrel as described here: https://quarkus.io/guides/building-native-image#container-runtime\r\n\r\nDue to limitations in my CI-pipeline, i need to do this manually with a multi-stage docker-build: https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build\r\n\r\nBut now I don&#39;t know what to change in the `Dockerfile`, if I want to use Mandrel-image:\r\n\r\n```\r\n## Stage 1 : build with maven builder image with native capabilities\r\nFROM quay.io/quarkus/centos-quarkus-maven:20.1.0-java11 AS build\r\nCOPY pom.xml /usr/src/app/\r\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\r\nCOPY src /usr/src/app/src\r\nUSER root\r\nRUN chown -R quarkus /usr/src/app\r\nUSER quarkus\r\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\r\n\r\n## Stage 2 : create the docker final image\r\nFROM registry.access.redhat.com/ubi8/ubi-minimal\r\nWORKDIR /work/\r\nCOPY --from=build /usr/src/app/target/*-runner /work/application\r\n\r\n# set up permissions for user `1001`\r\nRUN chmod 775 /work /work/application \\\r\n  &amp;&amp; chown -R 1001 /work \\\r\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\r\n  &amp;&amp; chown -R 1001:root /work\r\n\r\nEXPOSE 8080\r\nUSER 1001\r\n\r\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n```\r\n\r\nI&#39;m sure it must be very simple, but I don&#39;t get it at the moment. Any suggestions?","title":"Quarkus native build with Mandrel","body":"<p>I'm trying to build Quarkus in native mode with Mandrel as described here: <a href=\"https://quarkus.io/guides/building-native-image#container-runtime\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/building-native-image#container-runtime</a></p>\n<p>Due to limitations in my CI-pipeline, i need to do this manually with a multi-stage docker-build: <a href=\"https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build</a></p>\n<p>But now I don't know what to change in the <code>Dockerfile</code>, if I want to use Mandrel-image:</p>\n<pre><code>## Stage 1 : build with maven builder image with native capabilities\nFROM quay.io/quarkus/centos-quarkus-maven:20.1.0-java11 AS build\nCOPY pom.xml /usr/src/app/\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\nCOPY src /usr/src/app/src\nUSER root\nRUN chown -R quarkus /usr/src/app\nUSER quarkus\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\n\n## Stage 2 : create the docker final image\nFROM registry.access.redhat.com/ubi8/ubi-minimal\nWORKDIR /work/\nCOPY --from=build /usr/src/app/target/*-runner /work/application\n\n# set up permissions for user `1001`\nRUN chmod 775 /work /work/application \\\n  &amp;&amp; chown -R 1001 /work \\\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\n  &amp;&amp; chown -R 1001:root /work\n\nEXPOSE 8080\nUSER 1001\n\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\n</code></pre>\n<p>I'm sure it must be very simple, but I don't get it at the moment. Any suggestions?</p>\n"},{"tags":["java","microservices","keycloak","keycloak-spi"],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700612710,"creation_date":1700612710,"question_id":77526681,"body_markdown":"I have a Keycloak instance that I use as an IAM via OAuth2 for my services. Upon user registration and login, I need to prepare some additional data to be used later by the services. To achieve this, I have implemented a dedicated service with the endpoint protected by the same IAM. This endpoint should be called on each user&#39; login or registration, initiating data preparation process. My idea was, that upon login or registration, Keycloak should pass user ID and action (login or registration) to the Service initiating required actions in it:\r\n```\r\nUser              :        Service        :         Keycloak          :            Keycloak EventListener\r\n------------------+-----------------------+---------------------------+--------------------------------------\r\n                  :                       :                           :\r\n                  :                       :                           :\r\n [Login/Register]-------------[OAuth2]----------------&gt;               :\r\n                  :                       :           ------------[Login/Create event]-----------&gt;\r\n                  :                       :                           :\r\n                  :                       :           &lt;---[Get token, client credentials flow]----\r\n                  :                       :                           :\r\n                  :                       :           -----------------[Token]-------------------&gt;\r\n                  :                       :                           :\r\n                  :         &lt;--------------------[Access resource endpoint]-----------------------\r\n                  :                       :                           :\r\n                  :  [Do required tasks]  :                           :\r\n                  :                       :                           :\r\n                  :                       :                           :\r\n```\r\nSo, currently &quot;Service&quot; has a protected endpoint allowed to access by some particular client only, using client credentials flow (via dedicated role, but doesn&#39;t matter, I suppose). My EventListener ``public class LoginEventListenerProvider implements EventListenerProvider`` obtains the token from the ``.../token`` Keycloak&#39;s endpoint via HTTP request, then use this token to access &quot;Service&quot; endpoint, passing user id and action there, which initiates required tasks on the &quot;Service&quot; side.\r\n\r\nMy question is, could it be simplified? At least, since my EventListener is already running as a part of the Keycloak, is it possible to use some API to get the token? Or maybe there is another approach to implement things like this?\r\n\r\nThank you!\r\n","title":"Perform tasks upon keycloak&#39;s login/register events","body":"<p>I have a Keycloak instance that I use as an IAM via OAuth2 for my services. Upon user registration and login, I need to prepare some additional data to be used later by the services. To achieve this, I have implemented a dedicated service with the endpoint protected by the same IAM. This endpoint should be called on each user' login or registration, initiating data preparation process. My idea was, that upon login or registration, Keycloak should pass user ID and action (login or registration) to the Service initiating required actions in it:</p>\n<pre><code>User              :        Service        :         Keycloak          :            Keycloak EventListener\n------------------+-----------------------+---------------------------+--------------------------------------\n                  :                       :                           :\n                  :                       :                           :\n [Login/Register]-------------[OAuth2]----------------&gt;               :\n                  :                       :           ------------[Login/Create event]-----------&gt;\n                  :                       :                           :\n                  :                       :           &lt;---[Get token, client credentials flow]----\n                  :                       :                           :\n                  :                       :           -----------------[Token]-------------------&gt;\n                  :                       :                           :\n                  :         &lt;--------------------[Access resource endpoint]-----------------------\n                  :                       :                           :\n                  :  [Do required tasks]  :                           :\n                  :                       :                           :\n                  :                       :                           :\n</code></pre>\n<p>So, currently &quot;Service&quot; has a protected endpoint allowed to access by some particular client only, using client credentials flow (via dedicated role, but doesn't matter, I suppose). My EventListener <code>public class LoginEventListenerProvider implements EventListenerProvider</code> obtains the token from the <code>.../token</code> Keycloak's endpoint via HTTP request, then use this token to access &quot;Service&quot; endpoint, passing user id and action there, which initiates required tasks on the &quot;Service&quot; side.</p>\n<p>My question is, could it be simplified? At least, since my EventListener is already running as a part of the Keycloak, is it possible to use some API to get the token? Or maybe there is another approach to implement things like this?</p>\n<p>Thank you!</p>\n"},{"tags":["java","json","schemacrawler"],"answers":[{"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700611356,"creation_date":1700611356,"answer_id":77526620,"question_id":77515429,"body_markdown":"Anna,\r\n\r\nYou need to use the `serialize` command with [SchemaCrawler][1], as well as set the output format to JSON. There are now builders to build the options. Since you are jumping ahead by a few major versions of [SchemaCrawler][1], I have created a working example for you at https://github.com/sualeh/sc-example Please use this as a starting point for your code.\r\n\r\nSualeh Fatehi  \r\n[SchemaCrawler][1]\r\n\r\n\r\n  [1]: https://www.schemacrawler.com/","title":"How to serialize output from schemacrawler to JSON in Java?","body":"<p>Anna,</p>\n<p>You need to use the <code>serialize</code> command with <a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a>, as well as set the output format to JSON. There are now builders to build the options. Since you are jumping ahead by a few major versions of <a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a>, I have created a working example for you at <a href=\"https://github.com/sualeh/sc-example\" rel=\"nofollow noreferrer\">https://github.com/sualeh/sc-example</a> Please use this as a starting point for your code.</p>\n<p>Sualeh Fatehi<br />\n<a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a></p>\n"}],"owner":{"account_id":29947870,"reputation":1,"user_id":22950711,"display_name":"Anna Głowiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700611356,"creation_date":1700478794,"question_id":77515429,"body_markdown":"I would like to upgrade schemacrawler that I use from version 11.01.01 to version 16.20.5. I&#39;ve already managed to adapt most of the code, but there is this one last thing I can&#39;t figure out.\r\n\r\nThe code using schemacrawler 11.01.01 created a JSON output this way:\r\n```\r\nOutputOptions outputOptions = new OutputOptions(TextOutputFormat.json.getFormat(), file);\r\n```\r\nBoth `OutputOptions` and `TextOutputFormat` were in `schemacrawler.tools.options` package.\r\n\r\nHow to implement this functionality in the new version? Could you please help me?\r\n\r\nI found the information that writing output to JSON should be possible and how to do it using the command line. But I need an example of how to do it in **Java**. I see that there is Jackson, but I still don&#39;t know how to use it with schemacrawler.","title":"How to serialize output from schemacrawler to JSON in Java?","body":"<p>I would like to upgrade schemacrawler that I use from version 11.01.01 to version 16.20.5. I've already managed to adapt most of the code, but there is this one last thing I can't figure out.</p>\n<p>The code using schemacrawler 11.01.01 created a JSON output this way:</p>\n<pre><code>OutputOptions outputOptions = new OutputOptions(TextOutputFormat.json.getFormat(), file);\n</code></pre>\n<p>Both <code>OutputOptions</code> and <code>TextOutputFormat</code> were in <code>schemacrawler.tools.options</code> package.</p>\n<p>How to implement this functionality in the new version? Could you please help me?</p>\n<p>I found the information that writing output to JSON should be possible and how to do it using the command line. But I need an example of how to do it in <strong>Java</strong>. I see that there is Jackson, but I still don't know how to use it with schemacrawler.</p>\n"},{"tags":["java","android","android-permissions","android-glide"],"owner":{"account_id":19710493,"reputation":3,"user_id":15680620,"display_name":"Дмитрий Воликов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700611062,"creation_date":1700611062,"question_id":77526611,"body_markdown":"In my app I has page that displays a list of images. I use Glide library to load images.\r\nSo, the problem is landscape orientation. If device orientation is portrait - all good, but if landscape - &quot;Permission denial opening provider requires that you obtain access using ACTION_GET_DOCUMENT or related APIs&quot;.\r\n\r\nI have only one permission in my manifest file:\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;`.\r\n\r\nThis is my Glide code for loading image:\r\n\r\n```\r\nGlide\r\n    .with(context)\r\n    .load(uriArrayList.get(position))\r\n    .dontAnimate()\r\n    .into(holder.imageView);\r\n```\r\n\r\n\r\nI tried to find information about this but couldn&#39;t find anything that I really needed.\r\n\r\nAdding `android:requestLegacyExternalStorage=&quot;true&quot;` was not helpful.","title":"Why bumptech/glide does not loading images when device has landscape orientation?","body":"<p>In my app I has page that displays a list of images. I use Glide library to load images.\nSo, the problem is landscape orientation. If device orientation is portrait - all good, but if landscape - &quot;Permission denial opening provider requires that you obtain access using ACTION_GET_DOCUMENT or related APIs&quot;.</p>\n<p>I have only one permission in my manifest file:\n<code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;</code>.</p>\n<p>This is my Glide code for loading image:</p>\n<pre><code>Glide\n    .with(context)\n    .load(uriArrayList.get(position))\n    .dontAnimate()\n    .into(holder.imageView);\n</code></pre>\n<p>I tried to find information about this but couldn't find anything that I really needed.</p>\n<p>Adding <code>android:requestLegacyExternalStorage=&quot;true&quot;</code> was not helpful.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1700610583,"post_id":77526586,"comment_id":136675328,"body_markdown":"Sure, you can do it all in memory, assuming the data is not too big.","body":"Sure, you can do it all in memory, assuming the data is not too big."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700611677,"post_id":77526586,"comment_id":136675412,"body_markdown":"Doing the job in memory (or a RAM Disk) will likely help performance, but you seem to have functional problem.  Can you provide the stack trace?","body":"Doing the job in memory (or a RAM Disk) will likely help performance, but you seem to have functional problem.  Can you provide the stack trace?"},{"owner":{"account_id":27274263,"reputation":21,"user_id":20795134,"display_name":"Trần Phước Lộc"},"score":0,"creation_date":1700637361,"post_id":77526586,"comment_id":136677662,"body_markdown":"@AndrewL sorry but can you explain your comment for me ? My english is not well , i dont know what is stack trace.","body":"@AndrewL sorry but can you explain your comment for me ? My english is not well , i dont know what is stack trace."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700644102,"post_id":77526586,"comment_id":136678731,"body_markdown":"See: https://stackoverflow.com/questions/3988788","body":"See: <a href=\"https://stackoverflow.com/questions/3988788\">stackoverflow.com/questions/3988788</a>"}],"owner":{"account_id":27274263,"reputation":21,"user_id":20795134,"display_name":"Trần Phước Lộc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700610481,"creation_date":1700610481,"question_id":77526586,"body_markdown":"I have a task about working with file in java,user will push your file to api endpoint, i will unzip it, then modify it(ex: add some file, change some file), then return it to user.\r\nThis is my strategy:\r\n\r\n 1. Get .zip file (save it on disk)\r\n 2. Unzip it (save it on disk)\r\n 3. Get some .zip file on S3 (save it on disk)\r\n 4. Unzip s3 file to user upload file (save it on disk)\r\n 5. zip user upload file again (save it on disk)\r\n 6. return it to user\r\n 7. Clean up file on disk\r\n\r\nThis is my code\r\n```\r\npublic Object deliveryApp(MultipartFile file, String s3KeyName, String fileNameTemporary) {\r\n        try {\r\n\r\n            //Save fileUpload to disk (.zip file)\r\n            OutputStream osFileUpload = new FileOutputStream(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\r\n            osFileUpload.write(file.getBytes());\r\n\r\n            //Unzip fileUpload\r\n            ZipFile zipFileUpload = new ZipFile(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\r\n            List&lt;FileHeader&gt; fileHeaders = zipFileUpload.getFileHeaders();\r\n\r\n\r\n            //If .zip file have mutiple root folder -&gt; return error\r\n            String rootFolderOfZipFile = fileHeaders.get(0).getFileName();\r\n            boolean isOneRootFolderInsideZipFile = true;\r\n\r\n            for (FileHeader fileHeader : fileHeaders) {\r\n                if (!fileHeader.getFileName().startsWith(rootFolderOfZipFile)) {\r\n                    isOneRootFolderInsideZipFile = false;\r\n                }\r\n            }\r\n\r\n            if (!isOneRootFolderInsideZipFile) return ResponseEntity.badRequest().body(&quot;have mutiple root folder inside .zip file&quot;);\r\n\r\n\r\n            //change root folder to avoid same app name of user\r\n            try {\r\n                zipFileUpload.getFileHeader(fileHeaders.get(0).getFileName());\r\n                zipFileUpload.renameFile(fileHeaders.get(0).getFileName(), fileNameTemporary);\r\n            } catch (ZipException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            //Extract file to upload-extraction\r\n            zipFileUpload.extractAll(&quot;filesDelivery/upload-extraction&quot;);\r\n\r\n            //Get s3 object\r\n            GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(s3KeyName)\r\n                    .build();\r\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3Client.getObjectAsBytes(getObjectRequest);\r\n            byte[] data = objectBytes.asByteArray();\r\n\r\n            //Save s3 object to disk (.zip file)\r\n            File fileFromS3 = new File(&quot;filesDelivery/s3/&quot; + s3KeyName);\r\n            OutputStream osS3 = new FileOutputStream(fileFromS3);\r\n            osS3.write(data);\r\n            osS3.close();\r\n\r\n            //Unzip s3 object to fileUpload of user\r\n            ZipFile zipFiles3 = new ZipFile(&quot;filesDelivery/s3/&quot; + s3KeyName);\r\n            zipFiles3.extractAll(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary);\r\n\r\n            //zip file response\r\n            new ZipFile(&quot;filesDelivery/response/&quot; + fileNameTemporary).addFolder(\r\n                    new File(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary));\r\n\r\n            File fileResponse = new File(&quot;filesDelivery/response/&quot; + fileNameTemporary);\r\n            //return\r\n            InputStreamResource resource = new InputStreamResource(new FileInputStream(fileResponse));\r\n            return ResponseEntity.ok()\r\n                    .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                    .body(resource);\r\n        } catch (AwsServiceException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nIt work well for small request , but when i use the for loop to send over 100 or 1000 request, it not work well, some request get status 500 with some error\r\n\r\nThis is my code to send request to server\r\n```\r\n  const array =  [...Array(100).keys()]\r\n\r\n    \r\n     Promise.all&lt;any&gt;(array.map(async item =&gt; {\r\n        formData.set(&quot;fileNameTemporary&quot;,fileInput.value.name + &quot;__&quot; + Date.now() + &quot;__&quot; + uuidv4());\r\n       \r\n        const response = await axios.post(\r\n      &quot;http://localhost:8080/delivery&quot;,\r\n      formData,\r\n      {\r\n        responseType: &quot;blob&quot;,\r\n      }\r\n    );\r\n    return response.data\r\n    \r\n    })).then(data =&gt;{\r\n        console.log({data})\r\n    }).catch(err =&gt;{\r\n        console.log({err})\r\n    })\r\n```\r\nThis is some error\r\n```\r\nnet.lingala.zip4j.exception.ZipException: Could not fill buffer\r\n```\r\n```\r\njava.io.EOFException: null\r\n```\r\nIs seem mess and some people recommend do not save file on disk, is it true?\r\nIf it true, are there any solution ?\r\n\r\n**THANKS FOR ALL**","title":"is it possible to working with complex file without save it on disk?","body":"<p>I have a task about working with file in java,user will push your file to api endpoint, i will unzip it, then modify it(ex: add some file, change some file), then return it to user.\nThis is my strategy:</p>\n<ol>\n<li>Get .zip file (save it on disk)</li>\n<li>Unzip it (save it on disk)</li>\n<li>Get some .zip file on S3 (save it on disk)</li>\n<li>Unzip s3 file to user upload file (save it on disk)</li>\n<li>zip user upload file again (save it on disk)</li>\n<li>return it to user</li>\n<li>Clean up file on disk</li>\n</ol>\n<p>This is my code</p>\n<pre><code>public Object deliveryApp(MultipartFile file, String s3KeyName, String fileNameTemporary) {\n        try {\n\n            //Save fileUpload to disk (.zip file)\n            OutputStream osFileUpload = new FileOutputStream(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\n            osFileUpload.write(file.getBytes());\n\n            //Unzip fileUpload\n            ZipFile zipFileUpload = new ZipFile(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\n            List&lt;FileHeader&gt; fileHeaders = zipFileUpload.getFileHeaders();\n\n\n            //If .zip file have mutiple root folder -&gt; return error\n            String rootFolderOfZipFile = fileHeaders.get(0).getFileName();\n            boolean isOneRootFolderInsideZipFile = true;\n\n            for (FileHeader fileHeader : fileHeaders) {\n                if (!fileHeader.getFileName().startsWith(rootFolderOfZipFile)) {\n                    isOneRootFolderInsideZipFile = false;\n                }\n            }\n\n            if (!isOneRootFolderInsideZipFile) return ResponseEntity.badRequest().body(&quot;have mutiple root folder inside .zip file&quot;);\n\n\n            //change root folder to avoid same app name of user\n            try {\n                zipFileUpload.getFileHeader(fileHeaders.get(0).getFileName());\n                zipFileUpload.renameFile(fileHeaders.get(0).getFileName(), fileNameTemporary);\n            } catch (ZipException e) {\n                throw new RuntimeException(e);\n            }\n\n            //Extract file to upload-extraction\n            zipFileUpload.extractAll(&quot;filesDelivery/upload-extraction&quot;);\n\n            //Get s3 object\n            GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(s3KeyName)\n                    .build();\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3Client.getObjectAsBytes(getObjectRequest);\n            byte[] data = objectBytes.asByteArray();\n\n            //Save s3 object to disk (.zip file)\n            File fileFromS3 = new File(&quot;filesDelivery/s3/&quot; + s3KeyName);\n            OutputStream osS3 = new FileOutputStream(fileFromS3);\n            osS3.write(data);\n            osS3.close();\n\n            //Unzip s3 object to fileUpload of user\n            ZipFile zipFiles3 = new ZipFile(&quot;filesDelivery/s3/&quot; + s3KeyName);\n            zipFiles3.extractAll(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary);\n\n            //zip file response\n            new ZipFile(&quot;filesDelivery/response/&quot; + fileNameTemporary).addFolder(\n                    new File(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary));\n\n            File fileResponse = new File(&quot;filesDelivery/response/&quot; + fileNameTemporary);\n            //return\n            InputStreamResource resource = new InputStreamResource(new FileInputStream(fileResponse));\n            return ResponseEntity.ok()\n                    .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                    .body(resource);\n        } catch (AwsServiceException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>It work well for small request , but when i use the for loop to send over 100 or 1000 request, it not work well, some request get status 500 with some error</p>\n<p>This is my code to send request to server</p>\n<pre><code>  const array =  [...Array(100).keys()]\n\n    \n     Promise.all&lt;any&gt;(array.map(async item =&gt; {\n        formData.set(&quot;fileNameTemporary&quot;,fileInput.value.name + &quot;__&quot; + Date.now() + &quot;__&quot; + uuidv4());\n       \n        const response = await axios.post(\n      &quot;http://localhost:8080/delivery&quot;,\n      formData,\n      {\n        responseType: &quot;blob&quot;,\n      }\n    );\n    return response.data\n    \n    })).then(data =&gt;{\n        console.log({data})\n    }).catch(err =&gt;{\n        console.log({err})\n    })\n</code></pre>\n<p>This is some error</p>\n<pre><code>net.lingala.zip4j.exception.ZipException: Could not fill buffer\n</code></pre>\n<pre><code>java.io.EOFException: null\n</code></pre>\n<p>Is seem mess and some people recommend do not save file on disk, is it true?\nIf it true, are there any solution ?</p>\n<p><strong>THANKS FOR ALL</strong></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1700493113,"post_id":77512697,"comment_id":136658043,"body_markdown":"*Two of those work perfectly fine* - which two? *But one of them* - which one? How is the code different between the two that work and the one that doesn&#39;t? That is what debugging is about. The code you posted doesn&#39;t help because you use 3rd party classes. When asking a question post a proper [mre]. Also, there is no need for a &quot;CardManager&quot; class. To swap panels you should be using a [Card Layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)","body":"<i>Two of those work perfectly fine</i> - which two? <i>But one of them</i> - which one? How is the code different between the two that work and the one that doesn&#39;t? That is what debugging is about. The code you posted doesn&#39;t help because you use 3rd party classes. When asking a question post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, there is no need for a &quot;CardManager&quot; class. To swap panels you should be using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">Card Layout</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700505087,"post_id":77512697,"comment_id":136660386,"body_markdown":"Answering the question in your title, you create an instance of the panel class and get the `JPanel` instance using a panel class getter.","body":"Answering the question in your title, you create an instance of the panel class and get the <code>JPanel</code> instance using a panel class getter."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700505385,"post_id":77512697,"comment_id":136660442,"body_markdown":"@camickr It is called CardManager because there will be some other functionality, buttons and etc., not because I manage the layout with it. For a Layout Manager I&#39;m using MigLayout. I added more code and a bit more explanation of what happens.","body":"@camickr It is called CardManager because there will be some other functionality, buttons and etc., not because I manage the layout with it. For a Layout Manager I&#39;m using MigLayout. I added more code and a bit more explanation of what happens."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700505472,"post_id":77512697,"comment_id":136660458,"body_markdown":"@GilbertLeBlanc That&#39;s exactly what I did, I think. I created an instance of CardManager in GUI class. CardManager class has a getter method, which just returns the main panel of the CardManager class. And then in switchToSettingsMenu method of GUI class, I call add function ```cardManager = new CardManager();\n        add(cardManager.getPanel(), BorderLayout.CENTER);```, but before that I remove the mainMenu panel. Unless I&#39;m not doing it the right way?","body":"@GilbertLeBlanc That&#39;s exactly what I did, I think. I created an instance of CardManager in GUI class. CardManager class has a getter method, which just returns the main panel of the CardManager class. And then in switchToSettingsMenu method of GUI class, I call add function <code>cardManager = new CardManager();         add(cardManager.getPanel(), BorderLayout.CENTER);</code>, but before that I remove the mainMenu panel. Unless I&#39;m not doing it the right way?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700506206,"post_id":77512697,"comment_id":136660563,"body_markdown":"1) The &quot;CardLayout&quot; should be the top level layout manager. It is used to swap panels. The MigLayout can be used on individual panels. Did you read the tutorial for a working example? 2) You still haven&#39;t stated which buttons work and which don&#39;t and what the code difference is? 3) Still haven&#39;t posted an [mre]. An MRE should be a single class that simulates the problem you are describing. We are not interest in the entire application. The tutorial I linked to has an MRE for you to understand and modify to meet your requirements.","body":"1) The &quot;CardLayout&quot; should be the top level layout manager. It is used to swap panels. The MigLayout can be used on individual panels. Did you read the tutorial for a working example? 2) You still haven&#39;t stated which buttons work and which don&#39;t and what the code difference is? 3) Still haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. An MRE should be a single class that simulates the problem you are describing. We are not interest in the entire application. The tutorial I linked to has an MRE for you to understand and modify to meet your requirements."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700506677,"post_id":77512697,"comment_id":136660644,"body_markdown":"@camickr BorderLayout should work fine, too, no?  Which is used as a top level layout manager. MigLayout is only used for other panels. I have stated which buttons work and which don&#39;t. And there&#39;s no code difference in how I&#39;m switching between panels. And I don&#39;t see how a single class example would help here, because maybe the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS. As per my understanding, it should be fine, but as I have already stated, I&#39;m new and still figuring stuff out, so I&#39;m not 100% sure.","body":"@camickr BorderLayout should work fine, too, no?  Which is used as a top level layout manager. MigLayout is only used for other panels. I have stated which buttons work and which don&#39;t. And there&#39;s no code difference in how I&#39;m switching between panels. And I don&#39;t see how a single class example would help here, because maybe the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS. As per my understanding, it should be fine, but as I have already stated, I&#39;m new and still figuring stuff out, so I&#39;m not 100% sure."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700509310,"post_id":77512697,"comment_id":136661055,"body_markdown":"So you still haven&#39;t read the CardLayout tutorial have you??? Yes, the frame uses a BorderLayout. The CardLayout is used on the panel holding the panels you want to swap. Read the tutorial and download the test code. That is how you learn. Start from a working example.  *I have stated which buttons work and which don&#39;t* - finally. *there&#39;s no code difference in how I&#39;m switching between panels* - what??? Have you actually looked at the methods &quot;switchToGame&quot; and &quot;switchToSettingsMenu&quot;? They look different to me.","body":"So you still haven&#39;t read the CardLayout tutorial have you??? Yes, the frame uses a BorderLayout. The CardLayout is used on the panel holding the panels you want to swap. Read the tutorial and download the test code. That is how you learn. Start from a working example.  <i>I have stated which buttons work and which don&#39;t</i> - finally. <i>there&#39;s no code difference in how I&#39;m switching between panels</i> - what??? Have you actually looked at the methods &quot;switchToGame&quot; and &quot;switchToSettingsMenu&quot;? They look different to me."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700509366,"post_id":77512697,"comment_id":136661059,"body_markdown":"*the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS* - once you understand how CardLayout works you can simply use the `getParent()` method of the child panels to access the panel using the CardLayout. Then you use the CardLayout to swap panels. But first you need to understand how to use CardLayout.","body":"<i>the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS</i> - once you understand how CardLayout works you can simply use the <code>getParent()</code> method of the child panels to access the panel using the CardLayout. Then you use the CardLayout to swap panels. But first you need to understand how to use CardLayout."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700520937,"post_id":77512697,"comment_id":136662650,"body_markdown":"Okey, let&#39;s say I use the CardLayout, but that still doesn&#39;t do anything good for me, because I want to understand what&#39;s exactly wrong with my own method. Like, I appreciate the help, but right now you&#39;re just saying use that, not this, but not explaining why this doesn&#39;t work. And now I really did read through the CardLayout tutorial and while it seems easier, I still want to understand what I did wrong with my own method. Because switching to gamePanel works fine, but not to cardManager.","body":"Okey, let&#39;s say I use the CardLayout, but that still doesn&#39;t do anything good for me, because I want to understand what&#39;s exactly wrong with my own method. Like, I appreciate the help, but right now you&#39;re just saying use that, not this, but not explaining why this doesn&#39;t work. And now I really did read through the CardLayout tutorial and while it seems easier, I still want to understand what I did wrong with my own method. Because switching to gamePanel works fine, but not to cardManager."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700521054,"post_id":77512697,"comment_id":136662664,"body_markdown":"And I really don&#39;t see how those two methods are different, they both do the same thing, they both have same lines. The only difference is in which panels they add. And both panel classes, have the same getters method. Just returns a panel specific to the class. Even constructors for both classes are technically the same. So I really don&#39;t see, how you look at that and see two completely different methods, to be honest. I really appreciate the help, but right now you&#39;re just poking with that only method, like it&#39;s the only method you can do, not really explaining why my method doesn&#39;t work.","body":"And I really don&#39;t see how those two methods are different, they both do the same thing, they both have same lines. The only difference is in which panels they add. And both panel classes, have the same getters method. Just returns a panel specific to the class. Even constructors for both classes are technically the same. So I really don&#39;t see, how you look at that and see two completely different methods, to be honest. I really appreciate the help, but right now you&#39;re just poking with that only method, like it&#39;s the only method you can do, not really explaining why my method doesn&#39;t work."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700528871,"post_id":77512697,"comment_id":136663388,"body_markdown":"And I already told you I can&#39;t help because you haven&#39;t posted an [mre]. You posted incomplete blocks of code an expect us to understand it. It doesn&#39;t work that way.  It is NOT easy to visualize the GUI in our heads to see what happens when one button is clicked vs another button. We need to be able to debug the code to see how it works. Notice how no other person has commented? That is because you haven&#39;t made it easy to answer the question without the MRE.","body":"And I already told you I can&#39;t help because you haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You posted incomplete blocks of code an expect us to understand it. It doesn&#39;t work that way.  It is NOT easy to visualize the GUI in our heads to see what happens when one button is clicked vs another button. We need to be able to debug the code to see how it works. Notice how no other person has commented? That is because you haven&#39;t made it easy to answer the question without the MRE."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700528958,"post_id":77512697,"comment_id":136663395,"body_markdown":"Again you issue is with the swapping of panels when you click a button. The logic behind the game is irrelevant. The [mre] should be a simple version of your application that simply swaps panels. You have been given a working example from the tutorial showing the concept of an MRE. Take time to create your own if you want help with your design. And as I stated the MigLayout is a 3rd party class is irrelevant to the concept of swapping panels, unless maybe it is the reason why it doesn&#39;t work? So the MRE should use standard JDK classes.","body":"Again you issue is with the swapping of panels when you click a button. The logic behind the game is irrelevant. The <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be a simple version of your application that simply swaps panels. You have been given a working example from the tutorial showing the concept of an MRE. Take time to create your own if you want help with your design. And as I stated the MigLayout is a 3rd party class is irrelevant to the concept of swapping panels, unless maybe it is the reason why it doesn&#39;t work? So the MRE should use standard JDK classes."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700530148,"post_id":77512697,"comment_id":136663498,"body_markdown":"Maybe the issue is that you keep creating a new instance of the CardManager class. Maybe the reference to the &quot;cardManager&quot; variable is not what you expect because the methods that create and then reference the variable are not in the order you think. I would only ever create a single instance of the CardManager class.","body":"Maybe the issue is that you keep creating a new instance of the CardManager class. Maybe the reference to the &quot;cardManager&quot; variable is not what you expect because the methods that create and then reference the variable are not in the order you think. I would only ever create a single instance of the CardManager class."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700609677,"post_id":77512697,"comment_id":136675257,"body_markdown":"@camickr Thank you and sorry if I came out rude. Actually, trying to create an MRE helped find the problem. I rewrote the whole post, only providing code blocks, which were problematic and I would really like to know if the way I&#39;m doing it is right or should I do it another way?","body":"@camickr Thank you and sorry if I came out rude. Actually, trying to create an MRE helped find the problem. I rewrote the whole post, only providing code blocks, which were problematic and I would really like to know if the way I&#39;m doing it is right or should I do it another way?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700619420,"post_id":77512697,"comment_id":136676063,"body_markdown":"No it is NOT an MRE. We can&#39;t copy/paste/compile/test code blocks. I&#39;ve already told you that the tutorial link provides a simple example of an MRE with all the logic in one file.","body":"No it is NOT an MRE. We can&#39;t copy/paste/compile/test code blocks. I&#39;ve already told you that the tutorial link provides a simple example of an MRE with all the logic in one file."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700664679,"post_id":77512697,"comment_id":136682580,"body_markdown":"You’re right, it’s not minimal variant, but complete, which is mentioned in the link you provided. I left code blocks, snippets of the code of each file, which is mentioned that you can do, where I need more help understanding how it should be done the right way. And I tried to provide as much information as possible in the text.","body":"You’re right, it’s not minimal variant, but complete, which is mentioned in the link you provided. I left code blocks, snippets of the code of each file, which is mentioned that you can do, where I need more help understanding how it should be done the right way. And I tried to provide as much information as possible in the text."}],"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700609605,"creation_date":1700431981,"question_id":77512697,"body_markdown":"so I&#39;m still a newbie to all this Java and Swing GUI thing. I switch between the panels from time to time and pretty much all of them has a Back button to go back to the main panel. The problem is, the method that I use to switch to that panel is in my main GUI class, if you can call that and I create an ActionListener in GUIUtils class, where I have all different methods to create stuff in the UI, so I don&#39;t need to rewrite everything every single time. The problem is, I asked for help from ChatGPT and I kind of understood how it works, but right now, I understand that I don&#39;t. So I would appreciate the help to make it right.\r\n\r\nI will just give you a few CodeBlocks that would recreate the problem. \r\n\r\nMy main GUI class has this method\r\n\r\n```\r\npublic void switchToMainMenu() {\r\n        getContentPane().remove(cardManager.getPanel());\r\n        add(createMainMenu(), BorderLayout.CENTER);\r\n        revalidate();\r\n        repaint();\r\n    }\r\n```\r\n\r\nWhich, right now, isn&#39;t really flexible, but for my app, it does the job. Because at the moment, I really only have one panel, that has a Back button, so this code deletes that panel, and adds a main menu panel.\r\n\r\nAnd this is a snippet from my GUIUtils class. I create a BackButtonActionListener with a reference, I think that&#39;s the right word for it, to the GUI class, so that it can use it&#39;s method. And a getter for it, not sure if it&#39;s a 100% needed, but without it, it won&#39;t work.\r\n\r\n```java\r\npublic static class BackButtonAction implements ActionListener {\r\n        private final GUI interfaceAssociation;\r\n\r\n        public BackButtonAction(GUI gui) {\r\n            this.interfaceAssociation = gui;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            interfaceAssociation.switchToMainMenu();\r\n        }\r\n    }\r\n\r\n    public static ActionListener getBackButtonAction(GUI gui) {\r\n        return new BackButtonAction(gui);\r\n    }\r\n```\r\n\r\nAnd lastly, my CardManager panel&#39;s creation of a button\r\n\r\n```java\r\nJButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(new GUI()));\r\n```\r\n\r\nAs I understand, I create a new GUI in it instead of passing a reference to it. I understood that and I fixed by passing a reference to the GUI class in the CardManager&#39;s constructor, not sure if those are the right words for it. \r\n\r\n```java\r\nprivate GUI gui;\r\n\r\n    public CardManager(GUI gui) {\r\n        this.gui = gui;\r\n    }\r\n```\r\n\r\nAnd creating a button like this\r\n\r\n```java\r\nJButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(gui));\r\n```\r\n\r\nSo, what I wanna know, is this the only way to do it, or is there a more elegant, right method to do something like this?\r\n\r\n","title":"How to properly link classes, so I can use it&#39;s methods in other classes?","body":"<p>so I'm still a newbie to all this Java and Swing GUI thing. I switch between the panels from time to time and pretty much all of them has a Back button to go back to the main panel. The problem is, the method that I use to switch to that panel is in my main GUI class, if you can call that and I create an ActionListener in GUIUtils class, where I have all different methods to create stuff in the UI, so I don't need to rewrite everything every single time. The problem is, I asked for help from ChatGPT and I kind of understood how it works, but right now, I understand that I don't. So I would appreciate the help to make it right.</p>\n<p>I will just give you a few CodeBlocks that would recreate the problem.</p>\n<p>My main GUI class has this method</p>\n<pre><code>public void switchToMainMenu() {\n        getContentPane().remove(cardManager.getPanel());\n        add(createMainMenu(), BorderLayout.CENTER);\n        revalidate();\n        repaint();\n    }\n</code></pre>\n<p>Which, right now, isn't really flexible, but for my app, it does the job. Because at the moment, I really only have one panel, that has a Back button, so this code deletes that panel, and adds a main menu panel.</p>\n<p>And this is a snippet from my GUIUtils class. I create a BackButtonActionListener with a reference, I think that's the right word for it, to the GUI class, so that it can use it's method. And a getter for it, not sure if it's a 100% needed, but without it, it won't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class BackButtonAction implements ActionListener {\n        private final GUI interfaceAssociation;\n\n        public BackButtonAction(GUI gui) {\n            this.interfaceAssociation = gui;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            interfaceAssociation.switchToMainMenu();\n        }\n    }\n\n    public static ActionListener getBackButtonAction(GUI gui) {\n        return new BackButtonAction(gui);\n    }\n</code></pre>\n<p>And lastly, my CardManager panel's creation of a button</p>\n<pre class=\"lang-java prettyprint-override\"><code>JButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(new GUI()));\n</code></pre>\n<p>As I understand, I create a new GUI in it instead of passing a reference to it. I understood that and I fixed by passing a reference to the GUI class in the CardManager's constructor, not sure if those are the right words for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private GUI gui;\n\n    public CardManager(GUI gui) {\n        this.gui = gui;\n    }\n</code></pre>\n<p>And creating a button like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>JButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(gui));\n</code></pre>\n<p>So, what I wanna know, is this the only way to do it, or is there a more elegant, right method to do something like this?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1700627151,"post_id":77526519,"comment_id":136676659,"body_markdown":"_Exactly_ what version of Java&#39;s `keytool` did you use to create the keystore and what version to run the server? Some versions more than about 2 years old had bugs in the handling of PBES2Parameters and they varied over time. If you have or can get OpenSSL do `openssl pkcs12 -in keystorefile -info -noout` and see if it thinks the structure is okay. Or a cheap workaround is to use storetype JKS instead; although noninteroperable _and_ weak by design, this has never had implementation bugs :-?","body":"<i>Exactly</i> what version of Java&#39;s <code>keytool</code> did you use to create the keystore and what version to run the server? Some versions more than about 2 years old had bugs in the handling of PBES2Parameters and they varied over time. If you have or can get OpenSSL do <code>openssl pkcs12 -in keystorefile -info -noout</code> and see if it thinks the structure is okay. Or a cheap workaround is to use storetype JKS instead; although noninteroperable <i>and</i> weak by design, this has never had implementation bugs :-?"},{"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"score":0,"creation_date":1700645227,"post_id":77526519,"comment_id":136678921,"body_markdown":"@dave_thompson_085 \nIt&#39;s actually very strange: when running the server I get an weird illegal option message\nI tried to reinstall it but with no success :(","body":"@dave_thompson_085  It&#39;s actually very strange: when running the server I get an weird illegal option message I tried to reinstall it but with no success :("}],"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700609380,"creation_date":1700609380,"question_id":77526519,"body_markdown":"\r\nI&#39;m trying to write a SSL server in Java\r\n\r\nHere&#39;s my server\r\n\r\n    private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\r\n    private final static String keyStoreFile = &quot;server1.keystore&quot;;\r\n    private final static String passwd = &quot;123456&quot;;\r\n\r\n    private final static int theServerPort = 8443;\r\n\r\n    private static boolean debug = false;\r\n\r\n    private void doServerSide() throws Exception {\r\n        SSLServerSocketFactory sslssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n        SSLServerSocket sslServerSocket = (SSLServerSocket) sslssf.createServerSocket(theServerPort);\r\n\r\n        SSLSocket sslSocket = (SSLSocket) sslServerSocket.accept();\r\n        InputStream sslIS = sslSocket.getInputStream();\r\n\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sslIS));\r\n\r\n        String string = null;\r\n        while ((string = bufferedReader.readLine()) != null) {\r\n            System.out.println(string);\r\n            System.out.flush();\r\n        }\r\n        sslSocket.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;); // NOT SURE!!!\r\n\r\n        String trustFilename = pathToStores + &quot;\\\\&quot; + keyStoreFile;\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, trustFilename);\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, passwd);\r\n\r\n        if (debug) {\r\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n        }\r\n\r\n        new TLSServer().doServerSide();\r\n    }\r\n\r\nI generate a key using this:\r\n    keytool -genkey -keystore server1.keystore -keyalg RSA\r\nIn my C:\\Users\\Sky\r\n\r\nBut I&#39;m getting this error:\r\n\r\n\r\n \r\n\r\n        Exception in thread &quot;main&quot; java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:160)\r\n    \tat javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:173)\r\n    \tat org.example.TLSServer.doServerSide(TLSServer.java:58)\r\n    \tat org.example.TLSServer.main(TLSServer.java:85)\r\n    Caused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1617)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n    \tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\r\n    \tat javax.net.ssl.SSLContext.getDefault(SSLContext.java:96)\r\n    \tat javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:113)\r\n    \tat org.example.TLSServer.doServerSide(TLSServer.java:57)\r\n    \t... 1 more\r\n    Caused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:816)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2018)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getKeyManagers(SSLContextImpl.java:965)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:864)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1027)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1595)\r\n    \t... 7 more\r\n    Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n    \tat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\r\n    \tat sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\r\n    \tat com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\r\n    \tat java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:812)\r\n    \t... 17 more\r\n\r\nI have asolutely no clue why this happens. The key was generated... I&#39;ve been stuck with this for a few hours.\r\n\r\nBesides this I got this client:\r\n\r\n    private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\r\n        //private final static String trustStoreFile = &quot;keystore1,jks&quot;;\r\n        private final static String trustStoreFile = &quot;mytruststore.truststore&quot;;\r\n        private final static String passwd = &quot;123456&quot;;\r\n    \r\n        private static String theServerName = &quot;localhost&quot;;\r\n        private final static int theServerPort = 12345;\r\n    \r\n        private static boolean debug = false;\r\n    \r\n        private void doClientSide() throws Exception {\r\n            SSLSocketFactory sslsf = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n            SSLSocket sslSocket = (SSLSocket) sslsf.createSocket(theServerName, theServerPort);\r\n    \r\n            OutputStream sslOS = sslSocket.getOutputStream();\r\n            sslOS.write(&quot;Hello from TLS Client!\\n&quot;.getBytes());\r\n            sslOS.flush();\r\n            sslSocket.close();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String trustFilename = pathToStores + &quot;/&quot; + trustStoreFile;\r\n    \r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustFilename);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, passwd);\r\n    \r\n            if (debug) {\r\n                System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n            }\r\n    \r\n            new TLSClient().doClientSide();\r\n        }\r\n\r\nHow do I generate a truststore?\r\n\r\n\r\nThe end goal should be to convert it to a TLS server. It shouldn&#39;t be too dificult if I solve this.\r\nAny help would be highly appreciated. Sincerely.","title":"How to properly generate an SSL key?","body":"<p>I'm trying to write a SSL server in Java</p>\n<p>Here's my server</p>\n<pre><code>private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\nprivate final static String keyStoreFile = &quot;server1.keystore&quot;;\nprivate final static String passwd = &quot;123456&quot;;\n\nprivate final static int theServerPort = 8443;\n\nprivate static boolean debug = false;\n\nprivate void doServerSide() throws Exception {\n    SSLServerSocketFactory sslssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n    SSLServerSocket sslServerSocket = (SSLServerSocket) sslssf.createServerSocket(theServerPort);\n\n    SSLSocket sslSocket = (SSLSocket) sslServerSocket.accept();\n    InputStream sslIS = sslSocket.getInputStream();\n\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sslIS));\n\n    String string = null;\n    while ((string = bufferedReader.readLine()) != null) {\n        System.out.println(string);\n        System.out.flush();\n    }\n    sslSocket.close();\n}\n\npublic static void main(String[] args) throws Exception {\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;); // NOT SURE!!!\n\n    String trustFilename = pathToStores + &quot;\\\\&quot; + keyStoreFile;\n\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, trustFilename);\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, passwd);\n\n    if (debug) {\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n    }\n\n    new TLSServer().doServerSide();\n}\n</code></pre>\n<p>I generate a key using this:\nkeytool -genkey -keystore server1.keystore -keyalg RSA\nIn my C:\\Users\\Sky</p>\n<p>But I'm getting this error:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:160)\n    at javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:173)\n    at org.example.TLSServer.doServerSide(TLSServer.java:58)\n    at org.example.TLSServer.main(TLSServer.java:85)\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.security.Provider$Service.newInstance(Provider.java:1617)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\n    at javax.net.ssl.SSLContext.getDefault(SSLContext.java:96)\n    at javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:113)\n    at org.example.TLSServer.doServerSide(TLSServer.java:57)\n    ... 1 more\nCaused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n    at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:816)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2018)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getKeyManagers(SSLContextImpl.java:965)\n    at sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:864)\n    at sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1027)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.security.Provider$Service.newInstance(Provider.java:1595)\n    ... 7 more\nCaused by: java.io.IOException: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n    at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\n    at sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\n    at com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\n    at java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\n    at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:812)\n    ... 17 more\n</code></pre>\n<p>I have asolutely no clue why this happens. The key was generated... I've been stuck with this for a few hours.</p>\n<p>Besides this I got this client:</p>\n<pre><code>private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\n    //private final static String trustStoreFile = &quot;keystore1,jks&quot;;\n    private final static String trustStoreFile = &quot;mytruststore.truststore&quot;;\n    private final static String passwd = &quot;123456&quot;;\n\n    private static String theServerName = &quot;localhost&quot;;\n    private final static int theServerPort = 12345;\n\n    private static boolean debug = false;\n\n    private void doClientSide() throws Exception {\n        SSLSocketFactory sslsf = (SSLSocketFactory) SSLSocketFactory.getDefault();\n        SSLSocket sslSocket = (SSLSocket) sslsf.createSocket(theServerName, theServerPort);\n\n        OutputStream sslOS = sslSocket.getOutputStream();\n        sslOS.write(&quot;Hello from TLS Client!\\n&quot;.getBytes());\n        sslOS.flush();\n        sslSocket.close();\n\n    }\n\n    public static void main(String[] args) throws Exception {\n        String trustFilename = pathToStores + &quot;/&quot; + trustStoreFile;\n\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustFilename);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, passwd);\n\n        if (debug) {\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n        }\n\n        new TLSClient().doClientSide();\n    }\n</code></pre>\n<p>How do I generate a truststore?</p>\n<p>The end goal should be to convert it to a TLS server. It shouldn't be too dificult if I solve this.\nAny help would be highly appreciated. Sincerely.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700471191,"post_id":77514367,"comment_id":136654141,"body_markdown":"can you please add the error message of the stacktrace following the &quot;Caused by&quot; that&#39;s visible in your screenshot to your question?","body":"can you please add the error message of the stacktrace following the &quot;Caused by&quot; that&#39;s visible in your screenshot to your question?"},{"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"score":0,"creation_date":1700471427,"post_id":77514367,"comment_id":136654173,"body_markdown":"@cyberbrain : Updated the complete error stack trace","body":"@cyberbrain : Updated the complete error stack trace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1700471631,"post_id":77514367,"comment_id":136654197,"body_markdown":"Let me guess you are &quot;following&quot; a tutorial and decided to upgrade to the newest available library versions. Then you got compilation errors and decided to add a dependency to fix the compilation errors. In your entity replace the `javax.persistence` imports with `jakarta.persistence` and remove the additional dependencies you have.","body":"Let me guess you are &quot;following&quot; a tutorial and decided to upgrade to the newest available library versions. Then you got compilation errors and decided to add a dependency to fix the compilation errors. In your entity replace the <code>javax.persistence</code> imports with <code>jakarta.persistence</code> and remove the additional dependencies you have."},{"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"score":0,"creation_date":1700485445,"post_id":77514367,"comment_id":136656585,"body_markdown":"Hello @M.Deinum, thanks a lot, it worked. Also, you guessed everything right!! :)","body":"Hello @M.Deinum, thanks a lot, it worked. Also, you guessed everything right!! :)"}],"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700608896,"creation_date":1700468721,"question_id":77514367,"body_markdown":"I am new to Spring Boot and created a basic Restful CRUD API project: OnlineNotes using Spring Boot-JPA-MySQL(Maven-based).\r\nI am trying to run the project in IntelliJ and facing below error:\r\n\r\n``` lang-none\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;noteController&#39;: Unsatisfied dependency expressed through field &#39;noteRepository&#39;: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n2023-11-17T13:26:26.210+05:30 ERROR 25956 --- [main] o.s.boot.SpringApplication: Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;noteController&#39;: Unsatisfied dependency expressed through field &#39;noteRepository&#39;: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.example.notesApp.NotesAppApplication.main(NotesAppApplication.java:13) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 30 common frames omitted\r\n\r\n\r\n```\r\n![screenshot of stacktrace](https://i.stack.imgur.com/qln3u.png)\r\n\r\nI checked other answers in stackOverFlow and implemented the solution, still facing the issue.\r\n\r\n\r\nI have created project structure from Spring Initialzr with below structure:\r\n\r\n```    \r\n    notesApp\r\n├── src\r\n│   ├── main\r\n│   │   ├── java\r\n│   │   │   ├── com\r\n│   │   │   │   ├── example\r\n│   │   │   │   │   ├── notesApp\r\n│   │   │   │   │   │   ├── controller\r\n│   │   │   │   │   │   │   ├── NoteController.java\r\n│   │   │   │   │   │   ├── model\r\n│   │   │   │   │   │   │   ├── Notes.java\r\n│   │   │   │   │   │   ├── repository\r\n│   │   │   │   │   │   │   ├── NoteRepository.java\r\n│   │   │   │   │   │   ├── NotesAppApplication.java\r\n```\r\nBelow is the list of project files created:\r\n\r\n1. Model class: Notes.java \r\n\r\n``` lang-java\r\n@Entity//Marks class as entity class for component scan\r\n@Table (name = &quot;notes&quot;)//Creates table named notes in DB\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;,&quot;updatedAt&quot;}, allowGetters = true)//Makes variables un-editable for users by ignoring values if client provides in put/update service call\r\n\r\npublic class Notes implements Serializable {\r\n\r\n    @Id//Defines upcoming var as primary key in table\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)//Allows auto-increment for primary key\r\n    private long id;\r\n\r\n    @NotBlank\r\n    private String title;\r\n\r\n    @NotBlank\r\n    private String content;\r\n\r\n    @Column(nullable = false, updatable = false)//Defines column properties in DB\r\n    @Temporal(TemporalType.TIMESTAMP)//Converts dates in appropriate formats in DB\r\n    @CreatedDate\r\n    private Date createdAt;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @LastModifiedDate\r\n    private Date updatedAt;\r\n```\r\n\r\n2. Repository class: NoteRepository.java\r\n\r\n\r\n``` lang-java\r\npackage com.example.notesApp.repository;\r\n\r\nimport com.example.notesApp.model.Notes;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository//Asks Spring to bootstrap the repository during component scan\r\npublic interface NoteRepository extends JpaRepository&lt;Notes, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n3.Controller : NoteController.java\r\n\r\n\r\n``` lang-java\r\n//Controller to create, retrieve, Update, delete a note\r\n@RestController //Combination of @Controller and @ResponseBody\r\n//@Controller defines this class is Controller to be bootstrapped while component scan\r\n//@ResponseBody indicates the return value of method will be the response body\r\n@RequestMapping(value = &quot;/api&quot;)\r\n//@RequestMapping defines the pattern of request URL\r\npublic class NoteController {\r\n\r\n\r\n    @Autowired\r\n    NoteRepository noteRepository;\r\n\r\n    //Get all notes\r\n    @GetMapping(value = &quot;/notes&quot;)//@GetMapping handles the HTTP Get request and maps GET /notes/ URL to getAllNotes method\r\n    public List&lt;Notes&gt; getAllNotes(){\r\n        return noteRepository.findAll();\r\n    }\r\n\r\n    //Get a single note\r\n    @GetMapping(value = &quot;notes/{id}&quot;) //@GetMapping handles the HTTP Get request and maps GET /notes/{id} URL to getNotesById method\r\n    public Notes getNotesById(@PathVariable(value = &quot;id&quot;) long id){\r\n        return noteRepository.findById(id).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\r\n\r\n    }\r\n\r\n    //Create a note\r\n    @PostMapping (value = &quot;/notes&quot;)//@PostMapping handles the HTTP POST request and maps POST /notes/ URL to createNote method\r\n    public Notes createNote (@Valid @RequestBody Notes notes){\r\n        //@Valid makes sure Request Body is valid as Title and Content of request is assigned to @NotNull annotation\r\n        //@RequestBody binds request with method parameters\r\n        return noteRepository.save(notes);\r\n    }\r\n\r\n    //Update a note\r\n    @PutMapping(value = &quot;notes/{id}&quot;)//@PutMapping handles the PUT request and maps PUT /notes/{Id} URl to updateNote method\r\n    public Notes updateNote(@PathVariable(value = &quot;id&quot;)long noteId, Notes UpdatedNote){\r\n        Notes note = noteRepository.findById(noteId).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,noteId));\r\n        //Only Title and content are eligible for update\r\n        note.setTitle(UpdatedNote.getTitle());\r\n        note.setContent(UpdatedNote.getContent());\r\n\r\n        return noteRepository.save(note);\r\n    }\r\n\r\n    //Delete a note\r\n    @DeleteMapping(value = &quot;notes/{id}&quot;)//@DeleteMapping handles DELETE request and maps DELETE notes/{id} to deleteNote method\r\n    public void deleteNote(@PathVariable(value = &quot;id&quot;)long id){\r\n        Notes note = noteRepository.findById(id).orElseThrow(()-&gt; new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\r\n        noteRepository.delete(note);\r\n    }\r\n}\r\n```\r\n\r\nPlease help in resolving the error.\r\n","title":"The SpringBoot application fails to load with error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>I am new to Spring Boot and created a basic Restful CRUD API project: OnlineNotes using Spring Boot-JPA-MySQL(Maven-based).\nI am trying to run the project in IntelliJ and facing below error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'noteController': Unsatisfied dependency expressed through field 'noteRepository': Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n2023-11-17T13:26:26.210+05:30 ERROR 25956 --- [main] o.s.boot.SpringApplication: Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'noteController': Unsatisfied dependency expressed through field 'noteRepository': Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.example.notesApp.NotesAppApplication.main(NotesAppApplication.java:13) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.notesApp.model.Notes\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 30 common frames omitted\n\n\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/qln3u.png\" alt=\"screenshot of stacktrace\" /></p>\n<p>I checked other answers in stackOverFlow and implemented the solution, still facing the issue.</p>\n<p>I have created project structure from Spring Initialzr with below structure:</p>\n<pre><code>    notesApp\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   ├── com\n│   │   │   │   ├── example\n│   │   │   │   │   ├── notesApp\n│   │   │   │   │   │   ├── controller\n│   │   │   │   │   │   │   ├── NoteController.java\n│   │   │   │   │   │   ├── model\n│   │   │   │   │   │   │   ├── Notes.java\n│   │   │   │   │   │   ├── repository\n│   │   │   │   │   │   │   ├── NoteRepository.java\n│   │   │   │   │   │   ├── NotesAppApplication.java\n</code></pre>\n<p>Below is the list of project files created:</p>\n<ol>\n<li>Model class: Notes.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity//Marks class as entity class for component scan\n@Table (name = &quot;notes&quot;)//Creates table named notes in DB\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;,&quot;updatedAt&quot;}, allowGetters = true)//Makes variables un-editable for users by ignoring values if client provides in put/update service call\n\npublic class Notes implements Serializable {\n\n    @Id//Defines upcoming var as primary key in table\n    @GeneratedValue (strategy = GenerationType.IDENTITY)//Allows auto-increment for primary key\n    private long id;\n\n    @NotBlank\n    private String title;\n\n    @NotBlank\n    private String content;\n\n    @Column(nullable = false, updatable = false)//Defines column properties in DB\n    @Temporal(TemporalType.TIMESTAMP)//Converts dates in appropriate formats in DB\n    @CreatedDate\n    private Date createdAt;\n\n    @Column(nullable = false, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    private Date updatedAt;\n</code></pre>\n<ol start=\"2\">\n<li>Repository class: NoteRepository.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.notesApp.repository;\n\nimport com.example.notesApp.model.Notes;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository//Asks Spring to bootstrap the repository during component scan\npublic interface NoteRepository extends JpaRepository&lt;Notes, Long&gt; {\n\n}\n\n</code></pre>\n<p>3.Controller : NoteController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Controller to create, retrieve, Update, delete a note\n@RestController //Combination of @Controller and @ResponseBody\n//@Controller defines this class is Controller to be bootstrapped while component scan\n//@ResponseBody indicates the return value of method will be the response body\n@RequestMapping(value = &quot;/api&quot;)\n//@RequestMapping defines the pattern of request URL\npublic class NoteController {\n\n\n    @Autowired\n    NoteRepository noteRepository;\n\n    //Get all notes\n    @GetMapping(value = &quot;/notes&quot;)//@GetMapping handles the HTTP Get request and maps GET /notes/ URL to getAllNotes method\n    public List&lt;Notes&gt; getAllNotes(){\n        return noteRepository.findAll();\n    }\n\n    //Get a single note\n    @GetMapping(value = &quot;notes/{id}&quot;) //@GetMapping handles the HTTP Get request and maps GET /notes/{id} URL to getNotesById method\n    public Notes getNotesById(@PathVariable(value = &quot;id&quot;) long id){\n        return noteRepository.findById(id).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\n\n    }\n\n    //Create a note\n    @PostMapping (value = &quot;/notes&quot;)//@PostMapping handles the HTTP POST request and maps POST /notes/ URL to createNote method\n    public Notes createNote (@Valid @RequestBody Notes notes){\n        //@Valid makes sure Request Body is valid as Title and Content of request is assigned to @NotNull annotation\n        //@RequestBody binds request with method parameters\n        return noteRepository.save(notes);\n    }\n\n    //Update a note\n    @PutMapping(value = &quot;notes/{id}&quot;)//@PutMapping handles the PUT request and maps PUT /notes/{Id} URl to updateNote method\n    public Notes updateNote(@PathVariable(value = &quot;id&quot;)long noteId, Notes UpdatedNote){\n        Notes note = noteRepository.findById(noteId).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,noteId));\n        //Only Title and content are eligible for update\n        note.setTitle(UpdatedNote.getTitle());\n        note.setContent(UpdatedNote.getContent());\n\n        return noteRepository.save(note);\n    }\n\n    //Delete a note\n    @DeleteMapping(value = &quot;notes/{id}&quot;)//@DeleteMapping handles DELETE request and maps DELETE notes/{id} to deleteNote method\n    public void deleteNote(@PathVariable(value = &quot;id&quot;)long id){\n        Notes note = noteRepository.findById(id).orElseThrow(()-&gt; new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\n        noteRepository.delete(note);\n    }\n}\n</code></pre>\n<p>Please help in resolving the error.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1700650181,"post_id":77526489,"comment_id":136679878,"body_markdown":"You are more likely to get a useful answer if you slim down your question. You could start [here](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You are more likely to get a useful answer if you slim down your question. You could start <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">here</a>"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1700668011,"post_id":77526489,"comment_id":136683339,"body_markdown":"I have provided classes, mappers, and a runnable test. I could also edit the code to group my code so that it makes more sense as a whole. Would a visual diagram be helpful? I could draw one up. This is rather hard to describe. &#128517;","body":"I have provided classes, mappers, and a runnable test. I could also edit the code to group my code so that it makes more sense as a whole. Would a visual diagram be helpful? I could draw one up. This is rather hard to describe. 😅"}],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700608852,"creation_date":1700608852,"question_id":77526489,"body_markdown":"So, I have a lilttle bit of a conundrum. I know these class names might be a little confusing, apologies.\r\n\r\nLet’s say these are the objects I’m working with:\r\n\r\n```jsx\r\n@Getter\r\n@Setter\r\npublic class EntityPO {\r\n\t\tprivate String firstName\r\n\t\tprivate String businessName;\r\n}\r\n```\r\n\r\n```jsx\r\n@Getter\r\n@Setter\r\npublic class AIOwner {\r\n\t  private String firstName;\r\n\t\tprivate String name1;\r\n}\r\n```\r\n\r\n```jsx\r\npublic class AICoBorrower extends AIOwner {\r\n\t\t// blank for clarity \r\n}\r\n```\r\n\r\n```jsx\r\npublic class CoBorrowerPO {\r\n\t\t//this class itself does not contain firstName or name1/businessName fields.\r\n\t\tprotected EntityPO entity;\r\n}\r\n```\r\n\r\nand I have  a mapper that basically maps `entityPO` &amp; `aiowner`.\r\n\r\ntest:\r\n\r\n```jsx\r\n@Test\r\n  public void coBorrowerMappingTest() {\r\n\r\n    CoBorrowerPO coPO = srp.makeCoBorrowerPO();\r\n    //map to ai\r\n    AICoBorrower coAI = AICoBorrowerMapper.INSTANCE.toAICoBorrower(coPO);\r\n    //assert all fields\r\n    assertEquals(coPO.getEntity().getFirstName(), coAI.getFirstName());\r\n\r\n  }\r\n```\r\n\r\nmapper code:\r\n\r\n```jsx\r\n@Mapper(uses = { AIPhoneMapper.class, AIAddressMapper.class })\r\npublic interface AIOwnerMapper {\r\n  AIOwnerMapper INSTANCE = Mappers.getMapper(AIOwnerMapper.class);\r\n\r\n  @Mapping(target = &quot;name1&quot;, source = &quot;businessName&quot;)\r\n  AIOwner toAIOwner(EntityPO entityPO);\r\n\r\n  @InheritInverseConfiguration\r\n  EntityPO toEntityPO(AIOwner aiOwner);\r\n\r\n}\r\n```\r\n\r\n```jsx\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = { AIOwnerMapper.class })\r\npublic interface AICoBorrowerMapper extends AIOwnerMapper {\r\n  AICoBorrowerMapper INSTANCE = Mappers.getMapper(AICoBorrowerMapper.class);\r\n\r\n  AICoBorrower toAICoBorrower(CoBorrowerPO coBorrower);\r\n\r\n  @AfterMapping\r\n  default AICoBorrower afterMapping(CoBorrowerPO coBorrowerPO) {\r\n    if (coBorrowerPO == null) {\r\n      return null;\r\n    }\r\n\r\n    AICoBorrower aiCoBorrower = new AICoBorrower();\r\n    AIOwner aiOwner = AIOwnerMapper.INSTANCE.toAIOwner(coBorrowerPO.getEntity());\r\n    aiCoBorrower.setName1(aiOwner.getName1());\r\n    aiCoBorrower.setFirstName(aiOwner.getFirstName());\r\n\r\n    return aiCoBorrower;\r\n  }\r\n}\r\n```\r\n\r\nMy requirements involve using MapStruct to map fields from the `EntityPO` class to the base class `AICoBorrower`. Within the `CoBorrowerPO` class, there is a nested `EntityPO` object.\r\n\r\nI wish to map `EntityPO` fields’ values directly to the `AICoBorrower`class field values, which extends the `AIOwner`class so it inherited those fields from aiOwner.\r\n\r\nTo achieve this, the existing `AIOwnerMapper` that i already have is needed to be used, which maps fields from `EntityPO` to `aiowner`. it does this successfully for the fields i wish to map. The issue lies in the extension of the functionality to `AICoBorrower` that also extends `AIOwner`. The desired outcome is to map fields from the nested `entityPO` directly to `AICoBorrower`, not through an additional class/object layer. `AICoBorrower`does not contain an `AIOwner`, it **is** the `AIOwner`.\r\n\r\n⚠️***NOTE***⚠️:\r\n\r\n*I want to avoid writing duplicate code in the field mappings (`@Mapping`) across multiple mappers that extend a common base mapper (**`AIOwnerMapper`** in this case). This way, any changes to the mappings in the base mapper will automatically apply to all the child mappers.*\r\n\r\nI should also mention that this code I wrote works as it is. But i would prefer to not have to do all of the setters myself for this case, as that is what i am using mapstruct for. And imagine i have 3 of these objects that extend `AIOwner` and have the same behavior where the `entityPO` inside of the mirror object  should actually map the fields directly onto the AI object, not in a separate class/object layer.\r\n\r\nas mentioned before, the code I have works, but I have to write code manually. I would preferrably *AVOID *something like this:\r\n\r\n```\r\n    @Mapping(source = &quot;entityPO.field1&quot;, target = &quot;field1&quot;) // Map fields from EntityPO to AICoborrower\r\n    @Mapping(source = &quot;entityPO.field2&quot;, target = &quot;field2&quot;)\r\n    // Add other fields as needed\r\n    AICoborrower map(CoborrowerPO coborrowerPO);\r\n```\r\n&#128683;&#128078; If I can, I would like to not use `.`s because the field names are subject to change and I want all objects that extend AIOwner to have their own mapper that recognizes the changes to the AIOwnerMapper.\r\n\r\n##### These tickets are the closest to what I am looking for, but I have not found a solution following them:\r\n\r\n[mapstruct - map object with nested list to flat list](https://stackoverflow.com/questions/67430184/mapstruct-map-object-with-nested-list-to-flat-list)\r\n\r\n[How to flatten nested references into a simple target?](https://stackoverflow.com/questions/54580824/how-to-flatten-nested-references-into-a-simple-target)","title":"(Java, MapStruct) Is it possible to map fields from a nested object to an extended target object that shares a common base class?","body":"<p>So, I have a lilttle bit of a conundrum. I know these class names might be a little confusing, apologies.</p>\n<p>Let’s say these are the objects I’m working with:</p>\n<pre><code>@Getter\n@Setter\npublic class EntityPO {\n        private String firstName\n        private String businessName;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class AIOwner {\n      private String firstName;\n        private String name1;\n}\n</code></pre>\n<pre><code>public class AICoBorrower extends AIOwner {\n        // blank for clarity \n}\n</code></pre>\n<pre><code>public class CoBorrowerPO {\n        //this class itself does not contain firstName or name1/businessName fields.\n        protected EntityPO entity;\n}\n</code></pre>\n<p>and I have  a mapper that basically maps <code>entityPO</code> &amp; <code>aiowner</code>.</p>\n<p>test:</p>\n<pre><code>@Test\n  public void coBorrowerMappingTest() {\n\n    CoBorrowerPO coPO = srp.makeCoBorrowerPO();\n    //map to ai\n    AICoBorrower coAI = AICoBorrowerMapper.INSTANCE.toAICoBorrower(coPO);\n    //assert all fields\n    assertEquals(coPO.getEntity().getFirstName(), coAI.getFirstName());\n\n  }\n</code></pre>\n<p>mapper code:</p>\n<pre><code>@Mapper(uses = { AIPhoneMapper.class, AIAddressMapper.class })\npublic interface AIOwnerMapper {\n  AIOwnerMapper INSTANCE = Mappers.getMapper(AIOwnerMapper.class);\n\n  @Mapping(target = &quot;name1&quot;, source = &quot;businessName&quot;)\n  AIOwner toAIOwner(EntityPO entityPO);\n\n  @InheritInverseConfiguration\n  EntityPO toEntityPO(AIOwner aiOwner);\n\n}\n</code></pre>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = { AIOwnerMapper.class })\npublic interface AICoBorrowerMapper extends AIOwnerMapper {\n  AICoBorrowerMapper INSTANCE = Mappers.getMapper(AICoBorrowerMapper.class);\n\n  AICoBorrower toAICoBorrower(CoBorrowerPO coBorrower);\n\n  @AfterMapping\n  default AICoBorrower afterMapping(CoBorrowerPO coBorrowerPO) {\n    if (coBorrowerPO == null) {\n      return null;\n    }\n\n    AICoBorrower aiCoBorrower = new AICoBorrower();\n    AIOwner aiOwner = AIOwnerMapper.INSTANCE.toAIOwner(coBorrowerPO.getEntity());\n    aiCoBorrower.setName1(aiOwner.getName1());\n    aiCoBorrower.setFirstName(aiOwner.getFirstName());\n\n    return aiCoBorrower;\n  }\n}\n</code></pre>\n<p>My requirements involve using MapStruct to map fields from the <code>EntityPO</code> class to the base class <code>AICoBorrower</code>. Within the <code>CoBorrowerPO</code> class, there is a nested <code>EntityPO</code> object.</p>\n<p>I wish to map <code>EntityPO</code> fields’ values directly to the <code>AICoBorrower</code>class field values, which extends the <code>AIOwner</code>class so it inherited those fields from aiOwner.</p>\n<p>To achieve this, the existing <code>AIOwnerMapper</code> that i already have is needed to be used, which maps fields from <code>EntityPO</code> to <code>aiowner</code>. it does this successfully for the fields i wish to map. The issue lies in the extension of the functionality to <code>AICoBorrower</code> that also extends <code>AIOwner</code>. The desired outcome is to map fields from the nested <code>entityPO</code> directly to <code>AICoBorrower</code>, not through an additional class/object layer. <code>AICoBorrower</code>does not contain an <code>AIOwner</code>, it <strong>is</strong> the <code>AIOwner</code>.</p>\n<p>⚠️<em><strong>NOTE</strong></em>⚠️:</p>\n<p><em>I want to avoid writing duplicate code in the field mappings (<code>@Mapping</code>) across multiple mappers that extend a common base mapper (<strong><code>AIOwnerMapper</code></strong> in this case). This way, any changes to the mappings in the base mapper will automatically apply to all the child mappers.</em></p>\n<p>I should also mention that this code I wrote works as it is. But i would prefer to not have to do all of the setters myself for this case, as that is what i am using mapstruct for. And imagine i have 3 of these objects that extend <code>AIOwner</code> and have the same behavior where the <code>entityPO</code> inside of the mirror object  should actually map the fields directly onto the AI object, not in a separate class/object layer.</p>\n<p>as mentioned before, the code I have works, but I have to write code manually. I would preferrably *AVOID *something like this:</p>\n<pre><code>    @Mapping(source = &quot;entityPO.field1&quot;, target = &quot;field1&quot;) // Map fields from EntityPO to AICoborrower\n    @Mapping(source = &quot;entityPO.field2&quot;, target = &quot;field2&quot;)\n    // Add other fields as needed\n    AICoborrower map(CoborrowerPO coborrowerPO);\n</code></pre>\n<p>🚫👎 If I can, I would like to not use <code>.</code>s because the field names are subject to change and I want all objects that extend AIOwner to have their own mapper that recognizes the changes to the AIOwnerMapper.</p>\n<h5>These tickets are the closest to what I am looking for, but I have not found a solution following them:</h5>\n<p><a href=\"https://stackoverflow.com/questions/67430184/mapstruct-map-object-with-nested-list-to-flat-list\">mapstruct - map object with nested list to flat list</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54580824/how-to-flatten-nested-references-into-a-simple-target\">How to flatten nested references into a simple target?</a></p>\n"},{"tags":["java","kotlin","gradle","build.gradle","kotlin-multiplatform"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1700384007,"post_id":77509830,"comment_id":136645989,"body_markdown":"Try to launch your program using command line. It should print more details about the error. It might help you solve the problem. If not, paste the error stack-trace in your question. Without it, it is difficult to know what is the problem.","body":"Try to launch your program using command line. It should print more details about the error. It might help you solve the problem. If not, paste the error stack-trace in your question. Without it, it is difficult to know what is the problem."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1700393753,"post_id":77509830,"comment_id":136646755,"body_markdown":"As a general rule of thumb, do NOT use `exception.message` as an error message. The exception type is part of the message.","body":"As a general rule of thumb, do NOT use <code>exception.message</code> as an error message. The exception type is part of the message."},{"owner":{"account_id":14612946,"reputation":817,"user_id":10553893,"display_name":"Raphael Tarita"},"score":0,"creation_date":1700519534,"post_id":77509830,"comment_id":136662486,"body_markdown":"without more context it&#39;s hard to tell what you mean by &quot;I&#39;m developing with Kotlin Multiplatform&quot; but if you want to run your code on non-JVM platforms it can obviously not be using anything from the Java stdlib. Not sure if this error is in any way related to this.","body":"without more context it&#39;s hard to tell what you mean by &quot;I&#39;m developing with Kotlin Multiplatform&quot; but if you want to run your code on non-JVM platforms it can obviously not be using anything from the Java stdlib. Not sure if this error is in any way related to this."}],"answers":[{"tags":[],"owner":{"account_id":28708952,"reputation":21,"user_id":21984792,"display_name":"oberon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700608761,"creation_date":1700608761,"answer_id":77526480,"question_id":77509830,"body_markdown":"It appears that HttpClient was still being called despite my switch to OkHttp. If you&#39;re utilizing HttpClient within Desktop&#39;s Compose, this issue may arise. Ensure you&#39;re using OkHttp instead, as it currently proves effective for API function calls. In my case, I had to recreate everything. Clearing the cache might have resolved the issue, even after changing the HTTP tool.","title":"&quot;java/net/http/HttpClient&quot; Error after compile and run","body":"<p>It appears that HttpClient was still being called despite my switch to OkHttp. If you're utilizing HttpClient within Desktop's Compose, this issue may arise. Ensure you're using OkHttp instead, as it currently proves effective for API function calls. In my case, I had to recreate everything. Clearing the cache might have resolved the issue, even after changing the HTTP tool.</p>\n"}],"owner":{"account_id":28708952,"reputation":21,"user_id":21984792,"display_name":"oberon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700608761,"creation_date":1700374841,"question_id":77509830,"body_markdown":"I&#39;m developin with Kotlin Multiplatform and Desktop Compose\r\n\r\nAny idea why this happens? \r\nWhen I run my app in the IDE (IntellijIDE) it runs perfectly fine, but after gradle createDistributable or any kind of compilation.\r\n\r\nif I try to run it I get this error &quot;java/net/http/HttpClient&quot; I already tried different JDK(17, 18, 20, 21), different Kotlin(default and 1.9.20) versions and gradle (7.5.1 and 8.4).\r\nIt was working before, I haven&#39;t been able to pin point if it&#39;s something I added\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hoK38.png)](https://i.stack.imgur.com/hoK38.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/B0hBI.png)](https://i.stack.imgur.com/B0hBI.png)","title":"&quot;java/net/http/HttpClient&quot; Error after compile and run","body":"<p>I'm developin with Kotlin Multiplatform and Desktop Compose</p>\n<p>Any idea why this happens?\nWhen I run my app in the IDE (IntellijIDE) it runs perfectly fine, but after gradle createDistributable or any kind of compilation.</p>\n<p>if I try to run it I get this error &quot;java/net/http/HttpClient&quot; I already tried different JDK(17, 18, 20, 21), different Kotlin(default and 1.9.20) versions and gradle (7.5.1 and 8.4).\nIt was working before, I haven't been able to pin point if it's something I added</p>\n<p><a href=\"https://i.stack.imgur.com/hoK38.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoK38.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/B0hBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B0hBI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1700568014,"post_id":77521214,"comment_id":136668165,"body_markdown":"IMHO your answer is here: _this method is called in a GET request_. If two clients send that GET request your method will execute twice (once for every GET request). And since there are multiple threads handling GET requests there are multiple threads calling your method.","body":"IMHO your answer is here: <i>this method is called in a GET request</i>. If two clients send that GET request your method will execute twice (once for every GET request). And since there are multiple threads handling GET requests there are multiple threads calling your method."}],"answers":[{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700561723,"creation_date":1700557707,"answer_id":77521552,"question_id":77521214,"body_markdown":"IMHO, in your use case, behind the scenes you create a new request every iteration sometimes it opens a new thread.\r\n\r\nYou can use `connect()` that returns new Connection object and then to make sure the connection ends in the end of iteration.\r\n\r\nhttps://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)     \r\n\r\n\r\n\r\n_________\r\n##### UPDATE:\r\n\r\nTry to work on other objects and not the same objects you iterating on.\r\n\r\n    public List&lt;Item&gt; parseAndSaveItems(String type, String baseUrl) {\r\n        List&lt;Item&gt; originalItemList = itemRepository.findAllByType(type);\r\n        List&lt;Item&gt; newItemList = new ArrayList&lt;&gt;();\r\n    \r\n        for (Item originalItem : originalItemList) {\r\n            Item newItem = processItem(originalItem, baseUrl);\r\n            newItemList.add(newItem);\r\n        }\r\n    \r\n        itemRepository.saveAll(newItemList);\r\n        return newItemList;\r\n    }\r\n    \r\n    private Item processItem(Item originalItem, String baseUrl) {\r\n        Item newItem = new Item();\r\n    \r\n        // Copy relevant properties from the original item to the new item\r\n        newItem.setType(originalItem.getType());\r\n        newItem.setBuffId(originalItem.getBuffId());\r\n        // Copy other properties as needed\r\n    \r\n        String url = baseUrl + originalItem.getBuffId();\r\n        try {\r\n            Document page = getPage(url);\r\n            Thread.sleep(2000);\r\n    \r\n            Elements elements = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\r\n            double price = parsePrice(elements.attr(&quot;data-goods-sell-min-price&quot;));\r\n            double buy = parsePrice(elements.attr(&quot;data-goods-buy-max-price&quot;));\r\n    \r\n            updateItemDetails(newItem, price, buy);\r\n        } catch (IOException | InterruptedException e) {\r\n            // Handle exceptions appropriately, log, and continue or rethrow based on requirements.\r\n            log.error(&quot;Error processing item: {}&quot;, originalItem.getName(), e);\r\n        }\r\n    \r\n        return newItem;\r\n    }\r\n    private Document getPage(String url) throws IOException {\r\n        return Jsoup.parse(new URL(url), 20000);\r\n    }\r\n    \r\n    private double parsePrice(String priceString) {\r\n        return Double.parseDouble(priceString) / 100;\r\n    }\r\n    \r\n    private void updateItemDetails(Item item, double price, double buy) {\r\n        item.setPrice(price);\r\n        item.setBuyOrder(buy);\r\n    \r\n        try {\r\n            item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\r\n        } catch (NumberFormatException e) {\r\n            log.error(&quot;Error calculating percentage for item: {}&quot;, item.getName(), e);\r\n        }\r\n    \r\n        item.setProfit(round((price * 0.975 - buy), 2));\r\n    }\r\n\r\n","title":"Jsoup parsing weird behavior","body":"<p>IMHO, in your use case, behind the scenes you create a new request every iteration sometimes it opens a new thread.</p>\n<p>You can use <code>connect()</code> that returns new Connection object and then to make sure the connection ends in the end of iteration.</p>\n<p><a href=\"https://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)\" rel=\"nofollow noreferrer\">https://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)</a></p>\n<hr />\n<h5>UPDATE:</h5>\n<p>Try to work on other objects and not the same objects you iterating on.</p>\n<pre><code>public List&lt;Item&gt; parseAndSaveItems(String type, String baseUrl) {\n    List&lt;Item&gt; originalItemList = itemRepository.findAllByType(type);\n    List&lt;Item&gt; newItemList = new ArrayList&lt;&gt;();\n\n    for (Item originalItem : originalItemList) {\n        Item newItem = processItem(originalItem, baseUrl);\n        newItemList.add(newItem);\n    }\n\n    itemRepository.saveAll(newItemList);\n    return newItemList;\n}\n\nprivate Item processItem(Item originalItem, String baseUrl) {\n    Item newItem = new Item();\n\n    // Copy relevant properties from the original item to the new item\n    newItem.setType(originalItem.getType());\n    newItem.setBuffId(originalItem.getBuffId());\n    // Copy other properties as needed\n\n    String url = baseUrl + originalItem.getBuffId();\n    try {\n        Document page = getPage(url);\n        Thread.sleep(2000);\n\n        Elements elements = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\n        double price = parsePrice(elements.attr(&quot;data-goods-sell-min-price&quot;));\n        double buy = parsePrice(elements.attr(&quot;data-goods-buy-max-price&quot;));\n\n        updateItemDetails(newItem, price, buy);\n    } catch (IOException | InterruptedException e) {\n        // Handle exceptions appropriately, log, and continue or rethrow based on requirements.\n        log.error(&quot;Error processing item: {}&quot;, originalItem.getName(), e);\n    }\n\n    return newItem;\n}\nprivate Document getPage(String url) throws IOException {\n    return Jsoup.parse(new URL(url), 20000);\n}\n\nprivate double parsePrice(String priceString) {\n    return Double.parseDouble(priceString) / 100;\n}\n\nprivate void updateItemDetails(Item item, double price, double buy) {\n    item.setPrice(price);\n    item.setBuyOrder(buy);\n\n    try {\n        item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\n    } catch (NumberFormatException e) {\n        log.error(&quot;Error calculating percentage for item: {}&quot;, item.getName(), e);\n    }\n\n    item.setProfit(round((price * 0.975 - buy), 2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700606466,"creation_date":1700606466,"answer_id":77526340,"question_id":77521214,"body_markdown":"You give the answer yourself:\r\n\r\n&gt; _this method is called in a GET request_\r\n\r\nSpring (or the webserver it contains) starts multiple threads so that it can handle multiple GET requests in parallel.\r\n\r\nAs soon as a second (*) client sends second GET request your method will be executed in parallel.\r\n\r\nIf you mark your method as `synchronized` only one thread after the other will be able to execute it - at the expense of longer response times for other clients.\r\n\r\n---\r\n*) if the execution of your method takes too long it could even be that the request of the first client times out and this first client resends the same request again which would still end up in a second thread running your method.","title":"Jsoup parsing weird behavior","body":"<p>You give the answer yourself:</p>\n<blockquote>\n<p><em>this method is called in a GET request</em></p>\n</blockquote>\n<p>Spring (or the webserver it contains) starts multiple threads so that it can handle multiple GET requests in parallel.</p>\n<p>As soon as a second (*) client sends second GET request your method will be executed in parallel.</p>\n<p>If you mark your method as <code>synchronized</code> only one thread after the other will be able to execute it - at the expense of longer response times for other clients.</p>\n<hr />\n<p>*) if the execution of your method takes too long it could even be that the request of the first client times out and this first client resends the same request again which would still end up in a second thread running your method.</p>\n"}],"owner":{"account_id":29955378,"reputation":1,"user_id":22956387,"display_name":"Teck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700608007,"creation_date":1700554230,"question_id":77521214,"body_markdown":"I&#39;m trying do parsing with jsoup in loop, but after several iterations the loop starts all over again like in parallel thread, why does this happen?\r\n\r\nCode of my method:\r\n\r\n```\r\npublic void parser(String type, String someUrl) throws InterruptedException {\r\n        List&lt;Item&gt; list = itemRepository.findAllByType(type);\r\n        int count = 0;\r\n        Document page;\r\n        String url;\r\n        Elements el;\r\n        double price;\r\n        double buy;\r\n\r\n        for (Item item : list) {\r\n            count++;\r\n            System.out.println(&quot;iteration    &quot; + count);\r\n            url = someUrl + item.getBuffId();\r\n\r\n            try {\r\n                page = Jsoup.parse(new URL(url), 20000);\r\n                Thread.sleep(2000);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            el = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\r\n            price = Double.parseDouble(el.attr(&quot;data-goods-sell-min-price&quot;)) / 100;\r\n            buy = Double.parseDouble(el.attr(&quot;data-goods-buy-max-price&quot;)) / 100;\r\n            item.setPrice(price);\r\n            item.setBuyOrder(buy);\r\n            try {\r\n                item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(item.getName());\r\n                System.out.println(price);\r\n                System.out.println(buy);\r\n            }\r\n            item.setProfit(round((price * 0.975 - buy), 2));\r\n        }\r\n        itemRepository.saveAll(list);\r\n    }\r\n```\r\nConsole output: \r\niteration    1\r\niteration    2\r\niteration    3\r\niteration    4\r\niteration    5\r\niteration    6\r\niteration    1\r\niteration    7\r\niteration    2\r\niteration    8\r\niteration    3\r\n\r\n\r\nSometimes, but in very rare cases, everything works fine, usually the second thread starts after 7-10 iterations, sometimes after 30+ iterations.\r\n\r\nP.S. May be this is improtant: I&#39;m using spring boot application and this method is called in a GET request.\r\nP.P.S. Also tried make method synchronised but after last loop iteration, it&#39;s starts from begginning ","title":"Jsoup parsing weird behavior","body":"<p>I'm trying do parsing with jsoup in loop, but after several iterations the loop starts all over again like in parallel thread, why does this happen?</p>\n<p>Code of my method:</p>\n<pre><code>public void parser(String type, String someUrl) throws InterruptedException {\n        List&lt;Item&gt; list = itemRepository.findAllByType(type);\n        int count = 0;\n        Document page;\n        String url;\n        Elements el;\n        double price;\n        double buy;\n\n        for (Item item : list) {\n            count++;\n            System.out.println(&quot;iteration    &quot; + count);\n            url = someUrl + item.getBuffId();\n\n            try {\n                page = Jsoup.parse(new URL(url), 20000);\n                Thread.sleep(2000);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            el = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\n            price = Double.parseDouble(el.attr(&quot;data-goods-sell-min-price&quot;)) / 100;\n            buy = Double.parseDouble(el.attr(&quot;data-goods-buy-max-price&quot;)) / 100;\n            item.setPrice(price);\n            item.setBuyOrder(buy);\n            try {\n                item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\n            } catch (NumberFormatException e) {\n                System.out.println(item.getName());\n                System.out.println(price);\n                System.out.println(buy);\n            }\n            item.setProfit(round((price * 0.975 - buy), 2));\n        }\n        itemRepository.saveAll(list);\n    }\n</code></pre>\n<p>Console output:\niteration    1\niteration    2\niteration    3\niteration    4\niteration    5\niteration    6\niteration    1\niteration    7\niteration    2\niteration    8\niteration    3</p>\n<p>Sometimes, but in very rare cases, everything works fine, usually the second thread starts after 7-10 iterations, sometimes after 30+ iterations.</p>\n<p>P.S. May be this is improtant: I'm using spring boot application and this method is called in a GET request.\nP.P.S. Also tried make method synchronised but after last loop iteration, it's starts from begginning</p>\n"},{"tags":["java","dom","junit"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700603462,"creation_date":1700603462,"answer_id":77526127,"question_id":77525024,"body_markdown":"You can create simple XML document using `DocumentBuilder`:\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class MyTest {\r\n\r\n    @Test\r\n    public void myTest() throws Exception {\r\n        Document xmlDocument = createDocument();\r\n\r\n        String result = new MyTransformer().convertDocumentToString(xmlDocument);\r\n\r\n        String expected = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;root&gt;&lt;element&gt;value&lt;/element&gt;&lt;/root&gt;&quot;;\r\n\r\n        assertEquals(expected, result);\r\n    }\r\n\r\n    private Document createDocument() throws Exception {\r\n\r\n        Document document = DocumentBuilderFactory.newInstance()\r\n                .newDocumentBuilder()\r\n                .newDocument();\r\n\r\n        // Create root element\r\n        Element rootElement = document.createElement(&quot;root&quot;);\r\n        document.appendChild(rootElement);\r\n\r\n        // Create child element\r\n        Element childElement = document.createElement(&quot;element&quot;);\r\n        childElement.appendChild(document.createTextNode(&quot;value&quot;));\r\n\r\n        rootElement.appendChild(childElement);\r\n\r\n        return document;\r\n    }\r\n}\r\n```","title":"How to unit test a XML document to string transformation method","body":"<p>You can create simple XML document using <code>DocumentBuilder</code>:</p>\n<pre><code>import org.junit.Test;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class MyTest {\n\n    @Test\n    public void myTest() throws Exception {\n        Document xmlDocument = createDocument();\n\n        String result = new MyTransformer().convertDocumentToString(xmlDocument);\n\n        String expected = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;root&gt;&lt;element&gt;value&lt;/element&gt;&lt;/root&gt;&quot;;\n\n        assertEquals(expected, result);\n    }\n\n    private Document createDocument() throws Exception {\n\n        Document document = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder()\n                .newDocument();\n\n        // Create root element\n        Element rootElement = document.createElement(&quot;root&quot;);\n        document.appendChild(rootElement);\n\n        // Create child element\n        Element childElement = document.createElement(&quot;element&quot;);\n        childElement.appendChild(document.createTextNode(&quot;value&quot;));\n\n        rootElement.appendChild(childElement);\n\n        return document;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607913,"creation_date":1700607913,"answer_id":77526429,"question_id":77525024,"body_markdown":"The simplest/easiest way is just to parse an XML string and verify that you get the same string back:\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        var xml = &quot;&quot;&quot;\r\n                &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;root/&gt;&quot;&quot;&quot;;\r\n        \r\n        var doc = DocumentBuilderFactory\r\n                .newDefaultInstance()\r\n                .newDocumentBuilder()\r\n                .parse(new InputSource(new StringReader(xml)));\r\n\r\n        assertEquals(xml, convertDocumentToString(doc));\r\n    }\r\nNote that there is an implicit static import of `convertDocumentToString`.\r\n\r\nTesting that the method returns null on an exception will be quite difficult since the transformer delivers the XML prolog even if the input document is null or empty, and constructing an illegal Document structure should not be possible (there might be some corner cases).\r\n\r\nReturning null on an exception is actually hiding a severe error condition. Something is wrong with the platform/setup of java itself. I recommend throwing a custom RuntimeException instead.","title":"How to unit test a XML document to string transformation method","body":"<p>The simplest/easiest way is just to parse an XML string and verify that you get the same string back:</p>\n<pre><code>@Test\nvoid test() throws Exception {\n    var xml = &quot;&quot;&quot;\n            &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;root/&gt;&quot;&quot;&quot;;\n    \n    var doc = DocumentBuilderFactory\n            .newDefaultInstance()\n            .newDocumentBuilder()\n            .parse(new InputSource(new StringReader(xml)));\n\n    assertEquals(xml, convertDocumentToString(doc));\n}\n</code></pre>\n<p>Note that there is an implicit static import of <code>convertDocumentToString</code>.</p>\n<p>Testing that the method returns null on an exception will be quite difficult since the transformer delivers the XML prolog even if the input document is null or empty, and constructing an illegal Document structure should not be possible (there might be some corner cases).</p>\n<p>Returning null on an exception is actually hiding a severe error condition. Something is wrong with the platform/setup of java itself. I recommend throwing a custom RuntimeException instead.</p>\n"}],"owner":{"account_id":7046613,"reputation":1,"user_id":5397270,"display_name":"britney1994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700607913,"creation_date":1700589941,"question_id":77525024,"body_markdown":"    \r\n```\r\npublic static String convertDocumentToString(Document xmlDocument) {\r\n\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n        Transformer transformer;\r\n        try {\r\n            transformer = tf.newTransformer();\r\n            StringWriter writer = new StringWriter();\r\n\r\n            transformer.transform(new DOMSource(xmlDocument), new StreamResult(writer));\r\n\r\n            return writer.getBuffer().toString();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI am trying to unit test (junit) the following method \r\nwhat would be the easiest/simplest approach to creating the document in the unit test? \r\n\r\nAny suggestions? Mockito isn&#39;t something feasible here \r\n\r\nfor example the test \r\n\r\n \r\n```\r\n1. @Test\r\n1. public void convertDocumentToString() {\r\n1. Document document = ??\r\n1. \r\n1. class.convertDocumentToString(document)\r\n```\r\nhow would I build a Document variable to pass to the method \r\n","title":"How to unit test a XML document to string transformation method","body":"<pre><code>public static String convertDocumentToString(Document xmlDocument) {\n\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer transformer;\n        try {\n            transformer = tf.newTransformer();\n            StringWriter writer = new StringWriter();\n\n            transformer.transform(new DOMSource(xmlDocument), new StreamResult(writer));\n\n            return writer.getBuffer().toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I am trying to unit test (junit) the following method\nwhat would be the easiest/simplest approach to creating the document in the unit test?</p>\n<p>Any suggestions? Mockito isn't something feasible here</p>\n<p>for example the test</p>\n<pre><code>1. @Test\n1. public void convertDocumentToString() {\n1. Document document = ??\n1. \n1. class.convertDocumentToString(document)\n</code></pre>\n<p>how would I build a Document variable to pass to the method</p>\n"},{"tags":["java","spring-boot","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":8894632,"reputation":63,"user_id":6640121,"display_name":"Raba_Ababa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607475,"creation_date":1700607475,"answer_id":77526398,"question_id":77524517,"body_markdown":"I found solution. On my table t_order_aud I had primaryKey constraint set only on &quot;rev&quot; column. I set primaryKey as combined on columns (rev,id) and it worked now. ","title":"Hibernate Envers inserts same revision into two audit records in same transaction","body":"<p>I found solution. On my table t_order_aud I had primaryKey constraint set only on &quot;rev&quot; column. I set primaryKey as combined on columns (rev,id) and it worked now.</p>\n"}],"owner":{"account_id":8894632,"reputation":63,"user_id":6640121,"display_name":"Raba_Ababa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700607475,"creation_date":1700584902,"question_id":77524517,"body_markdown":"I have problem, becouse while same transaction I want to insert new order Entity, and delete another as below.\r\n```   \r\n@Transactional \r\npublic void execute(OrderEntity orderToRenew) {\r\n        OrderEntity newOrder = orderRepositoryPort.save(new OrderEntity(orderToRenew, orderToRenew.getEmailRequestId(), OrderDeliveryStatus.IN_PROGRESS));\r\n\r\n        orderRepositoryPort.deleteById(orderToRenew.getId());\r\n}\r\n```\r\nFrom logs I can see, that envers invokes 2 inserts into t_order_aud with same revision, which cause excpetion:\r\n\r\n```\r\n2023-11-21T17:26:23.088+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : delete from t_order where id=?\r\n2023-11-21T17:26:23.089+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.092+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into revinfo (rev, revtstmp) values (default, ?)               \r\n2023-11-21T17:26:23.092+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1700583983091]\r\n\r\n                                          FIRST INSERT T_ORDER_AUD BELOW (with rev = 1)\r\n\t\t\t\t\t\t\t\t\t\t  \r\n2023-11-21T17:26:23.095+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [ANONYMOUS_USER]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [2023-11-21T17:26:23.072916200]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [EMAIL]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [2021-07-23T00:00]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [FAILURE]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [Niespodziewany błąd]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [3d87f-3458-414e-8649-047cb8ca29fd-144-0]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [FAILURE]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]        &lt;&lt;&lt;&lt;------- REV = 1\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [3]\r\n\r\n                                   SECOND INSERT T_ORDER_AUD BELOW (with rev = 1)\r\n\t\t\t\t\t\t\t\t   \r\n2023-11-21T17:26:23.096+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]          &lt;&lt;&lt;&lt;--------- REV = 1\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.099+01:00  WARN 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\r\n2023-11-21T17:26:23.099+01:00 ERROR 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Naruszenie ograniczenia Klucza Gł&#243;wnego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), &#39;sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0&#39;, &#39;EMAIL&#39;, &#39;FAILURE&#39;, &#39;FAILURE&#39;, U&amp;&#39;Niespodziewany b\\\\0142\\\\0105d&#39;, NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP &#39;2021-07-23 00:00:00&#39;, TIMESTAMP &#39;2023-11-21 17:26:23.072916&#39;, &#39;ANONYMOUS_USER&#39;, 1, CAST(0 AS TINYINT), NULL)&quot;\r\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), &#39;sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0&#39;, &#39;EMAIL&#39;, &#39;FAILURE&#39;, &#39;FAILURE&#39;, U&amp;&#39;Niespodziewany b\\\\0142\\\\0105d&#39;, NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP &#39;2021-07-23 00:00:00&#39;, TIMESTAMP &#39;2023-11-21 17:26:23.072916&#39;, &#39;ANONYMOUS_USER&#39;, 1, CAST(0 AS TINYINT), NULL)&quot;; SQL statement:\r\ninsert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-214]\r\n2023-11-21T17:26:23.100+01:00  INFO 24232 --- [nio-8084-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2023-11-21T17:26:23.108+01:00 ERROR 24232 --- [nio-8084-exec-1] p.p.s.p.a.rest.GlobalExceptionHandler    : Unable to perform beforeTransactionCompletion callback: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement\r\n```\r\n\r\nFirst time i have such problem, that envers inserts same ids into two different aud objects. I would be gratefull if someone can explain me how can I solve this","title":"Hibernate Envers inserts same revision into two audit records in same transaction","body":"<p>I have problem, becouse while same transaction I want to insert new order Entity, and delete another as below.</p>\n<pre><code>@Transactional \npublic void execute(OrderEntity orderToRenew) {\n        OrderEntity newOrder = orderRepositoryPort.save(new OrderEntity(orderToRenew, orderToRenew.getEmailRequestId(), OrderDeliveryStatus.IN_PROGRESS));\n\n        orderRepositoryPort.deleteById(orderToRenew.getId());\n}\n</code></pre>\n<p>From logs I can see, that envers invokes 2 inserts into t_order_aud with same revision, which cause excpetion:</p>\n<pre><code>2023-11-21T17:26:23.088+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : delete from t_order where id=?\n2023-11-21T17:26:23.089+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1]\n2023-11-21T17:26:23.092+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into revinfo (rev, revtstmp) values (default, ?)               \n2023-11-21T17:26:23.092+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1700583983091]\n\n                                          FIRST INSERT T_ORDER_AUD BELOW (with rev = 1)\n                                          \n2023-11-21T17:26:23.095+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [ANONYMOUS_USER]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [2023-11-21T17:26:23.072916200]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [EMAIL]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [2021-07-23T00:00]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [FAILURE]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [1]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [Niespodziewany błąd]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [3d87f-3458-414e-8649-047cb8ca29fd-144-0]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [FAILURE]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]        &lt;&lt;&lt;&lt;------- REV = 1\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [3]\n\n                                   SECOND INSERT T_ORDER_AUD BELOW (with rev = 1)\n                                   \n2023-11-21T17:26:23.096+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]          &lt;&lt;&lt;&lt;--------- REV = 1\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [1]\n2023-11-21T17:26:23.099+01:00  WARN 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\n2023-11-21T17:26:23.099+01:00 ERROR 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Naruszenie ograniczenia Klucza Głównego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), 'sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0', 'EMAIL', 'FAILURE', 'FAILURE', U&amp;'Niespodziewany b\\\\0142\\\\0105d', NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP '2021-07-23 00:00:00', TIMESTAMP '2023-11-21 17:26:23.072916', 'ANONYMOUS_USER', 1, CAST(0 AS TINYINT), NULL)&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), 'sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0', 'EMAIL', 'FAILURE', 'FAILURE', U&amp;'Niespodziewany b\\\\0142\\\\0105d', NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP '2021-07-23 00:00:00', TIMESTAMP '2023-11-21 17:26:23.072916', 'ANONYMOUS_USER', 1, CAST(0 AS TINYINT), NULL)&quot;; SQL statement:\ninsert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-214]\n2023-11-21T17:26:23.100+01:00  INFO 24232 --- [nio-8084-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2023-11-21T17:26:23.108+01:00 ERROR 24232 --- [nio-8084-exec-1] p.p.s.p.a.rest.GlobalExceptionHandler    : Unable to perform beforeTransactionCompletion callback: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement\n</code></pre>\n<p>First time i have such problem, that envers inserts same ids into two different aud objects. I would be gratefull if someone can explain me how can I solve this</p>\n"},{"tags":["java","scala","java-8"],"comments":[{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":1,"creation_date":1594980090,"post_id":26162407,"comment_id":111322920,"body_markdown":"Still no standard implementation after all this time :(","body":"Still no standard implementation after all this time :("},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1601018460,"post_id":26162407,"comment_id":113278543,"body_markdown":"There is always `java.lang.Object`  ... sad.","body":"There is always <code>java.lang.Object</code>  ... sad."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1700086646,"post_id":26162407,"comment_id":136613074,"body_markdown":"I&#39;ve been using Scala since 2011/Jan, and returned to Java (Started in 1997) hoping that an `java.utils.Either` might have finally be provided. Nope. So, I just created something as close as I could to what I loved in Scala: https://stackoverflow.com/a/76435293/501113","body":"I&#39;ve been using Scala since 2011/Jan, and returned to Java (Started in 1997) hoping that an <code>java.utils.Either</code> might have finally be provided. Nope. So, I just created something as close as I could to what I loved in Scala: <a href=\"https://stackoverflow.com/a/76435293/501113\">stackoverflow.com/a/76435293/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":414154,"reputation":122051,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1412260084,"creation_date":1412260084,"answer_id":26163072,"question_id":26162407,"body_markdown":"No, there is none.\r\n\r\nJava language developers explicitly state that types like `Option&lt;T&gt;` are intended to be used only as temporary values (e.g. in stream operations results), so while they *are* the same thing as in other languages, they are *not supposed* to be used as they are used in other languages. So it is not surprising that there is no such thing as `Either` because it does not arise naturally (e.g. from stream operations) like `Optional` does.","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>No, there is none.</p>\n\n<p>Java language developers explicitly state that types like <code>Option&lt;T&gt;</code> are intended to be used only as temporary values (e.g. in stream operations results), so while they <em>are</em> the same thing as in other languages, they are <em>not supposed</em> to be used as they are used in other languages. So it is not surprising that there is no such thing as <code>Either</code> because it does not arise naturally (e.g. from stream operations) like <code>Optional</code> does.</p>\n"},{"tags":[],"owner":{"account_id":4872307,"reputation":1139,"user_id":3928365,"display_name":"Ravi Kiran"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1553889723,"creation_date":1412260345,"answer_id":26163151,"question_id":26162407,"body_markdown":"There is no Either in the Java Standard Library. However there is an implementation of [Either][1] in [FunctionalJava][2], along with many other nice classes.\r\n\r\n\r\n  [1]: https://github.com/functionaljava/functionaljava/blob/series/5.x/core/src/main/java/fj/data/Either.java\r\n  [2]: https://github.com/functionaljava/functionaljava","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is no Either in the Java Standard Library. However there is an implementation of <a href=\"https://github.com/functionaljava/functionaljava/blob/series/5.x/core/src/main/java/fj/data/Either.java\" rel=\"noreferrer\">Either</a> in <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"noreferrer\">FunctionalJava</a>, along with many other nice classes.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":3,"up_vote_count":83,"is_accepted":true,"score":80,"last_activity_date":1492537905,"creation_date":1412263401,"answer_id":26164155,"question_id":26162407,"body_markdown":"There is no `Either` type is Java&#160;8, so you need to create one yourself or use some third-party library.\r\n\r\nYou may build such a feature using the new `Optional` type (but read to the end of this answer):\r\n\r\n    final class Either&lt;L,R&gt;\r\n    {\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\r\n            return new Either&lt;&gt;(Optional.of(value), Optional.empty());\r\n        }\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\r\n            return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\r\n        }\r\n        private final Optional&lt;L&gt; left;\r\n        private final Optional&lt;R&gt; right;\r\n        private Either(Optional&lt;L&gt; l, Optional&lt;R&gt; r) {\r\n          left=l;\r\n          right=r;\r\n        }\r\n        public &lt;T&gt; T map(\r\n            Function&lt;? super L, ? extends T&gt; lFunc,\r\n            Function&lt;? super R, ? extends T&gt; rFunc)\r\n        {\r\n            return left.&lt;T&gt;map(lFunc).orElseGet(()-&gt;right.map(rFunc).get());\r\n        }\r\n        public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc)\r\n        {\r\n            return new Either&lt;&gt;(left.map(lFunc),right);\r\n        }\r\n        public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; rFunc)\r\n        {\r\n            return new Either&lt;&gt;(left, right.map(rFunc));\r\n        }\r\n        public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc)\r\n        {\r\n            left.ifPresent(lFunc);\r\n            right.ifPresent(rFunc);\r\n        }\r\n    }\r\n\r\nExample use case:\r\n\r\n    new Random().ints(20, 0, 2).mapToObj(i -&gt; (Either&lt;String,Integer&gt;)(i==0?\r\n      Either.left(&quot;left value (String)&quot;):\r\n      Either.right(42)))\r\n    .forEach(either-&gt;either.apply(\r\n      left -&gt;{ System.out.println(&quot;received left value: &quot;+left.substring(11));},\r\n      right-&gt;{ System.out.println(&quot;received right value: 0x&quot;+Integer.toHexString(right));}\r\n    ));\r\n\r\nIn retrospective, the `Optional` based solution is more like an academic example, but not a recommended approach. One problem is the treatment of `null` as “empty” which contradicts the meaning of “either”.\r\n\r\nThe following code shows an `Either` that considers `null` a possible value, so it’s strictly “either”, left or right, even if the value is `null`:\r\n\r\n    abstract class Either&lt;L,R&gt;\r\n    {\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\r\n            return new Either&lt;L,R&gt;() {\r\n                @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\r\n                                           Function&lt;? super R, ? extends T&gt; rFunc) {\r\n                    return lFunc.apply(value);\r\n                }\r\n            };\r\n        }\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\r\n            return new Either&lt;L,R&gt;() {\r\n                @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\r\n                                           Function&lt;? super R, ? extends T&gt; rFunc) {\r\n                    return rFunc.apply(value);\r\n                }\r\n\r\n            };\r\n        }\r\n        private Either() {}\r\n        public abstract &lt;T&gt; T map(\r\n          Function&lt;? super L, ? extends T&gt; lFunc, Function&lt;? super R, ? extends T&gt; rFunc);\r\n\r\n        public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc) {\r\n            return this.&lt;Either&lt;T,R&gt;&gt;map(t -&gt; left(lFunc.apply(t)), t -&gt; (Either&lt;T,R&gt;)this);\r\n        }\r\n        public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; lFunc) {\r\n            return this.&lt;Either&lt;L,T&gt;&gt;map(t -&gt; (Either&lt;L,T&gt;)this, t -&gt; right(lFunc.apply(t)));\r\n        }\r\n        public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc) {\r\n            map(consume(lFunc), consume(rFunc));\r\n        }\r\n        private &lt;T&gt; Function&lt;T,Void&gt; consume(Consumer&lt;T&gt; c) {\r\n            return t -&gt; { c.accept(t); return null; };\r\n        }\r\n    }\r\nIt’s easy to change that to a strict rejection of `null` by simply inserting an `Objects.requireNonNull(value)` at the beginning of both factory methods. Likewise, adding support for an empty either would be imaginable.\r\n","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is no <code>Either</code> type is Java 8, so you need to create one yourself or use some third-party library.</p>\n\n<p>You may build such a feature using the new <code>Optional</code> type (but read to the end of this answer):</p>\n\n<pre><code>final class Either&lt;L,R&gt;\n{\n    public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\n        return new Either&lt;&gt;(Optional.of(value), Optional.empty());\n    }\n    public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\n        return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\n    }\n    private final Optional&lt;L&gt; left;\n    private final Optional&lt;R&gt; right;\n    private Either(Optional&lt;L&gt; l, Optional&lt;R&gt; r) {\n      left=l;\n      right=r;\n    }\n    public &lt;T&gt; T map(\n        Function&lt;? super L, ? extends T&gt; lFunc,\n        Function&lt;? super R, ? extends T&gt; rFunc)\n    {\n        return left.&lt;T&gt;map(lFunc).orElseGet(()-&gt;right.map(rFunc).get());\n    }\n    public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc)\n    {\n        return new Either&lt;&gt;(left.map(lFunc),right);\n    }\n    public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; rFunc)\n    {\n        return new Either&lt;&gt;(left, right.map(rFunc));\n    }\n    public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc)\n    {\n        left.ifPresent(lFunc);\n        right.ifPresent(rFunc);\n    }\n}\n</code></pre>\n\n<p>Example use case:</p>\n\n<pre><code>new Random().ints(20, 0, 2).mapToObj(i -&gt; (Either&lt;String,Integer&gt;)(i==0?\n  Either.left(\"left value (String)\"):\n  Either.right(42)))\n.forEach(either-&gt;either.apply(\n  left -&gt;{ System.out.println(\"received left value: \"+left.substring(11));},\n  right-&gt;{ System.out.println(\"received right value: 0x\"+Integer.toHexString(right));}\n));\n</code></pre>\n\n<p>In retrospective, the <code>Optional</code> based solution is more like an academic example, but not a recommended approach. One problem is the treatment of <code>null</code> as “empty” which contradicts the meaning of “either”.</p>\n\n<p>The following code shows an <code>Either</code> that considers <code>null</code> a possible value, so it’s strictly “either”, left or right, even if the value is <code>null</code>:</p>\n\n<pre><code>abstract class Either&lt;L,R&gt;\n{\n    public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\n        return new Either&lt;L,R&gt;() {\n            @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\n                                       Function&lt;? super R, ? extends T&gt; rFunc) {\n                return lFunc.apply(value);\n            }\n        };\n    }\n    public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\n        return new Either&lt;L,R&gt;() {\n            @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\n                                       Function&lt;? super R, ? extends T&gt; rFunc) {\n                return rFunc.apply(value);\n            }\n\n        };\n    }\n    private Either() {}\n    public abstract &lt;T&gt; T map(\n      Function&lt;? super L, ? extends T&gt; lFunc, Function&lt;? super R, ? extends T&gt; rFunc);\n\n    public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc) {\n        return this.&lt;Either&lt;T,R&gt;&gt;map(t -&gt; left(lFunc.apply(t)), t -&gt; (Either&lt;T,R&gt;)this);\n    }\n    public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; lFunc) {\n        return this.&lt;Either&lt;L,T&gt;&gt;map(t -&gt; (Either&lt;L,T&gt;)this, t -&gt; right(lFunc.apply(t)));\n    }\n    public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc) {\n        map(consume(lFunc), consume(rFunc));\n    }\n    private &lt;T&gt; Function&lt;T,Void&gt; consume(Consumer&lt;T&gt; c) {\n        return t -&gt; { c.accept(t); return null; };\n    }\n}\n</code></pre>\n\n<p>It’s easy to change that to a strict rejection of <code>null</code> by simply inserting an <code>Objects.requireNonNull(value)</code> at the beginning of both factory methods. Likewise, adding support for an empty either would be imaginable.</p>\n"},{"tags":[],"owner":{"account_id":973816,"reputation":1039,"user_id":995737,"display_name":"Dominic Fox"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1458042296,"creation_date":1457961935,"answer_id":35988832,"question_id":26162407,"body_markdown":"There is a stand-alone implementation of `Either` in a small library, &quot;ambivalence&quot;: http://github.com/poetix/ambivalence\r\n\r\nYou can get it from Maven central:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.codepoetics&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ambivalence&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is a stand-alone implementation of <code>Either</code> in a small library, \"ambivalence\": <a href=\"http://github.com/poetix/ambivalence\" rel=\"noreferrer\">http://github.com/poetix/ambivalence</a></p>\n\n<p>You can get it from Maven central:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.codepoetics&lt;/groupId&gt;\n    &lt;artifactId&gt;ambivalence&lt;/artifactId&gt;\n    &lt;version&gt;0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16143,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458899746,"creation_date":1458899746,"answer_id":36217704,"question_id":26162407,"body_markdown":"[lambda-companion][1] has an `Either` type (and a few other functional types e.g. `Try`)\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;no.finn.lambda&lt;/groupId&gt;\r\n     \t&lt;artifactId&gt;lambda-companion&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing it is easy:\r\n\r\n    final String myValue = Either.right(&quot;example&quot;).fold(failure -&gt; handleFailure(failure), Function.identity())\r\n\r\n\r\n\r\n  [1]: https://github.com/finn-no/lambda-companion","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><a href=\"https://github.com/finn-no/lambda-companion\" rel=\"noreferrer\">lambda-companion</a> has an <code>Either</code> type (and a few other functional types e.g. <code>Try</code>)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;no.finn.lambda&lt;/groupId&gt;\n    &lt;artifactId&gt;lambda-companion&lt;/artifactId&gt;\n    &lt;version&gt;0.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Using it is easy:</p>\n\n<pre><code>final String myValue = Either.right(\"example\").fold(failure -&gt; handleFailure(failure), Function.identity())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16143,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1518553915,"creation_date":1478183084,"answer_id":40404026,"question_id":26162407,"body_markdown":"\r\nAt the time of writing, [vavr][2] (formerly javaslang) is probably the most popular functional Java 8 library. It is pretty similar to lambda-companion&#39;s Either in my other answer.\r\n\r\n    Either&lt;String,Integer&gt; value = compute().right().map(i -&gt; i * 2).toEither();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VYFra.png\r\n  [2]: http://www.vavr.io/","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>At the time of writing, <a href=\"http://www.vavr.io/\" rel=\"noreferrer\">vavr</a> (formerly javaslang) is probably the most popular functional Java 8 library. It is pretty similar to lambda-companion's Either in my other answer.</p>\n\n<pre><code>Either&lt;String,Integer&gt; value = compute().right().map(i -&gt; i * 2).toEither();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479394504,"creation_date":1479394504,"answer_id":40658056,"question_id":26162407,"body_markdown":"[cyclops-react](http://cyclops-react.io/) has a &#39;right&#39; biased either implementation called [Xor](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Xor.html).\r\n\r\n     Xor.primary(&quot;hello&quot;)\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n        \r\n     //Primary[&quot;hello world&quot;]\r\n\r\n     Xor.secondary(&quot;hello&quot;)\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n   \r\n     //Secondary[&quot;hello&quot;]\r\n\r\n     Xor.secondary(&quot;hello&quot;)\r\n        .swap()\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n   \r\n     //Primary[&quot;hello world&quot;]\r\n\r\n    Xor.accumulateSecondary(ListX.of(Xor.secondary(&quot;failed1&quot;),\r\n                                     Xor.secondary(&quot;failed2&quot;),\r\n                                     Xor.primary(&quot;success&quot;)),\r\n                                     Semigroups.stringConcat)\r\n   \r\n    //failed1failed2\r\n\r\nThere is also a related type [Ior](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Ior.html) which can act as an either or a tuple2.\r\n\r\n* disclosure I am the author of cyclops-react.","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><a href=\"http://cyclops-react.io/\" rel=\"noreferrer\">cyclops-react</a> has a 'right' biased either implementation called <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Xor.html\" rel=\"noreferrer\">Xor</a>.</p>\n\n<pre><code> Xor.primary(\"hello\")\n    .map(s-&gt;s+\" world\")\n\n //Primary[\"hello world\"]\n\n Xor.secondary(\"hello\")\n    .map(s-&gt;s+\" world\")\n\n //Secondary[\"hello\"]\n\n Xor.secondary(\"hello\")\n    .swap()\n    .map(s-&gt;s+\" world\")\n\n //Primary[\"hello world\"]\n\nXor.accumulateSecondary(ListX.of(Xor.secondary(\"failed1\"),\n                                 Xor.secondary(\"failed2\"),\n                                 Xor.primary(\"success\")),\n                                 Semigroups.stringConcat)\n\n//failed1failed2\n</code></pre>\n\n<p>There is also a related type <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Ior.html\" rel=\"noreferrer\">Ior</a> which can act as an either or a tuple2.</p>\n\n<ul>\n<li>disclosure I am the author of cyclops-react.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700607314,"creation_date":1686254098,"answer_id":76435293,"question_id":26162407,"body_markdown":"**NOTE:** For an enhanced and fully documented version of the `Either` class shown below (including `equals`, `hashCode`, `flatMap`, and other miscellaneous helper functions), please visit [this Gist][1].\r\n\r\n\r\n----------\r\n\r\n\r\nI have taken the implementation @Holger provided in his (currently top voted) [Answer][2], and polished it a bit to eliminate all the `null` issues I could find.\r\n\r\nI refactored it to be more naming convention aligned with the OpenJDK.\r\n\r\nI then read through the comments, and made tweaks and adjustments to further improve the quality of the implementation.\r\n\r\nI have also added state validation to the constructor, and added a couple of helper methods, `isLeft()`, `isRight()`, `getLeft()`, and `getRight()`.\r\n\r\n```java\r\n/**\r\n * Implementation of Either&lt;L, R&gt; via a pair of Optionals which explicitly\r\n * reject null values.\r\n * &lt;p&gt;\r\n * Inspired by the (first) solution presented in this StackOverflow Answer:\r\n * &lt;a href=&quot;https://stackoverflow.com/a/26164155/501113&quot;&gt;...&lt;/a&gt;\r\n **/\r\npublic static final class Either&lt;L, R&gt; {\r\n\r\n  public static &lt;L, R&gt; Either&lt;L, R&gt; left(L value) {\r\n    return new Either&lt;&gt;(Optional.of(value), Optional.empty());\r\n  }\r\n\r\n  public static &lt;L, R&gt; Either&lt;L, R&gt; right(R value) {\r\n    return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\r\n  }\r\n\r\n  private final Optional&lt;L&gt; left;\r\n  private final Optional&lt;R&gt; right;\r\n\r\n  private Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\r\n    if (left.isEmpty() == right.isEmpty()) {\r\n      throw new IllegalArgumentException(\r\n          &quot;left.isEmpty() and right.isEmpty() cannot be equal&quot;);\r\n    }\r\n    this.left = left;\r\n    this.right = right;\r\n  }\r\n\r\n  public boolean isLeft() {\r\n    return this.left.isPresent();\r\n  }\r\n\r\n  public boolean isRight() {\r\n    return this.right.isPresent();\r\n  }\r\n\r\n  public L getLeft() {\r\n    return this.left.get();\r\n  }\r\n\r\n  public R getRight() {\r\n    return this.right.get();\r\n  }\r\n\r\n  public &lt;T&gt; T map(\r\n      Function&lt;? super L, ? extends T&gt; leftFunction,\r\n      Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    return this.left\r\n        .&lt;T&gt;map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\r\n        .orElseGet(() -&gt;\r\n            this.right\r\n                .map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\r\n                .orElseThrow(() -&gt;\r\n                    new IllegalStateException(\r\n                        &quot;should never get here&quot;)));\r\n  }\r\n\r\n  public &lt;T&gt; Either&lt;T, R&gt; mapLeft(\r\n    Function&lt;? super L, ? extends T&gt; leftFunction\r\n  ) {\r\n    return new Either&lt;&gt;(\r\n        this.left.map(l -&gt;\r\n            Objects.requireNonNull(leftFunction.apply(l))),\r\n        this.right);\r\n  }\r\n\r\n  public &lt;T&gt; Either&lt;L, T&gt; mapRight(\r\n    Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    return new Either&lt;&gt;(\r\n        this.left,\r\n        this.right.map(r -&gt; \r\n            Objects.requireNonNull(rightFunction.apply(r))));\r\n  }\r\n\r\n  public void forEach(\r\n    Consumer&lt;? super L&gt; leftAction,\r\n    Consumer&lt;? super R&gt; rightAction\r\n  ) {\r\n    this.left.ifPresent(leftAction);\r\n    this.right.ifPresent(rightAction);\r\n  }\r\n}\r\n```\r\n\r\n----------\r\n\r\n\r\n**NOTE:** For an enhanced and fully documented version of the `Either` class shown below (including `equals`, `hashCode`, `flatMap`, and other miscellaneous helper functions), please visit [this Gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\r\n  [2]: https://stackoverflow.com/a/26164155/501113","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><strong>NOTE:</strong> For an enhanced and fully documented version of the <code>Either</code> class shown below (including <code>equals</code>, <code>hashCode</code>, <code>flatMap</code>, and other miscellaneous helper functions), please visit <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">this Gist</a>.</p>\n<hr />\n<p>I have taken the implementation @Holger provided in his (currently top voted) <a href=\"https://stackoverflow.com/a/26164155/501113\">Answer</a>, and polished it a bit to eliminate all the <code>null</code> issues I could find.</p>\n<p>I refactored it to be more naming convention aligned with the OpenJDK.</p>\n<p>I then read through the comments, and made tweaks and adjustments to further improve the quality of the implementation.</p>\n<p>I have also added state validation to the constructor, and added a couple of helper methods, <code>isLeft()</code>, <code>isRight()</code>, <code>getLeft()</code>, and <code>getRight()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Implementation of Either&lt;L, R&gt; via a pair of Optionals which explicitly\n * reject null values.\n * &lt;p&gt;\n * Inspired by the (first) solution presented in this StackOverflow Answer:\n * &lt;a href=&quot;https://stackoverflow.com/a/26164155/501113&quot;&gt;...&lt;/a&gt;\n **/\npublic static final class Either&lt;L, R&gt; {\n\n  public static &lt;L, R&gt; Either&lt;L, R&gt; left(L value) {\n    return new Either&lt;&gt;(Optional.of(value), Optional.empty());\n  }\n\n  public static &lt;L, R&gt; Either&lt;L, R&gt; right(R value) {\n    return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\n  }\n\n  private final Optional&lt;L&gt; left;\n  private final Optional&lt;R&gt; right;\n\n  private Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\n    if (left.isEmpty() == right.isEmpty()) {\n      throw new IllegalArgumentException(\n          &quot;left.isEmpty() and right.isEmpty() cannot be equal&quot;);\n    }\n    this.left = left;\n    this.right = right;\n  }\n\n  public boolean isLeft() {\n    return this.left.isPresent();\n  }\n\n  public boolean isRight() {\n    return this.right.isPresent();\n  }\n\n  public L getLeft() {\n    return this.left.get();\n  }\n\n  public R getRight() {\n    return this.right.get();\n  }\n\n  public &lt;T&gt; T map(\n      Function&lt;? super L, ? extends T&gt; leftFunction,\n      Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    return this.left\n        .&lt;T&gt;map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\n        .orElseGet(() -&gt;\n            this.right\n                .map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\n                .orElseThrow(() -&gt;\n                    new IllegalStateException(\n                        &quot;should never get here&quot;)));\n  }\n\n  public &lt;T&gt; Either&lt;T, R&gt; mapLeft(\n    Function&lt;? super L, ? extends T&gt; leftFunction\n  ) {\n    return new Either&lt;&gt;(\n        this.left.map(l -&gt;\n            Objects.requireNonNull(leftFunction.apply(l))),\n        this.right);\n  }\n\n  public &lt;T&gt; Either&lt;L, T&gt; mapRight(\n    Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    return new Either&lt;&gt;(\n        this.left,\n        this.right.map(r -&gt; \n            Objects.requireNonNull(rightFunction.apply(r))));\n  }\n\n  public void forEach(\n    Consumer&lt;? super L&gt; leftAction,\n    Consumer&lt;? super R&gt; rightAction\n  ) {\n    this.left.ifPresent(leftAction);\n    this.right.ifPresent(rightAction);\n  }\n}\n</code></pre>\n<hr />\n<p><strong>NOTE:</strong> For an enhanced and fully documented version of the <code>Either</code> class shown below (including <code>equals</code>, <code>hashCode</code>, <code>flatMap</code>, and other miscellaneous helper functions), please visit <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">this Gist</a>.</p>\n"}],"owner":{"account_id":53922,"reputation":17217,"user_id":161257,"accept_rate":66,"display_name":"HRJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70606,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":26164155,"answer_count":8,"score":92,"last_activity_date":1700607314,"creation_date":1412258100,"question_id":26162407,"body_markdown":"Just like `java.util.Optional&lt;T&gt;` in Java 8 is (somewhat) equivalent to Scala&#39;s `Option[T]` type, is there an equivalent to Scala&#39;s `Either[L, R]`?","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>Just like <code>java.util.Optional&lt;T&gt;</code> in Java 8 is (somewhat) equivalent to Scala's <code>Option[T]</code> type, is there an equivalent to Scala's <code>Either[L, R]</code>?</p>\n"},{"tags":["java","lambda","memoization"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1418916029,"post_id":27549864,"comment_id":43525915,"body_markdown":"Look into proxying mechanisms with Java. You can create a proxy of an object which intercepts method calls, storing the return value. If you call the method with the same arguments as a previous invocation, you&#39;d get the same result without having to invoke the underlying method. Spring caching does this for you.","body":"Look into proxying mechanisms with Java. You can create a proxy of an object which intercepts method calls, storing the return value. If you call the method with the same arguments as a previous invocation, you&#39;d get the same result without having to invoke the underlying method. Spring caching does this for you."}],"answers":[{"tags":[],"owner":{"account_id":3034088,"reputation":2104,"user_id":2572585,"display_name":"code monkey"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1602268374,"creation_date":1418916153,"answer_id":27549948,"question_id":27549864,"body_markdown":"In Java 8 you can use [`ConcurrentHashMap.computeIfAbsent`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-):\r\n\r\n    Map&lt;Integer, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    Integer addOne(Integer x) {\r\n        return cache.computeIfAbsent(x -&gt; x + 1);\r\n    }\r\n\r\n\r\nDZone has [a good tutorial](https://dzone.com/articles/java-8-automatic-memoization) which provides a solution that will work for any method:\r\n\r\n&gt; The `Memoizer` class is quite simple:\r\n&gt; \r\n&gt; ```java\r\n&gt; public class Memoizer&lt;T, U&gt; {\r\n&gt; \r\n&gt;   private final Map&lt;T, U&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n&gt; \r\n&gt;   private Memoizer() {}\r\n&gt; \r\n&gt;   private Function&lt;T, U&gt; doMemoize(final Function&lt;T, U&gt; function) {\r\n&gt;     return input -&gt; cache.computeIfAbsent(input, function::apply);\r\n&gt;   }\r\n&gt; \r\n&gt;   public static &lt;T, U&gt; Function&lt;T, U&gt; memoize(final Function&lt;T, U&gt; function) {\r\n&gt;     return new Memoizer&lt;T, U&gt;().doMemoize(function);\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; Using this class is also extremely simple:\r\n&gt; \r\n&gt; ```java\r\n&gt; Integer longCalculation(Integer x) {\r\n&gt;   try {\r\n&gt;     Thread.sleep(1_000);\r\n&gt;   } catch (InterruptedException ignored) {\r\n&gt;   }\r\n&gt;   return x * 2;\r\n&gt; }\r\n&gt; Function&lt;Integer, Integer&gt; f = this::longCalculation;\r\n&gt; Function&lt;Integer, Integer&gt; g = Memoizer.memoize(f);\r\n&gt; \r\n&gt; public void automaticMemoizationExample() {\r\n&gt;   long startTime = System.currentTimeMillis();\r\n&gt;   Integer result1 = g.apply(1);\r\n&gt;   long time1 = System.currentTimeMillis() - startTime;\r\n&gt;   startTime = System.currentTimeMillis();\r\n&gt;   Integer result2 = g.apply(1);\r\n&gt;   long time2 = System.currentTimeMillis() - startTime;\r\n&gt;   System.out.println(result1);\r\n&gt;   System.out.println(result2);\r\n&gt;   System.out.println(time1);\r\n&gt;   System.out.println(time2);\r\n&gt; }\r\n&gt; ```\r\n&gt; \r\n&gt; Running the `automaticMemoizationExample` method will produce the following result:\r\n&gt; \r\n&gt; ```none\r\n&gt; 2\r\n&gt; 2\r\n&gt; 1000\r\n&gt; 0\r\n&gt; ```","title":"Java memoization method","body":"<p>In Java 8 you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\"><code>ConcurrentHashMap.computeIfAbsent</code></a>:</p>\n<pre><code>Map&lt;Integer, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\nInteger addOne(Integer x) {\n    return cache.computeIfAbsent(x -&gt; x + 1);\n}\n</code></pre>\n<p>DZone has <a href=\"https://dzone.com/articles/java-8-automatic-memoization\" rel=\"noreferrer\">a good tutorial</a> which provides a solution that will work for any method:</p>\n<blockquote>\n<p>The <code>Memoizer</code> class is quite simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Memoizer&lt;T, U&gt; {\n\n  private final Map&lt;T, U&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\n  private Memoizer() {}\n\n  private Function&lt;T, U&gt; doMemoize(final Function&lt;T, U&gt; function) {\n    return input -&gt; cache.computeIfAbsent(input, function::apply);\n  }\n\n  public static &lt;T, U&gt; Function&lt;T, U&gt; memoize(final Function&lt;T, U&gt; function) {\n    return new Memoizer&lt;T, U&gt;().doMemoize(function);\n  }\n}\n</code></pre>\n<p>Using this class is also extremely simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer longCalculation(Integer x) {\n  try {\n    Thread.sleep(1_000);\n  } catch (InterruptedException ignored) {\n  }\n  return x * 2;\n}\nFunction&lt;Integer, Integer&gt; f = this::longCalculation;\nFunction&lt;Integer, Integer&gt; g = Memoizer.memoize(f);\n\npublic void automaticMemoizationExample() {\n  long startTime = System.currentTimeMillis();\n  Integer result1 = g.apply(1);\n  long time1 = System.currentTimeMillis() - startTime;\n  startTime = System.currentTimeMillis();\n  Integer result2 = g.apply(1);\n  long time2 = System.currentTimeMillis() - startTime;\n  System.out.println(result1);\n  System.out.println(result2);\n  System.out.println(time1);\n  System.out.println(time2);\n}\n</code></pre>\n<p>Running the <code>automaticMemoizationExample</code> method will produce the following result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2\n2\n1000\n0\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418919092,"creation_date":1418919092,"answer_id":27550960,"question_id":27549864,"body_markdown":"You can memoize any function with Java 8&#39;s `MethodHandle`s and lambdas if you&#39;re willing to give up type safety on the parameters:\r\n\r\n    public interface MemoizedFunction&lt;V&gt; {\r\n        V call(Object... args);\r\n    }\r\n\r\n    private static class ArgList {\r\n        public Object[] args;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) {\r\n                return true;\r\n            }\r\n            if (!(o instanceof ArgList)) {\r\n                return false;\r\n            }\r\n\r\n            ArgList argList = (ArgList) o;\r\n\r\n            // Probably incorrect - comparing Object[] arrays with Arrays.equals\r\n            return Arrays.equals(args, argList.args);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return args != null ? Arrays.hashCode(args) : 0;\r\n        }\r\n    }\r\n\r\n    public static &lt;V&gt; MemoizedFunction&lt;V&gt; memoizeFunction(Class&lt;? super V&gt; returnType, Method method) throws\r\n                                                                                                      IllegalAccessException {\r\n        final Map&lt;ArgList, V&gt; memoizedCalls = new HashMap&lt;&gt;();\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle methodHandle = lookup.unreflect(method)\r\n                                          .asSpreader(Object[].class, method.getParameterCount());\r\n        return args -&gt; {\r\n            ArgList argList = new ArgList();\r\n            argList.args = args;\r\n            return memoizedCalls.computeIfAbsent(argList, argList2 -&gt; {\r\n                try {\r\n                    //noinspection unchecked\r\n                    return (V) methodHandle.invoke(args);\r\n                } catch (Throwable throwable) {\r\n                    throw new RuntimeException(throwable);\r\n                }\r\n            });\r\n        };\r\n    }\r\n\r\n[Working Example](http://pastebin.com/ZgcXnRtG)\r\n\r\nThis creates a variable-arity lambda that encloses the function and is almost as fast as calling the function directly (i.e., no reflection happens inside of `call(Object...args)`) after the lambda is constructed since we&#39;re using `MethodHandle.invoke()` instead of `Method.invoke()`.\r\n\r\nYou can still do this without lambdas (replace with anonymous classes) and MethodHandles (replace with Method.invoke), but there will be performance penalties that make this less attractive for performance-conscious code.","title":"Java memoization method","body":"<p>You can memoize any function with Java 8's <code>MethodHandle</code>s and lambdas if you're willing to give up type safety on the parameters:</p>\n\n<pre><code>public interface MemoizedFunction&lt;V&gt; {\n    V call(Object... args);\n}\n\nprivate static class ArgList {\n    public Object[] args;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof ArgList)) {\n            return false;\n        }\n\n        ArgList argList = (ArgList) o;\n\n        // Probably incorrect - comparing Object[] arrays with Arrays.equals\n        return Arrays.equals(args, argList.args);\n    }\n\n    @Override\n    public int hashCode() {\n        return args != null ? Arrays.hashCode(args) : 0;\n    }\n}\n\npublic static &lt;V&gt; MemoizedFunction&lt;V&gt; memoizeFunction(Class&lt;? super V&gt; returnType, Method method) throws\n                                                                                                  IllegalAccessException {\n    final Map&lt;ArgList, V&gt; memoizedCalls = new HashMap&lt;&gt;();\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle methodHandle = lookup.unreflect(method)\n                                      .asSpreader(Object[].class, method.getParameterCount());\n    return args -&gt; {\n        ArgList argList = new ArgList();\n        argList.args = args;\n        return memoizedCalls.computeIfAbsent(argList, argList2 -&gt; {\n            try {\n                //noinspection unchecked\n                return (V) methodHandle.invoke(args);\n            } catch (Throwable throwable) {\n                throw new RuntimeException(throwable);\n            }\n        });\n    };\n}\n</code></pre>\n\n<p><a href=\"http://pastebin.com/ZgcXnRtG\" rel=\"noreferrer\">Working Example</a></p>\n\n<p>This creates a variable-arity lambda that encloses the function and is almost as fast as calling the function directly (i.e., no reflection happens inside of <code>call(Object...args)</code>) after the lambda is constructed since we're using <code>MethodHandle.invoke()</code> instead of <code>Method.invoke()</code>.</p>\n\n<p>You can still do this without lambdas (replace with anonymous classes) and MethodHandles (replace with Method.invoke), but there will be performance penalties that make this less attractive for performance-conscious code.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607242,"creation_date":1698600673,"answer_id":77384428,"question_id":27549864,"body_markdown":"**NOTE:** For an enhanced and fully documented version of the Memoizer class shown below (including `lazyInstantiation()` static helper method), please visit this [Gist][1].\r\n\r\n----------\r\n\r\nWhile you asked for a specific _method_ to accomplish your task, there is an OOP+FP (Object Oriented Programming integrated with Functional Programming) approach to solving the problem. And while I have simplified it below, it enables multiple ways to &quot;generically implement memoize&quot;.\r\n\r\nI have found it especially useful in my projects. For example, I have exploited it by generating &quot;caching&quot; helpers around various `enum`s. For example, to easily enable finding an `enum` value by a `String` while ignoring case. Another example is to easily enable finding an `enum` value by its `.ordinal()` or database ID.\r\n\r\nHere is a list of benefits to a client when contrasted with other solutions I have seen suggested:\r\n\r\n 1. Null restriction enforced for both keys and values\r\n 2. Assumes keys are [effectively immutable][2] (see &quot;Distinction 3&quot;)\r\n 3. At construction, optionally specify a default lambda for deriving a value from a key\r\n 4. At construction, optionally ensures insertion order within `keySet().iterator()` (quite nice for debugging sessions)\r\n 5. When accessing, optionally specify an overriding lambda for deriving a value from a key\r\n\r\n```java\r\npublic final class Memoizer&lt;K, V&gt; {\r\n\r\n  private final Map&lt;K, V&gt; vByK;\r\n\r\n  private final Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK;\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from() {\r\n    return from(false);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      Function&lt;K, V&gt; defaultDeriveVFromK\r\n  ) {\r\n    return from(defaultDeriveVFromK, false);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    return new Memoizer&lt;&gt;(Optional.empty(), isRetainingInsertionOrder);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      Function&lt;K, V&gt; defaultDeriveVFromK,\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    return new Memoizer&lt;&gt;(Optional.of(Objects.requireNonNull(defaultDeriveVFromK)), isRetainingInsertionOrder);\r\n  }\r\n  \r\n  private Memoizer(\r\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK,\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    this.vByK = isRetainingInsertionOrder\r\n        ? new LinkedHashMap&lt;&gt;()\r\n        : new HashMap&lt;&gt;();\r\n    this.optionalDefaultDeriveVFromK = optionalDefaultDeriveVFromK;\r\n  }\r\n\r\n  private V get(\r\n      K k,\r\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalOverrideDeriveVFromK\r\n  ) {\r\n    return Optional.ofNullable(vByK.get(Objects.requireNonNull(k, &quot;k must not be null&quot;)))\r\n        .orElseGet(() -&gt; {\r\n          synchronized (vByK) {\r\n            return Optional.ofNullable(vByK.get(k))\r\n                .orElseGet(() -&gt; {\r\n                  var lambda = optionalOverrideDeriveVFromK\r\n                      .or(() -&gt; optionalDefaultDeriveVFromK)\r\n                      .orElseThrow(() -&gt; new IllegalArgumentException(\r\n                          &quot;when optionalDefaultDeriveVFromK is empty, optionalOverrideDeriveVFromK must not be empty&quot;));\r\n                  var v = Objects.requireNonNull(lambda.apply(k),\r\n                      &quot;v returned from %s function must not be null&quot;.formatted(\r\n                          optionalOverrideDeriveVFromK.isEmpty()\r\n                              ? &quot;optionalDefaultDeriveVFromK&quot;\r\n                              : &quot;optionalOverrideDeriveVFromK&quot;));\r\n                  vByK.put(k, v);\r\n\r\n                  return v;\r\n                });\r\n          }\r\n        });\r\n  }\r\n\r\n  public V get(\r\n      K k,\r\n      Function&lt;K, V&gt; overrideDeriveVFromK\r\n  ) {\r\n    return get(k, Optional.of(overrideDeriveVFromK));\r\n  }\r\n\r\n  public V get(K k) {\r\n    return get(k, Optional.empty());\r\n  }\r\n\r\n  public Set&lt;K&gt; keySet() {\r\n    return Collections.unmodifiableSet(vByK.keySet());\r\n  }\r\n}\r\n```\r\n\r\n----------\r\n\r\n**NOTE:** For an enhanced and fully documented version of the Memoizer class shown below (including `lazyInstantiation()` static helper method), please visit this [Gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\r\n  [2]: https://stackoverflow.com/a/75043881/501113","title":"Java memoization method","body":"<p><strong>NOTE:</strong> For an enhanced and fully documented version of the Memoizer class shown below (including <code>lazyInstantiation()</code> static helper method), please visit this <a href=\"https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\" rel=\"nofollow noreferrer\">Gist</a>.</p>\n<hr />\n<p>While you asked for a specific <em>method</em> to accomplish your task, there is an OOP+FP (Object Oriented Programming integrated with Functional Programming) approach to solving the problem. And while I have simplified it below, it enables multiple ways to &quot;generically implement memoize&quot;.</p>\n<p>I have found it especially useful in my projects. For example, I have exploited it by generating &quot;caching&quot; helpers around various <code>enum</code>s. For example, to easily enable finding an <code>enum</code> value by a <code>String</code> while ignoring case. Another example is to easily enable finding an <code>enum</code> value by its <code>.ordinal()</code> or database ID.</p>\n<p>Here is a list of benefits to a client when contrasted with other solutions I have seen suggested:</p>\n<ol>\n<li>Null restriction enforced for both keys and values</li>\n<li>Assumes keys are <a href=\"https://stackoverflow.com/a/75043881/501113\">effectively immutable</a> (see &quot;Distinction 3&quot;)</li>\n<li>At construction, optionally specify a default lambda for deriving a value from a key</li>\n<li>At construction, optionally ensures insertion order within <code>keySet().iterator()</code> (quite nice for debugging sessions)</li>\n<li>When accessing, optionally specify an overriding lambda for deriving a value from a key</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Memoizer&lt;K, V&gt; {\n\n  private final Map&lt;K, V&gt; vByK;\n\n  private final Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK;\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from() {\n    return from(false);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      Function&lt;K, V&gt; defaultDeriveVFromK\n  ) {\n    return from(defaultDeriveVFromK, false);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      boolean isRetainingInsertionOrder\n  ) {\n    return new Memoizer&lt;&gt;(Optional.empty(), isRetainingInsertionOrder);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      Function&lt;K, V&gt; defaultDeriveVFromK,\n      boolean isRetainingInsertionOrder\n  ) {\n    return new Memoizer&lt;&gt;(Optional.of(Objects.requireNonNull(defaultDeriveVFromK)), isRetainingInsertionOrder);\n  }\n  \n  private Memoizer(\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK,\n      boolean isRetainingInsertionOrder\n  ) {\n    this.vByK = isRetainingInsertionOrder\n        ? new LinkedHashMap&lt;&gt;()\n        : new HashMap&lt;&gt;();\n    this.optionalDefaultDeriveVFromK = optionalDefaultDeriveVFromK;\n  }\n\n  private V get(\n      K k,\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalOverrideDeriveVFromK\n  ) {\n    return Optional.ofNullable(vByK.get(Objects.requireNonNull(k, &quot;k must not be null&quot;)))\n        .orElseGet(() -&gt; {\n          synchronized (vByK) {\n            return Optional.ofNullable(vByK.get(k))\n                .orElseGet(() -&gt; {\n                  var lambda = optionalOverrideDeriveVFromK\n                      .or(() -&gt; optionalDefaultDeriveVFromK)\n                      .orElseThrow(() -&gt; new IllegalArgumentException(\n                          &quot;when optionalDefaultDeriveVFromK is empty, optionalOverrideDeriveVFromK must not be empty&quot;));\n                  var v = Objects.requireNonNull(lambda.apply(k),\n                      &quot;v returned from %s function must not be null&quot;.formatted(\n                          optionalOverrideDeriveVFromK.isEmpty()\n                              ? &quot;optionalDefaultDeriveVFromK&quot;\n                              : &quot;optionalOverrideDeriveVFromK&quot;));\n                  vByK.put(k, v);\n\n                  return v;\n                });\n          }\n        });\n  }\n\n  public V get(\n      K k,\n      Function&lt;K, V&gt; overrideDeriveVFromK\n  ) {\n    return get(k, Optional.of(overrideDeriveVFromK));\n  }\n\n  public V get(K k) {\n    return get(k, Optional.empty());\n  }\n\n  public Set&lt;K&gt; keySet() {\n    return Collections.unmodifiableSet(vByK.keySet());\n  }\n}\n</code></pre>\n<hr />\n<p><strong>NOTE:</strong> For an enhanced and fully documented version of the Memoizer class shown below (including <code>lazyInstantiation()</code> static helper method), please visit this <a href=\"https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\" rel=\"nofollow noreferrer\">Gist</a>.</p>\n"}],"owner":{"account_id":3693482,"reputation":540,"user_id":3101139,"accept_rate":92,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25954,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":27549948,"answer_count":3,"score":22,"last_activity_date":1700607242,"creation_date":1418915919,"question_id":27549864,"body_markdown":"I came across an interesting problem and was wondering if and how could this be done in Java:\r\nCreate a method which can memoize any function/method . The method has the following arguments : the method/function and the argument(s) for it.\r\n\r\nFor example let&#39;s say i have this method :\r\n   \r\n\r\n    int addOne(int a) { return a + 1;}\r\n\r\nand i call my memoization method two times with the same arguments : addOne and 5 for example, the first call should actually call the addOne method and return the result and also store that result for that given argument. The second time when i call it should know this has been called before and just look up the previous answer.\r\n\r\nMy idea would be to have something like a `HashMap&lt;Callable,HashMap&lt;List&lt;Objects&gt;,Object&gt;&gt;` where you would store the previous answers and look them up later on.I think this can be somehow done with lambda expressions but i&#39;m not that familiar with them.I&#39;m not quite sure how to write this method and would appreciate some help.\r\n\r\nCan this be done with this approach? \r\n\r\n","title":"Java memoization method","body":"<p>I came across an interesting problem and was wondering if and how could this be done in Java:\nCreate a method which can memoize any function/method . The method has the following arguments : the method/function and the argument(s) for it.</p>\n\n<p>For example let's say i have this method :</p>\n\n<pre><code>int addOne(int a) { return a + 1;}\n</code></pre>\n\n<p>and i call my memoization method two times with the same arguments : addOne and 5 for example, the first call should actually call the addOne method and return the result and also store that result for that given argument. The second time when i call it should know this has been called before and just look up the previous answer.</p>\n\n<p>My idea would be to have something like a <code>HashMap&lt;Callable,HashMap&lt;List&lt;Objects&gt;,Object&gt;&gt;</code> where you would store the previous answers and look them up later on.I think this can be somehow done with lambda expressions but i'm not that familiar with them.I'm not quite sure how to write this method and would appreciate some help.</p>\n\n<p>Can this be done with this approach? </p>\n"},{"tags":["java","maven","testing","mockito","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700431511,"post_id":77512409,"comment_id":136650526,"body_markdown":"Take a look at https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/","body":"Take a look at <a href=\"https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/\" rel=\"nofollow noreferrer\">blog.soebes.io/posts/2023/10/&hellip;</a>"},{"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"score":0,"creation_date":1700604420,"post_id":77512409,"comment_id":136674674,"body_markdown":"Truly interesting and useful, it allowed me to simplify and improve my Maven setup! Definitively the kind of articles that I love to found! Thanks a lot @khmarbaise for having written the article and shared it to me!","body":"Truly interesting and useful, it allowed me to simplify and improve my Maven setup! Definitively the kind of articles that I love to found! Thanks a lot @khmarbaise for having written the article and shared it to me!"}],"answers":[{"tags":[],"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700606849,"creation_date":1700606849,"answer_id":77526361,"question_id":77512409,"body_markdown":"Thanks to @khmarbaise, I found that `@{argLine}` was required when configuring the JVM args. With this minor adjustment, I finally solved my issue!\r\n\r\nHere is the final setup with surefire and failsafe Maven plugins:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\r\n        &lt;parallel&gt;all&lt;/parallel&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNo more CDS warnings while keeping the coverage reports generated as expected!\r\n\r\nMore details can be found [here][1].\r\n\r\n\r\n  [1]: https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/","title":"Adding &quot;-Xshare:off&quot; JVM arg break jacoco-maven-plugin setup","body":"<p>Thanks to @khmarbaise, I found that <code>@{argLine}</code> was required when configuring the JVM args. With this minor adjustment, I finally solved my issue!</p>\n<p>Here is the final setup with surefire and failsafe Maven plugins:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\n        &lt;parallel&gt;all&lt;/parallel&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>No more CDS warnings while keeping the coverage reports generated as expected!</p>\n<p>More details can be found <a href=\"https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77526361,"answer_count":1,"score":0,"last_activity_date":1700606849,"creation_date":1700426197,"question_id":77512409,"body_markdown":"I&#39;m trying to get rid of the following warning message:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n\r\nIt appears when executing Java (17) unit tests with Mockito through Maven (v3.9.2).\r\n\r\nBased on the answers provided to [this question](https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra) and the initial comments in [this Mockito GitHub issue](https://github.com/mockito/mockito/issues/3111), adding the JVM arg `-Xshare:off` seemed to be the way to go. Unfortunately, this prevents JaCoCo to create an execution data file and thus prevents report to be generated based on it:\r\n\r\n&gt; [INFO] --- jacoco:0.8.11:report (report-unit-tests) @ commons-test ---  \r\n&gt; [INFO] Skipping JaCoCo execution due to missing execution data file.\r\n\r\nSo, this brings me with the following two questions:\r\n\r\n* Why is the execution data file not created by JaCoCo in this context?\r\n* Is there a way to overcome this situation? (i.e. having the coverage measures reported **without** the warning message)\r\n\r\n# Additional information\r\n\r\nThe project is a multi-module one with the following setup:\r\n\r\n* The maven-jacoco-plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.8.11&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n* The maven-surefire-plugin and maven-failsafe-plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\r\n\t\t&lt;parallel&gt;all&lt;/parallel&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Adding &quot;-Xshare:off&quot; JVM arg break jacoco-maven-plugin setup","body":"<p>I'm trying to get rid of the following warning message:</p>\n<blockquote>\n<p>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended</p>\n</blockquote>\n<p>It appears when executing Java (17) unit tests with Mockito through Maven (v3.9.2).</p>\n<p>Based on the answers provided to <a href=\"https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra\">this question</a> and the initial comments in <a href=\"https://github.com/mockito/mockito/issues/3111\" rel=\"nofollow noreferrer\">this Mockito GitHub issue</a>, adding the JVM arg <code>-Xshare:off</code> seemed to be the way to go. Unfortunately, this prevents JaCoCo to create an execution data file and thus prevents report to be generated based on it:</p>\n<blockquote>\n<p>[INFO] --- jacoco:0.8.11:report (report-unit-tests) @ commons-test ---<br />\n[INFO] Skipping JaCoCo execution due to missing execution data file.</p>\n</blockquote>\n<p>So, this brings me with the following two questions:</p>\n<ul>\n<li>Why is the execution data file not created by JaCoCo in this context?</li>\n<li>Is there a way to overcome this situation? (i.e. having the coverage measures reported <strong>without</strong> the warning message)</li>\n</ul>\n<h1>Additional information</h1>\n<p>The project is a multi-module one with the following setup:</p>\n<ul>\n<li>The maven-jacoco-plugin:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.11&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>The maven-surefire-plugin and maven-failsafe-plugin:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\n        &lt;parallel&gt;all&lt;/parallel&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","timezone","java-time","timezone-offset"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700606839,"creation_date":1700604298,"answer_id":77526194,"question_id":77526193,"body_markdown":"## tl;dr\r\n\r\n```java\r\nInstant now = Instant.now ( );\r\nZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\r\n\r\nList &lt; ZoneId &gt; zoneIdsWithTargetOffset =\r\n        ZoneId\r\n                .getAvailableZoneIds ( )  // Returns List&lt;String&gt;, not List&lt;ZoneId&gt;. Text is in format: Continent/Region.\r\n                .stream ( )\r\n                .map ( ZoneId :: of )     // Make a `ZoneId` object of each `String` zone name, each Continent/Region. \r\n                .filter (\r\n                        ( ZoneId zoneId ) -&gt; zoneId.getRules ( ).getOffset ( now ).equals ( offsetTarget )  // Get the offset in effect for that zone at that moment. See if that offset matches our target offset. \r\n                )\r\n                .toList ()                // Collect `ZoneId` objects.\r\n;\r\n```\r\n\r\n\r\n## Details\r\n\r\nYes, you can get such a list in Java 8+ using the *java.time* classes. \r\n\r\nThe `ZoneId` class represents each time zone, with a name in the format of `Continent/Region`. The rules in use by each time zone are contained in a `ZoneRules` object. \r\n\r\nThe `ZoneOffset` class represents a mere offset. \r\n\r\nThe `Instant` class represents a moment, a specific point on the time line, as seen with an offset of zero hours-minutes-seconds from UTC. To get the current moment, call `Instant.now()`. \r\n\r\nWe can interrogate the zone rules for the offset in use by a zone at any particular moment. This means getting a `ZoneId` by its name, asking for its rules, and the passing an `Instant` to the `getOffset` method of the rules object. \r\n\r\n```java\r\nfinal Instant now = Instant.now ( );\r\nfinal ZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\r\n\r\nfinal Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds ( );\r\nfinal Collection &lt; ZoneId &gt; zoneIdsWithTargetOffset = new ArrayList &lt;&gt; ( );\r\nfor ( String zoneName : zoneNames )\r\n{\r\n    ZoneId zoneId = ZoneId.of ( zoneName );\r\n    ZoneRules rules = zoneId.getRules ( );\r\n    ZoneOffset offset = rules.getOffset ( now );\r\n    if ( offset.equals ( offsetTarget ) )\r\n    {\r\n        zoneIdsWithTargetOffset.add ( zoneId );\r\n    }\r\n}\r\nSystem.out.println ( &quot;At &quot; + now + &quot;, &quot; + zoneIdsWithTargetOffset.size ( ) + &quot; zones have an offset of &quot; + offsetTarget + &quot; ➡️ &quot; + zoneIdsWithTargetOffset ); // ️\r\n```\r\n\r\nSee this [code run at Ideone.com][2].\r\n\r\n&gt;At 2023-11-21T21:59:37.279097Z, 43 zones have an offset of -04:00 ➡️ [America/Cuiaba, America/Marigot, Canada/Atlantic, Etc/GMT+4, America/Manaus, America/St_Thomas, America/Anguilla, America/Barbados, America/Curacao, America/Guyana, America/Martinique, America/Puerto_Rico, America/Port_of_Spain, SystemV/AST4, America/Kralendijk, America/Antigua, America/Moncton, America/St_Vincent, America/Dominica, Atlantic/Bermuda, Brazil/West, America/Aruba, America/Halifax, America/La_Paz, America/Blanc-Sablon, America/Santo_Domingo, America/Glace_Bay, America/St_Barthelemy, America/St_Lucia, America/Montserrat, America/Lower_Princes, America/Thule, America/Tortola, America/Porto_Velho, America/Campo_Grande, America/Goose_Bay, America/Virgin, America/Boa_Vista, America/Grenada, America/St_Kitts, America/Caracas, America/Guadeloupe, SystemV/AST4ADT]\r\n\r\n\r\n**Beware:** Politicians frequently change the rules of the time zone(s) within their jurisdiction. They sometimes make those changes with an alarming lack of forewarning. Be sure the [tzdata][1] within your JVM is current for the time zones of interest to you. **You may need to update the tzdata** yourself, as new versions arrive faster than updates to Java.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tz_database\r\n  [2]: https://ideone.com/tqk9lo","title":"Get time zones using a specific offset for a given moment, in Java","body":"<h2>tl;dr</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now ( );\nZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\n\nList &lt; ZoneId &gt; zoneIdsWithTargetOffset =\n        ZoneId\n                .getAvailableZoneIds ( )  // Returns List&lt;String&gt;, not List&lt;ZoneId&gt;. Text is in format: Continent/Region.\n                .stream ( )\n                .map ( ZoneId :: of )     // Make a `ZoneId` object of each `String` zone name, each Continent/Region. \n                .filter (\n                        ( ZoneId zoneId ) -&gt; zoneId.getRules ( ).getOffset ( now ).equals ( offsetTarget )  // Get the offset in effect for that zone at that moment. See if that offset matches our target offset. \n                )\n                .toList ()                // Collect `ZoneId` objects.\n;\n</code></pre>\n<h2>Details</h2>\n<p>Yes, you can get such a list in Java 8+ using the <em>java.time</em> classes.</p>\n<p>The <code>ZoneId</code> class represents each time zone, with a name in the format of <code>Continent/Region</code>. The rules in use by each time zone are contained in a <code>ZoneRules</code> object.</p>\n<p>The <code>ZoneOffset</code> class represents a mere offset.</p>\n<p>The <code>Instant</code> class represents a moment, a specific point on the time line, as seen with an offset of zero hours-minutes-seconds from UTC. To get the current moment, call <code>Instant.now()</code>.</p>\n<p>We can interrogate the zone rules for the offset in use by a zone at any particular moment. This means getting a <code>ZoneId</code> by its name, asking for its rules, and the passing an <code>Instant</code> to the <code>getOffset</code> method of the rules object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Instant now = Instant.now ( );\nfinal ZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\n\nfinal Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds ( );\nfinal Collection &lt; ZoneId &gt; zoneIdsWithTargetOffset = new ArrayList &lt;&gt; ( );\nfor ( String zoneName : zoneNames )\n{\n    ZoneId zoneId = ZoneId.of ( zoneName );\n    ZoneRules rules = zoneId.getRules ( );\n    ZoneOffset offset = rules.getOffset ( now );\n    if ( offset.equals ( offsetTarget ) )\n    {\n        zoneIdsWithTargetOffset.add ( zoneId );\n    }\n}\nSystem.out.println ( &quot;At &quot; + now + &quot;, &quot; + zoneIdsWithTargetOffset.size ( ) + &quot; zones have an offset of &quot; + offsetTarget + &quot; ➡️ &quot; + zoneIdsWithTargetOffset ); // ️\n</code></pre>\n<p>See this <a href=\"https://ideone.com/tqk9lo\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>At 2023-11-21T21:59:37.279097Z, 43 zones have an offset of -04:00 ➡️ [America/Cuiaba, America/Marigot, Canada/Atlantic, Etc/GMT+4, America/Manaus, America/St_Thomas, America/Anguilla, America/Barbados, America/Curacao, America/Guyana, America/Martinique, America/Puerto_Rico, America/Port_of_Spain, SystemV/AST4, America/Kralendijk, America/Antigua, America/Moncton, America/St_Vincent, America/Dominica, Atlantic/Bermuda, Brazil/West, America/Aruba, America/Halifax, America/La_Paz, America/Blanc-Sablon, America/Santo_Domingo, America/Glace_Bay, America/St_Barthelemy, America/St_Lucia, America/Montserrat, America/Lower_Princes, America/Thule, America/Tortola, America/Porto_Velho, America/Campo_Grande, America/Goose_Bay, America/Virgin, America/Boa_Vista, America/Grenada, America/St_Kitts, America/Caracas, America/Guadeloupe, SystemV/AST4ADT]</p>\n</blockquote>\n<p><strong>Beware:</strong> Politicians frequently change the rules of the time zone(s) within their jurisdiction. They sometimes make those changes with an alarming lack of forewarning. Be sure the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">tzdata</a> within your JVM is current for the time zones of interest to you. <strong>You may need to update the tzdata</strong> yourself, as new versions arrive faster than updates to Java.</p>\n"}],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700606839,"creation_date":1700604298,"question_id":77526193,"body_markdown":"I know:\r\n\r\n - An offset is merely a number of hours-minutes-seconds ahead/behind the temporal meridian of UTC.\r\n - A time zone is a named history of the past, present, and future changes to the offset used by the people of a specific region, as determined by their politicians. \r\n\r\nSo for any moment, a particular time zone is using one offset while in another moment that same time zone may be using a different offset. \r\n\r\nAnd, of course, any number of time zones may share the same offset at any one point in time.\r\n\r\n&#128073;&#127997; Is there a way to obtain a list of time zones using a particular offset at a particular moment? ","title":"Get time zones using a specific offset for a given moment, in Java","body":"<p>I know:</p>\n<ul>\n<li>An offset is merely a number of hours-minutes-seconds ahead/behind the temporal meridian of UTC.</li>\n<li>A time zone is a named history of the past, present, and future changes to the offset used by the people of a specific region, as determined by their politicians.</li>\n</ul>\n<p>So for any moment, a particular time zone is using one offset while in another moment that same time zone may be using a different offset.</p>\n<p>And, of course, any number of time zones may share the same offset at any one point in time.</p>\n<p>👉🏽 Is there a way to obtain a list of time zones using a particular offset at a particular moment?</p>\n"},{"tags":["java","android","kotlin","android-studio","gradle"],"comments":[{"owner":{"account_id":21762263,"reputation":138,"user_id":16066673,"display_name":"eenNaampje"},"score":0,"creation_date":1700645077,"post_id":77526349,"comment_id":136678896,"body_markdown":"Typo? It settings.gradle.kts","body":"Typo? It settings.gradle.kts"}],"owner":{"account_id":14918710,"reputation":113,"user_id":10771746,"display_name":"Cosmic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700606652,"creation_date":1700606652,"question_id":77526349,"body_markdown":"I&#39;m encountering a Gradle sync error after adding a module to my Android Studio project. Removing the module and its SDK didn&#39;t resolve the issue.\r\n\r\nError:\r\n\r\n```\r\n\r\nBuild file &#39;/home/ishan/AndroidStudioProjects/StaffScanDemo/build.gradle.kts&#39; line: 7\r\n\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;8.1.2&#39;, apply: false] was not found in any of the following sources:\r\n\r\nTry:\r\nRun with --info or --debug option to get more log output.\r\nRun with --scan to get full insights.\r\n\r\nException is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;8.1.2&#39;, apply: false] was not found in any of the following sources:\r\nGradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\nPlugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:8.1.2&#39;)\r\n```\r\n\r\n\r\nbuild.gradle.kts (Project Level)\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath(&quot;com.google.gms:google-services:4.4.0&quot;)\r\n    }\r\n}\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false\r\n    id(&quot;com.google.gms.google-services&quot;) version &quot;4.4.0&quot; apply false\r\n\r\n}\r\n```\r\n\r\nsetting.gradle.kts\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.name = &quot;StaffScanDemo&quot;\r\ninclude(&quot;:app&quot;)\r\n```\r\n\r\nI attempted various solutions suggested in similar Stack Overflow questions, including adding the android-library plugin to the project&#39;s build.gradle file.\r\n\r\nRemoved the problematic module and its SDK from the project structure, but the error persists. But if I try to add a new module then it says a module with that name already exists.\r\n\r\nI&#39;m seeking assistance in identifying the root cause of this error and implementing an effective solution. Any insights or suggestions would be greatly appreciated.","title":"Android Studio Gradle sync issue: Unable to resolve plugin artifact","body":"<p>I'm encountering a Gradle sync error after adding a module to my Android Studio project. Removing the module and its SDK didn't resolve the issue.</p>\n<p>Error:</p>\n<pre><code>\nBuild file '/home/ishan/AndroidStudioProjects/StaffScanDemo/build.gradle.kts' line: 7\n\nPlugin [id: 'com.android.application', version: '8.1.2', apply: false] was not found in any of the following sources:\n\nTry:\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nException is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '8.1.2', apply: false] was not found in any of the following sources:\nGradle Core Plugins (plugin is not in 'org.gradle' namespace)\nPlugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:8.1.2')\n</code></pre>\n<p>build.gradle.kts (Project Level)</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath(&quot;com.google.gms:google-services:4.4.0&quot;)\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false\n    id(&quot;com.google.gms.google-services&quot;) version &quot;4.4.0&quot; apply false\n\n}\n</code></pre>\n<p>setting.gradle.kts</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.name = &quot;StaffScanDemo&quot;\ninclude(&quot;:app&quot;)\n</code></pre>\n<p>I attempted various solutions suggested in similar Stack Overflow questions, including adding the android-library plugin to the project's build.gradle file.</p>\n<p>Removed the problematic module and its SDK from the project structure, but the error persists. But if I try to add a new module then it says a module with that name already exists.</p>\n<p>I'm seeking assistance in identifying the root cause of this error and implementing an effective solution. Any insights or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","sqlite","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":29269534,"reputation":1,"user_id":22424671,"display_name":"Jelly Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700606461,"creation_date":1700606461,"answer_id":77526339,"question_id":77526271,"body_markdown":"I managed to fix the issue myself and here is how.\r\nSo the main problem was where I was checking to see if the member was banned in the first place.\r\nThe connection wasn&#39;t really closing / opening properly hence causing the error later on.\r\nHere is the updated isPlayerBanned code:\r\n```\r\n    private boolean isPlayerBanned(String playerName) {\r\n        try{\r\n            Connection connection = SQLiteConnector.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;);\r\n            statement.setString(1, playerName);\r\n            try(ResultSet resultSet = statement.executeQuery()) {\r\n                if(resultSet.next()) {\r\n                    int count = resultSet.getInt(1);\r\n                    return count &gt; 0;\r\n                }\r\n            }\r\n            connection.close();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return false;\r\n    }\r\n```","title":"SQLite database connection closed or null Java","body":"<p>I managed to fix the issue myself and here is how.\nSo the main problem was where I was checking to see if the member was banned in the first place.\nThe connection wasn't really closing / opening properly hence causing the error later on.\nHere is the updated isPlayerBanned code:</p>\n<pre><code>    private boolean isPlayerBanned(String playerName) {\n        try{\n            Connection connection = SQLiteConnector.getConnection();\n            PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;);\n            statement.setString(1, playerName);\n            try(ResultSet resultSet = statement.executeQuery()) {\n                if(resultSet.next()) {\n                    int count = resultSet.getInt(1);\n                    return count &gt; 0;\n                }\n            }\n            connection.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":29269534,"reputation":1,"user_id":22424671,"display_name":"Jelly Fish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700606461,"creation_date":1700605483,"question_id":77526271,"body_markdown":"I am trying to make a Ban command for minecraft spigot 1.20.2. I am using SQLITE to store the data. I am using OnPlayerJoinEvent to check to see if the player is banned or not, if they are then we get the baninfo and stop them from entering the server. But when it attempts to get the ban info it errors out at the database connection is closed or null.\r\n\r\nHere is the join event code.\r\n```\r\n    Main plugin = Main.getInstance();\r\n\r\n    public JoinEvent(Main plugin)\r\n    {\r\n        this.plugin = plugin;\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerJoin(PlayerJoinEvent event)\r\n    {\r\n        Player player = event.getPlayer();\r\n        String playerName = event.getPlayer().getName();\r\n        if (isPlayerBanned(playerName)) {\r\n            System.out.println(&quot;Person banned.&quot;);\r\n            // Get ban information\r\n            BanInfo banInfo = getBanInfo(playerName);\r\n\r\n            // Prevent the player from joining\r\n            event.setJoinMessage(null); // Remove default join message\r\n            player.kickPlayer(getKickMessage(banInfo));\r\n        }\r\n        if(event.getPlayer().hasPlayedBefore())\r\n        {\r\n            FileConfiguration config = plugin.getConfig();\r\n            String joinMessage = config.getString(&quot;join-message-has-played-before&quot;);\r\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\r\n            event.setJoinMessage(joinMessage);\r\n        }\r\n        else\r\n        {\r\n            FileConfiguration config = plugin.getConfig();\r\n            String joinMessage = config.getString(&quot;join-message-has-not-played-before&quot;);\r\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\r\n            event.setJoinMessage(joinMessage);\r\n        }\r\n    }\r\n\r\n    private boolean isPlayerBanned(String playerName) {\r\n        try (Connection connection = SQLiteConnector.getConnection();\r\n             PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;)) {\r\n            statement.setString(1, playerName);\r\n\r\n            try (ResultSet resultSet = statement.executeQuery()) {\r\n                if (resultSet.next()) {\r\n                    int count = resultSet.getInt(1);\r\n                    return count &gt; 0;\r\n                }\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private BanInfo getBanInfo(String playerName) {\r\n        PreparedStatement statement = null;\r\n        ResultSet resultSet = null;\r\n        try{\r\n            Connection connection = SQLiteConnector.getConnection();\r\n\r\n            if (connection == null || connection.isClosed()) {\r\n                throw new SQLException(&quot;Database connection is null or closed.&quot;);\r\n            }\r\n\r\n            statement = connection.prepareStatement(&quot;SELECT * FROM bans WHERE player_name = ?&quot;);\r\n            statement.setString(1, playerName);\r\n\r\n            resultSet = statement.executeQuery();\r\n\r\n            if (resultSet.next()) {\r\n                String staffMember = resultSet.getString(&quot;staff_member&quot;);\r\n                String reason = resultSet.getString(&quot;reason&quot;);\r\n\r\n                return new BanInfo(playerName, staffMember, reason);\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (resultSet != null) {\r\n                    resultSet.close();\r\n                }\r\n                if (statement != null) {\r\n                    statement.close();\r\n                }\r\n                // Note: Do not close the connection here to keep it open for later use\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private String getKickMessage(BanInfo banInfo) {\r\n        if (banInfo != null) {\r\n            return ChatColor.RED + &quot;You are banned from this server.\\n&quot; +\r\n                    ChatColor.RED + &quot;Banned by: &quot; + ChatColor.YELLOW + banInfo.getStaffMember() + &quot;\\n&quot; +\r\n                    ChatColor.RED + &quot;Reason: &quot; + ChatColor.YELLOW + banInfo.getReason();\r\n        } else {\r\n            return ChatColor.RED + &quot;You are banned from this server.&quot;;\r\n        }\r\n    }\r\n```\r\nHere is the SQLConnector code:\r\n```\r\n    private static Connection connection;\r\n\r\n    public static Connection getConnection() {\r\n        if(connection == null) {\r\n            try {\r\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n                connection = DriverManager.getConnection(&quot;jdbc:sqlite:plugins/Jellyfish-Hosting-Plugin/punishments.db&quot;);\r\n            } catch (ClassNotFoundException | SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }\r\n\r\n    public static void closeConnection() {\r\n        try {\r\n            if (connection != null &amp;&amp; !connection.isClosed()) {\r\n                connection.close();\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe error that I receive is (half of):\r\n```\r\n[22:20:03 WARN]: java.sql.SQLException: Database connection is null or closed.\r\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.getBanInfo(JoinEvent.java:82)\r\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.onPlayerJoin(JoinEvent.java:35)\r\n[22:20:03 WARN]:        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor1.execute(Unknown Source)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77)\r\n[22:20:03 WARN]:        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:81)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70)\r\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:54)\r\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:615)\r\n[22:20:03 WARN]:        at net.minecraft.server.players.PlayerList.a(PlayerList.java:346)\r\n[22:20:03 WARN]:        at net.minecraft.server.network.ServerConfigurationPacketListenerImpl.a(ServerConfigurationPacketListenerImpl.java:130)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:18)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:9)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$0(PlayerConnectionUtils.java:53)\r\n```\r\n\r\nI have tried using normal debug statements to find out where it was closing at which seems to be after the checking to see if the player is banned or not.","title":"SQLite database connection closed or null Java","body":"<p>I am trying to make a Ban command for minecraft spigot 1.20.2. I am using SQLITE to store the data. I am using OnPlayerJoinEvent to check to see if the player is banned or not, if they are then we get the baninfo and stop them from entering the server. But when it attempts to get the ban info it errors out at the database connection is closed or null.</p>\n<p>Here is the join event code.</p>\n<pre><code>    Main plugin = Main.getInstance();\n\n    public JoinEvent(Main plugin)\n    {\n        this.plugin = plugin;\n    }\n\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event)\n    {\n        Player player = event.getPlayer();\n        String playerName = event.getPlayer().getName();\n        if (isPlayerBanned(playerName)) {\n            System.out.println(&quot;Person banned.&quot;);\n            // Get ban information\n            BanInfo banInfo = getBanInfo(playerName);\n\n            // Prevent the player from joining\n            event.setJoinMessage(null); // Remove default join message\n            player.kickPlayer(getKickMessage(banInfo));\n        }\n        if(event.getPlayer().hasPlayedBefore())\n        {\n            FileConfiguration config = plugin.getConfig();\n            String joinMessage = config.getString(&quot;join-message-has-played-before&quot;);\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\n            event.setJoinMessage(joinMessage);\n        }\n        else\n        {\n            FileConfiguration config = plugin.getConfig();\n            String joinMessage = config.getString(&quot;join-message-has-not-played-before&quot;);\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\n            event.setJoinMessage(joinMessage);\n        }\n    }\n\n    private boolean isPlayerBanned(String playerName) {\n        try (Connection connection = SQLiteConnector.getConnection();\n             PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;)) {\n            statement.setString(1, playerName);\n\n            try (ResultSet resultSet = statement.executeQuery()) {\n                if (resultSet.next()) {\n                    int count = resultSet.getInt(1);\n                    return count &gt; 0;\n                }\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    private BanInfo getBanInfo(String playerName) {\n        PreparedStatement statement = null;\n        ResultSet resultSet = null;\n        try{\n            Connection connection = SQLiteConnector.getConnection();\n\n            if (connection == null || connection.isClosed()) {\n                throw new SQLException(&quot;Database connection is null or closed.&quot;);\n            }\n\n            statement = connection.prepareStatement(&quot;SELECT * FROM bans WHERE player_name = ?&quot;);\n            statement.setString(1, playerName);\n\n            resultSet = statement.executeQuery();\n\n            if (resultSet.next()) {\n                String staffMember = resultSet.getString(&quot;staff_member&quot;);\n                String reason = resultSet.getString(&quot;reason&quot;);\n\n                return new BanInfo(playerName, staffMember, reason);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (resultSet != null) {\n                    resultSet.close();\n                }\n                if (statement != null) {\n                    statement.close();\n                }\n                // Note: Do not close the connection here to keep it open for later use\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n\n    private String getKickMessage(BanInfo banInfo) {\n        if (banInfo != null) {\n            return ChatColor.RED + &quot;You are banned from this server.\\n&quot; +\n                    ChatColor.RED + &quot;Banned by: &quot; + ChatColor.YELLOW + banInfo.getStaffMember() + &quot;\\n&quot; +\n                    ChatColor.RED + &quot;Reason: &quot; + ChatColor.YELLOW + banInfo.getReason();\n        } else {\n            return ChatColor.RED + &quot;You are banned from this server.&quot;;\n        }\n    }\n</code></pre>\n<p>Here is the SQLConnector code:</p>\n<pre><code>    private static Connection connection;\n\n    public static Connection getConnection() {\n        if(connection == null) {\n            try {\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\n                connection = DriverManager.getConnection(&quot;jdbc:sqlite:plugins/Jellyfish-Hosting-Plugin/punishments.db&quot;);\n            } catch (ClassNotFoundException | SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    }\n\n    public static void closeConnection() {\n        try {\n            if (connection != null &amp;&amp; !connection.isClosed()) {\n                connection.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The error that I receive is (half of):</p>\n<pre><code>[22:20:03 WARN]: java.sql.SQLException: Database connection is null or closed.\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.getBanInfo(JoinEvent.java:82)\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.onPlayerJoin(JoinEvent.java:35)\n[22:20:03 WARN]:        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor1.execute(Unknown Source)\n[22:20:03 WARN]:        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77)\n[22:20:03 WARN]:        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:81)\n[22:20:03 WARN]:        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70)\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:54)\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126)\n[22:20:03 WARN]:        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:615)\n[22:20:03 WARN]:        at net.minecraft.server.players.PlayerList.a(PlayerList.java:346)\n[22:20:03 WARN]:        at net.minecraft.server.network.ServerConfigurationPacketListenerImpl.a(ServerConfigurationPacketListenerImpl.java:130)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:18)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:9)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$0(PlayerConnectionUtils.java:53)\n</code></pre>\n<p>I have tried using normal debug statements to find out where it was closing at which seems to be after the checking to see if the player is banned or not.</p>\n"},{"tags":["java","spring-boot","mockito","testng","javax.validation"],"comments":[{"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"score":0,"creation_date":1698159111,"post_id":77283979,"comment_id":136368169,"body_markdown":"How are you starting up your tests. You mention unit test, but you expect spring beans to be there. Is it a @SpringBootTest, or extended with spring extension, or only unit tests? My first impression is that the bean is not created when you run your tests. For more help I&#39;d need to see how you created the validator, how your Car class is using it, and how you setup the tests. Also did you check if the validator is overridden the &#39;supports&#39; method to support class &#39;Car&#39;?","body":"How are you starting up your tests. You mention unit test, but you expect spring beans to be there. Is it a @SpringBootTest, or extended with spring extension, or only unit tests? My first impression is that the bean is not created when you run your tests. For more help I&#39;d need to see how you created the validator, how your Car class is using it, and how you setup the tests. Also did you check if the validator is overridden the &#39;supports&#39; method to support class &#39;Car&#39;?"},{"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"score":0,"creation_date":1700010881,"post_id":77283979,"comment_id":136601895,"body_markdown":"Not a SpringBootTest","body":"Not a SpringBootTest"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1700046106,"post_id":77283979,"comment_id":136605923,"body_markdown":"@developer747 Can you provide the test class or [MRE](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"@developer747 Can you provide the test class or <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>?"},{"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"score":0,"creation_date":1700061499,"post_id":77283979,"comment_id":136608852,"body_markdown":"If it is not a SpringBootTest, how are you then running the test? It needs a bean for the validation. If you use SpringExtension, you need some sort of spring context configuration. If you use plain unit test, the bean will never be there, and you need to create a new Validator object &amp; autowiring will never work.","body":"If it is not a SpringBootTest, how are you then running the test? It needs a bean for the validation. If you use SpringExtension, you need some sort of spring context configuration. If you use plain unit test, the bean will never be there, and you need to create a new Validator object &amp; autowiring will never work."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700250053,"creation_date":1700250053,"answer_id":77504236,"question_id":77283979,"body_markdown":"`@InjectMocks` is just a mockito stuff and never understand spring. It just like you create a `LocalValidatorFactoryBean` manually without any spring integration to it. \r\n\r\nTo configure `LocalValidatorFactoryBean` properly , you can do it by using `@SpringBootTest` with the  `@ImportAutoConfiguration` to auto-configure just the bean validation stuff.\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class ValidationTest{\r\n\r\n\r\n\t@Configuration\r\n    @ImportAutoConfiguration(ValidationAutoConfiguration.class)                \r\n    @ComponentScan(basePackages = { &quot;my.app.root.package&quot; })\r\n    public static class Config {\r\n\r\n    }\r\n\r\n    @Autowired\r\n    LocalValidatorFactoryBean validatorFactoryBean;\r\n    \r\n\r\n    @Test\r\n    void test(){\r\n    \r\n    }\r\n    \r\n}\r\n```\r\n\r\n","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p><code>@InjectMocks</code> is just a mockito stuff and never understand spring. It just like you create a <code>LocalValidatorFactoryBean</code> manually without any spring integration to it.</p>\n<p>To configure <code>LocalValidatorFactoryBean</code> properly , you can do it by using <code>@SpringBootTest</code> with the  <code>@ImportAutoConfiguration</code> to auto-configure just the bean validation stuff.</p>\n<pre><code>@SpringBootTest\npublic class ValidationTest{\n\n\n    @Configuration\n    @ImportAutoConfiguration(ValidationAutoConfiguration.class)                \n    @ComponentScan(basePackages = { &quot;my.app.root.package&quot; })\n    public static class Config {\n\n    }\n\n    @Autowired\n    LocalValidatorFactoryBean validatorFactoryBean;\n    \n\n    @Test\n    void test(){\n    \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700272724,"creation_date":1700272724,"answer_id":77505439,"question_id":77283979,"body_markdown":"I would also suggest that you use a `@SpringBootTest`, as described in Ken&#39;s answer. But if for some reason you don&#39;t want to, a `LocalValidatorFactoryBean` object initialized using the below code should work for tests as long as all of the custom constraint validators have a default, no-args constructor:\r\n\r\n```java\r\nLocalValidatorFactoryBean validator = new LocalValidatorFactoryBean();\r\nvalidator.afterPropertiesSet();\r\n```","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p>I would also suggest that you use a <code>@SpringBootTest</code>, as described in Ken's answer. But if for some reason you don't want to, a <code>LocalValidatorFactoryBean</code> object initialized using the below code should work for tests as long as all of the custom constraint validators have a default, no-args constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalValidatorFactoryBean validator = new LocalValidatorFactoryBean();\nvalidator.afterPropertiesSet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700605481,"creation_date":1700605481,"answer_id":77526270,"question_id":77283979,"body_markdown":"**(Option 1)** If the `LocalValidatorFactoryBean` is created by a Spring container, then some additional logic is executed during the [`afterPropertiesSet()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html#afterPropertiesSet()) phase.\r\n\r\nYou could replicate this by calling this method by yourself. For example:\r\n\r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n    validator = new LocalValidatorFactoryBean();\r\n    validator.afterPropertiesSet();\r\n}\r\n```\r\n\r\n**(Option 2)** However, this is kind of a hack, because the default `LocalValidatorFactoryBean` created by Spring Boot contains [extra customizers and a message interpolator](https://github.com/spring-projects/spring-boot/blob/f37d6c9294788720fbea27c925f55d5ce52b4fcb/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.java#L55-L66). If you don&#39;t care about this, it might be cleaner to work with the underlying JSR-380 bean validator in stead. For example:\r\n\r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    validator = factory.getValidator();\r\n}\r\n```\r\n\r\nBe aware that `validator` will be a different type, but it also contains a `validate()` method with the same signature.\r\n\r\n**(Option 3)** If you do care about the additional setup Spring provides, then you could write a Spring integration test. I don&#39;t recommend using `@SpringBootTest` as you would bloat your tests.\r\n\r\nAll you really need is to include the `SpringExtension` and the necessary autoconfiguration:\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\r\npublic class MyValidationTest {\r\n    @Autowired\r\n    private LocalValidatorFactoryBean validator;\r\n}\r\n```\r\n","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p><strong>(Option 1)</strong> If the <code>LocalValidatorFactoryBean</code> is created by a Spring container, then some additional logic is executed during the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html#afterPropertiesSet()\" rel=\"nofollow noreferrer\"><code>afterPropertiesSet()</code></a> phase.</p>\n<p>You could replicate this by calling this method by yourself. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n    validator = new LocalValidatorFactoryBean();\n    validator.afterPropertiesSet();\n}\n</code></pre>\n<p><strong>(Option 2)</strong> However, this is kind of a hack, because the default <code>LocalValidatorFactoryBean</code> created by Spring Boot contains <a href=\"https://github.com/spring-projects/spring-boot/blob/f37d6c9294788720fbea27c925f55d5ce52b4fcb/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.java#L55-L66\" rel=\"nofollow noreferrer\">extra customizers and a message interpolator</a>. If you don't care about this, it might be cleaner to work with the underlying JSR-380 bean validator in stead. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    validator = factory.getValidator();\n}\n</code></pre>\n<p>Be aware that <code>validator</code> will be a different type, but it also contains a <code>validate()</code> method with the same signature.</p>\n<p><strong>(Option 3)</strong> If you do care about the additional setup Spring provides, then you could write a Spring integration test. I don't recommend using <code>@SpringBootTest</code> as you would bloat your tests.</p>\n<p>All you really need is to include the <code>SpringExtension</code> and the necessary autoconfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\npublic class MyValidationTest {\n    @Autowired\n    private LocalValidatorFactoryBean validator;\n}\n</code></pre>\n"}],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700605481,"creation_date":1697146833,"question_id":77283979,"body_markdown":"I have springboot application which wires up validatorFactoryBean like this\r\n\r\n    private LocalValidatorFactoryBean validatorFactoryBean;\r\n\r\n    @Autowired\r\n    public void setValidatorFactoryBean(LocalValidatorFactoryBean validatorFactoryBean) {\r\n        this.validatorFactoryBean = validatorFactoryBean;\r\n    }\r\n\r\nI have custom validators defined on class Car and I run the validations like this.\r\n\r\n     Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validatorFactoryBean.validate(myCar);\r\n\r\n\r\nAll of this works fine. But when I try to test this thru unit tests, on the line \r\n\r\n    validatorFactoryBean.validate(myCar)\r\n\r\nI get an error &quot;No target Validator set&quot;.\r\n\r\nThis is how I am setting up validatorFactoryBean in the testng unit test\r\n\r\n    @InjectMocks\r\n    LocalValidatorFactoryBean validatorFactoryBean;\r\n\r\nI pass this in to the class I am testing by calling setValidatorFactoryBean setter.\r\n\r\nWhile debugging I realized this validatorFactoryBean is not aware of all the ConstraintValidator implementations in the main code.\r\n\r\nHow do I make validatorFactoryBean aware of all the ConstraintValidator implementations?","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p>I have springboot application which wires up validatorFactoryBean like this</p>\n<pre><code>private LocalValidatorFactoryBean validatorFactoryBean;\n\n@Autowired\npublic void setValidatorFactoryBean(LocalValidatorFactoryBean validatorFactoryBean) {\n    this.validatorFactoryBean = validatorFactoryBean;\n}\n</code></pre>\n<p>I have custom validators defined on class Car and I run the validations like this.</p>\n<pre><code> Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validatorFactoryBean.validate(myCar);\n</code></pre>\n<p>All of this works fine. But when I try to test this thru unit tests, on the line</p>\n<pre><code>validatorFactoryBean.validate(myCar)\n</code></pre>\n<p>I get an error &quot;No target Validator set&quot;.</p>\n<p>This is how I am setting up validatorFactoryBean in the testng unit test</p>\n<pre><code>@InjectMocks\nLocalValidatorFactoryBean validatorFactoryBean;\n</code></pre>\n<p>I pass this in to the class I am testing by calling setValidatorFactoryBean setter.</p>\n<p>While debugging I realized this validatorFactoryBean is not aware of all the ConstraintValidator implementations in the main code.</p>\n<p>How do I make validatorFactoryBean aware of all the ConstraintValidator implementations?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432732626,"post_id":30483567,"comment_id":49045775,"body_markdown":"put your code please","body":"put your code please"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432732847,"post_id":30483567,"comment_id":49045975,"body_markdown":"This isn&#39;t really Spring Data JPA related, Open JPA chokes on that... The query is passed, as is, to your JPA provider. However I wonder if that is even possible in JPA...","body":"This isn&#39;t really Spring Data JPA related, Open JPA chokes on that... The query is passed, as is, to your JPA provider. However I wonder if that is even possible in JPA..."},{"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"score":0,"creation_date":1432733562,"post_id":30483567,"comment_id":49046548,"body_markdown":"@NitinDandriyal - trying to do order by on value using division between 2 columns ( x / y ).","body":"@NitinDandriyal - trying to do order by on value using division between 2 columns ( x / y )."},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432733595,"post_id":30483567,"comment_id":49046575,"body_markdown":"Yes, I get that but I think your query will run without brackets as well","body":"Yes, I get that but I think your query will run without brackets as well"},{"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"score":0,"creation_date":1432733693,"post_id":30483567,"comment_id":49046634,"body_markdown":"No, it does not. In that case it is not able to parse the &quot; / &quot;  symbol.","body":"No, it does not. In that case it is not able to parse the &quot; / &quot;  symbol."},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432734952,"post_id":30483567,"comment_id":49047665,"body_markdown":"What if you re-write your query as `select st, st.totalMargin / st.totalRevenue as ratio from Strategy st where st.unId= ?1 order by ratio desc`","body":"What if you re-write your query as <code>select st, st.totalMargin &#47; st.totalRevenue as ratio from Strategy st where st.unId= ?1 order by ratio desc</code>"}],"answers":[{"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432734574,"creation_date":1432734574,"answer_id":30484465,"question_id":30483567,"body_markdown":"In your Strategy object, u can add a getter :\r\n\r\n    public double getMarginRatio() {\r\n      return (this.totalMargin / this.totalRevenue);\r\n    }\r\n\r\nthen, your order by statement will become &quot;`order by st.marginRatio`&quot;","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>In your Strategy object, u can add a getter :</p>\n\n<pre><code>public double getMarginRatio() {\n  return (this.totalMargin / this.totalRevenue);\n}\n</code></pre>\n\n<p>then, your order by statement will become \"<code>order by st.marginRatio</code>\"</p>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432740581,"creation_date":1432740581,"answer_id":30486878,"question_id":30483567,"body_markdown":"Yes with nativeQuery\r\n\r\n    @Query(value = &quot;select st from STRATEGY st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc&quot;, nativeQuery = true)","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>Yes with nativeQuery</p>\n\n<pre><code>@Query(value = \"select st from STRATEGY st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc\", nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700604280,"creation_date":1432732407,"question_id":30483567,"body_markdown":"I am trying to add the following query to the JPA repository @Query\r\n\r\n    &quot;select st from Strategy st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc&quot;\r\n\r\nHowever, this query does not parse due to the &quot;(&quot; brackets in the query.\r\n\r\n    The error thrown while bean initialization is \r\n    Caused by: &lt;openjpa-2.2.2-r422266:1468616 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: &quot;Encountered &quot;(&quot; at \r\n\r\nIs there any way this can be achieved in @Query ?\r\n\r\n\r\n\r\n","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>I am trying to add the following query to the JPA repository @Query</p>\n\n<pre><code>\"select st from Strategy st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc\"\n</code></pre>\n\n<p>However, this query does not parse due to the \"(\" brackets in the query.</p>\n\n<pre><code>The error thrown while bean initialization is \nCaused by: &lt;openjpa-2.2.2-r422266:1468616 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: \"Encountered \"(\" at \n</code></pre>\n\n<p>Is there any way this can be achieved in @Query ?</p>\n"},{"tags":["java","amazon-web-services","websocket","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":18073956,"reputation":141,"user_id":13137820,"display_name":"vijtrip2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588734722,"creation_date":1588734722,"answer_id":61626710,"question_id":61617193,"body_markdown":"I do not think I understand your problem correctly but here is how WebSocket API work in my experience.\r\nclient(s) &lt;-(1)-&gt; API Gateway &lt;-(2)-&gt; Lambda\r\n\r\n1) is the web socket connection which stays open for a maximum of 2 hours, with idle timeout of 10 minutes as mentioned here. https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\r\n\r\n2 )communication is managed using @connection https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html\r\n\r\nI believe you want to use @connection for talking to your API Gateway from lambda.","title":"AWS API Gateway WebSocket Timeout?","body":"<p>I do not think I understand your problem correctly but here is how WebSocket API work in my experience.\nclient(s) &lt;-(1)-> API Gateway &lt;-(2)-> Lambda</p>\n\n<p>1) is the web socket connection which stays open for a maximum of 2 hours, with idle timeout of 10 minutes as mentioned here. <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html</a></p>\n\n<p>2 )communication is managed using @connection <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html</a></p>\n\n<p>I believe you want to use @connection for talking to your API Gateway from lambda.</p>\n"},{"tags":[],"owner":{"account_id":10193839,"reputation":15,"user_id":7526295,"display_name":"middleman3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606192404,"creation_date":1606192404,"answer_id":64980299,"question_id":61617193,"body_markdown":"It looks like a NAT Gateway is required for a Lambda to call the postToConnection function provided by the AWS ApiGatewayManagementApi SDK. \r\n\r\nIts a shame this requirement isn&#39;t specified anywhere regarding Websockets API or API Gateway.\r\n\r\nSearch for &#39;NAT&#39; on [this][1] page, and read that sentence:\r\n\r\n\r\n  [1]: https://www.romexsoft.com/success-stories/real-time-messaging-system-with-aws-api-gateway-and-lambda/","title":"AWS API Gateway WebSocket Timeout?","body":"<p>It looks like a NAT Gateway is required for a Lambda to call the postToConnection function provided by the AWS ApiGatewayManagementApi SDK.</p>\n<p>Its a shame this requirement isn't specified anywhere regarding Websockets API or API Gateway.</p>\n<p>Search for 'NAT' on <a href=\"https://www.romexsoft.com/success-stories/real-time-messaging-system-with-aws-api-gateway-and-lambda/\" rel=\"nofollow noreferrer\">this</a> page, and read that sentence:</p>\n"},{"tags":[],"owner":{"account_id":12453747,"reputation":51,"user_id":9067613,"display_name":"Michael Camilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700604080,"creation_date":1700604080,"answer_id":77526176,"question_id":61617193,"body_markdown":"I just faced the same problem. And I discovered that even with the websocket connection open for until 2h, the processing of the API (first lambda called) will timeout in 29s.\r\n\r\nTo workaround that, you must use an async strategy. So, create a proxy that will receive the input and call the desired lambda through an SNS topic or an SQS queue.\r\n\r\nFor more info, this link is very useful:\r\nhttps://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout","title":"AWS API Gateway WebSocket Timeout?","body":"<p>I just faced the same problem. And I discovered that even with the websocket connection open for until 2h, the processing of the API (first lambda called) will timeout in 29s.</p>\n<p>To workaround that, you must use an async strategy. So, create a proxy that will receive the input and call the desired lambda through an SNS topic or an SQS queue.</p>\n<p>For more info, this link is very useful:\n<a href=\"https://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout\" rel=\"nofollow noreferrer\">https://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout</a></p>\n"}],"owner":{"account_id":2988307,"reputation":81,"user_id":2536502,"display_name":"user2536502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11406,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700604080,"creation_date":1588693547,"question_id":61617193,"body_markdown":"How do I keep an API Gateway Websocket API with a Lambda Java back end from timing out after 30 seconds?\r\n\r\nThe AWS API Gateway and re:invent videos mention using pings or heartbeats to keep the Websocket connection alive but I haven&#39;t found a straight-forward working example (in Java). The front end is using HTML 5 Websockets (vanilla javascript).\r\n\r\nI&#39;m including my Lambda test driver in Java. It causes the API Gateway WS API to timeout after 30 seconds as documented. The driver will return successfully if you remove the delay. Any help is appreciated...\r\n\r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.Map;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class TestWSClient implements RequestStreamHandler {\r\n    \r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) {\r\n            try {\r\n                //\r\n                // How do we keep API Gateway from timing out after 30 seconds?\r\n                // Is something like this even needed in the lambda?\r\n                //\r\n                new Thread(() -&gt; {\r\n                    while(true) {    \r\n                        try {\r\n                            // Ping client every 15 seconds\r\n                            Thread.sleep(15000);\r\n                            //outputStream.write(); // What to write -- 0x89 0x00?\r\n                            outputStream.flush();\r\n                        } catch(Exception e) { e.printStackTrace(); }\r\n                    }\r\n                }).start();\r\n    \r\n                //\r\n                // Simulate long processing time or streaming\r\n                //\r\n                // NOTE: commenting sleep enables service to return w/o a timeout\r\n                //       connection from API Gateway\r\n                //\r\n                try { Thread.sleep(60000); } catch(Exception e) {}\r\n    \r\n                var response = Map.of(\r\n                    &quot;statusCode&quot;, 200,\r\n                    &quot;headers&quot;, Map.of(&quot;Content-Type&quot;, &quot;text/csv&quot;),\r\n                    &quot;body&quot;, &quot;Hello,World&quot;\r\n                );\r\n    \r\n                ObjectMapper om = new ObjectMapper();\r\n    \r\n                outputStream.write(om.writeValueAsBytes(response));\r\n                outputStream.flush();\r\n            } catch(Exception e) { e.printStackTrace(); }\r\n            finally { try { outputStream.close(); } catch(Exception e) {} }\r\n        }\r\n    }","title":"AWS API Gateway WebSocket Timeout?","body":"<p>How do I keep an API Gateway Websocket API with a Lambda Java back end from timing out after 30 seconds?</p>\n\n<p>The AWS API Gateway and re:invent videos mention using pings or heartbeats to keep the Websocket connection alive but I haven't found a straight-forward working example (in Java). The front end is using HTML 5 Websockets (vanilla javascript).</p>\n\n<p>I'm including my Lambda test driver in Java. It causes the API Gateway WS API to timeout after 30 seconds as documented. The driver will return successfully if you remove the delay. Any help is appreciated...</p>\n\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Map;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class TestWSClient implements RequestStreamHandler {\n\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) {\n        try {\n            //\n            // How do we keep API Gateway from timing out after 30 seconds?\n            // Is something like this even needed in the lambda?\n            //\n            new Thread(() -&gt; {\n                while(true) {    \n                    try {\n                        // Ping client every 15 seconds\n                        Thread.sleep(15000);\n                        //outputStream.write(); // What to write -- 0x89 0x00?\n                        outputStream.flush();\n                    } catch(Exception e) { e.printStackTrace(); }\n                }\n            }).start();\n\n            //\n            // Simulate long processing time or streaming\n            //\n            // NOTE: commenting sleep enables service to return w/o a timeout\n            //       connection from API Gateway\n            //\n            try { Thread.sleep(60000); } catch(Exception e) {}\n\n            var response = Map.of(\n                \"statusCode\", 200,\n                \"headers\", Map.of(\"Content-Type\", \"text/csv\"),\n                \"body\", \"Hello,World\"\n            );\n\n            ObjectMapper om = new ObjectMapper();\n\n            outputStream.write(om.writeValueAsBytes(response));\n            outputStream.flush();\n        } catch(Exception e) { e.printStackTrace(); }\n        finally { try { outputStream.close(); } catch(Exception e) {} }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","javafx","wix","jpackage"],"comments":[{"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1700553448,"post_id":77520453,"comment_id":136665616,"body_markdown":"You have missed off some jars, turn on the win-console flag to see the error messages.","body":"You have missed off some jars, turn on the win-console flag to see the error messages."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700591681,"post_id":77520453,"comment_id":136672753,"body_markdown":"I don&#39;t know if this is actually a problem, but having both `--input` and `--dest` set to the current directory (i.e., `.`) seems weird to me. I would have those as entirely separate directories, possibly with neither being the current directory. That said, I suggest following DuncG&#39;s advice and generating the application image with `--win-console`. Then launch the application from the terminal and read the error messages. If you still need help, [edit] your question to add those error messages and, if possible, a true [mre].","body":"I don&#39;t know if this is actually a problem, but having both <code>--input</code> and <code>--dest</code> set to the current directory (i.e., <code>.</code>) seems weird to me. I would have those as entirely separate directories, possibly with neither being the current directory. That said, I suggest following DuncG&#39;s advice and generating the application image with <code>--win-console</code>. Then launch the application from the terminal and read the error messages. If you still need help, <a href=\"https://stackoverflow.com/posts/77520453/edit\">edit</a> your question to add those error messages and, if possible, a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700604458,"post_id":77520453,"comment_id":136674678,"body_markdown":"@DuncG I have done what you asked me","body":"@DuncG I have done what you asked me"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700604495,"post_id":77520453,"comment_id":136674680,"body_markdown":"@Slaw I have done what you asked me","body":"@Slaw I have done what you asked me"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700607388,"post_id":77520453,"comment_id":136675014,"body_markdown":"Can you show the full stack trace? Also, you might want to try including the main JAR in the input directory.","body":"Can you show the full stack trace? Also, you might want to try including the main JAR in the input directory."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700613400,"post_id":77520453,"comment_id":136675551,"body_markdown":"Have you confirmed that the `jmr_sports.jar` file is being included in the application image?","body":"Have you confirmed that the <code>jmr_sports.jar</code> file is being included in the application image?"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700615624,"post_id":77520453,"comment_id":136675748,"body_markdown":"@dan1st That is the complete message that I get when I run the exe from the console. The main JAR is jmr_sports.jar, and it is located in the ./dist directory, which is the input directory","body":"@dan1st That is the complete message that I get when I run the exe from the console. The main JAR is jmr_sports.jar, and it is located in the ./dist directory, which is the input directory"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700615981,"post_id":77520453,"comment_id":136675778,"body_markdown":"@Slaw Yes, jmr_sports.jar was included, it is in `C:\\Program Files\\MyApp2\\app`","body":"@Slaw Yes, jmr_sports.jar was included, it is in <code>C:\\Program Files\\MyApp2\\app</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700616657,"post_id":77520453,"comment_id":136675842,"body_markdown":"Does `jimage list --include **/module-info.class &quot;C:\\Program Files\\MyApp2\\runtime\\lib\\modules&quot;` show all the modules you expect to be in the run-time image?","body":"Does <code>jimage list --include **&#47;module-info.class &quot;C:\\Program Files\\MyApp2\\runtime\\lib\\modules&quot;</code> show all the modules you expect to be in the run-time image?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700616889,"post_id":77520453,"comment_id":136675866,"body_markdown":"Also, why have `--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;`? Any JAR files you want to be loaded from the class-path should be contained in a directory that you then specify with `--input`. All JAR files in that directory will automatically be put on the class-path.","body":"Also, why have <code>--java-options &quot;-cp lib&#47;postgresql-42.6.0.jar&quot;</code>? Any JAR files you want to be loaded from the class-path should be contained in a directory that you then specify with <code>--input</code>. All JAR files in that directory will automatically be put on the class-path."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1700617167,"post_id":77520453,"comment_id":136675892,"body_markdown":"If none of this helps lead to a solution, I think a [mre] will be required for us to provide any further help (create the example from scratch; simply have the main class connect to a PostgreSQL database and exit; show all steps used to build and package the project; don&#39;t include JavaFX if it&#39;s not important to the problem).","body":"If none of this helps lead to a solution, I think a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> will be required for us to provide any further help (create the example from scratch; simply have the main class connect to a PostgreSQL database and exit; show all steps used to build and package the project; don&#39;t include JavaFX if it&#39;s not important to the problem)."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700637891,"post_id":77520453,"comment_id":136677744,"body_markdown":"This is the reason I recommend to create an axecutable fat JAR first, and than take this single JAR and use Jpackage with it.","body":"This is the reason I recommend to create an axecutable fat JAR first, and than take this single JAR and use Jpackage with it."},{"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1701954163,"post_id":77520453,"comment_id":136840286,"body_markdown":"It looks like you&#39;ve not packaged your own application. Vie the cfg file and directory content of the release. Also, don&#39;t set --input and --dest to same value.","body":"It looks like you&#39;ve not packaged your own application. Vie the cfg file and directory content of the release. Also, don&#39;t set --input and --dest to same value."}],"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603822,"creation_date":1700543751,"question_id":77520453,"body_markdown":"I have a JavaFX application that connects to a PostgreSQL database using the driver postgresql-42.6.0.jar. I want to generate an exe for my application using jpackage, but the exe does not work properly. It either does not open at all, or it opens but does not show the content of the panes that use the database connection. The jar of my application works fine, but the exe does not.\r\n\r\nI tried to generate the exe using the following command:\r\n\r\n```\r\njpackage -t exe --name &quot;MyApp&quot; --app-version 1.0 --input . --dest . --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu\r\n```\r\n\r\nI also checked the configuration file MyApp.cfg and made sure that the app.classpath parameter included both the jar of my application and the jar of the driver. I expected the exe to work as the jar of my application, showing the content of the panes that use the database connection.\r\n\r\nAnother detail of my problem is that the application behaves differently depending on whether I add the `--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;` parameter or not. Without this parameter, the application opens, but the panes that rely on the database connection are blank. With this parameter, the application does not open at all. I don&#39;t understand why this happens. I&#39;m sure the problem is related to the database connection, because I&#39;ve tried removing the code that uses the database connection, and then the panes show the content that doesn&#39;t depend on the database.\r\n\r\n**Update**\r\n\r\nI have activated the win-console option of jpackage to see the error messages:\r\n\r\n```\r\njpackage -t exe --name &quot;MyApp2&quot; --app-version 1.0 --input ./dist --dest ./exe --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu --win-console\r\n```\r\n\r\nI get the following error:\r\n\r\n    C:\\Program Files\\MyApp2&gt;MyApp2.exe\r\n    Error: Could not find or load main class application.Main\r\n    Caused by: java.lang.ClassNotFoundException: application.Main","title":"jpackage exe does not work with PostgreSQL database connection in JavaFX application","body":"<p>I have a JavaFX application that connects to a PostgreSQL database using the driver postgresql-42.6.0.jar. I want to generate an exe for my application using jpackage, but the exe does not work properly. It either does not open at all, or it opens but does not show the content of the panes that use the database connection. The jar of my application works fine, but the exe does not.</p>\n<p>I tried to generate the exe using the following command:</p>\n<pre><code>jpackage -t exe --name &quot;MyApp&quot; --app-version 1.0 --input . --dest . --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu\n</code></pre>\n<p>I also checked the configuration file MyApp.cfg and made sure that the app.classpath parameter included both the jar of my application and the jar of the driver. I expected the exe to work as the jar of my application, showing the content of the panes that use the database connection.</p>\n<p>Another detail of my problem is that the application behaves differently depending on whether I add the <code>--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;</code> parameter or not. Without this parameter, the application opens, but the panes that rely on the database connection are blank. With this parameter, the application does not open at all. I don't understand why this happens. I'm sure the problem is related to the database connection, because I've tried removing the code that uses the database connection, and then the panes show the content that doesn't depend on the database.</p>\n<p><strong>Update</strong></p>\n<p>I have activated the win-console option of jpackage to see the error messages:</p>\n<pre><code>jpackage -t exe --name &quot;MyApp2&quot; --app-version 1.0 --input ./dist --dest ./exe --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu --win-console\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>C:\\Program Files\\MyApp2&gt;MyApp2.exe\nError: Could not find or load main class application.Main\nCaused by: java.lang.ClassNotFoundException: application.Main\n</code></pre>\n"},{"tags":["java","node.js","spring-boot","maven","jenkins"],"owner":{"account_id":27624928,"reputation":21,"user_id":21085117,"display_name":"KVR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603641,"creation_date":1700602515,"question_id":77526062,"body_markdown":"    Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project test: SiteToolException: The site descriptor cannot be resolved from the repository:\r\n    \r\n    Jenkins job is failing in site reports stage , even though there is a maven site plugin configuration is there pom.xml and in jfrog the location of maven site plugin is there in plugins release , but it is not searching and throwing not found \r\n    \r\nPom.xml \r\n\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;wagon-webdav-jackrabbit&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\r\n\r\nsettings.xml\r\n\r\n\r\n             &lt;profile&gt;\r\n            &lt;id&gt;springboot&lt;/id&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;name&gt;libs-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-release&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;libs-snapshot&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-snapshot&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;plugin-central&lt;/id&gt;\r\n                    &lt;name&gt;plugins-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;plugin-snapshots&lt;/id&gt;\r\n                    &lt;name&gt;plugins-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa- \r\n                             bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\r\n                &lt;/pluginRepository&gt;\r\n            &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;springboot&lt;/activeProfile&gt;\r\n\r\ncommand executing in jenkins\r\n\r\n+ export MAVEN_OPTS=-Xmx2048m\r\n+ MAVEN_OPTS=-Xmx2048m\r\n+ mvn -P springboot -fae site-deploy -Dmaven.main.skip=true -Dbuild.number=15 -Dgit.branch=ft-kalakala -Dartifact_server_id=JFROG -Dsite_report_url=dav:https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/ -Drevision=ft-kalakala-15-4316d8d1-SNAPSHOT -Dartifact_release_url=https://art-stg.aaa-acg.net:8543/art/libs-release-local -Dartifact_snapshot_url=https://art-stg.aaa-acg.net:8543/art/libs-snapshot-local\r\n ","title":"site reports issue in multibranch pipeline job for spring boot application","body":"<pre><code>Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project test: SiteToolException: The site descriptor cannot be resolved from the repository:\n\nJenkins job is failing in site reports stage , even though there is a maven site plugin configuration is there pom.xml and in jfrog the location of maven site plugin is there in plugins release , but it is not searching and throwing not found \n</code></pre>\n<p>Pom.xml</p>\n<pre><code>        &lt;/plugin&gt;--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n                    &lt;artifactId&gt;wagon-webdav-jackrabbit&lt;/artifactId&gt;\n                    &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n</code></pre>\n<p>settings.xml</p>\n<pre><code>         &lt;profile&gt;\n        &lt;id&gt;springboot&lt;/id&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;name&gt;libs-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-release&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;libs-snapshot&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-snapshot&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;plugin-central&lt;/id&gt;\n                &lt;name&gt;plugins-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;plugin-snapshots&lt;/id&gt;\n                &lt;name&gt;plugins-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa- \n                         bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;activeProfiles&gt;\n    &lt;activeProfile&gt;springboot&lt;/activeProfile&gt;\n</code></pre>\n<p>command executing in jenkins</p>\n<ul>\n<li>export MAVEN_OPTS=-Xmx2048m</li>\n<li>MAVEN_OPTS=-Xmx2048m</li>\n<li>mvn -P springboot -fae site-deploy -Dmaven.main.skip=true -Dbuild.number=15 -Dgit.branch=ft-kalakala -Dartifact_server_id=JFROG -Dsite_report_url=dav:<a href=\"https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/\" rel=\"nofollow noreferrer\">https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/</a> -Drevision=ft-kalakala-15-4316d8d1-SNAPSHOT -Dartifact_release_url=https://art-stg.aaa-acg.net:8543/art/libs-release-local -Dartifact_snapshot_url=https://art-stg.aaa-acg.net:8543/art/libs-snapshot-local</li>\n</ul>\n"},{"tags":["java","spring","aws-api-gateway","integration-testing","api-gateway"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700606141,"post_id":77526131,"comment_id":136674874,"body_markdown":"Because a gateway is involved?  No.  But a gateway is just part of the implementation.  Is the focus on testing the behavior or the implementation?","body":"Because a gateway is involved?  No.  But a gateway is just part of the implementation.  Is the focus on testing the behavior or the implementation?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700618225,"post_id":77526131,"comment_id":136675966,"body_markdown":"untest for  gateway is uncessary , pay more attendion to major logic .","body":"untest for  gateway is uncessary , pay more attendion to major logic ."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1700685271,"post_id":77526131,"comment_id":136686342,"body_markdown":"Not a bad idea, especially if you have special configurations applied.  A quick test will ensure that breaking changes haven&#39;t been made.  However, I generally do not.","body":"Not a bad idea, especially if you have special configurations applied.  A quick test will ensure that breaking changes haven&#39;t been made.  However, I generally do not."},{"owner":{"account_id":22640109,"reputation":191,"user_id":16816403,"display_name":"MANISH"},"score":0,"creation_date":1700840285,"post_id":77526131,"comment_id":136705887,"body_markdown":"You may want to consider doing contract testing on your APIs just to ensure that they are not broken after any change promotion. I don&#39;t recommend doing full E2E testing though. I have used Pact framework in one of my project earlier for contract testing. https://docs.pact.io/","body":"You may want to consider doing contract testing on your APIs just to ensure that they are not broken after any change promotion. I don&#39;t recommend doing full E2E testing though. I have used Pact framework in one of my project earlier for contract testing. <a href=\"https://docs.pact.io/\" rel=\"nofollow noreferrer\">docs.pact.io</a>"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603569,"creation_date":1700603569,"question_id":77526131,"body_markdown":"just want to know/see different point of views regarding this type of tests for api-gateway and your experience if you had something similar in your practice. \r\nThank you.","title":"Does it make sense to write integration/end-to-end tests for api-gateway?","body":"<p>just want to know/see different point of views regarding this type of tests for api-gateway and your experience if you had something similar in your practice.\nThank you.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700603043,"post_id":77526097,"comment_id":136674512,"body_markdown":"Have you tried using packages?","body":"Have you tried using packages?"}],"owner":{"account_id":29961151,"reputation":1,"user_id":22960810,"display_name":"Gamal Gad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700603144,"answer_count":0,"score":-1,"last_activity_date":1700603448,"creation_date":1700602989,"question_id":77526097,"body_markdown":"Error occurred during initialization of boot layer java.lang.module.FindException: Error reading module: F:\\Develop\\eclipse\\HelloWorld\\bin Caused by: java.lang.module.InvalidModuleDescriptorException: HelloWorld.class found in top-level directory (unnamed package not allowed in module)&quot;\r\nand i tried a lot of ways but it does not work because all of the ways i saw was to old virsion so if any one can how to sole on this virsion Apache NetBeans IDE 18 ","title":"i am a beginner in using net beans and i always have this error in my code &quot;Error occurred during initialization of boot layer&quot;","body":"<p>Error occurred during initialization of boot layer java.lang.module.FindException: Error reading module: F:\\Develop\\eclipse\\HelloWorld\\bin Caused by: java.lang.module.InvalidModuleDescriptorException: HelloWorld.class found in top-level directory (unnamed package not allowed in module)&quot;\nand i tried a lot of ways but it does not work because all of the ways i saw was to old virsion so if any one can how to sole on this virsion Apache NetBeans IDE 18</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636766047,"post_id":69950289,"comment_id":123652328,"body_markdown":"Yes, and it don&#39;t worked.","body":"Yes, and it don&#39;t worked."},{"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"score":0,"creation_date":1636766082,"post_id":69950289,"comment_id":123652331,"body_markdown":"i mean how you compile it?","body":"i mean how you compile it?"},{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636800144,"post_id":69950289,"comment_id":123657086,"body_markdown":"I followed this video https://www.youtube.com/watch?v=GVJlck1WMX8, and it din&#39;t solved at all.","body":"I followed this video <a href=\"https://www.youtube.com/watch?v=GVJlck1WMX8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=GVJlck1WMX8</a>, and it din&#39;t solved at all."},{"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"score":0,"creation_date":1636808303,"post_id":69950289,"comment_id":123658852,"body_markdown":"Check if you are in the good folder. Show me what you did?","body":"Check if you are in the good folder. Show me what you did?"},{"owner":{"account_id":19088616,"reputation":8269,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1636941286,"post_id":69950289,"comment_id":123684562,"body_markdown":"Did you import package in your .java file? Can you show your code if convenient?","body":"Did you import package in your .java file? Can you show your code if convenient?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636942525,"post_id":69950289,"comment_id":123684727,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636944622,"post_id":69950289,"comment_id":123685020,"body_markdown":"It&#39;s just a basic system.out.println code, but no code works at all, i just get Error: Could not find or load main class App\nCaused by: java.lang.ClassNotFoundException: App","body":"It&#39;s just a basic system.out.println code, but no code works at all, i just get Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App"},{"owner":{"account_id":19088616,"reputation":8269,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1636961508,"post_id":69950289,"comment_id":123687817,"body_markdown":"@GuilhermeRibeiro. Clean java language server workspace from command palette then try again.","body":"@GuilhermeRibeiro. Clean java language server workspace from command palette then try again."}],"answers":[{"tags":[],"owner":{"account_id":20389251,"reputation":884,"user_id":14957517,"display_name":"Cyebukayire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700602496,"creation_date":1700602496,"answer_id":77526059,"question_id":69950289,"body_markdown":"I had a similar issue a few minutes ago and this is how I solved it. \r\n\r\n**Solution**:\r\n\r\n&gt; Restart VS Code\r\n\r\nThen run the program again.\r\n\r\nJust ensure that the main class is declared correctly and if your class is in a package, include the package name at the top.\r\n\r\n    package package_name\r\n\r\nExample: \r\n\r\n    package Games;\r\n    \r\n    public class MoveSquare {\r\n        public static void main(String []arg){\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App on VScode","body":"<p>I had a similar issue a few minutes ago and this is how I solved it.</p>\n<p><strong>Solution</strong>:</p>\n<blockquote>\n<p>Restart VS Code</p>\n</blockquote>\n<p>Then run the program again.</p>\n<p>Just ensure that the main class is declared correctly and if your class is in a package, include the package name at the top.</p>\n<pre><code>package package_name\n</code></pre>\n<p>Example:</p>\n<pre><code>package Games;\n\npublic class MoveSquare {\n    public static void main(String []arg){\n        System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700602496,"creation_date":1636761537,"question_id":69950289,"body_markdown":"Java online wants to say hello world but VSCode don&#39;t, why, and how do i solve this,\r\nError: Could not find or load main class App    \r\nCaused by: java.lang.ClassNotFoundException: App","title":"Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App on VScode","body":"<p>Java online wants to say hello world but VSCode don't, why, and how do i solve this,\nError: Could not find or load main class App<br />\nCaused by: java.lang.ClassNotFoundException: App</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700602379,"post_id":77524945,"comment_id":136674445,"body_markdown":"The error does not occur in Android Studio but in the device you are trying to install the built app on. What Android device do you use for testing, model name and Android version? What targetSDK is configured in the Gradle config of this project?","body":"The error does not occur in Android Studio but in the device you are trying to install the built app on. What Android device do you use for testing, model name and Android version? What targetSDK is configured in the Gradle config of this project?"}],"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700602329,"creation_date":1700589220,"question_id":77524945,"body_markdown":"In my InteriorClass.class I have 8 onClick listeners for 8 buttons. They all are formatted the same as such:\r\n\r\n    ultraBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(InteriorClass.this, paintInfo.class);\r\n                    intent.putExtra(&quot;buttonPressed&quot;, &quot;ultraBtn&quot;);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\nOn my paintInfo.class I have 8 if statements that are used to change paintinfo.xml depending on what button was pressed. They are all formatted as such:\r\n\r\n    Intent intent = getIntent();\r\n    \r\n            if (intent != null) {\r\n                String buttonPressed = intent.getStringExtra(&quot;buttonPressed&quot;);\r\n        if (&quot;ultraBtn&quot;.equals(buttonPressed)) {\r\n                    intextTextView.setText(&quot;Interior&quot;);\r\n                    nameTextView.setText(&quot;Ultra&quot;);\r\n                    paintImageView.setImageResource(R.drawable._val__ultra);\r\n                    sheenTextView.setText(&quot;Flat,  Eggshell,  Satin,  Semi-Gloss,  Hi-Gloss&quot;);\r\n                    paintGradeText.setText(&quot;★★☆☆☆&quot;);\r\n                    containerTextView.setText(&quot;1 Qt, 1G, 5G&quot;);\r\n                    ceilingVerYNText.setText(&quot;Yes&quot;);\r\n                    descriptionTextView.setText(&quot;ultra&quot;);\r\n                    }\r\n    else if (...) {...}\r\n\r\nNothing I can see is underlined in red, and I can not use another version of android studio because this is for a school assignment. The full error I&#39;m receiving is:\r\n\r\n        FATAL EXCEPTION: main\r\n    Process: com.example.gibson_final, PID: 7948\r\n    java.lang.SecurityException: Writable dex file &#39;/data/data/com.example.gibson_final/code_cache/.overlay/base.apk/classes3.dex&#39; is not allowed.\r\n    \tat dalvik.system.DexFile.openDexFileNative(Native Method)\r\n    \tat dalvik.system.DexFile.openDexFile(DexFile.java:406)\r\n    \tat dalvik.system.DexFile.&lt;init&gt;(DexFile.java:128)\r\n    \tat dalvik.system.DexFile.&lt;init&gt;(DexFile.java:101)\r\n    \tat dalvik.system.DexPathList.loadDexFile(DexPathList.java:438)\r\n    \tat dalvik.system.DexPathList.makeDexElements(DexPathList.java:387)\r\n    \tat dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:166)\r\n    \tat dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:160)\r\n    \tat dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:130)\r\n    \tat dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:146)\r\n    \tat com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:93)\r\n    \tat com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:134)\r\n    \tat android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:126)\r\n    \tat android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:61)\r\n    \tat android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:1034)\r\n    \tat android.app.LoadedApk.getClassLoader(LoadedApk.java:1126)\r\n    \tat android.app.LoadedApk.getResources(LoadedApk.java:1374)\r\n    \tat android.app.ContextImpl.createAppContext(ContextImpl.java:3324)\r\n    \tat android.app.ContextImpl.createAppContext(ContextImpl.java:3316)\r\n    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6879)\r\n    \tat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2236)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n    \tat android.os.Looper.loop(Looper.java:294)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n\r\n\r\n","title":"Writable Dex File not allowed [Android Studio Dolphin]","body":"<p>In my InteriorClass.class I have 8 onClick listeners for 8 buttons. They all are formatted the same as such:</p>\n<pre><code>ultraBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(InteriorClass.this, paintInfo.class);\n                intent.putExtra(&quot;buttonPressed&quot;, &quot;ultraBtn&quot;);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n<p>On my paintInfo.class I have 8 if statements that are used to change paintinfo.xml depending on what button was pressed. They are all formatted as such:</p>\n<pre><code>Intent intent = getIntent();\n\n        if (intent != null) {\n            String buttonPressed = intent.getStringExtra(&quot;buttonPressed&quot;);\n    if (&quot;ultraBtn&quot;.equals(buttonPressed)) {\n                intextTextView.setText(&quot;Interior&quot;);\n                nameTextView.setText(&quot;Ultra&quot;);\n                paintImageView.setImageResource(R.drawable._val__ultra);\n                sheenTextView.setText(&quot;Flat,  Eggshell,  Satin,  Semi-Gloss,  Hi-Gloss&quot;);\n                paintGradeText.setText(&quot;★★☆☆☆&quot;);\n                containerTextView.setText(&quot;1 Qt, 1G, 5G&quot;);\n                ceilingVerYNText.setText(&quot;Yes&quot;);\n                descriptionTextView.setText(&quot;ultra&quot;);\n                }\nelse if (...) {...}\n</code></pre>\n<p>Nothing I can see is underlined in red, and I can not use another version of android studio because this is for a school assignment. The full error I'm receiving is:</p>\n<pre><code>    FATAL EXCEPTION: main\nProcess: com.example.gibson_final, PID: 7948\njava.lang.SecurityException: Writable dex file '/data/data/com.example.gibson_final/code_cache/.overlay/base.apk/classes3.dex' is not allowed.\n    at dalvik.system.DexFile.openDexFileNative(Native Method)\n    at dalvik.system.DexFile.openDexFile(DexFile.java:406)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:128)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:101)\n    at dalvik.system.DexPathList.loadDexFile(DexPathList.java:438)\n    at dalvik.system.DexPathList.makeDexElements(DexPathList.java:387)\n    at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:166)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:160)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:130)\n    at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:146)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:93)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:134)\n    at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:126)\n    at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:61)\n    at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:1034)\n    at android.app.LoadedApk.getClassLoader(LoadedApk.java:1126)\n    at android.app.LoadedApk.getResources(LoadedApk.java:1374)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:3324)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:3316)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6879)\n    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2236)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:205)\n    at android.os.Looper.loop(Looper.java:294)\n    at android.app.ActivityThread.main(ActivityThread.java:8177)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9815,"page":43,"page_size":100}
