{"items":[{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299348557,"creation_date":1299348557,"answer_id":5205726,"question_id":5205702,"body_markdown":"The regex `\\d{4}` would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like `19\\d{2}|20\\d{2}` ","title":"Find years with regular expression","body":"<p>The regex <code>\\d{4}</code> would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like <code>19\\d{2}|20\\d{2}</code> </p>\n"},{"tags":[],"owner":{"account_id":314111,"reputation":634,"user_id":629125,"display_name":"RedSoxFan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299348566,"creation_date":1299348566,"answer_id":5205727,"question_id":5205702,"body_markdown":"    //ArrayList&lt;String&gt; list = ....\r\n    String year = &quot;1990&quot;;\r\n    ArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\r\n    for (String str:list) {\r\n       if (str.matches(&quot;.*&quot;+year+&quot;.*&quot;)) {\r\n          toRemove.add(str);\r\n       }\r\n    }\r\n    for (String str:toRemove) list.remove(str);\r\n    toRemove = null;\r\n\r\nUse a toRemove list to prevent a java.util.ConcurrentModificationException","title":"Find years with regular expression","body":"<pre><code>//ArrayList&lt;String&gt; list = ....\nString year = \"1990\";\nArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\nfor (String str:list) {\n   if (str.matches(\".*\"+year+\".*\")) {\n      toRemove.add(str);\n   }\n}\nfor (String str:toRemove) list.remove(str);\ntoRemove = null;\n</code></pre>\n\n<p>Use a toRemove list to prevent a java.util.ConcurrentModificationException</p>\n"},{"tags":[],"owner":{"account_id":241829,"reputation":17230,"user_id":512904,"accept_rate":92,"display_name":"Matheus Moreira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1299357874,"creation_date":1299348850,"answer_id":5205758,"question_id":5205702,"body_markdown":"If you are using the `YYYY` date format, the regular expression `^\\d{4}` should work for any date in the beginning of the String.\r\n\r\n    String str = &quot;1990s music groups&quot;;\r\n    boolean shouldDelete = str.matches(&quot;^\\d{4}&quot;);\r\n    if (shouldDelete) {\r\n        // Delete string\r\n    }\r\n\r\nIf you want to match the date in any part of the String, simply remove the leading `^`.","title":"Find years with regular expression","body":"<p>If you are using the <code>YYYY</code> date format, the regular expression <code>^\\d{4}</code> should work for any date in the beginning of the String.</p>\n\n<pre><code>String str = \"1990s music groups\";\nboolean shouldDelete = str.matches(\"^\\d{4}\");\nif (shouldDelete) {\n    // Delete string\n}\n</code></pre>\n\n<p>If you want to match the date in any part of the String, simply remove the leading <code>^</code>.</p>\n"},{"tags":[],"owner":{"account_id":3377699,"reputation":13,"user_id":2835525,"display_name":"MarG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442903870,"creation_date":1442903870,"answer_id":32710015,"question_id":5205702,"body_markdown":"For a more specific year rate (1970-2029)  I&#39;ve used:\r\n\r\n   \r\n \r\n\r\n    Pattern pattern;\r\n    Matcher matcher;\r\n    String errorTag = null;\r\n    private static final String PATTERN_YEAR = &quot;^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})&quot;;\r\n\r\n...\r\n\r\n    if (filter.getName().contains(&quot;YYYY&quot;)){\r\n        pattern = Pattern.compile(PATTERN_YEAR);\r\n    \tmatcher = pattern.matcher(filter.getValue());\r\n    \t  if(!matcher.matches()){\t\r\n    \t\t  errorTag= &quot; *** The year is invalid, review the rate&quot;;\r\n  \r\n\r\n      \t}\r\n    }","title":"Find years with regular expression","body":"<p>For a more specific year rate (1970-2029)  I've used:</p>\n\n<pre><code>Pattern pattern;\nMatcher matcher;\nString errorTag = null;\nprivate static final String PATTERN_YEAR = \"^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})\";\n</code></pre>\n\n<p>...</p>\n\n<pre><code>if (filter.getName().contains(\"YYYY\")){\n    pattern = Pattern.compile(PATTERN_YEAR);\n    matcher = pattern.matcher(filter.getValue());\n      if(!matcher.matches()){   \n          errorTag= \" *** The year is invalid, review the rate\";\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2246677,"reputation":384,"user_id":1979870,"accept_rate":83,"display_name":"Mahesh Budeti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688567047,"creation_date":1688567047,"answer_id":76621326,"question_id":5205702,"body_markdown":"I am landing here every time I search for regex for validating year and I tried all the answers but couldn&#39;t get it work properly finally the following regex worked for me\r\n\r\n    ^(19|20)\\d{2}$","title":"Find years with regular expression","body":"<p>I am landing here every time I search for regex for validating year and I tried all the answers but couldn't get it work properly finally the following regex worked for me</p>\n<pre><code>^(19|20)\\d{2}$\n</code></pre>\n"}],"owner":{"account_id":310195,"reputation":489,"user_id":623054,"accept_rate":62,"display_name":"Francesco Nigro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5205758,"answer_count":5,"score":5,"last_activity_date":1688567047,"creation_date":1299348322,"question_id":5205702,"body_markdown":"Dear, i would delete from a list, the strings that contain a date.\r\nEx: &quot;1990s music groups&quot; must be deleted.\r\n\r\nCan I do this in java?\r\n\r\n","title":"Find years with regular expression","body":"<p>Dear, i would delete from a list, the strings that contain a date.\nEx: \"1990s music groups\" must be deleted.</p>\n\n<p>Can I do this in java?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687140380,"creation_date":1687140380,"answer_id":76503232,"question_id":76503114,"body_markdown":"There are some tools can help you to pares json string like `Jackson`,`Gson`.\r\n\r\nI wrote a sample code with `Jackson`,hope it can help you. \r\n\r\nFor more ways to use `Jackson`, you need to learn for yourself.\r\n\r\n    public static void main(String[] args)  throws Exception{\r\n        String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\r\n        List&lt;Recipe&gt; recipeList = parseResponse( responseString);\r\n        for (Recipe recipe : recipeList) {\r\n            System.out.println(recipe);\r\n        }\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse( String s )  {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\r\n            });\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n\r\n    }\r\n    static class Recipe{\r\n        String title;\r\n        String ingredients;\r\n        String servings;\r\n        String instructions;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getIngredients() {\r\n            return ingredients;\r\n        }\r\n\r\n        public void setIngredients(String ingredients) {\r\n            this.ingredients = ingredients;\r\n        }\r\n\r\n        public String getServings() {\r\n            return servings;\r\n        }\r\n\r\n        public void setServings(String servings) {\r\n            this.servings = servings;\r\n        }\r\n\r\n        public String getInstructions() {\r\n            return instructions;\r\n        }\r\n\r\n        public void setInstructions(String instructions) {\r\n            this.instructions = instructions;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Recipe{&quot; +\r\n                    &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                    &quot;, ingredients=&#39;&quot; + ingredients + &#39;\\&#39;&#39; +\r\n                    &quot;, servings=&#39;&quot; + servings + &#39;\\&#39;&#39; +\r\n                    &quot;, instructions=&#39;&quot; + instructions + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"Parsing HttpResponse from API into objects","body":"<p>There are some tools can help you to pares json string like <code>Jackson</code>,<code>Gson</code>.</p>\n<p>I wrote a sample code with <code>Jackson</code>,hope it can help you.</p>\n<p>For more ways to use <code>Jackson</code>, you need to learn for yourself.</p>\n<pre><code>public static void main(String[] args)  throws Exception{\n    String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\n    List&lt;Recipe&gt; recipeList = parseResponse( responseString);\n    for (Recipe recipe : recipeList) {\n        System.out.println(recipe);\n    }\n}\n\nstatic List&lt;Recipe&gt; parseResponse( String s )  {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\n        });\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    return new ArrayList&lt;&gt;();\n\n}\nstatic class Recipe{\n    String title;\n    String ingredients;\n    String servings;\n    String instructions;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getIngredients() {\n        return ingredients;\n    }\n\n    public void setIngredients(String ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public String getServings() {\n        return servings;\n    }\n\n    public void setServings(String servings) {\n        this.servings = servings;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Recipe{&quot; +\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, ingredients='&quot; + ingredients + '\\'' +\n                &quot;, servings='&quot; + servings + '\\'' +\n                &quot;, instructions='&quot; + instructions + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28847381,"reputation":3,"user_id":22094054,"display_name":"basky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503232,"answer_count":1,"score":0,"last_activity_date":1688567045,"creation_date":1687137316,"question_id":76503114,"body_markdown":"I&#39;m working on a Recipe app in the very early stages. I&#39;ve never used API&#39;s before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here&#39;s the deal: I&#39;m using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception. \r\n\r\nThe way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn&#39;t some way to manipulate the data with that in mind(maybe something with an array?) but haven&#39;t been able to figure anything out. Anyways I&#39;m going to include my code and I will also include a sample of what is returned from the API.\r\n\r\n\r\n`responseString` looks like this:\r\n```json\r\n[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\r\n```\r\n\r\n\r\n```\r\nclass RecipeTest {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\r\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\r\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\r\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n        String responseString = response.body();\r\n\r\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\r\n\r\n        System.out.println(recipeList.get(0).print());\r\n        System.out.println(recipeList.get(1).print());\r\n        System.out.println(recipeList.get(2).print());\r\n        System.out.println(recipeList.size());\r\n\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\r\n\r\n        try {\r\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\r\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\r\n\r\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\r\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\r\n\r\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\r\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\r\n\r\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\r\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\r\n\r\n            String title = s.substring(titleBeginIndex, titleEndIndex);\r\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\r\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\r\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\r\n\r\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\r\n\r\n            parseResponse(recipes, s, ingredientsEndIndex);\r\n        } finally {\r\n            return recipes;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I&#39;m not doing it the proper way.","title":"Parsing HttpResponse from API into objects","body":"<p>I'm working on a Recipe app in the very early stages. I've never used API's before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here's the deal: I'm using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception.</p>\n<p>The way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn't some way to manipulate the data with that in mind(maybe something with an array?) but haven't been able to figure anything out. Anyways I'm going to include my code and I will also include a sample of what is returned from the API.</p>\n<p><code>responseString</code> looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\n</code></pre>\n<pre><code>class RecipeTest {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n        String responseString = response.body();\n\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\n\n        System.out.println(recipeList.get(0).print());\n        System.out.println(recipeList.get(1).print());\n        System.out.println(recipeList.get(2).print());\n        System.out.println(recipeList.size());\n\n    }\n\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\n\n        try {\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\n\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\n\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\n\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\n\n            String title = s.substring(titleBeginIndex, titleEndIndex);\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\n\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\n\n            parseResponse(recipes, s, ingredientsEndIndex);\n        } finally {\n            return recipes;\n        }\n    }\n}\n</code></pre>\n<p>I am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I'm not doing it the proper way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":2,"creation_date":1474335284,"post_id":39584374,"comment_id":66478660,"body_markdown":"Possible duplicate of [Comparing two integer arrays in java](http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java\">Comparing two integer arrays in java</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1474335350,"post_id":39584374,"comment_id":66478674,"body_markdown":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though","body":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1474335638,"post_id":39584374,"comment_id":66478724,"body_markdown":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about [DRY](https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself) programming","body":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about <a href=\"https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> programming"},{"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"score":1,"creation_date":1474336623,"post_id":39584374,"comment_id":66478912,"body_markdown":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?","body":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?"},{"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"score":0,"creation_date":1474336899,"post_id":39584374,"comment_id":66478981,"body_markdown":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!","body":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!"}],"answers":[{"tags":[],"owner":{"account_id":8461351,"reputation":143,"user_id":6346982,"display_name":"Czarking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474339611,"creation_date":1474339018,"answer_id":39584869,"question_id":39584374,"body_markdown":"So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don&#39;t know the exact constraints of your lotto though.\r\n\r\nYou need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.\r\n\r\n    package lotto;\r\n    /**\r\n     * @author czarking\r\n     */\r\n    public class Lotto {\r\n\r\n        private static int[] lottery = new int[6];\r\n        private static int[] guess = new int[6];\r\n\r\n        public static void main(String[] args) {\r\n            lottery = randomArray(lottery);\r\n            guess = randomArray(lottery);\r\n            boolean match = true;\r\n            for (int i=0; i&lt;lottery.length; i++) {\r\n                if (lottery[i] != guess[i])\r\n                    match = false;\r\n            }\r\n            if (match)\r\n                System.out.println(&quot;HIT!&quot;);\r\n        }\r\n\r\n        public static int[] randomArray(int[] ar) {\r\n            for (int i=0; i&lt;ar.length; i++) {\r\n                ar[i] = (int)(Math.random()*49 + 1);\r\n                System.out.println(ar[i]+&quot; &quot;);\r\n            }\r\n            return ar;\r\n        }\r\n\r\n    }","title":"Creating an automated Lottery","body":"<p>So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don't know the exact constraints of your lotto though.</p>\n\n<p>You need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.</p>\n\n<pre><code>package lotto;\n/**\n * @author czarking\n */\npublic class Lotto {\n\n    private static int[] lottery = new int[6];\n    private static int[] guess = new int[6];\n\n    public static void main(String[] args) {\n        lottery = randomArray(lottery);\n        guess = randomArray(lottery);\n        boolean match = true;\n        for (int i=0; i&lt;lottery.length; i++) {\n            if (lottery[i] != guess[i])\n                match = false;\n        }\n        if (match)\n            System.out.println(\"HIT!\");\n    }\n\n    public static int[] randomArray(int[] ar) {\n        for (int i=0; i&lt;ar.length; i++) {\n            ar[i] = (int)(Math.random()*49 + 1);\n            System.out.println(ar[i]+\" \");\n        }\n        return ar;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474342220,"creation_date":1474340909,"answer_id":39585110,"question_id":39584374,"body_markdown":"So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.\r\n\r\nNote: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.\r\n\r\nIt is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to `Arrays.sort(...)`\r\n\r\nHere is a solution that uses arrays since you specifically said you wanted to use arrays: \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] correctNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\t\r\n    \t\tint tries = 0;\r\n    \t\tint[] guessNumbers = null;\r\n    \t\tdo{\r\n    \t\t\tguessNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot;+Arrays.toString(guessNumbers));\r\n    \t\t\ttries++;\r\n    \t\t}while(!Arrays.equals(guessNumbers, correctNumbers));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot;+tries);\r\n    \t}\r\n    \t\r\n    \tpublic static int[] createSortedArrayOfRandomInts(int sizeOfArray){\r\n    \t\tint[] arrayOfRandomNumbers = new int[sizeOfArray];\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfArray; i++) {\r\n    \t        int randomNum = -1;\r\n    \t        do{\r\n    \t        \trandomNum = randomGen.nextInt(50)+1; // Random number created here.\r\n    \t        }while(contains(arrayOfRandomNumbers, randomNum));\r\n    \t        arrayOfRandomNumbers[i] = randomNum;\r\n    \t    }\r\n    \t\tArrays.sort(arrayOfRandomNumbers);\r\n    \t\treturn arrayOfRandomNumbers;\r\n    \t}\r\n    \t\r\n    \tpublic static boolean contains(int[] array, int searchFor){\r\n    \t\tfor(int i = 0; i &lt; array.length; i++){\r\n    \t\t\tif(array[i] == searchFor)\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is sample output (shortened, obviously): \r\n\r\n    ...\r\n    Guessed numbers: [5, 21, 27, 36, 40, 47]\r\n    Guessed numbers: [3, 14, 15, 28, 36, 42]\r\n    Guessed numbers: [24, 27, 31, 32, 44, 49]\r\n    Guessed numbers: [19, 21, 25, 39, 42, 46]\r\n    Lottery numbers: [19, 21, 25, 39, 42, 46]\r\n    WINNER! Number of tries: 2499043\r\n\r\nHere is a solution using classes from the [Java Collections Framework][1] because every Java programmer should be familiar with how to use these classes:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryWithCollections {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \r\n    \t\tint tries = 0;\r\n    \t\tList&lt;Integer&gt; guessNumbers = null;\r\n    \t\tdo {\r\n    \t\t\tguessNumbers = createSortedListOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot; + guessNumbers);\r\n    \t\t\ttries++;\r\n    \t\t} while (!guessNumbers.equals(correctNumbers));\r\n    \r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot; + tries);\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\r\n    \t\tList&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfList; i++) {\r\n    \t\t\tint randomNum = randomGen.nextInt(50) + 1; // Random number created\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// here.\r\n    \t\t\twhile (listOfRandomNumbers.contains(randomNum)) {\r\n    \t\t\t\trandomNum = randomGen.nextInt(50) + 1;\r\n    \t\t\t}\r\n    \t\t\tlistOfRandomNumbers.add(randomNum);\r\n    \t\t}\r\n    \t\tCollections.sort(listOfRandomNumbers);\r\n    \t\treturn listOfRandomNumbers;\r\n    \t}\r\n    }\r\n\r\nSomething else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html","title":"Creating an automated Lottery","body":"<p>So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.</p>\n\n<p>Note: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.</p>\n\n<p>It is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to <code>Arrays.sort(...)</code></p>\n\n<p>Here is a solution that uses arrays since you specifically said you wanted to use arrays: </p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class LotteryMain {\n    public static void main(String[] args) {\n\n        int[] correctNumbers = createSortedArrayOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n\n        int tries = 0;\n        int[] guessNumbers = null;\n        do{\n            guessNumbers = createSortedArrayOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \"+Arrays.toString(guessNumbers));\n            tries++;\n        }while(!Arrays.equals(guessNumbers, correctNumbers));\n\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n        System.out.println(\"WINNER! Number of tries: \"+tries);\n    }\n\n    public static int[] createSortedArrayOfRandomInts(int sizeOfArray){\n        int[] arrayOfRandomNumbers = new int[sizeOfArray];\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfArray; i++) {\n            int randomNum = -1;\n            do{\n                randomNum = randomGen.nextInt(50)+1; // Random number created here.\n            }while(contains(arrayOfRandomNumbers, randomNum));\n            arrayOfRandomNumbers[i] = randomNum;\n        }\n        Arrays.sort(arrayOfRandomNumbers);\n        return arrayOfRandomNumbers;\n    }\n\n    public static boolean contains(int[] array, int searchFor){\n        for(int i = 0; i &lt; array.length; i++){\n            if(array[i] == searchFor)\n                return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>Here is sample output (shortened, obviously): </p>\n\n<pre><code>...\nGuessed numbers: [5, 21, 27, 36, 40, 47]\nGuessed numbers: [3, 14, 15, 28, 36, 42]\nGuessed numbers: [24, 27, 31, 32, 44, 49]\nGuessed numbers: [19, 21, 25, 39, 42, 46]\nLottery numbers: [19, 21, 25, 39, 42, 46]\nWINNER! Number of tries: 2499043\n</code></pre>\n\n<p>Here is a solution using classes from the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html\" rel=\"nofollow\">Java Collections Framework</a> because every Java programmer should be familiar with how to use these classes:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\n\npublic class LotteryWithCollections {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n\n        int tries = 0;\n        List&lt;Integer&gt; guessNumbers = null;\n        do {\n            guessNumbers = createSortedListOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \" + guessNumbers);\n            tries++;\n        } while (!guessNumbers.equals(correctNumbers));\n\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n        System.out.println(\"WINNER! Number of tries: \" + tries);\n    }\n\n    public static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\n        List&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfList; i++) {\n            int randomNum = randomGen.nextInt(50) + 1; // Random number created\n                                                        // here.\n            while (listOfRandomNumbers.contains(randomNum)) {\n                randomNum = randomGen.nextInt(50) + 1;\n            }\n            listOfRandomNumbers.add(randomNum);\n        }\n        Collections.sort(listOfRandomNumbers);\n        return listOfRandomNumbers;\n    }\n}\n</code></pre>\n\n<p>Something else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.</p>\n"}],"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39585110,"answer_count":2,"score":0,"last_activity_date":1688566769,"creation_date":1474334954,"question_id":39584374,"body_markdown":"I would like to program an automated Lottery &quot;script&quot; which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. \r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] lottery = new int[6];\r\n        int[] tipp1 = new int[6];\r\n        int randomNum;\r\n        int tipp;\r\n\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int x = 0; x &lt; i; x++) {\r\n                if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\r\n                {\r\n                    randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    x = -1; // restart the loop\r\n                }\r\n            }\r\n            lottery[i] = randomNum;\r\n            System.out.print(lottery[i] + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;);\r\n\r\n        for (int c = 0; c &lt; 6; c++) {\r\n            tipp = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int xy = 0; xy &lt; c; xy++) {\r\n                if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\r\n                {\r\n                    tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    xy = -1; // restart the loop\r\n                }\r\n            }\r\n            tipp1[c] = tipp;\r\n            System.out.print(tipp1[c] + &quot; &quot;);\r\n        }\r\n        if (lottery.equals(tipp1)){\r\n            System.out.print(&quot;HIT!&quot;);\r\n        }\r\n    }\r\n    }\r\n    \r\nIs there a way to do this?\r\n    \r\n\r\n","title":"Creating an automated Lottery","body":"<p>I would like to program an automated Lottery \"script\" which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. </p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] lottery = new int[6];\n    int[] tipp1 = new int[6];\n    int randomNum;\n    int tipp;\n\n    for (int i = 0; i &lt; 6; i++) {\n        randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int x = 0; x &lt; i; x++) {\n            if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\n            {\n                randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                x = -1; // restart the loop\n            }\n        }\n        lottery[i] = randomNum;\n        System.out.print(lottery[i] + \" \");\n    }\n\n    System.out.println(\" \");\n\n    for (int c = 0; c &lt; 6; c++) {\n        tipp = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int xy = 0; xy &lt; c; xy++) {\n            if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\n            {\n                tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                xy = -1; // restart the loop\n            }\n        }\n        tipp1[c] = tipp;\n        System.out.print(tipp1[c] + \" \");\n    }\n    if (lottery.equals(tipp1)){\n        System.out.print(\"HIT!\");\n    }\n}\n}\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1591614586,"creation_date":1591614586,"answer_id":62260693,"question_id":62260511,"body_markdown":"Try adding an explicit wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nand if this doesn&#39;t work then try using the JS Executor\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Try adding an explicit wait</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))).click();\n</code></pre>\n\n<p>and if this doesn't work then try using the JS Executor</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))); \n((JavascriptExecutor)driver).executeScript(\"arguments[0].click();\", element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1591625901,"creation_date":1591620778,"answer_id":62262557,"question_id":62260511,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\n...implies that the _click_ on the desired element was intercepted by some other element.\r\n\r\n\r\n----------\r\n\r\n\r\nClicking an element\r\n-------------------\r\nIdeally, while invoking `click()` on any element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `cssSelector`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nUpdate\r\n------\r\nAfter changing to _headless_ if it still doesn&#39;t works and still get exception there still a couple of other measures to consider as follows:\r\n\r\n- [Chrome browser in Headless mode](https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462) doesn&#39;t opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp):\r\n - Adding the argument `start-maximized`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n\r\n - Adding the argument `--window-size`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;--window-size=1400,600&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n - Using `setSize()`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\tdriver.manage().window().setSize(new Dimension(1440, 900));\r\n\t\t\r\n&gt;You can find a detailed discussion in [Not able to maximize Chrome Window in headless mode](https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670)\r\n\r\n- Additionally, you can also wait for the _intercept element to be invisible_ using the [ExpectedConditions](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html) `invisibilityOfElementLocated` before attempting the `click()` as follows:\r\n - `cssSelector`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.footer&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n - `xpath`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of related relevant discussions in:\r\n\r\n- [Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click](https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498)\r\n- [Element MyElement is not clickable at point (x, y)… Other element would receive the click](https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688)","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>...implies that the <em>click</em> on the desired element was intercepted by some other element.</p>\n\n<hr>\n\n<h2>Clicking an element</h2>\n\n<p>Ideally, while invoking <code>click()</code> on any element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>After changing to <em>headless</em> if it still doesn't works and still get exception there still a couple of other measures to consider as follows:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462\">Chrome browser in Headless mode</a> doesn't opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a>:</p>\n\n<ul>\n<li><p>Adding the argument <code>start-maximized</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Adding the argument <code>--window-size</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"--window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Using <code>setSize()</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().setSize(new Dimension(1440, 900));\n</code></pre></li>\n</ul></li>\n</ul>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670\">Not able to maximize Chrome Window in headless mode</a></p>\n</blockquote>\n\n<ul>\n<li><p>Additionally, you can also wait for the <em>intercept element to be invisible</em> using the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\">ExpectedConditions</a> <code>invisibilityOfElementLocated</code> before attempting the <code>click()</code> as follows:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(\"div.footer\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//div[@class='footer']\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of related relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498\">Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688\">Element MyElement is not clickable at point (x, y)… Other element would receive the click</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20935155,"reputation":11,"user_id":15380472,"display_name":"Ajit kumar Sahoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631094078,"creation_date":1631082305,"answer_id":69097913,"question_id":62260511,"body_markdown":"For this issue: \r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\r\n\r\nAnother element receives the click:\r\n\r\nAnswer is to explicitly wait with javascript executor. This combination is working for me:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>For this issue:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\n</code></pre>\n<p>Another element receives the click:</p>\n<p>Answer is to explicitly wait with javascript executor. This combination is working for me:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))); \n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7191623,"reputation":61,"user_id":5491718,"display_name":"sagarp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636917063,"creation_date":1636917063,"answer_id":69966318,"question_id":62260511,"body_markdown":"None of the above answers worked for me. Try using action class as follows:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element).click().build().perform();","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>None of the above answers worked for me. Try using action class as follows:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//div[@class='footer']&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(element).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645656422,"creation_date":1645656422,"answer_id":71244912,"question_id":62260511,"body_markdown":"In my case &quot;JavaScript&quot; works:\r\n\r\n    WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;));\r\n\tJavascriptExecutor jse = (JavascriptExecutor)driver;\r\n\tjse.executeScript(&quot;arguments[0].click()&quot;, ele);\r\n\r\nIt was taken from:\r\nhttp://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case &quot;JavaScript&quot; works:</p>\n<pre><code>WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name='btnK'])[2]&quot;));\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].click()&quot;, ele);\n</code></pre>\n<p>It was taken from:\n<a href=\"http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/</a></p>\n"},{"tags":[],"owner":{"account_id":16817367,"reputation":11,"user_id":12158829,"display_name":"Kondiram Kamble"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659871110,"creation_date":1658596243,"answer_id":73092742,"question_id":62260511,"body_markdown":"`WebDriverWait wait = new WebDriverWait(driver, 10);` ---&gt; has **deprecated** and it gives an error. Please use below instead:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nEnsure to **import** relevant items for the **WebDriverWait and ExpectedConditions**.\r\n\r\n","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p><code>WebDriverWait wait = new WebDriverWait(driver, 10);</code> ---&gt; has <strong>deprecated</strong> and it gives an error. Please use below instead:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))).click();\n</code></pre>\n<p>Ensure to <strong>import</strong> relevant items for the <strong>WebDriverWait and ExpectedConditions</strong>.</p>\n"},{"tags":[],"owner":{"account_id":26421162,"reputation":1,"user_id":20068817,"display_name":"Peraveen Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672664908,"creation_date":1672663883,"answer_id":74982653,"question_id":62260511,"body_markdown":"In my case, nothing worked. Only the `THREAD.SLEEP()` method worked!","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case, nothing worked. Only the <code>THREAD.SLEEP()</code> method worked!</p>\n"},{"tags":[],"owner":{"account_id":13678772,"reputation":1,"user_id":9869641,"display_name":"inderjeet kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676493920,"creation_date":1676493920,"answer_id":75465269,"question_id":62260511,"body_markdown":"\r\nAnswer is worked for me. \r\n\r\nPlease check the below sreenshot for the my problem reference.\r\nBelow alert is comes in between the the my button and frame.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75xb9.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Answer is worked for me.</p>\n<p>Please check the below sreenshot for the my problem reference.\nBelow alert is comes in between the the my button and frame.\n<a href=\"https://i.stack.imgur.com/75xb9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":9082027,"reputation":47,"user_id":6792484,"accept_rate":50,"display_name":"Karansing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688566117,"creation_date":1688566117,"answer_id":76621184,"question_id":62260511,"body_markdown":"If still facing issue then try this,\r\nclicking using JSExecutor worked for me:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>If still facing issue then try this,\nclicking using JSExecutor worked for me:</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);\n</code></pre>\n"}],"owner":{"account_id":11593851,"reputation":1129,"user_id":8493186,"accept_rate":48,"display_name":"Bastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114243,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":62262557,"answer_count":9,"score":15,"last_activity_date":1688566117,"creation_date":1591613923,"question_id":62260511,"body_markdown":"I have a project that I am working on with java and selenium.\r\nthe test work OK in UI mode.\r\nHowever in headless mode I get this error\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\nhow can I resolve this issue (working in UI mode). this is my code\r\n\r\n    WebDriver driver = getWebDriver();\r\n            WebElement element;\r\n            Thread.sleep(60000);\r\n            element = driver.findElement(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;));\r\n            element.click();\r\n\r\nwhy in selenium there is no operation to move to the element and break all layers. \r\nthis is the UI.\r\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNjSC.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>I have a project that I am working on with java and selenium.\nthe test work OK in UI mode.\nHowever in headless mode I get this error</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>how can I resolve this issue (working in UI mode). this is my code</p>\n\n<pre><code>WebDriver driver = getWebDriver();\n        WebElement element;\n        Thread.sleep(60000);\n        element = driver.findElement(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"));\n        element.click();\n</code></pre>\n\n<p>why in selenium there is no operation to move to the element and break all layers. \nthis is the UI.\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue</p>\n\n<p><a href=\"https://i.stack.imgur.com/tNjSC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tNjSC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","proguard"],"owner":{"account_id":1307049,"reputation":6578,"user_id":1255819,"accept_rate":86,"display_name":"distante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565851,"creation_date":1688565851,"question_id":76621143,"body_markdown":"On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called `LIVE_RELOAD`. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.\r\n\r\nThe `MainActivity` looks like this:\r\n\r\n```java\r\npublic class MainActivity extends BridgeActivity {\r\n\r\n    private String TAG = MainActivity.class.getName();\r\n\r\n  @Override\r\n  public void onCreate(Bundle savedInstanceState) {\r\n    this.registerLiveReload();\r\n    super.onCreate(savedInstanceState);\r\n  }\r\n\r\n  private void registerLiveReload(){\r\n    if (BuildConfig.LIVE_RELOAD) {\r\n      Log.w(TAG, &quot;⚠️ &#128680; Registering SSL IGNORE FOR LIVERELOAD &#128680; ⚠️&quot;);\r\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want to instruct ProGuard to completely remove `registerLiveReload` and `SSLCheckSkipForDevelopmentPlugin` from the APK but I am unable to do it.\r\n\r\nIn `build.gradle` I have set this on `buildTypes -&gt; release`\r\n\r\n```\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\r\n        }\r\n```\r\n\r\nand my proguard-rules.pro looks like:\r\n\r\n```\r\n-keepattributes SourceFile,LineNumberTable\r\n\r\n# If you keep the line number information, uncomment this to\r\n# hide the original source file name.\r\n#-renamesourcefileattribute SourceFile\r\n\r\n-assumenosideeffects class com.domain.myapp.MainActivity{\r\n  private void registerLiveReload();\r\n}\r\n\r\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\r\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\r\n    *;\r\n}\r\n```\r\n\r\nBut when I build the APK and analyze it, I still can see the class being referenced there:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nWhat I am missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ViHL.png","title":"How to instruct ProGuard to completely remove a particular class from the build?","body":"<p>On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called <code>LIVE_RELOAD</code>. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.</p>\n<p>The <code>MainActivity</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends BridgeActivity {\n\n    private String TAG = MainActivity.class.getName();\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    this.registerLiveReload();\n    super.onCreate(savedInstanceState);\n  }\n\n  private void registerLiveReload(){\n    if (BuildConfig.LIVE_RELOAD) {\n      Log.w(TAG, &quot;⚠️ 🚨 Registering SSL IGNORE FOR LIVERELOAD 🚨 ⚠️&quot;);\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\n    }\n  }\n}\n</code></pre>\n<p>I want to instruct ProGuard to completely remove <code>registerLiveReload</code> and <code>SSLCheckSkipForDevelopmentPlugin</code> from the APK but I am unable to do it.</p>\n<p>In <code>build.gradle</code> I have set this on <code>buildTypes -&gt; release</code></p>\n<pre><code>        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\n        }\n</code></pre>\n<p>and my proguard-rules.pro looks like:</p>\n<pre><code>-keepattributes SourceFile,LineNumberTable\n\n# If you keep the line number information, uncomment this to\n# hide the original source file name.\n#-renamesourcefileattribute SourceFile\n\n-assumenosideeffects class com.domain.myapp.MainActivity{\n  private void registerLiveReload();\n}\n\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\n    *;\n}\n</code></pre>\n<p>But when I build the APK and analyze it, I still can see the class being referenced there:</p>\n<p><a href=\"https://i.stack.imgur.com/6ViHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ViHL.png\" alt=\"enter image description here\" /></a></p>\n<p>What I am missing?</p>\n"},{"tags":["java","error-handling","return","try-catch-finally"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":61,"creation_date":1379897524,"post_id":65035,"comment_id":27985422,"body_markdown":"[Not *always*](http://thedailywtf.com/Articles/My-Tales.aspx)","body":"<a href=\"http://thedailywtf.com/Articles/My-Tales.aspx\" rel=\"nofollow noreferrer\">Not <i>always</i></a>"},{"owner":{"account_id":518846,"reputation":16789,"user_id":1068546,"accept_rate":94,"display_name":"Binoy Babu"},"score":3,"creation_date":1418526539,"post_id":65035,"comment_id":43367926,"body_markdown":"Effective java says otherwise http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7","body":"Effective java says otherwise <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1216151&amp;seqNum=7</a>"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":36,"creation_date":1468339895,"post_id":65035,"comment_id":64082518,"body_markdown":"@BinoyBabu, _finalizer_ != `finally`; _finalizer_ == the `finalize()` method.","body":"@BinoyBabu, <i>finalizer</i> != <code>finally</code>; <i>finalizer</i> == the <code>finalize()</code> method."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1484854857,"post_id":65035,"comment_id":70692946,"body_markdown":"@Boann Correct, &quot;not always&quot; indeed. But then you can *never ever* use the words &quot;guaranteed&quot; or &quot;always&quot;.","body":"@Boann Correct, &quot;not always&quot; indeed. But then you can <i>never ever</i> use the words &quot;guaranteed&quot; or &quot;always&quot;."},{"owner":{"account_id":5953942,"reputation":1523,"user_id":4681187,"accept_rate":50,"display_name":"Imperishable Night"},"score":2,"creation_date":1540587724,"post_id":65035,"comment_id":92936112,"body_markdown":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code.","body":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code."},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1590628079,"post_id":65035,"comment_id":109754182,"body_markdown":"Looks like you caught quite a fish there!","body":"Looks like you caught quite a fish there!"},{"owner":{"account_id":431981,"reputation":7385,"user_id":816416,"accept_rate":50,"display_name":"Vishnu Haridas"},"score":0,"creation_date":1600795062,"post_id":65035,"comment_id":113198551,"body_markdown":"If the `finally` block returns a value, then the try/catch block can&#39;t return.","body":"If the <code>finally</code> block returns a value, then the try/catch block can&#39;t return."},{"owner":{"account_id":2175603,"reputation":586,"user_id":1926351,"accept_rate":50,"display_name":"kargirwar"},"score":0,"creation_date":1657788725,"post_id":65035,"comment_id":128895402,"body_markdown":"@NoonSilk That was hilarious!","body":"@NoonSilk That was hilarious!"}],"answers":[{"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"down_vote_count":10,"up_vote_count":3014,"is_accepted":true,"score":3004,"last_activity_date":1572558477,"creation_date":1221500739,"answer_id":65049,"question_id":65035,"body_markdown":"Yes, `finally` will be called after the execution of the `try` or `catch` code blocks.\r\n\r\nThe only times `finally` won&#39;t be called are:\r\n\r\n1. If you invoke `System.exit()`\r\n2. If you invoke `Runtime.getRuntime().halt(exitStatus)`\r\n3. If the JVM crashes first\r\n4. If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the `try` or `catch` block\r\n5. If the OS forcibly terminates the JVM process; e.g., `kill -9 &lt;pid&gt;` on UNIX\r\n6. If the host system dies; e.g., power failure, hardware error, OS panic, et cetera\r\n7. If the `finally` block is going to be executed by a daemon thread and all other non-daemon threads exit before `finally` is called\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, <code>finally</code> will be called after the execution of the <code>try</code> or <code>catch</code> code blocks.</p>\n\n<p>The only times <code>finally</code> won't be called are:</p>\n\n<ol>\n<li>If you invoke <code>System.exit()</code></li>\n<li>If you invoke <code>Runtime.getRuntime().halt(exitStatus)</code></li>\n<li>If the JVM crashes first</li>\n<li>If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the <code>try</code> or <code>catch</code> block</li>\n<li>If the OS forcibly terminates the JVM process; e.g., <code>kill -9 &lt;pid&gt;</code> on UNIX</li>\n<li>If the host system dies; e.g., power failure, hardware error, OS panic, et cetera</li>\n<li>If the <code>finally</code> block is going to be executed by a daemon thread and all other non-daemon threads exit before <code>finally</code> is called</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4910,"reputation":9194,"user_id":7616,"accept_rate":75,"display_name":"shyam"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1688561668,"creation_date":1221500778,"answer_id":65056,"question_id":65035,"body_markdown":"`finally` is always executed unless there is abnormal program termination (like calling `System. exit(0)`). so, your `System.out` will get printed.","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> is always executed unless there is abnormal program termination (like calling <code>System. exit(0)</code>). so, your <code>System.out</code> will get printed.</p>\n"},{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1221500800,"creation_date":1221500800,"answer_id":65059,"question_id":65035,"body_markdown":"Yes it will get called. That&#39;s the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.","title":"Does a finally block always get executed in Java?","body":"<p>Yes it will get called. That's the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.</p>\n"},{"tags":[],"owner":{"account_id":5634,"reputation":6674,"user_id":1058366,"display_name":"Kevin"},"down_vote_count":16,"up_vote_count":639,"is_accepted":false,"score":623,"last_activity_date":1633471819,"creation_date":1221501592,"answer_id":65185,"question_id":65035,"body_markdown":"Example code:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return 0;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;something is printed&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    something is printed. \r\n    0","title":"Does a finally block always get executed in Java?","body":"<p>Example code:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int test() {\n    try {\n        return 0;\n    }\n    finally {\n        System.out.println(&quot;something is printed&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>something is printed. \n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175,"reputation":42324,"user_id":1559,"accept_rate":67,"display_name":"Scott Dorman"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1221501785,"creation_date":1221501785,"answer_id":65219,"question_id":65035,"body_markdown":"That&#39;s actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn&#39;t the case, the finally block wouldn&#39;t have much meaning.","title":"Does a finally block always get executed in Java?","body":"<p>That's actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn't the case, the finally block wouldn't have much meaning.</p>\n"},{"tags":[],"owner":{"account_id":5636,"reputation":239,"user_id":9189,"display_name":"user9189"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1493848417,"creation_date":1221502315,"answer_id":65282,"question_id":65035,"body_markdown":"The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to `System.exit(0)`.\r\n\r\nOn top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to <code>System.exit(0)</code>.</p>\n\n<p>On top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.</p>\n"},{"tags":[],"owner":{"account_id":5674,"reputation":4275,"user_id":9271,"display_name":"MooBob42"},"down_vote_count":3,"up_vote_count":428,"is_accepted":false,"score":425,"last_activity_date":1221502793,"creation_date":1221502793,"answer_id":65362,"question_id":65035,"body_markdown":"Also, although it&#39;s bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:\r\n\r\n    try { return true; } finally { return false; }\r\n\r\nSame thing with throwing exceptions from the finally block.","title":"Does a finally block always get executed in Java?","body":"<p>Also, although it's bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:</p>\n\n<pre><code>try { return true; } finally { return false; }\n</code></pre>\n\n<p>Same thing with throwing exceptions from the finally block.</p>\n"},{"tags":[],"owner":{"account_id":4487,"reputation":2649,"user_id":6770,"accept_rate":26,"display_name":"James A. N. Stauffer"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1221506775,"creation_date":1221506775,"answer_id":65943,"question_id":65035,"body_markdown":"Also a return in finally will throw away any exception.  [http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html][1]\r\n\r\n\r\n  [1]: http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html","title":"Does a finally block always get executed in Java?","body":"<p>Also a return in finally will throw away any exception.  <a href=\"http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html\" rel=\"noreferrer\">http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html</a></p>\n"},{"tags":[],"owner":{"account_id":5602,"reputation":11174,"user_id":2635682,"accept_rate":60,"display_name":"Garth Gilmour"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1221506804,"creation_date":1221506804,"answer_id":65949,"question_id":65035,"body_markdown":"A logical way to think about this is:\r\n\r\n 1. Code placed in a finally block must be executed **whatever occurs** within the try block\r\n 2. So if code in the try block tries to return a value or throw an exception the item is placed &#39;on the shelf&#39; till the finally block can execute\r\n 3. Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left &#39;on the shelf&#39; is discarded.\r\n 4. The only exception to this is if the VM shuts down completely during the try block e.g. by &#39;System.exit&#39;","title":"Does a finally block always get executed in Java?","body":"<p>A logical way to think about this is:</p>\n\n<ol>\n<li>Code placed in a finally block must be executed <strong>whatever occurs</strong> within the try block</li>\n<li>So if code in the try block tries to return a value or throw an exception the item is placed 'on the shelf' till the finally block can execute</li>\n<li>Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left 'on the shelf' is discarded.</li>\n<li>The only exception to this is if the VM shuts down completely during the try block e.g. by 'System.exit'</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1222874144,"creation_date":1222874144,"answer_id":158141,"question_id":65035,"body_markdown":"In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.</p>\n"},{"tags":[],"owner":{"account_id":17207,"reputation":1309,"user_id":38266,"display_name":"vibhash"},"down_vote_count":1,"up_vote_count":131,"is_accepted":false,"score":130,"last_activity_date":1423368180,"creation_date":1226939136,"answer_id":296053,"question_id":65035,"body_markdown":"I tried the above example with slight modification-\r\n\r\n    public static void main(final String[] args) {\r\n        System.out.println(test());\r\n    }\r\n\r\n    public static int test() {\r\n        int i = 0;\r\n        try {\r\n            i = 2;\r\n            return i;\r\n        } finally {\r\n            i = 12;\r\n            System.out.println(&quot;finally trumps return.&quot;);\r\n        }\r\n    }\r\n\r\nThe above code outputs:\r\n\r\n&gt;finally trumps return.  \r\n&gt;2\r\n\r\nThis is because when `return i;` is executed `i` has a value 2. After this the `finally` block is executed where 12 is assigned to `i` and then `System.out` out is executed.\r\n\r\nAfter executing the `finally` block the `try` block returns 2, rather than returning 12, because this return statement is not executed again.\r\n\r\nIf you will debug this code in Eclipse then you&#39;ll get a feeling that after executing `System.out` of `finally` block the `return` statement of `try` block is executed again. But this is not the case. It simply returns the value 2.","title":"Does a finally block always get executed in Java?","body":"<p>I tried the above example with slight modification-</p>\n\n<pre><code>public static void main(final String[] args) {\n    System.out.println(test());\n}\n\npublic static int test() {\n    int i = 0;\n    try {\n        i = 2;\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n    }\n}\n</code></pre>\n\n<p>The above code outputs:</p>\n\n<blockquote>\n  <p>finally trumps return.<br>\n  2</p>\n</blockquote>\n\n<p>This is because when <code>return i;</code> is executed <code>i</code> has a value 2. After this the <code>finally</code> block is executed where 12 is assigned to <code>i</code> and then <code>System.out</code> out is executed.</p>\n\n<p>After executing the <code>finally</code> block the <code>try</code> block returns 2, rather than returning 12, because this return statement is not executed again.</p>\n\n<p>If you will debug this code in Eclipse then you'll get a feeling that after executing <code>System.out</code> of <code>finally</code> block the <code>return</code> statement of <code>try</code> block is executed again. But this is not the case. It simply returns the value 2.</p>\n"},{"tags":[],"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1273731833,"creation_date":1273731503,"answer_id":2824754,"question_id":65035,"body_markdown":"Finally is always run that&#39;s the whole point, just because it appears in the code after the return doesn&#39;t mean that that&#39;s how it&#39;s implemented. The Java runtime has the responsibility to run this code when exiting the `try` block.\r\n\r\nFor example if you have the following:\r\n\r\n    int foo() { \r\n        try {\r\n            return 42;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;done&quot;);\r\n        }\r\n    }\r\n\r\nThe runtime will generate something like this:\r\n\r\n    int foo() {\r\n        int ret = 42;\r\n        System.out.println(&quot;done&quot;);\r\n        return 42;\r\n    }\r\n    \r\nIf an uncaught exception is thrown the `finally` block will run and the exception will continue propagating. ","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always run that's the whole point, just because it appears in the code after the return doesn't mean that that's how it's implemented. The Java runtime has the responsibility to run this code when exiting the <code>try</code> block.</p>\n\n<p>For example if you have the following:</p>\n\n<pre><code>int foo() { \n    try {\n        return 42;\n    }\n    finally {\n        System.out.println(\"done\");\n    }\n}\n</code></pre>\n\n<p>The runtime will generate something like this:</p>\n\n<pre><code>int foo() {\n    int ret = 42;\n    System.out.println(\"done\");\n    return 42;\n}\n</code></pre>\n\n<p>If an uncaught exception is thrown the <code>finally</code> block will run and the exception will continue propagating. </p>\n"},{"tags":[],"owner":{"account_id":21489,"reputation":53159,"user_id":52249,"display_name":"Jay Riggs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1273731557,"creation_date":1273731557,"answer_id":2824758,"question_id":65035,"body_markdown":"Because a finally block will always be called unless you call `System.exit()` (or the thread crashes).","title":"Does a finally block always get executed in Java?","body":"<p>Because a finally block will always be called unless you call <code>System.exit()</code> (or the thread crashes).</p>\n"},{"tags":[],"owner":{"account_id":114381,"reputation":17336,"user_id":300807,"accept_rate":89,"display_name":"Chris Cooper"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1441127489,"creation_date":1273731557,"answer_id":2824759,"question_id":65035,"body_markdown":"That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.\r\n\r\nFinally gets called **regardless of what happens** in the try block (*unless* you call `System.exit(int)` or the Java Virtual Machine kicks out for some other reason).","title":"Does a finally block always get executed in Java?","body":"<p>That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.</p>\n\n<p>Finally gets called <strong>regardless of what happens</strong> in the try block (<em>unless</em> you call <code>System.exit(int)</code> or the Java Virtual Machine kicks out for some other reason).</p>\n"},{"tags":[],"owner":{"account_id":80548,"reputation":18669,"user_id":227698,"accept_rate":88,"display_name":"vodkhang"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273731587,"creation_date":1273731587,"answer_id":2824762,"question_id":65035,"body_markdown":"Because the final is always be called in whatever cases you have. You don&#39;t have exception, it is still called, catch exception, it is still called","title":"Does a finally block always get executed in Java?","body":"<p>Because the final is always be called in whatever cases you have. You don't have exception, it is still called, catch exception, it is still called</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1477665335,"creation_date":1273734719,"answer_id":2824998,"question_id":65035,"body_markdown":"In addition to the other responses, it is important to point out that &#39;finally&#39; has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n    \t\treturn 10;\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nSimilarly, the following method does not throw an exception:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            throw new RuntimeException();\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nWhile the following method does throw it:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            return 12;\t\t\t\r\n        }\r\n        finally {\r\n            throw new RuntimeException();\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the other responses, it is important to point out that 'finally' has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 10;\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>Similarly, the following method does not throw an exception:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        throw new RuntimeException();\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>While the following method does throw it:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 12;          \n    }\n    finally {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135304,"reputation":464,"user_id":338082,"accept_rate":62,"display_name":"Gala101"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273751414,"creation_date":1273751414,"answer_id":2826472,"question_id":65035,"body_markdown":"Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not &#39;void&#39; then it always explicitly returns something, yet, finally always gets executed","title":"Does a finally block always get executed in Java?","body":"<p>Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not 'void' then it always explicitly returns something, yet, finally always gets executed</p>\n"},{"tags":[],"owner":{"account_id":616602,"reputation":101,"user_id":349636,"display_name":"Wasim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440054009,"creation_date":1274769389,"answer_id":2902505,"question_id":65035,"body_markdown":"This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:\r\n\r\n    public static int test() {\r\n\t\tint i = 0;\r\n\t\ttry {\r\n\t\t\treturn i;\r\n\t\t} finally {\r\n\t\t\ti = 12;\r\n\t\t\tSystem.out.println(&quot;finally trumps return.&quot;);\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}","title":"Does a finally block always get executed in Java?","body":"<p>This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:</p>\n\n<pre><code>public static int test() {\n    int i = 0;\n    try {\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n        return i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":264,"is_accepted":false,"score":264,"last_activity_date":1465329096,"creation_date":1274770216,"answer_id":2902578,"question_id":65035,"body_markdown":"Here&#39;s the official words from the Java Language Specification.\r\n\r\n[14.20.2. Execution of try-finally and try-catch-finally][1]\r\n\r\n&gt;**A `try` statement with a `finally` block is executed by first executing the `try` block. Then there is a choice:**\r\n\r\n&gt; * If execution of the `try` block completes normally, [...]\r\n&gt; * If execution of the `try` block completes abruptly because of a `throw` of a value _V_, [...]\r\n&gt; * **If execution of the `try` block completes abruptly for any other reason _R_, then the `finally` block is executed. Then there is a choice:**\r\n&gt;    * If the finally block completes normally, then the `try` statement completes abruptly for reason _R_. \r\n&gt;    * If the `finally` block completes abruptly for reason _S_, then the `try` statement completes abruptly for reason _S_ (**and reason _R_ is discarded**).\r\n\r\nThe specification for `return` actually makes this explicit:\r\n\r\n[JLS 14.17 The return Statement][2]\r\n\r\n&gt;     ReturnStatement:\r\n         return Expression(opt) ;\r\n\r\n\r\n&gt; A `return` statement with no `Expression` **attempts** to transfer control to the invoker of the method or constructor that contains it. \r\n&gt;\r\n&gt; A `return` statement with an `Expression` **attempts** to transfer control to the invoker of the method that contains it; the value of the `Expression` becomes the value of the method invocation.\r\n&gt;\r\n&gt; The preceding descriptions say &quot;_**attempts** to transfer control_&quot; rather than just &quot;_transfers control_&quot; because if there are any `try` statements within the method or constructor whose `try` blocks contain the `return` statement, then any `finally` clauses of those `try` statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a `finally` clause can disrupt the transfer of control initiated by a `return` statement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17","title":"Does a finally block always get executed in Java?","body":"<p>Here's the official words from the Java Language Specification.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\" rel=\"noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a></p>\n\n<blockquote>\n  <p><strong>A <code>try</code> statement with a <code>finally</code> block is executed by first executing the <code>try</code> block. Then there is a choice:</strong></p>\n  \n  <ul>\n  <li>If execution of the <code>try</code> block completes normally, [...]</li>\n  <li>If execution of the <code>try</code> block completes abruptly because of a <code>throw</code> of a value <em>V</em>, [...]</li>\n  <li><strong>If execution of the <code>try</code> block completes abruptly for any other reason <em>R</em>, then the <code>finally</code> block is executed. Then there is a choice:</strong>\n  \n  <ul>\n  <li>If the finally block completes normally, then the <code>try</code> statement completes abruptly for reason <em>R</em>. </li>\n  <li>If the <code>finally</code> block completes abruptly for reason <em>S</em>, then the <code>try</code> statement completes abruptly for reason <em>S</em> (<strong>and reason <em>R</em> is discarded</strong>).</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>The specification for <code>return</code> actually makes this explicit:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17\" rel=\"noreferrer\">JLS 14.17 The return Statement</a></p>\n\n<blockquote>\n<pre><code>ReturnStatement:\n     return Expression(opt) ;\n</code></pre>\n  \n  <p>A <code>return</code> statement with no <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method or constructor that contains it. </p>\n  \n  <p>A <code>return</code> statement with an <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method that contains it; the value of the <code>Expression</code> becomes the value of the method invocation.</p>\n  \n  <p>The preceding descriptions say \"<em><strong>attempts</strong> to transfer control</em>\" rather than just \"<em>transfers control</em>\" because if there are any <code>try</code> statements within the method or constructor whose <code>try</code> blocks contain the <code>return</code> statement, then any <code>finally</code> clauses of those <code>try</code> statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a <code>finally</code> clause can disrupt the transfer of control initiated by a <code>return</code> statement.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318521715,"creation_date":1318521715,"answer_id":7756997,"question_id":65035,"body_markdown":"If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.\r\n\r\nOnly time it does not run is when JVM exits.","title":"Does a finally block always get executed in Java?","body":"<p>If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.</p>\n\n<p>Only time it does not run is when JVM exits.</p>\n"},{"tags":[],"owner":{"account_id":19110,"reputation":3538,"user_id":44512,"accept_rate":74,"display_name":"eric2323223"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1688565236,"creation_date":1334653616,"answer_id":10188271,"question_id":65035,"body_markdown":"Try this code, you will understand the **code in finally block is get executed after return statement**.\r\n\r\n    public class TestTryCatchFinally {\r\n    \tstatic int x = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(f1());\r\n    \t\tSystem.out.println(f2());\r\n    \t}\r\n    \t\r\n    \tpublic static int f1() {\r\n    \t\ttry {\r\n    \t\t\tx = 1;\r\n    \t\t\treturn x;\r\n    \t\t} finally {\r\n    \t\t\tx = 2;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static int f2() {\r\n    \t\treturn x;\r\n    \t}\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Try this code, you will understand the <strong>code in finally block is get executed after return statement</strong>.</p>\n<pre><code>public class TestTryCatchFinally {\n    static int x = 0;\n    \n    public static void main(String[] args) {\n        System.out.println(f1());\n        System.out.println(f2());\n    }\n    \n    public static int f1() {\n        try {\n            x = 1;\n            return x;\n        } finally {\n            x = 2;\n        }\n    }\n    \n    public static int f2() {\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2644975,"reputation":187,"user_id":2287871,"display_name":"Rajendra Jadi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1688562006,"creation_date":1373756543,"answer_id":17634958,"question_id":65035,"body_markdown":"No, not always, one exception case is\r\n`System.exit(0);`\r\nbefore the `finally` block prevents `finally` to be executed.\r\n\r\n  \r\n```java\r\n      class A {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDataInputStream cin = new DataInputStream(System.in);\r\n\r\n    \t\ttry {\r\n    \t\t\tint i = Integer.parseInt(cin.readLine());\r\n    \t\t} catch (ArithmeticException e) {\r\n    \t\t} catch (Exception e) {\r\n    \t\t   System.exit(0); // Program terminates before executing the finally block\r\n    \t\t} finally {\r\n                System.out.println(&quot;Won&#39;t be executed&quot;);\r\n    \t\t    System.out.println(&quot;No error&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>No, not always, one exception case is\n<code>System.exit(0);</code>\nbefore the <code>finally</code> block prevents <code>finally</code> to be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      class A {\n        public static void main(String args[]) {\n            DataInputStream cin = new DataInputStream(System.in);\n\n            try {\n                int i = Integer.parseInt(cin.readLine());\n            } catch (ArithmeticException e) {\n            } catch (Exception e) {\n               System.exit(0); // Program terminates before executing the finally block\n            } finally {\n                System.out.println(&quot;Won't be executed&quot;);\n                System.out.println(&quot;No error&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177142,"reputation":2654,"user_id":1927543,"accept_rate":74,"display_name":"Karthikeyan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376654420,"creation_date":1376654420,"answer_id":18272854,"question_id":65035,"body_markdown":"Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.</p>\n"},{"tags":[],"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1667591410,"creation_date":1386113773,"answer_id":20363941,"question_id":65035,"body_markdown":"Here&#39;s an elaboration of [Kevin&#39;s answer][1]. It&#39;s important to know that the expression to be returned is evaluated before `finally`, even if it is returned after.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int printX() {\r\n        System.out.println(&quot;X&quot;);\r\n        return 0;\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return printX();\r\n        }\r\n        finally {\r\n            System.out.println(&quot;finally trumps return... sort of&quot;);\r\n            return 42;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    X\r\n    finally trumps return... sort of\r\n    42\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65185/2684342","title":"Does a finally block always get executed in Java?","body":"<p>Here's an elaboration of <a href=\"https://stackoverflow.com/a/65185/2684342\">Kevin's answer</a>. It's important to know that the expression to be returned is evaluated before <code>finally</code>, even if it is returned after.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int printX() {\n    System.out.println(&quot;X&quot;);\n    return 0;\n}\n\npublic static int test() {\n    try {\n        return printX();\n    }\n    finally {\n        System.out.println(&quot;finally trumps return... sort of&quot;);\n        return 42;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>X\nfinally trumps return... sort of\n42\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1746548,"reputation":850,"user_id":1596606,"accept_rate":88,"display_name":"abhig"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1389738557,"creation_date":1389738557,"answer_id":21125379,"question_id":65035,"body_markdown":"Yes It will.\r\nOnly case it will not is JVM exits or crashes ","title":"Does a finally block always get executed in Java?","body":"<p>Yes It will.\nOnly case it will not is JVM exits or crashes </p>\n"},{"tags":[],"owner":{"account_id":4032073,"reputation":109,"user_id":3317784,"display_name":"Rohit Chugh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1392626905,"creation_date":1392626905,"answer_id":21824431,"question_id":65035,"body_markdown":"Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.","title":"Does a finally block always get executed in Java?","body":"<p>Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.</p>\n"},{"tags":[],"owner":{"account_id":3793469,"reputation":1585,"user_id":3149356,"display_name":"bikz05"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1413237110,"creation_date":1413237110,"answer_id":26349456,"question_id":65035,"body_markdown":"Concisely, in the official Java Documentation (Click [here][1]), it is written that - \r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then\r\n&gt; the finally block may not execute. Likewise, if the thread executing\r\n&gt; the try or catch code is interrupted or killed, the finally block may\r\n&gt; not execute even though the application as a whole continues.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Concisely, in the official Java Documentation (Click <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a>), it is written that - </p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then\n  the finally block may not execute. Likewise, if the thread executing\n  the try or catch code is interrupted or killed, the finally block may\n  not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5422297,"reputation":517,"user_id":4315585,"display_name":"Gautam Viradiya"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1417523414,"creation_date":1417523414,"answer_id":27249545,"question_id":65035,"body_markdown":"Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.","title":"Does a finally block always get executed in Java?","body":"<p>Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.</p>\n"},{"tags":[],"owner":{"account_id":2588248,"reputation":143,"user_id":3201107,"display_name":"Utkarsh Bhatt"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1478860787,"creation_date":1418884616,"answer_id":27540550,"question_id":65035,"body_markdown":"`finally` will execute and that is for sure.\r\n\r\n`finally` will not execute in below cases: \r\n\r\ncase 1 :\r\n\r\nWhen you are executing `System.exit()`.\r\n\r\ncase 2 :\r\n\r\nWhen your JVM / Thread crashes.\r\n\r\ncase 3 : \r\n\r\nWhen your execution is stopped in between manually.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> will execute and that is for sure.</p>\n\n<p><code>finally</code> will not execute in below cases: </p>\n\n<p>case 1 :</p>\n\n<p>When you are executing <code>System.exit()</code>.</p>\n\n<p>case 2 :</p>\n\n<p>When your JVM / Thread crashes.</p>\n\n<p>case 3 : </p>\n\n<p>When your execution is stopped in between manually.</p>\n"},{"tags":[],"owner":{"account_id":468110,"reputation":79,"user_id":873900,"display_name":"milton"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431517978,"creation_date":1431515461,"answer_id":30213111,"question_id":65035,"body_markdown":"I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :\n\n**finally will be executed even if there is return in try and catch block.**\n\n    try {  \n      System.out.println(&quot;try&quot;); \n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } catch (Exception e) {   \n      System.out.println(&quot;catch&quot;);\n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } finally {  \n       System.out.println(&quot;Print me FINALLY&quot;);\n    }\n\n**Output**\n&gt; try\n&gt;\n&gt; Print me FINALLY\n\n 2. If return is replaced by `System.exit(0)` in try and catch block in above code and an exception occurs before it,for any reason.","title":"Does a finally block always get executed in Java?","body":"<p>I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :</p>\n<p><strong>finally will be executed even if there is return in try and catch block.</strong></p>\n<pre><code>try {  \n  System.out.println(&quot;try&quot;); \n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} catch (Exception e) {   \n  System.out.println(&quot;catch&quot;);\n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} finally {  \n   System.out.println(&quot;Print me FINALLY&quot;);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>try</p>\n<p>Print me FINALLY</p>\n</blockquote>\n<ol start=\"2\">\n<li>If return is replaced by <code>System.exit(0)</code> in try and catch block in above code and an exception occurs before it,for any reason.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":926113,"reputation":3150,"user_id":956880,"accept_rate":80,"display_name":"Anonymous Coward"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1583601081,"creation_date":1449930653,"answer_id":34240980,"question_id":65035,"body_markdown":"&lt;h1&gt;NOT ALWAYS&lt;/h1&gt;\r\n\r\nThe Java Language specification describes how `try`-`catch`-`finally` and `try`-`catch` blocks work at [14.20.2][1]  \r\nIn no place it specifies that the `finally` block is always executed.\r\nBut for all cases in which the `try`-`catch`-`finally` and `try`-`finally` blocks complete it does specify that before completion `finally` must be executed.\r\n\r\n    try {\r\n      CODE inside the try block\r\n    }\r\n    finally {\r\n      FIN code inside finally block\r\n    }\r\n    NEXT code executed after the try-finally block (may be in a different method).\r\n\r\nThe JLS does not guarantee that **FIN** is executed after **CODE**.\r\nThe JLS guarantees that if **CODE** and **NEXT** are executed then **FIN** will always be executed after **CODE** and before **NEXT**.\r\n\r\nWhy doesn&#39;t the JLS guarantee that the `finally` block is always executed after the `try` block? *Because it is impossible.* It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the `try` block but before execution of the `finally` block. There is nothing the JLS can do to avoid this.\r\n\r\nThus, any software which for their proper behaviour depends on `finally` blocks always being executed after their `try` blocks complete are bugged.\r\n\r\n`return` instructions in the `try` block are irrelevant to this issue. If execution reaches code after the `try`-`catch`-`finally` it is guaranteed that the `finally` block will have been executed before, with or without `return` instructions inside the `try` block.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2","title":"Does a finally block always get executed in Java?","body":"<h1>NOT ALWAYS</h1>\n\n<p>The Java Language specification describes how <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>catch</code> blocks work at <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2\" rel=\"nofollow noreferrer\">14.20.2</a><br>\nIn no place it specifies that the <code>finally</code> block is always executed.\nBut for all cases in which the <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>finally</code> blocks complete it does specify that before completion <code>finally</code> must be executed.</p>\n\n<pre><code>try {\n  CODE inside the try block\n}\nfinally {\n  FIN code inside finally block\n}\nNEXT code executed after the try-finally block (may be in a different method).\n</code></pre>\n\n<p>The JLS does not guarantee that <strong>FIN</strong> is executed after <strong>CODE</strong>.\nThe JLS guarantees that if <strong>CODE</strong> and <strong>NEXT</strong> are executed then <strong>FIN</strong> will always be executed after <strong>CODE</strong> and before <strong>NEXT</strong>.</p>\n\n<p>Why doesn't the JLS guarantee that the <code>finally</code> block is always executed after the <code>try</code> block? <em>Because it is impossible.</em> It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the <code>try</code> block but before execution of the <code>finally</code> block. There is nothing the JLS can do to avoid this.</p>\n\n<p>Thus, any software which for their proper behaviour depends on <code>finally</code> blocks always being executed after their <code>try</code> blocks complete are bugged.</p>\n\n<p><code>return</code> instructions in the <code>try</code> block are irrelevant to this issue. If execution reaches code after the <code>try</code>-<code>catch</code>-<code>finally</code> it is guaranteed that the <code>finally</code> block will have been executed before, with or without <code>return</code> instructions inside the <code>try</code> block.</p>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1583586856,"creation_date":1458490842,"answer_id":36116269,"question_id":65035,"body_markdown":"I tried this,\r\nIt is single threaded.\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\t\tObject obj = new Object();\r\n\t\ttry {\r\n\t\t\tsynchronized (obj) {\r\n\t\t\t\tobj.wait();\r\n            \tSystem.out.println(&quot;after wait()&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception ignored) {\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;finally&quot;);\r\n\t    }\r\n    }\r\n\r\nThe `main` `Thread` will be on `wait` state forever, hence *`finally` will never be called*,\r\n\r\nso console output will not `print` `String`: after `wait()` or `finally`\r\n\r\nAgreed with @Stephen C, the above example is one of the 3rd case mention [here][1]:\r\n\r\nAdding some more such infinite loop possibilities in following code:\r\n\r\n    // import java.util.concurrent.Semaphore;\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n        \t// Thread.sleep(Long.MAX_VALUE);\r\n        \t// Thread.currentThread().join();\r\n        \t// new Semaphore(0).acquire();\r\n        \t// while (true){}\r\n            System.out.println(&quot;after sleep join semaphore exit infinite while loop&quot;);\r\n        } catch (Exception ignored) {\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\n\r\nCase 2: If the JVM crashes first\r\n\r\n\r\n    import sun.misc.Unsafe;\r\n    import java.lang.reflect.Field;\r\n\r\n    public static void main(String args[]) {\r\n    \ttry {\r\n        \tunsafeMethod();\r\n            //Runtime.getRuntime().halt(123);\r\n            System.out.println(&quot;After Jvm Crash!&quot;);\r\n     \t} catch (Exception e) {\r\n        } finally {\r\n        \tSystem.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n    \r\n    private static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\r\n    \tField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        f.setAccessible(true);\r\n        Unsafe unsafe = (Unsafe) f.get(null);\r\n        unsafe.putAddress(0, 0);\r\n    }\r\n\r\nRef: https://stackoverflow.com/q/65200/2987755\r\n\r\n\r\nCase 6: If `finally` block is going to be executed by daemon `Thread` and all other non-daemon `Threads` exit before `finally` is called.\r\n\r\n\r\n    public static void main(String args[]) {\r\n        Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    printThreads(&quot;Daemon Thread printing&quot;);\r\n                    // just to ensure this thread will live longer than main thread\r\n                    Thread.sleep(10000);\r\n                } catch (Exception e) {\r\n                } finally {\r\n                    System.out.println(&quot;finally&quot;);\r\n                }\r\n            }\r\n        };\r\n        Thread daemonThread = new Thread(runnable);\r\n        daemonThread.setDaemon(Boolean.TRUE);\r\n        daemonThread.setName(&quot;My Daemon Thread&quot;);\r\n        daemonThread.start();\r\n        printThreads(&quot;main Thread Printing&quot;);\r\n    }\r\n\r\n    private static synchronized void printThreads(String str) {\r\n        System.out.println(str);\r\n        int threadCount = 0;\r\n        Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\r\n        for (Thread t : threadSet) {\r\n            if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\r\n                System.out.println(&quot;Thread :&quot; + t + &quot;:&quot; + &quot;state:&quot; + t.getState());\r\n                ++threadCount;\r\n            }\r\n        }\r\n        System.out.println(&quot;Thread count started by Main thread:&quot; + threadCount);\r\n        System.out.println(&quot;-------------------------------------------------&quot;);\r\n    }\r\n\r\noutput: This does not print &quot;finally&quot; which implies &quot;Finally block&quot; in &quot;daemon thread&quot; did not execute  \r\n\r\n&gt;     main Thread Printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \r\n&gt;     Thread :Thread[main,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \r\n&gt;     Thread count started by Main thread:3  \r\n&gt;     -------------------------------------------------  \r\n&gt;     Daemon Thread printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \r\n&gt;     Thread count started by Main thread:2  \r\n&gt;     -------------------------------------------------  \r\n&gt;     \r\n&gt;     Process finished with exit code 0\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65049/2987755","title":"Does a finally block always get executed in Java?","body":"<p>I tried this,\nIt is single threaded.</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    Object obj = new Object();\n    try {\n        synchronized (obj) {\n            obj.wait();\n            System.out.println(\"after wait()\");\n        }\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>The <code>main</code> <code>Thread</code> will be on <code>wait</code> state forever, hence <em><code>finally</code> will never be called</em>,</p>\n\n<p>so console output will not <code>print</code> <code>String</code>: after <code>wait()</code> or <code>finally</code></p>\n\n<p>Agreed with @Stephen C, the above example is one of the 3rd case mention <a href=\"https://stackoverflow.com/a/65049/2987755\">here</a>:</p>\n\n<p>Adding some more such infinite loop possibilities in following code:</p>\n\n<pre><code>// import java.util.concurrent.Semaphore;\n\npublic static void main(String[] args) {\n    try {\n        // Thread.sleep(Long.MAX_VALUE);\n        // Thread.currentThread().join();\n        // new Semaphore(0).acquire();\n        // while (true){}\n        System.out.println(\"after sleep join semaphore exit infinite while loop\");\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Case 2: If the JVM crashes first</p>\n\n<pre><code>import sun.misc.Unsafe;\nimport java.lang.reflect.Field;\n\npublic static void main(String args[]) {\n    try {\n        unsafeMethod();\n        //Runtime.getRuntime().halt(123);\n        System.out.println(\"After Jvm Crash!\");\n    } catch (Exception e) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n\nprivate static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\n    Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n    f.setAccessible(true);\n    Unsafe unsafe = (Unsafe) f.get(null);\n    unsafe.putAddress(0, 0);\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://stackoverflow.com/q/65200/2987755\">How do you crash a JVM?</a></p>\n\n<p>Case 6: If <code>finally</code> block is going to be executed by daemon <code>Thread</code> and all other non-daemon <code>Threads</code> exit before <code>finally</code> is called.</p>\n\n<pre><code>public static void main(String args[]) {\n    Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                printThreads(\"Daemon Thread printing\");\n                // just to ensure this thread will live longer than main thread\n                Thread.sleep(10000);\n            } catch (Exception e) {\n            } finally {\n                System.out.println(\"finally\");\n            }\n        }\n    };\n    Thread daemonThread = new Thread(runnable);\n    daemonThread.setDaemon(Boolean.TRUE);\n    daemonThread.setName(\"My Daemon Thread\");\n    daemonThread.start();\n    printThreads(\"main Thread Printing\");\n}\n\nprivate static synchronized void printThreads(String str) {\n    System.out.println(str);\n    int threadCount = 0;\n    Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n    for (Thread t : threadSet) {\n        if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\n            System.out.println(\"Thread :\" + t + \":\" + \"state:\" + t.getState());\n            ++threadCount;\n        }\n    }\n    System.out.println(\"Thread count started by Main thread:\" + threadCount);\n    System.out.println(\"-------------------------------------------------\");\n}\n</code></pre>\n\n<p>output: This does not print \"finally\" which implies \"Finally block\" in \"daemon thread\" did not execute  </p>\n\n<blockquote>\n<pre><code>main Thread Printing  \nThread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \nThread :Thread[main,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \nThread count started by Main thread:3  \n-------------------------------------------------  \nDaemon Thread printing  \nThread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \nThread count started by Main thread:2  \n-------------------------------------------------  \n\nProcess finished with exit code 0\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565379,"creation_date":1461881492,"answer_id":36926373,"question_id":65035,"body_markdown":"`finally` can also be exited prematurely if an `Exception` is `throw`n inside a *nested `finally` block*. The compiler will warn you that the `finally` block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the `throw` is not behind a conditional statement or inside a loop.\r\n\r\n    try {\r\n    } finally {\r\n       try {\r\n       } finally {\r\n          // if (someCondition) --&gt; no error because of unreachable code\r\n          throw new RunTimeException();\r\n       }\r\n\r\n       int a = 5; // unreachable code\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> can also be exited prematurely if an <code>Exception</code> is <code>throw</code>n inside a <em>nested <code>finally</code> block</em>. The compiler will warn you that the <code>finally</code> block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the <code>throw</code> is not behind a conditional statement or inside a loop.</p>\n<pre><code>try {\n} finally {\n   try {\n   } finally {\n      // if (someCondition) --&gt; no error because of unreachable code\n      throw new RunTimeException();\n   }\n\n   int a = 5; // unreachable code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8756575,"reputation":67,"user_id":6547976,"display_name":"dibo"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1467644033,"creation_date":1467644033,"answer_id":38187529,"question_id":65035,"body_markdown":"Same with the following code:\r\n\r\n    static int f() {\r\n        while (true) {\r\n            try {\r\n                return 1;\r\n            } finally {\r\n                break;\r\n            }\r\n        }\r\n        return 2;\r\n    }\r\n\r\nf will return 2!\r\n\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Same with the following code:</p>\n\n<pre><code>static int f() {\n    while (true) {\n        try {\n            return 1;\n        } finally {\n            break;\n        }\n    }\n    return 2;\n}\n</code></pre>\n\n<p>f will return 2!</p>\n"},{"tags":[],"owner":{"account_id":7009798,"reputation":2792,"user_id":5373110,"accept_rate":67,"display_name":"Meet Vora"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1688562056,"creation_date":1471071638,"answer_id":38930134,"question_id":65035,"body_markdown":"&gt; Answer is simple **YES**.\r\n\r\n**INPUT:**\r\n\r\n    try{\r\n    \tint divideByZeroException = 5 / 0;\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;catch&quot;);\r\n        return;    // also tried with break; in switch-case, got same output\r\n    } finally {\r\n        System.out.println(&quot;finally&quot;);\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    catch\r\n    finally","title":"Does a finally block always get executed in Java?","body":"<blockquote>\n<p>Answer is simple <strong>YES</strong>.</p>\n</blockquote>\n<p><strong>INPUT:</strong></p>\n<pre><code>try{\n    int divideByZeroException = 5 / 0;\n} catch (Exception e) {\n    System.out.println(&quot;catch&quot;);\n    return;    // also tried with break; in switch-case, got same output\n} finally {\n    System.out.println(&quot;finally&quot;);\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>catch\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6586984,"reputation":181,"user_id":5089473,"accept_rate":0,"display_name":"Akash Manngroliya"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565331,"creation_date":1473744990,"answer_id":39462828,"question_id":65035,"body_markdown":"Yes, it will always be called but in one situation it is not called when you use `System.exit()`.\r\n\r\n    try {\r\n        // risky code\r\n    } catch (Exception e) {\r\n        // exception handling code\r\n    }\r\n    finally() {\r\n        // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will always be called but in one situation it is not called when you use <code>System.exit()</code>.</p>\n<pre><code>try {\n    // risky code\n} catch (Exception e) {\n    // exception handling code\n}\nfinally() {\n    // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495282569,"creation_date":1495282569,"answer_id":44085757,"question_id":65035,"body_markdown":" 1. Finally  Block always get executed. Unless and until\r\n    **System.exit()** statement exists there (first statement in finally block).\r\n 2. If **system.exit()** is first statement then finally block won&#39;t get executed and control come out of the finally block.\r\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.\r\n\r\n ","title":"Does a finally block always get executed in Java?","body":"<ol>\n<li>Finally  Block always get executed. Unless and until\n<strong>System.exit()</strong> statement exists there (first statement in finally block).</li>\n<li>If <strong>system.exit()</strong> is first statement then finally block won't get executed and control come out of the finally block.\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10160323,"reputation":522,"user_id":7504001,"accept_rate":40,"display_name":"Vikas Suryawanshi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496925700,"creation_date":1496925700,"answer_id":44436111,"question_id":65035,"body_markdown":"If you don&#39;t handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean&#39;s termination of program due to these following reasons..\r\n\r\n1. By causing a fatal error that causes the process to abort.\r\n\r\n2. Termination of program due to memory corrupt.\r\n\r\n3. By calling System.exit()\r\n\r\n4. If program goes into infinity loop.","title":"Does a finally block always get executed in Java?","body":"<p>If you don't handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean's termination of program due to these following reasons..</p>\n\n<ol>\n<li><p>By causing a fatal error that causes the process to abort.</p></li>\n<li><p>Termination of program due to memory corrupt.</p></li>\n<li><p>By calling System.exit()</p></li>\n<li><p>If program goes into infinity loop.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8192283,"reputation":724,"user_id":6826372,"accept_rate":75,"display_name":"Sandip Solanki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510220501,"creation_date":1510220501,"answer_id":47198461,"question_id":65035,"body_markdown":"The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.\r\n\r\nLet me try to answer your question in the easiest possible way.\r\n\r\n**Rule 1** : The finally block always run\r\n (Though there are exceptions to it. But let&#39;s stick to this for sometime.)\r\n\r\n**Rule 2** : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.\r\n\r\nIn case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.\r\n\r\nIn case there&#39;s a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.\r\n\r\nYou can refer a better explanation here : http://msdn.microsoft.com/en-us/.... the concept is mostly same in all the high level languages.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.</p>\n\n<p>Let me try to answer your question in the easiest possible way.</p>\n\n<p><strong>Rule 1</strong> : The finally block always run\n (Though there are exceptions to it. But let's stick to this for sometime.)</p>\n\n<p><strong>Rule 2</strong> : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.</p>\n\n<p>In case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.</p>\n\n<p>In case there's a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.</p>\n\n<p>You can refer a better explanation here : <a href=\"http://msdn.microsoft.com/en-us/\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/</a>.... the concept is mostly same in all the high level languages.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513438596,"creation_date":1513438596,"answer_id":47847227,"question_id":65035,"body_markdown":"Yes, because **no control statement** can prevent `finally` from being executed.\r\n\r\nHere is a reference example, where all code blocks will be executed:\r\n\r\n    | x | Current result | Code \r\n    |---|----------------|------ - - -\r\n    |   |                |     \r\n    |   |                | public static int finallyTest() {\r\n    | 3 |                |     int x = 3;\r\n    |   |                |     try {\r\n    |   |                |        try {\r\n    | 4 |                |             x++;\r\n    | 4 | return 4       |             return x;\r\n    |   |                |         } finally {\r\n    | 3 |                |             x--;\r\n    | 3 | throw          |             throw new RuntimeException(&quot;Ahh!&quot;);\r\n    |   |                |         }\r\n    |   |                |     } catch (RuntimeException e) {\r\n    | 4 | return 4       |         return ++x;\r\n    |   |                |     } finally {\r\n    | 3 |                |         x--;\r\n    |   |                |     }\r\n    |   |                | }\r\n    |   |                |\r\n    |---|----------------|------ - - -\r\n    |   | Result: 4      |\r\n\r\nIn the variant below, `return x;` will be skipped. Result is still `4`:\r\n\r\n    public static int finallyTest() {\r\n        int x = 3;\r\n        try {\r\n            try {\r\n                x++;\r\n                if (true) throw new RuntimeException(&quot;Ahh!&quot;);\r\n                return x; // skipped\r\n            } finally {\r\n                x--;\r\n            }\r\n        } catch (RuntimeException e) {\r\n            return ++x;\r\n        } finally {\r\n            x--;\r\n        }\r\n    }\r\n\r\nReferences, of course, track their status. This example returns a reference with `value = 4`:\r\n\r\n    static class IntRef { public int value; }\r\n    public static IntRef finallyTest() {\r\n        IntRef x = new IntRef();\r\n        x.value = 3;\r\n        try {\r\n            return x;\r\n        } finally {\r\n            x.value++; // will be tracked even after return\r\n        }\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, because <strong>no control statement</strong> can prevent <code>finally</code> from being executed.</p>\n\n<p>Here is a reference example, where all code blocks will be executed:</p>\n\n<pre><code>| x | Current result | Code \n|---|----------------|------ - - -\n|   |                |     \n|   |                | public static int finallyTest() {\n| 3 |                |     int x = 3;\n|   |                |     try {\n|   |                |        try {\n| 4 |                |             x++;\n| 4 | return 4       |             return x;\n|   |                |         } finally {\n| 3 |                |             x--;\n| 3 | throw          |             throw new RuntimeException(\"Ahh!\");\n|   |                |         }\n|   |                |     } catch (RuntimeException e) {\n| 4 | return 4       |         return ++x;\n|   |                |     } finally {\n| 3 |                |         x--;\n|   |                |     }\n|   |                | }\n|   |                |\n|---|----------------|------ - - -\n|   | Result: 4      |\n</code></pre>\n\n<p>In the variant below, <code>return x;</code> will be skipped. Result is still <code>4</code>:</p>\n\n<pre><code>public static int finallyTest() {\n    int x = 3;\n    try {\n        try {\n            x++;\n            if (true) throw new RuntimeException(\"Ahh!\");\n            return x; // skipped\n        } finally {\n            x--;\n        }\n    } catch (RuntimeException e) {\n        return ++x;\n    } finally {\n        x--;\n    }\n}\n</code></pre>\n\n<p>References, of course, track their status. This example returns a reference with <code>value = 4</code>:</p>\n\n<pre><code>static class IntRef { public int value; }\npublic static IntRef finallyTest() {\n    IntRef x = new IntRef();\n    x.value = 3;\n    try {\n        return x;\n    } finally {\n        x.value++; // will be tracked even after return\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1522685172,"creation_date":1522685172,"answer_id":49614632,"question_id":65035,"body_markdown":"Yes, it is written [here][1]\r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it is written <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3398891,"reputation":339,"user_id":2851699,"accept_rate":100,"display_name":"Pradeep Kumaresan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523979359,"creation_date":1523360014,"answer_id":49752573,"question_id":65035,"body_markdown":"Adding to [@vibhash&#39;s answer][1] as no other answer explains what happens in the case of a mutable object like the one below.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(test().toString());\r\n    }\r\n\r\n    public static StringBuffer test() {\r\n        StringBuffer s = new StringBuffer();\r\n        try {\r\n            s.append(&quot;sb&quot;);\r\n            return s;\r\n        } finally {\r\n            s.append(&quot;updated &quot;);\r\n        }\r\n    }\r\nWill output\r\n&gt;     sbupdated \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/296053/4298200","title":"Does a finally block always get executed in Java?","body":"<p>Adding to <a href=\"https://stackoverflow.com/a/296053/4298200\">@vibhash's answer</a> as no other answer explains what happens in the case of a mutable object like the one below.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(test().toString());\n}\n\npublic static StringBuffer test() {\n    StringBuffer s = new StringBuffer();\n    try {\n        s.append(\"sb\");\n        return s;\n    } finally {\n        s.append(\"updated \");\n    }\n}\n</code></pre>\n\n<p>Will output</p>\n\n<blockquote>\n<pre><code>sbupdated \n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11045803,"reputation":1246,"user_id":8111997,"display_name":"Poorna Senani Gamage"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523858469,"creation_date":1523858469,"answer_id":49850492,"question_id":65035,"body_markdown":"`try`- `catch`- `finally` are the key words for using exception handling case.&lt;br&gt; \r\nAs normal explanotory\r\n\r\n    try {\r\n    \t //code statements\r\n         //exception thrown here\r\n    \t //lines not reached if exception thrown\r\n    } catch (Exception e) {\r\n    \t//lines reached only when exception is thrown\r\n    } finally {\r\n    \t// always executed when the try block is exited\r\n    \t//independent of an exception thrown or not\r\n    }\r\n\r\n The finally block  prevent executing...\r\n\r\n - When you called `System.exit(0);`\r\n - If JVM exits.\r\n - Errors in the JVM\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>try</code>- <code>catch</code>- <code>finally</code> are the key words for using exception handling case.<br> \nAs normal explanotory</p>\n\n<pre><code>try {\n     //code statements\n     //exception thrown here\n     //lines not reached if exception thrown\n} catch (Exception e) {\n    //lines reached only when exception is thrown\n} finally {\n    // always executed when the try block is exited\n    //independent of an exception thrown or not\n}\n</code></pre>\n\n<p>The finally block  prevent executing...</p>\n\n<ul>\n<li>When you called <code>System.exit(0);</code></li>\n<li>If JVM exits.</li>\n<li>Errors in the JVM</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8995792,"reputation":304,"user_id":6706261,"display_name":"aliceangel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524268652,"creation_date":1524268652,"answer_id":49951065,"question_id":65035,"body_markdown":"finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.","title":"Does a finally block always get executed in Java?","body":"<p>finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.</p>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1585597372,"creation_date":1525077405,"answer_id":50096809,"question_id":65035,"body_markdown":"Consider the following program:\r\n\r\n    public class SomeTest {\r\n    \r\n        private static StringBuilder sb = new StringBuilder();\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            System.out.println(someString());\r\n            System.out.println(&quot;---AGAIN---&quot;);\r\n            System.out.println(someString());\r\n            System.out.println(&quot;---PRINT THE RESULT---&quot;);\r\n            System.out.println(sb.toString());\r\n        }\r\n    \r\n        private static String someString() {\r\n    \r\n            try {\r\n                sb.append(&quot;-abc-&quot;);\r\n                return sb.toString();\r\n    \r\n            } finally {\r\n                sb.append(&quot;xyz&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAs of Java 1.8.162, the above code block gives the following output:\r\n\r\n    -abc-\r\n    ---AGAIN---\r\n    -abc-xyz-abc-\r\n    ---PRINT THE RESULT---\r\n    -abc-xyz-abc-xyz\r\n\r\n\r\nthis means that using `finally` to free up objects is a good practice like the following code:\r\n\r\n    private static String someString() {\r\n    \r\n        StringBuilder sb = new StringBuilder();\r\n    \r\n        try {\r\n            sb.append(&quot;abc&quot;);\r\n            return sb.toString();\r\n    \r\n        } finally {\r\n            sb = null; // Just an example, but you can close streams or DB connections this way.\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Consider the following program:</p>\n\n<pre><code>public class SomeTest {\n\n    private static StringBuilder sb = new StringBuilder();\n\n    public static void main(String args[]) {\n\n        System.out.println(someString());\n        System.out.println(\"---AGAIN---\");\n        System.out.println(someString());\n        System.out.println(\"---PRINT THE RESULT---\");\n        System.out.println(sb.toString());\n    }\n\n    private static String someString() {\n\n        try {\n            sb.append(\"-abc-\");\n            return sb.toString();\n\n        } finally {\n            sb.append(\"xyz\");\n        }\n    }\n}\n</code></pre>\n\n<p>As of Java 1.8.162, the above code block gives the following output:</p>\n\n<pre><code>-abc-\n---AGAIN---\n-abc-xyz-abc-\n---PRINT THE RESULT---\n-abc-xyz-abc-xyz\n</code></pre>\n\n<p>this means that using <code>finally</code> to free up objects is a good practice like the following code:</p>\n\n<pre><code>private static String someString() {\n\n    StringBuilder sb = new StringBuilder();\n\n    try {\n        sb.append(\"abc\");\n        return sb.toString();\n\n    } finally {\n        sb = null; // Just an example, but you can close streams or DB connections this way.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9334294,"reputation":47,"user_id":6929015,"display_name":"Rubin Luitel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1525902727,"creation_date":1525902727,"answer_id":50262581,"question_id":65035,"body_markdown":"Finally is always called at the end\r\n\r\nwhen you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.\r\n\r\nFinally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always called at the end</p>\n\n<p>when you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.</p>\n\n<p>Finally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565214838,"creation_date":1565214838,"answer_id":57402744,"question_id":65035,"body_markdown":"Here are some conditions which can bypass a finally block:\r\n\r\n1. If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on [sun tutorial](http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html)  \r\n2. Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() ([some good blog](http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html)). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for &quot;housekeeping&quot; tasks, such as a background thread that periodically removes expired entries from an in-memory cache ([source](http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601))\r\n\r\nLast non-daemon thread exits example:  \r\n\r\n\tpublic class TestDaemon {\r\n\t\tprivate static Runnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Is alive&quot;);\r\n\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t\t// throw new RuntimeException();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Throwable t) {\r\n\t\t\t\t\tt.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tSystem.out.println(&quot;This will never be executed.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\tThread daemon = new Thread(runnable);\r\n\t\t\tdaemon.setDaemon(true);\r\n\t\t\tdaemon.start();\r\n\t\t\tThread.sleep(100);\r\n\t\t\t// daemon.stop();\r\n\t\t\tSystem.out.println(&quot;Last non-daemon thread exits.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nOutput:  \r\n\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tLast non-daemon thread exits.\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Here are some conditions which can bypass a finally block:</p>\n\n<ol>\n<li>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"nofollow noreferrer\">sun tutorial</a>  </li>\n<li>Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() (<a href=\"http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html\" rel=\"nofollow noreferrer\">some good blog</a>). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for \"housekeeping\" tasks, such as a background thread that periodically removes expired entries from an in-memory cache (<a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">source</a>)</li>\n</ol>\n\n<p>Last non-daemon thread exits example:  </p>\n\n<pre><code>public class TestDaemon {\n    private static Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                while (true) {\n                    System.out.println(\"Is alive\");\n                    Thread.sleep(10);\n                    // throw new RuntimeException();\n                }\n            } catch (Throwable t) {\n                t.printStackTrace();\n            } finally {\n                System.out.println(\"This will never be executed.\");\n            }\n        }\n    };\n\n    public static void main(String[] args) throws InterruptedException {\n        Thread daemon = new Thread(runnable);\n        daemon.setDaemon(true);\n        daemon.start();\n        Thread.sleep(100);\n        // daemon.stop();\n        System.out.println(\"Last non-daemon thread exits.\");\n    }\n}\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>Is alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nLast non-daemon thread exits.\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1624473053,"creation_date":1580131461,"answer_id":59932063,"question_id":65035,"body_markdown":"`finally` block is always executed and before returning `x`&#39;s (calculated) value.\r\n\r\n    \r\n    System.out.println(&quot;x value from foo() = &quot; + foo());\r\n\r\n    ...\r\n\r\n    int foo() {\r\n      int x = 2;\r\n      try {\r\n        return x++;\r\n      } finally {\r\n        System.out.println(&quot;x value in finally = &quot; + x);\r\n      }\r\n    }\r\n\r\nOutput:\r\n   \r\n &gt; x value in finally = 3  \r\n &gt; x value from foo() = 2","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> block is always executed and before returning <code>x</code>'s (calculated) value.</p>\n<pre><code>System.out.println(&quot;x value from foo() = &quot; + foo());\n\n...\n\nint foo() {\n  int x = 2;\n  try {\n    return x++;\n  } finally {\n    System.out.println(&quot;x value in finally = &quot; + x);\n  }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>x value in finally = 3<br />\nx value from foo() = 2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3413345,"reputation":361,"user_id":2862834,"display_name":"Youngrok Ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581137125,"creation_date":1581137125,"answer_id":60123997,"question_id":65035,"body_markdown":"try-with-resoruce example\r\n\r\n    static class IamAutoCloseable implements AutoCloseable {\r\n        private final String name;\r\n        IamAutoCloseable(String name) {\r\n            this.name = name;\r\n        }\r\n        public void close() {\r\n            System.out.println(name);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void withResourceFinally() {\r\n        try (IamAutoCloseable closeable1 = new IamAutoCloseable(&quot;closeable1&quot;);\r\n             IamAutoCloseable closeable2 = new IamAutoCloseable(&quot;closeable2&quot;)) {\r\n            System.out.println(&quot;try&quot;);\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\nTest output:\r\n\r\n    try\r\n    closeable2\r\n    closeable1\r\n    finally\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>try-with-resoruce example</p>\n\n<pre><code>static class IamAutoCloseable implements AutoCloseable {\n    private final String name;\n    IamAutoCloseable(String name) {\n        this.name = name;\n    }\n    public void close() {\n        System.out.println(name);\n    }\n}\n\n@Test\npublic void withResourceFinally() {\n    try (IamAutoCloseable closeable1 = new IamAutoCloseable(\"closeable1\");\n         IamAutoCloseable closeable2 = new IamAutoCloseable(\"closeable2\")) {\n        System.out.println(\"try\");\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Test output:</p>\n\n<pre><code>try\ncloseable2\ncloseable1\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641568744,"creation_date":1641568744,"answer_id":70623392,"question_id":65035,"body_markdown":"I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am _sure_ Eclipse and NetBeans has support for the same feature.)\r\n\r\nIf I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!\r\n\r\nTo answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method `something()` does not (a) call Java method `System.exit(int)` or (b) C function `exit(int)` / `abort()` via JNI or (c) do something crazy like call `kill -9 $PID` on itself(!).","title":"Does a finally block always get executed in Java?","body":"<p>I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am <em>sure</em> Eclipse and NetBeans has support for the same feature.)</p>\n<p>If I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!</p>\n<p>To answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method <code>something()</code> does not (a) call Java method <code>System.exit(int)</code> or (b) C function <code>exit(int)</code> / <code>abort()</code> via JNI or (c) do something crazy like call <code>kill -9 $PID</code> on itself(!).</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643062515,"creation_date":1643062515,"answer_id":70841158,"question_id":65035,"body_markdown":"The [accepted answer][1] is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).\r\n\r\nAssume the following code:\r\n\r\n    private final Lock m_Lock = new ReentrantLock();\r\n    …\r\n    public final SomeObject doSomething( final SomeObject arg )\r\n    {\r\n      final SomeObject retValue;\r\n      try\r\n      {\r\n        lock.lock();\r\n        retValue = SomeObject( arg );\r\n      }\r\n      finally\r\n      {\r\n        out.println( &quot;Entering finally block&quot;);\r\n        callingAnotherMethod( arg, retValue );\r\n        lock.unlock();\r\n      }\r\n      \r\n      return retValue;\r\n    }\r\n    …\r\n    try\r\n    {\r\n       final var result = doSomething( new SomeObject() );\r\n    }\r\n    catch( final StackOverflowError e ) { /* Deliberately ignored */ }\r\n\r\nCalling the method `doSomething()` will cause a `StackOverflowError` nearly immediately.\r\n\r\nAnd the `lock` will not be released!\r\n\r\nBut how could this happen when the `finally` block is always executed (with the exceptions already listed in the [accepted answer][1])?\r\n\r\nThat is because there is *no guarantee* made that *all* statements in the `finally` block are *really* executed!\r\n    \r\nThis would be obvious if there would be a call to `System.exit()` or a `throws` statement before the call to `lock.unlock()`.\r\n\r\nBut there is nothing like that in the sample code …\r\n\r\nAside that the two other method calls in the `finally` block before the call to `lock.unlock()` will cause another `StackOverflowError` …\r\n\r\nAnd voil&#224;, the lock is not released!\r\n\r\nAlthough the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the `finally` block …\r\n\r\nFunny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.\r\n\r\nBut you still have to make sure that the `finally` block always terminates normally, otherwise it might not matter if (that) it always get executed … \r\n\r\n  [1]: https://stackoverflow.com/a/65049/1554195\r\n","title":"Does a finally block always get executed in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a> is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).</p>\n<p>Assume the following code:</p>\n<pre><code>private final Lock m_Lock = new ReentrantLock();\n…\npublic final SomeObject doSomething( final SomeObject arg )\n{\n  final SomeObject retValue;\n  try\n  {\n    lock.lock();\n    retValue = SomeObject( arg );\n  }\n  finally\n  {\n    out.println( &quot;Entering finally block&quot;);\n    callingAnotherMethod( arg, retValue );\n    lock.unlock();\n  }\n  \n  return retValue;\n}\n…\ntry\n{\n   final var result = doSomething( new SomeObject() );\n}\ncatch( final StackOverflowError e ) { /* Deliberately ignored */ }\n</code></pre>\n<p>Calling the method <code>doSomething()</code> will cause a <code>StackOverflowError</code> nearly immediately.</p>\n<p>And the <code>lock</code> will not be released!</p>\n<p>But how could this happen when the <code>finally</code> block is always executed (with the exceptions already listed in the <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a>)?</p>\n<p>That is because there is <em>no guarantee</em> made that <em>all</em> statements in the <code>finally</code> block are <em>really</em> executed!</p>\n<p>This would be obvious if there would be a call to <code>System.exit()</code> or a <code>throws</code> statement before the call to <code>lock.unlock()</code>.</p>\n<p>But there is nothing like that in the sample code …</p>\n<p>Aside that the two other method calls in the <code>finally</code> block before the call to <code>lock.unlock()</code> will cause another <code>StackOverflowError</code> …</p>\n<p>And voilà, the lock is not released!</p>\n<p>Although the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the <code>finally</code> block …</p>\n<p>Funny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.</p>\n<p>But you still have to make sure that the <code>finally</code> block always terminates normally, otherwise it might not matter if (that) it always get executed …</p>\n"},{"tags":[],"owner":{"account_id":28948355,"reputation":47,"user_id":22173512,"display_name":"Ammar Poursadegh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688565793,"creation_date":1688565793,"answer_id":76621132,"question_id":65035,"body_markdown":"the total list of situations are like :\r\n1. &#39;System.exit()&#39; method call within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n2. Infinite loops or endless operations within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n3. Power failures, hardware failures, or abrupt termination of the program may prevent &#39;finally&#39; block from executing.\r\n4. JVM crashes may prevent &#39;finally&#39; block from executing.\r\n5. &#39;Thread.stop()&#39; method call can prevent &#39;finally&#39; block from executing.\r\n6. Errors in JVM or operating system can prevent &#39;finally&#39; block from executing.\r\n7. &#39;StackOverflowError&#39; or &#39;OutOfMemoryError&#39; can prevent &#39;finally&#39; block from executing.\r\n8. &#39;IllegalMonitorStateException&#39; can prevent &#39;finally&#39; block from executing in the context of a synchronized block.\r\n9. &#39;SecurityException&#39; or other security-related exceptions can prevent &#39;finally&#39; block from executing.\r\n10. Bugs or logical errors in the program can prevent &#39;finally&#39; block from executing correctly.\r\n\te.g:\r\n``` java\r\ntry {\r\n\t Object obj = null;\r\n\tobj.toString(); // NullPointerException error\r\n} catch (Exception e) {\r\n\t// Exception handling...\r\n} finally {\r\n\t// This may not execute correctly due to the NullPointerException error\r\n\tSystem.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\r\n}\r\n\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>the total list of situations are like :</p>\n<ol>\n<li>'System.exit()' method call within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Infinite loops or endless operations within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Power failures, hardware failures, or abrupt termination of the program may prevent 'finally' block from executing.</li>\n<li>JVM crashes may prevent 'finally' block from executing.</li>\n<li>'Thread.stop()' method call can prevent 'finally' block from executing.</li>\n<li>Errors in JVM or operating system can prevent 'finally' block from executing.</li>\n<li>'StackOverflowError' or 'OutOfMemoryError' can prevent 'finally' block from executing.</li>\n<li>'IllegalMonitorStateException' can prevent 'finally' block from executing in the context of a synchronized block.</li>\n<li>'SecurityException' or other security-related exceptions can prevent 'finally' block from executing.</li>\n<li>Bugs or logical errors in the program can prevent 'finally' block from executing correctly.\ne.g:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     Object obj = null;\n    obj.toString(); // NullPointerException error\n} catch (Exception e) {\n    // Exception handling...\n} finally {\n    // This may not execute correctly due to the NullPointerException error\n    System.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\n}\n\n</code></pre>\n"}],"owner":{"account_id":474974,"reputation":27310,"user_id":885027,"accept_rate":100,"display_name":"jonny five"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607104,"favorite_count":0,"down_vote_count":21,"up_vote_count":2705,"accepted_answer_id":65049,"answer_count":52,"score":2684,"last_activity_date":1688565793,"creation_date":1221500634,"question_id":65035,"body_markdown":"Considering this code, can I be *absolutely sure* that the `finally` block always executes, no matter what `something()` is?\r\n\r\n    try {  \r\n        something();  \r\n        return success;  \r\n    }  \r\n    catch (Exception e) {   \r\n        return failure;  \r\n    }  \r\n    finally {  \r\n        System.out.println(&quot;I don&#39;t know if this will get printed out&quot;);\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Considering this code, can I be <em>absolutely sure</em> that the <code>finally</code> block always executes, no matter what <code>something()</code> is?</p>\n\n<pre><code>try {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"I don't know if this will get printed out\");\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-6.x"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688562267,"post_id":76620187,"comment_id":135089711,"body_markdown":"Hello, it&#39;s not clear - what is your question?","body":"Hello, it&#39;s not clear - what is your question?"}],"owner":{"account_id":28953303,"reputation":1,"user_id":22177379,"display_name":"david fortin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565289,"creation_date":1688559036,"question_id":76620187,"body_markdown":"Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I am adding the definition in application.yml it is working fine\r\n\r\n    hibernate:\r\n      type:\r\n        json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\r\n        # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n","title":"Auto-configure Hibernate6 with a JsonFormatMapper","body":"<p>Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper</p>\n<p>When I am adding the definition in application.yml it is working fine</p>\n<pre><code>hibernate:\n  type:\n    json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\n</code></pre>\n"},{"tags":["java","android","exception","arraylist","iteration"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1457133612,"post_id":6866238,"comment_id":59284985,"body_markdown":"Possible duplicate of [Concurrent Modification exception](http://stackoverflow.com/questions/1496180/concurrent-modification-exception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1496180/concurrent-modification-exception\">Concurrent Modification exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1311890209,"creation_date":1311890209,"answer_id":6866267,"question_id":6866238,"body_markdown":"You&#39;re not allowed to add an entry to a collection while you&#39;re iterating over it.\r\n\r\nOne option is to create a new `List&lt;Element&gt;` for new entries while you&#39;re iterating over `mElements`, and then add all the new ones to `mElement` afterwards (`mElements.addAll(newElements)`). Of course, that means you won&#39;t have executed the loop body for those new elements - is that a problem?\r\n\r\nAt the same time, I&#39;d recommend that you update your code to use the [enhanced for loop][1]:\r\n\r\n    for (Element element : mElements) {\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You're not allowed to add an entry to a collection while you're iterating over it.</p>\n\n<p>One option is to create a new <code>List&lt;Element&gt;</code> for new entries while you're iterating over <code>mElements</code>, and then add all the new ones to <code>mElement</code> afterwards (<code>mElements.addAll(newElements)</code>). Of course, that means you won't have executed the loop body for those new elements - is that a problem?</p>\n\n<p>At the same time, I'd recommend that you update your code to use the <a href=\"http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html\" rel=\"noreferrer\">enhanced for loop</a>:</p>\n\n<pre><code>for (Element element : mElements) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":423186,"reputation":7475,"user_id":802421,"accept_rate":78,"display_name":"user802421"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1311890549,"creation_date":1311890236,"answer_id":6866271,"question_id":6866238,"body_markdown":"[ConcurrentModificationException][1] occurs when you modify the list (by adding or removing elements) while traversing a list with `Iterator`.\r\n\r\nTry \r\n\r\n    List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\r\n    for(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\r\n        Element element = it.next();\r\n        if(...) {  \r\n            //irrelevant stuff..\r\n            if(element.cFlag){\r\n                // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                thingsToBeAdd.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                element.cFlag = false;\r\n            }           \r\n        }\r\n    }\r\n    mElements.addAll(thingsToBeAdd );\r\n\r\nAlso you should consider enhanced for each loop as Jon suggested.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"noreferrer\">ConcurrentModificationException</a> occurs when you modify the list (by adding or removing elements) while traversing a list with <code>Iterator</code>.</p>\n\n<p>Try </p>\n\n<pre><code>List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\nfor(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\n    Element element = it.next();\n    if(...) {  \n        //irrelevant stuff..\n        if(element.cFlag){\n            // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            thingsToBeAdd.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n        }           \n    }\n}\nmElements.addAll(thingsToBeAdd );\n</code></pre>\n\n<p>Also you should consider enhanced for each loop as Jon suggested.</p>\n"},{"tags":[],"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311898636,"creation_date":1311898636,"answer_id":6867309,"question_id":6866238,"body_markdown":"adding from list in this case leads to CME, no amount of `synchronized` will let you avoid that. Instead, consider adding using the iterator...\r\n\r\n            for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\r\n                Element element = it.next();\r\n\r\n                if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n                        &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \r\n\r\n                    //irrelevant stuff..\r\n\r\n                    if(element.cFlag){\r\n                        // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        it.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        element.cFlag = false;\r\n\r\n                    }           \r\n                }\r\n            }\r\n\r\n---\r\n\r\nAlso I think it&#39;s somewhat _slippery_ to state like...\r\n\r\n&gt; ...The problem occurs at `Element element = it.next();`\r\n\r\nfor the sake of precision note that above is not guaranteed.\r\n\r\n[API documentation](http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html) points out that this _...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a **best-effort basis**..._\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>adding from list in this case leads to CME, no amount of <code>synchronized</code> will let you avoid that. Instead, consider adding using the iterator...</p>\n\n<pre><code>        for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\n            Element element = it.next();\n\n            if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n                    &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n                //irrelevant stuff..\n\n                if(element.cFlag){\n                    // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    it.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    element.cFlag = false;\n\n                }           \n            }\n        }\n</code></pre>\n\n<hr>\n\n<p>Also I think it's somewhat <em>slippery</em> to state like...</p>\n\n<blockquote>\n  <p>...The problem occurs at <code>Element element = it.next();</code></p>\n</blockquote>\n\n<p>for the sake of precision note that above is not guaranteed.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow\">API documentation</a> points out that this <em>...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a <strong>best-effort basis</strong>...</em></p>\n"},{"tags":[],"owner":{"account_id":892451,"reputation":31936,"user_id":930450,"accept_rate":75,"display_name":"User"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1422450114,"creation_date":1337276657,"answer_id":10640753,"question_id":6866238,"body_markdown":"An indexed for loop should also work.\r\n\r\n    for (int i = 0; i &lt; collection.size(); i++)","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>An indexed for loop should also work.</p>\n\n<pre><code>for (int i = 0; i &lt; collection.size(); i++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4905348,"reputation":1354,"user_id":3952244,"display_name":"David Bemerguy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422073030,"creation_date":1411984620,"answer_id":26097172,"question_id":6866238,"body_markdown":"Using Iterators also fixes concurrency problems, like this:\r\n\r\n    Iterator&lt;Object&gt; it = iterator.next().iterator();\r\n    while (it.hasNext()) {\r\n        it.remove();\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Using Iterators also fixes concurrency problems, like this:</p>\n\n<pre><code>Iterator&lt;Object&gt; it = iterator.next().iterator();\nwhile (it.hasNext()) {\n    it.remove();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1421747074,"creation_date":1421746013,"answer_id":28041726,"question_id":6866238,"body_markdown":"I normally use something like this:\r\n\r\n    for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\r\n        ...\r\n    }\r\n\r\nquick, clean and bug-free\r\n\r\nanother option is to use CopyOnWriteArrayList\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I normally use something like this:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\n    ...\n}\n</code></pre>\n\n<p>quick, clean and bug-free</p>\n\n<p>another option is to use CopyOnWriteArrayList</p>\n"},{"tags":[],"owner":{"account_id":7907855,"reputation":1079,"user_id":5972784,"accept_rate":0,"display_name":"Siddharth Choudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500620009,"creation_date":1500620009,"answer_id":45230933,"question_id":6866238,"body_markdown":"Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\r\nI tried Casting the list to\r\n\r\n     = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\r\n\r\nbut it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).\r\n\r\nI even used the so called Synchronized Block too, but even it didn&#39;t worked or i might would have been using it in a wrong way.\r\n\r\n\r\nThus it&#39;s all when i finally used the #all of time# Technique of handling the exception\r\nin try catch block, and it worked\r\nSo put your code in the\r\n\r\n    try{\r\n    //block\r\n    \r\n    }catch(ConcurrentModificationException){\r\n    //thus handling my code over here\r\n    }\r\n    \r\n     \r\n\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\nI tried Casting the list to</p>\n\n<pre><code> = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\n</code></pre>\n\n<p>but it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).</p>\n\n<p>I even used the so called Synchronized Block too, but even it didn't worked or i might would have been using it in a wrong way.</p>\n\n<p>Thus it's all when i finally used the #all of time# Technique of handling the exception\nin try catch block, and it worked\nSo put your code in the</p>\n\n<pre><code>try{\n//block\n\n}catch(ConcurrentModificationException){\n//thus handling my code over here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1103769,"reputation":415,"user_id":1095610,"display_name":"marcolav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565977642,"creation_date":1565977642,"answer_id":57529035,"question_id":6866238,"body_markdown":"I solved creating a lock (Kotlin):\r\n\r\n\r\n    import java.util.concurrent.locks.ReentrantLock\r\n    \r\n    Class A {\r\n        private val listLock = ReentrantLock()\r\n        fun doSomething(newElement){\r\n            listLock.lock()\r\n            list.add(newElement)\r\n            listLock.unlock()\r\n        }\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I solved creating a lock (Kotlin):</p>\n\n<pre><code>import java.util.concurrent.locks.ReentrantLock\n\nClass A {\n    private val listLock = ReentrantLock()\n    fun doSomething(newElement){\n        listLock.lock()\n        list.add(newElement)\n        listLock.unlock()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7836175,"reputation":31,"user_id":5924147,"display_name":"Saren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566458168,"creation_date":1566457902,"answer_id":57603844,"question_id":6866238,"body_markdown":"You could use an auto-decrement `for` loop, and deal with the additional elements next time.\r\n\r\n```\r\nList additionalElements = new ArrayList();\r\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\r\n    //your business\r\n    additionalElements.add(newElement);\r\n}\r\nmElements.add(additionalElements);\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You could use an auto-decrement <code>for</code> loop, and deal with the additional elements next time.</p>\n\n<pre><code>List additionalElements = new ArrayList();\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\n    //your business\n    additionalElements.add(newElement);\n}\nmElements.add(additionalElements);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586325871,"creation_date":1586325871,"answer_id":61094230,"question_id":6866238,"body_markdown":"The accepted solution (to create a copy of the collection) usually **works well**.\r\n\r\nHowever, if the `Element` **contains another collection** this does not make a *deep copy*!\r\n\r\nExample:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      return kids;\r\n   }\r\n}\r\n```\r\n\r\nNow when you create a copy of the List of Elements:\r\n\r\n```\r\nfor (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\r\n```\r\n\r\nYou can still get a `ConcurrentModificationException` if you iterate over `element.getKids()` and, parally, alter the `kids` of that element.\r\n\r\nLooking back it&#39;s obvious, but I ended up in this thread so maybe this hint helps others, too:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      // Return a copy of the child collection\r\n      return new ArrayList&lt;Kid&gt;(kids);\r\n   }\r\n}\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The accepted solution (to create a copy of the collection) usually <strong>works well</strong>.</p>\n\n<p>However, if the <code>Element</code> <strong>contains another collection</strong> this does not make a <em>deep copy</em>!</p>\n\n<p>Example:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      return kids;\n   }\n}\n</code></pre>\n\n<p>Now when you create a copy of the List of Elements:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\n</code></pre>\n\n<p>You can still get a <code>ConcurrentModificationException</code> if you iterate over <code>element.getKids()</code> and, parally, alter the <code>kids</code> of that element.</p>\n\n<p>Looking back it's obvious, but I ended up in this thread so maybe this hint helps others, too:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      // Return a copy of the child collection\n      return new ArrayList&lt;Kid&gt;(kids);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20489666,"reputation":21,"user_id":15036017,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564948,"creation_date":1688564948,"answer_id":76621028,"question_id":6866238,"body_markdown":"        LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\r\n        newList.addAll(oldList);\r\nThis will take care of ConcurrentModificationException and good practice","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<pre><code>    LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\n    newList.addAll(oldList);\n</code></pre>\n<p>This will take care of ConcurrentModificationException and good practice</p>\n"}],"owner":{"display_name":"user773737"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105633,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":6866271,"answer_count":11,"score":66,"last_activity_date":1688564948,"creation_date":1311890010,"question_id":6866238,"body_markdown":"The problem occurs at \r\n\r\n    Element element = it.next();\r\n\r\nAnd this code which contains that line, is inside of an `OnTouchEvent`\r\n\r\n    for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\r\n\t\tElement element = it.next();\r\n\t\t\r\n\t\tif(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n\t\t\t\t&amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {\t \r\n\t\t\t\r\n\t\t\t//irrelevant stuff..\r\n\t\t\t\r\n\t\t\tif(element.cFlag){\r\n\t\t\t\tmElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n\t\t\t\telement.cFlag = false;\r\n\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\nAll of this is inside `synchronized(mElements)`, where `mElements` is an `ArrayList&lt;Element&gt;` \r\n\r\nWhen I touch an `Element`, it may activate `cFlag`, which will create another `Element` with different properties, which will fall off the screen and destroy itself in less than a second. It&#39;s my way of creating particle effects. We can call this &quot;particle&quot; `crack`, like the String parameter in the constructor.\r\n\r\n\r\n\r\nThis all works fine until I add another main `Element`. Now I have two `Elements` on the screen at the same time, and if I touch the newest `Element`, it works fine, and launches the particles.\r\n\r\nHowever, if I touch and activate `cFlag` on the older `Element`, then it gives me the exception.\r\n\r\n\r\n   \r\n\r\n     07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n\r\nHow can I make this work?","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The problem occurs at </p>\n\n<pre><code>Element element = it.next();\n</code></pre>\n\n<p>And this code which contains that line, is inside of an <code>OnTouchEvent</code></p>\n\n<pre><code>for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\n    Element element = it.next();\n\n    if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n            &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n        //irrelevant stuff..\n\n        if(element.cFlag){\n            mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n\n        }           \n    }\n}\n</code></pre>\n\n<p>All of this is inside <code>synchronized(mElements)</code>, where <code>mElements</code> is an <code>ArrayList&lt;Element&gt;</code> </p>\n\n<p>When I touch an <code>Element</code>, it may activate <code>cFlag</code>, which will create another <code>Element</code> with different properties, which will fall off the screen and destroy itself in less than a second. It's my way of creating particle effects. We can call this \"particle\" <code>crack</code>, like the String parameter in the constructor.</p>\n\n<p>This all works fine until I add another main <code>Element</code>. Now I have two <code>Elements</code> on the screen at the same time, and if I touch the newest <code>Element</code>, it works fine, and launches the particles.</p>\n\n<p>However, if I touch and activate <code>cFlag</code> on the older <code>Element</code>, then it gives me the exception.</p>\n\n<pre><code> 07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>How can I make this work?</p>\n"},{"tags":["java","spring-boot","cors","aws-api-gateway","amazon-ecs"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1685098801,"post_id":76339966,"comment_id":134617516,"body_markdown":"This question is not about programming.","body":"This question is not about programming."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099391,"post_id":76339966,"comment_id":134617619,"body_markdown":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests.","body":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099459,"post_id":76339966,"comment_id":134617632,"body_markdown":"May be something from frontend or API Gateway should have some option to solve issue","body":"May be something from frontend or API Gateway should have some option to solve issue"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564482,"creation_date":1688564482,"answer_id":76620944,"question_id":76339966,"body_markdown":"**The question s quite vague, but let me do some guessing about what the problem is.**\r\n\r\nMay it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it&#39;s an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:\r\n```yaml\r\nBucketName:\r\n    Type: AWS::S3::Bucket\r\n    Properties:\r\n      CorsConfiguration:\r\n```\r\n\r\nIn that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.\r\n\r\nIf you setup your AWS API Gateway using an `openapi`-definition, check out the top level property `x-amazon-apigateway-cors:`.\r\n\r\nIf you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:\r\n```yaml\r\n  CloudFrontDistribution:\r\n    Type: AWS::CloudFront::Distribution\r\n    Properties:\r\n      ...\r\n      DistributionConfig:\r\n        ...\r\n        CacheBehaviors:\r\n            ...\r\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\r\n\r\n  ResponseHeadersPolicy:\r\n    Type: AWS::CloudFront::ResponseHeadersPolicy\r\n    Properties:\r\n      ResponseHeadersPolicyConfig:\r\n        CorsConfig:\r\n          ...\r\n          AccessControlAllowMethods:\r\n            Items:\r\n              - GET\r\n              - HEAD\r\n              - OPTIONS\r\n          AccessControlAllowOrigins:\r\n            Items:\r\n              - https://example.com\r\n```","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p><strong>The question s quite vague, but let me do some guessing about what the problem is.</strong></p>\n<p>May it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it's an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>BucketName:\n    Type: AWS::S3::Bucket\n    Properties:\n      CorsConfiguration:\n</code></pre>\n<p>In that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.</p>\n<p>If you setup your AWS API Gateway using an <code>openapi</code>-definition, check out the top level property <code>x-amazon-apigateway-cors:</code>.</p>\n<p>If you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  CloudFrontDistribution:\n    Type: AWS::CloudFront::Distribution\n    Properties:\n      ...\n      DistributionConfig:\n        ...\n        CacheBehaviors:\n            ...\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\n\n  ResponseHeadersPolicy:\n    Type: AWS::CloudFront::ResponseHeadersPolicy\n    Properties:\n      ResponseHeadersPolicyConfig:\n        CorsConfig:\n          ...\n          AccessControlAllowMethods:\n            Items:\n              - GET\n              - HEAD\n              - OPTIONS\n          AccessControlAllowOrigins:\n            Items:\n              - https://example.com\n</code></pre>\n"}],"owner":{"account_id":14648801,"reputation":9,"user_id":10579358,"display_name":"Mallireddy Chandu Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688564482,"creation_date":1685097253,"question_id":76339966,"body_markdown":"I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\r\nWhen I am trying to access the Gateway integrated API from Web , API throwing ***“CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource””*** when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.\r\n\r\nIs there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.\r\n\r\n\r\nI tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found. \r\nI am looking for a solution to avoid CORS error when performing testing with a bad request.","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p>I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\nWhen I am trying to access the Gateway integrated API from Web , API throwing <em><strong>“CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource””</strong></em> when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.</p>\n<p>Is there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.</p>\n<p>I tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found.\nI am looking for a solution to avoid CORS error when performing testing with a bad request.</p>\n"},{"tags":["java","spring","swagger"],"owner":{"account_id":10307815,"reputation":1103,"user_id":7604532,"accept_rate":50,"display_name":"laurentius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688564249,"creation_date":1688564249,"question_id":76620912,"body_markdown":"Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:\r\n\r\n    @ApiResponses(\r\n    \t@ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\r\n    \t\t@Content(mediaType = JSON, schema = @Schema(…),\r\n    \t\t@Content(mediaType = CSV, schema = @Schema(…)\r\n    \t}\r\n    )\r\n\r\nI want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it&#39;s grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.\r\n\r\nUsing swagger v3\r\n\r\nThanks.","title":"Multiple responses for the same code using custom annotations","body":"<p>Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:</p>\n<pre><code>@ApiResponses(\n    @ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\n        @Content(mediaType = JSON, schema = @Schema(…),\n        @Content(mediaType = CSV, schema = @Schema(…)\n    }\n)\n</code></pre>\n<p>I want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it's grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.</p>\n<p>Using swagger v3</p>\n<p>Thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","junit"],"owner":{"account_id":4607949,"reputation":500,"user_id":3736889,"display_name":"szefuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688564015,"creation_date":1688564015,"question_id":76620876,"body_markdown":"I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\r\nI have a standard config: \r\n```\r\n@AutoConfigureEmbeddedDatabase(\r\n        beanName = &quot;myDatasource&quot;,\r\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\r\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\r\n)\r\n```\r\n\r\nUnfortunately, it turns out the app has second data source, which is `PGSimpleDataSource` defined from the code, with the same host, port, etc. passed in `application.yml` as the `myDatasource`.\r\n\r\nIs there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the `myDatasource` is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.","title":"Is there a way to connect to Zonky from outside?","body":"<p>I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\nI have a standard config:</p>\n<pre><code>@AutoConfigureEmbeddedDatabase(\n        beanName = &quot;myDatasource&quot;,\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\n)\n</code></pre>\n<p>Unfortunately, it turns out the app has second data source, which is <code>PGSimpleDataSource</code> defined from the code, with the same host, port, etc. passed in <code>application.yml</code> as the <code>myDatasource</code>.</p>\n<p>Is there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the <code>myDatasource</code> is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.</p>\n"},{"tags":["java","android","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487196675,"creation_date":1487196675,"answer_id":42261056,"question_id":42251057,"body_markdown":"Conceptually, what you want is a Factory:\r\n\r\n    /** Inject this wherever you want an instance of Dependency. */\r\n    public interface DependencyFactory {\r\n      Dependency create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener);\r\n    }\r\n\r\n    public class DependencyFactoryImpl implements DependencyFactory {\r\n      @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\r\n\r\n      @Override public void create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener) {\r\n        return new Dependency(number1, number2, number3, listener,\r\n            someDaggerDepProvider.get() /* if necessary */);\r\n      }\r\n    }\r\n\r\nHowever, because this is so easy to generate automatically, there are often built-in tools to do so. **[Guice](https://github.com/google/guice)** calls this [Assisted Injection](https://github.com/google/guice/wiki/AssistedInject), and supplies [FactoryModuleBuilder](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html) (via an optional extension JAR) that reflectively generates factories at runtime. **Dagger 2** doesn&#39;t have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called **[AutoFactory](https://github.com/google/auto/tree/master/factory)** that generates a factory for _any_ [JSR-330](https://www.jcp.org/en/jsr/detail?id=330) implementation including Dagger, Guice, and Spring.\r\n\r\n    @AutoFactory\r\n    public class Dependency{\r\n      Dependency(\r\n          int number1, int number2, int number3, DependencyListener listener,\r\n          @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \r\n    }\r\n\r\nSee the AutoFactory documentation for details on its calls, particularly if you&#39;re interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.\r\n\r\n(If you don&#39;t have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to `new` as a factory.)","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>Conceptually, what you want is a Factory:</p>\n\n<pre><code>/** Inject this wherever you want an instance of Dependency. */\npublic interface DependencyFactory {\n  Dependency create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener);\n}\n\npublic class DependencyFactoryImpl implements DependencyFactory {\n  @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\n\n  @Override public void create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener) {\n    return new Dependency(number1, number2, number3, listener,\n        someDaggerDepProvider.get() /* if necessary */);\n  }\n}\n</code></pre>\n\n<p>However, because this is so easy to generate automatically, there are often built-in tools to do so. <strong><a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a></strong> calls this <a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">Assisted Injection</a>, and supplies <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"nofollow noreferrer\">FactoryModuleBuilder</a> (via an optional extension JAR) that reflectively generates factories at runtime. <strong>Dagger 2</strong> doesn't have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called <strong><a href=\"https://github.com/google/auto/tree/master/factory\" rel=\"nofollow noreferrer\">AutoFactory</a></strong> that generates a factory for <em>any</em> <a href=\"https://www.jcp.org/en/jsr/detail?id=330\" rel=\"nofollow noreferrer\">JSR-330</a> implementation including Dagger, Guice, and Spring.</p>\n\n<pre><code>@AutoFactory\npublic class Dependency{\n  Dependency(\n      int number1, int number2, int number3, DependencyListener listener,\n      @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \n}\n</code></pre>\n\n<p>See the AutoFactory documentation for details on its calls, particularly if you're interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.</p>\n\n<p>(If you don't have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to <code>new</code> as a factory.)</p>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688563728,"creation_date":1688563728,"answer_id":76620839,"question_id":42251057,"body_markdown":"To solve the problem, you can use [Assisted Injection][1] to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your `Dependency` class can be something like this (suppose that `DependencyListener` provided by the DI framework):\r\n\r\n    public record Dependency(int number, DependencyListener listener) {\r\n    \r\n        @AssistedInject\r\n        public Dependency(@Assisted int number, DependencyListener listener) {\r\n            this.number = number;\r\n            this.listener = listener;\r\n        }\r\n    }\r\n\r\nIn addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the `@AssistedInject` type and takes in all `@Assisted` parameters defined in its constructor like below:\r\n\r\n    @AssistedFactory\r\n    public interface DependencyFactory {\r\n        Dependency buildDependency(int number);\r\n    }\r\n\r\nFinally, you can inject this factory and use it to create the `Dependency`:\r\n\r\n    public class Dependent {\r\n    \r\n        private final DependencyFactory factory;\r\n    \r\n        @Inject\r\n        public Dependent(DependencyFactory factory) {\r\n            this.factory = factory;\r\n        }\r\n    \r\n        Dependency getDependency(int number) {\r\n            return factory.buildDependency(number);\r\n        }\r\n    }\r\n\r\n  [1]: https://dagger.dev/dev-guide/assisted-injection.html","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>To solve the problem, you can use <a href=\"https://dagger.dev/dev-guide/assisted-injection.html\" rel=\"nofollow noreferrer\">Assisted Injection</a> to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your <code>Dependency</code> class can be something like this (suppose that <code>DependencyListener</code> provided by the DI framework):</p>\n<pre><code>public record Dependency(int number, DependencyListener listener) {\n\n    @AssistedInject\n    public Dependency(@Assisted int number, DependencyListener listener) {\n        this.number = number;\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>In addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the <code>@AssistedInject</code> type and takes in all <code>@Assisted</code> parameters defined in its constructor like below:</p>\n<pre><code>@AssistedFactory\npublic interface DependencyFactory {\n    Dependency buildDependency(int number);\n}\n</code></pre>\n<p>Finally, you can inject this factory and use it to create the <code>Dependency</code>:</p>\n<pre><code>public class Dependent {\n\n    private final DependencyFactory factory;\n\n    @Inject\n    public Dependent(DependencyFactory factory) {\n        this.factory = factory;\n    }\n\n    Dependency getDependency(int number) {\n        return factory.buildDependency(number);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3573479,"reputation":371,"user_id":2983287,"accept_rate":50,"display_name":"danidin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688563728,"creation_date":1487166189,"question_id":42251057,"body_markdown":"I have a class which gets arguments in a constructor:\r\n    \r\n    public class Dependency{\r\n      Dependency(int number1, int number2, int number3, DependencyListener listener){}     \r\n    }\r\neach dependent class needs to path different arguments in order to instantiate a dependency.\r\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing &#39;this&#39; as the listener?\r\n\r\nAlso, How should i use the @Inject method in this case?\r\n\r\n**Edit 1**\r\n\r\n@jeff-bowman\r\nI was thinking of using the following method:\r\n\r\n    @Module public class DependencyModule {\r\n      int first;\r\n      int second;\r\n      int third;\r\n      DependencyListener listener;\r\n\r\n      public DependencyModule(int first, int second, int third, DependencyListener listener) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n        this.listener = listener\r\n      }\r\n     \r\n      @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\r\n        return new Dependency(first, second, third, listener)\r\n      }\r\n    }\r\n\r\n    @Component(modules = { DependencyModule.class }) public interface     \r\n    DependencyComponent {\r\n      void inject(DependentClass1 target);\r\n      void inject(DependentClass2 target);\r\n      void inject(DependentClass3 target);\r\n    }\r\n\r\nand in each DependentClass i would do:\r\n    \r\n    public class DependentClass{\r\n      @Inject Dependency;\r\n      public DependentClass{\r\n          DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\r\n      }\r\n    }\r\n\r\nIs it a good practice?","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>I have a class which gets arguments in a constructor:</p>\n\n<pre><code>public class Dependency{\n  Dependency(int number1, int number2, int number3, DependencyListener listener){}     \n}\n</code></pre>\n\n<p>each dependent class needs to path different arguments in order to instantiate a dependency.\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing 'this' as the listener?</p>\n\n<p>Also, How should i use the @Inject method in this case?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>@jeff-bowman\nI was thinking of using the following method:</p>\n\n<pre><code>@Module public class DependencyModule {\n  int first;\n  int second;\n  int third;\n  DependencyListener listener;\n\n  public DependencyModule(int first, int second, int third, DependencyListener listener) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n    this.listener = listener\n  }\n\n  @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\n    return new Dependency(first, second, third, listener)\n  }\n}\n\n@Component(modules = { DependencyModule.class }) public interface     \nDependencyComponent {\n  void inject(DependentClass1 target);\n  void inject(DependentClass2 target);\n  void inject(DependentClass3 target);\n}\n</code></pre>\n\n<p>and in each DependentClass i would do:</p>\n\n<pre><code>public class DependentClass{\n  @Inject Dependency;\n  public DependentClass{\n      DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\n  }\n}\n</code></pre>\n\n<p>Is it a good practice?</p>\n"},{"tags":["java","aws-lambda","microstream"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1688588896,"post_id":76620825,"comment_id":135095456,"body_markdown":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely `/tmp`.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture.","body":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely <code>&#47;tmp</code>.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture."}],"owner":{"account_id":2966688,"reputation":233,"user_id":2519698,"display_name":"zakgof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688563642,"creation_date":1688563642,"question_id":76620825,"body_markdown":"MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:\r\n\r\nhttps://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\r\n\r\n&gt; At any given time, only one JVM process may directly access the files representing a unique set of data. \r\n\r\nHowever, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:\r\n\r\nhttps://microstream.one/blog/article/the-future-is-serverless-with-microstream/\r\n\r\n&gt; MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.\r\n\r\nThis statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?","title":"Is it possible to use MicroStream + S3 from AWS Lambda?","body":"<p>MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:</p>\n<p><a href=\"https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\" rel=\"nofollow noreferrer\">https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database</a></p>\n<blockquote>\n<p>At any given time, only one JVM process may directly access the files representing a unique set of data.</p>\n</blockquote>\n<p>However, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:</p>\n<p><a href=\"https://microstream.one/blog/article/the-future-is-serverless-with-microstream/\" rel=\"nofollow noreferrer\">https://microstream.one/blog/article/the-future-is-serverless-with-microstream/</a></p>\n<blockquote>\n<p>MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.</p>\n</blockquote>\n<p>This statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?</p>\n"},{"tags":["java","selenium","selenium-webdriver","popup","alert"],"answers":[{"tags":[],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322065211,"creation_date":1322064621,"answer_id":8245417,"question_id":8244723,"body_markdown":"You could try\r\n   \r\n\r\n     try{\r\n            if(webDriver.switchTo().alert() != null){\r\n               Alert alert = webDriver.switchTo().alert();\r\n               alert.getText();\r\n               //etc.\r\n            }\r\n        }catch(Exception e){}\r\n\r\nIf that doesn&#39;t work, you could try looping through all the window handles and see if the alert exists. I&#39;m not sure if the alert opens as a new window using selenium.\r\n\r\n    for(String s: webDriver.getWindowHandles()){\r\n     //see if alert exists here.\r\n    }\r\n\r\n","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>You could try</p>\n\n<pre><code> try{\n        if(webDriver.switchTo().alert() != null){\n           Alert alert = webDriver.switchTo().alert();\n           alert.getText();\n           //etc.\n        }\n    }catch(Exception e){}\n</code></pre>\n\n<p>If that doesn't work, you could try looping through all the window handles and see if the alert exists. I'm not sure if the alert opens as a new window using selenium.</p>\n\n<pre><code>for(String s: webDriver.getWindowHandles()){\n //see if alert exists here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2112537,"reputation":806,"user_id":1877519,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1354668724,"creation_date":1354668724,"answer_id":13714614,"question_id":8244723,"body_markdown":"This is what worked for me using Explicit Wait from here [WebDriver: Advanced Usage][1]\r\n\r\n    public void checkAlert() {\r\n\t\ttry {\r\n\t\t\tWebDriverWait wait = new WebDriverWait(driver, 2);\r\n\t\t\twait.until(ExpectedConditions.alertIsPresent());\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t\t//exception handling\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits &quot;WebDriver: Advanced Usage&quot;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>This is what worked for me using Explicit Wait from here <a href=\"http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits\">WebDriver: Advanced Usage</a></p>\n\n<pre><code>public void checkAlert() {\n    try {\n        WebDriverWait wait = new WebDriverWait(driver, 2);\n        wait.until(ExpectedConditions.alertIsPresent());\n        Alert alert = driver.switchTo().alert();\n        alert.accept();\n    } catch (Exception e) {\n        //exception handling\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1453872992,"creation_date":1365408520,"answer_id":15874201,"question_id":8244723,"body_markdown":"Write the following method:\r\n\r\n    public boolean isAlertPresent() {\r\n        try {\r\n    \t    driver.switchTo().alert();\r\n    \t\treturn true;\r\n        } // try\r\n    \tcatch (Exception e) {\r\n    \t\treturn false;\r\n    \t} // catch\r\n    }\r\n\r\nNow, you can check whether alert is present or not by using the method written above as below:\r\n\r\n    if (isAlertPresent()) {\r\n    \tdriver.switchTo().alert();\r\n    \tdriver.switchTo().alert().accept();\r\n    \tdriver.switchTo().defaultContent();\r\n    }","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>Write the following method:</p>\n\n<pre><code>public boolean isAlertPresent() {\n    try {\n        driver.switchTo().alert();\n        return true;\n    } // try\n    catch (Exception e) {\n        return false;\n    } // catch\n}\n</code></pre>\n\n<p>Now, you can check whether alert is present or not by using the method written above as below:</p>\n\n<pre><code>if (isAlertPresent()) {\n    driver.switchTo().alert();\n    driver.switchTo().alert().accept();\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5647686,"reputation":125,"user_id":4469239,"display_name":"ER.swatantra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424503448,"creation_date":1422951911,"answer_id":28294328,"question_id":8244723,"body_markdown":"&lt;pre&gt;\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert.accept();\r\n&lt;/pre&gt;\r\n\r\nYou can also decline the alert box:\r\n&lt;pre&gt;\r\n\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert().dismiss();\r\n&lt;/pre&gt;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre>\nAlert alert = driver.switchTo().alert();\n\nalert.accept();\n</pre>\n\n<p>You can also decline the alert box:</p>\n\n<pre>\n\nAlert alert = driver.switchTo().alert();\n\nalert().dismiss();\n</pre>\n"},{"tags":[],"owner":{"account_id":5782181,"reputation":21,"user_id":4562460,"display_name":"user4562460"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423812125,"creation_date":1423811553,"answer_id":28494317,"question_id":8244723,"body_markdown":"    try \r\n\t\t{\r\n\t\t\t//Handle the alert pop-up using seithTO alert statement\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t//Print alert is present\r\n\t\t\tSystem.out.println(&quot;Alert is present&quot;);\r\n\t\t\t\r\n\t\t\t//get the message which is present on pop-up\r\n\t\t\tString message = alert.getText();\r\n\t\t\t\r\n\t\t\t//print the pop-up message\r\n\t\t\tSystem.out.println(message);\r\n\t\t\t\r\n\t\t\talert.sendKeys(&quot;&quot;);\r\n\t\t\t//Click on OK button on pop-up\r\n\t\t\talert.accept();\r\n\t\t} \r\n\t\tcatch (NoAlertPresentException e) \r\n\t\t{\r\n\t\t\t//if alert is not present print message\r\n\t\t\tSystem.out.println(&quot;alert is not present&quot;);\r\n\t\t}","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre><code>try \n    {\n        //Handle the alert pop-up using seithTO alert statement\n        Alert alert = driver.switchTo().alert();\n\n        //Print alert is present\n        System.out.println(\"Alert is present\");\n\n        //get the message which is present on pop-up\n        String message = alert.getText();\n\n        //print the pop-up message\n        System.out.println(message);\n\n        alert.sendKeys(\"\");\n        //Click on OK button on pop-up\n        alert.accept();\n    } \n    catch (NoAlertPresentException e) \n    {\n        //if alert is not present print message\n        System.out.println(\"alert is not present\");\n    }\n</code></pre>\n"}],"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150023,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":13714614,"answer_count":5,"score":40,"last_activity_date":1688563395,"creation_date":1322062062,"question_id":8244723,"body_markdown":"I want to detect whether an alert is popped up or not. Currently I am using the following code:\r\n\r\n\t\ttry {\r\n\t\t\tAlert alert = webDriver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t// check if alert exists\r\n\t\t\t// TODO find better way\r\n\t\t\talert.getText();\r\n\t\t\t\r\n\t\t\t// alert handling\r\n\t\t\tlog().info(&quot;Alert detected: {}&quot; + alert.getText());\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\r\nThe problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.\r\n\r\nIs there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>I want to detect whether an alert is popped up or not. Currently I am using the following code:</p>\n\n<pre><code>    try {\n        Alert alert = webDriver.switchTo().alert();\n\n        // check if alert exists\n        // TODO find better way\n        alert.getText();\n\n        // alert handling\n        log().info(\"Alert detected: {}\" + alert.getText());\n        alert.accept();\n    } catch (Exception e) {\n    }\n</code></pre>\n\n<p>The problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.</p>\n\n<p>Is there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688564362,"post_id":76620674,"comment_id":135090289,"body_markdown":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file.","body":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1688568857,"post_id":76620674,"comment_id":135091449,"body_markdown":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n\nFrom server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page","body":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignRespo&zwnj;&#8203;nse.getData()&quot; is null  From server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688562606,"creation_date":1688562606,"question_id":76620674,"body_markdown":"I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don&#39;t have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice. \r\n\r\n**Here is my client implementation**\r\n\r\n    ObjectMapper objectMapper = MappersUtils.objectMapper();\r\n    String requestBody = objectMapper\r\n            .writerWithDefaultPrettyPrinter()\r\n            .writeValueAsString(request);\r\n\r\n    HttpRequest httpRequest = HttpRequest.newBuilder()\r\n            .uri(URI.create(url + certificateName))\r\n            .POST(HttpRequest.BodyPublishers.ofString(requestBody))\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .timeout(Duration.ofSeconds(600))\r\n            .build();\r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n           .version(HttpClient.Version.HTTP_2)\r\n           .connectTimeout(Duration.ofSeconds(10))\r\n           .build();\r\n\r\n    CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\r\n            httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n    String result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\r\n    int statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\r\n    System.out.println(result);\r\n    System.out.println(statusCode);\r\n    return objectMapper.readValue(result, PdfConvertAndSignResponse.class);\r\n\r\n**On the other side my API is using spring boot and receive an object that is handled.** \r\n\r\n\t@PostMapping(\r\n\t\t\tvalue = &quot;/convert-and-sign/{certificateName}&quot;,\r\n\t\t\tconsumes = {MediaType.APPLICATION_JSON_VALUE},\r\n\t\t\tproduces = {MediaType.APPLICATION_JSON_VALUE})\r\n\t@Operation(summary = &quot;Convert into PDF/A Level (if it&#39;s required) and sign it &quot;)\r\n\tpublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@PathVariable String certificateName) throws PdfException {\r\n\t\tString entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\r\n\t\tLocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\r\n\r\n\t\tLogDto logDto = LogBuilderUtils.logDtoBuilder(\r\n\t\t\t\trequest.getHeaderData().getService(),\r\n\t\t\t\tPdfConstants.WEBSERVICE,\r\n\t\t\t\tentryPoint,\r\n\t\t\t\tstartedAt,\r\n\t\t\t\tHttpVerbs.POST.name());\r\n\r\n\t\tCertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\r\n\t\tif (certificateEntity != null) {\r\n\t\t\tString pwd = b64ToString(certificateEntity.getPassword());\r\n\t\t\tPdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\r\n\t\t\tdata.setPassword(pwd);\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\r\n\t\t\tcurrentData.forEach(pdfSignRequestData -&gt; {\r\n\t\t\t\tdata.setPdf(pdfSignRequestData.getPdf());\r\n\t\t\t\ttoProcess.add(data);\r\n\t\t\t});\r\n\t\t\trequest.setData(toProcess);\r\n\t\t\treturn doConvertAndSign(request, logDto);\r\n\t\t} else {\r\n\t\t\tthrow new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\r\n\t\t}\r\n\t}\r\n\r\n**Response :** \r\n\r\nHere is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running: \r\n\r\n    {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\r\n    400\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\r\n\r\n**On my deployment server I have a localhost_access_log file with the following content:** \r\n\r\n192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n\r\nAt least i know my call is made. \r\n\r\n**Configuration in tomcat:**\r\nI updated server.xml configuration file in tomcat\r\n\r\n    &lt;Connector \tport=&quot;8090&quot; \r\n\t\t\t\tprotocol=&quot;HTTP/1.1&quot;\r\n\t\t\t\tmaxThreads=&quot;150&quot; \r\n\t\t\t\tconnectionTimeout=&quot;-1&quot;\r\n\t\t\t\tmaxPostSize=&quot;109951162777600&quot;\r\n\t\t\t\tmaxSwallowSize=&quot;109951162777600&quot;\r\n\t\t\t\tredirectPort=&quot;8443&quot; /&gt;\r\n\r\n**In application.properties:**\r\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content : \r\n\r\n    # maximum size of the request body/payload\r\n    server.tomcat.max-swallow-size=200MB\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # maximum size of entire POST request\r\n    server.tomcat.max-http-form-post-size=200MB\r\n    spring.servlet.multipart.max-request-size=200MB\r\n\r\n\r\nWith this configuration I have the same error response. If i add the folowing configuration: \r\n\r\n    server.http2.enabled=true\r\n\r\nI now obtain: HTTP Status 413 – Payload Too Large\r\n\r\nHow can i configure both application to send in json my payload without getting those errors ?\r\n\r\n","title":"Bad request with JSON Payload with Springboot","body":"<p>I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don't have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice.</p>\n<p><strong>Here is my client implementation</strong></p>\n<pre><code>ObjectMapper objectMapper = MappersUtils.objectMapper();\nString requestBody = objectMapper\n        .writerWithDefaultPrettyPrinter()\n        .writeValueAsString(request);\n\nHttpRequest httpRequest = HttpRequest.newBuilder()\n        .uri(URI.create(url + certificateName))\n        .POST(HttpRequest.BodyPublishers.ofString(requestBody))\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .timeout(Duration.ofSeconds(600))\n        .build();\n\nHttpClient httpClient = HttpClient.newBuilder()\n       .version(HttpClient.Version.HTTP_2)\n       .connectTimeout(Duration.ofSeconds(10))\n       .build();\n\nCompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\n        httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\n\nString result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\nint statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\nSystem.out.println(result);\nSystem.out.println(statusCode);\nreturn objectMapper.readValue(result, PdfConvertAndSignResponse.class);\n</code></pre>\n<p><strong>On the other side my API is using spring boot and receive an object that is handled.</strong></p>\n<pre><code>@PostMapping(\n        value = &quot;/convert-and-sign/{certificateName}&quot;,\n        consumes = {MediaType.APPLICATION_JSON_VALUE},\n        produces = {MediaType.APPLICATION_JSON_VALUE})\n@Operation(summary = &quot;Convert into PDF/A Level (if it's required) and sign it &quot;)\npublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\n                                                                @PathVariable String certificateName) throws PdfException {\n    String entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\n    LocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\n\n    LogDto logDto = LogBuilderUtils.logDtoBuilder(\n            request.getHeaderData().getService(),\n            PdfConstants.WEBSERVICE,\n            entryPoint,\n            startedAt,\n            HttpVerbs.POST.name());\n\n    CertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\n    if (certificateEntity != null) {\n        String pwd = b64ToString(certificateEntity.getPassword());\n        PdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\n        data.setPassword(pwd);\n        List&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\n        List&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\n        currentData.forEach(pdfSignRequestData -&gt; {\n            data.setPdf(pdfSignRequestData.getPdf());\n            toProcess.add(data);\n        });\n        request.setData(toProcess);\n        return doConvertAndSign(request, logDto);\n    } else {\n        throw new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\n    }\n}\n</code></pre>\n<p><strong>Response :</strong></p>\n<p>Here is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running:</p>\n<pre><code>{&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\n400\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n</code></pre>\n<p><strong>On my deployment server I have a localhost_access_log file with the following content:</strong></p>\n<p>192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161</p>\n<p>At least i know my call is made.</p>\n<p><strong>Configuration in tomcat:</strong>\nI updated server.xml configuration file in tomcat</p>\n<pre><code>&lt;Connector  port=&quot;8090&quot; \n            protocol=&quot;HTTP/1.1&quot;\n            maxThreads=&quot;150&quot; \n            connectionTimeout=&quot;-1&quot;\n            maxPostSize=&quot;109951162777600&quot;\n            maxSwallowSize=&quot;109951162777600&quot;\n            redirectPort=&quot;8443&quot; /&gt;\n</code></pre>\n<p><strong>In application.properties:</strong>\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content :</p>\n<pre><code># maximum size of the request body/payload\nserver.tomcat.max-swallow-size=200MB\nspring.servlet.multipart.max-file-size=200MB\n# maximum size of entire POST request\nserver.tomcat.max-http-form-post-size=200MB\nspring.servlet.multipart.max-request-size=200MB\n</code></pre>\n<p>With this configuration I have the same error response. If i add the folowing configuration:</p>\n<pre><code>server.http2.enabled=true\n</code></pre>\n<p>I now obtain: HTTP Status 413 – Payload Too Large</p>\n<p>How can i configure both application to send in json my payload without getting those errors ?</p>\n"},{"tags":["java","mysql","sql-insert"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1688561560,"post_id":76620518,"comment_id":135089517,"body_markdown":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the `sql` variable in the debugger.","body":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the <code>sql</code> variable in the debugger."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1688561616,"post_id":76620518,"comment_id":135089535,"body_markdown":"If your column(s) data type is varchar, you need to have `&#39;` in your `values(`. Which you are missing.","body":"If your column(s) data type is varchar, you need to have <code>&#39;</code> in your <code>values(</code>. Which you are missing."},{"owner":{"account_id":14783924,"reputation":217599,"user_id":10676716,"display_name":"GMB"},"score":2,"creation_date":1688561622,"post_id":76620518,"comment_id":135089537,"body_markdown":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing.","body":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing."},{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1688562479,"post_id":76620518,"comment_id":135089776,"body_markdown":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)","body":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)"}],"answers":[{"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688561972,"creation_date":1688561972,"answer_id":76620594,"question_id":76620518,"body_markdown":"String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &#39;&quot; + customerName + &quot;&#39;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\nYou have to use  &#39;  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like &#39; .\r\n\r\nExample:\r\n sql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\r\n                            &quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\r\n                    PreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\r\n                    ps.setString(1, raporno);ps.setInt(2, hastaID);\r\n                    ps.setString(3, hastatc);ps.setString(4, protokol);\r\n                    ps.setString(5, raporTarih);ps.setString(6, raporturu);\r\n                    ps.setString(7, hastanekod);ps.setString(8, hastaneadi);\r\n                    ps.setString(9, takipno);\r\n                    ps.execute();\r\n                    ResultSet generatedKeys = ps.getGeneratedKeys();\r\n                    if (generatedKeys.next()) {\r\n                        raporID=(generatedKeys.getInt(1));\r\n                    }\r\n","title":"How to insert into MySQL?","body":"<p>String sql = &quot;insert into users&quot; +\n&quot;(id, name, balance, transactions)&quot; +\n&quot;values (&quot; + customerID + &quot;, '&quot; + customerName + &quot;', &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;</p>\n<p>You have to use  '  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like ' .</p>\n<p>Example:\nsql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\n&quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\nPreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\nps.setString(1, raporno);ps.setInt(2, hastaID);\nps.setString(3, hastatc);ps.setString(4, protokol);\nps.setString(5, raporTarih);ps.setString(6, raporturu);\nps.setString(7, hastanekod);ps.setString(8, hastaneadi);\nps.setString(9, takipno);\nps.execute();\nResultSet generatedKeys = ps.getGeneratedKeys();\nif (generatedKeys.next()) {\nraporID=(generatedKeys.getInt(1));\n}</p>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688570850,"accepted_answer_id":76620594,"answer_count":1,"score":0,"last_activity_date":1688561972,"creation_date":1688561424,"question_id":76620518,"body_markdown":"guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:\r\n\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\n\r\npublic class BankingApp {\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String name = sc.next();\r\n        System.out.print(&quot;Enter your ID: &quot;);\r\n        String id = sc.next();\r\n        \r\n        System.out.println();\r\n\r\n        BankAccount bankAcc = new BankAccount(name, id);\r\n        bankAcc.showMenu();\r\n\r\n        bankAcc.insert();\r\n\r\n        sc.close();\r\n    }\r\n}\r\n\r\nclass BankAccount {\r\n\r\n    float balance;\r\n    float prevTransaction;\r\n    String customerName;\r\n    String customerID;\r\n\r\n    BankAccount(String name, String id) {\r\n        customerName = name;\r\n        customerID = id;\r\n    }\r\n\r\n    void deposit(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance += amount;\r\n            prevTransaction = amount;\r\n        }\r\n    }\r\n\r\n    void withdraw(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance -= amount;\r\n            prevTransaction = -amount;\r\n        }\r\n    }\r\n\r\n    void getPreviousTransaction() {\r\n\r\n        if (prevTransaction &gt; 0) {\r\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\r\n        }\r\n        else if (prevTransaction &lt; 0) {\r\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\r\n        }\r\n        else {\r\n            System.out.println(&quot;No transaction is occured!&quot;);\r\n        }\r\n    }\r\n\r\n    void showMenu() {\r\n\r\n        char option = &#39;\\0&#39;;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Welcome &quot; + customerName);\r\n        System.out.println(&quot;Your ID is: &quot; + customerID);\r\n        System.out.println();\r\n        System.out.println(&quot;A. Check Balance&quot;);\r\n        System.out.println(&quot;B. Deposit&quot;);\r\n        System.out.println(&quot;C. Withdraw&quot;);\r\n        System.out.println(&quot;D. Previous Transaction&quot;);\r\n        System.out.println(&quot;E. Exit&quot;);\r\n\r\n        do {\r\n            System.out.println(&quot;=========================&quot;);\r\n            System.out.println(&quot;Enter the option&quot;);\r\n            System.out.println(&quot;=========================&quot;);\r\n            option = sc.next().charAt(0);\r\n            Character.toUpperCase(option);\r\n\r\n            switch (option) {\r\n                case &#39;A&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Balance: &quot; + balance);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;B&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount = sc.nextFloat();\r\n                    deposit(amount);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;C&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount2 = sc.nextFloat();\r\n                    withdraw(amount2);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;D&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    getPreviousTransaction();\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;E&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    break;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\r\n                    break;\r\n            }\r\n        \r\n        } while (option != &#39;E&#39;);\r\n    \r\n        sc.close();\r\n    } \r\n\r\n    public void insert() {\r\n\r\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\r\n        String db_id = &quot;root&quot;;\r\n        String db_pass = &quot;Ik32e23k&quot;;\r\n\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n\r\n        try {    \r\n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\r\n        stmt = conn.createStatement();\r\n            \r\n        String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\n        stmt.executeUpdate(sql);    \r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (stmt != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                if (conn != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen i tried to call my insert() method into the main method, i got the following error:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: Unknown column &#39;Koko&#39; in &#39;field list&#39;\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n        at BankAccount.insert(BankingApp.java:151)\r\n        at BankingApp.main(BankingApp.java:18)\r\n\r\nInstead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!\r\n","title":"How to insert into MySQL?","body":"<p>guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:</p>\n<pre><code>import java.sql.*;\nimport java.util.Scanner;\n\npublic class BankingApp {\n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = sc.next();\n        System.out.print(&quot;Enter your ID: &quot;);\n        String id = sc.next();\n        \n        System.out.println();\n\n        BankAccount bankAcc = new BankAccount(name, id);\n        bankAcc.showMenu();\n\n        bankAcc.insert();\n\n        sc.close();\n    }\n}\n\nclass BankAccount {\n\n    float balance;\n    float prevTransaction;\n    String customerName;\n    String customerID;\n\n    BankAccount(String name, String id) {\n        customerName = name;\n        customerID = id;\n    }\n\n    void deposit(float amount) {\n\n        if (amount != 0) {\n            balance += amount;\n            prevTransaction = amount;\n        }\n    }\n\n    void withdraw(float amount) {\n\n        if (amount != 0) {\n            balance -= amount;\n            prevTransaction = -amount;\n        }\n    }\n\n    void getPreviousTransaction() {\n\n        if (prevTransaction &gt; 0) {\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\n        }\n        else if (prevTransaction &lt; 0) {\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\n        }\n        else {\n            System.out.println(&quot;No transaction is occured!&quot;);\n        }\n    }\n\n    void showMenu() {\n\n        char option = '\\0';\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Welcome &quot; + customerName);\n        System.out.println(&quot;Your ID is: &quot; + customerID);\n        System.out.println();\n        System.out.println(&quot;A. Check Balance&quot;);\n        System.out.println(&quot;B. Deposit&quot;);\n        System.out.println(&quot;C. Withdraw&quot;);\n        System.out.println(&quot;D. Previous Transaction&quot;);\n        System.out.println(&quot;E. Exit&quot;);\n\n        do {\n            System.out.println(&quot;=========================&quot;);\n            System.out.println(&quot;Enter the option&quot;);\n            System.out.println(&quot;=========================&quot;);\n            option = sc.next().charAt(0);\n            Character.toUpperCase(option);\n\n            switch (option) {\n                case 'A':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Balance: &quot; + balance);\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n                \n                case 'B':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount = sc.nextFloat();\n                    deposit(amount);\n                    System.out.println();\n                    break;\n                \n                case 'C':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount2 = sc.nextFloat();\n                    withdraw(amount2);\n                    System.out.println();\n                    break;\n\n                case 'D':\n                    System.out.println(&quot;============================&quot;);\n                    getPreviousTransaction();\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n\n                case 'E':\n                    System.out.println(&quot;============================&quot;);\n                    break;\n\n                default:\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\n                    break;\n            }\n        \n        } while (option != 'E');\n    \n        sc.close();\n    } \n\n    public void insert() {\n\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\n        String db_id = &quot;root&quot;;\n        String db_pass = &quot;Ik32e23k&quot;;\n\n        Connection conn = null;\n        Statement stmt = null;\n\n        try {    \n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\n        stmt = conn.createStatement();\n            \n        String sql = &quot;insert into users&quot; +\n                     &quot;(id, name, balance, transactions)&quot; +\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\n\n        stmt.executeUpdate(sql);    \n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (stmt != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            try {\n                if (conn != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>When i tried to call my insert() method into the main method, i got the following error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: Unknown column 'Koko' in 'field list'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\nat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\nat BankAccount.insert(BankingApp.java:151)\nat BankingApp.main(BankingApp.java:18)</p>\n</blockquote>\n<p>Instead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688561932,"creation_date":1688561932,"answer_id":76620589,"question_id":76618791,"body_markdown":"Go to `Run | Edit Configurations` and click the `Edit configuration templates...` link in the left bottom. Uncheck `Use classpath on modules` there, and it will be unchecked by default when you create a new Run configuration. ","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>Go to <code>Run | Edit Configurations</code> and click the <code>Edit configuration templates...</code> link in the left bottom. Uncheck <code>Use classpath on modules</code> there, and it will be unchecked by default when you create a new Run configuration.</p>\n"}],"owner":{"account_id":10641186,"reputation":221,"user_id":8581765,"display_name":"Max Lich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688561932,"creation_date":1688548230,"question_id":76618791,"body_markdown":"To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default? \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awEIY.png","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default?\n<a href=\"https://i.stack.imgur.com/awEIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awEIY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":1,"creation_date":1688562107,"post_id":76620556,"comment_id":135089669,"body_markdown":"I suspect you may be dealing with an occurrence of the XY problem: https://xyproblem.info/","body":"I suspect you may be dealing with an occurrence of the XY problem: <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688562108,"post_id":76620556,"comment_id":135089672,"body_markdown":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files.","body":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688579390,"post_id":76620556,"comment_id":135093833,"body_markdown":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?","body":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?"},{"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"score":0,"creation_date":1688580904,"post_id":76620556,"comment_id":135094142,"body_markdown":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result.","body":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result."}],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561683,"creation_date":1688561683,"question_id":76620556,"body_markdown":"I have a java program that at some point creates a file in a certain directory.\r\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.\r\n\r\nThe file created is a very small text file around 1KB.\r\n\r\nSometimes the program couldnt detect the new file.\r\nIf I copy the same file manually from windows, the program detects without a problem.\r\n\r\nIs there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?\r\n\r\nThanks\r\n\r\nI have tried with BufferedWriter , no change.\r\nI have tried with \r\n     String command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\r\n     Runtime.getRuntime().exec(command);\r\n\r\nThe last one is better but still misses some files.","title":"Notify Windows of a file change made by Java","body":"<p>I have a java program that at some point creates a file in a certain directory.\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.</p>\n<p>The file created is a very small text file around 1KB.</p>\n<p>Sometimes the program couldnt detect the new file.\nIf I copy the same file manually from windows, the program detects without a problem.</p>\n<p>Is there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?</p>\n<p>Thanks</p>\n<p>I have tried with BufferedWriter , no change.\nI have tried with\nString command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\nRuntime.getRuntime().exec(command);</p>\n<p>The last one is better but still misses some files.</p>\n"},{"tags":["java","kotlin","encryption","cryptography","block-cipher"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688561661,"creation_date":1688506661,"answer_id":76615977,"question_id":76615575,"body_markdown":"It&#39;s probably best to first get the block cipher to adhere to the [`BlockCipher` interface](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java) of the lightweight Bouncy Castle library. When you&#39;ve extended that then you can simply insert it into the constructor of [`GCMBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java). Beware that the block cipher *must* have a block size of 128 bit - 16 bytes - for it to work in GCM mode.\r\n\r\n---\r\n\r\nYou can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won&#39;t get to do as much debugging if it fails for some reason. You won&#39;t find `CTRBlockCipher` as mode of operation though. The reason for that is that CTR is/was known under different names. You&#39;ll have to use the [`SICBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java) instead.\r\n\r\nAs the documentation states:\r\n\r\n&gt; Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.\r\n\r\n---\r\n\r\nYou can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.\r\n\r\n---\r\n\r\nOnce you&#39;ve got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full `CipherSpi` (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java&#39;s `Cipher` class.","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>It's probably best to first get the block cipher to adhere to the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java\" rel=\"nofollow noreferrer\"><code>BlockCipher</code> interface</a> of the lightweight Bouncy Castle library. When you've extended that then you can simply insert it into the constructor of <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java\" rel=\"nofollow noreferrer\"><code>GCMBlockCipher</code></a>. Beware that the block cipher <em>must</em> have a block size of 128 bit - 16 bytes - for it to work in GCM mode.</p>\n<hr />\n<p>You can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won't get to do as much debugging if it fails for some reason. You won't find <code>CTRBlockCipher</code> as mode of operation though. The reason for that is that CTR is/was known under different names. You'll have to use the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java\" rel=\"nofollow noreferrer\"><code>SICBlockCipher</code></a> instead.</p>\n<p>As the documentation states:</p>\n<blockquote>\n<p>Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.</p>\n</blockquote>\n<hr />\n<p>You can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.</p>\n<hr />\n<p>Once you've got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full <code>CipherSpi</code> (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java's <code>Cipher</code> class.</p>\n"}],"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76615977,"answer_count":1,"score":2,"last_activity_date":1688561661,"creation_date":1688500814,"question_id":76615575,"body_markdown":"I have a task to implement pretty rare symmetric block cipher. It&#39;s unavailable in popular crypto providers like Bouncy Castle, Sun&#39;s JCE and even in GNU Crypto, so I can&#39;t use JCE approach.\r\n\r\nI got Java sources of this cipher for encryption/decryption of single block, but can&#39;t find where to find [CTR](https://www.cryptopp.com/wiki/CTR_Mode) or [GCM - Galois/Counter Mode](https://en.wikipedia.org/wiki/Galois/Counter_Mode)  implementations. Can anyone help me to find them?","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>I have a task to implement pretty rare symmetric block cipher. It's unavailable in popular crypto providers like Bouncy Castle, Sun's JCE and even in GNU Crypto, so I can't use JCE approach.</p>\n<p>I got Java sources of this cipher for encryption/decryption of single block, but can't find where to find <a href=\"https://www.cryptopp.com/wiki/CTR_Mode\" rel=\"nofollow noreferrer\">CTR</a> or <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">GCM - Galois/Counter Mode</a>  implementations. Can anyone help me to find them?</p>\n"},{"tags":["java","redis","multi-tenant","spring-data-redis","lettuce"],"owner":{"account_id":16732316,"reputation":1,"user_id":12094346,"display_name":"Roshan Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561654,"creation_date":1688529344,"question_id":76617009,"body_markdown":"I am using spring data redis to connect to standalone redis. I am using `LettuceConnectionFactory` to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis. \r\n\r\n\r\nI created instance of `LettuceConnectionFactory` object for initial startup of application with following code.\r\n\r\n\r\n```java\r\n    @Bean\r\n    public RedisConnectionFactory connectionFactory() {\r\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\r\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\r\n    }\r\n```\r\n\r\n\r\n```java\r\npublic class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\r\n\r\n    private final LettuceConnectionFactory lettuceConnectionFactory;\r\n\r\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\r\n        super(redisConfiguration);\r\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\r\n    }\r\n\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        String userName = &quot;****&quot;;\r\n        String password = &quot;****&quot;;\r\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\r\n           userName = TenantContext.getTenant().get().getUserId();\r\n           password = TenantContext.getTenant().get().getPassword();\r\n        }\r\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\r\n        localhost.setUsername(userName);\r\n        localhost.setPassword(password.toCharArray());\r\n\r\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\r\n    }\r\n}\r\n```\r\n\r\nthis code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.\r\n\r\n**I am getting below warning with above code snippet**\r\n\r\n```\r\n2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it&#39;s garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\r\n```\r\n\r\n**I tried below method also but I think this is also wrong**\r\n\r\n\r\n```\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\r\n        lettuceConnectionFactory.afterPropertiesSet();\r\n        return lettuceConnectionFactory.getConnection();\r\n    }\r\n```\r\n\r\n\r\n","title":"how to create new connection with redis on each request with username and password using spring data redis?","body":"<p>I am using spring data redis to connect to standalone redis. I am using <code>LettuceConnectionFactory</code> to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis.</p>\n<p>I created instance of <code>LettuceConnectionFactory</code> object for initial startup of application with following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisConnectionFactory connectionFactory() {\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\n\n    private final LettuceConnectionFactory lettuceConnectionFactory;\n\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\n        super(redisConfiguration);\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\n    }\n\n    @Override\n    public RedisConnection getConnection() {\n        String userName = &quot;****&quot;;\n        String password = &quot;****&quot;;\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\n           userName = TenantContext.getTenant().get().getUserId();\n           password = TenantContext.getTenant().get().getPassword();\n        }\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\n        localhost.setUsername(userName);\n        localhost.setPassword(password.toCharArray());\n\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\n    }\n}\n</code></pre>\n<p>this code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.</p>\n<p><strong>I am getting below warning with above code snippet</strong></p>\n<pre><code>2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it's garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\n</code></pre>\n<p><strong>I tried below method also but I think this is also wrong</strong></p>\n<pre><code>    @Override\n    public RedisConnection getConnection() {\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\n        lettuceConnectionFactory.afterPropertiesSet();\n        return lettuceConnectionFactory.getConnection();\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1522768297,"post_id":49633462,"comment_id":86274288,"body_markdown":"I&#39;m voting to close this question as off-topic because questions about working code belong on [Code Review](https://codereview.stackexchange.com/).","body":"I&#39;m voting to close this question as off-topic because questions about working code belong on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1522768392,"post_id":49633462,"comment_id":86274353,"body_markdown":"Since this is your methods `func1` and `func2`, one of the ways you can beautify this is by having a third method which would act as a predicate filter.","body":"Since this is your methods <code>func1</code> and <code>func2</code>, one of the ways you can beautify this is by having a third method which would act as a predicate filter."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522769715,"creation_date":1522769048,"answer_id":49633734,"question_id":49633462,"body_markdown":"You could create a `isFunc1AndFunc2NotNull()` method in the current class :\r\n\r\n    boolean isFunc1AndFunc2NotNull(Foo foo){\r\n       return func1(foo) != null &amp;&amp; func2(foo) != null;\r\n    }\r\n\r\nAnd change your stream as :\r\n\r\n    stream.filter(this::isFunc1AndFunc2NotNull)\r\n          .collect(Collectors.toMap(this::func1, this::func2));","title":"Collect to map skipping null key/values","body":"<p>You could create a <code>isFunc1AndFunc2NotNull()</code> method in the current class :</p>\n\n<pre><code>boolean isFunc1AndFunc2NotNull(Foo foo){\n   return func1(foo) != null &amp;&amp; func2(foo) != null;\n}\n</code></pre>\n\n<p>And change your stream as :</p>\n\n<pre><code>stream.filter(this::isFunc1AndFunc2NotNull)\n      .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1688561099,"creation_date":1522769077,"answer_id":49633746,"question_id":49633462,"body_markdown":"If you want to avoid evaluating the functions `func1` and `func2` twice, you have to store the results. E.g.\r\n\r\n    stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\r\n          .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\r\n          .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nThis doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the `func1` and `func2` are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.\r\n\r\nStarting with Java&#160;9, you can replace `new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)` with [`Map.entry(…)`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-). Since this entry type disallows `null` right from the start, it would need filtering before constructing the entry:\r\n\r\n    stream.flatMap(t -&gt; {\r\n       Type1 value1 = func1(t);\r\n       Type2 value2 = func2(t);\r\n       return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\r\n     })\r\n     .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nAlternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).\r\n\r\n---\r\n\r\nAnother (probably the most efficient) alternative is a custom collector:\r\n\r\n```java\r\nstream.collect(HashMap::new,\r\n    (m, o) -&gt; {\r\n      Type1 key   = func1(o);\r\n      Type2 value = func2(o);\r\n      if(key != null &amp;&amp; value != null) m.put(key, value);\r\n    },\r\n    Map::putAll);\r\n```\r\n\r\nNote that this collector, unlike the original `toMap` collector, doesn’t check for duplicates. But such a check could be added without problems.\r\n","title":"Collect to map skipping null key/values","body":"<p>If you want to avoid evaluating the functions <code>func1</code> and <code>func2</code> twice, you have to store the results. E.g.</p>\n<pre><code>stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\n      .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\n      .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>This doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the <code>func1</code> and <code>func2</code> are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.</p>\n<p>Starting with Java 9, you can replace <code>new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)</code> with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map.entry(…)</code></a>. Since this entry type disallows <code>null</code> right from the start, it would need filtering before constructing the entry:</p>\n<pre><code>stream.flatMap(t -&gt; {\n   Type1 value1 = func1(t);\n   Type2 value2 = func2(t);\n   return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\n })\n .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Alternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).</p>\n<hr />\n<p>Another (probably the most efficient) alternative is a custom collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.collect(HashMap::new,\n    (m, o) -&gt; {\n      Type1 key   = func1(o);\n      Type2 value = func2(o);\n      if(key != null &amp;&amp; value != null) m.put(key, value);\n    },\n    Map::putAll);\n</code></pre>\n<p>Note that this collector, unlike the original <code>toMap</code> collector, doesn’t check for duplicates. But such a check could be added without problems.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522769735,"creation_date":1522769735,"answer_id":49633962,"question_id":49633462,"body_markdown":"Another way to avoid evaluating the functions twice. Use [a pair class of your choice](https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples). Not as concise as [Holger&#39;s](https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746) but it&#39;s a little less dense which can be easier to read.\r\n\r\n    stream.map(A::doFuncs)\r\n        .flatMap(Optional::stream)\r\n        .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\r\n    \r\n    private static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\r\n    {\r\n        final Bar bar = func1(foo);\r\n        final Baz baz = func2(foo);\r\n        if (bar == null || baz == null) return Optional.empty();\r\n        return Optional.of(new Pair&lt;&gt;(bar, baz));\r\n    }\r\n\r\n(Choose proper names - I didn&#39;t know what types you were using)","title":"Collect to map skipping null key/values","body":"<p>Another way to avoid evaluating the functions twice. Use <a href=\"https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples\">a pair class of your choice</a>. Not as concise as <a href=\"https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746\">Holger's</a> but it's a little less dense which can be easier to read.</p>\n\n<pre><code>stream.map(A::doFuncs)\n    .flatMap(Optional::stream)\n    .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\n\nprivate static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\n{\n    final Bar bar = func1(foo);\n    final Baz baz = func2(foo);\n    if (bar == null || baz == null) return Optional.empty();\n    return Optional.of(new Pair&lt;&gt;(bar, baz));\n}\n</code></pre>\n\n<p>(Choose proper names - I didn't know what types you were using)</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522771458,"creation_date":1522771458,"answer_id":49634509,"question_id":49633462,"body_markdown":"This is a naive solution, but does not call functions twice and does not create extra objects:\r\n\r\n    List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\r\n    Map&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\r\n        final Integer integer1 = func1(i);\r\n        final Integer integer2 = func2(i);\r\n        if(integer1 !=  null &amp;&amp; integer2 != null) {\r\n            lhm.put(integer1, integer2);\r\n        }\r\n    }, (lhm1, lhm2) -&gt; {});","title":"Collect to map skipping null key/values","body":"<p>This is a naive solution, but does not call functions twice and does not create extra objects:</p>\n\n<pre><code>List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\nMap&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\n    final Integer integer1 = func1(i);\n    final Integer integer2 = func2(i);\n    if(integer1 !=  null &amp;&amp; integer2 != null) {\n        lhm.put(integer1, integer2);\n    }\n}, (lhm1, lhm2) -&gt; {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522772370,"creation_date":1522771820,"answer_id":49634611,"question_id":49633462,"body_markdown":"One option is to do as in the other answers, i.e. use a `Pair` type, or an implementation of `Map.Entry`. Another approach used in functional programming would be to [*memoize*][1] the functions. According to Wikipedia:\r\n\r\n&gt;memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.\r\n\r\nSo you could do it by caching the results of the functions in maps:\r\n\r\n    public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\r\n        Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n        return k -&gt; map.computeIfAbsent(k, f);\r\n    }\r\n\r\nThen, use the memoized functions in the stream:\r\n\r\n    Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\r\n    Function&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\r\n\r\n    stream.filter(t -&gt; memoizedFunc1.apply(t) != null)\r\n        .filter(t -&gt; memoizedFunc2.apply(t) != null)\r\n        .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\r\n\r\nHere `E` stands for the type of the elements of the stream, `K` stands for the type returned by `func1` (which is the type of the keys of the map) and `V` stands for the type returned by `func2` (which is the type of the values of the map).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Memoization","title":"Collect to map skipping null key/values","body":"<p>One option is to do as in the other answers, i.e. use a <code>Pair</code> type, or an implementation of <code>Map.Entry</code>. Another approach used in functional programming would be to <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\"><em>memoize</em></a> the functions. According to Wikipedia:</p>\n\n<blockquote>\n  <p>memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.</p>\n</blockquote>\n\n<p>So you could do it by caching the results of the functions in maps:</p>\n\n<pre><code>public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    return k -&gt; map.computeIfAbsent(k, f);\n}\n</code></pre>\n\n<p>Then, use the memoized functions in the stream:</p>\n\n<pre><code>Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\nFunction&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\n\nstream.filter(t -&gt; memoizedFunc1.apply(t) != null)\n    .filter(t -&gt; memoizedFunc2.apply(t) != null)\n    .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\n</code></pre>\n\n<p>Here <code>E</code> stands for the type of the elements of the stream, <code>K</code> stands for the type returned by <code>func1</code> (which is the type of the keys of the map) and <code>V</code> stands for the type returned by <code>func2</code> (which is the type of the values of the map).</p>\n"}],"owner":{"account_id":4842280,"reputation":473,"user_id":3907006,"accept_rate":33,"display_name":"Joel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17530,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":49633746,"answer_count":5,"score":15,"last_activity_date":1688561099,"creation_date":1522768172,"question_id":49633462,"body_markdown":"Let&#39;s say I have some stream and want to collect to map like this\r\n\r\n    stream.collect(Collectors.toMap(this::func1, this::func2));\r\n\r\nBut I want to skip null keys/values. Of course, I can do like this\r\n\r\n    stream.filter(t -&gt; func1(t) != null)\r\n        .filter(t -&gt; func2(t) != null)\r\n        .collect(Collectors.toMap(this::func1, this::func2));\r\nBut is there more beautiful/effective solution?","title":"Collect to map skipping null key/values","body":"<p>Let's say I have some stream and want to collect to map like this</p>\n\n<pre><code>stream.collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But I want to skip null keys/values. Of course, I can do like this</p>\n\n<pre><code>stream.filter(t -&gt; func1(t) != null)\n    .filter(t -&gt; func2(t) != null)\n    .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But is there more beautiful/effective solution?</p>\n"},{"tags":["java","spring-boot","eclipse","maven","java-20"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688564190,"post_id":76620447,"comment_id":135090245,"body_markdown":"Why not update the entire Eclipse?","body":"Why not update the entire Eclipse?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1688566008,"post_id":76620447,"comment_id":135090744,"body_markdown":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level.","body":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level."}],"owner":{"account_id":18735729,"reputation":1,"user_id":22178985,"display_name":"Dario Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688561032,"answer_count":0,"score":0,"last_activity_date":1688560897,"creation_date":1688560897,"question_id":76620447,"body_markdown":"I have a project in spring boot (maven) that tries to start, but gives me a version error\r\n\r\nConsole:\r\n\r\n`Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication \tjava.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535`\r\n\r\n[Java Build Path](https://i.stack.imgur.com/v2Bil.png)\r\n\r\n[Java Compiler](https://i.stack.imgur.com/FkIx4.png) (I can&#39;t find anything more current than version 15)\r\n\r\nI want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.","title":"UnsupportedClassVersionError How to update compiler in eclipse?","body":"<p>I have a project in spring boot (maven) that tries to start, but gives me a version error</p>\n<p>Console:</p>\n<p><code>Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication   java.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535</code></p>\n<p><a href=\"https://i.stack.imgur.com/v2Bil.png\" rel=\"nofollow noreferrer\">Java Build Path</a></p>\n<p><a href=\"https://i.stack.imgur.com/FkIx4.png\" rel=\"nofollow noreferrer\">Java Compiler</a> (I can't find anything more current than version 15)</p>\n<p>I want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.</p>\n"},{"tags":["java","android","android-networking","networkonmainthread"],"comments":[{"owner":{"account_id":1436044,"reputation":1061,"user_id":1357390,"display_name":"Adrian Monk"},"score":139,"creation_date":1344343126,"post_id":6343166,"comment_id":15753428,"body_markdown":"[**Read this blog post**](http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html) on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above.","body":"<a href=\"http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html\" rel=\"nofollow noreferrer\"><b>Read this blog post</b></a> on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above."},{"owner":{"account_id":1676941,"reputation":498,"user_id":1542237,"accept_rate":50,"display_name":"Anuj Sharma"},"score":6,"creation_date":1390459151,"post_id":6343166,"comment_id":32102445,"body_markdown":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;.","body":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":3,"creation_date":1392159324,"post_id":6343166,"comment_id":32836328,"body_markdown":"There are many alternative libraries that solve this issue. Many are listed [at the bottom of this page](https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-). If you got more, we take them :)","body":"There are many alternative libraries that solve this issue. Many are listed <a href=\"https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-\" rel=\"nofollow noreferrer\">at the bottom of this page</a>. If you got more, we take them :)"},{"owner":{"account_id":47708,"reputation":3213,"user_id":141437,"accept_rate":88,"display_name":"Jay"},"score":0,"creation_date":1511131878,"post_id":6343166,"comment_id":81718447,"body_markdown":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  https://developer.android.com/about/versions/nougat/android-7.0-changes.html","body":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  <a href=\"https://developer.android.com/about/versions/nougat/android-7.0-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/nougat/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":355431,"reputation":21889,"user_id":694378,"display_name":"Mark Allison"},"down_vote_count":1,"up_vote_count":153,"is_accepted":false,"score":152,"last_activity_date":1391963122,"creation_date":1308053271,"answer_id":6343230,"question_id":6343166,"body_markdown":"You cannot perform network [I/O][1] on the UI thread on [Honeycomb][2]. Technically, it *is* possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You&#39;ll need to run a background process or use AsyncTask to perform your network transaction on a background thread.\r\n\r\nThere is an article about [Painless Threading][3] on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Input/output\r\n  [2]: https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [3]: http://android-developers.blogspot.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You cannot perform network <a href=\"http://en.wikipedia.org/wiki/Input/output\" rel=\"noreferrer\">I/O</a> on the UI thread on <a href=\"https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"noreferrer\">Honeycomb</a>. Technically, it <em>is</em> possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You'll need to run a background process or use AsyncTask to perform your network transaction on a background thread.</p>\n\n<p>There is an article about <a href=\"http://android-developers.blogspot.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless Threading</a> on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.</p>\n"},{"tags":[],"owner":{"account_id":171109,"reputation":36853,"user_id":398309,"accept_rate":68,"display_name":"Michael Spector"},"down_vote_count":14,"up_vote_count":2688,"is_accepted":true,"score":2674,"last_activity_date":1615925449,"creation_date":1308053705,"answer_id":6343299,"question_id":6343166,"body_markdown":"**NOTE : AsyncTask was deprecated in API level 30.   \r\n[AsyncTask | Android Developers][1]**\r\n\r\nThis exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in [`AsyncTask`][2]:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\r\n\r\n        private Exception exception;\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n            try {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n\r\n                return theRSSHandler.getFeed();\r\n            } catch (Exception e) {\r\n                this.exception = e;\r\n\r\n                return null;\r\n            } finally {\r\n                is.close();\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nHow to execute the task:\r\n\r\nIn `MainActivity.java` file you can add this line within your `oncreate()` method\r\n\r\n    new RetrieveFeedTask().execute(urlToRssFeed);\r\n\r\nDon&#39;t forget to add this to `AndroidManifest.xml` file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask\r\n  [2]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>NOTE : AsyncTask was deprecated in API level 30.<br />\n<a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"noreferrer\">AsyncTask | Android Developers</a></strong></p>\n<p>This exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\"><code>AsyncTask</code></a>:</p>\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\n\n    private Exception exception;\n\n    protected RSSFeed doInBackground(String... urls) {\n        try {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n\n            return theRSSHandler.getFeed();\n        } catch (Exception e) {\n            this.exception = e;\n\n            return null;\n        } finally {\n            is.close();\n        }\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>How to execute the task:</p>\n<p>In <code>MainActivity.java</code> file you can add this line within your <code>oncreate()</code> method</p>\n<pre><code>new RetrieveFeedTask().execute(urlToRssFeed);\n</code></pre>\n<p>Don't forget to add this to <code>AndroidManifest.xml</code> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197747,"reputation":8953,"user_id":1169115,"display_name":"user1169115"},"down_vote_count":154,"up_vote_count":926,"is_accepted":false,"score":772,"last_activity_date":1626949562,"creation_date":1329289190,"answer_id":9289190,"question_id":6343166,"body_markdown":"**You should almost always run network operations on a thread or as an asynchronous task.**\r\n\r\nBut it *is* possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.\r\n\r\nAdd:\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nIn your class,\r\n\r\nand\r\n\r\n*Add* this permission in the Android *manifest.xml* file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nConsequences:\r\n\r\nYour app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.\r\n\r\nAndroid has some good tips on good programming practices to design for responsiveness:\r\n[NetworkOnMainThreadException | Android Developers][1]\r\n\r\n  [1]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>You should almost always run network operations on a thread or as an asynchronous task.</strong></p>\n<p>But it <em>is</em> possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.</p>\n<p>Add:</p>\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>In your class,</p>\n<p>and</p>\n<p><em>Add</em> this permission in the Android <em>manifest.xml</em> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>Consequences:</p>\n<p>Your app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.</p>\n<p>Android has some good tips on good programming practices to design for responsiveness:\n<a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"noreferrer\">NetworkOnMainThreadException | Android Developers</a></p>\n"},{"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"down_vote_count":23,"up_vote_count":98,"is_accepted":false,"score":75,"last_activity_date":1586329170,"creation_date":1351062603,"answer_id":13044412,"question_id":6343166,"body_markdown":"You disable the strict mode using following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = \r\n    \t\tnew StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n**This is not recommended**: use the `AsyncTask` interface.\r\n\r\n[Full code for both the methods][1]\r\n\r\n\r\n  [1]: https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You disable the strict mode using following code:</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = \n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n\n<p><strong>This is not recommended</strong>: use the <code>AsyncTask</code> interface.</p>\n\n<p><a href=\"https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/\" rel=\"noreferrer\">Full code for both the methods</a></p>\n"},{"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1626950306,"creation_date":1351591592,"answer_id":13136668,"question_id":6343166,"body_markdown":"There are two solutions of this problem.\r\n\r\n1) Don&#39;t use a network call in the main UI thread. Use an async task for that.\r\n\r\n2) Write the below code into your MainActivity file after *setContentView(R.layout.activity_main);*:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\nAnd the below import statement into your Java file.\r\n\r\n    import android.os.StrictMode;\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are two solutions of this problem.</p>\n<ol>\n<li><p>Don't use a network call in the main UI thread. Use an async task for that.</p>\n</li>\n<li><p>Write the below code into your MainActivity file after <em>setContentView(R.layout.activity_main);</em>:</p>\n<p>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n}</p>\n</li>\n</ol>\n<p>And the below import statement into your Java file.</p>\n<pre><code>import android.os.StrictMode;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109205,"reputation":6111,"user_id":1099990,"display_name":"Dr.Luiji"},"down_vote_count":6,"up_vote_count":527,"is_accepted":false,"score":521,"last_activity_date":1688560171,"creation_date":1358785895,"answer_id":14443056,"question_id":6343166,"body_markdown":"I solved this problem using a new `Thread`.\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n        \r\n        @Override\r\n        public void run() {\r\n            try {\r\n    \t        // Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n    \r\n    thread.start();\t\r\n\r\n\t\t\t","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem using a new <code>Thread</code>.</p>\n<pre><code>Thread thread = new Thread(new Runnable() {\n    \n    @Override\n    public void run() {\n        try {\n            // Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nthread.start(); \n\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017594,"reputation":4774,"user_id":2559284,"accept_rate":93,"display_name":"sivag1"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1466629468,"creation_date":1374173542,"answer_id":17731654,"question_id":6343166,"body_markdown":"The top [answer of spektom][1] works perfect.\r\n\r\nIf you are writing the `AsyncTask` inline and not extending as a class, and on top of this, if there is a need to get a response out of the `AsyncTask`, one can use the `get()` method as below.\r\n\r\n    RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\r\n\r\n(From his example.)\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The top <a href=\"https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\">answer of spektom</a> works perfect.</p>\n\n<p>If you are writing the <code>AsyncTask</code> inline and not extending as a class, and on top of this, if there is a need to get a response out of the <code>AsyncTask</code>, one can use the <code>get()</code> method as below.</p>\n\n<pre><code>RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\n</code></pre>\n\n<p>(From his example.)</p>\n"},{"tags":[],"owner":{"account_id":1808870,"reputation":7519,"user_id":1645339,"accept_rate":60,"display_name":"venergiac"},"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1466629559,"creation_date":1376817528,"answer_id":18297581,"question_id":6343166,"body_markdown":"1. Do not use strictMode (only in debug mode)\r\n2. Do not change SDK version\r\n3. Do not use a separate thread\r\n\r\nUse Service or AsyncTask\r\n\r\nSee also Stack&amp;nbsp;Overflow question:\r\n\r\n*https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516*\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<ol>\n<li>Do not use strictMode (only in debug mode)</li>\n<li>Do not change SDK version</li>\n<li>Do not use a separate thread</li>\n</ol>\n\n<p>Use Service or AsyncTask</p>\n\n<p>See also Stack&nbsp;Overflow question:</p>\n\n<p><em><a href=\"https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516\">android.os.NetworkOnMainThreadException sending an email from Android</a></em></p>\n"},{"tags":[],"owner":{"account_id":2850505,"reputation":541,"user_id":2447827,"display_name":"raihan ahmed"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1391963250,"creation_date":1378368994,"answer_id":18631130,"question_id":6343166,"body_markdown":"This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).\r\n\r\nThis is to encourage using separate threads for network operations. See [AsyncTask][1] for more details on how to perform network activities the right way.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).</p>\n\n<p>This is to encourage using separate threads for network operations. See <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\">AsyncTask</a> for more details on how to perform network activities the right way.</p>\n"},{"tags":[],"owner":{"account_id":1353945,"reputation":2005,"user_id":1292736,"display_name":"rharvey"},"down_vote_count":7,"up_vote_count":35,"is_accepted":false,"score":28,"last_activity_date":1466629648,"creation_date":1379420121,"answer_id":18849603,"question_id":6343166,"body_markdown":"For me it was this:\r\n\r\n    &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;10&quot; /&gt;\r\n\r\nThe device I was testing my app on was 4.1.2 which is SDK Version 16!\r\n\r\nMake the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -&gt; *Build Path* -&gt; *Android*, and it should be the one that is ticked.\r\n\r\nAlso, as others have mentioned, include the correct permissions to access the Internet:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>For me it was this:</p>\n\n<pre><code>&lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"10\" /&gt;\n</code></pre>\n\n<p>The device I was testing my app on was 4.1.2 which is SDK Version 16!</p>\n\n<p>Make the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -> <em>Build Path</em> -> <em>Android</em>, and it should be the one that is ticked.</p>\n\n<p>Also, as others have mentioned, include the correct permissions to access the Internet:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1688560196,"creation_date":1387895588,"answer_id":20762621,"question_id":6343166,"body_markdown":"Do the network actions on another thread.\r\n\r\nFor example:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do network action in this function\r\n        }\r\n    }).start();\r\n\r\nAnd add this to file *AndroidManifest.xml*:    \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do the network actions on another thread.</p>\n<p>For example:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do network action in this function\n    }\n}).start();\n</code></pre>\n<p>And add this to file <em>AndroidManifest.xml</em>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440434,"reputation":5505,"user_id":1360732,"display_name":"Kapil Vats"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1391963381,"creation_date":1388946518,"answer_id":20937422,"question_id":6343166,"body_markdown":"You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use `Handler` and pass the `Message`. \r\n\r\nTo simplify all these things, Android provides various ways, like `AsyncTask`, `AsyncTaskLoader`, `CursorLoader` or `IntentService`. So you can use any of these according to your requirements.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use <code>Handler</code> and pass the <code>Message</code>. </p>\n\n<p>To simplify all these things, Android provides various ways, like <code>AsyncTask</code>, <code>AsyncTaskLoader</code>, <code>CursorLoader</code> or <code>IntentService</code>. So you can use any of these according to your requirements.</p>\n"},{"tags":[],"owner":{"account_id":3765884,"reputation":1056,"user_id":3129443,"accept_rate":33,"display_name":"Dhruv Jindal"},"down_vote_count":4,"up_vote_count":68,"is_accepted":false,"score":64,"last_activity_date":1688560249,"creation_date":1389680053,"answer_id":21107128,"question_id":6343166,"body_markdown":"Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement `AsyncTask`.\r\n\r\nThis is how you run a task in a child thread:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation goes here\r\n            } \r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement <code>AsyncTask</code>.</p>\n<p>This is how you run a task in a child thread:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation goes here\n        } \n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217502,"reputation":7997,"user_id":473338,"display_name":"Stevie"},"down_vote_count":2,"up_vote_count":197,"is_accepted":false,"score":195,"last_activity_date":1626950068,"creation_date":1390396652,"answer_id":21284021,"question_id":6343166,"body_markdown":"**The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you _really_ know what you are doing. Some of the down-sides include:**\r\n\r\n * AsyncTask&#39;s created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask&#39;s background work completes. If the user&#39;s connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don&#39;t cancel the executing tasks), or the user navigates away from the Activity.\r\n * AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded `executeOnExecutor` method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.\r\n\r\nIf you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:\r\n\r\n 1. Using a library that does a nice job of this for you - there&#39;s a nice comparison of networking libs in [this question][1], or\r\n 2. Using a `Service` or `IntentService` instead, perhaps with a `PendingIntent` to return the result via the Activity&#39;s `onActivityResult` method.\r\n\r\n*IntentService approach*\r\n--\r\n\r\nDownsides:\r\n\r\n * More code and complexity than `AsyncTask`, though not as much as you might think\r\n * Will queue requests and run them on a _single_ background thread. You can easily control this by replacing `IntentService` with an equivalent `Service` implementation, perhaps like [this one][2].\r\n * Um, I can&#39;t think of any others right now actually\r\n\r\nUpsides:\r\n\r\n * Avoids the short-term memory leak problem\r\n * If your activity restarts while network operations are in-flight it can still receive the result of the download via its `onActivityResult` method\r\n * A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from `AsyncTask` in an `Activity`, but if the user context-switches out of the app to take a phone call, the system _may_ kill the app before the upload completes. It is _less likely_ to kill an application with an active `Service`.\r\n * If you use your own concurrent version of `IntentService` (like the one I linked above) you can control the level of concurrency via the `Executor`.\r\n\r\n*Implementation summary*\r\n---\r\n\r\nYou can implement an `IntentService` to perform downloads on a single background thread quite easily.\r\n\r\nStep 1: Create an `IntentService` to perform the download. You can tell it what to download via `Intent` extras, and pass it a `PendingIntent` to use to return the result to the `Activity`:\r\n\r\n    import android.app.IntentService;\r\n    import android.app.PendingIntent;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n    public class DownloadIntentService extends IntentService {\r\n\r\n        private static final String TAG = DownloadIntentService.class.getSimpleName();\r\n\r\n        public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\r\n        public static final String URL_EXTRA = &quot;url&quot;;\r\n        public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\r\n\r\n        public static final int RESULT_CODE = 0;\r\n        public static final int INVALID_URL_CODE = 1;\r\n        public static final int ERROR_CODE = 2;\r\n\r\n        private IllustrativeRSSParser parser;\r\n\r\n        public DownloadIntentService() {\r\n            super(TAG);\r\n\r\n            // make one and reuse, in the case where more than one intent is queued\r\n            parser = new IllustrativeRSSParser();\r\n        }\r\n\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n            PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\r\n            InputStream in = null;\r\n            try {\r\n                try {\r\n                    URL url = new URL(intent.getStringExtra(URL_EXTRA));\r\n                    IllustrativeRSS rss = parser.parse(in = url.openStream());\r\n\r\n                    Intent result = new Intent();\r\n                    result.putExtra(RSS_RESULT_EXTRA, rss);\r\n\r\n                    reply.send(this, RESULT_CODE, result);\r\n                } catch (MalformedURLException exc) {\r\n                    reply.send(INVALID_URL_CODE);\r\n                } catch (Exception exc) {\r\n                    // could do better by treating the different sax/xml exceptions individually\r\n                    reply.send(ERROR_CODE);\r\n                }\r\n            } catch (PendingIntent.CanceledException exc) {\r\n                Log.i(TAG, &quot;reply cancelled&quot;, exc);\r\n            }\r\n        }\r\n    }\r\n\r\nStep 2: Register the service in the manifest:\r\n\r\n    &lt;service\r\n            android:name=&quot;.DownloadIntentService&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n\r\nStep 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:\r\n\r\n    PendingIntent pendingResult = createPendingResult(\r\n        RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\r\n    Intent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\r\n    intent.putExtra(DownloadIntentService.URL_EXTRA, URL);\r\n    intent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\r\n    startService(intent);\r\n\r\nStep 4: Handle the result in onActivityResult:\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\r\n            switch (resultCode) {\r\n                case DownloadIntentService.INVALID_URL_CODE:\r\n                    handleInvalidURL();\r\n                    break;\r\n                case DownloadIntentService.ERROR_CODE:\r\n                    handleError(data);\r\n                    break;\r\n                case DownloadIntentService.RESULT_CODE:\r\n                    handleRSS(data);\r\n                    break;\r\n            }\r\n            handleRSS(data);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\nA GitHub project containing a complete working Android Studio/[Gradle][3] project is available [here][4].\r\n\r\n  [1]: https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\r\n  [2]: https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\r\n  [3]: https://en.wikipedia.org/wiki/Gradle\r\n  [4]: https://github.com/steveliles/Android-Download-Service-Example\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you <em>really</em> know what you are doing. Some of the down-sides include:</strong></p>\n<ul>\n<li>AsyncTask's created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask's background work completes. If the user's connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don't cancel the executing tasks), or the user navigates away from the Activity.</li>\n<li>AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded <code>executeOnExecutor</code> method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.</li>\n</ul>\n<p>If you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:</p>\n<ol>\n<li>Using a library that does a nice job of this for you - there's a nice comparison of networking libs in <a href=\"https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\">this question</a>, or</li>\n<li>Using a <code>Service</code> or <code>IntentService</code> instead, perhaps with a <code>PendingIntent</code> to return the result via the Activity's <code>onActivityResult</code> method.</li>\n</ol>\n<h2 id=\"intentservice-approach\"><em>IntentService approach</em></h2>\n<p>Downsides:</p>\n<ul>\n<li>More code and complexity than <code>AsyncTask</code>, though not as much as you might think</li>\n<li>Will queue requests and run them on a <em>single</em> background thread. You can easily control this by replacing <code>IntentService</code> with an equivalent <code>Service</code> implementation, perhaps like <a href=\"https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\" rel=\"noreferrer\">this one</a>.</li>\n<li>Um, I can't think of any others right now actually</li>\n</ul>\n<p>Upsides:</p>\n<ul>\n<li>Avoids the short-term memory leak problem</li>\n<li>If your activity restarts while network operations are in-flight it can still receive the result of the download via its <code>onActivityResult</code> method</li>\n<li>A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from <code>AsyncTask</code> in an <code>Activity</code>, but if the user context-switches out of the app to take a phone call, the system <em>may</em> kill the app before the upload completes. It is <em>less likely</em> to kill an application with an active <code>Service</code>.</li>\n<li>If you use your own concurrent version of <code>IntentService</code> (like the one I linked above) you can control the level of concurrency via the <code>Executor</code>.</li>\n</ul>\n<h2 id=\"implementation-summary\"><em>Implementation summary</em></h2>\n<p>You can implement an <code>IntentService</code> to perform downloads on a single background thread quite easily.</p>\n<p>Step 1: Create an <code>IntentService</code> to perform the download. You can tell it what to download via <code>Intent</code> extras, and pass it a <code>PendingIntent</code> to use to return the result to the <code>Activity</code>:</p>\n<pre><code>import android.app.IntentService;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DownloadIntentService extends IntentService {\n\n    private static final String TAG = DownloadIntentService.class.getSimpleName();\n\n    public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\n    public static final String URL_EXTRA = &quot;url&quot;;\n    public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\n\n    public static final int RESULT_CODE = 0;\n    public static final int INVALID_URL_CODE = 1;\n    public static final int ERROR_CODE = 2;\n\n    private IllustrativeRSSParser parser;\n\n    public DownloadIntentService() {\n        super(TAG);\n\n        // make one and reuse, in the case where more than one intent is queued\n        parser = new IllustrativeRSSParser();\n    }\n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n        PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\n        InputStream in = null;\n        try {\n            try {\n                URL url = new URL(intent.getStringExtra(URL_EXTRA));\n                IllustrativeRSS rss = parser.parse(in = url.openStream());\n\n                Intent result = new Intent();\n                result.putExtra(RSS_RESULT_EXTRA, rss);\n\n                reply.send(this, RESULT_CODE, result);\n            } catch (MalformedURLException exc) {\n                reply.send(INVALID_URL_CODE);\n            } catch (Exception exc) {\n                // could do better by treating the different sax/xml exceptions individually\n                reply.send(ERROR_CODE);\n            }\n        } catch (PendingIntent.CanceledException exc) {\n            Log.i(TAG, &quot;reply cancelled&quot;, exc);\n        }\n    }\n}\n</code></pre>\n<p>Step 2: Register the service in the manifest:</p>\n<pre><code>&lt;service\n        android:name=&quot;.DownloadIntentService&quot;\n        android:exported=&quot;false&quot;/&gt;\n</code></pre>\n<p>Step 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:</p>\n<pre><code>PendingIntent pendingResult = createPendingResult(\n    RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\nIntent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\nintent.putExtra(DownloadIntentService.URL_EXTRA, URL);\nintent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\nstartService(intent);\n</code></pre>\n<p>Step 4: Handle the result in onActivityResult:</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\n        switch (resultCode) {\n            case DownloadIntentService.INVALID_URL_CODE:\n                handleInvalidURL();\n                break;\n            case DownloadIntentService.ERROR_CODE:\n                handleError(data);\n                break;\n            case DownloadIntentService.RESULT_CODE:\n                handleRSS(data);\n                break;\n        }\n        handleRSS(data);\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n<p>A GitHub project containing a complete working Android Studio/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> project is available <a href=\"https://github.com/steveliles/Android-Download-Service-Example\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":185571,"reputation":846,"user_id":1837505,"accept_rate":0,"display_name":"perry"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1678288551,"creation_date":1393309431,"answer_id":22006259,"question_id":6343166,"body_markdown":"&gt; This is only thrown for applications targeting the [Honeycomb][1] SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.\r\n\r\n[The error is the SDK warning!][2]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<blockquote>\n<p>This is only thrown for applications targeting the <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow noreferrer\">Honeycomb</a> SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">The error is the SDK warning!</a></p>\n"},{"tags":[],"owner":{"account_id":3702180,"reputation":467,"user_id":3081554,"accept_rate":100,"display_name":"dhiraj kakran"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1543838844,"creation_date":1393681439,"answer_id":22115167,"question_id":6343166,"body_markdown":"**Use this in Your Activity**\r\n\r\n\t\tbtnsub.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\tnew Thread(new Runnable() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t//Initialize soap request + add parameters\r\n\t\t\t\t\t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\r\n\r\n\t\t\t\t\t\t//Use this to add parameters\r\n\t\t\t\t\t\trequest.addProperty(&quot;pincode&quot;, txtpincode.getText().toString());\r\n\t\t\t\t\t\trequest.addProperty(&quot;bg&quot;, bloodgroup.getSelectedItem().toString());\r\n\r\n\t\t\t\t\t\t//Declare the version of the SOAP request\r\n\t\t\t\t\t\tSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n\t\t\t\t\t\tenvelope.setOutputSoapObject(request);\r\n\t\t\t\t\t\tenvelope.dotNet = true;\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\n\r\n\t\t\t\t\t\t\t//this is the actual part that will call the webservice\r\n\t\t\t\t\t\t\tandroidHttpTransport.call(SOAP_ACTION1, envelope);\r\n\r\n\t\t\t\t\t\t\t// Get the SoapResult from the envelope body.\r\n\t\t\t\t\t\t\tSoapObject result = (SoapObject) envelope.getResponse();\r\n\t\t\t\t\t\t\tLog.e(&quot;result data&quot;, &quot;data&quot; + result);\r\n\t\t\t\t\t\t\tSoapObject root = (SoapObject) result.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals = (SoapObject) root.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\r\n\t\t\t\t\t\t\t//\r\n\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;********Count : &quot; + root.getPropertyCount());\r\n\r\n\t\t\t\t\t\t\tvalue = new ArrayList&lt;Detailinfo&gt;();\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; root.getPropertyCount(); i++) {\r\n\t\t\t\t\t\t\t\tSoapObject s_deals = (SoapObject) root.getProperty(i);\r\n\t\t\t\t\t\t\t\tDetailinfo info = new Detailinfo();\r\n\r\n\t\t\t\t\t\t\t\tinfo.setFirstName(s_deals.getProperty(&quot;Firstname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setLastName(s_deals.getProperty(&quot;Lastname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setDOB(s_deals.getProperty(&quot;DOB&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setGender(s_deals.getProperty(&quot;Gender&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAddress(s_deals.getProperty(&quot;Address&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setCity(s_deals.getProperty(&quot;City&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setState(s_deals.getProperty(&quot;State&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setPinecode(s_deals.getProperty(&quot;Pinecode&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setMobile(s_deals.getProperty(&quot;Mobile&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setEmail(s_deals.getProperty(&quot;Email&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setBloodgroup(s_deals.getProperty(&quot;Bloodgroup&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAdddate(s_deals.getProperty(&quot;Adddate&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setWaight(s_deals.getProperty(&quot;waight&quot;).toString());\r\n\t\t\t\t\t\t\t\tvalue.add(info);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tIntent intent = new Intent(getApplicationContext(), ComposeMail.class);\r\n\t\t\t\t\t\t//intent.putParcelableArrayListExtra(&quot;valuesList&quot;, value);\r\n\r\n\t\t\t\t\t\tstartActivity(intent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).start();\r\n\t\t\t}\r\n\t\t});\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>Use this in Your Activity</strong></p>\n\n<pre><code>    btnsub.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            new Thread(new Runnable() {\n\n                @Override\n                public void run() {\n                    // TODO Auto-generated method stub\n\n                    //Initialize soap request + add parameters\n                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\n\n                    //Use this to add parameters\n                    request.addProperty(\"pincode\", txtpincode.getText().toString());\n                    request.addProperty(\"bg\", bloodgroup.getSelectedItem().toString());\n\n                    //Declare the version of the SOAP request\n                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n                    envelope.setOutputSoapObject(request);\n                    envelope.dotNet = true;\n\n                    try {\n                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n\n                        //this is the actual part that will call the webservice\n                        androidHttpTransport.call(SOAP_ACTION1, envelope);\n\n                        // Get the SoapResult from the envelope body.\n                        SoapObject result = (SoapObject) envelope.getResponse();\n                        Log.e(\"result data\", \"data\" + result);\n                        SoapObject root = (SoapObject) result.getProperty(0);\n                        // SoapObject s_deals = (SoapObject) root.getProperty(0);\n                        // SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\n                        //\n\n                        System.out.println(\"********Count : \" + root.getPropertyCount());\n\n                        value = new ArrayList&lt;Detailinfo&gt;();\n\n                        for (int i = 0; i &lt; root.getPropertyCount(); i++) {\n                            SoapObject s_deals = (SoapObject) root.getProperty(i);\n                            Detailinfo info = new Detailinfo();\n\n                            info.setFirstName(s_deals.getProperty(\"Firstname\").toString());\n                            info.setLastName(s_deals.getProperty(\"Lastname\").toString());\n                            info.setDOB(s_deals.getProperty(\"DOB\").toString());\n                            info.setGender(s_deals.getProperty(\"Gender\").toString());\n                            info.setAddress(s_deals.getProperty(\"Address\").toString());\n                            info.setCity(s_deals.getProperty(\"City\").toString());\n                            info.setState(s_deals.getProperty(\"State\").toString());\n                            info.setPinecode(s_deals.getProperty(\"Pinecode\").toString());\n                            info.setMobile(s_deals.getProperty(\"Mobile\").toString());\n                            info.setEmail(s_deals.getProperty(\"Email\").toString());\n                            info.setBloodgroup(s_deals.getProperty(\"Bloodgroup\").toString());\n                            info.setAdddate(s_deals.getProperty(\"Adddate\").toString());\n                            info.setWaight(s_deals.getProperty(\"waight\").toString());\n                            value.add(info);\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    Intent intent = new Intent(getApplicationContext(), ComposeMail.class);\n                    //intent.putParcelableArrayListExtra(\"valuesList\", value);\n\n                    startActivity(intent);\n                }\n            }).start();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1450228,"reputation":38149,"user_id":1367392,"accept_rate":89,"display_name":"Oleksiy"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1430412371,"creation_date":1402542654,"answer_id":24175886,"question_id":6343166,"body_markdown":"Using [Android Annotations][1] is an option. It will allow you to simply run any method in a background thread:\r\n\r\n    // normal method\r\n    private void normal() {\r\n        doSomething(); // do something in background\r\n    }\r\n\r\n    @Background\r\n    protected void doSomething() \r\n        // run your networking code here\r\n    }\r\n\r\n  [1]: http://androidannotations.org/\r\n\r\nNote, that although it provides benefits of simplicity and readability, it has its disadvantages. ","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Using <a href=\"http://androidannotations.org/\" rel=\"noreferrer\">Android Annotations</a> is an option. It will allow you to simply run any method in a background thread:</p>\n\n<pre><code>// normal method\nprivate void normal() {\n    doSomething(); // do something in background\n}\n\n@Background\nprotected void doSomething() \n    // run your networking code here\n}\n</code></pre>\n\n<p>Note, that although it provides benefits of simplicity and readability, it has its disadvantages. </p>\n"},{"tags":[],"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1403645573,"creation_date":1403645573,"answer_id":24396701,"question_id":6343166,"body_markdown":"Just to spell out something explicitly:\r\n\r\nThe main thread is basically the UI thread.\r\n\r\nSo saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means *you cannot do networking operations in a `*runOnUiThread(new Runnable() { ... }*` block* inside some other thread, either.\r\n\r\n(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Just to spell out something explicitly:</p>\n\n<p>The main thread is basically the UI thread.</p>\n\n<p>So saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means <em>you cannot do networking operations in a <code>*runOnUiThread(new Runnable() { ... }*</code> block</em> inside some other thread, either.</p>\n\n<p>(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)</p>\n"},{"tags":[],"owner":{"account_id":3288315,"reputation":3633,"user_id":2767181,"accept_rate":80,"display_name":"Ashwin S Ashok"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1504759987,"creation_date":1405490977,"answer_id":24773389,"question_id":6343166,"body_markdown":"The error is due to executing long running operations in main thread,You can easily rectify the problem by using [AsynTask][1] or [Thread][2]. You can checkout this library [AsyncHTTPClient][3] for better handling. \r\n\r\n    AsyncHttpClient client = new AsyncHttpClient();\r\n    client.get(&quot;http://www.google.com&quot;, new AsyncHttpResponseHandler() {\r\n\r\n        @Override\r\n        public void onStart() {\r\n            // Called before a request is started\r\n        }\r\n\r\n        @Override\r\n        public void onSuccess(int statusCode, Header[] headers, byte[] response) {\r\n            // Called when response HTTP status is &quot;200 OK&quot;\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\r\n            // Called when response HTTP status is &quot;4XX&quot; (for example, 401, 403, 404)\r\n        }\r\n\r\n        @Override\r\n        public void onRetry(int retryNo) {\r\n            // Called when request is retried\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [3]: http://loopj.com/android-async-http/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The error is due to executing long running operations in main thread,You can easily rectify the problem by using <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\">AsynTask</a> or <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"noreferrer\">Thread</a>. You can checkout this library <a href=\"http://loopj.com/android-async-http/\" rel=\"noreferrer\">AsyncHTTPClient</a> for better handling. </p>\n\n<pre><code>AsyncHttpClient client = new AsyncHttpClient();\nclient.get(\"http://www.google.com\", new AsyncHttpResponseHandler() {\n\n    @Override\n    public void onStart() {\n        // Called before a request is started\n    }\n\n    @Override\n    public void onSuccess(int statusCode, Header[] headers, byte[] response) {\n        // Called when response HTTP status is \"200 OK\"\n    }\n\n    @Override\n    public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\n        // Called when response HTTP status is \"4XX\" (for example, 401, 403, 404)\n    }\n\n    @Override\n    public void onRetry(int retryNo) {\n        // Called when request is retried\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2534232,"reputation":492,"user_id":2201778,"accept_rate":43,"display_name":"amardeep"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1466629956,"creation_date":1405943600,"answer_id":24864462,"question_id":6343166,"body_markdown":"This exception occurs due to any heavy task performed on the main thread if that performing task takes *too much time*.\r\n\r\nTo avoid this, we can handle it using **threads** or **executers**\r\n\r\n    Executors.newSingleThreadExecutor().submit(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // You can perform your task here.\r\n        }\r\n    });\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception occurs due to any heavy task performed on the main thread if that performing task takes <em>too much time</em>.</p>\n\n<p>To avoid this, we can handle it using <strong>threads</strong> or <strong>executers</strong></p>\n\n<pre><code>Executors.newSingleThreadExecutor().submit(new Runnable() {\n    @Override\n    public void run() {\n        // You can perform your task here.\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1688560283,"creation_date":1406544193,"answer_id":24993517,"question_id":6343166,"body_markdown":"Put your code inside:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\nOr:\r\n\r\n    class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        protected Void doInBackground(Void... arg0) {\r\n            // Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(Void result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Put your code inside:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p>Or:</p>\n<pre><code>class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    protected Void doInBackground(Void... arg0) {\n        // Your implementation\n    }\n\n    protected void onPostExecute(Void result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678073,"reputation":151,"user_id":2313968,"display_name":"Kumarsunil"},"down_vote_count":10,"up_vote_count":5,"is_accepted":false,"score":-5,"last_activity_date":1466630171,"creation_date":1418357541,"answer_id":27436728,"question_id":6343166,"body_markdown":"Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the &quot;**android.os.NetworkOnMainThreadException**&quot;.\r\n\r\nThere can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the *page not found* error to the user, which normally you don&#39;t what to show.\r\n\r\nFor checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.\r\n\r\nThis can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don&#39;t permit all the policy because you don&#39;t need it.\r\n\r\nYou should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the \"<strong>android.os.NetworkOnMainThreadException</strong>\".</p>\n\n<p>There can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the <em>page not found</em> error to the user, which normally you don't what to show.</p>\n\n<p>For checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.</p>\n\n<p>This can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don't permit all the policy because you don't need it.</p>\n\n<p>You should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225424,"reputation":5687,"user_id":2721917,"accept_rate":57,"display_name":"Subhalaxmi"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1466630234,"creation_date":1419149867,"answer_id":27587768,"question_id":6343166,"body_markdown":"I solved this problem in a simple way...\r\n\r\nI added after `oncreate` `StrictMode.enableDefaults();` and solved this.\r\n\r\nOr\r\n\r\nuse `Service` or `AsyncTask` to solve this\r\n\r\nNote:\r\n\r\n    Do not change SDK version\r\n    Do not use a separate thread\r\n\r\nFor more, [check this][1].\r\n\r\n  [1]: http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem in a simple way...</p>\n\n<p>I added after <code>oncreate</code> <code>StrictMode.enableDefaults();</code> and solved this.</p>\n\n<p>Or</p>\n\n<p>use <code>Service</code> or <code>AsyncTask</code> to solve this</p>\n\n<p>Note:</p>\n\n<pre><code>Do not change SDK version\nDo not use a separate thread\n</code></pre>\n\n<p>For more, <a href=\"http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\" rel=\"nofollow\">check this</a>.</p>\n"},{"tags":[],"owner":{"account_id":3796533,"reputation":123,"user_id":3151440,"accept_rate":100,"display_name":"Gurpreet singh"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1466630411,"creation_date":1422352603,"answer_id":28167574,"question_id":6343166,"body_markdown":"Use the below code to perform heavy tasks.\r\n\r\n    // Your package here\r\n\r\n\r\n    import java.util.List;\r\n    import org.apache.http.NameValuePair;\r\n\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.view.View.OnSystemUiVisibilityChangeListener;\r\n\r\n    public class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        Context context;\r\n        ProgressDialog pDialog;\r\n\r\n        // Three Constructors\r\n        public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\r\n            context = a;\r\n            method = m;\r\n            parameters = p;\r\n        }\r\n\r\n        public AsyncRequest(Activity a) {\r\n            this.caller = (OnAsyncRequestComplete) a;\r\n            context = a;\r\n        }\r\n\r\n        public String doInBackground(String... urls) {\r\n\r\n            //Perform your task here\r\n            return result;\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            pDialog = new ProgressDialog(context);\r\n            pDialog.setMessage(&quot;Please wait..&quot;);\r\n            pDialog.setCancelable(false);\r\n            pDialog.show();\r\n        }\r\n\r\n        public void onProgressUpdate(Integer... progress) {\r\n            // You can implement some progressBar and update it in this record.\r\n            //   setProgressPercent(progress[0]);\r\n        }\r\n\r\n        public void onPostExecute(String response) {\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n            // Get the result here\r\n        }\r\n\r\n        protected void onCancelled(String response) {\r\n\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Use the below code to perform heavy tasks.</p>\n\n<pre><code>// Your package here\n\n\nimport java.util.List;\nimport org.apache.http.NameValuePair;\n\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.view.View.OnSystemUiVisibilityChangeListener;\n\npublic class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\n\n    Context context;\n    ProgressDialog pDialog;\n\n    // Three Constructors\n    public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\n        context = a;\n        method = m;\n        parameters = p;\n    }\n\n    public AsyncRequest(Activity a) {\n        this.caller = (OnAsyncRequestComplete) a;\n        context = a;\n    }\n\n    public String doInBackground(String... urls) {\n\n        //Perform your task here\n        return result;\n    }\n\n    public void onPreExecute() {\n        pDialog = new ProgressDialog(context);\n        pDialog.setMessage(\"Please wait..\");\n        pDialog.setCancelable(false);\n        pDialog.show();\n    }\n\n    public void onProgressUpdate(Integer... progress) {\n        // You can implement some progressBar and update it in this record.\n        //   setProgressPercent(progress[0]);\n    }\n\n    public void onPostExecute(String response) {\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n        // Get the result here\n    }\n\n    protected void onCancelled(String response) {\n\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1626976468,"creation_date":1423869017,"answer_id":28510296,"question_id":6343166,"body_markdown":"This works. I just made [Dr.Luiji&#39;s answer][1] a little simpler.\r\n\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                //Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }.start();\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This works. I just made <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\">Dr.Luiji's answer</a> a little simpler.</p>\n<pre><code>new Thread() {\n    @Override\n    public void run() {\n        try {\n            //Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597730,"reputation":2015,"user_id":2251011,"accept_rate":50,"display_name":"msysmilu"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1424169091,"creation_date":1424169091,"answer_id":28559884,"question_id":6343166,"body_markdown":"Although above there is a huge solution pool, no one mentioned `com.koushikdutta.ion`: https://github.com/koush/ion\r\n\r\nIt&#39;s also **asynchronous** and **very simple** to use:\r\n\r\n\r\n    Ion.with(context)\r\n    .load(&quot;http://example.com/thing.json&quot;)\r\n    .asJsonObject()\r\n    .setCallback(new FutureCallback&lt;JsonObject&gt;() {\r\n       @Override\r\n        public void onCompleted(Exception e, JsonObject result) {\r\n            // do stuff with the result or error\r\n        }\r\n    });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Although above there is a huge solution pool, no one mentioned <code>com.koushikdutta.ion</code>: <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></p>\n\n<p>It's also <strong>asynchronous</strong> and <strong>very simple</strong> to use:</p>\n\n<pre><code>Ion.with(context)\n.load(\"http://example.com/thing.json\")\n.asJsonObject()\n.setCallback(new FutureCallback&lt;JsonObject&gt;() {\n   @Override\n    public void onCompleted(Exception e, JsonObject result) {\n        // do stuff with the result or error\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4064618,"reputation":1215,"user_id":3340034,"display_name":"prat3ik-patel"},"down_vote_count":12,"up_vote_count":9,"is_accepted":false,"score":-3,"last_activity_date":1626978808,"creation_date":1424929477,"answer_id":28735304,"question_id":6343166,"body_markdown":"You have to simply add the following line in file *manifest.xml* after the manifest tag\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nAnd in the activity file, add the following code after the binding statement:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You have to simply add the following line in file <em>manifest.xml</em> after the manifest tag</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>And in the activity file, add the following code after the binding statement:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355715,"reputation":8016,"user_id":1294150,"accept_rate":24,"display_name":"Ponsuyambu"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1466847171,"creation_date":1435218179,"answer_id":31044168,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.</p>\n"},{"tags":[],"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1626975431,"creation_date":1437530744,"answer_id":31552681,"question_id":6343166,"body_markdown":"In simple words,\r\n\r\n***Do not do network work in the UI thread***\r\n\r\nFor example, if you do an HTTP request, that is a network action.\r\n\r\n**Solution:**\r\n\r\n 1. You have to create a new Thread\r\n 2. **Or** use the [AsyncTask class][1]\r\n\r\n**Way:**\r\n\r\nPut all your works inside\r\n\r\n 1. The `run()` method of the new thread\r\n 2. **Or** the `doInBackground()` method of the AsyncTask class.\r\n\r\n**But:**\r\n\r\nWhen you get something from a network response and want to show it on your view (like display response message in TextView), you need to **return back to the UI** thread.\r\n\r\nIf you don&#39;t do it, you will get `ViewRootImpl$CalledFromWrongThreadException`.\r\n\r\n**How-to**\r\n\r\n 1. While using AsyncTask, update the view from the `onPostExecute()` method\r\n 2. **Or** call the [`runOnUiThread()`][2] method and update the view inside the `run()` method.\r\n\r\n  [1]: https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\r\n  [2]: https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>In simple words,</p>\n<p><em><strong>Do not do network work in the UI thread</strong></em></p>\n<p>For example, if you do an HTTP request, that is a network action.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>You have to create a new Thread</li>\n<li><strong>Or</strong> use the <a href=\"https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\" rel=\"nofollow noreferrer\">AsyncTask class</a></li>\n</ol>\n<p><strong>Way:</strong></p>\n<p>Put all your works inside</p>\n<ol>\n<li>The <code>run()</code> method of the new thread</li>\n<li><strong>Or</strong> the <code>doInBackground()</code> method of the AsyncTask class.</li>\n</ol>\n<p><strong>But:</strong></p>\n<p>When you get something from a network response and want to show it on your view (like display response message in TextView), you need to <strong>return back to the UI</strong> thread.</p>\n<p>If you don't do it, you will get <code>ViewRootImpl$CalledFromWrongThreadException</code>.</p>\n<p><strong>How-to</strong></p>\n<ol>\n<li>While using AsyncTask, update the view from the <code>onPostExecute()</code> method</li>\n<li><strong>Or</strong> call the <a href=\"https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\"><code>runOnUiThread()</code></a> method and update the view inside the <code>run()</code> method.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5725982,"reputation":1863,"user_id":4522954,"accept_rate":67,"display_name":"RevanthKrishnaKumar V."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466847331,"creation_date":1439454374,"answer_id":31983115,"question_id":6343166,"body_markdown":"Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":5810354,"reputation":1190,"user_id":4581645,"display_name":"RobotCharlie"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978181,"creation_date":1439776048,"answer_id":32041717,"question_id":6343166,"body_markdown":"You can actually start a new Thread. I had this problem before and solved it by this way.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can actually start a new Thread. I had this problem before and solved it by this way.</p>\n"},{"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688560551,"creation_date":1450430601,"answer_id":34352221,"question_id":6343166,"body_markdown":"You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of `AsyncTask`, you can get your result in `onPostExecute` method and you will be in the UI thread and you can populate UI with data from web service or something like that.\r\n\r\nExample: Suppose you want to download an image from an URL: https://www.samplewebsite.com/sampleimage.jpg\r\n\r\nSolution using `AsyncTask`:\r\n`&lt;String, Void, Bitmap&gt;` are `&lt;Params, Progress, Result&gt;` respectively.\r\n\r\n        public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\r\n        {\r\n            @Override\r\n            protected void onPreExecute() {\r\n                // Show progress dialog\r\n                super.onPreExecute();\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Bitmap bitmap) {\r\n                //Populate Ui\r\n                super.onPostExecute(bitmap);\r\n            }\r\n\r\n            @Override\r\n            protected Bitmap doInBackground(String... params) {\r\n                // Open URL connection read bitmaps and return form here\r\n                return result;\r\n            }\r\n\r\n            @Override\r\n            protected void onProgressUpdate(Void... values) {\r\n                // Show progress update\r\n                super.onProgressUpdate(values);\r\n            }\r\n        }\r\n    }\r\n\r\nNote: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of <code>AsyncTask</code>, you can get your result in <code>onPostExecute</code> method and you will be in the UI thread and you can populate UI with data from web service or something like that.</p>\n<p>Example: Suppose you want to download an image from an URL: <a href=\"https://www.samplewebsite.com/sampleimage.jpg\" rel=\"nofollow noreferrer\">https://www.samplewebsite.com/sampleimage.jpg</a></p>\n<p>Solution using <code>AsyncTask</code>:\n<code>&lt;String, Void, Bitmap&gt;</code> are <code>&lt;Params, Progress, Result&gt;</code> respectively.</p>\n<pre><code>    public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\n    {\n        @Override\n        protected void onPreExecute() {\n            // Show progress dialog\n            super.onPreExecute();\n        }\n\n        @Override\n        protected void onPostExecute(Bitmap bitmap) {\n            //Populate Ui\n            super.onPostExecute(bitmap);\n        }\n\n        @Override\n        protected Bitmap doInBackground(String... params) {\n            // Open URL connection read bitmaps and return form here\n            return result;\n        }\n\n        @Override\n        protected void onProgressUpdate(Void... values) {\n            // Show progress update\n            super.onProgressUpdate(values);\n        }\n    }\n}\n</code></pre>\n<p>Note: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)</p>\n"},{"tags":[],"owner":{"account_id":1450165,"reputation":4348,"user_id":1367344,"accept_rate":83,"display_name":"Adnan Abdollah Zaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466847661,"creation_date":1452876474,"answer_id":34815939,"question_id":6343166,"body_markdown":"This exception is thrown when an application attempts to perform a networking operation on its main thread.\r\nIf your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception is thrown when an application attempts to perform a networking operation on its main thread.\nIf your task took above five seconds, it takes a force close.</p>\n\n<p>Run your code in <code>AsyncTask</code>:</p>\n\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5380927,"reputation":1325,"user_id":4286151,"accept_rate":0,"display_name":"BalaramNayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466847870,"creation_date":1453197176,"answer_id":34873530,"question_id":6343166,"body_markdown":"The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \r\nAs per Android version [Android&amp;nbsp;3][1] (Honeycomb) which is not allowed, you should call network operation outside the main thread.\r\n\r\nYou can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\r\nFor more information, visit *[Connecting to the Network][2]*.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/training/basics/network-ops/connecting.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \nAs per Android version <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow\">Android&nbsp;3</a> (Honeycomb) which is not allowed, you should call network operation outside the main thread.</p>\n\n<p>You can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\nFor more information, visit <em><a href=\"http://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow\">Connecting to the Network</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":2291803,"reputation":1086,"user_id":2014374,"display_name":"bpr10"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1627028233,"creation_date":1463995935,"answer_id":37387412,"question_id":6343166,"body_markdown":"We can also use [RxJava][1] to move network operations to a background thread. And it&#39;s fairly simple as well.\r\n\r\n    webService.doSomething(someData)\r\n              .subscribeOn(Schedulers.newThread())-- This for background thread\r\n              .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\r\n              .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\r\n                  e -&gt; handleError(e));\r\n\r\nYou can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.\r\n\r\n*[RxJava async task in Android][2]*\r\n\r\n*[http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/][3]*\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\r\n  [3]: https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>We can also use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> to move network operations to a background thread. And it's fairly simple as well.</p>\n<pre><code>webService.doSomething(someData)\n          .subscribeOn(Schedulers.newThread())-- This for background thread\n          .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\n          .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\n              e -&gt; handleError(e));\n</code></pre>\n<p>You can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.</p>\n<p><em><a href=\"https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\">RxJava async task in Android</a></em></p>\n<p><em><a href=\"https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\" rel=\"nofollow noreferrer\">http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/</a></em></p>\n"},{"tags":[],"owner":{"account_id":8206108,"reputation":3252,"user_id":6175778,"display_name":"Alex Shutov"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626976427,"creation_date":1466719202,"answer_id":38002606,"question_id":6343166,"body_markdown":"There is another very convenient way for tackling this issue - use [RxJava&#39;s][1] concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.\r\n\r\nThe first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.\r\n\r\n    String getUrl() {\r\n        return &quot;SomeUrl&quot;;\r\n    }\r\n\r\n    private Object makeCallParseResponse(String url) {\r\n        return null;\r\n        //\r\n    }\r\n\r\n    private void processResponse(Object o) {\r\n\r\n    }\r\n\r\nThe *getUrl* method provides the URL address, and it will be executed on the main thread.\r\n\r\n`makeCallParseResponse(..)` - does the actual work\r\n\r\n`processResponse(..)` - will handle the result on the main thread.\r\n\r\nThe code for asynchronous execution will look like:\r\n\r\n    rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\r\n        @Override\r\n        public rx.Observable&lt;String&gt; call() {\r\n            return rx.Observable.just(getUrl());\r\n        }\r\n    })\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(Schedulers.io())\r\n        .map(new Func1&lt;String, Object&gt;() {\r\n            @Override\r\n            public Object call(final String s) {\r\n                return makeCallParseResponse(s);\r\n            }\r\n        })\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe(new Action1&lt;Object&gt;() {\r\n            @Override\r\n            public void call(Object o) {\r\n                 processResponse(o);\r\n            }\r\n        },\r\n        new Action1&lt;Throwable&gt;() {\r\n            @Override\r\n            public void call(Throwable throwable) {\r\n                // Process error here, it will be posted on\r\n                // the main thread\r\n            }\r\n        });\r\n\r\nCompared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.\r\n\r\nIn order to use this library, include following lines into your *build.gradle* file:\r\n\r\n       compile &#39;io.reactivex:rxjava:1.1.5&#39;\r\n       compile &#39;io.reactivex:rxandroid:1.2.0&#39;\r\n\r\nThe last dependency includes support for the .mainThread() scheduler.\r\n\r\nThere is [an excellent e-book for RxJava][2].\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://github.com/Froussios/Intro-To-RxJava\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There is another very convenient way for tackling this issue - use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava's</a> concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.</p>\n<p>The first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.</p>\n<pre><code>String getUrl() {\n    return &quot;SomeUrl&quot;;\n}\n\nprivate Object makeCallParseResponse(String url) {\n    return null;\n    //\n}\n\nprivate void processResponse(Object o) {\n\n}\n</code></pre>\n<p>The <em>getUrl</em> method provides the URL address, and it will be executed on the main thread.</p>\n<p><code>makeCallParseResponse(..)</code> - does the actual work</p>\n<p><code>processResponse(..)</code> - will handle the result on the main thread.</p>\n<p>The code for asynchronous execution will look like:</p>\n<pre><code>rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\n    @Override\n    public rx.Observable&lt;String&gt; call() {\n        return rx.Observable.just(getUrl());\n    }\n})\n    .subscribeOn(Schedulers.io())\n    .observeOn(Schedulers.io())\n    .map(new Func1&lt;String, Object&gt;() {\n        @Override\n        public Object call(final String s) {\n            return makeCallParseResponse(s);\n        }\n    })\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(new Action1&lt;Object&gt;() {\n        @Override\n        public void call(Object o) {\n             processResponse(o);\n        }\n    },\n    new Action1&lt;Throwable&gt;() {\n        @Override\n        public void call(Throwable throwable) {\n            // Process error here, it will be posted on\n            // the main thread\n        }\n    });\n</code></pre>\n<p>Compared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.</p>\n<p>In order to use this library, include following lines into your <em>build.gradle</em> file:</p>\n<pre><code>   compile 'io.reactivex:rxjava:1.1.5'\n   compile 'io.reactivex:rxandroid:1.2.0'\n</code></pre>\n<p>The last dependency includes support for the .mainThread() scheduler.</p>\n<p>There is <a href=\"https://github.com/Froussios/Intro-To-RxJava\" rel=\"nofollow noreferrer\">an excellent e-book for RxJava</a>.</p>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479758712,"creation_date":1475568051,"answer_id":39847133,"question_id":6343166,"body_markdown":"How to fix android.os.NetworkOnMainThreadException\r\n\r\nWhat is NetworkOnMainThreadException:\r\n\r\nIn Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.\r\n\r\nHow to fix it:\r\n\r\nTo avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>How to fix android.os.NetworkOnMainThreadException</p>\n\n<p>What is NetworkOnMainThreadException:</p>\n\n<p>In Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.</p>\n\n<p>How to fix it:</p>\n\n<p>To avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.</p>\n"},{"tags":[],"owner":{"account_id":4389900,"reputation":1206,"user_id":3578677,"accept_rate":27,"display_name":"Mansuu...."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688560787,"creation_date":1484542618,"answer_id":41669680,"question_id":6343166,"body_markdown":"android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:\r\n\r\n        new AsyncTask&lt;Void, String, String&gt;() {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n                // Perform your network operation.\r\n                // Get JSON or XML string from the server.\r\n                // Store in a local variable (say response) and return.\r\n                return response;\r\n            }\r\n\r\n            protected void onPostExecute(String results) {\r\n                // Response returned by doInBackGround() will be received\r\n                // by onPostExecute(String results).\r\n                // Now manipulate your jason/xml String(results).\r\n            }\r\n\r\n        }.execute();\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:</p>\n<pre><code>    new AsyncTask&lt;Void, String, String&gt;() {\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            // Perform your network operation.\n            // Get JSON or XML string from the server.\n            // Store in a local variable (say response) and return.\n            return response;\n        }\n\n        protected void onPostExecute(String results) {\n            // Response returned by doInBackGround() will be received\n            // by onPostExecute(String results).\n            // Now manipulate your jason/xml String(results).\n        }\n\n    }.execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638057,"reputation":117,"user_id":1511022,"display_name":"Himanshu"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1498911918,"creation_date":1487503871,"answer_id":42326705,"question_id":6343166,"body_markdown":"You can also resolve this issue by using Strict Mode using the below code. It&#39;s also an alternative to resolving this issue.\r\n\r\n\tStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nBut the best practice would be to use AsyncTask.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can also resolve this issue by using Strict Mode using the below code. It's also an alternative to resolving this issue.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n\n<p>But the best practice would be to use AsyncTask.</p>\n"},{"tags":[],"owner":{"account_id":8148844,"reputation":83,"user_id":6136614,"accept_rate":17,"display_name":"aks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911800,"creation_date":1488471374,"answer_id":42560499,"question_id":6343166,"body_markdown":"As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.\r\n\r\nUse the following way to perform a network operation\r\n\r\n - **Asysnctask**: For small operations which don&#39;t take much time.\r\n - **Intent Service**: For network operation which take a big amount of time.\r\n - Use a custom library like **Volley** and **Retrofit** for handling\r\n   complex network operations\r\n\r\n**Never use StrictMode.setThreadPolicy(policy)**, as it will freeze your UI and is not at all a good idea.\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.</p>\n\n<p>Use the following way to perform a network operation</p>\n\n<ul>\n<li><strong>Asysnctask</strong>: For small operations which don't take much time.</li>\n<li><strong>Intent Service</strong>: For network operation which take a big amount of time.</li>\n<li>Use a custom library like <strong>Volley</strong> and <strong>Retrofit</strong> for handling\ncomplex network operations</li>\n</ul>\n\n<p><strong>Never use StrictMode.setThreadPolicy(policy)</strong>, as it will freeze your UI and is not at all a good idea.</p>\n"},{"tags":[],"owner":{"account_id":8213409,"reputation":119,"user_id":6180676,"display_name":"Hossain Ahamed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911851,"creation_date":1489730444,"answer_id":42850269,"question_id":6343166,"body_markdown":"You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -\r\n\r\n 1. Call asynctask, which will run one background thread to handle the network operation.\r\n 2. You can create your own runnable thread to handle the network operation.\r\n\r\nPersonally I prefer asynctask. For further information you can refer [this link][1].\r\n\r\n  [1]: https://developer.android.com/training/basics/network-ops/connecting.html\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -</p>\n\n<ol>\n<li>Call asynctask, which will run one background thread to handle the network operation.</li>\n<li>You can create your own runnable thread to handle the network operation.</li>\n</ol>\n\n<p>Personally I prefer asynctask. For further information you can refer <a href=\"https://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1688560407,"creation_date":1494015116,"answer_id":43813062,"question_id":6343166,"body_markdown":"New `Thread` and [AsyncTask][1] solutions have been explained already.\r\n\r\n`AsyncTask` should ideally be used for short operations. Normal `Thread` is not preferable for Android. \r\n\r\nHave a look at alternate solution using [HandlerThread][2] and [Handler][3]\r\n\r\n**HandlerThread**\r\n\r\n&gt; Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that `start()` must still be called.\r\n\r\n**Handler:**\r\n\r\n&gt;A Handler allows you to send and process Message and Runnable objects associated with a thread&#39;s MessageQueue. Each Handler instance is associated with a single thread and that thread&#39;s message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.\r\n\r\nSolution:\r\n\r\n1. Create `HandlerThread`\r\n\r\n2. Call `start()` on `HandlerThread`\r\n\r\n3. Create `Handler` by getting `Looper` from `HanlerThread`\r\n\r\n4. Embed your Network operation related code in `Runnable` object\r\n\r\n5. Submit `Runnable` task to `Handler`\r\n\r\nSample code snippet, which address  `NetworkOnMainThreadException`\r\n\r\n    HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\r\n    handlerThread.start();\r\n    handler mainHandler = new Handler(handlerThread.getLooper());\r\n    \r\n    Runnable myRunnable = new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\r\n    \t\t\tURL page = new URL(&quot;http://www.google.com&quot;);\r\n    \t\t\tStringBuffer text = new StringBuffer();\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) page.openConnection();\r\n    \t\t\tconn.connect();\r\n    \t\t\tInputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\r\n    \t\t\tBufferedReader buff = new BufferedReader(in);\r\n    \t\t\tString line;\r\n    \t\t\twhile ( (line =  buff.readLine()) != null) {\r\n    \t\t\t\ttext.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\r\n    \t\t\tLog.d(&quot;Ravi&quot;,text.toString());\r\n    \r\n    \t\t} catch (Exception err) {\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\n\r\nPros of using this approach:\r\n\r\n1. Creating a new `Thread/AsyncTask` for each network operation is expensive. The `Thread/AsyncTask` will be destroyed and re-created for the next Network operations. But with `Handler` and `HandlerThread` approach, you can submit many network operations (as Runnable tasks) to single `HandlerThread` by using `Handler`. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [3]: https://developer.android.com/reference/android/os/Handler.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>New <code>Thread</code> and <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> solutions have been explained already.</p>\n<p><code>AsyncTask</code> should ideally be used for short operations. Normal <code>Thread</code> is not preferable for Android.</p>\n<p>Have a look at alternate solution using <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a> and <a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler</a></p>\n<p><strong>HandlerThread</strong></p>\n<blockquote>\n<p>Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that <code>start()</code> must still be called.</p>\n</blockquote>\n<p><strong>Handler:</strong></p>\n<blockquote>\n<p>A Handler allows you to send and process Message and Runnable objects associated with a thread's MessageQueue. Each Handler instance is associated with a single thread and that thread's message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.</p>\n</blockquote>\n<p>Solution:</p>\n<ol>\n<li><p>Create <code>HandlerThread</code></p>\n</li>\n<li><p>Call <code>start()</code> on <code>HandlerThread</code></p>\n</li>\n<li><p>Create <code>Handler</code> by getting <code>Looper</code> from <code>HanlerThread</code></p>\n</li>\n<li><p>Embed your Network operation related code in <code>Runnable</code> object</p>\n</li>\n<li><p>Submit <code>Runnable</code> task to <code>Handler</code></p>\n</li>\n</ol>\n<p>Sample code snippet, which address  <code>NetworkOnMainThreadException</code></p>\n<pre><code>HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\nhandlerThread.start();\nhandler mainHandler = new Handler(handlerThread.getLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override\n    public void run() {\n        try {\n            Log.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\n            URL page = new URL(&quot;http://www.google.com&quot;);\n            StringBuffer text = new StringBuffer();\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n            conn.connect();\n            InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\n            BufferedReader buff = new BufferedReader(in);\n            String line;\n            while ( (line =  buff.readLine()) != null) {\n                text.append(line + &quot;\\n&quot;);\n            }\n            Log.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\n            Log.d(&quot;Ravi&quot;,text.toString());\n\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n};\nmainHandler.post(myRunnable);\n</code></pre>\n<p>Pros of using this approach:</p>\n<ol>\n<li>Creating a new <code>Thread/AsyncTask</code> for each network operation is expensive. The <code>Thread/AsyncTask</code> will be destroyed and re-created for the next Network operations. But with <code>Handler</code> and <code>HandlerThread</code> approach, you can submit many network operations (as Runnable tasks) to single <code>HandlerThread</code> by using <code>Handler</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10671589,"reputation":611,"user_id":7856490,"display_name":"Shinoo Goyal"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626975978,"creation_date":1496987845,"answer_id":44450277,"question_id":6343166,"body_markdown":"`RxAndroid` is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.\r\n\r\nWe just need to specify threads on which tasks need to be executed and everything is handled internally.\r\n\r\n    Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\r\n\r\n      @Override\r\n      public List&lt;String&gt; call() {\r\n        return mRestClient.getFavoriteMusicShows();\r\n      }\r\n\r\n    });\r\n\r\n    mMusicShowSubscription = musicShowsObservable\r\n      .subscribeOn(Schedulers.io())\r\n      .observeOn(AndroidSchedulers.mainThread())\r\n      .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\r\n\r\n        @Override\r\n        public void onCompleted() { }\r\n\r\n        @Override\r\n        public void onError(Throwable e) { }\r\n\r\n        @Override\r\n        public void onNext(List&lt;String&gt; musicShows) {\r\n            listMusicShows(musicShows);\r\n        }\r\n    });\r\n\r\n 1. By specifiying `(Schedulers.io())`, RxAndroid will run `getFavoriteMusicShows()` on a different thread.\r\n\r\n 2. By using `AndroidSchedulers.mainThread()` we want to observe this Observable on the UI thread, i.e., we want our `onNext()` callback to be called on the UI thread.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><code>RxAndroid</code> is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.</p>\n<p>We just need to specify threads on which tasks need to be executed and everything is handled internally.</p>\n<pre><code>Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\n\n  @Override\n  public List&lt;String&gt; call() {\n    return mRestClient.getFavoriteMusicShows();\n  }\n\n});\n\nmMusicShowSubscription = musicShowsObservable\n  .subscribeOn(Schedulers.io())\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\n\n    @Override\n    public void onCompleted() { }\n\n    @Override\n    public void onError(Throwable e) { }\n\n    @Override\n    public void onNext(List&lt;String&gt; musicShows) {\n        listMusicShows(musicShows);\n    }\n});\n</code></pre>\n<ol>\n<li><p>By specifiying <code>(Schedulers.io())</code>, RxAndroid will run <code>getFavoriteMusicShows()</code> on a different thread.</p>\n</li>\n<li><p>By using <code>AndroidSchedulers.mainThread()</code> we want to observe this Observable on the UI thread, i.e., we want our <code>onNext()</code> callback to be called on the UI thread.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4749518,"reputation":405,"user_id":6656818,"display_name":"J.D.1731"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1626976838,"creation_date":1499677615,"answer_id":45007912,"question_id":6343166,"body_markdown":"You can either use [Kotlin][1] and [Anko][2].\r\n\r\n**Kotlin** is a new official language for *Android*. You can find  more about it here:\r\n*[Kotlin for Android][3]*.\r\n\r\n**Anko** is a supported library for Kotlin in Android. Some documentation is on [the GitHub page][2].\r\n\r\nThe solution which is really useful and has only a few lines of code written by @AntonioLeiva:\r\n*[Using Anko to run background tasks with Kotlin in Android (KAD 09)][4]*.\r\n\r\n    doAsync {\r\n        var result = runLongTask()\r\n        uiThread {\r\n            toast(result)\r\n        }\r\n    }\r\n\r\nSimple as it is, `NetworkOnMainThread` occurs when you run a background job on the UI thread, so one thing you have to do is to run your *longTask job* in the background. You can do this using this method and **Kotlin** with **Anko** in your Android app.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)\r\n  [2]: https://github.com/Kotlin/anko\r\n  [3]: https://kotlinlang.org/docs/tutorials/kotlin-android.html\r\n  [4]: https://antonioleiva.com/anko-background-kotlin-android/\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can either use <a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"nofollow noreferrer\">Kotlin</a> and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a>.</p>\n<p><strong>Kotlin</strong> is a new official language for <em>Android</em>. You can find  more about it here:\n<em><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">Kotlin for Android</a></em>.</p>\n<p><strong>Anko</strong> is a supported library for Kotlin in Android. Some documentation is on <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">the GitHub page</a>.</p>\n<p>The solution which is really useful and has only a few lines of code written by @AntonioLeiva:\n<em><a href=\"https://antonioleiva.com/anko-background-kotlin-android/\" rel=\"nofollow noreferrer\">Using Anko to run background tasks with Kotlin in Android (KAD 09)</a></em>.</p>\n<pre><code>doAsync {\n    var result = runLongTask()\n    uiThread {\n        toast(result)\n    }\n}\n</code></pre>\n<p>Simple as it is, <code>NetworkOnMainThread</code> occurs when you run a background job on the UI thread, so one thing you have to do is to run your <em>longTask job</em> in the background. You can do this using this method and <strong>Kotlin</strong> with <strong>Anko</strong> in your Android app.</p>\n"},{"tags":[],"owner":{"account_id":8839888,"reputation":4084,"user_id":6602675,"display_name":"Sharath kumar"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1516518505,"creation_date":1504521799,"answer_id":46035352,"question_id":6343166,"body_markdown":"The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:\r\n\r\nForce to do the task in the main thread like this\r\n\r\n    StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(threadPolicy);\r\n\r\nOr create a simple handler and update the main thread if you want.\r\n\r\n    Runnable runnable;\r\n    Handler newHandler;\r\n\r\n    newHandler = new Handler();\r\n    runnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n             try {\r\n                //update UI\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n    };\r\n    newHandler.post(runnable);\r\n\r\nAnd to stop the thread use:\r\n\r\n    newHandler.removeCallbacks(runnable);\r\n\r\nFor more information check this out: *[Painless threading][1]*\r\n\r\n  [1]: https://android-developers.googleblog.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:</p>\n\n<p>Force to do the task in the main thread like this</p>\n\n<pre><code>StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(threadPolicy);\n</code></pre>\n\n<p>Or create a simple handler and update the main thread if you want.</p>\n\n<pre><code>Runnable runnable;\nHandler newHandler;\n\nnewHandler = new Handler();\nrunnable = new Runnable() {\n    @Override\n    public void run() {\n         try {\n            //update UI\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n};\nnewHandler.post(runnable);\n</code></pre>\n\n<p>And to stop the thread use:</p>\n\n<pre><code>newHandler.removeCallbacks(runnable);\n</code></pre>\n\n<p>For more information check this out: <em><a href=\"https://android-developers.googleblog.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless threading</a></em></p>\n"},{"tags":[],"owner":{"account_id":1012051,"reputation":3609,"user_id":1024412,"accept_rate":54,"display_name":"KG6ZVP"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1626956902,"creation_date":1508543407,"answer_id":46858724,"question_id":6343166,"body_markdown":"There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.\r\n\r\nI will cover several use cases for performing network operations and *a* solution or two for each.\r\n\r\n# [REST][1] over HTTP\r\n\r\n*Typically JSON, but it can be XML or something else.*\r\n\r\n## Full API Access\r\n\r\nLet&#39;s say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:\r\n\r\n```lang-none\r\nhttp://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of strings with ticker symbols\r\nhttp://api.example.com/stocks/$symbol               // Stock object\r\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\r\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of currency abbreviation\r\nhttp://api.example.com/currencies/$currency         // Currency object\r\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\r\n                                                    // of the first currency (id1) to the second (id2)\r\n```\r\n\r\n### Retrofit from Square\r\n\r\nThis is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like [Amazon Ion Java][2] or [Volley][3] (website: *[Retrofit][4]*).\r\n\r\nHow do you use it with the finances API?\r\n\r\n### File *build.gradle*\r\n\r\nAdd these lines to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39; // Retrofit library, current as of September 21, 2017\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39; // Gson serialization and deserialization support for retrofit, version must match retrofit version\r\n\r\n### File *FinancesApi.java*\r\n\r\n    public interface FinancesApi {\r\n    \t@GET(&quot;stocks&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\r\n    \t@GET(&quot;stocks/{symbol}&quot;)\r\n    \tCall&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n    \t@GET(&quot;stocks/{symbol}/prices&quot;)\r\n    \tCall&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n\r\n    \t@GET(&quot;currencies&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\r\n    \t@GET(&quot;currencies/{symbol}&quot;)\r\n    \tCall&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\r\n    \t@GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\r\n    \tCall&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\r\n    }\r\n\r\n### Class *FinancesApiBuilder*\r\n\r\n    public class FinancesApiBuilder {\r\n    \tpublic static FinancesApi build(String baseUrl){\r\n    \t\treturn new Retrofit.Builder()\r\n    \t\t\t\t\t.baseUrl(baseUrl)\r\n    \t\t\t\t\t.addConverterFactory(GsonConverterFactory.create())\r\n    \t\t\t\t\t.build()\r\n    \t\t\t\t\t.create(FinancesApi.class);\r\n    \t}\r\n    }\r\n\r\n### Class *FinancesFragment* snippet\r\n\r\n\tFinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing &#39;/&#39; required for predictable behavior\r\n\tapi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\r\n\t\t\tStock stock = stockCall.body();\r\n\t\t\t// Do something with the stock\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\r\n\t\t\t// Something bad happened\r\n\t\t}\r\n\t}\r\n\r\nIf your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see [this awesome answer][5] to *https://stackoverflow.com/questions/42898920/* for details).\r\n\r\n## One-off REST API access\r\n\r\nLet&#39;s say you&#39;re building a &quot;mood weather&quot; app that looks up the user&#39;s GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn&#39;t need to declare API endpoints; it just needs to be able to access one API endpoint.\r\n\r\n### Ion\r\n\r\nThis is a great library for this type of access.\r\n\r\nPlease read [msysmilu&#39;s great answer][6] to *https://stackoverflow.com/questions/6343166*.\r\n\r\n# Load images via HTTP\r\n\r\n## Volley\r\n\r\n*Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use [Retrofit][4] from Square as above.*\r\n\r\nLet&#39;s say you are building a social networking app and want to load profile pictures of friends.\r\n\r\n### File *build.gradle*\r\n\r\nAdd this line to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.android.volley:volley:1.0.0&#39;\r\n\r\n### File *ImageFetch.java*\r\n\r\nVolley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it&#39;s not too bad:\r\n\r\n    public class ImageFetch {\r\n    \tprivate static ImageLoader imageLoader = null;\r\n    \tprivate static RequestQueue imageQueue = null;\r\n\r\n    \tpublic static ImageLoader getImageLoader(Context ctx){\r\n    \t\tif(imageLoader == null){\r\n    \t\t\tif(imageQueue == null){\r\n    \t\t\t\timageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\r\n    \t\t\t}\r\n    \t\t\timageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\r\n    \t\t\t\tMap&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Bitmap getBitmap(String url) {\r\n    \t\t\t\t\treturn cache.get(url);\r\n    \t\t\t\t}\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void putBitmap(String url, Bitmap bitmap) {\r\n    \t\t\t\t\tcache.put(url, bitmap);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\treturn imageLoader;\r\n    \t}\r\n    }\r\n\r\n### File *user_view_dialog.xml*\r\n\r\nAdd the following to your layout XML file to add an image:\r\n\r\n```lang-xml\r\n&lt;com.android.volley.toolbox.NetworkImageView\r\n\tandroid:id=&quot;@+id/profile_picture&quot;\r\n\tandroid:layout_width=&quot;32dp&quot;\r\n\tandroid:layout_height=&quot;32dp&quot;\r\n\tandroid:layout_alignParentTop=&quot;true&quot;\r\n\tandroid:layout_centerHorizontal=&quot;true&quot;\r\n\tapp:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\r\n```\r\n\r\n### File *UserViewDialog.java*\r\n\r\nAdd the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):\r\n\r\n    NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\r\n    profilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\r\n\r\n## Picasso\r\n\r\n[Picasso][7] is another excellent library from Square. Please see the website for some great examples.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://amzn.github.io/ion-docs/\r\n  [3]: https://developer.android.com/training/volley/\r\n  [4]: http://square.github.io/retrofit/\r\n  [5]: https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\r\n  [6]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\r\n  [7]: http://square.github.io/picasso/\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.</p>\n<p>I will cover several use cases for performing network operations and <em>a</em> solution or two for each.</p>\n<h1 id=\"rest-over-http-nzt9\"><a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> over HTTP</h1>\n<p><em>Typically JSON, but it can be XML or something else.</em></p>\n<h2 id=\"full-api-access-wvsz\">Full API Access</h2>\n<p>Let's say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of strings with ticker symbols\nhttp://api.example.com/stocks/$symbol               // Stock object\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of currency abbreviation\nhttp://api.example.com/currencies/$currency         // Currency object\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\n                                                    // of the first currency (id1) to the second (id2)\n</code></pre>\n<h3 id=\"retrofit-from-square-j5a1\">Retrofit from Square</h3>\n<p>This is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like <a href=\"https://amzn.github.io/ion-docs/\" rel=\"nofollow noreferrer\">Amazon Ion Java</a> or <a href=\"https://developer.android.com/training/volley/\" rel=\"nofollow noreferrer\">Volley</a> (website: <em><a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a></em>).</p>\n<p>How do you use it with the finances API?</p>\n<h3 id=\"file-build.gradle-uu1e\">File <em>build.gradle</em></h3>\n<p>Add these lines to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.3.0' // Retrofit library, current as of September 21, 2017\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0' // Gson serialization and deserialization support for retrofit, version must match retrofit version\n</code></pre>\n<h3 id=\"file-financesapi.java-lwca\">File <em>FinancesApi.java</em></h3>\n<pre><code>public interface FinancesApi {\n    @GET(&quot;stocks&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\n    @GET(&quot;stocks/{symbol}&quot;)\n    Call&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\n    @GET(&quot;stocks/{symbol}/prices&quot;)\n    Call&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\n\n    @GET(&quot;currencies&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\n    @GET(&quot;currencies/{symbol}&quot;)\n    Call&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\n    @GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\n    Call&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\n}\n</code></pre>\n<h3 id=\"class-financesapibuilder-7lsi\">Class <em>FinancesApiBuilder</em></h3>\n<pre><code>public class FinancesApiBuilder {\n    public static FinancesApi build(String baseUrl){\n        return new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n                    .create(FinancesApi.class);\n    }\n}\n</code></pre>\n<h3 id=\"class-financesfragment-snippet-4nuc\">Class <em>FinancesFragment</em> snippet</h3>\n<pre><code>FinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing '/' required for predictable behavior\napi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\n        Stock stock = stockCall.body();\n        // Do something with the stock\n    }\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\n        // Something bad happened\n    }\n}\n</code></pre>\n<p>If your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see <a href=\"https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\">this awesome answer</a> to <em><a href=\"https://stackoverflow.com/questions/42898920/\">Add Header Parameter in Retrofit</a></em> for details).</p>\n<h2 id=\"one-off-rest-api-access-z59h\">One-off REST API access</h2>\n<p>Let's say you're building a &quot;mood weather&quot; app that looks up the user's GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn't need to declare API endpoints; it just needs to be able to access one API endpoint.</p>\n<h3 id=\"ion-oacp\">Ion</h3>\n<p>This is a great library for this type of access.</p>\n<p>Please read <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\">msysmilu's great answer</a> to <em><a href=\"https://stackoverflow.com/questions/6343166\">How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?</a></em>.</p>\n<h1 id=\"load-images-via-http-8qty\">Load images via HTTP</h1>\n<h2 id=\"volley-ct3h\">Volley</h2>\n<p><em>Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> from Square as above.</em></p>\n<p>Let's say you are building a social networking app and want to load profile pictures of friends.</p>\n<h3 id=\"file-build.gradle-1-xq8r\">File <em>build.gradle</em></h3>\n<p>Add this line to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.android.volley:volley:1.0.0'\n</code></pre>\n<h3 id=\"file-imagefetch.java-g0ls\">File <em>ImageFetch.java</em></h3>\n<p>Volley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it's not too bad:</p>\n<pre><code>public class ImageFetch {\n    private static ImageLoader imageLoader = null;\n    private static RequestQueue imageQueue = null;\n\n    public static ImageLoader getImageLoader(Context ctx){\n        if(imageLoader == null){\n            if(imageQueue == null){\n                imageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\n            }\n            imageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\n                Map&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\n                @Override\n                public Bitmap getBitmap(String url) {\n                    return cache.get(url);\n                }\n                @Override\n                public void putBitmap(String url, Bitmap bitmap) {\n                    cache.put(url, bitmap);\n                }\n            });\n        }\n        return imageLoader;\n    }\n}\n</code></pre>\n<h3 id=\"file-user_view_dialog.xml-vi6y\">File <em>user_view_dialog.xml</em></h3>\n<p>Add the following to your layout XML file to add an image:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.android.volley.toolbox.NetworkImageView\n    android:id=&quot;@+id/profile_picture&quot;\n    android:layout_width=&quot;32dp&quot;\n    android:layout_height=&quot;32dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    app:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\n</code></pre>\n<h3 id=\"file-userviewdialog.java-qsy0\">File <em>UserViewDialog.java</em></h3>\n<p>Add the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):</p>\n<pre><code>NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\nprofilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\n</code></pre>\n<h2 id=\"picasso-iipo\">Picasso</h2>\n<p><a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> is another excellent library from Square. Please see the website for some great examples.</p>\n"},{"tags":[],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978365,"creation_date":1516226096,"answer_id":48310641,"question_id":6343166,"body_markdown":"As of 2018, I would recommend to use [RxJava][1] in Kotlin for network fetching. A simple example is below.\r\n\r\n    Single.fromCallable {\r\n            // Your Network Fetching Code\r\n            Network.fetchHttp(url) \r\n        }\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe {\r\n            // What you need to do with your result on the view \r\n            result -&gt; view.updateScreen(result) \r\n        }\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As of 2018, I would recommend to use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> in Kotlin for network fetching. A simple example is below.</p>\n<pre><code>Single.fromCallable {\n        // Your Network Fetching Code\n        Network.fetchHttp(url) \n    }\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe {\n        // What you need to do with your result on the view \n        result -&gt; view.updateScreen(result) \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626975707,"creation_date":1521302329,"answer_id":49338894,"question_id":6343166,"body_markdown":"You are able to move a part of your code into another thread to offload the `main thread` and avoid getting [ANR][1], [NetworkOnMainThreadException][2], [IllegalStateException][3] (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).\r\n\r\nThere are some approaches that you should choose depends on the situation\r\n\r\nJava [Thread][4] or Android [HandlerThread][5]:\r\n\r\n&gt;Java threads are one-time use only and die after executing its run method.\r\n&gt;\r\n&gt;HandlerThread is a handy class for starting a new thread that has a looper.\r\n\r\n[AsyncTask][6] (**deprecated** in API level 30)\r\n&gt;**AsyncTask** is designed to be a helper class around **Thread** and **Handler** and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as **Executor**, **ThreadPoolExecutor** and **FutureTask**.\r\n\r\nSince the *main* thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue\r\n\r\n[\\[Executor framework\\]][7]\r\n\r\n&gt; ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)\r\n&gt;\r\n&gt; ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.\r\n\r\n[FutureTask][10]\r\n&gt;FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread\r\n\r\n[AsyncTaskLoaders][11]\r\n&gt;AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask\r\n\r\n[IntentService][12]\r\n&gt; This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.\r\n\r\n[JobScheduler][13]\r\n&gt; Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.\r\n\r\n[RxJava][14]\r\n&gt; Library for composing asynchronous and event-based programs by using observable sequences.\r\n\r\n[Coroutines][15] (Kotlin)\r\n&gt; The main gist of it is, it makes asynchronous code looks so much like synchronous\r\n\r\nRead more [here][16], [here][17], [here][18], and [here][19].\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/anr.html\r\n  [2]: https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n  [3]: https://developer.android.com/reference/java/lang/IllegalStateException.html\r\n  [4]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [5]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [6]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [7]: https://stackoverflow.com/a/66567556/4770877\r\n  [8]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [9]: https://developer.android.com/reference/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [10]: https://developer.android.com/reference/java/util/concurrent/FutureTask.html\r\n  [11]: https://developer.android.com/reference/android/content/AsyncTaskLoader.html\r\n  [12]: https://developer.android.com/reference/android/app/IntentService.html\r\n  [13]: https://developer.android.com/reference/android/app/job/JobScheduler.html\r\n  [14]: https://github.com/ReactiveX/RxJava\r\n  [15]: https://kotlinlang.org/docs/reference/coroutines.html\r\n  [16]: https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\r\n  [17]: https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\r\n  [18]: https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\r\n  [19]: https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are able to move a part of your code into another thread to offload the <code>main thread</code> and avoid getting <a href=\"https://developer.android.com/topic/performance/vitals/anr.html\" rel=\"nofollow noreferrer\">ANR</a>, <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">NetworkOnMainThreadException</a>, <a href=\"https://developer.android.com/reference/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\">IllegalStateException</a> (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).</p>\n<p>There are some approaches that you should choose depends on the situation</p>\n<p>Java <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> or Android <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a>:</p>\n<blockquote>\n<p>Java threads are one-time use only and die after executing its run method.</p>\n<p>HandlerThread is a handy class for starting a new thread that has a looper.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> (<strong>deprecated</strong> in API level 30)</p>\n<blockquote>\n<p><strong>AsyncTask</strong> is designed to be a helper class around <strong>Thread</strong> and <strong>Handler</strong> and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as <strong>Executor</strong>, <strong>ThreadPoolExecutor</strong> and <strong>FutureTask</strong>.</p>\n</blockquote>\n<p>Since the <em>main</em> thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue</p>\n<p><a href=\"https://stackoverflow.com/a/66567556/4770877\">[Executor framework]</a></p>\n<blockquote>\n<p>ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)</p>\n<p>ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/FutureTask.html\" rel=\"nofollow noreferrer\">FutureTask</a></p>\n<blockquote>\n<p>FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/content/AsyncTaskLoader.html\" rel=\"nofollow noreferrer\">AsyncTaskLoaders</a></p>\n<blockquote>\n<p>AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/IntentService.html\" rel=\"nofollow noreferrer\">IntentService</a></p>\n<blockquote>\n<p>This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a></p>\n<blockquote>\n<p>Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.</p>\n</blockquote>\n<p><a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a></p>\n<blockquote>\n<p>Library for composing asynchronous and event-based programs by using observable sequences.</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a> (Kotlin)</p>\n<blockquote>\n<p>The main gist of it is, it makes asynchronous code looks so much like synchronous</p>\n</blockquote>\n<p>Read more <a href=\"https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8502650,"reputation":1226,"user_id":6375170,"display_name":"Ashok Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978431,"creation_date":1525944279,"answer_id":50269579,"question_id":6343166,"body_markdown":"Different options:\r\n\r\n1. Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI\r\n\r\n2. intentservice/ async task can be used in case you want to update the UI after getting a network response\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Different options:</p>\n<ol>\n<li><p>Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI</p>\n</li>\n<li><p>intentservice/ async task can be used in case you want to update the UI after getting a network response</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9030732,"reputation":432,"user_id":6728443,"accept_rate":25,"display_name":"Devix"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977706,"creation_date":1544479777,"answer_id":53714429,"question_id":6343166,"body_markdown":"If you are working in Kotlin and [Anko][1] you can add:\r\n\r\n    doAsync {\r\n        method()\r\n    }\r\n\r\n  [1]: https://github.com/Kotlin/anko\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>If you are working in Kotlin and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> you can add:</p>\n<pre><code>doAsync {\n    method()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1626977827,"creation_date":1551461855,"answer_id":54949705,"question_id":6343166,"body_markdown":"You can use Kotlin [coroutines][1]:\r\n\r\n     class YoutActivity : AppCompatActivity, CoroutineScope {\r\n          \r\n          override fun onCreate(...) {\r\n             launch {  yourHeavyMethod() }\r\n          }\r\n\r\n          suspend fun yourHeavyMethod() {\r\n             with(Dispatchers.IO){ yourNetworkCall() }\r\n             ...\r\n             ...\r\n          }\r\n     } \r\n\r\nYou can follow [this guide]. \r\n\r\n  [this guide]: https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can use Kotlin <a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"nofollow noreferrer\">coroutines</a>:</p>\n<pre><code> class YoutActivity : AppCompatActivity, CoroutineScope {\n      \n      override fun onCreate(...) {\n         launch {  yourHeavyMethod() }\n      }\n\n      suspend fun yourHeavyMethod() {\n         with(Dispatchers.IO){ yourNetworkCall() }\n         ...\n         ...\n      }\n } \n</code></pre>\n<p>You can follow <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559374863,"creation_date":1559374863,"answer_id":56404790,"question_id":6343166,"body_markdown":"# Kotlin version\n\n    internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n        override fun doInBackground(vararg urls: String): RSSFeed? {\n\n            try {\n                 // download\n                 // prepare RSSFeeds\n                 return RSSFeeds\n\n             } catch (e: Exception) {\n    \n                //handle exception\n                return null\n            }\n        }\n\n        override fun onPostExecute(feed: RSSFeed) {\n            // TODO: check this.exception\n            // TODO: do something with the feed\n        }\n    }\n\nCall example,\n\n    RetrieveFeedTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h1>Kotlin version</h1>\n<pre><code>internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n\n         } catch (e: Exception) {\n\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>Call example,</p>\n<pre><code>RetrieveFeedTask().execute(url)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15010717,"reputation":1183,"user_id":10835287,"display_name":"Vipul Prajapati"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1560142947,"creation_date":1560142255,"answer_id":56520664,"question_id":6343166,"body_markdown":"Do this in Background Thread using `AsycTask`\r\n\r\n**Java**\r\n\r\n    class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        protected Void doInBackground(String... arg0) {\r\n            //Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(String result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall wherever you need\r\n\r\n    new NetworkThread().execute(&quot;Your URL here&quot;);\r\n\r\n**Kotlin**\r\n\r\n    internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\r\n\r\n        override fun doInBackground(vararg urls: String): RSSFeed? {\r\n            try {\r\n                 // download\r\n                 // prepare RSSFeeds\r\n                 return RSSFeeds\r\n             } catch (e: Exception) {\r\n                //handle exception\r\n                return null\r\n            }\r\n        }\r\n\r\n        override fun onPostExecute(feed: RSSFeed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall in kotlin\r\n\r\n    MyNetworkTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do this in Background Thread using <code>AsycTask</code></p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\n\n    protected Void doInBackground(String... arg0) {\n        //Your implementation\n    }\n\n    protected void onPostExecute(String result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call wherever you need</p>\n\n<pre><code>new NetworkThread().execute(\"Your URL here\");\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n         } catch (e: Exception) {\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call in kotlin</p>\n\n<pre><code>MyNetworkTask().execute(url)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1626977499,"creation_date":1566149221,"answer_id":57546836,"question_id":6343166,"body_markdown":"I had a similar problem. I just used the following in the *oncreate* method of your activity.\r\n\r\n    // Allow strict mode\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nAnd it worked well.\r\n\r\nThe caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I had a similar problem. I just used the following in the <em>oncreate</em> method of your activity.</p>\n<pre><code>// Allow strict mode\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>And it worked well.</p>\n<p>The caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.</p>\n"},{"tags":[],"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1626977587,"creation_date":1577890330,"answer_id":59553481,"question_id":6343166,"body_markdown":"From [developer-android][1]:\r\n\r\n&gt; AsyncTasks should ideally be used for short operations (a few seconds at the most.)\r\n\r\nUsing `newCachedThreadPool` is the good one. also you can consider other options like `newSingleThreadExecutor`, `newFixedThreadPool`\r\n\r\n        ExecutorService myExecutor = Executors.newCachedThreadPool();\r\n        myExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n            }\r\n        });\r\n\r\n&gt; [ThreadPoolExecutor][2] is a helper class to make this process easier. This\r\n&gt; class manages the creation of a group of threads, sets their\r\n&gt; priorities, and manages how work is distributed among those threads.\r\n&gt; As workload increases or decreases, the class spins up or destroys\r\n&gt; more threads to adjust to the workload.\r\n\r\nSee [this][3] for more information about Android threads.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [3]: https://developer.android.com/topic/performance/threads\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>From <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer-android</a>:</p>\n<blockquote>\n<p>AsyncTasks should ideally be used for short operations (a few seconds at the most.)</p>\n</blockquote>\n<p>Using <code>newCachedThreadPool</code> is the good one. also you can consider other options like <code>newSingleThreadExecutor</code>, <code>newFixedThreadPool</code></p>\n<pre><code>    ExecutorService myExecutor = Executors.newCachedThreadPool();\n    myExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n        }\n    });\n</code></pre>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> is a helper class to make this process easier. This\nclass manages the creation of a group of threads, sets their\npriorities, and manages how work is distributed among those threads.\nAs workload increases or decreases, the class spins up or destroys\nmore threads to adjust to the workload.</p>\n</blockquote>\n<p>See <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">this</a> for more information about Android threads.</p>\n"},{"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1626976990,"creation_date":1581416882,"answer_id":60166784,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use `Thread`, `AsyncTask` (short-running tasks), `Service` (long-running tasks) to do network operations. `android.os.NetworkOnMainThreadException` is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n\r\n*Or*\r\n\r\n    new Thread(new Runnable(){\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\n\r\n**This is not recommended.**\r\n\r\nBut for *debugging* purposes, you can disable the strict mode as well using the following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy =\r\n            new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use <code>Thread</code>, <code>AsyncTask</code> (short-running tasks), <code>Service</code> (long-running tasks) to do network operations. <code>android.os.NetworkOnMainThreadException</code> is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.</p>\n<p>Run your code in <code>AsyncTask</code>:</p>\n<pre><code>class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n<p><em>Or</em></p>\n<pre><code>new Thread(new Runnable(){\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p><strong>This is not recommended.</strong></p>\n<p>But for <em>debugging</em> purposes, you can disable the strict mode as well using the following code:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy =\n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176846,"reputation":5131,"user_id":1152643,"accept_rate":50,"display_name":"Oleg Gryb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977968,"creation_date":1584144717,"answer_id":60678608,"question_id":6343166,"body_markdown":"These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.\r\n\r\nFor example, you can find examples where **Tasks** are used in a [Google Drive API sample][1]. The same should be used in this case. I&#39;ll use the OP&#39;s original code to demonstrate this approach.\r\n\r\nFirst, you&#39;ll need to define an off-main thread executor and you need to do it only once:\r\n\r\n    private val mExecutor: Executor = Executors.newSingleThreadExecutor()\r\n\r\nThen process your logic in that executor, which will be running off main thread\r\n\r\n    Tasks.call (mExecutor, Callable&lt;String&gt; {\r\n\r\n            val url = URL(urlToRssFeed)\r\n            val factory = SAXParserFactory.newInstance()\r\n            val parser = factory.newSAXParser()\r\n            val xmlreader = parser.getXMLReader()\r\n            val theRSSHandler = RssHandler()\r\n            xmlreader.setContentHandler(theRSSHandler)\r\n            val is = InputSource(url.openStream())\r\n            xmlreader.parse(is)\r\n            theRSSHandler.getFeed()\r\n\r\n            // Complete processing and return a String or other object.\r\n            // E.g., you could return Boolean indicating a success or failure.\r\n            return@Callable someResult\r\n    }).continueWith{\r\n        // it.result here is what your asynchronous task has returned\r\n        processResult(it.result)\r\n    }\r\n\r\n**continueWith** clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through **it.result**.\r\n\r\n  [1]: https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.</p>\n<p>For example, you can find examples where <strong>Tasks</strong> are used in a <a href=\"https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\" rel=\"nofollow noreferrer\">Google Drive API sample</a>. The same should be used in this case. I'll use the OP's original code to demonstrate this approach.</p>\n<p>First, you'll need to define an off-main thread executor and you need to do it only once:</p>\n<pre><code>private val mExecutor: Executor = Executors.newSingleThreadExecutor()\n</code></pre>\n<p>Then process your logic in that executor, which will be running off main thread</p>\n<pre><code>Tasks.call (mExecutor, Callable&lt;String&gt; {\n\n        val url = URL(urlToRssFeed)\n        val factory = SAXParserFactory.newInstance()\n        val parser = factory.newSAXParser()\n        val xmlreader = parser.getXMLReader()\n        val theRSSHandler = RssHandler()\n        xmlreader.setContentHandler(theRSSHandler)\n        val is = InputSource(url.openStream())\n        xmlreader.parse(is)\n        theRSSHandler.getFeed()\n\n        // Complete processing and return a String or other object.\n        // E.g., you could return Boolean indicating a success or failure.\n        return@Callable someResult\n}).continueWith{\n    // it.result here is what your asynchronous task has returned\n    processResult(it.result)\n}\n</code></pre>\n<p><strong>continueWith</strong> clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through <strong>it.result</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16913603,"reputation":428,"user_id":12232152,"display_name":"El Sushiboi"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626977109,"creation_date":1597414783,"answer_id":63414575,"question_id":6343166,"body_markdown":"&lt;h2&gt; Kotlin &lt;/h2&gt;\r\n\r\nIf you are using Kotlin, you can use a *[coroutine][1]*:\r\n\r\n    fun doSomeNetworkStuff() {\r\n        GlobalScope.launch(Dispatchers.IO) {\r\n            // ...\r\n        }\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h2> Kotlin </h2>\n<p>If you are using Kotlin, you can use a <em><a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"noreferrer\">coroutine</a></em>:</p>\n<pre><code>fun doSomeNetworkStuff() {\n    GlobalScope.launch(Dispatchers.IO) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1688560720,"creation_date":1602773794,"answer_id":64374371,"question_id":6343166,"body_markdown":"Google deprecated the Android AsyncTask API in Android 11.\r\n\r\nEven if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:\r\n\r\n    *https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\r\n\r\nThe one that worked for me specifically was an answer by mayank1513 for a [Java&amp;nbsp;8][1] implementation of a runnable thread found on the above link. The code is as follows:\r\n\r\n    new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    }).start();\r\n\r\nHowever, you can define the thread first in some part of your code and start it somewhere else like this:\r\n\r\nThread definition\r\n\r\n    Thread thread = new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    });\r\n\r\nThread call\r\n\r\n    thread.start();\r\n\r\nI hope this saves someone the headache of seeing the deprecated `AsyncTask`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Google deprecated the Android AsyncTask API in Android 11.</p>\n<p>Even if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:</p>\n<pre><code>*https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\n</code></pre>\n<p>The one that worked for me specifically was an answer by mayank1513 for a <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a> implementation of a runnable thread found on the above link. The code is as follows:</p>\n<pre><code>new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n}).start();\n</code></pre>\n<p>However, you can define the thread first in some part of your code and start it somewhere else like this:</p>\n<p>Thread definition</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n});\n</code></pre>\n<p>Thread call</p>\n<pre><code>thread.start();\n</code></pre>\n<p>I hope this saves someone the headache of seeing the deprecated <code>AsyncTask</code>.</p>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612781403,"creation_date":1611569567,"answer_id":65882706,"question_id":6343166,"body_markdown":"Here&#39;s a simple solution using `OkHttp`, `Future`, `ExecutorService` and `Callable`:\r\n\r\n```\r\nfinal OkHttpClient httpClient = new OkHttpClient();\r\nfinal ExecutorService executor = newFixedThreadPool(3);\r\n\r\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\r\n\r\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\r\n   public Response call() throws IOException {\r\n      return httpClient.newCall(request).execute();\r\n   }\r\n}).get();\r\n```","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Here's a simple solution using <code>OkHttp</code>, <code>Future</code>, <code>ExecutorService</code> and <code>Callable</code>:</p>\n<pre><code>final OkHttpClient httpClient = new OkHttpClient();\nfinal ExecutorService executor = newFixedThreadPool(3);\n\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\n\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\n   public Response call() throws IOException {\n      return httpClient.newCall(request).execute();\n   }\n}).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17893889,"reputation":749,"user_id":12999770,"display_name":"Sunny Gupta"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1626978270,"creation_date":1613897689,"answer_id":66300622,"question_id":6343166,"body_markdown":"Android does not allow to run long-running operations on the main thread.\r\n\r\nSo just use a different thread and post the result to the main thread when needed.\r\n\r\n    new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                /*\r\n                // Run operation here\r\n                */\r\n                // After getting the result\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Post the result to the main thread\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow to run long-running operations on the main thread.</p>\n<p>So just use a different thread and post the result to the main thread when needed.</p>\n<pre><code>new Thread(new Runnable() {\n        @Override\n        public void run() {\n            /*\n            // Run operation here\n            */\n            // After getting the result\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    // Post the result to the main thread\n                }\n            });\n        }\n    }).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301136,"reputation":2793,"user_id":1450409,"accept_rate":60,"display_name":"nyxee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978327,"creation_date":1617580324,"answer_id":66946843,"question_id":6343166,"body_markdown":"I converted the network access function returning a value into a suspend function like so:\r\n\r\n```{kotlin}\r\n\r\nsuspend fun isInternetReachable(): Boolean {\r\n  ...\r\n  ...\r\n  return result\r\n}\r\n```\r\n\r\nThen I modified where I was using the function to fit into this:\r\n\r\n```{kotlin}\r\n...\r\nGlobalscope.async{\r\n  ...\r\n  result = isInternetReachable()\r\n  ...\r\n}\r\n...\r\n```\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I converted the network access function returning a value into a suspend function like so:</p>\n<pre><code>\nsuspend fun isInternetReachable(): Boolean {\n  ...\n  ...\n  return result\n}\n</code></pre>\n<p>Then I modified where I was using the function to fit into this:</p>\n<pre><code>...\nGlobalscope.async{\n  ...\n  result = isInternetReachable()\n  ...\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9705313,"reputation":317,"user_id":7198913,"display_name":"Sourav Kumar Verma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651399114,"creation_date":1651399114,"answer_id":72075706,"question_id":6343166,"body_markdown":"    Executors.newFixedThreadPool(3).execute(() -&gt; {\r\n          //DO Task;        \r\n     });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<pre><code>Executors.newFixedThreadPool(3).execute(() -&gt; {\n      //DO Task;        \n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7870611,"reputation":2463,"user_id":5948056,"display_name":"programandoconro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652172363,"creation_date":1652172363,"answer_id":72183216,"question_id":6343166,"body_markdown":"I solved using `Thread` in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin. \r\n\r\n```\r\n Thread {\r\n     println(&quot;NEW THREAD&quot;)\r\n     callAPI() // add your own task\r\n }.start()\r\n```\r\n\r\nSo, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread. \r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved using <code>Thread</code> in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin.</p>\n<pre><code> Thread {\n     println(&quot;NEW THREAD&quot;)\n     callAPI() // add your own task\n }.start()\n</code></pre>\n<p>So, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread.</p>\n"}],"owner":{"account_id":420081,"reputation":29495,"user_id":797593,"accept_rate":44,"display_name":"bejoy george"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1491592,"favorite_count":0,"down_vote_count":11,"up_vote_count":2729,"accepted_answer_id":6343299,"answer_count":64,"score":2718,"last_activity_date":1688560787,"creation_date":1308052920,"question_id":6343166,"body_markdown":"I got an error while running my Android project for RssReader. \r\n\r\nCode:\r\n\r\n    URL url = new URL(urlToRssFeed);\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    XMLReader xmlreader = parser.getXMLReader();\r\n    RssHandler theRSSHandler = new RssHandler();\r\n    xmlreader.setContentHandler(theRSSHandler);\r\n    InputSource is = new InputSource(url.openStream());\r\n    xmlreader.parse(is);\r\n    return theRSSHandler.getFeed();\r\n\r\nAnd it shows the below error:\r\n\r\n    android.os.NetworkOnMainThreadException\r\n\r\nHow can I fix this issue?\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I got an error while running my Android project for RssReader. </p>\n\n<p>Code:</p>\n\n<pre><code>URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();\n</code></pre>\n\n<p>And it shows the below error:</p>\n\n<pre><code>android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>How can I fix this issue?</p>\n"},{"tags":["java","memory","scope"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1460667257,"post_id":36633788,"comment_id":60862802,"body_markdown":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?","body":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?"},{"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"score":1,"creation_date":1460667549,"post_id":36633788,"comment_id":60862944,"body_markdown":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point.","body":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point."},{"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"score":0,"creation_date":1460668201,"post_id":36633788,"comment_id":60863255,"body_markdown":"A simple `obj1 = null` (and a comment) would be much more readable.","body":"A simple <code>obj1 = null</code> (and a comment) would be much more readable."},{"owner":{"account_id":1666904,"reputation":529,"user_id":1534124,"display_name":"simonh"},"score":0,"creation_date":1460668452,"post_id":36633788,"comment_id":60863371,"body_markdown":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection.","body":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection."}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688560571,"creation_date":1460667448,"answer_id":36633860,"question_id":36633788,"body_markdown":"You don&#39;t need the `if(true)` to reduce the scope of variables.\r\n\r\nThis would be enough\r\n\r\n    {\r\n        var obj1 = new MyClass(1);\r\n        var obj2 = new MyClass(2);\r\n    }","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>You don't need the <code>if(true)</code> to reduce the scope of variables.</p>\n<p>This would be enough</p>\n<pre><code>{\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n</code></pre>\n"}],"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36633860,"answer_count":1,"score":0,"last_activity_date":1688560571,"creation_date":1460667217,"question_id":36633788,"body_markdown":"In the past I&#39;ve had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn&#39;t have made any sense to do so.\r\n\r\nSince initializing a lot of variables can be fairly memory-intensive, I&#39;ve asked myself whether simply using an `if(true)` statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn&#39;t be accessible elsewhere, when they&#39;re no longer needed.\r\n\r\n##### Example\r\n\r\n```java\r\nif (true) {\r\n    var obj1 = new MyClass(1);\r\n    var obj2 = new MyClass(2);\r\n}\r\n// ...rest of method which does not need obj1 and obj2\r\n```\r\nIs this a good or bad idea? ","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>In the past I've had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn't have made any sense to do so.</p>\n<p>Since initializing a lot of variables can be fairly memory-intensive, I've asked myself whether simply using an <code>if(true)</code> statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn't be accessible elsewhere, when they're no longer needed.</p>\n<h5>Example</h5>\n<pre class=\"lang-java prettyprint-override\"><code>if (true) {\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n// ...rest of method which does not need obj1 and obj2\n</code></pre>\n<p>Is this a good or bad idea?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687813555,"post_id":76559945,"comment_id":134986503,"body_markdown":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame.","body":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687814575,"post_id":76559945,"comment_id":134986650,"body_markdown":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?","body":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":1,"creation_date":1687903514,"post_id":76559945,"comment_id":135001740,"body_markdown":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question","body":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688361410,"post_id":76559945,"comment_id":135058665,"body_markdown":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?","body":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688507321,"post_id":76559945,"comment_id":135082256,"body_markdown":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java","body":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688542071,"post_id":76559945,"comment_id":135085404,"body_markdown":"It sounds like your solutions would work if you just refresh them quick enough to show the animation.","body":"It sounds like your solutions would work if you just refresh them quick enough to show the animation."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688559884,"post_id":76559945,"comment_id":135089083,"body_markdown":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second.","body":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688563127,"post_id":76559945,"comment_id":135089943,"body_markdown":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply.","body":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688572430,"post_id":76559945,"comment_id":135092360,"body_markdown":"I guess that is what I was asking :(","body":"I guess that is what I was asking :("}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688560286,"creation_date":1687810254,"question_id":76559945,"body_markdown":"In Java Swing, is there any way to magnify what is behind a JFrame? \r\n\r\nI am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.\r\n\r\nI want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java\r\n\r\nI have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.\r\n","title":"In Java Swing, is there any way to magnify what is behind a JFrame?","body":"<p>In Java Swing, is there any way to magnify what is behind a JFrame?</p>\n<p>I am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.</p>\n<p>I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java</p>\n<p>I have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.</p>\n"},{"tags":["java","spring","spring-boot","podman"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1688551776,"post_id":76619279,"comment_id":135087357,"body_markdown":"An `alias` will usually only apply to the shell you define it in, it is *not* inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an `alias`.","body":"An <code>alias</code> will usually only apply to the shell you define it in, it is <i>not</i> inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an <code>alias</code>."},{"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"score":0,"creation_date":1688552446,"post_id":76619279,"comment_id":135087511,"body_markdown":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again.","body":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again."}],"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688560184,"creation_date":1688551667,"question_id":76619279,"body_markdown":"I&#39;m trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.\r\n\r\nSpring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn&#39;t take into account the defined &#39;aliases&#39; when it runs the docker command:\r\n\r\n```\r\nalias docker=podman\r\n```\r\n\r\nSo, when I run the application I get the following error:\r\n\r\n```\r\norg.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\r\n\t\r\n```\r\n\r\nIs there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.\r\n\r\nRegards.","title":"Is there any solution to use podman with spring boot docker compose support?","body":"<p>I'm trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.</p>\n<p>Spring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn't take into account the defined 'aliases' when it runs the docker command:</p>\n<pre><code>alias docker=podman\n</code></pre>\n<p>So, when I run the application I get the following error:</p>\n<pre><code>org.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\n    at org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\n    \n</code></pre>\n<p>Is there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.</p>\n<p>Regards.</p>\n"},{"tags":["java","android"],"owner":{"account_id":28955465,"reputation":1,"user_id":22179116,"display_name":"Phoenix Light"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688560145,"creation_date":1688559585,"question_id":76620250,"body_markdown":"If I have apk that not made by android studio, how to sign it and upload it to google play?\r\nShould I use just android studio to sign app\r\nOr I can use application like &quot;apk signar&quot;?\r\n\r\nIm try apk signer and some another apps but google protect stay say my app its a virous!","title":"Is I need to sign my app in android studio, to upload it to google play?","body":"<p>If I have apk that not made by android studio, how to sign it and upload it to google play?\nShould I use just android studio to sign app\nOr I can use application like &quot;apk signar&quot;?</p>\n<p>Im try apk signer and some another apps but google protect stay say my app its a virous!</p>\n"},{"tags":["java","performance","loops","for-loop","system.out"],"comments":[{"owner":{"account_id":1706986,"reputation":4611,"user_id":1565862,"display_name":"fejese"},"score":66,"creation_date":1393026583,"post_id":21947452,"comment_id":33249854,"body_markdown":"Try changing rand.nextInt(4) == 0 to i &lt; 250 to eliminate the effect of the random generator. You might run out of entropy that slows down the random generation","body":"Try changing rand.nextInt(4) == 0 to i &lt; 250 to eliminate the effect of the random generator. You might run out of entropy that slows down the random generation"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1393026696,"post_id":21947452,"comment_id":33249898,"body_markdown":"Both seem to run for same amount of time on my machine, ~4 seconds.","body":"Both seem to run for same amount of time on my machine, ~4 seconds."},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":3,"creation_date":1393026723,"post_id":21947452,"comment_id":33249909,"body_markdown":"@fejese Then [branch prediction](http://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902) would kick in. Something like changing `rand.nextInt(4)==0` to `i%4==0` would be better (in terms of avoiding branch prediction speeding up the process)","body":"@fejese Then <a href=\"http://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902\">branch prediction</a> would kick in. Something like changing <code>rand.nextInt(4)==0</code> to <code>i%4==0</code> would be better (in terms of avoiding branch prediction speeding up the process)"},{"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"score":172,"creation_date":1393026769,"post_id":21947452,"comment_id":33249925,"body_markdown":"if you are suggesting that printing B takes more time than printing #....why dont you try to print all B &amp; all # rather than relying on random variable r","body":"if you are suggesting that printing B takes more time than printing #....why dont you try to print all B &amp; all # rather than relying on random variable r"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1393027169,"post_id":21947452,"comment_id":33250058,"body_markdown":"Across three trials of each (&#39;B&#39; vs &#39;#&#39;) I&#39;m getting between 36 and 38 seconds (rounded down). I added startTime and endTime fields that grab System.currentTimeMillis before and after the loop for my timing. I&#39;m going to suggest that there&#39;s some problem local to you (runtime engine, processor, black helicopters).","body":"Across three trials of each (&#39;B&#39; vs &#39;#&#39;) I&#39;m getting between 36 and 38 seconds (rounded down). I added startTime and endTime fields that grab System.currentTimeMillis before and after the loop for my timing. I&#39;m going to suggest that there&#39;s some problem local to you (runtime engine, processor, black helicopters)."},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":21,"creation_date":1393125670,"post_id":21947452,"comment_id":33279059,"body_markdown":"Based on the accepted answer, you apparently didn&#39;t try running it with output redirected to a file or /dev/null.","body":"Based on the accepted answer, you apparently didn&#39;t try running it with output redirected to a file or /dev/null."},{"owner":{"account_id":172963,"reputation":540,"user_id":401346,"display_name":"Divide"},"score":29,"creation_date":1393328686,"post_id":21947452,"comment_id":33366229,"body_markdown":"@fejese, Random() is not a cryptographical rng and so doesn&#39;t use up the entropy pool.","body":"@fejese, Random() is not a cryptographical rng and so doesn&#39;t use up the entropy pool."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":0,"creation_date":1441042837,"post_id":21947452,"comment_id":52508768,"body_markdown":"[tag:matrix], @FrancescoMenzani? IMO it makes no sense here; is makes the question not a bit easier to find, does not describe its scope better, just adds noise.","body":"<a href=\"https://stackoverflow.com/questions/tagged/matrix\">matrix</a>, @FrancescoMenzani? IMO it makes no sense here; is makes the question not a bit easier to find, does not describe its scope better, just adds noise."},{"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"score":1,"creation_date":1441113053,"post_id":21947452,"comment_id":52539277,"body_markdown":"@Palec I couldn&#39;t find any print tag specific to `System.out`, but I think [tag:system.out] itself will represent that part of the question quite good.","body":"@Palec I couldn&#39;t find any print tag specific to <code>System.out</code>, but I think <a href=\"https://stackoverflow.com/questions/tagged/system.out\">system.out</a> itself will represent that part of the question quite good."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":2,"up_vote_count":4253,"is_accepted":true,"score":4251,"last_activity_date":1489389389,"creation_date":1393027321,"answer_id":21947627,"question_id":21947452,"body_markdown":"*Pure speculation* is that you&#39;re using a terminal that attempts to do [word-wrapping][1] rather than character-wrapping, and treats `B` as a word character but `#` as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a `#` almost immediately and happily breaks there; whereas with the `B`, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).\r\n\r\nBut that&#39;s pure speculation.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Word_wrap","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p><em>Pure speculation</em> is that you're using a terminal that attempts to do <a href=\"http://en.wikipedia.org/wiki/Word_wrap\" rel=\"noreferrer\">word-wrapping</a> rather than character-wrapping, and treats <code>B</code> as a word character but <code>#</code> as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a <code>#</code> almost immediately and happily breaks there; whereas with the <code>B</code>, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).</p>\n\n<p>But that's pure speculation.</p>\n"},{"tags":[],"owner":{"account_id":4902258,"reputation":4979,"user_id":3962211,"accept_rate":71,"display_name":"Roy Shmuli"},"down_vote_count":2,"up_vote_count":259,"is_accepted":false,"score":257,"last_activity_date":1688559766,"creation_date":1428073264,"answer_id":29434641,"question_id":21947452,"body_markdown":"I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\r\nI used `System.nanoTime()` for measurements.\r\n\r\n## Eclipse:\r\n\r\nI got the **same time on both cases** - around **1.564 seconds**.\r\n\r\n## Netbeans:\r\n\r\n* Using &quot;#&quot;: **1.536 seconds**\r\n* Using &quot;B&quot;: **44.164 seconds**\r\n\r\nSo, it looks like Netbeans has a bad performance on print to console.\r\n\r\nAfter more research, I realized that the problem is [line-wrapping][1] of the max buffer of Netbeans (it&#39;s not restricted to `System.out.println` command), demonstrated by this code:\r\n\r\n```java\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        long t1 = System.nanoTime();\r\n        System.out.print(&quot;BBB......BBB&quot;); // &lt;- contains 1000 &quot;B&quot;s\r\n        long t2 = System.nanoTime();\r\n        System.out.println(t2 - t1);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n```\r\n\r\nThe time results are less than 1 millisecond every iteration except **every fifth iteration**, when the time result is around 225 milliseconds. Something like (in nanoseconds):\r\n\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...226365807\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...226365807\r\n    .\r\n    .\r\n    .\r\n\r\nAnd so on.\r\n\r\n## Summary:\r\n\r\n1. Eclipse works perfectly with &quot;B&quot;\r\n1. Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (&quot;B &quot;)).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\nI used <code>System.nanoTime()</code> for measurements.</p>\n<h2>Eclipse:</h2>\n<p>I got the <strong>same time on both cases</strong> - around <strong>1.564 seconds</strong>.</p>\n<h2>Netbeans:</h2>\n<ul>\n<li>Using &quot;#&quot;: <strong>1.536 seconds</strong></li>\n<li>Using &quot;B&quot;: <strong>44.164 seconds</strong></li>\n</ul>\n<p>So, it looks like Netbeans has a bad performance on print to console.</p>\n<p>After more research, I realized that the problem is <a href=\"http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap\" rel=\"nofollow noreferrer\">line-wrapping</a> of the max buffer of Netbeans (it's not restricted to <code>System.out.println</code> command), demonstrated by this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; 1000; i++) {\n        long t1 = System.nanoTime();\n        System.out.print(&quot;BBB......BBB&quot;); // &lt;- contains 1000 &quot;B&quot;s\n        long t2 = System.nanoTime();\n        System.out.println(t2 - t1);\n        System.out.println(&quot;&quot;);\n    }\n</code></pre>\n<p>The time results are less than 1 millisecond every iteration except <strong>every fifth iteration</strong>, when the time result is around 225 milliseconds. Something like (in nanoseconds):</p>\n<pre><code>BBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\n.\n.\n.\n</code></pre>\n<p>And so on.</p>\n<h2>Summary:</h2>\n<ol>\n<li>Eclipse works perfectly with &quot;B&quot;</li>\n<li>Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (&quot;B &quot;)).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1688560071,"creation_date":1567661130,"answer_id":57798920,"question_id":21947452,"body_markdown":"Yes, the culprit is definitely word-wrapping. When I tested your two programs, NetBeans IDE 8.2 gave me the following result.\r\n\r\n 1. First Matrix: O and # = ***6.03 seconds***\r\n 2. Second Matrix: O and B = ***50.97 seconds***\r\n\r\nLooking at your code closely: you have used a line break at the end of the first loop. But you didn&#39;t use any line breaks in the second loop. So you are going to print a word with 1000 characters in the second loop. That causes a word-wrapping problem. If we use a non-word character &quot; &quot; after B, it takes only ***5.35 seconds*** to compile the program. And If we use a line break in the second loop after passing 100 values or 50 values, it takes only ***8.56 seconds*** and ***7.05 seconds*** respectively. \r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;B&quot;);\r\n            }\r\n\r\n            if (j % 100 == 0) { // Adding a line break in second loop      \r\n                System.out.println();\r\n            }                    \r\n        }\r\n\r\n        System.out.println(&quot;&quot;);                \r\n    }\r\n\r\n\r\n\r\nAnother advice is to change the settings of NetBeans IDE. First of all, go to NetBeans **Tools** and click **Options**. After that, click **Editor** and go to the **Formatting** tab. Then select *Anywhere* in **Line Wrap** Option. It will take almost 6.24% less time to compile the program. \r\n\r\n[![NetBeans Editor Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yv2eL.jpg","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>Yes, the culprit is definitely word-wrapping. When I tested your two programs, NetBeans IDE 8.2 gave me the following result.</p>\n<ol>\n<li>First Matrix: O and # = <em><strong>6.03 seconds</strong></em></li>\n<li>Second Matrix: O and B = <em><strong>50.97 seconds</strong></em></li>\n</ol>\n<p>Looking at your code closely: you have used a line break at the end of the first loop. But you didn't use any line breaks in the second loop. So you are going to print a word with 1000 characters in the second loop. That causes a word-wrapping problem. If we use a non-word character &quot; &quot; after B, it takes only <em><strong>5.35 seconds</strong></em> to compile the program. And If we use a line break in the second loop after passing 100 values or 50 values, it takes only <em><strong>8.56 seconds</strong></em> and <em><strong>7.05 seconds</strong></em> respectively.</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;B&quot;);\n        }\n\n        if (j % 100 == 0) { // Adding a line break in second loop      \n            System.out.println();\n        }                    \n    }\n\n    System.out.println(&quot;&quot;);                \n}\n</code></pre>\n<p>Another advice is to change the settings of NetBeans IDE. First of all, go to NetBeans <strong>Tools</strong> and click <strong>Options</strong>. After that, click <strong>Editor</strong> and go to the <strong>Formatting</strong> tab. Then select <em>Anywhere</em> in <strong>Line Wrap</strong> Option. It will take almost 6.24% less time to compile the program.</p>\n<p><a href=\"https://i.stack.imgur.com/yv2eL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yv2eL.jpg\" alt=\"NetBeans Editor Settings\" /></a></p>\n"}],"owner":{"account_id":1921256,"reputation":26748,"user_id":1732709,"accept_rate":88,"display_name":"Kuba Spatny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256807,"favorite_count":0,"down_vote_count":22,"up_vote_count":3008,"accepted_answer_id":21947627,"answer_count":3,"score":2986,"last_activity_date":1688560071,"creation_date":1393026343,"question_id":21947452,"body_markdown":"I generated two matrices of `1000` x `1000`:\r\n\r\nFirst Matrix: `O` and `#`.  \r\nSecond Matrix: `O` and `B`.\r\n\r\nUsing the following code, the first matrix took 8.52 seconds to complete:\r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;#&quot;);\r\n            }\r\n        }\r\n                \r\n       System.out.println(&quot;&quot;);\r\n     }\r\n\r\n\r\nWith this code, the second matrix took 259.152 seconds to complete:\r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;B&quot;); // only line changed\r\n            }\r\n        }\r\n                    \r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\nWhat is the reason behind the dramatically different run times?\r\n\r\n---\r\n\r\nAs suggested in the comments, printing only `System.out.print(&quot;#&quot;);` takes `7.8871` seconds, whereas `System.out.print(&quot;B&quot;);` gives `still printing...`.\r\n\r\nAs others pointed out that it works for them normally, I tried [Ideone.com](http://ideone.com) for instance, and both pieces of code execute at the same speed.\r\n\r\nTest Conditions:\r\n\r\n - I ran this test from _Netbeans 7.2_, with the output into its console\r\n - I used `System.nanoTime()` for measurements","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>I generated two matrices of <code>1000</code> x <code>1000</code>:</p>\n<p>First Matrix: <code>O</code> and <code>#</code>.<br />\nSecond Matrix: <code>O</code> and <code>B</code>.</p>\n<p>Using the following code, the first matrix took 8.52 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;#&quot;);\n        }\n    }\n            \n   System.out.println(&quot;&quot;);\n }\n</code></pre>\n<p>With this code, the second matrix took 259.152 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;B&quot;); // only line changed\n        }\n    }\n                \n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>What is the reason behind the dramatically different run times?</p>\n<hr />\n<p>As suggested in the comments, printing only <code>System.out.print(&quot;#&quot;);</code> takes <code>7.8871</code> seconds, whereas <code>System.out.print(&quot;B&quot;);</code> gives <code>still printing...</code>.</p>\n<p>As others pointed out that it works for them normally, I tried <a href=\"http://ideone.com\" rel=\"noreferrer\">Ideone.com</a> for instance, and both pieces of code execute at the same speed.</p>\n<p>Test Conditions:</p>\n<ul>\n<li>I ran this test from <em>Netbeans 7.2</em>, with the output into its console</li>\n<li>I used <code>System.nanoTime()</code> for measurements</li>\n</ul>\n"},{"tags":["java","multithreading","unit-testing","executorservice","java-threads"],"answers":[{"tags":[],"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688559603,"creation_date":1688403710,"answer_id":76606833,"question_id":76606463,"body_markdown":"You can use [`ExecutorService#submit(Runnable)`][1] which returns a [`Future&lt;?&gt;`][2], on which you can call [`get()`][3] which blocks until the `Runnable#run()` method has completed.\r\n\r\n    Future&lt;?&gt; methodIWantToTest(/* params */) {\r\n        try {\r\n            return executor.submit(() -&gt; {\r\n                try {\r\n                    privateMethodINeedToWaitFor(/* params */);\r\n                    // Other stuff\r\n                } catch (Throwable throwable) {\r\n                    // Handle here, otherwise it may be ignored if Future#get() is not called.\r\n                    throwable.printStackTrace();\r\n                }\r\n            });\r\n        } // catch\r\n    }\r\n\r\nIn your test:\r\n\r\n    managerClass.methodIWantToTest(/* params */).get();\r\n\r\nIn production code, the return value is ignored:\r\n\r\n    managerClass.methodIWantToTest(/* params */);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>ExecutorService#submit(Runnable)</code></a> which returns a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;?&gt;</code></a>, on which you can call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a> which blocks until the <code>Runnable#run()</code> method has completed.</p>\n<pre><code>Future&lt;?&gt; methodIWantToTest(/* params */) {\n    try {\n        return executor.submit(() -&gt; {\n            try {\n                privateMethodINeedToWaitFor(/* params */);\n                // Other stuff\n            } catch (Throwable throwable) {\n                // Handle here, otherwise it may be ignored if Future#get() is not called.\n                throwable.printStackTrace();\n            }\n        });\n    } // catch\n}\n</code></pre>\n<p>In your test:</p>\n<pre><code>managerClass.methodIWantToTest(/* params */).get();\n</code></pre>\n<p>In production code, the return value is ignored:</p>\n<pre><code>managerClass.methodIWantToTest(/* params */);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688559746,"creation_date":1688558545,"answer_id":76620126,"question_id":76606463,"body_markdown":"You can use the [awaitility](http://www.awaitility.org/) library, which allows for constructs like\r\n\r\n```\r\nawait()\r\n .atMost(30, SECONDS)\r\n .until(() -&gt; managerClass.getListOfThings().size() == 1);\r\n```\r\n\r\nIt will check the condition every 500 ms (adjustable default) and fail after the given at most time if not fulfilled.\r\n\r\nOne might argue it&#39;s syntactic sugar for something like\r\n\r\n```\r\ntry {\r\n Instant latestEndTime = Instant.now().plusSeconds(30);\r\n boolean ok = managerClass.getListOfThings().size() == 1;\r\n while (!ok) {\r\n  if (Instant.now().isAfter(latestEndTime)) {\r\n   fail(&quot;condition not fulfilled after 30 seconds&quot;);\r\n  }\r\n  Thread.sleep(500);\r\n  ok = managerClass.getListOfThings().size() == 1;\r\n }\r\n} catch (InterruptedException x) {  // Thread.sleep() throws this\r\n fail(&quot;uh-oh - &quot; + x);\r\n}\r\n```","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>You can use the <a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">awaitility</a> library, which allows for constructs like</p>\n<pre><code>await()\n .atMost(30, SECONDS)\n .until(() -&gt; managerClass.getListOfThings().size() == 1);\n</code></pre>\n<p>It will check the condition every 500 ms (adjustable default) and fail after the given at most time if not fulfilled.</p>\n<p>One might argue it's syntactic sugar for something like</p>\n<pre><code>try {\n Instant latestEndTime = Instant.now().plusSeconds(30);\n boolean ok = managerClass.getListOfThings().size() == 1;\n while (!ok) {\n  if (Instant.now().isAfter(latestEndTime)) {\n   fail(&quot;condition not fulfilled after 30 seconds&quot;);\n  }\n  Thread.sleep(500);\n  ok = managerClass.getListOfThings().size() == 1;\n }\n} catch (InterruptedException x) {  // Thread.sleep() throws this\n fail(&quot;uh-oh - &quot; + x);\n}\n</code></pre>\n"}],"owner":{"account_id":7020435,"reputation":603,"user_id":5887711,"accept_rate":64,"display_name":"Tyrannogina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76620126,"answer_count":2,"score":1,"last_activity_date":1688559746,"creation_date":1688400330,"question_id":76606463,"body_markdown":"I have a class that basically has this code:\r\n```java\r\npublic class ManagerClass {\r\n  private final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n  void methodIWantToTest(/* params */){\r\n    try {\r\n      executor.execute(() -&gt; {\r\n        privateMethodINeedToWaitFor(/* params */);\r\n        // Other stuff\r\n      })\r\n    } // catch\r\n  }\r\n}\r\n```\r\nI need to test this method (`methodIWantToTest`), and at the moment the assertion runs before `privateMethodINeedToWaitFor` has finished.\r\nI don&#39;t know enough about threading to know if there&#39;s any way for me to wait for `methodIWantToTest` and every thread created within that method. The `privateMethodIHaveToWaitFor` updates some values that I need to check in my assertion.\r\n\r\nI&#39;m not comfortable refactoring this code yet as I&#39;m not familiar enough with the codebase, so I would rather apply a solution on the test for the time being.\r\n\r\nCurrently on my test I do\r\n```java\r\nmanagerClass.methodIWantToTest(/* params */).\r\nThread.sleep(1000);\r\nList&lt;Things&gt; list = managerClass.getListOfThings(); \r\nassertEquals(1, list.size()); \r\n// more assertions\r\n```\r\nwhich works as a way to check my test passes in my local environment, the sleep() seems enough. However I&#39;d like my code to wait for the actual threads to be done, not just have an arbitrary sleep time. ","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>I have a class that basically has this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ManagerClass {\n  private final ExecutorService executor = Executors.newSingleThreadExecutor();\n\n  void methodIWantToTest(/* params */){\n    try {\n      executor.execute(() -&gt; {\n        privateMethodINeedToWaitFor(/* params */);\n        // Other stuff\n      })\n    } // catch\n  }\n}\n</code></pre>\n<p>I need to test this method (<code>methodIWantToTest</code>), and at the moment the assertion runs before <code>privateMethodINeedToWaitFor</code> has finished.\nI don't know enough about threading to know if there's any way for me to wait for <code>methodIWantToTest</code> and every thread created within that method. The <code>privateMethodIHaveToWaitFor</code> updates some values that I need to check in my assertion.</p>\n<p>I'm not comfortable refactoring this code yet as I'm not familiar enough with the codebase, so I would rather apply a solution on the test for the time being.</p>\n<p>Currently on my test I do</p>\n<pre class=\"lang-java prettyprint-override\"><code>managerClass.methodIWantToTest(/* params */).\nThread.sleep(1000);\nList&lt;Things&gt; list = managerClass.getListOfThings(); \nassertEquals(1, list.size()); \n// more assertions\n</code></pre>\n<p>which works as a way to check my test passes in my local environment, the sleep() seems enough. However I'd like my code to wait for the actual threads to be done, not just have an arbitrary sleep time.</p>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1688480659,"post_id":76613461,"comment_id":135078117,"body_markdown":"*”the main part of the time is taken up by the process of applying styles”*. Are you certain of that? You say you are “loading” the styles. Where are you loading them from? Can you create an example where the long-running process really has to be executed on the FX Application Thread?","body":"<i>”the main part of the time is taken up by the process of applying styles”</i>. Are you certain of that? You say you are “loading” the styles. Where are you loading them from? Can you create an example where the long-running process really has to be executed on the FX Application Thread?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1688492838,"post_id":76613461,"comment_id":135080356,"body_markdown":"Unless your stylesheets are significantly more complicated than [modena.css](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css), my guess is it&#39;s not the styling that&#39;s causing your freezes, at least not &quot;directly&quot;. Perhaps you are simply adding too many nodes to the scene graph at once? But if you&#39;re confidant the CSS is the issue, have you considered styling the nodes in code instead? All CSS does is set various properties on the nodes (most of which can be set on a background thread if not &quot;live&quot;).","body":"Unless your stylesheets are significantly more complicated than <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"nofollow noreferrer\">modena.css</a>, my guess is it&#39;s not the styling that&#39;s causing your freezes, at least not &quot;directly&quot;. Perhaps you are simply adding too many nodes to the scene graph at once? But if you&#39;re confidant the CSS is the issue, have you considered styling the nodes in code instead? All CSS does is set various properties on the nodes (most of which can be set on a background thread if not &quot;live&quot;)."},{"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"score":0,"creation_date":1688559287,"post_id":76613461,"comment_id":135088924,"body_markdown":"I updated the question and made the example more close to the real case.","body":"I updated the question and made the example more close to the real case."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688579841,"post_id":76613461,"comment_id":135093931,"body_markdown":"I would expect 10^5 layout nodes to scale poorly; why not a `Canvas`?","body":"I would expect 10^5 layout nodes to scale poorly; why not a <code>Canvas</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688588095,"post_id":76613461,"comment_id":135095357,"body_markdown":"I think the solution is to figure out how to have less nodes being rendered at once. Maybe implement some kind of &quot;virtualization&quot; (e.g., what `ListView`, `TableView`, etc. all do with their cells). Or use a `Canvas` as trashgod mentioned, though I would make that a last resort if you need your users to interact with the UI.","body":"I think the solution is to figure out how to have less nodes being rendered at once. Maybe implement some kind of &quot;virtualization&quot; (e.g., what <code>ListView</code>, <code>TableView</code>, etc. all do with their cells). Or use a <code>Canvas</code> as trashgod mentioned, though I would make that a last resort if you need your users to interact with the UI."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1688622247,"post_id":76613461,"comment_id":135098709,"body_markdown":"As the comments show, this is an [xy problem](https://xyproblem.info/).","body":"As the comments show, this is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"score":0,"creation_date":1688629094,"post_id":76613461,"comment_id":135099868,"body_markdown":"Application with 10^5 nodes is just an example. In fact, I have a complex application with a complex structure where there are tabs inside which there are tabs. While application is running, everything works smoothly, because the content is added gradually. But during the system file opening, a lot of content is loaded at once and this effect occurs. Loading everything at once is a system solution to make working with the application smooth. If load content while switching tabs, small but unpleasant lags will be noticed. My only problem with loading is an adequate display of the loading screen","body":"Application with 10^5 nodes is just an example. In fact, I have a complex application with a complex structure where there are tabs inside which there are tabs. While application is running, everything works smoothly, because the content is added gradually. But during the system file opening, a lot of content is loaded at once and this effect occurs. Loading everything at once is a system solution to make working with the application smooth. If load content while switching tabs, small but unpleasant lags will be noticed. My only problem with loading is an adequate display of the loading screen"}],"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688559261,"creation_date":1688479565,"question_id":76613461,"body_markdown":"I have a complex application, with a lot of graphic elements with complex `CSS` styles. When I open a file, a large number of nodes with complex styles are added to the scene, which leads to a significant interface freeze.\r\n\r\nProblem example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Taking out loading data logic into a background thread does not solve problem, because the main part of the time is occupied by the process of adding graphical element with a large number of nodes and applying styles, which can only be performed in the UI thread.**\r\n\r\nCurrently I&#39;m solving my problem using an alternative `Swing` graphics thread, forming a transparent `JDialog` above the `JavaFX` window. This solution is bad and unstable for a number of reasons. For example, with system screen scaling the `JavaFX` application is scaled, but `Swing` is not. And there are many other problems.\r\n\r\nAlternative `Swing` solution code:\r\n\r\n\r\n```\r\npublic static void runWithSwingWaitPane(Scene scene, Runnable runnable) {\r\n    Bounds bounds = scene.getRoot().localToScreen(scene.getRoot().getBoundsInLocal());\r\n    WaitApp.open(bounds.getMinX(), bounds.getMinY(), scene.getWidth(), scene.getHeight());\r\n    runnable.run();\r\n    Platform.runLater(WaitApp::close);\r\n}\r\n\r\npublic class WaitApp {\r\n\r\n    private static final JDialog dialog;\r\n\r\n    static {\r\n        dialog = new JDialog();\r\n        dialog.getContentPane().add(new JLabel(new ImageIcon(Objects.requireNonNull(WaitApp.class.getResource(&quot;/wait.gif&quot;)))));\r\n        dialog.setUndecorated(true);\r\n        dialog.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\r\n        dialog.setAlwaysOnTop(true);\r\n        dialog.pack();\r\n        dialog.setLocationRelativeTo(null);\r\n        dialog.addFocusListener(new FocusListener() {\r\n            @Override\r\n            public void focusGained(FocusEvent e) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void focusLost(FocusEvent e) {\r\n                SwingUtilities.invokeLater(() -&gt; dialog.setVisible(false));\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void open(double x, double y, double v, double h) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            dialog.setLocation((int) x, (int) y);\r\n            dialog.setSize((int) v, (int) h);\r\n            dialog.setVisible(true);\r\n        });\r\n    }\r\n\r\n    public static void close() {\r\n        SwingUtilities.invokeLater(dialog::dispose);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlternative `Swing` solution example:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlternative `Swing` solution problem after system screen scale change:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBelow is an example of the code to get the problem.\r\n\r\n\r\n```\r\npublic class Example extends Application {\r\n\r\n    private List&lt;StackPane&gt; list1 = new ArrayList&lt;&gt;();\r\n    private List&lt;StackPane&gt; list2 = new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; styles = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;eee&quot;, &quot;fff&quot;, &quot;ggg&quot;, &quot;hhh&quot;);\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setScene(createScene());\r\n        generateContent();\r\n        stage.show();\r\n    }\r\n\r\n    private Scene createScene() {\r\n        VBox vBox = new VBox();\r\n        HBox toolbar = new HBox();\r\n        StackPane content = new StackPane();\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(content);\r\n        VBox.setVgrow(content, Priority.ALWAYS);\r\n        StackPane content1 = new StackPane();\r\n        StackPane content2 = new StackPane();\r\n        toolbar.getChildren().addAll(createButtons(root, content, content1, content2));\r\n        vBox.getChildren().addAll(toolbar, content);\r\n        list1.add(content1);\r\n        list2.add(content2);\r\n        root.getChildren().add(vBox);\r\n        Scene scene = new Scene(root, 200, 200);\r\n        scene.getStylesheets().add(&quot;/style.css&quot;);\r\n        return scene;\r\n    }\r\n\r\n    private List&lt;Button&gt; createButtons(StackPane root, StackPane content, StackPane content1, StackPane content2) {\r\n        Button first = new Button(&quot;first&quot;);\r\n        Button second = new Button(&quot;second&quot;);\r\n        first.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\r\n            long time = System.currentTimeMillis();\r\n            content.getChildren().clear();\r\n            content.getChildren().add(content1);\r\n            System.out.println(System.currentTimeMillis() - time);\r\n        }));\r\n        second.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\r\n            long time = System.currentTimeMillis();\r\n            content.getChildren().clear();\r\n            content.getChildren().add(content2);\r\n            System.out.println(System.currentTimeMillis() - time);\r\n        }));\r\n        return Arrays.asList(first, second);\r\n    }\r\n\r\n    private void runWithWaitPain(StackPane root, Runnable runnable) {\r\n        Image image = new Image(&quot;/wait.gif&quot;);\r\n        ImageView imageView = new ImageView(image);\r\n        root.getChildren().add(imageView);\r\n        Platform.runLater(() -&gt; {\r\n            runnable.run();\r\n            root.getChildren().remove(imageView);\r\n        });\r\n    }\r\n\r\n    private void generateContent() {\r\n        for (int i = 0; i &lt; 50000; i++) {\r\n            StackPane parent = list1.remove((int) (Math.random() * list1.size()));\r\n            parent.getChildren().add(generateCell(list1));\r\n        }\r\n        for (int i = 0; i &lt; 50000; i++) {\r\n            StackPane parent = list2.remove((int) (Math.random() * list2.size()));\r\n            parent.getChildren().add(generateCell(list2));\r\n        }\r\n    }\r\n\r\n    private Node generateCell(List&lt;StackPane&gt; list) {\r\n        StackPane pane1 = new StackPane();\r\n        pane1.getStyleClass().add(styles.get((int) (Math.random() * 8)));\r\n        list.add(pane1);\r\n        StackPane pane2 = new StackPane();\r\n        pane2.getStyleClass().add(styles.get((int) (Math.random() * 8)));\r\n        list.add(pane2);\r\n\r\n        Pane cell = Math.random() &lt; 0.5 ? new HBox() : new VBox();\r\n        cell.getChildren().addAll(pane1, pane2);\r\n        if (cell instanceof HBox) {\r\n            HBox.setHgrow(pane1, Priority.ALWAYS);\r\n            HBox.setHgrow(pane2, Priority.ALWAYS);\r\n        }\r\n        if (cell instanceof VBox) {\r\n            VBox.setVgrow(pane1, Priority.ALWAYS);\r\n            VBox.setVgrow(pane2, Priority.ALWAYS);\r\n        }\r\n        return cell;\r\n    }\r\n}\r\n```\r\n\r\nstyle.css\r\n\r\n```\r\n.aaa {\r\n    -fx-background-color: red;\r\n}\r\n.bbb {\r\n    -fx-background-color: green;\r\n}\r\n.ccc {\r\n    -fx-background-color: blue;\r\n}\r\n.ddd {\r\n    -fx-background-color: yellow;\r\n}\r\n.eee {\r\n    -fx-background-color: black;\r\n}\r\n.fff {\r\n    -fx-background-color: orange;\r\n}\r\n.ggg {\r\n    -fx-background-color: purple;\r\n}\r\n.hhh {\r\n    -fx-background-color: gray;\r\n}\r\n```\r\n\r\nIn the current example, when adding an element with a large number of nodes, applying styles takes 20% of the total time, in a real project, applying styles takes 50% of the time.\r\n\r\nAre there any other ways to display the waiting screen? Maybe there are some built-in or alternative solutions?\r\n\r\nRunning platform: Java version 8 (Liberica Full JDK 8u372+7) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pETaP.gif\r\n  [2]: https://i.stack.imgur.com/mhS2x.gif\r\n  [3]: https://i.stack.imgur.com/00BYE.png","title":"Launching wait pain screen when the JavaFX UI freezes","body":"<p>I have a complex application, with a lot of graphic elements with complex <code>CSS</code> styles. When I open a file, a large number of nodes with complex styles are added to the scene, which leads to a significant interface freeze.</p>\n<p>Problem example:</p>\n<p><a href=\"https://i.stack.imgur.com/pETaP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pETaP.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>Taking out loading data logic into a background thread does not solve problem, because the main part of the time is occupied by the process of adding graphical element with a large number of nodes and applying styles, which can only be performed in the UI thread.</strong></p>\n<p>Currently I'm solving my problem using an alternative <code>Swing</code> graphics thread, forming a transparent <code>JDialog</code> above the <code>JavaFX</code> window. This solution is bad and unstable for a number of reasons. For example, with system screen scaling the <code>JavaFX</code> application is scaled, but <code>Swing</code> is not. And there are many other problems.</p>\n<p>Alternative <code>Swing</code> solution code:</p>\n<pre><code>public static void runWithSwingWaitPane(Scene scene, Runnable runnable) {\n    Bounds bounds = scene.getRoot().localToScreen(scene.getRoot().getBoundsInLocal());\n    WaitApp.open(bounds.getMinX(), bounds.getMinY(), scene.getWidth(), scene.getHeight());\n    runnable.run();\n    Platform.runLater(WaitApp::close);\n}\n\npublic class WaitApp {\n\n    private static final JDialog dialog;\n\n    static {\n        dialog = new JDialog();\n        dialog.getContentPane().add(new JLabel(new ImageIcon(Objects.requireNonNull(WaitApp.class.getResource(&quot;/wait.gif&quot;)))));\n        dialog.setUndecorated(true);\n        dialog.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\n        dialog.setAlwaysOnTop(true);\n        dialog.pack();\n        dialog.setLocationRelativeTo(null);\n        dialog.addFocusListener(new FocusListener() {\n            @Override\n            public void focusGained(FocusEvent e) {\n\n            }\n\n            @Override\n            public void focusLost(FocusEvent e) {\n                SwingUtilities.invokeLater(() -&gt; dialog.setVisible(false));\n            }\n        });\n    }\n\n    public static void open(double x, double y, double v, double h) {\n        SwingUtilities.invokeLater(() -&gt; {\n            dialog.setLocation((int) x, (int) y);\n            dialog.setSize((int) v, (int) h);\n            dialog.setVisible(true);\n        });\n    }\n\n    public static void close() {\n        SwingUtilities.invokeLater(dialog::dispose);\n    }\n}\n\n</code></pre>\n<p>Alternative <code>Swing</code> solution example:</p>\n<p><a href=\"https://i.stack.imgur.com/mhS2x.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mhS2x.gif\" alt=\"enter image description here\" /></a></p>\n<p>Alternative <code>Swing</code> solution problem after system screen scale change:</p>\n<p><a href=\"https://i.stack.imgur.com/00BYE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/00BYE.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is an example of the code to get the problem.</p>\n<pre><code>public class Example extends Application {\n\n    private List&lt;StackPane&gt; list1 = new ArrayList&lt;&gt;();\n    private List&lt;StackPane&gt; list2 = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; styles = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;eee&quot;, &quot;fff&quot;, &quot;ggg&quot;, &quot;hhh&quot;);\n\n    @Override\n    public void start(Stage stage) {\n        stage.setScene(createScene());\n        generateContent();\n        stage.show();\n    }\n\n    private Scene createScene() {\n        VBox vBox = new VBox();\n        HBox toolbar = new HBox();\n        StackPane content = new StackPane();\n        StackPane root = new StackPane();\n        root.getChildren().add(content);\n        VBox.setVgrow(content, Priority.ALWAYS);\n        StackPane content1 = new StackPane();\n        StackPane content2 = new StackPane();\n        toolbar.getChildren().addAll(createButtons(root, content, content1, content2));\n        vBox.getChildren().addAll(toolbar, content);\n        list1.add(content1);\n        list2.add(content2);\n        root.getChildren().add(vBox);\n        Scene scene = new Scene(root, 200, 200);\n        scene.getStylesheets().add(&quot;/style.css&quot;);\n        return scene;\n    }\n\n    private List&lt;Button&gt; createButtons(StackPane root, StackPane content, StackPane content1, StackPane content2) {\n        Button first = new Button(&quot;first&quot;);\n        Button second = new Button(&quot;second&quot;);\n        first.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\n            long time = System.currentTimeMillis();\n            content.getChildren().clear();\n            content.getChildren().add(content1);\n            System.out.println(System.currentTimeMillis() - time);\n        }));\n        second.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\n            long time = System.currentTimeMillis();\n            content.getChildren().clear();\n            content.getChildren().add(content2);\n            System.out.println(System.currentTimeMillis() - time);\n        }));\n        return Arrays.asList(first, second);\n    }\n\n    private void runWithWaitPain(StackPane root, Runnable runnable) {\n        Image image = new Image(&quot;/wait.gif&quot;);\n        ImageView imageView = new ImageView(image);\n        root.getChildren().add(imageView);\n        Platform.runLater(() -&gt; {\n            runnable.run();\n            root.getChildren().remove(imageView);\n        });\n    }\n\n    private void generateContent() {\n        for (int i = 0; i &lt; 50000; i++) {\n            StackPane parent = list1.remove((int) (Math.random() * list1.size()));\n            parent.getChildren().add(generateCell(list1));\n        }\n        for (int i = 0; i &lt; 50000; i++) {\n            StackPane parent = list2.remove((int) (Math.random() * list2.size()));\n            parent.getChildren().add(generateCell(list2));\n        }\n    }\n\n    private Node generateCell(List&lt;StackPane&gt; list) {\n        StackPane pane1 = new StackPane();\n        pane1.getStyleClass().add(styles.get((int) (Math.random() * 8)));\n        list.add(pane1);\n        StackPane pane2 = new StackPane();\n        pane2.getStyleClass().add(styles.get((int) (Math.random() * 8)));\n        list.add(pane2);\n\n        Pane cell = Math.random() &lt; 0.5 ? new HBox() : new VBox();\n        cell.getChildren().addAll(pane1, pane2);\n        if (cell instanceof HBox) {\n            HBox.setHgrow(pane1, Priority.ALWAYS);\n            HBox.setHgrow(pane2, Priority.ALWAYS);\n        }\n        if (cell instanceof VBox) {\n            VBox.setVgrow(pane1, Priority.ALWAYS);\n            VBox.setVgrow(pane2, Priority.ALWAYS);\n        }\n        return cell;\n    }\n}\n</code></pre>\n<p>style.css</p>\n<pre><code>.aaa {\n    -fx-background-color: red;\n}\n.bbb {\n    -fx-background-color: green;\n}\n.ccc {\n    -fx-background-color: blue;\n}\n.ddd {\n    -fx-background-color: yellow;\n}\n.eee {\n    -fx-background-color: black;\n}\n.fff {\n    -fx-background-color: orange;\n}\n.ggg {\n    -fx-background-color: purple;\n}\n.hhh {\n    -fx-background-color: gray;\n}\n</code></pre>\n<p>In the current example, when adding an element with a large number of nodes, applying styles takes 20% of the total time, in a real project, applying styles takes 50% of the time.</p>\n<p>Are there any other ways to display the waiting screen? Maybe there are some built-in or alternative solutions?</p>\n<p>Running platform: Java version 8 (Liberica Full JDK 8u372+7)</p>\n"},{"tags":["java","casting","operators","variable-assignment","assignment-operator"],"comments":[{"owner":{"account_id":5489026,"reputation":1968,"user_id":4362954,"display_name":"SQLDiver"},"score":158,"creation_date":1420475508,"post_id":8710619,"comment_id":43977368,"body_markdown":"I&#39;m surprised Java allows this, being a stricter language than its predecessors.  Errors in casting can lead to critical failure, as was the case with Ariane5 Flight 501 where a 64-bit float cast to a 16-bit integer resulted in the crash.","body":"I&#39;m surprised Java allows this, being a stricter language than its predecessors.  Errors in casting can lead to critical failure, as was the case with Ariane5 Flight 501 where a 64-bit float cast to a 16-bit integer resulted in the crash."},{"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"score":137,"creation_date":1446456272,"post_id":8710619,"comment_id":54733887,"body_markdown":"In a flight control system written in Java, this would be the least of your worries @SQLDiver","body":"In a flight control system written in Java, this would be the least of your worries @SQLDiver"},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":10,"creation_date":1458287122,"post_id":8710619,"comment_id":59802365,"body_markdown":"Actually `i+=(long)j;` even will compile fine.","body":"Actually <code>i+=(long)j;</code> even will compile fine."},{"owner":{"account_id":2161903,"reputation":30360,"user_id":1915893,"display_name":"Aluan Haddad"},"score":0,"creation_date":1500558254,"post_id":8710619,"comment_id":77399293,"body_markdown":"I think Douglas Crockford wins the argument after all... This behavior is terrible and lots of languages have similar problems around conversions.","body":"I think Douglas Crockford wins the argument after all... This behavior is terrible and lots of languages have similar problems around conversions."},{"owner":{"account_id":998291,"reputation":35690,"user_id":1013719,"accept_rate":82,"display_name":"Ryan Haining"},"score":1,"creation_date":1503276218,"post_id":8710619,"comment_id":78533884,"body_markdown":"@Tharindu that&#39;s consistent though, since the whole expression gets casted, so it&#39;s the same as as `i = (int)(i + (long)j);`","body":"@Tharindu that&#39;s consistent though, since the whole expression gets casted, so it&#39;s the same as as <code>i = (int)(i + (long)j);</code>"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":8,"creation_date":1505837024,"post_id":8710619,"comment_id":79572312,"body_markdown":"The constant push by one set of developers for accuracy and another for ease of use is really interesting.   We almost need two versions of the language, one that is amazingly precise and one that is easy to use.  Pushing Java from both directions moves it towards being unsuitable for either group.","body":"The constant push by one set of developers for accuracy and another for ease of use is really interesting.   We almost need two versions of the language, one that is amazingly precise and one that is easy to use.  Pushing Java from both directions moves it towards being unsuitable for either group."},{"owner":{"account_id":135130,"reputation":3754,"user_id":1070480,"accept_rate":78,"display_name":"HelloGoodbye"},"score":2,"creation_date":1539856333,"post_id":8710619,"comment_id":92656275,"body_markdown":"@RossDrew Why is that not a good idea?","body":"@RossDrew Why is that not a good idea?"},{"owner":{"account_id":135130,"reputation":3754,"user_id":1070480,"accept_rate":78,"display_name":"HelloGoodbye"},"score":3,"creation_date":1539856465,"post_id":8710619,"comment_id":92656361,"body_markdown":"@Tharindu What did you excpect? You are casting `j` to `long`, but `j` is already a `long`, so your casting doesn&#39;t do anything.","body":"@Tharindu What did you excpect? You are casting <code>j</code> to <code>long</code>, but <code>j</code> is already a <code>long</code>, so your casting doesn&#39;t do anything."},{"owner":{"account_id":1858553,"reputation":142,"user_id":1683629,"display_name":"Norill Tempest"},"score":9,"creation_date":1540386575,"post_id":8710619,"comment_id":92845952,"body_markdown":"if it did require casting, where would you put it? `i += (int) f;` casts f before addition, so it&#39;s not equivalent. `(int) i += f;` casts the result after assignment, not equivalent either. there would be no place to put a cast that would signify that you want to cast the value after adding, but before assignment.","body":"if it did require casting, where would you put it? <code>i += (int) f;</code> casts f before addition, so it&#39;s not equivalent. <code>(int) i += f;</code> casts the result after assignment, not equivalent either. there would be no place to put a cast that would signify that you want to cast the value after adding, but before assignment."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1548198448,"post_id":8710619,"comment_id":95455310,"body_markdown":"&quot;it&#39;s floating point is not precise&quot; let&#39;s correct that-&gt; &quot;floating point is not precise&quot; (Java follows IEEE floating point standard). If you use floating point when calculations and you haven&#39;t analysed whether the error is within the bounds required for your application, and your application is critical, you are the one to blame - not the language.","body":"&quot;it&#39;s floating point is not precise&quot; let&#39;s correct that-&gt; &quot;floating point is not precise&quot; (Java follows IEEE floating point standard). If you use floating point when calculations and you haven&#39;t analysed whether the error is within the bounds required for your application, and your application is critical, you are the one to blame - not the language."},{"owner":{"account_id":5489026,"reputation":1968,"user_id":4362954,"display_name":"SQLDiver"},"score":0,"creation_date":1567777701,"post_id":8710619,"comment_id":102076700,"body_markdown":"@RossDrew The Ariane5 was a space rocket.","body":"@RossDrew The Ariane5 was a space rocket."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1606955108,"post_id":8710619,"comment_id":115123714,"body_markdown":"This is a huge source of bugs in Java.","body":"This is a huge source of bugs in Java."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1622725338,"post_id":8710619,"comment_id":119878013,"body_markdown":"@BillK no, we do not need two versions. We only need the one version for accuracy. The &quot;ease of use&quot; is an illusion.  If you opt for features that provide &quot;ease of use&quot; you invariably end up paying for them hundredfold in maintenance costs.  Let me point you to good old edsgar: https://www.cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html (search for &quot;ease of programming&quot; in the text.)","body":"@BillK no, we do not need two versions. We only need the one version for accuracy. The &quot;ease of use&quot; is an illusion.  If you opt for features that provide &quot;ease of use&quot; you invariably end up paying for them hundredfold in maintenance costs.  Let me point you to good old edsgar: <a href=\"https://www.cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html\" rel=\"nofollow noreferrer\">cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html</a> (search for &quot;ease of programming&quot; in the text.)"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1623086934,"post_id":8710619,"comment_id":119973712,"body_markdown":"@MikeNakis The lack of paying attention to ease of use has lead to people not being interested in or even hating java--especially new users.  This has lead to quite a few easy to use &amp; inaccurate languages along the line of ruby/groovy.  Kotlin seems to be a good balance of a usable static language, but it&#39;s yet another response to Java not moving towards usability.  (Don&#39;t get me wrong, I LOVE Java and they have made inroads towards usability such as not requiring two wrapper classes to read a text file, it just may be too late).","body":"@MikeNakis The lack of paying attention to ease of use has lead to people not being interested in or even hating java--especially new users.  This has lead to quite a few easy to use &amp; inaccurate languages along the line of ruby/groovy.  Kotlin seems to be a good balance of a usable static language, but it&#39;s yet another response to Java not moving towards usability.  (Don&#39;t get me wrong, I LOVE Java and they have made inroads towards usability such as not requiring two wrapper classes to read a text file, it just may be too late)."},{"owner":{"account_id":2542965,"reputation":2604,"user_id":2208372,"display_name":"Phil1970"},"score":0,"creation_date":1659229653,"post_id":8710619,"comment_id":129244503,"body_markdown":"As already mentionned, there is no good place to put a cast so the only other option would be to make it error and then you would have to use the long expression `i = (int)(i + j)`. Probably the best option would be to have a compiler option to generate a warning or error...","body":"As already mentionned, there is no good place to put a cast so the only other option would be to make it error and then you would have to use the long expression <code>i = (int)(i + j)</code>. Probably the best option would be to have a compiler option to generate a warning or error..."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698960307,"post_id":8710619,"comment_id":136474378,"body_markdown":"@LukeHutchison Is it? Evidence?. I’ve been programming in Java since 1997 and I’ve never seen such a bug.","body":"@LukeHutchison Is it? Evidence?. I’ve been programming in Java since 1997 and I’ve never seen such a bug."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1699049176,"post_id":8710619,"comment_id":136487166,"body_markdown":"@user207421 yes, this is quite obviously a source of loss-of-precision bugs, since it allows implicit narrowing casts without any sort of warning to the user. There&#39;s a reason you can&#39;t do `i = j;` using the example in the question. If that were allowed without warning, you&#39;d be throwing away half of `j` without even knowing it. The problem is compounded because implicit widening casts are allowed. So for example, consider: `double x = 0.0; int y = 1; double z = 1.5; y += z; x += y;` : there are no warnings anywhere, but if you don&#39;t realize `y` is an `int`, you lose `.5` with no warning.","body":"@user207421 yes, this is quite obviously a source of loss-of-precision bugs, since it allows implicit narrowing casts without any sort of warning to the user. There&#39;s a reason you can&#39;t do <code>i = j;</code> using the example in the question. If that were allowed without warning, you&#39;d be throwing away half of <code>j</code> without even knowing it. The problem is compounded because implicit widening casts are allowed. So for example, consider: <code>double x = 0.0; int y = 1; double z = 1.5; y += z; x += y;</code> : there are no warnings anywhere, but if you don&#39;t realize <code>y</code> is an <code>int</code>, you lose <code>.5</code> with no warning."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2561,"is_accepted":true,"score":2561,"last_activity_date":1586429652,"creation_date":1325585723,"answer_id":8710685,"question_id":8710619,"body_markdown":"As always with these questions, the JLS holds the answer. In this case [&#167;15.26.2 Compound Assignment Operators][1]. An extract:\r\n\r\n&gt; A compound assignment expression of the form &lt;code&gt;E1&amp;nbsp;op=&amp;nbsp;E2&lt;/code&gt; is equivalent to &lt;code&gt;E1&amp;nbsp;=&amp;nbsp;(T)((E1)&amp;nbsp;op&amp;nbsp;(E2))&lt;/code&gt;, where `T` is the type of `E1`, except that `E1` is evaluated only once.\r\n\r\nAn example cited from [&#167;15.26.2][1]\r\n\r\n&gt;   [...] the following code is correct:\r\n\r\n&gt;     short x = 3;\r\n    x += 4.6;\r\n\r\n&gt;    and results in x having the value 7 because it is equivalent to:\r\n\r\n&gt;     short x = 3;\r\n&gt;     x = (short)(x + 4.6);\r\n\r\nIn other words, your assumption is correct.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>As always with these questions, the JLS holds the answer. In this case <a href=\"http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">§15.26.2 Compound Assignment Operators</a>. An extract:</p>\n\n<blockquote>\n  <p>A compound assignment expression of the form <code>E1&nbsp;op=&nbsp;E2</code> is equivalent to <code>E1&nbsp;=&nbsp;(T)((E1)&nbsp;op&nbsp;(E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once.</p>\n</blockquote>\n\n<p>An example cited from <a href=\"http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">§15.26.2</a></p>\n\n<blockquote>\n  <p>[...] the following code is correct:</p>\n\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n  \n  <p>and results in x having the value 7 because it is equivalent to:</p>\n\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n</blockquote>\n\n<p>In other words, your assumption is correct.</p>\n"},{"tags":[],"owner":{"account_id":395649,"reputation":18444,"user_id":758708,"accept_rate":100,"display_name":"dku.rajkumar"},"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1325586421,"creation_date":1325585748,"answer_id":8710688,"question_id":8710619,"body_markdown":"you need to cast from `long` to `int` `explicitly` in case of `i = i + l`  then it will compile and give correct output. like \r\n\r\n    i = i + (int)l;\r\nor\r\n\r\n    i = (int)((long)i + l); // this is what happens in case of += , dont need (long) casting since upper casting is done implicitly.\r\n\r\nbut in case of `+=` it just works fine because the operator implicitly does the type casting from type of right variable to type of left variable so need not cast explicitly.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>you need to cast from <code>long</code> to <code>int</code> <code>explicitly</code> in case of <code>i = i + l</code>  then it will compile and give correct output. like </p>\n\n<pre><code>i = i + (int)l;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>i = (int)((long)i + l); // this is what happens in case of += , dont need (long) casting since upper casting is done implicitly.\n</code></pre>\n\n<p>but in case of <code>+=</code> it just works fine because the operator implicitly does the type casting from type of right variable to type of left variable so need not cast explicitly.</p>\n"},{"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"down_vote_count":0,"up_vote_count":270,"is_accepted":false,"score":270,"last_activity_date":1491246701,"creation_date":1325585855,"answer_id":8710717,"question_id":8710619,"body_markdown":"Very good question. The [Java Language specification][1] confirms your suggestion.\r\n\r\n&gt; For example, the following code is correct:\r\n&gt; \r\n&gt; \r\n&gt;     short x = 3;\r\n&gt;     x += 4.6;\r\n&gt; \r\n&gt; and results in x having the value 7 because it is equivalent to:\r\n&gt; \r\n&gt; \r\n&gt;     short x = 3;\r\n&gt;     x = (short)(x + 4.6);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26.2","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Very good question. The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">Java Language specification</a> confirms your suggestion.</p>\n\n<blockquote>\n  <p>For example, the following code is correct:</p>\n\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n  \n  <p>and results in x having the value 7 because it is equivalent to:</p>\n\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"down_vote_count":4,"up_vote_count":187,"is_accepted":false,"score":183,"last_activity_date":1688557302,"creation_date":1325585988,"answer_id":8710746,"question_id":8710619,"body_markdown":"Yes,\r\n\r\nbasically when we write\r\n\r\n    i += l; \r\n\r\nthe compiler converts this to \r\n\r\n    i = (int) (i + l);\r\n\r\nI just checked the `.class` file code.\r\n\r\nReally a good thing to know.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Yes,</p>\n<p>basically when we write</p>\n<pre><code>i += l; \n</code></pre>\n<p>the compiler converts this to</p>\n<pre><code>i = (int) (i + l);\n</code></pre>\n<p>I just checked the <code>.class</code> file code.</p>\n<p>Really a good thing to know.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":7,"up_vote_count":515,"is_accepted":false,"score":508,"last_activity_date":1325586320,"creation_date":1325586003,"answer_id":8710747,"question_id":8710619,"body_markdown":"A good example of this casting is using *= or /=\r\n\r\n    byte b = 10;\r\n    b *= 5.7;\r\n    System.out.println(b); // prints 57\r\n\r\nor\r\n\r\n    byte b = 100;\r\n    b /= 2.5;\r\n    System.out.println(b); // prints 40\r\n\r\nor\r\n\r\n    char ch = &#39;0&#39;;\r\n    ch *= 1.1;\r\n    System.out.println(ch); // prints &#39;4&#39;\r\n\r\nor\r\n\r\n    char ch = &#39;A&#39;;\r\n    ch *= 1.5;\r\n    System.out.println(ch); // prints &#39;a&#39;\r\n\r\n","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>A good example of this casting is using *= or /=</p>\n\n<pre><code>byte b = 10;\nb *= 5.7;\nSystem.out.println(b); // prints 57\n</code></pre>\n\n<p>or</p>\n\n<pre><code>byte b = 100;\nb /= 2.5;\nSystem.out.println(b); // prints 40\n</code></pre>\n\n<p>or</p>\n\n<pre><code>char ch = '0';\nch *= 1.1;\nSystem.out.println(ch); // prints '4'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>char ch = 'A';\nch *= 1.5;\nSystem.out.println(ch); // prints 'a'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1059619,"reputation":2147,"user_id":1061518,"accept_rate":54,"display_name":"dinesh028"},"down_vote_count":7,"up_vote_count":71,"is_accepted":false,"score":64,"last_activity_date":1688557383,"creation_date":1325586029,"answer_id":8710752,"question_id":8710619,"body_markdown":"The problem here involves type casting.\r\n\r\nWhen you add int and long, \r\n\r\n1. The int object is cast to long &amp; both are added and you get a long object.\r\n2. But the long object cannot be implicitly cast to int. So, you have to do that explicitly.\r\n\r\nBut `+=` is coded in such a way that it does type casting. `i = (int) (i + m)`","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>The problem here involves type casting.</p>\n<p>When you add int and long,</p>\n<ol>\n<li>The int object is cast to long &amp; both are added and you get a long object.</li>\n<li>But the long object cannot be implicitly cast to int. So, you have to do that explicitly.</li>\n</ol>\n<p>But <code>+=</code> is coded in such a way that it does type casting. <code>i = (int) (i + m)</code></p>\n"},{"tags":[],"owner":{"account_id":2130094,"reputation":1331,"user_id":1891112,"accept_rate":71,"display_name":"tinker_fairy"},"down_vote_count":5,"up_vote_count":58,"is_accepted":false,"score":53,"last_activity_date":1409118955,"creation_date":1358920236,"answer_id":14473282,"question_id":8710619,"body_markdown":"In Java type conversions are performed automatically when the type of the expression on the right hand side of an assignment operation can be safely promoted to the type of the variable on the left hand side of the assignment. Thus we can safely assign:  \r\n&lt;pre&gt; byte -&gt; short -&gt; int -&gt; long -&gt; float -&gt; double. &lt;/pre&gt;  \r\nThe same will not work the other way round. For example we cannot automatically convert a long to an int because the first requires more storage than the second and consequently information may be lost. To force such a conversion we must carry out an explicit conversion.  \r\n[Type - Conversion][1]\r\n\r\n\r\n  [1]: http://way2java.com/casting-operations/data-type-casting-type-conversion/","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>In Java type conversions are performed automatically when the type of the expression on the right hand side of an assignment operation can be safely promoted to the type of the variable on the left hand side of the assignment. Thus we can safely assign:  </p>\n\n<pre> byte -> short -> int -> long -> float -> double. </pre>  \n\n<p>The same will not work the other way round. For example we cannot automatically convert a long to an int because the first requires more storage than the second and consequently information may be lost. To force such a conversion we must carry out an explicit conversion.<br>\n<a href=\"http://way2java.com/casting-operations/data-type-casting-type-conversion/\" rel=\"noreferrer\">Type - Conversion</a></p>\n"},{"tags":[],"owner":{"account_id":4805038,"reputation":1687,"user_id":3880437,"accept_rate":67,"display_name":"Stopfan"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1421269895,"creation_date":1417516858,"answer_id":27247364,"question_id":8710619,"body_markdown":"Sometimes, such a question can be asked at an interview.\r\n\r\nFor example, when you write:\r\n\r\n    int a = 2;\r\n    long b = 3;\r\n    a = a + b;\r\n\r\nthere is no automatic typecasting. In C++ there will not be any error compiling the above code, but in Java you will get something like `Incompatible type exception`.\r\n\r\nSo to avoid it, you must write your code like this:\r\n\r\n    int a = 2;\r\n    long b = 3;\r\n    a += b;// No compilation error or any exception due to the auto typecasting","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Sometimes, such a question can be asked at an interview.</p>\n\n<p>For example, when you write:</p>\n\n<pre><code>int a = 2;\nlong b = 3;\na = a + b;\n</code></pre>\n\n<p>there is no automatic typecasting. In C++ there will not be any error compiling the above code, but in Java you will get something like <code>Incompatible type exception</code>.</p>\n\n<p>So to avoid it, you must write your code like this:</p>\n\n<pre><code>int a = 2;\nlong b = 3;\na += b;// No compilation error or any exception due to the auto typecasting\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5830136,"reputation":457,"user_id":4594967,"accept_rate":57,"display_name":"takra"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1688557443,"creation_date":1433719624,"answer_id":30699499,"question_id":8710619,"body_markdown":"The main difference is that with `a = a + b`, there is no typecasting going on, and so the compiler gets angry at you for not typecasting. But with `a += b`, what it&#39;s really doing is typecasting `b` to a type compatible with `a`. So if you do \r\n\r\n```java\r\n    int a = 5;\r\n    long b = 10;\r\n    a += b;\r\n    System.out.println(a);\r\n```\r\n\r\nWhat you&#39;re really doing is: \r\n\r\n```java\r\n    int a = 5;\r\n    long b = 10;\r\n    a = a + (int) b;\r\n    System.out.println(a);\r\n```","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>The main difference is that with <code>a = a + b</code>, there is no typecasting going on, and so the compiler gets angry at you for not typecasting. But with <code>a += b</code>, what it's really doing is typecasting <code>b</code> to a type compatible with <code>a</code>. So if you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int a = 5;\n    long b = 10;\n    a += b;\n    System.out.println(a);\n</code></pre>\n<p>What you're really doing is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int a = 5;\n    long b = 10;\n    a = a + (int) b;\n    System.out.println(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1090121,"reputation":193,"user_id":1084927,"display_name":"Cyborg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1521832378,"creation_date":1453147629,"answer_id":34863187,"question_id":8710619,"body_markdown":"Subtle point here...\r\n\r\nThere is an implicit typecast for `i+j` when `j` is a double and `i` is an int.\r\nJava **ALWAYS** converts an integer into a double when there is an operation between them.\r\n\r\nTo clarify `i+=j` where `i` is an integer and `j` is a double can be described as\r\n\r\n    i = &lt;int&gt;(&lt;double&gt;i + j)\r\n\r\nSee: [this description of implicit casting][1]\r\n\r\nYou might want to typecast `j` to `(int)` in this case for clarity.\r\n\r\n  [1]: https://www.cs.cmu.edu/~pattis/15-1XX/15-200/lectures/voe/lecture.html#ImplicitConversion","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Subtle point here...</p>\n\n<p>There is an implicit typecast for <code>i+j</code> when <code>j</code> is a double and <code>i</code> is an int.\nJava <strong>ALWAYS</strong> converts an integer into a double when there is an operation between them.</p>\n\n<p>To clarify <code>i+=j</code> where <code>i</code> is an integer and <code>j</code> is a double can be described as</p>\n\n<pre><code>i = &lt;int&gt;(&lt;double&gt;i + j)\n</code></pre>\n\n<p>See: <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/15-200/lectures/voe/lecture.html#ImplicitConversion\" rel=\"noreferrer\">this description of implicit casting</a></p>\n\n<p>You might want to typecast <code>j</code> to <code>(int)</code> in this case for clarity.</p>\n"},{"tags":[],"owner":{"account_id":381422,"reputation":11633,"user_id":736054,"accept_rate":80,"display_name":"Kamila Borowska"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561453477,"creation_date":1552061167,"answer_id":55066886,"question_id":8710619,"body_markdown":"Java Language Specification [defines `E1 op= E2` to be equivalent to `E1 = (T) ((E1) op (E2))` where `T` is a type of `E1` and `E1` is evaluated once](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2).\r\n\r\nThat&#39;s a technical answer, but you may be wondering why that&#39;s a case. Well, let&#39;s consider the following program.\r\n\r\n    public class PlusEquals {\r\n        public static void main(String[] args) {\r\n            byte a = 1;\r\n            byte b = 2;\r\n            a = a + b;\r\n            System.out.println(a);\r\n        }\r\n    }\r\n\r\n\r\nWhat does this program print?\r\n\r\nDid you guess 3? Too bad, this program won&#39;t compile. Why? Well, it so happens that addition of bytes in Java [is defined to return an `int`](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2). This, I believe was because the Java Virtual Machine doesn&#39;t define byte operations to save on bytecodes (there is a limited number of those, after all), using integer operations instead is an implementation detail exposed in a language.\r\n\r\nBut if `a = a + b` doesn&#39;t work, that would mean `a += b` would never work for bytes if it `E1 += E2` was defined to be `E1 = E1 + E2`. As the previous example shows, that would be indeed the case. As a hack to make `+=` operator work for bytes and shorts, there is an implicit cast involved. It&#39;s not that great of a hack, but back during the Java 1.0 work, the focus was on getting the language released to begin with. Now, because of backwards compatibility, this hack introduced in Java 1.0 couldn&#39;t be removed.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">defines <code>E1 op= E2</code> to be equivalent to <code>E1 = (T) ((E1) op (E2))</code> where <code>T</code> is a type of <code>E1</code> and <code>E1</code> is evaluated once</a>.</p>\n\n<p>That's a technical answer, but you may be wondering why that's a case. Well, let's consider the following program.</p>\n\n<pre><code>public class PlusEquals {\n    public static void main(String[] args) {\n        byte a = 1;\n        byte b = 2;\n        a = a + b;\n        System.out.println(a);\n    }\n}\n</code></pre>\n\n<p>What does this program print?</p>\n\n<p>Did you guess 3? Too bad, this program won't compile. Why? Well, it so happens that addition of bytes in Java <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2\" rel=\"noreferrer\">is defined to return an <code>int</code></a>. This, I believe was because the Java Virtual Machine doesn't define byte operations to save on bytecodes (there is a limited number of those, after all), using integer operations instead is an implementation detail exposed in a language.</p>\n\n<p>But if <code>a = a + b</code> doesn't work, that would mean <code>a += b</code> would never work for bytes if it <code>E1 += E2</code> was defined to be <code>E1 = E1 + E2</code>. As the previous example shows, that would be indeed the case. As a hack to make <code>+=</code> operator work for bytes and shorts, there is an implicit cast involved. It's not that great of a hack, but back during the Java 1.0 work, the focus was on getting the language released to begin with. Now, because of backwards compatibility, this hack introduced in Java 1.0 couldn't be removed.</p>\n"},{"tags":[],"owner":{"account_id":25484163,"reputation":11,"user_id":19279965,"display_name":"Lalita Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681453,"creation_date":1685681453,"answer_id":76387211,"question_id":8710619,"body_markdown":"As always with these questions, the JLS holds the answer. In this case &#167;15.26.2 Compound Assignment Operators. An extract:\r\n\r\nA compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T)((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.\r\n\r\nAn example cited from &#167;15.26.2\r\n\r\n[...] the following code is correct:\r\n```\r\nshort x = 3;\r\nx += 4.6;\r\n```\r\nand results in x having the value 7 because it is equivalent to:\r\n```\r\nshort x = 3;\r\nx = (short)(x + 4.6);\r\n```\r\nIn other words, your assumption is correct.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>As always with these questions, the JLS holds the answer. In this case §15.26.2 Compound Assignment Operators. An extract:</p>\n<p>A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T)((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.</p>\n<p>An example cited from §15.26.2</p>\n<p>[...] the following code is correct:</p>\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n<p>and results in x having the value 7 because it is equivalent to:</p>\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n<p>In other words, your assumption is correct.</p>\n"}],"owner":{"account_id":1144500,"reputation":37498,"user_id":1127571,"accept_rate":71,"display_name":"Honza Brabec"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316510,"favorite_count":0,"down_vote_count":12,"up_vote_count":3860,"accepted_answer_id":8710685,"answer_count":12,"score":3848,"last_activity_date":1688557443,"creation_date":1325585432,"question_id":8710619,"body_markdown":"Until today, I thought that for example:\r\n\r\n    i += j;\r\n\r\nWas just a shortcut for:\r\n\r\n    i = i + j;\r\n\r\nBut if we try this:\r\n\r\n    int i = 5;\r\n    long j = 8;\r\n\r\nThen `i = i + j;` will not compile but `i += j;` will compile fine.\r\n\r\nDoes it mean that in fact `i += j;` is a shortcut for something like this\r\n`i = (type of i) (i + j)`?\r\n\r\n    \r\n","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Until today, I thought that for example:</p>\n\n<pre><code>i += j;\n</code></pre>\n\n<p>Was just a shortcut for:</p>\n\n<pre><code>i = i + j;\n</code></pre>\n\n<p>But if we try this:</p>\n\n<pre><code>int i = 5;\nlong j = 8;\n</code></pre>\n\n<p>Then <code>i = i + j;</code> will not compile but <code>i += j;</code> will compile fine.</p>\n\n<p>Does it mean that in fact <code>i += j;</code> is a shortcut for something like this\n<code>i = (type of i) (i + j)</code>?</p>\n"},{"tags":["java","dictionary","collections","iteration"],"comments":[{"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"score":48,"creation_date":1437849109,"post_id":46898,"comment_id":51206896,"body_markdown":"In Java 8 using Lambda Expression: http://stackoverflow.com/a/25616206/1503859","body":"In Java 8 using Lambda Expression: <a href=\"http://stackoverflow.com/a/25616206/1503859\">stackoverflow.com/a/25616206/1503859</a>"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":5,"creation_date":1539175528,"post_id":46898,"comment_id":92405732,"body_markdown":"Java 8: https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-java-map/32343110#32343110","body":"Java 8: <a href=\"https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-java-map/32343110#32343110\" title=\"how to efficiently iterate over each entry in a java map\">stackoverflow.com/questions/46898/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"down_vote_count":4,"up_vote_count":270,"is_accepted":false,"score":266,"last_activity_date":1517956349,"creation_date":1220649319,"answer_id":46905,"question_id":46898,"body_markdown":"Yes, the order depends on the specific Map implementation.\r\n\r\n[@ScArcher2 has the more elegant Java 1.5 syntax][1]. In 1.4, I would do something like this:\r\n\r\n    Iterator entries = myMap.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n      Entry thisEntry = (Entry) entries.next();\r\n      Object key = thisEntry.getKey();\r\n      Object value = thisEntry.getValue();\r\n      // ...\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map/46908#46908\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Yes, the order depends on the specific Map implementation.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map/46908#46908\">@ScArcher2 has the more elegant Java 1.5 syntax</a>. In 1.4, I would do something like this:</p>\n\n<pre><code>Iterator entries = myMap.entrySet().iterator();\nwhile (entries.hasNext()) {\n  Entry thisEntry = (Entry) entries.next();\n  Object key = thisEntry.getKey();\n  Object value = thisEntry.getValue();\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"down_vote_count":7,"up_vote_count":5874,"is_accepted":true,"score":5867,"last_activity_date":1625658648,"creation_date":1220649352,"answer_id":46908,"question_id":46898,"body_markdown":"```java\r\nMap&lt;String, String&gt; map = ...\r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n}\r\n```\r\n\r\nOn Java 10+:\r\n```java\r\nfor (var entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = ...\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n}\n</code></pre>\n<p>On Java 10+:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (var entry : map.entrySet()) {\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2354,"reputation":10536,"user_id":3267,"display_name":"Leigh Caldwell"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1493937586,"creation_date":1220649480,"answer_id":46912,"question_id":46898,"body_markdown":"In theory, the most efficient way will depend on which implementation of Map. The official way to do this is to call `map.entrySet()`, which returns a set of `Map.Entry`, each of which contains a key and a value (`entry.getKey()` and `entry.getValue()`).\r\n\r\nIn an idiosyncratic implementation, it might make some difference whether you use `map.keySet()`, `map.entrySet()` or something else. But I can&#39;t think of a reason why anyone would write it like that. Most likely it makes no difference to performance what you do.\r\n\r\nAnd yes, the order will depend on the implementation - as well as (possibly) the order of insertion and other hard-to-control factors.\r\n\r\n[edit] I wrote `valueSet()` originally but of course `entrySet()` is actually the answer.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In theory, the most efficient way will depend on which implementation of Map. The official way to do this is to call <code>map.entrySet()</code>, which returns a set of <code>Map.Entry</code>, each of which contains a key and a value (<code>entry.getKey()</code> and <code>entry.getValue()</code>).</p>\n\n<p>In an idiosyncratic implementation, it might make some difference whether you use <code>map.keySet()</code>, <code>map.entrySet()</code> or something else. But I can't think of a reason why anyone would write it like that. Most likely it makes no difference to performance what you do.</p>\n\n<p>And yes, the order will depend on the implementation - as well as (possibly) the order of insertion and other hard-to-control factors.</p>\n\n<p>[edit] I wrote <code>valueSet()</code> originally but of course <code>entrySet()</code> is actually the answer.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1617032461,"creation_date":1220650017,"answer_id":46926,"question_id":46898,"body_markdown":"Typical code for iterating over a map is:\r\n\r\n    Map&lt;String,Thing&gt; map = ...;\r\n    for (Map.Entry&lt;String,Thing&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Thing thing = entry.getValue();\r\n        ...\r\n    }\r\n\r\n`HashMap` is the canonical map implementation and doesn&#39;t make guarantees (or though it should not change the order if no mutating operations are performed on it). `SortedMap` will return entries based on the natural ordering of the keys, or a `Comparator`, if provided. `LinkedHashMap` will either return entries in insertion-order or access-order depending upon how it has been constructed. `EnumMap` returns entries in the natural order of keys.\r\n\r\n**(Update: I think this is no longer true.**) Note, `IdentityHashMap` `entrySet` iterator currently has a peculiar implementation which returns the same `Map.Entry` instance for every item in the `entrySet`! However, every time a new iterator advances the `Map.Entry` is updated.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Typical code for iterating over a map is:</p>\n<pre><code>Map&lt;String,Thing&gt; map = ...;\nfor (Map.Entry&lt;String,Thing&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Thing thing = entry.getValue();\n    ...\n}\n</code></pre>\n<p><code>HashMap</code> is the canonical map implementation and doesn't make guarantees (or though it should not change the order if no mutating operations are performed on it). <code>SortedMap</code> will return entries based on the natural ordering of the keys, or a <code>Comparator</code>, if provided. <code>LinkedHashMap</code> will either return entries in insertion-order or access-order depending upon how it has been constructed. <code>EnumMap</code> returns entries in the natural order of keys.</p>\n<p><strong>(Update: I think this is no longer true.</strong>) Note, <code>IdentityHashMap</code> <code>entrySet</code> iterator currently has a peculiar implementation which returns the same <code>Map.Entry</code> instance for every item in the <code>entrySet</code>! However, every time a new iterator advances the <code>Map.Entry</code> is updated.</p>\n"},{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1412352072,"creation_date":1220652930,"answer_id":46989,"question_id":46898,"body_markdown":"This is a two part question:\r\n\r\n*How to iterate over the entries of a Map* - @ScArcher2 has [answered][1] that perfectly.\r\n\r\n*What is the order of iteration* - if you are just using `Map`, then strictly speaking, there are **no ordering guarantees**.  So you shouldn&#39;t really rely on the ordering given by any implementation.  However, the [`SortedMap`][2] interface extends `Map` and provides exactly what you are looking for - implementations will aways give a consistent sort order.\r\n\r\n**[`NavigableMap`][3] is another useful extension** - this is a `SortedMap` with additional methods for finding entries by their ordered position in the key set.  So potentially this can remove the need for iterating in the first place - you might be able to find the specific `entry` you are after using the `higherEntry`, `lowerEntry`, `ceilingEntry`, or `floorEntry` methods.  The `descendingMap` method even gives you an explicit method of **reversing the traversal order**.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46908/1851302\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/SortedMap.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>This is a two part question:</p>\n\n<p><em>How to iterate over the entries of a Map</em> - @ScArcher2 has <a href=\"https://stackoverflow.com/a/46908/1851302\">answered</a> that perfectly.</p>\n\n<p><em>What is the order of iteration</em> - if you are just using <code>Map</code>, then strictly speaking, there are <strong>no ordering guarantees</strong>.  So you shouldn't really rely on the ordering given by any implementation.  However, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interface extends <code>Map</code> and provides exactly what you are looking for - implementations will aways give a consistent sort order.</p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> is another useful extension</strong> - this is a <code>SortedMap</code> with additional methods for finding entries by their ordered position in the key set.  So potentially this can remove the need for iterating in the first place - you might be able to find the specific <code>entry</code> you are after using the <code>higherEntry</code>, <code>lowerEntry</code>, <code>ceilingEntry</code>, or <code>floorEntry</code> methods.  The <code>descendingMap</code> method even gives you an explicit method of <strong>reversing the traversal order</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1853,"reputation":2129,"user_id":2551,"accept_rate":0,"display_name":"ckpwong"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1220653672,"creation_date":1220653672,"answer_id":47004,"question_id":46898,"body_markdown":"FYI, you can also use `map.keySet()` and `map.values()` if you&#39;re only interested in keys/values of the map and not the other.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>FYI, you can also use <code>map.keySet()</code> and <code>map.values()</code> if you're only interested in keys/values of the map and not the other.</p>\n"},{"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"down_vote_count":5,"up_vote_count":68,"is_accepted":false,"score":63,"last_activity_date":1318810604,"creation_date":1220816915,"answer_id":48720,"question_id":46898,"body_markdown":"The correct way to do this is to use the accepted answer as it is the most efficient. I find the following code looks a bit cleaner.\r\n\r\n    for (String key: map.keySet()) {\r\n       System.out.println(key + &quot;/&quot; + map.get(key));\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>The correct way to do this is to use the accepted answer as it is the most efficient. I find the following code looks a bit cleaner.</p>\n\n<pre><code>for (String key: map.keySet()) {\n   System.out.println(key + \"/\" + map.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10611,"reputation":110107,"user_id":20128,"accept_rate":73,"display_name":"serg"},"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1250616891,"creation_date":1250616891,"answer_id":1295383,"question_id":46898,"body_markdown":"Example of using iterator and generics:\r\n\r\n    Iterator&lt;Map.Entry&lt;String, String&gt;&gt; entries = myMap.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n      Map.Entry&lt;String, String&gt; entry = entries.next();\r\n      String key = entry.getKey();\r\n      String value = entry.getValue();\r\n      // ...\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Example of using iterator and generics:</p>\n\n<pre><code>Iterator&lt;Map.Entry&lt;String, String&gt;&gt; entries = myMap.entrySet().iterator();\nwhile (entries.hasNext()) {\n  Map.Entry&lt;String, String&gt; entry = entries.next();\n  String key = entry.getKey();\n  String value = entry.getValue();\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":586982,"reputation":301,"user_id":265011,"display_name":"abods"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1688555836,"creation_date":1265177403,"answer_id":2190043,"question_id":46898,"body_markdown":"Try this with Java 1.4:\r\n\r\n    for ( Iterator entries = myMap.entrySet().iterator(); entries.hasNext();) {\r\n\r\n      Entry entry = (Entry) entries.next();\r\n\r\n      System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n\r\n      //...\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Try this with Java 1.4:</p>\n<pre><code>for ( Iterator entries = myMap.entrySet().iterator(); entries.hasNext();) {\n\n  Entry entry = (Entry) entries.next();\n\n  System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n\n  //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1688556163,"creation_date":1337246516,"answer_id":10632923,"question_id":46898,"body_markdown":"    public class abcd {\r\n        public static void main(String[] args)\r\n        {\r\n            Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n\r\n            for (Integer key : testMap.keySet()) {\r\n                String value = testMap.get(key);\r\n                System.out.println(value);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOR\r\n\r\n\r\n\r\n    public class abcd {\r\n        public static void main(String[] args)\r\n        {\r\n            Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n\r\n            for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\r\n                Integer key = entry.getKey();\r\n                String value = entry.getValue();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>public class abcd {\n    public static void main(String[] args)\n    {\n        Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, &quot;a&quot;);\n        testMap.put(20, &quot;b&quot;);\n        testMap.put(30, &quot;c&quot;);\n        testMap.put(40, &quot;d&quot;);\n\n        for (Integer key : testMap.keySet()) {\n            String value = testMap.get(key);\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public class abcd {\n    public static void main(String[] args)\n    {\n        Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, &quot;a&quot;);\n        testMap.put(20, &quot;b&quot;);\n        testMap.put(30, &quot;c&quot;);\n        testMap.put(40, &quot;d&quot;);\n\n        for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\n            Integer key = entry.getKey();\n            String value = entry.getValue();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1672434069,"creation_date":1355872393,"answer_id":13943066,"question_id":46898,"body_markdown":"With [Eclipse Collections][1], you would use the `forEachKeyValue` method on the [`MapIterable`][2] interface, which is inherited by the `MutableMap` and `ImmutableMap` interfaces and their implementations.\r\n\r\n    MutableMap&lt;Integer, String&gt; map = \r\n        Maps.mutable.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;);\r\n\r\n    MutableBag&lt;String&gt; result = Bags.mutable.empty();\r\n    map.forEachKeyValue((key, value) -&gt; result.add(key + value));\r\n\r\n    MutableBag&lt;String&gt; expected = Bags.mutable.of(&quot;1One&quot;, &quot;2Two&quot;, &quot;3Three&quot;);\r\n    Assertions.assertEquals(expected, result);\r\n\r\nThe reason using `forEachKeyValue` with Eclipse Collections (EC) `Map` implementations will be more efficient than using `entrySet` is because EC `Map` implementations do not store `Map.Entry` objects. Using `entrySet` with EC `Map` implementations results in `Map.Entry` objects being generated dynamically. The `forEachKeyValue` method is able to avoid creating the `Map.Entry` objects because it can navigate the internal structure of the `Map` implementations directly. This is a case where there is a benefit of using an internal iterator over an external iterator.    \r\n \r\n**Note:** I am a committer for Eclipse Collections.\r\n \r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n  [2]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MapIterable.java","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>With <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you would use the <code>forEachKeyValue</code> method on the <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MapIterable.java\" rel=\"nofollow noreferrer\"><code>MapIterable</code></a> interface, which is inherited by the <code>MutableMap</code> and <code>ImmutableMap</code> interfaces and their implementations.</p>\n<pre><code>MutableMap&lt;Integer, String&gt; map = \n    Maps.mutable.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;);\n\nMutableBag&lt;String&gt; result = Bags.mutable.empty();\nmap.forEachKeyValue((key, value) -&gt; result.add(key + value));\n\nMutableBag&lt;String&gt; expected = Bags.mutable.of(&quot;1One&quot;, &quot;2Two&quot;, &quot;3Three&quot;);\nAssertions.assertEquals(expected, result);\n</code></pre>\n<p>The reason using <code>forEachKeyValue</code> with Eclipse Collections (EC) <code>Map</code> implementations will be more efficient than using <code>entrySet</code> is because EC <code>Map</code> implementations do not store <code>Map.Entry</code> objects. Using <code>entrySet</code> with EC <code>Map</code> implementations results in <code>Map.Entry</code> objects being generated dynamically. The <code>forEachKeyValue</code> method is able to avoid creating the <code>Map.Entry</code> objects because it can navigate the internal structure of the <code>Map</code> implementations directly. This is a case where there is a benefit of using an internal iterator over an external iterator.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1688557130,"creation_date":1363894406,"answer_id":15556457,"question_id":46898,"body_markdown":"Yes, as many people agreed this is the best way to iterate over a `Map`.\r\n\r\nBut there are chances to throw `NullPointerException` if the map is `null`. Don&#39;t forget to put `null` .check in.\r\n\r\n                                                     |\r\n                                                     |\r\n                                             - - - -\r\n                                           |\r\n                                           |\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Object value = entry.getValue();\r\n    }\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Yes, as many people agreed this is the best way to iterate over a <code>Map</code>.</p>\n<p>But there are chances to throw <code>NullPointerException</code> if the map is <code>null</code>. Don't forget to put <code>null</code> .check in.</p>\n<pre><code>                                                 |\n                                                 |\n                                         - - - -\n                                       |\n                                       |\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Object value = entry.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2165592,"reputation":976,"user_id":1918772,"accept_rate":50,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458143664,"creation_date":1372683260,"answer_id":17404976,"question_id":46898,"body_markdown":"You can do it using generics:\r\n\r\n\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\tIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\r\n\twhile (entries.hasNext()) {\r\n\t\tMap.Entry&lt;Integer, Integer&gt; entry = entries.next();\r\n\t\tSystem.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n\t}\r\n\r\n\r\n\r\n\r\n    ","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>You can do it using generics:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"down_vote_count":1,"up_vote_count":345,"is_accepted":false,"score":344,"last_activity_date":1473237197,"creation_date":1382350525,"answer_id":19491759,"question_id":46898,"body_markdown":"In Java 8 you can do it clean and fast using the new lambdas features:\r\n\r\n     Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n     map.put(&quot;SomeKey&quot;, &quot;SomeValue&quot;);\r\n     map.forEach( (k,v) -&gt; [do something with key and value] );\r\n    \r\n     // such as\r\n     map.forEach( (k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot;: Value: &quot; + v));\r\n\r\nThe type of `k` and `v` will be inferred by the compiler and there is no need to use `Map.Entry` anymore.\r\n\r\nEasy-peasy!","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In Java 8 you can do it clean and fast using the new lambdas features:</p>\n\n<pre><code> Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n map.put(\"SomeKey\", \"SomeValue\");\n map.forEach( (k,v) -&gt; [do something with key and value] );\n\n // such as\n map.forEach( (k,v) -&gt; System.out.println(\"Key: \" + k + \": Value: \" + v));\n</code></pre>\n\n<p>The type of <code>k</code> and <code>v</code> will be inferred by the compiler and there is no need to use <code>Map.Entry</code> anymore.</p>\n\n<p>Easy-peasy!</p>\n"},{"tags":[],"owner":{"account_id":1332921,"reputation":570,"user_id":1276364,"display_name":"dmunozfer"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1458145078,"creation_date":1385729623,"answer_id":20286334,"question_id":46898,"body_markdown":"If you have a generic untyped Map you can use:\r\n\r\n    Map map = new HashMap();\r\n    for (Map.Entry entry : ((Set&lt;Map.Entry&gt;) map.entrySet())) {\r\n\t    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n    }\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If you have a generic untyped Map you can use:</p>\n\n<pre><code>Map map = new HashMap();\nfor (Map.Entry entry : ((Set&lt;Map.Entry&gt;) map.entrySet())) {\n    System.out.println(entry.getKey() + \"/\" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3782399,"reputation":301,"user_id":3141443,"display_name":"J.B.Vala"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688556646,"creation_date":1388752108,"answer_id":20903678,"question_id":46898,"body_markdown":"There are several ways to iterate a map. Please refer to the following code.\r\n\r\nWhen you iterate a map using the `Iterator` Interface you must go with `Entry&lt;K,V&gt;` or `entrySet()`.\r\n\r\nIt looks like this:\r\n\r\n```java\r\n    import java.util.*;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n\r\n    public class IteratMapDemo {\r\n\r\n        public static void main(String arg[]) {\r\n            Map&lt;String, String&gt; mapOne = new HashMap&lt;String, String&gt;();\r\n            mapOne.put(&quot;1&quot;, &quot;January&quot;);\r\n            mapOne.put(&quot;2&quot;, &quot;February&quot;);\r\n            mapOne.put(&quot;3&quot;, &quot;March&quot;);\r\n            mapOne.put(&quot;4&quot;, &quot;April&quot;);\r\n            mapOne.put(&quot;5&quot;, &quot;May&quot;);\r\n            mapOne.put(&quot;6&quot;, &quot;June&quot;);\r\n            mapOne.put(&quot;7&quot;, &quot;July&quot;);\r\n            mapOne.put(&quot;8&quot;, &quot;August&quot;);\r\n            mapOne.put(&quot;9&quot;, &quot;September&quot;);\r\n            mapOne.put(&quot;10&quot;, &quot;Octomber&quot;);\r\n            mapOne.put(&quot;11&quot;, &quot;November&quot;);\r\n            mapOne.put(&quot;12&quot;, &quot;December&quot;);\r\n\r\n            Iterator it = mapOne.entrySet().iterator();\r\n            while (it.hasNext()) {\r\n                Map.Entry me = (Map.Entry) it.next();\r\n                // System.out.println(&quot;Get Key through While loop = &quot; + me.getKey());\r\n            }\r\n\r\n            for (Map.Entry&lt;String, String&gt; entry:mapOne.entrySet()) {\r\n                // System.out.println(entry.getKey() + &quot;=&quot; + entry.getValue());\r\n            }\r\n\r\n            for (Object key : mapOne.keySet()) {\r\n                System.out.println(&quot;Key: &quot; + key.toString() + &quot; Value: &quot; +\r\n                                   mapOne.get(key));\r\n            }\r\n        }\r\n    }\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>There are several ways to iterate a map. Please refer to the following code.</p>\n<p>When you iterate a map using the <code>Iterator</code> Interface you must go with <code>Entry&lt;K,V&gt;</code> or <code>entrySet()</code>.</p>\n<p>It looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n    import java.util.HashMap;\n    import java.util.Iterator;\n    import java.util.Map;\n\n    public class IteratMapDemo {\n\n        public static void main(String arg[]) {\n            Map&lt;String, String&gt; mapOne = new HashMap&lt;String, String&gt;();\n            mapOne.put(&quot;1&quot;, &quot;January&quot;);\n            mapOne.put(&quot;2&quot;, &quot;February&quot;);\n            mapOne.put(&quot;3&quot;, &quot;March&quot;);\n            mapOne.put(&quot;4&quot;, &quot;April&quot;);\n            mapOne.put(&quot;5&quot;, &quot;May&quot;);\n            mapOne.put(&quot;6&quot;, &quot;June&quot;);\n            mapOne.put(&quot;7&quot;, &quot;July&quot;);\n            mapOne.put(&quot;8&quot;, &quot;August&quot;);\n            mapOne.put(&quot;9&quot;, &quot;September&quot;);\n            mapOne.put(&quot;10&quot;, &quot;Octomber&quot;);\n            mapOne.put(&quot;11&quot;, &quot;November&quot;);\n            mapOne.put(&quot;12&quot;, &quot;December&quot;);\n\n            Iterator it = mapOne.entrySet().iterator();\n            while (it.hasNext()) {\n                Map.Entry me = (Map.Entry) it.next();\n                // System.out.println(&quot;Get Key through While loop = &quot; + me.getKey());\n            }\n\n            for (Map.Entry&lt;String, String&gt; entry:mapOne.entrySet()) {\n                // System.out.println(entry.getKey() + &quot;=&quot; + entry.getValue());\n            }\n\n            for (Object key : mapOne.keySet()) {\n                System.out.println(&quot;Key: &quot; + key.toString() + &quot; Value: &quot; +\n                                   mapOne.get(key));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":553127,"reputation":12116,"user_id":918472,"accept_rate":71,"display_name":"Rupesh Yadav"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1601479284,"creation_date":1390998903,"answer_id":21431305,"question_id":46898,"body_markdown":"In Map one can Iteration over `keys` and/or `values` and/or `both (e.g., entrySet)`  depends on one&#39;s interested in_ Like:\r\n\r\n1. Iterate through the [`keys -&gt; keySet()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet%28%29) of the map:\r\n\r\n        Map&lt;String, Object&gt; map = ...;\r\n\r\n        for (String key : map.keySet()) {\r\n            //your Business logic...\r\n        }\r\n\r\n2. Iterate through the [`values -&gt; values()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#values%28%29) of the map:\r\n\r\n        for (Object value : map.values()) {\r\n            //your Business logic...\r\n        }\r\n\r\n3. Iterate through the [`both -&gt; entrySet()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#entrySet%28%29) of the map:\r\n\r\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            String key = entry.getKey();\r\n            Object value = entry.getValue();\r\n            //your Business logic...\r\n        }\r\n\r\nMoreover, there are 3 different ways to iterate through a HashMap. They are as below:\r\n\r\n\t//1.\r\n\tfor (Map.Entry entry : hm.entrySet()) {\r\n\t\tSystem.out.print(&quot;key,val: &quot;);\r\n\t\tSystem.out.println(entry.getKey() + &quot;,&quot; + entry.getValue());\r\n\t}\r\n\r\n\t//2.\r\n\tIterator iter = hm.keySet().iterator();\r\n\twhile(iter.hasNext()) {\r\n\t\tInteger key = (Integer)iter.next();\r\n\t\tString val = (String)hm.get(key);\r\n\t\tSystem.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\r\n\t}\r\n\r\n\t//3.\r\n\tIterator it = hm.entrySet().iterator();\r\n\twhile (it.hasNext()) {\r\n\t\tMap.Entry entry = (Map.Entry) it.next();\r\n\t\tInteger key = (Integer)entry.getKey();\r\n\t\tString val = (String)entry.getValue();\r\n\t\tSystem.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\r\n\t}","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In Map one can Iteration over <code>keys</code> and/or <code>values</code> and/or <code>both (e.g., entrySet)</code>  depends on one's interested in_ Like:</p>\n<ol>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet%28%29\" rel=\"nofollow noreferrer\"><code>keys -&gt; keySet()</code></a> of the map:</p>\n<pre><code> Map&lt;String, Object&gt; map = ...;\n\n for (String key : map.keySet()) {\n     //your Business logic...\n }\n</code></pre>\n</li>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#values%28%29\" rel=\"nofollow noreferrer\"><code>values -&gt; values()</code></a> of the map:</p>\n<pre><code> for (Object value : map.values()) {\n     //your Business logic...\n }\n</code></pre>\n</li>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"nofollow noreferrer\"><code>both -&gt; entrySet()</code></a> of the map:</p>\n<pre><code> for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n     String key = entry.getKey();\n     Object value = entry.getValue();\n     //your Business logic...\n }\n</code></pre>\n</li>\n</ol>\n<p>Moreover, there are 3 different ways to iterate through a HashMap. They are as below:</p>\n<pre><code>//1.\nfor (Map.Entry entry : hm.entrySet()) {\n    System.out.print(&quot;key,val: &quot;);\n    System.out.println(entry.getKey() + &quot;,&quot; + entry.getValue());\n}\n\n//2.\nIterator iter = hm.keySet().iterator();\nwhile(iter.hasNext()) {\n    Integer key = (Integer)iter.next();\n    String val = (String)hm.get(key);\n    System.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\n}\n\n//3.\nIterator it = hm.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry entry = (Map.Entry) it.next();\n    Integer key = (Integer)entry.getKey();\n    String val = (String)entry.getValue();\n    System.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939374,"reputation":1280,"user_id":3254469,"display_name":"Fadid"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1688556217,"creation_date":1395250492,"answer_id":22513787,"question_id":46898,"body_markdown":"        Iterator iterator = map.entrySet().iterator();\r\n        while (iterator.hasNext()) {\r\n            Map.Entry element = (Map.Entry) it.next();\r\n            LOGGER.debug(&quot;Key: &quot; + element.getKey());\r\n            LOGGER.debug(&quot;value: &quot; + element.getValue());    \r\n        }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>    Iterator iterator = map.entrySet().iterator();\n    while (iterator.hasNext()) {\n        Map.Entry element = (Map.Entry) it.next();\n        LOGGER.debug(&quot;Key: &quot; + element.getKey());\n        LOGGER.debug(&quot;value: &quot; + element.getValue());    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1517888266,"creation_date":1407148249,"answer_id":25116661,"question_id":46898,"body_markdown":"**Java 8:**\r\n\r\nYou can use lambda expressions:\r\n\r\n    myMap.entrySet().stream().forEach((entry) -&gt; {\r\n        Object currentKey = entry.getKey();\r\n        Object currentValue = entry.getValue();\r\n    });\r\n\r\nFor more information, follow [this](http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html).\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p><strong>Java 8:</strong></p>\n\n<p>You can use lambda expressions:</p>\n\n<pre><code>myMap.entrySet().stream().forEach((entry) -&gt; {\n    Object currentKey = entry.getKey();\n    Object currentValue = entry.getValue();\n});\n</code></pre>\n\n<p>For more information, follow <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":2196339,"reputation":723,"user_id":1941878,"accept_rate":80,"display_name":"fechidal89"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688556951,"creation_date":1408659317,"answer_id":25436802,"question_id":46898,"body_markdown":"I copied the data of a map to another with this code:\r\n\r\n```java\r\n    HashMap product = (HashMap) shopping_truck.get(i);\r\n    HashMap tmp = new HashMap();\r\n    for (Iterator it = product.entrySet().iterator(); it.hasNext();) {\r\n        Map.Entry thisEntry = (Map.Entry) it.next();\r\n        tmp.put(thisEntry.getKey(), thisEntry.getValue());\r\n    }\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>I copied the data of a map to another with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    HashMap product = (HashMap) shopping_truck.get(i);\n    HashMap tmp = new HashMap();\n    for (Iterator it = product.entrySet().iterator(); it.hasNext();) {\n        Map.Entry thisEntry = (Map.Entry) it.next();\n        tmp.put(thisEntry.getKey(), thisEntry.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420849358,"creation_date":1420849358,"answer_id":27871427,"question_id":46898,"body_markdown":"It doesn&#39;t quite answer the OP&#39;s question, but might be useful to others who find this page:\r\n\r\nIf you only need the values and not the keys, you can do this:\r\n\r\n    Map&lt;Ktype, Vtype&gt; myMap = [...];\r\n    for (Vtype v: myMap.values()) {\r\n      System.out.println(&quot;value: &quot; + v);\r\n    }\r\n\r\n`Ktype`, `Vtype` are pseudocode.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>It doesn't quite answer the OP's question, but might be useful to others who find this page:</p>\n\n<p>If you only need the values and not the keys, you can do this:</p>\n\n<pre><code>Map&lt;Ktype, Vtype&gt; myMap = [...];\nfor (Vtype v: myMap.values()) {\n  System.out.println(\"value: \" + v);\n}\n</code></pre>\n\n<p><code>Ktype</code>, <code>Vtype</code> are pseudocode.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517957566,"creation_date":1431520652,"answer_id":30215019,"question_id":46898,"body_markdown":"Here is a generic type-safe method which can be called to dump any given `Map`.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n\r\n    public class MapUtils {\r\n        static interface ItemCallback&lt;K, V&gt; {\r\n            void handler(K key, V value, Map&lt;K, V&gt; map);\r\n        }\r\n\r\n        public static &lt;K, V&gt; void forEach(Map&lt;K, V&gt; map, ItemCallback&lt;K, V&gt; callback) {\r\n            Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator();\r\n\r\n            while (it.hasNext()) {\r\n                Map.Entry&lt;K, V&gt; entry = it.next();\r\n\r\n                callback.handler(entry.getKey(), entry.getValue(), map);\r\n            }\r\n        }\r\n\r\n        public static &lt;K, V&gt; void printMap(Map&lt;K, V&gt; map) {\r\n            forEach(map, new ItemCallback&lt;K, V&gt;() {\r\n                @Override\r\n                public void handler(K key, V value, Map&lt;K, V&gt; map) {\r\n                    System.out.println(key + &quot; = &quot; + value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n## Example\r\n\r\nHere is an example of its use. Notice that the type of the `Map` is inferred by the method.\r\n\r\n    import java.util.*;\r\n\r\n    public class MapPrinter {\r\n        public static void main(String[] args) {\r\n            List&lt;Map&lt;?, ?&gt;&gt; maps = new ArrayList&lt;Map&lt;?, ?&gt;&gt;() {\r\n                private static final long serialVersionUID = 1L;\r\n                {\r\n                    add(new LinkedHashMap&lt;String, Integer&gt;() {\r\n                        private static final long serialVersionUID = 1L;\r\n                        {\r\n                            put(&quot;One&quot;, 0);\r\n                            put(&quot;Two&quot;, 1);\r\n                            put(&quot;Three&quot;, 3);\r\n                        }\r\n                    });\r\n\r\n                    add(new LinkedHashMap&lt;String, Object&gt;() {\r\n                        private static final long serialVersionUID = 1L;\r\n                        {\r\n                            put(&quot;Object&quot;, new Object());\r\n                            put(&quot;Integer&quot;, new Integer(0));\r\n                            put(&quot;Double&quot;, new Double(0.0));\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            for (Map&lt;?, ?&gt; map : maps) {\r\n                MapUtils.printMap(map);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n## Output\r\n\r\n    One = 0\r\n    Two = 1\r\n    Three = 3\r\n\r\n    Object = java.lang.Object@15db9742\r\n    Integer = 0\r\n    Double = 0.0\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Here is a generic type-safe method which can be called to dump any given <code>Map</code>.</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Map;\n\npublic class MapUtils {\n    static interface ItemCallback&lt;K, V&gt; {\n        void handler(K key, V value, Map&lt;K, V&gt; map);\n    }\n\n    public static &lt;K, V&gt; void forEach(Map&lt;K, V&gt; map, ItemCallback&lt;K, V&gt; callback) {\n        Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator();\n\n        while (it.hasNext()) {\n            Map.Entry&lt;K, V&gt; entry = it.next();\n\n            callback.handler(entry.getKey(), entry.getValue(), map);\n        }\n    }\n\n    public static &lt;K, V&gt; void printMap(Map&lt;K, V&gt; map) {\n        forEach(map, new ItemCallback&lt;K, V&gt;() {\n            @Override\n            public void handler(K key, V value, Map&lt;K, V&gt; map) {\n                System.out.println(key + \" = \" + value);\n            }\n        });\n    }\n}\n</code></pre>\n\n<h2>Example</h2>\n\n<p>Here is an example of its use. Notice that the type of the <code>Map</code> is inferred by the method.</p>\n\n<pre><code>import java.util.*;\n\npublic class MapPrinter {\n    public static void main(String[] args) {\n        List&lt;Map&lt;?, ?&gt;&gt; maps = new ArrayList&lt;Map&lt;?, ?&gt;&gt;() {\n            private static final long serialVersionUID = 1L;\n            {\n                add(new LinkedHashMap&lt;String, Integer&gt;() {\n                    private static final long serialVersionUID = 1L;\n                    {\n                        put(\"One\", 0);\n                        put(\"Two\", 1);\n                        put(\"Three\", 3);\n                    }\n                });\n\n                add(new LinkedHashMap&lt;String, Object&gt;() {\n                    private static final long serialVersionUID = 1L;\n                    {\n                        put(\"Object\", new Object());\n                        put(\"Integer\", new Integer(0));\n                        put(\"Double\", new Double(0.0));\n                    }\n                });\n            }\n        };\n\n        for (Map&lt;?, ?&gt; map : maps) {\n            MapUtils.printMap(map);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>One = 0\nTwo = 1\nThree = 3\n\nObject = java.lang.Object@15db9742\nInteger = 0\nDouble = 0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2529368,"reputation":2995,"user_id":2197975,"accept_rate":89,"display_name":"Joshua Michael Calafell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433037927,"creation_date":1433012884,"answer_id":30550239,"question_id":46898,"body_markdown":"This is the easiest way of doing it I believe...\r\n    \r\n    /* For example, this could be a map object */\r\n    Map&lt;String, Integer&gt; MAP = new Map&lt;&gt;();\r\n\r\n    // Do something like put keys/value pairs into the map, etc...\r\n    MAP.put(&quot;Denver&quot;, 35);\r\n    MAP.put(&quot;Patriots&quot;, 14);\r\n\r\n    /* Then, simply use a for each loop like this to iterate */\r\n    for (Object o : MAP.entrySet()) {\r\n        Map.Entry pair = (Map.Entry) o;\r\n        // Do whatever with the pair here (i.e. pair.getKey(), or pair.getValue();\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>This is the easiest way of doing it I believe...</p>\n\n<pre><code>/* For example, this could be a map object */\nMap&lt;String, Integer&gt; MAP = new Map&lt;&gt;();\n\n// Do something like put keys/value pairs into the map, etc...\nMAP.put(\"Denver\", 35);\nMAP.put(\"Patriots\", 14);\n\n/* Then, simply use a for each loop like this to iterate */\nfor (Object o : MAP.entrySet()) {\n    Map.Entry pair = (Map.Entry) o;\n    // Do whatever with the pair here (i.e. pair.getKey(), or pair.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688557060,"creation_date":1440868304,"answer_id":32288690,"question_id":46898,"body_markdown":"If your reason for iterating trough the `Map`, is to do an operation on the value and write to a resulting `Map`. I recommend using the `transform`-methods in the [Google Guava](https://github.com/google/guava) `Maps` class.\r\n\r\n    import com.google.common.collect.Maps;\r\n\r\nAfter you have added the `Maps` to your imports, you can use `Maps.transformValues` and `Maps.transformEntries` on your maps, like this:\r\n\r\n    public void transformMap() {\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;a&quot;, 2);\r\n        map.put(&quot;b&quot;, 4);\r\n\r\n        Map&lt;String, Integer&gt; result = Maps.transformValues(map, num -&gt; num * 2);\r\n        result.forEach((key, val) -&gt; print(key, Integer.toString(val)));\r\n        // key=a,value=4\r\n        // key=b,value=8\r\n\r\n        Map&lt;String, String&gt; result2 = Maps.transformEntries(map, (key, value) -&gt; value + &quot;[&quot; + key + &quot;]&quot;);\r\n        result2.forEach(this::print);\r\n        // key=a,value=2[a]\r\n        // key=b,value=4[b]\r\n    }\r\n\r\n    private void print(String key, String val) {\r\n        System.out.println(&quot;key=&quot; + key + &quot;,value=&quot; + val);\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If your reason for iterating trough the <code>Map</code>, is to do an operation on the value and write to a resulting <code>Map</code>. I recommend using the <code>transform</code>-methods in the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> <code>Maps</code> class.</p>\n<pre><code>import com.google.common.collect.Maps;\n</code></pre>\n<p>After you have added the <code>Maps</code> to your imports, you can use <code>Maps.transformValues</code> and <code>Maps.transformEntries</code> on your maps, like this:</p>\n<pre><code>public void transformMap() {\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;a&quot;, 2);\n    map.put(&quot;b&quot;, 4);\n\n    Map&lt;String, Integer&gt; result = Maps.transformValues(map, num -&gt; num * 2);\n    result.forEach((key, val) -&gt; print(key, Integer.toString(val)));\n    // key=a,value=4\n    // key=b,value=8\n\n    Map&lt;String, String&gt; result2 = Maps.transformEntries(map, (key, value) -&gt; value + &quot;[&quot; + key + &quot;]&quot;);\n    result2.forEach(this::print);\n    // key=a,value=2[a]\n    // key=b,value=4[b]\n}\n\nprivate void print(String key, String val) {\n    System.out.println(&quot;key=&quot; + key + &quot;,value=&quot; + val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1556517155,"creation_date":1441155600,"answer_id":32343110,"question_id":46898,"body_markdown":"Java 8\r\n------\r\n\r\nWe have got `forEach` method that accepts a [lambda expression][1]. We have also got [stream][2] APIs. Consider a map:\r\n\r\n    Map&lt;String,String&gt; sample = new HashMap&lt;&gt;();\r\n    sample.put(&quot;A&quot;,&quot;Apple&quot;);\r\n    sample.put(&quot;B&quot;, &quot;Ball&quot;);\r\n\r\n**Iterate over keys:**\r\n\r\n    sample.keySet().forEach((k) -&gt; System.out.println(k));\r\n\r\n**Iterate over values:**\r\n\r\n    sample.values().forEach((v) -&gt; System.out.println(v));\r\n\r\n**Iterate over entries (Using forEach and Streams):**\r\n\r\n    sample.forEach((k,v) -&gt; System.out.println(k + &quot;:&quot; + v)); \r\n    sample.entrySet().stream().forEach((entry) -&gt; {\r\n                Object currentKey = entry.getKey();\r\n                Object currentValue = entry.getValue();\r\n                System.out.println(currentKey + &quot;:&quot; + currentValue);\r\n            });\r\n\r\nThe advantage with streams is they can be parallelized easily in case we want to. We simply need to use `parallelStream()` in place of `stream()` above.\r\n\r\n**`forEachOrdered` vs `forEach` with streams ?**\r\nThe `forEach` does not follow encounter order (if defined) and is inherently non-deterministic in nature where as the `forEachOrdered` does. So `forEach` does not guarantee that the order would be kept. Also check [this][3] for more.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [3]: https://stackoverflow.com/questions/32797579/foreach-vs-foreachordered-in-java-8-stream","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h2>Java 8</h2>\n\n<p>We have got <code>forEach</code> method that accepts a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expression</a>. We have also got <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">stream</a> APIs. Consider a map:</p>\n\n<pre><code>Map&lt;String,String&gt; sample = new HashMap&lt;&gt;();\nsample.put(\"A\",\"Apple\");\nsample.put(\"B\", \"Ball\");\n</code></pre>\n\n<p><strong>Iterate over keys:</strong></p>\n\n<pre><code>sample.keySet().forEach((k) -&gt; System.out.println(k));\n</code></pre>\n\n<p><strong>Iterate over values:</strong></p>\n\n<pre><code>sample.values().forEach((v) -&gt; System.out.println(v));\n</code></pre>\n\n<p><strong>Iterate over entries (Using forEach and Streams):</strong></p>\n\n<pre><code>sample.forEach((k,v) -&gt; System.out.println(k + \":\" + v)); \nsample.entrySet().stream().forEach((entry) -&gt; {\n            Object currentKey = entry.getKey();\n            Object currentValue = entry.getValue();\n            System.out.println(currentKey + \":\" + currentValue);\n        });\n</code></pre>\n\n<p>The advantage with streams is they can be parallelized easily in case we want to. We simply need to use <code>parallelStream()</code> in place of <code>stream()</code> above.</p>\n\n<p><strong><code>forEachOrdered</code> vs <code>forEach</code> with streams ?</strong>\nThe <code>forEach</code> does not follow encounter order (if defined) and is inherently non-deterministic in nature where as the <code>forEachOrdered</code> does. So <code>forEach</code> does not guarantee that the order would be kept. Also check <a href=\"https://stackoverflow.com/questions/32797579/foreach-vs-foreachordered-in-java-8-stream\">this</a> for more.</p>\n"},{"tags":[],"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1685474630,"creation_date":1444144053,"answer_id":32973406,"question_id":46898,"body_markdown":"## **Lambda** Expression Java 8\r\n\r\nIn Java 1.8 (Java 8) this has become lot easier by using **forEach** method from Aggregate operations(**Stream operations**) that looks similar to iterators from **Iterable** Interface. \r\n\r\nJust copy paste below statement to your code and rename the **HashMap** variable from **hm** to your HashMap variable to print out key-value pair.\r\n\r\n    HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\r\n    /*\r\n     *     Logic to put the Key,Value pair in your HashMap hm\r\n     */\r\n\t\r\n    // Print the key value pair in one line.\r\n\r\n    hm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\r\n\r\n    // Just copy and paste above line to your code.\r\n\r\nBelow is the sample code that I tried using **Lambda Expression**. This stuff is so cool. Must try.\r\n\r\n\r\n    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tRandom rand = new Random(47);\r\n\t\tint i = 0;\r\n\t\twhile(i &lt; 5) {\r\n\t\t\ti++;\r\n\t\t\tint key = rand.nextInt(20);\r\n\t\t\tint value = rand.nextInt(50);\r\n\t\t\tSystem.out.println(&quot;Inserting key: &quot; + key + &quot; Value: &quot; + value);\r\n\t\t\tInteger imap = hm.put(key, value);\r\n\t\t\tif( imap == null) {\r\n\t\t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Replaced with &quot; + imap);\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\thm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\r\n\t\t\r\n    Output:\r\n    \r\n    Inserting key: 18 Value: 5\r\n    Inserted\r\n    Inserting key: 13 Value: 11\r\n    Inserted\r\n    Inserting key: 1 Value: 29\r\n    Inserted\r\n    Inserting key: 8 Value: 0\r\n    Inserted\r\n    Inserting key: 2 Value: 7\r\n    Inserted\r\n    key: 1 value:29\r\n    key: 18 value:5\r\n    key: 2 value:7\r\n    key: 8 value:0\r\n    key: 13 value:11\r\n\r\nAlso one can use **Spliterator** for the same.\r\n\r\n    Spliterator sit = hm.entrySet().spliterator();\r\n\r\n**UPDATE**\r\n\r\n\r\n----------\r\n\r\n\r\nIncluding documentation links to Oracle Docs.\r\nFor more on **Lambda** go to this [link][1] and must read [Aggregate Operations][2] and for Spliterator go to this [link][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h2><strong>Lambda</strong> Expression Java 8</h2>\n<p>In Java 1.8 (Java 8) this has become lot easier by using <strong>forEach</strong> method from Aggregate operations(<strong>Stream operations</strong>) that looks similar to iterators from <strong>Iterable</strong> Interface.</p>\n<p>Just copy paste below statement to your code and rename the <strong>HashMap</strong> variable from <strong>hm</strong> to your HashMap variable to print out key-value pair.</p>\n<pre><code>HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\n/*\n *     Logic to put the Key,Value pair in your HashMap hm\n */\n\n// Print the key value pair in one line.\n\nhm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\n\n// Just copy and paste above line to your code.\n</code></pre>\n<p>Below is the sample code that I tried using <strong>Lambda Expression</strong>. This stuff is so cool. Must try.</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\n    Random rand = new Random(47);\n    int i = 0;\n    while(i &lt; 5) {\n        i++;\n        int key = rand.nextInt(20);\n        int value = rand.nextInt(50);\n        System.out.println(&quot;Inserting key: &quot; + key + &quot; Value: &quot; + value);\n        Integer imap = hm.put(key, value);\n        if( imap == null) {\n            System.out.println(&quot;Inserted&quot;);\n        } else {\n            System.out.println(&quot;Replaced with &quot; + imap);\n        }               \n    }\n\n    hm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\n    \nOutput:\n\nInserting key: 18 Value: 5\nInserted\nInserting key: 13 Value: 11\nInserted\nInserting key: 1 Value: 29\nInserted\nInserting key: 8 Value: 0\nInserted\nInserting key: 2 Value: 7\nInserted\nkey: 1 value:29\nkey: 18 value:5\nkey: 2 value:7\nkey: 8 value:0\nkey: 13 value:11\n</code></pre>\n<p>Also one can use <strong>Spliterator</strong> for the same.</p>\n<pre><code>Spliterator sit = hm.entrySet().spliterator();\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<hr />\n<p>Including documentation links to Oracle Docs.\nFor more on <strong>Lambda</strong> go to this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">link</a> and must read <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/\" rel=\"nofollow noreferrer\">Aggregate Operations</a> and for Spliterator go to this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":6654821,"reputation":1435,"user_id":5135746,"display_name":"Syd Lambert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688556901,"creation_date":1445969374,"answer_id":33375492,"question_id":46898,"body_markdown":"If you want to iterate through the map in the order that the elements were added, use `LinkedHashMap` as opposed to just `Map`.\r\n\r\nThis approach has worked for me in the past:\r\n\r\n```java\r\n    LinkedHashMap&lt;String, Integer&gt; test = new LinkedHashMap();\r\n    \r\n    test.put(&quot;foo&quot;, 69);\r\n    test.put(&quot;bar&quot;, 1337);\r\n\r\n    for (int i = 0; i &lt; test.size(); i++) {\r\n        System.out.println(test.get(test.keySet().toArray()[i]));\r\n    }\r\n```\r\n\r\nOutput:\r\n\r\n    69\r\n    1337","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If you want to iterate through the map in the order that the elements were added, use <code>LinkedHashMap</code> as opposed to just <code>Map</code>.</p>\n<p>This approach has worked for me in the past:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    LinkedHashMap&lt;String, Integer&gt; test = new LinkedHashMap();\n    \n    test.put(&quot;foo&quot;, 69);\n    test.put(&quot;bar&quot;, 1337);\n\n    for (int i = 0; i &lt; test.size(); i++) {\n        System.out.println(test.get(test.keySet().toArray()[i]));\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>69\n1337\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"down_vote_count":7,"up_vote_count":1593,"is_accepted":false,"score":1586,"last_activity_date":1565035942,"creation_date":1456159049,"answer_id":35558955,"question_id":46898,"body_markdown":"To summarize the other answers and combine them with what I know, I found 10 main ways to do this (see below). Also, I wrote some performance tests (see results below). For example, if we want to find the sum of all of the keys and values of a map, we can write:\r\n\r\n 1. Using **iterator** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; it = map.entrySet().iterator();\r\n        while (it.hasNext()) {\r\n            Map.Entry&lt;Integer, Integer&gt; pair = it.next();\r\n            i += pair.getKey() + pair.getValue();\r\n        }\r\n\r\n 2. Using **foreach** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        for (Map.Entry&lt;Integer, Integer&gt; pair : map.entrySet()) {\r\n            i += pair.getKey() + pair.getValue();\r\n        }\r\n\r\n 3. Using **forEach** from Java 8\r\n\r\n        final long[] i = {0};\r\n        map.forEach((k, v) -&gt; i[0] += k + v);\r\n\r\n 4. Using **keySet** and **foreach**\r\n\r\n        long i = 0;\r\n        for (Integer key : map.keySet()) {\r\n            i += key + map.get(key);\r\n        }\r\n\r\n 5. Using **keySet** and **iterator**\r\n\r\n        long i = 0;\r\n        Iterator&lt;Integer&gt; itr2 = map.keySet().iterator();\r\n        while (itr2.hasNext()) {\r\n            Integer key = itr2.next();\r\n            i += key + map.get(key);\r\n        }\r\n\r\n 6. Using **for** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        for (Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator(); entries.hasNext(); ) {\r\n            Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\r\n            i += entry.getKey() + entry.getValue();\r\n        }\r\n\r\n 7. Using the Java 8 **Stream API**\r\n\r\n        final long[] i = {0};\r\n        map.entrySet().stream().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\r\n\r\n 8. Using the Java 8 **Stream API parallel**\r\n\r\n        final long[] i = {0};\r\n        map.entrySet().stream().parallel().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\r\n\r\n 9. Using **IterableMap** of `Apache Collections`\r\n\r\n        long i = 0;\r\n        MapIterator&lt;Integer, Integer&gt; it = iterableMap.mapIterator();\r\n        while (it.hasNext()) {\r\n            i += it.next() + it.getValue();\r\n        }\r\n\r\n 10. Using **MutableMap** of Eclipse (CS) collections\r\n\r\n        final long[] i = {0};\r\n        mutableMap.forEachKeyValue((key, value) -&gt; {\r\n            i[0] += key + value;\r\n        });\r\n\r\n**Perfomance tests** (mode = AverageTime, system = Windows&amp;nbsp;8.1 64-bit, Intel i7-4790 3.60 GHz, 16&amp;nbsp;GB)\r\n\r\n1. For a small map (100 elements), score 0.308 is the best\r\n\r\n        Benchmark                          Mode  Cnt  Score    Error  Units\r\n        test3_UsingForEachAndJava8         avgt  10   0.308 &#177;  0.021  &#181;s/op\r\n        test10_UsingEclipseMap             avgt  10   0.309 &#177;  0.009  &#181;s/op\r\n        test1_UsingWhileAndMapEntry        avgt  10   0.380 &#177;  0.014  &#181;s/op\r\n        test6_UsingForAndIterator          avgt  10   0.387 &#177;  0.016  &#181;s/op\r\n        test2_UsingForEachAndMapEntry      avgt  10   0.391 &#177;  0.023  &#181;s/op\r\n        test7_UsingJava8StreamApi          avgt  10   0.510 &#177;  0.014  &#181;s/op\r\n        test9_UsingApacheIterableMap       avgt  10   0.524 &#177;  0.008  &#181;s/op\r\n        test4_UsingKeySetAndForEach        avgt  10   0.816 &#177;  0.026  &#181;s/op\r\n        test5_UsingKeySetAndIterator       avgt  10   0.863 &#177;  0.025  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel  avgt  10   5.552 &#177;  0.185  &#181;s/op\r\n\r\n2. For a map with 10000 elements,  score 37.606 is the best\r\n\r\n        Benchmark                           Mode   Cnt  Score      Error   Units\r\n        test10_UsingEclipseMap              avgt   10    37.606 &#177;   0.790  &#181;s/op\r\n        test3_UsingForEachAndJava8          avgt   10    50.368 &#177;   0.887  &#181;s/op\r\n        test6_UsingForAndIterator           avgt   10    50.332 &#177;   0.507  &#181;s/op\r\n        test2_UsingForEachAndMapEntry       avgt   10    51.406 &#177;   1.032  &#181;s/op\r\n        test1_UsingWhileAndMapEntry         avgt   10    52.538 &#177;   2.431  &#181;s/op\r\n        test7_UsingJava8StreamApi           avgt   10    54.464 &#177;   0.712  &#181;s/op\r\n        test4_UsingKeySetAndForEach         avgt   10    79.016 &#177;  25.345  &#181;s/op\r\n        test5_UsingKeySetAndIterator        avgt   10    91.105 &#177;  10.220  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel   avgt   10   112.511 &#177;   0.365  &#181;s/op\r\n        test9_UsingApacheIterableMap        avgt   10   125.714 &#177;   1.935  &#181;s/op\r\n\r\n3. For a map with 100000 elements,  score 1184.767 is the best\r\n\r\n        Benchmark                          Mode   Cnt  Score        Error    Units\r\n        test1_UsingWhileAndMapEntry        avgt   10   1184.767 &#177;   332.968  &#181;s/op\r\n        test10_UsingEclipseMap             avgt   10   1191.735 &#177;   304.273  &#181;s/op\r\n        test2_UsingForEachAndMapEntry      avgt   10   1205.815 &#177;   366.043  &#181;s/op\r\n        test6_UsingForAndIterator          avgt   10   1206.873 &#177;   367.272  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel  avgt   10   1485.895 &#177;   233.143  &#181;s/op\r\n        test5_UsingKeySetAndIterator       avgt   10   1540.281 &#177;   357.497  &#181;s/op\r\n        test4_UsingKeySetAndForEach        avgt   10   1593.342 &#177;   294.417  &#181;s/op\r\n        test3_UsingForEachAndJava8         avgt   10   1666.296 &#177;   126.443  &#181;s/op\r\n        test7_UsingJava8StreamApi          avgt   10   1706.676 &#177;   436.867  &#181;s/op\r\n        test9_UsingApacheIterableMap       avgt   10   3289.866 &#177;  1445.564  &#181;s/op\r\n\r\nGraphs (performance tests depending on map size)\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nTable (perfomance tests depending on map size)\r\n\r\n              100     600      1100     1600     2100\r\n    test10    0.333    1.631    2.752    5.937    8.024\r\n    test3     0.309    1.971    4.147    8.147   10.473\r\n    test6     0.372    2.190    4.470    8.322   10.531\r\n    test1     0.405    2.237    4.616    8.645   10.707\r\n    test2     0.376    2.267    4.809    8.403   10.910\r\n    test7     0.473    2.448    5.668    9.790   12.125\r\n    test9     0.565    2.830    5.952   13.220   16.965\r\n    test4     0.808    5.012    8.813   13.939   17.407\r\n    test5     0.810    5.104    8.533   14.064   17.422\r\n    test8     5.173   12.499   17.351   24.671   30.403\r\n\r\nAll tests are on [GitHub][2].\r\n\r\n  [1]: https://i.stack.imgur.com/17VGh.png\r\n  [2]: https://github.com/Vedenin/useful-java-links/blob/master/helloworlds/5.0-other-examples/src/main/java/other_examples/IterateThroughHashMapTest.java\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>To summarize the other answers and combine them with what I know, I found 10 main ways to do this (see below). Also, I wrote some performance tests (see results below). For example, if we want to find the sum of all of the keys and values of a map, we can write:</p>\n\n<ol>\n<li><p>Using <strong>iterator</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; it = map.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; pair = it.next();\n    i += pair.getKey() + pair.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>foreach</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nfor (Map.Entry&lt;Integer, Integer&gt; pair : map.entrySet()) {\n    i += pair.getKey() + pair.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>forEach</strong> from Java 8</p>\n\n<pre><code>final long[] i = {0};\nmap.forEach((k, v) -&gt; i[0] += k + v);\n</code></pre></li>\n<li><p>Using <strong>keySet</strong> and <strong>foreach</strong></p>\n\n<pre><code>long i = 0;\nfor (Integer key : map.keySet()) {\n    i += key + map.get(key);\n}\n</code></pre></li>\n<li><p>Using <strong>keySet</strong> and <strong>iterator</strong></p>\n\n<pre><code>long i = 0;\nIterator&lt;Integer&gt; itr2 = map.keySet().iterator();\nwhile (itr2.hasNext()) {\n    Integer key = itr2.next();\n    i += key + map.get(key);\n}\n</code></pre></li>\n<li><p>Using <strong>for</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nfor (Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator(); entries.hasNext(); ) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    i += entry.getKey() + entry.getValue();\n}\n</code></pre></li>\n<li><p>Using the Java 8 <strong>Stream API</strong></p>\n\n<pre><code>final long[] i = {0};\nmap.entrySet().stream().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\n</code></pre></li>\n<li><p>Using the Java 8 <strong>Stream API parallel</strong></p>\n\n<pre><code>final long[] i = {0};\nmap.entrySet().stream().parallel().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\n</code></pre></li>\n<li><p>Using <strong>IterableMap</strong> of <code>Apache Collections</code></p>\n\n<pre><code>long i = 0;\nMapIterator&lt;Integer, Integer&gt; it = iterableMap.mapIterator();\nwhile (it.hasNext()) {\n    i += it.next() + it.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>MutableMap</strong> of Eclipse (CS) collections</p>\n\n<pre><code>final long[] i = {0};\nmutableMap.forEachKeyValue((key, value) -&gt; {\n    i[0] += key + value;\n});\n</code></pre></li>\n</ol>\n\n<p><strong>Perfomance tests</strong> (mode = AverageTime, system = Windows&nbsp;8.1 64-bit, Intel i7-4790 3.60 GHz, 16&nbsp;GB)</p>\n\n<ol>\n<li><p>For a small map (100 elements), score 0.308 is the best</p>\n\n<pre><code>Benchmark                          Mode  Cnt  Score    Error  Units\ntest3_UsingForEachAndJava8         avgt  10   0.308 ±  0.021  µs/op\ntest10_UsingEclipseMap             avgt  10   0.309 ±  0.009  µs/op\ntest1_UsingWhileAndMapEntry        avgt  10   0.380 ±  0.014  µs/op\ntest6_UsingForAndIterator          avgt  10   0.387 ±  0.016  µs/op\ntest2_UsingForEachAndMapEntry      avgt  10   0.391 ±  0.023  µs/op\ntest7_UsingJava8StreamApi          avgt  10   0.510 ±  0.014  µs/op\ntest9_UsingApacheIterableMap       avgt  10   0.524 ±  0.008  µs/op\ntest4_UsingKeySetAndForEach        avgt  10   0.816 ±  0.026  µs/op\ntest5_UsingKeySetAndIterator       avgt  10   0.863 ±  0.025  µs/op\ntest8_UsingJava8StreamApiParallel  avgt  10   5.552 ±  0.185  µs/op\n</code></pre></li>\n<li><p>For a map with 10000 elements,  score 37.606 is the best</p>\n\n<pre><code>Benchmark                           Mode   Cnt  Score      Error   Units\ntest10_UsingEclipseMap              avgt   10    37.606 ±   0.790  µs/op\ntest3_UsingForEachAndJava8          avgt   10    50.368 ±   0.887  µs/op\ntest6_UsingForAndIterator           avgt   10    50.332 ±   0.507  µs/op\ntest2_UsingForEachAndMapEntry       avgt   10    51.406 ±   1.032  µs/op\ntest1_UsingWhileAndMapEntry         avgt   10    52.538 ±   2.431  µs/op\ntest7_UsingJava8StreamApi           avgt   10    54.464 ±   0.712  µs/op\ntest4_UsingKeySetAndForEach         avgt   10    79.016 ±  25.345  µs/op\ntest5_UsingKeySetAndIterator        avgt   10    91.105 ±  10.220  µs/op\ntest8_UsingJava8StreamApiParallel   avgt   10   112.511 ±   0.365  µs/op\ntest9_UsingApacheIterableMap        avgt   10   125.714 ±   1.935  µs/op\n</code></pre></li>\n<li><p>For a map with 100000 elements,  score 1184.767 is the best</p>\n\n<pre><code>Benchmark                          Mode   Cnt  Score        Error    Units\ntest1_UsingWhileAndMapEntry        avgt   10   1184.767 ±   332.968  µs/op\ntest10_UsingEclipseMap             avgt   10   1191.735 ±   304.273  µs/op\ntest2_UsingForEachAndMapEntry      avgt   10   1205.815 ±   366.043  µs/op\ntest6_UsingForAndIterator          avgt   10   1206.873 ±   367.272  µs/op\ntest8_UsingJava8StreamApiParallel  avgt   10   1485.895 ±   233.143  µs/op\ntest5_UsingKeySetAndIterator       avgt   10   1540.281 ±   357.497  µs/op\ntest4_UsingKeySetAndForEach        avgt   10   1593.342 ±   294.417  µs/op\ntest3_UsingForEachAndJava8         avgt   10   1666.296 ±   126.443  µs/op\ntest7_UsingJava8StreamApi          avgt   10   1706.676 ±   436.867  µs/op\ntest9_UsingApacheIterableMap       avgt   10   3289.866 ±  1445.564  µs/op\n</code></pre></li>\n</ol>\n\n<p>Graphs (performance tests depending on map size)</p>\n\n<p><a href=\"https://i.stack.imgur.com/17VGh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/17VGh.png\" alt=\"Enter image description here\"></a></p>\n\n<p>Table (perfomance tests depending on map size)</p>\n\n<pre><code>          100     600      1100     1600     2100\ntest10    0.333    1.631    2.752    5.937    8.024\ntest3     0.309    1.971    4.147    8.147   10.473\ntest6     0.372    2.190    4.470    8.322   10.531\ntest1     0.405    2.237    4.616    8.645   10.707\ntest2     0.376    2.267    4.809    8.403   10.910\ntest7     0.473    2.448    5.668    9.790   12.125\ntest9     0.565    2.830    5.952   13.220   16.965\ntest4     0.808    5.012    8.813   13.939   17.407\ntest5     0.810    5.104    8.533   14.064   17.422\ntest8     5.173   12.499   17.351   24.671   30.403\n</code></pre>\n\n<p>All tests are on <a href=\"https://github.com/Vedenin/useful-java-links/blob/master/helloworlds/5.0-other-examples/src/main/java/other_examples/IterateThroughHashMapTest.java\" rel=\"noreferrer\">GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":5741366,"reputation":719,"user_id":4533984,"accept_rate":50,"display_name":"Sajad NasiriNezhad"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1460533666,"creation_date":1460533666,"answer_id":36591840,"question_id":46898,"body_markdown":"               //Functional Oprations\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                mapString.entrySet().stream().map((entry) -&gt; {\r\n                    String mapKey = entry.getKey();\r\n                    return entry;\r\n                }).forEach((entry) -&gt; {\r\n                    String mapValue = entry.getValue();\r\n                });\r\n                \r\n                //Intrator\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = mapString.entrySet().iterator(); it.hasNext();) {\r\n                    Map.Entry&lt;String, String&gt; entry = it.next();\r\n                    String mapKey = entry.getKey();\r\n                    String mapValue = entry.getValue();\r\n                }\r\n\r\n                //Simple for loop\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                for (Map.Entry&lt;String, String&gt; entry : mapString.entrySet()) {\r\n                    String mapKey = entry.getKey();\r\n                    String mapValue = entry.getValue();\r\n\r\n                }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>           //Functional Oprations\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            mapString.entrySet().stream().map((entry) -&gt; {\n                String mapKey = entry.getKey();\n                return entry;\n            }).forEach((entry) -&gt; {\n                String mapValue = entry.getValue();\n            });\n\n            //Intrator\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = mapString.entrySet().iterator(); it.hasNext();) {\n                Map.Entry&lt;String, String&gt; entry = it.next();\n                String mapKey = entry.getKey();\n                String mapValue = entry.getValue();\n            }\n\n            //Simple for loop\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            for (Map.Entry&lt;String, String&gt; entry : mapString.entrySet()) {\n                String mapKey = entry.getKey();\n                String mapValue = entry.getValue();\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1601486813,"creation_date":1477479418,"answer_id":40260450,"question_id":46898,"body_markdown":"The ordering will always depend on the specific map implementation.\r\nUsing Java&amp;nbsp;8 you can use either of these:\r\n\r\n    map.forEach((k,v) -&gt; { System.out.println(k + &quot;:&quot; + v); });\r\n\r\nOr:\r\n\r\n    map.entrySet().forEach((e) -&gt; {\r\n                System.out.println(e.getKey() + &quot; : &quot; + e.getValue());\r\n            });\r\n\r\nThe result will be the same (same order). The entrySet backed by the map so you are getting the same order. The second one is handy as it allows you to use lambdas, e.g. if you want only to print only Integer objects that are greater than 5:\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .filter(e-&gt; e.getValue() &gt; 5)\r\n        .forEach(System.out::println);\r\n\r\nThe code below shows iteration through LinkedHashMap and normal HashMap (example). You will see difference in the order:\r\n\r\n    public class HMIteration {\r\n\r\n\r\n        public static void main(String[] args) {\r\n            Map&lt;Object, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n            Map&lt;Object, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n            for (int i=10; i&gt;=0; i--) {\r\n                linkedHashMap.put(i, i);\r\n                hashMap.put(i, i);\r\n            }\r\n\r\n            System.out.println(&quot;LinkedHashMap (1): &quot;);\r\n            linkedHashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#=&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\r\n\r\n            System.out.println(&quot;\\nLinkedHashMap (2): &quot;);\r\n\r\n            linkedHashMap.entrySet().forEach((e) -&gt; {\r\n                System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\r\n            });\r\n\r\n\r\n            System.out.println(&quot;\\n\\nHashMap (1): &quot;);\r\n            hashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#:&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\r\n\r\n            System.out.println(&quot;\\nHashMap (2): &quot;);\r\n\r\n            hashMap.entrySet().forEach((e) -&gt; {\r\n                System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\r\n            });\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n```\r\nLinkedHashMap (1):\r\n10 (#=10):10, 9 (#=9):9, 8 (#=8):8, 7 (#=7):7, 6 (#=6):6, 5 (#=5):5, 4 (#=4):4, 3 (#=3):3, 2 (#=2):2, 1 (#=1):1, 0 (#=0):0,\r\nLinkedHashMap (2):\r\n10 : 10, 9 : 9, 8 : 8, 7 : 7, 6 : 6, 5 : 5, 4 : 4, 3 : 3, 2 : 2, 1 : 1, 0 : 0,\r\nHashMap (1):\r\n0 (#:0):0, 1 (#:1):1, 2 (#:2):2, 3 (#:3):3, 4 (#:4):4, 5 (#:5):5, 6 (#:6):6, 7 (#:7):7, 8 (#:8):8, 9 (#:9):9, 10 (#:10):10,\r\nHashMap (2):\r\n0 : 0, 1 : 1, 2 : 2, 3 : 3, 4 : 4, 5 : 5, 6 : 6, 7 : 7, 8 : 8, 9 : 9, 10 : 10,\r\n```\r\n\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>The ordering will always depend on the specific map implementation.\nUsing Java 8 you can use either of these:</p>\n<pre><code>map.forEach((k,v) -&gt; { System.out.println(k + &quot;:&quot; + v); });\n</code></pre>\n<p>Or:</p>\n<pre><code>map.entrySet().forEach((e) -&gt; {\n            System.out.println(e.getKey() + &quot; : &quot; + e.getValue());\n        });\n</code></pre>\n<p>The result will be the same (same order). The entrySet backed by the map so you are getting the same order. The second one is handy as it allows you to use lambdas, e.g. if you want only to print only Integer objects that are greater than 5:</p>\n<pre><code>map.entrySet()\n    .stream()\n    .filter(e-&gt; e.getValue() &gt; 5)\n    .forEach(System.out::println);\n</code></pre>\n<p>The code below shows iteration through LinkedHashMap and normal HashMap (example). You will see difference in the order:</p>\n<pre><code>public class HMIteration {\n\n\n    public static void main(String[] args) {\n        Map&lt;Object, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n        Map&lt;Object, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        for (int i=10; i&gt;=0; i--) {\n            linkedHashMap.put(i, i);\n            hashMap.put(i, i);\n        }\n\n        System.out.println(&quot;LinkedHashMap (1): &quot;);\n        linkedHashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#=&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\n\n        System.out.println(&quot;\\nLinkedHashMap (2): &quot;);\n\n        linkedHashMap.entrySet().forEach((e) -&gt; {\n            System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\n        });\n\n\n        System.out.println(&quot;\\n\\nHashMap (1): &quot;);\n        hashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#:&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\n\n        System.out.println(&quot;\\nHashMap (2): &quot;);\n\n        hashMap.entrySet().forEach((e) -&gt; {\n            System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\n        });\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>LinkedHashMap (1):\n10 (#=10):10, 9 (#=9):9, 8 (#=8):8, 7 (#=7):7, 6 (#=6):6, 5 (#=5):5, 4 (#=4):4, 3 (#=3):3, 2 (#=2):2, 1 (#=1):1, 0 (#=0):0,\nLinkedHashMap (2):\n10 : 10, 9 : 9, 8 : 8, 7 : 7, 6 : 6, 5 : 5, 4 : 4, 3 : 3, 2 : 2, 1 : 1, 0 : 0,\nHashMap (1):\n0 (#:0):0, 1 (#:1):1, 2 (#:2):2, 3 (#:3):3, 4 (#:4):4, 5 (#:5):5, 6 (#:6):6, 7 (#:7):7, 8 (#:8):8, 9 (#:9):9, 10 (#:10):10,\nHashMap (2):\n0 : 0, 1 : 1, 2 : 2, 3 : 3, 4 : 4, 5 : 5, 6 : 6, 7 : 7, 8 : 8, 9 : 9, 10 : 10,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887892,"reputation":240,"user_id":1706743,"display_name":"Rupendra Sharma"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491460575,"creation_date":1491460575,"answer_id":43247492,"question_id":46898,"body_markdown":"    package com.test;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \t\tmap.put(&quot;ram&quot;, &quot;ayodhya&quot;);\r\n    \t\tmap.put(&quot;krishan&quot;, &quot;mathura&quot;);\r\n    \t\tmap.put(&quot;shiv&quot;, &quot;kailash&quot;);\r\n    \t   \r\n    \t\tSystem.out.println(&quot;********* Keys *********&quot;);\r\n    \t\tSet&lt;String&gt; keys = map.keySet();\r\n    \t\tfor (String key : keys) {\r\n    \t\t\tSystem.out.println(key);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;********* Values *********&quot;);\r\n    \t\tCollection&lt;String&gt; values = map.values();\r\n    \t\tfor (String value : values) {\r\n    \t\t\tSystem.out.println(value);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;***** Keys and Values (Using for each loop) *****&quot;);\r\n    \t\tfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    \t\t\tSystem.out.println(&quot;Key: &quot; + entry.getKey() + &quot;\\t Value: &quot;\r\n    \t\t\t\t\t+ entry.getValue());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;***** Keys and Values (Using while loop) *****&quot;);\r\n    \t\tIterator&lt;Entry&lt;String, String&gt;&gt; entries = map.entrySet().iterator();\r\n    \t\twhile (entries.hasNext()) {\r\n    \t\t\tMap.Entry&lt;String, String&gt; entry = (Map.Entry&lt;String, String&gt;) entries\r\n    \t\t\t\t\t.next();\r\n    \t\t\tSystem.out.println(&quot;Key: &quot; + entry.getKey() + &quot;\\t Value: &quot;\r\n    \t\t\t\t\t+ entry.getValue());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;** Keys and Values (Using java 8 using lambdas )***&quot;);\r\n    \t\tmap.forEach((k, v) -&gt; System.out\r\n    \t\t\t\t.println(&quot;Key: &quot; + k + &quot;\\t value: &quot; + v));\r\n    \t}\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>package com.test;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(\"ram\", \"ayodhya\");\n        map.put(\"krishan\", \"mathura\");\n        map.put(\"shiv\", \"kailash\");\n\n        System.out.println(\"********* Keys *********\");\n        Set&lt;String&gt; keys = map.keySet();\n        for (String key : keys) {\n            System.out.println(key);\n        }\n\n        System.out.println(\"********* Values *********\");\n        Collection&lt;String&gt; values = map.values();\n        for (String value : values) {\n            System.out.println(value);\n        }\n\n        System.out.println(\"***** Keys and Values (Using for each loop) *****\");\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n            System.out.println(\"Key: \" + entry.getKey() + \"\\t Value: \"\n                    + entry.getValue());\n        }\n\n        System.out.println(\"***** Keys and Values (Using while loop) *****\");\n        Iterator&lt;Entry&lt;String, String&gt;&gt; entries = map.entrySet().iterator();\n        while (entries.hasNext()) {\n            Map.Entry&lt;String, String&gt; entry = (Map.Entry&lt;String, String&gt;) entries\n                    .next();\n            System.out.println(\"Key: \" + entry.getKey() + \"\\t Value: \"\n                    + entry.getValue());\n        }\n\n        System.out\n                .println(\"** Keys and Values (Using java 8 using lambdas )***\");\n        map.forEach((k, v) -&gt; System.out\n                .println(\"Key: \" + k + \"\\t value: \" + v));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9079714,"reputation":2042,"user_id":6759926,"display_name":"shivampip"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1688556338,"creation_date":1509891497,"answer_id":47122590,"question_id":46898,"body_markdown":"Iterating a [Map][1] is very easy. \r\n\r\n    for (Object key : map.keySet()) {\r\n       Object value = map.get(key);\r\n       // Do your stuff\r\n    }\r\n\r\nFor instance, you have a `Map&lt;String, int&gt; data;`\r\n\r\n    for (Object key : data.keySet()) {\r\n      int value = data.get(key);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Iterating a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> is very easy.</p>\n<pre><code>for (Object key : map.keySet()) {\n   Object value = map.get(key);\n   // Do your stuff\n}\n</code></pre>\n<p>For instance, you have a <code>Map&lt;String, int&gt; data;</code></p>\n<pre><code>for (Object key : data.keySet()) {\n  int value = data.get(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6079744,"reputation":425,"user_id":4745890,"display_name":"Utpal Kumar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521713405,"creation_date":1510545135,"answer_id":47256829,"question_id":46898,"body_markdown":"There are a lot of ways to do this. Below is a few simple steps:\r\n\r\nSuppose you have one Map like:\r\n\r\n    Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\r\n\r\nThen you can do something like the below to iterate over map elements.\r\n\r\n    // ********** Using an iterator ****************\r\n    Iterator&lt;Entry&lt;String, Integer&gt;&gt; me = m.entrySet().iterator();\r\n    while(me.hasNext()){\r\n        Entry&lt;String, Integer&gt; pair = me.next();\r\n        System.out.println(pair.getKey() + &quot;:&quot; + pair.getValue());\r\n    }\r\n\r\n    // *********** Using foreach ************************\r\n    for(Entry&lt;String, Integer&gt; me : m.entrySet()){\r\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n    }\r\n\r\n    // *********** Using keySet *****************************\r\n    for(String s : m.keySet()){\r\n        System.out.println(s + &quot; : &quot; + m.get(s));\r\n    }\r\n\r\n    // *********** Using keySet and iterator *****************\r\n    Iterator&lt;String&gt; me = m.keySet().iterator();\r\n    while(me.hasNext()){\r\n        String key = me.next();\r\n        System.out.println(key + &quot; : &quot; + m.get(key));\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>There are a lot of ways to do this. Below is a few simple steps:</p>\n\n<p>Suppose you have one Map like:</p>\n\n<pre><code>Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n\n<p>Then you can do something like the below to iterate over map elements.</p>\n\n<pre><code>// ********** Using an iterator ****************\nIterator&lt;Entry&lt;String, Integer&gt;&gt; me = m.entrySet().iterator();\nwhile(me.hasNext()){\n    Entry&lt;String, Integer&gt; pair = me.next();\n    System.out.println(pair.getKey() + \":\" + pair.getValue());\n}\n\n// *********** Using foreach ************************\nfor(Entry&lt;String, Integer&gt; me : m.entrySet()){\n    System.out.println(me.getKey() + \" : \" + me.getValue());\n}\n\n// *********** Using keySet *****************************\nfor(String s : m.keySet()){\n    System.out.println(s + \" : \" + m.get(s));\n}\n\n// *********** Using keySet and iterator *****************\nIterator&lt;String&gt; me = m.keySet().iterator();\nwhile(me.hasNext()){\n    String key = me.next();\n    System.out.println(key + \" : \" + m.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9959452,"reputation":2037,"user_id":7369238,"display_name":"ABHAY JOHRI"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1523991820,"creation_date":1523990765,"answer_id":49885402,"question_id":46898,"body_markdown":"Use Java 8:\r\n\r\n    map.entrySet().forEach(entry -&gt; System.out.println(entry.getValue()));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Use Java 8:</p>\n\n<pre><code>map.entrySet().forEach(entry -&gt; System.out.println(entry.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241831,"reputation":10215,"user_id":512907,"accept_rate":88,"display_name":"bluehallu"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1524141140,"creation_date":1524141140,"answer_id":49921231,"question_id":46898,"body_markdown":"Most compact with Java 8:\r\n\r\n    map.entrySet().forEach(System.out::println);\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Most compact with Java 8:</p>\n\n<pre><code>map.entrySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6177253,"reputation":3087,"user_id":4813777,"display_name":"Taras Melnyk"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1589533770,"creation_date":1525346707,"answer_id":50153908,"question_id":46898,"body_markdown":"With **Java 8**, you can iterate Map using forEach and lambda expression,\r\n\r\n    map.forEach((k, v) -&gt; System.out.println((k + &quot;:&quot; + v)));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>With <strong>Java 8</strong>, you can iterate Map using forEach and lambda expression,</p>\n\n<pre><code>map.forEach((k, v) -&gt; System.out.println((k + \":\" + v)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1688556263,"creation_date":1543314287,"answer_id":53497541,"question_id":46898,"body_markdown":"An effective iterative solution over a Map is a `for` loop from Java 5 through Java 7. Here it is:\r\n\r\n    for (String key : phnMap.keySet()) {\r\n        System.out.println(&quot;Key: &quot; + key + &quot; Value: &quot; + phnMap.get(key));\r\n    }\r\n\r\nFrom Java 8, you can use a lambda expression to iterate over a Map. It is an enhanced `forEach`\r\n\r\n    phnMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v));\r\n\r\nIf you want to write a conditional for lambda you can write it like this:\r\n\r\n    phnMap.forEach((k,v) -&gt; {\r\n        System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v);\r\n        if (&quot;abc&quot;.equals(k)) {\r\n            System.out.println(&quot;Hello abc&quot;);\r\n        }\r\n    });\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>An effective iterative solution over a Map is a <code>for</code> loop from Java 5 through Java 7. Here it is:</p>\n<pre><code>for (String key : phnMap.keySet()) {\n    System.out.println(&quot;Key: &quot; + key + &quot; Value: &quot; + phnMap.get(key));\n}\n</code></pre>\n<p>From Java 8, you can use a lambda expression to iterate over a Map. It is an enhanced <code>forEach</code></p>\n<pre><code>phnMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v));\n</code></pre>\n<p>If you want to write a conditional for lambda you can write it like this:</p>\n<pre><code>phnMap.forEach((k,v) -&gt; {\n    System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v);\n    if (&quot;abc&quot;.equals(k)) {\n        System.out.println(&quot;Hello abc&quot;);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1098063"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688556538,"creation_date":1559764607,"answer_id":56467159,"question_id":46898,"body_markdown":"I like to concat a counter, then save the final value of the counter;\r\n\r\n    int counter = 0;\r\n    HashMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    for (int i = 0; i &lt; items.length; i++)\r\n    {\r\n        m.put(&quot;firstname&quot; + i, items.get(i).getFirstName());\r\n        counter = i;\r\n    }\r\n    \r\n    m.put(&quot;recordCount&quot;, String.valueOf(counter));\r\n\r\n\r\nThen when you want to retrieve:\r\n\r\n    int recordCount = Integer.parseInf(m.get(&quot;recordCount&quot;));\r\n    for (int i = 0; i &lt; recordCount; i++)\r\n    {\r\n        System.out.println(&quot;First Name :&quot; + m.get(&quot;firstname&quot; + i));\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>I like to concat a counter, then save the final value of the counter;</p>\n<pre><code>int counter = 0;\nHashMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\nfor (int i = 0; i &lt; items.length; i++)\n{\n    m.put(&quot;firstname&quot; + i, items.get(i).getFirstName());\n    counter = i;\n}\n\nm.put(&quot;recordCount&quot;, String.valueOf(counter));\n</code></pre>\n<p>Then when you want to retrieve:</p>\n<pre><code>int recordCount = Integer.parseInf(m.get(&quot;recordCount&quot;));\nfor (int i = 0; i &lt; recordCount; i++)\n{\n    System.out.println(&quot;First Name :&quot; + m.get(&quot;firstname&quot; + i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564731038,"creation_date":1564731038,"answer_id":57321787,"question_id":46898,"body_markdown":"&gt; Using  Java 7\r\n\r\n    Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\r\n    for (sampleMap.Entry&lt;String,String&gt; entry : sampleMap.entrySet()) {\r\n        String key = entry.getKey();\r\n        String value = entry.getValue();\r\n        \r\n    \t/* your Code as per the Business Justification  */\r\n    \t\r\n    }\r\n\r\n&gt; Using Java 8\r\n\r\n\r\n    Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\r\n    \r\n    sampleMap.forEach((k, v) -&gt; System.out.println(&quot;Key is :  &quot; + k + &quot; Value is :  &quot; + v));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<blockquote>\n  <p>Using  Java 7</p>\n</blockquote>\n\n<pre><code>Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\nfor (sampleMap.Entry&lt;String,String&gt; entry : sampleMap.entrySet()) {\n    String key = entry.getKey();\n    String value = entry.getValue();\n\n    /* your Code as per the Business Justification  */\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Using Java 8</p>\n</blockquote>\n\n<pre><code>Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\n\nsampleMap.forEach((k, v) -&gt; System.out.println(\"Key is :  \" + k + \" Value is :  \" + v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1586756346,"creation_date":1572119097,"answer_id":58574145,"question_id":46898,"body_markdown":"&gt;If I have an object implementing the Map interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?\r\n\r\nIf efficiency of looping the keys is a priority for your app, then choose a `Map` implementation that maintains the keys in your desired order.\r\n\r\n&gt;Will the ordering of elements depend on the specific map implementation that I have for the interface?\r\n\r\nYes, absolutely. \r\n\r\n - Some `Map` implementations promise a certain iteration order, others do not.\r\n - Different implementations of `Map` maintain different ordering of the key-value pairs. \r\n\r\nSee this table I created summarizing the various `Map` implementations bundled with Java 11. Specifically, notice the *iteration order* column. Click/tap to zoom.\r\n\r\n\r\n[![Table of map implementations in Java 11, comparing their features][2]][2]\r\n\r\nYou can see there are **four `Map` implementations maintaining an order**:\r\n\r\n - `TreeMap`\r\n - `ConcurrentSkipListMap` \r\n - `LinkedHashMap`\r\n - `EnumMap`\r\n\r\n## `NavigableMap` interface\r\n\r\nTwo of those implement the [`NavigableMap`][3] interface: `TreeMap` &amp; `ConcurrentSkipListMap`. \r\n\r\nThe older [`SortedMap`][4] interface is effectively supplanted by the newer [`NavigableMap`][3] interface. But you may find 3rd-party implementations implementing the older interface only.\r\n\r\n## Natural order\r\n\r\nIf you want a [`Map`][5] that keeps its pairs arranged by the “natural order” of the key, use [`TreeMap`][6] or [`ConcurrentSkipListMap`][7]. The term “natural order” means the class of the keys implements [`Comparable`][8]. The value returned by the [`compareTo`][9] method is used for comparison in sorting.\r\n\r\n## Custom order\r\n\r\nIf you want to specify a custom sorting routine for your keys to be used in maintaining a sorted order, pass a [`Comparator`][10] implementation appropriate to the class of your keys. Use either [`TreeMap`][6] or [`ConcurrentSkipListMap`][7], passing your `Comparator`. \r\n\r\n## Original insertion order\r\n\r\nIf you want the pairs of your map to be kept in their original order in which you inserted them into the map, use [`LinkedHashMap`][11]. \r\n\r\n## Enum-definition order\r\n\r\nIf you are using an enum such as [`DayOfWeek`][12] or [`Month`][13] as your keys, use the [`EnumMap`][14] class. Not only is this class *highly* optimized to use very little memory and run very fast, it maintains your pairs in the order defined by the enum. For `DayOfWeek`, for example, the key of `DayOfWeek.MONDAY` will be first found when iterated, and the key of `DayOfWeek.SUNDAY` will be last.\r\n\r\n## Other considerations\r\n\r\nIn choosing a `Map` implementation, also consider:\r\n\r\n - NULLs. Some implementations forbid/accept a NULL as key and/or value. \r\n - Concurrency. If you are manipulating the map across threads, you must use an implementation that supports concurrency. Or wrap the map with [`Collections::synchronizedMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)) (less preferable). \r\n\r\nBoth of these considerations are covered in the graphic table above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/47xJF.png\r\n  [2]: https://i.stack.imgur.com/4z5Fb.png\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [10]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\r\n  [12]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\r\n  [13]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\r\n  [14]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<blockquote>\n  <p>If I have an object implementing the Map interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?</p>\n</blockquote>\n\n<p>If efficiency of looping the keys is a priority for your app, then choose a <code>Map</code> implementation that maintains the keys in your desired order.</p>\n\n<blockquote>\n  <p>Will the ordering of elements depend on the specific map implementation that I have for the interface?</p>\n</blockquote>\n\n<p>Yes, absolutely. </p>\n\n<ul>\n<li>Some <code>Map</code> implementations promise a certain iteration order, others do not.</li>\n<li>Different implementations of <code>Map</code> maintain different ordering of the key-value pairs. </li>\n</ul>\n\n<p>See this table I created summarizing the various <code>Map</code> implementations bundled with Java 11. Specifically, notice the <em>iteration order</em> column. Click/tap to zoom.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4z5Fb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4z5Fb.png\" alt=\"Table of map implementations in Java 11, comparing their features\"></a></p>\n\n<p>You can see there are <strong>four <code>Map</code> implementations maintaining an order</strong>:</p>\n\n<ul>\n<li><code>TreeMap</code></li>\n<li><code>ConcurrentSkipListMap</code> </li>\n<li><code>LinkedHashMap</code></li>\n<li><code>EnumMap</code></li>\n</ul>\n\n<h2><code>NavigableMap</code> interface</h2>\n\n<p>Two of those implement the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> interface: <code>TreeMap</code> &amp; <code>ConcurrentSkipListMap</code>. </p>\n\n<p>The older <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interface is effectively supplanted by the newer <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> interface. But you may find 3rd-party implementations implementing the older interface only.</p>\n\n<h2>Natural order</h2>\n\n<p>If you want a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> that keeps its pairs arranged by the “natural order” of the key, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"noreferrer\"><code>TreeMap</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>. The term “natural order” means the class of the keys implements <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>. The value returned by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"noreferrer\"><code>compareTo</code></a> method is used for comparison in sorting.</p>\n\n<h2>Custom order</h2>\n\n<p>If you want to specify a custom sorting routine for your keys to be used in maintaining a sorted order, pass a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> implementation appropriate to the class of your keys. Use either <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"noreferrer\"><code>TreeMap</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>, passing your <code>Comparator</code>. </p>\n\n<h2>Original insertion order</h2>\n\n<p>If you want the pairs of your map to be kept in their original order in which you inserted them into the map, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a>. </p>\n\n<h2>Enum-definition order</h2>\n\n<p>If you are using an enum such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> as your keys, use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html\" rel=\"noreferrer\"><code>EnumMap</code></a> class. Not only is this class <em>highly</em> optimized to use very little memory and run very fast, it maintains your pairs in the order defined by the enum. For <code>DayOfWeek</code>, for example, the key of <code>DayOfWeek.MONDAY</code> will be first found when iterated, and the key of <code>DayOfWeek.SUNDAY</code> will be last.</p>\n\n<h2>Other considerations</h2>\n\n<p>In choosing a <code>Map</code> implementation, also consider:</p>\n\n<ul>\n<li>NULLs. Some implementations forbid/accept a NULL as key and/or value. </li>\n<li>Concurrency. If you are manipulating the map across threads, you must use an implementation that supports concurrency. Or wrap the map with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)\" rel=\"noreferrer\"><code>Collections::synchronizedMap</code></a> (less preferable). </li>\n</ul>\n\n<p>Both of these considerations are covered in the graphic table above.</p>\n"},{"tags":[],"owner":{"account_id":5445664,"reputation":4925,"user_id":4332316,"accept_rate":20,"display_name":"Ali Akram"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1688556404,"creation_date":1578296646,"answer_id":59608364,"question_id":46898,"body_markdown":"# `Map.forEach`\r\n\r\nWhat about simply using [`Map::forEach`][1] where both the key and the value are passed to your [`BiConsumer`][2]?\r\n\r\n    map.forEach((k,v) -&gt; {\r\n        System.out.println(k + &quot;-&gt;&quot; + v);\r\n    });\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h1><code>Map.forEach</code></h1>\n<p>What about simply using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Map::forEach</code></a> where both the key and the value are passed to your <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\"><code>BiConsumer</code></a>?</p>\n<pre><code>map.forEach((k,v) -&gt; {\n    System.out.println(k + &quot;-&gt;&quot; + v);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592169562,"creation_date":1592169562,"answer_id":62378360,"question_id":46898,"body_markdown":"Since Java 10, you can use local variable inference (a.k.a. &quot;var&quot;) to make a lot of the already available answers less bloated. For example:\r\n\r\n```java\r\nfor (var entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Since Java 10, you can use local variable inference (a.k.a. \"var\") to make a lot of the already available answers less bloated. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (var entry : map.entrySet()) {\n    System.out.println(entry.getKey() + \" : \" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12950339,"reputation":137,"user_id":9363081,"display_name":"Dubstep"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600210429,"creation_date":1600210429,"answer_id":63910874,"question_id":46898,"body_markdown":"```\r\nMap&lt;String, String&gt; map = \r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    MapKey = entry.getKey() \r\n    MapValue = entry.getValue();\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>Map&lt;String, String&gt; map = \nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    MapKey = entry.getKey() \n    MapValue = entry.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688556838,"creation_date":1610381067,"answer_id":65670377,"question_id":46898,"body_markdown":"You can search for the key and with the help of the key you can find the associated value of the map as the map has **unique key**, see what happens when the key is duplicated [here][1] or [here][2].\r\n\r\nDemo map : \r\n\r\n```java\r\n    Map&lt;String, String&gt; map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Name&quot;);\r\n    map.put(&quot;age&quot;, &quot;23&quot;);\r\n    map.put(&quot;address&quot;, &quot;NP&quot;);\r\n    map.put(&quot;faculty&quot;, &quot;BE&quot;);\r\n    map.put(&quot;major&quot;, &quot;CS&quot;);\r\n    map.put(&quot;head&quot;, &quot;MDK&quot;);\r\n```     \r\n\r\nTo get the key only, you can use `map.keySet();` like this :\r\n\r\n```java\r\n    for (String key : map.keySet()) {\r\n        System.out.println(key);\r\n    }\r\n```\r\n\r\nTo get value only, you can use `map.values();` like this:\r\n\r\n```java\r\n    for (String value : map.values()) {\r\n        System.out.println(value);\r\n    }\r\n```\r\n\r\nTo get both the key and its value, you still can use `map.keySet();` and get its corresponding value, like this: \r\n\r\n```java\r\n    // this prints the key + value pair\r\n    for (String k : map.keySet()) {\r\n        System.out.println(k + &quot; &quot; + map.get(k) + &quot; &quot;);\r\n    }\r\n```\r\n\r\n`map.get(key)` gives the value pointed by that key. \r\n\r\n   \r\n\r\n  [1]: https://stackoverflow.com/a/20537942/9898251\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#put%28K,%20V%29","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>You can search for the key and with the help of the key you can find the associated value of the map as the map has <strong>unique key</strong>, see what happens when the key is duplicated <a href=\"https://stackoverflow.com/a/20537942/9898251\">here</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#put%28K,%20V%29\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Demo map :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Map&lt;String, String&gt; map = new HashMap();\n    map.put(&quot;name&quot;, &quot;Name&quot;);\n    map.put(&quot;age&quot;, &quot;23&quot;);\n    map.put(&quot;address&quot;, &quot;NP&quot;);\n    map.put(&quot;faculty&quot;, &quot;BE&quot;);\n    map.put(&quot;major&quot;, &quot;CS&quot;);\n    map.put(&quot;head&quot;, &quot;MDK&quot;);\n</code></pre>\n<p>To get the key only, you can use <code>map.keySet();</code> like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (String key : map.keySet()) {\n        System.out.println(key);\n    }\n</code></pre>\n<p>To get value only, you can use <code>map.values();</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (String value : map.values()) {\n        System.out.println(value);\n    }\n</code></pre>\n<p>To get both the key and its value, you still can use <code>map.keySet();</code> and get its corresponding value, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // this prints the key + value pair\n    for (String k : map.keySet()) {\n        System.out.println(k + &quot; &quot; + map.get(k) + &quot; &quot;);\n    }\n</code></pre>\n<p><code>map.get(key)</code> gives the value pointed by that key.</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1688555875,"creation_date":1632929717,"answer_id":69379440,"question_id":46898,"body_markdown":"These are all the possible ways of iterating HashMap.\r\n\r\n    HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\r\n        map.put(1, &quot;David&quot;); // Adding elements to Map\r\n        map.put(2, &quot;John&quot;);\r\n        map.put(4, &quot;Samyuktha&quot;);\r\n        map.put(3, &quot;jasmin&quot;);\r\n        System.out.println(&quot;Iterating Hashmap...&quot;);\r\n\r\n        // way 1 (java 8 Method)\r\n        map.forEach((key, value) -&gt; {\r\n            System.out.println(key + &quot; : &quot; + value);\r\n        });\r\n\r\n        // way 2 (java 7 Method)\r\n        for (Map.Entry me : map.entrySet()) {\r\n            System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n        }\r\n\r\n        // way 3 (java 6 Method)\r\n        for (Integer key : map.keySet()) {\r\n            System.out.println(map.get(key));\r\n        }\r\n\r\n        // way 4 (Legacy way to iterate HashMap)\r\n        Iterator iterator = map.entrySet().iterator(); // map.keySet().iterator()\r\n        while (iterator.hasNext())\r\n        {\r\n            Map.Entry me = (Map.Entry)iterator.next();\r\n            System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n        }   \r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>These are all the possible ways of iterating HashMap.</p>\n<pre><code>HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\n    map.put(1, &quot;David&quot;); // Adding elements to Map\n    map.put(2, &quot;John&quot;);\n    map.put(4, &quot;Samyuktha&quot;);\n    map.put(3, &quot;jasmin&quot;);\n    System.out.println(&quot;Iterating Hashmap...&quot;);\n\n    // way 1 (java 8 Method)\n    map.forEach((key, value) -&gt; {\n        System.out.println(key + &quot; : &quot; + value);\n    });\n\n    // way 2 (java 7 Method)\n    for (Map.Entry me : map.entrySet()) {\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\n    }\n\n    // way 3 (java 6 Method)\n    for (Integer key : map.keySet()) {\n        System.out.println(map.get(key));\n    }\n\n    // way 4 (Legacy way to iterate HashMap)\n    Iterator iterator = map.entrySet().iterator(); // map.keySet().iterator()\n    while (iterator.hasNext())\n    {\n        Map.Entry me = (Map.Entry)iterator.next();\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":3336,"reputation":38531,"user_id":4807,"accept_rate":43,"display_name":"iMack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3308771,"favorite_count":0,"down_vote_count":11,"up_vote_count":3973,"accepted_answer_id":46908,"answer_count":45,"score":3962,"last_activity_date":1688557130,"creation_date":1220649168,"question_id":46898,"body_markdown":"If I have an object implementing the `Map` interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?\r\n\r\nWill the ordering of elements depend on the specific map implementation that I have for the interface?\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If I have an object implementing the <code>Map</code> interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?</p>\n\n<p>Will the ordering of elements depend on the specific map implementation that I have for the interface?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1577758811,"post_id":59449430,"comment_id":105247710,"body_markdown":"I am having some (early initial but not guaranteed) success using jdeps tool (ships with java8 +) and some visualisation of the dot output that it generates. No solid solution yet though.","body":"I am having some (early initial but not guaranteed) success using jdeps tool (ships with java8 +) and some visualisation of the dot output that it generates. No solid solution yet though."}],"answers":[{"tags":[],"owner":{"account_id":28954257,"reputation":1,"user_id":22178143,"display_name":"Oliver Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688556767,"creation_date":1688548041,"answer_id":76618771,"question_id":59449430,"body_markdown":"Yes, there is a tool called JCCI that can help you, and I&#39;m the author and start opening recently,\r\npypi: https://pypi.org/project/jcci/\r\ngithub: https://github.com/baikaishuipp/jcci\r\n\r\nthere is a sample result:[jcci result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cNeAy.png","title":"How do I tell when my &#39;API contract&#39; has changed using static analysis? (legacy spring-mvc / jsp application)","body":"<p>Yes, there is a tool called JCCI that can help you, and I'm the author and start opening recently,\npypi: <a href=\"https://pypi.org/project/jcci/\" rel=\"nofollow noreferrer\">https://pypi.org/project/jcci/</a>\ngithub: <a href=\"https://github.com/baikaishuipp/jcci\" rel=\"nofollow noreferrer\">https://github.com/baikaishuipp/jcci</a></p>\n<p>there is a sample result:<a href=\"https://i.stack.imgur.com/cNeAy.png\" rel=\"nofollow noreferrer\">jcci result</a></p>\n"}],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688556767,"creation_date":1577066220,"question_id":59449430,"body_markdown":"I am working on a legacy java application that uses spring-mvc with jsp. \r\n\r\nIn order to provide more robust testing guidance / change impact analysis, I&#39;d like to know when any class is changed that is depended upon by a spring-mvc controller. \r\n\r\nAlmost all methods in all classes in the system have a call hierarchy that eventually ends with one or more controller endpoints, and it is these controller endpoints I want to identify when a change is made in order to provide better test guidance. \r\n\r\nFor example: \r\n\r\n`MyRepository` class is depended upon by `MyService` class, which is depended on by `MyServiceFacade` class, which is depended on by `MyManager` class, which is depended upon by `MyController` class and then the endpoint method defined in `MyController` class. \r\n\r\nI want to be able to run static analysis to show `MyEndpoint` method `@RequestMapping` annotation if I change `MyRepository` or any other class depended upon by a method annotated with `@RequestMapping` (or similar annotations). \r\n\r\nI could probably build tooling myself to achieve this, but I&#39;m curious to know whether anyone has any tips on how to achieve this already with say, an IDE, an existing static analysis tool, analysis tool of some type or anything similar. \r\n\r\n\r\n\r\n\r\n\r\n ","title":"How do I tell when my &#39;API contract&#39; has changed using static analysis? (legacy spring-mvc / jsp application)","body":"<p>I am working on a legacy java application that uses spring-mvc with jsp. </p>\n\n<p>In order to provide more robust testing guidance / change impact analysis, I'd like to know when any class is changed that is depended upon by a spring-mvc controller. </p>\n\n<p>Almost all methods in all classes in the system have a call hierarchy that eventually ends with one or more controller endpoints, and it is these controller endpoints I want to identify when a change is made in order to provide better test guidance. </p>\n\n<p>For example: </p>\n\n<p><code>MyRepository</code> class is depended upon by <code>MyService</code> class, which is depended on by <code>MyServiceFacade</code> class, which is depended on by <code>MyManager</code> class, which is depended upon by <code>MyController</code> class and then the endpoint method defined in <code>MyController</code> class. </p>\n\n<p>I want to be able to run static analysis to show <code>MyEndpoint</code> method <code>@RequestMapping</code> annotation if I change <code>MyRepository</code> or any other class depended upon by a method annotated with <code>@RequestMapping</code> (or similar annotations). </p>\n\n<p>I could probably build tooling myself to achieve this, but I'm curious to know whether anyone has any tips on how to achieve this already with say, an IDE, an existing static analysis tool, analysis tool of some type or anything similar. </p>\n"},{"tags":["java","postgresql","hibernate","maven","jhipster"],"comments":[{"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"score":0,"creation_date":1688573223,"post_id":76618961,"comment_id":135092583,"body_markdown":"How did you regenerate the project?  In a clean directory, from the same jdl file?  You can confirm the jhipster version: `jhipster --version` and get more confiugration details `jhipster --info`","body":"How did you regenerate the project?  In a clean directory, from the same jdl file?  You can confirm the jhipster version: <code>jhipster --version</code> and get more confiugration details <code>jhipster --info</code>"},{"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"score":0,"creation_date":1688622671,"post_id":76618961,"comment_id":135098767,"body_markdown":"Yes, and the version is correct - 7.9.3.","body":"Yes, and the version is correct - 7.9.3."},{"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"score":0,"creation_date":1688635333,"post_id":76618961,"comment_id":135101277,"body_markdown":"You may have some of the 8.0 dependencies cached and they are not compatible with 7.9.3  .  Can you try clearing your maven cache?","body":"You may have some of the 8.0 dependencies cached and they are not compatible with 7.9.3  .  Can you try clearing your maven cache?"}],"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556544,"creation_date":1688549308,"question_id":76618961,"body_markdown":"I recently had to uninstall JHipster and reinstall v7.9.3 since I was using v8.0.0 and it was using a version of Hibernate that was not working for me since I needed TypeDefs. However, after recreating my project, when I run ./mvnw, I get the following errors:\r\n\r\n```\r\n[ERROR] Project.java:[10,33] cannot find symbol\r\n  symbol:   class JdbcTypeCode\r\n  location: package org.hibernate.annotations\r\n[ERROR] Project.java:[11,26] cannot find symbol\r\n  symbol:   class SqlTypes\r\n  location: package org.hibernate.type\r\n[ERROR] ReviewResource.java:[146,89] cannot find symbol\r\n[ERROR]   symbol:   class ParameterObject\r\n[ERROR]   location: package org.springdoc.core.annotations\r\n[ERROR] ProjectResource.java:[146,91] cannot find symbol\r\n[ERROR]   symbol:   class ParameterObject\r\n[ERROR]   location: package org.springdoc.core.annotations\r\n```\r\n\r\nI have no idea how to resolve this. Any help?","title":"JHipster issue: Cannot find symbols for Entities, Tables","body":"<p>I recently had to uninstall JHipster and reinstall v7.9.3 since I was using v8.0.0 and it was using a version of Hibernate that was not working for me since I needed TypeDefs. However, after recreating my project, when I run ./mvnw, I get the following errors:</p>\n<pre><code>[ERROR] Project.java:[10,33] cannot find symbol\n  symbol:   class JdbcTypeCode\n  location: package org.hibernate.annotations\n[ERROR] Project.java:[11,26] cannot find symbol\n  symbol:   class SqlTypes\n  location: package org.hibernate.type\n[ERROR] ReviewResource.java:[146,89] cannot find symbol\n[ERROR]   symbol:   class ParameterObject\n[ERROR]   location: package org.springdoc.core.annotations\n[ERROR] ProjectResource.java:[146,91] cannot find symbol\n[ERROR]   symbol:   class ParameterObject\n[ERROR]   location: package org.springdoc.core.annotations\n</code></pre>\n<p>I have no idea how to resolve this. Any help?</p>\n"},{"tags":["java","sharepoint","graphserviceclient"],"owner":{"account_id":19890160,"reputation":91,"user_id":15374972,"display_name":"Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556408,"creation_date":1688556408,"question_id":76619862,"body_markdown":"I need to retrieve the metadata of all documents in a specific folder in our corporate SharePoint. I use GraphServiceClient for it. I have already created this client adding clientId, clientSecret, and tenantId  but I can&#39;t  find the right way to get necessary documents\r\n\r\nMy sharePoint link to these documents looks like\r\nhttps://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data\r\n\r\nI found next way to do it\r\n\r\n    DriveItemCollectionPage driveItems = graphClient.sites(siteId).drives(driveId).root().children().buildRequest().get();\r\n\r\nBut it doesn&#39;t work for me.\r\nI have never worked with this lib before, so any help will be very helpful\r\n","title":"How to retrieve documents from a specific folder in SharePoint using GraphServiceClient?","body":"<p>I need to retrieve the metadata of all documents in a specific folder in our corporate SharePoint. I use GraphServiceClient for it. I have already created this client adding clientId, clientSecret, and tenantId  but I can't  find the right way to get necessary documents</p>\n<p>My sharePoint link to these documents looks like\n<a href=\"https://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data\" rel=\"nofollow noreferrer\">https://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data</a></p>\n<p>I found next way to do it</p>\n<pre><code>DriveItemCollectionPage driveItems = graphClient.sites(siteId).drives(driveId).root().children().buildRequest().get();\n</code></pre>\n<p>But it doesn't work for me.\nI have never worked with this lib before, so any help will be very helpful</p>\n"},{"tags":["java","android","android-source","android-jetpack","app-startup"],"comments":[{"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"score":0,"creation_date":1688557457,"post_id":76619855,"comment_id":135088501,"body_markdown":"You do not have a control over home button interactions inside from your code. I would suggest you to place the heavy operation inside a background thread and use some kind of UI trick to show that something is happening without blocking the main thread.","body":"You do not have a control over home button interactions inside from your code. I would suggest you to place the heavy operation inside a background thread and use some kind of UI trick to show that something is happening without blocking the main thread."},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1688557576,"post_id":76619855,"comment_id":135088525,"body_markdown":"I have aosp source code. is it possible to change in aosp? @hardartcore","body":"I have aosp source code. is it possible to change in aosp? @hardartcore"},{"owner":{"account_id":7202511,"reputation":355,"user_id":5499287,"accept_rate":100,"display_name":"Tobias Lukoschek"},"score":1,"creation_date":1688557648,"post_id":76619855,"comment_id":135088543,"body_markdown":"it is a bad idea to run long running tasks in the ui thread. you should create a coroutine or use WorkManager for such tasks (https://developer.android.com/topic/libraries/architecture/workmanager) \nWhat do you excatly do in the onCreate function? The Activity should be used for UI topics. According to your description you violate against any architecture pattern like MVVM or MVC or any else...","body":"it is a bad idea to run long running tasks in the ui thread. you should create a coroutine or use WorkManager for such tasks (<a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmana&zwnj;&#8203;ger</a>)  What do you excatly do in the onCreate function? The Activity should be used for UI topics. According to your description you violate against any architecture pattern like MVVM or MVC or any else..."},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1688565079,"post_id":76619855,"comment_id":135090483,"body_markdown":"Actually it&#39;s client added source code. So should not change the code in application side but can change in frameworks code in aosp","body":"Actually it&#39;s client added source code. So should not change the code in application side but can change in frameworks code in aosp"},{"owner":{"account_id":7202511,"reputation":355,"user_id":5499287,"accept_rate":100,"display_name":"Tobias Lukoschek"},"score":1,"creation_date":1688621801,"post_id":76619855,"comment_id":135098657,"body_markdown":"@Shadow the main problem is as mentioned that you try to do long running tasks that should not be done on the ui thread but in any background thread. This is also a fact that you have to keep in mind when you change source code in the aosp.","body":"@Shadow the main problem is as mentioned that you try to do long running tasks that should not be done on the ui thread but in any background thread. This is also a fact that you have to keep in mind when you change source code in the aosp."}],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556349,"creation_date":1688556349,"question_id":76619855,"body_markdown":"I have an application where in onCreate() function heavy operation is performed.\r\nThus when we launched an application, it displays white screen and then display the webview.\r\n\r\nNow client pressed the home screen when white screen is displayed. In this scenario, launcher is not displayed. The page is still in white screen.\r\n\r\nIn log,\r\n\r\n\t\r\n\r\n    05-04 17:36:06.237  2841 16533 I WindowManager: Not displayed: s=Surface(name=com.android.launcher/com.android.launcher3.Launcher)/@0x228707a pv=true mDrawState=1 ph=false th=false a=true\t\t\r\n\r\nI have framework source code,\r\n\r\n    path: frameworks/base/services/core/java/com/android/server/wm/AppWindowToken.java\t\t\t\t\t\r\n    \t\t\t\t\t\r\n    ﻿\t\t\t\t\t\r\n      boolean updateDrawnWindowStates(WindowState w) {\t\t\t\t\t\r\n    ..............\t\t\t\t\t\r\n    \t\t\t\t\t\r\n      if (!allDrawn &amp;&amp; w.mightAffectAllDrawn()) {\t\t\t\t\t\r\n                if (DEBUG_VISIBILITY || DEBUG_ORIENTATION) {\t\t\t\t\t\r\n                    Slog.v(TAG, &quot;Eval win &quot; + w + &quot;: isDrawn=&quot; + w.isDrawnLw()\t\t\t\t\t\r\n                            + &quot;, isAnimationSet=&quot; + isSelfAnimating());\t\t\t\t\t\r\n                    if (!w.isDrawnLw()) {\t\t\t\t\t\r\n                        Slog.v(TAG, &quot;Not displayed: s=&quot; + winAnimator.mSurfaceController\t\t\t\t\t\r\n                                + &quot; pv=&quot; + w.isVisibleByPolicy()\t\t\t\t\t\r\n                                + &quot; mDrawState=&quot; + winAnimator.drawStateToString()\t\t\t\t\t\r\n                                + &quot; ph=&quot; + w.isParentWindowHidden() + &quot; th=&quot; + hiddenRequested\t\t\t\t\t\r\n                                + &quot; a=&quot; + isSelfAnimating());\t\t\t\t\t\r\n                    }\t\t\t\t\t\r\n                }\t\t\t\t\t\r\n\t\t\t\r\nKindly let me know how to redirect to homescreen when home button is pressed during blank screen or white screen.\r\n","title":"How to go to Launcher screen when home button is clicked in application&#39;s white screen?","body":"<p>I have an application where in onCreate() function heavy operation is performed.\nThus when we launched an application, it displays white screen and then display the webview.</p>\n<p>Now client pressed the home screen when white screen is displayed. In this scenario, launcher is not displayed. The page is still in white screen.</p>\n<p>In log,</p>\n<pre><code>05-04 17:36:06.237  2841 16533 I WindowManager: Not displayed: s=Surface(name=com.android.launcher/com.android.launcher3.Launcher)/@0x228707a pv=true mDrawState=1 ph=false th=false a=true     \n</code></pre>\n<p>I have framework source code,</p>\n<pre><code>path: frameworks/base/services/core/java/com/android/server/wm/AppWindowToken.java                  \n                    \n﻿                   \n  boolean updateDrawnWindowStates(WindowState w) {                  \n..............                  \n                    \n  if (!allDrawn &amp;&amp; w.mightAffectAllDrawn()) {                   \n            if (DEBUG_VISIBILITY || DEBUG_ORIENTATION) {                    \n                Slog.v(TAG, &quot;Eval win &quot; + w + &quot;: isDrawn=&quot; + w.isDrawnLw()                  \n                        + &quot;, isAnimationSet=&quot; + isSelfAnimating());                 \n                if (!w.isDrawnLw()) {                   \n                    Slog.v(TAG, &quot;Not displayed: s=&quot; + winAnimator.mSurfaceController                    \n                            + &quot; pv=&quot; + w.isVisibleByPolicy()                    \n                            + &quot; mDrawState=&quot; + winAnimator.drawStateToString()                  \n                            + &quot; ph=&quot; + w.isParentWindowHidden() + &quot; th=&quot; + hiddenRequested                  \n                            + &quot; a=&quot; + isSelfAnimating());                   \n                }                   \n            }                   \n        \n</code></pre>\n<p>Kindly let me know how to redirect to homescreen when home button is pressed during blank screen or white screen.</p>\n"},{"tags":["java","optimization","bytecode","yourkit"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1688501674,"post_id":76613424,"comment_id":135081521,"body_markdown":"Have you tried asking your question in the YourKit forum?","body":"Have you tried asking your question in the YourKit forum?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1688545162,"post_id":76613424,"comment_id":135086004,"body_markdown":"@boneill I&#39;ve not. Anyway, in this case I will have to prove somehow that the problem with profiler itself, not with the jvm.","body":"@boneill I&#39;ve not. Anyway, in this case I will have to prove somehow that the problem with profiler itself, not with the jvm."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688545993,"post_id":76613424,"comment_id":135086169,"body_markdown":"This is not how a JIT compiler works. After the profiler injected the code, it’s part of the method and inlining the method implies retaining the behavior of the entire code, including the injected code.","body":"This is not how a JIT compiler works. After the profiler injected the code, it’s part of the method and inlining the method implies retaining the behavior of the entire code, including the injected code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688546693,"post_id":76613424,"comment_id":135086291,"body_markdown":"Apparently, YourKit has a filter for “trivial methods”. [This announcement](https://www.yourkit.com/changes/yjp_2016_02.jsp#:~:text=the%20range%20of%20trivial%20methods%20,%20extended) says that the version 2016.02 has extended the range of trivial methods which is a sign of the presence of such a filter, but I couldn’t find a description of the actual range (with my quick search). But a method solely returning `this.usd * 3` might qualify (while a method calling another method does not).","body":"Apparently, YourKit has a filter for “trivial methods”. <a href=\"https://www.yourkit.com/changes/yjp_2016_02.jsp#:~:text=the%20range%20of%20trivial%20methods%20,%20extended\" rel=\"nofollow noreferrer\">This announcement</a> says that the version 2016.02 has extended the range of trivial methods which is a sign of the presence of such a filter, but I couldn’t find a description of the actual range (with my quick search). But a method solely returning <code>this.usd * 3</code> might qualify (while a method calling another method does not)."}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688555397,"creation_date":1688555397,"answer_id":76619754,"question_id":76613424,"body_markdown":"Firstly, I would like to express my gratitude to [Holger](https://stackoverflow.com/users/2711488/holger) and [boneill](https://stackoverflow.com/users/458561/boneill) for their help in pinpointing the original problem and in identifying the root cause of the issue.\r\n\r\nThe actual problem lies not with the JIT compiler or build optimizations. Holger&#39;s comment provides a clear and concise explanation of it:\r\n&gt;  This is not how a JIT compiler works. After the profiler injected the code, it is part of the method and inlining the method implies retaining the behaviour of the entire code, including the injected code. \r\n\r\nSo, the issue clearly lies with the YourKit profiler, which incorporates a concept of &quot;trivial methods&quot;. These methods are intentionally ignored during profiling in CPU tracing mode as a means to reduce profiling overhead: \r\n\r\n&gt; CPU profiling: the range of trivial methods like getters and setters excluded from CPU tracing instrumentation for performance consideration has been extended. Now it includes methods whose bytecode satisfies the following conditions:\r\n&gt; - does not exceed 32 bytes;\r\n&gt; - does not contain cycles;\r\n&gt; - contains only these instructions: load, store and other stack operations, field access, bit and arithmetic operations, comparison operations, return. In particular, this means that these methods cannot call other methods nor create objects.\r\n\r\nYou can find more information about this in the [YourKit profiler documentation](https://www.yourkit.com/changes/yjp_2015.jsp).\r\n\r\nIf we closely examine the generated bytecode of our method, we will come across the following statements:\r\n```bytecode\r\n  public price()I\r\n   L0\r\n    LINENUMBER 44 L0\r\n    ALOAD 0\r\n    GETFIELD verification/instances/InstanceOnly$Prime.usd : I\r\n    ICONST_3\r\n    IMUL\r\n    IRETURN\r\n   L1\r\n    LOCALVARIABLE this Lverification/instances/InstanceOnly$Prime; L0 L1 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n```\r\n\r\nWhich perfectly aligns with the characteristics of a &quot;trivial method&quot;. As a result, the `price()` method was not instrumented during profiling. To disable this behavior, you can utilize the `_instrument_all_methods` option in YourKit profiling. From the official docs:\r\n\r\n&gt; Note: to force instrumentation of these methods specify startup option `_instrument_all_methods`\r\n\r\nIn my case, I am using the CLI API to initiate profiling. Therefore, I am employing the following command to specify the desired startup option:\r\n\r\n```sh\r\njava -agentpath:$PROFILER_AGENT_PATH=_instrument_all_methods -jar $APPLICATION_JAR\r\n```\r\n\r\nYou can find further information on specifying YourKit startup options [here](https://www.yourkit.com/docs/java/help/startup_options.jsp).\r\n","title":"Difficulty profiling a Java application: Missing method in profiling results despite disabling optimizations. YourKit trivial method","body":"<p>Firstly, I would like to express my gratitude to <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> and <a href=\"https://stackoverflow.com/users/458561/boneill\">boneill</a> for their help in pinpointing the original problem and in identifying the root cause of the issue.</p>\n<p>The actual problem lies not with the JIT compiler or build optimizations. Holger's comment provides a clear and concise explanation of it:</p>\n<blockquote>\n<p>This is not how a JIT compiler works. After the profiler injected the code, it is part of the method and inlining the method implies retaining the behaviour of the entire code, including the injected code.</p>\n</blockquote>\n<p>So, the issue clearly lies with the YourKit profiler, which incorporates a concept of &quot;trivial methods&quot;. These methods are intentionally ignored during profiling in CPU tracing mode as a means to reduce profiling overhead:</p>\n<blockquote>\n<p>CPU profiling: the range of trivial methods like getters and setters excluded from CPU tracing instrumentation for performance consideration has been extended. Now it includes methods whose bytecode satisfies the following conditions:</p>\n<ul>\n<li>does not exceed 32 bytes;</li>\n<li>does not contain cycles;</li>\n<li>contains only these instructions: load, store and other stack operations, field access, bit and arithmetic operations, comparison operations, return. In particular, this means that these methods cannot call other methods nor create objects.</li>\n</ul>\n</blockquote>\n<p>You can find more information about this in the <a href=\"https://www.yourkit.com/changes/yjp_2015.jsp\" rel=\"nofollow noreferrer\">YourKit profiler documentation</a>.</p>\n<p>If we closely examine the generated bytecode of our method, we will come across the following statements:</p>\n<pre><code>  public price()I\n   L0\n    LINENUMBER 44 L0\n    ALOAD 0\n    GETFIELD verification/instances/InstanceOnly$Prime.usd : I\n    ICONST_3\n    IMUL\n    IRETURN\n   L1\n    LOCALVARIABLE this Lverification/instances/InstanceOnly$Prime; L0 L1 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n</code></pre>\n<p>Which perfectly aligns with the characteristics of a &quot;trivial method&quot;. As a result, the <code>price()</code> method was not instrumented during profiling. To disable this behavior, you can utilize the <code>_instrument_all_methods</code> option in YourKit profiling. From the official docs:</p>\n<blockquote>\n<p>Note: to force instrumentation of these methods specify startup option <code>_instrument_all_methods</code></p>\n</blockquote>\n<p>In my case, I am using the CLI API to initiate profiling. Therefore, I am employing the following command to specify the desired startup option:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -agentpath:$PROFILER_AGENT_PATH=_instrument_all_methods -jar $APPLICATION_JAR\n</code></pre>\n<p>You can find further information on specifying YourKit startup options <a href=\"https://www.yourkit.com/docs/java/help/startup_options.jsp\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76619754,"answer_count":1,"score":0,"last_activity_date":1688555517,"creation_date":1688479286,"question_id":76613424,"body_markdown":"Not so far ago I had been profiling an application and noticed an interesting optimization that applies to the compiled byte code.\r\n\r\nHere is my program:\r\n```java\r\npublic class InstanceOnly {\r\n\r\n    public static void main(final String[] args) throws InterruptedException {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; Integer.MAX_VALUE; ++i) {\r\n            Book b = new Discounted(new Prime(i));\r\n            sum += b.price();\r\n            Thread.sleep(10);\r\n        }\r\n        System.out.printf(&quot;Total: %d\\n&quot;, sum);\r\n    }\r\n\r\n    interface Book {\r\n        int price();\r\n    }\r\n\r\n    static class Discounted implements Book {\r\n        private final Book book;\r\n\r\n        Discounted(final Book b) {\r\n            this.book = b;\r\n        }\r\n\r\n        @Override\r\n        public int price() {\r\n            return this.book.price() / 2;\r\n        }\r\n    }\r\n\r\n    static class Prime implements Book {\r\n        private final int usd;\r\n\r\n        Prime(final int u) {\r\n            this.usd = u;\r\n        }\r\n\r\n        @Override\r\n        public int price() {\r\n            return this.usd * 3;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you might notice it is rather simple - we just use [decorator](https://en.wikipedia.org/wiki/Decorator_pattern) pattern here in order to calculate the total price of all books. The application will run very long time, so I have enough time to profile it. I’m using [YourKit](https://www.yourkit.com/docs/java-profiler/2023.5/help/tracing.jsp) java profiling which use bytecode instrumentation in order to get precise number of invocations of the each method. I profile the application during one minute and get the next results: \r\n```\r\n&quot;verification.instances.InstanceOnly.main(String[]) InstanceOnly.java&quot;,&quot;1&quot;\r\n&quot;java.lang.Thread.sleep(long) Thread.java (native)&quot;, &quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Prime.&lt;init&gt;(int) InstanceOnly.java&quot;, &quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Discounted.price() InstanceOnly.java&quot;,&quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Discounted.&lt;init&gt;(InstanceOnly$Book) InstanceOnly.java&quot;,&quot;5307&quot;\r\n```\r\n\r\nBut where is the `verification.instances.InstanceOnly$Prime.price()` call? I can see that we only invoke the `Prime` constructor. I initially suspected that it might be a problem with `JIT` optimizations, where the method gets inlined. To address this, I disabled all optimizations by using the `-Djava.compiler=NONE` Java parameter. However, even with this configuration, the targeted method is still missing from the profiling results\r\n\r\nI also attempted to add a dummy statement like `System.out.println`: \r\n```java\r\n@Override\r\npublic int price() {\r\n   System.out.println(&quot;Dummy println&quot;);\r\n   return this.usd * 3;\r\n}\r\n```\r\nAnd only in this case did I finally observe the desired method:\r\n```java\r\nInstanceOnly$Prime.price() \r\n```\r\n\r\nSo, I&#39;m completely confused because I can&#39;t understand who is actually performing the optimization and how I can disable it to see the `InstanceOnly$Prime.price()` in the profiling results without adding dummy statements. Does anyone know what this could be?","title":"Difficulty profiling a Java application: Missing method in profiling results despite disabling optimizations. YourKit trivial method","body":"<p>Not so far ago I had been profiling an application and noticed an interesting optimization that applies to the compiled byte code.</p>\n<p>Here is my program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InstanceOnly {\n\n    public static void main(final String[] args) throws InterruptedException {\n        int sum = 0;\n        for (int i = 0; i &lt; Integer.MAX_VALUE; ++i) {\n            Book b = new Discounted(new Prime(i));\n            sum += b.price();\n            Thread.sleep(10);\n        }\n        System.out.printf(&quot;Total: %d\\n&quot;, sum);\n    }\n\n    interface Book {\n        int price();\n    }\n\n    static class Discounted implements Book {\n        private final Book book;\n\n        Discounted(final Book b) {\n            this.book = b;\n        }\n\n        @Override\n        public int price() {\n            return this.book.price() / 2;\n        }\n    }\n\n    static class Prime implements Book {\n        private final int usd;\n\n        Prime(final int u) {\n            this.usd = u;\n        }\n\n        @Override\n        public int price() {\n            return this.usd * 3;\n        }\n    }\n}\n</code></pre>\n<p>As you might notice it is rather simple - we just use <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">decorator</a> pattern here in order to calculate the total price of all books. The application will run very long time, so I have enough time to profile it. I’m using <a href=\"https://www.yourkit.com/docs/java-profiler/2023.5/help/tracing.jsp\" rel=\"nofollow noreferrer\">YourKit</a> java profiling which use bytecode instrumentation in order to get precise number of invocations of the each method. I profile the application during one minute and get the next results:</p>\n<pre><code>&quot;verification.instances.InstanceOnly.main(String[]) InstanceOnly.java&quot;,&quot;1&quot;\n&quot;java.lang.Thread.sleep(long) Thread.java (native)&quot;, &quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Prime.&lt;init&gt;(int) InstanceOnly.java&quot;, &quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Discounted.price() InstanceOnly.java&quot;,&quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Discounted.&lt;init&gt;(InstanceOnly$Book) InstanceOnly.java&quot;,&quot;5307&quot;\n</code></pre>\n<p>But where is the <code>verification.instances.InstanceOnly$Prime.price()</code> call? I can see that we only invoke the <code>Prime</code> constructor. I initially suspected that it might be a problem with <code>JIT</code> optimizations, where the method gets inlined. To address this, I disabled all optimizations by using the <code>-Djava.compiler=NONE</code> Java parameter. However, even with this configuration, the targeted method is still missing from the profiling results</p>\n<p>I also attempted to add a dummy statement like <code>System.out.println</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int price() {\n   System.out.println(&quot;Dummy println&quot;);\n   return this.usd * 3;\n}\n</code></pre>\n<p>And only in this case did I finally observe the desired method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InstanceOnly$Prime.price() \n</code></pre>\n<p>So, I'm completely confused because I can't understand who is actually performing the optimization and how I can disable it to see the <code>InstanceOnly$Prime.price()</code> in the profiling results without adding dummy statements. Does anyone know what this could be?</p>\n"},{"tags":["java","java-native-interface","swig","swig-typemap"],"owner":{"account_id":5973223,"reputation":29,"user_id":4694969,"display_name":"Sơn Đ&#224;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688555334,"creation_date":1688555334,"question_id":76619745,"body_markdown":"I&#39;m new to SWIG, I&#39;m using SWIG to generate a wrapper for a C++ library in Java. I have a C++ function `float sum(aVector2)`. In my Java code, I want to pass two float values (x, y) to generated wrapper instead of creating an `aVector2` object. I want achieve this becaue I can&#39;t use `aVector2` later in Java code. I have to use lets say `Vector2` java class, then if map `Vector2` to `aVector2` I need to make calls to FindClass(), GetFieldID(), GetMethodId(), etc. I just want to avoid that to take better performance or at least I think I would gain some performance from that, or If I&#39;m wrong please tell me, thank you.\r\n\r\n\r\nI&#39;ve tried defining `%typemap` in the SWIG interface file, but I couldn&#39;t achieve that. I spent hours searching for solution but no result.\r\nI want something like this but obviously this is not working.\r\n```\r\n%typemap(jni) aVector2 &quot;jfloat&quot; &quot;jfloat&quot; &quot;jfloat&quot;\r\n%typemap(jtype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\r\n%typemap(jstype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\r\n\r\n%typemap(in) aVector2 %{\r\n    $1.x = $input$1;\r\n    $1.y = $input$2;\r\n    $1.z = $input$1\r\n%}\r\n```\r\nHere is the C++ header file:\r\n```cpp\r\nstruct aVector2 {\r\n    float x, y;\r\n};\r\n\r\nfloat sum(aVector2 v2) {\r\n    return v2.x + v2.y;\r\n}\r\n```\r\n\r\nand this is how I want use the wrapper in Java:\r\n```java\r\nfloat x = 1.0f;\r\nfloat y = 2.0f;\r\n\r\nfloat result = exampleJNI.sum(x, y);\r\n```\r\n\r\nI would appreciate any guidance or examples on how to do this even though I&#39;m not sure this is achievable in SWIG but I would like to know. Thank you for taking your time to read my question!","title":"How to config SWIG interface to map a c++ data type in JNI to multiple data types","body":"<p>I'm new to SWIG, I'm using SWIG to generate a wrapper for a C++ library in Java. I have a C++ function <code>float sum(aVector2)</code>. In my Java code, I want to pass two float values (x, y) to generated wrapper instead of creating an <code>aVector2</code> object. I want achieve this becaue I can't use <code>aVector2</code> later in Java code. I have to use lets say <code>Vector2</code> java class, then if map <code>Vector2</code> to <code>aVector2</code> I need to make calls to FindClass(), GetFieldID(), GetMethodId(), etc. I just want to avoid that to take better performance or at least I think I would gain some performance from that, or If I'm wrong please tell me, thank you.</p>\n<p>I've tried defining <code>%typemap</code> in the SWIG interface file, but I couldn't achieve that. I spent hours searching for solution but no result.\nI want something like this but obviously this is not working.</p>\n<pre><code>%typemap(jni) aVector2 &quot;jfloat&quot; &quot;jfloat&quot; &quot;jfloat&quot;\n%typemap(jtype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\n%typemap(jstype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\n\n%typemap(in) aVector2 %{\n    $1.x = $input$1;\n    $1.y = $input$2;\n    $1.z = $input$1\n%}\n</code></pre>\n<p>Here is the C++ header file:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>struct aVector2 {\n    float x, y;\n};\n\nfloat sum(aVector2 v2) {\n    return v2.x + v2.y;\n}\n</code></pre>\n<p>and this is how I want use the wrapper in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float x = 1.0f;\nfloat y = 2.0f;\n\nfloat result = exampleJNI.sum(x, y);\n</code></pre>\n<p>I would appreciate any guidance or examples on how to do this even though I'm not sure this is achievable in SWIG but I would like to know. Thank you for taking your time to read my question!</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":2,"creation_date":1377254916,"post_id":18400210,"comment_id":27026001,"body_markdown":"with bifunction interface, you can easly define N-function class, if you define trifunction as separate interface, first sb will be asking why not quadofunction, and second, you need to duplicate all methods which takes Bifunction as parameter","body":"with bifunction interface, you can easly define N-function class, if you define trifunction as separate interface, first sb will be asking why not quadofunction, and second, you need to duplicate all methods which takes Bifunction as parameter"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":7,"creation_date":1377275279,"post_id":18400210,"comment_id":27038398,"body_markdown":"There is a point of diminishing returns for APIs like this.  (Personally, I think JDK8 passed it a while back, but this is beyond even that.)","body":"There is a point of diminishing returns for APIs like this.  (Personally, I think JDK8 passed it a while back, but this is beyond even that.)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1561457869,"post_id":18400210,"comment_id":100061107,"body_markdown":"I believe the rationale was to say that Function and BiFunction were fully implemented with objects and native types.  Including TriFunctions with all the various variations would blow up the JRE with classes and methods.","body":"I believe the rationale was to say that Function and BiFunction were fully implemented with objects and native types.  Including TriFunctions with all the various variations would blow up the JRE with classes and methods."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":2,"creation_date":1567779870,"post_id":18400210,"comment_id":102077843,"body_markdown":"Short answer.  In Java, if you don&#39;t see it, you build your own (see Alex P answers of course).  Sidenote, in C#, the implementers of dotnet gave you pre-canned ones (up to 16 arguments), but without the prefix names (&quot;Bi&quot; here)  :  see  https://learn.microsoft.com/en-us/dotnet/api/system.func-17?view=netcore-2.2  Just a simple &quot;Func&quot;.  So this is one of the places I prefer dotnet over java.  Please don&#39;t turn this comment section into a h0ly war.  and limit comments to BiFunction only.","body":"Short answer.  In Java, if you don&#39;t see it, you build your own (see Alex P answers of course).  Sidenote, in C#, the implementers of dotnet gave you pre-canned ones (up to 16 arguments), but without the prefix names (&quot;Bi&quot; here)  :  see  <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-17?view=netcore-2.2\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/api/&hellip;</a>  Just a simple &quot;Func&quot;.  So this is one of the places I prefer dotnet over java.  Please don&#39;t turn this comment section into a h0ly war.  and limit comments to BiFunction only."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1613411534,"post_id":18400210,"comment_id":117061736,"body_markdown":"Just like any thing else.  If the API doesn&#39;t provide it, then code it yourself.","body":"Just like any thing else.  If the API doesn&#39;t provide it, then code it yourself."}],"answers":[{"tags":[],"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"down_vote_count":0,"up_vote_count":215,"is_accepted":false,"score":215,"last_activity_date":1442329398,"creation_date":1383019637,"answer_id":19649473,"question_id":18400210,"body_markdown":"If you need TriFunction, just do this:\r\n\r\n    @FunctionalInterface\r\n    interface TriFunction&lt;A,B,C,R&gt; {\r\n\r\n        R apply(A a, B b, C c);\r\n\r\n        default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(\r\n                                    Function&lt;? super R, ? extends V&gt; after) {\r\n            Objects.requireNonNull(after);\r\n            return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));\r\n        }\r\n    }\r\n\r\n\r\nFollowing small program shows how it can be used. Remember that result type is specified as a last generic type parameter. \r\n\r\n      public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            BiFunction&lt;Integer, Long, String&gt; bi = (x,y) -&gt; &quot;&quot;+x+&quot;,&quot;+y;\r\n            TriFunction&lt;Boolean, Integer, Long, String&gt; tri = (x,y,z) -&gt; &quot;&quot;+x+&quot;,&quot;+y+&quot;,&quot;+z;\r\n    \r\n    \r\n            System.out.println(bi.apply(1, 2L)); //1,2\r\n            System.out.println(tri.apply(false, 1, 2L)); //false,1,2\r\n    \r\n            tri = tri.andThen(s -&gt; &quot;[&quot;+s+&quot;]&quot;);\r\n            System.out.println(tri.apply(true,2,3L)); //[true,2,3]\r\n        }\r\n      }\r\n\r\nI guess if there was practical use for TriFunction in `java.util.*` or `java.lang.*` it would have been defined. I would never go beyond 22 arguments, though ;-) What I mean by that, all new code that allows to stream collections never required TriFunction as any of the method parameters. So it was not included.\r\n\r\nUPDATE\r\n\r\nFor completeness and following the destructive functions explanation in another answer (related to currying), here is how TriFunction can be emulated without additional interface:\r\n\r\n    Function&lt;Integer, Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt;&gt; tri1 = a -&gt; b -&gt; c -&gt; a + b + c;\r\n    System.out.println(tri1.apply(1).apply(2).apply(3)); //prints 6\r\n\r\nOf course, it is possible to combine functions in other ways, e.g.:\r\n\r\n    BiFunction&lt;Integer, Integer, UnaryOperator&lt;Integer&gt;&gt; tri2 = (a, b) -&gt; c -&gt; a + b + c;\r\n    System.out.println(tri2.apply(1, 2).apply(3)); //prints 6\r\n    //partial function can be, of course, extracted this way\r\n    UnaryOperator partial = tri2.apply(1,2); //this is partial, eq to c -&gt; 1 + 2 + c;\r\n    System.out.println(partial.apply(4)); //prints 7\r\n    System.out.println(partial.apply(5)); //prints 8\r\n\r\nWhile currying would be natural to any language that supports functional programming beyond lambdas, Java is not built this way and, while achievable, the code is hard to maintain, and sometimes read. However, it is very helpful as an exercise, and sometimes partial functions have a rightful place in your code.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>If you need TriFunction, just do this:</p>\n\n<pre><code>@FunctionalInterface\ninterface TriFunction&lt;A,B,C,R&gt; {\n\n    R apply(A a, B b, C c);\n\n    default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(\n                                Function&lt;? super R, ? extends V&gt; after) {\n        Objects.requireNonNull(after);\n        return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));\n    }\n}\n</code></pre>\n\n<p>Following small program shows how it can be used. Remember that result type is specified as a last generic type parameter. </p>\n\n<pre><code>  public class Main {\n\n    public static void main(String[] args) {\n        BiFunction&lt;Integer, Long, String&gt; bi = (x,y) -&gt; \"\"+x+\",\"+y;\n        TriFunction&lt;Boolean, Integer, Long, String&gt; tri = (x,y,z) -&gt; \"\"+x+\",\"+y+\",\"+z;\n\n\n        System.out.println(bi.apply(1, 2L)); //1,2\n        System.out.println(tri.apply(false, 1, 2L)); //false,1,2\n\n        tri = tri.andThen(s -&gt; \"[\"+s+\"]\");\n        System.out.println(tri.apply(true,2,3L)); //[true,2,3]\n    }\n  }\n</code></pre>\n\n<p>I guess if there was practical use for TriFunction in <code>java.util.*</code> or <code>java.lang.*</code> it would have been defined. I would never go beyond 22 arguments, though ;-) What I mean by that, all new code that allows to stream collections never required TriFunction as any of the method parameters. So it was not included.</p>\n\n<p>UPDATE</p>\n\n<p>For completeness and following the destructive functions explanation in another answer (related to currying), here is how TriFunction can be emulated without additional interface:</p>\n\n<pre><code>Function&lt;Integer, Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt;&gt; tri1 = a -&gt; b -&gt; c -&gt; a + b + c;\nSystem.out.println(tri1.apply(1).apply(2).apply(3)); //prints 6\n</code></pre>\n\n<p>Of course, it is possible to combine functions in other ways, e.g.:</p>\n\n<pre><code>BiFunction&lt;Integer, Integer, UnaryOperator&lt;Integer&gt;&gt; tri2 = (a, b) -&gt; c -&gt; a + b + c;\nSystem.out.println(tri2.apply(1, 2).apply(3)); //prints 6\n//partial function can be, of course, extracted this way\nUnaryOperator partial = tri2.apply(1,2); //this is partial, eq to c -&gt; 1 + 2 + c;\nSystem.out.println(partial.apply(4)); //prints 7\nSystem.out.println(partial.apply(5)); //prints 8\n</code></pre>\n\n<p>While currying would be natural to any language that supports functional programming beyond lambdas, Java is not built this way and, while achievable, the code is hard to maintain, and sometimes read. However, it is very helpful as an exercise, and sometimes partial functions have a rightful place in your code.</p>\n"},{"tags":[],"owner":{"account_id":3600445,"reputation":1152,"user_id":3003859,"display_name":"user3003859"},"down_vote_count":27,"up_vote_count":119,"is_accepted":true,"score":92,"last_activity_date":1489580628,"creation_date":1392469679,"answer_id":21798000,"question_id":18400210,"body_markdown":"As far as I know, there are only two kinds of functions, destructive and constructive.\r\n\r\n\r\nWhile constructive function, as the name implies, constructs something, a destructive one destroys something, but not in the way you may think now.\r\n\r\nFor example, the function \r\n\r\n    Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y  \r\n\r\nis a **constructive** one. \r\nAs you need to construct something. In the example\r\nyou constructed the tuple *(x,y)*. Constructive functions have the problem, \r\nof being not able to handle infinite arguments. But the worst thing is, you \r\ncan&#39;t just leave an argument open. You can&#39;t just say &quot;well, let x := 1&quot; and try out\r\nevery y you may like to try. You have to construct every time the whole tuple with \r\n`x := 1`. So if you like to see what the functions return for `y := 1, y := 2, y := 3` you\r\nhave to write `f(1,1) , f(1,2) , f(1,3)`. \r\n\r\nIn Java 8, constructive functions should be handled (most of the time) by using method references because there&#39;s not much advantage of using a constructive lambda function. They are a bit like static methods.\r\nYou can use them, but they have no real state. \r\n\r\nThe other type is the destructive one, it takes something and dismantles it as far as needed.\r\nFor example, the **destructive** function \r\n\r\n    Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt; g = x -&gt; (y -&gt; x + y) \r\n\r\ndoes the same as the function `f` which was constructive. The benefits of a destructive function are, you \r\ncan handle now infinite arguments, which is especially convenient for streams, and you can just leave arguments open. \r\nSo if you again want to see what would the result be like if `x := 1` and `y := 1 , y := 2 , y := 3` , you can say `h = g(1)` and\r\n`h(1)` is the result for `y := 1`, `h(2)` for `y := 2` and `h(3)` for `y := 3`. \r\n\r\nSo here you have a fixed state! That&#39;s quite dynamic and that&#39;s most of the time that what we want from a lambda.\r\n\r\nPatterns like Factory are a lot easier if you can just put in a function which does the work for you. \r\n\r\nDestructive ones are easily combined with each other. If the type is right you can just compose them as you like. Using that, you can easily define morphisms which make (with immutable values) testing a lot easier! \r\n\r\nYou can do that too with a constructive one, but destructive composition looks nicer and more like a list or a decorator, and the constructive one looks a lot like a tree. And things like backtracking \r\nwith constructive functions are just not nice. You can just save the partial functions of a destructive one (dynamic programming), and on &quot;backtrack&quot; just use the old destructive function. That makes code a lot smaller and better readable. With constructive functions you have more or less to remember all arguments, which can be a lot. \r\n\r\nSo why is there a need for `BiFunction` should be more of question than why there is no `TriFunction`?\r\n\r\nFirst of all, a lot of time you just have a few values (less than 3) and need just a result, so a normal destructive function would not be needed at all, a constructive one would do fine. And there are things like monads which \r\nreally needs a constructive function. But aside from that, there are not really a lot of good reasons why there is a `BiFunction` at all. Which doesn&#39;t mean it should be removed! I fight for my Monads until I die! \r\n\r\nSo if you have a lot of arguments, which you can&#39;t combine into a logical container class, and if you need the \r\nfunction to be constructive, use a method reference. Otherwise try to use the new gained ability of destructive functions, you may find yourself doing a lot of things with a lot less code lines.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>As far as I know, there are only two kinds of functions, destructive and constructive.</p>\n\n<p>While constructive function, as the name implies, constructs something, a destructive one destroys something, but not in the way you may think now.</p>\n\n<p>For example, the function </p>\n\n<pre><code>Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y  \n</code></pre>\n\n<p>is a <strong>constructive</strong> one. \nAs you need to construct something. In the example\nyou constructed the tuple <em>(x,y)</em>. Constructive functions have the problem, \nof being not able to handle infinite arguments. But the worst thing is, you \ncan't just leave an argument open. You can't just say \"well, let x := 1\" and try out\nevery y you may like to try. You have to construct every time the whole tuple with \n<code>x := 1</code>. So if you like to see what the functions return for <code>y := 1, y := 2, y := 3</code> you\nhave to write <code>f(1,1) , f(1,2) , f(1,3)</code>. </p>\n\n<p>In Java 8, constructive functions should be handled (most of the time) by using method references because there's not much advantage of using a constructive lambda function. They are a bit like static methods.\nYou can use them, but they have no real state. </p>\n\n<p>The other type is the destructive one, it takes something and dismantles it as far as needed.\nFor example, the <strong>destructive</strong> function </p>\n\n<pre><code>Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt; g = x -&gt; (y -&gt; x + y) \n</code></pre>\n\n<p>does the same as the function <code>f</code> which was constructive. The benefits of a destructive function are, you \ncan handle now infinite arguments, which is especially convenient for streams, and you can just leave arguments open. \nSo if you again want to see what would the result be like if <code>x := 1</code> and <code>y := 1 , y := 2 , y := 3</code> , you can say <code>h = g(1)</code> and\n<code>h(1)</code> is the result for <code>y := 1</code>, <code>h(2)</code> for <code>y := 2</code> and <code>h(3)</code> for <code>y := 3</code>. </p>\n\n<p>So here you have a fixed state! That's quite dynamic and that's most of the time that what we want from a lambda.</p>\n\n<p>Patterns like Factory are a lot easier if you can just put in a function which does the work for you. </p>\n\n<p>Destructive ones are easily combined with each other. If the type is right you can just compose them as you like. Using that, you can easily define morphisms which make (with immutable values) testing a lot easier! </p>\n\n<p>You can do that too with a constructive one, but destructive composition looks nicer and more like a list or a decorator, and the constructive one looks a lot like a tree. And things like backtracking \nwith constructive functions are just not nice. You can just save the partial functions of a destructive one (dynamic programming), and on \"backtrack\" just use the old destructive function. That makes code a lot smaller and better readable. With constructive functions you have more or less to remember all arguments, which can be a lot. </p>\n\n<p>So why is there a need for <code>BiFunction</code> should be more of question than why there is no <code>TriFunction</code>?</p>\n\n<p>First of all, a lot of time you just have a few values (less than 3) and need just a result, so a normal destructive function would not be needed at all, a constructive one would do fine. And there are things like monads which \nreally needs a constructive function. But aside from that, there are not really a lot of good reasons why there is a <code>BiFunction</code> at all. Which doesn't mean it should be removed! I fight for my Monads until I die! </p>\n\n<p>So if you have a lot of arguments, which you can't combine into a logical container class, and if you need the \nfunction to be constructive, use a method reference. Otherwise try to use the new gained ability of destructive functions, you may find yourself doing a lot of things with a lot less code lines.</p>\n"},{"tags":[],"owner":{"account_id":313676,"reputation":467,"user_id":628441,"accept_rate":57,"display_name":"Hans"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1476726776,"creation_date":1476725284,"answer_id":40092315,"question_id":18400210,"body_markdown":"I Have almost the same question and a partial answer. Not sure whether the constructive/deconstructive answer is what the language designers had in mind. \r\nI think having 3 and more upto N has valid use cases.\r\n\r\nI come from .NET. and in .NET you have Func&lt;T1,...T16,R&gt; and Action&lt;T1...T16&gt; for void functions. Predicate and some other special cases also exist.  See: https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx  \r\n\r\n I wonder what the reason was why the language designers opted for Function, \r\nBifunction and did not continue until DecaExiFunction? \r\n\r\nThe answer to the second part is type erasure. After compilation there is no difference between Func&lt;T1,T2,T3,R&gt; and Func&lt;T1,T2,T3,T4,R&gt;. \r\nThe following therefore does not compile:\r\n\r\n    package eu.hanskruse.trackhacks.joepie;\r\n    \r\n    public class Functions{\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3);\r\n    \t}\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,T4,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3, T4 t4);\r\n    \t}\r\n    }\r\n\r\nInner functions were used to circumvent another minor problem. Eclipse insisted on having both classes in files named Function in the same directory... Not sure whether this a compiler issue nowadays. But I cannot turn the error of in Eclipse.\r\n\r\nFunc was used to prevent name clashes with the java Function type.\r\n\r\nSo if you want to add Func from 3 upto 16 argument you can do two things.\r\n\r\n - Make TriFunc, TesseraFunc,PendeFunc, ...DecaExiFunc etc \r\n   - (Should I use Greek or Latin?)\r\n - Use package names or classes to make the names different.\r\n\r\n\r\nExample for the second way:   \r\n\r\n     package eu.hanskruse.trackhacks.joepie.functions.tri;\r\n        \r\n        \t@FunctionalInterface\r\n        \tpublic interface Func&lt;T1,T2,T3,R&gt;{\r\n        \t\tpublic R apply(T1 t1,T2 t2,T3 t3);\r\n        \t}\r\n\r\nand\r\n  \r\n    package eu.trackhacks.joepie.functions.tessera;\r\n        \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,T4,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3, T4 t4);\r\n    \t}\r\n\r\nWhat would be the best approach?\r\n\r\nIn the above examples I did not include implementations for the andThen() and compose() methods. If you add these you must add 16 overloads each: the TriFunc should have an andthen() with 16 arguments. That would give you a compile error because of circular dependencies. Also you would not have these overloads for Function and BiFunction. Therefore you should also define Func with one argument and Func with two arguments. In .NET circular dependencies would be circumvented by using extension methods which are not present in Java.\r\n\r\n\r\n\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I Have almost the same question and a partial answer. Not sure whether the constructive/deconstructive answer is what the language designers had in mind. \nI think having 3 and more upto N has valid use cases.</p>\n\n<p>I come from .NET. and in .NET you have Func and Action for void functions. Predicate and some other special cases also exist.  See: <a href=\"https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx</a>  </p>\n\n<p>I wonder what the reason was why the language designers opted for Function, \nBifunction and did not continue until DecaExiFunction? </p>\n\n<p>The answer to the second part is type erasure. After compilation there is no difference between Func and Func. \nThe following therefore does not compile:</p>\n\n<pre><code>package eu.hanskruse.trackhacks.joepie;\n\npublic class Functions{\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3);\n    }\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,T4,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3, T4 t4);\n    }\n}\n</code></pre>\n\n<p>Inner functions were used to circumvent another minor problem. Eclipse insisted on having both classes in files named Function in the same directory... Not sure whether this a compiler issue nowadays. But I cannot turn the error of in Eclipse.</p>\n\n<p>Func was used to prevent name clashes with the java Function type.</p>\n\n<p>So if you want to add Func from 3 upto 16 argument you can do two things.</p>\n\n<ul>\n<li>Make TriFunc, TesseraFunc,PendeFunc, ...DecaExiFunc etc \n\n<ul>\n<li>(Should I use Greek or Latin?)</li>\n</ul></li>\n<li>Use package names or classes to make the names different.</li>\n</ul>\n\n<p>Example for the second way:   </p>\n\n<pre><code> package eu.hanskruse.trackhacks.joepie.functions.tri;\n\n        @FunctionalInterface\n        public interface Func&lt;T1,T2,T3,R&gt;{\n            public R apply(T1 t1,T2 t2,T3 t3);\n        }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package eu.trackhacks.joepie.functions.tessera;\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,T4,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3, T4 t4);\n    }\n</code></pre>\n\n<p>What would be the best approach?</p>\n\n<p>In the above examples I did not include implementations for the andThen() and compose() methods. If you add these you must add 16 overloads each: the TriFunc should have an andthen() with 16 arguments. That would give you a compile error because of circular dependencies. Also you would not have these overloads for Function and BiFunction. Therefore you should also define Func with one argument and Func with two arguments. In .NET circular dependencies would be circumvented by using extension methods which are not present in Java.</p>\n"},{"tags":[],"owner":{"account_id":6786400,"reputation":31,"user_id":5225014,"display_name":"Vance"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543436246,"creation_date":1543436246,"answer_id":53527444,"question_id":18400210,"body_markdown":"I found the source code for BiFunction here:\r\n\r\nhttps://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java\r\n\r\nI modified it to create TriFunction.  Like BiFunction, it uses andThen() and not compose(), so for some applications that require compose(), it may not be appropriate.  It should be fine for normal kinds of objects.  A good article on andThen() and compose() can be found here:\r\n\r\nhttp://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/\r\n\r\n    import java.util.Objects;\r\n    import java.util.function.Function;\r\n    \r\n    /**\r\n     * Represents a function that accepts two arguments and produces a result.\r\n     * This is the three-arity specialization of {@link Function}.\r\n     *\r\n     * &lt;p&gt;This is a &lt;a href=&quot;package-summary.html&quot;&gt;functional interface&lt;/a&gt;\r\n     * whose functional method is {@link #apply(Object, Object)}.\r\n     *\r\n     * @param &lt;S&gt; the type of the first argument to the function\r\n     * @param &lt;T&gt; the type of the second argument to the function\r\n     * @param &lt;U&gt; the type of the third argument to the function\r\n     * @param &lt;R&gt; the type of the result of the function\r\n     *\r\n     * @see Function\r\n     * @since 1.8\r\n     */\r\n    @FunctionalInterface\r\n    public interface TriFunction&lt;S, T, U, R&gt; {\r\n    \r\n        /**\r\n         * Applies this function to the given arguments.\r\n         *\r\n         * @param s the first function argument\r\n         * @param t the second function argument\r\n         * @param u the third function argument\r\n         * @return the function result\r\n         */\r\n        R apply(S s, T t, U u);\r\n    \r\n        /**\r\n         * Returns a composed function that first applies this function to\r\n         * its input, and then applies the {@code after} function to the result.\r\n         * If evaluation of either function throws an exception, it is relayed to\r\n         * the caller of the composed function.\r\n         *\r\n         * @param &lt;V&gt; the type of output of the {@code after} function, and of the\r\n         *           composed function\r\n         * @param after the function to apply after this function is applied\r\n         * @return a composed function that first applies this function and then\r\n         * applies the {@code after} function\r\n         * @throws NullPointerException if after is null\r\n         */\r\n        default &lt;V&gt; TriFunction&lt;S, T, U, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\r\n            Objects.requireNonNull(after);\r\n            return (S s, T t, U u) -&gt; after.apply(apply(s, t, u));\r\n        }\r\n    }","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I found the source code for BiFunction here:</p>\n\n<p><a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java</a></p>\n\n<p>I modified it to create TriFunction.  Like BiFunction, it uses andThen() and not compose(), so for some applications that require compose(), it may not be appropriate.  It should be fine for normal kinds of objects.  A good article on andThen() and compose() can be found here:</p>\n\n<p><a href=\"http://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/\" rel=\"nofollow noreferrer\">http://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/</a></p>\n\n<pre><code>import java.util.Objects;\nimport java.util.function.Function;\n\n/**\n * Represents a function that accepts two arguments and produces a result.\n * This is the three-arity specialization of {@link Function}.\n *\n * &lt;p&gt;This is a &lt;a href=\"package-summary.html\"&gt;functional interface&lt;/a&gt;\n * whose functional method is {@link #apply(Object, Object)}.\n *\n * @param &lt;S&gt; the type of the first argument to the function\n * @param &lt;T&gt; the type of the second argument to the function\n * @param &lt;U&gt; the type of the third argument to the function\n * @param &lt;R&gt; the type of the result of the function\n *\n * @see Function\n * @since 1.8\n */\n@FunctionalInterface\npublic interface TriFunction&lt;S, T, U, R&gt; {\n\n    /**\n     * Applies this function to the given arguments.\n     *\n     * @param s the first function argument\n     * @param t the second function argument\n     * @param u the third function argument\n     * @return the function result\n     */\n    R apply(S s, T t, U u);\n\n    /**\n     * Returns a composed function that first applies this function to\n     * its input, and then applies the {@code after} function to the result.\n     * If evaluation of either function throws an exception, it is relayed to\n     * the caller of the composed function.\n     *\n     * @param &lt;V&gt; the type of output of the {@code after} function, and of the\n     *           composed function\n     * @param after the function to apply after this function is applied\n     * @return a composed function that first applies this function and then\n     * applies the {@code after} function\n     * @throws NullPointerException if after is null\n     */\n    default &lt;V&gt; TriFunction&lt;S, T, U, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\n        Objects.requireNonNull(after);\n        return (S s, T t, U u) -&gt; after.apply(apply(s, t, u));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9698325,"reputation":359,"user_id":7194062,"display_name":"Amol Damodar"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1548055386,"creation_date":1548055386,"answer_id":54285143,"question_id":18400210,"body_markdown":"Alternative is, add the below dependency,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow, you can use Vavr Function, like below upto 8 arguments,\r\n\r\n3 arguments:\r\n\r\n    Function3&lt;Integer, Integer, Integer, Integer&gt; f = \r\n          (a, b, c) -&gt; a + b + c;\r\n\r\n5 arguments:\r\n\r\n    Function5&lt;Integer, Integer, Integer, Integer, Integer, Integer&gt; f = \r\n          (a, b, c, d, e) -&gt; a + b + c + d + e;\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Alternative is, add the below dependency,</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n    &lt;artifactId&gt;vavr&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now, you can use Vavr Function, like below upto 8 arguments,</p>\n\n<p>3 arguments:</p>\n\n<pre><code>Function3&lt;Integer, Integer, Integer, Integer&gt; f = \n      (a, b, c) -&gt; a + b + c;\n</code></pre>\n\n<p>5 arguments:</p>\n\n<pre><code>Function5&lt;Integer, Integer, Integer, Integer, Integer, Integer&gt; f = \n      (a, b, c, d, e) -&gt; a + b + c + d + e;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9592031,"reputation":335,"user_id":7122567,"display_name":"Leandro Maro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558265197,"creation_date":1558265197,"answer_id":56207315,"question_id":18400210,"body_markdown":"You could also create your own function taking the 3 parameters \r\n\r\n    @FunctionalInterface\r\n    public interface MiddleInterface&lt;F,T,V&gt;{\r\n        boolean isBetween(F from, T to, V middleValue);\r\n    }\r\n    \r\n    MiddleInterface&lt;Integer, Integer, Integer&gt; middleInterface = \r\n    (x,y,z) -&gt; x&gt;=y &amp;&amp; y&lt;=z; // true","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You could also create your own function taking the 3 parameters </p>\n\n<pre><code>@FunctionalInterface\npublic interface MiddleInterface&lt;F,T,V&gt;{\n    boolean isBetween(F from, T to, V middleValue);\n}\n\nMiddleInterface&lt;Integer, Integer, Integer&gt; middleInterface = \n(x,y,z) -&gt; x&gt;=y &amp;&amp; y&lt;=z; // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425189,"reputation":321,"user_id":805643,"accept_rate":57,"display_name":"Koushik Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581668385,"creation_date":1581668385,"answer_id":60222449,"question_id":18400210,"body_markdown":"You can&#39;t always stop at TriFunction. Sometimes, you may need to pass n number of parameters to your functions. Then support team will have to create an QuadFunction to fix your code.\r\nLong term solution would be to create an Object with the extra parameters and then use the ready-made Function or BiFunction.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You can't always stop at TriFunction. Sometimes, you may need to pass n number of parameters to your functions. Then support team will have to create an QuadFunction to fix your code.\nLong term solution would be to create an Object with the extra parameters and then use the ready-made Function or BiFunction.</p>\n"},{"tags":[],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613411301,"creation_date":1613411301,"answer_id":66212944,"question_id":18400210,"body_markdown":"Simple `Function&lt;T, R&gt;` can be used in a nested form to emulate a `TriFunction` \r\n\r\nBelow is a simple example - \r\n\r\n```\r\n       final Function&lt;Integer, Function&lt;Integer, Function&lt;Integer, Double&gt;&gt;&gt; function = num1 -&gt; {\r\n            System.out.println(&quot;Taking first parameter&quot;);\r\n            return num2 -&gt; {\r\n                System.out.println(&quot;Taking second parameter&quot;);\r\n                return num3 -&gt; {\r\n                    System.out.println(&quot;Taking third parameter&quot;);\r\n                    return (double)(num1 + num2 + num3);\r\n                };\r\n            };\r\n        };\r\n\r\n        final Double result = function.apply(2).apply(3).apply(4);\r\n\r\n        System.out.println(&quot;Result -&gt; &quot; + result);\r\n```\r\n\r\nOUTPUT - \r\n\r\n```\r\nTaking first parameter\r\nTaking second parameter\r\nTaking third parameter\r\nResult -&gt; 9.0\r\n```\r\n\r\nThis logic can be extended to make a function take any desired number of parameters.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Simple <code>Function&lt;T, R&gt;</code> can be used in a nested form to emulate a <code>TriFunction</code></p>\n<p>Below is a simple example -</p>\n<pre><code>       final Function&lt;Integer, Function&lt;Integer, Function&lt;Integer, Double&gt;&gt;&gt; function = num1 -&gt; {\n            System.out.println(&quot;Taking first parameter&quot;);\n            return num2 -&gt; {\n                System.out.println(&quot;Taking second parameter&quot;);\n                return num3 -&gt; {\n                    System.out.println(&quot;Taking third parameter&quot;);\n                    return (double)(num1 + num2 + num3);\n                };\n            };\n        };\n\n        final Double result = function.apply(2).apply(3).apply(4);\n\n        System.out.println(&quot;Result -&gt; &quot; + result);\n</code></pre>\n<p>OUTPUT -</p>\n<pre><code>Taking first parameter\nTaking second parameter\nTaking third parameter\nResult -&gt; 9.0\n</code></pre>\n<p>This logic can be extended to make a function take any desired number of parameters.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614730688,"creation_date":1614730688,"answer_id":66448961,"question_id":18400210,"body_markdown":"The [selected answer](https://stackoverflow.com/a/21798000/20654) is the most helpful, although I find the explanation a bit convoluted. \r\n\r\nTo simplify, let&#39;s say you want a function that adds two strings\r\n\r\n\r\nThe method\r\n\r\n    String add(String s, String t) {\r\n        return s + t;\r\n    }\r\n\r\n\r\nWould have a function like this with the same behavior:\r\n\r\n    Function&lt;String,Function&lt;String,String&gt;&gt; add = s -&gt; t -&gt; s + t;\r\n\r\nAnd to call it: \r\n\r\n    var result = add.apply(&quot;hello&quot;).apply(&quot; world&quot;);\r\n\r\nWhether or not this is idiomatic Java that&#39;s a different topic. ","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>The <a href=\"https://stackoverflow.com/a/21798000/20654\">selected answer</a> is the most helpful, although I find the explanation a bit convoluted.</p>\n<p>To simplify, let's say you want a function that adds two strings</p>\n<p>The method</p>\n<pre><code>String add(String s, String t) {\n    return s + t;\n}\n</code></pre>\n<p>Would have a function like this with the same behavior:</p>\n<pre><code>Function&lt;String,Function&lt;String,String&gt;&gt; add = s -&gt; t -&gt; s + t;\n</code></pre>\n<p>And to call it:</p>\n<pre><code>var result = add.apply(&quot;hello&quot;).apply(&quot; world&quot;);\n</code></pre>\n<p>Whether or not this is idiomatic Java that's a different topic.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627544452,"creation_date":1627544452,"answer_id":68571984,"question_id":18400210,"body_markdown":"There are ready to use Consumer3..Consumer8, Function3..Function8, Predicate3..Predicate8 in [`reactor.function`][1] package of [Reactor][2] Addons library that is bundled with Spring Framework.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/extra/snapshot/api/reactor/function/package-summary.html\r\n  [2]: https://projectreactor.io/","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>There are ready to use Consumer3..Consumer8, Function3..Function8, Predicate3..Predicate8 in <a href=\"https://projectreactor.io/docs/extra/snapshot/api/reactor/function/package-summary.html\" rel=\"nofollow noreferrer\"><code>reactor.function</code></a> package of <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">Reactor</a> Addons library that is bundled with Spring Framework.</p>\n"},{"tags":[],"owner":{"account_id":5391172,"reputation":300,"user_id":4293638,"display_name":"Kyle Zimmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033440,"creation_date":1666033440,"answer_id":74102005,"question_id":18400210,"body_markdown":"I think the most straightforward way to handle this is to simply make a class which defines all of the arguments you want to handle, and use a simple Function or Consumer. Is there a real reason you would want TriFunction instead of for example:\r\n\r\n``` java\r\npublic class MyDataObject {\r\n  public String arg0;\r\n  public int arg1;\r\n  public Date argWhatever;\r\n}\r\n\r\n//...\r\n\r\nFunction&lt;Integer, MyDataObject&gt; fn = (data) -&gt; {\r\n  // do stuff with data.arg0, data.arg1, etc\r\n  return 0; // or whatever \r\n};\r\n```\r\n\r\nImho this is the cleaner way to do it anyway if its getting more complicated than two arguments.\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I think the most straightforward way to handle this is to simply make a class which defines all of the arguments you want to handle, and use a simple Function or Consumer. Is there a real reason you would want TriFunction instead of for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDataObject {\n  public String arg0;\n  public int arg1;\n  public Date argWhatever;\n}\n\n//...\n\nFunction&lt;Integer, MyDataObject&gt; fn = (data) -&gt; {\n  // do stuff with data.arg0, data.arg1, etc\n  return 0; // or whatever \n};\n</code></pre>\n<p>Imho this is the cleaner way to do it anyway if its getting more complicated than two arguments.</p>\n"},{"tags":[],"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673195217,"creation_date":1673195217,"answer_id":75049448,"question_id":18400210,"body_markdown":"Use commons lang3 with\r\n\r\n```\r\norg.apache.commons.lang3.function.TriFunction\r\n```","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Use commons lang3 with</p>\n<pre><code>org.apache.commons.lang3.function.TriFunction\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4573201,"reputation":122,"user_id":3712363,"display_name":"fedeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682523592,"creation_date":1682523592,"answer_id":76112665,"question_id":18400210,"body_markdown":"You can accomplish *a* solution with [currying][1]. However it tends to be messy in Java: `Function&lt;Function&lt;Function&lt;Function&lt;...`\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Currying","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You can accomplish <em>a</em> solution with <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">currying</a>. However it tends to be messy in Java: <code>Function&lt;Function&lt;Function&lt;Function&lt;...</code></p>\n"},{"tags":[],"owner":{"account_id":344393,"reputation":173,"user_id":676678,"display_name":"mambolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688555254,"creation_date":1688555254,"answer_id":76619732,"question_id":18400210,"body_markdown":"You could use TriFunction from commons-lang \r\n\r\n(example from https://www.baeldung.com/java-trifunction)\r\n\r\n    TriFunction&lt;Integer, Integer, Integer, Integer&gt; multiplyThenAdd = (x, y, z) -&gt; x * y + z;\r\n\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You could use TriFunction from commons-lang</p>\n<p>(example from <a href=\"https://www.baeldung.com/java-trifunction\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-trifunction</a>)</p>\n<pre><code>TriFunction&lt;Integer, Integer, Integer, Integer&gt; multiplyThenAdd = (x, y, z) -&gt; x * y + z;\n</code></pre>\n"}],"owner":{"account_id":49105,"reputation":1915,"user_id":146060,"display_name":"Richard Finegan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135552,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":21798000,"answer_count":14,"score":173,"last_activity_date":1688555254,"creation_date":1377252699,"question_id":18400210,"body_markdown":"I see java.util.function.BiFunction, so I can do this:\r\n\r\n    BiFunction&lt;Integer, Integer, Integer&gt; f = (x, y) -&gt; { return 0; };\r\n\r\nWhat if that is not good enough and I need TriFunction?  It doesn&#39;t exist!\r\n\r\n    TriFunction&lt;Integer, Integer, Integer, Integer&gt; f = (x, y, z) -&gt; { return 0; };\r\n\r\nI guess I should add that I know I can define my own TriFunction, I&#39;m just trying to understand the rationale behind not including it in the standard library.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I see java.util.function.BiFunction, so I can do this:</p>\n\n<pre><code>BiFunction&lt;Integer, Integer, Integer&gt; f = (x, y) -&gt; { return 0; };\n</code></pre>\n\n<p>What if that is not good enough and I need TriFunction?  It doesn't exist!</p>\n\n<pre><code>TriFunction&lt;Integer, Integer, Integer, Integer&gt; f = (x, y, z) -&gt; { return 0; };\n</code></pre>\n\n<p>I guess I should add that I know I can define my own TriFunction, I'm just trying to understand the rationale behind not including it in the standard library.</p>\n"},{"tags":["java","zip","gzip","zlib"],"comments":[{"owner":{"account_id":2534383,"reputation":748,"user_id":2201900,"accept_rate":42,"display_name":"Markus Kreth"},"score":0,"creation_date":1364288927,"post_id":15632979,"comment_id":22178588,"body_markdown":"Just found this, might be helfful: http://www.jcraft.com/jzlib/","body":"Just found this, might be helfful: <a href=\"http://www.jcraft.com/jzlib/\" rel=\"nofollow noreferrer\">jcraft.com/jzlib</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1364289485,"post_id":15632979,"comment_id":22178834,"body_markdown":"Have you validated that you&#39;re getting the correct data out at the client side? Is your `packedBuffer` the right size, for example?","body":"Have you validated that you&#39;re getting the correct data out at the client side? Is your <code>packedBuffer</code> the right size, for example?"},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364294880,"post_id":15632979,"comment_id":22181786,"body_markdown":"@Jon Skeet Slightly as that is the legacy code of one big system and for start I just wanted to know if I can unpack something compressed with zlib using compress2, with the java code I posted above, so I can move on with investigation of where is the problem.","body":"@Jon Skeet Slightly as that is the legacy code of one big system and for start I just wanted to know if I can unpack something compressed with zlib using compress2, with the java code I posted above, so I can move on with investigation of where is the problem."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1364294939,"post_id":15632979,"comment_id":22181821,"body_markdown":"@passenger: But my point is that you shouldn&#39;t be trying to diagnose this just from one side. You should look at the results of `compress2()`, checking the length and the data itself against what you receive in the Java code. If you&#39;re receiving the wrong data, you&#39;ve got no hope of receiving it properly.","body":"@passenger: But my point is that you shouldn&#39;t be trying to diagnose this just from one side. You should look at the results of <code>compress2()</code>, checking the length and the data itself against what you receive in the Java code. If you&#39;re receiving the wrong data, you&#39;ve got no hope of receiving it properly."},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364295353,"post_id":15632979,"comment_id":22182058,"body_markdown":"@Jon Skeet Thanks for your effort. Yes, I do know that, and that&#39;s my next step, but as this is the most easily checked and I didn&#39;t have so much experience with this in Java, I just wanted to check first if _correctly_ compressed  block with compress2 on one side can be decompressed with Java function pasted above?","body":"@Jon Skeet Thanks for your effort. Yes, I do know that, and that&#39;s my next step, but as this is the most easily checked and I didn&#39;t have so much experience with this in Java, I just wanted to check first if <i>correctly</i> compressed  block with compress2 on one side can be decompressed with Java function pasted above?"},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364296125,"post_id":15632979,"comment_id":22182497,"body_markdown":"@JonSkeet Checked, packedBuffer is the of correct size.","body":"@JonSkeet Checked, packedBuffer is the of correct size."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364291505,"creation_date":1364291505,"answer_id":15633956,"question_id":15632979,"body_markdown":"I think the problem is not with unpack method but in packedBuffer content. Unpack works fine\r\n\r\n    public static byte[] pack(String s) throws IOException {\r\n    \tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \tDeflaterOutputStream dout = new DeflaterOutputStream(out);\r\n    \tdout.write(s.getBytes());\r\n    \tdout.close();\r\n    \treturn out.toByteArray();\r\n    }\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    \tbyte[] a = pack(&quot;123&quot;);\r\n    \tString s = unpack(a);   // calls your unpack\r\n    \tSystem.out.println(s);\r\n    }\r\noutput\r\n\r\n    123\r\n\r\n","title":"Java decompressing array of bytes","body":"<p>I think the problem is not with unpack method but in packedBuffer content. Unpack works fine</p>\n\n<pre><code>public static byte[] pack(String s) throws IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    DeflaterOutputStream dout = new DeflaterOutputStream(out);\n    dout.write(s.getBytes());\n    dout.close();\n    return out.toByteArray();\n}\n\npublic static void main(String[] args) throws Exception {\n    byte[] a = pack(\"123\");\n    String s = unpack(a);   // calls your unpack\n    System.out.println(s);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664972348,"creation_date":1664972348,"answer_id":73960241,"question_id":15632979,"body_markdown":"    public static String unpack(byte[] packedBuffer) {\r\n        try (GZipInputStream inStream = new GZipInputStream(\r\n                    new ByteArrayInputStream(packedBuffer));\r\n                ByteArrayOutputStream outStream = new ByteArrayOutputStream()) {\r\n            inStream.transferTo(outStream);\r\n            //...\r\n            return outStream.toString(StandardCharsets.UTF_8);\r\n        } catch(Exception e) {\r\n            JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\r\n            e.printStackTrace();\r\n            throw new IllegalArgumentException(e);\r\n        }\r\n    }\r\n\r\nZLib is the zip format, hence a GZipInputStream is fine.\r\nA you seem to expect the bytes to represent text, hence be in some encoding, add that encoding, Charset, to the conversion to String (which always holds Unicode).\r\nNote, UTF-8 is the encoding of the bytes. In your case it might be an other encoding.\r\n\r\nThe ugly try-with-resources syntax closes the streams even on exception or here the return.\r\n\r\nI rethrowed a RuntimeException as it seems dangerous to do something with no result.\r\n","title":"Java decompressing array of bytes","body":"<pre><code>public static String unpack(byte[] packedBuffer) {\n    try (GZipInputStream inStream = new GZipInputStream(\n                new ByteArrayInputStream(packedBuffer));\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream()) {\n        inStream.transferTo(outStream);\n        //...\n        return outStream.toString(StandardCharsets.UTF_8);\n    } catch(Exception e) {\n        JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\n        e.printStackTrace();\n        throw new IllegalArgumentException(e);\n    }\n}\n</code></pre>\n<p>ZLib is the zip format, hence a GZipInputStream is fine.\nA you seem to expect the bytes to represent text, hence be in some encoding, add that encoding, Charset, to the conversion to String (which always holds Unicode).\nNote, UTF-8 is the encoding of the bytes. In your case it might be an other encoding.</p>\n<p>The ugly try-with-resources syntax closes the streams even on exception or here the return.</p>\n<p>I rethrowed a RuntimeException as it seems dangerous to do something with no result.</p>\n"}],"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688554980,"creation_date":1364288505,"question_id":15632979,"body_markdown":"On server (C++), binary data is compressed using `ZLib` function:\r\n\r\n    compress2()\r\n\r\nand it&#39;s sent over to client (Java).\r\nOn client side (Java), data should be decompressed using the following code snippet:\r\n\r\n    public static String unpack(byte[] packedBuffer) {\r\n        InflaterInputStream inStream = new InflaterInputStream(new ByteArrayInputStream( packedBuffer);\r\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n        int readByte;\r\n        try {\r\n            while((readByte = inStream.read()) != -1) {\r\n                outStream.write(readByte);\r\n            }\r\n        } catch(Exception e) {\r\n            JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\r\n            e.printStackTrace();\r\n        // ... the rest of the code follows\r\n    }\r\nProblem is that when it tries to read in while loop it always throws:\r\n   \r\n\r\n&gt;  java.util.zip.ZipException: invalid stored block lengths\r\n\r\nBefore I check for other possible causes can someone please tell me can I compress on one side with compress2 and decompress it on the other side using above code, so I can eliminate this as a problem? Also if someone has a possible clue about what might be wrong here (I know I didn&#39;t provide too much of of the code in here but projects are rather big.\r\n\r\nThanks.","title":"Java decompressing array of bytes","body":"<p>On server (C++), binary data is compressed using <code>ZLib</code> function:</p>\n\n<pre><code>compress2()\n</code></pre>\n\n<p>and it's sent over to client (Java).\nOn client side (Java), data should be decompressed using the following code snippet:</p>\n\n<pre><code>public static String unpack(byte[] packedBuffer) {\n    InflaterInputStream inStream = new InflaterInputStream(new ByteArrayInputStream( packedBuffer);\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n    int readByte;\n    try {\n        while((readByte = inStream.read()) != -1) {\n            outStream.write(readByte);\n        }\n    } catch(Exception e) {\n        JMDCLog.logError(\" unpacking buffer of size: \" + packedBuffer.length);\n        e.printStackTrace();\n    // ... the rest of the code follows\n}\n</code></pre>\n\n<p>Problem is that when it tries to read in while loop it always throws:</p>\n\n<blockquote>\n  <p>java.util.zip.ZipException: invalid stored block lengths</p>\n</blockquote>\n\n<p>Before I check for other possible causes can someone please tell me can I compress on one side with compress2 and decompress it on the other side using above code, so I can eliminate this as a problem? Also if someone has a possible clue about what might be wrong here (I know I didn't provide too much of of the code in here but projects are rather big.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589566987,"creation_date":1589566987,"answer_id":61825938,"question_id":61823851,"body_markdown":"For security reasons this functionality is not available on Android since Android version 6.0[ \\[source\\]][1]:-\r\n\r\n&gt; To provide users with greater data protection, starting in this\r\n&gt; release, Android removes programmatic access to the device’s local\r\n&gt; hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The\r\n&gt; WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods\r\n&gt; now return a constant value of 02:00:00:00:00:00.\r\n\r\nThe reason for this is to stop random applications gaining information about the phone&#39;s hardware addresses therefore violating the privacy/data protection.\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>For security reasons this functionality is not available on Android since Android version 6.0<a href=\"https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id\" rel=\"noreferrer\"> [source]</a>:-</p>\n\n<blockquote>\n  <p>To provide users with greater data protection, starting in this\n  release, Android removes programmatic access to the device’s local\n  hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The\n  WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods\n  now return a constant value of 02:00:00:00:00:00.</p>\n</blockquote>\n\n<p>The reason for this is to stop random applications gaining information about the phone's hardware addresses therefore violating the privacy/data protection.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655888642,"creation_date":1590059434,"answer_id":61933165,"question_id":61823851,"body_markdown":"What [Youssif Saeed][1] said in the other answer was correct. Android won&#39;t let us get the MAC address anymore.\r\n\r\nBrief description about what I want: \r\n\r\nLet&#39;s say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using BluetoothDevice and getAddress() method from ScanResult.getDevice(). So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who&#39;s nearby me\r\n\r\nHere&#39;s the workaround I&#39;ve done in order to send some data between near devices.\r\n\r\nI found something called [Nearby Messages API][2]. It is available for Android and iOS and very easy to implement. Now I&#39;m able to catch near devices with my application installed on them, and send a unique Id generated by the application to identify the user.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2215147/youssif-saeed\r\n  [2]: https://developers.google.com/nearby/messages/overview","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>What <a href=\"https://stackoverflow.com/users/2215147/youssif-saeed\">Youssif Saeed</a> said in the other answer was correct. Android won't let us get the MAC address anymore.</p>\n<p>Brief description about what I want:</p>\n<p>Let's say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using BluetoothDevice and getAddress() method from ScanResult.getDevice(). So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who's nearby me</p>\n<p>Here's the workaround I've done in order to send some data between near devices.</p>\n<p>I found something called <a href=\"https://developers.google.com/nearby/messages/overview\" rel=\"nofollow noreferrer\">Nearby Messages API</a>. It is available for Android and iOS and very easy to implement. Now I'm able to catch near devices with my application installed on them, and send a unique Id generated by the application to identify the user.</p>\n"},{"tags":[],"owner":{"account_id":4009697,"reputation":34,"user_id":3303464,"display_name":"IET_DEMO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683550708,"creation_date":1683550708,"answer_id":76200841,"question_id":61823851,"body_markdown":"I found a solution on my device for bluetooth and wifi mac.\r\nSome properties are not hidden .\r\nIf you run getprop on an unrooted shell inside your application, you might find these properties which are read only:\r\n\r\npersist.odm.wifimac: [xx:xx:xx:xx:xx:xx]\r\n\r\npersist.odm.bt.address: [xx:xx:xx:xx:xx:xx]\r\n\r\nFor my application, i run this command to get the bluetooth mac and then i read the content back from the datainputstream to get the mac adress.\r\n\r\ngetprop persist.odm.bt.address\r\n","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>I found a solution on my device for bluetooth and wifi mac.\nSome properties are not hidden .\nIf you run getprop on an unrooted shell inside your application, you might find these properties which are read only:</p>\n<p>persist.odm.wifimac: [xx:xx:xx:xx:xx:xx]</p>\n<p>persist.odm.bt.address: [xx:xx:xx:xx:xx:xx]</p>\n<p>For my application, i run this command to get the bluetooth mac and then i read the content back from the datainputstream to get the mac adress.</p>\n<p>getprop persist.odm.bt.address</p>\n"}],"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12772,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":61933165,"answer_count":3,"score":7,"last_activity_date":1688554962,"creation_date":1589559464,"question_id":61823851,"body_markdown":"I&#39;m trying to get the MAC address of bluetooth in my android device. So I&#39;m using the following method:\r\n\r\n    BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    String macAddress = mBluetoothAdapter.getAddress();\r\n\r\nThe address returned is `02:00:00:00:00:00`. I&#39;ve seen questions and posts saying that it&#39;s not possible anymore to get your MAC address in android unless your application is a **System Application**.\r\n\r\nSo what if I really need to get the MAC address of my phone?? It&#39;s impossible to do it or what?\r\n\r\n**Note:** I know this question is asked lots of times on SO, but most of the answers are out of date.\r\n\r\n\r\n ","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>I'm trying to get the MAC address of bluetooth in my android device. So I'm using the following method:</p>\n\n<pre><code>BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\nString macAddress = mBluetoothAdapter.getAddress();\n</code></pre>\n\n<p>The address returned is <code>02:00:00:00:00:00</code>. I've seen questions and posts saying that it's not possible anymore to get your MAC address in android unless your application is a <strong>System Application</strong>.</p>\n\n<p>So what if I really need to get the MAC address of my phone?? It's impossible to do it or what?</p>\n\n<p><strong>Note:</strong> I know this question is asked lots of times on SO, but most of the answers are out of date.</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1427050867,"post_id":29197543,"comment_id":46609534,"body_markdown":"`&quot;Test$1Decision&quot;` &lt;-- looks like you haven&#39;t specified the package name. You should check the return values from all the JNI functions. For example, `FindClass` will return `NULL` if the class can&#39;t be found.","body":"<code>&quot;Test$1Decision&quot;</code> &lt;-- looks like you haven&#39;t specified the package name. You should check the return values from all the JNI functions. For example, <code>FindClass</code> will return <code>NULL</code> if the class can&#39;t be found."},{"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"score":0,"creation_date":1427052689,"post_id":29197543,"comment_id":46610157,"body_markdown":"FindClass is not returning null and the fieldID is being retrieved. The problem is in the GetObjectField part","body":"FindClass is not returning null and the fieldID is being retrieved. The problem is in the GetObjectField part"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1427053033,"post_id":29197543,"comment_id":46610269,"body_markdown":"Well, why are you using `GetObjectField` rather than `GetBooleanField`?","body":"Well, why are you using <code>GetObjectField</code> rather than <code>GetBooleanField</code>?"},{"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"score":0,"creation_date":1427054724,"post_id":29197543,"comment_id":46610810,"body_markdown":"I tried with GetBooleanField but it still crashes","body":"I tried with GetBooleanField but it still crashes"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1427055076,"post_id":29197543,"comment_id":46610942,"body_markdown":"Crashes how? What exactly does the stack trace look like?","body":"Crashes how? What exactly does the stack trace look like?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1427059743,"post_id":29197543,"comment_id":46612400,"body_markdown":"Please post the correct code using GetBooleanField() and the crash.","body":"Please post the correct code using GetBooleanField() and the crash."},{"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"score":0,"creation_date":1427103016,"post_id":29197543,"comment_id":46624185,"body_markdown":"The java code you posted is wrong, it doesn&#39;t have any help.","body":"The java code you posted is wrong, it doesn&#39;t have any help."},{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":0,"creation_date":1427111030,"post_id":29197543,"comment_id":46628561,"body_markdown":"If you call the right method (GetBooleanField as others have pointed out) and you&#39;re sure you have the correct field id it must be the obj that&#39;s the problem. Where do you get that from?","body":"If you call the right method (GetBooleanField as others have pointed out) and you&#39;re sure you have the correct field id it must be the obj that&#39;s the problem. Where do you get that from?"}],"answers":[{"tags":[],"owner":{"account_id":8707619,"reputation":219,"user_id":6515005,"display_name":"rafal1137"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688554771,"creation_date":1688554771,"answer_id":76619673,"question_id":29197543,"body_markdown":"I suggest you to take a look at my code\r\n\r\n    cjv.f_id      = (*cjv.env)-&gt;GetStaticFieldID(cjv.env, cjv.clazz, &quot;UiMenu&quot;, &quot;Z&quot;);\r\n    cjv.f_boolean = (*cjv.env)-&gt;GetStaticBooleanField(cjv.env, cjv.clazz, cjv.f_id);\r\n\r\nIn my case I need it to be static but you should get an idea instead of obj you should try with boolean field.","title":"Finding value of instance variable in JNI","body":"<p>I suggest you to take a look at my code</p>\n<pre><code>cjv.f_id      = (*cjv.env)-&gt;GetStaticFieldID(cjv.env, cjv.clazz, &quot;UiMenu&quot;, &quot;Z&quot;);\ncjv.f_boolean = (*cjv.env)-&gt;GetStaticBooleanField(cjv.env, cjv.clazz, cjv.f_id);\n</code></pre>\n<p>In my case I need it to be static but you should get an idea instead of obj you should try with boolean field.</p>\n"}],"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688554771,"creation_date":1427045462,"question_id":29197543,"body_markdown":"The following code shows the structure of my method which is located in the &#39;Test&#39; class and I need to access the value of my Boolean variable &#39;test_var&#39;.  \r\n\r\n    public Decision declare(){\r\n     class Decide extends Decision{\r\n           public boolean test_var = false;\r\n\r\n     }\r\n    \r\n     final Decide  d = new Decide();\r\n\r\n     d.Add(new Rule(&quot;decision&quot;)){\r\n      public void take(){\r\n        d.test_var = true;\r\n        }\r\n\r\n      });\r\n      return d;\r\n    }\r\n\r\nI tried the following in JNI but the android application crashes when trying to find the boolean value through the GetObjectField.\r\n\r\n        jclass decision_class = (*env)-&gt;FindClass(env, &quot;Test$1Decision&quot;);\r\n\r\n\tjfieldID varID = (*env)-&gt;GetFieldID(env, decision_class, &quot;test_var&quot;, &quot;Z&quot;);\r\n\r\n\tif(NULL == varID) log(&quot;varID not found\\n&quot;)\r\n\r\n\telse log(&quot;varID was found!!!\\n&quot;)\r\n\r\n\t//jboolean result = (*env)-&gt;GetBooleanField(env, obj, varID);\r\n\tjboolean result = (*env)-&gt;GetObjectField(env, obj, varID);\r\n\r\n\tlog(&quot;In C the boolean value is:&quot;, result)\r\n\r\nAm I accessing the field in the wrong way? Any suggestions are much appreciated. Thanks in advance. ","title":"Finding value of instance variable in JNI","body":"<p>The following code shows the structure of my method which is located in the 'Test' class and I need to access the value of my Boolean variable 'test_var'.  </p>\n\n<pre><code>public Decision declare(){\n class Decide extends Decision{\n       public boolean test_var = false;\n\n }\n\n final Decide  d = new Decide();\n\n d.Add(new Rule(\"decision\")){\n  public void take(){\n    d.test_var = true;\n    }\n\n  });\n  return d;\n}\n</code></pre>\n\n<p>I tried the following in JNI but the android application crashes when trying to find the boolean value through the GetObjectField.</p>\n\n<pre><code>    jclass decision_class = (*env)-&gt;FindClass(env, \"Test$1Decision\");\n\njfieldID varID = (*env)-&gt;GetFieldID(env, decision_class, \"test_var\", \"Z\");\n\nif(NULL == varID) log(\"varID not found\\n\")\n\nelse log(\"varID was found!!!\\n\")\n\n//jboolean result = (*env)-&gt;GetBooleanField(env, obj, varID);\njboolean result = (*env)-&gt;GetObjectField(env, obj, varID);\n\nlog(\"In C the boolean value is:\", result)\n</code></pre>\n\n<p>Am I accessing the field in the wrong way? Any suggestions are much appreciated. Thanks in advance. </p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":22865693,"reputation":29,"user_id":17009196,"display_name":"gold-three"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688554455,"creation_date":1688434426,"answer_id":76608925,"question_id":76604459,"body_markdown":"Omg, I forgot to override the interface `UserDetails` inner method: `isEnabled()`, Hahahah. Spent two hours finding this bug.\r\n\r\n```java\r\n/**\r\n * Indicates whether the user is enabled or disabled. A disabled user cannot be\r\n * authenticated.\r\n * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\r\n */\r\nboolean isEnabled();\r\n```\r\n","title":"Spring Security login failed","body":"<p>Omg, I forgot to override the interface <code>UserDetails</code> inner method: <code>isEnabled()</code>, Hahahah. Spent two hours finding this bug.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Indicates whether the user is enabled or disabled. A disabled user cannot be\n * authenticated.\n * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\n */\nboolean isEnabled();\n</code></pre>\n"}],"owner":{"account_id":22865693,"reputation":29,"user_id":17009196,"display_name":"gold-three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688554455,"creation_date":1688384997,"question_id":76604459,"body_markdown":"Use customized datasource and Spring Security password encoder, but login failed.  \r\nSpring Boot version 2.7.0  \r\nI first register a user named &quot;132456&quot;, passsword &quot;123456&quot;, then login, but failed;  \r\nThen I create a test class: print true\r\n\r\n``` java\r\n    @Test\r\n    public void selectTest() {\r\n        UserDetails userDetails = userInfoService.loadUserByUsername(&quot;123456&quot;);\r\n        System.out.println(userDetails);\r\n        boolean matches = passwordEncoder.matches(&quot;123456&quot;, userDetails.getPassword());\r\n        System.out.println(matches);\r\n    }\r\n```\r\n\r\n**Spring Security config**\r\n``` java\r\n@EnableWebSecurity\r\n@Configuration\r\n@Slf4j\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    UserInfoService userInfoService;\r\n\r\n    @Autowired\r\n    Gson gson;\r\n\r\n    @Autowired\r\n    JwtTokenFilter jwtTokenFilter;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        .... login url has pass\r\n        http.formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\r\n                .successHandler((request, response, authentication) -&gt; {\r\n                    this.sendMessage(response, authentication);\r\n                })\r\n                .failureHandler((request, response, exception) -&gt;\r\n                        jwtTokenFilter.sendError(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;username or password error&quot;));\r\n        http.logout().invalidateHttpSession(true).clearAuthentication(false);\r\n        http.rememberMe().disable();\r\n        http.csrf().disable();\r\n        return http.build();\r\n    }\r\n    \r\n    @Bean\r\n    DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userInfoService);\r\n        authProvider.setPasswordEncoder(passwordEncoder);\r\n        return authProvider;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**userServiceImpl**\r\n\r\n``` java \r\n// use mybatisplus framework\r\n@Service\r\npublic class UserInfoServiceImpl extends ServiceImpl&lt;UserInfoMapper, UserInfo&gt; implements UserInfoService {\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        LambdaQueryWrapper&lt;UserInfo&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();\r\n        queryWrapper.eq(UserInfo::getUsername, username);\r\n        return getOne(queryWrapper);\r\n    }\r\n\r\n    @Override\r\n    public boolean create(UserInfoDTO userInfoDTO) {\r\n        userInfoDTO.setPassword(passwordEncoder.encode(userInfoDTO.getPassword()));\r\n        return save(BeanUtil.copyProperties(userInfoDTO, UserInfo.class));\r\n    }\r\n}\r\n```\r\n\r\nlogin success, then return token.","title":"Spring Security login failed","body":"<p>Use customized datasource and Spring Security password encoder, but login failed.<br />\nSpring Boot version 2.7.0<br />\nI first register a user named &quot;132456&quot;, passsword &quot;123456&quot;, then login, but failed;<br />\nThen I create a test class: print true</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void selectTest() {\n        UserDetails userDetails = userInfoService.loadUserByUsername(&quot;123456&quot;);\n        System.out.println(userDetails);\n        boolean matches = passwordEncoder.matches(&quot;123456&quot;, userDetails.getPassword());\n        System.out.println(matches);\n    }\n</code></pre>\n<p><strong>Spring Security config</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\n@Slf4j\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration {\n\n    @Autowired\n    UserInfoService userInfoService;\n\n    @Autowired\n    Gson gson;\n\n    @Autowired\n    JwtTokenFilter jwtTokenFilter;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        .... login url has pass\n        http.formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\n                .successHandler((request, response, authentication) -&gt; {\n                    this.sendMessage(response, authentication);\n                })\n                .failureHandler((request, response, exception) -&gt;\n                        jwtTokenFilter.sendError(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;username or password error&quot;));\n        http.logout().invalidateHttpSession(true).clearAuthentication(false);\n        http.rememberMe().disable();\n        http.csrf().disable();\n        return http.build();\n    }\n    \n    @Bean\n    DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userInfoService);\n        authProvider.setPasswordEncoder(passwordEncoder);\n        return authProvider;\n    }\n\n}\n</code></pre>\n<p><strong>userServiceImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// use mybatisplus framework\n@Service\npublic class UserInfoServiceImpl extends ServiceImpl&lt;UserInfoMapper, UserInfo&gt; implements UserInfoService {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        LambdaQueryWrapper&lt;UserInfo&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();\n        queryWrapper.eq(UserInfo::getUsername, username);\n        return getOne(queryWrapper);\n    }\n\n    @Override\n    public boolean create(UserInfoDTO userInfoDTO) {\n        userInfoDTO.setPassword(passwordEncoder.encode(userInfoDTO.getPassword()));\n        return save(BeanUtil.copyProperties(userInfoDTO, UserInfo.class));\n    }\n}\n</code></pre>\n<p>login success, then return token.</p>\n"},{"tags":["java","java-8","x509certificate","java-security"],"owner":{"account_id":15691378,"reputation":97,"user_id":11322355,"display_name":"recvfrom_ro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554369,"creation_date":1688554369,"question_id":76619621,"body_markdown":"**A brief introduction:**\r\n\r\nGot a strange problem with **java.security.cert.CertificateFactory.generateCertificates** when loading data for detached signature with old java8 jdk. \r\n\r\nLuckily we observed the problem only on the old openjdk8 versions, and no problems on more recent updates. \r\n\r\nThe error is &quot;Unable to initialize, java.io.IOException: Short read of DER length&quot; but it does not matter, cause we know that the data is ok and more recent openjdk8 versions have no problems loading certificate data.\r\n\r\nBinary search experiment with versions from https://wiki.openjdk.org/display/jdk8u/Main\r\nlead us that problem dissapears between 1.8.0_312(still does not work) and 1.8.0_322(loads ok)\r\n\r\n**And the question is:**\r\n\r\nReading release notes for openjdk8 322 here https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html does not give a clear answer.\r\n\r\nMay be the fix is in &quot;JDK-8268488: More valuable DerValues&quot;\r\n\r\nBut we can&#39;t find what are the details, and details link https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt does not have anything about JDK-8268488\r\n\r\nCan someone share some light or give a hint how to find details about JDK-8268488?\r\n\r\n**PS** For testing purpose to isolate from any libraries on the system we do a check with simple code \r\n\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Collection;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.Path;\r\n\r\n\r\npublic class Main {\r\n    public static void main (String[] args) throws Exception{\r\n\r\n      if( args.length != 1) {\r\n        System.err.println(&quot;Must pass file argument&quot;);\r\n        return;\r\n      }\r\n\r\n      final Path path = Paths.get(args[0]);\r\n\r\n      final byte[] data = Files.readAllBytes(path);\r\n\r\n      final CertificateFactory  cf = CertificateFactory.getInstance(&quot;X509&quot;);\r\n      Collection&lt;? extends Certificate&gt; certs = cf.generateCertificates(new ByteArrayInputStream(data));\r\n      System.out.println(&quot;certs: &quot; + certs);\r\n\r\n    }\r\n}\r\n","title":"Searching for details about JDK-8268488 in openjdk8 322 release","body":"<p><strong>A brief introduction:</strong></p>\n<p>Got a strange problem with <strong>java.security.cert.CertificateFactory.generateCertificates</strong> when loading data for detached signature with old java8 jdk.</p>\n<p>Luckily we observed the problem only on the old openjdk8 versions, and no problems on more recent updates.</p>\n<p>The error is &quot;Unable to initialize, java.io.IOException: Short read of DER length&quot; but it does not matter, cause we know that the data is ok and more recent openjdk8 versions have no problems loading certificate data.</p>\n<p>Binary search experiment with versions from <a href=\"https://wiki.openjdk.org/display/jdk8u/Main\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/jdk8u/Main</a>\nlead us that problem dissapears between 1.8.0_312(still does not work) and 1.8.0_322(loads ok)</p>\n<p><strong>And the question is:</strong></p>\n<p>Reading release notes for openjdk8 322 here <a href=\"https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html</a> does not give a clear answer.</p>\n<p>May be the fix is in &quot;JDK-8268488: More valuable DerValues&quot;</p>\n<p>But we can't find what are the details, and details link <a href=\"https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt\" rel=\"nofollow noreferrer\">https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt</a> does not have anything about JDK-8268488</p>\n<p>Can someone share some light or give a hint how to find details about JDK-8268488?</p>\n<p><strong>PS</strong> For testing purpose to isolate from any libraries on the system we do a check with simple code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\nimport java.io.ByteArrayInputStream;\nimport java.util.Collection;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.Path;\n\n\npublic class Main {\n    public static void main (String[] args) throws Exception{\n\n      if( args.length != 1) {\n        System.err.println(&quot;Must pass file argument&quot;);\n        return;\n      }\n\n      final Path path = Paths.get(args[0]);\n\n      final byte[] data = Files.readAllBytes(path);\n\n      final CertificateFactory  cf = CertificateFactory.getInstance(&quot;X509&quot;);\n      Collection&lt;? extends Certificate&gt; certs = cf.generateCertificates(new ByteArrayInputStream(data));\n      System.out.println(&quot;certs: &quot; + certs);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-calendar-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1688557739,"post_id":76619598,"comment_id":135088569,"body_markdown":"sounds like your REFRESHTOKEN is expired request a new one","body":"sounds like your REFRESHTOKEN is expired request a new one"},{"owner":{"account_id":27695033,"reputation":1,"user_id":21140941,"display_name":"Shivangi Malik"},"score":0,"creation_date":1688563688,"post_id":76619598,"comment_id":135090102,"body_markdown":"I have created a new one, as well but th resfresh token is not working once access token is expired.","body":"I have created a new one, as well but th resfresh token is not working once access token is expired."}],"owner":{"account_id":27695033,"reputation":1,"user_id":21140941,"display_name":"Shivangi Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554369,"creation_date":1688554181,"question_id":76619598,"body_markdown":"I created an app in my google developer console account back in 2021 &amp; I have the client ID, client secret, access token &amp; refresh token for this app. I&#39;m trying to book the calender alongwith gmeet url with my spring boot application. It was working fine till today &amp; suddenly I am getting this error which says:\r\n\r\n[Stack Trace](https://i.stack.imgur.com/rjCVE.png)\r\n\r\n    com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n{\r\n&quot;error&quot; : &quot;invalid_grant&quot;,\r\n&quot;error_description&quot; : &quot;Token has been expired or revoked.&quot;\r\n}\r\n      at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\r\n      at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\r\n      at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\r\n      at com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\r\n      at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.executeRefreshToken(GoogleCredential.java:372)\r\n      at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\r\n      at com.google.api.client.auth.oauth2.Credential.handleResponse(Credential.java:272)\r\n      at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1015)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n      at com.oodles.service.recruitment.GoogleCalenderService.addEvent(GoogleCalenderService.java:105)\r\n      at com.oodles.service.recruitment.GoogleCalenderService$$FastClassBySpringCGLIB$$fcb2042c.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.service.recruitment.GoogleCalenderService$$EnhancerBySpringCGLIB$$e65c2348.addEvent(&lt;generated&gt;)\r\n      at com.oodles.service.recruitment.InterviewPanelService.addInterviewPanel(InterviewPanelService.java:312)\r\n      at com.oodles.service.recruitment.InterviewPanelService$$FastClassBySpringCGLIB$$902f1a3c.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.service.recruitment.InterviewPanelService$$EnhancerBySpringCGLIB$$ce69af78.addInterviewPanel(&lt;generated&gt;)\r\n      at com.oodles.controller.recruitment.InterviewPanelController.addInterviewPanel(InterviewPanelController.java:79)\r\n      at com.oodles.controller.recruitment.InterviewPanelController$$FastClassBySpringCGLIB$$de518678.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.controller.recruitment.InterviewPanelController$$EnhancerBySpringCGLIB$$371cf812.addInterviewPanel(&lt;generated&gt;)\r\n      at sun.reflect.GeneratedMethodAccessor702.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n      at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\r\n      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n      at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n      at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n      at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at com.oodles.security.JwtAuthorizationFilter.doFilterInternal(JwtAuthorizationFilter.java:57)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n      at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n      at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n      at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n**Following is the code I am using** \r\n\r\n\r\n```\r\npublic GoogleCredential getCredentilas() throws IOException, GeneralSecurityException {\r\n\r\n\t\tGoogleCredential credential = new GoogleCredential.Builder().setTransport(new NetHttpTransport())\r\n\t\t\t\t.setJsonFactory(new JacksonFactory())\r\n\t\t\t\t.setClientSecrets(CLIENT-ID,SECRET-ID)\r\n\t\t\t\r\n\t\t\t\t.build()\r\n\t\t\t\t.setExpiresInSeconds(3600L)\r\n\t\t\t\t.createScoped(SCOPES)\r\n\t\t\t\t.setAccessToken(\r\n\t\t\t\t\t\tACCESSTOKEN)\r\n\t\t\t\t\r\n\t\t\t\t.setRefreshToken(\r\n\t\t\t\t\t\tREFRESHTOKEN).\r\n\t\tSystem.out.println(&quot;creds...&quot;+credential.getRefreshToken()+&quot;,,,&quot;+credential.getExpiresInSeconds());\r\n\t\treturn credential;\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried generating another token but facing same issue after 1 hour once access token is expired.","title":"ERROR c.g.a.client.auth.oauth2.Credential - unable to refresh token","body":"<p>I created an app in my google developer console account back in 2021 &amp; I have the client ID, client secret, access token &amp; refresh token for this app. I'm trying to book the calender alongwith gmeet url with my spring boot application. It was working fine till today &amp; suddenly I am getting this error which says:</p>\n<p><a href=\"https://i.stack.imgur.com/rjCVE.png\" rel=\"nofollow noreferrer\">Stack Trace</a></p>\n<pre><code>com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\n</code></pre>\n<p>{\n&quot;error&quot; : &quot;invalid_grant&quot;,\n&quot;error_description&quot; : &quot;Token has been expired or revoked.&quot;\n}\nat com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\nat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\nat com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\nat com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\nat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.executeRefreshToken(GoogleCredential.java:372)\nat com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\nat com.google.api.client.auth.oauth2.Credential.handleResponse(Credential.java:272)\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1015)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\nat com.oodles.service.recruitment.GoogleCalenderService.addEvent(GoogleCalenderService.java:105)\nat com.oodles.service.recruitment.GoogleCalenderService$$FastClassBySpringCGLIB$$fcb2042c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.service.recruitment.GoogleCalenderService$$EnhancerBySpringCGLIB$$e65c2348.addEvent()\nat com.oodles.service.recruitment.InterviewPanelService.addInterviewPanel(InterviewPanelService.java:312)\nat com.oodles.service.recruitment.InterviewPanelService$$FastClassBySpringCGLIB$$902f1a3c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.service.recruitment.InterviewPanelService$$EnhancerBySpringCGLIB$$ce69af78.addInterviewPanel()\nat com.oodles.controller.recruitment.InterviewPanelController.addInterviewPanel(InterviewPanelController.java:79)\nat com.oodles.controller.recruitment.InterviewPanelController$$FastClassBySpringCGLIB$$de518678.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.controller.recruitment.InterviewPanelController$$EnhancerBySpringCGLIB$$371cf812.addInterviewPanel()\nat sun.reflect.GeneratedMethodAccessor702.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\nat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat com.oodles.security.JwtAuthorizationFilter.doFilterInternal(JwtAuthorizationFilter.java:57)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p><strong>Following is the code I am using</strong></p>\n<pre><code>public GoogleCredential getCredentilas() throws IOException, GeneralSecurityException {\n\n        GoogleCredential credential = new GoogleCredential.Builder().setTransport(new NetHttpTransport())\n                .setJsonFactory(new JacksonFactory())\n                .setClientSecrets(CLIENT-ID,SECRET-ID)\n            \n                .build()\n                .setExpiresInSeconds(3600L)\n                .createScoped(SCOPES)\n                .setAccessToken(\n                        ACCESSTOKEN)\n                \n                .setRefreshToken(\n                        REFRESHTOKEN).\n        System.out.println(&quot;creds...&quot;+credential.getRefreshToken()+&quot;,,,&quot;+credential.getExpiresInSeconds());\n        return credential;\n    }\n</code></pre>\n<p>I have tried generating another token but facing same issue after 1 hour once access token is expired.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688552140,"post_id":76619305,"comment_id":135087439,"body_markdown":"`Runnable` is an interface and has no constructor. If you mean the constructor `Thread(String name)` you can simply use `new Thread(&quot;name of the thread&quot;)`","body":"<code>Runnable</code> is an interface and has no constructor. If you mean the constructor <code>Thread(String name)</code> you can simply use <code>new Thread(&quot;name of the thread&quot;)</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688552226,"post_id":76619305,"comment_id":135087453,"body_markdown":"*Why is it not invoking Thread(String name) instance?* becuase you use a lamda/runable as parameter","body":"<i>Why is it not invoking Thread(String name) instance?</i> becuase you use a lamda/runable as parameter"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1688552239,"post_id":76619305,"comment_id":135087456,"body_markdown":"BTW: please share code always as text not as image","body":"BTW: please share code always as text not as image"},{"owner":{"account_id":7974315,"reputation":13,"user_id":6017978,"display_name":"A Hybris Dev"},"score":0,"creation_date":1688552270,"post_id":76619305,"comment_id":135087466,"body_markdown":"I want to use lambda expression. I can use all these things via Java 7 but that is not the point actually. My question is about how Java 8 really resolve which method/ constructor  needs to be invoked.","body":"I want to use lambda expression. I can use all these things via Java 7 but that is not the point actually. My question is about how Java 8 really resolve which method/ constructor  needs to be invoked."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688552471,"post_id":76619305,"comment_id":135087517,"body_markdown":"When you write `()-&gt;{...}` your creating a lamba expression that has a no argument method that can implement a &quot;functional interface&quot;. The Thread constructors are checked, and there is one constructor that has a functional interface with no arguments. `Thread(Runnable)` thus the java compiler will choose that constructor and your lambda expression is a Runnable. `String` is not a functional interface so there is no abiguity there.","body":"When you write <code>()-&gt;{...}</code> your creating a lamba expression that has a no argument method that can implement a &quot;functional interface&quot;. The Thread constructors are checked, and there is one constructor that has a functional interface with no arguments. <code>Thread(Runnable)</code> thus the java compiler will choose that constructor and your lambda expression is a Runnable. <code>String</code> is not a functional interface so there is no abiguity there."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1688552481,"post_id":76619305,"comment_id":135087521,"body_markdown":"@AHybrisDev The lambda-function you are passing conforms to the functional interface `Runnable`. That&#39;s how Java is able to resolve the correct constructor.","body":"@AHybrisDev The lambda-function you are passing conforms to the functional interface <code>Runnable</code>. That&#39;s how Java is able to resolve the correct constructor."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688552950,"creation_date":1688552950,"answer_id":76619439,"question_id":76619305,"body_markdown":"So this is your expression:\r\n```java\r\nnew Thread( () -&gt; {System.out.println(...);}\r\n```\r\nTake a look at the lambda expression: `() -&gt; {System.out.println(...);}`\r\nIt doesn&#39;t have input parameters and doesn&#39;t return any result.\r\nBasically its similar to the function that is defined as `void someName()` (no parameters, and returns `void`)\r\n\r\nOk, now in Java when there is a functional interface it can be &quot;substituted&quot; with lambda expression.\r\n\r\nIn this case Java has to &quot;chose&quot; a suitable constructor, and indeed the interface `Runnable` matches this lambda:\r\n\r\n```java\r\ninterface Runnable {\r\n   void run(); // note, no input parameters, and it returns void\r\n}\r\n```\r\nClass `Thread` has a constructor that accepts `Runnable` as a parameter:\r\n\r\n```java\r\npublic class Thread {\r\n\r\n    public Thread(Runnable runnable) {...}\r\n\r\n     other constructors as well...\r\n}\r\n```\r\n\r\nSo Basically Java picks this constructor and calls it because the lambda expression that you specified matches `Runnable` interface\r\n\r\n","title":"How lambda expression resolve which method to call?","body":"<p>So this is your expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Thread( () -&gt; {System.out.println(...);}\n</code></pre>\n<p>Take a look at the lambda expression: <code>() -&gt; {System.out.println(...);}</code>\nIt doesn't have input parameters and doesn't return any result.\nBasically its similar to the function that is defined as <code>void someName()</code> (no parameters, and returns <code>void</code>)</p>\n<p>Ok, now in Java when there is a functional interface it can be &quot;substituted&quot; with lambda expression.</p>\n<p>In this case Java has to &quot;chose&quot; a suitable constructor, and indeed the interface <code>Runnable</code> matches this lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Runnable {\n   void run(); // note, no input parameters, and it returns void\n}\n</code></pre>\n<p>Class <code>Thread</code> has a constructor that accepts <code>Runnable</code> as a parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Thread {\n\n    public Thread(Runnable runnable) {...}\n\n     other constructors as well...\n}\n</code></pre>\n<p>So Basically Java picks this constructor and calls it because the lambda expression that you specified matches <code>Runnable</code> interface</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688554294,"creation_date":1688554294,"answer_id":76619610,"question_id":76619305,"body_markdown":"Lambdas are resolved &#39;inside out&#39;. You can try this to confirm it:\r\n\r\n```\r\nObject o = () -&gt; System.out.println(&quot;Hello, World!&quot;);\r\n```\r\n\r\ndoes not compile. That&#39;s because all lambdas need to be &#39;resolved&#39; - the compiler __must__ know which _functional interface type_ the lambda is representing.\r\n\r\nA functional interface is any interface where you end up with precisely 1 method if you remove all methods which:\r\n\r\n* Have a `default` implementation.\r\n* Which match the exact signature of any method defined in `java.lang.Object` (such as the `toString` in `interface Example { String toString(); }`).\r\n\r\nWhether you stick `@FunctionalInterface` on it or not, that is a functional interface (the annotation merely means: If the interface _is not_ a functional interface, you get a compiler error - it&#39;s compiler-checked documentation).\r\n\r\nFrom the context where you write a lambda, it must be possible for the compiler to determine exactly 1 functionalinterface type and the lambda is then interpreted as that type. The compiler goes pretty far in attempting to figure this out, though. Obviously, this works:\r\n\r\n```\r\nRunnable r = () -&gt; System.out.println(&quot;Hello, World!&quot;);\r\n```\r\n\r\nThat&#39;s because `Runnable` is a functional interface, and `Object` is not (it&#39;s not even an interface).\r\n\r\nBut, this also works:\r\n\r\n```\r\nvoid foo(String o) {}\r\nvoid foo(Runnable r) {}\r\n\r\n...\r\n\r\nfoo(() -&gt; System.out.println(&quot;Hello, World!&quot;));\r\n```\r\n\r\nBecause the compiler&#39;s logic goes more or less as follows:\r\n\r\n* Okay, foo is being invoked with 1 parameter. Let&#39;s see all the `foo` methods available that fit that. There are 2; one takes a `String`, the other takes a `Runnable` (in java, the identity of a method isn&#39;t just the name, it also includes the parameter types, hence, we have 2 completely unrelated methods here, both of which so happen to be named `foo`).\r\n* Given that a lambda is being passed as param1, __only__ those `foo` methods whose first param type is a functional interface type are even relevant. Applying that filter, only one `foo` method remains - the `foo(Runnable r)` one.\r\n* Therefore that must be applied.\r\n* Now we can resolve &#39;inside out&#39; - that lambda is now interpreted as being a lambda for the functional interface `Runnable`, and it is parsed accordingly.\r\n\r\nThis mechanism both explains which method is &#39;selected&#39;, as well as how java knows how to compile even if you fail to specify the arg types of your lambda. Thus, for example, this works fine too:\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.stream().filter(x -&gt; x.length() &lt; 5).toList();\r\n```\r\n\r\nThat compiles and does what you think it does, but that is at first glance surprising. _How_ does that work? Java is generally strongly, nominally, explicitly typed; so how does `x.length()` compile here, given that `Object` _does not_ have a `length()` method?\r\n\r\nThat&#39;s because of the inside-out thing: The expression `list` is of type `List&lt;String&gt;`. Hence, the expression of `list.stream()` is of type `Stream&lt;String&gt;`. Hence, the only `filter()` method that is relevant is `filter(Predicate&lt;? super String&gt;)`, i.e. a function that takes in either Strings or Objects, and emits a boolean (why boolean? Because the only method in the `Predicate` functional interface&#39;s signature is `boolean test(X elem)` - and therefore the lambda must be an implementation of that method). Now the lambda is interpreted with these limits - `String` is used because it is more specific.\r\n\r\nEven though your lambda does not explicitly say that the type of `x` is `String`, the compiler figures that out and doesn&#39;t parse the content of the lambda (here, `x.length() &lt; 5`) without this knowledge. Hence, the compiler determines `length()` is fine, because `String` expressions have a `length()` method.\r\n","title":"How lambda expression resolve which method to call?","body":"<p>Lambdas are resolved 'inside out'. You can try this to confirm it:</p>\n<pre><code>Object o = () -&gt; System.out.println(&quot;Hello, World!&quot;);\n</code></pre>\n<p>does not compile. That's because all lambdas need to be 'resolved' - the compiler <strong>must</strong> know which <em>functional interface type</em> the lambda is representing.</p>\n<p>A functional interface is any interface where you end up with precisely 1 method if you remove all methods which:</p>\n<ul>\n<li>Have a <code>default</code> implementation.</li>\n<li>Which match the exact signature of any method defined in <code>java.lang.Object</code> (such as the <code>toString</code> in <code>interface Example { String toString(); }</code>).</li>\n</ul>\n<p>Whether you stick <code>@FunctionalInterface</code> on it or not, that is a functional interface (the annotation merely means: If the interface <em>is not</em> a functional interface, you get a compiler error - it's compiler-checked documentation).</p>\n<p>From the context where you write a lambda, it must be possible for the compiler to determine exactly 1 functionalinterface type and the lambda is then interpreted as that type. The compiler goes pretty far in attempting to figure this out, though. Obviously, this works:</p>\n<pre><code>Runnable r = () -&gt; System.out.println(&quot;Hello, World!&quot;);\n</code></pre>\n<p>That's because <code>Runnable</code> is a functional interface, and <code>Object</code> is not (it's not even an interface).</p>\n<p>But, this also works:</p>\n<pre><code>void foo(String o) {}\nvoid foo(Runnable r) {}\n\n...\n\nfoo(() -&gt; System.out.println(&quot;Hello, World!&quot;));\n</code></pre>\n<p>Because the compiler's logic goes more or less as follows:</p>\n<ul>\n<li>Okay, foo is being invoked with 1 parameter. Let's see all the <code>foo</code> methods available that fit that. There are 2; one takes a <code>String</code>, the other takes a <code>Runnable</code> (in java, the identity of a method isn't just the name, it also includes the parameter types, hence, we have 2 completely unrelated methods here, both of which so happen to be named <code>foo</code>).</li>\n<li>Given that a lambda is being passed as param1, <strong>only</strong> those <code>foo</code> methods whose first param type is a functional interface type are even relevant. Applying that filter, only one <code>foo</code> method remains - the <code>foo(Runnable r)</code> one.</li>\n<li>Therefore that must be applied.</li>\n<li>Now we can resolve 'inside out' - that lambda is now interpreted as being a lambda for the functional interface <code>Runnable</code>, and it is parsed accordingly.</li>\n</ul>\n<p>This mechanism both explains which method is 'selected', as well as how java knows how to compile even if you fail to specify the arg types of your lambda. Thus, for example, this works fine too:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.stream().filter(x -&gt; x.length() &lt; 5).toList();\n</code></pre>\n<p>That compiles and does what you think it does, but that is at first glance surprising. <em>How</em> does that work? Java is generally strongly, nominally, explicitly typed; so how does <code>x.length()</code> compile here, given that <code>Object</code> <em>does not</em> have a <code>length()</code> method?</p>\n<p>That's because of the inside-out thing: The expression <code>list</code> is of type <code>List&lt;String&gt;</code>. Hence, the expression of <code>list.stream()</code> is of type <code>Stream&lt;String&gt;</code>. Hence, the only <code>filter()</code> method that is relevant is <code>filter(Predicate&lt;? super String&gt;)</code>, i.e. a function that takes in either Strings or Objects, and emits a boolean (why boolean? Because the only method in the <code>Predicate</code> functional interface's signature is <code>boolean test(X elem)</code> - and therefore the lambda must be an implementation of that method). Now the lambda is interpreted with these limits - <code>String</code> is used because it is more specific.</p>\n<p>Even though your lambda does not explicitly say that the type of <code>x</code> is <code>String</code>, the compiler figures that out and doesn't parse the content of the lambda (here, <code>x.length() &lt; 5</code>) without this knowledge. Hence, the compiler determines <code>length()</code> is fine, because <code>String</code> expressions have a <code>length()</code> method.</p>\n"}],"owner":{"account_id":7974315,"reputation":13,"user_id":6017978,"display_name":"A Hybris Dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76619439,"answer_count":2,"score":-1,"last_activity_date":1688554294,"creation_date":1688551888,"question_id":76619305,"body_markdown":"If I write a simple class:\r\n[![enter image description here](https://i.stack.imgur.com/0cUc8.png)](https://i.stack.imgur.com/0cUc8.png)\r\n\r\n    package com.animal;\r\n    \r\n    public class Human extends Animal {\r\n    \tpublic void hisss() {\r\n    \t\tThread t = new Thread(() -&gt; {System.out.println(&quot;New runnable instance&quot;);});\r\n    \t}\r\n    }\r\n\r\nJava is automatically invoking **Thread(Runnable runnable)** constructor. Why is it not invoking **Thread(String name)** instance?\r\n\r\nThis may be very primitive question but I am a primitive dev also. :-)\r\n\r\nNot able to invoke **Runnable(String name)** constructor and also how can I call this constructor if I want?","title":"How lambda expression resolve which method to call?","body":"<p>If I write a simple class:\n<a href=\"https://i.stack.imgur.com/0cUc8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cUc8.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.animal;\n\npublic class Human extends Animal {\n    public void hisss() {\n        Thread t = new Thread(() -&gt; {System.out.println(&quot;New runnable instance&quot;);});\n    }\n}\n</code></pre>\n<p>Java is automatically invoking <strong>Thread(Runnable runnable)</strong> constructor. Why is it not invoking <strong>Thread(String name)</strong> instance?</p>\n<p>This may be very primitive question but I am a primitive dev also. :-)</p>\n<p>Not able to invoke <strong>Runnable(String name)</strong> constructor and also how can I call this constructor if I want?</p>\n"},{"tags":["java","docker","maven","packaging"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688554703,"post_id":76619603,"comment_id":135087936,"body_markdown":"The first thing that pops into my mind then is to declare the child modules as provided. They&#39;ll be on the compile time classpath but be expected to be available at runtime so won&#39;t be part of the deployable. But that might have other consequences only you can know about.","body":"The first thing that pops into my mind then is to declare the child modules as provided. They&#39;ll be on the compile time classpath but be expected to be available at runtime so won&#39;t be part of the deployable. But that might have other consequences only you can know about."},{"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"score":0,"creation_date":1688555283,"post_id":76619603,"comment_id":135088057,"body_markdown":"I don&#39;t want to make any changes in the child pom.xml as long as possible, any other way i can achieve this from parent pom?\nAlso, will this not break my fat jar deployments?","body":"I don&#39;t want to make any changes in the child pom.xml as long as possible, any other way i can achieve this from parent pom? Also, will this not break my fat jar deployments?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688556605,"post_id":76619603,"comment_id":135088331,"body_markdown":"That&#39;s what I mean, you didn&#39;t mention any fat jar deployments. I would add that to the question.","body":"That&#39;s what I mean, you didn&#39;t mention any fat jar deployments. I would add that to the question."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1688559778,"post_id":76619603,"comment_id":135089053,"body_markdown":"After reading the documentation, what do you expect copy-dependencies to do?","body":"After reading the documentation, what do you expect copy-dependencies to do?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688562339,"post_id":76619603,"comment_id":135089737,"body_markdown":"Can you make an example project on github or alike... apart from that I don&#39;t understand what your real problem is here? Why do you need to copy files into a lib directory? Should be a kind of distribution archive/directory or alike?","body":"Can you make an example project on github or alike... apart from that I don&#39;t understand what your real problem is here? Why do you need to copy files into a lib directory? Should be a kind of distribution archive/directory or alike?"}],"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554222,"creation_date":1688554222,"question_id":76619603,"body_markdown":"I&#39;m copying all dependencies in a top level lib directory from all child-modules, I use \r\n\r\n    &lt;outputDirectory&gt;${env.PWD}/lib&lt;/outputDirectory&gt;\r\nto achieve this (as it&#39;s always triggered form root in my cicd).\r\n\r\nNow i use this lib to create my docker image, and because these lib are pretty big (~600MB) i want to cache this layer unless it&#39;s changed.\r\n\r\nThe problem is that every time i compile, it copies child-module&#39;s jars as well inside lib folder, which is not desirable for me. I&#39;m explicitly copying my jars in next layer of dockerfile. This is happening because **child-module-1** is a dependency in **child-module-2,** hence when copy-dependencies goal for **child-module-2** is executed it copies **child-module-1** as well into libs!!\r\n\r\nBelow is the config i&#39;m using.\r\n\r\n```\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${dependency.output.dir}\r\n              &lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n              &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\r\n              &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n              &lt;!-- &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt; --&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n```\r\nI don&#39;t want to include any exclusions inside child POM as this is going to be my standard pom for all projects, which shouldn&#39;t require any change in child-modules!.","title":"MAVEN: I want to copy-dependencies for all child modules to a single lib folder, but i don&#39;t want the jars built for each child-module to be included","body":"<p>I'm copying all dependencies in a top level lib directory from all child-modules, I use</p>\n<pre><code>&lt;outputDirectory&gt;${env.PWD}/lib&lt;/outputDirectory&gt;\n</code></pre>\n<p>to achieve this (as it's always triggered form root in my cicd).</p>\n<p>Now i use this lib to create my docker image, and because these lib are pretty big (~600MB) i want to cache this layer unless it's changed.</p>\n<p>The problem is that every time i compile, it copies child-module's jars as well inside lib folder, which is not desirable for me. I'm explicitly copying my jars in next layer of dockerfile. This is happening because <strong>child-module-1</strong> is a dependency in <strong>child-module-2,</strong> hence when copy-dependencies goal for <strong>child-module-2</strong> is executed it copies <strong>child-module-1</strong> as well into libs!!</p>\n<p>Below is the config i'm using.</p>\n<pre><code>          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${dependency.output.dir}\n              &lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n              &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\n              &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n              &lt;!-- &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt; --&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>I don't want to include any exclusions inside child POM as this is going to be my standard pom for all projects, which shouldn't require any change in child-modules!.</p>\n"},{"tags":["java","case-sensitive"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":3,"creation_date":1247588049,"post_id":1126227,"comment_id":943489,"body_markdown":"Not that I&#39;m a big performance guy or anything (I actually consider performance tuning kind of evil), but the .toUpperCase copies your string each time you call it so if you do this in a loop, try to move the .toUpperCase out of the loop if possible.","body":"Not that I&#39;m a big performance guy or anything (I actually consider performance tuning kind of evil), but the .toUpperCase copies your string each time you call it so if you do this in a loop, try to move the .toUpperCase out of the loop if possible."}],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1413252830,"creation_date":1247585920,"answer_id":1126250,"question_id":1126227,"body_markdown":"Yes, `indexOf` is case sensitive.\r\n\r\nThe best way to do case insensivity I have found is:\r\n\r\n    String original;\r\n    int idx = original.toLowerCase().indexOf(someStr.toLowerCase());\r\n\r\nThat will do a case insensitive `indexOf()`.","title":"indexOf Case Sensitive?","body":"<p>Yes, <code>indexOf</code> is case sensitive.</p>\n\n<p>The best way to do case insensivity I have found is:</p>\n\n<pre><code>String original;\nint idx = original.toLowerCase().indexOf(someStr.toLowerCase());\n</code></pre>\n\n<p>That will do a case insensitive <code>indexOf()</code>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1247586510,"creation_date":1247585924,"answer_id":1126253,"question_id":1126227,"body_markdown":"&gt; Is the indexOf(String) method case sensitive?\r\n\r\nYes, it is case sensitive:\r\n\r\n    @Test\r\n    public void indexOfIsCaseSensitive() {\r\n        assertTrue(&quot;Hello World!&quot;.indexOf(&quot;Hello&quot;) != -1);\r\n        assertTrue(&quot;Hello World!&quot;.indexOf(&quot;hello&quot;) == -1);\r\n    }\r\n\r\n&gt; If so, is there a case insensitive version of it?\r\n\r\nNo, there isn&#39;t. You can convert both strings to lower case before calling indexOf:\r\n\r\n    @Test\r\n    public void caseInsensitiveIndexOf() {\r\n        assertTrue(&quot;Hello World!&quot;.toLowerCase().indexOf(&quot;Hello&quot;.toLowerCase()) != -1);\r\n        assertTrue(&quot;Hello World!&quot;.toLowerCase().indexOf(&quot;hello&quot;.toLowerCase()) != -1);\r\n    }","title":"indexOf Case Sensitive?","body":"<blockquote>\n  <p>Is the indexOf(String) method case sensitive?</p>\n</blockquote>\n\n<p>Yes, it is case sensitive:</p>\n\n<pre><code>@Test\npublic void indexOfIsCaseSensitive() {\n    assertTrue(\"Hello World!\".indexOf(\"Hello\") != -1);\n    assertTrue(\"Hello World!\".indexOf(\"hello\") == -1);\n}\n</code></pre>\n\n<blockquote>\n  <p>If so, is there a case insensitive version of it?</p>\n</blockquote>\n\n<p>No, there isn't. You can convert both strings to lower case before calling indexOf:</p>\n\n<pre><code>@Test\npublic void caseInsensitiveIndexOf() {\n    assertTrue(\"Hello World!\".toLowerCase().indexOf(\"Hello\".toLowerCase()) != -1);\n    assertTrue(\"Hello World!\".toLowerCase().indexOf(\"hello\".toLowerCase()) != -1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1247586592,"creation_date":1247585961,"answer_id":1126258,"question_id":1126227,"body_markdown":"  \r\n\r\n    @Test\r\n    public void testIndexofCaseSensitive() {\r\n        TestCase.assertEquals(-1, &quot;abcDef&quot;.indexOf(&quot;d&quot;) );\r\n    }","title":"indexOf Case Sensitive?","body":"<pre><code>@Test\npublic void testIndexofCaseSensitive() {\n    TestCase.assertEquals(-1, \"abcDef\".indexOf(\"d\") );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":3,"up_vote_count":83,"is_accepted":true,"score":80,"last_activity_date":1365270143,"creation_date":1247585984,"answer_id":1126259,"question_id":1126227,"body_markdown":"The `indexOf()` methods are all case-sensitive. You can make them (roughly, in a broken way, but working for plenty of cases) case-insensitive by converting your strings to upper/lower case beforehand:\r\n\r\n    s1 = s1.toLowerCase(Locale.US);\r\n    s2 = s2.toLowerCase(Locale.US);\r\n    s1.indexOf(s2);","title":"indexOf Case Sensitive?","body":"<p>The <code>indexOf()</code> methods are all case-sensitive. You can make them (roughly, in a broken way, but working for plenty of cases) case-insensitive by converting your strings to upper/lower case beforehand:</p>\n\n<pre><code>s1 = s1.toLowerCase(Locale.US);\ns2 = s2.toLowerCase(Locale.US);\ns1.indexOf(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40749,"reputation":54774,"user_id":118145,"accept_rate":84,"display_name":"Yacoby"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247587474,"creation_date":1247585999,"answer_id":1126263,"question_id":1126227,"body_markdown":"Yes, I am fairly sure it is. One method of working around that using the standard library would be:\r\n\r\n    int index = str.toUpperCase().indexOf(&quot;FOO&quot;); ","title":"indexOf Case Sensitive?","body":"<p>Yes, I am fairly sure it is. One method of working around that using the standard library would be:</p>\n\n<pre><code>int index = str.toUpperCase().indexOf(\"FOO\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":44517,"reputation":4168,"user_id":130717,"display_name":"Nick Lewis"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1315402755,"creation_date":1247586073,"answer_id":1126275,"question_id":1126227,"body_markdown":"Yes, it is case-sensitive. You can do a case-insensitive `indexOf` by converting your String and the String parameter both to upper-case before searching.\r\n\r\n    String str = &quot;Hello world&quot;;\r\n    String search = &quot;hello&quot;;\r\n    str.toUpperCase().indexOf(search.toUpperCase());\r\n\r\nNote that toUpperCase may not work in some circumstances. For instance this:\r\n\r\n    String str = &quot;Feldbergstra&#223;e 23, Mainz&quot;;\r\n    String find = &quot;mainz&quot;;\r\n    int idxU = str.toUpperCase().indexOf (find.toUpperCase ());\r\n    int idxL = str.toLowerCase().indexOf (find.toLowerCase ());\r\n\r\nidxU will be 20, which is wrong! idxL will be 19, which is correct. What&#39;s causing the problem is tha toUpperCase() converts the &quot;&#223;&quot; character into TWO characters, &quot;SS&quot; and this throws the index off.\r\n\r\nConsequently, always stick with toLowerCase()\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>Yes, it is case-sensitive. You can do a case-insensitive <code>indexOf</code> by converting your String and the String parameter both to upper-case before searching.</p>\n\n<pre><code>String str = \"Hello world\";\nString search = \"hello\";\nstr.toUpperCase().indexOf(search.toUpperCase());\n</code></pre>\n\n<p>Note that toUpperCase may not work in some circumstances. For instance this:</p>\n\n<pre><code>String str = \"Feldbergstraße 23, Mainz\";\nString find = \"mainz\";\nint idxU = str.toUpperCase().indexOf (find.toUpperCase ());\nint idxL = str.toLowerCase().indexOf (find.toLowerCase ());\n</code></pre>\n\n<p>idxU will be 20, which is wrong! idxL will be 19, which is correct. What's causing the problem is tha toUpperCase() converts the \"ß\" character into TWO characters, \"SS\" and this throws the index off.</p>\n\n<p>Consequently, always stick with toLowerCase()</p>\n"},{"tags":[],"owner":{"account_id":1092,"reputation":113948,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247586111,"creation_date":1247586111,"answer_id":1126278,"question_id":1126227,"body_markdown":"I&#39;ve just looked at the source. It compares chars so it is case sensitive.","title":"indexOf Case Sensitive?","body":"<p>I've just looked at the source. It compares chars so it is case sensitive.</p>\n"},{"tags":[],"owner":{"account_id":46732,"reputation":831,"user_id":138145,"accept_rate":94,"display_name":"Robbie"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1247586132,"creation_date":1247586132,"answer_id":1126281,"question_id":1126227,"body_markdown":"indexOf is case sensitive. This is because it uses the equals method to compare the elements in the list. The same thing goes for contains and remove.","title":"indexOf Case Sensitive?","body":"<p>indexOf is case sensitive. This is because it uses the equals method to compare the elements in the list. The same thing goes for contains and remove.</p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1247592733,"creation_date":1247586168,"answer_id":1126289,"question_id":1126227,"body_markdown":"But it&#39;s not hard to write one:\r\n\r\n    public class CaseInsensitiveIndexOfTest extends TestCase {\r\n    \tpublic void testOne() throws Exception {\r\n    \t\tassertEquals(2, caseInsensitiveIndexOf(&quot;ABC&quot;, &quot;xxabcdef&quot;));\r\n    \t}\r\n    \r\n    \tpublic static int caseInsensitiveIndexOf(String substring, String string) {\r\n    \t\treturn string.toLowerCase().indexOf(substring.toLowerCase());\r\n    \t}\r\n    }\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>But it's not hard to write one:</p>\n\n<pre><code>public class CaseInsensitiveIndexOfTest extends TestCase {\n    public void testOne() throws Exception {\n        assertEquals(2, caseInsensitiveIndexOf(\"ABC\", \"xxabcdef\"));\n    }\n\n    public static int caseInsensitiveIndexOf(String substring, String string) {\n        return string.toLowerCase().indexOf(substring.toLowerCase());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247613910,"creation_date":1247613910,"answer_id":1128632,"question_id":1126227,"body_markdown":"What are you doing with the index value once returned?\r\n\r\nIf you are using it to manipulate your string, then could you not use a regular expression instead?\r\n\r\n    import static org.junit.Assert.assertEquals;    \r\n    import org.junit.Test;\r\n    \r\n    public class StringIndexOfRegexpTest {\r\n    \r\n        @Test\r\n        public void testNastyIndexOfBasedReplace() {\r\n            final String source = &quot;Hello World&quot;;\r\n            final int index = source.toLowerCase().indexOf(&quot;hello&quot;.toLowerCase());\r\n            final String target = &quot;Hi&quot;.concat(source.substring(index\r\n                    + &quot;hello&quot;.length(), source.length()));\r\n            assertEquals(&quot;Hi World&quot;, target);\r\n        }\r\n    \r\n        @Test\r\n        public void testSimpleRegexpBasedReplace() {\r\n            final String source = &quot;Hello World&quot;;\r\n            final String target = source.replaceFirst(&quot;(?i)hello&quot;, &quot;Hi&quot;);\r\n            assertEquals(&quot;Hi World&quot;, target);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n","title":"indexOf Case Sensitive?","body":"<p>What are you doing with the index value once returned?</p>\n\n<p>If you are using it to manipulate your string, then could you not use a regular expression instead?</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;    \nimport org.junit.Test;\n\npublic class StringIndexOfRegexpTest {\n\n    @Test\n    public void testNastyIndexOfBasedReplace() {\n        final String source = \"Hello World\";\n        final int index = source.toLowerCase().indexOf(\"hello\".toLowerCase());\n        final String target = \"Hi\".concat(source.substring(index\n                + \"hello\".length(), source.length()));\n        assertEquals(\"Hi World\", target);\n    }\n\n    @Test\n    public void testSimpleRegexpBasedReplace() {\n        final String source = \"Hello World\";\n        final String target = source.replaceFirst(\"(?i)hello\", \"Hi\");\n        assertEquals(\"Hi World\", target);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3928630,"reputation":421,"user_id":3248078,"display_name":"deepika"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1390986893,"creation_date":1390986893,"answer_id":21426647,"question_id":1126227,"body_markdown":"There is an ignore case method in StringUtils class of Apache Commons Lang library\r\n\r\nindexOfIgnoreCase(CharSequence str, CharSequence searchStr)","title":"indexOf Case Sensitive?","body":"<p>There is an ignore case method in StringUtils class of Apache Commons Lang library</p>\n\n<p>indexOfIgnoreCase(CharSequence str, CharSequence searchStr)</p>\n"},{"tags":[],"owner":{"account_id":2136614,"reputation":9796,"user_id":1896222,"accept_rate":64,"display_name":"max"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478111285,"creation_date":1391977736,"answer_id":21664613,"question_id":1126227,"body_markdown":"Just to sum it up, 3 solutions:\r\n\r\n- using toLowerCase() or toUpperCase\r\n- using StringUtils of apache\r\n- using    regex\r\n\r\nNow, what I was wondering was which one is the fastest?\r\nI&#39;m guessing on average the first one.","title":"indexOf Case Sensitive?","body":"<p>Just to sum it up, 3 solutions:</p>\n\n<ul>\n<li>using toLowerCase() or toUpperCase</li>\n<li>using StringUtils of apache</li>\n<li>using    regex</li>\n</ul>\n\n<p>Now, what I was wondering was which one is the fastest?\nI'm guessing on average the first one.</p>\n"},{"tags":[],"owner":{"account_id":411239,"reputation":624,"user_id":783580,"display_name":"Jakub Vr&#225;na"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415722489,"creation_date":1415722489,"answer_id":26869361,"question_id":1126227,"body_markdown":"Converting both strings to lower-case is usually not a big deal but it would be slow if some of the strings is long. And if you do this in a loop then it would be really bad. For this reason, I would recommend `indexOfIgnoreCase`.","title":"indexOf Case Sensitive?","body":"<p>Converting both strings to lower-case is usually not a big deal but it would be slow if some of the strings is long. And if you do this in a loop then it would be really bad. For this reason, I would recommend <code>indexOfIgnoreCase</code>.</p>\n"},{"tags":[],"owner":{"account_id":5423095,"reputation":37,"user_id":4316199,"display_name":"phil"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1417533386,"creation_date":1417533386,"answer_id":27252763,"question_id":1126227,"body_markdown":"Had the same problem.\r\nI tried regular expression and the apache StringUtils.indexOfIgnoreCase-Method, but both were pretty slow...\r\nSo I wrote an short method myself...:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static int indexOfIgnoreCase(final String chkstr, final String searchStr, int i) {\r\n        if (chkstr != null &amp;&amp; searchStr != null &amp;&amp; i &gt; -1) {\r\n              int serchStrLength = searchStr.length();\r\n              char[] searchCharLc = new char[serchStrLength];\r\n              char[] searchCharUc = new char[serchStrLength];\r\n              searchStr.toUpperCase().getChars(0, serchStrLength, searchCharUc, 0);\r\n              searchStr.toLowerCase().getChars(0, serchStrLength, searchCharLc, 0);\r\n              int j = 0;\r\n              for (int checkStrLength = chkstr.length(); i &lt; checkStrLength; i++) {\r\n                    char charAt = chkstr.charAt(i);\r\n                    if (charAt == searchCharLc[j] || charAt == searchCharUc[j]) {\r\n                         if (++j == serchStrLength) {\r\n                               return i - j + 1;\r\n                         }\r\n                    } else { // faster than: else if (j != 0) {\r\n                             i = i - j;\r\n                             j = 0;\r\n                        }\r\n                  }\r\n            }\r\n            return -1;\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nAccording to my tests its much faster... (at least if your searchString is rather short).\r\nif you have any suggestions for improvement or bugs it would be nice to let me know... (since I use this code in an application ;-)\r\n\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>Had the same problem.\nI tried regular expression and the apache StringUtils.indexOfIgnoreCase-Method, but both were pretty slow...\nSo I wrote an short method myself...:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int indexOfIgnoreCase(final String chkstr, final String searchStr, int i) {\n    if (chkstr != null &amp;&amp; searchStr != null &amp;&amp; i &gt; -1) {\n          int serchStrLength = searchStr.length();\n          char[] searchCharLc = new char[serchStrLength];\n          char[] searchCharUc = new char[serchStrLength];\n          searchStr.toUpperCase().getChars(0, serchStrLength, searchCharUc, 0);\n          searchStr.toLowerCase().getChars(0, serchStrLength, searchCharLc, 0);\n          int j = 0;\n          for (int checkStrLength = chkstr.length(); i &lt; checkStrLength; i++) {\n                char charAt = chkstr.charAt(i);\n                if (charAt == searchCharLc[j] || charAt == searchCharUc[j]) {\n                     if (++j == serchStrLength) {\n                           return i - j + 1;\n                     }\n                } else { // faster than: else if (j != 0) {\n                         i = i - j;\n                         j = 0;\n                    }\n              }\n        }\n        return -1;\n  }\n</code></pre>\n\n<p>According to my tests its much faster... (at least if your searchString is rather short).\nif you have any suggestions for improvement or bugs it would be nice to let me know... (since I use this code in an application ;-)</p>\n"},{"tags":[],"owner":{"account_id":1395923,"reputation":1278,"user_id":1325669,"display_name":"Bernd S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421199118,"creation_date":1421199118,"answer_id":27934465,"question_id":1126227,"body_markdown":"The first question has already been answered many times. Yes, the `String.indexOf()` methods are all case-sensitive.\r\n\r\nIf you need a locale-sensitive `indexOf()` you could use the [Collator][1]. Depending on the strength value you set you can get case insensitive comparison, and also treat accented letters as the same as the non-accented ones, etc.\r\nHere is an example of how to do this:\r\n\r\n    private int indexOf(String original, String search) {\r\n        Collator collator = Collator.getInstance();\r\n        collator.setStrength(Collator.PRIMARY);\r\n        for (int i = 0; i &lt;= original.length() - search.length(); i++) {\r\n            if (collator.equals(search, original.substring(i, i + search.length()))) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html","title":"indexOf Case Sensitive?","body":"<p>The first question has already been answered many times. Yes, the <code>String.indexOf()</code> methods are all case-sensitive.</p>\n\n<p>If you need a locale-sensitive <code>indexOf()</code> you could use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow\">Collator</a>. Depending on the strength value you set you can get case insensitive comparison, and also treat accented letters as the same as the non-accented ones, etc.\nHere is an example of how to do this:</p>\n\n<pre><code>private int indexOf(String original, String search) {\n    Collator collator = Collator.getInstance();\n    collator.setStrength(Collator.PRIMARY);\n    for (int i = 0; i &lt;= original.length() - search.length(); i++) {\n        if (collator.equals(search, original.substring(i, i + search.length()))) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6188051,"reputation":199,"user_id":4821586,"display_name":"Zach Vorhies"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1429739506,"creation_date":1429739506,"answer_id":29809553,"question_id":1126227,"body_markdown":"Here is my solution which does not allocate any heap memory, therefore it should be significantly faster than most of the other implementations mentioned here.\r\n\r\n    public static int indexOfIgnoreCase(final String haystack,\r\n                                        final String needle) {\r\n        if (needle.isEmpty() || haystack.isEmpty()) {\r\n            // Fallback to legacy behavior.\r\n            return haystack.indexOf(needle);\r\n        }\r\n        \r\n        for (int i = 0; i &lt; haystack.length(); ++i) {\r\n            // Early out, if possible.\r\n            if (i + needle.length() &gt; haystack.length()) {\r\n                return -1;\r\n            }\r\n            \r\n            // Attempt to match substring starting at position i of haystack.\r\n            int j = 0;\r\n            int ii = i;\r\n            while (ii &lt; haystack.length() &amp;&amp; j &lt; needle.length()) {\r\n                char c = Character.toLowerCase(haystack.charAt(ii));\r\n                char c2 = Character.toLowerCase(needle.charAt(j));\r\n                if (c != c2) {\r\n                    break;\r\n                }\r\n                j++;\r\n                ii++;\r\n            }\r\n            // Walked all the way to the end of the needle, return the start\r\n            // position that this was found.\r\n            if (j == needle.length()) {\r\n                return i;\r\n            }\r\n        }\r\n        \r\n        return -1;\r\n    }\r\n\r\nAnd here are the unit tests that verify correct behavior.\r\n\r\n    @Test\r\n    public void testIndexOfIgnoreCase() {\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;A&quot;, &quot;A&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;A&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;A&quot;, &quot;a&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;a&quot;), is(0));\r\n        \r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;ba&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;ba&quot;, &quot;a&quot;), is(1));\r\n\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot; Royal Blue&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot; Royal Blue&quot;, &quot;Royal Blue&quot;), is(1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;royal&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;oyal&quot;), is(1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;al&quot;), is(3));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;&quot;, &quot;royal&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;BLUE&quot;), is(6));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;BIGLONGSTRING&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;Royal Blue LONGSTRING&quot;), is(-1));  \r\n    }","title":"indexOf Case Sensitive?","body":"<p>Here is my solution which does not allocate any heap memory, therefore it should be significantly faster than most of the other implementations mentioned here.</p>\n\n<pre><code>public static int indexOfIgnoreCase(final String haystack,\n                                    final String needle) {\n    if (needle.isEmpty() || haystack.isEmpty()) {\n        // Fallback to legacy behavior.\n        return haystack.indexOf(needle);\n    }\n\n    for (int i = 0; i &lt; haystack.length(); ++i) {\n        // Early out, if possible.\n        if (i + needle.length() &gt; haystack.length()) {\n            return -1;\n        }\n\n        // Attempt to match substring starting at position i of haystack.\n        int j = 0;\n        int ii = i;\n        while (ii &lt; haystack.length() &amp;&amp; j &lt; needle.length()) {\n            char c = Character.toLowerCase(haystack.charAt(ii));\n            char c2 = Character.toLowerCase(needle.charAt(j));\n            if (c != c2) {\n                break;\n            }\n            j++;\n            ii++;\n        }\n        // Walked all the way to the end of the needle, return the start\n        // position that this was found.\n        if (j == needle.length()) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n</code></pre>\n\n<p>And here are the unit tests that verify correct behavior.</p>\n\n<pre><code>@Test\npublic void testIndexOfIgnoreCase() {\n    assertThat(StringUtils.indexOfIgnoreCase(\"A\", \"A\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"A\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"A\", \"a\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"a\"), is(0));\n\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"ba\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"ba\", \"a\"), is(1));\n\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \" Royal Blue\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\" Royal Blue\", \"Royal Blue\"), is(1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"royal\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"oyal\"), is(1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"al\"), is(3));\n    assertThat(StringUtils.indexOfIgnoreCase(\"\", \"royal\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"BLUE\"), is(6));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"BIGLONGSTRING\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"Royal Blue LONGSTRING\"), is(-1));  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9028571,"reputation":1,"user_id":9471199,"display_name":"Jawwad Rafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543239389,"creation_date":1543239389,"answer_id":53482323,"question_id":1126227,"body_markdown":"     static string Search(string factMessage, string b)\r\n            {\r\n    \r\n                int index = factMessage.IndexOf(b, StringComparison.CurrentCultureIgnoreCase);\r\n                string line = null;\r\n                int i = index;\r\n                if (i == -1)\r\n                { return &quot;not matched&quot;; }\r\n                else\r\n                {\r\n                    while (factMessage[i] != &#39; &#39;)\r\n                    {\r\n                        line = line + factMessage[i];\r\n                        i++;\r\n                    }\r\n    \r\n                    return line;\r\n                }\r\n    \r\n            }","title":"indexOf Case Sensitive?","body":"<pre><code> static string Search(string factMessage, string b)\n        {\n\n            int index = factMessage.IndexOf(b, StringComparison.CurrentCultureIgnoreCase);\n            string line = null;\n            int i = index;\n            if (i == -1)\n            { return \"not matched\"; }\n            else\n            {\n                while (factMessage[i] != ' ')\n                {\n                    line = line + factMessage[i];\n                    i++;\n                }\n\n                return line;\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104419,"reputation":1599,"user_id":279180,"accept_rate":75,"display_name":"Ernie Thomason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565586544,"creation_date":1565586544,"answer_id":57455886,"question_id":1126227,"body_markdown":"Here&#39;s a version closely resembling Apache&#39;s StringUtils version:\r\n\r\n    public int indexOfIgnoreCase(String str, String searchStr) {\r\n    \treturn indexOfIgnoreCase(str, searchStr, 0);\r\n\t}\r\n\r\n\tpublic int indexOfIgnoreCase(String str, String searchStr, int fromIndex) {\r\n\t\t// https://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018511\r\n\t\tif(str == null || searchStr == null) return -1;\r\n\t\tif (searchStr.length() == 0) return fromIndex;\t// empty string found; use same behavior as Apache StringUtils\r\n\t\tfinal int endLimit = str.length() - searchStr.length() + 1;\r\n\t\tfor (int i = fromIndex; i &lt; endLimit; i++) {\r\n\t\t\tif (str.regionMatches(true, i, searchStr, 0, searchStr.length())) return i;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}","title":"indexOf Case Sensitive?","body":"<p>Here's a version closely resembling Apache's StringUtils version:</p>\n\n<pre><code>public int indexOfIgnoreCase(String str, String searchStr) {\n    return indexOfIgnoreCase(str, searchStr, 0);\n}\n\npublic int indexOfIgnoreCase(String str, String searchStr, int fromIndex) {\n    // https://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018511\n    if(str == null || searchStr == null) return -1;\n    if (searchStr.length() == 0) return fromIndex;  // empty string found; use same behavior as Apache StringUtils\n    final int endLimit = str.length() - searchStr.length() + 1;\n    for (int i = fromIndex; i &lt; endLimit; i++) {\n        if (str.regionMatches(true, i, searchStr, 0, searchStr.length())) return i;\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1278157,"reputation":7585,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612458604,"creation_date":1582840405,"answer_id":60442271,"question_id":1126227,"body_markdown":"I would like to lay claim to the ONE and only solution posted so far that actually works. :-)\r\n\r\nThree classes of problems that have to be dealt with.\r\n\r\n 1. Non-transitive matching rules for lower and uppercase. The Turkish I problem has been mentioned frequently in other replies. According to comments in Android source for String.regionMatches, the Georgian comparison rules requires additional conversion to lower-case when comparing for case-insensitive equality.\r\n\r\n 2. Cases where upper- and lower-case forms have a different number of letters. Pretty much all of the solutions posted so far fail, in these cases. Example: German STRASSE vs. Stra&#223;e have case-insensitive equality, but have different lengths.\r\n\r\n 3. Binding strengths of accented characters. Locale AND context effect whether accents match or not. In French, the uppercase form of &#39;&#233;&#39; is &#39;E&#39;, although there is a movement toward using uppercase accents . In Canadian French, the upper-case form of &#39;&#233;&#39; is &#39;&#201;&#39;, without exception. Users in both countries would expect &quot;e&quot; to  match &quot;&#233;&quot; when searching. Whether accented and unaccented characters match is locale-specific. Now consider: does &quot;E&quot; equal &quot;&#201;&quot;? Yes. It does. In French locales, anyway. \r\n\r\nI am currently using `android.icu.text.StringSearch` to correctly implement previous implementations of case-insensitive indexOf operations.\r\n\r\nNon-Android users can access the same functionality through the ICU4J package, using the `com.ibm.icu.text.StringSearch` class.\r\n\r\nBe careful to reference classes in the correct icu package (`android.icu.text` or `com.ibm.icu.text`) as Android and the JRE both have classes with the same name in other namespaces (e.g. Collator).\r\n\r\n\r\n   \t\tthis.collator = (RuleBasedCollator)Collator.getInstance(locale);\r\n\t\tthis.collator.setStrength(Collator.PRIMARY);\r\n\r\n        ....\r\n\r\n        StringSearch search = new StringSearch(\r\n             pattern,\r\n             new StringCharacterIterator(targetText),\r\n             collator);\r\n\t\tint index = search.first();\r\n\t\tif (index != SearchString.DONE)\r\n\t\t{\r\n            // remember that the match length may NOT equal the pattern length.\r\n\t\t\tlength = search.getMatchLength();\r\n            .... \r\n        }\r\n\r\nTest Cases (Locale, pattern, target text, expectedResult):\r\n\r\n\t\ttestMatch(Locale.US,&quot;AbCde&quot;,&quot;aBcDe&quot;,true);\r\n\t\ttestMatch(Locale.US,&quot;&#233;&#232;&#234;&quot;,&quot;EEE&quot;,true);\r\n\r\n\t\ttestMatch(Locale.GERMAN,&quot;STRASSE&quot;,&quot;Stra&#223;e&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;&#233;&#232;&#234;&quot;,&quot;EEE&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;EEE&quot;,&quot;&#233;&#232;&#234;&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;&#233;&#232;&#234;&quot;,&quot;&#201;&#200;&#202;&quot;,true);\r\n\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;tıtle&quot;,true);  // Turkish dotless I/i\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TİTLE&quot;,&quot;title&quot;,true);  // Turkish dotted I/i\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;title&quot;,false);  // Dotless-I != dotted i.\r\n\r\n\r\nPS: As best as I can determine, the PRIMARY binding strength should do the right thing when locale-specific rules differentiate between accented and non-accented characters according to dictionary rules; but I don&#39;t which locale to use to test this premise. Donated test cases would be gratefully appreciated.\r\n\r\n--\r\n\r\nCopyright notice: because StackOverflow&#39;s CC-BY_SA copyrights as applied to code-fragments are unworkable for professional developers, these fragments are dual licensed under more appropriate licenses here:  https://pastebin.com/1YhFWmnU\r\n","title":"indexOf Case Sensitive?","body":"<p>I would like to lay claim to the ONE and only solution posted so far that actually works. :-)</p>\n<p>Three classes of problems that have to be dealt with.</p>\n<ol>\n<li><p>Non-transitive matching rules for lower and uppercase. The Turkish I problem has been mentioned frequently in other replies. According to comments in Android source for String.regionMatches, the Georgian comparison rules requires additional conversion to lower-case when comparing for case-insensitive equality.</p>\n</li>\n<li><p>Cases where upper- and lower-case forms have a different number of letters. Pretty much all of the solutions posted so far fail, in these cases. Example: German STRASSE vs. Straße have case-insensitive equality, but have different lengths.</p>\n</li>\n<li><p>Binding strengths of accented characters. Locale AND context effect whether accents match or not. In French, the uppercase form of 'é' is 'E', although there is a movement toward using uppercase accents . In Canadian French, the upper-case form of 'é' is 'É', without exception. Users in both countries would expect &quot;e&quot; to  match &quot;é&quot; when searching. Whether accented and unaccented characters match is locale-specific. Now consider: does &quot;E&quot; equal &quot;É&quot;? Yes. It does. In French locales, anyway.</p>\n</li>\n</ol>\n<p>I am currently using <code>android.icu.text.StringSearch</code> to correctly implement previous implementations of case-insensitive indexOf operations.</p>\n<p>Non-Android users can access the same functionality through the ICU4J package, using the <code>com.ibm.icu.text.StringSearch</code> class.</p>\n<p>Be careful to reference classes in the correct icu package (<code>android.icu.text</code> or <code>com.ibm.icu.text</code>) as Android and the JRE both have classes with the same name in other namespaces (e.g. Collator).</p>\n<pre><code>    this.collator = (RuleBasedCollator)Collator.getInstance(locale);\n    this.collator.setStrength(Collator.PRIMARY);\n\n    ....\n\n    StringSearch search = new StringSearch(\n         pattern,\n         new StringCharacterIterator(targetText),\n         collator);\n    int index = search.first();\n    if (index != SearchString.DONE)\n    {\n        // remember that the match length may NOT equal the pattern length.\n        length = search.getMatchLength();\n        .... \n    }\n</code></pre>\n<p>Test Cases (Locale, pattern, target text, expectedResult):</p>\n<pre><code>    testMatch(Locale.US,&quot;AbCde&quot;,&quot;aBcDe&quot;,true);\n    testMatch(Locale.US,&quot;éèê&quot;,&quot;EEE&quot;,true);\n\n    testMatch(Locale.GERMAN,&quot;STRASSE&quot;,&quot;Straße&quot;,true);\n    testMatch(Locale.FRENCH,&quot;éèê&quot;,&quot;EEE&quot;,true);\n    testMatch(Locale.FRENCH,&quot;EEE&quot;,&quot;éèê&quot;,true);\n    testMatch(Locale.FRENCH,&quot;éèê&quot;,&quot;ÉÈÊ&quot;,true);\n\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;tıtle&quot;,true);  // Turkish dotless I/i\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TİTLE&quot;,&quot;title&quot;,true);  // Turkish dotted I/i\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;title&quot;,false);  // Dotless-I != dotted i.\n</code></pre>\n<p>PS: As best as I can determine, the PRIMARY binding strength should do the right thing when locale-specific rules differentiate between accented and non-accented characters according to dictionary rules; but I don't which locale to use to test this premise. Donated test cases would be gratefully appreciated.</p>\n<p>--</p>\n<p>Copyright notice: because StackOverflow's CC-BY_SA copyrights as applied to code-fragments are unworkable for professional developers, these fragments are dual licensed under more appropriate licenses here:  <a href=\"https://pastebin.com/1YhFWmnU\" rel=\"nofollow noreferrer\">https://pastebin.com/1YhFWmnU</a></p>\n"}],"owner":{"account_id":1479,"reputation":1896,"user_id":1972,"accept_rate":83,"display_name":"Brian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136906,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":1126259,"answer_count":19,"score":93,"last_activity_date":1688554020,"creation_date":1247585734,"question_id":1126227,"body_markdown":"Is the indexOf(String) method case sensitive?  If so, is there a case insensitive version of it?","title":"indexOf Case Sensitive?","body":"<p>Is the indexOf(String) method case sensitive?  If so, is there a case insensitive version of it?</p>\n"},{"tags":["java","android","events","android-calendar"],"comments":[{"owner":{"account_id":13306328,"reputation":52,"user_id":9605980,"display_name":"Manjunath"},"score":0,"creation_date":1688561068,"post_id":76619568,"comment_id":135089377,"body_markdown":"https://github.com/ajeethere/EventsCalender download the code and check it","body":"<a href=\"https://github.com/ajeethere/EventsCalender\" rel=\"nofollow noreferrer\">github.com/ajeethere/EventsCalender</a> download the code and check it"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1688561504,"post_id":76619568,"comment_id":135089496,"body_markdown":"&quot;i came across some devices where it doesn&#39;t work&quot; -- please explain in detail what &quot;it doesn&#39;t work&quot; means. For example, are you crashing? If so, what is the stack trace associated with the crash?","body":"&quot;i came across some devices where it doesn&#39;t work&quot; -- please explain in detail what &quot;it doesn&#39;t work&quot; means. For example, are you crashing? If so, what is the stack trace associated with the crash?"}],"owner":{"account_id":28954816,"reputation":11,"user_id":22178609,"display_name":"Marco Ferrante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688553982,"creation_date":1688553982,"question_id":76619568,"body_markdown":"I created a booking application. when a reservation is made, an event is automatically added to the calendar. this works on most devices. i came across some devices where it doesn&#39;t work (xiaomi and  samsung) i don&#39;t know if the cause is the os version or something else.\r\n\r\n\r\n\r\n\r\nthe following code is what i use for most devices\r\n\r\n```\r\nContentValues event = new ContentValues();\r\n        event.put(CalendarContract.Events.CALENDAR_ID, 1);\r\n        event.put(CalendarContract.Events.TITLE, &quot;title&quot;);\r\n        event.put(CalendarContract.Events.DESCRIPTION, &quot;description&quot;);\r\n        event.put(CalendarContract.Events.EVENT_LOCATION, &quot;location&quot;);\r\n        event.put(CalendarContract.Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\r\n\r\n        event.put(CalendarContract.Events.DTSTART, date + (begin * 3600000) + 1800000);\r\n        event.put(CalendarContract.Events.DTEND, date + (end * 3600000) + 1800000);\r\n\r\n        event.put(CalendarContract.Events.ALL_DAY, 0); // 0 per false, 1 per true\r\n        event.put(&quot;eventStatus&quot;, 1);\r\n        event.put(CalendarContract.Events.HAS_ALARM, 0);\r\n\r\n        String eventUriString = &quot;content://com.android.calendar/events&quot;;\r\n        Uri eventUri = requireContext().getApplicationContext()\r\n                .getContentResolver()\r\n                .insert(Uri.parse(eventUriString), event);\r\n        long eventID = Long.parseLong(eventUri.getLastPathSegment());\r\n\r\n\r\n        int minutes=30;\r\n\r\n\r\n        // add reminder for the event\r\n        ContentValues reminders = new ContentValues();\r\n        reminders.put(&quot;event_id&quot;, eventID);\r\n        reminders.put(&quot;method&quot;, &quot;1&quot;);\r\n        reminders.put(&quot;minutes&quot;, minutes);\r\n\r\n        String reminderUriString = &quot;content://com.android.calendar/reminders&quot;;\r\n        getContext().getContentResolver()\r\n                .insert(Uri.parse(reminderUriString), reminders);\r\n```\r\n\r\nI found some code somewhere that allows you to open the calendar app with the fields already filled in. what I want, however, is that the user does not even have the perception that the event has been created","title":"add programmatically calendar event on android 13 with java","body":"<p>I created a booking application. when a reservation is made, an event is automatically added to the calendar. this works on most devices. i came across some devices where it doesn't work (xiaomi and  samsung) i don't know if the cause is the os version or something else.</p>\n<p>the following code is what i use for most devices</p>\n<pre><code>ContentValues event = new ContentValues();\n        event.put(CalendarContract.Events.CALENDAR_ID, 1);\n        event.put(CalendarContract.Events.TITLE, &quot;title&quot;);\n        event.put(CalendarContract.Events.DESCRIPTION, &quot;description&quot;);\n        event.put(CalendarContract.Events.EVENT_LOCATION, &quot;location&quot;);\n        event.put(CalendarContract.Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\n\n        event.put(CalendarContract.Events.DTSTART, date + (begin * 3600000) + 1800000);\n        event.put(CalendarContract.Events.DTEND, date + (end * 3600000) + 1800000);\n\n        event.put(CalendarContract.Events.ALL_DAY, 0); // 0 per false, 1 per true\n        event.put(&quot;eventStatus&quot;, 1);\n        event.put(CalendarContract.Events.HAS_ALARM, 0);\n\n        String eventUriString = &quot;content://com.android.calendar/events&quot;;\n        Uri eventUri = requireContext().getApplicationContext()\n                .getContentResolver()\n                .insert(Uri.parse(eventUriString), event);\n        long eventID = Long.parseLong(eventUri.getLastPathSegment());\n\n\n        int minutes=30;\n\n\n        // add reminder for the event\n        ContentValues reminders = new ContentValues();\n        reminders.put(&quot;event_id&quot;, eventID);\n        reminders.put(&quot;method&quot;, &quot;1&quot;);\n        reminders.put(&quot;minutes&quot;, minutes);\n\n        String reminderUriString = &quot;content://com.android.calendar/reminders&quot;;\n        getContext().getContentResolver()\n                .insert(Uri.parse(reminderUriString), reminders);\n</code></pre>\n<p>I found some code somewhere that allows you to open the calendar app with the fields already filled in. what I want, however, is that the user does not even have the perception that the event has been created</p>\n"},{"tags":["java","google-drive-api","drive"],"owner":{"account_id":28953560,"reputation":1,"user_id":22177577,"display_name":"Naveen Tangudu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553506,"creation_date":1688542899,"question_id":76618104,"body_markdown":"Is there any way for getting all the changes of Google Drive from the beginning of the drive and if there is no way please mention it if you have any official documentation also I&#39;m fine.\r\n\r\nHi people,\r\n\r\nI have a case where I need to get all the changes from the Drive from the beginning in Java,\r\n\r\nI tried multiple approaches like \r\n```java\r\nString pagetoken = &quot;&quot;;\r\n        ChangeList changes = drive.changes().list(pagetoken).execute();\r\n```\r\ngetting error like\r\n\r\n```\r\n400 Bad Request\r\n{\r\n  &quot;code&quot; : 400,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;location&quot; : &quot;pageToken&quot;,\r\n    &quot;locationType&quot; : &quot;parameter&quot;,\r\n    &quot;message&quot; : &quot;Invalid Value&quot;,\r\n    &quot;reason&quot; : &quot;invalid&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;Invalid Value&quot;\r\n}\r\n```\r\n\r\nApproach 2\r\n\r\n\r\n```java\r\nString pagetoken = null;\r\n        ChangeList changes = drive.changes().list(pagetoken).execute();\r\n```\r\n\r\ngetting error like\r\n\r\n```\r\njava.lang.NullPointerException: Required parameter pageToken must be specified.\r\n```\r\n\r\nApproach 3\r\n\r\n\r\n```java\r\nString pagetoken = &quot;1&quot;;\r\n        ChangeList changes = drive.changes().list().execute();\r\n```\r\n\r\ngetting error like \r\n\r\n```\r\nExpected 1 arguments but found 0 for list parameter\r\n```\r\nhere drive is the google drive object and I&#39;m using the Google Drive library in Java \r\n\r\ncomplete code\r\n\r\n\r\n```java\r\nimport com.google.api.services.drive.Drive;\r\nimport com.google.api.services.drive.model.Change;\r\nimport com.google.api.services.drive.model.ChangeList;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.List;\r\n\r\npublic class GoogleDriveChangesExample {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Drive driveService = new Drive.Builder(\r\n                    GoogleNetHttpTransport.newTrustedTransport(),\r\n                    JacksonFactory.getDefaultInstance(),\r\n                    yourCredentials)\r\n                    .setApplicationName(&quot;Your Application Name&quot;)\r\n                    .build();\r\n\r\n            ChangeList changes;\r\n            String pageToken = null;\r\n            changes = drive.changes().list(pageToken).execute();\r\n           \r\n\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo is there any way for getting all the changes of the drive from the beginning of the drive?","title":"Is there any way to get all the changes of the google drive from its beginning in java","body":"<p>Is there any way for getting all the changes of Google Drive from the beginning of the drive and if there is no way please mention it if you have any official documentation also I'm fine.</p>\n<p>Hi people,</p>\n<p>I have a case where I need to get all the changes from the Drive from the beginning in Java,</p>\n<p>I tried multiple approaches like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = &quot;&quot;;\n        ChangeList changes = drive.changes().list(pagetoken).execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>400 Bad Request\n{\n  &quot;code&quot; : 400,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;location&quot; : &quot;pageToken&quot;,\n    &quot;locationType&quot; : &quot;parameter&quot;,\n    &quot;message&quot; : &quot;Invalid Value&quot;,\n    &quot;reason&quot; : &quot;invalid&quot;\n  } ],\n  &quot;message&quot; : &quot;Invalid Value&quot;\n}\n</code></pre>\n<p>Approach 2</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = null;\n        ChangeList changes = drive.changes().list(pagetoken).execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>java.lang.NullPointerException: Required parameter pageToken must be specified.\n</code></pre>\n<p>Approach 3</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = &quot;1&quot;;\n        ChangeList changes = drive.changes().list().execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>Expected 1 arguments but found 0 for list parameter\n</code></pre>\n<p>here drive is the google drive object and I'm using the Google Drive library in Java</p>\n<p>complete code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.api.services.drive.Drive;\nimport com.google.api.services.drive.model.Change;\nimport com.google.api.services.drive.model.ChangeList;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.json.jackson2.JacksonFactory;\n\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.List;\n\npublic class GoogleDriveChangesExample {\n\n    public static void main(String[] args) {\n        try {\n            Drive driveService = new Drive.Builder(\n                    GoogleNetHttpTransport.newTrustedTransport(),\n                    JacksonFactory.getDefaultInstance(),\n                    yourCredentials)\n                    .setApplicationName(&quot;Your Application Name&quot;)\n                    .build();\n\n            ChangeList changes;\n            String pageToken = null;\n            changes = drive.changes().list(pageToken).execute();\n           \n\n        } catch (GeneralSecurityException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>So is there any way for getting all the changes of the drive from the beginning of the drive?</p>\n"},{"tags":["java","maven","httpclient","apache-commons-httpclient"],"owner":{"account_id":310878,"reputation":124,"user_id":4767104,"display_name":"Kathees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553411,"creation_date":1688553411,"question_id":76619502,"body_markdown":"I have updgraded to httpclient from commons-httpclient for security vulnerability issues.\r\n\r\nhttps://mvnrepository.com/artifact/commons-httpclient/commons-httpclient\r\n\r\nBut, can not find ConnectTimeoutException class in httpclient.\r\n\r\nWhat is the class for ConnectTimeoutException in httpclient?\r\n\r\n**commons-httpclient**\r\n\r\n    &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n             &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\n**httpclient**\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.14&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n","title":"ConnectTimeoutException class in httpclient instead for commons-httpclient","body":"<p>I have updgraded to httpclient from commons-httpclient for security vulnerability issues.</p>\n<p><a href=\"https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient</a></p>\n<p>But, can not find ConnectTimeoutException class in httpclient.</p>\n<p>What is the class for ConnectTimeoutException in httpclient?</p>\n<p><strong>commons-httpclient</strong></p>\n<pre><code>&lt;exclusion&gt;\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n         &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n<p><strong>httpclient</strong></p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.14&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hbase"],"owner":{"account_id":13182211,"reputation":23,"user_id":9521249,"display_name":"sr ao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553329,"creation_date":1688543421,"question_id":76618172,"body_markdown":"I use the async client of hbase in java. I execute the get method (`CompletableFuture&lt;Result&gt; get(Get get);`) about 10000 times in a loop. Then I got the message:\r\n\r\n```\r\norg.apache.hadoop.hbase.CallQueueTooBigException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\r\n sun.reflect.GeneratedConstructorAccessor101.newInstance(Unknown Source)\r\n sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:99)\r\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:89)\r\n org.apache.hadoop.hbase.client.ConnectionUtils.translateException(ConnectionUtils.java:317)\r\n org.apache.hadoop.hbase.client.AsyncRpcRetryingCaller.onError(AsyncRpcRetryingCaller.java:159)\r\n org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$call$4(AsyncSingleRequestRpcRetryingCaller.java:84)\r\n org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:68)\r\n java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n org.apache.hadoop.hbase.client.RawAsyncTableImpl$1.run(RawAsyncTableImpl.java:182)\r\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:79)\r\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:70)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:385)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:89)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:414)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:410)\r\n org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:118)\r\n org.apache.hadoop.hbase.ipc.Call.setException(Call.java:133)\r\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\r\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n org.apache.hbase.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n org.apache.hbase.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n org.apache.hbase.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:380)\r\n```\r\nIt seems I&#39;ve sent too many requests to the HBase server. The `hbase.regionserver.handler.count` is 100. Increasing the handler count may help but I think it can&#39;t solve this problem completely when there are more requests.\r\n\r\nWhat is the real reason for this exception?\r\n\r\nAre there any configurations to control the concurrent of the request or anything that can help?","title":"Hbase too many items queued","body":"<p>I use the async client of hbase in java. I execute the get method (<code>CompletableFuture&lt;Result&gt; get(Get get);</code>) about 10000 times in a loop. Then I got the message:</p>\n<pre><code>org.apache.hadoop.hbase.CallQueueTooBigException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\n sun.reflect.GeneratedConstructorAccessor101.newInstance(Unknown Source)\n sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:99)\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:89)\n org.apache.hadoop.hbase.client.ConnectionUtils.translateException(ConnectionUtils.java:317)\n org.apache.hadoop.hbase.client.AsyncRpcRetryingCaller.onError(AsyncRpcRetryingCaller.java:159)\n org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$call$4(AsyncSingleRequestRpcRetryingCaller.java:84)\n org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:68)\n java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n org.apache.hadoop.hbase.client.RawAsyncTableImpl$1.run(RawAsyncTableImpl.java:182)\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:79)\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:70)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:385)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:89)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:414)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:410)\n org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:118)\n org.apache.hadoop.hbase.ipc.Call.setException(Call.java:133)\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n org.apache.hbase.thirdparty.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n org.apache.hbase.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n org.apache.hbase.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n org.apache.hbase.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:380)\n</code></pre>\n<p>It seems I've sent too many requests to the HBase server. The <code>hbase.regionserver.handler.count</code> is 100. Increasing the handler count may help but I think it can't solve this problem completely when there are more requests.</p>\n<p>What is the real reason for this exception?</p>\n<p>Are there any configurations to control the concurrent of the request or anything that can help?</p>\n"},{"tags":["java","android","gradle","build"],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553069,"creation_date":1688543594,"question_id":76618191,"body_markdown":"I have an Android application and I am not able to build successfully.\r\nThis is my `gradle.app` file:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n    \r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n    android {\r\n        compileSdkVersion 31\r\n        defaultConfig {\r\n            applicationId &quot;it.bioresult.cardio&quot;\r\n            minSdkVersion 28\r\n            //noinspection ExpiredTargetSdkVersion\r\n            targetSdkVersion 31\r\n            versionCode 2\r\n            versionName &quot;1.1&quot;\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;\r\n            }\r\n    \r\n        }\r\n        //useLibrary &#39;org.apache.http.legacy&#39;\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            targetCompatibility = 1.8\r\n            sourceCompatibility = 1.8\r\n        }\r\n    \r\n        packagingOptions {\r\n            // Exclude file to avoid\r\n            // Error: Duplicate files during packaging of APK\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n            exclude &#39;META-INF/*.kotlin_module&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-service:2.5.1&#39;\r\n        final ROOM_VERSION = &#39;1.1.1&#39;\r\n        final DAGGER_VERSION = &#39;2.15&#39;\r\n        final ARCHITECTURE_COMPONENT_VERSION = &#39;1.1.1&#39;\r\n        //noinspection OutdatedLibrary\r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.9.8@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        implementation fileTree(include: [&#39;*.jar&#39;, &#39;*.aar&#39;], dir: &#39;libs&#39;)\r\n        //implementation fileTree(include: [&#39;*.aar&#39;], dir: &#39;libs&#39;)\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;me.hiennguyen.circleseekbar:circleseekbar:1.0.1&#39;\r\n        implementation &#39;me.tankery.lib:circularSeekBar:1.1.7&#39;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v2.2.4&#39;\r\n        implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n        implementation &#39;com.github.bmarrdev:android-DecoView-charting:v0.9.3&#39;\r\n        implementation &#39;com.wefika:horizontal-picker:1.1.1&#39;\r\n        //implementation &#39;com.wefika:horizontal-picker:1.1.1&#39;\r\n        //    implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n        //    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n        //bargraph\r\n        implementation &#39;com.github.blackfizz:eazegraph:1.2.5l@aar&#39;\r\n        implementation &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n        implementation &#39;org.lucasr.twowayview:twowayview:0.1.4&#39;\r\n        implementation &#39;com.quinny898.library.persistentsearch:library:1.1.0-SNAPSHOT&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.4.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava2:2.3.0&#39;\r\n        // implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:3.12.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:logging-interceptor:3.11.0&#39;\r\n        //Job Scheduler and MQTT\r\n        implementation &#39;com.birbit:android-priority-jobqueue:2.0.1&#39;\r\n        implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0&#39;\r\n        implementation &#39;org.eclipse.paho:org.eclipse.paho.android.service:1.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:20.0.0&#39;\r\n        //    implementation &#39;com.github.Triggertrap:SeekArc:v1.1&#39;\r\n        //    implementation &#39;me.tankery.lib:circularSeekBar:1.1.4&#39;\r\n        //    implementation &#39;com.github.feeeei:CircleSeekbar:v1.1.2&#39;\r\n        implementation project(&#39;:speedviewlib&#39;)\r\n        implementation &#39;eo.view:batterymeter:1.1.1&#39;\r\n        //PROVO A COMMENTARE QUESTA LINE ADI CODICE\r\n        //implementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        implementation project(&#39;:zephyrlib&#39;)\r\n        //implementation project(&#39;:ecgview&#39;)\r\n        //implementation &#39;com.androidplot:androidplot-core:1.5.3&#39;\r\n        // implementation project(&#39;:support&#39;)\r\n        //compile &#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n        //QUESTO SERVE PER L INVIO DEI CRASH\r\n        //implementation &#39;ch.acra:acra:4.9.0&#39;\r\n        implementation &#39;androidx.core:core:1.0.2&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;joda-time:joda-time:2.9.6&#39;\r\n        implementation &#39;com.neovisionaries:nv-bluetooth:1.7&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.5.1&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;org.apache.commons:commons-math:2.2&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n        implementation &#39;net.lingala.zip4j:zip4j:1.3.2&#39;\r\n        implementation &#39;org.osmdroid:osmdroid-android:6.1.2&#39;\r\n        implementation project(&#39;:subsamplinglib&#39;)\r\n        implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n        implementation &#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;\r\n        //  compile project(path: &#39;:whitelabel&#39;)\r\n        implementation files(&#39;libs/Jama-1.0.3.jar&#39;)\r\n        implementation &#39;com.github.Abhi347:LumberJack:0.1.0&#39;\r\n        //salvare i dati automaticvamente nelle preferenze del sistema\r\n        implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    \r\n        //NEXTOME\r\n        //implementation &quot;com.android.volley:volley:1.1.0&quot;\r\n    \r\n        /*\r\n        integrazione da app indiani\r\n        * */\r\n        // RxJava / RxAndroid\r\n        implementation &#39;io.reactivex.rxjava2:rxjava:2.1.10&#39;\r\n        implementation &#39;io.reactivex.rxjava2:rxandroid:2.0.2&#39;\r\n        implementation &quot;android.arch.persistence.room:runtime:$ROOM_VERSION&quot;\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:$ROOM_VERSION&quot;\r\n        implementation &quot;android.arch.persistence.room:rxjava2:$ROOM_VERSION&quot;\r\n        implementation &quot;com.google.dagger:dagger:$DAGGER_VERSION&quot;\r\n        implementation &quot;com.google.dagger:dagger-android-support:$DAGGER_VERSION&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-android-processor:$DAGGER_VERSION&quot;\r\n        androidTestAnnotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n        implementation &#39;com.github.razerdp:AnimatedPieView:1.2.6&#39;\r\n        implementation &#39;org.apmem.tools:layouts:1.10@aar&#39;\r\n        implementation &#39;com.jakewharton.timber:timber:4.5.1&#39;\r\n        implementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;\r\n        implementation project(&#39;:horizontalcalendar&#39;)\r\n        implementation &quot;com.github.skydoves:progressview:1.0.7&quot;\r\n        implementation &#39;com.henryblue.mxvideoplayer:xvideoplayer:1.2.1&#39;\r\n        implementation &#39;com.github.HamidrezaAmz:MagicalExoPlayer:1.0.16&#39;\r\n        implementation &#39;com.github.antonKozyriatskyi:CircularProgressIndicator:1.3.0&#39;\r\n        implementation &#39;com.mikhaellopez:circularprogressbar:3.0.3&#39;\r\n    implementation &#39;org.altbeacon:android-beacon-library:2+&#39;\r\n        implementation &#39;com.lemmingapex.trilateration:trilateration:1.0.2&#39;\r\n    \r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nThis is the error that I can read from Android console:\r\n\r\n    &gt; Task :app:desugarDebugFileDependencies\r\n    \r\n    FAILURE: Build completed with 5 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:javaPreCompileDebug&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-classes, org.gradle.usage=java-api}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:javaPreCompileDebug&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n    \tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n    \tat     \r\n    ==============================================================================\r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:mergeDebugAssets&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-assets}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\r\n    \tat org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    \t\r\n    ==============================================================================\r\n    \r\n    4: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-classes, org.gradle.usage=java-runtime}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n    \tat \r\n    Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\r\n    \tat org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\r\n    \tat \r\n    Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-java-res}.\r\n    \tat org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.lambda$visitArtifact$1(TransformingArtifactVisitor.java:61)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\r\n    \tat \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    \tat com.android.tools.build.jetifier.processor.Processor.transformLibrary(Processor.kt:421)\r\n    \tat com.android.tools.build.jetifier.processor.Processor.transform(Processor.kt:247)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:113)\r\n    \t... 81 more\r\n    \r\n    ==============================================================================\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    Caused by: java.lang.IllegalArgumentException\r\n    \r\n    BUILD FAILED in 10s\r\n    98 actionable tasks: 98 executed\r\n\r\n\r\nWhat can I do to fix them?\r\n","title":"Android application build failed: Execution failed for task &#39;:app:javaPreCompileDebug&#39;","body":"<p>I have an Android application and I am not able to build successfully.\nThis is my <code>gradle.app</code> file:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\nandroid {\n    compileSdkVersion 31\n    defaultConfig {\n        applicationId &quot;it.bioresult.cardio&quot;\n        minSdkVersion 28\n        //noinspection ExpiredTargetSdkVersion\n        targetSdkVersion 31\n        versionCode 2\n        versionName &quot;1.1&quot;\n        multiDexEnabled true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;\n        }\n\n    }\n    //useLibrary 'org.apache.http.legacy'\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        targetCompatibility = 1.8\n        sourceCompatibility = 1.8\n    }\n\n    packagingOptions {\n        // Exclude file to avoid\n        // Error: Duplicate files during packaging of APK\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n        exclude 'META-INF/*.kotlin_module'\n    }\n}\n\ndependencies {\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'androidx.lifecycle:lifecycle-service:2.5.1'\n    final ROOM_VERSION = '1.1.1'\n    final DAGGER_VERSION = '2.15'\n    final ARCHITECTURE_COMPONENT_VERSION = '1.1.1'\n    //noinspection OutdatedLibrary\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.8@aar') {\n        transitive = true;\n    }\n    implementation fileTree(include: ['*.jar', '*.aar'], dir: 'libs')\n    //implementation fileTree(include: ['*.aar'], dir: 'libs')\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    //noinspection GradleCompatible\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n    //noinspection GradleCompatible\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'me.hiennguyen.circleseekbar:circleseekbar:1.0.1'\n    implementation 'me.tankery.lib:circularSeekBar:1.1.7'\n    implementation 'com.github.PhilJay:MPAndroidChart:v2.2.4'\n    implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n    implementation 'com.github.bmarrdev:android-DecoView-charting:v0.9.3'\n    implementation 'com.wefika:horizontal-picker:1.1.1'\n    //implementation 'com.wefika:horizontal-picker:1.1.1'\n    //    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    //    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n    //bargraph\n    implementation 'com.github.blackfizz:eazegraph:1.2.5l@aar'\n    implementation 'com.nineoldandroids:library:2.4.0'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n    implementation 'org.lucasr.twowayview:twowayview:0.1.4'\n    implementation 'com.quinny898.library.persistentsearch:library:1.1.0-SNAPSHOT'\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n    // implementation 'com.squareup.picasso:picasso:2.5.2'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.squareup.okhttp3:okhttp:3.12.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'\n    //Job Scheduler and MQTT\n    implementation 'com.birbit:android-priority-jobqueue:2.0.1'\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0'\n    implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'\n    implementation 'com.google.firebase:firebase-messaging:20.0.0'\n    //    implementation 'com.github.Triggertrap:SeekArc:v1.1'\n    //    implementation 'me.tankery.lib:circularSeekBar:1.1.4'\n    //    implementation 'com.github.feeeei:CircleSeekbar:v1.1.2'\n    implementation project(':speedviewlib')\n    implementation 'eo.view:batterymeter:1.1.1'\n    //PROVO A COMMENTARE QUESTA LINE ADI CODICE\n    //implementation 'org.apache.commons:commons-math3:3.6.1'\n    implementation project(':zephyrlib')\n    //implementation project(':ecgview')\n    //implementation 'com.androidplot:androidplot-core:1.5.3'\n    // implementation project(':support')\n    //compile 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n    //QUESTO SERVE PER L INVIO DEI CRASH\n    //implementation 'ch.acra:acra:4.9.0'\n    implementation 'androidx.core:core:1.0.2'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'joda-time:joda-time:2.9.6'\n    implementation 'com.neovisionaries:nv-bluetooth:1.7'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.5.1'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'org.apache.commons:commons-math3:3.6.1'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'org.apache.commons:commons-math:2.2'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'net.lingala.zip4j:zip4j:1.3.2'\n    implementation 'org.osmdroid:osmdroid-android:6.1.2'\n    implementation project(':subsamplinglib')\n    implementation 'org.jetbrains:annotations:15.0'\n    implementation 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    //  compile project(path: ':whitelabel')\n    implementation files('libs/Jama-1.0.3.jar')\n    implementation 'com.github.Abhi347:LumberJack:0.1.0'\n    //salvare i dati automaticvamente nelle preferenze del sistema\n    implementation 'io.paperdb:paperdb:2.6'\n\n    //NEXTOME\n    //implementation &quot;com.android.volley:volley:1.1.0&quot;\n\n    /*\n    integrazione da app indiani\n    * */\n    // RxJava / RxAndroid\n    implementation 'io.reactivex.rxjava2:rxjava:2.1.10'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\n    implementation &quot;android.arch.persistence.room:runtime:$ROOM_VERSION&quot;\n    annotationProcessor &quot;android.arch.persistence.room:compiler:$ROOM_VERSION&quot;\n    implementation &quot;android.arch.persistence.room:rxjava2:$ROOM_VERSION&quot;\n    implementation &quot;com.google.dagger:dagger:$DAGGER_VERSION&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:$DAGGER_VERSION&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:$DAGGER_VERSION&quot;\n    androidTestAnnotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.github.razerdp:AnimatedPieView:1.2.6'\n    implementation 'org.apmem.tools:layouts:1.10@aar'\n    implementation 'com.jakewharton.timber:timber:4.5.1'\n    implementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;\n    implementation project(':horizontalcalendar')\n    implementation &quot;com.github.skydoves:progressview:1.0.7&quot;\n    implementation 'com.henryblue.mxvideoplayer:xvideoplayer:1.2.1'\n    implementation 'com.github.HamidrezaAmz:MagicalExoPlayer:1.0.16'\n    implementation 'com.github.antonKozyriatskyi:CircularProgressIndicator:1.3.0'\n    implementation 'com.mikhaellopez:circularprogressbar:3.0.3'\nimplementation 'org.altbeacon:android-beacon-library:2+'\n    implementation 'com.lemmingapex.trilateration:trilateration:1.0.2'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>This is the error that I can read from Android console:</p>\n<pre><code>&gt; Task :app:desugarDebugFileDependencies\n\nFAILURE: Build completed with 5 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:javaPreCompileDebug'.\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-classes, org.gradle.usage=java-api}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:javaPreCompileDebug'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at     \n==============================================================================\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:mergeDebugAssets'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-assets}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\n    at org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n    \n==============================================================================\n\n4: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-classes, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:checkDebugDuplicateClasses'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at \nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\n    at org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\n    at \nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-java-res}.\n    at org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.lambda$visitArtifact$1(TransformingArtifactVisitor.java:61)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\n    at \nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n    at com.android.tools.build.jetifier.processor.Processor.transformLibrary(Processor.kt:421)\n    at com.android.tools.build.jetifier.processor.Processor.transform(Processor.kt:247)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:113)\n    ... 81 more\n\n==============================================================================\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nCaused by: java.lang.IllegalArgumentException\n\nBUILD FAILED in 10s\n98 actionable tasks: 98 executed\n</code></pre>\n<p>What can I do to fix them?</p>\n"},{"tags":["java","excel","xml"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688543696,"post_id":76618174,"comment_id":135085729,"body_markdown":"Do you talk about a native excel file (format) or a CSV file? What does method &quot;ValueAddition()&quot; do? Can you provide some example code what you have tried so far?","body":"Do you talk about a native excel file (format) or a CSV file? What does method &quot;ValueAddition()&quot; do? Can you provide some example code what you have tried so far?"},{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1688546022,"post_id":76618174,"comment_id":135086175,"body_markdown":"can the same id appear in more than one line?","body":"can the same id appear in more than one line?"},{"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"score":0,"creation_date":1688547038,"post_id":76618174,"comment_id":135086370,"body_markdown":"Yes the same ID can appear in more than one line.","body":"Yes the same ID can appear in more than one line."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688547145,"post_id":76618174,"comment_id":135086396,"body_markdown":"https://docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm","body":"<a href=\"https://docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm</a>"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688552519,"creation_date":1688543436,"question_id":76618174,"body_markdown":"Consider we have an Excel file with 4 columns:\r\n\r\n    |ID|Value1|Value2|Value3|\r\n    |Fruits|Apple|Banana|Papaya|\r\n    |Cars|Mercedes|Ferrari|Haas|\r\n\r\n\r\nThere can be million of rows in the Excel file.\r\n\r\nFrom the Excel file, We need to read the values row by row and create an XML.\r\n\r\nProblem:\r\nI am allowed to code in a method like `valueAddition(String value, int row, int col)` where we will be getting the values row-wise. \r\n\r\nI am thinking of a solution where we will be creating a Map, to store all the values from the Excel file to the memory and then create the XML traversing the values in the variable (memory).\r\n\r\nThere is no option to create the XML file while iterating `valueAddition()` because the XML file may be in this format:\r\n\r\n```xml\r\n    &lt;Values&gt;\r\n        &lt;ValueList ID=&quot;Fruits&quot;&gt;\r\n            &lt;Value&gt;Apple&lt;/Value&gt;\r\n            &lt;Value&gt;Banana&lt;/Value&gt;\r\n    \t\t&lt;Value&gt;Papaya&lt;/Value&gt;\r\n        &lt;/ValueList&gt;\r\n    \t&lt;Valueist ID=&quot;Cars&quot;&gt;\r\n            &lt;Value&gt;Mercedes&lt;/Value&gt;\r\n            &lt;Value&gt;Haas&lt;/Value&gt;\r\n            &lt;Value&gt;Haas&lt;/Value&gt;\r\n        &lt;/ValueList&gt;\r\n    &lt;/Values&gt;\r\n```\r\n\r\nWhere I won&#39;t be knowing while the control will be in `valueAddition()`, that the same Fruits ID can be present in the last part of the Excel File and I need to map it inside the XML tag `&lt;ValueList ID=&quot;Fruits&quot;&gt;`.\r\n\r\nNow putting records of millions in memory can be troublesome. Is there any alternative method to do it?\r\n\r\nPlease Note:\r\n`XSSFReader` (Apache POI) is used to read the Excel file row-wise.\r\nThe `valueAddition(String value, int row, int col)` method will be called in a loop...\r\nAt a time, the `valueAddition` will contain the value in the Excel file, the row number, and its column number.\r\n\r\nFor example,\r\n\r\n```java\r\n    valueAddition(&quot;Fruits&quot;, 1, 0)\r\n    valueAddition(&quot;Apple&quot;, 1, 1)\r\n    valueAddition(&quot;Banana&quot;, 1, 2)\r\n    valueAddition(&quot;Papaya&quot;, 1, 3)\r\n    valueAddition(&quot;Cars&quot;, 2, 0)\r\n    valueAddition(&quot;Mercedes&quot;, 2, 1)\r\n```\r\n\r\nThe definition of the `valueAddition` method was not done yet... the thought process is that each value will be stored in a map variable such as\r\n\r\n```java\r\n    class Values {\r\n        String value1;\r\n        String value2;\r\n        String value3;\r\n    }\r\n\r\n    Map&lt;String,Values) valuesWithId = new HashMap&lt;&gt;();\r\n\r\n    valueAddition(String value, int row, int col) {\r\n        if (col == 0) {\r\n            valuesWithId.put(value, null);\r\n        else {\r\n            // append the values to the corresponding value in the Map.\r\n        }\r\n    }\r\n```","title":"Converting large volume Excel Data into XML in Java","body":"<p>Consider we have an Excel file with 4 columns:</p>\n<pre><code>|ID|Value1|Value2|Value3|\n|Fruits|Apple|Banana|Papaya|\n|Cars|Mercedes|Ferrari|Haas|\n</code></pre>\n<p>There can be million of rows in the Excel file.</p>\n<p>From the Excel file, We need to read the values row by row and create an XML.</p>\n<p>Problem:\nI am allowed to code in a method like <code>valueAddition(String value, int row, int col)</code> where we will be getting the values row-wise.</p>\n<p>I am thinking of a solution where we will be creating a Map, to store all the values from the Excel file to the memory and then create the XML traversing the values in the variable (memory).</p>\n<p>There is no option to create the XML file while iterating <code>valueAddition()</code> because the XML file may be in this format:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Values&gt;\n        &lt;ValueList ID=&quot;Fruits&quot;&gt;\n            &lt;Value&gt;Apple&lt;/Value&gt;\n            &lt;Value&gt;Banana&lt;/Value&gt;\n            &lt;Value&gt;Papaya&lt;/Value&gt;\n        &lt;/ValueList&gt;\n        &lt;Valueist ID=&quot;Cars&quot;&gt;\n            &lt;Value&gt;Mercedes&lt;/Value&gt;\n            &lt;Value&gt;Haas&lt;/Value&gt;\n            &lt;Value&gt;Haas&lt;/Value&gt;\n        &lt;/ValueList&gt;\n    &lt;/Values&gt;\n</code></pre>\n<p>Where I won't be knowing while the control will be in <code>valueAddition()</code>, that the same Fruits ID can be present in the last part of the Excel File and I need to map it inside the XML tag <code>&lt;ValueList ID=&quot;Fruits&quot;&gt;</code>.</p>\n<p>Now putting records of millions in memory can be troublesome. Is there any alternative method to do it?</p>\n<p>Please Note:\n<code>XSSFReader</code> (Apache POI) is used to read the Excel file row-wise.\nThe <code>valueAddition(String value, int row, int col)</code> method will be called in a loop...\nAt a time, the <code>valueAddition</code> will contain the value in the Excel file, the row number, and its column number.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    valueAddition(&quot;Fruits&quot;, 1, 0)\n    valueAddition(&quot;Apple&quot;, 1, 1)\n    valueAddition(&quot;Banana&quot;, 1, 2)\n    valueAddition(&quot;Papaya&quot;, 1, 3)\n    valueAddition(&quot;Cars&quot;, 2, 0)\n    valueAddition(&quot;Mercedes&quot;, 2, 1)\n</code></pre>\n<p>The definition of the <code>valueAddition</code> method was not done yet... the thought process is that each value will be stored in a map variable such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Values {\n        String value1;\n        String value2;\n        String value3;\n    }\n\n    Map&lt;String,Values) valuesWithId = new HashMap&lt;&gt;();\n\n    valueAddition(String value, int row, int col) {\n        if (col == 0) {\n            valuesWithId.put(value, null);\n        else {\n            // append the values to the corresponding value in the Map.\n        }\n    }\n</code></pre>\n"},{"tags":["java","sap-cloud-sdk"],"comments":[{"owner":{"account_id":16076874,"reputation":1,"user_id":11603897,"display_name":"anubha jain"},"score":0,"creation_date":1688554152,"post_id":76615968,"comment_id":135087824,"body_markdown":"As a workaround I have added the field which I wanted to update as a property in the updateObject(by making change in yaml file), instead of sending as cloudSDKCustomField. Using PUT.","body":"As a workaround I have added the field which I wanted to update as a property in the updateObject(by making change in yaml file), instead of sending as cloudSDKCustomField. Using PUT."}],"answers":[{"tags":[],"owner":{"account_id":1233473,"reputation":1089,"user_id":3275009,"display_name":"Christoph Schubert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688552363,"creation_date":1688552363,"answer_id":76619368,"question_id":76615968,"body_markdown":"Since version 4.15.0 of the SAP Cloud SDK, the objects generated by our OpenAPI generator allow you to access custom fields that are not part of the object specification.\r\nCompare for that: https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023\r\n\r\nHowever, this does not allow you to write custom fields at this moment.\r\n\r\nI can create a BLI on our side to have a look into supporting this, but cannot give any timeline or commitment.","title":"open API generated Cloud SDK custom fields update","body":"<p>Since version 4.15.0 of the SAP Cloud SDK, the objects generated by our OpenAPI generator allow you to access custom fields that are not part of the object specification.\nCompare for that: <a href=\"https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023\" rel=\"nofollow noreferrer\">https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023</a></p>\n<p>However, this does not allow you to write custom fields at this moment.</p>\n<p>I can create a BLI on our side to have a look into supporting this, but cannot give any timeline or commitment.</p>\n"}],"owner":{"account_id":16076874,"reputation":1,"user_id":11603897,"display_name":"anubha jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688552363,"creation_date":1688506394,"question_id":76615968,"body_markdown":"I&#39;m trying to update cloudSDKCustomFields using an OpenAPI generated API. But I&#39;m not able to do so as these custom fields are not getting serialized.\r\n\r\nHow to update these custom fields?\r\n\r\nI tried via PATCH and PUT, both not working.\r\n","title":"open API generated Cloud SDK custom fields update","body":"<p>I'm trying to update cloudSDKCustomFields using an OpenAPI generated API. But I'm not able to do so as these custom fields are not getting serialized.</p>\n<p>How to update these custom fields?</p>\n<p>I tried via PATCH and PUT, both not working.</p>\n"},{"tags":["java","junit5","junit5-extension-model"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688552140,"creation_date":1688490152,"answer_id":76614650,"question_id":76613310,"body_markdown":"Looking at existing Jupiter functionality you can see that most existing implementations of `ExecutionCondition` work with annotations. Thus, what you want to do is possible.\r\n\r\nLet&#39;s look at (parts of) the implementation of `DisabledCondition`:\r\n\r\n```java\r\n\r\nimport static org.junit.platform.commons.util.AnnotationUtils.findAnnotation;\r\n\r\n\r\nclass DisabledCondition implements ExecutionCondition {\r\n\r\n\tprivate static final ConditionEvaluationResult ENABLED = ConditionEvaluationResult.enabled(\r\n\t\t&quot;@Disabled is not present&quot;);\r\n\r\n\t@Override\r\n\tpublic ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\r\n\t\tAnnotatedElement element = context.getElement().orElse(null);\r\n\t\treturn findAnnotation(element, Disabled.class) //\r\n\t\t\t\t.map(annotation -&gt; toResult(element, annotation)) //\r\n\t\t\t\t.orElse(ENABLED);\r\n\t}\r\n\r\n\tprivate ConditionEvaluationResult toResult(AnnotatedElement element, Disabled annotation) {\r\n\t\tString value = annotation.value();\r\n\t\tString reason = StringUtils.isNotBlank(value) ? value : element + &quot; is @Disabled&quot;;\r\n\t\treturn ConditionEvaluationResult.disabled(reason);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIf you replace `Disabled` with `DisabledOnServerNotListening` you have a head start on the implementation of your own `ExecutionCondition` subtype.\r\n\r\nThe actual checking code for host availability would probably reside within the `toResult` method. Similar to:\r\n\r\n```java\r\nprivate ConditionEvaluationResult toResult(AnnotatedElement element, DisabledOnServerNotListening annotation) {\r\n    String hostPropName = annotation.propertyNameHost();\r\n    String portPropName = annotation.propertyNamePort();\r\n    boolean disabled = !checkIfHostIsListening(hostPropName, portPropName);\r\n    if (disabled) \r\n        return ConditionEvaluationResult.disabled(&quot;host not listening&quot;);\r\n    else\r\n        return ConditionEvaluationResult.enabled();\r\n}\r\n```","title":"Is there a way to access values of a custom annotation in a ExecutionCondition of junit 5 tests?","body":"<p>Looking at existing Jupiter functionality you can see that most existing implementations of <code>ExecutionCondition</code> work with annotations. Thus, what you want to do is possible.</p>\n<p>Let's look at (parts of) the implementation of <code>DisabledCondition</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static org.junit.platform.commons.util.AnnotationUtils.findAnnotation;\n\n\nclass DisabledCondition implements ExecutionCondition {\n\n    private static final ConditionEvaluationResult ENABLED = ConditionEvaluationResult.enabled(\n        &quot;@Disabled is not present&quot;);\n\n    @Override\n    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\n        AnnotatedElement element = context.getElement().orElse(null);\n        return findAnnotation(element, Disabled.class) //\n                .map(annotation -&gt; toResult(element, annotation)) //\n                .orElse(ENABLED);\n    }\n\n    private ConditionEvaluationResult toResult(AnnotatedElement element, Disabled annotation) {\n        String value = annotation.value();\n        String reason = StringUtils.isNotBlank(value) ? value : element + &quot; is @Disabled&quot;;\n        return ConditionEvaluationResult.disabled(reason);\n    }\n\n}\n</code></pre>\n<p>If you replace <code>Disabled</code> with <code>DisabledOnServerNotListening</code> you have a head start on the implementation of your own <code>ExecutionCondition</code> subtype.</p>\n<p>The actual checking code for host availability would probably reside within the <code>toResult</code> method. Similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ConditionEvaluationResult toResult(AnnotatedElement element, DisabledOnServerNotListening annotation) {\n    String hostPropName = annotation.propertyNameHost();\n    String portPropName = annotation.propertyNamePort();\n    boolean disabled = !checkIfHostIsListening(hostPropName, portPropName);\n    if (disabled) \n        return ConditionEvaluationResult.disabled(&quot;host not listening&quot;);\n    else\n        return ConditionEvaluationResult.enabled();\n}\n</code></pre>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76614650,"answer_count":1,"score":0,"last_activity_date":1688552140,"creation_date":1688478492,"question_id":76613310,"body_markdown":"I have the following annotation to mark test code that should not be executed if a server does not listen on a host and port each specified in a properties file:\r\n\r\n```\r\n@Target({ ElementType.TYPE, ElementType.METHOD })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@ExtendWith(DisableOnServerNotListening.class)\r\npublic @interface DisabledOnServerNotListening\r\n{\r\n\tString propertyNameHost() default &quot;host&quot;;\r\n\tString propertyNamePort() default &quot;port&quot;;\r\n}\r\n```\r\n\r\nIn a junit 5 ```&#200;xecutionCondition``` I want to look up the actual configured host/port values from the property file to decide if the test should be run (port is listening) or not\r\n(port is not listening). Because there may be more than one host/port configuration in my tests I need to be flexible regarding property names. So how can I access the values of the annotation? Debugging shows that there is a field called ```testDescriptor``` in ```ExtensionContext```, but it is not exposed for access.","title":"Is there a way to access values of a custom annotation in a ExecutionCondition of junit 5 tests?","body":"<p>I have the following annotation to mark test code that should not be executed if a server does not listen on a host and port each specified in a properties file:</p>\n<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@ExtendWith(DisableOnServerNotListening.class)\npublic @interface DisabledOnServerNotListening\n{\n    String propertyNameHost() default &quot;host&quot;;\n    String propertyNamePort() default &quot;port&quot;;\n}\n</code></pre>\n<p>In a junit 5 <code>ÈxecutionCondition</code> I want to look up the actual configured host/port values from the property file to decide if the test should be run (port is listening) or not\n(port is not listening). Because there may be more than one host/port configuration in my tests I need to be flexible regarding property names. So how can I access the values of the annotation? Debugging shows that there is a field called <code>testDescriptor</code> in <code>ExtensionContext</code>, but it is not exposed for access.</p>\n"},{"tags":["java","user-interface","keycloak","rocky-os"],"answers":[{"tags":[],"owner":{"account_id":8456331,"reputation":71,"user_id":6343472,"display_name":"Jose Luis Viloria"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678770881,"creation_date":1678096940,"answer_id":75649421,"question_id":75232123,"body_markdown":"To fix this error add the environment variables:\r\n \r\n\r\n&gt;  KC_HOSTNAME_STRICT: &quot;false&quot;   KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;  \r\n&gt; KC_HTTP_ENABLED: &quot;true&quot;   KC_PROXY: edge","title":"Keycloak: Not able to load admin GUI/console","body":"<p>To fix this error add the environment variables:</p>\n<blockquote>\n<p>KC_HOSTNAME_STRICT: &quot;false&quot;   KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;<br />\nKC_HTTP_ENABLED: &quot;true&quot;   KC_PROXY: edge</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688552017,"creation_date":1688548644,"answer_id":76618853,"question_id":75232123,"body_markdown":"When Keycloak is running in Production mode over HTTPS, the aforementioned issue may arise if you are using **IPADDRESS** in place of **HOSTNAME** to access Keycloak UI. \r\nSo one solution is use below command\r\n\r\n    ./kc.sh start --http-enabled true --hostname &lt;HOSTNAME&gt;\r\n\r\nand then access Keycloak UI with this url\r\n\r\n    https://&lt;HOSTNAME&gt;:PORT\r\n\r\nAnother dirty Solution is ,set Below parameters \r\n \r\n\r\n     export KC_HOSTNAME_STRICT= &quot;false&quot;\r\n     export KC_HOSTNAME_STRICT_HTTPS= &quot;false&quot;\r\n     export KC_HTTP_ENABLED= &quot;true&quot;\r\n\r\nAnd Start Keycloak like this and access through IPADDRESS\r\n\r\n    ./kc.sh start --http-enabled=false --https-key-store-password=secret --proxy edge\r\n\r\n","title":"Keycloak: Not able to load admin GUI/console","body":"<p>When Keycloak is running in Production mode over HTTPS, the aforementioned issue may arise if you are using <strong>IPADDRESS</strong> in place of <strong>HOSTNAME</strong> to access Keycloak UI.\nSo one solution is use below command</p>\n<pre><code>./kc.sh start --http-enabled true --hostname &lt;HOSTNAME&gt;\n</code></pre>\n<p>and then access Keycloak UI with this url</p>\n<pre><code>https://&lt;HOSTNAME&gt;:PORT\n</code></pre>\n<p>Another dirty Solution is ,set Below parameters</p>\n<pre><code> export KC_HOSTNAME_STRICT= &quot;false&quot;\n export KC_HOSTNAME_STRICT_HTTPS= &quot;false&quot;\n export KC_HTTP_ENABLED= &quot;true&quot;\n</code></pre>\n<p>And Start Keycloak like this and access through IPADDRESS</p>\n<pre><code>./kc.sh start --http-enabled=false --https-key-store-password=secret --proxy edge\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3480,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76618853,"answer_count":2,"score":3,"last_activity_date":1688552017,"creation_date":1674640002,"question_id":75232123,"body_markdown":"We have installed [Keycloak][1] Latest version[**20.0.3**] into the VM. \r\nWith the help of kc shell script trying to start the Keycloak\r\n\r\n    ./kc.sh start --http-enabled true --hostname &lt;IP-ADDRESS&gt;\r\n\r\nUp to here everything is fine and I was able to view the home screen of Keycloak but when it redirecting[http://&lt;IP-ADDRESS&gt;:8080/admin/master/console/] to login into the admin console its struck and not loading \r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy browser Developer tool showing this error\r\n\r\n&gt; Timeout when waiting for 3rd party check iframe message.\r\n\r\n 1. Linux Rocky 6.5\r\n 2. Java 11\r\n\r\n**Note:-**\r\n\r\nWhen i am using development mode everything works fine.\r\n\r\n     ./kc.sh start-dev\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/releases/download/20.0.3/keycloak-20.0.3.zip\r\n  [2]: https://i.stack.imgur.com/kjWTj.png","title":"Keycloak: Not able to load admin GUI/console","body":"<p>We have installed <a href=\"https://github.com/keycloak/keycloak/releases/download/20.0.3/keycloak-20.0.3.zip\" rel=\"nofollow noreferrer\">Keycloak</a> Latest version[<strong>20.0.3</strong>] into the VM.\nWith the help of kc shell script trying to start the Keycloak</p>\n<pre><code>./kc.sh start --http-enabled true --hostname &lt;IP-ADDRESS&gt;\n</code></pre>\n<p>Up to here everything is fine and I was able to view the home screen of Keycloak but when it redirecting[http://:8080/admin/master/console/] to login into the admin console its struck and not loading</p>\n<p><a href=\"https://i.stack.imgur.com/kjWTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjWTj.png\" alt=\"enter image description here\" /></a></p>\n<p>My browser Developer tool showing this error</p>\n<blockquote>\n<p>Timeout when waiting for 3rd party check iframe message.</p>\n</blockquote>\n<ol>\n<li>Linux Rocky 6.5</li>\n<li>Java 11</li>\n</ol>\n<p><strong>Note:-</strong></p>\n<p>When i am using development mode everything works fine.</p>\n<pre><code> ./kc.sh start-dev\n</code></pre>\n"},{"tags":["java","automation","database-testing"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688593738,"post_id":76619319,"comment_id":135096192,"body_markdown":"Welcome to stackoverflow. Asking for tool and library recommendations is off-topic here; see [help/on-topic]. Your best bet is probably a web search. Years ago I briefly looked at pgtap, maybe there is something similar for other databases that works for you. Good luck!","body":"Welcome to stackoverflow. Asking for tool and library recommendations is off-topic here; see <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>. Your best bet is probably a web search. Years ago I briefly looked at pgtap, maybe there is something similar for other databases that works for you. Good luck!"}],"owner":{"account_id":28954617,"reputation":1,"user_id":22178445,"display_name":"Developer_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551979,"creation_date":1688551979,"question_id":76619319,"body_markdown":"I am from a JAVA background\r\n\r\nI have a requirement for a automated Testing Process or Framework that can be used to verify our stored procedures and functions in Aurora DB compatible with Mysql. We have Cypress which we use to automate in UI side of APP.\r\n\r\nBut Currently we want to automate Testing process in DB.(i.e) \r\n1) To create and maintain test cases for each procedures and functions\r\n2) To run the complete or subset of test cases\r\n\r\nI did a quick google search and could not find any frameworks or tools for it. \r\n\r\nSuggestions on any already existing tools/ Design aspects for the same if it has to be developed is welcome.\r\n\r\n\r\nThanks in Advance!\r\n\r\n","title":"DB Procedure Test Aumation","body":"<p>I am from a JAVA background</p>\n<p>I have a requirement for a automated Testing Process or Framework that can be used to verify our stored procedures and functions in Aurora DB compatible with Mysql. We have Cypress which we use to automate in UI side of APP.</p>\n<p>But Currently we want to automate Testing process in DB.(i.e)</p>\n<ol>\n<li>To create and maintain test cases for each procedures and functions</li>\n<li>To run the complete or subset of test cases</li>\n</ol>\n<p>I did a quick google search and could not find any frameworks or tools for it.</p>\n<p>Suggestions on any already existing tools/ Design aspects for the same if it has to be developed is welcome.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","spring","servlets","cache-control"],"comments":[{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688457463,"post_id":76610216,"comment_id":135073076,"body_markdown":"without webserver like apache, even in eclipse local tomcat server. inner jsp images are returned with no-cache, no-store, must-revalidate.","body":"without webserver like apache, even in eclipse local tomcat server. inner jsp images are returned with no-cache, no-store, must-revalidate."},{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688457595,"post_id":76610216,"comment_id":135073108,"body_markdown":"I have already checked tomcat default servlet configurations, but there was no extra-configuration about Cache-Control","body":"I have already checked tomcat default servlet configurations, but there was no extra-configuration about Cache-Control"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1688467417,"post_id":76610216,"comment_id":135075155,"body_markdown":"The set-cookie header says that you&#39;re running this behind AWSALB which is a load balancing proxy of AWS EC2. Look over there. This is at least not a programming problem.","body":"The set-cookie header says that you&#39;re running this behind AWSALB which is a load balancing proxy of AWS EC2. Look over there. This is at least not a programming problem."},{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688516579,"post_id":76610216,"comment_id":135082992,"body_markdown":"Thank you BalusC. I will ask AWS teachnical team. Thank you very much. Have a nice day","body":"Thank you BalusC. I will ask AWS teachnical team. Thank you very much. Have a nice day"}],"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551812,"creation_date":1688455388,"question_id":76610216,"body_markdown":"//////////////////// Configuration information ////////////////\r\n\r\n    Environment :         \r\n        java : oracle 8\r\n        Spring4 xml config\r\n        eclispe version: 2020-06(4.16.0)\r\n        was-server: tomcat 8.5\r\n        servlet: web-app_3_1.xsd version=3.1 \r\n        jsp: 2.1\r\n    Sympthoms: some image files are always returned with &quot;no-cache, no-store, must-revalidate\r\n\r\nOur system landing page includes jsp file like below.\r\n\r\n```\r\n///////////////////// landing.jsp ///////////////////////////\r\n    &lt;span&gt; &lt;image name=&quot;aaa&quot; src=&quot;----------------&quot; /&gt; &lt;/span&gt;\r\n        &lt;jsp:include pag=&quot;/WEB-INF/jsp/usr/common/curation.jsp&quot;&gt;\r\n        &lt;jsp:param name=&quot;resourceNo&quot; value=&quot;21&quot; /&gt;\r\n    &lt;/jsp:include&gt;\r\n```\r\n\r\nWhen landing page was loaded. I checked the response header in chrome network tab.\r\nthe image aaa had Cache-Control: max-age=0 ( this is good because browser does not try network round trip)\r\n\r\nBut on the images in the inner jsp file(/WEB-INF/jsp/usr/common/curation.jsp)\r\nThey are always downloaded on the origin tomcat server.\r\n\r\nSo I checked the Cash-Control&#39;s value...\r\nIt was &quot;no-cache, no-store, must-revalidate&quot;.\r\n\r\nBut our system did not set any response Cahche-Control header value.\r\n\r\nI don&#39;t know why tomcat always use cach-control: no-cache, no-store, must-revalidate on that inner jsp images.\r\n\r\n\r\nSo I decided to create Filter that overwrite the Cahche-Control value like below\r\n\r\n```\r\n///////////////////////////// web.xml /////////////////////////////////\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;testFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n////////////////////////////// Filter ////////////////////////////////\r\n```\r\n```  \r\npulbic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletExcetpion{\r\n    resp = (HttpServletResponse) response;\r\n    chain.doFilter(request, response); // \r\n    resp.setHeader(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n\r\n}\r\n```\r\n\r\n\r\nBut despite of applying filter, the images in the curation.jsp does not use cache, because they are always returned with no-cache, no-store, re-validate..\r\n\r\n[![enter image description here][1]][1]\r\nAnybody knows this magical sympthoms...\r\nguide me how do I fix this... I want to use cache only &quot;max-age=0&quot;.\r\n\r\n\r\nthank you in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jP14d.png","title":"Tomcat some image file response always cache-control &quot;no-cache, no-store, must-revalidate","body":"<p>//////////////////// Configuration information ////////////////</p>\n<pre><code>Environment :         \n    java : oracle 8\n    Spring4 xml config\n    eclispe version: 2020-06(4.16.0)\n    was-server: tomcat 8.5\n    servlet: web-app_3_1.xsd version=3.1 \n    jsp: 2.1\nSympthoms: some image files are always returned with &quot;no-cache, no-store, must-revalidate\n</code></pre>\n<p>Our system landing page includes jsp file like below.</p>\n<pre><code>///////////////////// landing.jsp ///////////////////////////\n    &lt;span&gt; &lt;image name=&quot;aaa&quot; src=&quot;----------------&quot; /&gt; &lt;/span&gt;\n        &lt;jsp:include pag=&quot;/WEB-INF/jsp/usr/common/curation.jsp&quot;&gt;\n        &lt;jsp:param name=&quot;resourceNo&quot; value=&quot;21&quot; /&gt;\n    &lt;/jsp:include&gt;\n</code></pre>\n<p>When landing page was loaded. I checked the response header in chrome network tab.\nthe image aaa had Cache-Control: max-age=0 ( this is good because browser does not try network round trip)</p>\n<p>But on the images in the inner jsp file(/WEB-INF/jsp/usr/common/curation.jsp)\nThey are always downloaded on the origin tomcat server.</p>\n<p>So I checked the Cash-Control's value...\nIt was &quot;no-cache, no-store, must-revalidate&quot;.</p>\n<p>But our system did not set any response Cahche-Control header value.</p>\n<p>I don't know why tomcat always use cach-control: no-cache, no-store, must-revalidate on that inner jsp images.</p>\n<p>So I decided to create Filter that overwrite the Cahche-Control value like below</p>\n<pre><code>///////////////////////////// web.xml /////////////////////////////////\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;testFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n////////////////////////////// Filter ////////////////////////////////\n</code></pre>\n<pre><code>pulbic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletExcetpion{\n    resp = (HttpServletResponse) response;\n    chain.doFilter(request, response); // \n    resp.setHeader(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n\n}\n</code></pre>\n<p>But despite of applying filter, the images in the curation.jsp does not use cache, because they are always returned with no-cache, no-store, re-validate..</p>\n<p><a href=\"https://i.stack.imgur.com/jP14d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jP14d.png\" alt=\"enter image description here\" /></a>\nAnybody knows this magical sympthoms...\nguide me how do I fix this... I want to use cache only &quot;max-age=0&quot;.</p>\n<p>thank you in advance</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":21152599,"reputation":1,"user_id":15552578,"display_name":"Mobile App Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551755,"creation_date":1688108282,"question_id":76586681,"body_markdown":"I am currently developing a task reminder app that allows users to specify the desired time, date, and day for receiving notifications along with an alarm. To illustrate, a user can input the following details:\r\n \r\n    Jul 7, 2023\r\n    Tuesday\r\n    11 : 30 AM\r\n\r\nNow the the user should receive a notification, accompanied by an alarming sound, even if the app has been completely closed. I have attempted various approaches but haven&#39;t been successful so far. This is my code:\r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n        private ActivityMainBinding binding;\r\n        private AlarmManager alarmManager;\r\n        private String dateToNotify, timeToNotify;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n    \r\n            binding.dateEditText.setOnClickListener(this);\r\n            binding.timeEditText.setOnClickListener(this);\r\n            binding.setAlarmButton.setOnClickListener(this);\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.date_edit_text)\r\n                showMaterialDatePickerToUpdate();\r\n            else if (v.getId() == R.id.time_edit_text)\r\n                showMaterialTimePicker();\r\n            else if (v.getId() == R.id.set_alarm_button) {\r\n                String monthInAlphabets = dateToNotify.substring(0, 3);\r\n                int monthInDigits = 0;\r\n                if (monthInAlphabets.equalsIgnoreCase(&quot;Jan&quot;))\r\n                    monthInDigits = 1;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Feb&quot;))\r\n                    monthInDigits = 2;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Mar&quot;))\r\n                    monthInDigits = 3;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Apr&quot;))\r\n                    monthInDigits = 4;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;May&quot;))\r\n                    monthInDigits = 5;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Jun&quot;))\r\n                    monthInDigits = 6;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Jul&quot;))\r\n                    monthInDigits = 7;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Aug&quot;))\r\n                    monthInDigits = 8;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Sep&quot;))\r\n                    monthInDigits = 9;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Oct&quot;))\r\n                    monthInDigits = 10;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Nov&quot;))\r\n                    monthInDigits = 11;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Dec&quot;))\r\n                    monthInDigits = 12;\r\n    \r\n                int dateOfMonth, year;\r\n                if (dateToNotify.length() == 11) {\r\n                    dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 5));\r\n                    year = Integer.parseInt(dateToNotify.substring(7, 11));\r\n                } else {\r\n                    dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 6));\r\n                    year = Integer.parseInt(dateToNotify.substring(8, 12));\r\n                }\r\n    \r\n                String hours = timeToNotify.substring(0, 2);\r\n                String minutes = timeToNotify.substring(5, 7);\r\n                String ampm = timeToNotify.substring(8, 10);\r\n    \r\n                /*Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeInMillis(System.currentTimeMillis());\r\n                calendar.set(Calendar.DAY_OF_MONTH, dateOfMonth);\r\n                calendar.set(Calendar.YEAR, year);\r\n                calendar.set(Calendar.MONTH, monthInDigits);\r\n                calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\r\n                calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\r\n                calendar.set(Calendar.SECOND, 0);\r\n                if (ampm.equalsIgnoreCase(&quot;AM&quot;))\r\n                    calendar.set(Calendar.AM, 0);\r\n                else\r\n                    calendar.set(Calendar.PM, 1);*/\r\n    \r\n                //            calendar.set(year, monthInDigits, dateOfMonth, Integer.parseInt(hours), Integer.parseInt(minutes));\r\n    \r\n                Intent intent = new Intent(this, MyAlarmReceiver.class);\r\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent,\r\n                    PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeInMillis(System.currentTimeMillis());\r\n                calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\r\n                calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\r\n    \r\n                alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n    \r\n                /*if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n                } else {\r\n                    alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n                }*/\r\n            }\r\n        }\r\n    \r\n        private void showMaterialTimePicker() {\r\n            Calendar calendar = Calendar.getInstance();\r\n            MaterialTimePicker.Builder builder = new MaterialTimePicker.Builder();\r\n            builder.setTitleText(&quot;Select Time...&quot;);\r\n            builder.setTimeFormat(TimeFormat.CLOCK_12H);\r\n            builder.setInputMode(MaterialTimePicker.INPUT_MODE_CLOCK);\r\n            builder.setHour(calendar.get(Calendar.HOUR));\r\n            builder.setMinute(calendar.get(Calendar.MINUTE));\r\n            MaterialTimePicker materialTimePicker = builder.build();\r\n            materialTimePicker.show(getSupportFragmentManager(), &quot;MATERIAL_TIME_PICKER&quot;);\r\n            materialTimePicker.addOnPositiveButtonClickListener(v - &gt; {\r\n                Time time = new Time(materialTimePicker.getHour(), materialTimePicker.getMinute(), 0);\r\n                Format formatter = new SimpleDateFormat(&quot;a&quot;);\r\n    \r\n                if (Objects.equals(formatter.format(time), &quot;PM&quot;)) {\r\n                    int hours = materialTimePicker.getHour() - 12;\r\n                    if (hours &gt; 0 &amp;&amp; hours &lt;= 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;0&quot; + hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;0&quot; + hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (hours &gt; 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (hours == 0) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (materialTimePicker.getHour() &gt; 0 &amp;&amp; materialTimePicker.getHour() &lt;= 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (materialTimePicker.getHour() &gt; 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (materialTimePicker.getHour() == 0) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void showMaterialDatePickerToUpdate() {\r\n            MaterialDatePicker.Builder &lt; Long &gt; datePicker = MaterialDatePicker.Builder.datePicker();\r\n            datePicker.setTitleText(&quot;Select Date...&quot;);\r\n            datePicker.setSelection(MaterialDatePicker.todayInUtcMilliseconds());\r\n            datePicker.setInputMode(MaterialDatePicker.INPUT_MODE_CALENDAR);\r\n            MaterialDatePicker &lt; Long &gt; picker = datePicker.build();\r\n            picker.show(getSupportFragmentManager(), &quot;MATERIAL_DATE_PICKER&quot;);\r\n            picker.addOnPositiveButtonClickListener(selection - &gt; {\r\n                dateToNotify = picker.getHeaderText();\r\n                binding.dateEditText.setText(dateToNotify);\r\n            });\r\n        }\r\n    }\r\n    \r\n    BroadCastReceiver.java\r\n    public class MyAlarmReceiver extends BroadcastReceiver {\r\n    \r\n        private MediaPlayer mediaPlayer;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            mediaPlayer = MediaPlayer.create(context, Settings.System.DEFAULT_RINGTONE_URI);\r\n            mediaPlayer.setLooping(true);\r\n            mediaPlayer.start();\r\n            Toast.makeText(context, &quot;Alarm is ON...&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"AlarmManager not fire notification even when app is completely destroy from memory","body":"<p>I am currently developing a task reminder app that allows users to specify the desired time, date, and day for receiving notifications along with an alarm. To illustrate, a user can input the following details:</p>\n<pre><code>Jul 7, 2023\nTuesday\n11 : 30 AM\n</code></pre>\n<p>Now the the user should receive a notification, accompanied by an alarming sound, even if the app has been completely closed. I have attempted various approaches but haven't been successful so far. This is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private ActivityMainBinding binding;\n    private AlarmManager alarmManager;\n    private String dateToNotify, timeToNotify;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n\n        binding.dateEditText.setOnClickListener(this);\n        binding.timeEditText.setOnClickListener(this);\n        binding.setAlarmButton.setOnClickListener(this);\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.date_edit_text)\n            showMaterialDatePickerToUpdate();\n        else if (v.getId() == R.id.time_edit_text)\n            showMaterialTimePicker();\n        else if (v.getId() == R.id.set_alarm_button) {\n            String monthInAlphabets = dateToNotify.substring(0, 3);\n            int monthInDigits = 0;\n            if (monthInAlphabets.equalsIgnoreCase(&quot;Jan&quot;))\n                monthInDigits = 1;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Feb&quot;))\n                monthInDigits = 2;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Mar&quot;))\n                monthInDigits = 3;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Apr&quot;))\n                monthInDigits = 4;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;May&quot;))\n                monthInDigits = 5;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Jun&quot;))\n                monthInDigits = 6;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Jul&quot;))\n                monthInDigits = 7;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Aug&quot;))\n                monthInDigits = 8;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Sep&quot;))\n                monthInDigits = 9;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Oct&quot;))\n                monthInDigits = 10;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Nov&quot;))\n                monthInDigits = 11;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Dec&quot;))\n                monthInDigits = 12;\n\n            int dateOfMonth, year;\n            if (dateToNotify.length() == 11) {\n                dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 5));\n                year = Integer.parseInt(dateToNotify.substring(7, 11));\n            } else {\n                dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 6));\n                year = Integer.parseInt(dateToNotify.substring(8, 12));\n            }\n\n            String hours = timeToNotify.substring(0, 2);\n            String minutes = timeToNotify.substring(5, 7);\n            String ampm = timeToNotify.substring(8, 10);\n\n            /*Calendar calendar = Calendar.getInstance();\n            calendar.setTimeInMillis(System.currentTimeMillis());\n            calendar.set(Calendar.DAY_OF_MONTH, dateOfMonth);\n            calendar.set(Calendar.YEAR, year);\n            calendar.set(Calendar.MONTH, monthInDigits);\n            calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\n            calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\n            calendar.set(Calendar.SECOND, 0);\n            if (ampm.equalsIgnoreCase(&quot;AM&quot;))\n                calendar.set(Calendar.AM, 0);\n            else\n                calendar.set(Calendar.PM, 1);*/\n\n            //            calendar.set(year, monthInDigits, dateOfMonth, Integer.parseInt(hours), Integer.parseInt(minutes));\n\n            Intent intent = new Intent(this, MyAlarmReceiver.class);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent,\n                PendingIntent.FLAG_IMMUTABLE);\n\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTimeInMillis(System.currentTimeMillis());\n            calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\n            calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\n\n            alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n\n            /*if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n            } else {\n                alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n            }*/\n        }\n    }\n\n    private void showMaterialTimePicker() {\n        Calendar calendar = Calendar.getInstance();\n        MaterialTimePicker.Builder builder = new MaterialTimePicker.Builder();\n        builder.setTitleText(&quot;Select Time...&quot;);\n        builder.setTimeFormat(TimeFormat.CLOCK_12H);\n        builder.setInputMode(MaterialTimePicker.INPUT_MODE_CLOCK);\n        builder.setHour(calendar.get(Calendar.HOUR));\n        builder.setMinute(calendar.get(Calendar.MINUTE));\n        MaterialTimePicker materialTimePicker = builder.build();\n        materialTimePicker.show(getSupportFragmentManager(), &quot;MATERIAL_TIME_PICKER&quot;);\n        materialTimePicker.addOnPositiveButtonClickListener(v - &gt; {\n            Time time = new Time(materialTimePicker.getHour(), materialTimePicker.getMinute(), 0);\n            Format formatter = new SimpleDateFormat(&quot;a&quot;);\n\n            if (Objects.equals(formatter.format(time), &quot;PM&quot;)) {\n                int hours = materialTimePicker.getHour() - 12;\n                if (hours &gt; 0 &amp;&amp; hours &lt;= 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;0&quot; + hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;0&quot; + hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (hours &gt; 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (hours == 0) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                }\n            } else {\n                if (materialTimePicker.getHour() &gt; 0 &amp;&amp; materialTimePicker.getHour() &lt;= 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (materialTimePicker.getHour() &gt; 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (materialTimePicker.getHour() == 0) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                }\n            }\n        });\n    }\n\n    private void showMaterialDatePickerToUpdate() {\n        MaterialDatePicker.Builder &lt; Long &gt; datePicker = MaterialDatePicker.Builder.datePicker();\n        datePicker.setTitleText(&quot;Select Date...&quot;);\n        datePicker.setSelection(MaterialDatePicker.todayInUtcMilliseconds());\n        datePicker.setInputMode(MaterialDatePicker.INPUT_MODE_CALENDAR);\n        MaterialDatePicker &lt; Long &gt; picker = datePicker.build();\n        picker.show(getSupportFragmentManager(), &quot;MATERIAL_DATE_PICKER&quot;);\n        picker.addOnPositiveButtonClickListener(selection - &gt; {\n            dateToNotify = picker.getHeaderText();\n            binding.dateEditText.setText(dateToNotify);\n        });\n    }\n}\n\nBroadCastReceiver.java\npublic class MyAlarmReceiver extends BroadcastReceiver {\n\n    private MediaPlayer mediaPlayer;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        mediaPlayer = MediaPlayer.create(context, Settings.System.DEFAULT_RINGTONE_URI);\n        mediaPlayer.setLooping(true);\n        mediaPlayer.start();\n        Toast.makeText(context, &quot;Alarm is ON...&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jax-rs","servlet-filters","restful-authentication"],"owner":{"account_id":26185605,"reputation":1,"user_id":19868192,"display_name":"Ya Udah Aja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551412,"creation_date":1688548225,"question_id":76618790,"body_markdown":"Excuse me, I need some help &#39;bout Authorization using library Jakarta ws rs core HttpsHeader. I code for the filter function from `ContainerRequestFilter` and I want `getHeaderString` Authorization was and always return null. I give some pattern code for this case from `TokenNeededFilter.java`. I&#39;m Using Jakarta EE 10, Tomcat 10.1, and Library Jakarta EE all. Thanks.\r\n\r\n\r\nSlice code from `TokenNeededFilter.java`: \t\r\n```java\r\n\tpublic void filter(ContainerRequestContext requestContext) throws IOException {\r\n\t\tSystem.out.println(&quot;url: &quot; + requestContext.getUriInfo().getPath());\r\n\t\t\r\n//\t\tMultivaluedMap&lt;String, String&gt; headers = requestContext.getHeaders();\r\n//\t\tfor (String headerName : headers.keySet()) {\r\n//\t\t\tString headerValue = headers.getFirst(headerName);\r\n//\t\t\tSystem.out.println(&quot;Header : &quot;+ headerName + &quot; = &quot; + headerValue);\r\n//\t\t}\r\n\r\n\t\tString authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n\t\tSystem.out.println(&quot;nilai dari authorization adalah : &quot; + authorizationHeader);\r\n\t\t\r\n\t\tif (!isTokenBasedAuthentication(authorizationHeader)) {\r\n\t\t\tSystem.out.println(&quot;lewat nggga di isTOkenBasedAuthentication&quot;);\r\n\t\t\tabortWithUnauthorized(requestContext);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;harusnya berhenti disini&quot;);\r\n```","title":"AUthorization for JAX-RS always return null","body":"<p>Excuse me, I need some help 'bout Authorization using library Jakarta ws rs core HttpsHeader. I code for the filter function from <code>ContainerRequestFilter</code> and I want <code>getHeaderString</code> Authorization was and always return null. I give some pattern code for this case from <code>TokenNeededFilter.java</code>. I'm Using Jakarta EE 10, Tomcat 10.1, and Library Jakarta EE all. Thanks.</p>\n<p>Slice code from <code>TokenNeededFilter.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void filter(ContainerRequestContext requestContext) throws IOException {\n        System.out.println(&quot;url: &quot; + requestContext.getUriInfo().getPath());\n        \n//      MultivaluedMap&lt;String, String&gt; headers = requestContext.getHeaders();\n//      for (String headerName : headers.keySet()) {\n//          String headerValue = headers.getFirst(headerName);\n//          System.out.println(&quot;Header : &quot;+ headerName + &quot; = &quot; + headerValue);\n//      }\n\n        String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\n        System.out.println(&quot;nilai dari authorization adalah : &quot; + authorizationHeader);\n        \n        if (!isTokenBasedAuthentication(authorizationHeader)) {\n            System.out.println(&quot;lewat nggga di isTOkenBasedAuthentication&quot;);\n            abortWithUnauthorized(requestContext);\n            return;\n        }\n\n        System.out.println(&quot;harusnya berhenti disini&quot;);\n</code></pre>\n"},{"tags":["java","azure-blob-storage","http-get","http-content-length"],"answers":[{"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688472923,"creation_date":1688463995,"answer_id":76611328,"question_id":76610877,"body_markdown":"Do you have success with implementing this requirement using the Http classes packaged with Java?  Sorry, it&#39;s just...  I&#39;m not personally a fan of Apache HttpClient.  The last time I used it it was extremely unstable, bugs across different versions, and I just ended up abandoning it and implementing something similar myself.\r\n\r\nYou can easily do a Http Get with Java as follows:\r\n\r\n    package util;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.time.Duration;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class QuickTest {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            String url = &quot;https://www.google.com&quot;;\r\n    \r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .uri(new URI(url))\r\n                    .version(HttpClient.Version.HTTP_2)\r\n                    .timeout(Duration.of(30, ChronoUnit.SECONDS))\r\n                    .GET()\r\n                    .build();\r\n    \r\n            HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\r\n                    .build()\r\n                    .send(request, HttpResponse.BodyHandlers.ofString());\r\n    \r\n            System.out.println(&quot;Got body: &quot; + response.body());\r\n        }\r\n    }\r\n\r\nCheck out [[this article]](https://www.baeldung.com/java-9-http-client) for more details.  In older code that implements something similar you might see the use of the [HttpURLConnection](https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html) class.  The above code snippet uses the Java 11 classes that support HTTP/2 and Web Socket.\r\n\r\nSorry for not answering your question, I&#39;m just not a fan of Apache HttpClient.  And hopefully you can agree that the implementation given above is already quite succinct and easy to understand so one doesn&#39;t really need an external library.\r\n\r\nThe creation of Apache HttpClient precedes the release of the Java 11 classes used above and were probably implemented to abstract developers away from the complexity of the now deprecated [HttpURLConnection](https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html).\r\n\r\nDo to the problems I&#39;ve encountered working with these things I have also abstracted the implementation into a wrapper.  So my client code (business logic code) uses the wrapper and doesn&#39;t get directly linked to the classes of the implementation I&#39;m actually using, whether that be Apache HttpClient or Java.\r\n\r\nSo in my code you might see:\r\n\r\n    HttpResponse httpResponse = HttpGet.withEndpointUrl(url).execute();\r\n    System.out.println(&quot;Got body: &quot; + httpResponse.getBody());\r\n\r\nWhere `HttpResponse` and `HttpGet` is my own classes.  So the client code doesn&#39;t know what implementation is being used and it doesn&#39;t link the implementation to the classes of that implementation.  So if I ever need to refactor the implementation, then I can just refactor the implementation, and not need to refactor all my client code as well.","title":"Premature end of Content-Length delimited message body (expected: 42&#160;320; received: 7&#160;787)","body":"<p>Do you have success with implementing this requirement using the Http classes packaged with Java?  Sorry, it's just...  I'm not personally a fan of Apache HttpClient.  The last time I used it it was extremely unstable, bugs across different versions, and I just ended up abandoning it and implementing something similar myself.</p>\n<p>You can easily do a Http Get with Java as follows:</p>\n<pre><code>package util;\n\nimport org.junit.jupiter.api.Test;\n\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.Duration;\nimport java.time.temporal.ChronoUnit;\n\npublic class QuickTest {\n\n    @Test\n    public void test() throws Exception {\n        String url = &quot;https://www.google.com&quot;;\n\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(new URI(url))\n                .version(HttpClient.Version.HTTP_2)\n                .timeout(Duration.of(30, ChronoUnit.SECONDS))\n                .GET()\n                .build();\n\n        HttpResponse&lt;String&gt; response = HttpClient.newBuilder()\n                .build()\n                .send(request, HttpResponse.BodyHandlers.ofString());\n\n        System.out.println(&quot;Got body: &quot; + response.body());\n    }\n}\n</code></pre>\n<p>Check out <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">[this article]</a> for more details.  In older code that implements something similar you might see the use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a> class.  The above code snippet uses the Java 11 classes that support HTTP/2 and Web Socket.</p>\n<p>Sorry for not answering your question, I'm just not a fan of Apache HttpClient.  And hopefully you can agree that the implementation given above is already quite succinct and easy to understand so one doesn't really need an external library.</p>\n<p>The creation of Apache HttpClient precedes the release of the Java 11 classes used above and were probably implemented to abstract developers away from the complexity of the now deprecated <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>.</p>\n<p>Do to the problems I've encountered working with these things I have also abstracted the implementation into a wrapper.  So my client code (business logic code) uses the wrapper and doesn't get directly linked to the classes of the implementation I'm actually using, whether that be Apache HttpClient or Java.</p>\n<p>So in my code you might see:</p>\n<pre><code>HttpResponse httpResponse = HttpGet.withEndpointUrl(url).execute();\nSystem.out.println(&quot;Got body: &quot; + httpResponse.getBody());\n</code></pre>\n<p>Where <code>HttpResponse</code> and <code>HttpGet</code> is my own classes.  So the client code doesn't know what implementation is being used and it doesn't link the implementation to the classes of that implementation.  So if I ever need to refactor the implementation, then I can just refactor the implementation, and not need to refactor all my client code as well.</p>\n"},{"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688496638,"creation_date":1688496338,"answer_id":76615191,"question_id":76610877,"body_markdown":"Your code:\r\n\r\n`logger.debug(&quot;Received HTTP response with status code: {}&quot;, response.getStatusLine().getStatusCode());`\r\n\r\nDoes it print the status code for you at least?\r\n\r\nIf you try to print the body at the same location - does that work?\r\n\r\nMaybe it only fails subsequently outside of the method? The [CloseableHttpClient class](https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html) is probably representative of the connection with the endpoint once you execute the request.  I see it implements the [AutoClosable](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html) interface.  So [CloseableHttpClient](https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html), representing the connection, will be closed when you exit your `try` section.\r\n\r\nFrom the [AutoClosable] Javadoc:\r\n\r\n*An object that may hold resources (such as file or socket handles) until it is closed. The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block for which the object has been declared in the resource specification header. This construction ensures prompt release, avoiding resource exhaustion exceptions and errors that may otherwise occur.*\r\n\r\nIf this is the issue, maybe you can create a Messenger object (just an object encapsulating data so that it can be passed around) and populate it with the contents of the [CloseableHttpResponse](https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html) immediately, and return the Messenger object from the method.  Remember to close the [CloseableHttpResponse](https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html).\r\n\r\nAn example Messenger:\r\n\r\n    public class HttpResponse {\r\n    \t\r\n        private final static Logger logger = LoggerFactory.getLogger(HttpResponse.class);\r\n    \r\n    \tprivate final int statusCode;\r\n    \tprivate final String responseBody;\r\n    \tprivate final Map&lt;String, String&gt; headerList;\r\n    \t\r\n    \tpublic HttpResponse(int statusCode) {\r\n    \t\tthis(statusCode, null);\r\n    \t}\r\n    \tpublic HttpResponse(int statusCode, CharSequence responseBody) {\r\n    \t\tthis.statusCode = statusCode;\r\n    \t\tthis.responseBody = responseBody != null ? responseBody.toString() : null;\r\n    \t\tthis.headerList = null;\r\n    \t}\r\n    \t\r\n    \t/** Implementation assumes there is only one header with the specified key **/\r\n    \tpublic String getHeaderNullIfNotValid(String headerKey) {\r\n    \t\tAssert.isNotNull(headerKey);\r\n    \t\tfor (Map.Entry&lt;String, String&gt; currHeader : headerList.entrySet()) {\r\n    \t\t\tif (headerKey.equals(currHeader.getKey()))\r\n    \t\t\t\treturn currHeader.getValue();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic boolean isOk() {\r\n    \t\treturn (statusCode == HttpStatusCode.OK.getCode());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(&quot;Debugging Http response: &quot;);\r\n    \t\tsb.append(&quot;\\n\\t Status code : &quot; + this.statusCode + &quot; &quot;);\r\n    \t\tsb.append(&quot;\\n\\t Response body : &quot; + this.responseBody + &quot; &quot;);\r\n    \t\tif (headerList == null || headerList.size() == 0)\r\n    \t\t\tsb.append(&quot;\\n\\t No headers.&quot;);\r\n    \t\telse {\r\n    \t\t\tsb.append(&quot;\\n\\t Headers:&quot;);\r\n    \t\t\tfor (Map.Entry&lt;String, String&gt; currHeader : headerList.entrySet()) {\r\n    \t\t\t\tsb.append(&quot;\\n\\t\\t &quot; + currHeader.getKey() + &quot; =&gt; &quot; + currHeader.getValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \t\r\n    \t// --- Attributes -------------------------------------------------------------------------------------------------\r\n    \t\r\n    \tpublic int getStatusCode() {\r\n    \t\treturn statusCode;\r\n    \t}\r\n    \tpublic String getBody() {\r\n    \t\treturn responseBody;\r\n    \t}\r\n    \tpublic Map&lt;String, String&gt; getHeaderList() {\r\n    \t\treturn headerList;\r\n    \t}\r\n    }\r\n\r\n","title":"Premature end of Content-Length delimited message body (expected: 42&#160;320; received: 7&#160;787)","body":"<p>Your code:</p>\n<p><code>logger.debug(&quot;Received HTTP response with status code: {}&quot;, response.getStatusLine().getStatusCode());</code></p>\n<p>Does it print the status code for you at least?</p>\n<p>If you try to print the body at the same location - does that work?</p>\n<p>Maybe it only fails subsequently outside of the method? The <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html\" rel=\"nofollow noreferrer\">CloseableHttpClient class</a> is probably representative of the connection with the endpoint once you execute the request.  I see it implements the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoClosable</a> interface.  So <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html\" rel=\"nofollow noreferrer\">CloseableHttpClient</a>, representing the connection, will be closed when you exit your <code>try</code> section.</p>\n<p>From the [AutoClosable] Javadoc:</p>\n<p><em>An object that may hold resources (such as file or socket handles) until it is closed. The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block for which the object has been declared in the resource specification header. This construction ensures prompt release, avoiding resource exhaustion exceptions and errors that may otherwise occur.</em></p>\n<p>If this is the issue, maybe you can create a Messenger object (just an object encapsulating data so that it can be passed around) and populate it with the contents of the <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\" rel=\"nofollow noreferrer\">CloseableHttpResponse</a> immediately, and return the Messenger object from the method.  Remember to close the <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\" rel=\"nofollow noreferrer\">CloseableHttpResponse</a>.</p>\n<p>An example Messenger:</p>\n<pre><code>public class HttpResponse {\n    \n    private final static Logger logger = LoggerFactory.getLogger(HttpResponse.class);\n\n    private final int statusCode;\n    private final String responseBody;\n    private final Map&lt;String, String&gt; headerList;\n    \n    public HttpResponse(int statusCode) {\n        this(statusCode, null);\n    }\n    public HttpResponse(int statusCode, CharSequence responseBody) {\n        this.statusCode = statusCode;\n        this.responseBody = responseBody != null ? responseBody.toString() : null;\n        this.headerList = null;\n    }\n    \n    /** Implementation assumes there is only one header with the specified key **/\n    public String getHeaderNullIfNotValid(String headerKey) {\n        Assert.isNotNull(headerKey);\n        for (Map.Entry&lt;String, String&gt; currHeader : headerList.entrySet()) {\n            if (headerKey.equals(currHeader.getKey()))\n                return currHeader.getValue();\n        }\n        return null;\n    }\n\n    public boolean isOk() {\n        return (statusCode == HttpStatusCode.OK.getCode());\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;Debugging Http response: &quot;);\n        sb.append(&quot;\\n\\t Status code : &quot; + this.statusCode + &quot; &quot;);\n        sb.append(&quot;\\n\\t Response body : &quot; + this.responseBody + &quot; &quot;);\n        if (headerList == null || headerList.size() == 0)\n            sb.append(&quot;\\n\\t No headers.&quot;);\n        else {\n            sb.append(&quot;\\n\\t Headers:&quot;);\n            for (Map.Entry&lt;String, String&gt; currHeader : headerList.entrySet()) {\n                sb.append(&quot;\\n\\t\\t &quot; + currHeader.getKey() + &quot; =&gt; &quot; + currHeader.getValue());\n            }\n        }\n        return sb.toString();\n    }\n    \n    // --- Attributes -------------------------------------------------------------------------------------------------\n    \n    public int getStatusCode() {\n        return statusCode;\n    }\n    public String getBody() {\n        return responseBody;\n    }\n    public Map&lt;String, String&gt; getHeaderList() {\n        return headerList;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14873785,"reputation":5,"user_id":10740546,"display_name":"IphoneVore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688551305,"creation_date":1688460608,"question_id":76610877,"body_markdown":"I am trying to get HTTP response with the help of apache httpclient. I get headers successfully but it throws exception when I try to get contents. Exception is:\r\n\r\n    Caused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 42&#160;320; received: 7&#160;787)\r\n    [INFO] [talledLocalContainer]   at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:178) ~[httpcore-4.4.15.jar:4.4.15]\r\n    [INFO] [talledLocalContainer]   at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135) ~[httpclient-4.5.13.jar:4.5.13]\r\n    [INFO] [talledLocalContainer]   at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:148) ~[httpclient-4.5.13.jar:4.5.13]\r\n    [INFO] [talledLocalContainer]   at com.blueway.common.utils.BWFileUtils.writeToFile(BWFileUtils.java:207) ~[engine-module-common-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.AzureBlobStorageService.getBlob(AzureBlobStorageService.java:49) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.invoker.AzureBlobStorageGetBlobInvoker.invoke(AzureBlobStorageGetBlobInvoker.java:22) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.AzureBlobStorageInvokeWrapper.doInvoke(AzureBlobStorageInvokeWrapper.java:34) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.support.ConnectorAzureBlobStorage.invoke(ConnectorAzureBlobStorage.java:46) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.invokeConnector(ConnectorHandlingInstruction.java:68) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.executeInstructionWithSupport(ConnectorHandlingInstruction.java:50) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.executeInstructionWithSupport(ConnectorHandlingInstruction.java:19) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.SupportHandlingInstruction.executeInstruction(SupportHandlingInstruction.java:99) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n    [INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.Instruction.tryExecuteInstruction(Instruction.java:363) ~[web-0.0.1-SNAPSHOT.jar:?]\r\n\r\n\r\nand the code is \r\n\r\n\r\n    public CloseableHttpResponse get(final String containerName, final String blobName) throws AzBException{\r\n        final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n        final String url = HTTPS + accountName + END_POINT + containerName + &quot;/&quot; + blobName;\r\n        try (final CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n            final HttpGet httpGet = new HttpGet(url);\r\n            logger.debug(&quot;Sending HTTP GET request to URL: {}&quot;, url);\r\n            final CloseableHttpResponse  response = httpClient.execute(httpGet);\r\n            logger.debug(&quot;Received HTTP response with status code: {}&quot;, response.getStatusLine().getStatusCode());\r\n            return response;\r\n        } catch (IOException e) {\r\n            throw new AzBException(&quot;An.get HttpGet error: &quot; + e.getCause().getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\nany help will be appreciated. thanks\r\n\r\n","title":"Premature end of Content-Length delimited message body (expected: 42&#160;320; received: 7&#160;787)","body":"<p>I am trying to get HTTP response with the help of apache httpclient. I get headers successfully but it throws exception when I try to get contents. Exception is:</p>\n<pre><code>Caused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 42 320; received: 7 787)\n[INFO] [talledLocalContainer]   at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:178) ~[httpcore-4.4.15.jar:4.4.15]\n[INFO] [talledLocalContainer]   at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135) ~[httpclient-4.5.13.jar:4.5.13]\n[INFO] [talledLocalContainer]   at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:148) ~[httpclient-4.5.13.jar:4.5.13]\n[INFO] [talledLocalContainer]   at com.blueway.common.utils.BWFileUtils.writeToFile(BWFileUtils.java:207) ~[engine-module-common-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.AzureBlobStorageService.getBlob(AzureBlobStorageService.java:49) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.invoker.AzureBlobStorageGetBlobInvoker.invoke(AzureBlobStorageGetBlobInvoker.java:22) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.platform.app.engine.technicalconnector.impl.service.azureblobstorage.AzureBlobStorageInvokeWrapper.doInvoke(AzureBlobStorageInvokeWrapper.java:34) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.support.ConnectorAzureBlobStorage.invoke(ConnectorAzureBlobStorage.java:46) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.invokeConnector(ConnectorHandlingInstruction.java:68) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.executeInstructionWithSupport(ConnectorHandlingInstruction.java:50) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.ConnectorHandlingInstruction.executeInstructionWithSupport(ConnectorHandlingInstruction.java:19) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.SupportHandlingInstruction.executeInstruction(SupportHandlingInstruction.java:99) ~[web-0.0.1-SNAPSHOT.jar:?]\n[INFO] [talledLocalContainer]   at com.blueway.engine52.service.instruction.Instruction.tryExecuteInstruction(Instruction.java:363) ~[web-0.0.1-SNAPSHOT.jar:?]\n</code></pre>\n<p>and the code is</p>\n<pre><code>public CloseableHttpResponse get(final String containerName, final String blobName) throws AzBException{\n    final Logger logger = LoggerFactory.getLogger(getClass());\n\n    final String url = HTTPS + accountName + END_POINT + containerName + &quot;/&quot; + blobName;\n    try (final CloseableHttpClient httpClient = HttpClients.createDefault()) {\n        final HttpGet httpGet = new HttpGet(url);\n        logger.debug(&quot;Sending HTTP GET request to URL: {}&quot;, url);\n        final CloseableHttpResponse  response = httpClient.execute(httpGet);\n        logger.debug(&quot;Received HTTP response with status code: {}&quot;, response.getStatusLine().getStatusCode());\n        return response;\n    } catch (IOException e) {\n        throw new AzBException(&quot;An.get HttpGet error: &quot; + e.getCause().getMessage(), e);\n    }\n}\n</code></pre>\n<p>any help will be appreciated. thanks</p>\n"},{"tags":["java","maven","dependencies","pom.xml","dependency-management"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1688552488,"post_id":76619229,"comment_id":135087523,"body_markdown":"Obviously since maven doesn&#39;t allow having multiple parents, this is impossible to achieve in the form that you&#39;re asking... However, Could You describe what exactly are you getting from the parent pom (plugins, properties) and why don&#39;t you afraid of clashes that might be possibly introduced by grandparent of version X and of X + 1 (say in some 3rdparty library version) ? In general you could try to omit the parent altogether and use it as an aggregator pom, while keeping children inheriting from the grandparent directly... Another direction is using BOMs maybe","body":"Obviously since maven doesn&#39;t allow having multiple parents, this is impossible to achieve in the form that you&#39;re asking... However, Could You describe what exactly are you getting from the parent pom (plugins, properties) and why don&#39;t you afraid of clashes that might be possibly introduced by grandparent of version X and of X + 1 (say in some 3rdparty library version) ? In general you could try to omit the parent altogether and use it as an aggregator pom, while keeping children inheriting from the grandparent directly... Another direction is using BOMs maybe"},{"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"score":0,"creation_date":1688553360,"post_id":76619229,"comment_id":135087680,"body_markdown":"It&#39;s fine for me to completely ignore `parent` pom in `child1`, I copied all related dependencyManagement and pluginManagement stuff from `parent` to `child1`. Now my child1 pom looks like this\n\n`&lt;parent&gt;`\n   `&lt;artifactId&gt;grandparent&lt;/artifactId&gt;`\n    `&lt;groupId&gt;my.group&lt;/groupId&gt;`\n    `&lt;version&gt;X+1&lt;/version&gt;`\n    `&lt;relativePath&gt;&lt;/relativePath&gt;`\n`&lt;/parent&gt;`\n\nNow my build is successful, but I cannot run the child1 module anymore because its Child1Application.java is outside of the source root.","body":"It&#39;s fine for me to completely ignore <code>parent</code> pom in <code>child1</code>, I copied all related dependencyManagement and pluginManagement stuff from <code>parent</code> to <code>child1</code>. Now my child1 pom looks like this  <code>&lt;parent&gt;</code>    <code>&lt;artifactId&gt;grandparent&lt;&#47;artifactId&gt;</code>     <code>&lt;groupId&gt;my.group&lt;&#47;groupId&gt;</code>     <code>&lt;version&gt;X+1&lt;&#47;version&gt;</code>     <code>&lt;relativePath&gt;&lt;&#47;relativePath&gt;</code> <code>&lt;&#47;parent&gt;</code>  Now my build is successful, but I cannot run the child1 module anymore because its Child1Application.java is outside of the source root."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1688553558,"post_id":76619229,"comment_id":135087721,"body_markdown":"What is `Child1Application`? Is it something Spring boot related maybe? And what is the source root?","body":"What is <code>Child1Application</code>? Is it something Spring boot related maybe? And what is the source root?"},{"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"score":0,"creation_date":1688553687,"post_id":76619229,"comment_id":135087737,"body_markdown":"Yes it&#39;s SpringApplication class","body":"Yes it&#39;s SpringApplication class"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1688554729,"post_id":76619229,"comment_id":135087943,"body_markdown":"In this case `Child1Application` has to be in the child1 module, so if it gets compiled spring boot plugin should create an artifact from it so that you&#39;ll be able to run it. I&#39;m not sure I understand what is &#39;source root&#39; in this case. Maybe you can update the question and show schematically how does your child&#39;s pom.xml look like now, where exactly the Child1application is located and what is the error you see while trying to run the project + how do you run it actually?","body":"In this case <code>Child1Application</code> has to be in the child1 module, so if it gets compiled spring boot plugin should create an artifact from it so that you&#39;ll be able to run it. I&#39;m not sure I understand what is &#39;source root&#39; in this case. Maybe you can update the question and show schematically how does your child&#39;s pom.xml look like now, where exactly the Child1application is located and what is the error you see while trying to run the project + how do you run it actually?"},{"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"score":0,"creation_date":1688554763,"post_id":76619229,"comment_id":135087947,"body_markdown":"If you don&#39;t have any dependencies on your parent, you can make your grandparent module as a parent module. woudln&#39;t this resolve your problem?","body":"If you don&#39;t have any dependencies on your parent, you can make your grandparent module as a parent module. woudln&#39;t this resolve your problem?"}],"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551282,"creation_date":1688551282,"question_id":76619229,"body_markdown":"I have a multi module maven project. My parent pom.xml refers to the grandparent module that I don&#39;t administer with version X. Now a new version X+1 of this grandparent module with breaking changes was released. I&#39;m wondering how can I make only child1 module to refer to X+1, while modules child2...childN to keep referring to X.\r\n\r\nStructure:\r\n\r\n    /parent\r\n        /child1\r\n            pom.xml\r\n        /child2\r\n            pom.xml\r\n        ...\r\n        /childN\r\n            pom.xml\r\n        pom.xml\r\n\r\nParent pom.xml:\r\n\r\n    &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grandparent&lt;/artifactId&gt; &lt;!-- grandparent module that I don&#39;t administer --&gt;\r\n        &lt;version&gt;X&lt;/version&gt; &lt;!-- I want one of the children to refer to X+1 --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;child1-module&lt;/module&gt;\r\n        &lt;module&gt;child2-module&lt;/module&gt;\r\n        ...\r\n        &lt;module&gt;childN-module&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;revision&gt;A&lt;/revision&gt;\r\n    &lt;/properties&gt;\r\n\r\nEvery child pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;my.group&lt;/groupId&gt;\r\n       &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;child1&lt;/artifactId&gt;","title":"Referring grandparent version in pom.xml from child pom.xml","body":"<p>I have a multi module maven project. My parent pom.xml refers to the grandparent module that I don't administer with version X. Now a new version X+1 of this grandparent module with breaking changes was released. I'm wondering how can I make only child1 module to refer to X+1, while modules child2...childN to keep referring to X.</p>\n<p>Structure:</p>\n<pre><code>/parent\n    /child1\n        pom.xml\n    /child2\n        pom.xml\n    ...\n    /childN\n        pom.xml\n    pom.xml\n</code></pre>\n<p>Parent pom.xml:</p>\n<pre><code>&lt;version&gt;${revision}&lt;/version&gt;\n&lt;artifactId&gt;parent&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\n    &lt;artifactId&gt;grandparent&lt;/artifactId&gt; &lt;!-- grandparent module that I don't administer --&gt;\n    &lt;version&gt;X&lt;/version&gt; &lt;!-- I want one of the children to refer to X+1 --&gt;\n&lt;/parent&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;child1-module&lt;/module&gt;\n    &lt;module&gt;child2-module&lt;/module&gt;\n    ...\n    &lt;module&gt;childN-module&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;revision&gt;A&lt;/revision&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Every child pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;groupId&gt;my.group&lt;/groupId&gt;\n   &lt;version&gt;${revision}&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;child1&lt;/artifactId&gt;\n</code></pre>\n"},{"tags":["java","windows","tomcat","dynamic"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1688508058,"post_id":76615990,"comment_id":135082322,"body_markdown":"You will get more clues if you look in the log catalina.out","body":"You will get more clues if you look in the log catalina.out"},{"owner":{"account_id":23731050,"reputation":19,"user_id":17750300,"display_name":"Louis Lhotte"},"score":0,"creation_date":1688513278,"post_id":76615990,"comment_id":135082781,"body_markdown":"Do you mean this :","body":"Do you mean this :"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688513660,"post_id":76615990,"comment_id":135082809,"body_markdown":"If that&#39;s an extract you&#39;ve posted above, then yes, although a. we need to see what led up to it, i.e. full stack trace and b. it&#39;s a problem if it&#39;s in French","body":"If that&#39;s an extract you&#39;ve posted above, then yes, although a. we need to see what led up to it, i.e. full stack trace and b. it&#39;s a problem if it&#39;s in French"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688636071,"post_id":76615990,"comment_id":135101432,"body_markdown":"Ok , just checked your image does have around 9 mb for .war size, but, take a look at the web.xml DTD or Schema version in the project and see if it is the same version as the e.g. &quot;manager&quot; application in your server! It may be your maven app was made for Glassfish or is javax when it should be Jakarta .The Tomcat 9 and older are javax , Tomcat 10 and newer are Jakarta. You may need to do refactoring of code and libraries for both code and web.xml DTD and Schema.","body":"Ok , just checked your image does have around 9 mb for .war size, but, take a look at the web.xml DTD or Schema version in the project and see if it is the same version as the e.g. &quot;manager&quot; application in your server! It may be your maven app was made for Glassfish or is javax when it should be Jakarta .The Tomcat 9 and older are javax , Tomcat 10 and newer are Jakarta. You may need to do refactoring of code and libraries for both code and web.xml DTD and Schema."}],"owner":{"account_id":23731050,"reputation":19,"user_id":17750300,"display_name":"Louis Lhotte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688550999,"creation_date":1688506771,"question_id":76615990,"body_markdown":"I want to run my java app on a tomcat server. It&#39;s a Maven Project initially.\r\nHere is the architecture of the project:\r\n[![enter image description here](https://i.stack.imgur.com/TaCCY.png)](https://i.stack.imgur.com/TaCCY.png)\r\n\r\nAs you can see, I can successfully export the project in a .war, which should, hopefully, enable me to get the app deployed on tomcat.\r\nHowever, when I copy paste the .war file in the ./webapp of tomcat, it successfully deploy the application, meaning that there is a directory created with all my classes and stuff (as you can see in the following image):\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ozKGd.png)](https://i.stack.imgur.com/ozKGd.png)\r\n\r\n\r\nHowever, when I try to access my app. I receive this error:\r\n[![enter image description here](https://i.stack.imgur.com/YHHS2.png)](https://i.stack.imgur.com/YHHS2.png)\r\n\r\nI tried a lot of things, from changing the jdk to changing the version of the tomcat server. But nothing seems to work. Any ideas that might help this situation?\r\n\r\nI would sincerely appreciate any help or insight you might have on this issue.\r\nSincerely,\r\n\r\nI tried to update the versions and create a new project altogether, hoping that it would work...But then I would have another problem, mainly the dynamic web module that would not get ticked in project facets (but is ticked in the original project).\r\n\r\n\r\n\r\nHere are the error messages:\r\n\r\nECHEC - L&#39;application pour le chemin de contexte [/stripe-paiement] n&#39;a pas pu &#234;tre d&#233;marr&#233;e\r\nECHEC - L&#39;exception [org.apache.catalina.LifecycleException: Echec de d&#233;marrage du composant [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/stripe-paiement]]] a &#233;t&#233; rencontr&#233;e\r\n\r\nOr in english:\r\n\r\nFAILURE - The application with context path [/stripe-paiement] could not be started.\r\nFAILURE - The exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/stripe-paiement]]] was encountered\r\n","title":"I want to run my java app on a tomcat server, but I have a problem","body":"<p>I want to run my java app on a tomcat server. It's a Maven Project initially.\nHere is the architecture of the project:\n<a href=\"https://i.stack.imgur.com/TaCCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaCCY.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I can successfully export the project in a .war, which should, hopefully, enable me to get the app deployed on tomcat.\nHowever, when I copy paste the .war file in the ./webapp of tomcat, it successfully deploy the application, meaning that there is a directory created with all my classes and stuff (as you can see in the following image):</p>\n<p><a href=\"https://i.stack.imgur.com/ozKGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ozKGd.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I try to access my app. I receive this error:\n<a href=\"https://i.stack.imgur.com/YHHS2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YHHS2.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried a lot of things, from changing the jdk to changing the version of the tomcat server. But nothing seems to work. Any ideas that might help this situation?</p>\n<p>I would sincerely appreciate any help or insight you might have on this issue.\nSincerely,</p>\n<p>I tried to update the versions and create a new project altogether, hoping that it would work...But then I would have another problem, mainly the dynamic web module that would not get ticked in project facets (but is ticked in the original project).</p>\n<p>Here are the error messages:</p>\n<p>ECHEC - L'application pour le chemin de contexte [/stripe-paiement] n'a pas pu être démarrée\nECHEC - L'exception [org.apache.catalina.LifecycleException: Echec de démarrage du composant [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/stripe-paiement]]] a été rencontrée</p>\n<p>Or in english:</p>\n<p>FAILURE - The application with context path [/stripe-paiement] could not be started.\nFAILURE - The exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/stripe-paiement]]] was encountered</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","spring-mongodb"],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688549963,"creation_date":1688549963,"answer_id":76619057,"question_id":76618889,"body_markdown":"When you use `updateMulti()`, it sends a single update command to the MongoDB server, which will update all the matched documents in one operation. This can be more efficient than updating the documents one by one, as it reduces the network round-trips between the application and the database.\r\n\r\nIf you need to update a large number of documents (1-1.5 million in your case), I recommend to using bulk operations instead of `updateMulti()`. Bulk operations allow you to perform multiple write operations in batches, reducing the overhead of individual update commands.You can use CUD methods to perform different types of operations in a single DB call.\r\n","title":"Efficiently Update 1 million documents in the mongodb collection","body":"<p>When you use <code>updateMulti()</code>, it sends a single update command to the MongoDB server, which will update all the matched documents in one operation. This can be more efficient than updating the documents one by one, as it reduces the network round-trips between the application and the database.</p>\n<p>If you need to update a large number of documents (1-1.5 million in your case), I recommend to using bulk operations instead of <code>updateMulti()</code>. Bulk operations allow you to perform multiple write operations in batches, reducing the overhead of individual update commands.You can use CUD methods to perform different types of operations in a single DB call.</p>\n"}],"owner":{"account_id":27076495,"reputation":15,"user_id":20626335,"display_name":"Rahul A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688550729,"creation_date":1688548880,"question_id":76618889,"body_markdown":"I need to update around 1-1.5 million documents in a Mongodb collection.\r\n\r\nIs `updateMulti()` an efficient way to update the document? I mean will it update the documents in batches internally?\r\n\r\n```java\r\n    import org.springframework.data.mongodb.core.MongoOperations.updateMulti;\r\n\r\n    mongoOperations.updateMulti(query, update, &quot;your_collection_name&quot;);\r\n```","title":"Efficiently Update 1 million documents in the mongodb collection","body":"<p>I need to update around 1-1.5 million documents in a Mongodb collection.</p>\n<p>Is <code>updateMulti()</code> an efficient way to update the document? I mean will it update the documents in batches internally?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import org.springframework.data.mongodb.core.MongoOperations.updateMulti;\n\n    mongoOperations.updateMulti(query, update, &quot;your_collection_name&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-filter"],"answers":[{"tags":[],"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688550363,"creation_date":1688550363,"answer_id":76619114,"question_id":76617874,"body_markdown":"You can use a filter that catches the request and logs it in appropriate log level. Also, it would be wise to set it to `HIGHEST_PRECEDENCE` so that it is executed before any other filters in the filter chain and logs the requests b4 some other filter maybe modifies it.\r\n\r\n```java\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class CustomRequestLoggingFilter extends CommonsRequestLoggingFilter {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(CustomRequestLoggingFilter.class);\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n        // you have access to the HttpServletRequest obj so log whatever you want\r\n\t\tlogger.info(&quot;Request:&quot; + request.getMethod() + &quot; &quot; + request.getRequestURI());\r\n        super.doFilterInternal(request, response, filterChain);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nRegister it as a spring bean in your configuration class. \r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CustomRequestLoggingFilter&gt; loggingFilter() {\r\n        FilterRegistrationBean&lt;CustomRequestLoggingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        registrationBean.setFilter(new CustomRequestLoggingFilter());\r\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        return registrationBean;\r\n    }\r\n\r\n}\r\n```","title":"How to output logs at a different level then intended by spring?","body":"<p>You can use a filter that catches the request and logs it in appropriate log level. Also, it would be wise to set it to <code>HIGHEST_PRECEDENCE</code> so that it is executed before any other filters in the filter chain and logs the requests b4 some other filter maybe modifies it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomRequestLoggingFilter extends CommonsRequestLoggingFilter {\n    private static final Logger logger = LoggerFactory.getLogger(CustomRequestLoggingFilter.class);\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        // you have access to the HttpServletRequest obj so log whatever you want\n        logger.info(&quot;Request:&quot; + request.getMethod() + &quot; &quot; + request.getRequestURI());\n        super.doFilterInternal(request, response, filterChain);\n\n    }\n\n}\n</code></pre>\n<p>Register it as a spring bean in your configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public FilterRegistrationBean&lt;CustomRequestLoggingFilter&gt; loggingFilter() {\n        FilterRegistrationBean&lt;CustomRequestLoggingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new CustomRequestLoggingFilter());\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        return registrationBean;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688550363,"creation_date":1688541110,"question_id":76617874,"body_markdown":"I can log every incoming request by setting\r\n```\r\nlogging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\r\n```\r\nThe requests will then be logged at level `DEBUG`. But I want them to be logged at level `INFO` instead. I don&#39;t think there is a flag for it but the loglevel is hardcoded by spring. But is there maybe some kind of filter that can intercept these logs and change their log level?","title":"How to output logs at a different level then intended by spring?","body":"<p>I can log every incoming request by setting</p>\n<pre><code>logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\n</code></pre>\n<p>The requests will then be logged at level <code>DEBUG</code>. But I want them to be logged at level <code>INFO</code> instead. I don't think there is a flag for it but the loglevel is hardcoded by spring. But is there maybe some kind of filter that can intercept these logs and change their log level?</p>\n"},{"tags":["java","android","windows","mobile","media"],"owner":{"account_id":28954394,"reputation":1,"user_id":22178264,"display_name":"Mert Talha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688549396,"creation_date":1688549396,"question_id":76618980,"body_markdown":"I&#39;m facing a &quot;SecurityException&quot; with the message &quot;Media projections require a foreground service of type ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PROJECTION&quot; while trying to capture the screen on an Android device using the MediaProjection API.\r\n\r\nI have followed the suggested solutions found in various online resources, including:\r\n\r\nEnsuring the necessary permissions are declared in the AndroidManifest.xml file.\r\nRequesting runtime permissions for recording audio and writing to external storage.\r\nRegistering a foreground service with the appropriate &quot;foregroundServiceType&quot; attribute set to &quot;mediaProjection&quot; in the manifest.\r\nDespite implementing these steps, the security exception persists. Below is the relevant code:\r\n\r\n\r\n```\r\n// MainActivity.java\r\npublic class MainActivity extends AppCompatActivity {\r\n    // Variables and constants...\r\n\r\n    public class MediaProjectionCallback extends MediaProjection.Callback {\r\n        @Override\r\n        public void onStop() {\r\n            stopScreenSharing();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n        mMediaRecorder = new MediaRecorder();\r\n\r\n        mToggleButton = findViewById(R.id.toggle);\r\n        mToggleButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mToggleButton.isChecked()) {\r\n                    requestPermissions();\r\n                } else {\r\n                    stopScreenSharing();\r\n                }\r\n            }\r\n        });\r\n\r\n        startForegroundService(mProjectionManager.createScreenCaptureIntent());\r\n    }\r\n\r\n    // Other methods...\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == REQUEST_CODE_SCREEN_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n            mMediaProjectionCallback = new MediaProjectionCallback();\r\n            mMediaProjection = mProjectionManager.getMediaProjection(resultCode, data);\r\n            mMediaProjection.registerCallback(mMediaProjectionCallback, null);\r\n            mVirtualDisplay = createVirtualDisplay();\r\n            mMediaRecorder.start();\r\n        } else {\r\n            Toast.makeText(this, &quot;Screen Capture Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n            mToggleButton.setChecked(false);\r\n        }\r\n    }\r\n\r\n    // Other code...\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m using a Samsung Tab A8 running Android 13, and I&#39;ve observed that this issue occurs specifically on this device and Android version. I have tested the code on other devices and Android versions, and it works correctly.\r\n\r\nI&#39;m looking for any insights or suggestions on how to resolve this issue. Any help would be greatly appreciated. Thank you in advance.","title":"SecurityException: Media projections require a foreground service of type ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PROJECTION","body":"<p>I'm facing a &quot;SecurityException&quot; with the message &quot;Media projections require a foreground service of type ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PROJECTION&quot; while trying to capture the screen on an Android device using the MediaProjection API.</p>\n<p>I have followed the suggested solutions found in various online resources, including:</p>\n<p>Ensuring the necessary permissions are declared in the AndroidManifest.xml file.\nRequesting runtime permissions for recording audio and writing to external storage.\nRegistering a foreground service with the appropriate &quot;foregroundServiceType&quot; attribute set to &quot;mediaProjection&quot; in the manifest.\nDespite implementing these steps, the security exception persists. Below is the relevant code:</p>\n<pre><code>// MainActivity.java\npublic class MainActivity extends AppCompatActivity {\n    // Variables and constants...\n\n    public class MediaProjectionCallback extends MediaProjection.Callback {\n        @Override\n        public void onStop() {\n            stopScreenSharing();\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n        mMediaRecorder = new MediaRecorder();\n\n        mToggleButton = findViewById(R.id.toggle);\n        mToggleButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mToggleButton.isChecked()) {\n                    requestPermissions();\n                } else {\n                    stopScreenSharing();\n                }\n            }\n        });\n\n        startForegroundService(mProjectionManager.createScreenCaptureIntent());\n    }\n\n    // Other methods...\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE_SCREEN_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            mMediaProjectionCallback = new MediaProjectionCallback();\n            mMediaProjection = mProjectionManager.getMediaProjection(resultCode, data);\n            mMediaProjection.registerCallback(mMediaProjectionCallback, null);\n            mVirtualDisplay = createVirtualDisplay();\n            mMediaRecorder.start();\n        } else {\n            Toast.makeText(this, &quot;Screen Capture Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            mToggleButton.setChecked(false);\n        }\n    }\n\n    // Other code...\n}\n\n</code></pre>\n<p>I'm using a Samsung Tab A8 running Android 13, and I've observed that this issue occurs specifically on this device and Android version. I have tested the code on other devices and Android versions, and it works correctly.</p>\n<p>I'm looking for any insights or suggestions on how to resolve this issue. Any help would be greatly appreciated. Thank you in advance.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688549176,"creation_date":1688549176,"answer_id":76618939,"question_id":76610938,"body_markdown":"**Hi, you can to try something like this:**\r\n\r\n**1.** Create a custom AuthenticationSuccessHandler where you will extract it from Authentication-&gt;Principal(what is usually jwt token where you have user_id) -&gt; you can convert it into an object for more flexibility work and you can pass your user_id into MDC what is ThreadLocal.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**2.** Create a bean of AuthenticationSuccessHandler in your SecurityConfig  class\r\n[![enter image description here][2]][2]\r\n\r\n**3.** Finally you can extract it from MDC(threadLocal)\r\n\r\n    .defaultSuccessUrl(&quot;/profile/&quot; + MDC.get(&quot;user_id&quot;))\r\n\r\nP.S. Just give me a feedback if it was helpfully \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4jrYJ.png\r\n  [2]: https://i.stack.imgur.com/nBeaJ.png","title":"How to add PathVariable to DefaultSuccessUrl in Spring Security?","body":"<p><strong>Hi, you can to try something like this:</strong></p>\n<p><strong>1.</strong> Create a custom AuthenticationSuccessHandler where you will extract it from Authentication-&gt;Principal(what is usually jwt token where you have user_id) -&gt; you can convert it into an object for more flexibility work and you can pass your user_id into MDC what is ThreadLocal.\n<a href=\"https://i.stack.imgur.com/4jrYJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4jrYJ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2.</strong> Create a bean of AuthenticationSuccessHandler in your SecurityConfig  class\n<a href=\"https://i.stack.imgur.com/nBeaJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nBeaJ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>3.</strong> Finally you can extract it from MDC(threadLocal)</p>\n<pre><code>.defaultSuccessUrl(&quot;/profile/&quot; + MDC.get(&quot;user_id&quot;))\n</code></pre>\n<p>P.S. Just give me a feedback if it was helpfully</p>\n"}],"owner":{"account_id":28879862,"reputation":39,"user_id":22119553,"display_name":"jackeylove271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76618939,"answer_count":1,"score":0,"last_activity_date":1688549176,"creation_date":1688461104,"question_id":76610938,"body_markdown":"In Spring Security Config I have the next method:\r\n\r\n```\r\n@Configuration\r\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t   .authorizeRequests()\r\n\t    \t   .antMatchers(&quot;/register/**&quot;).permitAll()\r\n\t    \t   .anyRequest()\r\n\t    \t   .authenticated()\r\n\t    \t   .and()\t\r\n\t\t.formLogin()\r\n\t\t   .loginPage(&quot;/login&quot;)\r\n\t\t   .defaultSuccessUrl(&quot;/profile&quot;) // &lt;-- here\r\n\t           .permitAll();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nCan I somehow redirect to URL `/profile/{user_id}` after successful login?\r\n\r\nNow it redirects to URL `/profile`. I will be thankful for any advice here.","title":"How to add PathVariable to DefaultSuccessUrl in Spring Security?","body":"<p>In Spring Security Config I have the next method:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n           .authorizeRequests()\n               .antMatchers(&quot;/register/**&quot;).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()   \n        .formLogin()\n           .loginPage(&quot;/login&quot;)\n           .defaultSuccessUrl(&quot;/profile&quot;) // &lt;-- here\n               .permitAll();\n    }\n}\n\n</code></pre>\n<p>Can I somehow redirect to URL <code>/profile/{user_id}</code> after successful login?</p>\n<p>Now it redirects to URL <code>/profile</code>. I will be thankful for any advice here.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688555479,"post_id":76618794,"comment_id":135088105,"body_markdown":"First it was allowed, in newer versions it is disabled by default. Circulair dependencies are bad, so fix them.","body":"First it was allowed, in newer versions it is disabled by default. Circulair dependencies are bad, so fix them."},{"owner":{"account_id":17754474,"reputation":1,"user_id":12891853,"display_name":"Sashwati Das"},"score":0,"creation_date":1688647511,"post_id":76618794,"comment_id":135103972,"body_markdown":"Yes . But it seems to be some control happening at spring end.  Unable to break it.","body":"Yes . But it seems to be some control happening at spring end.  Unable to break it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688708252,"post_id":76618794,"comment_id":135112629,"body_markdown":"There is too little information here to answer it. I doubt it is the spring materials but rather something you yourself have introduced. Show the stacktrace you get.","body":"There is too little information here to answer it. I doubt it is the spring materials but rather something you yourself have introduced. Show the stacktrace you get."}],"owner":{"account_id":17754474,"reputation":1,"user_id":12891853,"display_name":"Sashwati Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688548259,"creation_date":1688548259,"question_id":76618794,"body_markdown":"We are trying to upgrade spring boot to 2.7.12. But faced issue with cyclometric complexity between wemnvcfilter and prometheus. This was not there earlier in lower version.  \r\n\r\nIt seems there is a change related to this in latest version. But not clear","title":"Spring boot 2.7.12 is creating cyclometric complexity in webmvcfilter which doesnot happen in lower version","body":"<p>We are trying to upgrade spring boot to 2.7.12. But faced issue with cyclometric complexity between wemnvcfilter and prometheus. This was not there earlier in lower version.</p>\n<p>It seems there is a change related to this in latest version. But not clear</p>\n"},{"tags":["java","pixel","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1688550512,"post_id":76618610,"comment_id":135087095,"body_markdown":"PDF does not know the unit &quot;pixel&quot;. Thus, what exactly do you mean by that?","body":"PDF does not know the unit &quot;pixel&quot;. Thus, what exactly do you mean by that?"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1688553797,"post_id":76618610,"comment_id":135087768,"body_markdown":"yes @mkl\ni get th x y h w from a web application that , show the content of pdf page as a image , and the user , put filds in position with pixels , and , the web application send this x y h w to the backend that using pdfbox to create fildes in the same corrdinat of the web application.","body":"yes @mkl i get th x y h w from a web application that , show the content of pdf page as a image , and the user , put filds in position with pixels , and , the web application send this x y h w to the backend that using pdfbox to create fildes in the same corrdinat of the web application."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1688576596,"post_id":76618610,"comment_id":135093267,"body_markdown":"As @KJ says, 4 pixel usually equal 3 PDF default user space units. Thus, multiplying by 3/4 is appropriate. Don&#39;t forget that in PDFs the **y** coordinate increases upwards and for rectangles you usually use the _lower_ left corner, not the _upper_ one; furthermore, the coordinate system origin usually is in the lower left corner (but theoretically can be anywhere). But I see that you use some `getTranslatedY` method, so you already seem to apply some coordinate transformation.","body":"As @KJ says, 4 pixel usually equal 3 PDF default user space units. Thus, multiplying by 3/4 is appropriate. Don&#39;t forget that in PDFs the <b>y</b> coordinate increases upwards and for rectangles you usually use the <i>lower</i> left corner, not the <i>upper</i> one; furthermore, the coordinate system origin usually is in the lower left corner (but theoretically can be anywhere). But I see that you use some <code>getTranslatedY</code> method, so you already seem to apply some coordinate transformation."}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688547642,"creation_date":1688546897,"question_id":76618610,"body_markdown":"I have this code to add fields in Pdf documents using pdfBox 2.0.28:\r\n \r\n\r\n    private void addFild(PDDocument document, PDAcroForm acroForm, DocumentMemberConfigDto config)   \r\n    throws IOException {\r\n        PDTextField textBox = new PDTextField(acroForm);\r\n        textBox.setPartialName(config.id);\r\n\r\n        String fontName = getFontName(document, config);\r\n        long fontSize = config.FondSize &gt; 0 ? config.FondSize : 12; // default size to 12 if \r\n       config.FontSize is\r\n        // null or 0\r\n\r\n        String colorString = colorToRGBString(config.Fill);\r\n        String defaultAppearanceString = String.format(&quot;/%s %d Tf %s&quot;,\r\n                fontName,\r\n                fontSize,\r\n                colorString);\r\n\r\n        logger.info(&quot;default apparance of fild : &quot; + config.id + &quot;  &quot; + defaultAppearanceString);\r\n        textBox.setDefaultAppearance(defaultAppearanceString);\r\n\r\n        // add the field to the acroform\r\n        acroForm.getFields().add(textBox);\r\n        var TransltedNumPage = getNumPageFromConfig(config);\r\n        PDPage page = document.getPage(TransltedNumPage);\r\n        var translatedY = getTranslatedY(document, TransltedNumPage, config.Y, config.H);\r\n        // Specify the widget annotation associated with the field\r\n        // Adjust the width and height based on the text value\r\n        float fieldWidth = getEstimatedWidth(config.Valeur, fontSize, config.W);\r\n        float fieldHeight = getEstimatedHeight(12, config.H) ;\r\n        // Ensure that the field does not exceed the page boundaries\r\n        PDRectangle pageBounds = page.getMediaBox();\r\n        // Specify the widget annotation associated with the field\r\n        PDAnnotationWidget widget = textBox.getWidgets().get(0);\r\n        PDRectangle rect = new PDRectangle(config.X, translatedY, fieldWidth, fieldHeight);\r\n        widget.setRectangle(rect);\r\n\r\n        widget.setPage(page);\r\n\r\n        widget.setPrinted(true);\r\n\r\n        // Add the widget annotation to the page\r\n        page.getAnnotations().add(widget);\r\n\r\n        // set the alignment (&quot;quadding&quot;)\r\n        textBox.setQ(PDVariableText.QUADDING_LEFT);\r\n    }\r\n\r\nThe integer values x, y, w, and h represent the coordinates and dimensions of the field in pixels, the y is calculated from the top left corner of the page. However, when displaying the result, I observed a noticeable shift that increases as I move down the page.\r\n\r\n\r\nI want to calculate the exactly value of the x y w h of fieldes from pixels valus","title":"How to calculate the position and height and weight of fields in pdfBox from pixels","body":"<p>I have this code to add fields in Pdf documents using pdfBox 2.0.28:</p>\n<pre><code>private void addFild(PDDocument document, PDAcroForm acroForm, DocumentMemberConfigDto config)   \nthrows IOException {\n    PDTextField textBox = new PDTextField(acroForm);\n    textBox.setPartialName(config.id);\n\n    String fontName = getFontName(document, config);\n    long fontSize = config.FondSize &gt; 0 ? config.FondSize : 12; // default size to 12 if \n   config.FontSize is\n    // null or 0\n\n    String colorString = colorToRGBString(config.Fill);\n    String defaultAppearanceString = String.format(&quot;/%s %d Tf %s&quot;,\n            fontName,\n            fontSize,\n            colorString);\n\n    logger.info(&quot;default apparance of fild : &quot; + config.id + &quot;  &quot; + defaultAppearanceString);\n    textBox.setDefaultAppearance(defaultAppearanceString);\n\n    // add the field to the acroform\n    acroForm.getFields().add(textBox);\n    var TransltedNumPage = getNumPageFromConfig(config);\n    PDPage page = document.getPage(TransltedNumPage);\n    var translatedY = getTranslatedY(document, TransltedNumPage, config.Y, config.H);\n    // Specify the widget annotation associated with the field\n    // Adjust the width and height based on the text value\n    float fieldWidth = getEstimatedWidth(config.Valeur, fontSize, config.W);\n    float fieldHeight = getEstimatedHeight(12, config.H) ;\n    // Ensure that the field does not exceed the page boundaries\n    PDRectangle pageBounds = page.getMediaBox();\n    // Specify the widget annotation associated with the field\n    PDAnnotationWidget widget = textBox.getWidgets().get(0);\n    PDRectangle rect = new PDRectangle(config.X, translatedY, fieldWidth, fieldHeight);\n    widget.setRectangle(rect);\n\n    widget.setPage(page);\n\n    widget.setPrinted(true);\n\n    // Add the widget annotation to the page\n    page.getAnnotations().add(widget);\n\n    // set the alignment (&quot;quadding&quot;)\n    textBox.setQ(PDVariableText.QUADDING_LEFT);\n}\n</code></pre>\n<p>The integer values x, y, w, and h represent the coordinates and dimensions of the field in pixels, the y is calculated from the top left corner of the page. However, when displaying the result, I observed a noticeable shift that increases as I move down the page.</p>\n<p>I want to calculate the exactly value of the x y w h of fieldes from pixels valus</p>\n"},{"tags":["java","eclipse","java-8","visualvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1401698466,"post_id":23980120,"comment_id":36968488,"body_markdown":"Does `JVisualVM` run with Java&#160;8 too?","body":"Does <code>JVisualVM</code> run with Java 8 too?"},{"owner":{"account_id":1348751,"reputation":974,"user_id":1288977,"accept_rate":100,"display_name":"serdar"},"score":0,"creation_date":1401699261,"post_id":23980120,"comment_id":36968904,"body_markdown":"@Holger It is included in JDK 8.","body":"@Holger It is included in JDK 8."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1401730552,"post_id":23980120,"comment_id":36987409,"body_markdown":"Mmh, strange. Unfortunately, I can’t reproduce it here…","body":"Mmh, strange. Unfortunately, I can’t reproduce it here…"},{"owner":{"account_id":1348751,"reputation":974,"user_id":1288977,"accept_rate":100,"display_name":"serdar"},"score":0,"creation_date":1401730876,"post_id":23980120,"comment_id":36987537,"body_markdown":"I have limited time so I profiled my code on another computer with JDK 7 installed. But this question should stay open so someone can solve this in future.","body":"I have limited time so I profiled my code on another computer with JDK 7 installed. But this question should stay open so someone can solve this in future."}],"answers":[{"tags":[],"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1441103833,"creation_date":1441103833,"answer_id":32329482,"question_id":23980120,"body_markdown":"run eclipse and your application with jvm parameters -Duser.language=en -Duser.country=us ...&lt;br&gt;\r\nthen you will be able profile with jvisualvm.&lt;br&gt;&lt;br&gt;\r\nfor eclise put this two lines in eclipse.ini\r\n\r\n    -Duser.language=en\r\n    -Duser.country=us\r\n\r\nmaybe your pre installed Ubuntu had languge settings as english and you was ok.","title":"Cannot open some applications in VisualVM","body":"<p>run eclipse and your application with jvm parameters -Duser.language=en -Duser.country=us ...<br>\nthen you will be able profile with jvisualvm.<br><br>\nfor eclise put this two lines in eclipse.ini</p>\n\n<pre><code>-Duser.language=en\n-Duser.country=us\n</code></pre>\n\n<p>maybe your pre installed Ubuntu had languge settings as english and you was ok.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1572291245,"creation_date":1572291245,"answer_id":58597308,"question_id":23980120,"body_markdown":"you should run **visualvm** on the same JDK version as your app, look at **help-&gt;about-&gt;details** (Java), mine was surprisingly jdk8 instead of jdk13 (I have both), so you can setup JDK version for **visualvm** manually **etc/visualvm.conf**, uncomment and setup parameter\r\n\r\n    visualvm_jdkhome=C:\\Program Files\\Java\\jdk-13","title":"Cannot open some applications in VisualVM","body":"<p>you should run <strong>visualvm</strong> on the same JDK version as your app, look at <strong>help->about->details</strong> (Java), mine was surprisingly jdk8 instead of jdk13 (I have both), so you can setup JDK version for <strong>visualvm</strong> manually <strong>etc/visualvm.conf</strong>, uncomment and setup parameter</p>\n\n<pre><code>visualvm_jdkhome=C:\\Program Files\\Java\\jdk-13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954755,"reputation":1794,"user_id":980270,"accept_rate":100,"display_name":"TilmannZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688547512,"creation_date":1688547512,"answer_id":76618695,"question_id":23980120,"body_markdown":"For Windows &amp; IDE plugin users coming here, what worked for me was the following:\r\n\r\n - Start the process + VisualVM from your IDE -&gt; After a shgort time the error popped up &quot;Cannot open Application...&quot;\r\n - Then, in VisualVM, manually select the the process and try to connect.\r\n   -&gt; A Windows dialog pops up asking for permission to connect the the Java process.\r\n - Confirm that connection to the process is allowed. -&gt; Now it should work.\r\n\r\nI assume the Windows security dialog is somehow swallowed/ignored by VisualVM.\r\n\r\n\r\n","title":"Cannot open some applications in VisualVM","body":"<p>For Windows &amp; IDE plugin users coming here, what worked for me was the following:</p>\n<ul>\n<li>Start the process + VisualVM from your IDE -&gt; After a shgort time the error popped up &quot;Cannot open Application...&quot;</li>\n<li>Then, in VisualVM, manually select the the process and try to connect.\n-&gt; A Windows dialog pops up asking for permission to connect the the Java process.</li>\n<li>Confirm that connection to the process is allowed. -&gt; Now it should work.</li>\n</ul>\n<p>I assume the Windows security dialog is somehow swallowed/ignored by VisualVM.</p>\n"}],"owner":{"account_id":1348751,"reputation":974,"user_id":1288977,"accept_rate":100,"display_name":"serdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2619,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":32329482,"answer_count":3,"score":6,"last_activity_date":1688547512,"creation_date":1401627410,"question_id":23980120,"body_markdown":"I am using Ubuntu 14.04 with Oracle JDK 8. I want to inspect performance of my application using VisualVM. I can inspect other applications like JDownloader but I can&#39;t inspect my own applications and Eclipse 4.3. Before I made fresh install of Ubuntu, I was using JDK 7 and I have no problem and using it without any configuration. It gives following log.\r\n\r\n    SEVERE [org.openide.util.RequestProcessor]: Error in RequestProcessor com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1\r\n    java.lang.IllegalArgumentException: Unexpected composite type for ThreadInfo\r\n    \tat sun.management.ThreadInfoCompositeData.validateCompositeData(ThreadInfoCompositeData.java:372)\r\n    \tat sun.management.ThreadInfoCompositeData.getInstance(ThreadInfoCompositeData.java:68)\r\n    \tat java.lang.management.ThreadInfo.&lt;init&gt;(ThreadInfo.java:263)\r\n    \tat java.lang.management.ThreadInfo.from(ThreadInfo.java:794)\r\n    Caused: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\r\n    \tat sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    \tat com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeBuilderViaFrom.fromCompositeData(DefaultMXBeanMappingFactory.java:1018)\r\n    Caused: java.io.InvalidObjectException: Failed to invoke from(CompositeData)\r\n    \tat com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory.invalidObjectException(DefaultMXBeanMappingFactory.java:1457)\r\n    \tat com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeBuilderViaFrom.fromCompositeData(DefaultMXBeanMappingFactory.java:1021)\r\n    \tat com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeMapping.fromNonNullOpenValue(DefaultMXBeanMappingFactory.java:919)\r\n    \tat com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$NonNullMXBeanMapping.fromOpenValue(DefaultMXBeanMappingFactory.java:133)\r\n    \tat com.sun.jmx.mbeanserver.ConvertingMethod.fromOpenReturnValue(ConvertingMethod.java:131)\r\n    \tat com.sun.jmx.mbeanserver.MXBeanProxy.invoke(MXBeanProxy.java:168)\r\n    \tat javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:252)\r\n    Caused: java.lang.reflect.UndeclaredThrowableException\r\n    \tat com.sun.proxy.$Proxy8.getThreadInfo(Unknown Source)\r\n    \tat com.sun.tools.visualvm.jmx.impl.JmxSupport.isReadOnlyConnection(JmxSupport.java:95)\r\n    \tat com.sun.tools.visualvm.jmx.impl.JmxModelImpl.isTakeThreadDumpSupported(JmxModelImpl.java:311)\r\n    \tat com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.resolveThreads(ApplicationThreadsViewProvider.java:65)\r\n    \tat com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.supportsViewFor(ApplicationThreadsViewProvider.java:29)\r\n    \tat com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.supportsViewFor(ApplicationThreadsViewProvider.java:25)\r\n    \tat com.sun.tools.visualvm.core.ui.DataSourceViewsManager.getViews(DataSourceViewsManager.java:116)\r\n    \tat com.sun.tools.visualvm.core.ui.DataSourceWindowManager.openWindowAndAddView(DataSourceWindowManager.java:169)\r\n    \tat com.sun.tools.visualvm.core.ui.DataSourceWindowManager.access$000(DataSourceWindowManager.java:30)\r\n    \tat com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1.run(DataSourceWindowManager.java:80)\r\n    \tat org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1393)\r\n    [catch] at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2005)\r\n\r\n","title":"Cannot open some applications in VisualVM","body":"<p>I am using Ubuntu 14.04 with Oracle JDK 8. I want to inspect performance of my application using VisualVM. I can inspect other applications like JDownloader but I can't inspect my own applications and Eclipse 4.3. Before I made fresh install of Ubuntu, I was using JDK 7 and I have no problem and using it without any configuration. It gives following log.</p>\n\n<pre><code>SEVERE [org.openide.util.RequestProcessor]: Error in RequestProcessor com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1\njava.lang.IllegalArgumentException: Unexpected composite type for ThreadInfo\n    at sun.management.ThreadInfoCompositeData.validateCompositeData(ThreadInfoCompositeData.java:372)\n    at sun.management.ThreadInfoCompositeData.getInstance(ThreadInfoCompositeData.java:68)\n    at java.lang.management.ThreadInfo.&lt;init&gt;(ThreadInfo.java:263)\n    at java.lang.management.ThreadInfo.from(ThreadInfo.java:794)\nCaused: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\n    at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n    at com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeBuilderViaFrom.fromCompositeData(DefaultMXBeanMappingFactory.java:1018)\nCaused: java.io.InvalidObjectException: Failed to invoke from(CompositeData)\n    at com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory.invalidObjectException(DefaultMXBeanMappingFactory.java:1457)\n    at com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeBuilderViaFrom.fromCompositeData(DefaultMXBeanMappingFactory.java:1021)\n    at com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$CompositeMapping.fromNonNullOpenValue(DefaultMXBeanMappingFactory.java:919)\n    at com.sun.jmx.mbeanserver.DefaultMXBeanMappingFactory$NonNullMXBeanMapping.fromOpenValue(DefaultMXBeanMappingFactory.java:133)\n    at com.sun.jmx.mbeanserver.ConvertingMethod.fromOpenReturnValue(ConvertingMethod.java:131)\n    at com.sun.jmx.mbeanserver.MXBeanProxy.invoke(MXBeanProxy.java:168)\n    at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:252)\nCaused: java.lang.reflect.UndeclaredThrowableException\n    at com.sun.proxy.$Proxy8.getThreadInfo(Unknown Source)\n    at com.sun.tools.visualvm.jmx.impl.JmxSupport.isReadOnlyConnection(JmxSupport.java:95)\n    at com.sun.tools.visualvm.jmx.impl.JmxModelImpl.isTakeThreadDumpSupported(JmxModelImpl.java:311)\n    at com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.resolveThreads(ApplicationThreadsViewProvider.java:65)\n    at com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.supportsViewFor(ApplicationThreadsViewProvider.java:29)\n    at com.sun.tools.visualvm.application.views.threads.ApplicationThreadsViewProvider.supportsViewFor(ApplicationThreadsViewProvider.java:25)\n    at com.sun.tools.visualvm.core.ui.DataSourceViewsManager.getViews(DataSourceViewsManager.java:116)\n    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.openWindowAndAddView(DataSourceWindowManager.java:169)\n    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager.access$000(DataSourceWindowManager.java:30)\n    at com.sun.tools.visualvm.core.ui.DataSourceWindowManager$1.run(DataSourceWindowManager.java:80)\n    at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1393)\n[catch] at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2005)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","jenkins","cicd"],"owner":{"account_id":6757274,"reputation":71,"user_id":5205189,"display_name":"Silviu Sabău"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688547169,"creation_date":1688547169,"question_id":76618650,"body_markdown":"I have a Jenkins pipeline with jobs that execute several tests (I use Java with Selenium and TestNG).\r\n\r\nAt the end of the pipeline I have a job that generates the Allure Report which is working fine. However I want to exclude certain jobs from appearing in the report because they are not actual tests. For instance the job that creates the Allure Report appears even though it&#39;s not really related. \r\n\r\nThe runner file looks like this \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Allure Report&quot;&gt;\r\n        &lt;test name=&quot;Allure&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;util.buildreport.AllureReportTest&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\nIs there a configuration I&#39;m missing on a Jenkins level or can I exclude the job directly from the Java project?\r\n\r\n","title":"Hiding jobs from an Allure Report","body":"<p>I have a Jenkins pipeline with jobs that execute several tests (I use Java with Selenium and TestNG).</p>\n<p>At the end of the pipeline I have a job that generates the Allure Report which is working fine. However I want to exclude certain jobs from appearing in the report because they are not actual tests. For instance the job that creates the Allure Report appears even though it's not really related.</p>\n<p>The runner file looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Allure Report&quot;&gt;\n    &lt;test name=&quot;Allure&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;util.buildreport.AllureReportTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n<p>Is there a configuration I'm missing on a Jenkins level or can I exclude the job directly from the Java project?</p>\n"},{"tags":["java","itext","itext7"],"owner":{"account_id":25226883,"reputation":11,"user_id":19062609,"display_name":"int_michele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688547129,"creation_date":1686232951,"question_id":76432681,"body_markdown":"I want to auto fill the remaining height of a table by using Itext8. I&#39;m using the following code.\r\n\r\n\r\n```\r\npackage TabellaProva;\r\n\r\nimport java.io.FileNotFoundException;\r\n\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.properties.UnitValue;\r\n\r\npublic class NestedTable {\r\n\tprivate static final String DEST = &quot;./prova.pdf&quot;;\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tPdfDocument pdf = new PdfDocument(new PdfWriter(DEST));\r\n\t\tDocument document = new Document(pdf, PageSize.A4);\r\n\r\n\t\tfloat[] colWidths = { 1, 1 };\r\n\t\tTable externalTable = new Table(UnitValue.createPercentArray(colWidths));\r\n\r\n\t\tTable leftNestedTable = new Table(2);\r\n\t\tleftNestedTable.setAutoLayout();\r\n\t\tTable rightNestedTable = new Table(2);\r\n\t\trightNestedTable.setAutoLayout();\r\n\r\n\t\tParagraph lp = new Paragraph(&quot;ciaone&quot;);\r\n\t\tCell lc = new Cell().add(lp);\r\n\t\tCell lc2 = new Cell().add(lp);\r\n\r\n\t\tleftNestedTable.addCell(lc);\r\n\t\tleftNestedTable.addCell(lc2);\r\n\r\n\t\tParagraph rp = new Paragraph(&quot;sono a destra sono a destrasono a destrasono a destrasono a destrasono a destra&quot;);\r\n\t\trightNestedTable.addCell(rp);\r\n\t\trightNestedTable.addCell(rp);\r\n\t\texternalTable.addCell(leftNestedTable);\r\n\t\texternalTable.addCell(rightNestedTable);\r\n\r\n\t\tdocument.add(externalTable);\r\n\t\tdocument.close();\r\n\r\n\t\tSystem.out.println(&quot;DOcument generated&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n[this is the table that i obtain](https://i.stack.imgur.com/vRtfH.png)\r\n\r\n\r\ni would like to obtain a cell in the left that occupies all the available height","title":"auto fill height of a table in Itext 8","body":"<p>I want to auto fill the remaining height of a table by using Itext8. I'm using the following code.</p>\n<pre><code>package TabellaProva;\n\nimport java.io.FileNotFoundException;\n\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.properties.UnitValue;\n\npublic class NestedTable {\n    private static final String DEST = &quot;./prova.pdf&quot;;\n\n    public static void main(String[] args) throws FileNotFoundException {\n        PdfDocument pdf = new PdfDocument(new PdfWriter(DEST));\n        Document document = new Document(pdf, PageSize.A4);\n\n        float[] colWidths = { 1, 1 };\n        Table externalTable = new Table(UnitValue.createPercentArray(colWidths));\n\n        Table leftNestedTable = new Table(2);\n        leftNestedTable.setAutoLayout();\n        Table rightNestedTable = new Table(2);\n        rightNestedTable.setAutoLayout();\n\n        Paragraph lp = new Paragraph(&quot;ciaone&quot;);\n        Cell lc = new Cell().add(lp);\n        Cell lc2 = new Cell().add(lp);\n\n        leftNestedTable.addCell(lc);\n        leftNestedTable.addCell(lc2);\n\n        Paragraph rp = new Paragraph(&quot;sono a destra sono a destrasono a destrasono a destrasono a destrasono a destra&quot;);\n        rightNestedTable.addCell(rp);\n        rightNestedTable.addCell(rp);\n        externalTable.addCell(leftNestedTable);\n        externalTable.addCell(rightNestedTable);\n\n        document.add(externalTable);\n        document.close();\n\n        System.out.println(&quot;DOcument generated&quot;);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vRtfH.png\" rel=\"nofollow noreferrer\">this is the table that i obtain</a></p>\n<p>i would like to obtain a cell in the left that occupies all the available height</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1688542149,"post_id":76617978,"comment_id":135085415,"body_markdown":"It is the same error, so strange.","body":"It is the same error, so strange."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1688543104,"post_id":76617978,"comment_id":135085605,"body_markdown":"Determines which hostnames should be allowed. The default is to allow any hostname.","body":"Determines which hostnames should be allowed. The default is to allow any hostname."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1688543200,"post_id":76617978,"comment_id":135085623,"body_markdown":"Do you mean, in the code, I putted `localhost` to blacklist?","body":"Do you mean, in the code, I putted <code>localhost</code> to blacklist?"}],"answers":[{"tags":[],"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688543477,"creation_date":1688543477,"answer_id":76618177,"question_id":76617978,"body_markdown":"According to the [documentation][1] the HttpFirewall needs to be a separate Bean:\r\n\r\n````\r\n@Configuration\r\npublic class Security {\r\n...\r\n  @Bean\r\n  public StrictHttpFirewall httpFirewall() {\r\n    StrictHttpFirewall strictHttpFireWall = new StrictHttpFirewall();\r\n    strictHttpFirewall.setAllowBackSlash(true);\r\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \r\n    hostName.equals(&quot;http://localhost&quot;));\r\n\r\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \r\n    hostName.equals(&quot;localhost&quot;));\r\n  }\r\n...\r\n}\r\n````\r\n\r\nI tested this locally and this works. The default is to allow every hostname, so putting it in a bean should work even without explicitly adding localhost\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.5.x-SNAPSHOT/reference/html5/#servlet-httpfirewall","title":"Spring Security StrictHttpFirewall.setAllowedHostnames: Why `localhost` in whitelist, but still denied?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-security/site/docs/5.5.x-SNAPSHOT/reference/html5/#servlet-httpfirewall\" rel=\"nofollow noreferrer\">documentation</a> the HttpFirewall needs to be a separate Bean:</p>\n<pre><code>@Configuration\npublic class Security {\n...\n  @Bean\n  public StrictHttpFirewall httpFirewall() {\n    StrictHttpFirewall strictHttpFireWall = new StrictHttpFirewall();\n    strictHttpFirewall.setAllowBackSlash(true);\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \n    hostName.equals(&quot;http://localhost&quot;));\n\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \n    hostName.equals(&quot;localhost&quot;));\n  }\n...\n}\n</code></pre>\n<p>I tested this locally and this works. The default is to allow every hostname, so putting it in a bean should work even without explicitly adding localhost</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688546667,"creation_date":1688546667,"answer_id":76618591,"question_id":76617978,"body_markdown":"[![enter image description here][1]][1]\r\n\r\ndefault allow all host, if point out specific host, it is denied.\r\n\r\n  [1]: https://i.stack.imgur.com/o9kik.png","title":"Spring Security StrictHttpFirewall.setAllowedHostnames: Why `localhost` in whitelist, but still denied?","body":"<p><a href=\"https://i.stack.imgur.com/o9kik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o9kik.png\" alt=\"enter image description here\" /></a></p>\n<p>default allow all host, if point out specific host, it is denied.</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688546667,"creation_date":1688541955,"question_id":76617978,"body_markdown":"I am using Java 11, Spring Boot 2.3.12.RELEASE, Windows 11 x64. With CMD\r\n\r\n```ps1\r\nMicrosoft Windows [Version 10.0.22621.1848]\r\n(c) Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\admin&gt;hostname\r\nDESKTOP-84LARLB\r\n\r\nC:\\Users\\admin&gt;\r\n```\r\nConfiguration\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    //...\r\n    StrictHttpFirewall strictHttpFirewall = new StrictHttpFirewall();\r\n    strictHttpFirewall.setAllowBackSlash(true);\r\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \r\n    hostName.equals(&quot;http://localhost&quot;));\r\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt; hostName.equals(&quot;DESKTOP-84LARLB&quot;));\r\n\r\nstrictHttpFirewall.setAllowedHostnames(hostName -&gt;             \r\n    hostName.equals(&quot;localhost&quot;));\r\n```\r\n\r\nI call by Postman: \r\n```\r\nGET http://localhost:8083/foo/bar/baa\r\n```\r\nerror\r\n\r\n```java\r\n2023-07-05 14:20:33.115 ERROR--[25-nio-8083-exec-2] [                                        ]o.a.c.c.C.[.[localhost]        :Exception Processing ErrorPage[errorCode=0, location=/error]\r\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the domain localhost is untrusted.\r\n\tat org.springframework.security.web.firewall.StrictHttpFirewall.rejectedUntrustedHosts(StrictHttpFirewall.java:382)\r\n\tat org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:337)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:194)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:710)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398)\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257)\r\n\tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:352)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nWhy `localhost` in whitelist, but still denied?\r\n","title":"Spring Security StrictHttpFirewall.setAllowedHostnames: Why `localhost` in whitelist, but still denied?","body":"<p>I am using Java 11, Spring Boot 2.3.12.RELEASE, Windows 11 x64. With CMD</p>\n<pre><code>Microsoft Windows [Version 10.0.22621.1848]\n(c) Microsoft Corporation. All rights reserved.\n\nC:\\Users\\admin&gt;hostname\nDESKTOP-84LARLB\n\nC:\\Users\\admin&gt;\n</code></pre>\n<p>Configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    //...\n    StrictHttpFirewall strictHttpFirewall = new StrictHttpFirewall();\n    strictHttpFirewall.setAllowBackSlash(true);\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt;             \n    hostName.equals(&quot;http://localhost&quot;));\n    strictHttpFirewall.setAllowedHostnames(hostName -&gt; hostName.equals(&quot;DESKTOP-84LARLB&quot;));\n\nstrictHttpFirewall.setAllowedHostnames(hostName -&gt;             \n    hostName.equals(&quot;localhost&quot;));\n</code></pre>\n<p>I call by Postman:</p>\n<pre><code>GET http://localhost:8083/foo/bar/baa\n</code></pre>\n<p>error</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-07-05 14:20:33.115 ERROR--[25-nio-8083-exec-2] [                                        ]o.a.c.c.C.[.[localhost]        :Exception Processing ErrorPage[errorCode=0, location=/error]\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the domain localhost is untrusted.\n    at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedUntrustedHosts(StrictHttpFirewall.java:382)\n    at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:337)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:194)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:710)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:398)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:257)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:352)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:177)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Why <code>localhost</code> in whitelist, but still denied?</p>\n"},{"tags":["java","android","ios","swift","kotlin"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1564176790,"post_id":57227170,"comment_id":100958620,"body_markdown":"You&#39;re probably looking for `Character.UnicodeBlock`.","body":"You&#39;re probably looking for <code>Character.UnicodeBlock</code>."},{"owner":{"account_id":3474037,"reputation":18057,"user_id":2907715,"accept_rate":71,"display_name":"ielyamani"},"score":0,"creation_date":1564201528,"post_id":57227170,"comment_id":100962079,"body_markdown":"[`CharacterSet.decimalDigits`](https://developer.apple.com/documentation/foundation/nscharacterset/1408239-decimaldigits) represents decimals in both Indic scripts and Arabic. As far as I know, there is no equivalent [`Charset`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-charsets/index.html) in Kotlin. One more thing `Int(character)!` will fail with `character` equal to &quot;١&quot; and the like.","body":"<a href=\"https://developer.apple.com/documentation/foundation/nscharacterset/1408239-decimaldigits\" rel=\"nofollow noreferrer\"><code>CharacterSet.decimalDigits</code></a> represents decimals in both Indic scripts and Arabic. As far as I know, there is no equivalent <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-charsets/index.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a> in Kotlin. One more thing <code>Int(character)!</code> will fail with <code>character</code> equal to &quot;١&quot; and the like."}],"answers":[{"tags":[],"owner":{"account_id":101355,"reputation":1988,"user_id":272761,"display_name":"colriot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564499905,"creation_date":1564499905,"answer_id":57275008,"question_id":57227170,"body_markdown":"I&#39;m not sure what you want to do here, what is `x` and what type does `character` have. It would be nice to have this info in the question. But if you want to check if the char of the string is a unicode digit you can do smth like that (since every `Char` in Kotlin is a unicode char already):\r\n\r\n```kotlin\r\nfor (uni in string) {\r\n  if (uni in kotlin.text.CharCategory.DECIMAL_DIGIT_NUMBER) {\r\n    finalNumber = uni.toInt() * x + finalNumber\r\n  } else {\r\n    return &quot;999&quot;\r\n  }\r\n}\r\n```","title":"What is the Kotlin equivalent of Swift&#39;s CharacterSet.decimalDigits and unicodeScalars","body":"<p>I'm not sure what you want to do here, what is <code>x</code> and what type does <code>character</code> have. It would be nice to have this info in the question. But if you want to check if the char of the string is a unicode digit you can do smth like that (since every <code>Char</code> in Kotlin is a unicode char already):</p>\n\n<pre><code>for (uni in string) {\n  if (uni in kotlin.text.CharCategory.DECIMAL_DIGIT_NUMBER) {\n    finalNumber = uni.toInt() * x + finalNumber\n  } else {\n    return \"999\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24429427,"reputation":172,"user_id":18354566,"display_name":"Muzammal Abdul Ghafoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688546544,"creation_date":1688546544,"answer_id":76618578,"question_id":57227170,"body_markdown":"In Kotlin, the equivalent functionality to Swift&#39;s `CharacterSet.decimalDigits` and `unicodeScalars` can be achieved using the `Char` and `CharSequence` types along with some utility functions. Here&#39;s how you can achieve similar functionality:\r\n\r\n1. Kotlin does not have a built-in `CharacterSet` type like Swift, but you can create a custom extension function on `Char` to check if it represents a decimal digit:\r\n\r\n```kotlin\r\nfun Char.isDecimalDigit(): Boolean {\r\n    return this in &#39;0&#39;..&#39;9&#39;\r\n}\r\n```\r\n\r\nYou can use this extension function to check if a `Char` is a decimal digit.\r\n\r\n2. To iterate over the Unicode scalar values of a `CharSequence` in Kotlin, you can use the `codePoints()` extension function and convert each code point back to a `Char`:\r\n\r\n```kotlin\r\nfun CharSequence.unicodeScalars(): Sequence&lt;Char&gt; {\r\n    return this.codePoints().asSequence().map { it.toChar() }\r\n}\r\n```\r\n\r\nThis extension function allows you to obtain a sequence of `Char` representing the Unicode scalar values of a `CharSequence`, which could be a `String` or any other sequence of characters.\r\n\r\nHere&#39;s an example of how you can use these functions:\r\n\r\n```kotlin\r\nfun main() {\r\n    val str = &quot;abc123&quot;\r\n    \r\n    for (char in str) {\r\n        if (char.isDecimalDigit()) {\r\n            println(&quot;$char is a decimal digit.&quot;)\r\n        }\r\n    }\r\n    \r\n    val unicodeScalars = str.unicodeScalars()\r\n    for (scalar in unicodeScalars) {\r\n        println(scalar)\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n1 is a decimal digit.\r\n2 is a decimal digit.\r\n3 is a decimal digit.\r\na\r\nb\r\nc\r\n1\r\n2\r\n3\r\n```\r\n\r\nIn the above example, the `isDecimalDigit()` function is used to check if each character in the `str` string is a decimal digit. The `unicodeScalars()` function is used to iterate over the Unicode scalar values of the `str` string and print them.","title":"What is the Kotlin equivalent of Swift&#39;s CharacterSet.decimalDigits and unicodeScalars","body":"<p>In Kotlin, the equivalent functionality to Swift's <code>CharacterSet.decimalDigits</code> and <code>unicodeScalars</code> can be achieved using the <code>Char</code> and <code>CharSequence</code> types along with some utility functions. Here's how you can achieve similar functionality:</p>\n<ol>\n<li>Kotlin does not have a built-in <code>CharacterSet</code> type like Swift, but you can create a custom extension function on <code>Char</code> to check if it represents a decimal digit:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Char.isDecimalDigit(): Boolean {\n    return this in '0'..'9'\n}\n</code></pre>\n<p>You can use this extension function to check if a <code>Char</code> is a decimal digit.</p>\n<ol start=\"2\">\n<li>To iterate over the Unicode scalar values of a <code>CharSequence</code> in Kotlin, you can use the <code>codePoints()</code> extension function and convert each code point back to a <code>Char</code>:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun CharSequence.unicodeScalars(): Sequence&lt;Char&gt; {\n    return this.codePoints().asSequence().map { it.toChar() }\n}\n</code></pre>\n<p>This extension function allows you to obtain a sequence of <code>Char</code> representing the Unicode scalar values of a <code>CharSequence</code>, which could be a <code>String</code> or any other sequence of characters.</p>\n<p>Here's an example of how you can use these functions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val str = &quot;abc123&quot;\n    \n    for (char in str) {\n        if (char.isDecimalDigit()) {\n            println(&quot;$char is a decimal digit.&quot;)\n        }\n    }\n    \n    val unicodeScalars = str.unicodeScalars()\n    for (scalar in unicodeScalars) {\n        println(scalar)\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1 is a decimal digit.\n2 is a decimal digit.\n3 is a decimal digit.\na\nb\nc\n1\n2\n3\n</code></pre>\n<p>In the above example, the <code>isDecimalDigit()</code> function is used to check if each character in the <code>str</code> string is a decimal digit. The <code>unicodeScalars()</code> function is used to iterate over the Unicode scalar values of the <code>str</code> string and print them.</p>\n"}],"owner":{"account_id":261970,"reputation":14545,"user_id":546509,"accept_rate":70,"display_name":"Ethan Allen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1688546544,"creation_date":1564176205,"question_id":57227170,"body_markdown":"I have the following code in Swift 5 that I&#39;m having trouble converting to Kotlin:\r\n\r\n    let digits = CharacterSet.decimalDigits\r\n    for uni in character.unicodeScalars {\r\n      if digits.contains(uni) {\r\n        finalNumber = (Int(character)! * x) + finalNumber\r\n      }\r\n      else {\r\n        return &quot;999&quot;\r\n      }\r\n    }\r\n\r\nThe areas I am having trouble converting are with `CharacterSet.decimalDigits` and `character.unicodeScalars`. Anyone out there have any idea on how to translate these to Kotlin?","title":"What is the Kotlin equivalent of Swift&#39;s CharacterSet.decimalDigits and unicodeScalars","body":"<p>I have the following code in Swift 5 that I'm having trouble converting to Kotlin:</p>\n\n<pre><code>let digits = CharacterSet.decimalDigits\nfor uni in character.unicodeScalars {\n  if digits.contains(uni) {\n    finalNumber = (Int(character)! * x) + finalNumber\n  }\n  else {\n    return \"999\"\n  }\n}\n</code></pre>\n\n<p>The areas I am having trouble converting are with <code>CharacterSet.decimalDigits</code> and <code>character.unicodeScalars</code>. Anyone out there have any idea on how to translate these to Kotlin?</p>\n"},{"tags":["java","enums","mapstruct"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688550025,"post_id":76618020,"comment_id":135086993,"body_markdown":"To improve the quality of your question to a point where it may receive upvotes, you should add the error message that Mapstruct generates. Just saying &quot;not good&quot; or &quot;it doesn&#39;t work&quot; will work against you.","body":"To improve the quality of your question to a point where it may receive upvotes, you should add the error message that Mapstruct generates. Just saying &quot;not good&quot; or &quot;it doesn&#39;t work&quot; will work against you."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688545330,"creation_date":1688545330,"answer_id":76618401,"question_id":76618020,"body_markdown":"Solution 1 ([expressions][3]):\r\n\r\n    @Named(&quot;toAssureDto&quot;)\r\n    //assuming csp is not null, and that I want to map the value of the enum returned by .toString() that can be different from .name()\r\n    @Mapping(target = &quot;profession&quot;, expression = &quot;java(entity.getCsp().get().toString())&quot;)\r\n    AssureDto toDto(final AssureAuto entity);\r\n\r\nSolution 2 ([adding-custom-methods][2]):\r\n\r\n    @Named(&quot;toAssureDto&quot;)\r\n    @Mapping(target = &quot;profession&quot;, source = &quot;csp&quot;, qualifiedByName = &quot;mapCsp&quot;)\r\n    AssureDto toDto(final AssureAuto entity);\r\n\r\n    @Named(&quot;mapCsp&quot;) \r\n    default String mapCsp(JsonNullable&lt;Csp&gt; csp){\r\n        //add your custom mapping implementation\r\n        //here is an example assuming csp is not null, and that I want to map the value of the enum returned by .toString() that can be different from .name()\r\n        return csp.get().toString();\r\n    }\r\n\r\nOther Documentation:\r\n- [mapping-enum-types][1] \r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-enum-types\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\r\n  [3]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"Map enums with mapstruct","body":"<p>Solution 1 (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">expressions</a>):</p>\n<pre><code>@Named(&quot;toAssureDto&quot;)\n//assuming csp is not null, and that I want to map the value of the enum returned by .toString() that can be different from .name()\n@Mapping(target = &quot;profession&quot;, expression = &quot;java(entity.getCsp().get().toString())&quot;)\nAssureDto toDto(final AssureAuto entity);\n</code></pre>\n<p>Solution 2 (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">adding-custom-methods</a>):</p>\n<pre><code>@Named(&quot;toAssureDto&quot;)\n@Mapping(target = &quot;profession&quot;, source = &quot;csp&quot;, qualifiedByName = &quot;mapCsp&quot;)\nAssureDto toDto(final AssureAuto entity);\n\n@Named(&quot;mapCsp&quot;) \ndefault String mapCsp(JsonNullable&lt;Csp&gt; csp){\n    //add your custom mapping implementation\n    //here is an example assuming csp is not null, and that I want to map the value of the enum returned by .toString() that can be different from .name()\n    return csp.get().toString();\n}\n</code></pre>\n<p>Other Documentation:</p>\n<ul>\n<li><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-enum-types\" rel=\"nofollow noreferrer\">mapping-enum-types</a></li>\n</ul>\n"}],"owner":{"account_id":23470942,"reputation":335,"user_id":17524471,"display_name":"Olivier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76618401,"answer_count":1,"score":0,"last_activity_date":1688546413,"creation_date":1688542194,"question_id":76618020,"body_markdown":"I have to make custom mappers on the application I’m working on. Some properties are enum types like this.\r\nI’m trying to figure out how to create a map in this situation.\r\n\r\nHere&#39;s the property of the entity:\r\n\r\n    @JsonProperty(&quot;csp&quot;)\r\n    private JsonNullable&lt;Csp&gt; csp = JsonNullable.undefined();\r\n\r\nwhere `Csp` is an enum\r\n\r\nHere&#39;s the property of the dto I want to map:\r\n\r\n    private String profession;\r\n\r\nHere&#39;s the map that’s not good:\r\n\r\n    @Mapping(target = &quot;assure&quot;, source = &quot;assure&quot;, qualifiedByName = &quot;toAssureDto&quot;)\r\n    \r\n    @Named(&quot;toAssureDto&quot;)\r\n    @Mapping(target = &quot;profession&quot;, source = &quot;csp&quot;)\r\n    AssureDto toDto(final AssureAuto entity);\r\n\r\nThanks for help","title":"Map enums with mapstruct","body":"<p>I have to make custom mappers on the application I’m working on. Some properties are enum types like this.\nI’m trying to figure out how to create a map in this situation.</p>\n<p>Here's the property of the entity:</p>\n<pre><code>@JsonProperty(&quot;csp&quot;)\nprivate JsonNullable&lt;Csp&gt; csp = JsonNullable.undefined();\n</code></pre>\n<p>where <code>Csp</code> is an enum</p>\n<p>Here's the property of the dto I want to map:</p>\n<pre><code>private String profession;\n</code></pre>\n<p>Here's the map that’s not good:</p>\n<pre><code>@Mapping(target = &quot;assure&quot;, source = &quot;assure&quot;, qualifiedByName = &quot;toAssureDto&quot;)\n\n@Named(&quot;toAssureDto&quot;)\n@Mapping(target = &quot;profession&quot;, source = &quot;csp&quot;)\nAssureDto toDto(final AssureAuto entity);\n</code></pre>\n<p>Thanks for help</p>\n"},{"tags":["java","openoffice.org"],"owner":{"account_id":28950872,"reputation":1,"user_id":22175516,"display_name":"Nassima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688545689,"creation_date":1688545249,"question_id":76618386,"body_markdown":"On a VMware virtual machine, I am the administrator. On this VM, we are running a batch script that calls Java code.\r\nMy colleagues are regular users on this VM.\r\nThe batch script attempts to open the ODS file with the following Java code.\r\n\r\n    // the boolean property Hidden tells the office to open a file in\r\n    // hidden mode\r\n    PropertyValue[] props = new PropertyValue[1];\r\n    props[0] = new PropertyValue();\r\n    props[0].Name = &quot;Hidden&quot;;\r\n    props[0].Value = new Boolean(true);\r\n\r\n    XComponent component = xLoader.loadComponentFromURL(&quot;file:///&quot; + pathToFile, &quot;_blank&quot;, 0, props);\r\n\r\n    XSpreadsheetDocument document = (XSpreadsheetDocument) UnoRuntime.queryInterface(XSpreadsheetDocument.class, component);\r\n\r\n    XSpreadsheets sheets = document.getSheets();\r\n\r\nThe &quot;document&quot; variable is null, which causes a null pointer exception (sometimes, not always) for other users who are not administrators. I have never encountered any issues myself as I am an administrator on the VM.\r\nFor your information, `xLoader` is defined as follows:\r\n\r\n    XComponentLoader xLoader = initialiseComponent();\r\n\r\n and \r\n\r\n    private XComponentLoader initialiseComponent() { \r\n\r\n        try {\r\n\r\n            Object x;\r\n            Object defaultContext;\r\n            Object desktop;\r\n\r\n            XComponentContext componentContext = Bootstrap\r\n                    .createInitialComponentContext(null);\r\n            x = componentContext.getServiceManager().createInstanceWithContext(\r\n                    &quot;com.sun.star.connection.Connector&quot;, componentContext);\r\n            XConnector connector = (XConnector) UnoRuntime.queryInterface(\r\n                    XConnector.class, x);\r\n            XConnection connection = connector.connect(&quot;socket,host=&quot;\r\n                    + ooService.getConfiguration().getString(\r\n                    OPEN_OFFICE_HOST_KEY)\r\n                    + &quot;,port=&quot;\r\n                    + ooService.getConfiguration().getString(\r\n                    OPEN_OFFICE_PORT_KEY));\r\n            x = componentContext.getServiceManager().createInstanceWithContext(\r\n                    &quot;com.sun.star.bridge.BridgeFactory&quot;, componentContext);\r\n            XBridgeFactory bridgeFactory = (XBridgeFactory) UnoRuntime\r\n                    .queryInterface(XBridgeFactory.class, x);\r\n            XBridge bridge = bridgeFactory.createBridge(&quot;&quot;, &quot;urp&quot;, connection,\r\n                    null);\r\n            x = bridge.getInstance(&quot;StarOffice.ServiceManager&quot;);\r\n            XMultiComponentFactory multiComponentFactory = (XMultiComponentFactory) UnoRuntime\r\n                    .queryInterface(XMultiComponentFactory.class, x);\r\n\r\n            XPropertySet properySet = (XPropertySet) UnoRuntime.queryInterface(\r\n                    XPropertySet.class, multiComponentFactory);\r\n            defaultContext = properySet.getPropertyValue(&quot;DefaultContext&quot;);\r\n            componentContext = (XComponentContext) UnoRuntime.queryInterface(\r\n                    XComponentContext.class, defaultContext);\r\n            multiComponentFactory = componentContext.getServiceManager();\r\n            desktop = multiComponentFactory.createInstanceWithContext(\r\n                    &quot;com.sun.star.frame.Desktop&quot;, componentContext);\r\n            return (XComponentLoader) UnoRuntime.queryInterface(\r\n                    XComponentLoader.class, desktop);\r\n\r\n        } catch (java.lang.Exception e) {\r\n            log.error(e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\nThank you \r\nHere are the checks that have already been performed:\r\n- We are using the same classpath.\r\n- User Landa has read and write permissions on the file.\r\n- The file exists at the specified path &quot;file:///&quot; + pathToFile, and when I enter &quot;file:///&quot; + pathToFile, I can access the file.\r\n- The issue is most likely caused by the initializeComponent method.","title":"Problem with Opening ODS File using Java Code on VMware Virtual Machine","body":"<p>On a VMware virtual machine, I am the administrator. On this VM, we are running a batch script that calls Java code.\nMy colleagues are regular users on this VM.\nThe batch script attempts to open the ODS file with the following Java code.</p>\n<pre><code>// the boolean property Hidden tells the office to open a file in\n// hidden mode\nPropertyValue[] props = new PropertyValue[1];\nprops[0] = new PropertyValue();\nprops[0].Name = &quot;Hidden&quot;;\nprops[0].Value = new Boolean(true);\n\nXComponent component = xLoader.loadComponentFromURL(&quot;file:///&quot; + pathToFile, &quot;_blank&quot;, 0, props);\n\nXSpreadsheetDocument document = (XSpreadsheetDocument) UnoRuntime.queryInterface(XSpreadsheetDocument.class, component);\n\nXSpreadsheets sheets = document.getSheets();\n</code></pre>\n<p>The &quot;document&quot; variable is null, which causes a null pointer exception (sometimes, not always) for other users who are not administrators. I have never encountered any issues myself as I am an administrator on the VM.\nFor your information, <code>xLoader</code> is defined as follows:</p>\n<pre><code>XComponentLoader xLoader = initialiseComponent();\n</code></pre>\n<p>and</p>\n<pre><code>private XComponentLoader initialiseComponent() { \n\n    try {\n\n        Object x;\n        Object defaultContext;\n        Object desktop;\n\n        XComponentContext componentContext = Bootstrap\n                .createInitialComponentContext(null);\n        x = componentContext.getServiceManager().createInstanceWithContext(\n                &quot;com.sun.star.connection.Connector&quot;, componentContext);\n        XConnector connector = (XConnector) UnoRuntime.queryInterface(\n                XConnector.class, x);\n        XConnection connection = connector.connect(&quot;socket,host=&quot;\n                + ooService.getConfiguration().getString(\n                OPEN_OFFICE_HOST_KEY)\n                + &quot;,port=&quot;\n                + ooService.getConfiguration().getString(\n                OPEN_OFFICE_PORT_KEY));\n        x = componentContext.getServiceManager().createInstanceWithContext(\n                &quot;com.sun.star.bridge.BridgeFactory&quot;, componentContext);\n        XBridgeFactory bridgeFactory = (XBridgeFactory) UnoRuntime\n                .queryInterface(XBridgeFactory.class, x);\n        XBridge bridge = bridgeFactory.createBridge(&quot;&quot;, &quot;urp&quot;, connection,\n                null);\n        x = bridge.getInstance(&quot;StarOffice.ServiceManager&quot;);\n        XMultiComponentFactory multiComponentFactory = (XMultiComponentFactory) UnoRuntime\n                .queryInterface(XMultiComponentFactory.class, x);\n\n        XPropertySet properySet = (XPropertySet) UnoRuntime.queryInterface(\n                XPropertySet.class, multiComponentFactory);\n        defaultContext = properySet.getPropertyValue(&quot;DefaultContext&quot;);\n        componentContext = (XComponentContext) UnoRuntime.queryInterface(\n                XComponentContext.class, defaultContext);\n        multiComponentFactory = componentContext.getServiceManager();\n        desktop = multiComponentFactory.createInstanceWithContext(\n                &quot;com.sun.star.frame.Desktop&quot;, componentContext);\n        return (XComponentLoader) UnoRuntime.queryInterface(\n                XComponentLoader.class, desktop);\n\n    } catch (java.lang.Exception e) {\n        log.error(e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Thank you\nHere are the checks that have already been performed:</p>\n<ul>\n<li>We are using the same classpath.</li>\n<li>User Landa has read and write permissions on the file.</li>\n<li>The file exists at the specified path &quot;file:///&quot; + pathToFile, and when I enter &quot;file:///&quot; + pathToFile, I can access the file.</li>\n<li>The issue is most likely caused by the initializeComponent method.</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","hibernate-criteria"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690448237,"post_id":76612836,"comment_id":135356201,"body_markdown":"This is straightforward, if you are willing to use the criteria API. But then, the criteria API is cumbersome, so this should be a informed decision. I don&#39;t think this is possible with JPQL &quot;string&quot; queries or native queries.","body":"This is straightforward, if you are willing to use the criteria API. But then, the criteria API is cumbersome, so this should be a informed decision. I don&#39;t think this is possible with JPQL &quot;string&quot; queries or native queries."},{"owner":{"account_id":5091045,"reputation":1252,"user_id":4084107,"accept_rate":30,"display_name":"Warren Nocos"},"score":0,"creation_date":1692789623,"post_id":76612836,"comment_id":135671382,"body_markdown":"@NikosParaskevopoulos I&#39;m actually trying to find a method to implement this without having to go through all the existing criteria and JPQL-based queries just to add the count query. Basically, I&#39;m trying to implement a `getPotentialResultCount(Query)` method to cater to all existing and new queries.","body":"@NikosParaskevopoulos I&#39;m actually trying to find a method to implement this without having to go through all the existing criteria and JPQL-based queries just to add the count query. Basically, I&#39;m trying to implement a <code>getPotentialResultCount(Query)</code> method to cater to all existing and new queries."}],"owner":{"account_id":5091045,"reputation":1252,"user_id":4084107,"accept_rate":30,"display_name":"Warren Nocos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688545529,"creation_date":1688475039,"question_id":76612836,"body_markdown":"Is there a JPA-specific or provider-specific way to create a `javax.persistence.Query/TypedQuery` from another `Query/TypedQuery` with the possibility to change the query parts like the `Selection`? Basically, I would like to get the number of entities that a `javax.persistence.Query` could possibly return before actually running it.","title":"Hibernate/JPA: Dynamically create a count Query based on another Query","body":"<p>Is there a JPA-specific or provider-specific way to create a <code>javax.persistence.Query/TypedQuery</code> from another <code>Query/TypedQuery</code> with the possibility to change the query parts like the <code>Selection</code>? Basically, I would like to get the number of entities that a <code>javax.persistence.Query</code> could possibly return before actually running it.</p>\n"},{"tags":["java","plantuml"],"comments":[{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":1,"creation_date":1688347079,"post_id":76599075,"comment_id":135057716,"body_markdown":"Are you sure you want to use PlantUML&#39;s API? Someone did it with partial PEG.js grammar at https://github.com/bafolts/plantuml-code-generator","body":"Are you sure you want to use PlantUML&#39;s API? Someone did it with partial PEG.js grammar at <a href=\"https://github.com/bafolts/plantuml-code-generator\" rel=\"nofollow noreferrer\">github.com/bafolts/plantuml-code-generator</a>"}],"answers":[{"tags":[],"owner":{"account_id":3138894,"reputation":3547,"user_id":2654773,"accept_rate":96,"display_name":"eztam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688545307,"creation_date":1688545307,"answer_id":76618398,"question_id":76599075,"body_markdown":"I found the answer meanwhile, by reverse engineering the API&#39;s Java code.\r\n\r\n\r\n    String source = &quot;@startuml\\n&quot; +\r\n                PUT YOUR CLASS DIAGRAM HERE\r\n                &quot;@enduml&quot;;\r\n\r\n    SourceStringReader r = new SourceStringReader(source);\r\n    FileOutputStream file = new FileOutputStream(&quot;testGroovy2.png&quot;);\r\n    ClassDiagram cd = (ClassDiagram) r.getBlocks().get(0).getDiagram();\r\n    Collection&lt;Quark&lt;Entity&gt;&gt; classes = \r\n    cd.getEntityFactory().root().getChildren();\r\n    classes.stream().forEach(c-&gt; System.out.println(c));","title":"Parse UML class diagram with PlantUML Java API","body":"<p>I found the answer meanwhile, by reverse engineering the API's Java code.</p>\n<pre><code>String source = &quot;@startuml\\n&quot; +\n            PUT YOUR CLASS DIAGRAM HERE\n            &quot;@enduml&quot;;\n\nSourceStringReader r = new SourceStringReader(source);\nFileOutputStream file = new FileOutputStream(&quot;testGroovy2.png&quot;);\nClassDiagram cd = (ClassDiagram) r.getBlocks().get(0).getDiagram();\nCollection&lt;Quark&lt;Entity&gt;&gt; classes = \ncd.getEntityFactory().root().getChildren();\nclasses.stream().forEach(c-&gt; System.out.println(c));\n</code></pre>\n"}],"owner":{"account_id":3138894,"reputation":3547,"user_id":2654773,"accept_rate":96,"display_name":"eztam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76618398,"answer_count":1,"score":0,"last_activity_date":1688545307,"creation_date":1688303692,"question_id":76599075,"body_markdown":"I want to parse an existing PlantUML class diagram in order to implement my own DDL code generator. \r\nAs a first step I&#39;m trying to parse a *.puml file containing the class diagram from Java, by using the [plantuml-mit](https://mvnrepository.com/artifact/net.sourceforge.plantuml/plantuml-mit/1.2023.9) library. The idea is, to be able to iterate over all the classes in the diagram.\r\n\r\nHow can I access the diagram elements from code? So far I&#39;ve discovered this two classes, which both expect a UmlDatasource inctance in the constructor, but I&#39;m unsure how to create these instances.\r\n  \r\n    net.sourceforge.plantuml.classdiagram.ClassDiagram\r\n    net.sourceforge.plantuml.classdiagram.ClassDiagramFactory","title":"Parse UML class diagram with PlantUML Java API","body":"<p>I want to parse an existing PlantUML class diagram in order to implement my own DDL code generator.\nAs a first step I'm trying to parse a *.puml file containing the class diagram from Java, by using the <a href=\"https://mvnrepository.com/artifact/net.sourceforge.plantuml/plantuml-mit/1.2023.9\" rel=\"nofollow noreferrer\">plantuml-mit</a> library. The idea is, to be able to iterate over all the classes in the diagram.</p>\n<p>How can I access the diagram elements from code? So far I've discovered this two classes, which both expect a UmlDatasource inctance in the constructor, but I'm unsure how to create these instances.</p>\n<pre><code>net.sourceforge.plantuml.classdiagram.ClassDiagram\nnet.sourceforge.plantuml.classdiagram.ClassDiagramFactory\n</code></pre>\n"},{"tags":["java","naming-conventions","data-transfer-objects"],"comments":[{"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"score":0,"creation_date":1258054405,"post_id":1724774,"comment_id":1603528,"body_markdown":"It is in the client library, you can change the name?","body":"It is in the client library, you can change the name?"},{"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"score":0,"creation_date":1258054441,"post_id":1724774,"comment_id":1603532,"body_markdown":"Yes, we control the client library.  So we could change the name to &quot;ClientCar&quot; if we wanted to.","body":"Yes, we control the client library.  So we could change the name to &quot;ClientCar&quot; if we wanted to."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1504864899,"post_id":1724774,"comment_id":79189704,"body_markdown":"There is no main class in this example. At the risk of making myself unemployable I am bound to state that I have no belief whatsoever in DTOs, POJOs, etc.","body":"There is no main class in this example. At the risk of making myself unemployable I am bound to state that I have no belief whatsoever in DTOs, POJOs, etc."}],"answers":[{"tags":[],"owner":{"account_id":9398,"reputation":12450,"user_id":17337,"accept_rate":64,"display_name":"IaCoder"},"down_vote_count":7,"up_vote_count":68,"is_accepted":true,"score":61,"last_activity_date":1258054606,"creation_date":1258054606,"answer_id":1724811,"question_id":1724774,"body_markdown":"I generally add &#39;DTO&#39; to the end of the Class name as well as place all the DTO&#39;s in their own package. In your example I would call it com.x.core.dto.CarDTO.","title":"Java data transfer object naming convention?","body":"<p>I generally add 'DTO' to the end of the Class name as well as place all the DTO's in their own package. In your example I would call it com.x.core.dto.CarDTO.</p>\n"},{"tags":[],"owner":{"account_id":16963,"reputation":13521,"user_id":37494,"accept_rate":95,"display_name":"Perpetualcoder"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1258054627,"creation_date":1258054627,"answer_id":1724819,"question_id":1724774,"body_markdown":"I dont think there is a best practice or convention for a class exhibiting this kind of behavior. I personally dont like the word Object in any of the class names. You could either use some qualification like Poko.Car or use some naming convention like\r\nCar (for POJO)\r\nCarDa (for data access)\r\nCarBiz ( for business domain class)\r\n\r\nOr if you dont mind the word object in a class name go for something like CarDto (Car Data Transfer Object)","title":"Java data transfer object naming convention?","body":"<p>I dont think there is a best practice or convention for a class exhibiting this kind of behavior. I personally dont like the word Object in any of the class names. You could either use some qualification like Poko.Car or use some naming convention like\nCar (for POJO)\nCarDa (for data access)\nCarBiz ( for business domain class)</p>\n\n<p>Or if you dont mind the word object in a class name go for something like CarDto (Car Data Transfer Object)</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1258055757,"creation_date":1258054849,"answer_id":1724835,"question_id":1724774,"body_markdown":"Use a convention that is suitable among the other code conventions you are using. I personally use the suffix &quot;TO&quot; (e.g. the data transfer object associated to the Customer domain class is named CustomerTO).\r\nAlso the package structure should convey the intent of each type of class (so.foo.domain.Customer and so.foo.transport.CustomerTO)","title":"Java data transfer object naming convention?","body":"<p>Use a convention that is suitable among the other code conventions you are using. I personally use the suffix \"TO\" (e.g. the data transfer object associated to the Customer domain class is named CustomerTO).\nAlso the package structure should convey the intent of each type of class (so.foo.domain.Customer and so.foo.transport.CustomerTO)</p>\n"},{"tags":[],"owner":{"account_id":19294,"reputation":3644,"user_id":45108,"accept_rate":64,"display_name":"Jim Barrows"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1258055415,"creation_date":1258055415,"answer_id":1724906,"question_id":1724774,"body_markdown":"Adding DTO or DAO or anything else violates DRY.  The FQN is perfectly fine, especially if they&#39;re really the same thing.","title":"Java data transfer object naming convention?","body":"<p>Adding DTO or DAO or anything else violates DRY.  The FQN is perfectly fine, especially if they're really the same thing.</p>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":4,"up_vote_count":259,"is_accepted":false,"score":255,"last_activity_date":1658774322,"creation_date":1455200049,"answer_id":35341664,"question_id":1724774,"body_markdown":"[**D**ata **T**ransfer **O**bject][3] classes should follow the [name convention][2] defined in the [Java Language Specification][1]:\r\n\r\n&gt; Names of class types should be descriptive nouns or noun phrases, not overly long, in mixed case with the first letter of each word capitalized.\r\n&gt;\r\n&gt; ```java\r\n&gt; ClassLoader\r\n&gt; SecurityManager\r\n&gt; Thread\r\n&gt; Dictionary\r\n&gt; BufferedInputStream\r\n&gt; ```\r\n&gt; [...]\r\n\r\n---\r\n\r\nSuffixing a class name with **DTO** or **Dto** won&#39;t tell much about the class itself besides indicating it carries data without any behaviour. So, instead of just calling your objects DTO, it might be worth considering more meaningful names, which convey better semantics for the classes.\r\n\r\nHere is a non-exhaustive list of name suggestions you could use:\r\n\r\n- &lt;code&gt;SomeSortOf**Command**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Configuration**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Credentials**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Details**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Element**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Event**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Filter**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Header**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Input**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Instruction**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Item**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Message**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Metadata**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Operation**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Output**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Payload**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Projection**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Properties**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**QueryParameter**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**QueryResult**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Representation**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Request**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Resource**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Response**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Result**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Row**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Settings**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Specification**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Status**&lt;/code&gt;\r\n- &lt;code&gt;SomeSortOf**Summary**&lt;/code&gt;\r\n\r\n---\r\n\r\n&lt;sup&gt;**Note 1:** Whether acronyms or all capitalized words should be handled as words or not, I guess it&#39;s up to you. Check the [Java API][4] and you will find some stumbles like [`ZipInputStream`][5] / [`GZIPInputStream`][6]. Both classes are in the [same package][7] and the name convention is not consistent. [`HttpURLConnection`][8] doesn&#39;t show any consistency with acronyms either.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;**Note 2:** Some names listed above were borrowed from this [article][9] written by [Richard Dingwall][10] (the original article seems to be no longer available, so [here&#39;s a cached copy][11] from Web Archive).&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/index.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-6.html#jls-6\r\n  [3]: https://en.wikipedia.org/wiki/Data_transfer_object\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/allclasses-frame.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/util/zip/ZipInputStream.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPInputStream.html\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/util/zip/package-summary.html\r\n  [8]: https://docs.oracle.com/javase/9/docs/api/java/net/HttpURLConnection.html\r\n  [9]: http://rdingwall.com/2010/04/17/try-not-to-call-your-objects-dtos/\r\n  [10]: https://stackoverflow.com/users/91551/richard-dingwall\r\n  [11]: https://web.archive.org/web/20170614081139/http://rdingwall.com/2010/04/17/try-not-to-call-your-objects-dtos/","title":"Java data transfer object naming convention?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"noreferrer\"><strong>D</strong>ata <strong>T</strong>ransfer <strong>O</strong>bject</a> classes should follow the <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-6.html#jls-6\" rel=\"noreferrer\">name convention</a> defined in the <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<p>Names of class types should be descriptive nouns or noun phrases, not overly long, in mixed case with the first letter of each word capitalized.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader\nSecurityManager\nThread\nDictionary\nBufferedInputStream\n</code></pre>\n<p>[...]</p>\n</blockquote>\n<hr />\n<p>Suffixing a class name with <strong>DTO</strong> or <strong>Dto</strong> won't tell much about the class itself besides indicating it carries data without any behaviour. So, instead of just calling your objects DTO, it might be worth considering more meaningful names, which convey better semantics for the classes.</p>\n<p>Here is a non-exhaustive list of name suggestions you could use:</p>\n<ul>\n<li><code>SomeSortOf<strong>Command</strong></code></li>\n<li><code>SomeSortOf<strong>Configuration</strong></code></li>\n<li><code>SomeSortOf<strong>Credentials</strong></code></li>\n<li><code>SomeSortOf<strong>Details</strong></code></li>\n<li><code>SomeSortOf<strong>Element</strong></code></li>\n<li><code>SomeSortOf<strong>Event</strong></code></li>\n<li><code>SomeSortOf<strong>Filter</strong></code></li>\n<li><code>SomeSortOf<strong>Header</strong></code></li>\n<li><code>SomeSortOf<strong>Input</strong></code></li>\n<li><code>SomeSortOf<strong>Instruction</strong></code></li>\n<li><code>SomeSortOf<strong>Item</strong></code></li>\n<li><code>SomeSortOf<strong>Message</strong></code></li>\n<li><code>SomeSortOf<strong>Metadata</strong></code></li>\n<li><code>SomeSortOf<strong>Operation</strong></code></li>\n<li><code>SomeSortOf<strong>Output</strong></code></li>\n<li><code>SomeSortOf<strong>Payload</strong></code></li>\n<li><code>SomeSortOf<strong>Projection</strong></code></li>\n<li><code>SomeSortOf<strong>Properties</strong></code></li>\n<li><code>SomeSortOf<strong>QueryParameter</strong></code></li>\n<li><code>SomeSortOf<strong>QueryResult</strong></code></li>\n<li><code>SomeSortOf<strong>Representation</strong></code></li>\n<li><code>SomeSortOf<strong>Request</strong></code></li>\n<li><code>SomeSortOf<strong>Resource</strong></code></li>\n<li><code>SomeSortOf<strong>Response</strong></code></li>\n<li><code>SomeSortOf<strong>Result</strong></code></li>\n<li><code>SomeSortOf<strong>Row</strong></code></li>\n<li><code>SomeSortOf<strong>Settings</strong></code></li>\n<li><code>SomeSortOf<strong>Specification</strong></code></li>\n<li><code>SomeSortOf<strong>Status</strong></code></li>\n<li><code>SomeSortOf<strong>Summary</strong></code></li>\n</ul>\n<hr />\n<p><sup><strong>Note 1:</strong> Whether acronyms or all capitalized words should be handled as words or not, I guess it's up to you. Check the <a href=\"https://docs.oracle.com/javase/9/docs/api/allclasses-frame.html\" rel=\"noreferrer\">Java API</a> and you will find some stumbles like <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/zip/ZipInputStream.html\" rel=\"noreferrer\"><code>ZipInputStream</code></a> / <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"noreferrer\"><code>GZIPInputStream</code></a>. Both classes are in the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/zip/package-summary.html\" rel=\"noreferrer\">same package</a> and the name convention is not consistent. <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\"><code>HttpURLConnection</code></a> doesn't show any consistency with acronyms either.</sup></p>\n<p><sup><strong>Note 2:</strong> Some names listed above were borrowed from this <a href=\"http://rdingwall.com/2010/04/17/try-not-to-call-your-objects-dtos/\" rel=\"noreferrer\">article</a> written by <a href=\"https://stackoverflow.com/users/91551/richard-dingwall\">Richard Dingwall</a> (the original article seems to be no longer available, so <a href=\"https://web.archive.org/web/20170614081139/http://rdingwall.com/2010/04/17/try-not-to-call-your-objects-dtos/\" rel=\"noreferrer\">here's a cached copy</a> from Web Archive).</sup></p>\n"},{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1612440570,"creation_date":1612440570,"answer_id":66045329,"question_id":1724774,"body_markdown":"I read the answers above, I just want to add something. I somehow hate the word `DTO`, It seems like it is screaming at me. So I try to use `Payload` suffix. For example, `CarPayload`.","title":"Java data transfer object naming convention?","body":"<p>I read the answers above, I just want to add something. I somehow hate the word <code>DTO</code>, It seems like it is screaming at me. So I try to use <code>Payload</code> suffix. For example, <code>CarPayload</code>.</p>\n"},{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688544476,"creation_date":1688544476,"answer_id":76618283,"question_id":1724774,"body_markdown":"abbreviation/acronyms should be CamelCase\r\n---\r\n\r\nsince `DTO` is a valid abbreviation/acronym (there are tons of valid abbreviation/acronyms, eg: `CPU`, `JSON`, `REST`, `HTTP`) we treat is as any other word: **CamelCase**\r\n\r\nan abbreviation/acronym **is valid** (see [java naming conventions][1]) when the abbreviation/acronym itself is commonly known and widely understood, short: when there is no mistake what this abbreviation/acronym could mean. \r\n\r\n```\r\nCar car = new Car();\r\nCarDto carDto = new CarMapper().toDto(car);\r\n```\r\n\r\nside note - things evolve:\r\n---\r\n\r\nusing camel case for abbrevation was not always implemented, there is a lot of old code that does not apply this Rule (yet), see [URL][2] (since JDK1.0) `URL`. Some code has evolved and is a mix of both [HttpURLConnection][3] (since JDK1.1) `HTTP`, `URL`. Newer code mostly follows the Code convetion on abbrevation, see for example code from the spring framework [RestTemplate][4] `REST`.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"Java data transfer object naming convention?","body":"<h2>abbreviation/acronyms should be CamelCase</h2>\n<p>since <code>DTO</code> is a valid abbreviation/acronym (there are tons of valid abbreviation/acronyms, eg: <code>CPU</code>, <code>JSON</code>, <code>REST</code>, <code>HTTP</code>) we treat is as any other word: <strong>CamelCase</strong></p>\n<p>an abbreviation/acronym <strong>is valid</strong> (see <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming conventions</a>) when the abbreviation/acronym itself is commonly known and widely understood, short: when there is no mistake what this abbreviation/acronym could mean.</p>\n<pre><code>Car car = new Car();\nCarDto carDto = new CarMapper().toDto(car);\n</code></pre>\n<h2>side note - things evolve:</h2>\n<p>using camel case for abbrevation was not always implemented, there is a lot of old code that does not apply this Rule (yet), see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL</a> (since JDK1.0) <code>URL</code>. Some code has evolved and is a mix of both <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a> (since JDK1.1) <code>HTTP</code>, <code>URL</code>. Newer code mostly follows the Code convetion on abbrevation, see for example code from the spring framework <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> <code>REST</code>.</p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88121,"favorite_count":0,"down_vote_count":1,"up_vote_count":87,"accepted_answer_id":1724811,"answer_count":7,"score":86,"last_activity_date":1688544476,"creation_date":1258054204,"question_id":1724774,"body_markdown":"Given this scenario where you have &quot;transfer objects&quot; (POJO&#39;s with just getters/setters) which are passed by a client library to your API, what is the best way to name the transfer objects?\r\n\r\n    package com.x.core; \r\n        \r\n    public class Car {\r\n            private String make;\r\n            private String model;\r\n        \r\n            public Car(com.x.clientapi.Car car) {\r\n                 this.make = car.getMake();\r\n                 this.model = car.getModel();\r\n            }\r\n    }\r\n\r\nIn this example your main class and your transfer object both have the name `Car`.  They are in different packages but I think it&#39;s confusing to have the same name.  Is there a best practice on how to name the transfer objects?\r\n","title":"Java data transfer object naming convention?","body":"<p>Given this scenario where you have \"transfer objects\" (POJO's with just getters/setters) which are passed by a client library to your API, what is the best way to name the transfer objects?</p>\n\n<pre><code>package com.x.core; \n\npublic class Car {\n        private String make;\n        private String model;\n\n        public Car(com.x.clientapi.Car car) {\n             this.make = car.getMake();\n             this.model = car.getModel();\n        }\n}\n</code></pre>\n\n<p>In this example your main class and your transfer object both have the name <code>Car</code>.  They are in different packages but I think it's confusing to have the same name.  Is there a best practice on how to name the transfer objects?</p>\n"},{"tags":["java","xml","jackson","fasterxml","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":5886345,"reputation":311,"user_id":4634246,"accept_rate":47,"display_name":"CoupFlu"},"score":0,"creation_date":1574271515,"post_id":56612546,"comment_id":104175838,"body_markdown":"I&#39;m having this same issue now. Did you get it figured out?","body":"I&#39;m having this same issue now. Did you get it figured out?"},{"owner":{"account_id":2872193,"reputation":3005,"user_id":7263027,"display_name":"taygetos"},"score":0,"creation_date":1574322580,"post_id":56612546,"comment_id":104193396,"body_markdown":"Sadly no, I changed framework","body":"Sadly no, I changed framework"},{"owner":{"account_id":5886345,"reputation":311,"user_id":4634246,"accept_rate":47,"display_name":"CoupFlu"},"score":0,"creation_date":1575928961,"post_id":56612546,"comment_id":104723994,"body_markdown":"I think I answered this for you here: [pojo_namespaces](https://stackoverflow.com/questions/58942548/converting-json-to-xml-xmlmapper-jackson-2-10)","body":"I think I answered this for you here: <a href=\"https://stackoverflow.com/questions/58942548/converting-json-to-xml-xmlmapper-jackson-2-10\">pojo_namespaces</a>"}],"owner":{"account_id":2872193,"reputation":3005,"user_id":7263027,"display_name":"taygetos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1617,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688544171,"creation_date":1560619139,"question_id":56612546,"body_markdown":"I want to use FasterXML to \r\n\r\n 1. transform an xml into a java object,\r\n 1. transform it back to an xml\r\n 1. and produce the exact same output with namespaces\r\n\r\nHere is the original XML:\r\n\r\n    &lt;customer xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://example.com&quot;&gt;\r\n        &lt;dataList&gt;\r\n            &lt;data xsi:type=&quot;keyValuePair&quot;&gt;\r\n                &lt;key&gt;key1&lt;/key&gt;\r\n                &lt;value&gt;val1&lt;/value&gt;\r\n            &lt;/data&gt;\r\n            &lt;data xsi:type=&quot;keyValuePair&quot;&gt;\r\n                &lt;key&gt;key2&lt;/key&gt;\r\n                &lt;value&gt;val2&lt;/value&gt;\r\n            &lt;/data&gt;\r\n        &lt;/dataList&gt;\r\n        &lt;id&gt;123&lt;/id&gt;\r\n    &lt;/customer&gt;\r\n\r\nI am using the following POJOs:\r\n\r\n\r\n    @JacksonXmlRootElement(namespace = &quot;http://example.com&quot;)\r\n    public class Customer {\r\n    \r\n      @JacksonXmlProperty\r\n      private String id;\r\n      @JacksonXmlProperty\r\n      @JacksonXmlElementWrapper(localName = &quot;dataList&quot;)\r\n      private List&lt;KeyValueData&gt; data;\r\n    \r\n      public Customer(){}\r\n    \r\n      public String getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(String id) {\r\n        this.id = id;\r\n      }\r\n    \r\n      public List&lt;KeyValueData&gt; getData() {\r\n        return data;\r\n      }\r\n    \r\n      public void setData(List&lt;KeyValueData&gt; data) {\r\n        this.data = data;\r\n      }\r\n    }\r\n\r\n    public class KeyValueData {\r\n    \r\n      @JacksonXmlProperty(isAttribute = true, namespace = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\r\n      private String type;\r\n      @JacksonXmlProperty\r\n      private String key;\r\n      @JacksonXmlProperty\r\n      private String value;\r\n    \r\n      public KeyValueData(){}\r\n    \r\n      public String getKey() {\r\n        return key;\r\n      }\r\n    \r\n      public void setKey(String key) {\r\n        this.key = key;\r\n      }\r\n    \r\n      public String getValue() {\r\n        return value;\r\n      }\r\n    \r\n      public void setValue(String value) {\r\n        this.value = value;\r\n      }\r\n    \r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n    }\r\n\r\nThe code i am using for mapping:\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    Customer initiatePaymentRequest = mapper.readValue(xmlString, Customer.class);\r\n\r\n    logger.info(mapper.writeValueAsString(initiatePaymentRequest));\r\n\r\nThis results in the following XML output with incorrect namespacing\r\n\r\n    &lt;Customer&gt;\r\n      &lt;id&gt;123&lt;/id&gt;\r\n      &lt;dataList&gt;\r\n        &lt;data wstxns1:type=&quot;keyValuePair&quot; xmlns:wstxns1=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n          &lt;key&gt;key1&lt;/key&gt;\r\n          &lt;value&gt;val1&lt;/value&gt;\r\n        &lt;/data&gt;\r\n        &lt;data wstxns2:type=&quot;keyValuePair&quot; xmlns:wstxns2=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n          &lt;key&gt;key2&lt;/key&gt;\r\n          &lt;value&gt;val2&lt;/value&gt;\r\n        &lt;/data&gt;\r\n      &lt;/dataList&gt;\r\n    &lt;/Customer&gt;\r\n\r\nHow do i add the &quot;http://example.com&quot; namespace and have &quot;xsi&quot; prefix instead of wstxns1, wstxns2...\r\n","title":"Jackson FasterXML transforming to POJO with namespaces","body":"<p>I want to use FasterXML to</p>\n<ol>\n<li>transform an xml into a java object,</li>\n<li>transform it back to an xml</li>\n<li>and produce the exact same output with namespaces</li>\n</ol>\n<p>Here is the original XML:</p>\n<pre><code>&lt;customer xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://example.com&quot;&gt;\n    &lt;dataList&gt;\n        &lt;data xsi:type=&quot;keyValuePair&quot;&gt;\n            &lt;key&gt;key1&lt;/key&gt;\n            &lt;value&gt;val1&lt;/value&gt;\n        &lt;/data&gt;\n        &lt;data xsi:type=&quot;keyValuePair&quot;&gt;\n            &lt;key&gt;key2&lt;/key&gt;\n            &lt;value&gt;val2&lt;/value&gt;\n        &lt;/data&gt;\n    &lt;/dataList&gt;\n    &lt;id&gt;123&lt;/id&gt;\n&lt;/customer&gt;\n</code></pre>\n<p>I am using the following POJOs:</p>\n<pre><code>@JacksonXmlRootElement(namespace = &quot;http://example.com&quot;)\npublic class Customer {\n\n  @JacksonXmlProperty\n  private String id;\n  @JacksonXmlProperty\n  @JacksonXmlElementWrapper(localName = &quot;dataList&quot;)\n  private List&lt;KeyValueData&gt; data;\n\n  public Customer(){}\n\n  public String getId() {\n    return id;\n  }\n\n  public void setId(String id) {\n    this.id = id;\n  }\n\n  public List&lt;KeyValueData&gt; getData() {\n    return data;\n  }\n\n  public void setData(List&lt;KeyValueData&gt; data) {\n    this.data = data;\n  }\n}\n\npublic class KeyValueData {\n\n  @JacksonXmlProperty(isAttribute = true, namespace = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;)\n  private String type;\n  @JacksonXmlProperty\n  private String key;\n  @JacksonXmlProperty\n  private String value;\n\n  public KeyValueData(){}\n\n  public String getKey() {\n    return key;\n  }\n\n  public void setKey(String key) {\n    this.key = key;\n  }\n\n  public String getValue() {\n    return value;\n  }\n\n  public void setValue(String value) {\n    this.value = value;\n  }\n\n  public String getType() {\n    return type;\n  }\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n}\n</code></pre>\n<p>The code i am using for mapping:</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\n\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nCustomer initiatePaymentRequest = mapper.readValue(xmlString, Customer.class);\n\nlogger.info(mapper.writeValueAsString(initiatePaymentRequest));\n</code></pre>\n<p>This results in the following XML output with incorrect namespacing</p>\n<pre><code>&lt;Customer&gt;\n  &lt;id&gt;123&lt;/id&gt;\n  &lt;dataList&gt;\n    &lt;data wstxns1:type=&quot;keyValuePair&quot; xmlns:wstxns1=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n      &lt;key&gt;key1&lt;/key&gt;\n      &lt;value&gt;val1&lt;/value&gt;\n    &lt;/data&gt;\n    &lt;data wstxns2:type=&quot;keyValuePair&quot; xmlns:wstxns2=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n      &lt;key&gt;key2&lt;/key&gt;\n      &lt;value&gt;val2&lt;/value&gt;\n    &lt;/data&gt;\n  &lt;/dataList&gt;\n&lt;/Customer&gt;\n</code></pre>\n<p>How do i add the &quot;http://example.com&quot; namespace and have &quot;xsi&quot; prefix instead of wstxns1, wstxns2...</p>\n"},{"tags":["java","profiling","wildfly","wildfly-10","visualvm"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1533572579,"post_id":51697387,"comment_id":90385128,"body_markdown":"How do you have the profile configured to run?","body":"How do you have the profile configured to run?"},{"owner":{"account_id":274743,"reputation":1993,"user_id":567162,"accept_rate":70,"display_name":"D-Klotz"},"score":0,"creation_date":1533574654,"post_id":51697387,"comment_id":90386168,"body_markdown":"Here is how I&#39;ve done this in the past. Start wildfly using the standalone.(bat or sh) script in a command prompt shell. Create or alter the script that starts visualvm to include the jboss specific jar file. Take a look at the answer here: https://developer.jboss.org/thread/269919","body":"Here is how I&#39;ve done this in the past. Start wildfly using the standalone.(bat or sh) script in a command prompt shell. Create or alter the script that starts visualvm to include the jboss specific jar file. Take a look at the answer here: <a href=\"https://developer.jboss.org/thread/269919\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/269919</a>"}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533577438,"creation_date":1533577438,"answer_id":51713038,"question_id":51697387,"body_markdown":"Finally, I put to work the visualVM Profiler... These are the steps that you need to do in order to execute a **Wildfly 10 CPU profile** using VisualVM (**both executed locally!!**):\r\n\r\n 1. Download the [latest][1] VisualVM (In my case was the version 1.4.1).\r\n\r\n 2. Download JDK10 ... You will need the JDK10 in order **to run the VisualVM only**. This step is required because of this [bug][2] (this was the bug that I was getting before when profiling the application)\r\n\r\n 3. Change the visualVM configuration file (`&lt;visual-vm&gt;/etc/visualvm.conf`) to point to your JDK10 installation...\r\n\r\n 4. Go to `&lt;visual-vm&gt;/profiler/lib` and copy the library: `jfluid-server.jar` into: `&lt;wildfly&gt;/standalone/lib/ext` ... This library is required to overcome the following error: `java.lang.NoClassDefFoundError: org/netbeans/lib/profiler/server/ProfilerRuntimeCPUFullInstr` (More about this error in [here][3] and [here][4])\r\n\r\n 5. Next, modify the wildfly startup script to include the package `org.netbeans.lib.profiler.server` in the SystemProperty: `jboss.modules.system.pkgs`. Example: `-Djboss.modules.system.pkgs=org.jboss.byteman,org.netbeans.lib.profiler.server`. (According to this [link][5], this property forces the wildfly to locate such package from any classloader)\r\n\r\n 6. Start the visualVM.\r\n\r\n 7. Start the wildfly server (including your application EAR/WAR/JAR application)... **NOTE**: I was running the wildfly server from Eclipse using JBoss Tools; under this configuration, my application (WAR) was in exploded mode!\r\n\r\n 8. Go to visualVM, open the `org.jboss.modules.Main` process. Then go to the profiler tab. Modify the target `Profile classes` and `Outgoing calls` and put the Classes that you want to monitor/profile (**NOTE**: For now, the winner configuration for me was: `Profile classes`: `my.package.**` and `Include outgoing calls`: `my.package.**`)\r\n\r\n 9. Hit the CPU Button, wait for the VisualVM to instrument your target classes and then invoke the code that is running slow; later, analyze the results...\r\n\r\n\r\n  [1]: https://visualvm.github.io/download.html\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8145964\r\n  [3]: https://github.com/oracle/visualvm/issues/36\r\n  [4]: https://netbeans.org/bugzilla/show_bug.cgi?id=214401\r\n  [5]: https://developer.jboss.org/wiki/HackingOnAS7","title":"How to CPU Profile Wildfly10 using VisualVM?","body":"<p>Finally, I put to work the visualVM Profiler... These are the steps that you need to do in order to execute a <strong>Wildfly 10 CPU profile</strong> using VisualVM (<strong>both executed locally!!</strong>):</p>\n\n<ol>\n<li><p>Download the <a href=\"https://visualvm.github.io/download.html\" rel=\"noreferrer\">latest</a> VisualVM (In my case was the version 1.4.1).</p></li>\n<li><p>Download JDK10 ... You will need the JDK10 in order <strong>to run the VisualVM only</strong>. This step is required because of this <a href=\"https://bugs.openjdk.java.net/browse/JDK-8145964\" rel=\"noreferrer\">bug</a> (this was the bug that I was getting before when profiling the application)</p></li>\n<li><p>Change the visualVM configuration file (<code>&lt;visual-vm&gt;/etc/visualvm.conf</code>) to point to your JDK10 installation...</p></li>\n<li><p>Go to <code>&lt;visual-vm&gt;/profiler/lib</code> and copy the library: <code>jfluid-server.jar</code> into: <code>&lt;wildfly&gt;/standalone/lib/ext</code> ... This library is required to overcome the following error: <code>java.lang.NoClassDefFoundError: org/netbeans/lib/profiler/server/ProfilerRuntimeCPUFullInstr</code> (More about this error in <a href=\"https://github.com/oracle/visualvm/issues/36\" rel=\"noreferrer\">here</a> and <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=214401\" rel=\"noreferrer\">here</a>)</p></li>\n<li><p>Next, modify the wildfly startup script to include the package <code>org.netbeans.lib.profiler.server</code> in the SystemProperty: <code>jboss.modules.system.pkgs</code>. Example: <code>-Djboss.modules.system.pkgs=org.jboss.byteman,org.netbeans.lib.profiler.server</code>. (According to this <a href=\"https://developer.jboss.org/wiki/HackingOnAS7\" rel=\"noreferrer\">link</a>, this property forces the wildfly to locate such package from any classloader)</p></li>\n<li><p>Start the visualVM.</p></li>\n<li><p>Start the wildfly server (including your application EAR/WAR/JAR application)... <strong>NOTE</strong>: I was running the wildfly server from Eclipse using JBoss Tools; under this configuration, my application (WAR) was in exploded mode!</p></li>\n<li><p>Go to visualVM, open the <code>org.jboss.modules.Main</code> process. Then go to the profiler tab. Modify the target <code>Profile classes</code> and <code>Outgoing calls</code> and put the Classes that you want to monitor/profile (<strong>NOTE</strong>: For now, the winner configuration for me was: <code>Profile classes</code>: <code>my.package.**</code> and <code>Include outgoing calls</code>: <code>my.package.**</code>)</p></li>\n<li><p>Hit the CPU Button, wait for the VisualVM to instrument your target classes and then invoke the code that is running slow; later, analyze the results...</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2278572,"reputation":1733,"user_id":2004265,"display_name":"DAB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688543910,"creation_date":1688543910,"answer_id":76618222,"question_id":51697387,"body_markdown":"The above answer helped me, but I&#39;m writing this in July 2023, using Wildfly 23 and Java 11 running on Windows with visualvm version 21.4. \r\n\r\nIt all seems considerably simpler now.\r\n\r\nThe most important point was to run Wildfly with the same Windows user as for visualvm. Initially, Wildfly was running as a service which connected as a domain user, while I was running visualvm as a local administrator. This meant that I wasn&#39;t able to profile Wildfly at all, even though threads were being displayed and the connection seemed to work correctly. By running Wildfly from the console (not as a Windows service) with the same user as visualvm, I was then able to profile correctly.   \r\n \r\nI wrote this mini batch file to run visualvm. This only works for me if &quot;run as administrator&quot;. Note how the JDK is specified twice, first as an environment label then as as a parameter sent to visualvm.\r\n\r\nYou will need to change all the paths below to suit your environment.   \r\n\r\n***Run the following batch as administrator, which must be same user as the one running Wildfly***\r\n\r\n    set JAVA_HOME=D:\\Java\\jdk-11\r\n    call D:\\visualvm_214\\bin\\visualvm.exe --jdkhome D:\\Java\\jdk-11 --cp:a D:\\wildfly23\\bin\\client\\jboss-cli-client.jar\r\n\r\nAfter this you should be able to follow points 8 and 9 from above, which are \r\n\r\n*8. Go to visualVM, open the org.jboss.modules.Main process. Then go to the profiler tab. Modify the target Profile classes and Outgoing calls and put the Classes that you want to monitor/profile (NOTE: For now, the winner configuration for me was: Profile classes: my.package.** and Include outgoing calls: my.package.**)*\r\n\r\n*9. Hit the CPU Button, wait for the VisualVM to instrument your target classes and then invoke the code that is running slow; later, analyze the results...*\r\n\r\nNotes:\r\n - Java version: openjdk 11.0.15 \r\n - Wildfly version: 23 \r\n - OS version: Windows Server 2019 Standard\r\n\r\n\r\n","title":"How to CPU Profile Wildfly10 using VisualVM?","body":"<p>The above answer helped me, but I'm writing this in July 2023, using Wildfly 23 and Java 11 running on Windows with visualvm version 21.4.</p>\n<p>It all seems considerably simpler now.</p>\n<p>The most important point was to run Wildfly with the same Windows user as for visualvm. Initially, Wildfly was running as a service which connected as a domain user, while I was running visualvm as a local administrator. This meant that I wasn't able to profile Wildfly at all, even though threads were being displayed and the connection seemed to work correctly. By running Wildfly from the console (not as a Windows service) with the same user as visualvm, I was then able to profile correctly.</p>\n<p>I wrote this mini batch file to run visualvm. This only works for me if &quot;run as administrator&quot;. Note how the JDK is specified twice, first as an environment label then as as a parameter sent to visualvm.</p>\n<p>You will need to change all the paths below to suit your environment.</p>\n<p><em><strong>Run the following batch as administrator, which must be same user as the one running Wildfly</strong></em></p>\n<pre><code>set JAVA_HOME=D:\\Java\\jdk-11\ncall D:\\visualvm_214\\bin\\visualvm.exe --jdkhome D:\\Java\\jdk-11 --cp:a D:\\wildfly23\\bin\\client\\jboss-cli-client.jar\n</code></pre>\n<p>After this you should be able to follow points 8 and 9 from above, which are</p>\n<p><em>8. Go to visualVM, open the org.jboss.modules.Main process. Then go to the profiler tab. Modify the target Profile classes and Outgoing calls and put the Classes that you want to monitor/profile (NOTE: For now, the winner configuration for me was: Profile classes: my.package.</em>* and Include outgoing calls: my.package.**)*</p>\n<p><em>9. Hit the CPU Button, wait for the VisualVM to instrument your target classes and then invoke the code that is running slow; later, analyze the results...</em></p>\n<p>Notes:</p>\n<ul>\n<li>Java version: openjdk 11.0.15</li>\n<li>Wildfly version: 23</li>\n<li>OS version: Windows Server 2019 Standard</li>\n</ul>\n"}],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3146,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51713038,"answer_count":2,"score":5,"last_activity_date":1688543910,"creation_date":1533495576,"question_id":51697387,"body_markdown":"**Problem:**\r\nI have an J2EE application that is running very slow for a given task (to generate some files) using a specific data set. I decided to run the visualvm profiler over the application to understand the nature of the problem. The application is running over Widlfly 10 using the latest Java 8.\r\n\r\nTo avoid configuration complexity, both profiler (visualvm) and Wildfly server are running locally.\r\n\r\nThe first problem met was the JVMTI error 62, that was resolved using the [-Xverify:none][1] as jvm parameter.\r\n\r\nThe second problem (**the blocking one**) is that if I run the profiler when the application is deployed and running, the Wildfly deployment scanner throws Exceptions like this one:\r\n\r\n    13:19:04,476 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Waiting for connection on port 5140 (Protocol version: 15)\r\n\r\n    13:19:04,517 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Established connection with the tool\r\n\r\n    13:19:04,847 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Local accelerated session\r\n\r\n    13:19:15,984 WARN  [org.jboss.as.ejb3.timer] (EJB default - 6) WFLYEJB0043: A previous execution of timer [id=e6a6ea46-6c2a-466d-b767-cccc8d5021a9 timedObjectId=ecs.ecs.BatchCoordinator auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@142b16ca initialExpiration=Sun Aug 05 13:17:05 COT 2018 intervalDuration(in milli sec)=5000 nextExpiration=Sun Aug 05 13:19:15 COT 2018 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Sun Aug 05 13:19:15 COT 2018.\r\n    13:19:16,025 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (&quot;read-resource&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;my_application.war&quot;)]): java.lang.NoClassDefFoundError: org/jboss/as/controller/AttributeDefinition$$Lambda$157\r\n\tat org.jboss.as.controller.AttributeDefinition$$Lambda$157/1799183343.get$Lambda(Unknown Source)\r\n\tat org.jboss.as.controller.AttributeDefinition.getNoTextDescription(AttributeDefinition.java:872)\r\n\tat org.jboss.as.controller.AttributeDefinition.addResourceAttributeDescription(AttributeDefinition.java:697)\r\n\tat org.jboss.as.controller.ListAttributeDefinition.addResourceAttributeDescription(ListAttributeDefinition.java:158)\r\n\tat org.jboss.as.controller.descriptions.DefaultResourceDescriptionProvider.getModelDescription(DefaultResourceDescriptionProvider.java:129)\r\n\tat org.jboss.as.controller.operations.global.ReadResourceHandler.doExecuteInternal(ReadResourceHandler.java:370)\r\n\tat org.jboss.as.controller.operations.global.ReadResourceHandler.doExecute(ReadResourceHandler.java:173)\r\n\tat org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:263)\r\n\tat org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:890)\r\n\tat org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:659)\r\n\tat org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)\r\n\tat org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1329)\r\n\tat org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:400)\r\n\tat org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:208)\r\n\tat org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:667)\r\n\tat org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:657)\r\n\tat org.jboss.as.server.deployment.scanner.DefaultDeploymentOperations.getDeploymentsStatus(DefaultDeploymentOperations.java:76)\r\n\tat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.&lt;init&gt;(FileSystemDeploymentService.java:1622)\r\n\tat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.&lt;init&gt;(FileSystemDeploymentService.java:1571)\r\n\tat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:572)\r\n\tat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:491)\r\n\tat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$DeploymentScanRunnable.run(FileSystemDeploymentService.java:250)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:320)\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.as.controller.AttributeDefinition$$Lambda$157 from [Module &quot;org.jboss.as.controller:main&quot; from local module loader @4cc77c2e (finder: local module finder @7a7b0070 (roots: D:\\jbossas\\wildfly-10.1.0.Final-ecs\\modules,D:\\jbossas\\wildfly-10.1.0.Final-ecs\\modules\\system\\layers\\base))]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)\r\n\t... 30 more\r\n\r\n\r\nIf I run the profiler without any deployed application, VisualVM&#39;s profiler starts without problems; however, if I tried to deploy my application under this state/operation mode, the wildfly scanner never starts and the application is never deployed.\r\n\r\nSo, What I&#39;m doing wrong??\r\n\r\n  [1]: https://stackoverflow.com/questions/26834651/redefinition-failed-with-error-62-while-trying-to-profile-an-application","title":"How to CPU Profile Wildfly10 using VisualVM?","body":"<p><strong>Problem:</strong>\nI have an J2EE application that is running very slow for a given task (to generate some files) using a specific data set. I decided to run the visualvm profiler over the application to understand the nature of the problem. The application is running over Widlfly 10 using the latest Java 8.</p>\n\n<p>To avoid configuration complexity, both profiler (visualvm) and Wildfly server are running locally.</p>\n\n<p>The first problem met was the JVMTI error 62, that was resolved using the <a href=\"https://stackoverflow.com/questions/26834651/redefinition-failed-with-error-62-while-trying-to-profile-an-application\">-Xverify:none</a> as jvm parameter.</p>\n\n<p>The second problem (<strong>the blocking one</strong>) is that if I run the profiler when the application is deployed and running, the Wildfly deployment scanner throws Exceptions like this one:</p>\n\n<pre><code>13:19:04,476 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Waiting for connection on port 5140 (Protocol version: 15)\n\n13:19:04,517 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Established connection with the tool\n\n13:19:04,847 INFO  [stdout] (*** Profiler Agent Communication Thread) Profiler Agent: Local accelerated session\n\n13:19:15,984 WARN  [org.jboss.as.ejb3.timer] (EJB default - 6) WFLYEJB0043: A previous execution of timer [id=e6a6ea46-6c2a-466d-b767-cccc8d5021a9 timedObjectId=ecs.ecs.BatchCoordinator auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@142b16ca initialExpiration=Sun Aug 05 13:17:05 COT 2018 intervalDuration(in milli sec)=5000 nextExpiration=Sun Aug 05 13:19:15 COT 2018 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Sun Aug 05 13:19:15 COT 2018.\n13:19:16,025 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation (\"read-resource\") failed - address: ([(\"deployment\" =&gt; \"my_application.war\")]): java.lang.NoClassDefFoundError: org/jboss/as/controller/AttributeDefinition$$Lambda$157\nat org.jboss.as.controller.AttributeDefinition$$Lambda$157/1799183343.get$Lambda(Unknown Source)\nat org.jboss.as.controller.AttributeDefinition.getNoTextDescription(AttributeDefinition.java:872)\nat org.jboss.as.controller.AttributeDefinition.addResourceAttributeDescription(AttributeDefinition.java:697)\nat org.jboss.as.controller.ListAttributeDefinition.addResourceAttributeDescription(ListAttributeDefinition.java:158)\nat org.jboss.as.controller.descriptions.DefaultResourceDescriptionProvider.getModelDescription(DefaultResourceDescriptionProvider.java:129)\nat org.jboss.as.controller.operations.global.ReadResourceHandler.doExecuteInternal(ReadResourceHandler.java:370)\nat org.jboss.as.controller.operations.global.ReadResourceHandler.doExecute(ReadResourceHandler.java:173)\nat org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:263)\nat org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:890)\nat org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:659)\nat org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)\nat org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1329)\nat org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:400)\nat org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:208)\nat org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:667)\nat org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:657)\nat org.jboss.as.server.deployment.scanner.DefaultDeploymentOperations.getDeploymentsStatus(DefaultDeploymentOperations.java:76)\nat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.&lt;init&gt;(FileSystemDeploymentService.java:1622)\nat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$ScanContext.&lt;init&gt;(FileSystemDeploymentService.java:1571)\nat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:572)\nat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.scan(FileSystemDeploymentService.java:491)\nat org.jboss.as.server.deployment.scanner.FileSystemDeploymentService$DeploymentScanRunnable.run(FileSystemDeploymentService.java:250)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nat org.jboss.threads.JBossThread.run(JBossThread.java:320)\n\nCaused by: java.lang.ClassNotFoundException: org.jboss.as.controller.AttributeDefinition$$Lambda$157 from [Module \"org.jboss.as.controller:main\" from local module loader @4cc77c2e (finder: local module finder @7a7b0070 (roots: D:\\jbossas\\wildfly-10.1.0.Final-ecs\\modules,D:\\jbossas\\wildfly-10.1.0.Final-ecs\\modules\\system\\layers\\base))]\nat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)\nat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)\nat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)\n... 30 more\n</code></pre>\n\n<p>If I run the profiler without any deployed application, VisualVM's profiler starts without problems; however, if I tried to deploy my application under this state/operation mode, the wildfly scanner never starts and the application is never deployed.</p>\n\n<p>So, What I'm doing wrong??</p>\n"},{"tags":["java","bash","shellcheck"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1688546824,"post_id":76617944,"comment_id":135086319,"body_markdown":"You did not specify how you defined `JAVA_OPTS`, but if it contains a bunch of options for Java, having it as a string is the wrong approach anyway. You have several individual options, some may contain a space and some don&#39;t. In this case `JAVA_OPTS` should be defined as array with one element for each Java-parameter. The correct expansion would then be `&quot;${JAVA_OPTS[@]}&quot;`.","body":"You did not specify how you defined <code>JAVA_OPTS</code>, but if it contains a bunch of options for Java, having it as a string is the wrong approach anyway. You have several individual options, some may contain a space and some don&#39;t. In this case <code>JAVA_OPTS</code> should be defined as array with one element for each Java-parameter. The correct expansion would then be <code>&quot;${JAVA_OPTS[@]}&quot;</code>."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1688546863,"post_id":76617944,"comment_id":135086330,"body_markdown":"_when I echoed $JAVA_OPTS it echoed as empty._  : This means that you have forgotten to set this variable, or that you have set it to an empty value.","body":"<i>when I echoed $JAVA_OPTS it echoed as empty.</i>  : This means that you have forgotten to set this variable, or that you have set it to an empty value."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1688627501,"post_id":76617944,"comment_id":135099545,"body_markdown":"@user1934428 Unfortunately `JAVA_OPTS` is almost certainly an environment variable (both because it’s all-caps, and because that name is a conventional, specific environment variable), and environment variables can’t be arrays.","body":"@user1934428 Unfortunately <code>JAVA_OPTS</code> is almost certainly an environment variable (both because it’s all-caps, and because that name is a conventional, specific environment variable), and environment variables can’t be arrays."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1688633440,"post_id":76617944,"comment_id":135100825,"body_markdown":"@KonradRudolph: I don&#39;t have much experience with Java, but this raises some questions: (1) If it is a variable with predefined meaning for Java, why is the OP passing it on the command line? It would be sufficient then to just export ist. (2) If Java expects the options in this variable, which escape mechanism does Java define for the case that we have embedded spaces? (3) If `JAVA_OPTS` is predefined, the OP could simply use a different name (say: `java_opts`) and follow his approach with the array; I think this would be the cleanest way.","body":"@KonradRudolph: I don&#39;t have much experience with Java, but this raises some questions: (1) If it is a variable with predefined meaning for Java, why is the OP passing it on the command line? It would be sufficient then to just export ist. (2) If Java expects the options in this variable, which escape mechanism does Java define for the case that we have embedded spaces? (3) If <code>JAVA_OPTS</code> is predefined, the OP could simply use a different name (say: <code>java_opts</code>) and follow his approach with the array; I think this would be the cleanest way."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1688637120,"post_id":76617944,"comment_id":135101675,"body_markdown":"@user1934428 (1) It’s predefined in the sense that there’s a widespread convention around using it, and it is used automatically [by several widely used third-party utilities](https://stackoverflow.com/a/12335001/1968), but it is not predefined *by Java*, and the `java` command line utility does not know about it. (3) I’m assuming that OP gets the variable from elsewhere rather than defining it  themselves in the current script. Otherwise I agree that using an array would be (vastly) superior.","body":"@user1934428 (1) It’s predefined in the sense that there’s a widespread convention around using it, and it is used automatically <a href=\"https://stackoverflow.com/a/12335001/1968\">by several widely used third-party utilities</a>, but it is not predefined <i>by Java</i>, and the <code>java</code> command line utility does not know about it. (3) I’m assuming that OP gets the variable from elsewhere rather than defining it  themselves in the current script. Otherwise I agree that using an array would be (vastly) superior."}],"answers":[{"tags":[],"owner":{"account_id":4690115,"reputation":633,"user_id":3796452,"accept_rate":38,"display_name":"SK16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688542679,"creation_date":1688542679,"answer_id":76618079,"question_id":76617944,"body_markdown":"So if `JAVA_HOME` is not set (which it looks like it isn’t), then what bash expands the command to differs depending on how you provide it. \r\nFor example:\r\n`java $JAVA_HOME --version`\r\n\r\nexpands to:\r\n\r\n`java  --version`\r\n\r\nIn this case, bash ends up passing in a single argument to java which will be `--version` (it ignores any extra spaces) and this works just fine.\r\n\r\nHowever, contrast that to:\r\n\r\n`java &quot;$JAVA_HOME&quot; --version`\r\n\r\nthis expands to:\r\n\r\n`java &quot;&quot; --version`\r\n\r\nSo, in this case, bash will pass TWO arguments to java: an empty string and `--version`.\r\n\r\nThe first parameter to Java is supposed to be the class name to execute and you can see it complain if you try to run this command:\r\n\r\n    java &quot;&quot; --version\r\n    \r\n    Error: Could not find or load main class  Caused by: java.lang.ClassNotFoundException:\r\n\r\n \r\n\r\nSo, TLDR is, that the quotes matter if `JAVA_OPTS` is not set to anything.","title":"Shellcheck suggestion for SC2806 giving me issue with JAVA_OPTS","body":"<p>So if <code>JAVA_HOME</code> is not set (which it looks like it isn’t), then what bash expands the command to differs depending on how you provide it.\nFor example:\n<code>java $JAVA_HOME --version</code></p>\n<p>expands to:</p>\n<p><code>java  --version</code></p>\n<p>In this case, bash ends up passing in a single argument to java which will be <code>--version</code> (it ignores any extra spaces) and this works just fine.</p>\n<p>However, contrast that to:</p>\n<p><code>java &quot;$JAVA_HOME&quot; --version</code></p>\n<p>this expands to:</p>\n<p><code>java &quot;&quot; --version</code></p>\n<p>So, in this case, bash will pass TWO arguments to java: an empty string and <code>--version</code>.</p>\n<p>The first parameter to Java is supposed to be the class name to execute and you can see it complain if you try to run this command:</p>\n<pre><code>java &quot;&quot; --version\n\nError: Could not find or load main class  Caused by: java.lang.ClassNotFoundException:\n</code></pre>\n<p>So, TLDR is, that the quotes matter if <code>JAVA_OPTS</code> is not set to anything.</p>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688543346,"creation_date":1688543346,"answer_id":76618164,"question_id":76617944,"body_markdown":"The other answer explains what causes the issue.\r\n\r\nHere’s how to fix it: instead of passing `$JAVA_OPTS` (either quoted or unquoted) to `java`, pass `${JAVA_OPTS:+&quot;$JAVA_OPTS&quot;}`. This will cause the parameter expansion *only* if it is non-empty. If `$JAVA_OPTS` is empty, no expansion will be passed to the command.\r\n\r\n[See the documentation](https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html#:~:text=unset%20or%20null-,%24%7Bparameter%3A%2Bword%7D,-If%20parameter%20is) for more information about the `:+` expansion.","title":"Shellcheck suggestion for SC2806 giving me issue with JAVA_OPTS","body":"<p>The other answer explains what causes the issue.</p>\n<p>Here’s how to fix it: instead of passing <code>$JAVA_OPTS</code> (either quoted or unquoted) to <code>java</code>, pass <code>${JAVA_OPTS:+&quot;$JAVA_OPTS&quot;}</code>. This will cause the parameter expansion <em>only</em> if it is non-empty. If <code>$JAVA_OPTS</code> is empty, no expansion will be passed to the command.</p>\n<p><a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html#:%7E:text=unset%20or%20null-,%24%7Bparameter%3A%2Bword%7D,-If%20parameter%20is\" rel=\"nofollow noreferrer\">See the documentation</a> for more information about the <code>:+</code> expansion.</p>\n"}],"owner":{"account_id":4690115,"reputation":633,"user_id":3796452,"accept_rate":38,"display_name":"SK16"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76618164,"answer_count":2,"score":1,"last_activity_date":1688543346,"creation_date":1688541704,"question_id":76617944,"body_markdown":"I&#39;m getting shellcheck suggestion [SC2806][1] i.e. Double quote to prevent globbing and word splitting for `$JAVA_OPTS`. \r\n\r\nWhen I apply that to my code \r\n`java $JAVA_OPTS -Dhttps.proxyHost=%PROXY_HOST%`\r\n\r\nI get the `503 Error Back-end server busy` error. The ec2 instance activity reports that the instance health check failed.\r\n\r\nBut when I don&#39;t use `&quot;&quot;` to `$JAVA_OPTS`, then it works and I get `200 OK` response and everything works.\r\n\r\nwhen I echoed `$JAVA_OPTS` it echoed as empty.\r\n\r\nWhat could be the reason for this? \r\n\r\n\r\n  [1]: https://www.shellcheck.net/wiki/SC2086","title":"Shellcheck suggestion for SC2806 giving me issue with JAVA_OPTS","body":"<p>I'm getting shellcheck suggestion <a href=\"https://www.shellcheck.net/wiki/SC2086\" rel=\"nofollow noreferrer\">SC2806</a> i.e. Double quote to prevent globbing and word splitting for <code>$JAVA_OPTS</code>.</p>\n<p>When I apply that to my code\n<code>java $JAVA_OPTS -Dhttps.proxyHost=%PROXY_HOST%</code></p>\n<p>I get the <code>503 Error Back-end server busy</code> error. The ec2 instance activity reports that the instance health check failed.</p>\n<p>But when I don't use <code>&quot;&quot;</code> to <code>$JAVA_OPTS</code>, then it works and I get <code>200 OK</code> response and everything works.</p>\n<p>when I echoed <code>$JAVA_OPTS</code> it echoed as empty.</p>\n<p>What could be the reason for this?</p>\n"},{"tags":["java","arrays","integer","byte"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":5,"creation_date":1280240099,"post_id":2183240,"comment_id":3470555,"body_markdown":"possible duplicate of [Convert integer into byte array (Java)](http://stackoverflow.com/questions/1936857/convert-integer-into-byte-array-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1936857/convert-integer-into-byte-array-java\">Convert integer into byte array (Java)</a>"},{"owner":{"account_id":10976578,"reputation":433,"user_id":8448397,"display_name":"Tacodiva"},"score":0,"creation_date":1549863893,"post_id":2183240,"comment_id":96041446,"body_markdown":"Possible duplicate of [Convert integer into byte array (Java)](https://stackoverflow.com/questions/1936857/convert-integer-into-byte-array-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1936857/convert-integer-into-byte-array-java\">Convert integer into byte array (Java)</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1265106044,"creation_date":1265106044,"answer_id":2183255,"question_id":2183240,"body_markdown":"    integer &amp; 0xFF\r\n\r\nfor the first byte\r\n\r\n    (integer &gt;&gt; 8) &amp; 0xFF\r\n\r\nfor the second and loop etc., writing into a preallocated byte array. A bit messy, unfortunately.","title":"Java integer to byte array","body":"<pre><code>integer &amp; 0xFF\n</code></pre>\n\n<p>for the first byte</p>\n\n<pre><code>(integer &gt;&gt; 8) &amp; 0xFF\n</code></pre>\n\n<p>for the second and loop etc., writing into a preallocated byte array. A bit messy, unfortunately.</p>\n"},{"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"down_vote_count":2,"up_vote_count":189,"is_accepted":false,"score":187,"last_activity_date":1265106081,"creation_date":1265106081,"answer_id":2183259,"question_id":2183240,"body_markdown":"How about:\r\n\r\n    public static final byte[] intToByteArray(int value) {\r\n        return new byte[] {\r\n                (byte)(value &gt;&gt;&gt; 24),\r\n                (byte)(value &gt;&gt;&gt; 16),\r\n                (byte)(value &gt;&gt;&gt; 8),\r\n                (byte)value};\r\n    }\r\n\r\nThe idea is *not mine*. I&#39;ve taken it from [some post on dzone.com](http://snippets.dzone.com/posts/show/93).","title":"Java integer to byte array","body":"<p>How about:</p>\n\n<pre><code>public static final byte[] intToByteArray(int value) {\n    return new byte[] {\n            (byte)(value &gt;&gt;&gt; 24),\n            (byte)(value &gt;&gt;&gt; 16),\n            (byte)(value &gt;&gt;&gt; 8),\n            (byte)value};\n}\n</code></pre>\n\n<p>The idea is <em>not mine</em>. I've taken it from <a href=\"http://snippets.dzone.com/posts/show/93\" rel=\"noreferrer\">some post on dzone.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1265106188,"creation_date":1265106188,"answer_id":2183277,"question_id":2183240,"body_markdown":"    byte[] conv = new byte[4];\r\n    conv[3] = (byte) input &amp; 0xff;\r\n    input &gt;&gt;= 8;\r\n    conv[2] = (byte) input &amp; 0xff;\r\n    input &gt;&gt;= 8;\r\n    conv[1] = (byte) input &amp; 0xff;\r\n    input &gt;&gt;= 8;\r\n    conv[0] = (byte) input;","title":"Java integer to byte array","body":"<pre><code>byte[] conv = new byte[4];\nconv[3] = (byte) input &amp; 0xff;\ninput &gt;&gt;= 8;\nconv[2] = (byte) input &amp; 0xff;\ninput &gt;&gt;= 8;\nconv[1] = (byte) input &amp; 0xff;\ninput &gt;&gt;= 8;\nconv[0] = (byte) input;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":2,"up_vote_count":351,"is_accepted":true,"score":349,"last_activity_date":1265106213,"creation_date":1265106213,"answer_id":2183279,"question_id":2183240,"body_markdown":"using Java NIO&#39;s [ByteBuffer][1] is very simple:\r\n\r\n    byte[] bytes = ByteBuffer.allocate(4).putInt(1695609641).array();\r\n\r\n    for (byte b : bytes) {\r\n       System.out.format(&quot;0x%x &quot;, b);\r\n    }\r\n\r\noutput:\r\n&lt;pre&gt;\r\n0x65 0x10 0xf3 0x29 \r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html","title":"Java integer to byte array","body":"<p>using Java NIO's <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"noreferrer\">ByteBuffer</a> is very simple:</p>\n\n<pre><code>byte[] bytes = ByteBuffer.allocate(4).putInt(1695609641).array();\n\nfor (byte b : bytes) {\n   System.out.format(\"0x%x \", b);\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre>\n0x65 0x10 0xf3 0x29 \n</pre>\n"},{"tags":[],"owner":{"account_id":1165268,"reputation":693,"user_id":1143829,"display_name":"vmpn"},"down_vote_count":5,"up_vote_count":62,"is_accepted":false,"score":57,"last_activity_date":1326305926,"creation_date":1326305400,"answer_id":8824408,"question_id":2183240,"body_markdown":"`BigInteger.valueOf(1695609641).toByteArray()`\r\n\t\t\r\n","title":"Java integer to byte array","body":"<p><code>BigInteger.valueOf(1695609641).toByteArray()</code></p>\n"},{"tags":[],"owner":{"account_id":605144,"reputation":717,"user_id":318961,"accept_rate":83,"display_name":"mlohbihler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328981248,"creation_date":1328981248,"answer_id":9242319,"question_id":2183240,"body_markdown":"The class org.apache.hadoop.hbase.util.Bytes has a bunch of handy byte[] conversion methods, but you might not want to add the whole HBase jar to your project just for this purpose. It&#39;s surprising that not only are such method missing AFAIK from the JDK, but also from obvious libs like commons io.","title":"Java integer to byte array","body":"<p>The class org.apache.hadoop.hbase.util.Bytes has a bunch of handy byte[] conversion methods, but you might not want to add the whole HBase jar to your project just for this purpose. It's surprising that not only are such method missing AFAIK from the JDK, but also from obvious libs like commons io.</p>\n"},{"tags":[],"owner":{"account_id":379574,"reputation":12030,"user_id":733034,"accept_rate":57,"display_name":"HaoQi Li"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1331165767,"creation_date":1331165767,"answer_id":9611187,"question_id":2183240,"body_markdown":"The chunks below work at least for sending an int over UDP.\r\n\r\nint to byte array:\r\n\r\n\tpublic byte[] intToBytes(int my_int) throws IOException {\r\n\t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\tObjectOutput out = new ObjectOutputStream(bos);\r\n\t\tout.writeInt(my_int);\r\n\t\tout.close();\r\n\t\tbyte[] int_bytes = bos.toByteArray();\r\n\t\tbos.close();\r\n\t\treturn int_bytes;\r\n\t}\r\n\r\n\r\nbyte array to int:\r\n\r\n\tpublic int bytesToInt(byte[] int_bytes) throws IOException {\r\n\t\tByteArrayInputStream bis = new ByteArrayInputStream(int_bytes);\r\n\t\tObjectInputStream ois = new ObjectInputStream(bis);\r\n\t\tint my_int = ois.readInt();\r\n\t\tois.close();\r\n\t\treturn my_int;\r\n\t}","title":"Java integer to byte array","body":"<p>The chunks below work at least for sending an int over UDP.</p>\n\n<p>int to byte array:</p>\n\n<pre><code>public byte[] intToBytes(int my_int) throws IOException {\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ObjectOutput out = new ObjectOutputStream(bos);\n    out.writeInt(my_int);\n    out.close();\n    byte[] int_bytes = bos.toByteArray();\n    bos.close();\n    return int_bytes;\n}\n</code></pre>\n\n<p>byte array to int:</p>\n\n<pre><code>public int bytesToInt(byte[] int_bytes) throws IOException {\n    ByteArrayInputStream bis = new ByteArrayInputStream(int_bytes);\n    ObjectInputStream ois = new ObjectInputStream(bis);\n    int my_int = ois.readInt();\n    ois.close();\n    return my_int;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1578297,"reputation":89,"user_id":1464235,"display_name":"lyon819"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1355511965,"creation_date":1355511965,"answer_id":13884780,"question_id":2183240,"body_markdown":"    public static byte[] intToBytes(int x) throws IOException {\r\n\t    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t    DataOutputStream out = new DataOutputStream(bos);\r\n\t    out.writeInt(x);\r\n\t    out.close();\r\n\t    byte[] int_bytes = bos.toByteArray();\r\n\t    bos.close();\r\n\t    return int_bytes;\r\n\t}","title":"Java integer to byte array","body":"<pre><code>public static byte[] intToBytes(int x) throws IOException {\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    DataOutputStream out = new DataOutputStream(bos);\n    out.writeInt(x);\n    out.close();\n    byte[] int_bytes = bos.toByteArray();\n    bos.close();\n    return int_bytes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379065201,"creation_date":1379065201,"answer_id":18783066,"question_id":2183240,"body_markdown":"My try :\r\n&lt;!-- language: java --&gt;\r\n    \r\n    public static byte[] toBytes(final int intVal, final int... intArray) {\r\n        if (intArray == null || (intArray.length == 0)) {\r\n            return ByteBuffer.allocate(4).putInt(intVal).array();\r\n        } else {\r\n            final ByteBuffer bb = ByteBuffer.allocate(4 + (intArray.length * 4)).putInt(intVal);\r\n            for (final int val : intArray) {\r\n                bb.putInt(val);\r\n            }\r\n            return bb.array();\r\n        }\r\n    }\r\n\r\nWith it you can do this :\r\n\r\n    byte[] fourBytes = toBytes(0x01020304);\r\n    byte[] eightBytes = toBytes(0x01020304, 0x05060708);\r\n\r\nFull class is here : https://gist.github.com/superbob/6548493, it supports initialization from shorts or long\r\n\r\n    byte[] eightBytesAgain = toBytes(0x0102030405060708L);\r\n","title":"Java integer to byte array","body":"<p>My try :\n</p>\n\n<pre><code>public static byte[] toBytes(final int intVal, final int... intArray) {\n    if (intArray == null || (intArray.length == 0)) {\n        return ByteBuffer.allocate(4).putInt(intVal).array();\n    } else {\n        final ByteBuffer bb = ByteBuffer.allocate(4 + (intArray.length * 4)).putInt(intVal);\n        for (final int val : intArray) {\n            bb.putInt(val);\n        }\n        return bb.array();\n    }\n}\n</code></pre>\n\n<p>With it you can do this :</p>\n\n<pre><code>byte[] fourBytes = toBytes(0x01020304);\nbyte[] eightBytes = toBytes(0x01020304, 0x05060708);\n</code></pre>\n\n<p>Full class is here : <a href=\"https://gist.github.com/superbob/6548493\" rel=\"nofollow\">https://gist.github.com/superbob/6548493</a>, it supports initialization from shorts or long</p>\n\n<pre><code>byte[] eightBytesAgain = toBytes(0x0102030405060708L);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5575512,"reputation":1045,"user_id":4419027,"accept_rate":43,"display_name":"Yury Finchenko"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1589572883,"creation_date":1423208011,"answer_id":28360724,"question_id":2183240,"body_markdown":"    byte[] IntToByteArray( int data ) {    \r\n        byte[] result = new byte[4];\r\n        result[0] = (byte) ((data &amp; 0xFF000000) &gt;&gt; 24);\r\n        result[1] = (byte) ((data &amp; 0x00FF0000) &gt;&gt; 16);\r\n        result[2] = (byte) ((data &amp; 0x0000FF00) &gt;&gt; 8);\r\n        result[3] = (byte) ((data &amp; 0x000000FF) &gt;&gt; 0);\r\n        return result;        \r\n    }","title":"Java integer to byte array","body":"<pre><code>byte[] IntToByteArray( int data ) {    \n    byte[] result = new byte[4];\n    result[0] = (byte) ((data &amp; 0xFF000000) &gt;&gt; 24);\n    result[1] = (byte) ((data &amp; 0x00FF0000) &gt;&gt; 16);\n    result[2] = (byte) ((data &amp; 0x0000FF00) &gt;&gt; 8);\n    result[3] = (byte) ((data &amp; 0x000000FF) &gt;&gt; 0);\n    return result;        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1424943370,"creation_date":1424943370,"answer_id":28738820,"question_id":2183240,"body_markdown":"Using [Guava](http://code.google.com/p/guava-libraries/):\r\n\r\n    byte[] bytearray = Ints.toByteArray(1695609641);","title":"Java integer to byte array","body":"<p>Using <a href=\"http://code.google.com/p/guava-libraries/\">Guava</a>:</p>\n\n<pre><code>byte[] bytearray = Ints.toByteArray(1695609641);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1817698,"reputation":530,"user_id":1652488,"display_name":"jytou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524262442,"creation_date":1524262442,"answer_id":49950389,"question_id":2183240,"body_markdown":"Because generally you would want to convert this array back to an int at a later point, here are the methods to convert an array of ints into an array of bytes and vice-versa:\r\n\r\n    public static byte[] convertToByteArray(final int[] pIntArray)\r\n\t{\r\n\t\tfinal byte[] array = new byte[pIntArray.length * 4];\r\n\t\tfor (int j = 0; j &lt; pIntArray.length; j++)\r\n\t\t{\r\n\t\t\tfinal int c = pIntArray[j];\r\n\t\t\tarray[j * 4] = (byte)((c &amp; 0xFF000000) &gt;&gt; 24);\r\n\t\t\tarray[j * 4 + 1] = (byte)((c &amp; 0xFF0000) &gt;&gt; 16);\r\n\t\t\tarray[j * 4 + 2] = (byte)((c &amp; 0xFF00) &gt;&gt; 8);\r\n\t\t\tarray[j * 4 + 3] = (byte)(c &amp; 0xFF);\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\n    public static int[] convertToIntArray(final byte[] pByteArray)\r\n\t{\r\n\t\tfinal int[] array = new int[pByteArray.length / 4];\r\n\t\tfor (int i = 0; i &lt; array.length; i++)\r\n\t\t\tarray[i] = (((int)(pByteArray[i * 4]) &lt;&lt; 24) &amp; 0xFF000000) |\r\n\t\t\t\t\t(((int)(pByteArray[i * 4 + 1]) &lt;&lt; 16) &amp; 0xFF0000) |\r\n\t\t\t\t\t(((int)(pByteArray[i * 4 + 2]) &lt;&lt; 8) &amp; 0xFF00) |\r\n\t\t\t\t\t((int)(pByteArray[i * 4 + 3]) &amp; 0xFF);\r\n\t\treturn array;\r\n\t}\r\n\r\nNote that because of sign propagation and such, the &quot;&amp; 0xFF...&quot; are needed when converting back to the int.","title":"Java integer to byte array","body":"<p>Because generally you would want to convert this array back to an int at a later point, here are the methods to convert an array of ints into an array of bytes and vice-versa:</p>\n\n<pre><code>public static byte[] convertToByteArray(final int[] pIntArray)\n{\n    final byte[] array = new byte[pIntArray.length * 4];\n    for (int j = 0; j &lt; pIntArray.length; j++)\n    {\n        final int c = pIntArray[j];\n        array[j * 4] = (byte)((c &amp; 0xFF000000) &gt;&gt; 24);\n        array[j * 4 + 1] = (byte)((c &amp; 0xFF0000) &gt;&gt; 16);\n        array[j * 4 + 2] = (byte)((c &amp; 0xFF00) &gt;&gt; 8);\n        array[j * 4 + 3] = (byte)(c &amp; 0xFF);\n    }\n    return array;\n}\n\npublic static int[] convertToIntArray(final byte[] pByteArray)\n{\n    final int[] array = new int[pByteArray.length / 4];\n    for (int i = 0; i &lt; array.length; i++)\n        array[i] = (((int)(pByteArray[i * 4]) &lt;&lt; 24) &amp; 0xFF000000) |\n                (((int)(pByteArray[i * 4 + 1]) &lt;&lt; 16) &amp; 0xFF0000) |\n                (((int)(pByteArray[i * 4 + 2]) &lt;&lt; 8) &amp; 0xFF00) |\n                ((int)(pByteArray[i * 4 + 3]) &amp; 0xFF);\n    return array;\n}\n</code></pre>\n\n<p>Note that because of sign propagation and such, the \"&amp; 0xFF...\" are needed when converting back to the int.</p>\n"},{"tags":[],"owner":{"account_id":1789528,"reputation":2426,"user_id":1630255,"accept_rate":50,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528265168,"creation_date":1528265168,"answer_id":50713211,"question_id":2183240,"body_markdown":"If you&#39;re using [apache-commons][1]\r\n\r\n    public static byte[] toByteArray(int value) {\r\n        byte result[] = new byte[4];\r\n        return Conversion.intToByteArray(value, 0, result, 0, 4);\r\n    }\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Conversion.html#intToByteArray-int-int-byte:A-int-int-","title":"Java integer to byte array","body":"<p>If you're using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Conversion.html#intToByteArray-int-int-byte:A-int-int-\" rel=\"nofollow noreferrer\">apache-commons</a></p>\n\n<pre><code>public static byte[] toByteArray(int value) {\n    byte result[] = new byte[4];\n    return Conversion.intToByteArray(value, 0, result, 0, 4);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688542779,"creation_date":1688542452,"answer_id":76618050,"question_id":2183240,"body_markdown":"Here are two function to do the mirrored thing:\r\n\r\n```java\r\n    byte[] intToBytes(int i) {\r\n        return new byte[]{\r\n                (byte) (i &gt;&gt;&gt; 24),\r\n                (byte) (i &gt;&gt;&gt; 16),\r\n                (byte) (i &gt;&gt;&gt; 8),\r\n                (byte) i\r\n        };\r\n    }\r\n```\r\n\r\n```java\r\n    int bytesToInt(byte[] b) {\r\n        //Cuz int encode by complement-on-two\r\n        //For a negative, signed left shift operation will Fill the upper part of the binary with 1.\r\n        //That‘s a question for us to combine the meaningful part.\r\n\r\n        //Here, we execute a AND 0xFF operation, to implicitly convert a byte to int, and fill  the upper part of the binary with 0\r\n        //So ,we got a positive number now.\r\n        //The next step just execute OR operation to combine the four part as an integer.\r\n        return (b[0]) &lt;&lt; 24 |\r\n                (b[1] &amp; 0xFF) &lt;&lt; 16 |\r\n                (b[2] &amp; 0xFF) &lt;&lt; 8 |\r\n                (b[3] &amp; 0xFF);\r\n    }\r\n\r\n```","title":"Java integer to byte array","body":"<p>Here are two function to do the mirrored thing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    byte[] intToBytes(int i) {\n        return new byte[]{\n                (byte) (i &gt;&gt;&gt; 24),\n                (byte) (i &gt;&gt;&gt; 16),\n                (byte) (i &gt;&gt;&gt; 8),\n                (byte) i\n        };\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    int bytesToInt(byte[] b) {\n        //Cuz int encode by complement-on-two\n        //For a negative, signed left shift operation will Fill the upper part of the binary with 1.\n        //That‘s a question for us to combine the meaningful part.\n\n        //Here, we execute a AND 0xFF operation, to implicitly convert a byte to int, and fill  the upper part of the binary with 0\n        //So ,we got a positive number now.\n        //The next step just execute OR operation to combine the four part as an integer.\n        return (b[0]) &lt;&lt; 24 |\n                (b[1] &amp; 0xFF) &lt;&lt; 16 |\n                (b[2] &amp; 0xFF) &lt;&lt; 8 |\n                (b[3] &amp; 0xFF);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":587408,"reputation":2333,"user_id":264227,"display_name":"stefan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453017,"favorite_count":0,"down_vote_count":0,"up_vote_count":233,"accepted_answer_id":2183279,"answer_count":14,"score":233,"last_activity_date":1688542779,"creation_date":1265105866,"question_id":2183240,"body_markdown":"I got an integer: `1695609641`\r\n\r\nwhen I use method: \r\n    \r\n    String hex = Integer.toHexString(1695609641);\r\n    system.out.println(hex); \r\n\r\ngives:\r\n\r\n    6510f329\r\n\r\nbut I want a byte array:\r\n\r\n    byte[] bytearray = new byte[] { (byte) 0x65, (byte)0x10, (byte)0xf3, (byte)0x29};\r\n\r\nHow can I make this?","title":"Java integer to byte array","body":"<p>I got an integer: <code>1695609641</code></p>\n\n<p>when I use method: </p>\n\n<pre><code>String hex = Integer.toHexString(1695609641);\nsystem.out.println(hex); \n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>6510f329\n</code></pre>\n\n<p>but I want a byte array:</p>\n\n<pre><code>byte[] bytearray = new byte[] { (byte) 0x65, (byte)0x10, (byte)0xf3, (byte)0x29};\n</code></pre>\n\n<p>How can I make this?</p>\n"},{"tags":["java","android","android-studio","android-contentprovider","android-assets"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1591282739,"post_id":62196996,"comment_id":110002774,"body_markdown":"You cannot cast random types to other random types and expect that to work. To create an instance of `AssetFileDescriptor`, you can use its constructor. That takes a `ParcelFileDescriptor`, and you can get one of those for your `File` using [the `open()` method](https://developer.android.com/reference/android/os/ParcelFileDescriptor#open(java.io.File,%20int)).","body":"You cannot cast random types to other random types and expect that to work. To create an instance of <code>AssetFileDescriptor</code>, you can use its constructor. That takes a <code>ParcelFileDescriptor</code>, and you can get one of those for your <code>File</code> using <a href=\"https://developer.android.com/reference/android/os/ParcelFileDescriptor#open(java.io.File,%20int)\" rel=\"nofollow noreferrer\">the <code>open()</code> method</a>."},{"owner":{"account_id":6061302,"reputation":51,"user_id":4732948,"display_name":"Pratik Talawadekar"},"score":0,"creation_date":1591334467,"post_id":62196996,"comment_id":110021479,"body_markdown":"This helped me a lot. It worked as expected. Thanks!","body":"This helped me a lot. It worked as expected. Thanks!"},{"owner":{"account_id":13022438,"reputation":171,"user_id":9411376,"display_name":"MRamzan"},"score":0,"creation_date":1641735898,"post_id":62196996,"comment_id":124878311,"body_markdown":"Can anyone of you please post example code you did or implying will work...","body":"Can anyone of you please post example code you did or implying will work..."}],"answers":[{"tags":[],"owner":{"account_id":11322392,"reputation":656,"user_id":8302395,"display_name":"Roland van der Linden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688542594,"creation_date":1688497689,"answer_id":76615316,"question_id":62196996,"body_markdown":"Following up on the answer from @CommonsWare, this is what you can use to create an `AssetFileDescriptor` from a `File`:\r\n\r\n```Java\r\nAssetFileDescriptor contentsJsonFileAsset = new AssetFileDescriptor(ParcelFileDescriptor.open(myAssetFile, ParcelFileDescriptor.MODE_READ_ONLY), 0L, myAssetFile.length());\r\n```","title":"How can I use my local file from Internal Storage as AssetFileDescriptor?","body":"<p>Following up on the answer from @CommonsWare, this is what you can use to create an <code>AssetFileDescriptor</code> from a <code>File</code>:</p>\n<pre><code>AssetFileDescriptor contentsJsonFileAsset = new AssetFileDescriptor(ParcelFileDescriptor.open(myAssetFile, ParcelFileDescriptor.MODE_READ_ONLY), 0L, myAssetFile.length());\n</code></pre>\n"}],"owner":{"account_id":6061302,"reputation":51,"user_id":4732948,"display_name":"Pratik Talawadekar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688542594,"creation_date":1591280447,"question_id":62196996,"body_markdown":"My Class is extending *android.content*.**ContentProvider** and overrides *public final AssetFileDescriptor* **openAssetFile()** method from it.\r\n\r\n&gt;     public class MyContentProvider extends ContentProvider {\r\n&gt;          @Override\r\n&gt;          public boolean onCreate() {\r\n&gt;              //Some code\r\n&gt;          }\r\n&gt; \r\n&gt;          @Nullable\r\n&gt;          @Override\r\n&gt;          public AssetFileDescriptor openAssetFile(@NonNull Uri uri, @NonNull String mode) {\r\n&gt;      \r\n&gt;              final int matchCode = MATCHER.match(uri);\r\n&gt;              if (matchCode == SOME_ASSET_CODE || matchCode == STICKER_PACK_TRAY_ICON_CODE) {\r\n&gt;                  return getImageAsset(uri);\r\n&gt;              }\r\n&gt;              return null;\r\n&gt;          }\r\n&gt;      \r\n&gt;      \r\n&gt;          private AssetFileDescriptor getImageAsset(Uri uri) throws IllegalArgumentException {\r\n&gt;              AssetManager am = Objects.requireNonNull(getContext()).getAssets();\r\n&gt;              try {\r\n&gt;                  return am.openFd(identifier + &quot;/&quot; + fileName);\r\n&gt;              } catch (IOException e) { \r\n&gt;                  return null;\r\n&gt;              }\r\n&gt;          }\r\n&gt;      }\r\n\r\nI want to download files from my server and use them for my content.\r\nI have tried casting the file object to an AssetFileDescriptor like this:\r\n&gt;     public class MyContentProvider extends ContentProvider {\r\n&gt;          private AssetFileDescriptor getImageAsset(Uri uri) throws IllegalArgumentException {\r\n&gt;              AssetFileDescriptor contentsJsonFileAsset = (AssetFileDescriptor) myContentFile;\r\n&gt;              try {\r\n&gt;                  File myAssetFile = new File(identifier + &quot;/&quot; + fileName);\r\n&gt;                  AssetFileDescriptor contentsJsonFileAsset = (AssetFileDescriptor) myContentFile;\r\n&gt;                  return contentsJsonFileAsset ;\r\n&gt;              } catch (IOException e) { \r\n&gt;                  return null;\r\n&gt;              }\r\n&gt;          }\r\n&gt;      }\r\n\r\nBut it gives following error:\r\n&gt;     Inconvertible types; cannot cast &#39;java.io.File&#39; to &#39;android.content.res.AssetFileDescriptor&#39;\r\n\r\n**Is there any way to achieve this? Or can I use something else instead of ContentProvider?**","title":"How can I use my local file from Internal Storage as AssetFileDescriptor?","body":"<p>My Class is extending <em>android.content</em>.<strong>ContentProvider</strong> and overrides <em>public final AssetFileDescriptor</em> <strong>openAssetFile()</strong> method from it.</p>\n\n<blockquote>\n<pre><code>public class MyContentProvider extends ContentProvider {\n     @Override\n     public boolean onCreate() {\n         //Some code\n     }\n\n     @Nullable\n     @Override\n     public AssetFileDescriptor openAssetFile(@NonNull Uri uri, @NonNull String mode) {\n\n         final int matchCode = MATCHER.match(uri);\n         if (matchCode == SOME_ASSET_CODE || matchCode == STICKER_PACK_TRAY_ICON_CODE) {\n             return getImageAsset(uri);\n         }\n         return null;\n     }\n\n\n     private AssetFileDescriptor getImageAsset(Uri uri) throws IllegalArgumentException {\n         AssetManager am = Objects.requireNonNull(getContext()).getAssets();\n         try {\n             return am.openFd(identifier + \"/\" + fileName);\n         } catch (IOException e) { \n             return null;\n         }\n     }\n }\n</code></pre>\n</blockquote>\n\n<p>I want to download files from my server and use them for my content.\nI have tried casting the file object to an AssetFileDescriptor like this:</p>\n\n<blockquote>\n<pre><code>public class MyContentProvider extends ContentProvider {\n     private AssetFileDescriptor getImageAsset(Uri uri) throws IllegalArgumentException {\n         AssetFileDescriptor contentsJsonFileAsset = (AssetFileDescriptor) myContentFile;\n         try {\n             File myAssetFile = new File(identifier + \"/\" + fileName);\n             AssetFileDescriptor contentsJsonFileAsset = (AssetFileDescriptor) myContentFile;\n             return contentsJsonFileAsset ;\n         } catch (IOException e) { \n             return null;\n         }\n     }\n }\n</code></pre>\n</blockquote>\n\n<p>But it gives following error:</p>\n\n<blockquote>\n<pre><code>Inconvertible types; cannot cast 'java.io.File' to 'android.content.res.AssetFileDescriptor'\n</code></pre>\n</blockquote>\n\n<p><strong>Is there any way to achieve this? Or can I use something else instead of ContentProvider?</strong></p>\n"},{"tags":["java","spring-boot","mockito","junit5","spring-webclient"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1688543502,"post_id":76617493,"comment_id":135085682,"body_markdown":"Instead of mocking the `WebClient` run a mock web server and declare the behavior you want. https://www.baeldung.com/spring-mocking-webclient. There’s not much point in testing  HTTP client code if you’re not making any calls.","body":"Instead of mocking the <code>WebClient</code> run a mock web server and declare the behavior you want. <a href=\"https://www.baeldung.com/spring-mocking-webclient\" rel=\"nofollow noreferrer\">baeldung.com/spring-mocking-webclient</a>. There’s not much point in testing  HTTP client code if you’re not making any calls."}],"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688542274,"creation_date":1688537209,"question_id":76617493,"body_markdown":"have created the springboot application and using webclient for calling the external API synchronously, have written testcases using junit 5 and mocked the webclinet using mockito. however API call is giving the below exception while running the testcase :\r\n\r\n````\r\n  java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.retrieve()&quot; \r\n  because the return value of &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.header(String, String[])&quot; is null\r\n````\r\n\r\n**Attaching the testcase :**\r\n\r\n````\r\n\t@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class StrategyTest {\r\n    @Mock\r\n\tprivate WebClient.RequestHeadersUriSpec&lt;?&gt; requestHeadersUriMock;\r\n\t@Mock\r\n\tprivate WebClient.RequestHeadersSpec&lt;?&gt; requestHeadersMock;\r\n\t@Mock\r\n\tprivate WebClient.ResponseSpec responseMock;\r\n\t@MockBean\r\n\t@Qualifier(&quot;kwebclient&quot;)\r\n\tprivate WebClient kwebclient;\r\n\t@MockBean\r\n\tprivate AuthTokenManager authTokenManager;\r\n    @MockBean\r\n\tprivate TokenRefreshScheduler tokenRefreshScheduler;\r\n\r\n\r\n@Test\r\n\tvoid testOptimise1() {\r\n\t\twhen(authTokenManager.getAuthToken()).thenReturn(authTokenResponse);\r\n\t\tprepareWebClientMock();\r\n\t\tCReady cReady = setTestCReady();\r\n\t\tStrategy.invokeGetScItem(LocationAPIUrl, lin, kwebclient, authTokenManager,\r\n\t\t\t\ttokenRefreshScheduler);\r\n\t\tassertNotNull(cReady);\r\n\r\n\t}\r\n\r\nprivate void prepareWebClientMock() {\r\n\t\tdoReturn(requestHeadersUriMock).when(kongWebclient).get();\r\n        \t\tlenient().when(requestHeadersUriMock.uri(Mockito.any(Function.class))).thenReturn(requestHeadersMock);\r\n\r\n        doReturn(requestHeadersMock).when(requestHeadersMock).accept(notNull());\r\n        doReturn(requestHeadersMock).when(requestHeadersMock).header(notNull(), \r\n         notNull());\r\n        doReturn(responseMock).when(requestHeadersMock).retrieve();\r\n   doReturn(Mono.just(APIResponseJsonString)).when(responseMock).toEntity(String.class);\r\n}\r\n}\r\n````\r\n\r\n**Invoking API in the code :**\r\n\r\n````\r\n\t\tMono&lt;ResponseEntity&lt;String&gt;&gt; monoresponse = kWebclient.get()\r\n\t\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(finalurl).build())\r\n\t\t\t\t\t.header(&quot;Authorization&quot;, &quot;Bearer &quot; + authTokenManager.getAuthToken().getAccessToken()).retrieve()\r\n\t\t\t\t\t.toEntity(String.class);\r\n\r\n\t\t\tresponse = monoresponse.block();\r\n````\r\n\r\n**We are creating the Webclient with certificate to call external API as shown below :**\r\n\r\n````\r\n@Bean\r\n    @Qualifier(&quot;kWebclient&quot;)\r\n    public WebClient createWebClient() throws Exception {\r\n\r\n        return buildSslEnabledWebClient();\r\n\r\n    }\r\n\r\n    private WebClient buildSslEnabledWebClient() throws Exception {\r\n\r\n        final KeyStore trustStore = createKeyStore(trustStorePath, \r\n         kConfigVault.getKTrustStorePassword());\r\n\r\n        try {\r\n\r\n            final TrustManagerFactory trustManager = TrustManagerFactory\r\n                    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trustManager.init(trustStore);\r\n\r\n            final SslContext sslContext = SslContextBuilder.forClient().trustManager(trustManager).build();\r\n\r\n            final HttpClient httpClient = HttpClient.create().secure(ssl -&gt; {\r\n                ssl.sslContext(sslContext);\r\n            });\r\n            final int size = 16 * 1024 * 1024;\r\n            final ExchangeStrategies strategies = ExchangeStrategies.builder()\r\n                    .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(size)).build();\r\n\r\n            return WebClient.builder().exchangeStrategies(strategies)\r\n                    .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\r\n\r\n        } catch (NoSuchAlgorithmException | KeyStoreException | SSLException e) {\r\n            log.error(&quot;Could not initialize Webclient with the trustore data&quot;, e);\r\n            throw e;\r\n        }\r\n    }\r\n````\r\n\r\n   \r\n\r\n","title":"getting WebClient$RequestHeadersSpec.header(String, String[])&quot; is null while mocking webclient in springboot","body":"<p>have created the springboot application and using webclient for calling the external API synchronously, have written testcases using junit 5 and mocked the webclinet using mockito. however API call is giving the below exception while running the testcase :</p>\n<pre><code>  java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.retrieve()&quot; \n  because the return value of &quot;org.springframework.web.reactive.function.client.WebClient$RequestHeadersSpec.header(String, String[])&quot; is null\n</code></pre>\n<p><strong>Attaching the testcase :</strong></p>\n<pre><code>    @SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class StrategyTest {\n    @Mock\n    private WebClient.RequestHeadersUriSpec&lt;?&gt; requestHeadersUriMock;\n    @Mock\n    private WebClient.RequestHeadersSpec&lt;?&gt; requestHeadersMock;\n    @Mock\n    private WebClient.ResponseSpec responseMock;\n    @MockBean\n    @Qualifier(&quot;kwebclient&quot;)\n    private WebClient kwebclient;\n    @MockBean\n    private AuthTokenManager authTokenManager;\n    @MockBean\n    private TokenRefreshScheduler tokenRefreshScheduler;\n\n\n@Test\n    void testOptimise1() {\n        when(authTokenManager.getAuthToken()).thenReturn(authTokenResponse);\n        prepareWebClientMock();\n        CReady cReady = setTestCReady();\n        Strategy.invokeGetScItem(LocationAPIUrl, lin, kwebclient, authTokenManager,\n                tokenRefreshScheduler);\n        assertNotNull(cReady);\n\n    }\n\nprivate void prepareWebClientMock() {\n        doReturn(requestHeadersUriMock).when(kongWebclient).get();\n                lenient().when(requestHeadersUriMock.uri(Mockito.any(Function.class))).thenReturn(requestHeadersMock);\n\n        doReturn(requestHeadersMock).when(requestHeadersMock).accept(notNull());\n        doReturn(requestHeadersMock).when(requestHeadersMock).header(notNull(), \n         notNull());\n        doReturn(responseMock).when(requestHeadersMock).retrieve();\n   doReturn(Mono.just(APIResponseJsonString)).when(responseMock).toEntity(String.class);\n}\n}\n</code></pre>\n<p><strong>Invoking API in the code :</strong></p>\n<pre><code>        Mono&lt;ResponseEntity&lt;String&gt;&gt; monoresponse = kWebclient.get()\n                    .uri(uriBuilder -&gt; uriBuilder.path(finalurl).build())\n                    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + authTokenManager.getAuthToken().getAccessToken()).retrieve()\n                    .toEntity(String.class);\n\n            response = monoresponse.block();\n</code></pre>\n<p><strong>We are creating the Webclient with certificate to call external API as shown below :</strong></p>\n<pre><code>@Bean\n    @Qualifier(&quot;kWebclient&quot;)\n    public WebClient createWebClient() throws Exception {\n\n        return buildSslEnabledWebClient();\n\n    }\n\n    private WebClient buildSslEnabledWebClient() throws Exception {\n\n        final KeyStore trustStore = createKeyStore(trustStorePath, \n         kConfigVault.getKTrustStorePassword());\n\n        try {\n\n            final TrustManagerFactory trustManager = TrustManagerFactory\n                    .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trustManager.init(trustStore);\n\n            final SslContext sslContext = SslContextBuilder.forClient().trustManager(trustManager).build();\n\n            final HttpClient httpClient = HttpClient.create().secure(ssl -&gt; {\n                ssl.sslContext(sslContext);\n            });\n            final int size = 16 * 1024 * 1024;\n            final ExchangeStrategies strategies = ExchangeStrategies.builder()\n                    .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(size)).build();\n\n            return WebClient.builder().exchangeStrategies(strategies)\n                    .clientConnector(new ReactorClientHttpConnector(httpClient)).build();\n\n        } catch (NoSuchAlgorithmException | KeyStoreException | SSLException e) {\n            log.error(&quot;Could not initialize Webclient with the trustore data&quot;, e);\n            throw e;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","ios","swift","kotlin"],"comments":[{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":2,"creation_date":1497018928,"post_id":44460471,"comment_id":75917438,"body_markdown":"Why not just use a `Double`? Also, you can&#39;t assign a literal to a type like that. You&#39;d have to do `CGFloat(4.0d)`.","body":"Why not just use a <code>Double</code>? Also, you can&#39;t assign a literal to a type like that. You&#39;d have to do <code>CGFloat(4.0d)</code>."},{"owner":{"account_id":8832196,"reputation":31,"user_id":6598086,"display_name":"Smiley"},"score":0,"creation_date":1497019892,"post_id":44460471,"comment_id":75918169,"body_markdown":"I can&#39;t.  I have to follow the Swift code to the exact.\n\ntried \n\n    public val kCORNER_RADIUS_BUTTON: CGFloat(4.0d)\n\nnow getting &quot;property getter and setter expected&quot; error","body":"I can&#39;t.  I have to follow the Swift code to the exact.  tried       public val kCORNER_RADIUS_BUTTON: CGFloat(4.0d)  now getting &quot;property getter and setter expected&quot; error"},{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":1,"creation_date":1497020041,"post_id":44460471,"comment_id":75918266,"body_markdown":"That seems to be a fairly restrictive and unnecessary requirement when porting between OSes. Your `CGFloat` class is just mimicing `Double`, so why not type alias it? `typealias CGFloat = Double`. Then you can refer to it as `CGFloat` (if you must) and use `Double` directly without having to maintain a useless wrapper.","body":"That seems to be a fairly restrictive and unnecessary requirement when porting between OSes. Your <code>CGFloat</code> class is just mimicing <code>Double</code>, so why not type alias it? <code>typealias CGFloat = Double</code>. Then you can refer to it as <code>CGFloat</code> (if you must) and use <code>Double</code> directly without having to maintain a useless wrapper."},{"owner":{"account_id":8832196,"reputation":31,"user_id":6598086,"display_name":"Smiley"},"score":0,"creation_date":1497020549,"post_id":44460471,"comment_id":75918627,"body_markdown":"Thanks. I will try typealias.  I&#39;m not a Swift developer so this is all new to me.\n\nLast question: How would I set the typealias to use it globally in the kotlin project?","body":"Thanks. I will try typealias.  I&#39;m not a Swift developer so this is all new to me.  Last question: How would I set the typealias to use it globally in the kotlin project?"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":1,"creation_date":1497020653,"post_id":44460471,"comment_id":75918716,"body_markdown":"You may want to check out this comparison: http://nilhcem.com/swift-is-like-kotlin/","body":"You may want to check out this comparison: <a href=\"http://nilhcem.com/swift-is-like-kotlin/\" rel=\"nofollow noreferrer\">nilhcem.com/swift-is-like-kotlin</a>"}],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497020312,"creation_date":1497020312,"answer_id":44460980,"question_id":44460471,"body_markdown":"If you must use `CGFloat` as you have it written, you&#39;ll have to construct one directly. You can&#39;t just assign a primitive type to it, Kotlin has no facility to understand that.\r\n\r\n     val kCORNER_RADIUS_BUTTON: CGFloat = CGFloat(4.0)\r\n\r\nHowever, because your `CGFloat` class doesn&#39;t do anything that `Double` doesn&#39;t already does, I would recommend using that instead. It seems that you have requirements (that I would push back on) to port this exactly, ignoring the conventions of the language you are porting to. In that case, I would just typealias Double to CGFloat.\r\n\r\n    typelias CGFloat = Double\r\n\r\nThen you can use it anywhere you want:\r\n\r\n    fun doSomething(foo: CGFloat): CGFloat { ... }\r\n\r\n","title":"How to convert this code from iOS swift to Android Kotlin","body":"<p>If you must use <code>CGFloat</code> as you have it written, you'll have to construct one directly. You can't just assign a primitive type to it, Kotlin has no facility to understand that.</p>\n\n<pre><code> val kCORNER_RADIUS_BUTTON: CGFloat = CGFloat(4.0)\n</code></pre>\n\n<p>However, because your <code>CGFloat</code> class doesn't do anything that <code>Double</code> doesn't already does, I would recommend using that instead. It seems that you have requirements (that I would push back on) to port this exactly, ignoring the conventions of the language you are porting to. In that case, I would just typealias Double to CGFloat.</p>\n\n<pre><code>typelias CGFloat = Double\n</code></pre>\n\n<p>Then you can use it anywhere you want:</p>\n\n<pre><code>fun doSomething(foo: CGFloat): CGFloat { ... }\n</code></pre>\n"}],"owner":{"account_id":8832196,"reputation":31,"user_id":6598086,"display_name":"Smiley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688542127,"creation_date":1497018820,"question_id":44460471,"body_markdown":"I&#39;m trying to convert this Swift code to Kotlin Android and having problems.\r\n    \r\n    Swift code:\r\n    \r\n    public let kCORNER_RADIUS_BUTTON: CGFloat = 4.0\r\n\r\n\r\nI have converted the CGFloat java class that i found below\r\n\r\n    /**\r\n     * CGFloat\r\n    \r\n     * @author [Harald Kuhr](mailto:harald.kuhr@gmail.com)\r\n     * *\r\n     * @author duncan\r\n     */\r\n    class CGFloat : Number {\r\n    \r\n        private val value: Double\r\n    \r\n        constructor() {\r\n            value = 0.0\r\n        }\r\n    \r\n        constructor(d: Double) {\r\n            value = d\r\n        }\r\n    \r\n        override fun toByte(): Byte {\r\n            return value.toByte()\r\n        }\r\n    \r\n        override fun toChar(): Char {\r\n            return value.toChar()\r\n        }\r\n    \r\n        override fun toDouble(): Double {\r\n            return value\r\n        }\r\n    \r\n        override fun toFloat(): Float {\r\n            return value.toFloat()\r\n        }\r\n    \r\n        override fun toInt(): Int {\r\n            return value.toInt()\r\n        }\r\n    \r\n        override fun toLong(): Long {\r\n            return value.toLong()\r\n        }\r\n    \r\n        override fun toShort(): Short {\r\n            return value.toShort()\r\n        }\r\n    \r\n        override fun hashCode(): Int {\r\n            // From Double.hashCode\r\n            val bits = java.lang.Double.doubleToLongBits(value)\r\n            return (bits xor bits.ushr(32)).toInt()\r\n        }\r\n    \r\n        override fun equals(other: Any?): Boolean {\r\n            // Modified Double.equals\r\n            return other is CGFloat &amp;&amp; java.lang.Double.doubleToLongBits(other.value) == java.lang.Double.doubleToLongBits(value)\r\n        }\r\n    \r\n        override fun toString(): String {\r\n            return value.toString()\r\n        }\r\n    \r\n        companion object {\r\n            // Inspired by JNA NativeLong and IntegerType\r\n            val SIZE = Integer.MAX_VALUE\r\n        }\r\n       \r\n    }\r\n\r\nIn Kotlin code I do this\r\n\r\n    public val kCORNER_RADIUS_BUTTON: CGFloat = 4.0\r\n\r\nbut getting error message &quot;the floating-point literal does not conform to the expected type CGFloat&quot;\r\n\r\n\r\n","title":"How to convert this code from iOS swift to Android Kotlin","body":"<p>I'm trying to convert this Swift code to Kotlin Android and having problems.</p>\n\n<pre><code>Swift code:\n\npublic let kCORNER_RADIUS_BUTTON: CGFloat = 4.0\n</code></pre>\n\n<p>I have converted the CGFloat java class that i found below</p>\n\n<pre><code>/**\n * CGFloat\n\n * @author [Harald Kuhr](mailto:harald.kuhr@gmail.com)\n * *\n * @author duncan\n */\nclass CGFloat : Number {\n\n    private val value: Double\n\n    constructor() {\n        value = 0.0\n    }\n\n    constructor(d: Double) {\n        value = d\n    }\n\n    override fun toByte(): Byte {\n        return value.toByte()\n    }\n\n    override fun toChar(): Char {\n        return value.toChar()\n    }\n\n    override fun toDouble(): Double {\n        return value\n    }\n\n    override fun toFloat(): Float {\n        return value.toFloat()\n    }\n\n    override fun toInt(): Int {\n        return value.toInt()\n    }\n\n    override fun toLong(): Long {\n        return value.toLong()\n    }\n\n    override fun toShort(): Short {\n        return value.toShort()\n    }\n\n    override fun hashCode(): Int {\n        // From Double.hashCode\n        val bits = java.lang.Double.doubleToLongBits(value)\n        return (bits xor bits.ushr(32)).toInt()\n    }\n\n    override fun equals(other: Any?): Boolean {\n        // Modified Double.equals\n        return other is CGFloat &amp;&amp; java.lang.Double.doubleToLongBits(other.value) == java.lang.Double.doubleToLongBits(value)\n    }\n\n    override fun toString(): String {\n        return value.toString()\n    }\n\n    companion object {\n        // Inspired by JNA NativeLong and IntegerType\n        val SIZE = Integer.MAX_VALUE\n    }\n\n}\n</code></pre>\n\n<p>In Kotlin code I do this</p>\n\n<pre><code>public val kCORNER_RADIUS_BUTTON: CGFloat = 4.0\n</code></pre>\n\n<p>but getting error message \"the floating-point literal does not conform to the expected type CGFloat\"</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2577522,"reputation":3155,"user_id":2234865,"accept_rate":100,"display_name":"Viraj Nalawade"},"score":2,"creation_date":1444035651,"post_id":32944658,"comment_id":53714491,"body_markdown":"Which version of eclipse you are using?","body":"Which version of eclipse you are using?"},{"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"score":2,"creation_date":1444035861,"post_id":32944658,"comment_id":53714630,"body_markdown":"YOUR_WORKSPACE/.metadata/.log open file and please put the error trace.","body":"YOUR_WORKSPACE/.metadata/.log open file and please put the error trace."},{"owner":{"account_id":5847772,"reputation":8057,"user_id":5361412,"accept_rate":83,"display_name":"Kellen Stuart"},"score":2,"creation_date":1477412255,"post_id":32944658,"comment_id":67752030,"body_markdown":"Try to run as admin","body":"Try to run as admin"},{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":0,"creation_date":1643539246,"post_id":32944658,"comment_id":125362481,"body_markdown":"For more recent searchers, the above error can occur when trying to run older Eclipse installs with newer Java version (eg. 11, 16).","body":"For more recent searchers, the above error can occur when trying to run older Eclipse installs with newer Java version (eg. 11, 16)."}],"answers":[{"tags":[],"owner":{"account_id":2577522,"reputation":3155,"user_id":2234865,"accept_rate":100,"display_name":"Viraj Nalawade"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1444035915,"creation_date":1444035915,"answer_id":32944784,"question_id":32944658,"body_markdown":"Try to launch it from the console like:\r\n\r\n    C:\\path\\to\\eclipse\\eclipse -clean\r\n\r\nAlso you try to can delete the file to fix the problem permanently as suggested &lt;a href=&quot;http://www.metod.si/job-found-still-running-after-platform-shutdown-eclipse/&quot;&gt;here&lt;/a&gt;. Command would be something like below for windows.\r\n\r\n    del  YOUR_WORKSPACE/.metadata/.plugins/org.eclipse.core.resources/.snap","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Try to launch it from the console like:</p>\n\n<pre><code>C:\\path\\to\\eclipse\\eclipse -clean\n</code></pre>\n\n<p>Also you try to can delete the file to fix the problem permanently as suggested <a href=\"http://www.metod.si/job-found-still-running-after-platform-shutdown-eclipse/\" rel=\"noreferrer\">here</a>. Command would be something like below for windows.</p>\n\n<pre><code>del  YOUR_WORKSPACE/.metadata/.plugins/org.eclipse.core.resources/.snap\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7485266,"reputation":51,"user_id":5688734,"display_name":"Bally"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1450310319,"creation_date":1450305441,"answer_id":34323473,"question_id":32944658,"body_markdown":"I had the same issue with Windows 10. Give full control to your user in security settings on the eclipse and workspace folders. \r\n\r\nI also found the read only property was set on the eclipse and workspace folders, which I unset. \r\n\r\nThe log file can be found in the `eclipse\\configuration` folder.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I had the same issue with Windows 10. Give full control to your user in security settings on the eclipse and workspace folders. </p>\n\n<p>I also found the read only property was set on the eclipse and workspace folders, which I unset. </p>\n\n<p>The log file can be found in the <code>eclipse\\configuration</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":7815538,"reputation":111,"user_id":5910369,"display_name":"Luis Ramos"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1602745316,"creation_date":1455134621,"answer_id":35324810,"question_id":32944658,"body_markdown":"I ran into the same problem. When I try running eclipse as Administrator, the problem went away.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I ran into the same problem. When I try running eclipse as Administrator, the problem went away.</p>\n"},{"tags":[],"owner":{"account_id":4533955,"reputation":118,"user_id":3705221,"display_name":"Fidias"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1593433108,"creation_date":1461509118,"answer_id":36824598,"question_id":32944658,"body_markdown":"Had same issue.\r\nTo resolve it : Go to Eclipse directory -&gt; Open CMD -&gt; eclipse -clean\r\n\r\nworked well.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Had same issue.\nTo resolve it : Go to Eclipse directory -&gt; Open CMD -&gt; eclipse -clean</p>\n<p>worked well.</p>\n"},{"tags":[],"owner":{"account_id":5555905,"reputation":1230,"user_id":4407260,"accept_rate":90,"display_name":"Tokci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465163038,"creation_date":1465163038,"answer_id":37647080,"question_id":32944658,"body_markdown":"Make sure your eclipse launch folder does not have read only property/attribute\r\n\r\nMy eclipse resides at below location and If I right click -&gt;properties- checked attributes were read only. I unchecked read only and restarted eclipse. Issue was resolved.\r\nC:\\Users\\Ashish\\Downloads\\eclipse-jee-mars-2-win32-x86_64 (1)\\eclipse \r\n","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Make sure your eclipse launch folder does not have read only property/attribute</p>\n\n<p>My eclipse resides at below location and If I right click ->properties- checked attributes were read only. I unchecked read only and restarted eclipse. Issue was resolved.\nC:\\Users\\Ashish\\Downloads\\eclipse-jee-mars-2-win32-x86_64 (1)\\eclipse </p>\n"},{"tags":[],"owner":{"account_id":7212824,"reputation":89,"user_id":5506292,"display_name":"Affa Musaffa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482300313,"creation_date":1482300313,"answer_id":41256182,"question_id":32944658,"body_markdown":"Here I&#39;m just share, if you can not copy file .metadata on mac because that file invisible (JUST on Mac issue), try this step:\r\n\r\n1. compress your file .metadata backup\r\n2. copy file .zip\r\n3. paste file .zip to path/workspace\r\n4. double click file .zip\r\n5. done :-)","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Here I'm just share, if you can not copy file .metadata on mac because that file invisible (JUST on Mac issue), try this step:</p>\n\n<ol>\n<li>compress your file .metadata backup</li>\n<li>copy file .zip</li>\n<li>paste file .zip to path/workspace</li>\n<li>double click file .zip</li>\n<li>done :-)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9988920,"reputation":1,"user_id":7389017,"display_name":"Harun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483825306,"creation_date":1483825306,"answer_id":41526888,"question_id":32944658,"body_markdown":"Open the eclipse.exe with the right mouse button and open with admin rights and that&#39;s it!","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Open the eclipse.exe with the right mouse button and open with admin rights and that's it!</p>\n"},{"tags":[],"owner":{"account_id":10427807,"reputation":41,"user_id":7688504,"display_name":"shilpa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489131181,"creation_date":1489125817,"answer_id":42711366,"question_id":32944658,"body_markdown":"I deleted `.metadata` from the workspace and ran the eclipse as *run as administrator* and it worked for me.\r\n","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I deleted <code>.metadata</code> from the workspace and ran the eclipse as <em>run as administrator</em> and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9702344,"reputation":227,"user_id":7196898,"display_name":"Prem S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497623236,"creation_date":1497623236,"answer_id":44591772,"question_id":32944658,"body_markdown":" I had the  same problem and deleting the file .metadata/.plugins/org.eclipse.core.resources/.snap and try it should work ","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I had the  same problem and deleting the file .metadata/.plugins/org.eclipse.core.resources/.snap and try it should work </p>\n"},{"tags":[],"owner":{"account_id":6077152,"reputation":311,"user_id":4744137,"display_name":"mohdasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502346400,"creation_date":1502346400,"answer_id":45605989,"question_id":32944658,"body_markdown":"I too came across the same error. \r\nMy log file says :\r\n **Java.io.FileNotFoundException: C:\\Eclipse\\eclipse-jee-luna-SR2-win32-x86_64\\eclipse\\configuration\\org.eclipse.osgi\\.manager\\.fileTableLock (Access is denied)**\r\n\r\nSo, i copied entire eclipse in another folder and it worked for me.\r\n\r\nSo, for me the problem was write access, because eclipse need write across configuration folder, in my case eclipse was unzipped by some other user and i didn&#39;t have the access.\r\n\r\n","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I too came across the same error. \nMy log file says :\n <strong>Java.io.FileNotFoundException: C:\\Eclipse\\eclipse-jee-luna-SR2-win32-x86_64\\eclipse\\configuration\\org.eclipse.osgi.manager.fileTableLock (Access is denied)</strong></p>\n\n<p>So, i copied entire eclipse in another folder and it worked for me.</p>\n\n<p>So, for me the problem was write access, because eclipse need write across configuration folder, in my case eclipse was unzipped by some other user and i didn't have the access.</p>\n"},{"tags":[],"owner":{"account_id":8856682,"reputation":21,"user_id":6614259,"display_name":"M.Sobhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506091074,"creation_date":1506089523,"answer_id":46366807,"question_id":32944658,"body_markdown":"1. Uninstall Java JDK\r\n\r\n2. Reinstall JDK 8\r\n\r\n3. Run Eclipse as administrator\r\n","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<ol>\n<li><p>Uninstall Java JDK</p></li>\n<li><p>Reinstall JDK 8</p></li>\n<li><p>Run Eclipse as administrator</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9917587,"reputation":640,"user_id":7341878,"accept_rate":10,"display_name":"Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510564407,"creation_date":1510564407,"answer_id":47260623,"question_id":32944658,"body_markdown":"Remove the `.snap` file from `&lt;WORKSPACE-DIRECTORY&gt;\\.metadata\\.plugins\\org.eclipse.core.resources`","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Remove the <code>.snap</code> file from <code>&lt;WORKSPACE-DIRECTORY&gt;\\.metadata\\.plugins\\org.eclipse.core.resources</code></p>\n"},{"tags":[],"owner":{"account_id":479580,"reputation":1191,"user_id":892327,"accept_rate":73,"display_name":"Nielsvh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533327060,"creation_date":1533327060,"answer_id":51679508,"question_id":32944658,"body_markdown":"I found that running Eclipse (STS 3.9) as administrator worked, which is a permissions issue. Giving the required users read/write/execute permissions to the config and workspace folders did the trick (they couldn&#39;t write previously).","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I found that running Eclipse (STS 3.9) as administrator worked, which is a permissions issue. Giving the required users read/write/execute permissions to the config and workspace folders did the trick (they couldn't write previously).</p>\n"},{"tags":[],"owner":{"account_id":8467570,"reputation":966,"user_id":6351316,"accept_rate":60,"display_name":"Niranjan Agnihotri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534154932,"creation_date":1534154932,"answer_id":51819891,"question_id":32944658,"body_markdown":"I encountered the same problem, and then I found out that, the eclipse distribution works fine with JDK 8. I previously ran JDK 10 and I got this error. Uninstalling JDK 10 and installing JDK 8 fixed the issue for me.  \r\nHope this helps!!","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I encountered the same problem, and then I found out that, the eclipse distribution works fine with JDK 8. I previously ran JDK 10 and I got this error. Uninstalling JDK 10 and installing JDK 8 fixed the issue for me.<br>\nHope this helps!!</p>\n"},{"tags":[],"owner":{"account_id":4286144,"reputation":171,"user_id":3503884,"display_name":"mtareq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540387556,"creation_date":1540387556,"answer_id":52970207,"question_id":32944658,"body_markdown":"The mentioned solutions didn&#39;t work for me under Windows OS. \r\nI just deleted **.manager** from **eclipse\\configuration\\org.eclipse.core.runtime** and from **eclipse\\configuration\\org.eclipse.osgi** and the issue was fixed.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>The mentioned solutions didn't work for me under Windows OS. \nI just deleted <strong>.manager</strong> from <strong>eclipse\\configuration\\org.eclipse.core.runtime</strong> and from <strong>eclipse\\configuration\\org.eclipse.osgi</strong> and the issue was fixed.</p>\n"},{"tags":[],"owner":{"account_id":3635078,"reputation":2174,"user_id":3030376,"accept_rate":100,"display_name":"Nikhil Katre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556139360,"creation_date":1556139360,"answer_id":55838423,"question_id":32944658,"body_markdown":"Delete the **.metadata** folder in eclipse. That should resolve the issue. The **.metadata** folder is recreated by eclipse once it is able to launch successfully.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Delete the <strong>.metadata</strong> folder in eclipse. That should resolve the issue. The <strong>.metadata</strong> folder is recreated by eclipse once it is able to launch successfully.</p>\n"},{"tags":[],"owner":{"account_id":12676882,"reputation":31,"user_id":9212231,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590555213,"creation_date":1590555213,"answer_id":62035721,"question_id":32944658,"body_markdown":"\r\nI too got the same error in **My Windows 10 pc** while using **Eclipse 2020 version**\r\n\r\n\r\nJust **delete** the .metadata folder and then try to run eclipse again it will solve the problem and  run fine. .Metadata folder will get  created once again by itself as we open eclipse.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I too got the same error in <strong>My Windows 10 pc</strong> while using <strong>Eclipse 2020 version</strong></p>\n\n<p>Just <strong>delete</strong> the .metadata folder and then try to run eclipse again it will solve the problem and  run fine. .Metadata folder will get  created once again by itself as we open eclipse.</p>\n"},{"tags":[],"owner":{"account_id":12174625,"reputation":72,"user_id":8888081,"display_name":"Anish Narayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635597312,"creation_date":1635597312,"answer_id":69779672,"question_id":32944658,"body_markdown":"**I uninstalled JRE and installed it again, but it still produces the same problem.**\r\n\r\nTurns out that my version of eclipse doesn&#39;t work with jdk17 (installed it using Amazon Corretto 17). So uninstalled Amazon Corretto 17 (automatically uninstalls jdk17 as well) and installed jdk11 using Amazon Corretto 11.\r\n\r\nThankfully worked for me! What I tried was similar to what you tried, but worth trying anyway.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p><strong>I uninstalled JRE and installed it again, but it still produces the same problem.</strong></p>\n<p>Turns out that my version of eclipse doesn't work with jdk17 (installed it using Amazon Corretto 17). So uninstalled Amazon Corretto 17 (automatically uninstalls jdk17 as well) and installed jdk11 using Amazon Corretto 11.</p>\n<p>Thankfully worked for me! What I tried was similar to what you tried, but worth trying anyway.</p>\n"},{"tags":[],"owner":{"account_id":15398035,"reputation":315,"user_id":12651648,"display_name":"Nooras Fatima Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648279785,"creation_date":1648279785,"answer_id":71626127,"question_id":32944658,"body_markdown":"Re-install Eclipse or add **vm** path in your **eclipse.ini** file.\r\n\r\n    -vm\r\n    C:/&lt;Your Path&gt;/jdk1.8.0/jre/bin/javaw.exe\r\n\r\n*Note: Change javaw.exe path according to your system*","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>Re-install Eclipse or add <strong>vm</strong> path in your <strong>eclipse.ini</strong> file.</p>\n<pre><code>-vm\nC:/&lt;Your Path&gt;/jdk1.8.0/jre/bin/javaw.exe\n</code></pre>\n<p><em>Note: Change javaw.exe path according to your system</em></p>\n"},{"tags":[],"owner":{"account_id":19692117,"reputation":82,"user_id":14416830,"display_name":"David Almeida"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688542056,"creation_date":1667071049,"answer_id":74248150,"question_id":32944658,"body_markdown":"**Make sure your java version is compatible with your eclipse version!**\r\n\r\nIt is an easy solution that worked for me. Deleting the .metadata did not worked. I was using eclipse MARS 2.0 but set my JAVA_HOME to java 17. However, Mars does not support java 17. As soon as I switched it back to java 14 eclipse launched again.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p><strong>Make sure your java version is compatible with your eclipse version!</strong></p>\n<p>It is an easy solution that worked for me. Deleting the .metadata did not worked. I was using eclipse MARS 2.0 but set my JAVA_HOME to java 17. However, Mars does not support java 17. As soon as I switched it back to java 14 eclipse launched again.</p>\n"}],"owner":{"account_id":4123109,"reputation":1156,"user_id":3382927,"accept_rate":18,"display_name":"Leang Socheat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124827,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":36824598,"answer_count":20,"score":17,"last_activity_date":1688542056,"creation_date":1444035411,"question_id":32944658,"body_markdown":"I use Windows 10 and jre1.8.0_51. I don&#39;t know why when I start Eclipse it always displays an alert message &quot;An error has occurred. See the log file null.&quot; \r\n\r\nAnd I cannot open Eclipse thereafter. I tried to search Google and have no best solution. I uninstalled JRE and installed it again, but it still produces the same problem.","title":"Error message displayed when opening Eclipse: &quot;An error has occurred. See the log file null&quot;","body":"<p>I use Windows 10 and jre1.8.0_51. I don't know why when I start Eclipse it always displays an alert message &quot;An error has occurred. See the log file null.&quot;</p>\n<p>And I cannot open Eclipse thereafter. I tried to search Google and have no best solution. I uninstalled JRE and installed it again, but it still produces the same problem.</p>\n"},{"tags":["java","spring","spring-mvc","localhost","port"],"comments":[{"owner":{"account_id":7077774,"reputation":878,"user_id":5417130,"accept_rate":38,"display_name":"MatMat"},"score":0,"creation_date":1518606087,"post_id":48785485,"comment_id":84572454,"body_markdown":"Do you have any CORS registry configurations? If so, please provide the code/configuration","body":"Do you have any CORS registry configurations? If so, please provide the code/configuration"},{"owner":{"account_id":2693475,"reputation":1442,"user_id":2326172,"accept_rate":78,"display_name":"Saheb"},"score":0,"creation_date":1518608029,"post_id":48785485,"comment_id":84573687,"body_markdown":"Maybe [this](https://spring.io/guides/gs/rest-service-cors/) can help.","body":"Maybe <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">this</a> can help."}],"answers":[{"tags":[],"owner":{"account_id":9719109,"reputation":1190,"user_id":7208392,"display_name":"saif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518608332,"creation_date":1518608332,"answer_id":48786322,"question_id":48785485,"body_markdown":"If you are running on two separate projects for frontend and backend you need to write RESTAPIs. to access the backend instance you need to set up authentication, it might be CSRF or CORS.\r\nPlease have a look at the cors document from spring boot \r\nhttps://spring.io/guides/gs/rest-service-cors/\r\n\r\nit is for the csrf\r\nhttps://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html\r\n","title":"How to access backend from frontend on another localhost port?","body":"<p>If you are running on two separate projects for frontend and backend you need to write RESTAPIs. to access the backend instance you need to set up authentication, it might be CSRF or CORS.\nPlease have a look at the cors document from spring boot \n<a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a></p>\n\n<p>it is for the csrf\n<a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html</a></p>\n"},{"tags":[],"owner":{"account_id":12944998,"reputation":156,"user_id":9359607,"display_name":"Muthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518627826,"creation_date":1518611752,"answer_id":48787397,"question_id":48785485,"body_markdown":"    Front end : localhost:3000/yourfilename.html\r\n     \r\n    **Front end** default port of xamp port is 80. So We re basically use \r\n    localhost/yourfilename.html. But Here used 3000 port. so We should call port \r\n    number with that url \r\n   \r\n    **Back end** : localhost:8080/apiurl\r\n    It is ordinary port of backend. ","title":"How to access backend from frontend on another localhost port?","body":"<pre><code>Front end : localhost:3000/yourfilename.html\n\n**Front end** default port of xamp port is 80. So We re basically use \nlocalhost/yourfilename.html. But Here used 3000 port. so We should call port \nnumber with that url \n\n**Back end** : localhost:8080/apiurl\nIt is ordinary port of backend. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10952595,"reputation":1,"user_id":8724391,"display_name":"Asif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518612981,"creation_date":1518612981,"answer_id":48787796,"question_id":48785485,"body_markdown":"   If you are trying to communicate with two different projects you need to write RESTAPIs, since you are using different port numbers, for security purpose you need to enable cross origin. refer this &lt;https://www.concretepage.com/spring-4/spring-4-rest-cors-integration-using-crossorigin-annotation-xml-filter-example&gt;  ","title":"How to access backend from frontend on another localhost port?","body":"<p>If you are trying to communicate with two different projects you need to write RESTAPIs, since you are using different port numbers, for security purpose you need to enable cross origin. refer this <a href=\"https://www.concretepage.com/spring-4/spring-4-rest-cors-integration-using-crossorigin-annotation-xml-filter-example\" rel=\"nofollow noreferrer\">https://www.concretepage.com/spring-4/spring-4-rest-cors-integration-using-crossorigin-annotation-xml-filter-example</a>  </p>\n"},{"tags":[],"owner":{"account_id":20373355,"reputation":151,"user_id":14945103,"display_name":"Rajarshi Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688538260,"creation_date":1688240931,"answer_id":76596334,"question_id":48785485,"body_markdown":"I am using Nestjs as backend and following codes in main.ts file is enough to handle requests from frontend. \r\n(Adjust the URLs as per yours)\r\n\r\n    import { NestFactory } from &#39;@nestjs/core&#39;;\r\n    \r\n    import { AppModule } from &#39;./app.module&#39;;\r\n    \r\n    async function bootstrap() {\r\n    \r\n      const app = await NestFactory.create(AppModule);\r\n    \r\n    \r\n      // Configure CORS\r\n    \r\n      app.enableCors({\r\n    \r\n        origin: &#39;http://localhost:5173&#39;, // Allow requests from frontend\r\n    \r\n        methods: [&#39;GET&#39;, &#39;POST&#39;, &#39;PUT&#39;, &#39;DELETE&#39;], // Specify allowed HTTP methods\r\n    \r\n        allowedHeaders: [&#39;Content-Type&#39;, &#39;Authorization&#39;], // Specify allowed headers\r\n        preflightContinue: false,\r\n    \r\n     // Disable preflight requests\r\n    \r\n        optionsSuccessStatus: 204, // Return 204 for preflight requests\r\n    \r\n        credentials: true, // Allow sending cookies and authentication headers\r\n      });\r\n    \r\n    \r\n      await app.listen(3000);\r\n    }\r\n    \r\n    \r\n    bootstrap();","title":"How to access backend from frontend on another localhost port?","body":"<p>I am using Nestjs as backend and following codes in main.ts file is enough to handle requests from frontend.\n(Adjust the URLs as per yours)</p>\n<pre><code>import { NestFactory } from '@nestjs/core';\n\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n\n  const app = await NestFactory.create(AppModule);\n\n\n  // Configure CORS\n\n  app.enableCors({\n\n    origin: 'http://localhost:5173', // Allow requests from frontend\n\n    methods: ['GET', 'POST', 'PUT', 'DELETE'], // Specify allowed HTTP methods\n\n    allowedHeaders: ['Content-Type', 'Authorization'], // Specify allowed headers\n    preflightContinue: false,\n\n // Disable preflight requests\n\n    optionsSuccessStatus: 204, // Return 204 for preflight requests\n\n    credentials: true, // Allow sending cookies and authentication headers\n  });\n\n\n  await app.listen(3000);\n}\n\n\nbootstrap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15942176,"reputation":139,"user_id":11503734,"display_name":"Stephane Piedjou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688541718,"creation_date":1688541718,"answer_id":76617948,"question_id":48785485,"body_markdown":"`401 Unauthorized` error means your frontend is indeed able to communicate with your backend but is not sending the necessary information to authenticate and authorize the request because of the security you setup. That&#39;s why you get a `401` error.\r\n\r\nMake sure the frontend sends the requested information to authenticate the request or that the user has the proper authorization to access the requested resource.","title":"How to access backend from frontend on another localhost port?","body":"<p><code>401 Unauthorized</code> error means your frontend is indeed able to communicate with your backend but is not sending the necessary information to authenticate and authorize the request because of the security you setup. That's why you get a <code>401</code> error.</p>\n<p>Make sure the frontend sends the requested information to authenticate the request or that the user has the proper authorization to access the requested resource.</p>\n"}],"owner":{"account_id":12944972,"reputation":317,"user_id":9359583,"display_name":"Klatten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3474,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1688541718,"creation_date":1518605875,"question_id":48785485,"body_markdown":"We are making a web application where we have split up the frontend and backend into seperate projects. After setting up security with CAS we are unable to access the backend from frontend, getting `401 Unauthorized`. Frontend is running at `localhost:3000`, while the backend is running at `localhost:8080`. \r\n\r\nWe would like to allow port `3000` to access port `8080`, but we don&#39;t know how, any clues?","title":"How to access backend from frontend on another localhost port?","body":"<p>We are making a web application where we have split up the frontend and backend into seperate projects. After setting up security with CAS we are unable to access the backend from frontend, getting <code>401 Unauthorized</code>. Frontend is running at <code>localhost:3000</code>, while the backend is running at <code>localhost:8080</code>. </p>\n\n<p>We would like to allow port <code>3000</code> to access port <code>8080</code>, but we don't know how, any clues?</p>\n"},{"tags":["java","regex","spring","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688482946,"post_id":76613648,"comment_id":135078639,"body_markdown":"Can you get away with just matching anything that doesn&#39;t contain any more slashes? So it&#39;ll match `/rest/file/anything` but not `/rest/file/anything/more`. That&#39;s a much easier regex :)","body":"Can you get away with just matching anything that doesn&#39;t contain any more slashes? So it&#39;ll match <code>&#47;rest&#47;file&#47;anything</code> but not <code>&#47;rest&#47;file&#47;anything&#47;more</code>. That&#39;s a much easier regex :)"},{"owner":{"account_id":15364859,"reputation":149,"user_id":11084701,"display_name":"Mr P"},"score":0,"creation_date":1688504493,"post_id":76613648,"comment_id":135081887,"body_markdown":"Unfortunately that does not solve the problem. That would match /rest/file/{guid} (which is wrong). Also it would not match /rest/file/task/{guid} (which is ok) and it would not match /rest/file/{name}/{guid} (which is wrong). Also I cannot change urls.","body":"Unfortunately that does not solve the problem. That would match /rest/file/{guid} (which is wrong). Also it would not match /rest/file/task/{guid} (which is ok) and it would not match /rest/file/{name}/{guid} (which is wrong). Also I cannot change urls."}],"answers":[{"tags":[],"owner":{"account_id":15364859,"reputation":149,"user_id":11084701,"display_name":"Mr P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688541414,"creation_date":1688541414,"answer_id":76617911,"question_id":76613648,"body_markdown":"If anyone is interested it worked with:\r\n\r\n```\r\nprivate static final String REGEX_GUID = &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$&quot;;\r\n\r\n.regexMatchers(HttpMethod.GET, &quot;/rest/file/(?!.*task).*/&quot; + REGEX_GUID)\r\n```","title":"SecurityFilterChain - regexMatchers() for validating an endpoint which is similar in structure to other endpoints","body":"<p>If anyone is interested it worked with:</p>\n<pre><code>private static final String REGEX_GUID = &quot;[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$&quot;;\n\n.regexMatchers(HttpMethod.GET, &quot;/rest/file/(?!.*task).*/&quot; + REGEX_GUID)\n</code></pre>\n"}],"owner":{"account_id":15364859,"reputation":149,"user_id":11084701,"display_name":"Mr P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688541414,"creation_date":1688481005,"question_id":76613648,"body_markdown":"I have three endpoints:\r\n\r\n - GET /rest/file/{name}/{guid} - this one is secured with OAuth2 token\r\n - GET /rest/file/task/{guid}\r\n - GET /rest/file/{guid} \r\n\r\nI need a Regex expression for Spring Security&#39;s SecurityFilterChain with OAuth2 Resource Server. It should catch the last endpoint but not the first two. Resource Server is already correctly configured for many other endpoints, so it&#39;s not a global issue but strictly Regex. \r\n\r\nExamples:\r\n\r\n - /rest/file/aaaaa/{guid} is validated for OAuth2 token\r\n - /rest/file/task/{guid} is NOT validated for OAuth2 token\r\n - /rest/file/{guid} is NOT validated for OAuth2 token\r\n\r\nI see two approaches: \r\n\r\n 1. URL with path variable {name} which is not &quot;task&quot; and path variable {guid} after the {name} which matches GUID&#39;s structure\r\n 2. URL with path variable {name} which is not &quot;task&quot; and at the same time {name} does not match GUID structure\r\n\r\nI came up with this but it always returns 403.\r\n\r\n```\r\nprivate static final String REGEX_GUID = &quot;^[{]?[0-9a-fA-F]{8}&quot;\r\n                    + &quot;-([0-9a-fA-F]{4}-)&quot;\r\n                    + &quot;{3}[0-9a-fA-F]{12}[}]?$&quot;;\r\n\r\n.regexMatchers(HttpMethod.GET, &quot;/rest/file/^(?!task$)/&quot; + REGEX_GUID)\r\n```","title":"SecurityFilterChain - regexMatchers() for validating an endpoint which is similar in structure to other endpoints","body":"<p>I have three endpoints:</p>\n<ul>\n<li>GET /rest/file/{name}/{guid} - this one is secured with OAuth2 token</li>\n<li>GET /rest/file/task/{guid}</li>\n<li>GET /rest/file/{guid}</li>\n</ul>\n<p>I need a Regex expression for Spring Security's SecurityFilterChain with OAuth2 Resource Server. It should catch the last endpoint but not the first two. Resource Server is already correctly configured for many other endpoints, so it's not a global issue but strictly Regex.</p>\n<p>Examples:</p>\n<ul>\n<li>/rest/file/aaaaa/{guid} is validated for OAuth2 token</li>\n<li>/rest/file/task/{guid} is NOT validated for OAuth2 token</li>\n<li>/rest/file/{guid} is NOT validated for OAuth2 token</li>\n</ul>\n<p>I see two approaches:</p>\n<ol>\n<li>URL with path variable {name} which is not &quot;task&quot; and path variable {guid} after the {name} which matches GUID's structure</li>\n<li>URL with path variable {name} which is not &quot;task&quot; and at the same time {name} does not match GUID structure</li>\n</ol>\n<p>I came up with this but it always returns 403.</p>\n<pre><code>private static final String REGEX_GUID = &quot;^[{]?[0-9a-fA-F]{8}&quot;\n                    + &quot;-([0-9a-fA-F]{4}-)&quot;\n                    + &quot;{3}[0-9a-fA-F]{12}[}]?$&quot;;\n\n.regexMatchers(HttpMethod.GET, &quot;/rest/file/^(?!task$)/&quot; + REGEX_GUID)\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":4329546,"reputation":494,"user_id":3535421,"display_name":"dasniko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688478677,"creation_date":1688478677,"answer_id":76613332,"question_id":76608089,"body_markdown":"You are mixing up two phases/flows.\r\n\r\nIf you want it to happen in the registration flow, you&#39;ll have to implement the `FormAction` and `FormActionFactory` interfaces and add your custom authenticator step (the action) to the used _Registration Flow_.\r\n\r\nIf you want it to happen in the _RequiredAction_, you&#39;ll have to implement the action properly. The `requiredActionChallenge()` method sends the form/page (challenge) to the users browser, the `processAction()` method processes the submitted form request.\r\nFor an example of a required action implementation, see here: https://github.com/dasniko/keycloak-extensions-demo/tree/main/requiredaction\r\n\r\n_Required Actions_ will always be executed, if assigned manually or programmatically, at the end of an authentication flow. Thus, also after the registration flow, which is actually an authentication flow. If you register your _Required Action_ as an _default_ action, all new users have to fulfill the action.","title":"Keycloak Custom Required Action being deployed but not working","body":"<p>You are mixing up two phases/flows.</p>\n<p>If you want it to happen in the registration flow, you'll have to implement the <code>FormAction</code> and <code>FormActionFactory</code> interfaces and add your custom authenticator step (the action) to the used <em>Registration Flow</em>.</p>\n<p>If you want it to happen in the <em>RequiredAction</em>, you'll have to implement the action properly. The <code>requiredActionChallenge()</code> method sends the form/page (challenge) to the users browser, the <code>processAction()</code> method processes the submitted form request.\nFor an example of a required action implementation, see here: <a href=\"https://github.com/dasniko/keycloak-extensions-demo/tree/main/requiredaction\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-extensions-demo/tree/main/requiredaction</a></p>\n<p><em>Required Actions</em> will always be executed, if assigned manually or programmatically, at the end of an authentication flow. Thus, also after the registration flow, which is actually an authentication flow. If you register your <em>Required Action</em> as an <em>default</em> action, all new users have to fulfill the action.</p>\n"}],"owner":{"account_id":2122306,"reputation":146,"user_id":2005195,"display_name":"AmirRazoR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613332,"answer_count":1,"score":0,"last_activity_date":1688541214,"creation_date":1688418254,"question_id":76608089,"body_markdown":"I am currently working on integrating a custom Required Action into Keycloak for role assignment purposes. The intent is that a user can choose their role during registration, and that this chosen role will be saved as a user attribute and should then be connected with the realm role of the same name as the user has chosen in registration form. \r\n\r\nIn my `register.ftl` i have:\r\n\r\n               &lt;div class=&quot;${properties.kcFormGroupClass!}&quot;&gt;\r\n                    &lt;div class=&quot;${properties.kcLabelWrapperClass!}&quot;&gt;\r\n                        &lt;label for=&quot;user.attributes.role&quot; class=&quot;${properties.kcLabelClass!}&quot;&gt;${msg(&quot;role&quot;)}&lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;${properties.kcInputWrapperClass!}&quot;&gt;\r\n                        &lt;select id=&quot;user.attributes.role&quot; class=&quot;${properties.kcInputClass!}&quot; name=&quot;user.attributes.role&quot;\r\n                                aria-invalid=&quot;&lt;#if messagesPerField.existsError(&#39;user.attributes.role&#39;)&gt;true&lt;/#if&gt;&quot;\r\n                        &gt;\r\n                            &lt;option value=&quot;&quot;&gt;${msg(&quot;selectRole&quot;)}&lt;/option&gt;\r\n                            &lt;option value=&quot;Buyer&quot;&gt;Buyer&lt;/option&gt;\r\n                            &lt;option value=&quot;Carrier&quot;&gt;Carrier&lt;/option&gt;\r\n                            &lt;option value=&quot;Shipper&quot;&gt;Shipper&lt;/option&gt;\r\n                        &lt;/select&gt;\r\n    \r\n                        &lt;#if messagesPerField.existsError(&#39;user.attributes.role&#39;)&gt;\r\n                            &lt;span id=&quot;input-error-role&quot; class=&quot;${properties.kcInputErrorMessageClass!}&quot; aria-live=&quot;polite&quot;&gt;\r\n                    ${kcSanitize(messagesPerField.get(&#39;user.attributes.role&#39;))?no_esc}\r\n                &lt;/span&gt;\r\n                        &lt;/#if&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\nAnd in realm roles i have added &quot;Carrier&quot;, &quot;Shipper&quot;, and &quot;Buyer&quot; as roles.\r\n\r\n\r\nHere is the Java code that I have used to create a custom RequiredActionProvider:\r\n\r\n    package com.company.keycloak;\r\n\r\n    import org.keycloak.authentication.RequiredActionContext;\r\n    import org.keycloak.authentication.RequiredActionFactory;\r\n    import org.keycloak.authentication.RequiredActionProvider;\r\n    import org.keycloak.models.KeycloakSession;\r\n    import org.keycloak.models.KeycloakSessionFactory;\r\n    import org.keycloak.models.RoleModel;\r\n    import org.jboss.logging.Logger;\r\n\r\n    import java.util.List;\r\n\r\n    public class RoleAssignmentAction implements RequiredActionProvider, RequiredActionFactory {\r\n\r\n\r\n    private static final Logger logger = Logger.getLogger(RoleAssignmentAction.class);\r\n    @Override\r\n    public void evaluateTriggers(RequiredActionContext context) {\r\n    }\r\n\r\n    @Override\r\n    public void requiredActionChallenge(RequiredActionContext context) {\r\n    }\r\n\r\n    @Override\r\n    public void processAction(RequiredActionContext context) {\r\n        List&lt;String&gt; selectedRoleList = context.getUser().getAttributes().get(&quot;role&quot;);\r\n\r\n        if (selectedRoleList == null || selectedRoleList.isEmpty()) {\r\n            logger.warn(&quot;No role selected by the user&quot;);\r\n            return;\r\n        }\r\n\r\n        String selectedRole = selectedRoleList.get(0);\r\n        logger.infof(&quot;Selected role: %s&quot;, selectedRole);\r\n\r\n        RoleModel role = context.getRealm().getRole(selectedRole);\r\n\r\n        if (role != null) {\r\n            context.getUser().grantRole(role);\r\n            logger.infof(&quot;Role [%s] granted to user [%s]&quot;, role.getName(), context.getUser().getUsername());\r\n        } else {\r\n            logger.warnf(&quot;Role [%s] not found&quot;, selectedRole);\r\n        }\r\n\r\n        context.success();\r\n    }\r\n\r\n\t//rest of the needed methods\r\n    }\r\n\r\nI have followed the standard steps for deploying the custom provider:\r\n\r\n 1. Packaged this class in a JAR file. \r\n 2. Included a `METAINF/services/org.keycloak.authentication.RequiredActionProvider` file.  \r\n 3. Deployed it by copying the JAR file to the standalone/deployments/ directory.\r\n\r\n\r\nThe required action shows up in &quot;Required actions&quot; tab in keycloak admin conole and i set it to enabled and default actions to on. However, when the RequiredActionProvider should be executed, none of the logs from the custom provider are being printed to the console nor are the roles being assigned.\r\n\r\nHere are the things I have verified:\r\n\r\nThe JAR file is successfully deployed according to Keycloak logs.\r\nThe provider ID is correctly configured in the Keycloak admin console.\r\nThe Docker logs don&#39;t seem to show any errors and everything seems to be running fine.\r\nI&#39;m currently using Keycloak version 16.1.1. \r\n\r\nAny insights or advice on how to troubleshoot this issue or fix it would be greatly appreciated. And if any information should be added to this question, please let me know. Thank you!","title":"Keycloak Custom Required Action being deployed but not working","body":"<p>I am currently working on integrating a custom Required Action into Keycloak for role assignment purposes. The intent is that a user can choose their role during registration, and that this chosen role will be saved as a user attribute and should then be connected with the realm role of the same name as the user has chosen in registration form.</p>\n<p>In my <code>register.ftl</code> i have:</p>\n<pre><code>           &lt;div class=&quot;${properties.kcFormGroupClass!}&quot;&gt;\n                &lt;div class=&quot;${properties.kcLabelWrapperClass!}&quot;&gt;\n                    &lt;label for=&quot;user.attributes.role&quot; class=&quot;${properties.kcLabelClass!}&quot;&gt;${msg(&quot;role&quot;)}&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;${properties.kcInputWrapperClass!}&quot;&gt;\n                    &lt;select id=&quot;user.attributes.role&quot; class=&quot;${properties.kcInputClass!}&quot; name=&quot;user.attributes.role&quot;\n                            aria-invalid=&quot;&lt;#if messagesPerField.existsError('user.attributes.role')&gt;true&lt;/#if&gt;&quot;\n                    &gt;\n                        &lt;option value=&quot;&quot;&gt;${msg(&quot;selectRole&quot;)}&lt;/option&gt;\n                        &lt;option value=&quot;Buyer&quot;&gt;Buyer&lt;/option&gt;\n                        &lt;option value=&quot;Carrier&quot;&gt;Carrier&lt;/option&gt;\n                        &lt;option value=&quot;Shipper&quot;&gt;Shipper&lt;/option&gt;\n                    &lt;/select&gt;\n\n                    &lt;#if messagesPerField.existsError('user.attributes.role')&gt;\n                        &lt;span id=&quot;input-error-role&quot; class=&quot;${properties.kcInputErrorMessageClass!}&quot; aria-live=&quot;polite&quot;&gt;\n                ${kcSanitize(messagesPerField.get('user.attributes.role'))?no_esc}\n            &lt;/span&gt;\n                    &lt;/#if&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>And in realm roles i have added &quot;Carrier&quot;, &quot;Shipper&quot;, and &quot;Buyer&quot; as roles.</p>\n<p>Here is the Java code that I have used to create a custom RequiredActionProvider:</p>\n<pre><code>package com.company.keycloak;\n\nimport org.keycloak.authentication.RequiredActionContext;\nimport org.keycloak.authentication.RequiredActionFactory;\nimport org.keycloak.authentication.RequiredActionProvider;\nimport org.keycloak.models.KeycloakSession;\nimport org.keycloak.models.KeycloakSessionFactory;\nimport org.keycloak.models.RoleModel;\nimport org.jboss.logging.Logger;\n\nimport java.util.List;\n\npublic class RoleAssignmentAction implements RequiredActionProvider, RequiredActionFactory {\n\n\nprivate static final Logger logger = Logger.getLogger(RoleAssignmentAction.class);\n@Override\npublic void evaluateTriggers(RequiredActionContext context) {\n}\n\n@Override\npublic void requiredActionChallenge(RequiredActionContext context) {\n}\n\n@Override\npublic void processAction(RequiredActionContext context) {\n    List&lt;String&gt; selectedRoleList = context.getUser().getAttributes().get(&quot;role&quot;);\n\n    if (selectedRoleList == null || selectedRoleList.isEmpty()) {\n        logger.warn(&quot;No role selected by the user&quot;);\n        return;\n    }\n\n    String selectedRole = selectedRoleList.get(0);\n    logger.infof(&quot;Selected role: %s&quot;, selectedRole);\n\n    RoleModel role = context.getRealm().getRole(selectedRole);\n\n    if (role != null) {\n        context.getUser().grantRole(role);\n        logger.infof(&quot;Role [%s] granted to user [%s]&quot;, role.getName(), context.getUser().getUsername());\n    } else {\n        logger.warnf(&quot;Role [%s] not found&quot;, selectedRole);\n    }\n\n    context.success();\n}\n\n//rest of the needed methods\n}\n</code></pre>\n<p>I have followed the standard steps for deploying the custom provider:</p>\n<ol>\n<li>Packaged this class in a JAR file.</li>\n<li>Included a <code>METAINF/services/org.keycloak.authentication.RequiredActionProvider</code> file.</li>\n<li>Deployed it by copying the JAR file to the standalone/deployments/ directory.</li>\n</ol>\n<p>The required action shows up in &quot;Required actions&quot; tab in keycloak admin conole and i set it to enabled and default actions to on. However, when the RequiredActionProvider should be executed, none of the logs from the custom provider are being printed to the console nor are the roles being assigned.</p>\n<p>Here are the things I have verified:</p>\n<p>The JAR file is successfully deployed according to Keycloak logs.\nThe provider ID is correctly configured in the Keycloak admin console.\nThe Docker logs don't seem to show any errors and everything seems to be running fine.\nI'm currently using Keycloak version 16.1.1.</p>\n<p>Any insights or advice on how to troubleshoot this issue or fix it would be greatly appreciated. And if any information should be added to this question, please let me know. Thank you!</p>\n"},{"tags":["java","jar","databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1688546863,"post_id":76617886,"comment_id":135086329,"body_markdown":"how do you use this environment variables in your code or log configuration?","body":"how do you use this environment variables in your code or log configuration?"},{"owner":{"account_id":28884797,"reputation":1,"user_id":22123396,"display_name":"SV19"},"score":0,"creation_date":1688548854,"post_id":76617886,"comment_id":135086720,"body_markdown":"It&#39;s is added as under the advanced options when editing the Databricks Cluster. It&#39;s shown in the first image link that I had added.","body":"It&#39;s is added as under the advanced options when editing the Databricks Cluster. It&#39;s shown in the first image link that I had added."},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1688548992,"post_id":76617886,"comment_id":135086743,"body_markdown":"But how it&#39;s used there? Or are you relying on existing log configs?","body":"But how it&#39;s used there? Or are you relying on existing log configs?"},{"owner":{"account_id":28884797,"reputation":1,"user_id":22123396,"display_name":"SV19"},"score":0,"creation_date":1688559085,"post_id":76617886,"comment_id":135088881,"body_markdown":"The log config is within the program that I am running. So if I am able to specify the log directory and the jar run is able to detect it, the logs will be generated in the file at the particular location which is stored in DBFS","body":"The log config is within the program that I am running. So if I am able to specify the log directory and the jar run is able to detect it, the logs will be generated in the file at the particular location which is stored in DBFS"}],"owner":{"account_id":28884797,"reputation":1,"user_id":22123396,"display_name":"SV19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688541192,"creation_date":1688541192,"question_id":76617886,"body_markdown":"I am trying to run a jar file on Databricks Jobs and to run it I had set environmental variable similar to the one I had to add to run on IntelliJ.\r\nSo I had changed it to the DBFS path expecting it to run.\r\n[Added the DBFS path in environment variables](https://i.stack.imgur.com/JLmuV.png)\r\nBut since the default folder is starts like &#39;/databricks/driver/...&#39; the DBFS path isn&#39;t getting detected.\r\n[The output](https://i.stack.imgur.com/7m4XL.png)\r\n\r\nI would like to find a way to change the directory to start with &#39;dbfs/...&#39; instead of &#39;/databricks/driver..&#39; so as to add the environmental variables.","title":"Adding DBFS to environmental variable of a Databricks cluster to run a jar file","body":"<p>I am trying to run a jar file on Databricks Jobs and to run it I had set environmental variable similar to the one I had to add to run on IntelliJ.\nSo I had changed it to the DBFS path expecting it to run.\n<a href=\"https://i.stack.imgur.com/JLmuV.png\" rel=\"nofollow noreferrer\">Added the DBFS path in environment variables</a>\nBut since the default folder is starts like '/databricks/driver/...' the DBFS path isn't getting detected.\n<a href=\"https://i.stack.imgur.com/7m4XL.png\" rel=\"nofollow noreferrer\">The output</a></p>\n<p>I would like to find a way to change the directory to start with 'dbfs/...' instead of '/databricks/driver..' so as to add the environmental variables.</p>\n"},{"tags":["java","microservices","quarkus","gateway"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658302399,"post_id":73047592,"comment_id":129014822,"body_markdown":"Do you *need* to build one or *want* to build one? Because there&#39;s plenty of already existing solutions to this problem.","body":"Do you <i>need</i> to build one or <i>want</i> to build one? Because there&#39;s plenty of already existing solutions to this problem."},{"owner":{"account_id":25851138,"reputation":1,"user_id":19585112,"display_name":"Nikos Pougas"},"score":0,"creation_date":1658302493,"post_id":73047592,"comment_id":129014848,"body_markdown":"Yes i saw many solutions, but i need to build one in-house.","body":"Yes i saw many solutions, but i need to build one in-house."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1658303367,"post_id":73047592,"comment_id":129015132,"body_markdown":"Ok so basically you should 1) Listen on port 8000; 2) Analyze the request; 3) Call the appropriate microservice forwarding the parameters; 4) Fetch the response; 5) Send it back to the client. If you have any problem with one of this steps please [edit] your question to specificy which step and what problem you&#39;re having.","body":"Ok so basically you should 1) Listen on port 8000; 2) Analyze the request; 3) Call the appropriate microservice forwarding the parameters; 4) Fetch the response; 5) Send it back to the client. If you have any problem with one of this steps please <a href=\"https://stackoverflow.com/posts/73047592/edit\">edit</a> your question to specificy which step and what problem you&#39;re having."}],"answers":[{"tags":[],"owner":{"account_id":25617055,"reputation":47,"user_id":19389498,"display_name":"JonathanQXP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658303799,"creation_date":1658303799,"answer_id":73047901,"question_id":73047592,"body_markdown":"Believe me . if you just need a simple gateway . nigix will be helpful, you just should rewrite the config file, and start it. it&#39;s done.\r\n\r\nBut if you want to build a project called gateway. you might need zookeepr and  rpc framework for your diff port of every app. your port sould be store with zk or redis. if it runing even in diff device, ip shold be store, too. \r\n\r\nRead the document of dubbo or eureka might help you.\r\n","title":"Simple API Gateway with two microservices in Java","body":"<p>Believe me . if you just need a simple gateway . nigix will be helpful, you just should rewrite the config file, and start it. it's done.</p>\n<p>But if you want to build a project called gateway. you might need zookeepr and  rpc framework for your diff port of every app. your port sould be store with zk or redis. if it runing even in diff device, ip shold be store, too.</p>\n<p>Read the document of dubbo or eureka might help you.</p>\n"},{"tags":[],"owner":{"account_id":10117892,"reputation":58,"user_id":7475937,"display_name":"Pranshul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688508815,"creation_date":1688508815,"answer_id":76616090,"question_id":73047592,"body_markdown":"You can build a API gateway microservice using Spring Cloud Gateway (spring-cloud-starter-gateway)\r\n\r\nAll you would need to do is to define routes in application.yaml (or properties) for a very trivial API gateway.\r\n\r\nAn example of the application.yaml for routes is as follows:\r\n\r\n\r\n\r\n\r\n\r\nroutes:\r\n        \r\n\r\n- id: demo\r\n\r\n        - id: connect\r\n          uri: https://connect-dev.com\r\n          predicates:\r\n            - Path= /connect/**\r\n          filters:\r\n            - StripPrefix= 1\r\n\r\n\r\nuri: The endpoint you want to redirect to \r\npredicates: An identifier for the service you want to redirect to\r\nFilters.stripPrefix: removes the predicate, such that the downstream service can map the API to the relevant resource.\r\n\r\nHere is an article with more details: https://www.baeldung.com/spring-cloud-gateway","title":"Simple API Gateway with two microservices in Java","body":"<p>You can build a API gateway microservice using Spring Cloud Gateway (spring-cloud-starter-gateway)</p>\n<p>All you would need to do is to define routes in application.yaml (or properties) for a very trivial API gateway.</p>\n<p>An example of the application.yaml for routes is as follows:</p>\n<p>routes:</p>\n<ul>\n<li><p>id: demo</p>\n<pre><code>  - id: connect\n    uri: https://connect-dev.com\n    predicates:\n      - Path= /connect/**\n    filters:\n      - StripPrefix= 1\n</code></pre>\n</li>\n</ul>\n<p>uri: The endpoint you want to redirect to\npredicates: An identifier for the service you want to redirect to\nFilters.stripPrefix: removes the predicate, such that the downstream service can map the API to the relevant resource.</p>\n<p>Here is an article with more details: <a href=\"https://www.baeldung.com/spring-cloud-gateway\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-gateway</a></p>\n"}],"owner":{"account_id":25851138,"reputation":1,"user_id":19585112,"display_name":"Nikos Pougas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688540892,"creation_date":1658302246,"question_id":73047592,"body_markdown":"I wrote two microservices in Java Quarkus:\r\n 1) user-microservice running on port 8080\r\n 2) game-microservice running on port 8282\r\n\r\nand I successfully test their endpoints with POSTMAN.\r\n\r\nNow I need to build a simple API Gateway running for example on port 8000, and when I receive a request on localhost:8000 the Gateway will fetch for me the needed data from the two microservices and show me them on 8000 on POSTMAN. Any suggestions?\r\n\r\n\r\n","title":"Simple API Gateway with two microservices in Java","body":"<p>I wrote two microservices in Java Quarkus:</p>\n<ol>\n<li>user-microservice running on port 8080</li>\n<li>game-microservice running on port 8282</li>\n</ol>\n<p>and I successfully test their endpoints with POSTMAN.</p>\n<p>Now I need to build a simple API Gateway running for example on port 8000, and when I receive a request on localhost:8000 the Gateway will fetch for me the needed data from the two microservices and show me them on 8000 on POSTMAN. Any suggestions?</p>\n"},{"tags":["java","groovy","jira","jira-rest-api"],"owner":{"account_id":28831087,"reputation":1,"user_id":22081489,"display_name":"Prameet Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688540633,"creation_date":1688540633,"question_id":76617817,"body_markdown":"I am trying to login to Jira REST API using PAT (Personal Access Token) , able to that with username and password but not with with PAT.\r\nCan anyone help with this.\r\n\r\nAttached my code below.\r\n\r\n```\r\ndef authString = &quot;USERNAME :PASSWORD&quot;.getBytes().encodeBase64().toString()\r\ndef subtask = new URL(&quot;JIRA_URL&quot; + jiraid).openConnection() as HttpURLConnection\r\nsubtask.setRequestMethod( &quot;GET&quot; )\r\nsubtask.setRequestProperty( &quot;Authorization&quot;, &quot;Basic &quot; + authString )\r\nsubtask.doOutput = true\r\nsubtask.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\r\ndef result = subtask.getInputStream().getText()\r\n```\r\n\r\n\r\nWith username and passwords authentication is working fine but failing with PAT.","title":"Login to JIRA Rest API using Personal Access Token in groovy","body":"<p>I am trying to login to Jira REST API using PAT (Personal Access Token) , able to that with username and password but not with with PAT.\nCan anyone help with this.</p>\n<p>Attached my code below.</p>\n<pre><code>def authString = &quot;USERNAME :PASSWORD&quot;.getBytes().encodeBase64().toString()\ndef subtask = new URL(&quot;JIRA_URL&quot; + jiraid).openConnection() as HttpURLConnection\nsubtask.setRequestMethod( &quot;GET&quot; )\nsubtask.setRequestProperty( &quot;Authorization&quot;, &quot;Basic &quot; + authString )\nsubtask.doOutput = true\nsubtask.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;)\n                                            \ndef result = subtask.getInputStream().getText()\n</code></pre>\n<p>With username and passwords authentication is working fine but failing with PAT.</p>\n"},{"tags":["java","hive","jdbctemplate"],"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1688469026,"post_id":76611657,"comment_id":135075486,"body_markdown":"Does this answer your question? [hive query can&#39;t generate result set via jdbc](https://stackoverflow.com/questions/31340332/hive-query-cant-generate-result-set-via-jdbc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31340332/hive-query-cant-generate-result-set-via-jdbc\">hive query can&#39;t generate result set via jdbc</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688469386,"post_id":76611657,"comment_id":135075578,"body_markdown":"Please add the query string to your question.","body":"Please add the query string to your question."}],"owner":{"account_id":14021967,"reputation":1036,"user_id":10127980,"display_name":"Akanksha_p"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688540452,"creation_date":1688466248,"question_id":76611657,"body_markdown":"I am using following code to fetch records from a hive table.When i run the query in query console or through impala, it returns expected data. However, using code, it&#39;s giving error. Please assume that ```validationQuery``` variable has correct query string because i am getting result when running separately. \r\n\r\n```java\r\n       try (\r\n                Connection conn = Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection();\r\n                Statement stmt = conn.createStatement()\r\n        ) {\r\n            PreparedStatement statement = conn.prepareStatement(validationQuery);\r\n            ResultSet rs = statement.executeQuery();\r\n            while(rs.next()){\r\n                log.info(rs.getString(1));\r\n                log.info(rs.getString(2));\r\n            }\r\n        }\r\n```\r\n```\r\njava.sql.SQLDataException: [Cloudera][JDBC](11300) A ResultSet was expected but not generated from query &quot;....\r\n    &quot;. Query not executed. \r\n\tat com.cloudera.impala.exceptions.ExceptionConverter.toSQLException(Unknown Source)\r\n\tat com.cloudera.impala.jdbc.common.SStatement.checkCondition(Unknown Source)\r\n\tat com.cloudera.impala.jdbc.common.SPreparedStatement.executeWithParams(Unknown Source)\r\n\tat com.cloudera.impala.jdbc.common.SPreparedStatement.executeQuery(Unknown Source)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n```\r\n\r\nFollowing is the query:\r\n```sql\r\n   with current as (\r\n    select table_name,key_column_value, attribute_name from tableA\r\n    where id= &#39;6169646831575698485&#39;\r\n),\r\nprev as (\r\nselect r.id,table_name,key_column_value, attribute_name,status,adj_request_status,value,original_value from TableA d\r\n   inner join TableR r on r.id = d.id\r\n   where date = &#39;2023-06-15&#39; and status in (&#39;PASS&#39;) \r\n   and nvl(r.Datatype,&#39;&#39;)=&#39;People&#39;\r\n   group by r.id,table_name,key_column_value, attribute_name,status,value,original_value\r\n    )\r\nselect prev.id, prev.table_name , prev.key_column_value, prev.attribute_name,value,original_value from current \r\ninner join prev on current.key_column_value = prev.key_column_value\r\nwhere current.table_name = prev.table_name\r\ngroup by prev.id, prev.table_name , prev.key_column_value, prev.attribute_name,value,original_value\r\n ```\r\n\r\nAnd so far, i&#39;ve tried these methods to capture the output:\r\n```java \r\n       List&lt;Map&lt;String, Object&gt;&gt; results = jdbcTemplate.queryForList(validationQuery);\r\n ```\r\n\r\n```java\r\n        jdbcTemplate.query(validationQuery, resultSet -&gt; {\r\n            String Id = resultSet.getString(1);\r\n            String table_name = resultSet.getString(2);\r\n            String key_column_value = resultSet.getString(3);\r\n            log.info(&quot;The following values are fetched from database&quot;);\r\n        });\r\n```\r\nBut all are giving same error message.","title":"java.sql.SQLDataException: [Cloudera][JDBC](11300) A ResultSet was expected but not generated from query","body":"<p>I am using following code to fetch records from a hive table.When i run the query in query console or through impala, it returns expected data. However, using code, it's giving error. Please assume that <code>validationQuery</code> variable has correct query string because i am getting result when running separately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>       try (\n                Connection conn = Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection();\n                Statement stmt = conn.createStatement()\n        ) {\n            PreparedStatement statement = conn.prepareStatement(validationQuery);\n            ResultSet rs = statement.executeQuery();\n            while(rs.next()){\n                log.info(rs.getString(1));\n                log.info(rs.getString(2));\n            }\n        }\n</code></pre>\n<pre><code>java.sql.SQLDataException: [Cloudera][JDBC](11300) A ResultSet was expected but not generated from query &quot;....\n    &quot;. Query not executed. \n    at com.cloudera.impala.exceptions.ExceptionConverter.toSQLException(Unknown Source)\n    at com.cloudera.impala.jdbc.common.SStatement.checkCondition(Unknown Source)\n    at com.cloudera.impala.jdbc.common.SPreparedStatement.executeWithParams(Unknown Source)\n    at com.cloudera.impala.jdbc.common.SPreparedStatement.executeQuery(Unknown Source)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n</code></pre>\n<p>Following is the query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>   with current as (\n    select table_name,key_column_value, attribute_name from tableA\n    where id= '6169646831575698485'\n),\nprev as (\nselect r.id,table_name,key_column_value, attribute_name,status,adj_request_status,value,original_value from TableA d\n   inner join TableR r on r.id = d.id\n   where date = '2023-06-15' and status in ('PASS') \n   and nvl(r.Datatype,'')='People'\n   group by r.id,table_name,key_column_value, attribute_name,status,value,original_value\n    )\nselect prev.id, prev.table_name , prev.key_column_value, prev.attribute_name,value,original_value from current \ninner join prev on current.key_column_value = prev.key_column_value\nwhere current.table_name = prev.table_name\ngroup by prev.id, prev.table_name , prev.key_column_value, prev.attribute_name,value,original_value\n</code></pre>\n<p>And so far, i've tried these methods to capture the output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>       List&lt;Map&lt;String, Object&gt;&gt; results = jdbcTemplate.queryForList(validationQuery);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>        jdbcTemplate.query(validationQuery, resultSet -&gt; {\n            String Id = resultSet.getString(1);\n            String table_name = resultSet.getString(2);\n            String key_column_value = resultSet.getString(3);\n            log.info(&quot;The following values are fetched from database&quot;);\n        });\n</code></pre>\n<p>But all are giving same error message.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":1,"creation_date":1688538859,"post_id":76617541,"comment_id":135084811,"body_markdown":"Check JVM System libraries from eclipse settings, it seems eclipse cannot locate JVM.","body":"Check JVM System libraries from eclipse settings, it seems eclipse cannot locate JVM."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1688539922,"post_id":76617541,"comment_id":135085009,"body_markdown":"Please add error messages as text to a question. Your screenshot explicitly states that the log should be checked. Error messages can be copied from there.","body":"Please add error messages as text to a question. Your screenshot explicitly states that the log should be checked. Error messages can be copied from there."}],"answers":[{"tags":[],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688540023,"creation_date":1688540023,"answer_id":76617751,"question_id":76617541,"body_markdown":"either reinstall jdk or re-downloaded a 13.0.2 JDK and copied its release file. Seems to be an issue with installation of java and maybe the release file is missing. This issue has been seen by some in some versions and distributions of jdk where the release file was missing.\r\n\r\nsource:https://github.com/microsoft/vscode-java-debug/issues/1212","title":"Facing problem while creating a project in eclipse 2023-06","body":"<p>either reinstall jdk or re-downloaded a 13.0.2 JDK and copied its release file. Seems to be an issue with installation of java and maybe the release file is missing. This issue has been seen by some in some versions and distributions of jdk where the release file was missing.</p>\n<p>source:<a href=\"https://github.com/microsoft/vscode-java-debug/issues/1212\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-java-debug/issues/1212</a></p>\n"}],"owner":{"account_id":28952986,"reputation":1,"user_id":22177125,"display_name":"DattaHimel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688540023,"creation_date":1688537897,"question_id":76617541,"body_markdown":"I have installed Eclipse 2023-06. And it shows this kind of errors while I&#39;m about to create a new project.[enter image description here](https://i.stack.imgur.com/FhkP9.png). Though I have installed and uninstalled eclipse so many times after facing this issue. I also deleted all the files regarding previous installations.\r\n\r\n\r\n\r\nplease help me to resolve this issue.","title":"Facing problem while creating a project in eclipse 2023-06","body":"<p>I have installed Eclipse 2023-06. And it shows this kind of errors while I'm about to create a new project.<a href=\"https://i.stack.imgur.com/FhkP9.png\" rel=\"nofollow noreferrer\">enter image description here</a>. Though I have installed and uninstalled eclipse so many times after facing this issue. I also deleted all the files regarding previous installations.</p>\n<p>please help me to resolve this issue.</p>\n"},{"tags":["java","testing","jmeter"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1688534890,"post_id":76617250,"comment_id":135084340,"body_markdown":"There is no such method as `new File(FileInputStream)`. Possibly you mean `new File(&quot;/path/test.jmx&quot;)`, and maybe you don&#39;t need the `FileInputStream` at all, but it&#39;s anybody&#39;s guess.","body":"There is no such method as <code>new File(FileInputStream)</code>. Possibly you mean <code>new File(&quot;&#47;path&#47;test.jmx&quot;)</code>, and maybe you don&#39;t need the <code>FileInputStream</code> at all, but it&#39;s anybody&#39;s guess."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688540151,"post_id":76617250,"comment_id":135085051,"body_markdown":"And &#39;it shows an error&#39; is not a problem description.","body":"And &#39;it shows an error&#39; is not a problem description."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688539868,"creation_date":1688539868,"answer_id":76617732,"question_id":76617250,"body_markdown":"As per [JMeter 5.6][1] the [JavaDoc states][2] \r\n\r\n&gt;public static HashTree loadTree(File file)\r\n&gt;                         throws IOException\r\n&gt;\r\n&gt;Load a Test tree (JMX file)\r\n&gt;\r\n&gt;Parameters:\r\n&gt;    file - the JMX file\r\n&gt;Returns:\r\n&gt;    the loaded tree\r\n\r\nSo it should be\r\n\r\n    File in = new java.io.File(&quot;/path/test.jmx&quot;);\r\n    HashTree testPlanTree = SaveService.loadTree(in);\r\n\r\nYou might also be interested in [JMeter DSL project][3] which provides handy API for creating JMeter test plans from Java\r\n\r\n\r\n  [1]: https://lists.apache.org/thread/yw1zgbnc106frjc9lc4pgnbgo5mjss41\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\r\n  [3]: https://www.blazemeter.com/blog/jmeter-dsl","title":"Required type: File Provided: FileInputStream while trying to run Jmeter in Java","body":"<p>As per <a href=\"https://lists.apache.org/thread/yw1zgbnc106frjc9lc4pgnbgo5mjss41\" rel=\"nofollow noreferrer\">JMeter 5.6</a> the <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\" rel=\"nofollow noreferrer\">JavaDoc states</a></p>\n<blockquote>\n<p>public static HashTree loadTree(File file)\nthrows IOException</p>\n<p>Load a Test tree (JMX file)</p>\n<p>Parameters:\nfile - the JMX file\nReturns:\nthe loaded tree</p>\n</blockquote>\n<p>So it should be</p>\n<pre><code>File in = new java.io.File(&quot;/path/test.jmx&quot;);\nHashTree testPlanTree = SaveService.loadTree(in);\n</code></pre>\n<p>You might also be interested in <a href=\"https://www.blazemeter.com/blog/jmeter-dsl\" rel=\"nofollow noreferrer\">JMeter DSL project</a> which provides handy API for creating JMeter test plans from Java</p>\n"}],"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688539868,"creation_date":1688533569,"question_id":76617250,"body_markdown":"I was trying to run Jmeter from java using the help from \r\nhttps://www.blazemeter.com/blog/jmeter-command-line\r\nIn the lines \r\n```\r\nFileInputStream in = new FileInputStream(&quot;/path/test.jmx&quot;);\r\n        HashTree testPlanTree = SaveService.loadTree(in);\r\n```\r\nBut it shows a error in loadTree that it requires type File and we have given FileInputStream, but everywhere else it runs perfectly and if I convert it to file it shows a error while trying to run.\r\n    ","title":"Required type: File Provided: FileInputStream while trying to run Jmeter in Java","body":"<p>I was trying to run Jmeter from java using the help from\n<a href=\"https://www.blazemeter.com/blog/jmeter-command-line\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/jmeter-command-line</a>\nIn the lines</p>\n<pre><code>FileInputStream in = new FileInputStream(&quot;/path/test.jmx&quot;);\n        HashTree testPlanTree = SaveService.loadTree(in);\n</code></pre>\n<p>But it shows a error in loadTree that it requires type File and we have given FileInputStream, but everywhere else it runs perfectly and if I convert it to file it shows a error while trying to run.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":6432686,"reputation":207,"user_id":4985179,"display_name":"Brijesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688539306,"creation_date":1688539306,"answer_id":76617669,"question_id":76333500,"body_markdown":"I have encountered with the same issue and I have resolved by adding &quot;/&quot; after config: import statement.\r\n\r\n    config:\r\n        import: optional:configserver:${CLOUD_CONFIG_SERVER_URL}/","title":"Spring Cloud Config - File extension is not known to any PropertySourceLoader in Openshift","body":"<p>I have encountered with the same issue and I have resolved by adding &quot;/&quot; after config: import statement.</p>\n<pre><code>config:\n    import: optional:configserver:${CLOUD_CONFIG_SERVER_URL}/\n</code></pre>\n"}],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4012,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688539306,"creation_date":1685025485,"question_id":76333500,"body_markdown":"Here is my application.yml \r\n\r\n```\r\nspring:\r\n  application:\r\n    name: app\r\n    version: @project.version@\r\n  config:\r\n    import: optional:configserver:${CLOUD_CONFIG_SERVER_URL}\r\n  cloud:\r\n    config:\r\n      uri: ${CLOUD_CONFIG_SERVER_URL}\r\n      username: ${CLOUD_CONFIG_USERNAME}\r\n      password: ${CLOUD_CONFIG_PASSWORD}\r\n      label: ${CLOUD_CONFIG_LABEL:develop}\r\n```\r\nThe dependency I&#39;m using is \r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nSpring Boot v2.4.5, Maven multi-module project. The application properties are in &#39;boot&#39; module.\r\n\r\nLocally everything is working, but in Openshift I always get: \r\n\r\n\r\n&quot;File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in &#39;/&#39;&quot;\r\n\r\nNot really sure what could be missed out.\r\n\r\n","title":"Spring Cloud Config - File extension is not known to any PropertySourceLoader in Openshift","body":"<p>Here is my application.yml</p>\n<pre><code>spring:\n  application:\n    name: app\n    version: @project.version@\n  config:\n    import: optional:configserver:${CLOUD_CONFIG_SERVER_URL}\n  cloud:\n    config:\n      uri: ${CLOUD_CONFIG_SERVER_URL}\n      username: ${CLOUD_CONFIG_USERNAME}\n      password: ${CLOUD_CONFIG_PASSWORD}\n      label: ${CLOUD_CONFIG_LABEL:develop}\n</code></pre>\n<p>The dependency I'm using is</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Spring Boot v2.4.5, Maven multi-module project. The application properties are in 'boot' module.</p>\n<p>Locally everything is working, but in Openshift I always get:</p>\n<p>&quot;File extension is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in '/'&quot;</p>\n<p>Not really sure what could be missed out.</p>\n"},{"tags":["java","sap-erp","sapjco3"],"comments":[{"owner":{"account_id":12578778,"reputation":12325,"user_id":9150270,"display_name":"Sandra Rossi"},"score":1,"creation_date":1688539103,"post_id":76616988,"comment_id":135084862,"body_markdown":"Please show how you see the &quot;Short Description&quot; in SAP ECC, the fields around, add screenshot(s) if possible., and which fields you currently get in JCo. Note that descriptions are usually language-dependent and stored in a separate table.","body":"Please show how you see the &quot;Short Description&quot; in SAP ECC, the fields around, add screenshot(s) if possible., and which fields you currently get in JCo. Note that descriptions are usually language-dependent and stored in a separate table."}],"owner":{"account_id":20412920,"reputation":67,"user_id":14975858,"display_name":"aman kumar chagti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688538969,"creation_date":1688528887,"question_id":76616988,"body_markdown":"I am trying to pull data from some tables from SAP using SAP JCo, but in the table, I am not able to pull the &quot;Short Description&quot; column using JCo. In GUI, I can see a Short Description Column with data in it.\r\n\r\nCode I am using:\r\n```\r\nJCoDestination destination = JCoDestinationManager.getDestination(&quot;SAP-ECC&quot;);\r\n\r\ndestination.ping();\r\nlogger.debug(&quot;Connected with SAP System&quot;);\r\n// Create function module call\r\nJCoFunction function = destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);\r\n\r\n// Set up function module parameters\r\nJCoParameterList imports = function.getImportParameterList();\r\nimports.setValue(&quot;QUERY_TABLE&quot;, &quot;E101&quot;);\r\nimports.setValue(&quot;DELIMITER&quot;, &quot;,&quot;);\r\n\r\nJCoParameterList tableOptions = function.getTableParameterList();\r\n\r\nJCoTable dataTable = tableOptions.getTable(&quot;DATA&quot;);\r\nJCoTable fieldsTable = tableOptions.getTable(&quot;FIELDS&quot;);\r\n// Execute the function module call\r\nfunction.execute(destination);\r\nlogger.debug(&quot;Function Executed&quot;);\r\n\r\nSystem.out.println(dataTable);\r\nSystem.out.println(fieldsTable);\r\n```","title":"Not able to pull &quot;Short Description&quot; Column from Table from SAP","body":"<p>I am trying to pull data from some tables from SAP using SAP JCo, but in the table, I am not able to pull the &quot;Short Description&quot; column using JCo. In GUI, I can see a Short Description Column with data in it.</p>\n<p>Code I am using:</p>\n<pre><code>JCoDestination destination = JCoDestinationManager.getDestination(&quot;SAP-ECC&quot;);\n\ndestination.ping();\nlogger.debug(&quot;Connected with SAP System&quot;);\n// Create function module call\nJCoFunction function = destination.getRepository().getFunction(&quot;RFC_READ_TABLE&quot;);\n\n// Set up function module parameters\nJCoParameterList imports = function.getImportParameterList();\nimports.setValue(&quot;QUERY_TABLE&quot;, &quot;E101&quot;);\nimports.setValue(&quot;DELIMITER&quot;, &quot;,&quot;);\n\nJCoParameterList tableOptions = function.getTableParameterList();\n\nJCoTable dataTable = tableOptions.getTable(&quot;DATA&quot;);\nJCoTable fieldsTable = tableOptions.getTable(&quot;FIELDS&quot;);\n// Execute the function module call\nfunction.execute(destination);\nlogger.debug(&quot;Function Executed&quot;);\n\nSystem.out.println(dataTable);\nSystem.out.println(fieldsTable);\n</code></pre>\n"},{"tags":["java","android","billing"],"owner":{"account_id":28953155,"reputation":1,"user_id":22177260,"display_name":"pwrnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688538895,"creation_date":1688538751,"question_id":76617611,"body_markdown":"Today I ran into a strange problem. Yesterday I have implemented the BIlling V6 Subscription into my App, and everything worked fine. Today, when I created a new version of my App, I had to recognize, that the PurchaseFlow Window simply does not open.\r\n\r\n\r\n     public void PurchaseFlow(){\r\n            // An activity reference from which the billing flow will be launched.\r\n\r\n        BillingClient billingClient = BillingClient.newBuilder(this)\r\n                .setListener(purchasesUpdatedListener)\r\n                .enablePendingPurchases()\r\n                .build();\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(BillingResult billingResult) {\r\n                Log.e(&quot;RemoveAds&quot;, &quot;setupfinished&quot;);\r\n                if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\r\n                    // The BillingClient is ready. You can query purchases here.\r\n                    QueryProductDetailsParams queryProductDetailsParams =\r\n                            QueryProductDetailsParams.newBuilder()\r\n                                    .setProductList(\r\n                                            ImmutableList.of(\r\n                                                    QueryProductDetailsParams.Product.newBuilder()\r\n                                                            .setProductId(&quot;cheatr.primem&quot;)\r\n                                                            .setProductType(BillingClient.ProductType.SUBS)\r\n                                                            .build()))\r\n                                    .build();\r\n                    billingClient.queryProductDetailsAsync(\r\n                            queryProductDetailsParams,\r\n                            new ProductDetailsResponseListener() {\r\n                                public void onProductDetailsResponse(BillingResult billingResult,\r\n                                                                     List&lt;ProductDetails&gt; productDetailsList) {\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;onProductDetailsResponse callback triggered&quot;);\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;ProductDetailsList size: &quot; + productDetailsList.size());\r\n                                    String productListString = productDetailsList.toString();\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Product Details List PFLOW: &quot; + productListString);\r\n                                    ProductDetails details = productDetailsList.get(0);\r\n                                    SubscriptionPrice = details.getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(1).getFormattedPrice();\r\n                                    selofferToken = details.getSubscriptionOfferDetails().get(0).getOfferToken();\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Subprice: &quot;\r\n                                            + SubscriptionPrice);\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;SelofferToken: &quot;\r\n                                            + selofferToken);\r\n                                    finalizedproddetails = details;\r\n                                    Log.e(&quot;RemoveAds&quot;, &quot;FinalizedDetails: &quot;\r\n                                            + finalizedproddetails);\r\n\r\n                                    if(billingClient != null) {\r\n                                        ImmutableList productDetailsParamsList =\r\n                                                ImmutableList.of(\r\n                                                        BillingFlowParams.ProductDetailsParams.newBuilder()\r\n                                                                // retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\r\n                                                                .setProductDetails(finalizedproddetails)\r\n                                                                // to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\r\n                                                                // for a list of offers that are available to the user\r\n                                                                .setOfferToken(selofferToken)\r\n                                                                .build()\r\n                                                );\r\n\r\n                                        BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n                                                .setProductDetailsParamsList(productDetailsParamsList)\r\n                                                .build();\r\n\r\n                                        billingResult = billingClient.launchBillingFlow(MainActivity.this, billingFlowParams);\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;Billingresponse: &quot;\r\n                                                + billingResult);\r\n                                    }\r\n                                    else{\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;Client not Ready !!!&quot;);\r\n                                    }\r\n                                }\r\n                            }\r\n                    );\r\n                }\r\n            }\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                // Try to restart the connection on the next request to\r\n                // Google Play by calling the startConnection() method.\r\n            }\r\n        });\r\n\r\n// Launch the billing flow\r\n    }`\r\n\r\nMoreover, the SubscriptionPrice of my Product is just null and does not show in my Log either, even though the SubscriptionDetailslIst is not empty and appears normal. All has worked yesterday and it still works in Debug Mode, but when I create an Internal Test, it stops working. Has anybody ever had a problem like that? I just don&#39;t understand why it works in Debug and in Release not.\r\nThank you in advance!\r\n\r\n    ` public void initSubscription(){\r\n            Log.e(&quot;RemoveAds&quot;, &quot;initsubscription&quot;);\r\n            BillingClient billingClient = BillingClient.newBuilder(this)\r\n                    .setListener(purchasesUpdatedListener)\r\n                    .enablePendingPurchases()\r\n                    .build();\r\n            billingClient.startConnection(new BillingClientStateListener() {\r\n                @Override\r\n                public void onBillingSetupFinished(BillingResult billingResult) {\r\n                    Log.e(&quot;RemoveAds&quot;, &quot;setupfinished&quot;);\r\n                    if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\r\n                        // The BillingClient is ready. You can query purchases here.\r\n                        QueryProductDetailsParams queryProductDetailsParams =\r\n                                QueryProductDetailsParams.newBuilder()\r\n                                        .setProductList(\r\n                                                ImmutableList.of(\r\n                                                        QueryProductDetailsParams.Product.newBuilder()\r\n                                                                .setProductId(&quot;cheatr.primem&quot;)\r\n                                                                .setProductType(BillingClient.ProductType.SUBS)\r\n                                                                .build()))\r\n                                        .build();\r\n                        getPurchasedHistory();\r\n                        billingClient.queryProductDetailsAsync(\r\n                                queryProductDetailsParams,\r\n                                new ProductDetailsResponseListener() {\r\n                                    public void onProductDetailsResponse(BillingResult billingResult,\r\n                                                                         List&lt;ProductDetails&gt; productDetailsList) {\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;onProductDetailsResponse callback triggered&quot;);\r\n    \r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;ProductDetailsList size: &quot; + productDetailsList.size());\r\n                                        String productListString = productDetailsList.toString();\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;Product Details List of INIT: &quot; + productListString);\r\n                                        ProductDetails details = productDetailsList.get(0);\r\n                                        SubscriptionPrice = details.getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(1).getFormattedPrice();\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;SubPRICE INIT:&quot; + SubscriptionPrice);\r\n    \r\n                                        selofferToken = details.getSubscriptionOfferDetails().get(0).getOfferToken();\r\n                                        Log.e(&quot;RemoveAds&quot;, &quot;Subprice: &quot;\r\n                                                   + SubscriptionPrice);\r\n                                        finalizedproddetails = details;\r\n                                    }\r\n                                }\r\n                        );\r\n                    }\r\n                }\r\n                @Override\r\n                public void onBillingServiceDisconnected() {\r\n                    // Try to restart the connection on the next request to\r\n                    // Google Play by calling the startConnection() method.\r\n                }\r\n            });\r\n        }`\r\n   ","title":"Google Play Billing V6 Purchase Flow does not open","body":"<p>Today I ran into a strange problem. Yesterday I have implemented the BIlling V6 Subscription into my App, and everything worked fine. Today, when I created a new version of my App, I had to recognize, that the PurchaseFlow Window simply does not open.</p>\n<pre><code> public void PurchaseFlow(){\n        // An activity reference from which the billing flow will be launched.\n\n    BillingClient billingClient = BillingClient.newBuilder(this)\n            .setListener(purchasesUpdatedListener)\n            .enablePendingPurchases()\n            .build();\n    billingClient.startConnection(new BillingClientStateListener() {\n        @Override\n        public void onBillingSetupFinished(BillingResult billingResult) {\n            Log.e(&quot;RemoveAds&quot;, &quot;setupfinished&quot;);\n            if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\n                // The BillingClient is ready. You can query purchases here.\n                QueryProductDetailsParams queryProductDetailsParams =\n                        QueryProductDetailsParams.newBuilder()\n                                .setProductList(\n                                        ImmutableList.of(\n                                                QueryProductDetailsParams.Product.newBuilder()\n                                                        .setProductId(&quot;cheatr.primem&quot;)\n                                                        .setProductType(BillingClient.ProductType.SUBS)\n                                                        .build()))\n                                .build();\n                billingClient.queryProductDetailsAsync(\n                        queryProductDetailsParams,\n                        new ProductDetailsResponseListener() {\n                            public void onProductDetailsResponse(BillingResult billingResult,\n                                                                 List&lt;ProductDetails&gt; productDetailsList) {\n                                Log.e(&quot;RemoveAds&quot;, &quot;onProductDetailsResponse callback triggered&quot;);\n                                Log.e(&quot;RemoveAds&quot;, &quot;ProductDetailsList size: &quot; + productDetailsList.size());\n                                String productListString = productDetailsList.toString();\n                                Log.e(&quot;RemoveAds&quot;, &quot;Product Details List PFLOW: &quot; + productListString);\n                                ProductDetails details = productDetailsList.get(0);\n                                SubscriptionPrice = details.getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(1).getFormattedPrice();\n                                selofferToken = details.getSubscriptionOfferDetails().get(0).getOfferToken();\n                                Log.e(&quot;RemoveAds&quot;, &quot;Subprice: &quot;\n                                        + SubscriptionPrice);\n                                Log.e(&quot;RemoveAds&quot;, &quot;SelofferToken: &quot;\n                                        + selofferToken);\n                                finalizedproddetails = details;\n                                Log.e(&quot;RemoveAds&quot;, &quot;FinalizedDetails: &quot;\n                                        + finalizedproddetails);\n\n                                if(billingClient != null) {\n                                    ImmutableList productDetailsParamsList =\n                                            ImmutableList.of(\n                                                    BillingFlowParams.ProductDetailsParams.newBuilder()\n                                                            // retrieve a value for &quot;productDetails&quot; by calling queryProductDetailsAsync()\n                                                            .setProductDetails(finalizedproddetails)\n                                                            // to get an offer token, call ProductDetails.getSubscriptionOfferDetails()\n                                                            // for a list of offers that are available to the user\n                                                            .setOfferToken(selofferToken)\n                                                            .build()\n                                            );\n\n                                    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n                                            .setProductDetailsParamsList(productDetailsParamsList)\n                                            .build();\n\n                                    billingResult = billingClient.launchBillingFlow(MainActivity.this, billingFlowParams);\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Billingresponse: &quot;\n                                            + billingResult);\n                                }\n                                else{\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Client not Ready !!!&quot;);\n                                }\n                            }\n                        }\n                );\n            }\n        }\n        @Override\n        public void onBillingServiceDisconnected() {\n            // Try to restart the connection on the next request to\n            // Google Play by calling the startConnection() method.\n        }\n    });\n</code></pre>\n<p>// Launch the billing flow\n}`</p>\n<p>Moreover, the SubscriptionPrice of my Product is just null and does not show in my Log either, even though the SubscriptionDetailslIst is not empty and appears normal. All has worked yesterday and it still works in Debug Mode, but when I create an Internal Test, it stops working. Has anybody ever had a problem like that? I just don't understand why it works in Debug and in Release not.\nThank you in advance!</p>\n<pre><code>` public void initSubscription(){\n        Log.e(&quot;RemoveAds&quot;, &quot;initsubscription&quot;);\n        BillingClient billingClient = BillingClient.newBuilder(this)\n                .setListener(purchasesUpdatedListener)\n                .enablePendingPurchases()\n                .build();\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(BillingResult billingResult) {\n                Log.e(&quot;RemoveAds&quot;, &quot;setupfinished&quot;);\n                if (billingResult.getResponseCode() ==  BillingClient.BillingResponseCode.OK) {\n                    // The BillingClient is ready. You can query purchases here.\n                    QueryProductDetailsParams queryProductDetailsParams =\n                            QueryProductDetailsParams.newBuilder()\n                                    .setProductList(\n                                            ImmutableList.of(\n                                                    QueryProductDetailsParams.Product.newBuilder()\n                                                            .setProductId(&quot;cheatr.primem&quot;)\n                                                            .setProductType(BillingClient.ProductType.SUBS)\n                                                            .build()))\n                                    .build();\n                    getPurchasedHistory();\n                    billingClient.queryProductDetailsAsync(\n                            queryProductDetailsParams,\n                            new ProductDetailsResponseListener() {\n                                public void onProductDetailsResponse(BillingResult billingResult,\n                                                                     List&lt;ProductDetails&gt; productDetailsList) {\n                                    Log.e(&quot;RemoveAds&quot;, &quot;onProductDetailsResponse callback triggered&quot;);\n\n                                    Log.e(&quot;RemoveAds&quot;, &quot;ProductDetailsList size: &quot; + productDetailsList.size());\n                                    String productListString = productDetailsList.toString();\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Product Details List of INIT: &quot; + productListString);\n                                    ProductDetails details = productDetailsList.get(0);\n                                    SubscriptionPrice = details.getSubscriptionOfferDetails().get(0).getPricingPhases().getPricingPhaseList().get(1).getFormattedPrice();\n                                    Log.e(&quot;RemoveAds&quot;, &quot;SubPRICE INIT:&quot; + SubscriptionPrice);\n\n                                    selofferToken = details.getSubscriptionOfferDetails().get(0).getOfferToken();\n                                    Log.e(&quot;RemoveAds&quot;, &quot;Subprice: &quot;\n                                               + SubscriptionPrice);\n                                    finalizedproddetails = details;\n                                }\n                            }\n                    );\n                }\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                // Try to restart the connection on the next request to\n                // Google Play by calling the startConnection() method.\n            }\n        });\n    }`\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9664,"page":328,"page_size":100}
