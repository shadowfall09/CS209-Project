{"items":[{"tags":["java","algorithm","data-structures"],"answers":[{"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"Šimon Koc&#250;rek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688494879,"creation_date":1688494879,"answer_id":76615066,"question_id":76614958,"body_markdown":"It is **not**.\r\n\r\nIt&#39;s an iteration that is using **all** the results up to the start of the array, so the window of results &quot;does **not** slide&quot;.","title":"Why is this sliding window?","body":"<p>It is <strong>not</strong>.</p>\n<p>It's an iteration that is using <strong>all</strong> the results up to the start of the array, so the window of results &quot;does <strong>not</strong> slide&quot;.</p>\n"},{"comments":[{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":1,"creation_date":1688549411,"post_id":76615251,"comment_id":135086856,"body_markdown":"Ah, negative values are something I didn&#39;t consider fully.","body":"Ah, negative values are something I didn&#39;t consider fully."},{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":0,"creation_date":1688596579,"post_id":76615251,"comment_id":135096498,"body_markdown":"And the question stipulates that &quot;A subarray is a contiguous non-empty sequence of elements within an array,&quot; so those empty arrays wouldn&#39;t be needed in this case","body":"And the question stipulates that &quot;A subarray is a contiguous non-empty sequence of elements within an array,&quot; so those empty arrays wouldn&#39;t be needed in this case"},{"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"score":0,"creation_date":1688597175,"post_id":76615251,"comment_id":135096549,"body_markdown":"One more -- the idea that it calls get() with key of sum-k but calls put() with key of sum is hard to wrap my head around. fun trying tho lol","body":"One more -- the idea that it calls get() with key of sum-k but calls put() with key of sum is hard to wrap my head around. fun trying tho lol"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1688613953,"post_id":76615251,"comment_id":135097958,"body_markdown":"Right, I should not have mentioned empty subarrays -- I updated that. `put()` is intended to register the current running sum. `get(sum - k)` retrieves at how many indexes the running sum has been `sum - k`, because any sub arrays that start after those indices and end at the current index, will have a total of `k`. (`sum - (sum - k) == k`)","body":"Right, I should not have mentioned empty subarrays -- I updated that. <code>put()</code> is intended to register the current running sum. <code>get(sum - k)</code> retrieves at how many indexes the running sum has been <code>sum - k</code>, because any sub arrays that start after those indices and end at the current index, will have a total of <code>k</code>. (<code>sum - (sum - k) == k</code>)"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688613682,"creation_date":1688496905,"answer_id":76615251,"question_id":76614958,"body_markdown":"&gt; part of the strategy is that map stores sums as keys, all with values of 1.\r\n\r\nYes, that would be true if the input numbers are all **positive** numbers. But realise that the input values may be negative. This scenario is not presented in the two examples that are given, so let me give you one:\r\n\r\n```\r\nInput: nums = [1, -1, 1, -1, 1, -1], k = 0\r\nOutput: 9\r\n```\r\n\r\nThe sub arrays that are counted, can be represented as follows:\r\n\r\n```\r\n[1, -1]                  // 1 that has its last element at index 1\r\n   [-1, 1]               // 1 that has its last element at index 2\r\n[1, -1, 1, -1]           // 2 that have their last elements at index 3\r\n       [1, -1] \r\n   [-1, 1, -1, 1]        // 2 that have their last elements at index 4\r\n          [-1, 1]\r\n[1, -1, 1, -1, 1, -1]    // 3 that have their last elements at index 5\r\n       [1, -1, 1, -1]\r\n              [1, -1]\r\n```\r\n\r\nAs there are many overlapping sub arrays that sum up to 0, the map becomes useful: for each value of the running sum, it has an entry that gives the number of sub arrays so far that have that same sum.\r\n\r\nWe can monitor the evolution of the map (and the sum and result) for this example:\r\n\r\n| i           | sum | sum - k | get from map | result | put in map | map\r\n| ----------- | --- | ------- | ------------ | -----  | ---------- | --\r\n| before loop | 0   | --      | --           | 0      | `put(0, 1)`| `{ 0: 1 }`\r\n| 0           | 1   | 1       | --           | 0      | `put(1, 1)`| `{ 0: 1, 1: 1 }`\r\n| 1           | 0   | 0       | `get(0)` → 1 | 1      | `put(0, 2)`| `{ 0: 2, 1: 1 }`\r\n| 2           | 1   | 1       | `get(1)` → 1 | 2      | `put(1, 2)`| `{ 0: 2, 1: 2 }`\r\n| 3           | 0   | 0       | `get(0)` → 2 | 4      | `put(0, 3)`| `{ 0: 3, 1: 2 }`\r\n| 4           | 1   | 1       | `get(1)` → 2 | 6      | `put(1, 3)`| `{ 0: 3, 1: 3 }`\r\n| 5           | 0   | 0       | `get(0)` → 3 | 9      | `put(0, 4)`| `{ 0: 4, 1: 3 }`\r\n\r\nI wouldn&#39;t call this a *sliding window* algorithm though.","title":"Why is this sliding window?","body":"<blockquote>\n<p>part of the strategy is that map stores sums as keys, all with values of 1.</p>\n</blockquote>\n<p>Yes, that would be true if the input numbers are all <strong>positive</strong> numbers. But realise that the input values may be negative. This scenario is not presented in the two examples that are given, so let me give you one:</p>\n<pre><code>Input: nums = [1, -1, 1, -1, 1, -1], k = 0\nOutput: 9\n</code></pre>\n<p>The sub arrays that are counted, can be represented as follows:</p>\n<pre><code>[1, -1]                  // 1 that has its last element at index 1\n   [-1, 1]               // 1 that has its last element at index 2\n[1, -1, 1, -1]           // 2 that have their last elements at index 3\n       [1, -1] \n   [-1, 1, -1, 1]        // 2 that have their last elements at index 4\n          [-1, 1]\n[1, -1, 1, -1, 1, -1]    // 3 that have their last elements at index 5\n       [1, -1, 1, -1]\n              [1, -1]\n</code></pre>\n<p>As there are many overlapping sub arrays that sum up to 0, the map becomes useful: for each value of the running sum, it has an entry that gives the number of sub arrays so far that have that same sum.</p>\n<p>We can monitor the evolution of the map (and the sum and result) for this example:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>i</th>\n<th>sum</th>\n<th>sum - k</th>\n<th>get from map</th>\n<th>result</th>\n<th>put in map</th>\n<th>map</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>before loop</td>\n<td>0</td>\n<td>--</td>\n<td>--</td>\n<td>0</td>\n<td><code>put(0, 1)</code></td>\n<td><code>{ 0: 1 }</code></td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>--</td>\n<td>0</td>\n<td><code>put(1, 1)</code></td>\n<td><code>{ 0: 1, 1: 1 }</code></td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code> → 1</td>\n<td>1</td>\n<td><code>put(0, 2)</code></td>\n<td><code>{ 0: 2, 1: 1 }</code></td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td><code>get(1)</code> → 1</td>\n<td>2</td>\n<td><code>put(1, 2)</code></td>\n<td><code>{ 0: 2, 1: 2 }</code></td>\n</tr>\n<tr>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code> → 2</td>\n<td>4</td>\n<td><code>put(0, 3)</code></td>\n<td><code>{ 0: 3, 1: 2 }</code></td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>1</td>\n<td><code>get(1)</code> → 2</td>\n<td>6</td>\n<td><code>put(1, 3)</code></td>\n<td><code>{ 0: 3, 1: 3 }</code></td>\n</tr>\n<tr>\n<td>5</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code> → 3</td>\n<td>9</td>\n<td><code>put(0, 4)</code></td>\n<td><code>{ 0: 4, 1: 3 }</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I wouldn't call this a <em>sliding window</em> algorithm though.</p>\n"},{"tags":[],"owner":{"account_id":17386577,"reputation":3141,"user_id":12597781,"display_name":"Christopher Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688496937,"creation_date":1688496937,"answer_id":76615253,"question_id":76614958,"body_markdown":"This is not a sliding window. This is to prefix sums - you store the prefix sums in a Map so that you can check if a certain subarray has the desired sum.","title":"Why is this sliding window?","body":"<p>This is not a sliding window. This is to prefix sums - you store the prefix sums in a Map so that you can check if a certain subarray has the desired sum.</p>\n"}],"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615251,"answer_count":3,"score":0,"last_activity_date":1688613682,"creation_date":1688493670,"question_id":76614958,"body_markdown":"https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/\r\n\r\nI don&#39;t understand the strategy here. The answer below is listed in the category of &#39;sliding window&#39;. I understand what that is, but how does this solution implement that? With sliding window, I&#39;d expect sum to be re-initialized to zero at some point, but it&#39;s not here. \r\n\r\nTo me, at least part of the strategy is that map stores sums as keys, all with values of 1. If a sum-k key is present, increment result with key&#39;s value. Be that true or not, i don&#39;t understand the condition with which result is incremented.\r\n\r\nCan someone please explain? \r\n\r\n    public int subarraySum(int[] nums, int k) {\r\n        int sum = 0, result = 0;\r\n        Map&lt;Integer, Integer&gt; preSum = new HashMap&lt;&gt;();\r\n        preSum.put(0, 1);\r\n        \r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            sum += nums[i];\r\n            if (preSum.containsKey(sum - k)) {\r\n                result += preSum.get(sum - k);\r\n            }\r\n            preSum.put(sum, preSum.getOrDefault(sum, 0) + 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Why is this sliding window?","body":"<p><a href=\"https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/</a></p>\n<p>I don't understand the strategy here. The answer below is listed in the category of 'sliding window'. I understand what that is, but how does this solution implement that? With sliding window, I'd expect sum to be re-initialized to zero at some point, but it's not here.</p>\n<p>To me, at least part of the strategy is that map stores sums as keys, all with values of 1. If a sum-k key is present, increment result with key's value. Be that true or not, i don't understand the condition with which result is incremented.</p>\n<p>Can someone please explain?</p>\n<pre><code>public int subarraySum(int[] nums, int k) {\n    int sum = 0, result = 0;\n    Map&lt;Integer, Integer&gt; preSum = new HashMap&lt;&gt;();\n    preSum.put(0, 1);\n    \n    for (int i = 0; i &lt; nums.length; i++) {\n        sum += nums[i];\n        if (preSum.containsKey(sum - k)) {\n            result += preSum.get(sum - k);\n        }\n        preSum.put(sum, preSum.getOrDefault(sum, 0) + 1);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","documentfilter"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688598735,"post_id":76624048,"comment_id":135096681,"body_markdown":"You should write a set of unit tests","body":"You should write a set of unit tests"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688614383,"post_id":76624048,"comment_id":135098001,"body_markdown":"*I may not have a complete grasp on what FilterBypass does or represents.* - me either. I would suggest you could just use `super.replace(...)` to update the Document. Then just use your `super.remove(...)` to remove excess digits. There would be no need to use the `insertString(...)` method.","body":"<i>I may not have a complete grasp on what FilterBypass does or represents.</i> - me either. I would suggest you could just use <code>super.replace(...)</code> to update the Document. Then just use your <code>super.remove(...)</code> to remove excess digits. There would be no need to use the <code>insertString(...)</code> method."}],"answers":[{"comments":[{"owner":{"account_id":15312943,"reputation":51,"user_id":11047692,"display_name":"R. K&#229;bis"},"score":0,"creation_date":1688760965,"post_id":76624772,"comment_id":135122111,"body_markdown":"Thanks for that link! Problem: I cannot extend the JTextField due to internal/project limitations. I am trying to implement this entirely through an external `extends DocumentFilter` class. Still, looking into this to see if I can adapt it to my needs.","body":"Thanks for that link! Problem: I cannot extend the JTextField due to internal/project limitations. I am trying to implement this entirely through an external <code>extends DocumentFilter</code> class. Still, looking into this to see if I can adapt it to my needs."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688767380,"post_id":76624772,"comment_id":135122874,"body_markdown":"Don&#39;t know that you really need to extend JTextField. It was just a convenient way to set the properties of the text field.","body":"Don&#39;t know that you really need to extend JTextField. It was just a convenient way to set the properties of the text field."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688613404,"creation_date":1688602529,"answer_id":76624772,"question_id":76624048,"body_markdown":"Check out: https://stackoverflow.com/a/44207361/131872 for an example that might get you started.\r\n\r\nThe code as posted will:\r\n\r\n1. only allow you to enter digits on the right\r\n2. allow you to enter unlimited number of digits.\r\n\r\nThe example uses a `StringBuffer` to build the text to insert into the `Document`.\r\n\r\nIt is not exactly what you want but I think you can use its concepts to implement your requirement.\r\n\r\nFirst test the code as is to understand how it works. You would use:\r\n\r\n    DecimalFormat format = new DecimalFormat(&quot;000&quot;);\r\n\r\nto provide default formatting with leading zeros.\r\n\r\nThen, to limit the digits entered, you can remove the excess digits in the StringBuffer in the `replace(...)` method:\r\n\r\n    sb.append(str);\r\n    \r\n    if (sb.length() &gt; 3)\r\n    \tsb.delete(0, sb.length() - 3);\r\n\r\nOther changes you will need to make:\r\n\r\n1. you don&#39;t need the &quot;decimal point&quot; logic\r\n2. you want the ability to insert characters at any point in the string. You will need to change the `sb.append(...)` logic.\r\n\r\nI haven&#39;t tested it but I assume you can just use:\r\n\r\n    sb.insert(offs, str);\r\n","title":"JTextField and DocumentFilter: how to limit document length by having extra characters drop off the end of the string","body":"<p>Check out: <a href=\"https://stackoverflow.com/a/44207361/131872\">https://stackoverflow.com/a/44207361/131872</a> for an example that might get you started.</p>\n<p>The code as posted will:</p>\n<ol>\n<li>only allow you to enter digits on the right</li>\n<li>allow you to enter unlimited number of digits.</li>\n</ol>\n<p>The example uses a <code>StringBuffer</code> to build the text to insert into the <code>Document</code>.</p>\n<p>It is not exactly what you want but I think you can use its concepts to implement your requirement.</p>\n<p>First test the code as is to understand how it works. You would use:</p>\n<pre><code>DecimalFormat format = new DecimalFormat(&quot;000&quot;);\n</code></pre>\n<p>to provide default formatting with leading zeros.</p>\n<p>Then, to limit the digits entered, you can remove the excess digits in the StringBuffer in the <code>replace(...)</code> method:</p>\n<pre><code>sb.append(str);\n\nif (sb.length() &gt; 3)\n    sb.delete(0, sb.length() - 3);\n</code></pre>\n<p>Other changes you will need to make:</p>\n<ol>\n<li>you don't need the &quot;decimal point&quot; logic</li>\n<li>you want the ability to insert characters at any point in the string. You will need to change the <code>sb.append(...)</code> logic.</li>\n</ol>\n<p>I haven't tested it but I assume you can just use:</p>\n<pre><code>sb.insert(offs, str);\n</code></pre>\n"}],"owner":{"account_id":15312943,"reputation":51,"user_id":11047692,"display_name":"R. K&#229;bis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688613404,"creation_date":1688591290,"question_id":76624048,"body_markdown":"I have been looking through a lot of DocumentFilter examples, and have realized that my needs are a bit unusual:\r\n\r\n* Three characters, maximum\r\n* Only digits, 0-9, nothing else\r\n* Automatically zero-filled to the left\r\n\r\nAnd it’s these three requirements _together_ that I am having problems with, particularly the maximum length issue.\r\n\r\nMost examples I have seen simply stop extra characters from being added, usually with a system beep. But I cannot _prevent_ characters from being added, because with the very first numerical character, the entire string will get zero-filled. So adding another two numbers would be a no-go if the objective of the code is to prevent additional characters from being entered once the string hits maximum length, because even with the first number there will be two zeros added in front of it.\r\n\r\nIn my case, that zero-filled content needs to drop off the left side of the string. And this can continue even if the user continues adding numbers - any character which is in the fourth (or more) position _from the right_ needs to be disposed of. The problem is, the numbers dropping off are (likely) the ones in the document, and _not_ the ones being added.\r\n\r\nFrom what I understand, the sequence of actions I need to complete is as follows:\r\n\r\n1. Grab the inserted/added content\r\n2. Filter out/replace non-numerical content (as desired)\r\n3. Call the original content (from the document)\r\n4. Insert the new content into the original content\r\n5. Hold this content temporarily (outside of the document)\r\n6. Trim or pad the temporary content appropriately, depending on length\r\n7. Wipe the document entirely\r\n8. Add the entire temporary content to the document\r\n\r\nBecause the trim/pad occurs on the _entire content_ and not just the newly-added content, we need to do this on the entire document. We cannot do this to only the characters that have been added or pasted into the document.\r\n\r\nRight now, my best attempt is as follows:\r\n\r\n    @Override\r\n    public void replace( FilterBypass fb\r\n            , int offset\r\n            , int length\r\n            , String text\r\n            , AttributeSet attributes ) throws BadLocationException {\r\n        int editedLength = fb.getDocument().getLength() + text.length();\r\n        int exceedsLength = editedLength - maxLength;\r\n        String content = sanitizeNumeric( text.trim() );\r\n\r\n        // Temporarily update the document\r\n        fb.replace( offset\r\n                , length\r\n                , content\r\n                , attributes );\r\n\r\n        // If the document exceeds the maximum allowable length, trim it.\r\n        if ( exceedsLength &gt; 0 ) {\r\n            String fullString = fb.getDocument().getText( 0, editedLength - 1 );\r\n            String trimmedString = trimSide( fullString, exceedsLength );\r\n\r\n            // Clear the original document - essentially, everything in the JTextField\r\n            super.remove( fb\r\n                    , 0\r\n                    , editedLength - 1 );\r\n\r\n            // Overwrite with the temporary padded/trimmed document\r\n            super.insertString( fb\r\n                    , 0\r\n                    , trimmedString\r\n                    , attributes);\r\n        }\r\n    }\r\n\r\nMy issue occurs in the lower half - when doing the `fb.replace`, is the `fb.getDocument().getText( 0, editedLength - 1 );` further down accessing this new, combined document, or is it accessing the old document that does not have the newly-entered characters?\r\n\r\nPlease note that this does not yet have the zero-fill padding, I am just trying to hash it out such that a fourth character entered anywhere in the document causes the left-hand-most character to drop off of the document. I am not trying to prevent a fourth character from being added, only that its addition bumps everything left to it over, and bumps the one furthest left clear off of the document.\r\n\r\nTL;DR: I may not have a complete grasp on what `FilterBypass` does or represents.","title":"JTextField and DocumentFilter: how to limit document length by having extra characters drop off the end of the string","body":"<p>I have been looking through a lot of DocumentFilter examples, and have realized that my needs are a bit unusual:</p>\n<ul>\n<li>Three characters, maximum</li>\n<li>Only digits, 0-9, nothing else</li>\n<li>Automatically zero-filled to the left</li>\n</ul>\n<p>And it’s these three requirements <em>together</em> that I am having problems with, particularly the maximum length issue.</p>\n<p>Most examples I have seen simply stop extra characters from being added, usually with a system beep. But I cannot <em>prevent</em> characters from being added, because with the very first numerical character, the entire string will get zero-filled. So adding another two numbers would be a no-go if the objective of the code is to prevent additional characters from being entered once the string hits maximum length, because even with the first number there will be two zeros added in front of it.</p>\n<p>In my case, that zero-filled content needs to drop off the left side of the string. And this can continue even if the user continues adding numbers - any character which is in the fourth (or more) position <em>from the right</em> needs to be disposed of. The problem is, the numbers dropping off are (likely) the ones in the document, and <em>not</em> the ones being added.</p>\n<p>From what I understand, the sequence of actions I need to complete is as follows:</p>\n<ol>\n<li>Grab the inserted/added content</li>\n<li>Filter out/replace non-numerical content (as desired)</li>\n<li>Call the original content (from the document)</li>\n<li>Insert the new content into the original content</li>\n<li>Hold this content temporarily (outside of the document)</li>\n<li>Trim or pad the temporary content appropriately, depending on length</li>\n<li>Wipe the document entirely</li>\n<li>Add the entire temporary content to the document</li>\n</ol>\n<p>Because the trim/pad occurs on the <em>entire content</em> and not just the newly-added content, we need to do this on the entire document. We cannot do this to only the characters that have been added or pasted into the document.</p>\n<p>Right now, my best attempt is as follows:</p>\n<pre><code>@Override\npublic void replace( FilterBypass fb\n        , int offset\n        , int length\n        , String text\n        , AttributeSet attributes ) throws BadLocationException {\n    int editedLength = fb.getDocument().getLength() + text.length();\n    int exceedsLength = editedLength - maxLength;\n    String content = sanitizeNumeric( text.trim() );\n\n    // Temporarily update the document\n    fb.replace( offset\n            , length\n            , content\n            , attributes );\n\n    // If the document exceeds the maximum allowable length, trim it.\n    if ( exceedsLength &gt; 0 ) {\n        String fullString = fb.getDocument().getText( 0, editedLength - 1 );\n        String trimmedString = trimSide( fullString, exceedsLength );\n\n        // Clear the original document - essentially, everything in the JTextField\n        super.remove( fb\n                , 0\n                , editedLength - 1 );\n\n        // Overwrite with the temporary padded/trimmed document\n        super.insertString( fb\n                , 0\n                , trimmedString\n                , attributes);\n    }\n}\n</code></pre>\n<p>My issue occurs in the lower half - when doing the <code>fb.replace</code>, is the <code>fb.getDocument().getText( 0, editedLength - 1 );</code> further down accessing this new, combined document, or is it accessing the old document that does not have the newly-entered characters?</p>\n<p>Please note that this does not yet have the zero-fill padding, I am just trying to hash it out such that a fourth character entered anywhere in the document causes the left-hand-most character to drop off of the document. I am not trying to prevent a fourth character from being added, only that its addition bumps everything left to it over, and bumps the one furthest left clear off of the document.</p>\n<p>TL;DR: I may not have a complete grasp on what <code>FilterBypass</code> does or represents.</p>\n"},{"tags":["java","bouncycastle","aes-gcm"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639476397,"creation_date":1639469223,"answer_id":70345598,"question_id":70345404,"body_markdown":"The length of the GCM tag used here is not 32, but 16 bytes.\r\n\r\nFurthermore, the BC provider expects ciphertext and tag in concatenated form (ciphertext|tag). \r\n\r\nAnd you have to hex decode key, IV, ciphertext and tag. Since you are running BouncyCastle, you can use `org.bouncycastle.util.encoders.Hex.decode(...)`. \r\n\r\nOverall:\r\n\r\n```java\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\npublic static final int GCM_TAG_LENGTH = 16;\r\n...\t\r\nSecretKeySpec secretKey = new SecretKeySpec(Hex.decode(key), &quot;AES&quot;);\r\nSystem.out.println(decrypt(Hex.decode(input + GCMTag), secretKey, Hex.decode(IV))); // 985\r\n```\r\n\r\n----------\r\n\r\nIt is not clear from your code whether you are using a static IV/nonce. If so, you should be aware that using a static IV/nonce for GCM is a serious problem, s. e.g. [here][1].&lt;br&gt;\r\nInstead, for each encryption, a random (non-secret) IV/nonce is generated, concatenated with the ciphertext (and tag), and sent together to the decrypting side, which can separate the IV/nonce based on the known IV/nonce size (12 bytes for GCM).\r\n\r\n---------\r\n\r\nAES/GCM is also supported by the SunJCE provider (at least as of Java 8, s. e.g. [here][3]), so you may not need BouncyCastle. For hex decoding you can then use a solution from [this post][2]. Starting with Java 17 there is a built-in support.\r\n\r\n[1]: https://crypto.stackexchange.com/q/26790\r\n[2]: https://stackoverflow.com/q/140131/9014097\r\n[3]: https://stackoverflow.com/q/37431211/9014097\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>The length of the GCM tag used here is not 32, but 16 bytes.</p>\n<p>Furthermore, the BC provider expects ciphertext and tag in concatenated form (ciphertext|tag).</p>\n<p>And you have to hex decode key, IV, ciphertext and tag. Since you are running BouncyCastle, you can use <code>org.bouncycastle.util.encoders.Hex.decode(...)</code>.</p>\n<p>Overall:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.util.encoders.Hex;\n...\npublic static final int GCM_TAG_LENGTH = 16;\n... \nSecretKeySpec secretKey = new SecretKeySpec(Hex.decode(key), &quot;AES&quot;);\nSystem.out.println(decrypt(Hex.decode(input + GCMTag), secretKey, Hex.decode(IV))); // 985\n</code></pre>\n<hr />\n<p>It is not clear from your code whether you are using a static IV/nonce. If so, you should be aware that using a static IV/nonce for GCM is a serious problem, s. e.g. <a href=\"https://crypto.stackexchange.com/q/26790\">here</a>.<br>\nInstead, for each encryption, a random (non-secret) IV/nonce is generated, concatenated with the ciphertext (and tag), and sent together to the decrypting side, which can separate the IV/nonce based on the known IV/nonce size (12 bytes for GCM).</p>\n<hr />\n<p>AES/GCM is also supported by the SunJCE provider (at least as of Java 8, s. e.g. <a href=\"https://stackoverflow.com/q/37431211/9014097\">here</a>), so you may not need BouncyCastle. For hex decoding you can then use a solution from <a href=\"https://stackoverflow.com/q/140131/9014097\">this post</a>. Starting with Java 17 there is a built-in support.</p>\n"},{"tags":[],"owner":{"account_id":4954246,"reputation":41,"user_id":3987327,"display_name":"Sumant Shanbag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688611798,"creation_date":1686136826,"answer_id":76422768,"question_id":70345404,"body_markdown":"While doing a little bit of research on CBC vs. GCM schemes of encrypting data, I stumbled upon this post and thought of doing the exercise myself. Hope it helps someone in the future.\r\n\r\nFrom what I read, GCM is a much better and FASTER encryption scheme especially when it comes to avoiding &#39;parallel stall&#39; problem with CBC scheme. GCM does not use any &#39;padding&#39; (one less confusion point in having to choose between PKCS1Padding/PKCS5Padding/PKCS7Padding commonly used as AES/CBC padding schemes)\r\n\r\n```\r\n    @Test\r\n    public void aesGcmNoPaddingTest() throws Exception {\r\n        // Used (https://mvnrepository.com/artifact/org.projectlombok/lombok) for logging to console\r\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api for this test to run\r\n\r\n        // Some constants (only the right thing to do)\r\n        int AES_KEY_LENGTH = 32 * 8; // 256 bits\r\n        int GCM_TAG_LENGTH = 16 * 8; // 128 bits\r\n        int PBKDF2_ITERATIONS = 1_000_000; // 1 Million\r\n        String KEY_GENERATION_ALGO = &quot;PBKDF2WithHmacSHA256&quot;;\r\n        String CIPHER_XFORMATION_SCHEME = &quot;AES/GCM/NoPadding&quot;;\r\n\r\n        // Generate AES-256 Bit key (https://mvnrepository.com/artifact/org.bouncycastle [bcpkix, bcprov])\r\n        byte[] rawPassword = generateRandom(32); // 32 byte password\r\n        byte[] rawSalt = generateRandom(16); // 16 byte salt (nounce)\r\n        byte[] rawIv = generateRandom(12); // 96 bit IV (a GCM scheme recommendation)\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GENERATION_ALGO, BouncyCastleProvider.PROVIDER_NAME);\r\n        KeySpec spec = new PBEKeySpec(new String(rawPassword).toCharArray(), rawSalt, PBKDF2_ITERATIONS, AES_KEY_LENGTH);\r\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n\r\n        // Generate large arbitrary data (https://mvnrepository.com/artifact/net.datafaker/datafaker)\r\n        StringBuilder dataBuilder = new StringBuilder();\r\n        IntStream.rangeClosed(1, 1000).forEach(i -&gt; {\r\n            dataBuilder.append(faker.ancient().titan()).append(&quot; &quot;);\r\n        });\r\n        String clearText = dataBuilder.toString();\r\n\r\n        // Init Encryption Cipher and encrypt data\r\n        Cipher encCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\r\n        encCipher.init(Cipher.ENCRYPT_MODE, secret, gcmParameterSpec);\r\n        byte[] cipherBytes = encCipher.doFinal(clearText.getBytes());\r\n        log.info(&quot;GCM encrypted: {}&quot;, Hex.toHexString(cipherBytes));\r\n\r\n        // Init Decryption Cipher and decrypt data\r\n        Cipher decCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\r\n        GCMParameterSpec gcmParameterSpec1 = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\r\n        decCipher.init(Cipher.DECRYPT_MODE, secret, gcmParameterSpec1);\r\n        byte[] decryptedCipherBytes = decCipher.doFinal(cipherBytes);\r\n        log.info(&quot;GCM decrypted: {}&quot;, new String(decryptedCipherBytes));\r\n    }\r\n\r\n    private byte[] generateRandom(int byteCount) {\r\n        SecureRandom randomNumberGenerator = new SecureRandom();\r\n        byte bytes[] = new byte[byteCount];\r\n        randomNumberGenerator.nextBytes(bytes);\r\n        return bytes;\r\n    }    \r\n```\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>While doing a little bit of research on CBC vs. GCM schemes of encrypting data, I stumbled upon this post and thought of doing the exercise myself. Hope it helps someone in the future.</p>\n<p>From what I read, GCM is a much better and FASTER encryption scheme especially when it comes to avoiding 'parallel stall' problem with CBC scheme. GCM does not use any 'padding' (one less confusion point in having to choose between PKCS1Padding/PKCS5Padding/PKCS7Padding commonly used as AES/CBC padding schemes)</p>\n<pre><code>    @Test\n    public void aesGcmNoPaddingTest() throws Exception {\n        // Used (https://mvnrepository.com/artifact/org.projectlombok/lombok) for logging to console\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api for this test to run\n\n        // Some constants (only the right thing to do)\n        int AES_KEY_LENGTH = 32 * 8; // 256 bits\n        int GCM_TAG_LENGTH = 16 * 8; // 128 bits\n        int PBKDF2_ITERATIONS = 1_000_000; // 1 Million\n        String KEY_GENERATION_ALGO = &quot;PBKDF2WithHmacSHA256&quot;;\n        String CIPHER_XFORMATION_SCHEME = &quot;AES/GCM/NoPadding&quot;;\n\n        // Generate AES-256 Bit key (https://mvnrepository.com/artifact/org.bouncycastle [bcpkix, bcprov])\n        byte[] rawPassword = generateRandom(32); // 32 byte password\n        byte[] rawSalt = generateRandom(16); // 16 byte salt (nounce)\n        byte[] rawIv = generateRandom(12); // 96 bit IV (a GCM scheme recommendation)\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GENERATION_ALGO, BouncyCastleProvider.PROVIDER_NAME);\n        KeySpec spec = new PBEKeySpec(new String(rawPassword).toCharArray(), rawSalt, PBKDF2_ITERATIONS, AES_KEY_LENGTH);\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n\n        // Generate large arbitrary data (https://mvnrepository.com/artifact/net.datafaker/datafaker)\n        StringBuilder dataBuilder = new StringBuilder();\n        IntStream.rangeClosed(1, 1000).forEach(i -&gt; {\n            dataBuilder.append(faker.ancient().titan()).append(&quot; &quot;);\n        });\n        String clearText = dataBuilder.toString();\n\n        // Init Encryption Cipher and encrypt data\n        Cipher encCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\n        encCipher.init(Cipher.ENCRYPT_MODE, secret, gcmParameterSpec);\n        byte[] cipherBytes = encCipher.doFinal(clearText.getBytes());\n        log.info(&quot;GCM encrypted: {}&quot;, Hex.toHexString(cipherBytes));\n\n        // Init Decryption Cipher and decrypt data\n        Cipher decCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\n        GCMParameterSpec gcmParameterSpec1 = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\n        decCipher.init(Cipher.DECRYPT_MODE, secret, gcmParameterSpec1);\n        byte[] decryptedCipherBytes = decCipher.doFinal(cipherBytes);\n        log.info(&quot;GCM decrypted: {}&quot;, new String(decryptedCipherBytes));\n    }\n\n    private byte[] generateRandom(int byteCount) {\n        SecureRandom randomNumberGenerator = new SecureRandom();\n        byte bytes[] = new byte[byteCount];\n        randomNumberGenerator.nextBytes(bytes);\n        return bytes;\n    }    \n</code></pre>\n"}],"owner":{"account_id":14481253,"reputation":55,"user_id":10460426,"display_name":"Codreanu George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70345598,"answer_count":2,"score":3,"last_activity_date":1688611798,"creation_date":1639468267,"question_id":70345404,"body_markdown":"I amn trying to replicate the AES-Decrypt function from CyberChef, using GCM mode and HEX input.\r\nScreenshot of the operation:\r\n\r\n[![CyberChefAesDecrypt][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oum9L.png\r\n\r\nSo far, I&#39;ve written the following code:\r\n````\r\npackage decryption;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.Security;\r\n\r\npublic class Main {\r\n    public static final int GCM_TAG_LENGTH = 32;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String IV = &quot;9092d522e11120919fce8492&quot;;\r\n        String input = &quot;90fab0&quot;;\r\n        String GCMTag = &quot;02883e111ad6f79cd53674b5f833abab&quot;;\r\n        String key = &quot;8cda92dcb3283da821daa275359642c7a05d60a4badb5769618193a930c1cdec&quot;;\r\n\r\n        SecretKeySpec secretKey = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), 0, key.getBytes(StandardCharsets.UTF_8).length, &quot;AES&quot;);\r\n        System.out.println(decrypt(input.getBytes(StandardCharsets.UTF_8), secretKey, IV.getBytes(StandardCharsets.UTF_8)));\r\n    }\r\n\r\n    public static String decrypt(byte[] cipherText, SecretKeySpec key, byte[] IV) throws Exception {\r\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\r\n        byte[] decryptedText = cipher.doFinal(cipherText);\r\n        return new String(decryptedText);\r\n    }\r\n}\r\n\r\n````\r\n\r\nFor the above code I am getting:\r\n\r\n````\r\nException in thread &quot;main&quot; org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$InvalidKeyOrParametersException: Invalid value for MAC size: 256\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineInit(Unknown Source)\r\n\tat java.base/javax.crypto.Cipher.init(Cipher.java:1442)\r\n\tat java.base/javax.crypto.Cipher.init(Cipher.java:1375)\r\n\tat decryption.Main.decrypt(Main.java:29)\r\n\tat decryption.Main.main(Main.java:19)\r\n````\r\n\r\n\r\nFairly certain I am way off, but I did not find any articles/tutorials on how the GCM Tag can be used as input.\r\n\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>I amn trying to replicate the AES-Decrypt function from CyberChef, using GCM mode and HEX input.\nScreenshot of the operation:</p>\n<p><a href=\"https://i.stack.imgur.com/Oum9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oum9L.png\" alt=\"CyberChefAesDecrypt\" /></a></p>\n<p>So far, I've written the following code:</p>\n<pre><code>package decryption;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.security.Security;\n\npublic class Main {\n    public static final int GCM_TAG_LENGTH = 32;\n\n    public static void main(String[] args) throws Exception {\n        String IV = &quot;9092d522e11120919fce8492&quot;;\n        String input = &quot;90fab0&quot;;\n        String GCMTag = &quot;02883e111ad6f79cd53674b5f833abab&quot;;\n        String key = &quot;8cda92dcb3283da821daa275359642c7a05d60a4badb5769618193a930c1cdec&quot;;\n\n        SecretKeySpec secretKey = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), 0, key.getBytes(StandardCharsets.UTF_8).length, &quot;AES&quot;);\n        System.out.println(decrypt(input.getBytes(StandardCharsets.UTF_8), secretKey, IV.getBytes(StandardCharsets.UTF_8)));\n    }\n\n    public static String decrypt(byte[] cipherText, SecretKeySpec key, byte[] IV) throws Exception {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\n        byte[] decryptedText = cipher.doFinal(cipherText);\n        return new String(decryptedText);\n    }\n}\n\n</code></pre>\n<p>For the above code I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$InvalidKeyOrParametersException: Invalid value for MAC size: 256\n    at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineInit(Unknown Source)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1442)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1375)\n    at decryption.Main.decrypt(Main.java:29)\n    at decryption.Main.main(Main.java:19)\n</code></pre>\n<p>Fairly certain I am way off, but I did not find any articles/tutorials on how the GCM Tag can be used as input.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688548532,"answer_count":0,"score":0,"last_activity_date":1688611525,"creation_date":1688537582,"question_id":76617517,"body_markdown":"I have created a simple application with Spring boot and Thymeleaf, it reads data from mongo db and renders it on the HTML form which can be edited and submitted back to the server to save in db.\r\nThe problem is that the POJO contains nested objects which when reading from the server is fine but when sending it back creates the problem as it is not able to map the nested object properly.\r\n\r\nThe problem is nested object is part of the attribute which means it does not needs to added by addAttribute at controller, because as shown in following code I can easily access nested objects at the view level. \r\nBut when sending the object back to controller it is not able to map nested object properly to the Object.\r\n\r\n*Controller class*\r\n```\r\npublic class ProfileController extends Controller {\r\n\r\n//    @Autowired\r\n    private final ProfileService profileService;\r\n\r\n    @GetMapping(&quot;/getprofile/{username}&quot;)\r\n    public String getProfile(@PathVariable String username, Model model){\r\n        Profile profile = profileService.getProfile(username);\r\n        model.addAttribute(&quot;profile&quot;,profile);\r\n        return &quot;user.html&quot;;\r\n    }\r\n\r\n    @PostMapping(path=&quot;/updateprofile/{username}&quot;, consumes = { MediaType.APPLICATION_FORM_URLENCODED_VALUE })\r\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\r\n        Profile updatedProfile = profileService.updateProfile(profile, username);\r\n//        System.out.println(&quot;Testing  &quot;+profile);\r\n            return &quot;redirect:/&quot;;\r\n    }\r\n\r\n} \r\n```\r\n\r\n*POJO class*\r\nFollowing code shows the model class for the Object which we send to view layer and back to the controller\r\n```\r\n@Data\r\n@Document\r\n@NoArgsConstructor\r\npublic class Profile {\r\n\r\n    @Id\r\n    @JsonIgnore\r\n    private String id;\r\n    @Indexed(unique = true)\r\n    private String username;\r\n\r\n    private String profileImage;\r\n    private String firstName;\r\n    private String middleName;\r\n    private String lastName;\r\n    private String role;\r\n    private String quote;\r\n\r\n    private Social socialLinks;\r\n\r\n    private About about;\r\n    private List&lt;Project&gt; projects;\r\n\r\n    public Profile(String username,\r\n                   String profileImage,\r\n                   String firstName,\r\n                   String middleName,\r\n                   String lastName,\r\n                   String role,\r\n                   String quote,\r\n                   Social socialLinks,\r\n                   About about,\r\n                   List&lt;Project&gt; projects) {\r\n        this.username = username;\r\n        this.profileImage = profileImage;\r\n        this.firstName = firstName;\r\n        this.middleName = middleName;\r\n        this.lastName = lastName;\r\n        this.role = role;\r\n        this.quote = quote;\r\n        this.socialLinks = socialLinks;\r\n        this.about = about;\r\n        this.projects = projects;\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Social {\r\n    private String linkedin;\r\n    private String github;\r\n    private String twitter;\r\n    private String discord;\r\n    private String stackoverflow;\r\n    private String instagram;\r\n    private String facebook;\r\n}\r\n@Data\r\n@AllArgsConstructor\r\npublic class About {\r\n\r\n    private String intro;\r\n    private List&lt;String&gt; skills;\r\n    private String aboutImage;\r\n    private String cv;\r\n}\r\n```\r\n\r\nSince html forms sends data as url enconded format, a converter config logic is created to parse application/x-www-form-urlencoded format send by HTML forms to map it with the model class. This converter class is registered using WebMVCConfigurer interface\r\n\r\n*Converter class*\r\n```\r\npublic class ProfileConverter extends AbstractHttpMessageConverter&lt;Profile&gt; {\r\n\r\n    private static FormHttpMessageConverter converter = new FormHttpMessageConverter();\r\n    private static ObjectMapper mapper = new ObjectMapper();\r\n\r\n    @Override\r\n    protected boolean supports(Class&lt;?&gt; clazz) {\r\n        return (Profile.class == clazz);\r\n    }\r\n\r\n    @Override\r\n    protected Profile readInternal(Class&lt;? extends Profile&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n        Map&lt;String, String&gt; vals = converter.read(null, inputMessage).toSingleValueMap();\r\n\r\n        return mapper.convertValue(vals, Profile.class);\r\n    }\r\n\r\n    @Override\r\n    protected void writeInternal(Profile profile, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n\r\n    }\r\n}\r\n```\r\n\r\n*HTML form*\r\nIn the following HTML, clearly we can see that accessing nested object is not an issue and on clicking submit button it is able send the form data as application/x-www-form-urlencoded format to the controller\r\n```\r\n&lt;form th:action=&quot;@{/v1/updateprofile/{username}(username=${profile.username})}&quot; th:object=&quot;${profile}&quot; th:method=&quot;post&quot;&gt;\r\n                            &lt;label&gt;Username&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot;&gt;\r\n                            &lt;label&gt;First Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot;&gt;\r\n                            &lt;label&gt;Middle Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{middleName}&quot;&gt;\r\n                            &lt;label&gt;Last Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot;&gt;\r\n                            &lt;label&gt;Role&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{role}&quot;&gt;\r\n                        &lt;label&gt;Quote&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{quote}&quot;&gt;\r\n                    &lt;label&gt;Social Links&lt;/label&gt;\r\n                                &lt;label&gt;LinkedIn&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.linkedin}&quot;&gt;\r\n                                &lt;label&gt;Github&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.github}&quot;&gt;\r\n                                &lt;label&gt;Twitter&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.twitter}&quot;&gt;\r\n                                &lt;label&gt;Discord&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.discord}&quot;&gt;\r\n                                &lt;label&gt;Stackoverflow&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.stackoverflow}&quot;&gt;\r\n                                &lt;label&gt;Instagram&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.instagram}&quot;&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mt-3&quot;&gt;Save Project&lt;/button&gt;\r\n            &lt;/form&gt;\r\n```\r\n\r\nError I am getting on sending the form data to the server.\r\nFrom this I can understand the problem is with mapping the nested object which spring boot is not able identify within the model class, rest all other fields are being recognised by it, as shown in the following error log.\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nUnrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;]) at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\r\njava.lang.IllegalArgumentException: Unrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;])\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4544)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4475)\r\n\tat dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:29)\r\n\tat dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:15)\r\n```","title":"How to read nested objects from object in Thymeleaf to map it with POJO?","body":"<p>I have created a simple application with Spring boot and Thymeleaf, it reads data from mongo db and renders it on the HTML form which can be edited and submitted back to the server to save in db.\nThe problem is that the POJO contains nested objects which when reading from the server is fine but when sending it back creates the problem as it is not able to map the nested object properly.</p>\n<p>The problem is nested object is part of the attribute which means it does not needs to added by addAttribute at controller, because as shown in following code I can easily access nested objects at the view level.\nBut when sending the object back to controller it is not able to map nested object properly to the Object.</p>\n<p><em>Controller class</em></p>\n<pre><code>public class ProfileController extends Controller {\n\n//    @Autowired\n    private final ProfileService profileService;\n\n    @GetMapping(&quot;/getprofile/{username}&quot;)\n    public String getProfile(@PathVariable String username, Model model){\n        Profile profile = profileService.getProfile(username);\n        model.addAttribute(&quot;profile&quot;,profile);\n        return &quot;user.html&quot;;\n    }\n\n    @PostMapping(path=&quot;/updateprofile/{username}&quot;, consumes = { MediaType.APPLICATION_FORM_URLENCODED_VALUE })\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\n        Profile updatedProfile = profileService.updateProfile(profile, username);\n//        System.out.println(&quot;Testing  &quot;+profile);\n            return &quot;redirect:/&quot;;\n    }\n\n} \n</code></pre>\n<p><em>POJO class</em>\nFollowing code shows the model class for the Object which we send to view layer and back to the controller</p>\n<pre><code>@Data\n@Document\n@NoArgsConstructor\npublic class Profile {\n\n    @Id\n    @JsonIgnore\n    private String id;\n    @Indexed(unique = true)\n    private String username;\n\n    private String profileImage;\n    private String firstName;\n    private String middleName;\n    private String lastName;\n    private String role;\n    private String quote;\n\n    private Social socialLinks;\n\n    private About about;\n    private List&lt;Project&gt; projects;\n\n    public Profile(String username,\n                   String profileImage,\n                   String firstName,\n                   String middleName,\n                   String lastName,\n                   String role,\n                   String quote,\n                   Social socialLinks,\n                   About about,\n                   List&lt;Project&gt; projects) {\n        this.username = username;\n        this.profileImage = profileImage;\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.lastName = lastName;\n        this.role = role;\n        this.quote = quote;\n        this.socialLinks = socialLinks;\n        this.about = about;\n        this.projects = projects;\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Social {\n    private String linkedin;\n    private String github;\n    private String twitter;\n    private String discord;\n    private String stackoverflow;\n    private String instagram;\n    private String facebook;\n}\n@Data\n@AllArgsConstructor\npublic class About {\n\n    private String intro;\n    private List&lt;String&gt; skills;\n    private String aboutImage;\n    private String cv;\n}\n</code></pre>\n<p>Since html forms sends data as url enconded format, a converter config logic is created to parse application/x-www-form-urlencoded format send by HTML forms to map it with the model class. This converter class is registered using WebMVCConfigurer interface</p>\n<p><em>Converter class</em></p>\n<pre><code>public class ProfileConverter extends AbstractHttpMessageConverter&lt;Profile&gt; {\n\n    private static FormHttpMessageConverter converter = new FormHttpMessageConverter();\n    private static ObjectMapper mapper = new ObjectMapper();\n\n    @Override\n    protected boolean supports(Class&lt;?&gt; clazz) {\n        return (Profile.class == clazz);\n    }\n\n    @Override\n    protected Profile readInternal(Class&lt;? extends Profile&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n        Map&lt;String, String&gt; vals = converter.read(null, inputMessage).toSingleValueMap();\n\n        return mapper.convertValue(vals, Profile.class);\n    }\n\n    @Override\n    protected void writeInternal(Profile profile, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n\n    }\n}\n</code></pre>\n<p><em>HTML form</em>\nIn the following HTML, clearly we can see that accessing nested object is not an issue and on clicking submit button it is able send the form data as application/x-www-form-urlencoded format to the controller</p>\n<pre><code>&lt;form th:action=&quot;@{/v1/updateprofile/{username}(username=${profile.username})}&quot; th:object=&quot;${profile}&quot; th:method=&quot;post&quot;&gt;\n                            &lt;label&gt;Username&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot;&gt;\n                            &lt;label&gt;First Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot;&gt;\n                            &lt;label&gt;Middle Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{middleName}&quot;&gt;\n                            &lt;label&gt;Last Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot;&gt;\n                            &lt;label&gt;Role&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{role}&quot;&gt;\n                        &lt;label&gt;Quote&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{quote}&quot;&gt;\n                    &lt;label&gt;Social Links&lt;/label&gt;\n                                &lt;label&gt;LinkedIn&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.linkedin}&quot;&gt;\n                                &lt;label&gt;Github&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.github}&quot;&gt;\n                                &lt;label&gt;Twitter&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.twitter}&quot;&gt;\n                                &lt;label&gt;Discord&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.discord}&quot;&gt;\n                                &lt;label&gt;Stackoverflow&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.stackoverflow}&quot;&gt;\n                                &lt;label&gt;Instagram&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.instagram}&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mt-3&quot;&gt;Save Project&lt;/button&gt;\n            &lt;/form&gt;\n</code></pre>\n<p>Error I am getting on sending the form data to the server.\nFrom this I can understand the problem is with mapping the nested object which spring boot is not able identify within the model class, rest all other fields are being recognised by it, as shown in the following error log.</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nUnrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;]) at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\njava.lang.IllegalArgumentException: Unrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;])\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\n    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4544)\n    at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4475)\n    at dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:29)\n    at dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:15)\n</code></pre>\n"},{"tags":["java","redis","priority-queue"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688522705,"post_id":76616684,"comment_id":135083440,"body_markdown":"Please review the [ask] link to see how to best ask questions on the site. One take-away is to never post code as an image since it is extremely hard for anyone to copy/paste/compile and run code in this form. Please post your code as code-formatted text, and please add additional text that fully explains it.","body":"Please review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link to see how to best ask questions on the site. One take-away is to never post code as an image since it is extremely hard for anyone to copy/paste/compile and run code in this form. Please post your code as code-formatted text, and please add additional text that fully explains it."}],"answers":[{"comments":[{"owner":{"account_id":28952043,"reputation":1,"user_id":22176386,"display_name":"Jack Yer"},"score":0,"creation_date":1688567281,"post_id":76616776,"comment_id":135091066,"body_markdown":"Why &quot;priority * 10000000000 + time_s&quot; instead of &quot;priority * 10000000000 - time_s&quot;? The priority is the same, the smaller the time should be first out of the queue","body":"Why &quot;priority * 10000000000 + time_s&quot; instead of &quot;priority * 10000000000 - time_s&quot;? The priority is the same, the smaller the time should be first out of the queue"},{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1688610167,"post_id":76616776,"comment_id":135097698,"body_markdown":"My bad! Check the updated answer.","body":"My bad! Check the updated answer."}],"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688610146,"creation_date":1688524401,"answer_id":76616776,"question_id":76616684,"body_markdown":"You solution is not thread-safe. You can try the following Lua script to implement the push part:\r\n\r\n```\r\n-- push.lua\r\n\r\nredis.replicate_commands()\r\n\r\nlocal key = KEYS[1]\r\nlocal task_id = ARGV[1]\r\nlocal priority = ARGV[2]\r\n\r\nlocal t = redis.call(&quot;time&quot;)\r\nlocal time_s = t[1]\r\n\r\n-- original wrong answer: local score = priority * 10000000000 + time_s\r\nlocal score = priority * 10000000000 + (10000000000 - time_s)\r\n\r\nredis.call(&quot;zadd&quot;, key, score, task_id)\r\n```\r\n\r\nPush some items into the priority queue:\r\n\r\n```\r\nredis-cli --eval push.lua queue , task-id priority\r\n```\r\n\r\nPop an item:\r\n\r\n```\r\nredis-cli zpopmax queue\r\n```","title":"How to implement priority queue with redis","body":"<p>You solution is not thread-safe. You can try the following Lua script to implement the push part:</p>\n<pre><code>-- push.lua\n\nredis.replicate_commands()\n\nlocal key = KEYS[1]\nlocal task_id = ARGV[1]\nlocal priority = ARGV[2]\n\nlocal t = redis.call(&quot;time&quot;)\nlocal time_s = t[1]\n\n-- original wrong answer: local score = priority * 10000000000 + time_s\nlocal score = priority * 10000000000 + (10000000000 - time_s)\n\nredis.call(&quot;zadd&quot;, key, score, task_id)\n</code></pre>\n<p>Push some items into the priority queue:</p>\n<pre><code>redis-cli --eval push.lua queue , task-id priority\n</code></pre>\n<p>Pop an item:</p>\n<pre><code>redis-cli zpopmax queue\n</code></pre>\n"}],"owner":{"account_id":28952043,"reputation":1,"user_id":22176386,"display_name":"Jack Yer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688610146,"creation_date":1688522316,"question_id":76616684,"body_markdown":"Now I have such a requirement, publish tasks to the task queue, and then take tasks from the task queue one by one and execute them. When the tasks are taken from the queue, they are taken according to the priority size, and the tasks with the larger priority are taken out first. If the priorities are the same, the ones that join the queue earlier are taken out first compared with the time they join the queue. \r\nThis can be done in java through priorityQueue:\r\n\r\n```\r\nPriorityQueue: new PriorityQueue&lt;&gt;((t1, t2) -&gt;! t1.getPriority().equals(t2.getPriority()) ?  t2.getPriority() - t1.getPriority() :(t1.getTime() - t2.getTme())); \r\n```\r\nBut I want you to implement it in redis\r\n\r\nThis is the way I do it now, but it&#39;s a little crude and not very accurate\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jQrI5.png","title":"How to implement priority queue with redis","body":"<p>Now I have such a requirement, publish tasks to the task queue, and then take tasks from the task queue one by one and execute them. When the tasks are taken from the queue, they are taken according to the priority size, and the tasks with the larger priority are taken out first. If the priorities are the same, the ones that join the queue earlier are taken out first compared with the time they join the queue.\nThis can be done in java through priorityQueue:</p>\n<pre><code>PriorityQueue: new PriorityQueue&lt;&gt;((t1, t2) -&gt;! t1.getPriority().equals(t2.getPriority()) ?  t2.getPriority() - t1.getPriority() :(t1.getTime() - t2.getTme())); \n</code></pre>\n<p>But I want you to implement it in redis</p>\n<p>This is the way I do it now, but it's a little crude and not very accurate\n<a href=\"https://i.stack.imgur.com/jQrI5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":9122647,"reputation":558,"user_id":6787574,"accept_rate":71,"display_name":"Umapathi"},"score":0,"creation_date":1498199896,"post_id":44714439,"comment_id":76411585,"body_markdown":"thank you for your replay. in properties level instead of  @JsonManagedReference  i&#39;m using @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \n                  property  = &quot;forumAnswerId&quot;) but not working.same issue i&#39;m facing.","body":"thank you for your replay. in properties level instead of  @JsonManagedReference  i&#39;m using @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,                    property  = &quot;forumAnswerId&quot;) but not working.same issue i&#39;m facing."},{"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"score":0,"creation_date":1498205040,"post_id":44714439,"comment_id":76414572,"body_markdown":"@umapati: you have to remove `@JsonManagedReference` and `@JsonBackReference` and add `@JsonIdentityInfo` on both class.","body":"@umapati: you have to remove <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> and add <code>@JsonIdentityInfo</code> on both class."},{"owner":{"account_id":9122647,"reputation":558,"user_id":6787574,"accept_rate":71,"display_name":"Umapathi"},"score":0,"creation_date":1498205652,"post_id":44714439,"comment_id":76414935,"body_markdown":"i removed both annotations and i added  @JsonIdentityInfo class level. now data is saving successfully but retrieving time data not reaching to ui.","body":"i removed both annotations and i added  @JsonIdentityInfo class level. now data is saving successfully but retrieving time data not reaching to ui."},{"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"score":0,"creation_date":1498205827,"post_id":44714439,"comment_id":76415042,"body_markdown":"you have only posted code for save. update your question and write code you tried for retrieval.","body":"you have only posted code for save. update your question and write code you tried for retrieval."},{"owner":{"account_id":15949124,"reputation":3270,"user_id":11508914,"display_name":"Panagiss"},"score":1,"creation_date":1609861244,"post_id":44714439,"comment_id":115950856,"body_markdown":"So ```@JsonBackReference``` goes only with ```@ManyToOne``` and ```@JsonManagedReference``` goes only with ```@OneToMany``` ?","body":"So <code>@JsonBackReference</code> goes only with <code>@ManyToOne</code> and <code>@JsonManagedReference</code> goes only with <code>@OneToMany</code> ?"}],"tags":[],"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"comment_count":5,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1499081049,"creation_date":1498199140,"answer_id":44714439,"question_id":44713849,"body_markdown":"I think you have misplaced @JsonManagedReference and @JsonBackReference.\r\n\r\n@JsonManagedReference : its forward part of reference so it will apply on collection type.\r\n\r\n@JsonBackReference: its back part of reference.\r\n\r\nso your code must be like\r\n\r\n \r\n\r\n      @JsonManagedReference \r\n         private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n    \r\n     @JsonBackReference\r\n        private ForumAnswer forumAnswer;\r\n\r\n\r\nyou can also use `@JsonIdentityInfo` you have to apply \r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \r\n    \t\t\t\t  property  = &quot;forumAnswerId&quot;, \r\n    \t\t\t\t  scope     = Long.class)\r\n    public class ForumAnswer {\r\n    }\r\n    \r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \r\n    \t\t\t\t  property  = &quot;replyId&quot;, \r\n    \t\t\t\t  scope     = Long.class)\r\n    public class ForumAnswerReplay {\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>I think you have misplaced @JsonManagedReference and @JsonBackReference.</p>\n\n<p>@JsonManagedReference : its forward part of reference so it will apply on collection type.</p>\n\n<p>@JsonBackReference: its back part of reference.</p>\n\n<p>so your code must be like</p>\n\n<pre><code>  @JsonManagedReference \n     private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n\n @JsonBackReference\n    private ForumAnswer forumAnswer;\n</code></pre>\n\n<p>you can also use <code>@JsonIdentityInfo</code> you have to apply </p>\n\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \n                  property  = \"forumAnswerId\", \n                  scope     = Long.class)\npublic class ForumAnswer {\n}\n\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \n                  property  = \"replyId\", \n                  scope     = Long.class)\npublic class ForumAnswerReplay {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10296742,"reputation":107,"user_id":7596653,"accept_rate":44,"display_name":"sweety"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514983162,"creation_date":1498210614,"answer_id":44718070,"question_id":44713849,"body_markdown":"Remove  @JsonManagedReference in ForumAnswer class.\r\n\r\nForumAnswer class:\r\n\r\n    @Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL,fetch=FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;forumAnswerId&quot;)\r\n    \tprivate List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n\r\nIn **ForumAnswerReplay:**\r\n\r\n\t@JsonBackReference\r\n\tpublic ForumAnswer getForumAnswer() {\r\n\t\treturn forumAnswer;\r\n\t}","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Remove  @JsonManagedReference in ForumAnswer class.</p>\n\n<p>ForumAnswer class:</p>\n\n<pre><code>@Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL,fetch=FetchType.EAGER)\n    @JoinColumn(name = \"forumAnswerId\")\n    private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n</code></pre>\n\n<p>In <strong>ForumAnswerReplay:</strong></p>\n\n<pre><code>@JsonBackReference\npublic ForumAnswer getForumAnswer() {\n    return forumAnswer;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":6,"creation_date":1536354022,"post_id":48077882,"comment_id":91408749,"body_markdown":"What about @ManyToMany?","body":"What about @ManyToMany?"},{"owner":{"account_id":1125061,"reputation":166,"user_id":1112561,"display_name":"shawon"},"score":1,"creation_date":1547029472,"post_id":48077882,"comment_id":95047884,"body_markdown":"If you only want to avoid recursion, you can use @JsonIdentityInfo for Parent class. You can see https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion for further clarification.\nThank you!","body":"If you only want to avoid recursion, you can use @JsonIdentityInfo for Parent class. You can see <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a> for further clarification. Thank you!"},{"owner":{"account_id":2052416,"reputation":172,"user_id":1831109,"display_name":"650aa6a2"},"score":6,"creation_date":1555109854,"post_id":48077882,"comment_id":98009066,"body_markdown":"Everyone links to that one &quot;tutorial&quot; at &#39;baeldung&#39;, but it doesn&#39;t really explain anything.","body":"Everyone links to that one &quot;tutorial&quot; at &#39;baeldung&#39;, but it doesn&#39;t really explain anything."},{"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"score":0,"creation_date":1598626387,"post_id":48077882,"comment_id":112529404,"body_markdown":"\\@JsonBackReference goes on the child, the non-collection \\@ManyToOne.\nhttps://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonBackReference.html\n\\@JsonManagedReference goes on the parent, the\\@OneToMany collection","body":"\\@JsonBackReference goes on the child, the non-collection \\@ManyToOne. <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonBackReference.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-annotations/javadoc/2.11/com/&hellip;</a> \\@JsonManagedReference goes on the parent, the\\@OneToMany collection"}],"tags":[],"owner":{"account_id":1125061,"reputation":166,"user_id":1112561,"display_name":"shawon"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514984226,"creation_date":1514984226,"answer_id":48077882,"question_id":44713849,"body_markdown":"Use @JsonBackReference for @OneToMany and @JsonManagedReference for @ManyToOne relation to allow Jackson to better handle the relation.","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Use @JsonBackReference for @OneToMany and @JsonManagedReference for @ManyToOne relation to allow Jackson to better handle the relation.</p>\n"},{"tags":[],"owner":{"account_id":4177110,"reputation":925,"user_id":7192983,"display_name":"Kingston Fortune"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688607924,"creation_date":1688607924,"answer_id":76625005,"question_id":44713849,"body_markdown":"I had a similar issue recently, I tried to debug the code, I searched all around the internet and what helped finally was this:\r\n\r\nMake sure you set your ***@JsonBackReference*** and ***@JsonManagedReference*** to have a unique ***value***, for instance in my **Department class** I have:\r\n\r\n```\r\n    @JsonManagedReference(value = &quot;faculty-department&quot;)\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private List&lt;Faculty&gt; faculties;\r\n```\r\n\r\nand in my **Faculty class**, I have:\r\n```\r\n    @JsonBackReference(value = &quot;faculty-department&quot;)\r\n    @ManyToOne\r\n    private Department department;\r\n```\r\n\r\nWhen working on a project with just two entities, I noticed that the code was OK, but when the code base grew to more than 5 entities. This error tends to occur if you have multiple relationships with more than one ***@JsonBackReference*** in the same entity/class. \r\n\r\nIf the code builds successfully you may still get a 415 media unsupported error even if you select application/json as your content type while posting, so you will have to set the value as a unique key shared across related entities.\r\n\r\n\r\nUsing SpringBoot 3.1.1 at the time of this answer.","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>I had a similar issue recently, I tried to debug the code, I searched all around the internet and what helped finally was this:</p>\n<p>Make sure you set your <em><strong>@JsonBackReference</strong></em> and <em><strong>@JsonManagedReference</strong></em> to have a unique <em><strong>value</strong></em>, for instance in my <strong>Department class</strong> I have:</p>\n<pre><code>    @JsonManagedReference(value = &quot;faculty-department&quot;)\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private List&lt;Faculty&gt; faculties;\n</code></pre>\n<p>and in my <strong>Faculty class</strong>, I have:</p>\n<pre><code>    @JsonBackReference(value = &quot;faculty-department&quot;)\n    @ManyToOne\n    private Department department;\n</code></pre>\n<p>When working on a project with just two entities, I noticed that the code was OK, but when the code base grew to more than 5 entities. This error tends to occur if you have multiple relationships with more than one <em><strong>@JsonBackReference</strong></em> in the same entity/class.</p>\n<p>If the code builds successfully you may still get a 415 media unsupported error even if you select application/json as your content type while posting, so you will have to set the value as a unique key shared across related entities.</p>\n<p>Using SpringBoot 3.1.1 at the time of this answer.</p>\n"}],"owner":{"account_id":9122647,"reputation":558,"user_id":6787574,"accept_rate":71,"display_name":"Umapathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29059,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44714439,"answer_count":4,"score":14,"last_activity_date":1688607924,"creation_date":1498196537,"question_id":44713849,"body_markdown":"Forum Answer saving time facing issue.before i saved successfully using @JsonIgnore but now i removed @JsonIgnore annonation.and added  @JsonBackReference and  @JsonManagedReference.\r\n\r\n**Stack Trace**\r\n\r\n    java.lang.IllegalArgumentException: Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (com.tta.abcd.model.ForumAnswerReplay)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase._resolveManagedReferenceProperty(BeanDeserializerBase.java:790)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:516)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:296)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:443)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:196)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:26)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:681)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:445)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.findDeserializer(StdDeserializer.java:967)\r\n\r\n\r\n**Forum.java**\r\n\r\n        @Entity\r\n        @Table(name=&quot;Forum&quot;)\r\n        public class Forum {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;forumId&quot;)\r\n    \tprivate Long forumId;\r\n    \t\t\t\r\n    \t@Column(name=&quot;question&quot;)\r\n    \tprivate String question;\r\n    \t\r\n    \t@Column(columnDefinition=&quot;varchar(1000)&quot;,name=&quot;discription&quot;)\r\n    \tprivate String discription;\r\n    \t\r\n    \t@Column(name=&quot;postedDate&quot;)\r\n    \tprivate Date postedDate;\r\n    \r\n    \t@Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;forumId&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate List&lt;ForumAnswer&gt; forumList;\r\n        }\r\n\r\n**ForumAnswer.java**\r\n\r\n        @Entity\r\n        @Table(name=&quot;ForumAnswer&quot;)\r\n        public class ForumAnswer {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;forumAnswerId&quot;)\r\n    \tprivate Long forumAnswerId;\r\n    \t\r\n    \t@ManyToOne\r\n            @JoinColumn(name = &quot;forumId&quot;,insertable=true, updatable=true,nullable=true)\r\n    \tprivate Forum forum;\r\n    \t\r\n    \t@Column(name=&quot;answer&quot;)\r\n    \tprivate String answer;\r\n    \t\r\n    \t@Column(name=&quot;answerDate&quot;)\r\n    \tprivate Date answerDate;\r\n    \t\r\n    \t@Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;forumAnswerId&quot;)\r\n        @JsonBackReference\r\n    \tprivate List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n    \t\r\n    \t@Transient\r\n    \tprivate List&lt;ForumAnswerReplay&gt; faqReplayList;\r\n    }\r\n\r\n**ForumAnswerReplay.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;ForumAnswerReplay&quot;)\r\n    public class ForumAnswerReplay {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;replayId&quot;)\r\n    \tprivate Long replayId;\r\n    \t\r\n    \t@Column(name=&quot;replayToAnswer&quot;)\r\n    \tprivate String replayToAnswer;\r\n    \t\r\n    \t@Column(name=&quot;replayToAnswerDate&quot;)\r\n    \tprivate Date replayToAnswerDate;\r\n    \t\r\n    \r\n    \t@ManyToOne(fetch=FetchType.EAGER)\r\n    \t@JoinColumn(name=&quot;forumAnswerId&quot;,insertable=true,updatable=true,nullable=true)\r\n        \t@JsonManagedReference\r\n    \tprivate ForumAnswer forumAnswer;\r\n    \r\n    \t@Transient\r\n    \tprivate String message;\r\n    }\r\n\r\n**Controller Code:**\r\n\r\n    public ForumAnswer saveForumAns(@RequestBody ForumAnswer forumAns, BindingResult bindingResult, HttpSession session,\r\n\t\t\tHttpServletRequest request, HttpServletResponse response) {\r\n\t\tForumAnswer forumDetails = forumService.saveForumAns(forumAns, bindingResult, session);\r\n\t\tif (forumDetails != null) {\r\n\t\t\tforumDetails.setMessage(&quot;success&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tforumDetails.setMessage(&quot;failed&quot;);\r\n\t\t}\r\n\t\treturn forumDetails;\r\n\t}\r\n\r\n**DAO:**\r\n\r\n    public ForumAnswer saveForumAns(ForumAnswer forumAns, BindingResult bindingResult) {\r\n\r\n\t\tfinal Session session = getSession();\r\n\t\ttry {\r\n\t\t\tsession.beginTransaction();\r\n\t\t\tQuery query = session.createQuery(&quot;UPDATE ForumAnswer set answer =:answer,&quot;\r\n\t\t\t\t\t+ &quot;forumAnswerId =:forumAnswerId,farmerUuid =:farmerUuid, answerDate =:answerDate&quot;);\r\n\t\t\tquery.setParameter(&quot;answer&quot;, forumAns.getAnswer());\r\n\t\t\tquery.setParameter(&quot;forumAnswerId&quot;, forumAns.getForumAnswerId());\r\n\t\t\tquery.setParameter(&quot;farmerUuid&quot;, forumAns.getFarmer());\r\n\t\t\tquery.setParameter(&quot;answerDate&quot;, forumAns.getAnswerDate());\r\n\t\t\tsession.merge(forumAns);\r\n\t\t\tsession.getTransaction().commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;error while saving forum details&quot; + e);\r\n\t\t} finally {\r\n\t\t\tsession.close();\r\n\t\t}\r\n\r\n\t\treturn forumAns;\r\n\t}","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Forum Answer saving time facing issue.before i saved successfully using @JsonIgnore but now i removed @JsonIgnore annonation.and added  @JsonBackReference and  @JsonManagedReference.</p>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>java.lang.IllegalArgumentException: Can not handle managed/back reference 'defaultReference': back reference type (java.util.List) not compatible with managed type (com.tta.abcd.model.ForumAnswerReplay)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase._resolveManagedReferenceProperty(BeanDeserializerBase.java:790)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:516)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:296)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\nat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\nat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:443)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:196)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:26)\nat com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:681)\nat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:445)\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.findDeserializer(StdDeserializer.java:967)\n</code></pre>\n\n<p><strong>Forum.java</strong></p>\n\n<pre><code>    @Entity\n    @Table(name=\"Forum\")\n    public class Forum {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"forumId\")\n    private Long forumId;\n\n    @Column(name=\"question\")\n    private String question;\n\n    @Column(columnDefinition=\"varchar(1000)\",name=\"discription\")\n    private String discription;\n\n    @Column(name=\"postedDate\")\n    private Date postedDate;\n\n    @Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"forumId\")\n    @JsonIgnore\n    private List&lt;ForumAnswer&gt; forumList;\n    }\n</code></pre>\n\n<p><strong>ForumAnswer.java</strong></p>\n\n<pre><code>    @Entity\n    @Table(name=\"ForumAnswer\")\n    public class ForumAnswer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"forumAnswerId\")\n    private Long forumAnswerId;\n\n    @ManyToOne\n        @JoinColumn(name = \"forumId\",insertable=true, updatable=true,nullable=true)\n    private Forum forum;\n\n    @Column(name=\"answer\")\n    private String answer;\n\n    @Column(name=\"answerDate\")\n    private Date answerDate;\n\n    @Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"forumAnswerId\")\n    @JsonBackReference\n    private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n\n    @Transient\n    private List&lt;ForumAnswerReplay&gt; faqReplayList;\n}\n</code></pre>\n\n<p><strong>ForumAnswerReplay.java</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"ForumAnswerReplay\")\npublic class ForumAnswerReplay {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"replayId\")\n    private Long replayId;\n\n    @Column(name=\"replayToAnswer\")\n    private String replayToAnswer;\n\n    @Column(name=\"replayToAnswerDate\")\n    private Date replayToAnswerDate;\n\n\n    @ManyToOne(fetch=FetchType.EAGER)\n    @JoinColumn(name=\"forumAnswerId\",insertable=true,updatable=true,nullable=true)\n        @JsonManagedReference\n    private ForumAnswer forumAnswer;\n\n    @Transient\n    private String message;\n}\n</code></pre>\n\n<p><strong>Controller Code:</strong></p>\n\n<pre><code>public ForumAnswer saveForumAns(@RequestBody ForumAnswer forumAns, BindingResult bindingResult, HttpSession session,\n        HttpServletRequest request, HttpServletResponse response) {\n    ForumAnswer forumDetails = forumService.saveForumAns(forumAns, bindingResult, session);\n    if (forumDetails != null) {\n        forumDetails.setMessage(\"success\");\n    }\n    else {\n        forumDetails.setMessage(\"failed\");\n    }\n    return forumDetails;\n}\n</code></pre>\n\n<p><strong>DAO:</strong></p>\n\n<pre><code>public ForumAnswer saveForumAns(ForumAnswer forumAns, BindingResult bindingResult) {\n\n    final Session session = getSession();\n    try {\n        session.beginTransaction();\n        Query query = session.createQuery(\"UPDATE ForumAnswer set answer =:answer,\"\n                + \"forumAnswerId =:forumAnswerId,farmerUuid =:farmerUuid, answerDate =:answerDate\");\n        query.setParameter(\"answer\", forumAns.getAnswer());\n        query.setParameter(\"forumAnswerId\", forumAns.getForumAnswerId());\n        query.setParameter(\"farmerUuid\", forumAns.getFarmer());\n        query.setParameter(\"answerDate\", forumAns.getAnswerDate());\n        session.merge(forumAns);\n        session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(\"error while saving forum details\" + e);\n    } finally {\n        session.close();\n    }\n\n    return forumAns;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":28959339,"reputation":1,"user_id":22182166,"display_name":"china-duanpeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688607476,"creation_date":1688607476,"question_id":76624990,"body_markdown":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1176)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1071)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\r\n\tat com.lenovo.m2.couponV2.service.launcher.Launcher.main(Launcher.java:42)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\t... 18 more\r\nCaused by: java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.obtainBeanInstanceFromFactory(ConfigurationClassEnhancer.java:402)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.mvcContentNegotiationManager(&lt;generated&gt;)\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:531)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:365)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.CGLIB$requestMappingHandlerAdapter$7(&lt;generated&gt;)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac$$FastClassBySpringCGLIB$$fb780f0c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.requestMappingHandlerAdapter(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 19 more\r\n\r\nhelp me to handle this problem","title":"spring 升级 springboot Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1176)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1071)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\nat com.lenovo.m2.couponV2.service.launcher.Launcher.main(Launcher.java:42)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n... 18 more\nCaused by: java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.obtainBeanInstanceFromFactory(ConfigurationClassEnhancer.java:402)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.mvcContentNegotiationManager()\nat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:531)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:365)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.CGLIB$requestMappingHandlerAdapter$7()\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac$$FastClassBySpringCGLIB$$fb780f0c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.requestMappingHandlerAdapter()\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n... 19 more</p>\n<p>help me to handle this problem</p>\n"},{"tags":["java","maven","build-automation","build-dependencies"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1343296646,"post_id":11666701,"comment_id":15462629,"body_markdown":"It&#39;s easy to do with a version control system like Subversion or Git.  I don&#39;t see how or why you&#39;d want to feed that info into Maven.  Why wouldn&#39;t you just want to rebuild every time?","body":"It&#39;s easy to do with a version control system like Subversion or Git.  I don&#39;t see how or why you&#39;d want to feed that info into Maven.  Why wouldn&#39;t you just want to rebuild every time?"},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343296969,"post_id":11666701,"comment_id":15462800,"body_markdown":"Yeah, so I know that there are text diff tools that I could be using but I&#39;m more interested in a library that reports the differences listed above which can then be called upon to ascertain what to build. As to why I want to know this, my reasoning would take a while to explain and I guess hopefully it won&#39;t affect answers. Thanks.","body":"Yeah, so I know that there are text diff tools that I could be using but I&#39;m more interested in a library that reports the differences listed above which can then be called upon to ascertain what to build. As to why I want to know this, my reasoning would take a while to explain and I guess hopefully it won&#39;t affect answers. Thanks."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1343297102,"post_id":11666701,"comment_id":15462858,"body_markdown":"Don&#39;t know of one.  Still can&#39;t see any good reason to do it.  Shaving a few seconds off an automated build would seem like a waste of time to me.","body":"Don&#39;t know of one.  Still can&#39;t see any good reason to do it.  Shaving a few seconds off an automated build would seem like a waste of time to me."},{"owner":{"account_id":261773,"reputation":2966,"user_id":546188,"display_name":"Walter Laan"},"score":1,"creation_date":1343297420,"post_id":11666701,"comment_id":15462988,"body_markdown":"http://stackoverflow.com/questions/1664823/detecting-api-changes-evolution","body":"<a href=\"http://stackoverflow.com/questions/1664823/detecting-api-changes-evolution\" title=\"detecting api changes evolution\">stackoverflow.com/questions/1664823/&hellip;</a>"},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343297655,"post_id":11666701,"comment_id":15463092,"body_markdown":"That&#39;s what I&#39;m looking for! Thanks, if you want to post as an answer I&#39;d accept.","body":"That&#39;s what I&#39;m looking for! Thanks, if you want to post as an answer I&#39;d accept."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1343303563,"post_id":11666701,"comment_id":15465476,"body_markdown":"@Ed. Not surprisingly all such tools were abandoned &gt;5 years ago. You should do it with test cases and don&#39;t rely on some magic tools which should figure out something. E.g., the &quot;implementation changed&quot; is nearly impossible to detect. A method body could be unchanged, but, say, 3rd party library version was updated and it could cause failures in the method. So, just write test cases.","body":"@Ed. Not surprisingly all such tools were abandoned &gt;5 years ago. You should do it with test cases and don&#39;t rely on some magic tools which should figure out something. E.g., the &quot;implementation changed&quot; is nearly impossible to detect. A method body could be unchanged, but, say, 3rd party library version was updated and it could cause failures in the method. So, just write test cases."},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343304620,"post_id":11666701,"comment_id":15466004,"body_markdown":"@kan Yeah, fair point - I guess implementation changes were a bit ambitious!","body":"@kan Yeah, fair point - I guess implementation changes were a bit ambitious!"}],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355877959,"creation_date":1355877959,"answer_id":13943883,"question_id":11666701,"body_markdown":"You said above that [Clirr][1] is what you&#39;re looking for.  \r\n\r\nBut for others with slightly differet needs, I&#39;d like to recommend [JDiff][2].  Both have pros and cons, but for my needs I ended up using JDiff.  I don&#39;t think it&#39;ll satisfy your last bullet point and it&#39;s difficult to call programmatically.  What it does do is generate a useful report for API differences.\r\n\r\n\r\n  [1]: http://clirr.sourceforge.net/\r\n  [2]: http://javadiff.sourceforge.net/","title":"Java code change analysis tool - e.g tell me if a method signature has changed, method implementation","body":"<p>You said above that <a href=\"http://clirr.sourceforge.net/\" rel=\"nofollow\">Clirr</a> is what you're looking for.  </p>\n\n<p>But for others with slightly differet needs, I'd like to recommend <a href=\"http://javadiff.sourceforge.net/\" rel=\"nofollow\">JDiff</a>.  Both have pros and cons, but for my needs I ended up using JDiff.  I don't think it'll satisfy your last bullet point and it's difficult to call programmatically.  What it does do is generate a useful report for API differences.</p>\n"}],"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13943883,"answer_count":1,"score":2,"last_activity_date":1688606841,"creation_date":1343296179,"question_id":11666701,"body_markdown":"Is there any __diff__ tool specifically for Java that doesn&#39;t just highlight differences in a file, but is more complex?\r\n\r\nBy more complex I mean it&#39;d take 2 input files, the same class file of different versions, and tell me things like:\r\n\r\n- Field names changed\r\n- New methods added\r\n- Deleted methods\r\n- Methods whose signatures have changed\r\n- Methods whose implementations have changed (not interested in any more detail than that)\r\n\r\nDone some Googling and can&#39;t find anything like this...I figure it could be useful in determining whether or not changes to dependencies would require a rebuild of a particular module.\r\n\r\nThanks in advance\r\n\r\n__Edit:__\r\n\r\nI suppose I should clarify:\r\n\r\nI&#39;m not bothered about a GUI for the tool, it&#39;d be something I&#39;m interested in _calling programmatically_.\r\n\r\nAnd as for my reasoning:\r\n\r\n- To workout if I need to rebuild certain modules/components if their dependencies have changed (which could save us around 1 hour per component)... More detailed explanation but I don&#39;t really see it as important.\r\n- To be used to analyse changes made to certain components that we are trying to lock down and rely on as being more stable, we are attempting to ensure that only very rarely should method signatures change in a particular component.\r\n\r\n","title":"Java code change analysis tool - e.g tell me if a method signature has changed, method implementation","body":"<p>Is there any <strong>diff</strong> tool specifically for Java that doesn't just highlight differences in a file, but is more complex?</p>\n\n<p>By more complex I mean it'd take 2 input files, the same class file of different versions, and tell me things like:</p>\n\n<ul>\n<li>Field names changed</li>\n<li>New methods added</li>\n<li>Deleted methods</li>\n<li>Methods whose signatures have changed</li>\n<li>Methods whose implementations have changed (not interested in any more detail than that)</li>\n</ul>\n\n<p>Done some Googling and can't find anything like this...I figure it could be useful in determining whether or not changes to dependencies would require a rebuild of a particular module.</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I suppose I should clarify:</p>\n\n<p>I'm not bothered about a GUI for the tool, it'd be something I'm interested in <em>calling programmatically</em>.</p>\n\n<p>And as for my reasoning:</p>\n\n<ul>\n<li>To workout if I need to rebuild certain modules/components if their dependencies have changed (which could save us around 1 hour per component)... More detailed explanation but I don't really see it as important.</li>\n<li>To be used to analyse changes made to certain components that we are trying to lock down and rely on as being more stable, we are attempting to ensure that only very rarely should method signatures change in a particular component.</li>\n</ul>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":5,"creation_date":1688569102,"post_id":76621497,"comment_id":135091519,"body_markdown":"What result do you want it to give you, for example, when you divide 1 by 3? Please give more details about what you are asking, e.g. by giving examples of expected vs. actual behaviour.","body":"What result do you want it to give you, for example, when you divide 1 by 3? Please give more details about what you are asking, e.g. by giving examples of expected vs. actual behaviour."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688575257,"creation_date":1688575257,"answer_id":76622384,"question_id":76621497,"body_markdown":"I&#39;m not sure exactly what you&#39;re asking, but you can use [BigDecimal.divide(BigDecimal divisor, int scale, RoundingMode roundingMode)][1] and specify a large enough scale argument to keep a sufficient number of decimal places:\r\n\r\n    BigDecimal.ONE.divide(BigDecimal.valueOf(3), 10, RoundingMode.HALF_EVEN)\r\n    -&gt; 0.3333333333\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,int,java.math.RoundingMode)","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>I'm not sure exactly what you're asking, but you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,int,java.math.RoundingMode)\" rel=\"nofollow noreferrer\">BigDecimal.divide(BigDecimal divisor, int scale, RoundingMode roundingMode)</a> and specify a large enough scale argument to keep a sufficient number of decimal places:</p>\n<pre><code>BigDecimal.ONE.divide(BigDecimal.valueOf(3), 10, RoundingMode.HALF_EVEN)\n-&gt; 0.3333333333\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688606608,"creation_date":1688606608,"answer_id":76624944,"question_id":76621497,"body_markdown":"Well, &quot;keeping&quot; the decimal is in terms of the value&#39;s representation.\r\n\r\nSo, if it&#39;s _0.3_ repeating, then you would typically denote this using a line over the _3_, or sometimes an ellipsis, _&quot;0.3 ...&quot;_.\r\n\r\n&gt; _&quot;... At present, BigDecimal either chooses to directly divide and may have abnormalities ...&quot;_\r\n\r\nThis I am unaware of, it typically returns exact values for me; I&#39;ve never seen it deviate.\r\n\r\nThe _[BigDecimal#divide](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal))_ method, it will throw an error if the result is _non-terminating_.\r\n\r\nFor example, this will produce an error.\r\n\r\n```java\r\nBigDecimal value = BigDecimal.ONE;\r\nvalue = value.divide(new BigDecimal(&quot;3&quot;));\r\n```\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.\r\n\tat java.base/java.math.BigDecimal.divide(BigDecimal.java:1769)\r\n\tat Example.main(Example.java:8)\r\n```\r\n\r\nHere is the excerpt from the JavaDoc, for _BigDecimal#divide_.\r\n\r\n&gt; _&quot;**Throws:**_  \r\n&gt; _ArithmeticException - if the exact quotient does not have a terminating decimal expansion, including dividing by zero&quot;_\r\n\r\nWhat you could do is apply a _scale_ and _[RoundingMode](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html)_ to the division.  \r\nThe _scale_ here is the amount of digits after the decimal point.\r\n\r\nI typically use the _[RoundingMode#HALF_UP](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_UP)_ mode.\r\n\r\n```java\r\nBigDecimal value = BigDecimal.ONE;\r\nBigDecimal three = new BigDecimal(&quot;3&quot;);\r\nvalue = value.divide(three, 5, RoundingMode.HALF_UP);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n0.33333\r\n```","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>Well, &quot;keeping&quot; the decimal is in terms of the value's representation.</p>\n<p>So, if it's <em>0.3</em> repeating, then you would typically denote this using a line over the <em>3</em>, or sometimes an ellipsis, <em>&quot;0.3 ...&quot;</em>.</p>\n<blockquote>\n<p><em>&quot;... At present, BigDecimal either chooses to directly divide and may have abnormalities ...&quot;</em></p>\n</blockquote>\n<p>This I am unaware of, it typically returns exact values for me; I've never seen it deviate.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal)\" rel=\"nofollow noreferrer\">BigDecimal#divide</a></em> method, it will throw an error if the result is <em>non-terminating</em>.</p>\n<p>For example, this will produce an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal value = BigDecimal.ONE;\nvalue = value.divide(new BigDecimal(&quot;3&quot;));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.\n    at java.base/java.math.BigDecimal.divide(BigDecimal.java:1769)\n    at Example.main(Example.java:8)\n</code></pre>\n<p>Here is the excerpt from the JavaDoc, for <em>BigDecimal#divide</em>.</p>\n<blockquote>\n<p><em>&quot;<strong>Throws:</strong></em><br />\n<em>ArithmeticException - if the exact quotient does not have a terminating decimal expansion, including dividing by zero&quot;</em></p>\n</blockquote>\n<p>What you could do is apply a <em>scale</em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">RoundingMode</a></em> to the division.<br />\nThe <em>scale</em> here is the amount of digits after the decimal point.</p>\n<p>I typically use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_UP\" rel=\"nofollow noreferrer\">RoundingMode#HALF_UP</a></em> mode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal value = BigDecimal.ONE;\nBigDecimal three = new BigDecimal(&quot;3&quot;);\nvalue = value.divide(three, 5, RoundingMode.HALF_UP);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>0.33333\n</code></pre>\n"}],"owner":{"account_id":15796924,"reputation":21,"user_id":11398484,"display_name":"feilong gao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688606608,"creation_date":1688568237,"question_id":76621497,"body_markdown":"When we do arithmetic, we often keep the whole decimal if we can divide it completely, and we have to keep a few decimal places if we can&#39;t divide it completely.At present, BigDecimal either chooses to directly divide and may have abnormalities, or keeps all decimals.\r\n\r\nHow to keep the decimals only when the decimals are endless? Lose as little information as possible\r\n\r\nExpected effect:\r\n1/4=0.25\r\n1/3=0.3333","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>When we do arithmetic, we often keep the whole decimal if we can divide it completely, and we have to keep a few decimal places if we can't divide it completely.At present, BigDecimal either chooses to directly divide and may have abnormalities, or keeps all decimals.</p>\n<p>How to keep the decimals only when the decimals are endless? Lose as little information as possible</p>\n<p>Expected effect:\n1/4=0.25\n1/3=0.3333</p>\n"},{"tags":["java","spring-boot","janusgraph","tinkerpop3","gremlin-server"],"comments":[{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1688631099,"post_id":76624943,"comment_id":135100306,"body_markdown":"May be this post could help https://stackoverflow.com/questions/37370621/how-to-ensure-there-single-edge-in-a-graph-for-a-given-order-id","body":"May be this post could help <a href=\"https://stackoverflow.com/questions/37370621/how-to-ensure-there-single-edge-in-a-graph-for-a-given-order-id\" title=\"how to ensure there single edge in a graph for a given order id\">stackoverflow.com/questions/37370621/&hellip;</a>"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688606603,"creation_date":1688606603,"question_id":76624943,"body_markdown":"How to add unique constraints to edge property in janusgraph Globally?\r\n\r\nUnique constraints are applied to only vertex?","title":"How to add unique constraints to edge property in janusgraph?","body":"<p>How to add unique constraints to edge property in janusgraph Globally?</p>\n<p>Unique constraints are applied to only vertex?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1688599543,"post_id":76624544,"comment_id":135096765,"body_markdown":"Doing what you describe is ill advised.  What happens if the key count is identical to another key count?  Why not reverse roles of  key and value?   If the `failedIds` is unique, why not sum the successes  (value) for each failedIds (key)? It would help if you would provide an example of how you expect the map will evolve over time.","body":"Doing what you describe is ill advised.  What happens if the key count is identical to another key count?  Why not reverse roles of  key and value?   If the <code>failedIds</code> is unique, why not sum the successes  (value) for each failedIds (key)? It would help if you would provide an example of how you expect the map will evolve over time."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688605394,"creation_date":1688600050,"answer_id":76624651,"question_id":76624544,"body_markdown":"Why not do something like this. This will increment the successes for each `failedId`.  Of course failedId and successes seems a bit confusing. So instead of summing successes you would be summing failures. Note that `merge` will either initalize the value to `1` for key if it is not present, or increment the value by `1` if it is.\r\n```\r\nMap&lt;String, Integer&gt; responseMap = new HashMap&lt;&gt;();\r\nif (response.getStatusCode().is2xxSuccessful()) {\r\n      responseMap.merge(failedIds, 1, Integer::sum);\r\n}\r\n```\r\nOr create a map of maps.  The inner map will hold the `successes and failures` for each `Id`.\r\n\r\nHere is how that might look using `Random` to generate possible values for `id`, and `status`.\r\n``` \r\nMap&lt;String, Map&lt;String, Integer&gt;&gt; responseMap = new HashMap&lt;&gt;();\r\nString status;\r\nString id;\r\nRandom r = new Random();\r\nfor (int i = 0; i &lt; 30; i++) {\r\n    id = &quot;ID&quot; + (r.nextInt(3) + 1); // id from 1 to 3\r\n    status = r.nextBoolean() ? &quot;SUCCESSES&quot; : &quot;FAILURES&quot;;  \r\n    responseMap.computeIfAbsent(id, v -&gt; new HashMap&lt;&gt;()).merge(status,\r\n            1, Integer::sum);\r\n}\r\n\r\nresponseMap.entrySet().forEach(e1-&gt;{\r\n     System.out.println(e1.getKey());\r\n     e1.getValue().entrySet().forEach(e2-&gt; {\r\n         System.out.println(&quot;   &quot; + e2);\r\n     });\r\n}); \r\n```\r\nprints something like\r\n```\r\nID2\r\n   FAILURES=7\r\n   SUCCESSES=6\r\nID1\r\n   FAILURES=6\r\n   SUCCESSES=2\r\nID3\r\n   FAILURES=6\r\n   SUCCESSES=3\r\n\r\n```\r\nFirst the inner map is created if it doesn&#39;t exist for the given id.  In any event `computeIfAbsent` returns the value which will be a `Map&lt;String, Integer&gt;`.  Then `merge` is like before where the counts are incremented for the status of the call, use `Random.nextBoolean()` to assign whether th current status is a success (true) or failure (false);\r\n```","title":"How to auto increment Map&#39;s key","body":"<p>Why not do something like this. This will increment the successes for each <code>failedId</code>.  Of course failedId and successes seems a bit confusing. So instead of summing successes you would be summing failures. Note that <code>merge</code> will either initalize the value to <code>1</code> for key if it is not present, or increment the value by <code>1</code> if it is.</p>\n<pre><code>Map&lt;String, Integer&gt; responseMap = new HashMap&lt;&gt;();\nif (response.getStatusCode().is2xxSuccessful()) {\n      responseMap.merge(failedIds, 1, Integer::sum);\n}\n</code></pre>\n<p>Or create a map of maps.  The inner map will hold the <code>successes and failures</code> for each <code>Id</code>.</p>\n<p>Here is how that might look using <code>Random</code> to generate possible values for <code>id</code>, and <code>status</code>.</p>\n<pre><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; responseMap = new HashMap&lt;&gt;();\nString status;\nString id;\nRandom r = new Random();\nfor (int i = 0; i &lt; 30; i++) {\n    id = &quot;ID&quot; + (r.nextInt(3) + 1); // id from 1 to 3\n    status = r.nextBoolean() ? &quot;SUCCESSES&quot; : &quot;FAILURES&quot;;  \n    responseMap.computeIfAbsent(id, v -&gt; new HashMap&lt;&gt;()).merge(status,\n            1, Integer::sum);\n}\n\nresponseMap.entrySet().forEach(e1-&gt;{\n     System.out.println(e1.getKey());\n     e1.getValue().entrySet().forEach(e2-&gt; {\n         System.out.println(&quot;   &quot; + e2);\n     });\n}); \n</code></pre>\n<p>prints something like</p>\n<pre><code>ID2\n   FAILURES=7\n   SUCCESSES=6\nID1\n   FAILURES=6\n   SUCCESSES=2\nID3\n   FAILURES=6\n   SUCCESSES=3\n\n</code></pre>\n<p>First the inner map is created if it doesn't exist for the given id.  In any event <code>computeIfAbsent</code> returns the value which will be a <code>Map&lt;String, Integer&gt;</code>.  Then <code>merge</code> is like before where the counts are incremented for the status of the call, use <code>Random.nextBoolean()</code> to assign whether th current status is a success (true) or failure (false);</p>\n<pre><code></code></pre>\n"}],"owner":{"account_id":4859726,"reputation":283,"user_id":3919727,"display_name":"user3919727"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624651,"answer_count":1,"score":0,"last_activity_date":1688605394,"creation_date":1688598036,"question_id":76624544,"body_markdown":"I have a Map which I am using to add successCount as key and List&lt;String&gt; as value to capture failed ones.\r\nSay if I call processRequest() 5 times then requestCount will be 5 and successCount will be sum of all the success ones.\r\n\r\nI see successCount will always be 1 when I tried. Please advice how can I achieve this, thanks\r\n\r\n      public updateCust() {\r\n        HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap = new HashMap&lt;&gt;();\r\n\r\n        int requestCount = 0;\r\n        int successCount = 0;\r\n        for (Map.Entry&lt;String, List&lt;Tuple&gt;&gt; entry : custsGb.entrySet()) {\r\n            processRequest(responseMap, failedIds);\r\n            requestCount++;\r\n        }\r\n\r\n\t    if (requestCount == responseMap.keySet().stream().findFirst().get().intValue()) {\r\n             // all success - 200\r\n\t    } \r\n     }\r\n\r\n\r\n    public HashMap&lt;Integer, List&lt;String&gt;&gt; processRequest(HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap, List&lt;String&gt; failedIds) {\r\n        int successCount = 0;\r\n        if (response.getStatusCode().is2xxSuccessful()) {\r\n             responseMap.put(successCount++, failedIds);\r\n        } else {\r\n             failedIds.add(id);\r\n\t     responseMap.put(successCount, failedIds);\r\n        }\r\n        return responseMap;\r\n    }\r\n ","title":"How to auto increment Map&#39;s key","body":"<p>I have a Map which I am using to add successCount as key and List as value to capture failed ones.\nSay if I call processRequest() 5 times then requestCount will be 5 and successCount will be sum of all the success ones.</p>\n<p>I see successCount will always be 1 when I tried. Please advice how can I achieve this, thanks</p>\n<pre><code>  public updateCust() {\n    HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap = new HashMap&lt;&gt;();\n\n    int requestCount = 0;\n    int successCount = 0;\n    for (Map.Entry&lt;String, List&lt;Tuple&gt;&gt; entry : custsGb.entrySet()) {\n        processRequest(responseMap, failedIds);\n        requestCount++;\n    }\n\n    if (requestCount == responseMap.keySet().stream().findFirst().get().intValue()) {\n         // all success - 200\n    } \n }\n\n\npublic HashMap&lt;Integer, List&lt;String&gt;&gt; processRequest(HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap, List&lt;String&gt; failedIds) {\n    int successCount = 0;\n    if (response.getStatusCode().is2xxSuccessful()) {\n         responseMap.put(successCount++, failedIds);\n    } else {\n         failedIds.add(id);\n     responseMap.put(successCount, failedIds);\n    }\n    return responseMap;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1507204563,"post_id":46584294,"comment_id":80122799,"body_markdown":"Feel  free to create feature request on YouTrack: http://youtrack.jetbrains.com/issues/IDEA.","body":"Feel  free to create feature request on YouTrack: <a href=\"http://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507204934,"post_id":46584294,"comment_id":80123039,"body_markdown":"I don&#39;t _think_ IntelliJ has a &quot;single exit point&quot; refactor.","body":"I don&#39;t <i>think</i> IntelliJ has a &quot;single exit point&quot; refactor."},{"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"score":0,"creation_date":1507215930,"post_id":46584294,"comment_id":80131086,"body_markdown":"There is not. If there were, it would (likely) be offered as a quick fix for the _Java &gt; Method Metrics &gt; Method with multiple return points_ inspection. Opening a feature request is likely your best bet.","body":"There is not. If there were, it would (likely) be offered as a quick fix for the <i>Java &gt; Method Metrics &gt; Method with multiple return points</i> inspection. Opening a feature request is likely your best bet."},{"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"score":2,"creation_date":1507295942,"post_id":46584294,"comment_id":80165191,"body_markdown":"There really is no such refactoring in IntelliJ. (In this specific case you could use the Intention &quot;Replace &#39;if-else&#39; with &#39;?:&#39; &quot; (press alt-enter on the &quot;if&quot;). That does not help with the general case, of course. Also most of the times I prefer the &quot;early return&quot; to the &quot;single return&quot; style. I used to be a strong proponent of the &quot;single return&quot; style. Over the years and with lots of experience, however, I changed my opinion. Strictly enforcing &quot;single return&quot; often leads to worse readability due to unnecessary nesting and superfluous local variables.","body":"There really is no such refactoring in IntelliJ. (In this specific case you could use the Intention &quot;Replace &#39;if-else&#39; with &#39;?:&#39; &quot; (press alt-enter on the &quot;if&quot;). That does not help with the general case, of course. Also most of the times I prefer the &quot;early return&quot; to the &quot;single return&quot; style. I used to be a strong proponent of the &quot;single return&quot; style. Over the years and with lots of experience, however, I changed my opinion. Strictly enforcing &quot;single return&quot; often leads to worse readability due to unnecessary nesting and superfluous local variables."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688605155,"post_id":46584294,"comment_id":135097252,"body_markdown":"Perhaps a single exit point made sense in the days of manual memory management and no try/finally (i.e. never in Java), but now it&#39;s an anti-pattern.","body":"Perhaps a single exit point made sense in the days of manual memory management and no try/finally (i.e. never in Java), but now it&#39;s an anti-pattern."}],"answers":[{"tags":[],"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688604381,"creation_date":1688604381,"answer_id":76624850,"question_id":46584294,"body_markdown":"Put the caret at the method name, press &lt;kbd&gt;Alt+Enter&lt;/kbd&gt;, then choose &quot;Transform body to single exit-point form&quot;. It will convert the method to a single `return` form.\r\n\r\nThe setting can be found in `Settings | Editor | Intentions`, then `Java | Control flow | Transform body to single exit-point form`. It should be enabled by default.","title":"Hotkey in IntelliJ IDEA to extract all return statements in method","body":"<p>Put the caret at the method name, press <kbd>Alt+Enter</kbd>, then choose &quot;Transform body to single exit-point form&quot;. It will convert the method to a single <code>return</code> form.</p>\n<p>The setting can be found in <code>Settings | Editor | Intentions</code>, then <code>Java | Control flow | Transform body to single exit-point form</code>. It should be enabled by default.</p>\n"}],"owner":{"account_id":1788781,"reputation":467,"user_id":1629626,"accept_rate":89,"display_name":"SoulCub"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688604478,"creation_date":1507202137,"question_id":46584294,"body_markdown":"For example, if we have method:\r\n\r\n    private A getA(A a1, A a2) {\r\n        if (a1 != null) {\r\n            return a1;\r\n        } else {\r\n            return a2;\r\n        }\r\n    }\r\n\r\nDoes IDEA have some hotkey (like &lt;kbd&gt;Ctrl+Alt+V&lt;/kbd&gt; for extracting variable) to make from this code something like this:\r\n\r\n    private A selectA(A a1, A a2) {\r\n        A result;\r\n        if (a1 != null) {\r\n            result = a1;\r\n        } else {\r\n            result = a2;\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Hotkey in IntelliJ IDEA to extract all return statements in method","body":"<p>For example, if we have method:</p>\n<pre><code>private A getA(A a1, A a2) {\n    if (a1 != null) {\n        return a1;\n    } else {\n        return a2;\n    }\n}\n</code></pre>\n<p>Does IDEA have some hotkey (like <kbd>Ctrl+Alt+V</kbd> for extracting variable) to make from this code something like this:</p>\n<pre><code>private A selectA(A a1, A a2) {\n    A result;\n    if (a1 != null) {\n        result = a1;\n    } else {\n        result = a2;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","totp"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1672664285,"post_id":74982217,"comment_id":132322074,"body_markdown":"Can you also paste if you are facing any errors ? if so, which ones? Have you tried debugging ? at what statement does it go wrong sort of ? Also consider adding few log statements for your own reference","body":"Can you also paste if you are facing any errors ? if so, which ones? Have you tried debugging ? at what statement does it go wrong sort of ? Also consider adding few log statements for your own reference"},{"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"score":0,"creation_date":1672665162,"post_id":74982217,"comment_id":132322334,"body_markdown":"im getting in request response &quot;unable to auth&quot;, but in app console there is no error, i would like to try to debug verifyTotp from token manager, but the implementation is in a decompiled class file","body":"im getting in request response &quot;unable to auth&quot;, but in app console there is no error, i would like to try to debug verifyTotp from token manager, but the implementation is in a decompiled class file"}],"answers":[{"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672676107,"post_id":74983660,"comment_id":132325434,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74983660/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672680955,"creation_date":1672670093,"answer_id":74983660,"question_id":74982217,"body_markdown":"Finally found the problem, on my phone the time was delayed by 2 minutes, I&#39;ve set it to be the same as on my computer and worked. The problem is that when validating the token the app uses an interval of 30 seconds for each token generation, and if the delay on the phone or other device is bigger than 30 sec in future or past the timestamp doesnt match the one used for verification.\r\n\r\nHere is the documentation for the library i used, make sure to read it carefully before using it. \r\nhttps://github.com/samdjstevens/java-totp\r\n\r\nHere is the article which i followed in my project:\r\nhttps://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/\r\n\r\nUseful reading before starting a project using TOTP:\r\nhttps://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/\r\n\r\nA youtube video about 2FA:\r\nhttps://www.youtube.com/watch?v=ZXFYT-BG2So","title":"spring boot mfa totp code verification on login not working","body":"<p>Finally found the problem, on my phone the time was delayed by 2 minutes, I've set it to be the same as on my computer and worked. The problem is that when validating the token the app uses an interval of 30 seconds for each token generation, and if the delay on the phone or other device is bigger than 30 sec in future or past the timestamp doesnt match the one used for verification.</p>\n<p>Here is the documentation for the library i used, make sure to read it carefully before using it.\n<a href=\"https://github.com/samdjstevens/java-totp\" rel=\"nofollow noreferrer\">https://github.com/samdjstevens/java-totp</a></p>\n<p>Here is the article which i followed in my project:\n<a href=\"https://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/</a></p>\n<p>Useful reading before starting a project using TOTP:\n<a href=\"https://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/</a></p>\n<p>A youtube video about 2FA:\n<a href=\"https://www.youtube.com/watch?v=ZXFYT-BG2So\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZXFYT-BG2So</a></p>\n"},{"tags":[],"owner":{"account_id":4954246,"reputation":41,"user_id":3987327,"display_name":"Sumant Shanbag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688603582,"creation_date":1688603582,"answer_id":76624817,"question_id":74982217,"body_markdown":"I stumbled upon this thread while trying to learn TOTP concepts and after 2/3 hours of working through the issues I think I have the solution going.\r\n\r\n1. POM dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;totp-spring-boot-starter&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. TOTPConstants.java\r\n\r\n```\r\npackage com.spsllc.config;\r\n\r\nimport dev.samstevens.totp.code.HashingAlgorithm;\r\n\r\npublic interface TOTPConstants {\r\n\r\n    int DIGITS = 6;\r\n    int SECRET_CHARACTER_LENGTH = 32;\r\n    int CODE_VALIDITY_IN_SECONDS = 30;\r\n    int TIME_PERIOD_DISCREPANCY = 1;\r\n    HashingAlgorithm HASHING_ALGO = HashingAlgorithm.SHA1;\r\n}\r\n```\r\n\r\n3. TOTPConfig.java\r\n```\r\npackage com.spsllc.config;\r\n\r\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\r\nimport static com.spsllc.config.TOTPConstants.DIGITS;\r\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\r\nimport static com.spsllc.config.TOTPConstants.SECRET_CHARACTER_LENGTH;\r\nimport static com.spsllc.config.TOTPConstants.TIME_PERIOD_DISCREPANCY;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport dev.samstevens.totp.code.CodeGenerator;\r\nimport dev.samstevens.totp.code.CodeVerifier;\r\nimport dev.samstevens.totp.code.DefaultCodeGenerator;\r\nimport dev.samstevens.totp.code.DefaultCodeVerifier;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.qr.ZxingPngQrGenerator;\r\nimport dev.samstevens.totp.secret.DefaultSecretGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport dev.samstevens.totp.time.NtpTimeProvider;\r\nimport dev.samstevens.totp.time.TimeProvider;\r\n\r\n@Configuration\r\npublic class TOTPConfig {\r\n\r\n    @Bean\r\n    public TimeProvider timeProvider() throws Exception {\r\n        return new NtpTimeProvider(&quot;pool.ntp.org&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecretGenerator secretGenerator() {\r\n        return new DefaultSecretGenerator(SECRET_CHARACTER_LENGTH);\r\n    }\r\n\r\n    @Bean\r\n    public QrGenerator qrGenerator() {\r\n        return new ZxingPngQrGenerator();\r\n    }\r\n\r\n    @Bean\r\n    public CodeGenerator codeGenerator() {\r\n        return new DefaultCodeGenerator(HASHING_ALGO, DIGITS);\r\n    }\r\n\r\n    @Bean\r\n    public CodeVerifier codeVerifier() throws Exception {\r\n        DefaultCodeVerifier verifier = new DefaultCodeVerifier(codeGenerator(), timeProvider());\r\n        verifier.setTimePeriod(CODE_VALIDITY_IN_SECONDS);\r\n        verifier.setAllowedTimePeriodDiscrepancy(TIME_PERIOD_DISCREPANCY);\r\n        return verifier;\r\n    }\r\n}\r\n```\r\n\r\n4. TOTPController.java\r\n```\r\npackage com.spsllc.controller;\r\n\r\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\r\nimport static com.spsllc.config.TOTPConstants.DIGITS;\r\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\r\nimport static dev.samstevens.totp.util.Utils.getDataUriForImage;\r\n\r\nimport java.time.Instant;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\nimport dev.samstevens.totp.code.CodeGenerator;\r\nimport dev.samstevens.totp.code.CodeVerifier;\r\nimport dev.samstevens.totp.exceptions.QrGenerationException;\r\nimport dev.samstevens.totp.qr.QrData;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Controller\r\n@Slf4j\r\npublic class TOTPController {\r\n\r\n    @Autowired\r\n    private SecretGenerator secretGenerator;\r\n\r\n    @Autowired\r\n    private CodeGenerator codeGenerator;\r\n\r\n    @Autowired\r\n    private QrGenerator qrGenerator;\r\n\r\n    @Autowired\r\n    private CodeVerifier verifier;\r\n\r\n    @GetMapping(&quot;/totp/setup&quot;)\r\n    public ModelAndView setupDevice(ModelAndView modelAndView) throws QrGenerationException {\r\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\r\n        // String secret = secretGenerator.generate();\r\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\r\n        String secret = &quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;;\r\n        QrData data = new QrData.Builder()\r\n                .label(&quot;john.doe@example.com&quot;)\r\n                .secret(secret)\r\n                .issuer(&quot;Imaginary Inc.,&quot;)\r\n                .digits(DIGITS)\r\n                .period(CODE_VALIDITY_IN_SECONDS)\r\n                .algorithm(HASHING_ALGO)\r\n                .build();\r\n\r\n        String qrCodeImage = getDataUriForImage(\r\n                qrGenerator.generate(data),\r\n                qrGenerator.getImageMimeType());\r\n\r\n        modelAndView.setViewName(&quot;content/totp-setup.html&quot;);\r\n        modelAndView.addObject(&quot;qrCodeImageData&quot;, qrCodeImage);\r\n        return modelAndView;\r\n    }\r\n\r\n    @GetMapping(value= &quot;/totp/verify/{totpCode}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;TOTPCode&gt; verify(@PathVariable(name = &quot;totpCode&quot;) String code) {\r\n        TOTPCode totpCode = new TOTPCode();\r\n        totpCode.setCode(code);\r\n        totpCode.setVerificationStatus(&quot;INCORRECT CODE&quot;);\r\n        if (verifier.isValidCode(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, code)) {\r\n            totpCode.setVerificationStatus(&quot;CORRECT CODE&quot;);\r\n        }\r\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/totp/code&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;TOTPCode&gt; generateCode() throws Exception {\r\n        TOTPCode totpCode = new TOTPCode();\r\n        totpCode.setCode(codeGenerator.generate(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, Instant.now().getEpochSecond() / CODE_VALIDITY_IN_SECONDS));\r\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public static class TOTPCode {\r\n        String code;\r\n        String verificationStatus;\r\n    }\r\n}\r\n\r\n```\r\n\r\n5. src\\main\\resources\\templates\\content\\totp-setup.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}&quot; /&gt;\r\n    &lt;script th:src=&quot;@{/webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.3/umd/popper.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;link th:rel=&quot;apple-touch-icon&quot; sizes=&quot;180x180&quot; th:href=&quot;@{/apple-touch-icon.png}&quot; /&gt;\r\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; th:href=&quot;@{/favicon-32x32.png}&quot; /&gt;\r\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;16x16&quot; th:href=&quot;@{/favicon-16x16.png}&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;data:,&quot;&gt;\r\n    &lt;link th:rel=&quot;manifest&quot; th:href=&quot;@{/site.webmanifest}&quot; /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container mt-2&quot;&gt;\r\n        &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;\r\n            &lt;h3&gt;Scan this QR code in your authenticator app...&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;img th:src=&quot;${qrCodeImageData}&quot; style=&quot;height: 100px; width:100px;&quot; class=&quot;rounded float-start&quot; alt=&quot;TOTP QR Code&quot;/&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n6. Screenshots:\r\n[![Setup/onboard the user using QR Code][1]][1]\r\n[![get the code][2]][2]\r\n[![verify the code][3]][3]\r\n\r\n7. Additional thoughts\r\n\r\nI have tested this against following authenticator apps. I have also tested the solution with 8-digit-code with a validity of 60 seconds. It worked fine.\r\n\r\nI could not get it to work with SHA256/SHA512 hashing algorithms (only Google authenticator worked, but not Secureauth Authenticate). So for now, I am sticking with SHA1.\r\n\r\n```\r\na) Microsoft authenticator\r\nb) Google authenticator\r\nc) SecureAuth Authenticator\r\nd) Symantec VIP Access app\r\ne) 2FA Authy\r\nf) Authy\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xhfx6.png\r\n  [2]: https://i.stack.imgur.com/NBeGe.png\r\n  [3]: https://i.stack.imgur.com/bazy6.png","title":"spring boot mfa totp code verification on login not working","body":"<p>I stumbled upon this thread while trying to learn TOTP concepts and after 2/3 hours of working through the issues I think I have the solution going.</p>\n<ol>\n<li>POM dependencies:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\n    &lt;artifactId&gt;totp-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-net&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>TOTPConstants.java</li>\n</ol>\n<pre><code>package com.spsllc.config;\n\nimport dev.samstevens.totp.code.HashingAlgorithm;\n\npublic interface TOTPConstants {\n\n    int DIGITS = 6;\n    int SECRET_CHARACTER_LENGTH = 32;\n    int CODE_VALIDITY_IN_SECONDS = 30;\n    int TIME_PERIOD_DISCREPANCY = 1;\n    HashingAlgorithm HASHING_ALGO = HashingAlgorithm.SHA1;\n}\n</code></pre>\n<ol start=\"3\">\n<li>TOTPConfig.java</li>\n</ol>\n<pre><code>package com.spsllc.config;\n\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\nimport static com.spsllc.config.TOTPConstants.DIGITS;\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\nimport static com.spsllc.config.TOTPConstants.SECRET_CHARACTER_LENGTH;\nimport static com.spsllc.config.TOTPConstants.TIME_PERIOD_DISCREPANCY;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport dev.samstevens.totp.code.CodeGenerator;\nimport dev.samstevens.totp.code.CodeVerifier;\nimport dev.samstevens.totp.code.DefaultCodeGenerator;\nimport dev.samstevens.totp.code.DefaultCodeVerifier;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.qr.ZxingPngQrGenerator;\nimport dev.samstevens.totp.secret.DefaultSecretGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport dev.samstevens.totp.time.NtpTimeProvider;\nimport dev.samstevens.totp.time.TimeProvider;\n\n@Configuration\npublic class TOTPConfig {\n\n    @Bean\n    public TimeProvider timeProvider() throws Exception {\n        return new NtpTimeProvider(&quot;pool.ntp.org&quot;);\n    }\n\n    @Bean\n    public SecretGenerator secretGenerator() {\n        return new DefaultSecretGenerator(SECRET_CHARACTER_LENGTH);\n    }\n\n    @Bean\n    public QrGenerator qrGenerator() {\n        return new ZxingPngQrGenerator();\n    }\n\n    @Bean\n    public CodeGenerator codeGenerator() {\n        return new DefaultCodeGenerator(HASHING_ALGO, DIGITS);\n    }\n\n    @Bean\n    public CodeVerifier codeVerifier() throws Exception {\n        DefaultCodeVerifier verifier = new DefaultCodeVerifier(codeGenerator(), timeProvider());\n        verifier.setTimePeriod(CODE_VALIDITY_IN_SECONDS);\n        verifier.setAllowedTimePeriodDiscrepancy(TIME_PERIOD_DISCREPANCY);\n        return verifier;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>TOTPController.java</li>\n</ol>\n<pre><code>package com.spsllc.controller;\n\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\nimport static com.spsllc.config.TOTPConstants.DIGITS;\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\nimport static dev.samstevens.totp.util.Utils.getDataUriForImage;\n\nimport java.time.Instant;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\nimport dev.samstevens.totp.code.CodeGenerator;\nimport dev.samstevens.totp.code.CodeVerifier;\nimport dev.samstevens.totp.exceptions.QrGenerationException;\nimport dev.samstevens.totp.qr.QrData;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.extern.slf4j.Slf4j;\n\n@Controller\n@Slf4j\npublic class TOTPController {\n\n    @Autowired\n    private SecretGenerator secretGenerator;\n\n    @Autowired\n    private CodeGenerator codeGenerator;\n\n    @Autowired\n    private QrGenerator qrGenerator;\n\n    @Autowired\n    private CodeVerifier verifier;\n\n    @GetMapping(&quot;/totp/setup&quot;)\n    public ModelAndView setupDevice(ModelAndView modelAndView) throws QrGenerationException {\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\n        // String secret = secretGenerator.generate();\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\n        String secret = &quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;;\n        QrData data = new QrData.Builder()\n                .label(&quot;john.doe@example.com&quot;)\n                .secret(secret)\n                .issuer(&quot;Imaginary Inc.,&quot;)\n                .digits(DIGITS)\n                .period(CODE_VALIDITY_IN_SECONDS)\n                .algorithm(HASHING_ALGO)\n                .build();\n\n        String qrCodeImage = getDataUriForImage(\n                qrGenerator.generate(data),\n                qrGenerator.getImageMimeType());\n\n        modelAndView.setViewName(&quot;content/totp-setup.html&quot;);\n        modelAndView.addObject(&quot;qrCodeImageData&quot;, qrCodeImage);\n        return modelAndView;\n    }\n\n    @GetMapping(value= &quot;/totp/verify/{totpCode}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;TOTPCode&gt; verify(@PathVariable(name = &quot;totpCode&quot;) String code) {\n        TOTPCode totpCode = new TOTPCode();\n        totpCode.setCode(code);\n        totpCode.setVerificationStatus(&quot;INCORRECT CODE&quot;);\n        if (verifier.isValidCode(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, code)) {\n            totpCode.setVerificationStatus(&quot;CORRECT CODE&quot;);\n        }\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\n    }\n\n    @GetMapping(value = &quot;/totp/code&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;TOTPCode&gt; generateCode() throws Exception {\n        TOTPCode totpCode = new TOTPCode();\n        totpCode.setCode(codeGenerator.generate(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, Instant.now().getEpochSecond() / CODE_VALIDITY_IN_SECONDS));\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\n    }\n\n    @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public static class TOTPCode {\n        String code;\n        String verificationStatus;\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>src\\main\\resources\\templates\\content\\totp-setup.html</li>\n</ol>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}&quot; /&gt;\n    &lt;script th:src=&quot;@{/webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.3/umd/popper.min.js}&quot;&gt;&lt;/script&gt;\n\n    &lt;link th:rel=&quot;apple-touch-icon&quot; sizes=&quot;180x180&quot; th:href=&quot;@{/apple-touch-icon.png}&quot; /&gt;\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; th:href=&quot;@{/favicon-32x32.png}&quot; /&gt;\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;16x16&quot; th:href=&quot;@{/favicon-16x16.png}&quot; /&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;data:,&quot;&gt;\n    &lt;link th:rel=&quot;manifest&quot; th:href=&quot;@{/site.webmanifest}&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container mt-2&quot;&gt;\n        &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;\n            &lt;h3&gt;Scan this QR code in your authenticator app...&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;img th:src=&quot;${qrCodeImageData}&quot; style=&quot;height: 100px; width:100px;&quot; class=&quot;rounded float-start&quot; alt=&quot;TOTP QR Code&quot;/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<ol start=\"6\">\n<li><p>Screenshots:\n<a href=\"https://i.stack.imgur.com/Xhfx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xhfx6.png\" alt=\"Setup/onboard the user using QR Code\" /></a>\n<a href=\"https://i.stack.imgur.com/NBeGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBeGe.png\" alt=\"get the code\" /></a>\n<a href=\"https://i.stack.imgur.com/bazy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bazy6.png\" alt=\"verify the code\" /></a></p>\n</li>\n<li><p>Additional thoughts</p>\n</li>\n</ol>\n<p>I have tested this against following authenticator apps. I have also tested the solution with 8-digit-code with a validity of 60 seconds. It worked fine.</p>\n<p>I could not get it to work with SHA256/SHA512 hashing algorithms (only Google authenticator worked, but not Secureauth Authenticate). So for now, I am sticking with SHA1.</p>\n<pre><code>a) Microsoft authenticator\nb) Google authenticator\nc) SecureAuth Authenticator\nd) Symantec VIP Access app\ne) 2FA Authy\nf) Authy\n</code></pre>\n"}],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74983660,"answer_count":2,"score":0,"last_activity_date":1688603582,"creation_date":1672661050,"question_id":74982217,"body_markdown":"I am trying to implement mfa authentication in my app using totp. Bellow is the library i use. All is going well for registering the user, i receive the qr code, scan it and get every 30 secs the code in google authenticator. When i am trying to login to verify the code, the code verification doesnt work (in auth service, method Verify). I&#39;ve spent several hours but cant figure it out, tried different users, logs but without success.\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthis is my code\r\n\r\nAuthContoller.java\r\n\r\n```\r\n\r\nimport com.example.jsonfaker.model.dto.LoginRequest;\r\nimport com.example.jsonfaker.model.dto.SignupRequest;\r\nimport com.example.jsonfaker.model.dto.VerifyRequest;\r\nimport com.example.jsonfaker.service.Exporter;\r\nimport com.example.jsonfaker.service.UserAuthService;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@CrossOrigin\r\npublic class AuthController {\r\n    private final Exporter exporter;\r\n\r\n    private final UserAuthService userAuthService;\r\n\r\n    public AuthController(Exporter exporter, UserAuthService userAuthService) {\r\n        this.exporter = exporter;\r\n        this.userAuthService = userAuthService;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n        String response = userAuthService.login(loginRequest);\r\n        return ResponseEntity\r\n                .ok()\r\n                .body(response);\r\n    }\r\n\r\n    @PostMapping(&quot;/register2FA&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; registerUser2FA(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\r\n\r\n        userAuthService.register2FA(signupRequest);\r\n        byte[] qrCodeBytes = userAuthService.mfaAccountSetup(signupRequest.getUsername());\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot;+exporter.exportFileNameQR() + &quot;.png\\&quot;&quot;)\r\n                .body(qrCodeBytes);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\r\n        userAuthService.simpleRegister(signupRequest);\r\n        return ResponseEntity.ok(HttpStatus.CREATED);\r\n    }\r\n\r\n    @PostMapping(&quot;/verify&quot;)\r\n    public ResponseEntity&lt;String&gt; authenticateUser2FA(@Valid @RequestBody VerifyRequest verifyRequest) throws Exception {\r\n        String response = userAuthService.verify(verifyRequest.getUsername(), verifyRequest.getCode());\r\n        return ResponseEntity\r\n                .ok()\r\n                .body(response);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nthis is my token manager\r\n\r\n```\r\nimport dev.samstevens.totp.code.*;\r\nimport dev.samstevens.totp.exceptions.QrGenerationException;\r\nimport dev.samstevens.totp.qr.QrData;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport dev.samstevens.totp.time.SystemTimeProvider;\r\nimport dev.samstevens.totp.time.TimeProvider;\r\nimport dev.samstevens.totp.util.Utils;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;mfaTokenManager&quot;)\r\npublic class DefaultMFATokenManager implements MFATokenManager {\r\n\r\n\r\n    private final SecretGenerator secretGenerator;\r\n\r\n\r\n    private final QrGenerator qrGenerator;\r\n\r\n\r\n    private final CodeVerifier codeVerifier;\r\n\r\n    public DefaultMFATokenManager(SecretGenerator secretGenerator, QrGenerator qrGenerator, CodeVerifier codeVerifier) {\r\n        this.secretGenerator = secretGenerator;\r\n        this.qrGenerator = qrGenerator;\r\n        this.codeVerifier = codeVerifier;\r\n    }\r\n\r\n    @Override\r\n    public String generateSecretKey() {\r\n        return secretGenerator.generate();\r\n    }\r\n\r\n    @Override\r\n    public String getQRCode(String secret) throws QrGenerationException {\r\n        QrData data = new QrData.Builder().label(&quot;MFA&quot;)\r\n                .secret(secret)\r\n                .issuer(&quot;Daniel token&quot;)\r\n                .algorithm(HashingAlgorithm.SHA1)\r\n                .digits(6)\r\n                .period(30)\r\n                .build();\r\n        return Utils.getDataUriForImage(\r\n                qrGenerator.generate(data),\r\n                qrGenerator.getImageMimeType()\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public boolean verifyTotp(String code, String secret) {\r\n        TimeProvider timeProvider = new SystemTimeProvider();\r\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\r\n        CodeVerifier verifier = new DefaultCodeVerifier(codeGenerator, timeProvider);\r\n        System.out.println(timeProvider.getTime());\r\n        System.out.println(codeGenerator);\r\n\r\n        return verifier.isValidCode(secret, code);\r\n    }\r\n}\r\n```\r\n\r\nthis is my auth service\r\n\r\n```\r\n\r\nimport com.example.jsonfaker.model.Roles;\r\nimport com.example.jsonfaker.model.SystemUser;\r\nimport com.example.jsonfaker.model.dto.LoginRequest;\r\nimport com.example.jsonfaker.model.dto.SignupRequest;\r\nimport com.example.jsonfaker.model.dto.TokenResponse;\r\nimport com.example.jsonfaker.repository.RolesRepository;\r\nimport com.example.jsonfaker.repository.SystemUserRepository;\r\nimport com.example.jsonfaker.security.AuthoritiesConstants;\r\nimport com.example.jsonfaker.security.jwt.JwtUtils;\r\nimport com.example.jsonfaker.twoFA.MFATokenManager;\r\nimport com.example.jsonfaker.twoFA.MfaTokenData;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.Objects.nonNull;\r\n\r\n@Service\r\npublic class UserAuthService {\r\n    private final SystemUserRepository systemUserRepository;\r\n    private final RolesRepository rolesRepository;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private final MFATokenManager mfaTokenManager;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final LoginUserService loginUserService;\r\n    private final JwtUtils jwtUtils;\r\n\r\n    public UserAuthService(SystemUserRepository systemUserRepository, RolesRepository rolesRepository, BCryptPasswordEncoder bCryptPasswordEncoder, MFATokenManager mfaTokenManager, AuthenticationManager authenticationManager, LoginUserService loginUserService, JwtUtils jwtUtils) {\r\n        this.systemUserRepository = systemUserRepository;\r\n        this.rolesRepository = rolesRepository;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        this.mfaTokenManager = mfaTokenManager;\r\n        this.authenticationManager = authenticationManager;\r\n        this.loginUserService = loginUserService;\r\n        this.jwtUtils = jwtUtils;\r\n    }\r\n\r\n    public void simpleRegister(SignupRequest signupRequest) throws Exception {\r\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\r\n            throw new Exception(&quot;User with this username exists&quot;);\r\n        }\r\n\r\n        Roles simpleUserRole = new Roles();\r\n        simpleUserRole.setName(AuthoritiesConstants.USER);\r\n\r\n        SystemUser user = new SystemUser();\r\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\r\n        user.setUsername(signupRequest.getUsername());\r\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\r\n        user.setSecret(mfaTokenManager.generateSecretKey());\r\n        systemUserRepository.save(user);\r\n\r\n    }\r\n\r\n    public void register2FA(SignupRequest signupRequest) throws Exception {\r\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\r\n            throw new Exception(&quot;User with this username exists&quot;);\r\n        }\r\n        Roles simpleUserRole = new Roles();\r\n        simpleUserRole.setName(AuthoritiesConstants.USER);\r\n\r\n        SystemUser user = new SystemUser();\r\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\r\n        user.setUsername(signupRequest.getUsername());\r\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\r\n        user.setTwoFAisEnabled(Boolean.TRUE);\r\n        user.setSecret(mfaTokenManager.generateSecretKey());\r\n        systemUserRepository.save(user);\r\n    }\r\n\r\n    public byte[] mfaAccountSetup(String username) throws Exception {\r\n        SystemUser user = systemUserRepository.findByUsername(username).get();\r\n        if (!nonNull(user)){\r\n            throw new Exception(&quot;Unable to find user with this username&quot;);\r\n        }\r\n        if(!user.isTwoFAisEnabled()){\r\n            throw new Exception(&quot;2FA is not enabled for this account&quot;);\r\n        }\r\n        MfaTokenData token =  new MfaTokenData(mfaTokenManager.getQRCode(user.getSecret()), user.getSecret());\r\n        System.out.println(&quot;Mfa code :&quot; +token.getMfaCode());\r\n\r\n        String base64Image = token.getQrCode().split(&quot;,&quot;)[1];\r\n        byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\r\n        return imageBytes;\r\n    }\r\n\r\n    public String login(LoginRequest loginRequest){\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginRequest.getUsername(),\r\n                        loginRequest.getPassword()\r\n                )\r\n        );\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        if(systemUserRepository.findByUsername(loginRequest.getUsername()).get().isTwoFAisEnabled()){\r\n            return &quot;verify code now&quot;;\r\n        }\r\n\r\n        SystemUser userDetails = (SystemUser) authentication.getPrincipal();\r\n\r\n        String jwt = jwtUtils.generateJwtToken(userDetails);\r\n\r\n        return new TokenResponse(jwt).toString();\r\n\r\n    }\r\n\r\n    public String verify(String username, String code) throws Exception {\r\n\r\n        SystemUser user = systemUserRepository.findByUsername(username).get();\r\n        if (!nonNull(user)){\r\n            throw new Exception(&quot;Unable to find user with this username&quot;);\r\n        }\r\n\r\n        if (!mfaTokenManager.verifyTotp(code, user.getSecret())){\r\n            return &quot;unable to auth&quot;;\r\n        }\r\n        return &quot;token here&quot;;\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"spring boot mfa totp code verification on login not working","body":"<p>I am trying to implement mfa authentication in my app using totp. Bellow is the library i use. All is going well for registering the user, i receive the qr code, scan it and get every 30 secs the code in google authenticator. When i am trying to login to verify the code, the code verification doesnt work (in auth service, method Verify). I've spent several hours but cant figure it out, tried different users, logs but without success.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>this is my code</p>\n<p>AuthContoller.java</p>\n<pre><code>\nimport com.example.jsonfaker.model.dto.LoginRequest;\nimport com.example.jsonfaker.model.dto.SignupRequest;\nimport com.example.jsonfaker.model.dto.VerifyRequest;\nimport com.example.jsonfaker.service.Exporter;\nimport com.example.jsonfaker.service.UserAuthService;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n    private final Exporter exporter;\n\n    private final UserAuthService userAuthService;\n\n    public AuthController(Exporter exporter, UserAuthService userAuthService) {\n        this.exporter = exporter;\n        this.userAuthService = userAuthService;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        String response = userAuthService.login(loginRequest);\n        return ResponseEntity\n                .ok()\n                .body(response);\n    }\n\n    @PostMapping(&quot;/register2FA&quot;)\n    public ResponseEntity&lt;byte[]&gt; registerUser2FA(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\n\n        userAuthService.register2FA(signupRequest);\n        byte[] qrCodeBytes = userAuthService.mfaAccountSetup(signupRequest.getUsername());\n\n        return ResponseEntity\n                .ok()\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot;+exporter.exportFileNameQR() + &quot;.png\\&quot;&quot;)\n                .body(qrCodeBytes);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\n        userAuthService.simpleRegister(signupRequest);\n        return ResponseEntity.ok(HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/verify&quot;)\n    public ResponseEntity&lt;String&gt; authenticateUser2FA(@Valid @RequestBody VerifyRequest verifyRequest) throws Exception {\n        String response = userAuthService.verify(verifyRequest.getUsername(), verifyRequest.getCode());\n        return ResponseEntity\n                .ok()\n                .body(response);\n    }\n\n\n}\n\n</code></pre>\n<p>this is my token manager</p>\n<pre><code>import dev.samstevens.totp.code.*;\nimport dev.samstevens.totp.exceptions.QrGenerationException;\nimport dev.samstevens.totp.qr.QrData;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport dev.samstevens.totp.time.SystemTimeProvider;\nimport dev.samstevens.totp.time.TimeProvider;\nimport dev.samstevens.totp.util.Utils;\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;mfaTokenManager&quot;)\npublic class DefaultMFATokenManager implements MFATokenManager {\n\n\n    private final SecretGenerator secretGenerator;\n\n\n    private final QrGenerator qrGenerator;\n\n\n    private final CodeVerifier codeVerifier;\n\n    public DefaultMFATokenManager(SecretGenerator secretGenerator, QrGenerator qrGenerator, CodeVerifier codeVerifier) {\n        this.secretGenerator = secretGenerator;\n        this.qrGenerator = qrGenerator;\n        this.codeVerifier = codeVerifier;\n    }\n\n    @Override\n    public String generateSecretKey() {\n        return secretGenerator.generate();\n    }\n\n    @Override\n    public String getQRCode(String secret) throws QrGenerationException {\n        QrData data = new QrData.Builder().label(&quot;MFA&quot;)\n                .secret(secret)\n                .issuer(&quot;Daniel token&quot;)\n                .algorithm(HashingAlgorithm.SHA1)\n                .digits(6)\n                .period(30)\n                .build();\n        return Utils.getDataUriForImage(\n                qrGenerator.generate(data),\n                qrGenerator.getImageMimeType()\n        );\n    }\n\n    @Override\n    public boolean verifyTotp(String code, String secret) {\n        TimeProvider timeProvider = new SystemTimeProvider();\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\n        CodeVerifier verifier = new DefaultCodeVerifier(codeGenerator, timeProvider);\n        System.out.println(timeProvider.getTime());\n        System.out.println(codeGenerator);\n\n        return verifier.isValidCode(secret, code);\n    }\n}\n</code></pre>\n<p>this is my auth service</p>\n<pre><code>\nimport com.example.jsonfaker.model.Roles;\nimport com.example.jsonfaker.model.SystemUser;\nimport com.example.jsonfaker.model.dto.LoginRequest;\nimport com.example.jsonfaker.model.dto.SignupRequest;\nimport com.example.jsonfaker.model.dto.TokenResponse;\nimport com.example.jsonfaker.repository.RolesRepository;\nimport com.example.jsonfaker.repository.SystemUserRepository;\nimport com.example.jsonfaker.security.AuthoritiesConstants;\nimport com.example.jsonfaker.security.jwt.JwtUtils;\nimport com.example.jsonfaker.twoFA.MFATokenManager;\nimport com.example.jsonfaker.twoFA.MfaTokenData;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.stream.Collectors;\n\nimport static java.util.Objects.nonNull;\n\n@Service\npublic class UserAuthService {\n    private final SystemUserRepository systemUserRepository;\n    private final RolesRepository rolesRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    private final MFATokenManager mfaTokenManager;\n    private final AuthenticationManager authenticationManager;\n    private final LoginUserService loginUserService;\n    private final JwtUtils jwtUtils;\n\n    public UserAuthService(SystemUserRepository systemUserRepository, RolesRepository rolesRepository, BCryptPasswordEncoder bCryptPasswordEncoder, MFATokenManager mfaTokenManager, AuthenticationManager authenticationManager, LoginUserService loginUserService, JwtUtils jwtUtils) {\n        this.systemUserRepository = systemUserRepository;\n        this.rolesRepository = rolesRepository;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n        this.mfaTokenManager = mfaTokenManager;\n        this.authenticationManager = authenticationManager;\n        this.loginUserService = loginUserService;\n        this.jwtUtils = jwtUtils;\n    }\n\n    public void simpleRegister(SignupRequest signupRequest) throws Exception {\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\n            throw new Exception(&quot;User with this username exists&quot;);\n        }\n\n        Roles simpleUserRole = new Roles();\n        simpleUserRole.setName(AuthoritiesConstants.USER);\n\n        SystemUser user = new SystemUser();\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\n        user.setUsername(signupRequest.getUsername());\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\n        user.setSecret(mfaTokenManager.generateSecretKey());\n        systemUserRepository.save(user);\n\n    }\n\n    public void register2FA(SignupRequest signupRequest) throws Exception {\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\n            throw new Exception(&quot;User with this username exists&quot;);\n        }\n        Roles simpleUserRole = new Roles();\n        simpleUserRole.setName(AuthoritiesConstants.USER);\n\n        SystemUser user = new SystemUser();\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\n        user.setUsername(signupRequest.getUsername());\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\n        user.setTwoFAisEnabled(Boolean.TRUE);\n        user.setSecret(mfaTokenManager.generateSecretKey());\n        systemUserRepository.save(user);\n    }\n\n    public byte[] mfaAccountSetup(String username) throws Exception {\n        SystemUser user = systemUserRepository.findByUsername(username).get();\n        if (!nonNull(user)){\n            throw new Exception(&quot;Unable to find user with this username&quot;);\n        }\n        if(!user.isTwoFAisEnabled()){\n            throw new Exception(&quot;2FA is not enabled for this account&quot;);\n        }\n        MfaTokenData token =  new MfaTokenData(mfaTokenManager.getQRCode(user.getSecret()), user.getSecret());\n        System.out.println(&quot;Mfa code :&quot; +token.getMfaCode());\n\n        String base64Image = token.getQrCode().split(&quot;,&quot;)[1];\n        byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\n        return imageBytes;\n    }\n\n    public String login(LoginRequest loginRequest){\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsername(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        if(systemUserRepository.findByUsername(loginRequest.getUsername()).get().isTwoFAisEnabled()){\n            return &quot;verify code now&quot;;\n        }\n\n        SystemUser userDetails = (SystemUser) authentication.getPrincipal();\n\n        String jwt = jwtUtils.generateJwtToken(userDetails);\n\n        return new TokenResponse(jwt).toString();\n\n    }\n\n    public String verify(String username, String code) throws Exception {\n\n        SystemUser user = systemUserRepository.findByUsername(username).get();\n        if (!nonNull(user)){\n            throw new Exception(&quot;Unable to find user with this username&quot;);\n        }\n\n        if (!mfaTokenManager.verifyTotp(code, user.getSecret())){\n            return &quot;unable to auth&quot;;\n        }\n        return &quot;token here&quot;;\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","database","intellij-idea","jdbc"],"answers":[{"comments":[{"owner":{"account_id":19675233,"reputation":41,"user_id":14403560,"display_name":"Najwa K. Semdina"},"score":0,"creation_date":1619412996,"post_id":67260974,"comment_id":118887773,"body_markdown":"In any pom.xml files? Or specific ones? If specific ones, from where can I get them? And thank you for the reply :)","body":"In any pom.xml files? Or specific ones? If specific ones, from where can I get them? And thank you for the reply :)"},{"owner":{"account_id":2579581,"reputation":761,"user_id":2236549,"accept_rate":29,"display_name":"Subha Chandra"},"score":0,"creation_date":1619416823,"post_id":67260974,"comment_id":118888616,"body_markdown":"create pom.xml file in Project root folder and add it there \nexample https://maven.apache.org/guides/introduction/introduction-to-the-pom.html","body":"create pom.xml file in Project root folder and add it there  example <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"tags":[],"owner":{"account_id":2579581,"reputation":761,"user_id":2236549,"accept_rate":29,"display_name":"Subha Chandra"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619421129,"creation_date":1619412445,"answer_id":67260974,"question_id":67260915,"body_markdown":"Just add the MySQL dependency in pom.xml files\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.24&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>Just add the MySQL dependency in pom.xml files</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3231743,"reputation":973,"user_id":2726840,"accept_rate":100,"display_name":"JrBenito"},"score":1,"creation_date":1688601159,"post_id":67261050,"comment_id":135096907,"body_markdown":"for versions above 8.0.29 use groupId `com.mysql` and artifactId `mysql-connector-j` as per documentation.","body":"for versions above 8.0.29 use groupId <code>com.mysql</code> and artifactId <code>mysql-connector-j</code> as per documentation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1688602643,"post_id":67261050,"comment_id":135097040,"body_markdown":"@JrBenito Thanks for the tip. I updated the Answer.","body":"@JrBenito Thanks for the tip. I updated the Answer."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688602442,"creation_date":1619413014,"answer_id":67261050,"question_id":67260915,"body_markdown":"To connect to a MySQL database server from a Java app, you need a [JDBC driver][1]. The *MySQL Connector/J* product is one such JDBC driver.\r\n\r\nYou can obtain *MySQL Connector/J* via Maven. Look at a Maven repository for the `&lt;dependency&gt;` XML fragment. Copy-paste that within the `&lt;dependencies&gt;` tag of your POM file.\r\n\r\nFor example, look at [MvnRepository.com][2].\r\n\r\nAs of 8.0.29:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.29&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore version 8.0.29:\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nA [POM][3] file is the place to configure a project whose build is driven by [*Apache Maven*][4]. Maven is one of the most popular build tools. Another is [*Apache Gradle*][5], which provides dependency management via the same Maven repositories. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [2]: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n  [3]: https://en.m.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [4]: https://en.m.wikipedia.org/wiki/Apache_Maven\r\n  [5]: https://en.m.wikipedia.org/wiki/Gradle","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>To connect to a MySQL database server from a Java app, you need a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>. The <em>MySQL Connector/J</em> product is one such JDBC driver.</p>\n<p>You can obtain <em>MySQL Connector/J</em> via Maven. Look at a Maven repository for the <code>&lt;dependency&gt;</code> XML fragment. Copy-paste that within the <code>&lt;dependencies&gt;</code> tag of your POM file.</p>\n<p>For example, look at <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">MvnRepository.com</a>.</p>\n<p>As of 8.0.29:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.29&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Before version 8.0.29:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>A <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file is the place to configure a project whose build is driven by <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\"><em>Apache Maven</em></a>. Maven is one of the most popular build tools. Another is <a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\"><em>Apache Gradle</em></a>, which provides dependency management via the same Maven repositories.</p>\n"}],"owner":{"account_id":19675233,"reputation":41,"user_id":14403560,"display_name":"Najwa K. Semdina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28314,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688602442,"creation_date":1619411982,"question_id":67260915,"body_markdown":"I have downloaded MySQL Workbench for my database, and IntelliJ for the JDBC. However, while watching a tutorial, it was mentioned that I need the MySQL dependency in a pom.xml file. Any idea on how to obtain that?","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>I have downloaded MySQL Workbench for my database, and IntelliJ for the JDBC. However, while watching a tutorial, it was mentioned that I need the MySQL dependency in a pom.xml file. Any idea on how to obtain that?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1688601756,"post_id":76624665,"comment_id":135096962,"body_markdown":"Your first two lines are a mistake. Once you convert the `String` to a `double` you&#39;ve lost precision. `BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());`","body":"Your first two lines are a mistake. Once you convert the <code>String</code> to a <code>double</code> you&#39;ve lost precision. <code>BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());</code>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688602392,"creation_date":1688602392,"answer_id":76624762,"question_id":76624665,"body_markdown":"You should be using the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String))_ constructor, instead of the _valueOf_ method.\r\n\r\nAdditionally, you should be parsing the amount directly from the _String_ value, as opposed to using a _Double#parseDouble_ call.&amp;nbsp; It will preserve the precision.\r\n\r\n```java\r\nBigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());\r\nBigDecimal userBalance = new BigDecimal(user.getBalance());\r\n\r\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n\r\nif (comparisonResult &gt; 0) {\r\n    Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\r\n    return;\r\n}\r\nDeposit deposit = createDeposit();\r\n```\r\n\r\nThis will cause your _if-conditional_ check of _comparisonResult_ to match.\r\n\r\nConsider the following example.\r\n\r\n```java\r\nBigDecimal depositAmountSafe = new BigDecimal(&quot;62921.0000000000000001&quot;);\r\nBigDecimal userBalance = new BigDecimal(&quot;62921.0&quot;);\r\n\r\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n\r\nif (comparisonResult &gt; 0) {\r\n    System.out.println(&quot;insufficient balance&quot;);\r\n    return;\r\n}\r\nSystem.out.println(&quot;create deposit&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ninsufficient balance\r\n```\r\n\r\nIn regard to setting the decimal places, here is a relevant question and answer.  \r\n_[StackOverflow &amp;ndash; Limit Decimal Places in Android EditText](https://stackoverflow.com/a/5368816/17758716)_.","title":"How do I set the number of decimals in BigDecimal class in Java?","body":"<p>You should be using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">BigDecimal</a></em> constructor, instead of the <em>valueOf</em> method.</p>\n<p>Additionally, you should be parsing the amount directly from the <em>String</em> value, as opposed to using a <em>Double#parseDouble</em> call.  It will preserve the precision.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());\nBigDecimal userBalance = new BigDecimal(user.getBalance());\n\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\n\nif (comparisonResult &gt; 0) {\n    Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\n    return;\n}\nDeposit deposit = createDeposit();\n</code></pre>\n<p>This will cause your <em>if-conditional</em> check of <em>comparisonResult</em> to match.</p>\n<p>Consider the following example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal depositAmountSafe = new BigDecimal(&quot;62921.0000000000000001&quot;);\nBigDecimal userBalance = new BigDecimal(&quot;62921.0&quot;);\n\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\n\nif (comparisonResult &gt; 0) {\n    System.out.println(&quot;insufficient balance&quot;);\n    return;\n}\nSystem.out.println(&quot;create deposit&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>insufficient balance\n</code></pre>\n<p>In regard to setting the decimal places, here is a relevant question and answer.<br />\n<em><a href=\"https://stackoverflow.com/a/5368816/17758716\">StackOverflow – Limit Decimal Places in Android EditText</a></em>.</p>\n"}],"owner":{"account_id":22775670,"reputation":39,"user_id":16932373,"display_name":"bko00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624762,"answer_count":1,"score":0,"last_activity_date":1688602392,"creation_date":1688600283,"question_id":76624665,"body_markdown":"    double depositAmount = Double.parseDouble(etDepositAmount.getText().toString());\r\n                        BigDecimal depositAmountSafe = BigDecimal.valueOf(depositAmount);\r\n                        BigDecimal userBalance = BigDecimal.valueOf(user.getBalance());\r\n    \r\n                        int comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n    \r\n                        if (comparisonResult &gt; 0) {\r\n                            Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n                        Deposit deposit = createDeposit();\r\n\r\nIn the above piece of code, I should be able to create a deposit if only the entered sum for the amount is less or equal to the user&#39;s balance.\r\nBut for example if the user&#39;s balance is 62921.0, I am able to enter 62921.0000000000000001 and get the deposit created. How do I set the number of decimals?\r\nAnd if not, how can I enforce that the user can only enter a maximum number of digits as decimals. For example a maximum of 3 digits to the right of a a decimal point(eg. x.123 and not x.1234) for an EditText.","title":"How do I set the number of decimals in BigDecimal class in Java?","body":"<pre><code>double depositAmount = Double.parseDouble(etDepositAmount.getText().toString());\n                    BigDecimal depositAmountSafe = BigDecimal.valueOf(depositAmount);\n                    BigDecimal userBalance = BigDecimal.valueOf(user.getBalance());\n\n                    int comparisonResult = depositAmountSafe.compareTo(userBalance);\n\n                    if (comparisonResult &gt; 0) {\n                        Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\n                        return;\n                    }\n                    Deposit deposit = createDeposit();\n</code></pre>\n<p>In the above piece of code, I should be able to create a deposit if only the entered sum for the amount is less or equal to the user's balance.\nBut for example if the user's balance is 62921.0, I am able to enter 62921.0000000000000001 and get the deposit created. How do I set the number of decimals?\nAnd if not, how can I enforce that the user can only enter a maximum number of digits as decimals. For example a maximum of 3 digits to the right of a a decimal point(eg. x.123 and not x.1234) for an EditText.</p>\n"},{"tags":["java","azure","minio"],"owner":{"account_id":14110462,"reputation":61,"user_id":10193456,"display_name":"Santhoo Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688601129,"creation_date":1675267805,"question_id":75313049,"body_markdown":"I&#39;m trying to upload jpg files to s3 bucket using minio API.\r\nunder bucket I have multiple folders, for a specific project I need to upload images to one of the folders.\r\neg:- testbacket-&gt;\r\n                 test1\r\n                 test2\r\n                 .....\r\n                 .....  \r\nI have tried the below code which gives me a parse Error.\r\n\r\n```minioClient.putObject(PutObjectArgs.builder().bucket(bucket).object(&quot;test2&quot;+&quot;/&quot;+fileName).stream(bais, bais.available(), -1).build());```\r\n\r\n\r\n**test1/63abcd4baa4fed7232fc41b9.jpg\r\nio.minio.errors.XmlParserException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,3]\r\nMessage: The markup in the document preceding the root element must be well-formed.**\r\n\r\n\r\ncan you help me to understand where exactly it&#39;s failing?\r\n\r\n**I&#39;m using java 17, minio8.5.1**\r\n\r\n\r\nThanks,\r\nP V Srinivas Rao\r\n","title":"AWS s3 bucket subfolder upload images using minio","body":"<p>I'm trying to upload jpg files to s3 bucket using minio API.\nunder bucket I have multiple folders, for a specific project I need to upload images to one of the folders.\neg:- testbacket-&gt;\ntest1\ntest2\n.....\n.....<br />\nI have tried the below code which gives me a parse Error.</p>\n<p><code>minioClient.putObject(PutObjectArgs.builder().bucket(bucket).object(&quot;test2&quot;+&quot;/&quot;+fileName).stream(bais, bais.available(), -1).build());</code></p>\n<p><strong>test1/63abcd4baa4fed7232fc41b9.jpg\nio.minio.errors.XmlParserException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,3]\nMessage: The markup in the document preceding the root element must be well-formed.</strong></p>\n<p>can you help me to understand where exactly it's failing?</p>\n<p><strong>I'm using java 17, minio8.5.1</strong></p>\n<p>Thanks,\nP V Srinivas Rao</p>\n"},{"tags":["java","enums","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":1,"creation_date":1425269843,"post_id":28802605,"comment_id":45878885,"body_markdown":"Your problem is not connected with enums. See at exception, it says: *Array Index Out Of Bounds*, it means that you use negative or too big number as array index. Check it out with debugger.","body":"Your problem is not connected with enums. See at exception, it says: <i>Array Index Out Of Bounds</i>, it means that you use negative or too big number as array index. Check it out with debugger."},{"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"score":0,"creation_date":1425270243,"post_id":28802605,"comment_id":45878967,"body_markdown":"Unfortunatly not the new code is in the enum and map. The main program was running fine up untill I added the enum in","body":"Unfortunatly not the new code is in the enum and map. The main program was running fine up untill I added the enum in"},{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":0,"creation_date":1425270332,"post_id":28802605,"comment_id":45878987,"body_markdown":"So, what about debugger? Which line causes exception?","body":"So, what about debugger? Which line causes exception?"},{"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"score":1,"creation_date":1425270892,"post_id":28802605,"comment_id":45879124,"body_markdown":"As soon as you said it Weiest, I knew you were right. Tried, tested and worked. Thank you very much.","body":"As soon as you said it Weiest, I knew you were right. Tried, tested and worked. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":5743607,"reputation":58,"user_id":4535472,"display_name":"Weiest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1425270969,"creation_date":1425270633,"answer_id":28802737,"question_id":28802605,"body_markdown":"It is due to your terrain is initialized as TerrainType[0][0] in the constructor which results in a empty array and wasn&#39;t reinitialized later during run() after the user input their desired values hence it stays as an empty array.\r\n\r\n    height = 0;\r\n    width = 0;\r\n    terrain = new TerrainType[width][height];\r\n\r\nYou can move it to your run() method on your Map.java instead so that i would generate a array with the size specified by the user.\r\n\r\n\tpublic void run() {\r\n\t\tterrain = new TerrainType[width][height];\r\n\t\t...\r\n\t}","title":"Out of bounds exception when started using enums","body":"<p>It is due to your terrain is initialized as TerrainType[0][0] in the constructor which results in a empty array and wasn't reinitialized later during run() after the user input their desired values hence it stays as an empty array.</p>\n\n<pre><code>height = 0;\nwidth = 0;\nterrain = new TerrainType[width][height];\n</code></pre>\n\n<p>You can move it to your run() method on your Map.java instead so that i would generate a array with the size specified by the user.</p>\n\n<pre><code>public void run() {\n    terrain = new TerrainType[width][height];\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688600613,"creation_date":1688600613,"answer_id":76624679,"question_id":28802605,"body_markdown":"*Following answer is not related to OP&#39;s case. \\\r\nBut related to the question title.* \r\n\r\n\r\n- this may happen if you have **an `enum` that is Empty**. \r\n\r\n---\r\n\r\nmisc\r\n\r\n&lt;sub&gt;\r\n&lt;sup&gt;\r\n\r\n- (Which throws this exception: )\r\n  ```\r\n     java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n      at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76)\r\n  ```\r\n\r\n- (Another post that is in a more *general* case -- simply due to *more enum value* (in ordinal, not string) than the database schema expected: ) \\\r\n  https://stackoverflow.com/questions/56602802/how-to-fix-nested-exception-is-java-lang-arrayindexoutofboundsexception-index\r\n\r\n&lt;/sup&gt;\r\n&lt;/sub&gt;","title":"Out of bounds exception when started using enums","body":"<p><em>Following answer is not related to OP's case. <br />\nBut related to the question title.</em></p>\n<ul>\n<li>this may happen if you have <strong>an <code>enum</code> that is Empty</strong>.</li>\n</ul>\n<hr />\n<p>misc</p>\n<sub>\n<sup>\n<ul>\n<li><p>(Which throws this exception: )</p>\n<pre><code>   java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76)\n</code></pre>\n</li>\n<li><p>(Another post that is in a more <em>general</em> case -- simply due to <em>more enum value</em> (in ordinal, not string) than the database schema expected: ) <br />\n<a href=\"https://stackoverflow.com/questions/56602802/how-to-fix-nested-exception-is-java-lang-arrayindexoutofboundsexception-index\">How to fix &quot;nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2&quot; in a Spring Boot - postgresql Project</a></p>\n</li>\n</ul>\n</sup>\n</sub>\n"}],"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28802737,"answer_count":2,"score":0,"last_activity_date":1688600613,"creation_date":1425269564,"question_id":28802605,"body_markdown":"I&#39;m trying to have a program that maps terrain in java. Just now it&#39;s flagging an error in the main program: \r\n&gt;Exception in thread &quot;main&quot; \r\njava.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat Map.run(Map.java:35)\r\n\tat Terrain.run(Terrain.java:31)\r\n\tat Terrain.main(Terrain.java:10)\r\n\r\nI&#39;ve just started using enum and it&#39;s only started t flag up when I implemented some into my code. Here is the main class:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Terrain {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tTerrain t = new Terrain();\r\n    \t\t\r\n    \t\tt.init();\r\n    \t\tt.run();//Flags here\r\n    \t}\r\n    \tprivate Map map;\r\n    \t\r\n    \tpublic void init()\r\n    \t{\r\n    \t\tmap = new Map();\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter a height&quot;);\r\n    \t\tmap.setHeight(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter a width&quot;);\r\n    \t\tmap.setWidth(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter a hedge size&quot;);\r\n    \t\tmap.setHedgeSize(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter an entrance size&quot;);\r\n    \t\tmap.setEntranceSize((in.nextInt()/2));\r\n    \t\tin.close();\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tmap.run();//And flags here\r\n    \t}\r\n    }\r\n\r\nAnd heres the map class:\r\n\r\n    public class Map {\r\n    \t\r\n    \tprivate int height;\r\n    \tprivate int width;\r\n    \tprivate int area;\r\n    \tprivate int passCount;\r\n    \tprivate int hedgeSize;\r\n    \tprivate int entranceSize;\r\n    \tprivate int percentageOfPassable;\r\n    \tTerrainType [][] terrain;\r\n    \tTerrainType tile;\r\n    \t\r\n    \tpublic Map()\r\n    \t{\r\n    \theight=0;\r\n    \twidth=0;\r\n    \tarea=0;\r\n    \tpassCount=0;\r\n    \thedgeSize=0;\r\n    \tentranceSize=0;\r\n    \tpercentageOfPassable=0;\r\n    \tterrain = new TerrainType[width][height];\r\n    \t\r\n    \t}\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tfor (int y=0; y&lt;height; y++)\r\n    \t\t{\r\n    \t\t\tString mapDisplay = new String();\r\n    \t\t\tfor (int x=0; x&lt;width; x++)\r\n    \t\t\t{\r\n    \t\t\t\tarea++;\t\r\n    \t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\tif (x&lt;hedgeSize||x&gt;((width-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.HEDGE;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (y&lt;hedgeSize||y&gt;((height-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.HEDGE;\r\n    \t\t\t\t}//Sets border with regard to hedge size\r\n    \t\t\t\tif (y&gt;((height-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (x&gt;=((width/2)-entranceSize)&amp;&amp;x&lt;((width/2)+entranceSize))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}//Entrance size+position with regard to hedge size\r\n    \t\t\t\t\r\n    \t\t\t\tif(terrain[x][y].getTerrainPassable())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpassCount++;\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\t}\r\n    \t\t\t\tmapDisplay+=terrain[x][y].getChar();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(mapDisplay);\r\n    \t\t}//End nested for loop to set initial values\r\n    \t\tpercentageOfPassable=passCount*100/area;\r\n    \t\tSystem.out.println(percentageOfPassable+&quot;%&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void setHeight(int height)\r\n    \t{\r\n    \t\tthis.height=height;\r\n    \t}\r\n    \tpublic void setWidth(int width)\r\n    \t{\r\n    \t\tthis.width=width;\r\n    \t}\r\n    \tpublic void setEntranceSize(int entranceSize)\r\n    \t{\r\n    \t\tthis.entranceSize=entranceSize;\r\n    \t}\r\n    \tpublic void setHedgeSize(int hedgeSize)\r\n    \t{\r\n    \t\tthis.hedgeSize=hedgeSize;\r\n    \t}\r\n    }\r\n\r\nAnd finally my enum:\r\n\r\n    import java.awt.Color;\r\n    \r\n    public enum TerrainType\r\n    {\r\n    \tGRASS(&#39;,&#39;, true, Color.GREEN), ROCK(&#39;#&#39;, false, Color.GRAY),\r\n    \tHEDGE(&#39;H&#39;, false, Color.YELLOW), WATER(&#39;W&#39;, false, Color.BLUE);\r\n    \t private char terrainChar;\r\n    \t private boolean terrainPassable;\r\n    \t private Color colour;\r\n    \t \r\n    \t private TerrainType(char terrainChar, boolean terrainPassable, Color colour) {\r\n    \t        this.terrainChar = terrainChar;\r\n    \t        this.terrainPassable = terrainPassable;\r\n    \t        this.colour = colour;\r\n    \t    }\r\n    \r\n    \t    public char getChar() {\r\n    \t        return terrainChar;\r\n    \t    }\r\n    \t    public boolean getTerrainPassable() {\r\n    \t    \treturn terrainPassable;\r\n    \t    }\r\n    \t    public Color getColour() {\r\n    \t    \treturn colour;\r\n    \t    }\r\n    }\r\n\r\n\r\n","title":"Out of bounds exception when started using enums","body":"<p>I'm trying to have a program that maps terrain in java. Just now it's flagging an error in the main program: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" \n  java.lang.ArrayIndexOutOfBoundsException: 0\n      at Map.run(Map.java:35)\n      at Terrain.run(Terrain.java:31)\n      at Terrain.main(Terrain.java:10)</p>\n</blockquote>\n\n<p>I've just started using enum and it's only started t flag up when I implemented some into my code. Here is the main class:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Terrain {\n\n    public static void main(String[] args) {\n\n        Terrain t = new Terrain();\n\n        t.init();\n        t.run();//Flags here\n    }\n    private Map map;\n\n    public void init()\n    {\n        map = new Map();\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Please enter a height\");\n        map.setHeight(in.nextInt());\n        System.out.println(\"Please enter a width\");\n        map.setWidth(in.nextInt());\n        System.out.println(\"Please enter a hedge size\");\n        map.setHedgeSize(in.nextInt());\n        System.out.println(\"Please enter an entrance size\");\n        map.setEntranceSize((in.nextInt()/2));\n        in.close();\n    }\n\n    public void run()\n    {\n        map.run();//And flags here\n    }\n}\n</code></pre>\n\n<p>And heres the map class:</p>\n\n<pre><code>public class Map {\n\n    private int height;\n    private int width;\n    private int area;\n    private int passCount;\n    private int hedgeSize;\n    private int entranceSize;\n    private int percentageOfPassable;\n    TerrainType [][] terrain;\n    TerrainType tile;\n\n    public Map()\n    {\n    height=0;\n    width=0;\n    area=0;\n    passCount=0;\n    hedgeSize=0;\n    entranceSize=0;\n    percentageOfPassable=0;\n    terrain = new TerrainType[width][height];\n\n    }\n    public void run()\n    {\n        for (int y=0; y&lt;height; y++)\n        {\n            String mapDisplay = new String();\n            for (int x=0; x&lt;width; x++)\n            {\n                area++; \n                terrain[x][y]=TerrainType.GRASS;\n                if (x&lt;hedgeSize||x&gt;((width-1)-hedgeSize))\n                {\n                    terrain[x][y]=TerrainType.HEDGE;\n                }\n                if (y&lt;hedgeSize||y&gt;((height-1)-hedgeSize))\n                {\n                    terrain[x][y]=TerrainType.HEDGE;\n                }//Sets border with regard to hedge size\n                if (y&gt;((height-1)-hedgeSize))\n                {\n                    if (x&gt;=((width/2)-entranceSize)&amp;&amp;x&lt;((width/2)+entranceSize))\n                    {\n                        terrain[x][y]=TerrainType.GRASS;\n                    }\n                }//Entrance size+position with regard to hedge size\n\n                if(terrain[x][y].getTerrainPassable())\n                {\n                    passCount++;\n                    terrain[x][y]=TerrainType.GRASS;\n                }\n                mapDisplay+=terrain[x][y].getChar();\n            }\n            System.out.println(mapDisplay);\n        }//End nested for loop to set initial values\n        percentageOfPassable=passCount*100/area;\n        System.out.println(percentageOfPassable+\"%\");\n    }\n\n    public void setHeight(int height)\n    {\n        this.height=height;\n    }\n    public void setWidth(int width)\n    {\n        this.width=width;\n    }\n    public void setEntranceSize(int entranceSize)\n    {\n        this.entranceSize=entranceSize;\n    }\n    public void setHedgeSize(int hedgeSize)\n    {\n        this.hedgeSize=hedgeSize;\n    }\n}\n</code></pre>\n\n<p>And finally my enum:</p>\n\n<pre><code>import java.awt.Color;\n\npublic enum TerrainType\n{\n    GRASS(',', true, Color.GREEN), ROCK('#', false, Color.GRAY),\n    HEDGE('H', false, Color.YELLOW), WATER('W', false, Color.BLUE);\n     private char terrainChar;\n     private boolean terrainPassable;\n     private Color colour;\n\n     private TerrainType(char terrainChar, boolean terrainPassable, Color colour) {\n            this.terrainChar = terrainChar;\n            this.terrainPassable = terrainPassable;\n            this.colour = colour;\n        }\n\n        public char getChar() {\n            return terrainChar;\n        }\n        public boolean getTerrainPassable() {\n            return terrainPassable;\n        }\n        public Color getColour() {\n            return colour;\n        }\n}\n</code></pre>\n"},{"tags":["java","try-catch","method-reference","checked-exceptions"],"comments":[{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1688600785,"post_id":76624677,"comment_id":135096880,"body_markdown":"Just figured out the answer: Declare my own `@FunctionalInterface` where the `apply` method declares `throws Exception`.  Now, question for community: Is this question sufficiently useful that it should be answered for future inquirers, or should I just delete it?","body":"Just figured out the answer: Declare my own <code>@FunctionalInterface</code> where the <code>apply</code> method declares <code>throws Exception</code>.  Now, question for community: Is this question sufficiently useful that it should be answered for future inquirers, or should I just delete it?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688603074,"post_id":76624677,"comment_id":135097084,"body_markdown":"This question has been asked before in many forms, so it may not provide much value to the site. Based on that alone, I would delete it. But you also worded your question in a relatively unique way, from what I can tell. Taking that into account, I would actually leave the question up so that others who word the question similarly are directed to the duplicate.","body":"This question has been asked before in many forms, so it may not provide much value to the site. Based on that alone, I would delete it. But you also worded your question in a relatively unique way, from what I can tell. Taking that into account, I would actually leave the question up so that others who word the question similarly are directed to the duplicate."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688603286,"post_id":76624677,"comment_id":135097103,"body_markdown":"Note there are libraries like https://github.com/pivovarit/throwing-function out there.","body":"Note there are libraries like <a href=\"https://github.com/pivovarit/throwing-function\" rel=\"nofollow noreferrer\">github.com/pivovarit/throwing-function</a> out there."}],"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688602703,"answer_count":0,"score":0,"last_activity_date":1688600538,"creation_date":1688600538,"question_id":76624677,"body_markdown":"I have a bunch of methods, with similar signatures, compatible with `Function`, they each declare `throws InterruptedException`, and I put them in a list and select one by its index and call its `apply()`.\r\n\r\nExcept that I get a compiler error where the method is _named_ to put in the list:\r\n\r\n```\r\n        final List&lt;Function&lt;Set&lt;BookIdentifier&gt;, Set&lt;Status&gt;&gt;&gt;\r\n                submitters = List.of(\r\n                        this::submitIndividuallySynchronously, // these are the method references\r\n                        this::submitInBulkSynchronously,       // all 4 of them have an error message\r\n                        this::submitIndividuallyAsynchronously,\r\n                        this::submitInBulkAsynchronously);\r\n        final var submitter =\r\n                submitters.get((isIndividual() ? 0 : 1) + (isSynchronous() ? 0 : 2));\r\n```\r\n\r\nand writing a `try/catch` later \r\n\r\n```\r\n       try {\r\n            result = submitter.apply(work.todo);\r\n        } catch (final InterruptedException ex) {\r\n            // do something here\r\n        }\r\n```\r\n\r\nwhere the method reference is _used_ (called) doesn&#39;t help.\r\n\r\nThe error from `javac` (SDK 17.0.5) is\r\n```\r\nerror: incompatible thrown types InterruptedException in functional expression\r\n```\r\n\r\n(IntelliJ gives different errors: Each method reference has an error `Unhandled exception: java.lang.InterruptedException` and the later `catch` block has an error `Exception &#39;java.lang.InterruptedException&#39; is never thrown in the corresponding try block`.)\r\n\r\nSo how can I name these method references in one place and _call_ them in another?\r\n  \r\n- Besides the obvious which is to surround the naming of them with a useless `try/catch`?\r\n- That it&#39;s an `InterruptedException` is not the issue, just needs to be any checked exception","title":"Method reference of method throwing checked exception triggers compilation error at point method reference is named","body":"<p>I have a bunch of methods, with similar signatures, compatible with <code>Function</code>, they each declare <code>throws InterruptedException</code>, and I put them in a list and select one by its index and call its <code>apply()</code>.</p>\n<p>Except that I get a compiler error where the method is <em>named</em> to put in the list:</p>\n<pre><code>        final List&lt;Function&lt;Set&lt;BookIdentifier&gt;, Set&lt;Status&gt;&gt;&gt;\n                submitters = List.of(\n                        this::submitIndividuallySynchronously, // these are the method references\n                        this::submitInBulkSynchronously,       // all 4 of them have an error message\n                        this::submitIndividuallyAsynchronously,\n                        this::submitInBulkAsynchronously);\n        final var submitter =\n                submitters.get((isIndividual() ? 0 : 1) + (isSynchronous() ? 0 : 2));\n</code></pre>\n<p>and writing a <code>try/catch</code> later</p>\n<pre><code>       try {\n            result = submitter.apply(work.todo);\n        } catch (final InterruptedException ex) {\n            // do something here\n        }\n</code></pre>\n<p>where the method reference is <em>used</em> (called) doesn't help.</p>\n<p>The error from <code>javac</code> (SDK 17.0.5) is</p>\n<pre><code>error: incompatible thrown types InterruptedException in functional expression\n</code></pre>\n<p>(IntelliJ gives different errors: Each method reference has an error <code>Unhandled exception: java.lang.InterruptedException</code> and the later <code>catch</code> block has an error <code>Exception 'java.lang.InterruptedException' is never thrown in the corresponding try block</code>.)</p>\n<p>So how can I name these method references in one place and <em>call</em> them in another?</p>\n<ul>\n<li>Besides the obvious which is to surround the naming of them with a useless <code>try/catch</code>?</li>\n<li>That it's an <code>InterruptedException</code> is not the issue, just needs to be any checked exception</li>\n</ul>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688587519,"post_id":76623556,"comment_id":135095262,"body_markdown":"For something really basic check out: https://stackoverflow.com/a/33907282/131872. For something more complicated check out the [Marquee Panel](https://tips4java.wordpress.com/2011/04/24/marquee-panel/)","body":"For something really basic check out: <a href=\"https://stackoverflow.com/a/33907282/131872\">stackoverflow.com/a/33907282/131872</a>. For something more complicated check out the <a href=\"https://tips4java.wordpress.com/2011/04/24/marquee-panel/\" rel=\"nofollow noreferrer\">Marquee Panel</a>"}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688589541,"creation_date":1688589541,"answer_id":76623896,"question_id":76623556,"body_markdown":"Start by sharing exact code or at least framework or classes you are using.\r\n\r\nClick into them, what methods they have.\r\n\r\nIs it Swing, SWT or Android?\r\n\r\nThere is no universal answer.\r\n\r\n\r\nBTW, you can also can change text of you text label, removing left char every nnn miliseconds.\r\n\r\nGood luck","title":"Sliding text inside a label","body":"<p>Start by sharing exact code or at least framework or classes you are using.</p>\n<p>Click into them, what methods they have.</p>\n<p>Is it Swing, SWT or Android?</p>\n<p>There is no universal answer.</p>\n<p>BTW, you can also can change text of you text label, removing left char every nnn miliseconds.</p>\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":26988173,"reputation":21,"user_id":20551491,"display_name":"Iagothz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688598812,"creation_date":1688598812,"answer_id":76624588,"question_id":76623556,"body_markdown":"Thanks to &quot;camickr&quot;, answered in comments.\r\n\r\nI&#39;ve used a funcion mentioned in one of these links, following:\r\n\r\n&gt;     String horaCorrenteSistema = &quot;&quot;;\r\n&gt;     SimpleDateFormat horaFormatada = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n&gt;     Date horaAtual = new Date();\r\n&gt;     horaCorrenteSistema = horaFormatada.format(horaAtual);\r\n&gt;     ActionListener action = new ActionListener() {  \r\n&gt;         public void actionPerformed(ActionEvent e) {  \r\n&gt;             String oldText = lblNoticia.getText();\r\n&gt;     \r\n&gt;             // Scroll right to left\r\n&gt;             String newText = oldText.substring(1) + oldText.substring(0, 1);\r\n&gt;     \r\n&gt;             // Scroll left to right\r\n&gt;             //int length = oldText.length();\r\n&gt;             //String newText = oldText.substring(length-1, length) + oldText.substring(0, length-1);\r\n&gt;     \r\n&gt;             lblNoticia.setText( newText );\r\n&gt;         }  \r\n&gt;     };\r\n&gt;     Timer timer = new Timer(500, action);\r\n&gt;     timer.start();","title":"Sliding text inside a label","body":"<p>Thanks to &quot;camickr&quot;, answered in comments.</p>\n<p>I've used a funcion mentioned in one of these links, following:</p>\n<blockquote>\n<pre><code>String horaCorrenteSistema = &quot;&quot;;\nSimpleDateFormat horaFormatada = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\nDate horaAtual = new Date();\nhoraCorrenteSistema = horaFormatada.format(horaAtual);\nActionListener action = new ActionListener() {  \n    public void actionPerformed(ActionEvent e) {  \n        String oldText = lblNoticia.getText();\n\n        // Scroll right to left\n        String newText = oldText.substring(1) + oldText.substring(0, 1);\n\n        // Scroll left to right\n        //int length = oldText.length();\n        //String newText = oldText.substring(length-1, length) + oldText.substring(0, length-1);\n\n        lblNoticia.setText( newText );\n    }  \n};\nTimer timer = new Timer(500, action);\ntimer.start();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":26988173,"reputation":21,"user_id":20551491,"display_name":"Iagothz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76624588,"answer_count":2,"score":0,"last_activity_date":1688599532,"creation_date":1688585853,"question_id":76623556,"body_markdown":"How do I can &quot;slide&quot; the text in a label to the left side? I want to place a &quot;News text&quot; in one line , with short sentences, almost like in news channels in the bottom of screen.\r\n\r\n![I want the text runs to the left side, like in  this img](https://i.stack.imgur.com/E63L2.png)\r\n\r\nHaven&#39;t tried anything, I really don&#39;t know where start to try it.","title":"Sliding text inside a label","body":"<p>How do I can &quot;slide&quot; the text in a label to the left side? I want to place a &quot;News text&quot; in one line , with short sentences, almost like in news channels in the bottom of screen.</p>\n<p><img src=\"https://i.stack.imgur.com/E63L2.png\" alt=\"I want the text runs to the left side, like in  this img\" /></p>\n<p>Haven't tried anything, I really don't know where start to try it.</p>\n"},{"tags":["java","windows","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1688600670,"post_id":76624625,"comment_id":135096872,"body_markdown":"There is nothing else.  `PATH` should be all you need to make `java -version` work.  So check that your update to `PATH` is correct.  What happens when you run `C:\\Program Files\\Java\\jdk-17\\bin\\java -version` ?","body":"There is nothing else.  <code>PATH</code> should be all you need to make <code>java -version</code> work.  So check that your update to <code>PATH</code> is correct.  What happens when you run <code>C:\\Program Files\\Java\\jdk-17\\bin\\java -version</code> ?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688602077,"post_id":76624625,"comment_id":135096993,"body_markdown":"Did you close and reopen your terminal after the installation? Also, many tools rely on `JAVA_HOME` being set, but that&#39;s not needed here. And to be somewhat pedantic, Java doesn&#39;t require _any_ environment variables to be set. Setting the `PATH` is a convenience, and it&#39;s _other tools_ that may rely on `JAVA_HOME`. Some APIs in Java may use certain environment variables _if they are set_ (using default values if they aren&#39;t), but that will be documented for each individual API.","body":"Did you close and reopen your terminal after the installation? Also, many tools rely on <code>JAVA_HOME</code> being set, but that&#39;s not needed here. And to be somewhat pedantic, Java doesn&#39;t require <i>any</i> environment variables to be set. Setting the <code>PATH</code> is a convenience, and it&#39;s <i>other tools</i> that may rely on <code>JAVA_HOME</code>. Some APIs in Java may use certain environment variables <i>if they are set</i> (using default values if they aren&#39;t), but that will be documented for each individual API."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688602142,"post_id":76624625,"comment_id":135097000,"body_markdown":"You seem to confuse environment variables needed for Java to execute with environments variables needed for your command line to find the Java executable. It seems that you want the later but the subject points to the former.","body":"You seem to confuse environment variables needed for Java to execute with environments variables needed for your command line to find the Java executable. It seems that you want the later but the subject points to the former."}],"owner":{"account_id":20901152,"reputation":17,"user_id":15354242,"display_name":"UnknYell0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688599489,"creation_date":1688599489,"question_id":76624625,"body_markdown":"I am trying to install java to my Windows 11 machine but when I try run \r\n```java -version``` in the command prompt, I get ```&#39;java&#39; is not recognized as an internal or external command```.\r\n\r\nIn my computer&#39;s System variables I have a ```PATH``` variable with a link to ```C:\\Program Files\\Java\\jdk-17\\bin```. I have looked at Oracle&#39;s installation instructions [here](https://docs.oracle.com/en/java/javase/17/install/installation-jdk-microsoft-windows-platforms.html#GUID-371F38CC-248F-49EC-BB9C-C37FC89E52A0) but it seems like it should be plug and play so to speak. \r\n\r\nAre there additional environmental variables that I am missing or possibly I am pointing the path variable to the wrong location?","title":"Required environment variables for JDK 17","body":"<p>I am trying to install java to my Windows 11 machine but when I try run\n<code>java -version</code> in the command prompt, I get <code>'java' is not recognized as an internal or external command</code>.</p>\n<p>In my computer's System variables I have a <code>PATH</code> variable with a link to <code>C:\\Program Files\\Java\\jdk-17\\bin</code>. I have looked at Oracle's installation instructions <a href=\"https://docs.oracle.com/en/java/javase/17/install/installation-jdk-microsoft-windows-platforms.html#GUID-371F38CC-248F-49EC-BB9C-C37FC89E52A0\" rel=\"nofollow noreferrer\">here</a> but it seems like it should be plug and play so to speak.</p>\n<p>Are there additional environmental variables that I am missing or possibly I am pointing the path variable to the wrong location?</p>\n"},{"tags":["java","deeplearning4j"],"answers":[{"comments":[{"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"score":1,"creation_date":1688589784,"post_id":76623826,"comment_id":135095606,"body_markdown":"I printed the last value and it&#39;s picking up it correctly. I also updated to the latest version in the pom, but same beahviour.","body":"I printed the last value and it&#39;s picking up it correctly. I also updated to the latest version in the pom, but same beahviour."}],"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588785,"creation_date":1688588785,"answer_id":76623826,"question_id":76623742,"body_markdown":"Most likely you read CSV values wrong,\r\n\r\ntaking 30,448.4 as 30.\r\n\r\nSo trace last value from CSV into log.\r\n\r\nAdditionally, I would be sure about anything, when using `1.0.0-beta7` version.\r\n\r\nHave you checked for the latest version\r\ne.g. https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core ?\r\n\r\nAt my glance, it looks not promising.","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>Most likely you read CSV values wrong,</p>\n<p>taking 30,448.4 as 30.</p>\n<p>So trace last value from CSV into log.</p>\n<p>Additionally, I would be sure about anything, when using <code>1.0.0-beta7</code> version.</p>\n<p>Have you checked for the latest version\ne.g. <a href=\"https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core</a> ?</p>\n<p>At my glance, it looks not promising.</p>\n"},{"comments":[{"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"score":0,"creation_date":1688657795,"post_id":76624624,"comment_id":135106393,"body_markdown":"Csv reading is fine and I also tried with a list of hardcoded values, but the predicted values still don&#39;t make any sense..","body":"Csv reading is fine and I also tried with a list of hardcoded values, but the predicted values still don&#39;t make any sense.."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1688676622,"post_id":76624624,"comment_id":135109821,"body_markdown":"Sorry but I can&#39;t help you till you update your code. I posted multiple things I&#39;d expect to see in a typical pipeline with time series data. You haven&#39;t shown me you&#39;ve tried anything yet. If you don&#39;t understand why I&#39;m suggesting something feel free to ask. Normalizing labels and inputs is the very basic most thing you have to do though. That doesn&#39;t count whatever your network architecture is.","body":"Sorry but I can&#39;t help you till you update your code. I posted multiple things I&#39;d expect to see in a typical pipeline with time series data. You haven&#39;t shown me you&#39;ve tried anything yet. If you don&#39;t understand why I&#39;m suggesting something feel free to ask. Normalizing labels and inputs is the very basic most thing you have to do though. That doesn&#39;t count whatever your network architecture is."}],"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688599469,"creation_date":1688599469,"answer_id":76624624,"question_id":76623742,"body_markdown":"Maintainer here. As Paul mentioned, stick to the latest version when possible.  Make sure to normalize your values as well as your labels. \r\n\r\nPaul could be right you&#39;re reading your values in wrong. You normally use the CSVSequenceRecordReader for that.\r\n\r\nBeyond that, you probably need to scale your data. Have you looked at doing that?","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>Maintainer here. As Paul mentioned, stick to the latest version when possible.  Make sure to normalize your values as well as your labels.</p>\n<p>Paul could be right you're reading your values in wrong. You normally use the CSVSequenceRecordReader for that.</p>\n<p>Beyond that, you probably need to scale your data. Have you looked at doing that?</p>\n"}],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688599469,"creation_date":1688587969,"question_id":76623742,"body_markdown":"I put together some code that given an array containing the full time series of the daily Bitcoin close price in dollars, should produce a prediction for the price of Tomorrow. \r\nI would expect the result not to be too dissimilar from the current price, but I get values that are smaller than 20 dollars.\r\n\r\nHere&#39;s my code:\r\n\r\n  \tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// Time series array\r\n\t\tdouble[] data = readCsv();\r\n\r\n\t\t// Hyperparameters\r\n\t\tint sequenceLength = 100; // The length of your sequences\r\n\t\tint numHiddenNodes = 256; // The number of hidden nodes\r\n\t\tint numEpochs = 10; // The number of epochs\r\n\r\n\t\t// Create input and output arrays\r\n\t\tINDArray input = Nd4j.create(1, 1, data.length - sequenceLength);\r\n\t\tINDArray output = Nd4j.create(1, 1, data.length - sequenceLength);\r\n\t\tfor (int i = 0; i &lt; data.length - sequenceLength; i++) {\r\n\t\t\tinput.putScalar(new int[]{0, i % sequenceLength, 0}, data[i]);\r\n\t\t\toutput.putScalar(new int[]{0, 0, i % sequenceLength}, data[i + sequenceLength]);\r\n\t\t}\r\n\r\n\t\t// Configure network\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n\t\t    .weightInit(WeightInit.XAVIER)\r\n\t\t    .updater(new Nadam())\r\n\t\t    .list()\r\n\t\t    .layer(0, new LSTM.Builder().nIn(1).nOut(numHiddenNodes)\r\n\t\t        .activation(Activation.TANH).build())\r\n\t\t    .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n\t\t        .activation(Activation.IDENTITY).nIn(numHiddenNodes).nOut(1).build())\r\n\t\t    .build();\r\n\r\n\t\tMultiLayerNetwork net = new MultiLayerNetwork(conf);\r\n\t\tnet.init();\r\n\t\tnet.setListeners(new ScoreIterationListener(100));\r\n\t\t\r\n\t\t// Train the network\r\n\t\tfor (int epoch = 0; epoch &lt; numEpochs; epoch++) {\r\n\t\t    net.fit(input, output);\r\n\t\t}\r\n\r\n\t\t// Initialize the input for next prediction with the last sequenceLength number of values from the input INDArray\r\n\t\tINDArray nextInput = Nd4j.create(new double[] {data[data.length - sequenceLength]}, new int[]{1, 1, 1});\r\n\r\n\t\t// Use trained model to predict the next value\r\n\t\tINDArray predicted = net.rnnTimeStep(nextInput);\r\n\r\n\t\t// Print out predicted value\r\n\t\tSystem.out.println(&quot;Predicted: &quot; + predicted.getDouble(0));\r\n\t}\r\n\r\nHere are my pom dependencies:\r\n\r\n\t &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n           &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n           &lt;version&gt;1.8&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n           &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n           &lt;version&gt;1.2.3&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\r\nWhat can be wrong? Why doesn&#39;t it give meaningful results?\r\n\r\nEDIT\r\n\r\nSome more information. Here&#39;s where to downloaded the time series from: https://uk.investing.com/crypto/bitcoin/historical-data\r\n\r\nAnd here&#39;s how I read the csv:\r\n\r\n\tprivate static double[] readCsv() {\r\n\t\tString csvFile = &quot;/BTCDaily.csv&quot;; // File in the resources folder\r\n        List&lt;Double&gt; priceList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            URL url = App.class.getResource(csvFile);\r\n            Reader in = new FileReader(url.toURI().getPath());\r\n            Iterable&lt;CSVRecord&gt; records = CSVFormat.DEFAULT.withFirstRecordAsHeader().parse(in);\r\n            for (CSVRecord record : records) {\r\n                String price = record.get(&quot;Price&quot;);\r\n                price = price.replace(&quot;,&quot;, &quot;&quot;);  // remove commas\r\n                priceList.add(Double.parseDouble(price));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return reverse(priceList.stream().mapToDouble(Double::doubleValue).toArray());\r\n\t}\r\n\t\r\n\tpublic static double[] reverse(double[] array) {\r\n\t    int length = array.length;\r\n\t    double[] reversed = new double[length];\r\n\t    for (int i = 0; i &lt; length; i++) {\r\n\t        reversed[i] = array[length - i - 1];\r\n\t    }\r\n\t    return reversed;\r\n\t}\r\n\r\n\r\n","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>I put together some code that given an array containing the full time series of the daily Bitcoin close price in dollars, should produce a prediction for the price of Tomorrow.\nI would expect the result not to be too dissimilar from the current price, but I get values that are smaller than 20 dollars.</p>\n<p>Here's my code:</p>\n<pre><code>public static void main(String[] args) {\n    \n    // Time series array\n    double[] data = readCsv();\n\n    // Hyperparameters\n    int sequenceLength = 100; // The length of your sequences\n    int numHiddenNodes = 256; // The number of hidden nodes\n    int numEpochs = 10; // The number of epochs\n\n    // Create input and output arrays\n    INDArray input = Nd4j.create(1, 1, data.length - sequenceLength);\n    INDArray output = Nd4j.create(1, 1, data.length - sequenceLength);\n    for (int i = 0; i &lt; data.length - sequenceLength; i++) {\n        input.putScalar(new int[]{0, i % sequenceLength, 0}, data[i]);\n        output.putScalar(new int[]{0, 0, i % sequenceLength}, data[i + sequenceLength]);\n    }\n\n    // Configure network\n    MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n        .weightInit(WeightInit.XAVIER)\n        .updater(new Nadam())\n        .list()\n        .layer(0, new LSTM.Builder().nIn(1).nOut(numHiddenNodes)\n            .activation(Activation.TANH).build())\n        .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n            .activation(Activation.IDENTITY).nIn(numHiddenNodes).nOut(1).build())\n        .build();\n\n    MultiLayerNetwork net = new MultiLayerNetwork(conf);\n    net.init();\n    net.setListeners(new ScoreIterationListener(100));\n    \n    // Train the network\n    for (int epoch = 0; epoch &lt; numEpochs; epoch++) {\n        net.fit(input, output);\n    }\n\n    // Initialize the input for next prediction with the last sequenceLength number of values from the input INDArray\n    INDArray nextInput = Nd4j.create(new double[] {data[data.length - sequenceLength]}, new int[]{1, 1, 1});\n\n    // Use trained model to predict the next value\n    INDArray predicted = net.rnnTimeStep(nextInput);\n\n    // Print out predicted value\n    System.out.println(&quot;Predicted: &quot; + predicted.getDouble(0));\n}\n</code></pre>\n<p>Here are my pom dependencies:</p>\n<pre><code> &lt;dependency&gt;\n       &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n       &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n       &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n       &lt;version&gt;1.8&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n       &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n       &lt;version&gt;1.2.3&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>What can be wrong? Why doesn't it give meaningful results?</p>\n<p>EDIT</p>\n<p>Some more information. Here's where to downloaded the time series from: <a href=\"https://uk.investing.com/crypto/bitcoin/historical-data\" rel=\"nofollow noreferrer\">https://uk.investing.com/crypto/bitcoin/historical-data</a></p>\n<p>And here's how I read the csv:</p>\n<pre><code>private static double[] readCsv() {\n    String csvFile = &quot;/BTCDaily.csv&quot;; // File in the resources folder\n    List&lt;Double&gt; priceList = new ArrayList&lt;&gt;();\n\n    try {\n        URL url = App.class.getResource(csvFile);\n        Reader in = new FileReader(url.toURI().getPath());\n        Iterable&lt;CSVRecord&gt; records = CSVFormat.DEFAULT.withFirstRecordAsHeader().parse(in);\n        for (CSVRecord record : records) {\n            String price = record.get(&quot;Price&quot;);\n            price = price.replace(&quot;,&quot;, &quot;&quot;);  // remove commas\n            priceList.add(Double.parseDouble(price));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return reverse(priceList.stream().mapToDouble(Double::doubleValue).toArray());\n}\n\npublic static double[] reverse(double[] array) {\n    int length = array.length;\n    double[] reversed = new double[length];\n    for (int i = 0; i &lt; length; i++) {\n        reversed[i] = array[length - i - 1];\n    }\n    return reversed;\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1688599353,"post_id":76616664,"comment_id":135096744,"body_markdown":"The code you&#39;ve shared looks fine, and will only print results if the windows are, in fact, being triggered. Since the windows are firing, are you sure there&#39;s a problem?","body":"The code you&#39;ve shared looks fine, and will only print results if the windows are, in fact, being triggered. Since the windows are firing, are you sure there&#39;s a problem?"}],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688599333,"creation_date":1688521895,"question_id":76616664,"body_markdown":"As I know, `EventTimeTrigger` has 4 results, `CONTINUE`, `FIRE_AND_PURGE`, `FIRE`, `PURGE`, when I debug my code, I want to figure out how `EventTimeTrigger` works. So I wrote this code(flink 1.10)\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env =   StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(1);\r\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n        DataStreamSource&lt;Stock&gt; stockDataStreamSource = env.addSource(new StockSource());\r\n        SingleOutputStreamOperator&lt;Stock&gt; price = stockDataStreamSource.assignTimestampsAndWatermarks(\r\n                new BoundedOutOfOrdernessTimestampExtractor&lt;Stock&gt;(Time.seconds(1)) {\r\n                    @Override\r\n                    public long extractTimestamp(Stock element) {\r\n                        return element.ts;\r\n                    }\r\n                }\r\n        )\r\n                .keyBy(Stock::getSymbol).timeWindow(Time.seconds(2))\r\n                .min(&quot;price&quot;);\r\n        price.print(&quot;===p&quot;);\r\n}\r\npublic class Stock {\r\n    public String symbol;\r\n    public long ts;\r\n    public double price;\r\n    public int volume;\r\n...\r\n}\r\n\r\npublic class StockSource implements SourceFunction&lt;Stock&gt; {\r\n\r\n    @Override\r\n    public void run(SourceContext&lt;Stock&gt; ctx) throws Exception {\r\n        try(BufferedReader bf = new BufferedReader(new FileReader(&quot; &quot; ))) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;);\r\n\r\n            String line;\r\n            while ((line = bf.readLine())!=null) {\r\n                String[] split = line.split(&quot;,&quot;);\r\n                LocalDateTime dateTime = LocalDateTime.parse(split[1] + &quot; &quot; + split[2], formatter);\r\n                long eventTs = Timestamp.valueOf(dateTime).getTime();\r\n                Stock  stock = Stock.of(split[0], eventTs,Double.parseDouble(split[3]), Integer.parseInt(split[4]));\r\n                ctx.collect(stock);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void cancel() {\r\n\r\n    }\r\n}\r\n```\r\nand the in put data is \r\n```\r\nUS2.AAPL,20200108,093003,297.310000000,100\r\nUS2.AAPL,20200108,094001,297.260000000,100\r\nUS2.AAPL,20200109,095002,297.270000000,100\r\n```\r\nand the output of is \r\n\r\n```\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578447003000, price=297.31, volume=100}\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578447601000, price=297.26, volume=100}\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578534602000, price=297.27, volume=100}\r\n```\r\n\r\nWhen I debug the code, and has a breakpoint in `org.apache.flink.streaming.runtime.operators.windowing.WindowOperator`, `processElement()` method, `TriggerResult triggerResult = triggerContext.onElement(element);` will return a triggerResult, but the triggerResult is always `CONTINUE`, and I step into, in `org.apache.flink.streaming.api.windowing.triggers.EventTimeTrigger`, `onElement` method, `ctx.getCurrentWatermark()` always return a negative number, and then return `TriggerResult.CONTINUE`\r\n[![enter image description here](https://i.stack.imgur.com/wjCPL.png)](https://i.stack.imgur.com/wjCPL.png)\r\n\r\nIn my opinion,when the windows are closed it will return `FIRE_AND_PURGE` rather than `CONTINUE`.\r\nDid I make a mistake in understanding `EventTimeTrigger` or did I make a mistake in writing my program? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPlease help me. Thanks a lot.","title":"Confused about Flink EventTimeTrigger","body":"<p>As I know, <code>EventTimeTrigger</code> has 4 results, <code>CONTINUE</code>, <code>FIRE_AND_PURGE</code>, <code>FIRE</code>, <code>PURGE</code>, when I debug my code, I want to figure out how <code>EventTimeTrigger</code> works. So I wrote this code(flink 1.10)</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env =   StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        DataStreamSource&lt;Stock&gt; stockDataStreamSource = env.addSource(new StockSource());\n        SingleOutputStreamOperator&lt;Stock&gt; price = stockDataStreamSource.assignTimestampsAndWatermarks(\n                new BoundedOutOfOrdernessTimestampExtractor&lt;Stock&gt;(Time.seconds(1)) {\n                    @Override\n                    public long extractTimestamp(Stock element) {\n                        return element.ts;\n                    }\n                }\n        )\n                .keyBy(Stock::getSymbol).timeWindow(Time.seconds(2))\n                .min(&quot;price&quot;);\n        price.print(&quot;===p&quot;);\n}\npublic class Stock {\n    public String symbol;\n    public long ts;\n    public double price;\n    public int volume;\n...\n}\n\npublic class StockSource implements SourceFunction&lt;Stock&gt; {\n\n    @Override\n    public void run(SourceContext&lt;Stock&gt; ctx) throws Exception {\n        try(BufferedReader bf = new BufferedReader(new FileReader(&quot; &quot; ))) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;);\n\n            String line;\n            while ((line = bf.readLine())!=null) {\n                String[] split = line.split(&quot;,&quot;);\n                LocalDateTime dateTime = LocalDateTime.parse(split[1] + &quot; &quot; + split[2], formatter);\n                long eventTs = Timestamp.valueOf(dateTime).getTime();\n                Stock  stock = Stock.of(split[0], eventTs,Double.parseDouble(split[3]), Integer.parseInt(split[4]));\n                ctx.collect(stock);\n            }\n        }\n    }\n\n    @Override\n    public void cancel() {\n\n    }\n}\n</code></pre>\n<p>and the in put data is</p>\n<pre><code>US2.AAPL,20200108,093003,297.310000000,100\nUS2.AAPL,20200108,094001,297.260000000,100\nUS2.AAPL,20200109,095002,297.270000000,100\n</code></pre>\n<p>and the output of is</p>\n<pre><code>===p&gt; Stock{symbol='US2.AAPL', ts=1578447003000, price=297.31, volume=100}\n===p&gt; Stock{symbol='US2.AAPL', ts=1578447601000, price=297.26, volume=100}\n===p&gt; Stock{symbol='US2.AAPL', ts=1578534602000, price=297.27, volume=100}\n</code></pre>\n<p>When I debug the code, and has a breakpoint in <code>org.apache.flink.streaming.runtime.operators.windowing.WindowOperator</code>, <code>processElement()</code> method, <code>TriggerResult triggerResult = triggerContext.onElement(element);</code> will return a triggerResult, but the triggerResult is always <code>CONTINUE</code>, and I step into, in <code>org.apache.flink.streaming.api.windowing.triggers.EventTimeTrigger</code>, <code>onElement</code> method, <code>ctx.getCurrentWatermark()</code> always return a negative number, and then return <code>TriggerResult.CONTINUE</code>\n<a href=\"https://i.stack.imgur.com/wjCPL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjCPL.png\" alt=\"enter image description here\" /></a></p>\n<p>In my opinion,when the windows are closed it will return <code>FIRE_AND_PURGE</code> rather than <code>CONTINUE</code>.\nDid I make a mistake in understanding <code>EventTimeTrigger</code> or did I make a mistake in writing my program?</p>\n<p>Please help me. Thanks a lot.</p>\n"},{"tags":["java","jdbc","vertica"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688595447,"post_id":76624256,"comment_id":135096391,"body_markdown":"Two separate problems: column size and encoding. How is that table defined?","body":"Two separate problems: column size and encoding. How is that table defined?"},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1688597243,"post_id":76624256,"comment_id":135096552,"body_markdown":"No column size problem because `vsql` works with same statement. Event more `insert` create from real DB and schemas for 2 DBs re the same. About table definition - nothing special. just create table. Question updated.","body":"No column size problem because <code>vsql</code> works with same statement. Event more <code>insert</code> create from real DB and schemas for 2 DBs re the same. About table definition - nothing special. just create table. Question updated."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688629045,"post_id":76624256,"comment_id":135099859,"body_markdown":"*..but when I run:* and what are the contents of that my_table.sql file?","body":"<i>..but when I run:</i> and what are the contents of that my_table.sql file?"},{"owner":{"account_id":1907874,"reputation":1247,"user_id":2218571,"accept_rate":15,"display_name":"CSharped"},"score":0,"creation_date":1702309425,"post_id":76624256,"comment_id":136877445,"body_markdown":"did you solve this somehow?","body":"did you solve this somehow?"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688597221,"creation_date":1688593889,"question_id":76624256,"body_markdown":"There is a file (my_table.sql) and insert statement in it:\r\n\r\n    Insert into my_table (id, my_string) \r\n    Values (1, &#39;some string with non ASCII symbols like this �&#39;);\r\n\r\nWhere I run this via jdbc it fails with `ERROR: String of N octets is too long for type Varchar(X) for column my_string`. And it looks like column is too short but when I run:\r\n\r\n    vsql -v AUTOCOMMIT=on  -h localhost -U dbadmin -d my_db &lt; my_table.sql\r\n\r\nIt completes well. Why error happens? How to fix it? I have tried to add `?useUnicode=true&amp;amp;characterEncoding=UTF-8` to jdbc connection string but this did not help.\r\n\r\nUPDATED\r\n\r\nTable definiton:\r\n\r\n    create table my_table\r\n    (\r\n        id                      int,\r\n        my_string               varchar(255)\r\n    );\r\n    \r\n    comment on table my_table is &#39;copmment&#39;;","title":"How fix `octets is too long for type Varchar for column` in vetica via jdbc","body":"<p>There is a file (my_table.sql) and insert statement in it:</p>\n<pre><code>Insert into my_table (id, my_string) \nValues (1, 'some string with non ASCII symbols like this �');\n</code></pre>\n<p>Where I run this via jdbc it fails with <code>ERROR: String of N octets is too long for type Varchar(X) for column my_string</code>. And it looks like column is too short but when I run:</p>\n<pre><code>vsql -v AUTOCOMMIT=on  -h localhost -U dbadmin -d my_db &lt; my_table.sql\n</code></pre>\n<p>It completes well. Why error happens? How to fix it? I have tried to add <code>?useUnicode=true&amp;amp;characterEncoding=UTF-8</code> to jdbc connection string but this did not help.</p>\n<p>UPDATED</p>\n<p>Table definiton:</p>\n<pre><code>create table my_table\n(\n    id                      int,\n    my_string               varchar(255)\n);\n\ncomment on table my_table is 'copmment';\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1688569357,"post_id":76619039,"comment_id":135091588,"body_markdown":"This has nothing to do with Spring, or filtering; you have broker connectivity problems. It&#39;s better to use a more meaningful title on questions; you also need to provide much more information - for example, can you connect to the broker using command line tools? If you are using docker, you need to provide the config.","body":"This has nothing to do with Spring, or filtering; you have broker connectivity problems. It&#39;s better to use a more meaningful title on questions; you also need to provide much more information - for example, can you connect to the broker using command line tools? If you are using docker, you need to provide the config."},{"owner":{"account_id":15042992,"reputation":1,"user_id":10856979,"display_name":"Sayan Saha"},"score":1,"creation_date":1688581143,"post_id":76619039,"comment_id":135094188,"body_markdown":"I was able to filter kafka messages based on header by referring to the below example:\nhttps://prateek-ashtikar512.medium.com/kafka-message-filter-c8ae1dca53f3","body":"I was able to filter kafka messages based on header by referring to the below example: <a href=\"https://prateek-ashtikar512.medium.com/kafka-message-filter-c8ae1dca53f3\" rel=\"nofollow noreferrer\">prateek-ashtikar512.medium.com/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688596640,"post_id":76619039,"comment_id":135096504,"body_markdown":"Feel free to provide a full example below as an answer rather than comment with link to external site","body":"Feel free to provide a full example below as an answer rather than comment with link to external site"}],"owner":{"account_id":15042992,"reputation":1,"user_id":10856979,"display_name":"Sayan Saha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688596602,"creation_date":1688549825,"question_id":76619039,"body_markdown":"I want to filter Kafka messages at listener level based on Kafka Header Values.\r\n\r\n\r\n\r\n\r\nI have tried to use a custom KafkaConsumerConfig.java. Please look into the below file\r\n```\r\npackage com.example.test.consumer;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.header.Header;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n\tprivate String group_id;\r\n\t\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String bootstrap_server;\r\n\r\n\t@Bean\r\n\tConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\t\tMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrap_server);\r\n\t\tconfig.put(ConsumerConfig.GROUP_ID_CONFIG, group_id);\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\tfactory.setRecordFilterStrategy(consumerRecord -&gt; {\r\n\t\t\tif (consumerRecord.headers().lastHeader(&quot;CUSTOM_HEADER&quot;).key().equals(&quot;VALID&quot;)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\treturn factory;\r\n\t}\r\n}\r\n```\r\nBut the application is failing to start with the below reason..\r\n&gt;Cancelled in-flight API_VERSIONS request with correlation id 20 due to node -1 being disconnected","title":"How to filter messages in Kafka consumer based on header value at listener level in Springboot?","body":"<p>I want to filter Kafka messages at listener level based on Kafka Header Values.</p>\n<p>I have tried to use a custom KafkaConsumerConfig.java. Please look into the below file</p>\n<pre><code>package com.example.test.consumer;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.header.Header;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\n    private String group_id;\n    \n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrap_server;\n\n    @Bean\n    ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrap_server);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, group_id);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setRecordFilterStrategy(consumerRecord -&gt; {\n            if (consumerRecord.headers().lastHeader(&quot;CUSTOM_HEADER&quot;).key().equals(&quot;VALID&quot;)) {\n                return false;\n            }\n            return true;\n        });\n        return factory;\n    }\n}\n</code></pre>\n<p>But the application is failing to start with the below reason..</p>\n<blockquote>\n<p>Cancelled in-flight API_VERSIONS request with correlation id 20 due to node -1 being disconnected</p>\n</blockquote>\n"},{"tags":["java","debugging","gradle","jvm"],"comments":[{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1542396225,"post_id":53344114,"comment_id":93567235,"body_markdown":"Can’t you just use integrated tools to launch in debug mode with Gradle? I know IntelliJ just lets me start a gradle process and I can still debug the code.","body":"Can’t you just use integrated tools to launch in debug mode with Gradle? I know IntelliJ just lets me start a gradle process and I can still debug the code."},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1542396360,"post_id":53344114,"comment_id":93567298,"body_markdown":"Short answer: *no*. Long answer: No, because I&#39;m using a script that is running many different things ending up with a gradle call.","body":"Short answer: <i>no</i>. Long answer: No, because I&#39;m using a script that is running many different things ending up with a gradle call."}],"answers":[{"comments":[{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":2,"creation_date":1542398221,"post_id":53344247,"comment_id":93568079,"body_markdown":"This looked promising... but debugger fails to stop on a breakpoint I set on the project. If I use --debug-jvm and connect using port 5005, it stopped as expected. I guess there&#39;s something missing.","body":"This looked promising... but debugger fails to stop on a breakpoint I set on the project. If I use --debug-jvm and connect using port 5005, it stopped as expected. I guess there&#39;s something missing."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1542398278,"post_id":53344247,"comment_id":93568097,"body_markdown":"@eftshift0 Perhaps the Gradle daemon is running in the background. Can you try with `--no-daemon`?","body":"@eftshift0 Perhaps the Gradle daemon is running in the background. Can you try with <code>--no-daemon</code>?"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1542398431,"post_id":53344247,"comment_id":93568155,"body_markdown":"that would be one option on the gladle call or an additional option on GRADLE_OPTS?","body":"that would be one option on the gladle call or an additional option on GRADLE_OPTS?"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1542398563,"post_id":53344247,"comment_id":93568215,"body_markdown":"@eftshift0 yes, as per [docs](https://docs.gradle.org/current/userguide/gradle_daemon.html)","body":"@eftshift0 yes, as per <a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html\" rel=\"nofollow noreferrer\">docs</a>"},{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1542399049,"post_id":53344247,"comment_id":93568426,"body_markdown":"No change, unfortunately.","body":"No change, unfortunately."},{"owner":{"account_id":229388,"reputation":9494,"user_id":492325,"accept_rate":100,"display_name":"badsyntax"},"score":1,"creation_date":1587808286,"post_id":53344247,"comment_id":108658070,"body_markdown":"I _think_ this is setting the JVM args for the Gradle process/daemon, and not the forked JavaExec process. See Lucas Basquerotto&#39;s answer.","body":"I <i>think</i> this is setting the JVM args for the Gradle process/daemon, and not the forked JavaExec process. See Lucas Basquerotto&#39;s answer."}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542396694,"creation_date":1542396694,"answer_id":53344247,"question_id":53344114,"body_markdown":"You could modify `GRADLE_OPTS` environment variable and add standard Java debugger syntax e.g. to use port 8888:\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8888","title":"gradle: change default port from 5005","body":"<p>You could modify <code>GRADLE_OPTS</code> environment variable and add standard Java debugger syntax e.g. to use port 8888:</p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8888\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2315642,"reputation":1575,"user_id":2032777,"display_name":"PHZ.fi-Pharazon"},"score":0,"creation_date":1597003056,"post_id":53946140,"comment_id":111986149,"body_markdown":"With Java11 I created this kind of task with Spring Boot and Vagrant to enable remote debug: \n\ntask debug(type: JavaExec) {\n    main = mainClass\n\n    classpath = sourceSets.main.runtimeClasspath\n\n    jvmArgs &quot;-agentlib:jdwp=transport=dt_socket,address=192.168.133.10:5005,server=y,suspend=y&quot;\n\n    systemProperties System.getProperties()\n}","body":"With Java11 I created this kind of task with Spring Boot and Vagrant to enable remote debug:   task debug(type: JavaExec) {     main = mainClass      classpath = sourceSets.main.runtimeClasspath      jvmArgs &quot;-agentlib:jdwp=transport=dt_socket,address=192.168.133.10:5&zwnj;&#8203;005,server=y,suspend&zwnj;&#8203;=y&quot;      systemProperties System.getProperties() }"},{"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"score":0,"creation_date":1597061159,"post_id":53946140,"comment_id":112001788,"body_markdown":"@PHZ.fi-Pharazon If you want to make sure that the code runs only when you call `execFile` explicitly, you can use the new code I included, in which the `JavaExec` task is created in a `doLast`.","body":"@PHZ.fi-Pharazon If you want to make sure that the code runs only when you call <code>execFile</code> explicitly, you can use the new code I included, in which the <code>JavaExec</code> task is created in a <code>doLast</code>."}],"tags":[],"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597060971,"creation_date":1545918500,"answer_id":53946140,"question_id":53344114,"body_markdown":"In my case I wanted to debug a specific file, so I included the following code in `build.gradle`:\r\n\r\n&lt;!-- language: lang-gradle --&gt;\r\n\r\n    task execFile(type: JavaExec) {\r\n    \tmain = mainClass\r\n    \r\n        classpath = sourceSets.main.runtimeClasspath\r\n    \t\r\n        if (System.getProperty(&#39;debug&#39;, &#39;false&#39;) == &#39;true&#39;) {\r\n    \t\tjvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=y&quot;\r\n        }\r\n    \r\n        systemProperties System.getProperties()\r\n    }\r\n\r\nand I can run with:\r\n\r\n    gradle execFile -PmainClass=com.MyClass -Dmyprop=somevalue -Ddebug=true\r\n\r\nThe custom `execFile` task receives:\r\n\r\n- `-PmainClass=com.MyClass`: the class with the main method I want to execute (in the script, `main = mainClass`)\r\n- `-Dmyprop=somevalue`: a property whose value be retrieved in the application calling `System.getProperty(&quot;myprop&quot;)` (in the script, `systemProperties System.getProperties()` was needed for that)\r\n- `-Ddebug=true`: a flag to enable debugging on port 8787 (in the script, see the `if` condition, and also `address=8787`, but the port could be changed, and this flag name also could be changed). Using `suspend=y` the execution is suspended until the debugger is attached to the port (if you don&#39;t want this behaviour, you could use `suspend=n`)\r\n\r\nFor your use case, you could try to apply the logic behind the line `jvmArgs ...` to your specific task (or use `tasks.withType(JavaExec) { ... }` to apply to all tasks of this type).\r\n\r\nUsing this solution, don&#39;t use the `--debug-jvm` option because you may receive an error about the property `jdwp` being defined twice.\r\n\r\n**Update (2020-08-10)**\r\n\r\nTo make sure that the code runs only when I execute the task `execFile` explicitly (so as to not run when I just build gradle, for example), I changed the code to:\r\n\r\n&lt;!-- language: lang-gradle --&gt;\r\n\r\n    task execFile {\r\n        dependsOn &#39;build&#39;\r\n    \r\n        doLast {\r\n            tasks.create(&#39;execFileJavaExec&#39;, JavaExec) {\r\n                main = mainClass\r\n                classpath = sourceSets.main.runtimeClasspath\r\n    \r\n                if (System.getProperty(&#39;debug&#39;, &#39;false&#39;) == &#39;true&#39;) {\r\n                    jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=*:8787,server=y,suspend=y&quot;\r\n                }\r\n    \r\n                systemProperties System.getProperties()\r\n            }.exec()\r\n        }\r\n    }\r\n\r\nSee more at: https://stackoverflow.com/questions/54347157/run-gradle-task-only-when-called-specifically","title":"gradle: change default port from 5005","body":"<p>In my case I wanted to debug a specific file, so I included the following code in <code>build.gradle</code>:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>task execFile(type: JavaExec) {\n    main = mainClass\n\n    classpath = sourceSets.main.runtimeClasspath\n    \n    if (System.getProperty('debug', 'false') == 'true') {\n        jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=y&quot;\n    }\n\n    systemProperties System.getProperties()\n}\n</code></pre>\n<p>and I can run with:</p>\n<pre><code>gradle execFile -PmainClass=com.MyClass -Dmyprop=somevalue -Ddebug=true\n</code></pre>\n<p>The custom <code>execFile</code> task receives:</p>\n<ul>\n<li><code>-PmainClass=com.MyClass</code>: the class with the main method I want to execute (in the script, <code>main = mainClass</code>)</li>\n<li><code>-Dmyprop=somevalue</code>: a property whose value be retrieved in the application calling <code>System.getProperty(&quot;myprop&quot;)</code> (in the script, <code>systemProperties System.getProperties()</code> was needed for that)</li>\n<li><code>-Ddebug=true</code>: a flag to enable debugging on port 8787 (in the script, see the <code>if</code> condition, and also <code>address=8787</code>, but the port could be changed, and this flag name also could be changed). Using <code>suspend=y</code> the execution is suspended until the debugger is attached to the port (if you don't want this behaviour, you could use <code>suspend=n</code>)</li>\n</ul>\n<p>For your use case, you could try to apply the logic behind the line <code>jvmArgs ...</code> to your specific task (or use <code>tasks.withType(JavaExec) { ... }</code> to apply to all tasks of this type).</p>\n<p>Using this solution, don't use the <code>--debug-jvm</code> option because you may receive an error about the property <code>jdwp</code> being defined twice.</p>\n<p><strong>Update (2020-08-10)</strong></p>\n<p>To make sure that the code runs only when I execute the task <code>execFile</code> explicitly (so as to not run when I just build gradle, for example), I changed the code to:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>task execFile {\n    dependsOn 'build'\n\n    doLast {\n        tasks.create('execFileJavaExec', JavaExec) {\n            main = mainClass\n            classpath = sourceSets.main.runtimeClasspath\n\n            if (System.getProperty('debug', 'false') == 'true') {\n                jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=*:8787,server=y,suspend=y&quot;\n            }\n\n            systemProperties System.getProperties()\n        }.exec()\n    }\n}\n</code></pre>\n<p>See more at: <a href=\"https://stackoverflow.com/questions/54347157/run-gradle-task-only-when-called-specifically\">Run gradle task only when called specifically</a></p>\n"},{"tags":[],"owner":{"account_id":20133401,"reputation":1086,"user_id":14765128,"display_name":"thehale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616541976,"creation_date":1616541976,"answer_id":66772686,"question_id":53344114,"body_markdown":"### Option 1 - Directly pass the JVM arguments that start up the debugger\r\n```\r\ntask exampleProgram(type: JavaExec) {\r\n  classpath = sourceSets.main.runtimeClasspath\r\n  description = &quot;Your Description&quot;\r\n  main = &#39;Example.java&#39;  // &lt;package&gt;.&lt;path&gt;.&lt;to&gt;.&lt;YourMainClass&gt;.java\r\n\r\n  // Change `1805` to whatever port you want.\r\n  jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1805&quot;]  \r\n}\r\n```\r\n**If it doesn&#39;t work right away, try stopping all existing Daemons with `gradle --stop`** so Gradle isn&#39;t influenced by any past settings when building/running your project.\r\n\r\n### Option 2 - Use Gradle&#39;s `debugOptions` object\r\nAlternatively, according to [Gradle&#39;s documentation][1], the following should also do the trick; however, [it didn&#39;t work for me][2]. I&#39;m including it for completeness and in the hope that it works in the future.  \r\n```\r\ntask runApp(type: JavaExec) {\r\n    ...\r\n\r\n    debugOptions {\r\n        enabled = true\r\n        port = 5566\r\n        server = true\r\n        suspend = false\r\n    }\r\n }\r\n```\r\n*References:* \r\n - JVM Debugger Args: https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html\r\n - Similar question: https://stackoverflow.com/q/39490624/14765128\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/JavaExec.html#reset:~:text=Also%2C%20debug%20configuration%20can%20be%20explicitly%20set%20in%20debugOptions(Action)%3A\r\n  [2]: https://github.com/gradle/gradle/issues/16622","title":"gradle: change default port from 5005","body":"<h3>Option 1 - Directly pass the JVM arguments that start up the debugger</h3>\n<pre><code>task exampleProgram(type: JavaExec) {\n  classpath = sourceSets.main.runtimeClasspath\n  description = &quot;Your Description&quot;\n  main = 'Example.java'  // &lt;package&gt;.&lt;path&gt;.&lt;to&gt;.&lt;YourMainClass&gt;.java\n\n  // Change `1805` to whatever port you want.\n  jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1805&quot;]  \n}\n</code></pre>\n<p><strong>If it doesn't work right away, try stopping all existing Daemons with <code>gradle --stop</code></strong> so Gradle isn't influenced by any past settings when building/running your project.</p>\n<h3>Option 2 - Use Gradle's <code>debugOptions</code> object</h3>\n<p>Alternatively, according to <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/JavaExec.html#reset:%7E:text=Also%2C%20debug%20configuration%20can%20be%20explicitly%20set%20in%20debugOptions(Action)%3A\" rel=\"nofollow noreferrer\">Gradle's documentation</a>, the following should also do the trick; however, <a href=\"https://github.com/gradle/gradle/issues/16622\" rel=\"nofollow noreferrer\">it didn't work for me</a>. I'm including it for completeness and in the hope that it works in the future.</p>\n<pre><code>task runApp(type: JavaExec) {\n    ...\n\n    debugOptions {\n        enabled = true\n        port = 5566\n        server = true\n        suspend = false\n    }\n }\n</code></pre>\n<p><em>References:</em></p>\n<ul>\n<li>JVM Debugger Args: <a href=\"https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html</a></li>\n<li>Similar question: <a href=\"https://stackoverflow.com/q/39490624/14765128\">how to debug spring application with gradle</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20828682,"reputation":1,"user_id":15298519,"display_name":"Green Ant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688595817,"creation_date":1688595759,"answer_id":76624401,"question_id":53344114,"body_markdown":"**Option 2 - Use Gradle&#39;s debugOptions object**\r\n\r\nFor Grails5 in build.gradle i put debugOptions into bootRun section:\r\n\r\n    bootRun {\r\n      ...\r\n      jvmArgs(\r\n        // whatever extras you need...\r\n      )\r\n      debugOptions {\r\n        //enabled = true\r\n        port = 5566\r\n        server = true\r\n        suspend = false\r\n      }\r\n      ...\r\n    }\r\nThen run grails with or without --debug-jvm switch at the end of arguments list to turn it on/off. \r\n\r\nYou may also uncomment &quot;enabled=true&quot; to always run in debug mode without passing --debug-jvm.","title":"gradle: change default port from 5005","body":"<p><strong>Option 2 - Use Gradle's debugOptions object</strong></p>\n<p>For Grails5 in build.gradle i put debugOptions into bootRun section:</p>\n<pre><code>bootRun {\n  ...\n  jvmArgs(\n    // whatever extras you need...\n  )\n  debugOptions {\n    //enabled = true\n    port = 5566\n    server = true\n    suspend = false\n  }\n  ...\n}\n</code></pre>\n<p>Then run grails with or without --debug-jvm switch at the end of arguments list to turn it on/off.</p>\n<p>You may also uncomment &quot;enabled=true&quot; to always run in debug mode without passing --debug-jvm.</p>\n"}],"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6826,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1688595817,"creation_date":1542396005,"question_id":53344114,"body_markdown":"I want to debug some JVM instances that are running at the same time. I know that I can run gradle using `--debug-jvm` so that the JVM will wait until I start the IDE debugger so that it connects to the JVM but it uses port 5005 by default. That&#39;s fine for debugging one instance of JVM... but if I want to debug more than one instance, I&#39;ll need to define a different port from 5005. How can I achieve this with gradle?","title":"gradle: change default port from 5005","body":"<p>I want to debug some JVM instances that are running at the same time. I know that I can run gradle using <code>--debug-jvm</code> so that the JVM will wait until I start the IDE debugger so that it connects to the JVM but it uses port 5005 by default. That's fine for debugging one instance of JVM... but if I want to debug more than one instance, I'll need to define a different port from 5005. How can I achieve this with gradle?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1688595783,"post_id":76624341,"comment_id":135096420,"body_markdown":"You&#39;re missing Swing layout managers.  Null layouts lead to nothing but trouble.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"You&#39;re missing Swing layout managers.  Null layouts lead to nothing but trouble.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688596424,"post_id":76624341,"comment_id":135096482,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688599567,"post_id":76624341,"comment_id":135096766,"body_markdown":"`frame.setLayout(null);` isn&#39;t helping you, but the &quot;delay&quot; isn&#39;t really something you can get rid of, it&#39;s a side effect of the underlying system spinning up","body":"<code>frame.setLayout(null);</code> isn&#39;t helping you, but the &quot;delay&quot; isn&#39;t really something you can get rid of, it&#39;s a side effect of the underlying system spinning up"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688600104,"post_id":76624341,"comment_id":135096823,"body_markdown":"Using null layouts is a recipe for disaster. It may seem to a newbie the easier way to create a GUI, but it leads to creation of rigid, hard to debug, enhance and change GUI&#39;s and it fights against the way that the Swing library is built to be used. For your benefit and ours, best to learn about the layout managers and then use them. Note that you can (and should) nest JPanels, each that use its own layout manager.","body":"Using null layouts is a recipe for disaster. It may seem to a newbie the easier way to create a GUI, but it leads to creation of rigid, hard to debug, enhance and change GUI&#39;s and it fights against the way that the Swing library is built to be used. For your benefit and ours, best to learn about the layout managers and then use them. Note that you can (and should) nest JPanels, each that use its own layout manager."}],"owner":{"account_id":28958719,"reputation":1,"user_id":22181693,"display_name":"gfr08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688594984,"creation_date":1688594984,"question_id":76624341,"body_markdown":"I am trying to learn Java Swing, and I&#39;ve been reading and watching tutorials. Something that keeps happening to me is that I will play my program, and the JFrame will be blank for a few seconds then my buttons, labels, panels, etc. will be added. Sometimes, it is instant. I don&#39;t know why it&#39;s happening. It seems like it is related to the layout. For instance, this code makes my components appear instantly:\r\n\r\n```\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Buttons {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        frame.setSize(500, 500);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(Color.PINK);\r\n        panel.setBounds(0, 0, 250, 250);\r\n\r\n        JButton button = new JButton(&quot;Bruno&quot;);\r\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\r\n        \r\n        panel.add(button);\r\n        frame.add(panel);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I change the layout of the panel in the following code, my components do not show up for a few seconds:\r\n\r\n```\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Buttons {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        frame.setSize(500, 500);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(Color.PINK);\r\n        panel.setBounds(0, 0, 250, 250);\r\n        panel.setLayout(null);\r\n\r\n        JButton button = new JButton(&quot;Bruno&quot;);\r\n        button.setBounds(75, 75, 100, 100);\r\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\r\n        \r\n        panel.add(button);\r\n        frame.add(panel);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nAny help with why this is happening would be appreciated.\r\n\r\nWhen I switch my layouts of the panel or even the frame, it changes. Sometimes my components appear as I want them, but sometimes it takes a few seconds for them to appear (after a blank JFrame appears). I&#39;m very new to Java Swing, so is there something that I&#39;m missing when it comes to displaying the JFrame?","title":"JFrame appears blank then JComponents appear after a few seconds. How do I stop this?","body":"<p>I am trying to learn Java Swing, and I've been reading and watching tutorials. Something that keeps happening to me is that I will play my program, and the JFrame will be blank for a few seconds then my buttons, labels, panels, etc. will be added. Sometimes, it is instant. I don't know why it's happening. It seems like it is related to the layout. For instance, this code makes my components appear instantly:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Buttons {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(500, 500);\n\n        JPanel panel = new JPanel();\n        panel.setBackground(Color.PINK);\n        panel.setBounds(0, 0, 250, 250);\n\n        JButton button = new JButton(&quot;Bruno&quot;);\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\n        \n        panel.add(button);\n        frame.add(panel);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>However, when I change the layout of the panel in the following code, my components do not show up for a few seconds:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Buttons {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(500, 500);\n\n        JPanel panel = new JPanel();\n        panel.setBackground(Color.PINK);\n        panel.setBounds(0, 0, 250, 250);\n        panel.setLayout(null);\n\n        JButton button = new JButton(&quot;Bruno&quot;);\n        button.setBounds(75, 75, 100, 100);\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\n        \n        panel.add(button);\n        frame.add(panel);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Any help with why this is happening would be appreciated.</p>\n<p>When I switch my layouts of the panel or even the frame, it changes. Sometimes my components appear as I want them, but sometimes it takes a few seconds for them to appear (after a blank JFrame appears). I'm very new to Java Swing, so is there something that I'm missing when it comes to displaying the JFrame?</p>\n"},{"tags":["java","android","firebase","3d","stl-format"],"answers":[{"tags":[],"owner":{"account_id":10158709,"reputation":943,"user_id":7502914,"display_name":"Timmy Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688594480,"creation_date":1688594480,"answer_id":76624302,"question_id":76623212,"body_markdown":"You are binding the array to the vertexAttribPointer the wrong way. Here is your code.\r\n\r\n```\r\nGLES20.glEnableVertexAttribArray(positionHandle);\r\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, --&gt; vertexBuffer &lt;--);\r\n```\r\n\r\nThe vertexBuffer should be bound using `glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)`\r\n\r\nAnd the last parameter in `glVertexAttribPointer` is actually meant for `offset`.\r\n\r\n---\r\n\r\nFix:\r\n---\r\nAssuming offset = 0. Fixed version would be:\r\n```\r\nGLES20.glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)\r\nGLES20.glEnableVertexAttribArray(positionHandle);\r\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, 0);\r\n```\r\n\r\nNow the call to `GLES20.glDrawArrays` in your `OnDrawFrame()` should be able to access the buffer.","title":"Android Studio (java) OpenGL ES 3D Model in STL Format","body":"<p>You are binding the array to the vertexAttribPointer the wrong way. Here is your code.</p>\n<pre><code>GLES20.glEnableVertexAttribArray(positionHandle);\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, --&gt; vertexBuffer &lt;--);\n</code></pre>\n<p>The vertexBuffer should be bound using <code>glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)</code></p>\n<p>And the last parameter in <code>glVertexAttribPointer</code> is actually meant for <code>offset</code>.</p>\n<hr />\n<h2>Fix:</h2>\n<p>Assuming offset = 0. Fixed version would be:</p>\n<pre><code>GLES20.glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)\nGLES20.glEnableVertexAttribArray(positionHandle);\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, 0);\n</code></pre>\n<p>Now the call to <code>GLES20.glDrawArrays</code> in your <code>OnDrawFrame()</code> should be able to access the buffer.</p>\n"}],"owner":{"account_id":28821573,"reputation":1,"user_id":22073989,"display_name":"ALVIN "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688594480,"creation_date":1688582590,"question_id":76623212,"body_markdown":"I&#39;m having difficulties in displaying the 3D mesh model using the STL (binary) file I have in my Android Studio project. The below is my current code for the 3D model visualization activity.\r\n\r\n\r\n```\r\npackage com.example.structurefrommotion;\r\n\r\nimport android.app.ActivityManager;\r\nimport android.content.Context;\r\nimport android.content.pm.ConfigurationInfo;\r\nimport android.opengl.GLES20;\r\nimport android.opengl.GLSurfaceView;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.util.Log;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.microedition.khronos.egl.EGLConfig;\r\nimport javax.microedition.khronos.opengles.GL10;\r\n\r\npublic class MeshVisualizationActivity extends AppCompatActivity {\r\n\r\n    private GLSurfaceView glSurfaceView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (!isSupportedOpenGLES2()) {\r\n            // Log the result\r\n            Log.e(&quot;OpenGLCheck&quot;, &quot;OpenGL ES 2.0 is not supported on this device&quot;);\r\n            // Optionally, display a message to the user or handle this case in another way.\r\n            return;\r\n        }\r\n\r\n        glSurfaceView = new GLSurfaceView(this);\r\n        glSurfaceView.setEGLContextClientVersion(2); // Using OpenGL ES 2.0\r\n        glSurfaceView.setRenderer(new MeshRenderer());\r\n        glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY); // Set render mode\r\n        setContentView(glSurfaceView);\r\n    }\r\n\r\n    private boolean isSupportedOpenGLES2() {\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        ConfigurationInfo configurationInfo = activityManager.getDeviceConfigurationInfo();\r\n        return configurationInfo.reqGlEsVersion &gt;= 0x20000;\r\n    }\r\n\r\n\r\n    private class MeshRenderer implements GLSurfaceView.Renderer {\r\n\r\n        private void checkGlError(String op) {\r\n            int error;\r\n            while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\r\n                Log.e(&quot;MeshVisualization&quot;, op + &quot;: glError &quot; + error);\r\n                throw new RuntimeException(op + &quot;: glError &quot; + error);\r\n            }\r\n        }\r\n        private final String vertexShaderCode =\r\n                &quot;attribute vec4 vPosition;&quot; +\r\n                        &quot;void main() {&quot; +\r\n                        &quot;  gl_Position = vPosition;&quot; +\r\n                        &quot;}&quot;;\r\n\r\n        private final String fragmentShaderCode =\r\n                &quot;precision mediump float;&quot; +\r\n                        &quot;uniform vec4 vColor;&quot; +\r\n                        &quot;void main() {&quot; +\r\n                        &quot;  gl_FragColor = vColor;&quot; +\r\n                        &quot;}&quot;;\r\n\r\n        private int program;\r\n        private int numberOfVertices;\r\n\r\n        @Override\r\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\r\n            checkGlError(&quot;glEnable depth test&quot;);\r\n\r\n            // Create OpenGL program\r\n            program = createProgram(vertexShaderCode, fragmentShaderCode);\r\n            checkGlError(&quot;create program&quot;);\r\n            GLES20.glUseProgram(program);\r\n            checkGlError(&quot;use program&quot;);\r\n\r\n            // Retrieve the model data from Firestore\r\n            String projectName = getIntent().getStringExtra(&quot;projectName&quot;);\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(&quot;meshes&quot;).document(projectName)\r\n                    .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                            final String meshDataB64 = documentSnapshot.getString(&quot;mesh_data&quot;);\r\n\r\n                            // Log the retrieved base64 string to console\r\n                            Log.d(&quot;MeshVisualization&quot;, &quot;Retrieved mesh data (base64): &quot; + meshDataB64);\r\n\r\n                            // Decoding and OpenGL calls should be done on the GLSurfaceView&#39;s thread\r\n                            glSurfaceView.queueEvent(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    byte[] meshDataBinary = android.util.Base64.decode(meshDataB64, android.util.Base64.DEFAULT);\r\n\r\n                                    // Log the size of the decoded binary data\r\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Size of decoded binary data: &quot; + meshDataBinary.length + &quot; bytes&quot;);\r\n\r\n                                    List&lt;Float&gt; vertices = parseStlBinary(meshDataBinary);\r\n                                    numberOfVertices = vertices.size() / 3;\r\n\r\n                                    // Log the number of vertices parsed\r\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Number of vertices parsed: &quot; + numberOfVertices);\r\n\r\n                                    // Load vertices into a buffer\r\n                                    FloatBuffer vertexBuffer = ByteBuffer.allocateDirect(vertices.size() * 4)\r\n                                            .order(ByteOrder.nativeOrder())\r\n                                            .asFloatBuffer();\r\n                                    for (float vertex : vertices) {\r\n                                        vertexBuffer.put(vertex);\r\n                                    }\r\n                                    vertexBuffer.position(0);\r\n\r\n                                    // Pass the buffer to OpenGL\r\n                                    int positionHandle = GLES20.glGetAttribLocation(program, &quot;vPosition&quot;);\r\n                                    // Check if the attribute location is -1\r\n                                    if (positionHandle == -1) {\r\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Attribute &#39;vPosition&#39; not found in the shader code or is not being used.&quot;);\r\n                                        return; // You can also handle this case differently if you like\r\n                                    }\r\n                                    GLES20.glEnableVertexAttribArray(positionHandle);\r\n                                    GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, vertexBuffer);\r\n\r\n                                    // Set color for drawing the triangle\r\n                                    int colorHandle = GLES20.glGetUniformLocation(program, &quot;vColor&quot;);\r\n                                    if (colorHandle == -1) {\r\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Uniform &#39;vColor&#39; not found in the shader code or is not being used.&quot;);\r\n                                        return; // You can also handle this case differently if you like\r\n                                    }\r\n                                    GLES20.glUniform4fv(colorHandle, 1, new float[]{0.63671875f, 0.76953125f, 0.22265625f, 1.0f}, 0);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onDrawFrame(GL10 gl) {\r\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\r\n            checkGlError(&quot;glClear&quot;);\r\n\r\n            // Draw the triangles\r\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, numberOfVertices);\r\n            checkGlError(&quot;glDrawArrays&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceChanged(GL10 gl, int width, int height) {\r\n            GLES20.glViewport(0, 0, width, height);\r\n        }\r\n\r\n        private int loadShader(int type, String shaderCode) {\r\n            int shader = GLES20.glCreateShader(type);\r\n            GLES20.glShaderSource(shader, shaderCode);\r\n            GLES20.glCompileShader(shader);\r\n\r\n            // Check shader compilation status\r\n            int[] compiled = new int[1];\r\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\r\n            if (compiled[0] == 0) {\r\n                String error = GLES20.glGetShaderInfoLog(shader);\r\n                GLES20.glDeleteShader(shader);\r\n                throw new RuntimeException(&quot;Shader not compiled: &quot; + error);\r\n            }\r\n\r\n            return shader;\r\n        }\r\n\r\n        private int createProgram(String vertexSource, String fragmentSource) {\r\n            int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\r\n            int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\r\n            int program = GLES20.glCreateProgram();\r\n            GLES20.glAttachShader(program, vertexShader);\r\n            GLES20.glAttachShader(program, fragmentShader);\r\n            GLES20.glLinkProgram(program);\r\n\r\n            // Check program linking status\r\n            int[] linked = new int[1];\r\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linked, 0);\r\n            if (linked[0] == 0) {\r\n                String error = GLES20.glGetProgramInfoLog(program);\r\n                GLES20.glDeleteProgram(program);\r\n                throw new RuntimeException(&quot;Program not linked: &quot; + error);\r\n            }\r\n\r\n            return program;\r\n        }\r\n\r\n        private List&lt;Float&gt; parseStlBinary(byte[] meshDataBinary) {\r\n            List&lt;Float&gt; vertices = new ArrayList&lt;&gt;();\r\n            ByteBuffer buffer = ByteBuffer.wrap(meshDataBinary);\r\n            buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n            buffer.position(84); // Skip 80-byte header and number of triangles (4 bytes)\r\n\r\n            while (buffer.remaining() &gt; 0) {\r\n                // Skip normal (3 floats)\r\n                buffer.getFloat();\r\n                buffer.getFloat();\r\n                buffer.getFloat();\r\n\r\n                // Get vertices (3 floats per vertex, 3 vertices per triangle)\r\n                for (int i = 0; i &lt; 9; i++) {\r\n                    vertices.add(buffer.getFloat());\r\n                }\r\n\r\n                // Skip attribute byte count (2 bytes)\r\n                buffer.getShort();\r\n            }\r\n            return vertices;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAfter running the application and get to the activity file above, all I see is a black screen without the 3D mesh model displayed, they were no errors for this activity file as well. I have checked the data retrieved as well and it is all there and the vertices were parsed with no issue. Anyone knows what is preventing the 3D mesh model to be displayed?","title":"Android Studio (java) OpenGL ES 3D Model in STL Format","body":"<p>I'm having difficulties in displaying the 3D mesh model using the STL (binary) file I have in my Android Studio project. The below is my current code for the 3D model visualization activity.</p>\n<pre><code>package com.example.structurefrommotion;\n\nimport android.app.ActivityManager;\nimport android.content.Context;\nimport android.content.pm.ConfigurationInfo;\nimport android.opengl.GLES20;\nimport android.opengl.GLSurfaceView;\nimport android.os.Bundle;\nimport android.util.Base64;\nimport android.util.Log;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\npublic class MeshVisualizationActivity extends AppCompatActivity {\n\n    private GLSurfaceView glSurfaceView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (!isSupportedOpenGLES2()) {\n            // Log the result\n            Log.e(&quot;OpenGLCheck&quot;, &quot;OpenGL ES 2.0 is not supported on this device&quot;);\n            // Optionally, display a message to the user or handle this case in another way.\n            return;\n        }\n\n        glSurfaceView = new GLSurfaceView(this);\n        glSurfaceView.setEGLContextClientVersion(2); // Using OpenGL ES 2.0\n        glSurfaceView.setRenderer(new MeshRenderer());\n        glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY); // Set render mode\n        setContentView(glSurfaceView);\n    }\n\n    private boolean isSupportedOpenGLES2() {\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        ConfigurationInfo configurationInfo = activityManager.getDeviceConfigurationInfo();\n        return configurationInfo.reqGlEsVersion &gt;= 0x20000;\n    }\n\n\n    private class MeshRenderer implements GLSurfaceView.Renderer {\n\n        private void checkGlError(String op) {\n            int error;\n            while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\n                Log.e(&quot;MeshVisualization&quot;, op + &quot;: glError &quot; + error);\n                throw new RuntimeException(op + &quot;: glError &quot; + error);\n            }\n        }\n        private final String vertexShaderCode =\n                &quot;attribute vec4 vPosition;&quot; +\n                        &quot;void main() {&quot; +\n                        &quot;  gl_Position = vPosition;&quot; +\n                        &quot;}&quot;;\n\n        private final String fragmentShaderCode =\n                &quot;precision mediump float;&quot; +\n                        &quot;uniform vec4 vColor;&quot; +\n                        &quot;void main() {&quot; +\n                        &quot;  gl_FragColor = vColor;&quot; +\n                        &quot;}&quot;;\n\n        private int program;\n        private int numberOfVertices;\n\n        @Override\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\n            checkGlError(&quot;glEnable depth test&quot;);\n\n            // Create OpenGL program\n            program = createProgram(vertexShaderCode, fragmentShaderCode);\n            checkGlError(&quot;create program&quot;);\n            GLES20.glUseProgram(program);\n            checkGlError(&quot;use program&quot;);\n\n            // Retrieve the model data from Firestore\n            String projectName = getIntent().getStringExtra(&quot;projectName&quot;);\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\n            db.collection(&quot;meshes&quot;).document(projectName)\n                    .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            final String meshDataB64 = documentSnapshot.getString(&quot;mesh_data&quot;);\n\n                            // Log the retrieved base64 string to console\n                            Log.d(&quot;MeshVisualization&quot;, &quot;Retrieved mesh data (base64): &quot; + meshDataB64);\n\n                            // Decoding and OpenGL calls should be done on the GLSurfaceView's thread\n                            glSurfaceView.queueEvent(new Runnable() {\n                                @Override\n                                public void run() {\n                                    byte[] meshDataBinary = android.util.Base64.decode(meshDataB64, android.util.Base64.DEFAULT);\n\n                                    // Log the size of the decoded binary data\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Size of decoded binary data: &quot; + meshDataBinary.length + &quot; bytes&quot;);\n\n                                    List&lt;Float&gt; vertices = parseStlBinary(meshDataBinary);\n                                    numberOfVertices = vertices.size() / 3;\n\n                                    // Log the number of vertices parsed\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Number of vertices parsed: &quot; + numberOfVertices);\n\n                                    // Load vertices into a buffer\n                                    FloatBuffer vertexBuffer = ByteBuffer.allocateDirect(vertices.size() * 4)\n                                            .order(ByteOrder.nativeOrder())\n                                            .asFloatBuffer();\n                                    for (float vertex : vertices) {\n                                        vertexBuffer.put(vertex);\n                                    }\n                                    vertexBuffer.position(0);\n\n                                    // Pass the buffer to OpenGL\n                                    int positionHandle = GLES20.glGetAttribLocation(program, &quot;vPosition&quot;);\n                                    // Check if the attribute location is -1\n                                    if (positionHandle == -1) {\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Attribute 'vPosition' not found in the shader code or is not being used.&quot;);\n                                        return; // You can also handle this case differently if you like\n                                    }\n                                    GLES20.glEnableVertexAttribArray(positionHandle);\n                                    GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, vertexBuffer);\n\n                                    // Set color for drawing the triangle\n                                    int colorHandle = GLES20.glGetUniformLocation(program, &quot;vColor&quot;);\n                                    if (colorHandle == -1) {\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Uniform 'vColor' not found in the shader code or is not being used.&quot;);\n                                        return; // You can also handle this case differently if you like\n                                    }\n                                    GLES20.glUniform4fv(colorHandle, 1, new float[]{0.63671875f, 0.76953125f, 0.22265625f, 1.0f}, 0);\n                                }\n                            });\n                        }\n                    });\n        }\n\n\n        @Override\n        public void onDrawFrame(GL10 gl) {\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\n            checkGlError(&quot;glClear&quot;);\n\n            // Draw the triangles\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, numberOfVertices);\n            checkGlError(&quot;glDrawArrays&quot;);\n        }\n\n        @Override\n        public void onSurfaceChanged(GL10 gl, int width, int height) {\n            GLES20.glViewport(0, 0, width, height);\n        }\n\n        private int loadShader(int type, String shaderCode) {\n            int shader = GLES20.glCreateShader(type);\n            GLES20.glShaderSource(shader, shaderCode);\n            GLES20.glCompileShader(shader);\n\n            // Check shader compilation status\n            int[] compiled = new int[1];\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\n            if (compiled[0] == 0) {\n                String error = GLES20.glGetShaderInfoLog(shader);\n                GLES20.glDeleteShader(shader);\n                throw new RuntimeException(&quot;Shader not compiled: &quot; + error);\n            }\n\n            return shader;\n        }\n\n        private int createProgram(String vertexSource, String fragmentSource) {\n            int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\n            int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\n            int program = GLES20.glCreateProgram();\n            GLES20.glAttachShader(program, vertexShader);\n            GLES20.glAttachShader(program, fragmentShader);\n            GLES20.glLinkProgram(program);\n\n            // Check program linking status\n            int[] linked = new int[1];\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linked, 0);\n            if (linked[0] == 0) {\n                String error = GLES20.glGetProgramInfoLog(program);\n                GLES20.glDeleteProgram(program);\n                throw new RuntimeException(&quot;Program not linked: &quot; + error);\n            }\n\n            return program;\n        }\n\n        private List&lt;Float&gt; parseStlBinary(byte[] meshDataBinary) {\n            List&lt;Float&gt; vertices = new ArrayList&lt;&gt;();\n            ByteBuffer buffer = ByteBuffer.wrap(meshDataBinary);\n            buffer.order(ByteOrder.LITTLE_ENDIAN);\n            buffer.position(84); // Skip 80-byte header and number of triangles (4 bytes)\n\n            while (buffer.remaining() &gt; 0) {\n                // Skip normal (3 floats)\n                buffer.getFloat();\n                buffer.getFloat();\n                buffer.getFloat();\n\n                // Get vertices (3 floats per vertex, 3 vertices per triangle)\n                for (int i = 0; i &lt; 9; i++) {\n                    vertices.add(buffer.getFloat());\n                }\n\n                // Skip attribute byte count (2 bytes)\n                buffer.getShort();\n            }\n            return vertices;\n        }\n    }\n}\n\n</code></pre>\n<p>After running the application and get to the activity file above, all I see is a black screen without the 3D mesh model displayed, they were no errors for this activity file as well. I have checked the data retrieved as well and it is all there and the vertices were parsed with no issue. Anyone knows what is preventing the 3D mesh model to be displayed?</p>\n"},{"tags":["java","arrays","jackson","deserialization","fasterxml"],"answers":[{"comments":[{"owner":{"account_id":4567547,"reputation":1327,"user_id":3708175,"accept_rate":80,"display_name":"sramalingam24"},"score":0,"creation_date":1640130012,"post_id":70434675,"comment_id":124521827,"body_markdown":"Unfortunately I do not have control over the xml, so i will have to identify all the intermediate nodes and remove them. Looks like there might not be a generic way of doing this with jackson.","body":"Unfortunately I do not have control over the xml, so i will have to identify all the intermediate nodes and remove them. Looks like there might not be a generic way of doing this with jackson."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1640160522,"post_id":70434675,"comment_id":124527095,"body_markdown":"@sramalingam24 There is no automatic way , in case of multiple xml tags an alternative is xslt.","body":"@sramalingam24 There is no automatic way , in case of multiple xml tags an alternative is xslt."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640085926,"creation_date":1640085926,"answer_id":70434675,"question_id":70428354,"body_markdown":"The problem here is the presence of the `&lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;` tag: the jackson library expects in a list to deserialize only the presence of *n* `&lt;Parameter/&gt;` equal tags but instead finds a different tag and consequently decides to interpret the list as distinct properties, so the last ` &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;` overwrites the previous values of the `Parameter` property and then the strange behaviour (the other `StorageParameters` is ignored cause the `JsonIgnoreProperties(ignoreUnknown = true)` annotation in the `Operator` class).\r\n\r\nTo avoid this behaviour you can delete the undesired `StorageParameters` and deserialize your xml parsing the old xml and creating a new one without the undesired tag like below :\r\n\r\n~~~\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument doc = db.parse(new FileInputStream(xml));\r\nNode node = doc.getElementsByTagName(&quot;StorageParameters&quot;).item(0);\r\nnode.getParentNode().removeChild(node);\r\nTransformerFactory tf = TransformerFactory.newInstance();\r\nTransformer t = tf.newTransformer();\r\nStringWriter writer = new StringWriter();\r\nt.transform(new DOMSource(doc), new StreamResult(writer));\r\nString result = writer.getBuffer().toString();\r\nOperator value = mapper.readValue(result, Operator.class);\r\n~~~\r\n\r\nYou have to use the `JacksonXmlProperty(isAttribute = true)` annotation in your `Parameter` to indicate that values are attributes:\r\n\r\n~~~\r\n@Data\r\npublic class Parameter {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Key;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Value;\r\n}\r\n\r\n@Data\r\npublic class Operator {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Parameter&gt; parameters;\r\n}\r\n~~~\r\n\r\n","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>The problem here is the presence of the <code>&lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;</code> tag: the jackson library expects in a list to deserialize only the presence of <em>n</em> <code>&lt;Parameter/&gt;</code> equal tags but instead finds a different tag and consequently decides to interpret the list as distinct properties, so the last <code> &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;</code> overwrites the previous values of the <code>Parameter</code> property and then the strange behaviour (the other <code>StorageParameters</code> is ignored cause the <code>JsonIgnoreProperties(ignoreUnknown = true)</code> annotation in the <code>Operator</code> class).</p>\n<p>To avoid this behaviour you can delete the undesired <code>StorageParameters</code> and deserialize your xml parsing the old xml and creating a new one without the undesired tag like below :</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(new FileInputStream(xml));\nNode node = doc.getElementsByTagName(&quot;StorageParameters&quot;).item(0);\nnode.getParentNode().removeChild(node);\nTransformerFactory tf = TransformerFactory.newInstance();\nTransformer t = tf.newTransformer();\nStringWriter writer = new StringWriter();\nt.transform(new DOMSource(doc), new StreamResult(writer));\nString result = writer.getBuffer().toString();\nOperator value = mapper.readValue(result, Operator.class);\n</code></pre>\n<p>You have to use the <code>JacksonXmlProperty(isAttribute = true)</code> annotation in your <code>Parameter</code> to indicate that values are attributes:</p>\n<pre><code>@Data\npublic class Parameter {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String Key;\n    @JacksonXmlProperty(isAttribute = true)\n    private String Value;\n}\n\n@Data\npublic class Operator {\n\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Parameter&gt; parameters;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18100395,"reputation":21,"user_id":13158298,"display_name":"Neil Villamizar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688594266,"creation_date":1688594266,"answer_id":76624290,"question_id":70428354,"body_markdown":"You could use `@JsonMerge` as used here: https://stackoverflow.com/questions/57251726/how-to-deserealize-multiple-nested-elements-in-jackson\r\n\r\nIn your case:\r\n```java\r\n@Data\r\npublic class Parameter {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Key;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Value;\r\n}\r\n\r\n@Data\r\npublic class Operator {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    @JsonMerge                                     // this should solve your problem\r\n    private List&lt;Parameter&gt; parameters;\r\n}\r\n```\r\n","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>You could use <code>@JsonMerge</code> as used here: <a href=\"https://stackoverflow.com/questions/57251726/how-to-deserealize-multiple-nested-elements-in-jackson\">How to deserealize multiple nested elements in Jackson?</a></p>\n<p>In your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Parameter {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String Key;\n    @JacksonXmlProperty(isAttribute = true)\n    private String Value;\n}\n\n@Data\npublic class Operator {\n\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JsonMerge                                     // this should solve your problem\n    private List&lt;Parameter&gt; parameters;\n}\n</code></pre>\n"}],"owner":{"account_id":4567547,"reputation":1327,"user_id":3708175,"accept_rate":80,"display_name":"sramalingam24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434675,"answer_count":2,"score":0,"last_activity_date":1688594266,"creation_date":1640036352,"question_id":70428354,"body_markdown":"I have some strange xml I am trying deserialize to java objects\r\n\r\n```\r\n&lt;Operator&gt;\r\n    &lt;Parameter Key=&quot;a&quot; Value=&quot;1&quot;/&gt;\r\n    &lt;Parameter Key=&quot;b&quot; Value=&quot;2&quot;/&gt;\r\n    &lt;Parameter Key=&quot;c&quot; Value=&quot;3&quot;/&gt;\r\n    &lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;\r\n    &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;\r\n&lt;/Operator&gt;\r\n```\r\n\r\nI need to collect only the Parameter nodes as a list.\r\nI have written my java classes as follows\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Operator {\r\n  \r\n    @JacksonXmlProperty(localName=&quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Parameter&gt; parameters;\r\n\r\n   public Operator() {\r\n       this.parameters = List.of();\r\n   }\r\n\r\n   public List&lt;Parameter&gt; getParameters() {\r\n        return parameters;\r\n    }\r\n\r\n    public void setParameters(List&lt;Parameter&gt; parameters) {\r\n        this.parameters = parameters;\r\n    }\r\n}\r\n\r\n\r\npublic class Parameter {\r\n    private String Key;\r\n    private String Value;\r\n\r\n    public Parameter() {\r\n        Key = &quot;&quot;;\r\n        Value = &quot; &quot;;\r\n    }\r\n\r\n    public String getKey() {\r\n        return  Key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        Key = key;\r\n    }\r\n\r\n    public String getValue() { return Value; }\r\n\r\n    public void setValue(String value) {\r\n        Value = value;\r\n    }\r\n}\r\n\r\n// Driver\r\n\r\nJacksonXmlModule module = new JacksonXmlModule();\r\nXmlMapper mapper = new XmlMapper(module);\r\n\r\nOperator bean = mapper.readValue(xmlText, classOf[Operator])\r\n```\r\n\r\nWhen I run this the only value returned by the parameters list is the last Parameter entry with Key=&quot;d&quot; and Value=&quot;4&quot;.\r\n\r\nIs this expected behavior? Is there any annotation I can use to get all the Parameter Key/Value pairs?\r\n\r\nThanks!","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>I have some strange xml I am trying deserialize to java objects</p>\n<pre><code>&lt;Operator&gt;\n    &lt;Parameter Key=&quot;a&quot; Value=&quot;1&quot;/&gt;\n    &lt;Parameter Key=&quot;b&quot; Value=&quot;2&quot;/&gt;\n    &lt;Parameter Key=&quot;c&quot; Value=&quot;3&quot;/&gt;\n    &lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;\n    &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;\n&lt;/Operator&gt;\n</code></pre>\n<p>I need to collect only the Parameter nodes as a list.\nI have written my java classes as follows</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Operator {\n  \n    @JacksonXmlProperty(localName=&quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Parameter&gt; parameters;\n\n   public Operator() {\n       this.parameters = List.of();\n   }\n\n   public List&lt;Parameter&gt; getParameters() {\n        return parameters;\n    }\n\n    public void setParameters(List&lt;Parameter&gt; parameters) {\n        this.parameters = parameters;\n    }\n}\n\n\npublic class Parameter {\n    private String Key;\n    private String Value;\n\n    public Parameter() {\n        Key = &quot;&quot;;\n        Value = &quot; &quot;;\n    }\n\n    public String getKey() {\n        return  Key;\n    }\n\n    public void setKey(String key) {\n        Key = key;\n    }\n\n    public String getValue() { return Value; }\n\n    public void setValue(String value) {\n        Value = value;\n    }\n}\n\n// Driver\n\nJacksonXmlModule module = new JacksonXmlModule();\nXmlMapper mapper = new XmlMapper(module);\n\nOperator bean = mapper.readValue(xmlText, classOf[Operator])\n</code></pre>\n<p>When I run this the only value returned by the parameters list is the last Parameter entry with Key=&quot;d&quot; and Value=&quot;4&quot;.</p>\n<p>Is this expected behavior? Is there any annotation I can use to get all the Parameter Key/Value pairs?</p>\n<p>Thanks!</p>\n"},{"tags":["java","compare"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1688577317,"post_id":76622400,"comment_id":135093451,"body_markdown":"What do you mean by &quot;next&quot;?","body":"What do you mean by &quot;next&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":28745118,"reputation":11,"user_id":22014464,"display_name":"Gleb"},"score":0,"creation_date":1688653174,"post_id":76624248,"comment_id":135105358,"body_markdown":"Thanks for the tip. But not entirely reliable. The problem is that the compareTo method for sorting uses a small number of cycles. There are branches where the order is inaccurate.","body":"Thanks for the tip. But not entirely reliable. The problem is that the compareTo method for sorting uses a small number of cycles. There are branches where the order is inaccurate."}],"tags":[],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688593789,"creation_date":1688593789,"answer_id":76624248,"question_id":76622400,"body_markdown":"I would solve it like this:\r\n\r\n    @Override\r\n    public int compareTo(Node node) {\r\n        if (this.nextId == null &amp;&amp; node.nextId == null) {\r\n            return 0; // when both elements have null as nextId\r\n        } else if (this.nextId == null || this.id.equals(node.nextId)) {\r\n            return 1; // when this one has null as nextId or is like the nextId of the other\r\n        } else if (node.nextId == null || this.nextId.equals(node.id)) {\r\n            return -1; // if the other one has null as nextId or the other one is the nextId\r\n        }\r\n        return this.id.compareTo(node.id); // otherwise compare the id attribute\r\n    }\r\n\r\nIf the `nextId` of the other one is null or it&#39;s `id` matches the `nextId` of the current object it will come after the current one.\r\nThe other way around the current object goes after when its own `nextId` is null or its `id` equals the `nextId` of the other one.\r\n\r\nIf none of the above applies I put a fallback strategy below which compares the `id`s of both objects, you can change that according to your requirements","title":"Sorting objects in compareTo","body":"<p>I would solve it like this:</p>\n<pre><code>@Override\npublic int compareTo(Node node) {\n    if (this.nextId == null &amp;&amp; node.nextId == null) {\n        return 0; // when both elements have null as nextId\n    } else if (this.nextId == null || this.id.equals(node.nextId)) {\n        return 1; // when this one has null as nextId or is like the nextId of the other\n    } else if (node.nextId == null || this.nextId.equals(node.id)) {\n        return -1; // if the other one has null as nextId or the other one is the nextId\n    }\n    return this.id.compareTo(node.id); // otherwise compare the id attribute\n}\n</code></pre>\n<p>If the <code>nextId</code> of the other one is null or it's <code>id</code> matches the <code>nextId</code> of the current object it will come after the current one.\nThe other way around the current object goes after when its own <code>nextId</code> is null or its <code>id</code> equals the <code>nextId</code> of the other one.</p>\n<p>If none of the above applies I put a fallback strategy below which compares the <code>id</code>s of both objects, you can change that according to your requirements</p>\n"}],"owner":{"account_id":28745118,"reputation":11,"user_id":22014464,"display_name":"Gleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688593789,"creation_date":1688575422,"question_id":76622400,"body_markdown":"There is a model of child parent relationships in the form of a tree structure.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Node implements Comparable&lt;Node&gt; {\r\n\r\n    private UUID id;\r\n    private String name;\r\n    private UUID nextId;\r\n\r\n    private Node parent;\r\n    private SortedSet&lt;Node&gt; children = new TreeSet&lt;&gt;();\r\n\r\n    @Override\r\n    public int compareTo(Node node) {\r\n         ////?????\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe nextId field points to the object that should be next. If the nextId field is NULL, then this object must be the last one in the list.\r\nIt turns out that it is necessary to read the nextId field for each object, find this object and display it after the existing one. After all, this field can change, so sorting in ascending order will not work and other tricks.\r\n\r\nIs it possible to sort it at each level of the tree with such a condition in compareTo?","title":"Sorting objects in compareTo","body":"<p>There is a model of child parent relationships in the form of a tree structure.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Node implements Comparable&lt;Node&gt; {\n\n    private UUID id;\n    private String name;\n    private UUID nextId;\n\n    private Node parent;\n    private SortedSet&lt;Node&gt; children = new TreeSet&lt;&gt;();\n\n    @Override\n    public int compareTo(Node node) {\n         ////?????\n    }\n\n}\n</code></pre>\n<p>The nextId field points to the object that should be next. If the nextId field is NULL, then this object must be the last one in the list.\nIt turns out that it is necessary to read the nextId field for each object, find this object and display it after the existing one. After all, this field can change, so sorting in ascending order will not work and other tricks.</p>\n<p>Is it possible to sort it at each level of the tree with such a condition in compareTo?</p>\n"},{"tags":["java","hibernate","annotations","annotation-processing"],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688593089,"creation_date":1688593089,"question_id":76624194,"body_markdown":"Due to a bug in `liquibase-hibernate` Java Bean Validation constraint annotations (e.g `@NotNull`, `@Size`) on Java Entity classes are not being mapped to any generated Liquibase changelogs:\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/301\r\n\r\nI&#39;m wondering is it possible to generate a custom composite annotation during the compilation process?\r\n\r\nThe idea is that a new annotation named `@CustomColumnId` would be generated automatically based on the presence of the `@MyCustomAnnotation` annotation on the `ItemDTO` class, the same being done for all fields in the class.\r\n\r\n```java\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@MyCustomAnnotation\r\npublic class ItemDTO {\r\n\r\n    @NotNull\r\n    public Long id;\r\n}\r\n```\r\n\r\nThe generated annotation would also contain the JPA `@Column` annotation and automatically set the `nullable` attribute based on the presence of `javax.validation.constraints.NotNull` on `id` and the `name` attribute to the field name.\r\n\r\nSomething generated like:\r\n\r\n```java\r\n@Generated\r\nclass Item_Constraints {\r\n    \r\n    @jakarta.validation.constraints.NotNull()\r\n    @jakarta.persistence.Column(name = &quot;id&quot;, nullable = false)\r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @jakarta.validation.Constraint(validatedBy = {})\r\n    public @interface CustomColumnId {\r\n        String message() default &quot;{my.package.Item_Constraints.message}&quot;;\r\n        Class&lt;?&gt;[] groups() default { };\r\n        Class&lt;? extends jakarta.validation.Payload&gt;[] payload() default { };\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen the developer can update their Java Entity to be:\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class ItemEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @CustomColumnId\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nEssentially preventing developers from having to duplicate their constraint information across both DTO and Java Entity.\r\n\r\nOriginal Java Entity:\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class ItemEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```","title":"Possible to automatically generate a custom composite annotation for use on a Java Entity field containing a populated @Column annotation","body":"<p>Due to a bug in <code>liquibase-hibernate</code> Java Bean Validation constraint annotations (e.g <code>@NotNull</code>, <code>@Size</code>) on Java Entity classes are not being mapped to any generated Liquibase changelogs:</p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/301\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/301</a></p>\n<p>I'm wondering is it possible to generate a custom composite annotation during the compilation process?</p>\n<p>The idea is that a new annotation named <code>@CustomColumnId</code> would be generated automatically based on the presence of the <code>@MyCustomAnnotation</code> annotation on the <code>ItemDTO</code> class, the same being done for all fields in the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.NotNull;\n\n@MyCustomAnnotation\npublic class ItemDTO {\n\n    @NotNull\n    public Long id;\n}\n</code></pre>\n<p>The generated annotation would also contain the JPA <code>@Column</code> annotation and automatically set the <code>nullable</code> attribute based on the presence of <code>javax.validation.constraints.NotNull</code> on <code>id</code> and the <code>name</code> attribute to the field name.</p>\n<p>Something generated like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated\nclass Item_Constraints {\n    \n    @jakarta.validation.constraints.NotNull()\n    @jakarta.persistence.Column(name = &quot;id&quot;, nullable = false)\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n    @Retention(RUNTIME)\n    @Documented\n    @jakarta.validation.Constraint(validatedBy = {})\n    public @interface CustomColumnId {\n        String message() default &quot;{my.package.Item_Constraints.message}&quot;;\n        Class&lt;?&gt;[] groups() default { };\n        Class&lt;? extends jakarta.validation.Payload&gt;[] payload() default { };\n    }\n\n}\n</code></pre>\n<p>Then the developer can update their Java Entity to be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\npublic class ItemEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @CustomColumnId\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Essentially preventing developers from having to duplicate their constraint information across both DTO and Java Entity.</p>\n<p>Original Java Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\npublic class ItemEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mapstruct","mapper"],"answers":[{"comments":[{"owner":{"account_id":7557855,"reputation":2578,"user_id":5736731,"display_name":"Ali"},"score":0,"creation_date":1688632108,"post_id":76624108,"comment_id":135100541,"body_markdown":"It works! After I have spent all of my day to solve this issue, you saved my another day. Thanks a lot!","body":"It works! After I have spent all of my day to solve this issue, you saved my another day. Thanks a lot!"}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688591963,"creation_date":1688591963,"answer_id":76624108,"question_id":76623723,"body_markdown":"`@Mapping` is not directly applicable to methods for mapping collections. Instead, you should define a mapping method for individual objects.\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface UserEntityMapper {\r\n\r\n  @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n  TargetDTO fromEntityToDto(UserEntity userEntityList);\r\n\r\n  List&lt;TargetDTO&gt; fromEntitiesToDtos(List&lt;UserEntity&gt; userEntityList);\r\n}\r\n```\r\nMapStruct will invoke the `fromEntityToDto` method for each element when performing collection mapping.","title":"MapStruct Can Not Build Implementation Code For @Mapping Definition","body":"<p><code>@Mapping</code> is not directly applicable to methods for mapping collections. Instead, you should define a mapping method for individual objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper {\n\n  @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n  TargetDTO fromEntityToDto(UserEntity userEntityList);\n\n  List&lt;TargetDTO&gt; fromEntitiesToDtos(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>MapStruct will invoke the <code>fromEntityToDto</code> method for each element when performing collection mapping.</p>\n"}],"owner":{"account_id":7557855,"reputation":2578,"user_id":5736731,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624108,"answer_count":1,"score":0,"last_activity_date":1688591963,"creation_date":1688587769,"question_id":76623723,"body_markdown":"Mapstruct works fine in project but there is a problem with @Mapping annotation.\r\n\r\n\r\nWorking Spring Boot version 2.2.0.RELEASE\r\n\r\nHere is dependency details :\r\n\r\n    implementation &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.mapstruct:mapstruct&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor&#39;\r\n    implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\r\n\r\nHere is example about the problem.\r\n\r\n\r\nUserEntity.java\r\n\r\n    public class UserEntity {\r\n    \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressEntity userAddressEntity;\r\n    }\r\n\r\nUserAddressEntity.java\r\n\r\n    public class UserAddressEntity {\r\n        private String userAddress;\r\n        private Integer userPhone;\r\n    }\r\n\r\n\r\nUserAddressDTO\r\n\r\n    public class UserAddressDTO {\r\n        private String userAddress;\r\n        private Integer userPhone;\r\n    }\r\n\r\n\r\nTargetDTO (I want to convert UserEntity to this DTO)\r\n\r\n    public class TargetDTO {\r\n    \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressDTO userAddressDto; \r\n    }\r\n\r\nHere is mapper class :\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\nIn this interface, Mapstruct can not create implementation for @Mapping. I changed implemenetation like this:\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity.userAddress&quot;, target = &quot;userAddressDto.userAddress&quot;)\r\n        @Mapping(source = &quot;userAddressEntity.userPhone&quot;, target = &quot;userAddressDto.userPhone&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\nIt is still not working.\r\n\r\nAll other fields are mapping successfully only the definition in @Mapping is not working.\r\n\r\nBut, when I removed @Mapping and I changed TargetDto like this, it works :\r\n\r\n    public class TargetDTO {\r\n      \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressDTO userAddressEntity; // I just updated property naming\r\n    }\r\n\r\nBut why is it not working with @Mapping. **This is the problem.** \r\n\r\nAlso I tried &quot;uses&quot; definition and seperated problematic mapper but it also could not map UserAddressEntity to UserAddressDTO :\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, **uses = UserAddressMapper.class**)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\n**What is the problem with @Mapping usage?** When code is compiling Mapstruct can create Implementation class and build implementation code  for all other fields but it can not create implementation code for @Mapping in the Implementation class. I tried many ways and it does not work in anyway.","title":"MapStruct Can Not Build Implementation Code For @Mapping Definition","body":"<p>Mapstruct works fine in project but there is a problem with @Mapping annotation.</p>\n<p>Working Spring Boot version 2.2.0.RELEASE</p>\n<p>Here is dependency details :</p>\n<pre><code>implementation 'org.projectlombok:lombok'\nannotationProcessor 'org.projectlombok:lombok'\nimplementation 'org.mapstruct:mapstruct'\nannotationProcessor 'org.mapstruct:mapstruct-processor'\nimplementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\nannotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\n</code></pre>\n<p>Here is example about the problem.</p>\n<p>UserEntity.java</p>\n<pre><code>public class UserEntity {\n\n    private String username;\n    private Integer userAge;\n    private UserAddressEntity userAddressEntity;\n}\n</code></pre>\n<p>UserAddressEntity.java</p>\n<pre><code>public class UserAddressEntity {\n    private String userAddress;\n    private Integer userPhone;\n}\n</code></pre>\n<p>UserAddressDTO</p>\n<pre><code>public class UserAddressDTO {\n    private String userAddress;\n    private Integer userPhone;\n}\n</code></pre>\n<p>TargetDTO (I want to convert UserEntity to this DTO)</p>\n<pre><code>public class TargetDTO {\n\n    private String username;\n    private Integer userAge;\n    private UserAddressDTO userAddressDto; \n}\n</code></pre>\n<p>Here is mapper class :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>In this interface, Mapstruct can not create implementation for @Mapping. I changed implemenetation like this:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity.userAddress&quot;, target = &quot;userAddressDto.userAddress&quot;)\n    @Mapping(source = &quot;userAddressEntity.userPhone&quot;, target = &quot;userAddressDto.userPhone&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>It is still not working.</p>\n<p>All other fields are mapping successfully only the definition in @Mapping is not working.</p>\n<p>But, when I removed @Mapping and I changed TargetDto like this, it works :</p>\n<pre><code>public class TargetDTO {\n  \n    private String username;\n    private Integer userAge;\n    private UserAddressDTO userAddressEntity; // I just updated property naming\n}\n</code></pre>\n<p>But why is it not working with @Mapping. <strong>This is the problem.</strong></p>\n<p>Also I tried &quot;uses&quot; definition and seperated problematic mapper but it also could not map UserAddressEntity to UserAddressDTO :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, **uses = UserAddressMapper.class**)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p><strong>What is the problem with @Mapping usage?</strong> When code is compiling Mapstruct can create Implementation class and build implementation code  for all other fields but it can not create implementation code for @Mapping in the Implementation class. I tried many ways and it does not work in anyway.</p>\n"},{"tags":["java","spring","annotations","aspectj"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1652412952,"post_id":72213693,"comment_id":127605154,"body_markdown":"1. Please read through SO Q&amp;A : [Is there something like Annotation Inheritance in java?](https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java) to get a grip on why this code is not working as you expect 2. If the requirement is to log along with monitor we can also call a helper method to log from both aspects . Another way is to have the same aspect class for both pointcuts and a single `log()` method gets called from both advises. 3. `MergedAnnotations.from(.. )` could be used instead of `AnnotationUtils.findAnnotation(..)`","body":"1. Please read through SO Q&amp;A : <a href=\"https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java\">Is there something like Annotation Inheritance in java?</a> to get a grip on why this code is not working as you expect 2. If the requirement is to log along with monitor we can also call a helper method to log from both aspects . Another way is to have the same aspect class for both pointcuts and a single <code>log()</code> method gets called from both advises. 3. <code>MergedAnnotations.from(.. )</code> could be used instead of <code>AnnotationUtils.findAnnotation(..)</code>"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1652413065,"post_id":72213693,"comment_id":127605170,"body_markdown":"`MethodSignature ms = (MethodSignature)pjp.getSignature(); MergedAnnotations annotations = MergedAnnotations.from(ms.getMethod());` could be used within an aspect advise to introspect the annotations for the method and perform the logic required","body":"<code>MethodSignature ms = (MethodSignature)pjp.getSignature(); MergedAnnotations annotations = MergedAnnotations.from(ms.getMethod());</code> could be used within an aspect advise to introspect the annotations for the method and perform the logic required"}],"answers":[{"tags":[],"owner":{"account_id":4138433,"reputation":300,"user_id":3394495,"display_name":"cheshire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688591877,"creation_date":1688591877,"answer_id":76624101,"question_id":72213693,"body_markdown":"Using the syntax from https://stackoverflow.com/a/38209801/3394495, this should work for your case:\r\n\r\n```\r\nclass LoggingAOPConfig {\r\n   \r\n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Pointcut(&quot;execution(@(@LoggedMethodInvocation *) * *(..))&quot;)\r\n    public void metaServicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut() || metaServicePointcut()&quot;)\r\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\r\n        // log the method invocation...\r\n    }\r\n}","title":"AOP and annotation &#39;inheritance&#39;","body":"<p>Using the syntax from <a href=\"https://stackoverflow.com/a/38209801/3394495\">https://stackoverflow.com/a/38209801/3394495</a>, this should work for your case:</p>\n<pre><code>class LoggingAOPConfig {\n   \n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Pointcut(&quot;execution(@(@LoggedMethodInvocation *) * *(..))&quot;)\n    public void metaServicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut() || metaServicePointcut()&quot;)\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\n        // log the method invocation...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7113761,"reputation":131,"user_id":5440774,"display_name":"miro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1688621593,"answer_count":1,"score":1,"last_activity_date":1688591877,"creation_date":1652350141,"question_id":72213693,"body_markdown":"let&#39;s consider the following situation.\r\n\r\n```\r\n@interface LoggedMethodInvocation{}\r\n\r\n@LoggedMethodInvocation\r\n@interface MonitoredMethodInvocation{}\r\n```\r\n\r\nI would like the `@MonitoredMethodInvocation` annotation implying the `@LoggedMethodInvocation` annotation.\r\n\r\n```\r\nclass LoggingAOPConfig {\r\n   \r\n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut()&quot;)\r\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\r\n        // log the method invocation...\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass MonitoringAOPConfig {\r\n\r\n    @Pointcut(&quot;@annotation(MonitoredMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut()&quot;)\r\n    public Object monitorResponseTime(ProceedingJoinPoint pjp) throws Throwable {\r\n        // add some meters to the method invocation\r\n    }\r\n}\r\n```\r\n\r\nNow I would like to introduce some method, which shall be both monitored and logged. And I would like to annotate the method only with one annotation, namely `@MonitoredMethodInvocation`. \r\n\r\n```\r\nclass SomeService {\r\n   \r\n    @MonitoredMethodInvocation\r\n    Object someMethod(Object requestPayload) {\r\n        // ...\r\n        return responsePayload;\r\n    }\r\n}\r\n```\r\n\r\nHowever it doesn&#39;t play, the logging aspect is not taken into the account.\r\n\r\nThere is spring&#39;s `AnnotationUtils.findAnnotation` which offers the needed functionality (of recognizing, whether the `@LoggedMethodInvocation` shall be considered). However, I don&#39;t know how to put this into the pointcut configuration.\r\n\r\nHow shall I modify the logging AOP config so it will recognize the logging annotation even if it is hidden behind the `@MonitoredMethodInvocation`?","title":"AOP and annotation &#39;inheritance&#39;","body":"<p>let's consider the following situation.</p>\n<pre><code>@interface LoggedMethodInvocation{}\n\n@LoggedMethodInvocation\n@interface MonitoredMethodInvocation{}\n</code></pre>\n<p>I would like the <code>@MonitoredMethodInvocation</code> annotation implying the <code>@LoggedMethodInvocation</code> annotation.</p>\n<pre><code>class LoggingAOPConfig {\n   \n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut()&quot;)\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\n        // log the method invocation...\n    }\n}\n</code></pre>\n<pre><code>class MonitoringAOPConfig {\n\n    @Pointcut(&quot;@annotation(MonitoredMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut()&quot;)\n    public Object monitorResponseTime(ProceedingJoinPoint pjp) throws Throwable {\n        // add some meters to the method invocation\n    }\n}\n</code></pre>\n<p>Now I would like to introduce some method, which shall be both monitored and logged. And I would like to annotate the method only with one annotation, namely <code>@MonitoredMethodInvocation</code>.</p>\n<pre><code>class SomeService {\n   \n    @MonitoredMethodInvocation\n    Object someMethod(Object requestPayload) {\n        // ...\n        return responsePayload;\n    }\n}\n</code></pre>\n<p>However it doesn't play, the logging aspect is not taken into the account.</p>\n<p>There is spring's <code>AnnotationUtils.findAnnotation</code> which offers the needed functionality (of recognizing, whether the <code>@LoggedMethodInvocation</code> shall be considered). However, I don't know how to put this into the pointcut configuration.</p>\n<p>How shall I modify the logging AOP config so it will recognize the logging annotation even if it is hidden behind the <code>@MonitoredMethodInvocation</code>?</p>\n"},{"tags":["java","spring-boot","automation","build.gradle"],"comments":[{"owner":{"account_id":2640358,"reputation":331,"user_id":2284150,"display_name":"Mihail"},"score":0,"creation_date":1613850151,"post_id":66295499,"comment_id":117205608,"body_markdown":"Try to comment/remove line 15, since this artifact is deployed on Maven Central no additional setup needed to find it.","body":"Try to comment/remove line 15, since this artifact is deployed on Maven Central no additional setup needed to find it."},{"owner":{"account_id":19576949,"reputation":105,"user_id":14326842,"display_name":"programmer"},"score":0,"creation_date":1613974750,"post_id":66295499,"comment_id":117231672,"body_markdown":"It does not help","body":"It does not help"}],"answers":[{"tags":[],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628724594,"creation_date":1628724594,"answer_id":68750000,"question_id":66295499,"body_markdown":"Adding the spring URL in the repositories section fixed it for me:\r\n\r\n     repositories {\r\n            maven {\r\n                url &quot;https://repo.spring.io/plugins-release&quot;\r\n                mavenCentral()\r\n            }\r\n        }","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>Adding the spring URL in the repositories section fixed it for me:</p>\n<pre><code> repositories {\n        maven {\n            url &quot;https://repo.spring.io/plugins-release&quot;\n            mavenCentral()\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2001834,"reputation":2797,"user_id":1792685,"display_name":"Steve Hansen Smythe"},"score":0,"creation_date":1688590745,"post_id":74080683,"comment_id":135095733,"body_markdown":"https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023 notes that repo.spring.io will no longer be accessible anonymously, except for /plugins-snapshot and /plugins-milestone.","body":"<a href=\"https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023\" rel=\"nofollow noreferrer\">spring.io/blog/2022/12/14/&hellip;</a> notes that repo.spring.io will no longer be accessible anonymously, except for /plugins-snapshot and /plugins-milestone."}],"tags":[],"owner":{"account_id":2991923,"reputation":919,"user_id":2539334,"display_name":"Do Tat Hoan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665847130,"creation_date":1665847130,"answer_id":74080683,"question_id":66295499,"body_markdown":"Just change from\r\n\r\n    maven { url &quot;http://repo.spring.io/plugins-release&quot; }\r\nto\r\n\r\n        maven {\r\n            url &quot;https://repo.spring.io/plugins-release&quot;\r\n            mavenCentral()\r\n        }","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>Just change from</p>\n<pre><code>maven { url &quot;http://repo.spring.io/plugins-release&quot; }\n</code></pre>\n<p>to</p>\n<pre><code>    maven {\n        url &quot;https://repo.spring.io/plugins-release&quot;\n        mavenCentral()\n    }\n</code></pre>\n"}],"owner":{"account_id":19576949,"reputation":105,"user_id":14326842,"display_name":"programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688590709,"creation_date":1613848059,"question_id":66295499,"body_markdown":"I&#39;m getting some errors :\r\n\r\n\r\n\r\n```\r\n\r\n    Could not resolve all artifacts for configuration \r\n&#39;:gisett-backend:classpath&#39;. \r\nCould not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE. Searched in the following locations: - \r\nhttps://jcenter.bintray.com/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom - https://repo.maven.apache.org/maven2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom\r\n - https://plugins.gradle.org/m2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom \r\n\r\n```\r\n\r\nHere the build.gradle :\r\n github.com/EstherSD/gis/blob/main/build.gradle\r\n\r\nHow can I fix it? \r\n\r\nThanks\r\n","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>I'm getting some errors :</p>\n<pre><code>\n    Could not resolve all artifacts for configuration \n':gisett-backend:classpath'. \nCould not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE. Searched in the following locations: - \nhttps://jcenter.bintray.com/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom - https://repo.maven.apache.org/maven2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom\n - https://plugins.gradle.org/m2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom \n\n</code></pre>\n<p>Here the build.gradle :\ngithub.com/EstherSD/gis/blob/main/build.gradle</p>\n<p>How can I fix it?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":8836903,"reputation":29,"user_id":6600813,"display_name":"Tanishk Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688589950,"creation_date":1688589950,"answer_id":76623931,"question_id":76622705,"body_markdown":"**Solution:** This happens due to the property `singleLine=&quot;true&quot;` &amp;&amp; `inputType=&quot;text&quot;`. Better way is to use `maxLines = &quot;1&quot;` and set input type to text programatically","title":"How to manipulate the colors of the auto-expanding selection in edit-text","body":"<p><strong>Solution:</strong> This happens due to the property <code>singleLine=&quot;true&quot;</code> &amp;&amp; <code>inputType=&quot;text&quot;</code>. Better way is to use <code>maxLines = &quot;1&quot;</code> and set input type to text programatically</p>\n"}],"owner":{"account_id":8836903,"reputation":29,"user_id":6600813,"display_name":"Tanishk Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623931,"answer_count":1,"score":0,"last_activity_date":1688589950,"creation_date":1688577960,"question_id":76622705,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/3OXPG.gif)](https://i.stack.imgur.com/3OXPG.gif)\r\n\r\nIn the gif you can see on double tap, the automatic expansion for the string which happens in a different color (light blue?), I have not defined this color anywhere, which looks odd. How do we manipulate this property?\r\n\r\nI have tried many highlight properties like colorControlActivated, Normal, Highlight etc but it does not affect this at all!\r\n\r\nI am expecting to be able to manipulate the auto-expansion animation color.","title":"How to manipulate the colors of the auto-expanding selection in edit-text","body":"<p><a href=\"https://i.stack.imgur.com/3OXPG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OXPG.gif\" alt=\"enter image description here\" /></a></p>\n<p>In the gif you can see on double tap, the automatic expansion for the string which happens in a different color (light blue?), I have not defined this color anywhere, which looks odd. How do we manipulate this property?</p>\n<p>I have tried many highlight properties like colorControlActivated, Normal, Highlight etc but it does not affect this at all!</p>\n<p>I am expecting to be able to manipulate the auto-expansion animation color.</p>\n"},{"tags":["java","arraylist","methods"],"comments":[{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":0,"creation_date":1687795831,"post_id":76558408,"comment_id":134983442,"body_markdown":"It&#39;s all about the overloaded remove method. When providing just &quot;1&quot;, it&#39;s treated as primitive, thus it invokes the remove(int index) method","body":"It&#39;s all about the overloaded remove method. When providing just &quot;1&quot;, it&#39;s treated as primitive, thus it invokes the remove(int index) method"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1687796112,"post_id":76558408,"comment_id":134983512,"body_markdown":"Rather than asking folks to imagine things, remember to show real code. Because `ArrayList al ={1,2,3,4,5};` isn&#39;t valid java, _nor_ does it tell folks what you&#39;re actually doing (are you relying on auto-boxing? Are you building `Integer` objects explicitly?). As for how the JVM knows: it doesn&#39;t, but the compiler does. Java is a strongly typed language, and when you write `remove(1)` the compiler resolves that to the `remove(int)` method.","body":"Rather than asking folks to imagine things, remember to show real code. Because <code>ArrayList al ={1,2,3,4,5};</code> isn&#39;t valid java, <i>nor</i> does it tell folks what you&#39;re actually doing (are you relying on auto-boxing? Are you building <code>Integer</code> objects explicitly?). As for how the JVM knows: it doesn&#39;t, but the compiler does. Java is a strongly typed language, and when you write <code>remove(1)</code> the compiler resolves that to the <code>remove(int)</code> method."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687799475,"post_id":76558408,"comment_id":134984197,"body_markdown":"related: [How to remove integer from list?](https://stackoverflow.com/questions/17037583/how-to-remove-integer-from-list) or  [Properly removing an Integer from a List&lt;Integer&gt;](https://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger) and [*some* more](https://stackoverflow.com/search?q=%5Bjava%5D+%5Barraylist%5D+remove+integer) || you should have completed the [tour]: &quot;***Don&#39;t ask about...** Questions you haven&#39;t tried to find an answer for*&quot;","body":"related: <a href=\"https://stackoverflow.com/questions/17037583/how-to-remove-integer-from-list\">How to remove integer from list?</a> or  <a href=\"https://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger\">Properly removing an Integer from a List&lt;Integer&gt;</a> and <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+%5Barraylist%5D+remove+integer\"><i>some</i> more</a> || you should have completed the <a href=\"https://stackoverflow.com/tour\">tour</a>: &quot;<b><i>Don&#39;t ask about...</b> Questions you haven&#39;t tried to find an answer for</i>&quot;"}],"answers":[{"comments":[{"owner":{"account_id":28898911,"reputation":13,"user_id":22134330,"display_name":"MCA22 Adarsh Kumar"},"score":0,"creation_date":1687887712,"post_id":76558699,"comment_id":134999074,"body_markdown":"Thank yu so much.","body":"Thank yu so much."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687797907,"creation_date":1687797907,"answer_id":76558699,"question_id":76558408,"body_markdown":"&gt; _&quot;... How JVM understand whether I want to remove 1st index or value=1?? I want to remove by index and by value also.&quot;_\r\n\r\nYou&#39;ll need to specify the argument as an _Integer_ object.\r\n\r\n```java\r\nal.remove(Integer.valueOf(1));\r\n```\r\n\r\nOtherwise, you&#39;re right, the _int_ value of _1_ will be interpreted as an index value.\r\n\r\n```java\r\nList&lt;Integer&gt; al = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\nal.remove(Integer.valueOf(1));\r\n\r\nSystem.out.println(al);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[2, 3, 4, 5]\r\n```","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<blockquote>\n<p><em>&quot;... How JVM understand whether I want to remove 1st index or value=1?? I want to remove by index and by value also.&quot;</em></p>\n</blockquote>\n<p>You'll need to specify the argument as an <em>Integer</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>al.remove(Integer.valueOf(1));\n</code></pre>\n<p>Otherwise, you're right, the <em>int</em> value of <em>1</em> will be interpreted as an index value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; al = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\nal.remove(Integer.valueOf(1));\n\nSystem.out.println(al);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2, 3, 4, 5]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28898911,"reputation":13,"user_id":22134330,"display_name":"MCA22 Adarsh Kumar"},"score":0,"creation_date":1687887743,"post_id":76559422,"comment_id":134999084,"body_markdown":"Thank u so much!!","body":"Thank u so much!!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687807899,"creation_date":1687804898,"answer_id":76559422,"question_id":76558408,"body_markdown":"From the JavaDoc for the **List** interface.  Note that `remove()` is an optional method.\r\n\r\n**E remove(int index)**\r\n\r\n&gt; Removes the element at the specified position in this list (optional operation). Shifts any subsequent elements to the left (subtracts one from their indices). Returns the element that was removed from the list.  Returns the element at the specified position.\r\n\r\n**boolean remove(Object o)**\r\n\r\n\r\n&gt;Removes the first occurrence of the specified element from this list, if it is present (optional operation). If this list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).  Returns true if the object existed, false otherwise.\r\n\r\nAs the methods are presently defined, the method with the argument that best matches the type of parameter is chosen.\r\n\r\nNote that if there was only `remove(int index)` and no `remove(Object o)` then calling `remove(int index)` would work whether you specified an `int` or an `Integer`.  In the latter case, `Integer` would be unboxed to an `int`.\r\n\r\nBTW, if you are removing one or more consecutive items, starting at index 0, you may as well just assign a sub list to the list since it will be more efficient, especially for large lists.  Say you want to remove the first 10 items.  You can do it like so.\r\n```\r\nlist = list.subList(10,list.size());\r\n```\r\nIf you keep the original list, then changing anything in the original list or sub list will be reflected in the other since `subList` returns a view of the specified section of the original list.","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<p>From the JavaDoc for the <strong>List</strong> interface.  Note that <code>remove()</code> is an optional method.</p>\n<p><strong>E remove(int index)</strong></p>\n<blockquote>\n<p>Removes the element at the specified position in this list (optional operation). Shifts any subsequent elements to the left (subtracts one from their indices). Returns the element that was removed from the list.  Returns the element at the specified position.</p>\n</blockquote>\n<p><strong>boolean remove(Object o)</strong></p>\n<blockquote>\n<p>Removes the first occurrence of the specified element from this list, if it is present (optional operation). If this list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).  Returns true if the object existed, false otherwise.</p>\n</blockquote>\n<p>As the methods are presently defined, the method with the argument that best matches the type of parameter is chosen.</p>\n<p>Note that if there was only <code>remove(int index)</code> and no <code>remove(Object o)</code> then calling <code>remove(int index)</code> would work whether you specified an <code>int</code> or an <code>Integer</code>.  In the latter case, <code>Integer</code> would be unboxed to an <code>int</code>.</p>\n<p>BTW, if you are removing one or more consecutive items, starting at index 0, you may as well just assign a sub list to the list since it will be more efficient, especially for large lists.  Say you want to remove the first 10 items.  You can do it like so.</p>\n<pre><code>list = list.subList(10,list.size());\n</code></pre>\n<p>If you keep the original list, then changing anything in the original list or sub list will be reflected in the other since <code>subList</code> returns a view of the specified section of the original list.</p>\n"}],"owner":{"account_id":28898911,"reputation":13,"user_id":22134330,"display_name":"MCA22 Adarsh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76559422,"answer_count":2,"score":0,"last_activity_date":1688589744,"creation_date":1687795500,"question_id":76558408,"body_markdown":"Imagine i have\r\nArrayList al ={1,2,3,4,5};\r\nI want to remove 1st index i will use \r\nal.remove(1).\r\nI want to remove by value which is 1 i will use \r\nal.remove(1).\r\nHow JVM understand whether I want to remove 1st index or value=1??\r\nI want to remove by index and by value also.","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<p>Imagine i have\nArrayList al ={1,2,3,4,5};\nI want to remove 1st index i will use\nal.remove(1).\nI want to remove by value which is 1 i will use\nal.remove(1).\nHow JVM understand whether I want to remove 1st index or value=1??\nI want to remove by index and by value also.</p>\n"},{"tags":["java","hibernate","serialization","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588983,"creation_date":1688588983,"answer_id":76623845,"question_id":76623619,"body_markdown":"When you change the value of the serialVersionUID field in the Employee class, it can cause problems when serializing and deserializing objects.\r\n\r\nThe serialVersionUID is used as an identifier for the serialized version of an object. It ensures that the serialized object matches the class definition when it is being deserialized.\r\n\r\nIf you change the serialVersionUID to a different value, it means the serialized object is different from what is expected during deserialization. This can result in errors when trying to deserialize the object.\r\n\r\nAdditionally, if you have previously serialized instances of the Employee class with the old serialVersionUID, trying to deserialize them with the updated serialVersionUID may fail. The serialized data is checked against the serialVersionUID for compatibility, and a mismatch can lead to deserialization errors.\r\n\r\nTo avoid these issues, it&#39;s important to manage the serialVersionUID carefully when making changes to serialized classes. If you make incompatible changes to the class structure, consider incrementing the serialVersionUID to indicate the incompatibility and handle deserialization failures gracefully.\r\n\r\nKeeping backward compatibility in mind when serializing and deserializing objects helps prevent unexpected issues during deployment and application updates.","title":"What would happen if i change the UUID serial version of the entity class?","body":"<p>When you change the value of the serialVersionUID field in the Employee class, it can cause problems when serializing and deserializing objects.</p>\n<p>The serialVersionUID is used as an identifier for the serialized version of an object. It ensures that the serialized object matches the class definition when it is being deserialized.</p>\n<p>If you change the serialVersionUID to a different value, it means the serialized object is different from what is expected during deserialization. This can result in errors when trying to deserialize the object.</p>\n<p>Additionally, if you have previously serialized instances of the Employee class with the old serialVersionUID, trying to deserialize them with the updated serialVersionUID may fail. The serialized data is checked against the serialVersionUID for compatibility, and a mismatch can lead to deserialization errors.</p>\n<p>To avoid these issues, it's important to manage the serialVersionUID carefully when making changes to serialized classes. If you make incompatible changes to the class structure, consider incrementing the serialVersionUID to indicate the incompatibility and handle deserialization failures gracefully.</p>\n<p>Keeping backward compatibility in mind when serializing and deserializing objects helps prevent unexpected issues during deployment and application updates.</p>\n"}],"owner":{"account_id":28958157,"reputation":1,"user_id":22181272,"display_name":"Shreyajit Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688588983,"creation_date":1688586589,"question_id":76623619,"body_markdown":"Say entity class Employee is like this:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;employee&quot;)    \r\nclass Employee implements Serializable{    \r\nprivate static final long serialVersionUID=1L;    \r\nint id;    \r\nString name;    \r\npublic Student(int id, String name) {    \r\nthis.id = id;    \r\nthis.name = name;    \r\n}\r\n\r\n```\r\n\r\nNow during next deployment i change\r\n\r\n```\r\nprivate static final long serialVersionUID=1L; \r\n\r\n```\r\nto\r\n\r\n\r\n\r\n\r\n```\r\nprivate static final long serialVersionUID=123L; \r\n\r\n```\r\nWhat will be the consequences?\r\n\r\n\r\n\r\nYet to try this out in real world applications. Any headsup on this or if anyone has tried it?`your text`","title":"What would happen if i change the UUID serial version of the entity class?","body":"<p>Say entity class Employee is like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)    \nclass Employee implements Serializable{    \nprivate static final long serialVersionUID=1L;    \nint id;    \nString name;    \npublic Student(int id, String name) {    \nthis.id = id;    \nthis.name = name;    \n}\n\n</code></pre>\n<p>Now during next deployment i change</p>\n<pre><code>private static final long serialVersionUID=1L; \n\n</code></pre>\n<p>to</p>\n<pre><code>private static final long serialVersionUID=123L; \n\n</code></pre>\n<p>What will be the consequences?</p>\n<p>Yet to try this out in real world applications. Any headsup on this or if anyone has tried it?<code>your text</code></p>\n"},{"tags":["java","json","request","http-post","java-http-client"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1688586207,"post_id":76623406,"comment_id":135095063,"body_markdown":"Does this answer your question? [How to including variables within strings?](https://stackoverflow.com/questions/9643610/how-to-including-variables-within-strings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9643610/how-to-including-variables-within-strings\">How to including variables within strings?</a>"}],"answers":[{"comments":[{"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"score":0,"creation_date":1688586853,"post_id":76623575,"comment_id":135095162,"body_markdown":"@Chiamka Etchie thanks for the suggestion.  In this case it is a simple int represented in String value, but I can see what you mean if it becomes a little more complex when converting your data types to Strings required escape for certain characters.  What would be the better approach for a more future proof way of preventing that?","body":"@Chiamka Etchie thanks for the suggestion.  In this case it is a simple int represented in String value, but I can see what you mean if it becomes a little more complex when converting your data types to Strings required escape for certain characters.  What would be the better approach for a more future proof way of preventing that?"},{"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"score":0,"creation_date":1688587960,"post_id":76623575,"comment_id":135095331,"body_markdown":"I have edited with a better approach to solving it, Its very modularized this way, easier to test and is future proof.","body":"I have edited with a better approach to solving it, Its very modularized this way, easier to test and is future proof."}],"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688587877,"creation_date":1688586053,"answer_id":76623575,"question_id":76623406,"body_markdown":"One approach is to concatenate in the json like this.\r\n\r\n   \r\n\r\n    public ResponseEntity test()  {\r\n        String doubleAsInput = String.valueOf(2.0);\r\n        String intAsInput = String.valueOf(3);\r\n        String stringWithSlash = &quot;\\failed&quot;;\r\n        String valueWithComma = &quot;comma,&quot;;\r\n    String messageValue = &quot;Weekend UI Validation email will be shared shortly&quot;;\r\n    String statusValue = &quot;Success&quot;;\r\n\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    ObjectNode bodyNode = objectMapper.createObjectNode();\r\n\r\n    ObjectNode contextNode = bodyNode.putObject(&quot;@context&quot;);\r\n    contextNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\r\n\r\n    bodyNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\r\n    bodyNode.put(&quot;themeColor&quot;, &quot;#00FF00&quot;);\r\n    bodyNode.put(&quot;summary&quot;, &quot;Weekend UI Validation Success&quot;);\r\n\r\n    ArrayNode sectionsArrayNode = bodyNode.putArray(&quot;sections&quot;);\r\n    ObjectNode sectionNode = sectionsArrayNode.addObject();\r\n    sectionNode.put(&quot;activityTitle&quot;, &quot;Weekend UI Validation Succesful!!&quot;);\r\n    sectionNode.put(&quot;activitySubtitle&quot;, &quot;Build Results&quot;);\r\n    sectionNode.put(&quot;activityImage&quot;, &quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png&quot;);\r\n    sectionNode.put(&quot;markdown&quot;, true);\r\n\r\n    ArrayNode factsArrayNode = sectionNode.putArray(&quot;facts&quot;);\r\n    factsArrayNode.add(createFactNode(&quot;Message&quot;, messageValue, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Status&quot;, statusValue, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Total Tests:&quot;, doubleAsInput, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Passed:&quot;, intAsInput, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Failed:&quot;, stringWithSlash, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Skipped&quot;, valueWithComma, objectMapper));\r\n\r\n\r\n    String requestBody = null;\r\n    try {\r\n        requestBody = objectMapper.writeValueAsString(bodyNode);\r\n    } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return ResponseEntity.ok(requestBody);\r\n\r\n\r\n}\r\n\r\n\r\n","title":"How to pass a variable in JSON request body string for http POST","body":"<p>One approach is to concatenate in the json like this.</p>\n<pre><code>public ResponseEntity test()  {\n    String doubleAsInput = String.valueOf(2.0);\n    String intAsInput = String.valueOf(3);\n    String stringWithSlash = &quot;\\failed&quot;;\n    String valueWithComma = &quot;comma,&quot;;\nString messageValue = &quot;Weekend UI Validation email will be shared shortly&quot;;\nString statusValue = &quot;Success&quot;;\n\n\nObjectMapper objectMapper = new ObjectMapper();\nObjectNode bodyNode = objectMapper.createObjectNode();\n\nObjectNode contextNode = bodyNode.putObject(&quot;@context&quot;);\ncontextNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\n\nbodyNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\nbodyNode.put(&quot;themeColor&quot;, &quot;#00FF00&quot;);\nbodyNode.put(&quot;summary&quot;, &quot;Weekend UI Validation Success&quot;);\n\nArrayNode sectionsArrayNode = bodyNode.putArray(&quot;sections&quot;);\nObjectNode sectionNode = sectionsArrayNode.addObject();\nsectionNode.put(&quot;activityTitle&quot;, &quot;Weekend UI Validation Succesful!!&quot;);\nsectionNode.put(&quot;activitySubtitle&quot;, &quot;Build Results&quot;);\nsectionNode.put(&quot;activityImage&quot;, &quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png&quot;);\nsectionNode.put(&quot;markdown&quot;, true);\n\nArrayNode factsArrayNode = sectionNode.putArray(&quot;facts&quot;);\nfactsArrayNode.add(createFactNode(&quot;Message&quot;, messageValue, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Status&quot;, statusValue, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Total Tests:&quot;, doubleAsInput, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Passed:&quot;, intAsInput, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Failed:&quot;, stringWithSlash, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Skipped&quot;, valueWithComma, objectMapper));\n\n\nString requestBody = null;\ntry {\n    requestBody = objectMapper.writeValueAsString(bodyNode);\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n\nreturn ResponseEntity.ok(requestBody);\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688839001,"post_id":76623840,"comment_id":135129025,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76623840/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28508256,"reputation":19,"user_id":21818599,"display_name":"Jacob Batista"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588944,"creation_date":1688588944,"answer_id":76623840,"question_id":76623406,"body_markdown":"I highly recommend taking a look at a JSON serialization library, such as [Jackson Databind][1]. Based on your comment to Chiamaka Etchie&#39;s answer, it seems like you are trying to convert your data types to strings, which is MUCH easier when you use an existing serialization library.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind","title":"How to pass a variable in JSON request body string for http POST","body":"<p>I highly recommend taking a look at a JSON serialization library, such as <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson Databind</a>. Based on your comment to Chiamaka Etchie's answer, it seems like you are trying to convert your data types to strings, which is MUCH easier when you use an existing serialization library.</p>\n"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1688588944,"creation_date":1688584270,"question_id":76623406,"body_markdown":"I currently have a JSON request body as a string that I am also passing as a string in the BodyPublishers.ofString() method when using the java httpclient to send a POST request.  I also want to be able to include the variables below in my values under **facts** as seen below:\r\n\r\n```\r\nString totalString = String.valueOf(total);\r\nString successString = String.valueOf(success);\r\nString failedString = String.valueOf(failed);\r\nString skippedString = String.valueOf(skipped);\r\nString body = &quot;{\\n&quot; +\r\n\t\t&quot;  \\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;sections\\&quot;: [\\n&quot; +\r\n\t\t&quot;    {\\n&quot; +\r\n\t\t&quot;      \\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesful!!\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;facts\\&quot;: [\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot; Weekend UI Validation email will be shared shortly\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Success\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Total Tests: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Passed: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Failed: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be failedString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Skipped\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be skippedString\\&quot;\\n&quot; +\r\n\t\t&quot;        }\\n&quot; +\r\n\t\t&quot;      ],\\n&quot; +\r\n\t\t&quot;      \\&quot;markdown\\&quot;: true\\n&quot; +\r\n\t\t&quot;    }\\n&quot; +\r\n\t\t&quot;  ]\\n&quot; +\r\n\t\t&quot;}&quot;;\r\n```\r\n\r\nUsing the java net http client, I have the below method, where the request body is passed as String in the POST method which accepts the request body string:\r\n\r\n```\r\npublic HttpResponse sendTeamsPostSummary(String url, String reqBody) throws IOException, InterruptedException {\r\n\tHttpClient client = HttpClient.newBuilder()\r\n\t\t\t.followRedirects(HttpClient.Redirect.NORMAL)\r\n\t\t\t.build();\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t.uri(URI.create(url))\r\n\t\t\t.POST(BodyPublishers.ofString(reqBody))\r\n\t\t\t.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t.build();\r\n\r\n\tHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tSystem.out.println(response);\r\n\treturn response;\r\n}\r\n```\r\n\r\nHow can I do this in such a way where the value of **value** within the **facts** json object can be passed with the variable instead of a hardcoded string?\r\n","title":"How to pass a variable in JSON request body string for http POST","body":"<p>I currently have a JSON request body as a string that I am also passing as a string in the BodyPublishers.ofString() method when using the java httpclient to send a POST request.  I also want to be able to include the variables below in my values under <strong>facts</strong> as seen below:</p>\n<pre><code>String totalString = String.valueOf(total);\nString successString = String.valueOf(success);\nString failedString = String.valueOf(failed);\nString skippedString = String.valueOf(skipped);\nString body = &quot;{\\n&quot; +\n        &quot;  \\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\n&quot; +\n        &quot;  \\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\n&quot; +\n        &quot;  \\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\n&quot; +\n        &quot;  \\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\n&quot; +\n        &quot;  \\&quot;sections\\&quot;: [\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesful!!\\&quot;,\\n&quot; +\n        &quot;      \\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\n&quot; +\n        &quot;      \\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\n&quot; +\n        &quot;      \\&quot;facts\\&quot;: [\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot; Weekend UI Validation email will be shared shortly\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Success\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Total Tests: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Passed: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Failed: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be failedString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Skipped\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be skippedString\\&quot;\\n&quot; +\n        &quot;        }\\n&quot; +\n        &quot;      ],\\n&quot; +\n        &quot;      \\&quot;markdown\\&quot;: true\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;  ]\\n&quot; +\n        &quot;}&quot;;\n</code></pre>\n<p>Using the java net http client, I have the below method, where the request body is passed as String in the POST method which accepts the request body string:</p>\n<pre><code>public HttpResponse sendTeamsPostSummary(String url, String reqBody) throws IOException, InterruptedException {\n    HttpClient client = HttpClient.newBuilder()\n            .followRedirects(HttpClient.Redirect.NORMAL)\n            .build();\n\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .POST(BodyPublishers.ofString(reqBody))\n            .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .build();\n\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response);\n    return response;\n}\n</code></pre>\n<p>How can I do this in such a way where the value of <strong>value</strong> within the <strong>facts</strong> json object can be passed with the variable instead of a hardcoded string?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648996081,"post_id":71725924,"comment_id":126758894,"body_markdown":"Did I understand the problem correctly: in the first instance of `GraduallyDecreasingCarouselRun` the values of `array` should be decreased by 1 each run, in the second instance they should be decreased by 2 etc...?","body":"Did I understand the problem correctly: in the first instance of <code>GraduallyDecreasingCarouselRun</code> the values of <code>array</code> should be decreased by 1 each run, in the second instance they should be decreased by 2 etc...?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648996382,"post_id":71725924,"comment_id":126758981,"body_markdown":"Also what I don&#39;t understand: you give a *capacity* to the carousel, but in your test you don&#39;t fill it completely. From other collections I would expect that they never give back more values than added, independently of their capacity. Why do you add only 3 items in your test, but then call `run.next()` 19 times? This is not an expectable behaviour.\nI don&#39;t even understand the implementation and expected behaviour of `DecrementingCarousel` and its `CarouselRun` class.","body":"Also what I don&#39;t understand: you give a <i>capacity</i> to the carousel, but in your test you don&#39;t fill it completely. From other collections I would expect that they never give back more values than added, independently of their capacity. Why do you add only 3 items in your test, but then call <code>run.next()</code> 19 times? This is not an expectable behaviour. I don&#39;t even understand the implementation and expected behaviour of <code>DecrementingCarousel</code> and its <code>CarouselRun</code> class."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1648998733,"post_id":71725924,"comment_id":126759548,"body_markdown":"@cyberbrain yeah you got it rigth. it doesnt matter how much elements was added if its &lt; 1 it will be ignored. `DecrementingCarouse` works basiclly the same as but its always decrementing by 1","body":"@cyberbrain yeah you got it rigth. it doesnt matter how much elements was added if its &lt; 1 it will be ignored. <code>DecrementingCarouse</code> works basiclly the same as but its always decrementing by 1"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649009659,"post_id":71725924,"comment_id":126762169,"body_markdown":"Was the initial implementation (of `DecrementingCarousel` and `CarouselRun` also written by you? I still would need the answers to my second comment (&quot;Also what I don&#39;t understand...&quot;) because the whole parent implementation doesn&#39;t fit to your description for me.","body":"Was the initial implementation (of <code>DecrementingCarousel</code> and <code>CarouselRun</code> also written by you? I still would need the answers to my second comment (&quot;Also what I don&#39;t understand...&quot;) because the whole parent implementation doesn&#39;t fit to your description for me."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649011123,"post_id":71725924,"comment_id":126762461,"body_markdown":"@cyberbrain yes. I edited the description maybe it will be more clear.","body":"@cyberbrain yes. I edited the description maybe it will be more clear."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649014277,"post_id":71725924,"comment_id":126763118,"body_markdown":"OK, I think after an hour of debugging I understood the requirements and the code. So far it looks correct, also if I modify your main method into a junit test, everything runs OK. So what exactly do you mean with &quot;it works fine in main but wont pass the tests&quot;? I don&#39;t find any error, all the values you printed to be expected are returned.","body":"OK, I think after an hour of debugging I understood the requirements and the code. So far it looks correct, also if I modify your main method into a junit test, everything runs OK. So what exactly do you mean with &quot;it works fine in main but wont pass the tests&quot;? I don&#39;t find any error, all the values you printed to be expected are returned."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649015162,"post_id":71725924,"comment_id":126763296,"body_markdown":"@cyberbrain [tests](https://www.codepile.net/pile/9j6K6mE8) majority of tests wont pass","body":"@cyberbrain <a href=\"https://www.codepile.net/pile/9j6K6mE8\" rel=\"nofollow noreferrer\">tests</a> majority of tests wont pass"},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649015658,"post_id":71725924,"comment_id":126763403,"body_markdown":"and these [tests](https://www.codepile.net/pile/EnxYM8Rx)","body":"and these <a href=\"https://www.codepile.net/pile/EnxYM8Rx\" rel=\"nofollow noreferrer\">tests</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649019808,"creation_date":1649019808,"answer_id":71729833,"question_id":71725924,"body_markdown":"Wow. Needed a really long time to fully understand the problem.\r\nThe problem occurs when you fill the capacity of your array completely.\r\n\r\nIn that case your check for incrementing the value of `decrease` inside the while loop can fail, because the modulo assignment will &quot;reset&quot; the position to 0 without going inside the loop and therefore skipping the increment of `decrease`.\r\n\r\nThe solution to make the code understandable easier would be to decouple the modulo assignment from the while condition. This is slower and uses more code, but makes it easier to understand and also handles `position` as the &quot;next&quot; position like stated in the specification. Optimizations are possible, but I just post the unoptimized code here:\r\n\r\n```lang-java\r\npublic int next() {\r\n    int beforeDecreasing;\r\n    if (isFinished())\r\n        return -1;\r\n    else {\r\n        beforeDecreasing = array[position];\r\n        array[position] -= decrement;\r\n        do {\r\n            position++;\r\n            if (position == array.length) {\r\n                decrement++;\r\n                position = 0;\r\n            }\r\n        } while ((array[position] &lt;= 0) &amp;&amp; !isFinished());\r\n    }\r\n    return beforeDecreasing;\r\n}\r\n\r\n```\r\n","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>Wow. Needed a really long time to fully understand the problem.\nThe problem occurs when you fill the capacity of your array completely.</p>\n<p>In that case your check for incrementing the value of <code>decrease</code> inside the while loop can fail, because the modulo assignment will &quot;reset&quot; the position to 0 without going inside the loop and therefore skipping the increment of <code>decrease</code>.</p>\n<p>The solution to make the code understandable easier would be to decouple the modulo assignment from the while condition. This is slower and uses more code, but makes it easier to understand and also handles <code>position</code> as the &quot;next&quot; position like stated in the specification. Optimizations are possible, but I just post the unoptimized code here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int next() {\n    int beforeDecreasing;\n    if (isFinished())\n        return -1;\n    else {\n        beforeDecreasing = array[position];\n        array[position] -= decrement;\n        do {\n            position++;\n            if (position == array.length) {\n                decrement++;\n                position = 0;\n            }\n        } while ((array[position] &lt;= 0) &amp;&amp; !isFinished());\n    }\n    return beforeDecreasing;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649019883,"creation_date":1649019883,"answer_id":71729846,"question_id":71725924,"body_markdown":"For a &quot;quick win&quot; I would suggest another solution: change the place and check for the increment of `decrease`: (only snippet from inside the `else` branch)\r\n\r\n```lang-java\r\nint oldPosition = position;\r\nwhile (array[position %= array.length] &lt;= 0) {\r\n    position++;\r\n}\r\nif (oldPosition &gt; position) {\r\n    decrement++;\r\n}\r\n```","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>For a &quot;quick win&quot; I would suggest another solution: change the place and check for the increment of <code>decrease</code>: (only snippet from inside the <code>else</code> branch)</p>\n<pre class=\"lang-java prettyprint-override\"><code>int oldPosition = position;\nwhile (array[position %= array.length] &lt;= 0) {\n    position++;\n}\nif (oldPosition &gt; position) {\n    decrement++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9153514,"reputation":425,"user_id":6807182,"display_name":"JacobTheKnitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652137807,"creation_date":1652137807,"answer_id":72179089,"question_id":71725924,"body_markdown":"The most complicated question, in this exercise is how to track the index of the carousel. I recommend decoupling index tracking from next() method. Such feature should be based on storing the values of both &quot;old decrement position&quot; and &quot;new decrement position&quot;. This way, you can control better, when to decrease &quot;decrement&quot; variable from -1 to -2 (and program knows what to do in case the next value in the array is equal to 0). In the presented solution, index tracking feature is introduced by calculateNewIndexDecrementPosition() method. I also show next() and isFinished() methods to make the whole CarouselRun class implementation clearer. \r\n\r\n        private int calculateNewIndexDecrementPosition(int currentIndexDecrementPostion) {\r\n            int newIndexDecrementPosition;\r\n    \r\n    //If no more elements to decrease are present. Meaning the situation where there are only zeroes in the array.\r\n            if (elementsToDecreaseWhileRunning == 0) {\r\n    //Basically get out. Could be any other value in return statement.\r\n                return 0;\r\n            }\r\n    //If you reached end of the array, go back to the beginning (0 index). THIS IS THE PLACE WHERE YOU DECREASE THE VALUE FROM -1 TO -2, -2 T0 -3 AND SO ON...\r\n            if (karuzel.size() - 1 == currentIndexDecrementPostion) {\r\n                newIndexDecrementPosition = 0;\r\n                this.amountToDecrease -= 1;\r\n            } else {\r\n    //otherwise go through the elements in the increasing order\r\n                newIndexDecrementPosition = currentIndexDecrementPostion + 1;\r\n            }\r\n    //If the value of the next element in the array also equals zero, call the function again to recalculate (increment) the index.\r\n            if (karuzel.get(newIndexDecrementPosition) == 0) {\r\n                newIndexDecrementPosition = calculateNewIndexDecrementPosition(newIndexDecrementPosition);\r\n            }\r\n            return newIndexDecrementPosition;\r\n        }\r\n    \r\n\r\n\r\n           public int next() {\r\n    //The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel the method increases ElementsToDecrease while running by one: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1).\r\n    //The variable &quot;elementsToDecreaseWhileRunning&quot; stores the information about how many positive numbers are still in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\r\n    //If ElementsToDecreaseWhileRunning equals zero, it means that all the elements in the array were brought to value zero.\r\n            if (karuzel.isEmpty() || elementsToDecreaseWhileRunning == 0) {\r\n                return -1;\r\n            }\r\n    \r\n            int oldValue = karuzel.get(currentIndexDecrementPostion);\r\n    \r\n    //&quot;newValue&quot; initialization;\r\n            int newValue = 0;\r\n    \r\n            if (typeOfCarousel.equals(&quot;decrementing&quot;)) {\r\n                newValue = karuzel.get(currentIndexDecrementPostion) - 1;\r\n            } else if (typeOfCarousel.equals(&quot;gradually&quot;)) {\r\n                newValue = karuzel.get(currentIndexDecrementPostion) + this.amountToDecrease;\r\n    \r\n    //Protects against undesired, negative values in the carousel\r\n                if (newValue &lt; 0) {\r\n                    newValue = 0;\r\n                }\r\n            }\r\n            karuzel.set(currentIndexDecrementPostion, newValue);\r\n    \r\n    //The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel, counter ElementsToDecrese increases: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1);\r\n    //If new value equals zero, the value of &quot;iteration until the end&quot; (elementsToDecreaseWhileRunning) is decreased by one. It means that, there&#39;s one less positive element in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\r\n            if (newValue == 0) {\r\n                elementsToDecreaseWhileRunning--;\r\n            }\r\n     //Index tracking feature\r\n            this.currentIndexDecrementPostion = calculateNewIndexDecrementPosition(this.currentIndexDecrementPostion);\r\n    \r\n    //next() based on the instructions should return value of the current element\r\n            return oldValue;\r\n        }\r\n          public boolean isFinished() {\r\n                return this.elementsToDecreaseWhileRunning &lt;= 0;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n \r\nI added  comments to almost each line of code, because I&#39;m aware that the exercise comes from the Java Training Program, which accepts also beginning programmers. I hope that this way the solution might be understood by everyone. \r\n\r\n\r\n   ","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>The most complicated question, in this exercise is how to track the index of the carousel. I recommend decoupling index tracking from next() method. Such feature should be based on storing the values of both &quot;old decrement position&quot; and &quot;new decrement position&quot;. This way, you can control better, when to decrease &quot;decrement&quot; variable from -1 to -2 (and program knows what to do in case the next value in the array is equal to 0). In the presented solution, index tracking feature is introduced by calculateNewIndexDecrementPosition() method. I also show next() and isFinished() methods to make the whole CarouselRun class implementation clearer.</p>\n<pre><code>    private int calculateNewIndexDecrementPosition(int currentIndexDecrementPostion) {\n        int newIndexDecrementPosition;\n\n//If no more elements to decrease are present. Meaning the situation where there are only zeroes in the array.\n        if (elementsToDecreaseWhileRunning == 0) {\n//Basically get out. Could be any other value in return statement.\n            return 0;\n        }\n//If you reached end of the array, go back to the beginning (0 index). THIS IS THE PLACE WHERE YOU DECREASE THE VALUE FROM -1 TO -2, -2 T0 -3 AND SO ON...\n        if (karuzel.size() - 1 == currentIndexDecrementPostion) {\n            newIndexDecrementPosition = 0;\n            this.amountToDecrease -= 1;\n        } else {\n//otherwise go through the elements in the increasing order\n            newIndexDecrementPosition = currentIndexDecrementPostion + 1;\n        }\n//If the value of the next element in the array also equals zero, call the function again to recalculate (increment) the index.\n        if (karuzel.get(newIndexDecrementPosition) == 0) {\n            newIndexDecrementPosition = calculateNewIndexDecrementPosition(newIndexDecrementPosition);\n        }\n        return newIndexDecrementPosition;\n    }\n\n\n\n       public int next() {\n//The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel the method increases ElementsToDecrease while running by one: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1).\n//The variable &quot;elementsToDecreaseWhileRunning&quot; stores the information about how many positive numbers are still in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\n//If ElementsToDecreaseWhileRunning equals zero, it means that all the elements in the array were brought to value zero.\n        if (karuzel.isEmpty() || elementsToDecreaseWhileRunning == 0) {\n            return -1;\n        }\n\n        int oldValue = karuzel.get(currentIndexDecrementPostion);\n\n//&quot;newValue&quot; initialization;\n        int newValue = 0;\n\n        if (typeOfCarousel.equals(&quot;decrementing&quot;)) {\n            newValue = karuzel.get(currentIndexDecrementPostion) - 1;\n        } else if (typeOfCarousel.equals(&quot;gradually&quot;)) {\n            newValue = karuzel.get(currentIndexDecrementPostion) + this.amountToDecrease;\n\n//Protects against undesired, negative values in the carousel\n            if (newValue &lt; 0) {\n                newValue = 0;\n            }\n        }\n        karuzel.set(currentIndexDecrementPostion, newValue);\n\n//The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel, counter ElementsToDecrese increases: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1);\n//If new value equals zero, the value of &quot;iteration until the end&quot; (elementsToDecreaseWhileRunning) is decreased by one. It means that, there's one less positive element in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\n        if (newValue == 0) {\n            elementsToDecreaseWhileRunning--;\n        }\n //Index tracking feature\n        this.currentIndexDecrementPostion = calculateNewIndexDecrementPosition(this.currentIndexDecrementPostion);\n\n//next() based on the instructions should return value of the current element\n        return oldValue;\n    }\n      public boolean isFinished() {\n            return this.elementsToDecreaseWhileRunning &lt;= 0;\n        }\n</code></pre>\n<p>I added  comments to almost each line of code, because I'm aware that the exercise comes from the Java Training Program, which accepts also beginning programmers. I hope that this way the solution might be understood by everyone.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688993373,"post_id":76623830,"comment_id":135145683,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76623830/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"score":0,"creation_date":1691577945,"post_id":76623830,"comment_id":135509665,"body_markdown":"@Andrii : Could you please explain in short how does your code works? Thanks!","body":"@Andrii : Could you please explain in short how does your code works? Thanks!"}],"tags":[],"owner":{"account_id":28958367,"reputation":11,"user_id":22181433,"display_name":"Andrii"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688588811,"creation_date":1688588811,"answer_id":76623830,"question_id":71725924,"body_markdown":"/** Hello! I provide fully working code for this exercise. I write all classes here in one file for ease of reading, but in reality I have everything separated from each other. Therefore, in order to pass all the tests correctly, I advise you to take each class separately */\r\n\r\n    public class CarouselRun  {\r\n    public int [] carousel = DecrementingCarousel.carousel;\r\n    public int capacity;\r\n    int index;\r\n\r\n    public CarouselRun() {\r\n\r\n    }\r\n    public int next() {\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (!isFinished() &amp;&amp; carousel[index %= carousel.length] &lt;= 0) {\r\n                index++;\r\n            }\r\n        }\r\n        return carousel[index++]--;\r\n    }\r\n\r\n    public boolean isFinished() {\r\n        for (int el : carousel)\r\n            if (el &gt; 0)\r\n                return false;\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\n    public class DecrementingCarousel extends CarouselRun {\r\n    public static int[] carousel;\r\n    static int countElement;\r\n    boolean isRun;\r\n\r\n    public DecrementingCarousel(final int capacity) {\r\n        this.capacity = capacity;\r\n        carousel = new int[capacity];\r\n\r\n    }\r\n\r\n    public DecrementingCarousel() {\r\n    }\r\n\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new DecrementingCarousel();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public boolean addElement(int element) {\r\n        if (element &gt; 0 &amp;&amp; index &lt; carousel.length &amp;&amp; !isRun) {\r\n            carousel[index++] = element;\r\n            countElement++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}`\r\n\r\n\r\n\r\n\r\n    public class GraduallyDecreasingCarousel extends DecrementingCarousel {\r\n\r\n    int decrement = 1;\r\n\r\n    public GraduallyDecreasingCarousel(final int capacity) {\r\n        super(capacity);\r\n    }\r\n\r\n    public GraduallyDecreasingCarousel() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new GraduallyDecreasingCarousel();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int next() {\r\n        if (isFinished()) {\r\n            return -1;\r\n        } else {\r\n\r\n            while (carousel[index %= carousel.length] &lt;= 0) {\r\n                index++;\r\n                if (index == carousel.length) {\r\n                    decrement++;\r\n                }\r\n            }\r\n        }\r\n\r\n        int value = carousel[index];\r\n        carousel[index++] -= decrement;\r\n\r\n        if (index == carousel.length) {\r\n            decrement++;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public boolean isFinished() {\r\n        return super.isFinished();\r\n    }\r\n}","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>/** Hello! I provide fully working code for this exercise. I write all classes here in one file for ease of reading, but in reality I have everything separated from each other. Therefore, in order to pass all the tests correctly, I advise you to take each class separately */</p>\n<pre><code>public class CarouselRun  {\npublic int [] carousel = DecrementingCarousel.carousel;\npublic int capacity;\nint index;\n\npublic CarouselRun() {\n\n}\npublic int next() {\n    if (isFinished())\n        return -1;\n    else {\n        while (!isFinished() &amp;&amp; carousel[index %= carousel.length] &lt;= 0) {\n            index++;\n        }\n    }\n    return carousel[index++]--;\n}\n\npublic boolean isFinished() {\n    for (int el : carousel)\n        if (el &gt; 0)\n            return false;\n    return true;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class DecrementingCarousel extends CarouselRun {\npublic static int[] carousel;\nstatic int countElement;\nboolean isRun;\n\npublic DecrementingCarousel(final int capacity) {\n    this.capacity = capacity;\n    carousel = new int[capacity];\n\n}\n\npublic DecrementingCarousel() {\n}\n\npublic CarouselRun run() {\n    if (!isRun) {\n        isRun = true;\n        return new DecrementingCarousel();\n    }\n    return null;\n}\n\npublic boolean addElement(int element) {\n    if (element &gt; 0 &amp;&amp; index &lt; carousel.length &amp;&amp; !isRun) {\n        carousel[index++] = element;\n        countElement++;\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>}`</p>\n<pre><code>public class GraduallyDecreasingCarousel extends DecrementingCarousel {\n\nint decrement = 1;\n\npublic GraduallyDecreasingCarousel(final int capacity) {\n    super(capacity);\n}\n\npublic GraduallyDecreasingCarousel() {\n\n}\n\n@Override\npublic CarouselRun run() {\n    if (!isRun) {\n        isRun = true;\n        return new GraduallyDecreasingCarousel();\n    }\n    return null;\n}\n\n@Override\npublic int next() {\n    if (isFinished()) {\n        return -1;\n    } else {\n\n        while (carousel[index %= carousel.length] &lt;= 0) {\n            index++;\n            if (index == carousel.length) {\n                decrement++;\n            }\n        }\n    }\n\n    int value = carousel[index];\n    carousel[index++] -= decrement;\n\n    if (index == carousel.length) {\n        decrement++;\n    }\n\n    return value;\n}\n\n@Override\npublic boolean isFinished() {\n    return super.isFinished();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2737,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71729833,"answer_count":4,"score":4,"last_activity_date":1688588811,"creation_date":1648989106,"question_id":71725924,"body_markdown":"`Decrementing Carousel` is a container, accepting int elements. `DecrementingCarousel` has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the `addElement` method and can produce a `CarouselRun` object via the `run` method. Once the `run` method is called, `DecrementingCarousel` is in running state: it refuses adding more elements.\r\n\r\nThe `CarouselRun` allows to iterate over elements of the carousel decrementing them one by one with the `next` method. The `next` returns the value of the current element.\r\n\r\nThe `CarouselRun` iterates over elements in the order of their insertion.\r\nWhen an element is decreased to zero, the `CarouselRun` will skip it in further iterations. When there are no more elements available for decrementing, the `CarouselRun` returns -1.\r\n\r\nThe `CarouselRun` also has the `isFinished` method, which indicates, if the carousel has run out of the lements to decrement.\r\n\r\n***Specification Details***\r\n\r\n`boolean addElement(int element)` - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a `CarouselRun`, do not add the element. If element is added successfully, return `true`. Return `false` otherwise.\r\n`CarouselRun run()` - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return `null`: `DecrementingCarousel` may generate only one `CarouselRun` object.\r\n\r\n*`CarouselRun` has two public methods:*\r\n\r\n`int next()` - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.\r\n`boolean isFinished()` - when there is no more elements to decrease, returns `true`. Otherwise, returns `false`.\r\n**The code:**\r\n\r\n```\r\npublic class DecrementingCarousel {\r\n    private final int capacity;\r\n    static int[] carousel;\r\n    int index;\r\n    boolean isRun;\r\n\r\n    {\r\n        index = 0;\r\n        isRun = false;\r\n    }\r\n\r\n    public DecrementingCarousel(int capacity) {\r\n        this.capacity = capacity;\r\n        carousel = new int[capacity];\r\n    }\r\n\r\n    public boolean addElement(int element){\r\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\r\n            carousel[index++] = element;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new CarouselRun();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nMethods in CarouselRun:\r\n\r\n```\r\npublic class CarouselRun {\r\n    protected final int[] array = DecrementingCarousel.carousel.clone();\r\n    protected int position = 0;\r\n\r\n    public int next() {\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (array[position %= array.length] &lt;= 0) {\r\n                position++;\r\n            }\r\n        }\r\n        return array[position++]--;\r\n    }\r\n\r\n    public boolean isFinished() {\r\n        for (int el : array)\r\n            if (el &gt; 0)\r\n                return false;\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nSo this subclass must decrement elements by gradually increasing decrement. When you need to decrement an element for the first time, decrease it by 1. Next time you need to decrement the same element, decrease it by 2. Next time decrease by 3, then by 4 and so on.\r\n\r\n```\r\npublic class GraduallyDecreasingCarousel extends DecrementingCarousel{\r\n    public GraduallyDecreasingCarousel(final int capacity) {\r\n        super(capacity);\r\n    }\r\n\r\n    @Override\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new GraduallyDecreasingCarouselRun();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class GraduallyDecreasingCarouselRun extends CarouselRun {\r\n    int decrement = 1;\r\n\r\n    @Override\r\n    public int next() {\r\n        int beforeDecreasing;\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (array[position %= array.length] &lt;= 0) {\r\n                position++;\r\n                if (position == array.length) {\r\n                    decrement++;\r\n                }\r\n            }\r\n        }\r\n        beforeDecreasing = array[position];\r\n        array[position++] -= decrement;\r\n        return beforeDecreasing;\r\n    }\r\n```\r\n\r\nThe main method:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        DecrementingCarousel carousel = new GraduallyDecreasingCarousel(7);\r\n\r\n        carousel.addElement(20);\r\n        carousel.addElement(30);\r\n        carousel.addElement(10);\r\n\r\n        CarouselRun run = carousel.run();\r\n\r\n        System.out.println(run.isFinished()); //false\r\n\r\n        System.out.println(run.next()); //20\r\n        System.out.println(run.next()); //30\r\n        System.out.println(run.next()); //10\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //19\r\n        System.out.println(run.next()); //29\r\n        System.out.println(run.next()); //9\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //17\r\n        System.out.println(run.next()); //27\r\n        System.out.println(run.next()); //7\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //14\r\n        System.out.println(run.next()); //24\r\n        System.out.println(run.next()); //4\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //10\r\n        System.out.println(run.next()); //20\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //5\r\n        System.out.println(run.next()); //15\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //9\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //2\r\n\r\n        System.out.println(run.isFinished()); //true\r\n        System.out.println(run.next()); //-1\r\n    }\r\n}\r\n```\r\n\r\nit works fine in main but wont pass the tests\r\nIDK how to change next method in GraduallyDecreasingCarouselRun\r\n\r\ntried counting next calls and reset the counter when its greater than amount of elements to decrease but when theres one element left its wasnt working correctly","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p><code>Decrementing Carousel</code> is a container, accepting int elements. <code>DecrementingCarousel</code> has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the <code>addElement</code> method and can produce a <code>CarouselRun</code> object via the <code>run</code> method. Once the <code>run</code> method is called, <code>DecrementingCarousel</code> is in running state: it refuses adding more elements.</p>\n<p>The <code>CarouselRun</code> allows to iterate over elements of the carousel decrementing them one by one with the <code>next</code> method. The <code>next</code> returns the value of the current element.</p>\n<p>The <code>CarouselRun</code> iterates over elements in the order of their insertion.\nWhen an element is decreased to zero, the <code>CarouselRun</code> will skip it in further iterations. When there are no more elements available for decrementing, the <code>CarouselRun</code> returns -1.</p>\n<p>The <code>CarouselRun</code> also has the <code>isFinished</code> method, which indicates, if the carousel has run out of the lements to decrement.</p>\n<p><em><strong>Specification Details</strong></em></p>\n<p><code>boolean addElement(int element)</code> - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a <code>CarouselRun</code>, do not add the element. If element is added successfully, return <code>true</code>. Return <code>false</code> otherwise.\n<code>CarouselRun run()</code> - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return <code>null</code>: <code>DecrementingCarousel</code> may generate only one <code>CarouselRun</code> object.</p>\n<p><em><code>CarouselRun</code> has two public methods:</em></p>\n<p><code>int next()</code> - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.\n<code>boolean isFinished()</code> - when there is no more elements to decrease, returns <code>true</code>. Otherwise, returns <code>false</code>.\n<strong>The code:</strong></p>\n<pre><code>public class DecrementingCarousel {\n    private final int capacity;\n    static int[] carousel;\n    int index;\n    boolean isRun;\n\n    {\n        index = 0;\n        isRun = false;\n    }\n\n    public DecrementingCarousel(int capacity) {\n        this.capacity = capacity;\n        carousel = new int[capacity];\n    }\n\n    public boolean addElement(int element){\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\n            carousel[index++] = element;\n            return true;\n        }\n        return false;\n    }\n\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new CarouselRun();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Methods in CarouselRun:</p>\n<pre><code>public class CarouselRun {\n    protected final int[] array = DecrementingCarousel.carousel.clone();\n    protected int position = 0;\n\n    public int next() {\n        if (isFinished())\n            return -1;\n        else {\n            while (array[position %= array.length] &lt;= 0) {\n                position++;\n            }\n        }\n        return array[position++]--;\n    }\n\n    public boolean isFinished() {\n        for (int el : array)\n            if (el &gt; 0)\n                return false;\n        return true;\n    }\n}\n</code></pre>\n<p>So this subclass must decrement elements by gradually increasing decrement. When you need to decrement an element for the first time, decrease it by 1. Next time you need to decrement the same element, decrease it by 2. Next time decrease by 3, then by 4 and so on.</p>\n<pre><code>public class GraduallyDecreasingCarousel extends DecrementingCarousel{\n    public GraduallyDecreasingCarousel(final int capacity) {\n        super(capacity);\n    }\n\n    @Override\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new GraduallyDecreasingCarouselRun();\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<pre><code>public class GraduallyDecreasingCarouselRun extends CarouselRun {\n    int decrement = 1;\n\n    @Override\n    public int next() {\n        int beforeDecreasing;\n        if (isFinished())\n            return -1;\n        else {\n            while (array[position %= array.length] &lt;= 0) {\n                position++;\n                if (position == array.length) {\n                    decrement++;\n                }\n            }\n        }\n        beforeDecreasing = array[position];\n        array[position++] -= decrement;\n        return beforeDecreasing;\n    }\n</code></pre>\n<p>The main method:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DecrementingCarousel carousel = new GraduallyDecreasingCarousel(7);\n\n        carousel.addElement(20);\n        carousel.addElement(30);\n        carousel.addElement(10);\n\n        CarouselRun run = carousel.run();\n\n        System.out.println(run.isFinished()); //false\n\n        System.out.println(run.next()); //20\n        System.out.println(run.next()); //30\n        System.out.println(run.next()); //10\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //19\n        System.out.println(run.next()); //29\n        System.out.println(run.next()); //9\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //17\n        System.out.println(run.next()); //27\n        System.out.println(run.next()); //7\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //14\n        System.out.println(run.next()); //24\n        System.out.println(run.next()); //4\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //10\n        System.out.println(run.next()); //20\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //5\n        System.out.println(run.next()); //15\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //9\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //2\n\n        System.out.println(run.isFinished()); //true\n        System.out.println(run.next()); //-1\n    }\n}\n</code></pre>\n<p>it works fine in main but wont pass the tests\nIDK how to change next method in GraduallyDecreasingCarouselRun</p>\n<p>tried counting next calls and reset the counter when its greater than amount of elements to decrease but when theres one element left its wasnt working correctly</p>\n"},{"tags":["java","jdatechooser","jcalendar"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1546274188,"post_id":53989542,"comment_id":94816694,"body_markdown":"Could you please post the code?","body":"Could you please post the code?"},{"owner":{"account_id":14985206,"reputation":1,"user_id":10817964,"display_name":"Net Monster"},"score":0,"creation_date":1546275806,"post_id":53989542,"comment_id":94817144,"body_markdown":"i just tried JDateChooser jdc = new JDateChooser(); which gives the error of not being resolved as a type","body":"i just tried JDateChooser jdc = new JDateChooser(); which gives the error of not being resolved as a type"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1546277985,"post_id":53989542,"comment_id":94817639,"body_markdown":"No, [edit] your question, and add the code, including the imports. You can remove all the irrelevant parts. Leave only a minimal piece of code which should compile but doesn&#39;t. Also make sure the applicable jars are in the build path.","body":"No, <a href=\"https://stackoverflow.com/posts/53989542/edit\">edit</a> your question, and add the code, including the imports. You can remove all the irrelevant parts. Leave only a minimal piece of code which should compile but doesn&#39;t. Also make sure the applicable jars are in the build path."},{"owner":{"account_id":11864138,"reputation":1365,"user_id":8682068,"display_name":"RubenDG"},"score":0,"creation_date":1546281770,"post_id":53989542,"comment_id":94818579,"body_markdown":"There is no JDateChooser class in [JDK11](https://docs.oracle.com/en/java/javase/11/docs/api/allclasses.html), so you have to import an external jar (maybe [this](https://github.com/vadimig/jdatechooser)) in order to use it. Please edit your question pasting your code and be sure to paste the `import` too.","body":"There is no JDateChooser class in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/allclasses.html\" rel=\"nofollow noreferrer\">JDK11</a>, so you have to import an external jar (maybe <a href=\"https://github.com/vadimig/jdatechooser\" rel=\"nofollow noreferrer\">this</a>) in order to use it. Please edit your question pasting your code and be sure to paste the <code>import</code> too."}],"answers":[{"tags":[],"owner":{"account_id":20196113,"reputation":21,"user_id":14813025,"display_name":"Rakhi jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639086058,"creation_date":1639064902,"answer_id":70292777,"question_id":53989542,"body_markdown":"You can use the `toString()` method to store the `jDateChooser` value into a string variable.\r\n\r\nFor example:\r\n```\r\nString dob = jDateChooser1.getDate().toString();\r\n```","title":"JDateChooser cannot be resolved to a type","body":"<p>You can use the <code>toString()</code> method to store the <code>jDateChooser</code> value into a string variable.</p>\n<p>For example:</p>\n<pre><code>String dob = jDateChooser1.getDate().toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14861941,"reputation":1836,"user_id":10732434,"display_name":"sanitizedUser"},"score":0,"creation_date":1688978112,"post_id":76623679,"comment_id":135142459,"body_markdown":"Wow. Nice find. But it could be made even better by posting an example of `pom.xml` or `build.gradle` file that shows how to download that dependency with the correct version. Also you should edit your answer with a small guide on how to add the library to the project&#39;s classpath.","body":"Wow. Nice find. But it could be made even better by posting an example of <code>pom.xml</code> or <code>build.gradle</code> file that shows how to download that dependency with the correct version. Also you should edit your answer with a small guide on how to add the library to the project&#39;s classpath."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688978115,"post_id":76623679,"comment_id":135142461,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76623679/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28958261,"reputation":1,"user_id":22181347,"display_name":"Pratik Morge"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688587287,"creation_date":1688587287,"answer_id":76623679,"question_id":53989542,"body_markdown":"This error occurs because the JDateChooser class is not recognized by the compiler. It means that the required library or dependency for JDateChooser is missing or not properly imported.\r\n\r\nTo fix this error, you need to make sure that you have the necessary library or dependency for JDateChooser added to your project. This can be done by either downloading the JDateChooser library and adding it to your project’s classpath, or by using a build tool like Maven or Gradle to manage your dependencies.\r\n\r\nDownload the JDateChooser library and add it to your project’s classpath.\r\nImport the JDateChooser class in your code:\r\nimport com.toedter.calendar.JDateChooser;\r\nNow you should be able to use the JDateChooser class in your code without any errors.","title":"JDateChooser cannot be resolved to a type","body":"<p>This error occurs because the JDateChooser class is not recognized by the compiler. It means that the required library or dependency for JDateChooser is missing or not properly imported.</p>\n<p>To fix this error, you need to make sure that you have the necessary library or dependency for JDateChooser added to your project. This can be done by either downloading the JDateChooser library and adding it to your project’s classpath, or by using a build tool like Maven or Gradle to manage your dependencies.</p>\n<p>Download the JDateChooser library and add it to your project’s classpath.\nImport the JDateChooser class in your code:\nimport com.toedter.calendar.JDateChooser;\nNow you should be able to use the JDateChooser class in your code without any errors.</p>\n"}],"owner":{"account_id":14985206,"reputation":1,"user_id":10817964,"display_name":"Net Monster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688587287,"creation_date":1546274146,"question_id":53989542,"body_markdown":"I&#39;m using eclipse photon with jdk 11, i tried the declaration of a JDateChooser but it couldn&#39;t be resolved to a type althought i imported everything in need\r\n\r\n\r\nany idea on how i can make it work\r\n\r\n","title":"JDateChooser cannot be resolved to a type","body":"<p>I'm using eclipse photon with jdk 11, i tried the declaration of a JDateChooser but it couldn't be resolved to a type althought i imported everything in need</p>\n\n<p>any idea on how i can make it work</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688399214,"post_id":76606285,"comment_id":135065896,"body_markdown":"What value did you get for `userId`?","body":"What value did you get for <code>userId</code>?"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688399591,"post_id":76606285,"comment_id":135065975,"body_markdown":"The userId is always null because it did not insert the record in the database. I am known to make stupid mistakes as well, so I copy the name of the stored procedure and each parameter so that I don&#39;t have any spelling error.","body":"The userId is always null because it did not insert the record in the database. I am known to make stupid mistakes as well, so I copy the name of the stored procedure and each parameter so that I don&#39;t have any spelling error."},{"owner":{"account_id":8247852,"reputation":890,"user_id":6203414,"display_name":"mkane"},"score":1,"creation_date":1688400106,"post_id":76606285,"comment_id":135066079,"body_markdown":"Have you checked so as to ensure your user object actually has the values you expect contained therein (i.e. user.getFirstName() etc..)?","body":"Have you checked so as to ensure your user object actually has the values you expect contained therein (i.e. user.getFirstName() etc..)?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688400479,"post_id":76606285,"comment_id":135066163,"body_markdown":"Without seeing the SP it&#39;s difficult to say. I mean it might have a select in it that is simply not met and therefore no insert takes place","body":"Without seeing the SP it&#39;s difficult to say. I mean it might have a select in it that is simply not met and therefore no insert takes place"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688401509,"post_id":76606285,"comment_id":135066372,"body_markdown":"I updated it to include the stored procedure.","body":"I updated it to include the stored procedure."},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688403596,"post_id":76606285,"comment_id":135066766,"body_markdown":"@mkane I looked at parameter&#39;s values, and they looked correct.","body":"@mkane I looked at parameter&#39;s values, and they looked correct."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688406690,"post_id":76606285,"comment_id":135067293,"body_markdown":"I would call it with your db client using the exact same parameters. One potential problem - the `@` in the email address is a special character","body":"I would call it with your db client using the exact same parameters. One potential problem - the <code>@</code> in the email address is a special character"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688407436,"post_id":76606285,"comment_id":135067395,"body_markdown":"@g00se that&#39;s a good point, but I would expect it to throw an exception or some other error message. Is there an equivalent to MS SQL Tuning Template in MySQL? That tool allows me to see what the application sends to the server.  I can grab the exact query and execute it myself.","body":"@g00se that&#39;s a good point, but I would expect it to throw an exception or some other error message. Is there an equivalent to MS SQL Tuning Template in MySQL? That tool allows me to see what the application sends to the server.  I can grab the exact query and execute it myself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688407544,"post_id":76606285,"comment_id":135067414,"body_markdown":"Well you can definitely turn on logging in the server","body":"Well you can definitely turn on logging in the server"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688414773,"post_id":76606285,"comment_id":135068538,"body_markdown":"I think it may not like the way I initialize the SimpleJdbcCall. I commented out the code that is checking for existing email, and I was able to insert a new user and retrive the Id.","body":"I think it may not like the way I initialize the SimpleJdbcCall. I commented out the code that is checking for existing email, and I was able to insert a new user and retrive the Id."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688417990,"post_id":76606285,"comment_id":135069022,"body_markdown":"Maybe the email address contains whitespace?","body":"Maybe the email address contains whitespace?"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688418289,"post_id":76606285,"comment_id":135069063,"body_markdown":"@g00se I mofied the Bean and intialize and SimpleJdbcCall ever time I made a call to the database. It solved my problem. I am still going over the documentation trying to understand if that is the desired behavior.","body":"@g00se I mofied the Bean and intialize and SimpleJdbcCall ever time I made a call to the database. It solved my problem. I am still going over the documentation trying to understand if that is the desired behavior."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688418500,"post_id":76606285,"comment_id":135069107,"body_markdown":"Sorry I&#39;m afraid I don&#39;t know what you mean by that","body":"Sorry I&#39;m afraid I don&#39;t know what you mean by that"},{"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"score":0,"creation_date":1688585953,"post_id":76606285,"comment_id":135095023,"body_markdown":"@g00se I meant to say instantiate not initialize. I posted the changes made as an answer.","body":"@g00se I meant to say instantiate not initialize. I posted the changes made as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688585866,"creation_date":1688585866,"answer_id":76623558,"question_id":76606285,"body_markdown":"Here are the changes that I made to get the code to work.\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepository implements IUser&lt;User&gt; {\r\n        private SimpleJdbcCall sj;\r\n       // Declare JdbcTemplate as an instance variable.\r\n        JdbcTemplate jdbcTemplate\r\n        private final BCryptPasswordEncoder encoder;\r\n        \r\n        // Change to a void\r\n        @Bean\r\n        public void setDataSource(DataSource dataSource) {\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n            jdbcTemplate.setResultsMapCaseInsensitive(true);\r\n           // sj = new SimpleJdbcCall(jdbcTemplate);\r\n           // return sj;\r\n        }\r\n        \r\n        private boolean emailExists(String email) {\r\n             SqlParameterSource in = new MapSqlParameterSource()\r\n                        .addValue(&quot;email&quot;, email); \r\n            // Instantiate sj here.\r\n            sj = new SimpleJdbcCall(jdbcTemplate);\r\n            Map&lt;String, Object&gt; out = \r\n                    sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\r\n                    .execute(in);\r\n           Integer count =  (Integer) out.get(&quot;total_email&quot;);\r\n           return count &gt; 0;\r\n        }\r\n        \r\n        @Override\r\n        public User create(User user) {\r\n            if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\r\n            try {\r\n                String firstName = user.getFirstName();\r\n                String lastName = user.getLastName();\r\n                String email = user.getEmail();\r\n                String password = user.getPassword();\r\n                 SqlParameterSource in = new MapSqlParameterSource()\r\n                            .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\r\n                            .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\r\n                            .addValue(&quot;email&quot;, email,Types.NVARCHAR)\r\n                            .addValue(&quot;password&quot;, password,Types.NVARCHAR)\r\n                            .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\r\n                // Instantiate sj here.\r\n                sj = new SimpleJdbcCall(jdbcTemplate);\r\n                Map&lt;String, Object&gt; out = \r\n                        sj.withProcedureName(&quot;UspUserUpsert&quot;)\r\n                        .withCatalogName(&quot;manageproject&quot;)\r\n                        .withoutProcedureColumnMetaDataAccess()\r\n                        .declareParameters(\r\n                          new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\r\n                          new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\r\n                          new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \r\n                        )\r\n                        .execute(in);\r\n        \r\n                Long userId = (Long) out.get(&quot;user_id&quot;);\r\n            } catch(Exception e) {\r\n                throw new ApiException(&quot;An error occurs. Please try again.&quot;);\r\n            }\r\n            return user;\r\n        }\r\n        \r\n    }","title":"Call MySQL Stored Procedure using SimpleJdbcCall in Java","body":"<p>Here are the changes that I made to get the code to work.</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepository implements IUser&lt;User&gt; {\n    private SimpleJdbcCall sj;\n   // Declare JdbcTemplate as an instance variable.\n    JdbcTemplate jdbcTemplate\n    private final BCryptPasswordEncoder encoder;\n    \n    // Change to a void\n    @Bean\n    public void setDataSource(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\n       // sj = new SimpleJdbcCall(jdbcTemplate);\n       // return sj;\n    }\n    \n    private boolean emailExists(String email) {\n         SqlParameterSource in = new MapSqlParameterSource()\n                    .addValue(&quot;email&quot;, email); \n        // Instantiate sj here.\n        sj = new SimpleJdbcCall(jdbcTemplate);\n        Map&lt;String, Object&gt; out = \n                sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\n                .execute(in);\n       Integer count =  (Integer) out.get(&quot;total_email&quot;);\n       return count &gt; 0;\n    }\n    \n    @Override\n    public User create(User user) {\n        if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\n        try {\n            String firstName = user.getFirstName();\n            String lastName = user.getLastName();\n            String email = user.getEmail();\n            String password = user.getPassword();\n             SqlParameterSource in = new MapSqlParameterSource()\n                        .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\n                        .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\n                        .addValue(&quot;email&quot;, email,Types.NVARCHAR)\n                        .addValue(&quot;password&quot;, password,Types.NVARCHAR)\n                        .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\n            // Instantiate sj here.\n            sj = new SimpleJdbcCall(jdbcTemplate);\n            Map&lt;String, Object&gt; out = \n                    sj.withProcedureName(&quot;UspUserUpsert&quot;)\n                    .withCatalogName(&quot;manageproject&quot;)\n                    .withoutProcedureColumnMetaDataAccess()\n                    .declareParameters(\n                      new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\n                      new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \n                    )\n                    .execute(in);\n    \n            Long userId = (Long) out.get(&quot;user_id&quot;);\n        } catch(Exception e) {\n            throw new ApiException(&quot;An error occurs. Please try again.&quot;);\n        }\n        return user;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":2117142,"reputation":931,"user_id":1881162,"accept_rate":100,"display_name":"Josiane Ferice"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623558,"answer_count":1,"score":0,"last_activity_date":1688585866,"creation_date":1688398848,"question_id":76606285,"body_markdown":"I have not done Java in a long time, so I decided to create a small application to manage a project. I am making a call to the database to insert a new user. I have the stored procedure created. I called the stored procedure and add a new user successfully using MySQL Workbench. However, when I made a call from the application using SimpleJdbcCall, it did not insert the new user. It did not throw an exception either. To eliminate issue with connecting to the database, I was able to call a different stored procedure that returns the total count of existing email without issue. I have not been able to figure why. I would appreciate any guidance on the cause of this issue. \r\n\r\n**Code that is not working: Update**\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepository implements IUser&lt;User&gt; {\r\n    \tprivate SimpleJdbcCall sj;\r\n    \tprivate final BCryptPasswordEncoder encoder;\r\n    \t\r\n    \t@Bean\r\n    \tpublic SimpleJdbcCall setDataSource(DataSource dataSource) {\r\n    \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t\tjdbcTemplate.setResultsMapCaseInsensitive(true);\r\n    \t\tsj = new SimpleJdbcCall(jdbcTemplate);\r\n    \t\treturn sj;\r\n    \t}\r\n    \t\r\n    \tprivate boolean emailExists(String email) {\r\n    \t\t SqlParameterSource in = new MapSqlParameterSource()\r\n    \t\t\t\t\t.addValue(&quot;email&quot;, email); \r\n    \t\tMap&lt;String, Object&gt; out = \r\n    \t\t\t\tsj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\r\n    \t\t\t\t.execute(in);\r\n    \t   Integer count =  (Integer) out.get(&quot;total_email&quot;);\r\n    \t   return count &gt; 0;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic User create(User user) {\r\n    \t\tif(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\r\n    \t\ttry {\r\n    \t\t\tString firstName = user.getFirstName();\r\n    \t\t\tString lastName = user.getLastName();\r\n    \t\t\tString email = user.getEmail();\r\n    \t\t\tString password = user.getPassword();\r\n    \t\t\t SqlParameterSource in = new MapSqlParameterSource()\r\n    \t\t                .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;email&quot;, email,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;password&quot;, password,Types.NVARCHAR)\r\n    \t\t                .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\r\n    \t\t\tMap&lt;String, Object&gt; out = \r\n    \t\t\t\t\tsj.withProcedureName(&quot;UspUserUpsert&quot;)\r\n    \t\t\t\t\t.withCatalogName(&quot;manageproject&quot;)\r\n    \t\t\t\t\t.withoutProcedureColumnMetaDataAccess()\r\n    \t\t\t\t\t.declareParameters(\r\n    \t\t\t\t\t  new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\r\n    \t\t\t\t\t  new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)\t\r\n    \t\t\t\t\t)\r\n    \t\t\t\t\t.execute(in);\r\n    \t\r\n    \t\t\tLong userId = (Long) out.get(&quot;user_id&quot;);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tthrow new ApiException(&quot;An error occurs. Please try again.&quot;);\r\n    \t\t}\r\n    \t\treturn user;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Parameter Values:**\r\n\r\n    MapSqlParameterSource {firstName=John, lastName=Doe, email=jdoe@gmail.com, password=123456.}\r\n\r\n**Stored Procedure**\r\n\r\n    DELIMITER //;\r\n    CREATE PROCEDURE UspUserUpsert(\r\n     IN firstName \t\tVARCHAR(50),\r\n     IN lastName \t\tVARCHAR(50),\r\n     IN email \t\t\tVARCHAR(100),\r\n     IN `password` \t\tVARCHAR(255),\r\n     OUT user_id\t\tINT\r\n    )\r\n    BEGIN\r\n    \tDECLARE EXIT HANDLER FOR SQLEXCEPTION\r\n        BEGIN\r\n    \t\tROLLBACK;\r\n        END;\r\n         \r\n    \tSELECT \r\n    \t\tid \r\n    \tINTO user_id\r\n    \tFROM \r\n    \t\t`user` \r\n    \tWHERE\r\n    \t\temail = @email;\r\n        \r\n         START TRANSACTION;\r\n         IF (user_id &gt; 0) THEN\r\n    \t\tUPDATE \r\n    \t\t\t`user` u\r\n    \t\tSET\r\n                u.address = &#39;TESTING&#39;\r\n    \t\tWHERE\r\n    \t\t\tu.user_id = user_id;\r\n         END IF;\r\n         IF (ISNULL(user_id) =  1 OR user_id = 0) THEN\r\n             INSERT INTO User (\r\n    \t\t\tfirst_name,\r\n    \t\t\tlast_name,\r\n    \t\t\temail,\r\n                `password`\r\n    \t\t)\r\n    \t\tVALUES(\r\n    \t\t\tfirstName,\r\n    \t\t\tlastName,\r\n    \t\t\temail,\r\n                `password`\r\n    \t\t);\r\n    \t SELECT \r\n    \t\tlast_insert_id()\r\n         INTO user_id;\r\n         END IF;\r\n        COMMIT;\r\n    END //\r\n    DELIMITER ;","title":"Call MySQL Stored Procedure using SimpleJdbcCall in Java","body":"<p>I have not done Java in a long time, so I decided to create a small application to manage a project. I am making a call to the database to insert a new user. I have the stored procedure created. I called the stored procedure and add a new user successfully using MySQL Workbench. However, when I made a call from the application using SimpleJdbcCall, it did not insert the new user. It did not throw an exception either. To eliminate issue with connecting to the database, I was able to call a different stored procedure that returns the total count of existing email without issue. I have not been able to figure why. I would appreciate any guidance on the cause of this issue.</p>\n<p><strong>Code that is not working: Update</strong></p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepository implements IUser&lt;User&gt; {\n    private SimpleJdbcCall sj;\n    private final BCryptPasswordEncoder encoder;\n    \n    @Bean\n    public SimpleJdbcCall setDataSource(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\n        sj = new SimpleJdbcCall(jdbcTemplate);\n        return sj;\n    }\n    \n    private boolean emailExists(String email) {\n         SqlParameterSource in = new MapSqlParameterSource()\n                    .addValue(&quot;email&quot;, email); \n        Map&lt;String, Object&gt; out = \n                sj.withProcedureName(ApplicationConstant.APPLICATION_EMAIL_COUNT)\n                .execute(in);\n       Integer count =  (Integer) out.get(&quot;total_email&quot;);\n       return count &gt; 0;\n    }\n    \n    @Override\n    public User create(User user) {\n        if(emailExists(user.getEmail().trim().toLowerCase())) throw new ApiException(&quot;Email already in use. Please login using your email.&quot;);\n        try {\n            String firstName = user.getFirstName();\n            String lastName = user.getLastName();\n            String email = user.getEmail();\n            String password = user.getPassword();\n             SqlParameterSource in = new MapSqlParameterSource()\n                        .addValue(&quot;firstName&quot;, firstName,Types.NVARCHAR)\n                        .addValue(&quot;lastName&quot;, lastName,Types.NVARCHAR)\n                        .addValue(&quot;email&quot;, email,Types.NVARCHAR)\n                        .addValue(&quot;password&quot;, password,Types.NVARCHAR)\n                        .addValue(&quot;user_id&quot;, 0, Types.BIGINT);\n            Map&lt;String, Object&gt; out = \n                    sj.withProcedureName(&quot;UspUserUpsert&quot;)\n                    .withCatalogName(&quot;manageproject&quot;)\n                    .withoutProcedureColumnMetaDataAccess()\n                    .declareParameters(\n                      new SqlParameter(&quot;firstName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;lastName&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;email&quot;, Types.NVARCHAR),\n                      new SqlParameter(&quot;password&quot;, Types.NVARCHAR),\n                      new SqlOutParameter(&quot;user_id&quot;, Types.BIGINT)  \n                    )\n                    .execute(in);\n    \n            Long userId = (Long) out.get(&quot;user_id&quot;);\n        } catch(Exception e) {\n            throw new ApiException(&quot;An error occurs. Please try again.&quot;);\n        }\n        return user;\n    }\n    \n}\n</code></pre>\n<p><strong>Parameter Values:</strong></p>\n<pre><code>MapSqlParameterSource {firstName=John, lastName=Doe, email=jdoe@gmail.com, password=123456.}\n</code></pre>\n<p><strong>Stored Procedure</strong></p>\n<pre><code>DELIMITER //;\nCREATE PROCEDURE UspUserUpsert(\n IN firstName       VARCHAR(50),\n IN lastName        VARCHAR(50),\n IN email           VARCHAR(100),\n IN `password`      VARCHAR(255),\n OUT user_id        INT\n)\nBEGIN\n    DECLARE EXIT HANDLER FOR SQLEXCEPTION\n    BEGIN\n        ROLLBACK;\n    END;\n     \n    SELECT \n        id \n    INTO user_id\n    FROM \n        `user` \n    WHERE\n        email = @email;\n    \n     START TRANSACTION;\n     IF (user_id &gt; 0) THEN\n        UPDATE \n            `user` u\n        SET\n            u.address = 'TESTING'\n        WHERE\n            u.user_id = user_id;\n     END IF;\n     IF (ISNULL(user_id) =  1 OR user_id = 0) THEN\n         INSERT INTO User (\n            first_name,\n            last_name,\n            email,\n            `password`\n        )\n        VALUES(\n            firstName,\n            lastName,\n            email,\n            `password`\n        );\n     SELECT \n        last_insert_id()\n     INTO user_id;\n     END IF;\n    COMMIT;\nEND //\nDELIMITER ;\n</code></pre>\n"},{"tags":["java","web-applications"],"answers":[{"tags":[],"owner":{"account_id":936117,"reputation":1461,"user_id":965016,"display_name":"jornb87"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1321530228,"creation_date":1321530228,"answer_id":8166542,"question_id":8166508,"body_markdown":"Getters and setters can be static if they get/set static fields.","title":"Are static setter/getters allowed?","body":"<p>Getters and setters can be static if they get/set static fields.</p>\n"},{"comments":[{"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"score":3,"creation_date":1321530486,"post_id":8166564,"comment_id":10027403,"body_markdown":"You can&#39;t access instance fields from static methods.","body":"You can&#39;t access instance fields from static methods."}],"tags":[],"owner":{"account_id":996003,"reputation":1362,"user_id":1011919,"display_name":"Aditya Naidu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321530335,"creation_date":1321530335,"answer_id":8166564,"question_id":8166508,"body_markdown":"Yes, getters/setters can be made static based on your need. Or maybe I didn&#39;t understand your question!","title":"Are static setter/getters allowed?","body":"<p>Yes, getters/setters can be made static based on your need. Or maybe I didn't understand your question!</p>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1665019181,"creation_date":1321530401,"answer_id":8166574,"question_id":8166508,"body_markdown":"If your properties are `static`, then getters and setters will also be `static`.  It all depends on what you want to do.","title":"Are static setter/getters allowed?","body":"<p>If your properties are <code>static</code>, then getters and setters will also be <code>static</code>.  It all depends on what you want to do.</p>\n"},{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390674832,"creation_date":1321530627,"answer_id":8166627,"question_id":8166508,"body_markdown":"yes you can and that class whatever that object/variable was defined they looks like \r\n\r\n    private static String abc = &quot;&quot;;\r\n\r\nand you can access this object using get/set method\r\n\r\n    public static String getString(){\r\n        return abc;\r\n    }\r\n    \r\n    public static void setString(String newAbc){\r\n       abc = newAbc;\r\n    }\r\n\r\nand you can use this like this way `Test.getString(); or Test.setString(&quot;new string&quot;);`\r\n\r\nyou can also define this get/set method as normal means without defined the static keyword but for that you need to create the instance of that class. The static was used for without creating an instance of the class you can access their member.\r\n","title":"Are static setter/getters allowed?","body":"<p>yes you can and that class whatever that object/variable was defined they looks like </p>\n\n<pre><code>private static String abc = \"\";\n</code></pre>\n\n<p>and you can access this object using get/set method</p>\n\n<pre><code>public static String getString(){\n    return abc;\n}\n\npublic static void setString(String newAbc){\n   abc = newAbc;\n}\n</code></pre>\n\n<p>and you can use this like this way <code>Test.getString(); or Test.setString(\"new string\");</code></p>\n\n<p>you can also define this get/set method as normal means without defined the static keyword but for that you need to create the instance of that class. The static was used for without creating an instance of the class you can access their member.</p>\n"},{"tags":[],"owner":{"account_id":1005430,"reputation":1098,"user_id":1019336,"accept_rate":60,"display_name":"biaobiaoqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321530663,"creation_date":1321530663,"answer_id":8166632,"question_id":8166508,"body_markdown":"Sure you can .\r\nGetter and setter are just normal methods . \r\nThey can be static or not .\r\n\r\nThe only constraint is , do not use non-static filed and method in the static method. As static method and static filed belong to a class ,and non-static method and field belong to the object . they are two different levels I think.","title":"Are static setter/getters allowed?","body":"<p>Sure you can .\nGetter and setter are just normal methods . \nThey can be static or not .</p>\n\n<p>The only constraint is , do not use non-static filed and method in the static method. As static method and static filed belong to a class ,and non-static method and field belong to the object . they are two different levels I think.</p>\n"},{"tags":[],"owner":{"account_id":1044801,"reputation":507,"user_id":1050039,"display_name":"vgardner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321530742,"creation_date":1321530742,"answer_id":8166647,"question_id":8166508,"body_markdown":"You can&#39;t make getter and setter methods static if you use any attributes or properties that aren&#39;t static. If you use IDEs like Eclipse and Netbeans, they&#39;ll warn you about that or might not even let you compile the code.","title":"Are static setter/getters allowed?","body":"<p>You can't make getter and setter methods static if you use any attributes or properties that aren't static. If you use IDEs like Eclipse and Netbeans, they'll warn you about that or might not even let you compile the code.</p>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1424632515,"post_id":8166706,"comment_id":45619245,"body_markdown":"What about a static getter to retrieve a Map? Does that single action need to be synchronized?","body":"What about a static getter to retrieve a Map? Does that single action need to be synchronized?"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1509480483,"post_id":8166706,"comment_id":81034727,"body_markdown":"Depends on whether you&#39;ll change data of the map. Make the map final and you will be fine!","body":"Depends on whether you&#39;ll change data of the map. Make the map final and you will be fine!"}],"tags":[],"owner":{"account_id":277337,"reputation":10612,"user_id":571271,"accept_rate":100,"display_name":"jeha"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321531015,"creation_date":1321531015,"answer_id":8166706,"question_id":8166508,"body_markdown":"Of course you can make getters and setters be static (with appropriate static fields).\r\n\r\n**But:** As you are dealing with a web application (multiple parallel requests - multiple threads) you surely have a threading issue here - this is **not thread-safe** unless you take care of (e.g. use `synchronized`).","title":"Are static setter/getters allowed?","body":"<p>Of course you can make getters and setters be static (with appropriate static fields).</p>\n\n<p><strong>But:</strong> As you are dealing with a web application (multiple parallel requests - multiple threads) you surely have a threading issue here - this is <strong>not thread-safe</strong> unless you take care of (e.g. use <code>synchronized</code>).</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573036838,"creation_date":1573036838,"answer_id":58728225,"question_id":8166508,"body_markdown":"Yes, static setters/getters are allowed as long as both the class variable and the method are made static. Take a look at this getter method example.\r\n\r\n\r\n\r\n    public class Test {\r\n      private static WebDriver driver;\r\n    \r\n    \r\n    public static WebDriver getDriver() {\r\n        return driver;","title":"Are static setter/getters allowed?","body":"<p>Yes, static setters/getters are allowed as long as both the class variable and the method are made static. Take a look at this getter method example.</p>\n\n<pre><code>public class Test {\n  private static WebDriver driver;\n\n\npublic static WebDriver getDriver() {\n    return driver;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573037836,"creation_date":1573037836,"answer_id":58728530,"question_id":8166508,"body_markdown":"If your data members are static then you can use static getter/setter. But if you data members are not static then call your not static getter/setter on object in getData() static method.","title":"Are static setter/getters allowed?","body":"<p>If your data members are static then you can use static getter/setter. But if you data members are not static then call your not static getter/setter on object in getData() static method.</p>\n"},{"tags":[],"owner":{"account_id":18319421,"reputation":1,"user_id":13340547,"display_name":"Whitney Kugel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688585860,"creation_date":1688585860,"answer_id":76623557,"question_id":8166508,"body_markdown":"Using static getters/ setters are allowed (and required) for static fields. The idea is to match, either both are static or non-static because the relationship to the class/ object is in mind. Attempting to use a non-static getter or setter on a static field causes a conflict because the value is shared and you will see a message like, “Non-static method &#39;getThingA()&#39; cannot be referenced from a static context.”\r\n\r\nThis is beneficial if you are working with something that requires data tied to the class rather than specific instances of that object. It also promotes encapsulation on a class level which is one of the core pillars of OOP and simply good practice. Additionally, by using static getters and setters you allow yourself the ability to expand these calls later if needed rather than modifying code in countless other places. ","title":"Are static setter/getters allowed?","body":"<p>Using static getters/ setters are allowed (and required) for static fields. The idea is to match, either both are static or non-static because the relationship to the class/ object is in mind. Attempting to use a non-static getter or setter on a static field causes a conflict because the value is shared and you will see a message like, “Non-static method 'getThingA()' cannot be referenced from a static context.”</p>\n<p>This is beneficial if you are working with something that requires data tied to the class rather than specific instances of that object. It also promotes encapsulation on a class level which is one of the core pillars of OOP and simply good practice. Additionally, by using static getters and setters you allow yourself the ability to expand these calls later if needed rather than modifying code in countless other places.</p>\n"}],"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83099,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":8166574,"answer_count":10,"score":18,"last_activity_date":1688585860,"creation_date":1321530088,"question_id":8166508,"body_markdown":"I am develoing a Web Application, in that there is a utility method named `getData()` which I made it as a static.\r\nUntil now its fine, but this static method named `getData()` needs some data from setters and getters.\r\nSo now my question is can we make setter/getters as static?\r\n","title":"Are static setter/getters allowed?","body":"<p>I am develoing a Web Application, in that there is a utility method named <code>getData()</code> which I made it as a static.\nUntil now its fine, but this static method named <code>getData()</code> needs some data from setters and getters.\nSo now my question is can we make setter/getters as static?</p>\n"},{"tags":["java","swing","user-interface","scrollbar"],"comments":[{"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"score":0,"creation_date":1448106750,"post_id":5371547,"comment_id":55450394,"body_markdown":"I&#39;ve added a more complete solution below, that works for the default look and feel (Metal).  I know this is an old question, but I came across it when I was trying to figure this out, so thought I&#39;d come back and share.","body":"I&#39;ve added a more complete solution below, that works for the default look and feel (Metal).  I know this is an old question, but I came across it when I was trying to figure this out, so thought I&#39;d come back and share."}],"answers":[{"comments":[{"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"score":0,"creation_date":1328524413,"post_id":5371596,"comment_id":11518060,"body_markdown":"Thanks! And how do I set the size of the scrollbar up/down buttons?","body":"Thanks! And how do I set the size of the scrollbar up/down buttons?"},{"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"score":1,"creation_date":1448106811,"post_id":5371596,"comment_id":55450412,"body_markdown":"This does weird things to the direction buttons. See my answer below for a alternate solution.","body":"This does weird things to the direction buttons. See my answer below for a alternate solution."}],"tags":[],"owner":{"account_id":281244,"reputation":38779,"user_id":577423,"display_name":"Howard"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1300656159,"creation_date":1300656159,"answer_id":5371596,"question_id":5371547,"body_markdown":"A quick but also dirty solution is to set the width/height explicitely to e.g. 10 pixels via\r\n\r\n    jScrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(10, 0));\r\n    jScrollPane.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 10));\r\n\r\nOther way would be to provide a proper `ScrollBarUI`.","title":"Set scrollbar thickness","body":"<p>A quick but also dirty solution is to set the width/height explicitely to e.g. 10 pixels via</p>\n\n<pre><code>jScrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(10, 0));\njScrollPane.getHorizontalScrollBar().setPreferredSize(new Dimension(0, 10));\n</code></pre>\n\n<p>Other way would be to provide a proper <code>ScrollBarUI</code>.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300656641,"creation_date":1300656641,"answer_id":5371653,"question_id":5371547,"body_markdown":"    int verticalScrollBarWidthCoefficient = 3;\r\n    \r\n    scrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(\r\n            (int) scrollPane.getVerticalScrollBar().getPreferredSize()\r\n                    .getWidth() * verticalScrollBarWidthCoefficient,\r\n            (int) scrollPane.getVerticalScrollBar().getPreferredSize().getHeight()\r\n    ));","title":"Set scrollbar thickness","body":"<pre><code>int verticalScrollBarWidthCoefficient = 3;\n\nscrollPane.getVerticalScrollBar().setPreferredSize(new Dimension(\n        (int) scrollPane.getVerticalScrollBar().getPreferredSize()\n                .getWidth() * verticalScrollBarWidthCoefficient,\n        (int) scrollPane.getVerticalScrollBar().getPreferredSize().getHeight()\n));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1520584759,"post_id":33842985,"comment_id":85384439,"body_markdown":"This only works if you DON&#39;T have the Nimbus LaF. If you have it then the first way has no effect and the second way errors because `UIManager.get(&quot;ScrollBar.width&quot;) == null`","body":"This only works if you DON&#39;T have the Nimbus LaF. If you have it then the first way has no effect and the second way errors because <code>UIManager.get(&quot;ScrollBar.width&quot;) == null</code>"}],"tags":[],"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1448106666,"creation_date":1448106666,"answer_id":33842985,"question_id":5371547,"body_markdown":"The following applies to the default LNF (Metal).\r\n\r\nIf you just want to set a specific size, then you can put this code before you create the JScrollPane (replace 40 with whatever size you prefer)...\r\n\r\n    UIManager.put(&quot;ScrollBar.width&quot;, 40);\r\n\r\nIf you want to scale the scrollbar based on the default size then something like this (before you create the JScrollPane)...\r\n\r\n    UIManager.put(&quot;ScrollBar.width&quot;, (int) ((int) UIManager.get(&quot;ScrollBar.width&quot;) * 2.5));\r\n\r\nIf you want to change it *after* creating the JScrollPane things are a bit more complex, but not too bad...\r\n\r\n    int scrollbarSize = &lt;some dynamic value&gt;;\r\n    UIManager.put(&quot;ScrollBar.width&quot;, scrollbarSize);\r\n    scrollPane.setVerticalScrollBar(scrollPane.createVerticalScrollBar());\r\n    scrollPane.setHorizontalScrollBar(scrollPane.createHorizontalScrollBar());\r\n\r\nI hope that helps someone.","title":"Set scrollbar thickness","body":"<p>The following applies to the default LNF (Metal).</p>\n\n<p>If you just want to set a specific size, then you can put this code before you create the JScrollPane (replace 40 with whatever size you prefer)...</p>\n\n<pre><code>UIManager.put(\"ScrollBar.width\", 40);\n</code></pre>\n\n<p>If you want to scale the scrollbar based on the default size then something like this (before you create the JScrollPane)...</p>\n\n<pre><code>UIManager.put(\"ScrollBar.width\", (int) ((int) UIManager.get(\"ScrollBar.width\") * 2.5));\n</code></pre>\n\n<p>If you want to change it <em>after</em> creating the JScrollPane things are a bit more complex, but not too bad...</p>\n\n<pre><code>int scrollbarSize = &lt;some dynamic value&gt;;\nUIManager.put(\"ScrollBar.width\", scrollbarSize);\nscrollPane.setVerticalScrollBar(scrollPane.createVerticalScrollBar());\nscrollPane.setHorizontalScrollBar(scrollPane.createHorizontalScrollBar());\n</code></pre>\n\n<p>I hope that helps someone.</p>\n"},{"tags":[],"owner":{"account_id":7786103,"reputation":85,"user_id":5890887,"accept_rate":33,"display_name":"user5890887"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1471278242,"creation_date":1471277123,"answer_id":38958660,"question_id":5371547,"body_markdown":"simplest way for me was to edit the `jquery.jscrollpane.css` file directly. changing the width of `.jspVerticalBar`. :)","title":"Set scrollbar thickness","body":"<p>simplest way for me was to edit the <code>jquery.jscrollpane.css</code> file directly. changing the width of <code>.jspVerticalBar</code>. :)</p>\n"}],"owner":{"account_id":210810,"reputation":11577,"user_id":462631,"accept_rate":73,"display_name":"Sinaesthetic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18816,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5371596,"answer_count":4,"score":17,"last_activity_date":1688585682,"creation_date":1300655701,"question_id":5371547,"body_markdown":"Is there a way to adjust the thickness of the scrollbar within a `JScrollPane`? the default is kind of clunky.","title":"Set scrollbar thickness","body":"<p>Is there a way to adjust the thickness of the scrollbar within a <code>JScrollPane</code>? the default is kind of clunky.</p>\n"},{"tags":["java","junit"],"answers":[{"comments":[{"owner":{"account_id":103312,"reputation":2165,"user_id":276780,"accept_rate":89,"display_name":"Syntax"},"score":0,"creation_date":1280998605,"post_id":3413111,"comment_id":3551898,"body_markdown":"The difference being that setUpBeforeClass is run before any of the tests and is run once; setUp is run once before each test (and is usually used to reset the testing state to a known-good value between tests).","body":"The difference being that setUpBeforeClass is run before any of the tests and is run once; setUp is run once before each test (and is usually used to reset the testing state to a known-good value between tests)."}],"tags":[],"owner":{"account_id":22539,"reputation":1428,"user_id":55690,"display_name":"Justin King"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346173098,"creation_date":1280998400,"answer_id":3413111,"question_id":3413092,"body_markdown":"From [the Javadoc](http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html):\r\n\r\n&gt; Sometimes several tests need to share computationally expensive setup (like logging into a database). While this can compromise the independence of tests, sometimes it is a necessary optimization. Annotating a `public static void` no-arg method with `@BeforeClass` causes it to be run once before any of the test methods in the class. The `@BeforeClass` methods of superclasses will be run before those the current class.","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>From <a href=\"http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n\n<blockquote>\n  <p>Sometimes several tests need to share computationally expensive setup (like logging into a database). While this can compromise the independence of tests, sometimes it is a necessary optimization. Annotating a <code>public static void</code> no-arg method with <code>@BeforeClass</code> causes it to be run once before any of the test methods in the class. The <code>@BeforeClass</code> methods of superclasses will be run before those the current class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":218,"is_accepted":true,"score":218,"last_activity_date":1280998451,"creation_date":1280998451,"answer_id":3413120,"question_id":3413092,"body_markdown":"The `@BeforeClass` and `@AfterClass` annotated methods will be run exactly once during your test run - at the very beginning and end of the test as a whole, before anything else is run.  In fact, they&#39;re run before the test class is even constructed, which is why they must be declared `static`.\r\n\r\nThe `@Before` and `@After` methods will be run before and after every test case, so will probably be run multiple times during a test run.\r\n\r\nSo let&#39;s assume you had three tests in your class, the order of method calls would be:\r\n\r\n    setUpBeforeClass()\r\n\r\n      (Test class first instance constructed and the following methods called on it)\r\n        setUp()\r\n        test1()\r\n        tearDown()\r\n\r\n      (Test class second instance constructed and the following methods called on it)\r\n        setUp()\r\n        test2()\r\n        tearDown()\r\n\r\n      (Test class third instance constructed and the following methods called on it)\r\n        setUp()\r\n        test3()\r\n        tearDown()\r\n\r\n    tearDownAfterClass()","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>The <code>@BeforeClass</code> and <code>@AfterClass</code> annotated methods will be run exactly once during your test run - at the very beginning and end of the test as a whole, before anything else is run.  In fact, they're run before the test class is even constructed, which is why they must be declared <code>static</code>.</p>\n\n<p>The <code>@Before</code> and <code>@After</code> methods will be run before and after every test case, so will probably be run multiple times during a test run.</p>\n\n<p>So let's assume you had three tests in your class, the order of method calls would be:</p>\n\n<pre><code>setUpBeforeClass()\n\n  (Test class first instance constructed and the following methods called on it)\n    setUp()\n    test1()\n    tearDown()\n\n  (Test class second instance constructed and the following methods called on it)\n    setUp()\n    test2()\n    tearDown()\n\n  (Test class third instance constructed and the following methods called on it)\n    setUp()\n    test3()\n    tearDown()\n\ntearDownAfterClass()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178640,"reputation":9194,"user_id":410747,"accept_rate":85,"display_name":"netbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688585656,"creation_date":1280998524,"answer_id":3413128,"question_id":3413092,"body_markdown":"`setUpBeforeClass` is run only once, right after the test class constructor (before beginning test method executions)\r\n\r\n`setUp` is run before each method execution\r\n\r\n`tearDown` is run after each method execution\r\n\r\n`tearDownAfterClass` is run only once, only after all other method executions have completed; it is the last method to be executed.","title":"Difference between setUp() and setUpBeforeClass()","body":"<p><code>setUpBeforeClass</code> is run only once, right after the test class constructor (before beginning test method executions)</p>\n<p><code>setUp</code> is run before each method execution</p>\n<p><code>tearDown</code> is run after each method execution</p>\n<p><code>tearDownAfterClass</code> is run only once, only after all other method executions have completed; it is the last method to be executed.</p>\n"},{"comments":[{"owner":{"account_id":77591,"reputation":1199,"user_id":221348,"accept_rate":50,"display_name":"madhurtanwani"},"score":0,"creation_date":1281001049,"post_id":3413410,"comment_id":3552201,"body_markdown":"BTW if you beginning to write unit test I would recommend this pot from my blog. It has pointers to other great material on unit testing as well : http://madhurtanwani.blogspot.com/search/label/mock","body":"BTW if you beginning to write unit test I would recommend this pot from my blog. It has pointers to other great material on unit testing as well : <a href=\"http://madhurtanwani.blogspot.com/search/label/mock\" rel=\"nofollow noreferrer\">madhurtanwani.blogspot.com/search/label/mock</a>"}],"tags":[],"owner":{"account_id":77591,"reputation":1199,"user_id":221348,"accept_rate":50,"display_name":"madhurtanwani"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1327329875,"creation_date":1281000756,"answer_id":3413410,"question_id":3413092,"body_markdown":"Think of &quot;BeforeClass&quot; as a static initializer for your test case - use it for initializing static data - things that do not change across your test cases. You definitely want to be careful about static resources that are not thread safe.\r\n\r\nFinally, use the &quot;AfterClass&quot; annotated method to clean up any setup you did in the &quot;BeforeClass&quot; annotated method (unless their self destruction is good enough).\r\n\r\n\r\n&quot;Before&quot; &amp; &quot;After&quot; are for unit test specific initialization. I typically use these methods to initialize / re-initialize the mocks of my dependencies.  Obviously, this initialization is not specific to a unit test, but general to all unit tests.\r\n\r\n","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>Think of \"BeforeClass\" as a static initializer for your test case - use it for initializing static data - things that do not change across your test cases. You definitely want to be careful about static resources that are not thread safe.</p>\n\n<p>Finally, use the \"AfterClass\" annotated method to clean up any setup you did in the \"BeforeClass\" annotated method (unless their self destruction is good enough).</p>\n\n<p>\"Before\" &amp; \"After\" are for unit test specific initialization. I typically use these methods to initialize / re-initialize the mocks of my dependencies.  Obviously, this initialization is not specific to a unit test, but general to all unit tests.</p>\n"}],"owner":{"account_id":168228,"reputation":3531,"user_id":393550,"accept_rate":60,"display_name":"Sagar Varpe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134656,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"accepted_answer_id":3413120,"answer_count":4,"score":167,"last_activity_date":1688585656,"creation_date":1280998262,"question_id":3413092,"body_markdown":"When unit testing with JUnit, there are two similar methods, `setUp()` and `setUpBeforeClass()`. What is the difference between these methods? Also, what is the difference between `tearDown()` and `tearDownAfterClass()`?\r\n\r\nHere are the signatures:\r\n\r\n    @BeforeClass\r\n    public static void setUpBeforeClass() throws Exception {\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDownAfterClass() throws Exception {\r\n    }\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n    }\r\n\r\n    @After\r\n    public void tearDown() throws Exception {\r\n    }","title":"Difference between setUp() and setUpBeforeClass()","body":"<p>When unit testing with JUnit, there are two similar methods, <code>setUp()</code> and <code>setUpBeforeClass()</code>. What is the difference between these methods? Also, what is the difference between <code>tearDown()</code> and <code>tearDownAfterClass()</code>?</p>\n\n<p>Here are the signatures:</p>\n\n<pre><code>@BeforeClass\npublic static void setUpBeforeClass() throws Exception {\n}\n\n@AfterClass\npublic static void tearDownAfterClass() throws Exception {\n}\n\n@Before\npublic void setUp() throws Exception {\n}\n\n@After\npublic void tearDown() throws Exception {\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cache"],"answers":[{"comments":[{"owner":{"account_id":2760957,"reputation":471,"user_id":4743466,"accept_rate":69,"display_name":"Erik Vesterlund"},"score":0,"creation_date":1688589016,"post_id":76623520,"comment_id":135095487,"body_markdown":"Thanks! It took me a while to figure out how you meant. I modified the code you quoted to `return new MyApp(myService())` where `myService` is defined as one might &quot;expect&quot;, and it worked! Also gave me good leads for how to modify the actual work/production code. Big thanks!","body":"Thanks! It took me a while to figure out how you meant. I modified the code you quoted to <code>return new MyApp(myService())</code> where <code>myService</code> is defined as one might &quot;expect&quot;, and it worked! Also gave me good leads for how to modify the actual work/production code. Big thanks!"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688585533,"creation_date":1688585533,"answer_id":76623520,"question_id":76623215,"body_markdown":"The problem is that you are constructing the instance of type MyService by hand:\r\n\r\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\r\n\r\nYou need to let do spring the magic of creating **all** the beans. This way the @Cacheable annotations etc are applied via proxy. Since you are constructing the **MyService** by hand via new MyService(), you go exactly around spring for this single dependency, but this dependency needs the proxying of the methods for the @Cacheable annotation to work","title":"Spring caching works &quot;live&quot; but not in tests","body":"<p>The problem is that you are constructing the instance of type MyService by hand:</p>\n<pre><code>@Bean MyApp myApp() { return new MyApp(new MyService()); }\n</code></pre>\n<p>You need to let do spring the magic of creating <strong>all</strong> the beans. This way the @Cacheable annotations etc are applied via proxy. Since you are constructing the <strong>MyService</strong> by hand via new MyService(), you go exactly around spring for this single dependency, but this dependency needs the proxying of the methods for the @Cacheable annotation to work</p>\n"}],"owner":{"account_id":2760957,"reputation":471,"user_id":4743466,"accept_rate":69,"display_name":"Erik Vesterlund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623520,"answer_count":1,"score":0,"last_activity_date":1688585533,"creation_date":1688582626,"question_id":76623215,"body_markdown":"I have a service at work using Spring framework (not Boot!) with a guava cache. I would like to use Spring&#39;s own facilities. I can get it to work running the actual app, but in tests the caching doesn&#39;t work.\r\n\r\nI&#39;ve recreated the issue in a &quot;minimal&quot; app, see below.\r\n\r\nI haven&#39;t found anything useful by googling, as far as I can tell I have all the ingredients that all the tutorials say to have.\r\n\r\nWould appreciate some help with this. &quot;Use Spring Boot&quot; is unfortunately not a solution/option.\r\n\r\nSource code, gradle and dir structure follow: (pom available on request)\r\n\r\nTest:\r\n```\r\npackage com.somepkg;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n//@ComponentScan(&quot;com.somepkg&quot;)\r\n@ContextConfiguration(classes = TestConfig.class)\r\npublic class SomeTest {\r\n    @Autowired MyApp myApp;\r\n\r\n    @Test\r\n    public void testStuff() {\r\n        long start, stop, totalTime;\r\n\r\n        start = System.currentTimeMillis();\r\n        myApp.run(&quot;stuff&quot;);\r\n        stop = System.currentTimeMillis();\r\n        totalTime = stop - start;\r\n        System.out.println(&quot;Total: &quot; + totalTime);\r\n\r\n        assertThat(&quot;Call took too long&quot;, totalTime &lt; 1100);\r\n    }\r\n}\r\n\r\n@Configuration\r\n@EnableCaching\r\nclass TestConfig {\r\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\r\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\r\n}\r\n```\r\n\r\nApp:\r\n```\r\npackage com.somepkg;\r\n\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.support.GenericApplicationContext;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Configuration\r\n@ComponentScan\r\n@EnableCaching\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try (GenericApplicationContext applicationContext = new AnnotationConfigApplicationContext(Main.class)) {\r\n            MyApp app = applicationContext.getBean(MyApp.class);\r\n            app.run(&quot;Spring&quot;);\r\n        }\r\n    }\r\n\r\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\r\n}\r\n\r\n@Component\r\nclass MyApp {\r\n    private final MyService myService;\r\n\r\n    public MyApp(MyService myService) { this.myService = myService; }\r\n\r\n    public void run(String message) {\r\n        long start, stop, totalTime;\r\n\r\n        System.out.println(&quot;First call to service...&quot;);\r\n        start = System.currentTimeMillis();\r\n        myService.hello(message);\r\n        stop = System.currentTimeMillis();\r\n        totalTime = stop - start;\r\n\r\n        System.out.println(&quot;Second call to service...&quot;);\r\n        start = System.currentTimeMillis();\r\n        myService.hello(message);\r\n        stop = System.currentTimeMillis();\r\n        totalTime += stop - start;\r\n\r\n        System.out.println(&quot;done in &quot; + totalTime);\r\n    }\r\n}\r\n\r\n@Component\r\nclass MyService {\r\n    @Cacheable(&quot;greeting&quot;)\r\n    public String hello(String message) {\r\n        try { Thread.sleep(1000); } catch (Exception e) {}\r\n        return &quot;Hello &quot; + message + &quot;!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle:\r\n```\r\nmainClassName = &#39;com.somepkg.Main&#39;\r\n\r\nrun { standardInput = System.in }\r\n\r\nrepositories { jcenter() }\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework:spring-context:5.3.17&#39;\r\n    implementation &#39;org.springframework:spring-test:5.3.17&#39;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    implementation &#39;org.hamcrest:hamcrest:2.2&#39;\r\n}\r\n```\r\n\r\nDirectory structure:\r\n```\r\n├── build.gradle\r\n├── pom.xml\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; └── java\r\n    │&#160;&#160;     └── com\r\n    │&#160;&#160;         └── somepkg\r\n    │&#160;&#160;             └── Main.java\r\n    └── test\r\n        └── java\r\n            └── com\r\n                └── somepkg\r\n                    └── SomeTest.java\r\n```","title":"Spring caching works &quot;live&quot; but not in tests","body":"<p>I have a service at work using Spring framework (not Boot!) with a guava cache. I would like to use Spring's own facilities. I can get it to work running the actual app, but in tests the caching doesn't work.</p>\n<p>I've recreated the issue in a &quot;minimal&quot; app, see below.</p>\n<p>I haven't found anything useful by googling, as far as I can tell I have all the ingredients that all the tutorials say to have.</p>\n<p>Would appreciate some help with this. &quot;Use Spring Boot&quot; is unfortunately not a solution/option.</p>\n<p>Source code, gradle and dir structure follow: (pom available on request)</p>\n<p>Test:</p>\n<pre><code>package com.somepkg;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n//@ComponentScan(&quot;com.somepkg&quot;)\n@ContextConfiguration(classes = TestConfig.class)\npublic class SomeTest {\n    @Autowired MyApp myApp;\n\n    @Test\n    public void testStuff() {\n        long start, stop, totalTime;\n\n        start = System.currentTimeMillis();\n        myApp.run(&quot;stuff&quot;);\n        stop = System.currentTimeMillis();\n        totalTime = stop - start;\n        System.out.println(&quot;Total: &quot; + totalTime);\n\n        assertThat(&quot;Call took too long&quot;, totalTime &lt; 1100);\n    }\n}\n\n@Configuration\n@EnableCaching\nclass TestConfig {\n    @Bean MyApp myApp() { return new MyApp(new MyService()); }\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\n}\n</code></pre>\n<p>App:</p>\n<pre><code>package com.somepkg;\n\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.support.GenericApplicationContext;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.concurrent.ConcurrentMapCacheManager;\nimport org.springframework.stereotype.Component;\n\n@Configuration\n@ComponentScan\n@EnableCaching\npublic class Main {\n    public static void main(String[] args) {\n        try (GenericApplicationContext applicationContext = new AnnotationConfigApplicationContext(Main.class)) {\n            MyApp app = applicationContext.getBean(MyApp.class);\n            app.run(&quot;Spring&quot;);\n        }\n    }\n\n    @Bean CacheManager cacheManager() { return new ConcurrentMapCacheManager(&quot;greeting&quot;); }\n}\n\n@Component\nclass MyApp {\n    private final MyService myService;\n\n    public MyApp(MyService myService) { this.myService = myService; }\n\n    public void run(String message) {\n        long start, stop, totalTime;\n\n        System.out.println(&quot;First call to service...&quot;);\n        start = System.currentTimeMillis();\n        myService.hello(message);\n        stop = System.currentTimeMillis();\n        totalTime = stop - start;\n\n        System.out.println(&quot;Second call to service...&quot;);\n        start = System.currentTimeMillis();\n        myService.hello(message);\n        stop = System.currentTimeMillis();\n        totalTime += stop - start;\n\n        System.out.println(&quot;done in &quot; + totalTime);\n    }\n}\n\n@Component\nclass MyService {\n    @Cacheable(&quot;greeting&quot;)\n    public String hello(String message) {\n        try { Thread.sleep(1000); } catch (Exception e) {}\n        return &quot;Hello &quot; + message + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>mainClassName = 'com.somepkg.Main'\n\nrun { standardInput = System.in }\n\nrepositories { jcenter() }\n\ndependencies {\n    implementation 'org.springframework:spring-context:5.3.17'\n    implementation 'org.springframework:spring-test:5.3.17'\n    implementation 'junit:junit:4.13.1'\n    implementation 'org.hamcrest:hamcrest:2.2'\n}\n</code></pre>\n<p>Directory structure:</p>\n<pre><code>├── build.gradle\n├── pom.xml\n└── src\n    ├── main\n    │   └── java\n    │       └── com\n    │           └── somepkg\n    │               └── Main.java\n    └── test\n        └── java\n            └── com\n                └── somepkg\n                    └── SomeTest.java\n</code></pre>\n"},{"tags":["java","jmx","mbeans","spring-micrometer","prometheus-java"],"owner":{"account_id":9724259,"reputation":171,"user_id":7211862,"accept_rate":17,"display_name":"CarlosS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688584827,"creation_date":1688584827,"question_id":76623459,"body_markdown":"I am evaluating and learning about options for monitoring metrics for Java applications with SpringBoot (2.6.6) and I have done some testing with Prometheus, but there are some differences between using the Prometheus Java agent and using from the micrometer-registry-prometheus dependency with actuator (actuator/prometheus).\r\n\r\nUsing the Java agent there are fairly much more fields than from actuator/prometheus (372 vs 110), but one of those records I am not able to visualize from actuator/prometheus is my custom MBean (i.e. com_training_testing_mbean_statistic_total).\r\n\r\nFor Java agent the version is jmx_prometheus_javaagent-0.19.0.jar and the config file only contains:\r\n\r\n```\r\nrules:\r\n  - pattern: &quot;.*&quot;\r\n```\r\n\r\nand for actuator/prometheus I am using these dependency versions \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.6&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.4&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.4&lt;/verion&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nand application.properties:\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=prometheus\r\n```\r\n\r\nSo my doubt is if there is a way to get MBeans from actuator/prometheus? (Maybe a configuration is needed)\r\n\r\n ","title":"Get MBeans when using micrometer-registry-prometheus dependency with actuator","body":"<p>I am evaluating and learning about options for monitoring metrics for Java applications with SpringBoot (2.6.6) and I have done some testing with Prometheus, but there are some differences between using the Prometheus Java agent and using from the micrometer-registry-prometheus dependency with actuator (actuator/prometheus).</p>\n<p>Using the Java agent there are fairly much more fields than from actuator/prometheus (372 vs 110), but one of those records I am not able to visualize from actuator/prometheus is my custom MBean (i.e. com_training_testing_mbean_statistic_total).</p>\n<p>For Java agent the version is jmx_prometheus_javaagent-0.19.0.jar and the config file only contains:</p>\n<pre><code>rules:\n  - pattern: &quot;.*&quot;\n</code></pre>\n<p>and for actuator/prometheus I am using these dependency versions</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/verion&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;version&gt;1.8.4&lt;/verion&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-jmx&lt;/artifactId&gt;\n            &lt;version&gt;1.8.4&lt;/verion&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and application.properties:</p>\n<pre><code>management.endpoints.web.exposure.include=prometheus\n</code></pre>\n<p>So my doubt is if there is a way to get MBeans from actuator/prometheus? (Maybe a configuration is needed)</p>\n"},{"tags":["java","elasticsearch","cmd","jvm","elastic-stack"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1674736464,"post_id":75246127,"comment_id":132779793,"body_markdown":"What version of Java are you are using?  The CMS GC was removed in Java 14.","body":"What version of Java are you are using?  The CMS GC was removed in Java 14."},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674736654,"post_id":75246127,"comment_id":132779850,"body_markdown":"it is java 1.8..0","body":"it is java 1.8..0"},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674736695,"post_id":75246127,"comment_id":132779861,"body_markdown":"and it is ignored when I run the command, the bundled one is used","body":"and it is ignored when I run the command, the bundled one is used"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674738376,"post_id":75246127,"comment_id":132780361,"body_markdown":"What&#39;s the version of the bundle java runtime?","body":"What&#39;s the version of the bundle java runtime?"},{"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"score":0,"creation_date":1674738505,"post_id":75246127,"comment_id":132780407,"body_markdown":"it is java  19 --","body":"it is java  19 --"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674739702,"post_id":75246127,"comment_id":132780770,"body_markdown":"Well that explains why you are being told that option has been removed.  Now ... what does the batch file say?  Apparently it is not looking at that jvm.options file.","body":"Well that explains why you are being told that option has been removed.  Now ... what does the batch file say?  Apparently it is not looking at that jvm.options file."}],"answers":[{"tags":[],"owner":{"account_id":1726598,"reputation":996,"user_id":1581112,"display_name":"Hang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688584714,"creation_date":1688584714,"answer_id":76623447,"question_id":75246127,"body_markdown":"The most straight-forward solution to your question is:\r\n  Add &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; to your JVM option\r\n","title":"Elasticsearch Unrecognized VM option &#39;UseConcMarkSweepGC&#39;","body":"<p>The most straight-forward solution to your question is:\nAdd &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; to your JVM option</p>\n"}],"owner":{"account_id":27626643,"reputation":11,"user_id":21086500,"display_name":"ANoos123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688584714,"creation_date":1674736047,"question_id":75246127,"body_markdown":"I am getting this exception when run elasticsearch.bat  Unrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nHere is my jvm.options file\r\n\r\n\r\n```\r\n################################################################\r\n##\r\n## JVM configuration\r\n##\r\n################################################################\r\n##\r\n## WARNING: DO NOT EDIT THIS FILE. If you want to override the\r\n## JVM options in this file, or set any additional options, you\r\n## should create one or more files in the jvm.options.d\r\n## directory containing your adjustments.\r\n##\r\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/jvm-options.html\r\n## for more information.\r\n##\r\n################################################################\r\n\r\n\r\n\r\n################################################################\r\n## IMPORTANT: JVM heap size\r\n################################################################\r\n##\r\n## The heap size is automatically configured by Elasticsearch\r\n## based on the available memory in your system and the roles\r\n## each node is configured to fulfill. If specifying heap is\r\n## required, it should be done through a file in jvm.options.d,\r\n## which should be named with .options suffix, and the min and\r\n## max should be set to the same value. For example, to set the\r\n## heap to 4 GB, create a new file in the jvm.options.d\r\n## directory containing these lines:\r\n##\r\n## -Xms4g\r\n## -Xmx4g\r\n##\r\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/heap-size.html\r\n## for more information\r\n##\r\n################################################################\r\n\r\n\r\n################################################################\r\n## Expert settings\r\n################################################################\r\n##\r\n## All settings below here are considered expert settings. Do\r\n## not adjust them unless you understand what you are doing. Do\r\n## not edit them in this file; instead, create a new file in the\r\n## jvm.options.d directory containing your adjustments.\r\n##\r\n################################################################\r\n\r\n-XX:+UseG1GC\r\n\r\n## JVM temporary directory\r\n-Djava.io.tmpdir=${ES_TMPDIR}\r\n\r\n## heap dumps\r\n\r\n# generate a heap dump when an allocation from the Java heap fails; heap dumps\r\n# are created in the working directory of the JVM unless an alternative path is\r\n# specified\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n\r\n# exit right after heap dump on out of memory error\r\n-XX:+ExitOnOutOfMemoryError\r\n\r\n# specify an alternative path for heap dumps; ensure the directory exists and\r\n# has sufficient space\r\n@heap.dump.path@\r\n\r\n# specify an alternative path for JVM fatal error logs\r\n@error.file@\r\n\r\n## GC logging\r\n-Xlog:gc*,gc+age=trace,safepoint:file=@loggc@:utctime,level,pid,tags:filecount=32,filesize=64m\r\n\r\n```\r\nI have installed the elastic zip filed and add the bin to the environment variables and tried to run elasticsearch.bat command and got the exception.\r\nerror:\r\nUnrecognized VM option &#39;UseConcMarkSweepGC&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n        at org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\r\n        at org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\r\n        at org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:140)\r\n        at org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:92)\r\n        at org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:214)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:108)\r\n        at org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:91)\r\n        at org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:234)\r\n        at org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:91)\r\n        at org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\r\n        at org.elasticsearch.cli.Command.main(Command.java:50)\r\n        at org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)","title":"Elasticsearch Unrecognized VM option &#39;UseConcMarkSweepGC&#39;","body":"<p>I am getting this exception when run elasticsearch.bat  Unrecognized VM option 'UseConcMarkSweepGC'\nHere is my jvm.options file</p>\n<pre><code>################################################################\n##\n## JVM configuration\n##\n################################################################\n##\n## WARNING: DO NOT EDIT THIS FILE. If you want to override the\n## JVM options in this file, or set any additional options, you\n## should create one or more files in the jvm.options.d\n## directory containing your adjustments.\n##\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/jvm-options.html\n## for more information.\n##\n################################################################\n\n\n\n################################################################\n## IMPORTANT: JVM heap size\n################################################################\n##\n## The heap size is automatically configured by Elasticsearch\n## based on the available memory in your system and the roles\n## each node is configured to fulfill. If specifying heap is\n## required, it should be done through a file in jvm.options.d,\n## which should be named with .options suffix, and the min and\n## max should be set to the same value. For example, to set the\n## heap to 4 GB, create a new file in the jvm.options.d\n## directory containing these lines:\n##\n## -Xms4g\n## -Xmx4g\n##\n## See https://www.elastic.co/guide/en/elasticsearch/reference/@project.minor.version@/heap-size.html\n## for more information\n##\n################################################################\n\n\n################################################################\n## Expert settings\n################################################################\n##\n## All settings below here are considered expert settings. Do\n## not adjust them unless you understand what you are doing. Do\n## not edit them in this file; instead, create a new file in the\n## jvm.options.d directory containing your adjustments.\n##\n################################################################\n\n-XX:+UseG1GC\n\n## JVM temporary directory\n-Djava.io.tmpdir=${ES_TMPDIR}\n\n## heap dumps\n\n# generate a heap dump when an allocation from the Java heap fails; heap dumps\n# are created in the working directory of the JVM unless an alternative path is\n# specified\n-XX:+HeapDumpOnOutOfMemoryError\n\n# exit right after heap dump on out of memory error\n-XX:+ExitOnOutOfMemoryError\n\n# specify an alternative path for heap dumps; ensure the directory exists and\n# has sufficient space\n@heap.dump.path@\n\n# specify an alternative path for JVM fatal error logs\n@error.file@\n\n## GC logging\n-Xlog:gc*,gc+age=trace,safepoint:file=@loggc@:utctime,level,pid,tags:filecount=32,filesize=64m\n\n</code></pre>\n<p>I have installed the elastic zip filed and add the bin to the environment variables and tried to run elasticsearch.bat command and got the exception.\nerror:\nUnrecognized VM option 'UseConcMarkSweepGC'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nat org.elasticsearch.server.cli.JvmOption.flagsFinal(JvmOption.java:113)\nat org.elasticsearch.server.cli.JvmOption.findFinalOptions(JvmOption.java:80)\nat org.elasticsearch.server.cli.MachineDependentHeap.determineHeapSettings(MachineDependentHeap.java:59)\nat org.elasticsearch.server.cli.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:140)\nat org.elasticsearch.server.cli.JvmOptionsParser.determineJvmOptions(JvmOptionsParser.java:92)\nat org.elasticsearch.server.cli.ServerProcess.createProcess(ServerProcess.java:214)\nat org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:108)\nat org.elasticsearch.server.cli.ServerProcess.start(ServerProcess.java:91)\nat org.elasticsearch.server.cli.ServerCli.startServer(ServerCli.java:234)\nat org.elasticsearch.server.cli.ServerCli.execute(ServerCli.java:91)\nat org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:54)\nat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:85)\nat org.elasticsearch.cli.Command.main(Command.java:50)\nat org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:64)</p>\n"},{"tags":["java","json","parsing"],"answers":[{"comments":[{"owner":{"account_id":8444640,"reputation":68,"user_id":6335803,"display_name":"Habib BenAlaya"},"score":0,"creation_date":1688632005,"post_id":76623342,"comment_id":135100518,"body_markdown":"It works! thanks a lot ;)","body":"It works! thanks a lot ;)"}],"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688584163,"creation_date":1688583699,"answer_id":76623342,"question_id":76622862,"body_markdown":"Try this \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    JsonNode rootNode = mapper.readTree(jsonString);\r\n    JsonNode dataNode = rootNode.get(&quot;Data&quot;);\r\n    \r\n    List&lt;BvdCompanyInfoResponse&gt; companyInfoList = mapper.readValue(\r\n        dataNode.toString(),\r\n        new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;() {}\r\n    );\r\n\r\n\r\n","title":"Java JSON Parsing with new BVD API","body":"<p>Try this</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\nJsonNode rootNode = mapper.readTree(jsonString);\nJsonNode dataNode = rootNode.get(&quot;Data&quot;);\n\nList&lt;BvdCompanyInfoResponse&gt; companyInfoList = mapper.readValue(\n    dataNode.toString(),\n    new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;() {}\n);\n</code></pre>\n"}],"owner":{"account_id":8444640,"reputation":68,"user_id":6335803,"display_name":"Habib BenAlaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623342,"answer_count":1,"score":0,"last_activity_date":1688584163,"creation_date":1688579397,"question_id":76622862,"body_markdown":"I&#39;m using BVD API to get company informations. The new API response changed from : \r\n\r\n\r\n```\r\n[\r\n    {\r\n\t&quot;companyName&quot;: &quot;LE PRINT&quot;,\r\n\t&quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\r\n\t&quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\r\n\t&quot;postalCode&quot;: &quot;14100&quot;,\r\n\t&quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\r\n\t&quot;country&quot;: &quot;France&quot;\r\n    }\r\n]\r\n```\r\n\r\nTo: \r\n\r\n```\r\n&quot;SearchSummary&quot;: {\r\n\t&quot;TotalRecordsFound&quot;: 1,\r\n\t&quot;Offset&quot;: 0,\r\n\t&quot;RecordsReturned&quot;: 1,\r\n\t&quot;DatabaseInfo&quot;: {\r\n\t\t&quot;ReleaseNumber&quot;: &quot;338&quot;,\r\n\t\t&quot;UpdateNumber&quot;: &quot;338001&quot;,\r\n\t\t&quot;UpdateDate&quot;: &quot;2023-07-01T00:00:00&quot;,\r\n\t\t&quot;VersionNumber&quot;: &quot;129.00&quot;,\r\n\t\t&quot;IndexationDate&quot;: &quot;2023-06-26T00:00:00&quot;\r\n\t},\r\n\t&quot;Sort&quot;: null\r\n},\r\n&quot;Data&quot;: [\r\n\t{\r\n\t\t&quot;companyName&quot;: &quot;LE PRINT&quot;,\r\n\t\t&quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\r\n\t\t&quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\r\n\t\t&quot;postalCode&quot;: &quot;14100&quot;,\r\n\t\t&quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\r\n\t\t&quot;country&quot;: &quot;France&quot;\r\n}\r\n]\r\n```\r\nSo, i need to get Data from JSON. \r\n\r\nI was reading the first JSON with this :\r\n\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nList&lt;BvdCompanyInfoResponse&gt; companyList =  mapper.readValue(jsonString, new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;(){});\r\n```\r\n\r\nBvdCompanyInfoResponse class:\r\n\r\n\r\n```\r\npackage com.antalis.core.bvd;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class BvdCompanyInfoResponse {\r\n\tString companyName;\r\n\tString bvdIdNumber;\r\n\tString addressLineOne;\r\n\tString postalCode;\r\n\tString city;\r\n\tString country;\r\n\r\n\tpublic String getCompanyName() {\r\n\t\treturn companyName;\r\n\t}\r\n\r\n\tpublic void setCompanyName(String companyName) {\r\n\t\tthis.companyName = companyName;\r\n\t}\r\n\r\n\tpublic String getBvdIdNumber() {\r\n\t\treturn bvdIdNumber;\r\n\t}\r\n\r\n\tpublic void setBvdIdNumber(String bvdIdNumber) {\r\n\t\tthis.bvdIdNumber = bvdIdNumber;\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic String getAddressLineOne() {\r\n\t\treturn addressLineOne;\r\n\t}\r\n\r\n\tpublic void setAddressLineOne(String addressLineOne) {\r\n\t\tthis.addressLineOne = addressLineOne;\r\n\t}\r\n\tpublic String getPostalCode() {\r\n\t\treturn postalCode;\r\n\t}\r\n\r\n\tpublic void setPostalCode(String postalCode) {\r\n\t\tthis.postalCode = postalCode;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nHow can I get my company info with new API respone please ? Iv&#39;ve tried many solutions but with no result.\r\n\r\n\r\n\r\n\r\n\r\nI tried JSONObject, but it didn&#39;t take strings, required type is Map :\r\n\r\n\r\n```\r\nString jsonString = content.toString() ; //assign your JSON String here\r\nJSONObject obj = new JSONObject(jsonString);\r\nString dataJson = obj.getJSONObject(&quot;Data&quot;);\r\n```","title":"Java JSON Parsing with new BVD API","body":"<p>I'm using BVD API to get company informations. The new API response changed from :</p>\n<pre><code>[\n    {\n    &quot;companyName&quot;: &quot;LE PRINT&quot;,\n    &quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\n    &quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\n    &quot;postalCode&quot;: &quot;14100&quot;,\n    &quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\n    &quot;country&quot;: &quot;France&quot;\n    }\n]\n</code></pre>\n<p>To:</p>\n<pre><code>&quot;SearchSummary&quot;: {\n    &quot;TotalRecordsFound&quot;: 1,\n    &quot;Offset&quot;: 0,\n    &quot;RecordsReturned&quot;: 1,\n    &quot;DatabaseInfo&quot;: {\n        &quot;ReleaseNumber&quot;: &quot;338&quot;,\n        &quot;UpdateNumber&quot;: &quot;338001&quot;,\n        &quot;UpdateDate&quot;: &quot;2023-07-01T00:00:00&quot;,\n        &quot;VersionNumber&quot;: &quot;129.00&quot;,\n        &quot;IndexationDate&quot;: &quot;2023-06-26T00:00:00&quot;\n    },\n    &quot;Sort&quot;: null\n},\n&quot;Data&quot;: [\n    {\n        &quot;companyName&quot;: &quot;LE PRINT&quot;,\n        &quot;bvdIdNumber&quot;: &quot;FR834745630&quot;,\n        &quot;addressLineOne&quot;: &quot;2 ALLEE DU PETIT MANOIR&quot;,\n        &quot;postalCode&quot;: &quot;14100&quot;,\n        &quot;city&quot;: &quot;ST MARTIN DE LA LIEUE&quot;,\n        &quot;country&quot;: &quot;France&quot;\n}\n]\n</code></pre>\n<p>So, i need to get Data from JSON.</p>\n<p>I was reading the first JSON with this :</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\nList&lt;BvdCompanyInfoResponse&gt; companyList =  mapper.readValue(jsonString, new TypeReference&lt;List&lt;BvdCompanyInfoResponse&gt;&gt;(){});\n</code></pre>\n<p>BvdCompanyInfoResponse class:</p>\n<pre><code>package com.antalis.core.bvd;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class BvdCompanyInfoResponse {\n    String companyName;\n    String bvdIdNumber;\n    String addressLineOne;\n    String postalCode;\n    String city;\n    String country;\n\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    public String getBvdIdNumber() {\n        return bvdIdNumber;\n    }\n\n    public void setBvdIdNumber(String bvdIdNumber) {\n        this.bvdIdNumber = bvdIdNumber;\n    }\n\n    \n\n    public String getAddressLineOne() {\n        return addressLineOne;\n    }\n\n    public void setAddressLineOne(String addressLineOne) {\n        this.addressLineOne = addressLineOne;\n    }\n    public String getPostalCode() {\n        return postalCode;\n    }\n\n    public void setPostalCode(String postalCode) {\n        this.postalCode = postalCode;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n    \n    \n}\n\n</code></pre>\n<p>How can I get my company info with new API respone please ? Iv've tried many solutions but with no result.</p>\n<p>I tried JSONObject, but it didn't take strings, required type is Map :</p>\n<pre><code>String jsonString = content.toString() ; //assign your JSON String here\nJSONObject obj = new JSONObject(jsonString);\nString dataJson = obj.getJSONObject(&quot;Data&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","mockito"],"answers":[{"comments":[{"owner":{"account_id":13719720,"reputation":61,"user_id":9899984,"display_name":"sokoler"},"score":0,"creation_date":1550151195,"post_id":54691553,"comment_id":96170706,"body_markdown":"I tried and it shows &quot; Cannot resolve method &#39;thenReturn(java.util.Optional&lt;T&gt;) &quot;","body":"I tried and it shows &quot; Cannot resolve method &#39;thenReturn(java.util.Optional&lt;T&gt;) &quot;"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1550151384,"post_id":54691553,"comment_id":96170827,"body_markdown":"Could you try replacing `workItemRepository.findById(1L).orElse(null)` with just `workItemRepository.findById(1L)` ?","body":"Could you try replacing <code>workItemRepository.findById(1L).orElse(null)</code> with just <code>workItemRepository.findById(1L)</code> ?"},{"owner":{"account_id":13719720,"reputation":61,"user_id":9899984,"display_name":"sokoler"},"score":0,"creation_date":1550151810,"post_id":54691553,"comment_id":96171084,"body_markdown":"It compiles but then Null pointer comes out  in this line &quot;WorkItem workItem2 = workItemsController.getWorkItemById(1L); &quot; Should i change my service and controller method to return Optional&lt;WorkItem&gt; instead of WorkItem ?","body":"It compiles but then Null pointer comes out  in this line &quot;WorkItem workItem2 = workItemsController.getWorkItemById(1L); &quot; Should i change my service and controller method to return Optional&lt;WorkItem&gt; instead of WorkItem ?"}],"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550150842,"creation_date":1550150842,"answer_id":54691553,"question_id":54691476,"body_markdown":"As the error states, you are not returning what the method signature declares as a return type (which is `Optional&lt;WorkItem&gt;`)\r\n\r\nJust return \r\n\r\n    Optional.of(workitem) \r\n\r\ninstead of `workItem`, i.e :\r\n\r\n    when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>As the error states, you are not returning what the method signature declares as a return type (which is <code>Optional&lt;WorkItem&gt;</code>)</p>\n\n<p>Just return </p>\n\n<pre><code>Optional.of(workitem) \n</code></pre>\n\n<p>instead of <code>workItem</code>, i.e :</p>\n\n<pre><code>when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490105,"reputation":7,"user_id":2920017,"display_name":"Mathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550158278,"creation_date":1550158278,"answer_id":54693909,"question_id":54691476,"body_markdown":"I see in comments that you tried this :\r\n```\r\nwhen(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\r\n```\r\n\r\nIt should be working.\r\nI think the problem is comming from your &#39;orElse&#39; call.\r\n\r\nTo be precise, here is the method when :\r\n```\r\npublic static &lt;T&gt; OngoingStubbing&lt;T&gt; when(T methodCall) {\r\n        return MOCKITO_CORE.when(methodCall);\r\n    }\r\n```\r\nSo i think that using &#39;orElse&#39; prevent &#39;T&#39; from being inferred.\r\n\r\nAnd my question is why using &#39;orElse&#39; ?\r\nYou&#39;re stubbing the method.\r\n\r\nYou can use &#39;anyString&#39; to match any parameter.\r\n\r\nCheers","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>I see in comments that you tried this :</p>\n\n<pre><code>when(workItemRepository.findById(1L).orElse(null)).thenReturn(Optional.of(workitem));\n</code></pre>\n\n<p>It should be working.\nI think the problem is comming from your 'orElse' call.</p>\n\n<p>To be precise, here is the method when :</p>\n\n<pre><code>public static &lt;T&gt; OngoingStubbing&lt;T&gt; when(T methodCall) {\n        return MOCKITO_CORE.when(methodCall);\n    }\n</code></pre>\n\n<p>So i think that using 'orElse' prevent 'T' from being inferred.</p>\n\n<p>And my question is why using 'orElse' ?\nYou're stubbing the method.</p>\n\n<p>You can use 'anyString' to match any parameter.</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":11107368,"reputation":1,"user_id":8154178,"display_name":"celso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667316487,"creation_date":1667316446,"answer_id":74278183,"question_id":54691476,"body_markdown":"Try this:\r\n\r\n    when(workItemRepository.findById(1L)).thenReturn(Optional.of(Optional.of(workitem).get()));\r\n\r\nIt woked for me","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>Try this:</p>\n<pre><code>when(workItemRepository.findById(1L)).thenReturn(Optional.of(Optional.of(workitem).get()));\n</code></pre>\n<p>It woked for me</p>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688583107,"creation_date":1688583107,"answer_id":76623269,"question_id":54691476,"body_markdown":"```orElse()``` method is not part of **JPA**, but it  is method of ```Optional&lt;T&gt;``` class as seen from the [doc.][1].\r\n\r\nTo make this clear let&#39;s change the following code from the service method\r\n\r\n```\r\n    return this.workItemRepository.findById(id)\r\n    .orElseThrow(() -&gt; new \r\n    ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n```\r\n\r\nto\r\n\r\n```\r\n    Optional&lt;WorkItem&gt; workItem = this.workItemRepository.findById(id);\r\n\r\n    return workItem.orElseThrow(() -&gt; new \r\n             ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n```\r\nSo that means ``orElse`` method doesn&#39;t has to include in the repository method call. Since the ``orElseThrow`` method invoked on the Optional workItem, it creates two conditional paths. So for that it needs two test case, test case for exist work item and test case for doesn&#39;t exist work item.\r\n\r\n**Test Case One**\r\n\r\n```\r\n  public void testGetWorkItemById_whenWorkItemDoesExist_returnWorkItem() {\r\n        ...\r\n        when(workItemRepository.findById(1L)).thenReturn(Optional.of(workItem));\r\n        ...\r\n        assertEquals(1L, workItem2.getId().longValue());\r\n    }\r\n```\r\n\r\n**Test Case Two**\r\n\r\n```\r\n   @Test\r\n    public void testGetWorkItemById_whenWorkItemDoesNotExist_returnNull() {\r\n        ...\r\n        when(workItemRepository.findById(1L)).thenReturn(Optional.empty());\r\n        ...\r\n        assertEquals(null, workItem2);\r\n    }\r\n```\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p><code>orElse()</code> method is not part of <strong>JPA</strong>, but it  is method of <code>Optional&lt;T&gt;</code> class as seen from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">doc.</a>.</p>\n<p>To make this clear let's change the following code from the service method</p>\n<pre><code>    return this.workItemRepository.findById(id)\n    .orElseThrow(() -&gt; new \n    ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\n</code></pre>\n<p>to</p>\n<pre><code>    Optional&lt;WorkItem&gt; workItem = this.workItemRepository.findById(id);\n\n    return workItem.orElseThrow(() -&gt; new \n             ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\n</code></pre>\n<p>So that means <code>orElse</code> method doesn't has to include in the repository method call. Since the <code>orElseThrow</code> method invoked on the Optional workItem, it creates two conditional paths. So for that it needs two test case, test case for exist work item and test case for doesn't exist work item.</p>\n<p><strong>Test Case One</strong></p>\n<pre><code>  public void testGetWorkItemById_whenWorkItemDoesExist_returnWorkItem() {\n        ...\n        when(workItemRepository.findById(1L)).thenReturn(Optional.of(workItem));\n        ...\n        assertEquals(1L, workItem2.getId().longValue());\n    }\n</code></pre>\n<p><strong>Test Case Two</strong></p>\n<pre><code>   @Test\n    public void testGetWorkItemById_whenWorkItemDoesNotExist_returnNull() {\n        ...\n        when(workItemRepository.findById(1L)).thenReturn(Optional.empty());\n        ...\n        assertEquals(null, workItem2);\n    }\n</code></pre>\n"}],"owner":{"account_id":13719720,"reputation":61,"user_id":9899984,"display_name":"sokoler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1688583107,"creation_date":1550150584,"question_id":54691476,"body_markdown":"I am trying to do tests for my Spring boot application, and I&#39;ve got a big problem. This is how my error looks like:\r\n```none\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nWorkItem cannot be returned by findById()\r\nfindById() should return Optional\r\n```         \r\nI was following tutorials and everyone is using `findOne()`, but for me it just doesn&#39;t work. My IDE shows:\r\n\r\n&gt; &quot; Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.java.workitemservice.model.WorkItem&quot;\r\n\r\nThat&#39;s why I tried it the other way and used `findById()`, but then I got another error.\r\n\r\n    { \r\n        @RunWith(SpringRunner.class)  \r\n        @SpringBootTest  \r\n        public class WorkitemServiceApplicationTests {  \r\n        \r\n        @Mock  \r\n        private WorkItemRepository workItemRepository;\r\n        \r\n        @InjectMocks\r\n                 WorkItemsController workItemsController;\r\n        \r\n        @Before\r\n        public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n        }\r\n       \r\n        @Test\r\n        public void testGetUserById() {\r\n        WorkItem workItem = new WorkItem();\r\n        workItem.setId(1L);\r\n        \r\n        //old version\r\n        //when(workItemRepository.findOne(1L)).thenReturn(workItem);\r\n        when(workItemRepository.findById(1L).orElse(null)).thenReturn(workItem);\r\n        \r\n        WorkItem workItem2 = workItemsController.getWorkItemById(1L);\r\n        \r\n        verify(workItemRepository).findById(1L).orElse(null);\r\n        \r\n        assertEquals(1L, workItem2.getId().longValue());\r\n        }\r\n    }\r\n        \r\nMy Repository :        \r\n        \r\n        @Repository\r\n        public interface WorkItemRepository extends JpaRepository&lt;WorkItem, \r\n        Long&gt; {\r\n        \r\n        Optional &lt;WorkItem&gt; findWorkItemBySubject(String subject);\r\n        }\r\n\r\nMy service method:    \r\n        \r\n        public WorkItem getWorkItemById(Long id) {\r\n        return this.workItemRepository.findById(id)\r\n        .orElseThrow(() -&gt; new \r\n        ResourceNotFoundException(&quot;WorkItem&quot;, &quot;id&quot;, id));\r\n        }\r\n \r\n My Controller method :\r\n \r\n        @GetMapping(&quot;/workItems/{id}&quot;)\r\n        public WorkItem getWorkItemById(@PathVariable(value = &quot;id&quot;) Long \r\n        workItemId) {\r\n        \r\n        return this.workItemService.getWorkItemById(workItemId);\r\n        }\r\n    }","title":"WrongTypeOfReturnValue: &quot;Object&quot; cannot be returned by findById()","body":"<p>I am trying to do tests for my Spring boot application, and I've got a big problem. This is how my error looks like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nWorkItem cannot be returned by findById()\nfindById() should return Optional\n</code></pre>\n\n<p>I was following tutorials and everyone is using <code>findOne()</code>, but for me it just doesn't work. My IDE shows:</p>\n\n<blockquote>\n  <p>\" Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'com.java.workitemservice.model.WorkItem\"</p>\n</blockquote>\n\n<p>That's why I tried it the other way and used <code>findById()</code>, but then I got another error.</p>\n\n<pre><code>{ \n    @RunWith(SpringRunner.class)  \n    @SpringBootTest  \n    public class WorkitemServiceApplicationTests {  \n\n    @Mock  \n    private WorkItemRepository workItemRepository;\n\n    @InjectMocks\n             WorkItemsController workItemsController;\n\n    @Before\n    public void init() {\n    MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testGetUserById() {\n    WorkItem workItem = new WorkItem();\n    workItem.setId(1L);\n\n    //old version\n    //when(workItemRepository.findOne(1L)).thenReturn(workItem);\n    when(workItemRepository.findById(1L).orElse(null)).thenReturn(workItem);\n\n    WorkItem workItem2 = workItemsController.getWorkItemById(1L);\n\n    verify(workItemRepository).findById(1L).orElse(null);\n\n    assertEquals(1L, workItem2.getId().longValue());\n    }\n}\n</code></pre>\n\n<p>My Repository :        </p>\n\n<pre><code>    @Repository\n    public interface WorkItemRepository extends JpaRepository&lt;WorkItem, \n    Long&gt; {\n\n    Optional &lt;WorkItem&gt; findWorkItemBySubject(String subject);\n    }\n</code></pre>\n\n<p>My service method:    </p>\n\n<pre><code>    public WorkItem getWorkItemById(Long id) {\n    return this.workItemRepository.findById(id)\n    .orElseThrow(() -&gt; new \n    ResourceNotFoundException(\"WorkItem\", \"id\", id));\n    }\n</code></pre>\n\n<p>My Controller method :</p>\n\n<pre><code>    @GetMapping(\"/workItems/{id}\")\n    public WorkItem getWorkItemById(@PathVariable(value = \"id\") Long \n    workItemId) {\n\n    return this.workItemService.getWorkItemById(workItemId);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1688580906,"post_id":76622580,"comment_id":135094143,"body_markdown":"&quot;I know it is not the correct way to do this&quot; Why not? What&#39;s the problem with how you do it now, given that it seems to work?","body":"&quot;I know it is not the correct way to do this&quot; Why not? What&#39;s the problem with how you do it now, given that it seems to work?"},{"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"score":0,"creation_date":1688582800,"post_id":76622580,"comment_id":135094512,"body_markdown":"Just trying to follow convention. This is my solution for the problem. I have now made the utility class more generic by changing the types of the parameters but it just feels like it might not be the best or proper way to do this. I might be wrong though and wanted to ask the coding wizards of StackOverflow in case better ways of doing this exist.","body":"Just trying to follow convention. This is my solution for the problem. I have now made the utility class more generic by changing the types of the parameters but it just feels like it might not be the best or proper way to do this. I might be wrong though and wanted to ask the coding wizards of StackOverflow in case better ways of doing this exist."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688625201,"post_id":76622580,"comment_id":135099147,"body_markdown":"&quot;it just feels like it might not be the best or proper way&quot; Why would think that? Besides that, what is wrong with your code that needs to be improved? What needs to be added, however, is to handle exceptions.","body":"&quot;it just feels like it might not be the best or proper way&quot; Why would think that? Besides that, what is wrong with your code that needs to be improved? What needs to be added, however, is to handle exceptions."},{"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"score":0,"creation_date":1688670855,"post_id":76622580,"comment_id":135108769,"body_markdown":"I think I have improved it now and am more happy with it. What I meant was it felt tightly coupled the way I had done it however I have made the parameters more generic and therefore the utility class feels more loosely coupled and more reusable like it should it do. Yeah you are right about the exception handling which is in place now. Thanks","body":"I think I have improved it now and am more happy with it. What I meant was it felt tightly coupled the way I had done it however I have made the parameters more generic and therefore the utility class feels more loosely coupled and more reusable like it should it do. Yeah you are right about the exception handling which is in place now. Thanks"}],"owner":{"account_id":28957260,"reputation":1,"user_id":22180552,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688582563,"creation_date":1688576968,"question_id":76622580,"body_markdown":"I need to display items in a RecyclerView. I am using FirestoreRecyclerOptions to pass the data to the FirestoreRecyclerAdapter. However part of the data required are images that are stored in Firebase storage separately from the database documents. I have the images downloading and they are being set in the FirestoreRecyclerAdapter holder however I know it is not the correct way to do this. Any help with the correct way to do this would be appreciated.\r\n\r\nCurrent onBindViewHolder in the FirestoreRecyclerAdapter that implements an interface for callback.\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull MyListHolder holder, int position, @NonNull     TodoItem model) {\r\n        // Get the &#39;to do&#39; image from storage using the stored image reference from document.\r\n        StorageReference imageReference = storageRef.child(model.getImageReference());\r\n        ImageTransfer.imageDownload(this, holder, imageReference);\r\n    \r\n        holder.description.setText(model.getDescription());\r\n    \r\n        if (model.getMarkedDone().equals(&quot;true&quot;)) {\r\n            holder.markedDone.setImageResource(R.drawable.mark_done_icon);\r\n        }\r\n        else {\r\n            holder.markedDone.setImageResource(R.drawable.mark_not_done_icon);\r\n        }\r\n    \r\n    }\r\n\r\nCurrent utility method to download the image and use a callback to the FirestoreRecyclerAdapter to set the image downloaded in the holder when it is finished downloading. I feel like the holder and reference to the FirestoreRecyclerAdapter should not be passed outside of the FirestoreRecyclerAdapter?\r\n\r\n    static public void imageDownload(FirestoreRecyclerAdapter&lt;?, ?&gt; firestoreRecyclerAdapter, RecyclerView.ViewHolder holder, StorageReference imageStorageRef) {\r\n        final long ONE_MEGABYTE = 1024 \\* 1024;\r\n        imageStorageRef.getBytes(ONE_MEGABYTE).addOnSuccessListener(new OnSuccessListener\\&lt;byte\\[\\]\\&gt;() {\r\n            @Override\r\n            public void onSuccess(byte\\[\\] bytes) {\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                ((DownloadCompleteCallback) firestoreRecyclerAdapter).downloadComplete(bitmap, holder);\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception exception) {\r\n    \r\n            }\r\n        });\r\n    \r\n    }","title":"Correct way to download image and update ViewHolder","body":"<p>I need to display items in a RecyclerView. I am using FirestoreRecyclerOptions to pass the data to the FirestoreRecyclerAdapter. However part of the data required are images that are stored in Firebase storage separately from the database documents. I have the images downloading and they are being set in the FirestoreRecyclerAdapter holder however I know it is not the correct way to do this. Any help with the correct way to do this would be appreciated.</p>\n<p>Current onBindViewHolder in the FirestoreRecyclerAdapter that implements an interface for callback.</p>\n<pre><code>@Override\nprotected void onBindViewHolder(@NonNull MyListHolder holder, int position, @NonNull     TodoItem model) {\n    // Get the 'to do' image from storage using the stored image reference from document.\n    StorageReference imageReference = storageRef.child(model.getImageReference());\n    ImageTransfer.imageDownload(this, holder, imageReference);\n\n    holder.description.setText(model.getDescription());\n\n    if (model.getMarkedDone().equals(&quot;true&quot;)) {\n        holder.markedDone.setImageResource(R.drawable.mark_done_icon);\n    }\n    else {\n        holder.markedDone.setImageResource(R.drawable.mark_not_done_icon);\n    }\n\n}\n</code></pre>\n<p>Current utility method to download the image and use a callback to the FirestoreRecyclerAdapter to set the image downloaded in the holder when it is finished downloading. I feel like the holder and reference to the FirestoreRecyclerAdapter should not be passed outside of the FirestoreRecyclerAdapter?</p>\n<pre><code>static public void imageDownload(FirestoreRecyclerAdapter&lt;?, ?&gt; firestoreRecyclerAdapter, RecyclerView.ViewHolder holder, StorageReference imageStorageRef) {\n    final long ONE_MEGABYTE = 1024 \\* 1024;\n    imageStorageRef.getBytes(ONE_MEGABYTE).addOnSuccessListener(new OnSuccessListener\\&lt;byte\\[\\]\\&gt;() {\n        @Override\n        public void onSuccess(byte\\[\\] bytes) {\n            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n            ((DownloadCompleteCallback) firestoreRecyclerAdapter).downloadComplete(bitmap, holder);\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","karate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688640635,"post_id":76621736,"comment_id":135102422,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688582302,"creation_date":1688582302,"answer_id":76623179,"question_id":76621736,"body_markdown":"Karate is a replacement for Wiremock. Start by reading the docs: https://karatelabs.github.io/karate/karate-netty/","title":"How to mock APIs using karate","body":"<p>Karate is a replacement for Wiremock. Start by reading the docs: <a href=\"https://karatelabs.github.io/karate/karate-netty/\" rel=\"nofollow noreferrer\">https://karatelabs.github.io/karate/karate-netty/</a></p>\n"}],"owner":{"account_id":28956671,"reputation":11,"user_id":22180077,"display_name":"Bachar Daoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688582302,"creation_date":1688570093,"question_id":76621736,"body_markdown":"Using karate I am realizing a real api request. How to mock these APIs that I am not using my real database? is using wiremock will resolve the problem or does karate have a way to mock the requests? \r\n\r\nJust I want to write an integration test using karate but I want to use a mocked APIs. I tried karate and heard about wiremock. \r\nWhat is your advise?","title":"How to mock APIs using karate","body":"<p>Using karate I am realizing a real api request. How to mock these APIs that I am not using my real database? is using wiremock will resolve the problem or does karate have a way to mock the requests?</p>\n<p>Just I want to write an integration test using karate but I want to use a mocked APIs. I tried karate and heard about wiremock.\nWhat is your advise?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","smtp","amazon-ecs"],"answers":[{"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1688939773,"post_id":76623152,"comment_id":135138301,"body_markdown":"At the end you have &quot;[1]&quot; - is there supposed to be a link there?","body":"At the end you have &quot;[1]&quot; - is there supposed to be a link there?"}],"tags":[],"owner":{"account_id":28957847,"reputation":1,"user_id":22181026,"display_name":"solifidom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688582038,"creation_date":1688582038,"answer_id":76623152,"question_id":57078659,"body_markdown":"A response I got from AWS.\r\n\r\n\r\nIn response to your last correspondence, I understand that you you want to remove the restriction on port 25 from your ECS cluster. The internal team have looked into your query and found that currently Fargate infrastructure doesn&#39;t support Port# 25 (SMTP); and the existing workaround is to use EC2 launch type and then request for the Port #25 throttling to be removed in your account [1].\r\n","title":"Fargate: Sending email to private smtp server on port 25","body":"<p>A response I got from AWS.</p>\n<p>In response to your last correspondence, I understand that you you want to remove the restriction on port 25 from your ECS cluster. The internal team have looked into your query and found that currently Fargate infrastructure doesn't support Port# 25 (SMTP); and the existing workaround is to use EC2 launch type and then request for the Port #25 throttling to be removed in your account [1].</p>\n"}],"owner":{"account_id":8116336,"reputation":11,"user_id":6114718,"display_name":"tdk422n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688582038,"creation_date":1563374968,"question_id":57078659,"body_markdown":"I&#39;m using AWS Fargate as my container platform.  My container base image is openjdk:8-alpine and the application is a spring-boot app.  I&#39;m attempting to use JavaMailSender to send emails over a vpn tunnel to our internal SMTP server on port 25.  This works while testing the container locally, using the same SMTP server.\r\n\r\n\r\nI&#39;ve mainly used this guide https://www.baeldung.com/spring-email for the email functionality in my spring boot app.\r\n\r\nIf I add the following commands to the docker entrypoint I test hostname resolving and telnet connection.  The host and dig commands always work.  Sometimes telnet works and other times it will timeout, causing a re-deployment of the container.  When sending emails I see the same behavior.  Some emails will send while others fail due to a timeout connecting to the SMTP server.\r\n\r\n\r\n\r\n```docker\r\n## Dockerfile\r\n\r\nFROM openjdk:8-alpine\r\n\r\nCOPY core/target/app.jar /app/app.jar\r\n\r\nWORKDIR /app\r\n\r\nCMD CMD host $my_smtp_server \\\r\n       &amp;&amp; dig $my_smtp_server \\\r\n       &amp;&amp; telnet $my_smtp_server 25 \\\r\n       &amp;&amp; java -jar $app.jar\r\n\r\nEXPOSE 8080 25\r\n\r\n```\r\n\r\n```java\r\n## application.properties\r\n\r\n# Mail config\r\n#------------\r\nspring.mail.default-encoding=UTF-8\r\nspring.mail.host=$my_smtp_server\r\nspring.mail.port=25\r\nspring.mail.protocol=smtp\r\n\r\nspring.mail.properties.mail.smtp.starttls.enable=false\r\nspring.mail.properties.mail.smtp.starttls.required=false\r\nspring.mail.properties.mail.smtp.auth=false\r\nspring.mail.properties.mail.smtp.connectiontimeout=5000\r\nspring.mail.properties.mail.smtp.timeout=5000\r\nspring.mail.properties.mail.smtp.writetimeout=5000\r\n#------------\r\n```\r\n\r\nEmails should send every time I invoke the function in my application.","title":"Fargate: Sending email to private smtp server on port 25","body":"<p>I'm using AWS Fargate as my container platform.  My container base image is openjdk:8-alpine and the application is a spring-boot app.  I'm attempting to use JavaMailSender to send emails over a vpn tunnel to our internal SMTP server on port 25.  This works while testing the container locally, using the same SMTP server.</p>\n\n<p>I've mainly used this guide <a href=\"https://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-email</a> for the email functionality in my spring boot app.</p>\n\n<p>If I add the following commands to the docker entrypoint I test hostname resolving and telnet connection.  The host and dig commands always work.  Sometimes telnet works and other times it will timeout, causing a re-deployment of the container.  When sending emails I see the same behavior.  Some emails will send while others fail due to a timeout connecting to the SMTP server.</p>\n\n<pre><code>## Dockerfile\n\nFROM openjdk:8-alpine\n\nCOPY core/target/app.jar /app/app.jar\n\nWORKDIR /app\n\nCMD CMD host $my_smtp_server \\\n       &amp;&amp; dig $my_smtp_server \\\n       &amp;&amp; telnet $my_smtp_server 25 \\\n       &amp;&amp; java -jar $app.jar\n\nEXPOSE 8080 25\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>## application.properties\n\n# Mail config\n#------------\nspring.mail.default-encoding=UTF-8\nspring.mail.host=$my_smtp_server\nspring.mail.port=25\nspring.mail.protocol=smtp\n\nspring.mail.properties.mail.smtp.starttls.enable=false\nspring.mail.properties.mail.smtp.starttls.required=false\nspring.mail.properties.mail.smtp.auth=false\nspring.mail.properties.mail.smtp.connectiontimeout=5000\nspring.mail.properties.mail.smtp.timeout=5000\nspring.mail.properties.mail.smtp.writetimeout=5000\n#------------\n</code></pre>\n\n<p>Emails should send every time I invoke the function in my application.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688579916,"post_id":76622649,"comment_id":135093947,"body_markdown":"Show us the controller class with all annotations.","body":"Show us the controller class with all annotations."},{"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"score":0,"creation_date":1688581685,"post_id":76622649,"comment_id":135094271,"body_markdown":"@Mar-Z added the complete controller class","body":"@Mar-Z added the complete controller class"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688582510,"post_id":76622649,"comment_id":135094450,"body_markdown":"It looks good. This should work with proper dependencies including Jackson JSON library.","body":"It looks good. This should work with proper dependencies including Jackson JSON library."}],"answers":[{"tags":[],"owner":{"account_id":10076508,"reputation":487,"user_id":7448439,"display_name":"srinivas chaitanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688579674,"creation_date":1688579674,"answer_id":76622897,"question_id":76622649,"body_markdown":"I also faced a similar issue in the past. In my case problem was with `lombok`. I forgot to add `annotationProcessor` dependency along with `lombok`. Make sure to add appropriate dependency of `lombok` and `annotationProcessor`.[This][1] post might help you in adding right dependencies\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16","title":"Unable to bind values from JSON to Entity object in spring JPA","body":"<p>I also faced a similar issue in the past. In my case problem was with <code>lombok</code>. I forgot to add <code>annotationProcessor</code> dependency along with <code>lombok</code>. Make sure to add appropriate dependency of <code>lombok</code> and <code>annotationProcessor</code>.<a href=\"https://stackoverflow.com/questions/65380359/lomboks-access-to-jdk-compilers-internal-packages-incompatible-with-java-16\">This</a> post might help you in adding right dependencies</p>\n"}],"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688581649,"creation_date":1688577524,"question_id":76622649,"body_markdown":"I have a very simple application where I get `POST` request and save the JSON request to database.Here is my `Entity` object\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;PRODUCT_TBL&quot;)\r\n    @Entity\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        private String name;\r\n        private int quantity;\r\n        private  double price;\r\n    }\r\nHere is my controller \r\n\r\n    @RestController\r\n    public class ProductController {\r\n        @Autowired\r\n        ProductService productService;\r\n        @PostMapping(value = &quot;/save&quot;,consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        public Product saveProduct(@RequestBody Product product){\r\n            System.out.println(product);//check whether properties are binded properly\r\n            return productService.saveProduct(product);\r\n        }\r\n    }\r\n\r\nHere is my sample post request\r\n\r\n    {\r\n     \r\n      &quot;name&quot;:&quot;moto&quot;,\r\n      &quot;quantity&quot;:5,\r\n      &quot;price&quot;:50.00\r\n    }\r\n\r\nBut whenever I am seeing the logs, they are binding to default values\r\n\r\n&gt; Product{name=&#39;null&#39;, quantity=0, price=0.0}\r\n\r\n","title":"Unable to bind values from JSON to Entity object in spring JPA","body":"<p>I have a very simple application where I get <code>POST</code> request and save the JSON request to database.Here is my <code>Entity</code> object</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;PRODUCT_TBL&quot;)\n@Entity\npublic class Product {\n    @Id\n    @GeneratedValue\n    private long id;\n    private String name;\n    private int quantity;\n    private  double price;\n}\n</code></pre>\n<p>Here is my controller</p>\n<pre><code>@RestController\npublic class ProductController {\n    @Autowired\n    ProductService productService;\n    @PostMapping(value = &quot;/save&quot;,consumes = MediaType.APPLICATION_JSON_VALUE)\n    public Product saveProduct(@RequestBody Product product){\n        System.out.println(product);//check whether properties are binded properly\n        return productService.saveProduct(product);\n    }\n}\n</code></pre>\n<p>Here is my sample post request</p>\n<pre><code>{\n \n  &quot;name&quot;:&quot;moto&quot;,\n  &quot;quantity&quot;:5,\n  &quot;price&quot;:50.00\n}\n</code></pre>\n<p>But whenever I am seeing the logs, they are binding to default values</p>\n<blockquote>\n<p>Product{name='null', quantity=0, price=0.0}</p>\n</blockquote>\n"},{"tags":["java","spring-boot","asynchronous","java-8"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1688626107,"post_id":76623031,"comment_id":135099306,"body_markdown":"Not clear. `entity` is returned by `persistLogin` and needed in return from `Login`...","body":"Not clear. <code>entity</code> is returned by <code>persistLogin</code> and needed in return from <code>Login</code>..."}],"answers":[{"tags":[],"owner":{"account_id":6528327,"reputation":84,"user_id":5050346,"display_name":"Chris Ebert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688581594,"creation_date":1688581594,"answer_id":76623097,"question_id":76623031,"body_markdown":"You can use an [executorService][1] and submit the persistence call as a lambda... it sounds like you mostly want to ignore the result (and assume it just worked).\r\nA more robust solution would be to enqueue a message for subsequent processing. This would require a message handling system... [Kafka][2], [message queue][3], something, that you could submit messages to and register handlers for... but it would make the semantics for failed calls clear and straightforward to handle.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://kafka.apache.org/\r\n  [3]: https://www.oracle.com/technical-resources/articles/java/intro-java-message-service.html","title":"How to call a method inside another method Asynchronously in java","body":"<p>You can use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executorService</a> and submit the persistence call as a lambda... it sounds like you mostly want to ignore the result (and assume it just worked).\nA more robust solution would be to enqueue a message for subsequent processing. This would require a message handling system... <a href=\"https://kafka.apache.org/\" rel=\"nofollow noreferrer\">Kafka</a>, <a href=\"https://www.oracle.com/technical-resources/articles/java/intro-java-message-service.html\" rel=\"nofollow noreferrer\">message queue</a>, something, that you could submit messages to and register handlers for... but it would make the semantics for failed calls clear and straightforward to handle.</p>\n"}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688581594,"creation_date":1688580884,"question_id":76623031,"body_markdown":"I have a &quot;persistLogin&quot; method call inside a &quot;login&quot; method but I&#39;d like to get the response of the login method before the &quot;persistLogin&quot; method call executes. My question is:\r\nHOW DO I CALL THE &quot;PERSITLOGIN&quot; METHOD AFTER THE &quot;LOGIN&quot; METHOD? Thank you.\r\n\r\nNB: persitLogin method persists a user after they have already loggedin.\r\nLogin method: does validations and actually logs in a customer.\r\npersistLogin method in inside login method.\r\n\r\nThe code is below:\r\n\r\n    public LoginEventResponse Login(EventV2&lt;LoginEventDetails&gt; event) {\r\n        CustomerV2 customerV2 = null;\r\n        if (customerV2 == null)  {\r\n            throw new ApiException(&quot;Customer with federated id : &quot; + event.getFederatedId() + &quot; not found&quot;);\r\n        }\r\n\r\n        ***EventEntity entity = eventPersistenceService.persistLogin(customerV2, event);***\r\n        return eventMapper.mapToLoginEventResponseV2(entity, customerV2);\r\n    }","title":"How to call a method inside another method Asynchronously in java","body":"<p>I have a &quot;persistLogin&quot; method call inside a &quot;login&quot; method but I'd like to get the response of the login method before the &quot;persistLogin&quot; method call executes. My question is:\nHOW DO I CALL THE &quot;PERSITLOGIN&quot; METHOD AFTER THE &quot;LOGIN&quot; METHOD? Thank you.</p>\n<p>NB: persitLogin method persists a user after they have already loggedin.\nLogin method: does validations and actually logs in a customer.\npersistLogin method in inside login method.</p>\n<p>The code is below:</p>\n<pre><code>public LoginEventResponse Login(EventV2&lt;LoginEventDetails&gt; event) {\n    CustomerV2 customerV2 = null;\n    if (customerV2 == null)  {\n        throw new ApiException(&quot;Customer with federated id : &quot; + event.getFederatedId() + &quot; not found&quot;);\n    }\n\n    ***EventEntity entity = eventPersistenceService.persistLogin(customerV2, event);***\n    return eventMapper.mapToLoginEventResponseV2(entity, customerV2);\n}\n</code></pre>\n"},{"tags":["java","android","realm","parcelable"],"comments":[{"owner":{"account_id":353467,"reputation":383,"user_id":691168,"display_name":"Orgmir"},"score":0,"creation_date":1417451022,"post_id":27231259,"comment_id":42942041,"body_markdown":"Why are you trying to use Parcelable objects and Realm?","body":"Why are you trying to use Parcelable objects and Realm?"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":1,"creation_date":1417451598,"post_id":27231259,"comment_id":42942364,"body_markdown":"Well, I use Pareclable to preserve objects upon configuration changes (device rotations), and Realm to store objects onto a db","body":"Well, I use Pareclable to preserve objects upon configuration changes (device rotations), and Realm to store objects onto a db"},{"owner":{"account_id":873009,"reputation":3380,"user_id":923441,"accept_rate":63,"display_name":"A. Steenbergen"},"score":1,"creation_date":1521621542,"post_id":27231259,"comment_id":85804285,"body_markdown":"Wouldn&#39;t it make more sense to just requery the database after a configuration change? This might even be faster, considering you are using RealmDB which comes with caching mechanisms.","body":"Wouldn&#39;t it make more sense to just requery the database after a configuration change? This might even be faster, considering you are using RealmDB which comes with caching mechanisms."}],"answers":[{"tags":[],"owner":{"account_id":1253566,"reputation":1651,"user_id":1213485,"display_name":"Emanuelez"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1417599246,"creation_date":1417599246,"answer_id":27268065,"question_id":27231259,"body_markdown":"It&#39;s not possible at the moment to implement Parcelable on RealmObjects.\r\nOne solution is to Use two realm files: the default one as your object store and a specialized one for temporary saves for rotations etc. ","title":"RealmObject AND Parcelable","body":"<p>It's not possible at the moment to implement Parcelable on RealmObjects.\nOne solution is to Use two realm files: the default one as your object store and a specialized one for temporary saves for rotations etc. </p>\n"},{"tags":[],"owner":{"account_id":236846,"reputation":10241,"user_id":504611,"accept_rate":88,"display_name":"Vicky Chijwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1464355688,"creation_date":1429387514,"answer_id":29722198,"question_id":27231259,"body_markdown":"**UPDATE May 2016:** This is answer is now out-dated unless you already use Parceler. @Henrique de Sousa&#39;s solution is much better.\n\n* * * *\n\nActually, there is a workaround. You can get the result you want if you&#39;re willing to use a third-party library (Parceler) for `Parcelable` generation. See [my answer to this other question](https://stackoverflow.com/a/29689104/504611), quoted below for convenience.\n\n&gt; With [Parceler v0.2.16](https://github.com/johncarl81/parceler/issues/57#issuecomment-70130449), you can do this:\n&gt;\n&gt; &lt;!-- language: java --&gt;\n&gt;\n&gt;     @RealmClass      // required if using JDK 1.6 (unrelated to Parceler issue)\n&gt;     @Parcel(value = Parcel.Serialization.BEAN, analyze = { Feed.class })\n&gt;     public class Feed extends RealmObject {\n&gt;         // ...\n&gt;     }\n&gt;\n&gt; Then, use `Parcels.wrap(Feed.class, feed)` instead of `Parcels.wrap(feed)` everywhere, otherwise your app will crash with `org.parceler.ParcelerRuntimeException: Unable to create ParcelableFactory for io.realm.FeedRealmProxy`.","title":"RealmObject AND Parcelable","body":"<p><strong>UPDATE May 2016:</strong> This is answer is now out-dated unless you already use Parceler. @Henrique de Sousa's solution is much better.</p>\n<hr />\n<p>Actually, there is a workaround. You can get the result you want if you're willing to use a third-party library (Parceler) for <code>Parcelable</code> generation. See <a href=\"https://stackoverflow.com/a/29689104/504611\">my answer to this other question</a>, quoted below for convenience.</p>\n<blockquote>\n<p>With <a href=\"https://github.com/johncarl81/parceler/issues/57#issuecomment-70130449\" rel=\"nofollow noreferrer\">Parceler v0.2.16</a>, you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RealmClass      // required if using JDK 1.6 (unrelated to Parceler issue)\n@Parcel(value = Parcel.Serialization.BEAN, analyze = { Feed.class })\npublic class Feed extends RealmObject {\n    // ...\n}\n</code></pre>\n<p>Then, use <code>Parcels.wrap(Feed.class, feed)</code> instead of <code>Parcels.wrap(feed)</code> everywhere, otherwise your app will crash with <code>org.parceler.ParcelerRuntimeException: Unable to create ParcelableFactory for io.realm.FeedRealmProxy</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":982508,"reputation":801,"user_id":1001883,"accept_rate":88,"display_name":"aleien"},"score":0,"creation_date":1464623683,"post_id":37351767,"comment_id":62550033,"body_markdown":"But is it a good idea to use parcelable objects to store data?","body":"But is it a good idea to use parcelable objects to store data?"},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":1,"creation_date":1464772300,"post_id":37351767,"comment_id":62615897,"body_markdown":"refer to this answer: http://stackoverflow.com/questions/8896751/android-store-a-parcelable-object-in-sqlite","body":"refer to this answer: <a href=\"http://stackoverflow.com/questions/8896751/android-store-a-parcelable-object-in-sqlite\" title=\"android store a parcelable object in sqlite\">stackoverflow.com/questions/8896751/&hellip;</a>"},{"owner":{"account_id":918595,"reputation":1764,"user_id":950814,"accept_rate":60,"display_name":"behelit"},"score":0,"creation_date":1688540837,"post_id":37351767,"comment_id":135085178,"body_markdown":"The link doesn&#39;t work and this solution doesn&#39;t seem to do anything, why is it marked as the answer? I changed my &#39;RealmObject&#39; to a &#39;RealmModel&#39; and it still complains that it&#39;s not parcelable.","body":"The link doesn&#39;t work and this solution doesn&#39;t seem to do anything, why is it marked as the answer? I changed my &#39;RealmObject&#39; to a &#39;RealmModel&#39; and it still complains that it&#39;s not parcelable."},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":0,"creation_date":1688563665,"post_id":37351767,"comment_id":135090095,"body_markdown":"The link is now updated. Regarding doing &quot;anything&quot;, instead of extending an object and inheriting all Realm methods, you will now have to use  RealmObject static methods, like `/* With the RealmModel interface */  RealmObject.isValid(p);` instead of `/* With the RealmObject base class */  p.isValid();`. Refer to the updated documentation for more information.","body":"The link is now updated. Regarding doing &quot;anything&quot;, instead of extending an object and inheriting all Realm methods, you will now have to use  RealmObject static methods, like <code>&#47;* With the RealmModel interface *&#47;  RealmObject.isValid(p);</code> instead of <code>&#47;* With the RealmObject base class *&#47;  p.isValid();</code>. Refer to the updated documentation for more information."},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":0,"creation_date":1688636205,"post_id":37351767,"comment_id":135101463,"body_markdown":"@behelit instead of immediately voting down an answer, a bit more search effort on your part could be made, don&#39;t you agree?","body":"@behelit instead of immediately voting down an answer, a bit more search effort on your part could be made, don&#39;t you agree?"}],"tags":[],"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688563422,"creation_date":1463762451,"answer_id":37351767,"question_id":27231259,"body_markdown":"Now there&#39;s a different workaround for that: just implement the `RealmModel` interface instead of extending from `RealmObject`:\r\n\r\n    @RealmClass\r\n    public class User implements RealmModel {\r\n    \r\n    }\r\n\r\nYou can find more information in the [Realm Documentation][1].\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmModel.html","title":"RealmObject AND Parcelable","body":"<p>Now there's a different workaround for that: just implement the <code>RealmModel</code> interface instead of extending from <code>RealmObject</code>:</p>\n<pre><code>@RealmClass\npublic class User implements RealmModel {\n\n}\n</code></pre>\n<p>You can find more information in the <a href=\"https://www.mongodb.com/docs/realm-sdks/java/latest/io/realm/RealmModel.html\" rel=\"nofollow noreferrer\">Realm Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":462762,"reputation":2116,"user_id":865249,"accept_rate":54,"display_name":"Ricardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552393831,"creation_date":1552393831,"answer_id":55121532,"question_id":27231259,"body_markdown":"Solution with Kotlin:\r\n\r\n    import io.realm.com_labtest_di_model_EntryRealmProxy\r\n    import org.parceler.Parcel\r\n    \r\n    \r\n    @RealmClass\r\n    @Parcel(implementations = arrayOf(com_labtest_di_model_EntryRealmProxy::class),\r\n        value = org.parceler.Parcel.Serialization.BEAN,\r\n        analyze = arrayOf(Movie::class))\r\n    open class Entry() : RealmObject() {\r\n    ...","title":"RealmObject AND Parcelable","body":"<p>Solution with Kotlin:</p>\n\n<pre><code>import io.realm.com_labtest_di_model_EntryRealmProxy\nimport org.parceler.Parcel\n\n\n@RealmClass\n@Parcel(implementations = arrayOf(com_labtest_di_model_EntryRealmProxy::class),\n    value = org.parceler.Parcel.Serialization.BEAN,\n    analyze = arrayOf(Movie::class))\nopen class Entry() : RealmObject() {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7247473,"reputation":575,"user_id":6402604,"display_name":"Milan Jurkulak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627823823,"creation_date":1627823509,"answer_id":68610739,"question_id":27231259,"body_markdown":"Parceler does not work in android x.\r\nYou can use this:\r\n\r\n    class ExParcelable @JvmOverloads constructor(data: Any? = null) : Parcelable {\r\n        var cls: String? = null\r\n        var json: String? = null\r\n    \r\n        init {\r\n            if (data is Parcel) {\r\n                cls = data.readString()\r\n                json = data.readString()\r\n            } else {\r\n                cls = data?.let { it::class.java }?.canonicalName\r\n                json = Gson().toJson(data)\r\n            }\r\n        }\r\n    \r\n        override fun writeToParcel(parcel: Parcel, flags: Int) {\r\n            parcel.writeString(cls)\r\n            parcel.writeString(json)\r\n        }\r\n    \r\n        override fun describeContents(): Int {\r\n            return 0\r\n        }\r\n    \r\n        fun value(): Any? {\r\n            return Gson().fromJson(this.json, Class.forName(this.cls))\r\n        }\r\n    \r\n        companion object CREATOR : Creator&lt;ExParcelable&gt; {\r\n            override fun createFromParcel(parcel: Parcel): ExParcelable {\r\n                return ExParcelable(parcel)\r\n            }\r\n    \r\n            override fun newArray(size: Int): Array&lt;ExParcelable?&gt; {\r\n                return arrayOfNulls(size)\r\n            }\r\n        }\r\n    }\r\n\r\nand :\r\n\r\n    inline fun &lt;reified T : Any?&gt; Intent.extra(key: String): T? {\r\n        var value = extras?.get(key)\r\n        if (value is ExParcelable) {\r\n            value = value.value()\r\n        } else if (T::class == Uri::class) {\r\n            if (value is String) {\r\n                value = value.toUri()\r\n            }\r\n        } else if (T::class == String::class) {\r\n            if (value is Uri) {\r\n                value = value.toString()\r\n            }\r\n        }\r\n        return value as T?\r\n    }\r\n    \r\n    inline fun &lt;reified T : Any?&gt; Intent.extra(key: String, value: T?) {\r\n        when (value) {\r\n            null -&gt; {\r\n                // no op\r\n            }\r\n            is Uri -&gt; putExtra(key, value.toString())\r\n            is Boolean -&gt; putExtra(key, value)\r\n            is BooleanArray -&gt; putExtra(key, value)\r\n            is Byte -&gt; putExtra(key, value)\r\n            is ByteArray -&gt; putExtra(key, value)\r\n            is Char -&gt; putExtra(key, value)\r\n            is CharArray -&gt; putExtra(key, value)\r\n            is Short -&gt; putExtra(key, value)\r\n            is ShortArray -&gt; putExtra(key, value)\r\n            is Int -&gt; putExtra(key, value)\r\n            is IntArray -&gt; putExtra(key, value)\r\n            is Long -&gt; putExtra(key, value)\r\n            is LongArray -&gt; putExtra(key, value)\r\n            is Float -&gt; putExtra(key, value)\r\n            is FloatArray -&gt; putExtra(key, value)\r\n            is Double -&gt; putExtra(key, value)\r\n            is DoubleArray -&gt; putExtra(key, value)\r\n            is Date -&gt; putExtra(key, value)\r\n            is Bundle -&gt; putExtra(key, value)\r\n            is Parcelable -&gt; putExtra(key, value)\r\n            is Serializable -&gt; putExtra(key, value)\r\n            is RealmObject -&gt; putExtra(key, ExParcelable(value.get()))\r\n            else -&gt; putExtra(key, ExParcelable(value))\r\n        }\r\n    }\r\n\r\nand use it like this:\r\n\r\n    new Intent().apply{\r\n        extra(&quot;test&quot;, realmObject)\r\n    }\r\n\r\nand :\r\n\r\n    intent.extra(&quot;test&quot;)\r\n\r\n","title":"RealmObject AND Parcelable","body":"<p>Parceler does not work in android x.\nYou can use this:</p>\n<pre><code>class ExParcelable @JvmOverloads constructor(data: Any? = null) : Parcelable {\n    var cls: String? = null\n    var json: String? = null\n\n    init {\n        if (data is Parcel) {\n            cls = data.readString()\n            json = data.readString()\n        } else {\n            cls = data?.let { it::class.java }?.canonicalName\n            json = Gson().toJson(data)\n        }\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(cls)\n        parcel.writeString(json)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    fun value(): Any? {\n        return Gson().fromJson(this.json, Class.forName(this.cls))\n    }\n\n    companion object CREATOR : Creator&lt;ExParcelable&gt; {\n        override fun createFromParcel(parcel: Parcel): ExParcelable {\n            return ExParcelable(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;ExParcelable?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n<p>and :</p>\n<pre><code>inline fun &lt;reified T : Any?&gt; Intent.extra(key: String): T? {\n    var value = extras?.get(key)\n    if (value is ExParcelable) {\n        value = value.value()\n    } else if (T::class == Uri::class) {\n        if (value is String) {\n            value = value.toUri()\n        }\n    } else if (T::class == String::class) {\n        if (value is Uri) {\n            value = value.toString()\n        }\n    }\n    return value as T?\n}\n\ninline fun &lt;reified T : Any?&gt; Intent.extra(key: String, value: T?) {\n    when (value) {\n        null -&gt; {\n            // no op\n        }\n        is Uri -&gt; putExtra(key, value.toString())\n        is Boolean -&gt; putExtra(key, value)\n        is BooleanArray -&gt; putExtra(key, value)\n        is Byte -&gt; putExtra(key, value)\n        is ByteArray -&gt; putExtra(key, value)\n        is Char -&gt; putExtra(key, value)\n        is CharArray -&gt; putExtra(key, value)\n        is Short -&gt; putExtra(key, value)\n        is ShortArray -&gt; putExtra(key, value)\n        is Int -&gt; putExtra(key, value)\n        is IntArray -&gt; putExtra(key, value)\n        is Long -&gt; putExtra(key, value)\n        is LongArray -&gt; putExtra(key, value)\n        is Float -&gt; putExtra(key, value)\n        is FloatArray -&gt; putExtra(key, value)\n        is Double -&gt; putExtra(key, value)\n        is DoubleArray -&gt; putExtra(key, value)\n        is Date -&gt; putExtra(key, value)\n        is Bundle -&gt; putExtra(key, value)\n        is Parcelable -&gt; putExtra(key, value)\n        is Serializable -&gt; putExtra(key, value)\n        is RealmObject -&gt; putExtra(key, ExParcelable(value.get()))\n        else -&gt; putExtra(key, ExParcelable(value))\n    }\n}\n</code></pre>\n<p>and use it like this:</p>\n<pre><code>new Intent().apply{\n    extra(&quot;test&quot;, realmObject)\n}\n</code></pre>\n<p>and :</p>\n<pre><code>intent.extra(&quot;test&quot;)\n</code></pre>\n"}],"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8706,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37351767,"answer_count":5,"score":8,"last_activity_date":1688581159,"creation_date":1417446338,"question_id":27231259,"body_markdown":"Using Realm for Android I have a class:\r\n\r\n    public class Entry extends RealmObject implements Parcelable {\r\n        ...\r\n    }\r\n\r\n`Parcelable` interface contains methods like `describeContents()`, `writeToParcel()` and RealmObjects aren&#39;t supposed to have methods other than getters and setters:\r\n\r\n&gt; Error:(81, 17) error: Only getters and setters should be defined in model classes\r\n\r\nHow can I make these two work together? Is there a better way than creating an separate class (maybe something like `RealmEntry`)? Doing so would result in a lot of duplicated code.","title":"RealmObject AND Parcelable","body":"<p>Using Realm for Android I have a class:</p>\n<pre><code>public class Entry extends RealmObject implements Parcelable {\n    ...\n}\n</code></pre>\n<p><code>Parcelable</code> interface contains methods like <code>describeContents()</code>, <code>writeToParcel()</code> and RealmObjects aren't supposed to have methods other than getters and setters:</p>\n<blockquote>\n<p>Error:(81, 17) error: Only getters and setters should be defined in model classes</p>\n</blockquote>\n<p>How can I make these two work together? Is there a better way than creating an separate class (maybe something like <code>RealmEntry</code>)? Doing so would result in a lot of duplicated code.</p>\n"},{"tags":["java","jquery","angularjs"],"comments":[{"owner":{"account_id":5012424,"reputation":1710,"user_id":4028303,"accept_rate":65,"display_name":"Jacob Stamm"},"score":0,"creation_date":1646061245,"post_id":71276006,"comment_id":126025217,"body_markdown":"Are the contents of your `command-bar` directive fully rendering and not producing a console error?","body":"Are the contents of your <code>command-bar</code> directive fully rendering and not producing a console error?"},{"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"score":0,"creation_date":1646371842,"post_id":71276006,"comment_id":126111398,"body_markdown":"Hi Jacob! No there are no. I&#39;ve commented everything in command-bar, left there &lt;p&gt;Hello&lt;/p&gt; and it&#39;s not shown.","body":"Hi Jacob! No there are no. I&#39;ve commented everything in command-bar, left there &lt;p&gt;Hello&lt;/p&gt; and it&#39;s not shown."}],"answers":[{"tags":[],"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656747060,"creation_date":1656747060,"answer_id":72837294,"question_id":71276006,"body_markdown":"Finally found the problem. It seems to me that Angular doesn&#39;t correctly recognize the short form of tags. After I changed &quot;\\&lt;command-bar/&gt;&quot; to &quot;\\&lt;command-bar&gt;\\&lt;/command-bar&gt;&quot; everything worked.","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>Finally found the problem. It seems to me that Angular doesn't correctly recognize the short form of tags. After I changed &quot;&lt;command-bar/&gt;&quot; to &quot;&lt;command-bar&gt;&lt;/command-bar&gt;&quot; everything worked.</p>\n"},{"tags":[],"owner":{"account_id":28957700,"reputation":11,"user_id":22180910,"display_name":"Dieliko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688581076,"creation_date":1688580350,"answer_id":76622972,"question_id":71276006,"body_markdown":"See Angularjs docs: https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8\r\n&gt; JqLite no longer turns XHTML-like strings like &lt;div /&gt;&lt;span /&gt; to sibling elements when not in XHTML mode: &lt;div&gt;&lt;/div&gt;&lt;span&gt;&lt;/span&gt;. Instead it will leave the elements alone. In non-XHTML mode the browser will convert these to nested elements: &lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;.\r\n\r\n    angular.UNSAFE_restoreLegacyJqLiteXHTMLReplacement();\r\n\r\nor JQuery: https://jquery.com/upgrade-guide/3.5/\r\n\r\n&gt; jQuery.migrateEnablePatches( &quot;self-closed-tags&quot; );","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>See Angularjs docs: <a href=\"https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/guide/migration#migrating-from-1-7-to-1-8</a></p>\n<blockquote>\n<p>JqLite no longer turns XHTML-like strings like  to sibling elements when not in XHTML mode: . Instead it will leave the elements alone. In non-XHTML mode the browser will convert these to nested elements: .</p>\n</blockquote>\n<pre><code>angular.UNSAFE_restoreLegacyJqLiteXHTMLReplacement();\n</code></pre>\n<p>or JQuery: <a href=\"https://jquery.com/upgrade-guide/3.5/\" rel=\"nofollow noreferrer\">https://jquery.com/upgrade-guide/3.5/</a></p>\n<blockquote>\n<p>jQuery.migrateEnablePatches( &quot;self-closed-tags&quot; );</p>\n</blockquote>\n"}],"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72837294,"answer_count":2,"score":2,"last_activity_date":1688581076,"creation_date":1645872300,"question_id":71276006,"body_markdown":"I have java web project application, using Angular 1.8.0 and JQuery 1.12.2. It&#39;s working fine. Despite the fact that Angular 1.8.0 should maintain JQuery 3.6.0,  when I update JQuery to 3.6.0 all that&#39;s placed after &quot;command-bar&quot; directive is not shown:\r\n\r\n    ...\r\n    &lt;div ng-if=&quot;home.showGrid&quot; class=&quot;container-fluid ms-font-m&quot;&gt;\r\n      &lt;command-bar/&gt;\r\n      &lt;!-- the next part is not shown --&gt;\r\n      &lt;div id=&quot;homeGrid&quot; ui-grid=&quot;home.gridOptions&quot; ui-grid-save-state ui-grid-auto-resize ui-grid-edit ui-grid-selection ui-grid-pinning ui-grid-resize-columns ui-grid-pagination class=&quot;grid&quot;&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    ...\r\nIf I place the div with &quot;homeGrid&quot; id before &quot;command-bar&quot; then it&#39;s shown.\r\n\r\nAlso I&#39;ve tried to create new AngularJs directive with &quot;\\&lt;div&gt;Hello\\&lt;/div&gt;&quot; only and empty controller, replaced command bar with it and it&#39;s not shown also.\r\n\r\nIf i&#39;m trying to force Angular to use JQlite with ng-jq it&#39;s even worse, template is totally crashed and there are third party components that need JQuery in assets folder anyway.\r\n\r\nPlease advise what could be the solution and what steps I need to do to find the root of the problem?","title":"AngularJS 1.8.0 and Jquery 3.6.0 compatibility problem","body":"<p>I have java web project application, using Angular 1.8.0 and JQuery 1.12.2. It's working fine. Despite the fact that Angular 1.8.0 should maintain JQuery 3.6.0,  when I update JQuery to 3.6.0 all that's placed after &quot;command-bar&quot; directive is not shown:</p>\n<pre><code>...\n&lt;div ng-if=&quot;home.showGrid&quot; class=&quot;container-fluid ms-font-m&quot;&gt;\n  &lt;command-bar/&gt;\n  &lt;!-- the next part is not shown --&gt;\n  &lt;div id=&quot;homeGrid&quot; ui-grid=&quot;home.gridOptions&quot; ui-grid-save-state ui-grid-auto-resize ui-grid-edit ui-grid-selection ui-grid-pinning ui-grid-resize-columns ui-grid-pagination class=&quot;grid&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n...\n</code></pre>\n<p>If I place the div with &quot;homeGrid&quot; id before &quot;command-bar&quot; then it's shown.</p>\n<p>Also I've tried to create new AngularJs directive with &quot;&lt;div&gt;Hello&lt;/div&gt;&quot; only and empty controller, replaced command bar with it and it's not shown also.</p>\n<p>If i'm trying to force Angular to use JQlite with ng-jq it's even worse, template is totally crashed and there are third party components that need JQuery in assets folder anyway.</p>\n<p>Please advise what could be the solution and what steps I need to do to find the root of the problem?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413484756,"creation_date":1413484756,"answer_id":26411579,"question_id":26409731,"body_markdown":"I can&#39;t explain the specific error you get (I would maybe have to see more of the code).  But there is definitely a coding error in the test.  Right before you invoke `updateContractStatus()`, you tell the mock to thrown an exception whenever this method is called with any string value.  Therefore, you will never get the return value assigned and will never reach the assert statement.\r\n\r\nAlso because I can&#39;t see all of your code I am just guessing, but based on the posted error help message, you might try changing the stubbing of your spy class to the form:\r\n\r\n    doReturn(true).when(echoSignDocumentService).updateContractStatus(anyString());","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>I can't explain the specific error you get (I would maybe have to see more of the code).  But there is definitely a coding error in the test.  Right before you invoke <code>updateContractStatus()</code>, you tell the mock to thrown an exception whenever this method is called with any string value.  Therefore, you will never get the return value assigned and will never reach the assert statement.</p>\n\n<p>Also because I can't see all of your code I am just guessing, but based on the posted error help message, you might try changing the stubbing of your spy class to the form:</p>\n\n<pre><code>doReturn(true).when(echoSignDocumentService).updateContractStatus(anyString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244548,"reputation":4557,"user_id":517450,"display_name":"Radu Simionescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524243956,"creation_date":1524243956,"answer_id":49946607,"question_id":26409731,"body_markdown":"you are clearly in the second case of the error message: you are stubbing a spy (echoSignDocumentService) with the when-then instead of the doReturn-when syntax","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>you are clearly in the second case of the error message: you are stubbing a spy (echoSignDocumentService) with the when-then instead of the doReturn-when syntax</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526486045,"creation_date":1526486045,"answer_id":50375268,"question_id":26409731,"body_markdown":"In my case I forgot to write `eq()`:\r\n \r\n    given(repository.getTitle(eq(variable))).willReturn(title)","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>In my case I forgot to write <code>eq()</code>:</p>\n\n<pre><code>given(repository.getTitle(eq(variable))).willReturn(title)\n</code></pre>\n"}],"owner":{"account_id":2395331,"reputation":81,"user_id":2094236,"accept_rate":0,"display_name":"Kishore Desu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19564,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1688580982,"creation_date":1413478050,"question_id":26409731,"body_markdown":"Logic in implementation class is as shown below, I tried to write a mock and get exception as WrongTypeOfReturnValue\r\n\r\n  \r\n\r\n      /**\r\n         * update audit and courier log when Provider sign the document.\r\n         * @param cmsCourierInfo\r\n         * @param documentInfo\r\n         * @throws Exception\r\n         */\r\n        public boolean doAuditProviderESignCompletion(CMSCourierInfo cmsCourierInfo, DocumentInfo documentInfo) throws  Exception {\r\n    \r\n            String signerTitle = &quot;&quot;;\r\n            List&lt;ParticipantInfo&gt; participantInfos = documentInfo.getParticipants().getParticipantInfo();\r\n            //First participant is Provider\r\n            ParticipantInfo participantInfo = participantInfos.get(0);\r\n    \r\n            if(StringUtils.isNotEmpty(participantInfo.getTitle())){\r\n                signerTitle = participantInfo.getTitle();\r\n            }\r\n            //update audit log with provider signed information\r\n            CMSCourierContractManager.signContract(cmsCourierInfo.getGuidString(), participantInfo.getName(), signerTitle, null);\r\n    \r\n            //update audit log when document sent to Internal Signer\r\n            return doAuditSentForInternalSigner(cmsCourierInfo.getDocumentKey(), documentInfo);\r\n        }\r\n\r\n\r\n\r\nTest \r\n\r\n       @Test\r\n       public void testUpdateContractStatus() throws Exception{\r\n    \r\n            String documentKey = &quot;TestKey&quot;;\r\n            cmsCourierInfo = mock(CMSCourierInfo.class);\r\n            when(cmsFactoryManager.findCourier(anyString())).thenReturn(cmsCourierInfo);\r\n            EchoSignDocumentServiceImpl echoSignDocumentService = spy(documentService);\r\n            when(echoSignDocumentService.updateContractStatus(anyString())).thenReturn(true);\r\n    \r\n            doThrow(new RuntimeException()).when(echoSignDocumentService).updateContractStatus(anyString());\r\n            boolean status = echoSignDocumentService.updateContractStatus(documentKey);\r\n            Assert.assertEquals(true, status);\r\n        }\r\n\r\n\r\nError that I get is \r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    Boolean cannot be returned by findCourier()\r\n    findCourier() should return CMSCourierInfo\r\n    ***\r\n\r\n    If you&#39;re unsure why you&#39;re getting above error read on.\r\n    Due to the nature of the syntax above problem might occur because:\r\n    1. This exception *might* occur in wrongly written multi-threaded tests.\r\n       Please refer to Mockito FAQ on limitations of concurrency testing.\r\n    2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n       - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n               \r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n\r\n\r\nSome inputs will be of great help","title":"Mockito throwing WrongTypeOfReturnValue","body":"<p>Logic in implementation class is as shown below, I tried to write a mock and get exception as WrongTypeOfReturnValue</p>\n\n<pre><code>  /**\n     * update audit and courier log when Provider sign the document.\n     * @param cmsCourierInfo\n     * @param documentInfo\n     * @throws Exception\n     */\n    public boolean doAuditProviderESignCompletion(CMSCourierInfo cmsCourierInfo, DocumentInfo documentInfo) throws  Exception {\n\n        String signerTitle = \"\";\n        List&lt;ParticipantInfo&gt; participantInfos = documentInfo.getParticipants().getParticipantInfo();\n        //First participant is Provider\n        ParticipantInfo participantInfo = participantInfos.get(0);\n\n        if(StringUtils.isNotEmpty(participantInfo.getTitle())){\n            signerTitle = participantInfo.getTitle();\n        }\n        //update audit log with provider signed information\n        CMSCourierContractManager.signContract(cmsCourierInfo.getGuidString(), participantInfo.getName(), signerTitle, null);\n\n        //update audit log when document sent to Internal Signer\n        return doAuditSentForInternalSigner(cmsCourierInfo.getDocumentKey(), documentInfo);\n    }\n</code></pre>\n\n<p>Test </p>\n\n<pre><code>   @Test\n   public void testUpdateContractStatus() throws Exception{\n\n        String documentKey = \"TestKey\";\n        cmsCourierInfo = mock(CMSCourierInfo.class);\n        when(cmsFactoryManager.findCourier(anyString())).thenReturn(cmsCourierInfo);\n        EchoSignDocumentServiceImpl echoSignDocumentService = spy(documentService);\n        when(echoSignDocumentService.updateContractStatus(anyString())).thenReturn(true);\n\n        doThrow(new RuntimeException()).when(echoSignDocumentService).updateContractStatus(anyString());\n        boolean status = echoSignDocumentService.updateContractStatus(documentKey);\n        Assert.assertEquals(true, status);\n    }\n</code></pre>\n\n<p>Error that I get is </p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nBoolean cannot be returned by findCourier()\nfindCourier() should return CMSCourierInfo\n***\n\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n</code></pre>\n\n<p>Some inputs will be of great help</p>\n"},{"tags":["java","spring","rest","http"],"comments":[{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1502202063,"post_id":45570798,"comment_id":78101082,"body_markdown":"try with postman or ARC first against the endpoint and then check with the code","body":"try with postman or ARC first against the endpoint and then check with the code"},{"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"score":0,"creation_date":1502202406,"post_id":45570798,"comment_id":78101361,"body_markdown":"As I said in the previous post in Postman works perfectly that&#39;s the weird for me. Thanks for your response","body":"As I said in the previous post in Postman works perfectly that&#39;s the weird for me. Thanks for your response"},{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1502202694,"post_id":45570798,"comment_id":78101581,"body_markdown":"Without much information we can&amp;amp;#39;t do anything .. your usage is right. Might be u can share some url just to ensure everything is right or share the working postman one sample screenshot would do.","body":"Without much information we can&amp;amp;#39;t do anything .. your usage is right. Might be u can share some url just to ensure everything is right or share the working postman one sample screenshot would do."}],"answers":[{"tags":[],"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1502263909,"creation_date":1502263909,"answer_id":45584270,"question_id":45570798,"body_markdown":"You were right Barath the usage is correct. The problem was that UriComponentBuilder was including a blank space at the en of the URL.\r\n\r\nI&#39;ve fixed it with a trim.\r\n\r\n&lt;pre&gt;\r\nString queryUrl = UriComponentsBuilder.fromUriString(HOST)\r\n                .path(PATH)\r\n                .buildAndExpand(param)\r\n                .toUriString().trim();\r\n&lt;/pre&gt;","title":"Spring RestTemplate getForObject getting 404","body":"<p>You were right Barath the usage is correct. The problem was that UriComponentBuilder was including a blank space at the en of the URL.</p>\n\n<p>I've fixed it with a trim.</p>\n\n<pre>\nString queryUrl = UriComponentsBuilder.fromUriString(HOST)\n                .path(PATH)\n                .buildAndExpand(param)\n                .toUriString().trim();\n</pre>\n"},{"tags":[],"owner":{"account_id":353915,"reputation":1686,"user_id":691928,"accept_rate":60,"display_name":"mohsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556233948,"creation_date":1556233948,"answer_id":55858761,"question_id":45570798,"body_markdown":"This took me a bit to figure out, so I&#39;ll leave a little note here hoping one day it helps someone.\r\nI kept getting a 404 when making a get request with ResTemplate.getForEntity(URL, Type).  The URL worked in Chrome, Postman, but not in my code.\r\nIt ended up being because I had an [unsafe character][1] in my URL, an % to be exact, because my URL had spaces and so instead of space the URL had %20.  Postman and Chrome could handle this, but not my code.  Once I replaced the unsafe character with an actual space all was well.\r\n\r\nHope it works out for you too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/497972/691928","title":"Spring RestTemplate getForObject getting 404","body":"<p>This took me a bit to figure out, so I'll leave a little note here hoping one day it helps someone.\nI kept getting a 404 when making a get request with ResTemplate.getForEntity(URL, Type).  The URL worked in Chrome, Postman, but not in my code.\nIt ended up being because I had an <a href=\"https://stackoverflow.com/a/497972/691928\">unsafe character</a> in my URL, an % to be exact, because my URL had spaces and so instead of space the URL had %20.  Postman and Chrome could handle this, but not my code.  Once I replaced the unsafe character with an actual space all was well.</p>\n\n<p>Hope it works out for you too.</p>\n"},{"tags":[],"owner":{"account_id":19262487,"reputation":11,"user_id":14078048,"display_name":"yiyun yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615798490,"creation_date":1615798490,"answer_id":66634930,"question_id":45570798,"body_markdown":"When your url contains &quot;%&quot;, then you shoud use restTemplate.getForObject(new URI(url),xx.class), it worked for me.","title":"Spring RestTemplate getForObject getting 404","body":"<p>When your url contains &quot;%&quot;, then you shoud use restTemplate.getForObject(new URI(url),xx.class), it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5238862,"reputation":33,"user_id":4186598,"display_name":"kumartj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580866,"creation_date":1688580866,"answer_id":76623027,"question_id":45570798,"body_markdown":"I was also facing the same issue for me the issue was not the encoded path but another application (nodeJS) was running on the same port. ","title":"Spring RestTemplate getForObject getting 404","body":"<p>I was also facing the same issue for me the issue was not the encoded path but another application (nodeJS) was running on the same port.</p>\n"}],"owner":{"account_id":6704662,"reputation":363,"user_id":5170089,"accept_rate":80,"display_name":"Antonio682"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5155,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45584270,"answer_count":4,"score":3,"last_activity_date":1688580866,"creation_date":1502201777,"question_id":45570798,"body_markdown":"I&#39;m trying to make a get request to an Api Rest but I&#39;m always getting 404, nevertheless if try copying  queryUrl  in a browser or postMan it works perfectly.\r\n\r\n&lt;pre&gt;restTemplate.getForObject(queryUrl, entity ,Integer.class);\r\n&lt;/pre&gt;\r\n\r\nI&#39;ve also tried this:\r\n\r\n&lt;pre&gt;\r\nHttpHeaders httpHeaders = new HttpHeaders();\r\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\nHttpEntity entity = new HttpEntity(httpHeaders);\r\nlog.debug(&quot;request headers: &quot; + entity.getHeaders());\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(queryUrl, \r\nHttpMethod.GET, entity, String.class);\r\n&lt;/pre&gt;\r\n\r\nBut nothing changes. \r\nCan anyone help me?\r\n\r\n ","title":"Spring RestTemplate getForObject getting 404","body":"<p>I'm trying to make a get request to an Api Rest but I'm always getting 404, nevertheless if try copying  queryUrl  in a browser or postMan it works perfectly.</p>\n\n<pre>restTemplate.getForObject(queryUrl, entity ,Integer.class);\n</pre>\n\n<p>I've also tried this:</p>\n\n<pre>\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity entity = new HttpEntity(httpHeaders);\nlog.debug(\"request headers: \" + entity.getHeaders());\nResponseEntity response = restTemplate.exchange(queryUrl, \nHttpMethod.GET, entity, String.class);\n</pre>\n\n<p>But nothing changes. \nCan anyone help me?</p>\n"},{"tags":["java","vaadin","pom.xml"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1688623071,"post_id":76622450,"comment_id":135098816,"body_markdown":"Assuming you had no problems with e.g. the spring deps: If you have problems with the CAs for maven.vaadin.com, you could try to comment out the repo in your pom. Unless you need something from the directory (the searchable addons from their page are served from there).","body":"Assuming you had no problems with e.g. the spring deps: If you have problems with the CAs for maven.vaadin.com, you could try to comment out the repo in your pom. Unless you need something from the directory (the searchable addons from their page are served from there)."},{"owner":{"account_id":21138486,"reputation":116,"user_id":15541450,"display_name":"Liemannen loop"},"score":0,"creation_date":1688658457,"post_id":76622450,"comment_id":135106541,"body_markdown":"Ok, after some digging and changing dependencies, it seems like I am getting this issue because of springframework boot plugin, do you have any idea why that might be?","body":"Ok, after some digging and changing dependencies, it seems like I am getting this issue because of springframework boot plugin, do you have any idea why that might be?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1688673670,"post_id":76622450,"comment_id":135109287,"body_markdown":"If you can not download deps from the internet of things that get downloaded by others in the 10 thousands (vaadin) or most likely millions (spring) per month, it&#39;s safe to assume, that the problem is on your end. If you get CA related errors, the chains on your box might be borked or you are using a proxy (or should use one and don&#39;t). I close voted now since it seems clearly a network windows problem.","body":"If you can not download deps from the internet of things that get downloaded by others in the 10 thousands (vaadin) or most likely millions (spring) per month, it&#39;s safe to assume, that the problem is on your end. If you get CA related errors, the chains on your box might be borked or you are using a proxy (or should use one and don&#39;t). I close voted now since it seems clearly a network windows problem."}],"owner":{"account_id":21138486,"reputation":116,"user_id":15541450,"display_name":"Liemannen loop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688580623,"creation_date":1688575867,"question_id":76622450,"body_markdown":"Current error when trying to install/build project:\r\n```\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nLet me start by saying, I have looked through all the other StackOverFlow questions that have been posted, like:\r\n```\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n,\r\n```\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR]   The project com.example.application:mytodo:1.0-SNAPSHOT (C:\\dev\\my-todo\\pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: Could not transfer artifact org.springframework.b\r\noot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): transfer failed for https://\r\nmaven.vaadin.com/vaadin-addons/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom and &#39;paren\r\nt.relativePath&#39; points at wrong local POM @ line 18, column 13: PKIX path building failed: sun.security.provider.certpath.SunCertPathBui\r\nlderException: unable to find valid certification path to requested target\r\n```\r\nAbsolutely nothing works! I tried the same vaadin project on my Mac machine and my other windows machine and it worked with no configurations.\r\nAs well as my colleagues that are in-person are able to start this project with no problem (I am remote, it should not matter, because another colleague that is remote was able to build it and it worked).\r\nI tried disabling my VPN that they provide me from work, no luck.\r\n\r\nMy question now is: is it possible that there is some problem with my laptop config, or it might be some proxy issue, or connection issue.\r\nHypothesis 1: My work has installed something on my laptop that prevents the access from where the vaadin dependencies are downloaded.\r\n\r\nI have these issue displayed now on my my-todo app provided by Vaadin starter tutorial: https://vaadin.com/docs/latest/guide/quick-start:\r\n```\r\ncvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;.xml(cvc-elt.1.a)\r\n```\r\n```\r\nError while downloading &#39;http://maven.apache.org/xsd/maven-4.0.0.xsd&#39; to &#39;%HOME%\\.lemminx\\cache\\http\\maven.apache.org\\xsd\\maven-4.0.0.xsd&#39; : &#39;[sun.security.provider.certpath.SunCertPathBuilderException] unable to find valid certification path to requested target&#39;\r\n```\r\nand lastly:\r\n```\r\nProject build error: Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: The following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 (absent): org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 failed to transfer from https://maven.vaadin.com/vaadin-addons during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of Vaadin Directory has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and &#39;parent.relativePath&#39; points at wrong local POM\r\n```\r\nHere&#39;s my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\r\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mytodo&lt;/artifactId&gt;\r\n    &lt;name&gt;mytodo&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;24.1.2&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5600&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;!-- Exclude development dependencies from production --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\nJava Version: jdk-17.0.2-windows\r\n\r\nVaadin: 24+, I also noticed this did not work on Vaadin 23.3.15 as well.\r\n\r\nPlease let me know if you have any other questions or something I might be able to provide to help you answer this question. ","title":"Vaadin 23.3.15 and Vaadin 24.+ PKIX path building failed","body":"<p>Current error when trying to install/build project:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Let me start by saying, I have looked through all the other StackOverFlow questions that have been posted, like:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>,</p>\n<pre><code>[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project com.example.application:mytodo:1.0-SNAPSHOT (C:\\dev\\my-todo\\pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: Could not transfer artifact org.springframework.b\noot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): transfer failed for https://\nmaven.vaadin.com/vaadin-addons/org/springframework/boot/spring-boot-starter-parent/3.1.0/spring-boot-starter-parent-3.1.0.pom and 'paren\nt.relativePath' points at wrong local POM @ line 18, column 13: PKIX path building failed: sun.security.provider.certpath.SunCertPathBui\nlderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Absolutely nothing works! I tried the same vaadin project on my Mac machine and my other windows machine and it worked with no configurations.\nAs well as my colleagues that are in-person are able to start this project with no problem (I am remote, it should not matter, because another colleague that is remote was able to build it and it worked).\nI tried disabling my VPN that they provide me from work, no luck.</p>\n<p>My question now is: is it possible that there is some problem with my laptop config, or it might be some proxy issue, or connection issue.\nHypothesis 1: My work has installed something on my laptop that prevents the access from where the vaadin dependencies are downloaded.</p>\n<p>I have these issue displayed now on my my-todo app provided by Vaadin starter tutorial: <a href=\"https://vaadin.com/docs/latest/guide/quick-start\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/guide/quick-start</a>:</p>\n<pre><code>cvc-elt.1.a: Cannot find the declaration of element 'project'.xml(cvc-elt.1.a)\n</code></pre>\n<pre><code>Error while downloading 'http://maven.apache.org/xsd/maven-4.0.0.xsd' to '%HOME%\\.lemminx\\cache\\http\\maven.apache.org\\xsd\\maven-4.0.0.xsd' : '[sun.security.provider.certpath.SunCertPathBuilderException] unable to find valid certification path to requested target'\n</code></pre>\n<p>and lastly:</p>\n<pre><code>Project build error: Non-resolvable parent POM for com.example.application:mytodo:1.0-SNAPSHOT: The following artifacts could not be resolved: org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 (absent): org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 failed to transfer from https://maven.vaadin.com/vaadin-addons during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of Vaadin Directory has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:3.1.0 from/to Vaadin Directory (https://maven.vaadin.com/vaadin-addons): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target and 'parent.relativePath' points at wrong local POM\n</code></pre>\n<p>Here's my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n    &lt;artifactId&gt;mytodo&lt;/artifactId&gt;\n    &lt;name&gt;mytodo&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;24.1.2&lt;/vaadin.version&gt;\n        &lt;selenium.version&gt;4.10.0&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5600&lt;/jvmArguments&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;!-- Exclude development dependencies from production --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Java Version: jdk-17.0.2-windows</p>\n<p>Vaadin: 24+, I also noticed this did not work on Vaadin 23.3.15 as well.</p>\n<p>Please let me know if you have any other questions or something I might be able to provide to help you answer this question.</p>\n"},{"tags":["java","mysql","deployment","nullpointerexception","wildfly"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1688454770,"post_id":76609033,"comment_id":135072578,"body_markdown":"There is a confusion here..`I was expecting the server to start without issue. I thought it would read the pom.xml, beans.xml, and persistence.xml correctly, wire up all dependencies,`   Wilfly will not download your dependencies.   You are supposed to use Maven to do clean install, and it will create a WAR file for you with all the dependencies.","body":"There is a confusion here..<code>I was expecting the server to start without issue. I thought it would read the pom.xml, beans.xml, and persistence.xml correctly, wire up all dependencies,</code>   Wilfly will not download your dependencies.   You are supposed to use Maven to do clean install, and it will create a WAR file for you with all the dependencies."},{"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"score":0,"creation_date":1688475219,"post_id":76609033,"comment_id":135076841,"body_markdown":"@JCompetence Thanks for your response. Perhaps I should clarify - I have already used `mvn clean install` to build my project and the WAR file that&#39;s being deployed. The issue is not about missing dependencies, as the build completes successfully without any `ClassNotFoundException`. The files mentioned were in the context of the server&#39;s ability to read and interpret these configuration files correctly, not about fetching dependencies.\nMy problem pertains to a service startup issue on WildFly when I try to deploy this WAR. Do you have any insight on this particular problem?&quot;","body":"@JCompetence Thanks for your response. Perhaps I should clarify - I have already used <code>mvn clean install</code> to build my project and the WAR file that&#39;s being deployed. The issue is not about missing dependencies, as the build completes successfully without any <code>ClassNotFoundException</code>. The files mentioned were in the context of the server&#39;s ability to read and interpret these configuration files correctly, not about fetching dependencies. My problem pertains to a service startup issue on WildFly when I try to deploy this WAR. Do you have any insight on this particular problem?&quot;"}],"answers":[{"comments":[{"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"score":0,"creation_date":1688475761,"post_id":76610522,"comment_id":135076977,"body_markdown":"Thank you for your suggestions. I&#39;ve updated mysql-connector-j to &quot;provided&quot; and attempted to adjust XML descriptors to JakartaEE 10, but the problem still exists. I&#39;m keen on understanding the optimal configuration of XML descriptors (web.xml, persistence.xml, beans.xml) in line with the JakartaEE 10 standard. The WildFly Quickstarts repository has been a valuable resource. I believe I may be missing something trivial here and would appreciate any additional pointers or examples that might guide me in the right direction. Thanks again for your help.","body":"Thank you for your suggestions. I&#39;ve updated mysql-connector-j to &quot;provided&quot; and attempted to adjust XML descriptors to JakartaEE 10, but the problem still exists. I&#39;m keen on understanding the optimal configuration of XML descriptors (web.xml, persistence.xml, beans.xml) in line with the JakartaEE 10 standard. The WildFly Quickstarts repository has been a valuable resource. I believe I may be missing something trivial here and would appreciate any additional pointers or examples that might guide me in the right direction. Thanks again for your help."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1688491968,"post_id":76610522,"comment_id":135080224,"body_markdown":"The `javax.faces:javax.faces-api` needs to be upgrade to the Jakarta version and marked as provided too. That is a Jakarta EE 8 version and cannot be used with Jakarta EE 10.","body":"The <code>javax.faces:javax.faces-api</code> needs to be upgrade to the Jakarta version and marked as provided too. That is a Jakarta EE 8 version and cannot be used with Jakarta EE 10."}],"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688457832,"creation_date":1688457832,"answer_id":76610522,"question_id":76609033,"body_markdown":"1- You provide a WAR with your dependencies, WildFly will provide JakartEE 10 API implementations.\r\n2- Your driver should be provided since you are creating a module to provide it.\r\n3- Your XML descriptors are not JakartaEE 10 but Java EE\r\n4- The error occurs during the undeploy not during the deployment itself. Maybe there is an error there before\r\n5- You should take a look at WildFly Quickstarts https://github.com/wildfly/quickstart/tree/28.0.1.Final (todo-backend can show what your are trying to achieve here)","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>1- You provide a WAR with your dependencies, WildFly will provide JakartEE 10 API implementations.\n2- Your driver should be provided since you are creating a module to provide it.\n3- Your XML descriptors are not JakartaEE 10 but Java EE\n4- The error occurs during the undeploy not during the deployment itself. Maybe there is an error there before\n5- You should take a look at WildFly Quickstarts <a href=\"https://github.com/wildfly/quickstart/tree/28.0.1.Final\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/tree/28.0.1.Final</a> (todo-backend can show what your are trying to achieve here)</p>\n"},{"tags":[],"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580551,"creation_date":1688580551,"answer_id":76622999,"question_id":76609033,"body_markdown":"After struggling with this problem for a while, I was finally able to find a solution. Here&#39;s how I resolved it:\r\n\r\nI had to adjust my `web.xml` file to be compatible with Jakarta EE 10:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\r\n     version=&quot;6.0&quot;&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThen I had to move the `beans.xml` from `src/main/resources/META-INF` to `src/main/webapp/WEB-INF`.\r\n\r\nThe last part of my journey was working with my project&#39;s dependencies. I had to make sure they were going to work with Jakarta EE 10 and WildFly 28.0.1.Final. I took a close look, made necessary adjustments, and set as many dependencies as I could to provided. Here&#39;s how my final dependencies looked:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n  &lt;version&gt;4.13.2&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n  &lt;version&gt;10.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;6.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.33&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n  &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\r\n  &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI&#39;d like to thank everyone who offered their help during this troubleshooting process. I can now deploy and run my code without any issues. I hope this solution is helpful to anyone else who encounters a similar problem.","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>After struggling with this problem for a while, I was finally able to find a solution. Here's how I resolved it:</p>\n<p>I had to adjust my <code>web.xml</code> file to be compatible with Jakarta EE 10:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\n     version=&quot;6.0&quot;&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Then I had to move the <code>beans.xml</code> from <code>src/main/resources/META-INF</code> to <code>src/main/webapp/WEB-INF</code>.</p>\n<p>The last part of my journey was working with my project's dependencies. I had to make sure they were going to work with Jakarta EE 10 and WildFly 28.0.1.Final. I took a close look, made necessary adjustments, and set as many dependencies as I could to provided. Here's how my final dependencies looked:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.13.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n  &lt;version&gt;10.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;version&gt;8.0.33&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n  &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\n  &lt;version&gt;28.0.1.Final&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'd like to thank everyone who offered their help during this troubleshooting process. I can now deploy and run my code without any issues. I hope this solution is helpful to anyone else who encounters a similar problem.</p>\n"}],"owner":{"account_id":18745322,"reputation":13,"user_id":20790152,"display_name":"Vin&#237;cius do Carmo Mel&#237;cio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76610522,"answer_count":2,"score":1,"last_activity_date":1688580551,"creation_date":1688436971,"question_id":76609033,"body_markdown":"I&#39;m currently learning Java and I&#39;m trying to deploy a simple project to WildFly 28.0.1.Final but I&#39;m encountering a problem. The project contains only three classes (`HelloServlet`, `Sentence`, `SentenceRepository`) and uses MySQL 8.0.33. I&#39;m writing the code with Java 11.\r\n\r\nIn terms of what I&#39;ve tried so far, I&#39;ve attempted to adjust my project&#39;s dependencies within the `pom.xml` file, believing that perhaps there was an issue related to library compatibility or something missing. I&#39;ve also tried adjusting the `beans.xml` and `persistence.xml` configurations, though I wasn&#39;t entirely sure what I needed to change, but I wanted to see if modifications there would solve the problem.\r\n\r\nAs for my expectations, when I deploy my WAR file to WildFly, I was expecting the server to start without issue. I thought it would read the `pom.xml`, `beans.xml`, and `persistence.xml` correctly, wire up all dependencies, initialize my HelloServlet, and be ready to handle incoming requests. I&#39;m surprised by the `NullPointerException` as I&#39;ve checked my code and there&#39;s no obvious place where I&#39;m accessing something that should be null.\r\n\r\nIn essence, my goal is to understand how to set up a simple project with WildFly, MySQL, and Java, and to get this project running without errors. Any guidance towards identifying the root cause of this `NullPointerException` and resolving it would be greatly appreciated.\r\n\r\nMy project structure:\r\n```\r\n├── pom.xml\r\n├── README.md\r\n└── src\r\n    └── main\r\n        ├── java\r\n        │&#160;&#160; └── com\r\n        │&#160;&#160;     └── penguin\r\n        │&#160;&#160;         ├── model\r\n        │&#160;&#160;         │&#160;&#160; └── Sentence.java\r\n        │&#160;&#160;         ├── repository\r\n        │&#160;&#160;         │&#160;&#160; └── SentenceRepository.java\r\n        │&#160;&#160;         └── servlet\r\n        │&#160;&#160;             └── HelloServlet.java\r\n        ├── resources\r\n        │&#160;&#160; └── META-INF\r\n        │&#160;&#160;     ├── beans.xml\r\n        │&#160;&#160;     └── persistence.xml\r\n        └── webapp\r\n            ├── index.jsp\r\n            └── WEB-INF\r\n                └── web.xml\r\n```\r\n\r\nWhenever I try to deploy the WAR file, I get the following error:\r\n\r\n```\r\n22:26:49,900 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 144) MSC000001: Failed to start service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:686)\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:110)\r\n\tat org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n\t... 8 more\r\nCaused by: java.lang.NullPointerException\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentImpl.createThreadSetupAction(DeploymentImpl.java:176)\r\n\tat io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:669)\r\n\t... 10 more\r\n\r\n22:26:49,908 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n22:26:49,909 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n22:26:49,909 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;language-study.war&quot; was rolled back with the following failure message: \r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException&quot;}}\r\n```\r\nI&#39;m not sure where the `NullPointerException` is coming from. I haven&#39;t been able to find the source of the problem in my code or the server configuration\r\n\r\nMy `persistence.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;LanguageStudyDS&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:/LanguageStudyDS&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMy `beans.xml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;\r\n      http://xmlns.jcp.org/xml/ns/javaee\r\n      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n       bean-discovery-mode=&quot;all&quot;&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nMy `web.xml`:\r\n```xml\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nMy `pom.xml`:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.penguin&lt;/groupId&gt;\r\n  &lt;artifactId&gt;language-study&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;language-study Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;10.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.8.Final&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;language-study&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;11&lt;/source&gt;\r\n                &lt;target&gt;11&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nMy `HelloServlet.java`:\r\n```java\r\npublic class HelloServlet extends HttpServlet {\r\n    \r\n    @EJB\r\n    private SentenceRepository repo;\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    throws IOException, ServletException\r\n    {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        if (repo == null) {\r\n            out.println(&quot;&lt;h1&gt;Error: repo object is null&lt;/h1&gt;&quot;);\r\n            return;\r\n        }\r\n\r\n        Sentence sentence = null;\r\n        try {\r\n            // Inserting a sentence\r\n            sentence = new Sentence(&quot;你好，世界&quot;);\r\n            repo.save(sentence);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\r\n        }\r\n\r\n        try {\r\n            // Fetching a sentence\r\n            Sentence fetchedSentence = repo.find(sentence.getId());\r\n            out.println(&quot;&lt;h1&gt;Id: &quot; + fetchedSentence.getId() + &quot;, Sentence: &quot; + fetchedSentence.getMandarinSentence() + &quot;&lt;/h1&gt;&quot;);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy `SentenceRepository.java`:\r\n```java\r\n@Stateless\r\npublic class SentenceRepository {\r\n\r\n    @PersistenceContext(unitName = &quot;LanguageStudyDS&quot;)\r\n    private EntityManager entityManager;\r\n\r\n    public void save(Sentence sentence) {\r\n        try {\r\n            entityManager.persist(sentence);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public Sentence find(Long id) {\r\n        try {\r\n            return entityManager.find(Sentence.class, id);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        try {\r\n            Sentence sentence = find(id);\r\n            if (sentence != null &amp;&amp; entityManager != null) {\r\n                entityManager.remove(sentence);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    public void update(Long id, String newSentence) {\r\n        try {\r\n            Sentence sentence = find(id);\r\n            if (sentence != null) {\r\n                sentence.setMandarinSentence(newSentence);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy `Sentence.java`:\r\n```java\r\n@Entity\r\n@Table(name = &quot;sentences&quot;)\r\npublic class Sentence {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;mandarin_sentence&quot;)\r\n    private String mandarinSentence;\r\n\r\n    public Sentence() {\r\n    }\r\n\r\n    public Sentence(String mandarinSentence) {\r\n        this.mandarinSentence = mandarinSentence;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMandarinSentence() {\r\n        return mandarinSentence;\r\n    }\r\n\r\n    public void setMandarinSentence(String mandarinSentence) {\r\n        this.mandarinSentence = mandarinSentence;\r\n    }\r\n\r\n}\r\n```\r\nMy `module.xml` (inside the WildFly):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;mysql-connector-j-8.0.33.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\n\r\nThe modifications I made to the `standalone.xml` (also inside the WildFly):\r\n```xml\r\n&lt;datasource jndi-name=&quot;java:/LanguageStudyDS&quot; pool-name=&quot;LanguageStudyDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n        &lt;connection-url&gt;jdbc:mysql://localhost:3306/language_study?useSSL=false&lt;/connection-url&gt;\r\n        &lt;driver&gt;mysql&lt;/driver&gt;\r\n        &lt;security&gt;\r\n            &lt;user-name&gt;username&lt;/user-name&gt;\r\n            &lt;password&gt;password&lt;/password&gt;\r\n        &lt;/security&gt;\r\n&lt;/datasource&gt;\r\n```\r\n```xml\r\n&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\r\n    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\r\n&lt;/driver&gt;\r\n```\r\n","title":"Unable to deploy WAR file to WildFly 28.0.1.Final - Failed to start service jboss.deployment.unit","body":"<p>I'm currently learning Java and I'm trying to deploy a simple project to WildFly 28.0.1.Final but I'm encountering a problem. The project contains only three classes (<code>HelloServlet</code>, <code>Sentence</code>, <code>SentenceRepository</code>) and uses MySQL 8.0.33. I'm writing the code with Java 11.</p>\n<p>In terms of what I've tried so far, I've attempted to adjust my project's dependencies within the <code>pom.xml</code> file, believing that perhaps there was an issue related to library compatibility or something missing. I've also tried adjusting the <code>beans.xml</code> and <code>persistence.xml</code> configurations, though I wasn't entirely sure what I needed to change, but I wanted to see if modifications there would solve the problem.</p>\n<p>As for my expectations, when I deploy my WAR file to WildFly, I was expecting the server to start without issue. I thought it would read the <code>pom.xml</code>, <code>beans.xml</code>, and <code>persistence.xml</code> correctly, wire up all dependencies, initialize my HelloServlet, and be ready to handle incoming requests. I'm surprised by the <code>NullPointerException</code> as I've checked my code and there's no obvious place where I'm accessing something that should be null.</p>\n<p>In essence, my goal is to understand how to set up a simple project with WildFly, MySQL, and Java, and to get this project running without errors. Any guidance towards identifying the root cause of this <code>NullPointerException</code> and resolving it would be greatly appreciated.</p>\n<p>My project structure:</p>\n<pre><code>├── pom.xml\n├── README.md\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── penguin\n        │           ├── model\n        │           │   └── Sentence.java\n        │           ├── repository\n        │           │   └── SentenceRepository.java\n        │           └── servlet\n        │               └── HelloServlet.java\n        ├── resources\n        │   └── META-INF\n        │       ├── beans.xml\n        │       └── persistence.xml\n        └── webapp\n            ├── index.jsp\n            └── WEB-INF\n                └── web.xml\n</code></pre>\n<p>Whenever I try to deploy the WAR file, I get the following error:</p>\n<pre><code>22:26:49,900 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 144) MSC000001: Failed to start service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;language-study.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.NullPointerException\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:686)\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:110)\n    at org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n    ... 8 more\nCaused by: java.lang.NullPointerException\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentImpl.createThreadSetupAction(DeploymentImpl.java:176)\n    at io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.DeploymentManagerImpl.undeploy(DeploymentManagerImpl.java:669)\n    ... 10 more\n\n22:26:49,908 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n22:26:49,909 ERROR [org.jboss.as.controller.management-operation] (External Management Request Threads -- 1) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;language-study.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n22:26:49,909 ERROR [org.jboss.as.server] (External Management Request Threads -- 1) WFLYSRV0021: Deploy of deployment &quot;language-study.war&quot; was rolled back with the following failure message: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;language-study.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n</code></pre>\n<p>I'm not sure where the <code>NullPointerException</code> is coming from. I haven't been able to find the source of the problem in my code or the server configuration</p>\n<p>My <code>persistence.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;LanguageStudyDS&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;java:/LanguageStudyDS&lt;/jta-data-source&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>My <code>beans.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n      http://xmlns.jcp.org/xml/ns/javaee\n      http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>My <code>web.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.penguin.servlet.HelloServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>My <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.penguin&lt;/groupId&gt;\n  &lt;artifactId&gt;language-study&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;language-study Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;10.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n      &lt;artifactId&gt;wildfly-jpa&lt;/artifactId&gt;\n      &lt;version&gt;28.0.1.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.faces-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.4.8.Final&lt;/version&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;language-study&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My <code>HelloServlet.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloServlet extends HttpServlet {\n    \n    @EJB\n    private SentenceRepository repo;\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n    throws IOException, ServletException\n    {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        if (repo == null) {\n            out.println(&quot;&lt;h1&gt;Error: repo object is null&lt;/h1&gt;&quot;);\n            return;\n        }\n\n        Sentence sentence = null;\n        try {\n            // Inserting a sentence\n            sentence = new Sentence(&quot;你好，世界&quot;);\n            repo.save(sentence);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\n        }\n\n        try {\n            // Fetching a sentence\n            Sentence fetchedSentence = repo.find(sentence.getId());\n            out.println(&quot;&lt;h1&gt;Id: &quot; + fetchedSentence.getId() + &quot;, Sentence: &quot; + fetchedSentence.getMandarinSentence() + &quot;&lt;/h1&gt;&quot;);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            out.println(&quot;&lt;h1&gt;Error: &quot; + ex.getMessage() + &quot;&lt;/h1&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>My <code>SentenceRepository.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\npublic class SentenceRepository {\n\n    @PersistenceContext(unitName = &quot;LanguageStudyDS&quot;)\n    private EntityManager entityManager;\n\n    public void save(Sentence sentence) {\n        try {\n            entityManager.persist(sentence);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public Sentence find(Long id) {\n        try {\n            return entityManager.find(Sentence.class, id);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        return null;\n    }\n\n    public void delete(Long id) {\n        try {\n            Sentence sentence = find(id);\n            if (sentence != null &amp;&amp; entityManager != null) {\n                entityManager.remove(sentence);\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    public void update(Long id, String newSentence) {\n        try {\n            Sentence sentence = find(id);\n            if (sentence != null) {\n                sentence.setMandarinSentence(newSentence);\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>My <code>Sentence.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;sentences&quot;)\npublic class Sentence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;mandarin_sentence&quot;)\n    private String mandarinSentence;\n\n    public Sentence() {\n    }\n\n    public Sentence(String mandarinSentence) {\n        this.mandarinSentence = mandarinSentence;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getMandarinSentence() {\n        return mandarinSentence;\n    }\n\n    public void setMandarinSentence(String mandarinSentence) {\n        this.mandarinSentence = mandarinSentence;\n    }\n\n}\n</code></pre>\n<p>My <code>module.xml</code> (inside the WildFly):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.mysql&quot;&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;mysql-connector-j-8.0.33.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;javax.api&quot;/&gt;\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>The modifications I made to the <code>standalone.xml</code> (also inside the WildFly):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;datasource jndi-name=&quot;java:/LanguageStudyDS&quot; pool-name=&quot;LanguageStudyDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n        &lt;connection-url&gt;jdbc:mysql://localhost:3306/language_study?useSSL=false&lt;/connection-url&gt;\n        &lt;driver&gt;mysql&lt;/driver&gt;\n        &lt;security&gt;\n            &lt;user-name&gt;username&lt;/user-name&gt;\n            &lt;password&gt;password&lt;/password&gt;\n        &lt;/security&gt;\n&lt;/datasource&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\n    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\n&lt;/driver&gt;\n</code></pre>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":5,"creation_date":1277122115,"post_id":3084420,"comment_id":3161331,"body_markdown":"I left my crystal ball in my other pants","body":"I left my crystal ball in my other pants"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1277122176,"post_id":3084420,"comment_id":3161336,"body_markdown":"An error trace would be helpful - AssertionFailedError is a junit class, does this happen during a test?","body":"An error trace would be helpful - AssertionFailedError is a junit class, does this happen during a test?"}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1277122369,"post_id":3084474,"comment_id":3161360,"body_markdown":"`AssertionFailedError` is a JUnit thing, not a java `assert` thing.","body":"<code>AssertionFailedError</code> is a JUnit thing, not a java <code>assert</code> thing."}],"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1277130028,"creation_date":1277122298,"answer_id":3084474,"question_id":3084420,"body_markdown":"Constructor that you are using (`TableViewer`) or two setters (`setContentProvider`, `setLabelProvider`) have guarding [`assert`][1] statements which are throwing these exceptions. Author of the code had an idea to protect its code from irregular parameters that you are using when invoking her/his code.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html","title":"why do we get AssertionFailedError?","body":"<p>Constructor that you are using (<code>TableViewer</code>) or two setters (<code>setContentProvider</code>, <code>setLabelProvider</code>) have guarding <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html\" rel=\"nofollow noreferrer\"><code>assert</code></a> statements which are throwing these exceptions. Author of the code had an idea to protect its code from irregular parameters that you are using when invoking her/his code.</p>\n"},{"tags":[],"owner":{"account_id":59595,"reputation":3734,"user_id":178274,"accept_rate":50,"display_name":"denis.zhdanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277123244,"creation_date":1277123244,"answer_id":3084561,"question_id":3084420,"body_markdown":"The stack trace shows that your call to *&#39;TableViewer.setLabelProvider()&#39;* from *&#39;BOAttributesPage.populateAttributeTableContents()&#39;* eventually results in call to *&#39;org.eclipse.jface.viewers.StructuredViewer.disassociate()*&#39; with *null* argument and that method constraints input argument to be not-*null*.","title":"why do we get AssertionFailedError?","body":"<p>The stack trace shows that your call to <em>'TableViewer.setLabelProvider()'</em> from <em>'BOAttributesPage.populateAttributeTableContents()'</em> eventually results in call to <em>'org.eclipse.jface.viewers.StructuredViewer.disassociate()</em>' with <em>null</em> argument and that method constraints input argument to be not-<em>null</em>.</p>\n"},{"tags":[],"owner":{"account_id":132584,"reputation":433,"user_id":333374,"display_name":"drstupid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282424304,"creation_date":1282424304,"answer_id":3538962,"question_id":3084420,"body_markdown":"It looks like BOAttributeTableContentProvider provides a null object somewhere along line (one of the elements you are trying to display in the table is null).\r\nDebug the content provider. Hope my late answer will help.","title":"why do we get AssertionFailedError?","body":"<p>It looks like BOAttributeTableContentProvider provides a null object somewhere along line (one of the elements you are trying to display in the table is null).\nDebug the content provider. Hope my late answer will help.</p>\n"},{"tags":[],"owner":{"account_id":740277,"reputation":21,"user_id":716785,"display_name":"Sumeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353741678,"creation_date":1303289510,"answer_id":5727766,"question_id":3084420,"body_markdown":"Make sure the &quot;test&quot; at the beginning of the method name is lower case. If you say TestMethod you will get this error message. You should say testMethod. \r\n\r\nFor example:\r\n\r\n    @Test\r\n        public void test_VPlugin() throws Exception {\r\n\r\nThis works for me and I hope it will work for you","title":"why do we get AssertionFailedError?","body":"<p>Make sure the \"test\" at the beginning of the method name is lower case. If you say TestMethod you will get this error message. You should say testMethod. </p>\n\n<p>For example:</p>\n\n<pre><code>@Test\n    public void test_VPlugin() throws Exception {\n</code></pre>\n\n<p>This works for me and I hope it will work for you</p>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3084474,"answer_count":4,"score":1,"last_activity_date":1688580395,"creation_date":1277121839,"question_id":3084420,"body_markdown":"I have the following piece of code:\r\n\r\n            TableViewer tv = new TableViewer(attributeTable);\r\n    \t\ttv.setContentProvider(new BOAttributeTableContentProvider());\r\n    \t\ttv.setLabelProvider(new BOAttributeTableLabelProvider());\r\n\r\nwhere while setting the label provider i am getting `AssertionFailedError`. can anybody tell me what wrong i am doing here? or in which case it throws this error?\r\n\r\nerror Log:\r\n\r\n    org.eclipse.jface.util.Assert$AssertionFailedException: null argument;\r\n    \tat org.eclipse.jface.util.Assert.isNotNull(Assert.java:150)\r\n    \tat org.eclipse.jface.util.Assert.isNotNull(Assert.java:126)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.disassociate(StructuredViewer.java:615)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:904)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:818)\r\n    \tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:807)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1388)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1323)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1386)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1345)\r\n    \tat org.eclipse.jface.viewers.ContentViewer.setLabelProvider(ContentViewer.java:281)\r\n    \tat org.eclipse.jface.viewers.StructuredViewer.setLabelProvider(StructuredViewer.java:2003)\r\n    \tat org.eclipse.jface.viewers.TableViewer.setLabelProvider(TableViewer.java:1086)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.populateAttributeTableContents(BOAttributesPage.java:458)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.access$000(BOAttributesPage.java:128)\r\n    \tat com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage$1.setToModel(BOAttributesPage.java:341)\r\n    \tat com.trapedza.bankfusion.editor.AbstractEditorDelegate.updateData(AbstractEditorDelegate.java:173)\r\n    \tat com.trapedza.bankfusion.editor.AbstractEditorDelegate$1.dialogFieldChanged(AbstractEditorDelegate.java:181)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.DialogField.dialogFieldChanged(DialogField.java:132)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.ListBoxDialogField.doModifySelection(ListBoxDialogField.java:51)\r\n    \tat com.trapedza.bankfusion.utils.dialogs.internal.ComboDialogField$2.widgetSelected(ComboDialogField.java:153)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\r\n    \tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\r\n    \tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n    \tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\r\n    \tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:585)\r\n    \tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\r\n    \tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\r\n    \tat org.eclipse.core.launcher.Main.run(Main.java:977)\r\n    \tat org.eclipse.core.launcher.Main.main(Main.java:952)","title":"why do we get AssertionFailedError?","body":"<p>I have the following piece of code:</p>\n\n<pre><code>        TableViewer tv = new TableViewer(attributeTable);\n        tv.setContentProvider(new BOAttributeTableContentProvider());\n        tv.setLabelProvider(new BOAttributeTableLabelProvider());\n</code></pre>\n\n<p>where while setting the label provider i am getting <code>AssertionFailedError</code>. can anybody tell me what wrong i am doing here? or in which case it throws this error?</p>\n\n<p>error Log:</p>\n\n<pre><code>org.eclipse.jface.util.Assert$AssertionFailedException: null argument;\n    at org.eclipse.jface.util.Assert.isNotNull(Assert.java:150)\n    at org.eclipse.jface.util.Assert.isNotNull(Assert.java:126)\n    at org.eclipse.jface.viewers.StructuredViewer.disassociate(StructuredViewer.java:615)\n    at org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:904)\n    at org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:818)\n    at org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:807)\n    at org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1388)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1323)\n    at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1386)\n    at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1345)\n    at org.eclipse.jface.viewers.ContentViewer.setLabelProvider(ContentViewer.java:281)\n    at org.eclipse.jface.viewers.StructuredViewer.setLabelProvider(StructuredViewer.java:2003)\n    at org.eclipse.jface.viewers.TableViewer.setLabelProvider(TableViewer.java:1086)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.populateAttributeTableContents(BOAttributesPage.java:458)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage.access$000(BOAttributesPage.java:128)\n    at com.misys.bankfusion.bpdesigner.boeditor.pages.BOAttributesPage$1.setToModel(BOAttributesPage.java:341)\n    at com.trapedza.bankfusion.editor.AbstractEditorDelegate.updateData(AbstractEditorDelegate.java:173)\n    at com.trapedza.bankfusion.editor.AbstractEditorDelegate$1.dialogFieldChanged(AbstractEditorDelegate.java:181)\n    at com.trapedza.bankfusion.utils.dialogs.internal.DialogField.dialogFieldChanged(DialogField.java:132)\n    at com.trapedza.bankfusion.utils.dialogs.internal.ListBoxDialogField.doModifySelection(ListBoxDialogField.java:51)\n    at com.trapedza.bankfusion.utils.dialogs.internal.ComboDialogField$2.widgetSelected(ComboDialogField.java:153)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n    at org.eclipse.core.launcher.Main.run(Main.java:977)\n    at org.eclipse.core.launcher.Main.main(Main.java:952)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688198369,"post_id":76591966,"comment_id":135044400,"body_markdown":"Have you tried to check what happens if the task is no successful?","body":"Have you tried to check what happens if the task is no successful?"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1688208952,"post_id":76591966,"comment_id":135045363,"body_markdown":"Whats the error you got?","body":"Whats the error you got?"},{"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"score":0,"creation_date":1688273097,"post_id":76591966,"comment_id":135050599,"body_markdown":"FirebaseInstanceId Cannot resolve symbol when upgrade firebase dependencies older to new version","body":"FirebaseInstanceId Cannot resolve symbol when upgrade firebase dependencies older to new version"}],"answers":[{"tags":[],"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688580079,"creation_date":1688580079,"answer_id":76622946,"question_id":76591966,"body_markdown":"**FirebaseInstanceId is no more working and replace with FirebaseInstallations**\r\n\r\n    FirebaseInstallations.getInstance().getToken(true).addOnCompleteListener(new OnCompleteListener&lt;InstallationTokenResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;InstallationTokenResult&gt; task) {\r\n                        if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\r\n                            String unused = LoginActivity.this.tokenid = task.getResult().getToken();\r\n                            Log.d(&quot;Installations&quot;, &quot;Installation auth token: &quot; + task.getResult().getToken());\r\n                        } else {\r\n                            Log.e(&quot;Installations&quot;, &quot;Unable to get Installation auth token&quot;);\r\n                        }\r\n                        if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                            String unused2 = userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                        }\r\n                        NoteUserData noteUserData = new NoteUserData();\r\n                        noteUserData.setDoc_id(userid);\r\n                        noteUserData.setToken(tokenid);\r\n                        noteUserData.setUseremail(useremail);\r\n                        noteUserData.setUserphone(userphone);\r\n                        noteUserData.setAccountstatus(&quot;Approved&quot;);\r\n                        noteUserData.setIdcheckstatus(false);\r\n                        FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\r\n                    }\r\n                });","title":"FirebaseInstanceId Cannot resolve symbol","body":"<p><strong>FirebaseInstanceId is no more working and replace with FirebaseInstallations</strong></p>\n<pre><code>FirebaseInstallations.getInstance().getToken(true).addOnCompleteListener(new OnCompleteListener&lt;InstallationTokenResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;InstallationTokenResult&gt; task) {\n                    if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\n                        String unused = LoginActivity.this.tokenid = task.getResult().getToken();\n                        Log.d(&quot;Installations&quot;, &quot;Installation auth token: &quot; + task.getResult().getToken());\n                    } else {\n                        Log.e(&quot;Installations&quot;, &quot;Unable to get Installation auth token&quot;);\n                    }\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                        String unused2 = userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                    }\n                    NoteUserData noteUserData = new NoteUserData();\n                    noteUserData.setDoc_id(userid);\n                    noteUserData.setToken(tokenid);\n                    noteUserData.setUseremail(useremail);\n                    noteUserData.setUserphone(userphone);\n                    noteUserData.setAccountstatus(&quot;Approved&quot;);\n                    noteUserData.setIdcheckstatus(false);\n                    FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\n                }\n            });\n</code></pre>\n"}],"owner":{"account_id":14175677,"reputation":554,"user_id":10241027,"display_name":"Azmat Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688580079,"creation_date":1688155701,"question_id":76591966,"body_markdown":"The code is working in older firebase dependencies when I upgrade to newest version getting error FirebaseInstanceId Cannot resolve symbol. Want to getToken through FirebaseInstanceId\r\n\r\nOlder Version build.gradle file:\r\n\r\n    //Firebase\r\n    implementation &#39;com.google.firebase:firebase-auth:16.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:17.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:17.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:16.0.0&#39;\r\n    //FirebaseUI\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n\r\n\r\nHere is my New Version build.gradle file:\r\n\r\n    //Firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.1.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-firestore:&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:&#39;\r\n    //FirebaseUI\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n\r\nHow to get the token id using FirebaseInstanceId \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this code \r\n\r\n    FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\r\n                    public void onComplete(Task&lt;InstanceIdResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            if (task.getResult() != null) {\r\n                                String unused = LoginActivity.this.tokenid = task.getResult().getToken();\r\n                            }\r\n                            if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                                String unused2 = LoginActivity.this.userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                            }\r\n                            NoteUserData noteUserData = new NoteUserData();\r\n                            noteUserData.setDoc_id(userid);\r\n                            noteUserData.setToken(tokenid);\r\n                            noteUserData.setUseremail(useremail);\r\n                            noteUserData.setUserphone(userphone);\r\n                            noteUserData.setAccountstatus(&quot;Approved&quot;);\r\n                            noteUserData.setIdcheckstatus(false);\r\n                            FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n    \r\n\r\n   \r\n\r\n  [1]: https://i.stack.imgur.com/CUlwi.png","title":"FirebaseInstanceId Cannot resolve symbol","body":"<p>The code is working in older firebase dependencies when I upgrade to newest version getting error FirebaseInstanceId Cannot resolve symbol. Want to getToken through FirebaseInstanceId</p>\n<p>Older Version build.gradle file:</p>\n<pre><code>//Firebase\nimplementation 'com.google.firebase:firebase-auth:16.0.2'\nimplementation 'com.google.firebase:firebase-firestore:17.0.1'\nimplementation 'com.google.firebase:firebase-messaging:17.1.0'\nimplementation 'com.google.firebase:firebase-core:16.0.0'\n//FirebaseUI\nimplementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n</code></pre>\n<p>Here is my New Version build.gradle file:</p>\n<pre><code>//Firebase\nimplementation platform('com.google.firebase:firebase-bom:32.1.1')\nimplementation 'com.google.firebase:firebase-firestore:'\nimplementation 'com.google.firebase:firebase-messaging:'\nimplementation 'com.google.firebase:firebase-auth:'\nimplementation 'com.google.firebase:firebase-core:'\n//FirebaseUI\nimplementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n</code></pre>\n<p>How to get the token id using FirebaseInstanceId</p>\n<p><a href=\"https://i.stack.imgur.com/CUlwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CUlwi.png\" alt=\"enter image description here\" /></a></p>\n<p>In this code</p>\n<pre><code>FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\n                public void onComplete(Task&lt;InstanceIdResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        if (task.getResult() != null) {\n                            String unused = LoginActivity.this.tokenid = task.getResult().getToken();\n                        }\n                        if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                            String unused2 = LoginActivity.this.userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                        }\n                        NoteUserData noteUserData = new NoteUserData();\n                        noteUserData.setDoc_id(userid);\n                        noteUserData.setToken(tokenid);\n                        noteUserData.setUseremail(useremail);\n                        noteUserData.setUserphone(userphone);\n                        noteUserData.setAccountstatus(&quot;Approved&quot;);\n                        noteUserData.setIdcheckstatus(false);\n                        FirebaseFirestore.getInstance().collection(getResources().getString(R.string.dataUsers)).document(userid).set(noteUserData);\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","gradle","angular-fullstack"],"owner":{"account_id":28957608,"reputation":1,"user_id":22180826,"display_name":"Niko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688579779,"creation_date":1688579779,"question_id":76622910,"body_markdown":"[enter image description here](https://i.stack.imgur.com/D6824.png)\r\nDoes anyone know why this happens. This keeps going until reaching around 100+, and I do not know why.\r\n\r\nI&#39;m a bit new, so I have not tried to do much, but I did try adding the jcenter() input in this snippet.\r\n`maven {\r\n    url &quot;https://maven.google.com&quot;\r\n}\r\njcenter()`\r\nAt one point, but that failed to work properly. ","title":"Error when running code, backend:detachedConfiguration1 is both resolvable and consumable","body":"<p><a href=\"https://i.stack.imgur.com/D6824.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nDoes anyone know why this happens. This keeps going until reaching around 100+, and I do not know why.</p>\n<p>I'm a bit new, so I have not tried to do much, but I did try adding the jcenter() input in this snippet.\n<code>maven { url &quot;https://maven.google.com&quot; } jcenter()</code>\nAt one point, but that failed to work properly.</p>\n"},{"tags":["java","file","path","filepath"],"comments":[{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":0,"creation_date":1363267346,"post_id":15410431,"comment_id":21788420,"body_markdown":"What doesn&#39;t work using `Path.subpath()`?","body":"What doesn&#39;t work using <code>Path.subpath()</code>?"},{"owner":{"account_id":289132,"reputation":2575,"user_id":589921,"accept_rate":83,"display_name":"Dara Java"},"score":0,"creation_date":1363267516,"post_id":15410431,"comment_id":21788512,"body_markdown":"Using `Path.subpath(0, 2)` gives me `home/Dara`. I would like to be able to say something like `Path.subpath(myPath.length() - 3, myPath.length() - 1` to get `baz/qux`.","body":"Using <code>Path.subpath(0, 2)</code> gives me <code>home&#47;Dara</code>. I would like to be able to say something like <code>Path.subpath(myPath.length() - 3, myPath.length() - 1</code> to get <code>baz&#47;qux</code>."},{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":3,"creation_date":1363267775,"post_id":15410431,"comment_id":21788713,"body_markdown":"Can&#39;t you use `Path.getNameCount()` for the length?","body":"Can&#39;t you use <code>Path.getNameCount()</code> for the length?"}],"answers":[{"comments":[{"owner":{"account_id":289132,"reputation":2575,"user_id":589921,"accept_rate":83,"display_name":"Dara Java"},"score":0,"creation_date":1363267392,"post_id":15410473,"comment_id":21788452,"body_markdown":"True, I am doing that now but I would be more comfortable using a more generic way.","body":"True, I am doing that now but I would be more comfortable using a more generic way."},{"owner":{"account_id":1854334,"reputation":5145,"user_id":1680256,"accept_rate":88,"display_name":"Bhavik Shah"},"score":0,"creation_date":1363267617,"post_id":15410473,"comment_id":21788590,"body_markdown":"what do you mean by more generic way?","body":"what do you mean by more generic way?"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1658642495,"post_id":15410473,"comment_id":129098995,"body_markdown":"Make sure to use `System.getProperty(&quot;file.separator&quot;)` and not specifically a `&quot;/&quot;` in your calls.","body":"Make sure to use <code>System.getProperty(&quot;file.separator&quot;)</code> and not specifically a <code>&quot;&#47;&quot;</code> in your calls."}],"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1363267319,"creation_date":1363267319,"answer_id":15410473,"question_id":15410431,"body_markdown":"You could just [`split`][1] the String or use a [`StringTokenizer`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html","title":"Extracting parts of paths in Java","body":"<p>You could just <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\"><code>split</code></a> the String or use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow\"><code>StringTokenizer</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363268126,"creation_date":1363267424,"answer_id":15410511,"question_id":15410431,"body_markdown":"`File.getParent()` will remove the filename.\r\n\r\nAnd the path separator you will get with: `System.getProperty(&quot;file.separator&quot;)`.\r\n\r\nThen you can use `String.split()` to get each part of the path.","title":"Extracting parts of paths in Java","body":"<p><code>File.getParent()</code> will remove the filename.</p>\n\n<p>And the path separator you will get with: <code>System.getProperty(\"file.separator\")</code>.</p>\n\n<p>Then you can use <code>String.split()</code> to get each part of the path.</p>\n"},{"tags":[],"owner":{"account_id":1494613,"reputation":20480,"user_id":1400869,"accept_rate":67,"display_name":"D.R."},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1363270164,"creation_date":1363267468,"answer_id":15410530,"question_id":15410431,"body_markdown":"Not yet pretty, however, you guess the direction:\r\n\r\n    File parent = file.getParentFile();\r\n    File parent2 = parent.getParentFile();\r\n    parent2.getName() + System.getProperty(&quot;path.separator&quot;) + parent.getName()\r\n\r\n\r\nAnother option:\r\n\r\n    final int len = path.getNameCount();\r\n    path.subpath(len - 3, len - 1)\r\n\r\nEdit: You should either check len or catch the `IllegalArgumentException` to make your code more robust.","title":"Extracting parts of paths in Java","body":"<p>Not yet pretty, however, you guess the direction:</p>\n\n<pre><code>File parent = file.getParentFile();\nFile parent2 = parent.getParentFile();\nparent2.getName() + System.getProperty(\"path.separator\") + parent.getName()\n</code></pre>\n\n<p>Another option:</p>\n\n<pre><code>final int len = path.getNameCount();\npath.subpath(len - 3, len - 1)\n</code></pre>\n\n<p>Edit: You should either check len or catch the <code>IllegalArgumentException</code> to make your code more robust.</p>\n"},{"tags":[],"owner":{"account_id":45571,"reputation":674,"user_id":134380,"display_name":"Juergen Hartelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1363269937,"creation_date":1363268378,"answer_id":15410932,"question_id":15410431,"body_markdown":"The methods `getNameCount()` and `getName(int index)` of `java.nio.Path` should help you:\r\n\r\n    File f = new File(&quot;/home/Dara/Desktop/foo/bar/baz/qux/file.txt&quot;);\r\n    Path p = f.toPath();\r\n    int pathElements = p.getNameCount();\r\n    String topOne = p.getName(pathElements-2).toString();\r\n    String topTwo = p.getName(pathElements-3).toString();\r\n\r\nPlease be aware, that the result of `getNameCount()` should be checked for validity, before using it as an index for `getName()`.\r\n\r\n","title":"Extracting parts of paths in Java","body":"<p>The methods <code>getNameCount()</code> and <code>getName(int index)</code> of <code>java.nio.Path</code> should help you:</p>\n\n<pre><code>File f = new File(\"/home/Dara/Desktop/foo/bar/baz/qux/file.txt\");\nPath p = f.toPath();\nint pathElements = p.getNameCount();\nString topOne = p.getName(pathElements-2).toString();\nString topTwo = p.getName(pathElements-3).toString();\n</code></pre>\n\n<p>Please be aware, that the result of <code>getNameCount()</code> should be checked for validity, before using it as an index for <code>getName()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506284677,"creation_date":1506248312,"answer_id":46388973,"question_id":15410431,"body_markdown":"Using subpath and getNameCount.\r\n\r\n        Path myPath = Paths.get(&quot;/home/Dara/Desktop/foo/bar/baz/qux/file.txt&quot;);\r\n        Path subPath = myPath.subpath(myPath.getNameCount() -3, myPath.getNameCount() -1);","title":"Extracting parts of paths in Java","body":"<p>Using subpath and getNameCount.</p>\n\n<pre><code>    Path myPath = Paths.get(\"/home/Dara/Desktop/foo/bar/baz/qux/file.txt\");\n    Path subPath = myPath.subpath(myPath.getNameCount() -3, myPath.getNameCount() -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688579434,"creation_date":1688579434,"answer_id":76622869,"question_id":15410431,"body_markdown":"To get path parts in Koltin\r\n\r\n    fun subPaths(path: Path, levels: Int): List&lt;Path&gt; {\r\n        return path.runningReduce { acc, value -&gt; acc.resolve(value) }.take(levels)\r\n    }","title":"Extracting parts of paths in Java","body":"<p>To get path parts in Koltin</p>\n<pre><code>fun subPaths(path: Path, levels: Int): List&lt;Path&gt; {\n    return path.runningReduce { acc, value -&gt; acc.resolve(value) }.take(levels)\n}\n</code></pre>\n"}],"owner":{"account_id":289132,"reputation":2575,"user_id":589921,"accept_rate":83,"display_name":"Dara Java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16340,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":15410530,"answer_count":6,"score":11,"last_activity_date":1688579434,"creation_date":1363267220,"question_id":15410431,"body_markdown":"I have a file path like this:\r\n\r\n    /home/Dara/Desktop/foo/bar/baz/qux/file.txt\r\n\r\nIn Java, I would like to be able to get the **top two** folders. Ie. `baz/qux` regardless of file path length or operating system (File path separators such as `/` `:` and `\\`). I have tried to use the `subpath()` method in `Paths` but I can&#39;t seem to find a generic way to get the length of the file path.","title":"Extracting parts of paths in Java","body":"<p>I have a file path like this:</p>\n\n<pre><code>/home/Dara/Desktop/foo/bar/baz/qux/file.txt\n</code></pre>\n\n<p>In Java, I would like to be able to get the <strong>top two</strong> folders. Ie. <code>baz/qux</code> regardless of file path length or operating system (File path separators such as <code>/</code> <code>:</code> and <code>\\</code>). I have tried to use the <code>subpath()</code> method in <code>Paths</code> but I can't seem to find a generic way to get the length of the file path.</p>\n"},{"tags":["java","spring","reactive","rsocket"],"owner":{"account_id":28956501,"reputation":1,"user_id":22179953,"display_name":"Dmitry Kropotov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688579333,"creation_date":1688579333,"question_id":76622849,"body_markdown":"everyone\r\nI try to call @MessageMapping endpoint using RSocketRequester.\r\nMy controller class which contains endpoint I want to be called is\r\n\r\n```\r\n@RestController\r\npublic class SomeController {\r\n    private static final Logger LOG = LoggerFactory.getLogger(SomeController.class);\r\n  \r\n    private TronCache&lt;String, RSocketConsumer&gt; consumersMapWarpper;\r\n    private Map&lt;String, RSocketConsumer&gt; consumersMap;\r\n    private Map&lt;String, CacheMetaInfo&gt; cacheMetaInfoMap = new HashMap();\r\n    private static final String GET_METADATA = &quot;getMetadata&quot;;\r\n\r\n    public SomeController() {\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        LOG.info(&quot;init in SomeController&quot;);\r\n    }\r\n\r\n    @ConnectMapping({&quot;handshake&quot;})\r\n    public void connect(RSocketRequester requester, @Payload RefDataRequest payload) {\r\n        LOG.info(&quot;Client Connection Handshake: [{}]&quot;, payload.getCallerName());\r\n        this.validateConnection(payload);\r\n        requester.route(&quot;handshake&quot;, new Object[0]).data(RefDataResponse.HANDSHAKE.callerName(this.instanceConfig.getPodName())).retrieveMono(ConsumerNotification.class).subscribe((c) -&gt; {\r\n            LOG.info(&quot;SOD Status[{}] Consumer[{}]&quot;, c.isSodCompleted(), c.getCallerName());\r\n            RSocketConsumer consumer = new RSocketConsumer(payload.getCallerName(), c, requester);\r\n            this.consumersMap.computeIfAbsent(payload.getCallerName(), (v) -&gt; {\r\n                return consumer;\r\n            });\r\n            this.setDisconnectionHandler(consumer);\r\n            this.itrsUpdater.publishAddConsumer(payload.getCallerName());\r\n        });\r\n    }\r\n\r\n    @ConnectMapping({&quot;genericConnection&quot;})\r\n    public void connectForProperty(RSocketRequester requester, @Payload RefDataRequest payload) {\r\n        LOG.info(&quot;Client Connection : [{}] [{}] &quot;, &quot;Generic [One time] Connection&quot;, payload.getCallerName());\r\n        this.validateConnection(payload);\r\n    }\r\n\r\n    @MessageMapping ({&quot;test&quot;})\r\n    public Mono&lt;String&gt; getString(String s) {\r\n        LOG.info(&quot;test in RefDataController&quot;);\r\n        return Mono.just(&quot;string&quot;);\r\n    }\r\n\r\n}\r\n```\r\nMy class in another application which calls endpoint is \r\n```\r\npublic class RSocketConnector {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(RSocketRefDataConnector.class);\r\n\r\n    private RSocketRequester requester;\r\n    private boolean initialized;\r\n    private final String host;\r\n    private final int port;\r\n\r\n    private final String podName;\r\n    private final String environment;\r\n    private final String setupRoute;\r\n\r\n \r\n    private final String encoders;\r\n\r\n    private final String decoders;\r\n\r\n\r\n    public String getHost() {\r\n        return host;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param host\r\n     * @param port\r\n     * @param podName\r\n     * @param environment\r\n     * @param encoders\r\n     * @param decoders\r\n     */\r\n    private RSocketRefDataConnector(String host,\r\n                                    int port,\r\n                                    String podName,\r\n                                    String environment,\r\n                                    String setupRoute,\r\n                                    String encoders,\r\n                                    String decoders) {\r\n        this.host = host;\r\n        this.port = port;\r\n        this.podName = podName;\r\n        this,setupRoute = setupRoute;\r\n        this.environment = environment;\r\n        this.encoders=StringUtils.defaultIfBlank(encoders,Jackson2CborEncoder.class.getName());\r\n        this.decoders=StringUtils.defaultIfBlank(decoders,Jackson2CborDecoder.class.getName());\r\n    }\r\n\r\n  \r\n    public void initialize() {\r\n\r\n        RSocketStrategies strategies;\r\n        try {\r\n            strategies = new RSocketConfig().rsocketCustomEncoderDecoder(encoders,decoders);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        ClientTransport transport = this.createTransport(host, port);\r\n\r\n        requester = RSocketRequester.builder()\r\n                .rsocketConnector(connector -&gt; {\r\n                    connector.reconnect(getRetrySpec())\r\n                            .acceptor(RSocketMessageHandler.responder(strategies, this))\r\n                            .payloadDecoder(PayloadDecoder.ZERO_COPY);\r\n                })\r\n                .dataMimeType(MediaType.APPLICATION_CBOR)\r\n                .setupRoute(this.setupRoute)\r\n                .setupData(RefDataRequest.SIGNAL.handShake(podName, environment, TronRuntimeConfig.hostInfo()))\r\n                .rsocketStrategies(strategies)\r\n                .transport(transport);\r\n\r\n        if (!isOneTimeConnection) {\r\n            setDisconnectionHandler();\r\n            //Heartbeat check\r\n            Flux.interval(Duration.ofMinutes(1))\r\n                    .doOnNext(l -&gt; heartbeatCheck())\r\n                    .subscribe();\r\n\r\n            initialized = true;\r\n        }\r\n        //calling endpoint\r\n         requester.route(&quot;test&quot;).data(&quot;hello&quot;)\r\n                .retrieveMono(String.class)\r\n                .doOnNext(o-&gt;LOG.info(&quot;inbound message&quot;))\r\n                .onErrorContinue((e,t)-&gt;LOG.info(&quot;contine on erro&quot;))\r\n                .doOnSuccess(r -&gt; LOG.info(&quot;message from test doOnSuccess is &quot; + r))\r\n                .subscribe();\r\n    }\r\n\r\n      /**\r\n     * @param host\r\n     * @param port\r\n     * @return\r\n     */\r\n    private ClientTransport createTransport(String host, int port) {\r\n        if (isProtocolWebsocket()) {\r\n            LOG.info(&quot;SSL : {}&quot;, this.ssl);\r\n            if (this.ssl) {\r\n                LOG.info(&quot;Initializing refdata websocket secure connection [{}]&quot;, String.format(WSS_URL_PATTERN, host, port));\r\n                return WebsocketClientTransport.create(\r\n                        HttpClient.create()\r\n                                .baseUrl(String.format(WSS_URL_PATTERN, host, port))\r\n                                .secure((s) -&gt; s.sslContext(buildSslContext()))\r\n                        , WS_PATH);\r\n            } else {\r\n                LOG.info(&quot;Initializing refdata websocket connection [{}]&quot;, String.format(WS_URL_PATTERN, host, port));\r\n                return WebsocketClientTransport.create(URI.create(String.format(WS_URL_PATTERN, host, port)));\r\n            }\r\n        } else {\r\n            LOG.info(&quot;Initializing refdata TCP connection [{}:{}]&quot;, host, port);\r\n            return TcpClientTransport.create(host, port);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @return\r\n     */\r\n    private SslContext buildSslContext() {\r\n\r\n        try {\r\n            KeyManager[] keyManagers = SSLUtils.getKeyManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet, trustStoreSafeNet);\r\n            TrustManager[] trustManagers = InsecureTrustManagerFactory.INSTANCE.getTrustManagers();//SSLUtils.getTrustManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet);\r\n\r\n            return SslContextBuilder.forClient()\r\n                    .clientAuth(ClientAuth.REQUIRE)\r\n                    .keyManager(keyManagers[0])\r\n                    .trustManager(trustManagers[0])\r\n                    .build();\r\n\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Exception occurred while building SSL Context [{}]&quot;, ExceptionUtils.getStackTrace(e));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public void heartbeatCheck() {\r\n        requester.route(ROUTE_HEARTBEAT)\r\n                .data(heartbeatRequest)\r\n                .retrieveMono(RefDataResponse.class)\r\n                .subscribe(r -&gt; connectionFailed.set(false));\r\n    }\r\n\r\n    /**\r\n     * @return\r\n     */\r\n    private Retry getRetrySpec() {\r\n        if (retryLimit == 0;\r\n            return Retry\r\n                    .fixedDelay(Integer.MAX_VALUE, Duration.ofSeconds(retryInterval))\r\n                    .scheduler(Schedulers.single())\r\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\r\n                    .doAfterRetry(e -&gt; {\r\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\r\n                        this.connectionFailed.set(true);\r\n                    });\r\n        else\r\n            return Retry\r\n                    .fixedDelay(retryLimit, Duration.ofSeconds(retryInterval))\r\n                    .scheduler(Schedulers.single())\r\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\r\n                    .doAfterRetry(e -&gt; {\r\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\r\n                        this.connectionFailed.set(true);\r\n                    })\r\n                    .onRetryExhaustedThrow((rb, rs) -&gt; new RefDataException(&quot;Unable to establish connection with RefData server. # of retry attempted [&quot; + retryLimit + &quot;]&quot;));\r\n    }\r\n\r\n}\r\n\r\n```\r\nI expect to receive &quot;string&quot; after calling &quot;test&quot; endpoint. Now my connection is getting closed without returning anything","title":"How to call @MessageMapping endpoint with RSocketRequester?","body":"<p>everyone\nI try to call @MessageMapping endpoint using RSocketRequester.\nMy controller class which contains endpoint I want to be called is</p>\n<pre><code>@RestController\npublic class SomeController {\n    private static final Logger LOG = LoggerFactory.getLogger(SomeController.class);\n  \n    private TronCache&lt;String, RSocketConsumer&gt; consumersMapWarpper;\n    private Map&lt;String, RSocketConsumer&gt; consumersMap;\n    private Map&lt;String, CacheMetaInfo&gt; cacheMetaInfoMap = new HashMap();\n    private static final String GET_METADATA = &quot;getMetadata&quot;;\n\n    public SomeController() {\n    }\n\n    @PostConstruct\n    public void init() {\n        LOG.info(&quot;init in SomeController&quot;);\n    }\n\n    @ConnectMapping({&quot;handshake&quot;})\n    public void connect(RSocketRequester requester, @Payload RefDataRequest payload) {\n        LOG.info(&quot;Client Connection Handshake: [{}]&quot;, payload.getCallerName());\n        this.validateConnection(payload);\n        requester.route(&quot;handshake&quot;, new Object[0]).data(RefDataResponse.HANDSHAKE.callerName(this.instanceConfig.getPodName())).retrieveMono(ConsumerNotification.class).subscribe((c) -&gt; {\n            LOG.info(&quot;SOD Status[{}] Consumer[{}]&quot;, c.isSodCompleted(), c.getCallerName());\n            RSocketConsumer consumer = new RSocketConsumer(payload.getCallerName(), c, requester);\n            this.consumersMap.computeIfAbsent(payload.getCallerName(), (v) -&gt; {\n                return consumer;\n            });\n            this.setDisconnectionHandler(consumer);\n            this.itrsUpdater.publishAddConsumer(payload.getCallerName());\n        });\n    }\n\n    @ConnectMapping({&quot;genericConnection&quot;})\n    public void connectForProperty(RSocketRequester requester, @Payload RefDataRequest payload) {\n        LOG.info(&quot;Client Connection : [{}] [{}] &quot;, &quot;Generic [One time] Connection&quot;, payload.getCallerName());\n        this.validateConnection(payload);\n    }\n\n    @MessageMapping ({&quot;test&quot;})\n    public Mono&lt;String&gt; getString(String s) {\n        LOG.info(&quot;test in RefDataController&quot;);\n        return Mono.just(&quot;string&quot;);\n    }\n\n}\n</code></pre>\n<p>My class in another application which calls endpoint is</p>\n<pre><code>public class RSocketConnector {\n\n    private static final Logger LOG = LoggerFactory.getLogger(RSocketRefDataConnector.class);\n\n    private RSocketRequester requester;\n    private boolean initialized;\n    private final String host;\n    private final int port;\n\n    private final String podName;\n    private final String environment;\n    private final String setupRoute;\n\n \n    private final String encoders;\n\n    private final String decoders;\n\n\n    public String getHost() {\n        return host;\n    }\n\n\n    /**\n     * @param host\n     * @param port\n     * @param podName\n     * @param environment\n     * @param encoders\n     * @param decoders\n     */\n    private RSocketRefDataConnector(String host,\n                                    int port,\n                                    String podName,\n                                    String environment,\n                                    String setupRoute,\n                                    String encoders,\n                                    String decoders) {\n        this.host = host;\n        this.port = port;\n        this.podName = podName;\n        this,setupRoute = setupRoute;\n        this.environment = environment;\n        this.encoders=StringUtils.defaultIfBlank(encoders,Jackson2CborEncoder.class.getName());\n        this.decoders=StringUtils.defaultIfBlank(decoders,Jackson2CborDecoder.class.getName());\n    }\n\n  \n    public void initialize() {\n\n        RSocketStrategies strategies;\n        try {\n            strategies = new RSocketConfig().rsocketCustomEncoderDecoder(encoders,decoders);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n        ClientTransport transport = this.createTransport(host, port);\n\n        requester = RSocketRequester.builder()\n                .rsocketConnector(connector -&gt; {\n                    connector.reconnect(getRetrySpec())\n                            .acceptor(RSocketMessageHandler.responder(strategies, this))\n                            .payloadDecoder(PayloadDecoder.ZERO_COPY);\n                })\n                .dataMimeType(MediaType.APPLICATION_CBOR)\n                .setupRoute(this.setupRoute)\n                .setupData(RefDataRequest.SIGNAL.handShake(podName, environment, TronRuntimeConfig.hostInfo()))\n                .rsocketStrategies(strategies)\n                .transport(transport);\n\n        if (!isOneTimeConnection) {\n            setDisconnectionHandler();\n            //Heartbeat check\n            Flux.interval(Duration.ofMinutes(1))\n                    .doOnNext(l -&gt; heartbeatCheck())\n                    .subscribe();\n\n            initialized = true;\n        }\n        //calling endpoint\n         requester.route(&quot;test&quot;).data(&quot;hello&quot;)\n                .retrieveMono(String.class)\n                .doOnNext(o-&gt;LOG.info(&quot;inbound message&quot;))\n                .onErrorContinue((e,t)-&gt;LOG.info(&quot;contine on erro&quot;))\n                .doOnSuccess(r -&gt; LOG.info(&quot;message from test doOnSuccess is &quot; + r))\n                .subscribe();\n    }\n\n      /**\n     * @param host\n     * @param port\n     * @return\n     */\n    private ClientTransport createTransport(String host, int port) {\n        if (isProtocolWebsocket()) {\n            LOG.info(&quot;SSL : {}&quot;, this.ssl);\n            if (this.ssl) {\n                LOG.info(&quot;Initializing refdata websocket secure connection [{}]&quot;, String.format(WSS_URL_PATTERN, host, port));\n                return WebsocketClientTransport.create(\n                        HttpClient.create()\n                                .baseUrl(String.format(WSS_URL_PATTERN, host, port))\n                                .secure((s) -&gt; s.sslContext(buildSslContext()))\n                        , WS_PATH);\n            } else {\n                LOG.info(&quot;Initializing refdata websocket connection [{}]&quot;, String.format(WS_URL_PATTERN, host, port));\n                return WebsocketClientTransport.create(URI.create(String.format(WS_URL_PATTERN, host, port)));\n            }\n        } else {\n            LOG.info(&quot;Initializing refdata TCP connection [{}:{}]&quot;, host, port);\n            return TcpClientTransport.create(host, port);\n        }\n    }\n\n    /**\n     * @return\n     */\n    private SslContext buildSslContext() {\n\n        try {\n            KeyManager[] keyManagers = SSLUtils.getKeyManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet, trustStoreSafeNet);\n            TrustManager[] trustManagers = InsecureTrustManagerFactory.INSTANCE.getTrustManagers();//SSLUtils.getTrustManagers(ResourceUtils.getURL(trustStore).openStream(), trustStoreSafeNet);\n\n            return SslContextBuilder.forClient()\n                    .clientAuth(ClientAuth.REQUIRE)\n                    .keyManager(keyManagers[0])\n                    .trustManager(trustManagers[0])\n                    .build();\n\n        } catch (Exception e) {\n            LOG.error(&quot;Exception occurred while building SSL Context [{}]&quot;, ExceptionUtils.getStackTrace(e));\n        }\n        return null;\n    }\n\n    /**\n     *\n     */\n    public void heartbeatCheck() {\n        requester.route(ROUTE_HEARTBEAT)\n                .data(heartbeatRequest)\n                .retrieveMono(RefDataResponse.class)\n                .subscribe(r -&gt; connectionFailed.set(false));\n    }\n\n    /**\n     * @return\n     */\n    private Retry getRetrySpec() {\n        if (retryLimit == 0;\n            return Retry\n                    .fixedDelay(Integer.MAX_VALUE, Duration.ofSeconds(retryInterval))\n                    .scheduler(Schedulers.single())\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\n                    .doAfterRetry(e -&gt; {\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\n                        this.connectionFailed.set(true);\n                    });\n        else\n            return Retry\n                    .fixedDelay(retryLimit, Duration.ofSeconds(retryInterval))\n                    .scheduler(Schedulers.single())\n                    //.doBeforeRetry(e -&gt; connectionFailed.set(true))\n                    .doAfterRetry(e -&gt; {\n                        LOG.warn(&quot;doAfterRetry===&gt;{}&quot;, e);\n                        this.connectionFailed.set(true);\n                    })\n                    .onRetryExhaustedThrow((rb, rs) -&gt; new RefDataException(&quot;Unable to establish connection with RefData server. # of retry attempted [&quot; + retryLimit + &quot;]&quot;));\n    }\n\n}\n\n</code></pre>\n<p>I expect to receive &quot;string&quot; after calling &quot;test&quot; endpoint. Now my connection is getting closed without returning anything</p>\n"},{"tags":["java","spring-boot","aws-lambda","pulumi"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688557613,"post_id":76619974,"comment_id":135088533,"body_markdown":"You are using Spring Boot 2 but are using an AWS library for Spring Boot 3... Which isn&#39;t compatible.","body":"You are using Spring Boot 2 but are using an AWS library for Spring Boot 3... Which isn&#39;t compatible."},{"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"score":0,"creation_date":1688631001,"post_id":76619974,"comment_id":135100278,"body_markdown":"It is not possible to run Pulumi Lamda Function with java17 . If I use the Springboot3 library with dependecy of the latest version and use sourceCompatibility = 11in Gradle I get following error message * What went wrong:\nExecution failed for task &#39;:compileJava&#39;.\n      &gt; No matching variant of org.springframework.boot:spring-boot-starter-web:3.1.1 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 11,   What should I do to use pulumi og gradle to deploy springboot3?","body":"It is not possible to run Pulumi Lamda Function with java17 . If I use the Springboot3 library with dependecy of the latest version and use sourceCompatibility = 11in Gradle I get following error message * What went wrong: Execution failed for task &#39;:compileJava&#39;.       &gt; No matching variant of org.springframework.boot:spring-boot-starter-web:3.1.1 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 11,   What should I do to use pulumi og gradle to deploy springboot3?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688631356,"post_id":76619974,"comment_id":135100358,"body_markdown":"Then you cannot use SPring BOot 3 as that has a minimum requirement of Java17 and simply won&#39;t work with anything lower then that.","body":"Then you cannot use SPring BOot 3 as that has a minimum requirement of Java17 and simply won&#39;t work with anything lower then that."}],"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688578897,"creation_date":1688557387,"question_id":76619974,"body_markdown":"I want to run Spring Boot Controllers on AWS Lamda Function. I have a Handler that looks like this:\r\n\r\n    package com.amazonaws.serverless.sample.springboot3;\r\n\r\n\r\n    import com.amazonaws.serverless.exceptions.ContainerInitializationException;\r\n    import com.amazonaws.serverless.proxy.internal.testutils.Timer;\r\n    import com.amazonaws.serverless.proxy.model.AwsProxyRequest;\r\n    import com.amazonaws.serverless.proxy.model.AwsProxyResponse;\r\n    import com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\r\n    import com.amazonaws.serverless.sample.springboot3.filter.CognitoIdentityFilter;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    \r\n    import jakarta.servlet.DispatcherType;\r\n    import jakarta.servlet.FilterRegistration;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.EnumSet;\r\n    \r\n    \r\n    public class StreamLambdaHandler implements RequestStreamHandler {\r\n        private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n        static {\r\n            try {\r\n                handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\r\n    \r\n                // For applications that take longer than 10 seconds to start, use the async builder:\r\n                // handler = new SpringBootProxyHandlerBuilder&lt;AwsProxyRequest&gt;()\r\n                //                    .defaultProxy()\r\n                //                    .asyncInit()\r\n                //                    .springBootApplication(Application.class)\r\n                //                    .buildAndInitialize();\r\n    \r\n                // we use the onStartup method of the handler to register our custom filter\r\n                handler.onStartup(servletContext -&gt; {\r\n                    FilterRegistration.Dynamic registration = servletContext.addFilter(&quot;CognitoIdentityFilter&quot;, CognitoIdentityFilter.class);\r\n                    registration.addMappingForUrlPatterns(EnumSet.of(DispatcherType.REQUEST), true, &quot;/*&quot;);\r\n                });\r\n            } catch (ContainerInitializationException e) {\r\n                // if we fail here. We re-throw the exception to force another cold start\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\r\n            }\r\n        }\r\n    \r\n        public StreamLambdaHandler() {\r\n            // we enable the timer for debugging. This SHOULD NOT be enabled in production.\r\n            Timer.enable();\r\n        }\r\n    \r\n        @Override\r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\r\n                throws IOException {\r\n            handler.proxyStream(inputStream, outputStream, context);\r\n        }\r\n    }\r\n\r\nThe Gradle build looks like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n      mavenLocal()\r\n      mavenCentral()\r\n    }\r\n    \r\n    sourceCompatibility = 11\r\n    targetCompatibility = 11\r\n    \r\n    dependencies {\r\n      implementation (\r\n              implementation(&#39;org.springframework.boot:spring-boot-starter-web:2.7.13&#39;) {\r\n                exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-tomcat&#39;\r\n              },\r\n              &#39;com.amazonaws.serverless:aws-serverless-java-container-springboot3:[2.0-SNAPSHOT,)&#39;,\r\n      )\r\n    }\r\n    \r\n    task buildZip(type: Zip) {\r\n      from compileJava\r\n      from processResources\r\n      into(&#39;lib&#39;) {\r\n        from(configurations.compileClasspath) {\r\n          exclude &#39;tomcat-embed-*&#39;\r\n        }\r\n      }\r\n    }\r\n    \r\n    build.dependsOn buildZip\r\n\r\nI deploy the code to Lamda Function with this Pulumi Code:\r\n\r\n    import * as aws from &quot;@pulumi/aws&quot;\r\n    import * as pulumi from &quot;@pulumi/pulumi&quot;;\r\n    import  {usersExecutionRole} from &quot;./UsersExecutionRole&quot;\r\n    \r\n    const stack = pulumi.getStack()\r\n    const handler= &quot;com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler&quot;\r\n    \r\n    \r\n    export const usersFunction = new aws.lambda.Function(&quot;users-function&quot;, {\r\n        code: new pulumi.asset.FileArchive(&quot;../build/distributions/pet.zip&quot;),   \r\n        runtime: aws.lambda.Runtime.Java11,\r\n        handler: handler,\r\n        role: usersExecutionRole.arn,\r\n        name: stack + &#39;-&#39; +&quot;petsFunction&quot;,\r\n        memorySize: 10240,\r\n        timeout: 900,\r\n        tracingConfig:{mode:&quot;Active&quot;},\r\n        architectures:[&quot;arm64&quot;],\r\n        \r\n            }\r\n    \r\n    },\r\n\r\nWhen I invoke the Lamda Function with curl\r\n curl https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets\r\nI get follwing message:\r\n{&quot;message&quot;:&quot;Internal Server Error&quot;}%\r\n\r\nThe ClodWatch display following message:\r\n\r\n    Error loading class com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler: javax/servlet/ServletException: java.lang.NoClassDefFoundError\r\n    java.lang.NoClassDefFoundError: javax/servlet/ServletException\r\n    \tat org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext$Factory.create(AnnotationConfigServletWebServerApplicationContext.java:230)\r\n    \tat org.springframework.boot.DefaultApplicationContextFactory.getFromSpringFactories(DefaultApplicationContextFactory.java:61)\r\n    \tat org.springframework.boot.DefaultApplicationContextFactory.create(DefaultApplicationContextFactory.java:48)\r\n    \tat org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:566)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.initialize(SpringBootLambdaContainerHandler.java:189)\r\n    \tat com.amazonaws.serverless.proxy.InitializationWrapper.start(InitializationWrapper.java:35)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootProxyHandlerBuilder.buildAndInitialize(SpringBootProxyHandlerBuilder.java:79)\r\n    \tat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.getAwsProxyHandler(SpringBootLambdaContainerHandler.java:87)\r\n    \tat com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler.&lt;clinit&gt;(StreamLambdaHandler.java:26)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletException. Current classpath: file:/var/task/:file:/var/task/lib/aws-lambda-java-core-1.2.2.jar:file:/var/task/lib/aws-serverless-java-container-core-2.0.0-M1.jar:file:/var/task/lib/aws-serverless-java-container-springboot3-2.0.0-M1.jar:file:/var/task/lib/commons-io-2.12.0.jar:file:/var/task/lib/jackson-annotations-2.15.1.jar:file:/var/task/lib/jackson-core-2.15.1.jar:file:/var/task/lib/jackson-databind-2.15.1.jar:file:/var/task/lib/jackson-datatype-jdk8-2.15.1.jar:file:/var/task/lib/jackson-datatype-jsr310-2.15.1.jar:file:/var/task/lib/jackson-module-afterburner-2.15.1.jar:file:/var/task/lib/jackson-module-parameter-names-2.15.1.jar:file:/var/task/lib/jakarta.annotation-api-1.3.5.jar:file:/var/task/lib/jakarta.servlet-api-6.0.0.jar:file:/var/task/lib/jakarta.ws.rs-api-3.1.0.jar:file:/var/task/lib/jul-to-slf4j-1.7.36.jar:file:/var/task/lib/log4j-api-2.17.2.jar:file:/var/task/lib/log4j-to-slf4j-2.17.2.jar:file:/var/task/lib/logback-classic-1.2.12.jar:file:/var/task/lib/logback-core-1.2.12.jar:file:/var/task/lib/slf4j-api-2.0.7.jar:file:/var/task/lib/snakeyaml-1.30.jar:file:/var/task/lib/spring-aop-5.3.28.jar:file:/var/task/lib/spring-beans-5.3.28.jar:file:/var/task/lib/spring-boot-2.7.13.jar:file:/var/task/lib/spring-boot-autoconfigure-2.7.13.jar:file:/var/task/lib/spring-boot-starter-2.7.13.jar:file:/var/task/lib/spring-boot-starter-json-2.7.13.jar:file:/var/task/lib/spring-boot-starter-logging-2.7.13.jar:file:/var/task/lib/spring-boot-starter-web-2.7.13.jar:file:/var/task/lib/spring-context-5.3.28.jar:file:/var/task/lib/spring-core-5.3.28.jar:file:/var/task/lib/spring-expression-5.3.28.jar:file:/var/task/lib/spring-jcl-5.3.28.jar:file:/var/task/lib/spring-web-5.3.28.jar:file:/var/task/lib/spring-webmvc-5.3.28.jar\r\n\r\nHow do I fix this error?\r\n","title":"How do i solve the error in my Lamda Function the deploy spring boot?","body":"<p>I want to run Spring Boot Controllers on AWS Lamda Function. I have a Handler that looks like this:</p>\n<pre><code>package com.amazonaws.serverless.sample.springboot3;\n\n\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\nimport com.amazonaws.serverless.proxy.internal.testutils.Timer;\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\nimport com.amazonaws.serverless.sample.springboot3.filter.CognitoIdentityFilter;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\n\nimport jakarta.servlet.DispatcherType;\nimport jakarta.servlet.FilterRegistration;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.EnumSet;\n\n\npublic class StreamLambdaHandler implements RequestStreamHandler {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\n\n            // For applications that take longer than 10 seconds to start, use the async builder:\n            // handler = new SpringBootProxyHandlerBuilder&lt;AwsProxyRequest&gt;()\n            //                    .defaultProxy()\n            //                    .asyncInit()\n            //                    .springBootApplication(Application.class)\n            //                    .buildAndInitialize();\n\n            // we use the onStartup method of the handler to register our custom filter\n            handler.onStartup(servletContext -&gt; {\n                FilterRegistration.Dynamic registration = servletContext.addFilter(&quot;CognitoIdentityFilter&quot;, CognitoIdentityFilter.class);\n                registration.addMappingForUrlPatterns(EnumSet.of(DispatcherType.REQUEST), true, &quot;/*&quot;);\n            });\n        } catch (ContainerInitializationException e) {\n            // if we fail here. We re-throw the exception to force another cold start\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\n        }\n    }\n\n    public StreamLambdaHandler() {\n        // we enable the timer for debugging. This SHOULD NOT be enabled in production.\n        Timer.enable();\n    }\n\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\n            throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n    }\n}\n</code></pre>\n<p>The Gradle build looks like this:</p>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n  mavenLocal()\n  mavenCentral()\n}\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\ndependencies {\n  implementation (\n          implementation('org.springframework.boot:spring-boot-starter-web:2.7.13') {\n            exclude group: 'org.springframework.boot', module: 'spring-boot-starter-tomcat'\n          },\n          'com.amazonaws.serverless:aws-serverless-java-container-springboot3:[2.0-SNAPSHOT,)',\n  )\n}\n\ntask buildZip(type: Zip) {\n  from compileJava\n  from processResources\n  into('lib') {\n    from(configurations.compileClasspath) {\n      exclude 'tomcat-embed-*'\n    }\n  }\n}\n\nbuild.dependsOn buildZip\n</code></pre>\n<p>I deploy the code to Lamda Function with this Pulumi Code:</p>\n<pre><code>import * as aws from &quot;@pulumi/aws&quot;\nimport * as pulumi from &quot;@pulumi/pulumi&quot;;\nimport  {usersExecutionRole} from &quot;./UsersExecutionRole&quot;\n\nconst stack = pulumi.getStack()\nconst handler= &quot;com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler&quot;\n\n\nexport const usersFunction = new aws.lambda.Function(&quot;users-function&quot;, {\n    code: new pulumi.asset.FileArchive(&quot;../build/distributions/pet.zip&quot;),   \n    runtime: aws.lambda.Runtime.Java11,\n    handler: handler,\n    role: usersExecutionRole.arn,\n    name: stack + '-' +&quot;petsFunction&quot;,\n    memorySize: 10240,\n    timeout: 900,\n    tracingConfig:{mode:&quot;Active&quot;},\n    architectures:[&quot;arm64&quot;],\n    \n        }\n\n},\n</code></pre>\n<p>When I invoke the Lamda Function with curl\ncurl <a href=\"https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets\" rel=\"nofollow noreferrer\">https://512lnld1ve.execute-api.eu-north-1.amazonaws.com/dev/pets</a>\nI get follwing message:\n{&quot;message&quot;:&quot;Internal Server Error&quot;}%</p>\n<p>The ClodWatch display following message:</p>\n<pre><code>Error loading class com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler: javax/servlet/ServletException: java.lang.NoClassDefFoundError\njava.lang.NoClassDefFoundError: javax/servlet/ServletException\n    at org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext$Factory.create(AnnotationConfigServletWebServerApplicationContext.java:230)\n    at org.springframework.boot.DefaultApplicationContextFactory.getFromSpringFactories(DefaultApplicationContextFactory.java:61)\n    at org.springframework.boot.DefaultApplicationContextFactory.create(DefaultApplicationContextFactory.java:48)\n    at org.springframework.boot.SpringApplication.createApplicationContext(SpringApplication.java:566)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n    at com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.initialize(SpringBootLambdaContainerHandler.java:189)\n    at com.amazonaws.serverless.proxy.InitializationWrapper.start(InitializationWrapper.java:35)\n    at com.amazonaws.serverless.proxy.spring.SpringBootProxyHandlerBuilder.buildAndInitialize(SpringBootProxyHandlerBuilder.java:79)\n    at com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.getAwsProxyHandler(SpringBootLambdaContainerHandler.java:87)\n    at com.amazonaws.serverless.sample.springboot3.StreamLambdaHandler.&lt;clinit&gt;(StreamLambdaHandler.java:26)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletException. Current classpath: file:/var/task/:file:/var/task/lib/aws-lambda-java-core-1.2.2.jar:file:/var/task/lib/aws-serverless-java-container-core-2.0.0-M1.jar:file:/var/task/lib/aws-serverless-java-container-springboot3-2.0.0-M1.jar:file:/var/task/lib/commons-io-2.12.0.jar:file:/var/task/lib/jackson-annotations-2.15.1.jar:file:/var/task/lib/jackson-core-2.15.1.jar:file:/var/task/lib/jackson-databind-2.15.1.jar:file:/var/task/lib/jackson-datatype-jdk8-2.15.1.jar:file:/var/task/lib/jackson-datatype-jsr310-2.15.1.jar:file:/var/task/lib/jackson-module-afterburner-2.15.1.jar:file:/var/task/lib/jackson-module-parameter-names-2.15.1.jar:file:/var/task/lib/jakarta.annotation-api-1.3.5.jar:file:/var/task/lib/jakarta.servlet-api-6.0.0.jar:file:/var/task/lib/jakarta.ws.rs-api-3.1.0.jar:file:/var/task/lib/jul-to-slf4j-1.7.36.jar:file:/var/task/lib/log4j-api-2.17.2.jar:file:/var/task/lib/log4j-to-slf4j-2.17.2.jar:file:/var/task/lib/logback-classic-1.2.12.jar:file:/var/task/lib/logback-core-1.2.12.jar:file:/var/task/lib/slf4j-api-2.0.7.jar:file:/var/task/lib/snakeyaml-1.30.jar:file:/var/task/lib/spring-aop-5.3.28.jar:file:/var/task/lib/spring-beans-5.3.28.jar:file:/var/task/lib/spring-boot-2.7.13.jar:file:/var/task/lib/spring-boot-autoconfigure-2.7.13.jar:file:/var/task/lib/spring-boot-starter-2.7.13.jar:file:/var/task/lib/spring-boot-starter-json-2.7.13.jar:file:/var/task/lib/spring-boot-starter-logging-2.7.13.jar:file:/var/task/lib/spring-boot-starter-web-2.7.13.jar:file:/var/task/lib/spring-context-5.3.28.jar:file:/var/task/lib/spring-core-5.3.28.jar:file:/var/task/lib/spring-expression-5.3.28.jar:file:/var/task/lib/spring-jcl-5.3.28.jar:file:/var/task/lib/spring-web-5.3.28.jar:file:/var/task/lib/spring-webmvc-5.3.28.jar\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"display_name":"user10190607"},"score":0,"creation_date":1688582357,"post_id":76622786,"comment_id":135094412,"body_markdown":"this solved my problem, thank you :)","body":"this solved my problem, thank you :)"}],"tags":[],"owner":{"account_id":24822219,"reputation":16,"user_id":18702437,"display_name":"jsan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688578739,"creation_date":1688578739,"answer_id":76622786,"question_id":76622711,"body_markdown":"It looks like you&#39;re using MapStruct to generate the mappers, the proper way to generate the mappers as a Spring bean is to use `@Mapper(componentModel = &quot;spring&quot;)`. Reference [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mapstruct#Injection","title":"Parameter 1 of constructor in package.Endpoint required a bean of type package.UserMapper that could not be found","body":"<p>It looks like you're using MapStruct to generate the mappers, the proper way to generate the mappers as a Spring bean is to use <code>@Mapper(componentModel = &quot;spring&quot;)</code>. Reference <a href=\"https://www.baeldung.com/mapstruct#Injection\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"user10190607"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76622786,"answer_count":1,"score":0,"last_activity_date":1688578739,"creation_date":1688578024,"question_id":76622711,"body_markdown":"I am creating a basic SpringBoot RestApi and now I created a endpoint, which returns me a list of all users in the db.\r\n\r\n    @RestController\r\n    public class UserEndpoint {\r\n        private final UserRepository userRepository;\r\n    \r\n        private final UserMapper userMapper;\r\n    \r\n        public UserEndpoint(UserRepository userRepository, UserMapper userMapper) {\r\n            this.userRepository = userRepository;\r\n            this.userMapper = userMapper;\r\n        }\r\n    \r\n        @GetMapping(&quot;/getAll&quot;)\r\n        public List&lt;UserEntityDto&gt; getAllUser() {\r\n            List&lt;UserEntity&gt; entityList = userRepository.findAll();\r\n            List&lt;UserEntityDto&gt; list = new ArrayList&lt;&gt;();\r\n            for(UserEntity userEntity : entityList) {\r\n                list.add(userMapper.toDto(userEntity));\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\nThe problem is, when I want to start the application i get the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of constructor in com.spring.connectpostgresql.endpoint.UserEndpoint required a bean of type &#39;com.spring.connectpostgresql.mapper.UserMapper&#39; that could not be found.\r\n\r\nMy UserMapper looks like this:\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        UserEntity toEntity(UserEntityDto userEntityDto);\r\n        UserEntityDto toDto(UserEntity userEntity);\r\n    }\r\n\r\nCould anyone explain to me why I get this error and what it means. ","title":"Parameter 1 of constructor in package.Endpoint required a bean of type package.UserMapper that could not be found","body":"<p>I am creating a basic SpringBoot RestApi and now I created a endpoint, which returns me a list of all users in the db.</p>\n<pre><code>@RestController\npublic class UserEndpoint {\n    private final UserRepository userRepository;\n\n    private final UserMapper userMapper;\n\n    public UserEndpoint(UserRepository userRepository, UserMapper userMapper) {\n        this.userRepository = userRepository;\n        this.userMapper = userMapper;\n    }\n\n    @GetMapping(&quot;/getAll&quot;)\n    public List&lt;UserEntityDto&gt; getAllUser() {\n        List&lt;UserEntity&gt; entityList = userRepository.findAll();\n        List&lt;UserEntityDto&gt; list = new ArrayList&lt;&gt;();\n        for(UserEntity userEntity : entityList) {\n            list.add(userMapper.toDto(userEntity));\n        }\n        return list;\n    }\n}\n</code></pre>\n<p>The problem is, when I want to start the application i get the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.spring.connectpostgresql.endpoint.UserEndpoint required a bean of type 'com.spring.connectpostgresql.mapper.UserMapper' that could not be found.\n</code></pre>\n<p>My UserMapper looks like this:</p>\n<pre><code>@Mapper\npublic interface UserMapper {\n    UserEntity toEntity(UserEntityDto userEntityDto);\n    UserEntityDto toDto(UserEntity userEntity);\n}\n</code></pre>\n<p>Could anyone explain to me why I get this error and what it means.</p>\n"},{"tags":["java","android","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688578140,"creation_date":1688578140,"answer_id":76622721,"question_id":76622200,"body_markdown":"To post file parameters in an api, we have to use the @Multipart annotation with the retrofit post function.\r\nThe types of part data that we can receive is  FormItem or FileItem there are some more of them but they are not relevant for using it in android.\r\n\r\n**FormItem** : A string which contains data about the FileItem, if we would want to pass file name along with the file.\r\n\r\n**FileItem** : It consists of the actual file where each partData would have a name that’s how check distinguish different files.\r\n\r\nCreating an ApiIInterface class which contains the @**Multipart** annotation and each of the parameter which represent the part data must be annotated with @Part and it should be of the type of MultipartBody.Part.\r\n\r\n[Reference along with api implementation][1]\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/making-multipart-requests-in-android-with-retrofit/","title":"Post data using Retrofit","body":"<p>To post file parameters in an api, we have to use the @Multipart annotation with the retrofit post function.\nThe types of part data that we can receive is  FormItem or FileItem there are some more of them but they are not relevant for using it in android.</p>\n<p><strong>FormItem</strong> : A string which contains data about the FileItem, if we would want to pass file name along with the file.</p>\n<p><strong>FileItem</strong> : It consists of the actual file where each partData would have a name that’s how check distinguish different files.</p>\n<p>Creating an ApiIInterface class which contains the @<strong>Multipart</strong> annotation and each of the parameter which represent the part data must be annotated with @Part and it should be of the type of MultipartBody.Part.</p>\n<p><a href=\"https://www.section.io/engineering-education/making-multipart-requests-in-android-with-retrofit/\" rel=\"nofollow noreferrer\">Reference along with api implementation</a></p>\n"}],"owner":{"account_id":25822614,"reputation":1,"user_id":19561428,"display_name":"حسام عليان"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688578140,"creation_date":1688573607,"question_id":76622200,"body_markdown":"I made an Android application and I need to Post classA to API:\r\n\r\n```\r\npublic class ClassA {\r\n    private int itemA;\r\n    private int itemB;\r\n    private List&lt;ClassB&gt; claasB;\r\n}\r\npublic class ClassB {\r\n    private String a;\r\n    private String b;\r\n    private File image;\r\n}\r\n\r\n```\r\nThis classB contain image as one of his fields \r\n\r\n\r\nMy questions:\r\n\r\n1. what is the correct type of image should be in Java in Android, and correct type at API dot net?\r\n\r\n2. what the the correct interface in retrofit to send this data? \r\n\r\n3- what should API look like to receive this request\r\n","title":"Post data using Retrofit","body":"<p>I made an Android application and I need to Post classA to API:</p>\n<pre><code>public class ClassA {\n    private int itemA;\n    private int itemB;\n    private List&lt;ClassB&gt; claasB;\n}\npublic class ClassB {\n    private String a;\n    private String b;\n    private File image;\n}\n\n</code></pre>\n<p>This classB contain image as one of his fields</p>\n<p>My questions:</p>\n<ol>\n<li><p>what is the correct type of image should be in Java in Android, and correct type at API dot net?</p>\n</li>\n<li><p>what the the correct interface in retrofit to send this data?</p>\n</li>\n</ol>\n<p>3- what should API look like to receive this request</p>\n"},{"tags":["java","spring-boot","caching","ehcache","ehcache-3"],"owner":{"account_id":20532769,"reputation":1,"user_id":15069594,"display_name":"Gir Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688578074,"creation_date":1688576468,"question_id":76622522,"body_markdown":"I have a use case where I want to use caching for the API response, but I am not able to do it using EhCache, I am getting the error:\r\n\r\n`Cannot find cache named &#39;EBPICache&#39; for Builder[public java.lang.String com.xxx.xxxx.xxxxx.xxxxx.EBPSOfferingService.getMockOfferings(java.lang.String)] caches=[EBPICache] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;`\r\n\r\nThis is my code:\r\n\r\nCacheProvider.java\r\n\r\n```\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.cache.Cache;\r\nimport javax.cache.CacheManager;\r\nimport javax.cache.Caching;\r\nimport javax.cache.configuration.MutableConfiguration;\r\nimport javax.cache.expiry.CreatedExpiryPolicy;\r\nimport javax.cache.expiry.Duration;\r\nimport javax.cache.spi.CachingProvider;\r\n\r\n\r\n@EnableCaching\r\n@Configuration(&quot;CacheProvider&quot;)\r\npublic class CacheProvider {\r\n\r\n    private static final int cacheSize=100;\r\n\r\n    @Bean\r\n    public CacheManager ehCacheManager() {\r\n        CachingProvider provider = Caching.getCachingProvider();\r\n        CacheManager cacheManager = provider.getCacheManager();\r\n        MutableConfiguration&lt;Object,Object&gt; configuration =\r\n                new MutableConfiguration&lt;Object, Object&gt;()\r\n                        .setTypes(Object.class, Object.class)\r\n                        .setExpiryPolicyFactory(CreatedExpiryPolicy.factoryOf(Duration.ONE_HOUR));\r\n\r\n        Cache&lt;Object,Object&gt; cache = cacheManager.createCache(&quot;EBPICache&quot;, configuration);\r\n        return cacheManager;\r\n    }\r\n}\r\n```\r\n\r\nand EBPSOfferingService:\r\n\r\n```\r\n\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.CachePut;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.cache.annotation.CacheKey;\r\n\r\n@Service\r\npublic class EBPSOfferingService {\r\n\r\n    @Cacheable(cacheNames = &quot;EBPICache&quot;)\r\n    public String getMockOfferings(@CacheKey String can) {\r\n        int sleepTime = 166;\r\n        System.out.println(&quot;Sleeping for &quot; + sleepTime + &quot; milliseconds&quot;);\r\n        try{\r\n            Thread.sleep(sleepTime);\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;Exception occurred while executing sleep method of thread&quot;);\r\n        }\r\n        return String.format(&quot;Hello! Welcome to EBPI Mock Service. The can is %s&quot;,can);\r\n    }\r\n\r\n    @CacheEvict(cacheNames = &quot;EBPICache&quot;)\r\n    public void clearMockOfferings(@CacheKey String can){\r\n        System.out.println(&quot;clearMockOfferings invoked for CAN=&quot; + can);\r\n    }\r\n\r\n    @CacheEvict(allEntries = true)\r\n    public void clearAllOfferings(){\r\n        System.out.println(&quot;clearAllOfferings Invoked&quot;);\r\n    }\r\n\r\n    @CachePut(cacheNames = &quot;EBPICache&quot;)\r\n    public String updateMockOfferings(@CacheKey String can, String newValue) {\r\n        System.out.println(&quot;Updating cache entry for key= &quot;+can+ &quot; and new Value is &quot;+newValue);\r\n        return newValue;\r\n    }\r\n}\r\n```\r\n\r\nCan anyone please help me with, why this error is there and how to fix it? I have tried looking many stackOverflow answers, none of them seem to work.The solution mentioned here works: [https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder](https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder), but I want to use mutable configuration, because it provides much more flexibility. Thanks a lot in advance, I have been struggling for the past 2 days on this!\r\n","title":"Cannot find cache named &#39;EBPICache&#39; for Builder[public java.lang.String com.xxx.xxx.xxx.getMockOfferings(java.lang.String)] EhCache","body":"<p>I have a use case where I want to use caching for the API response, but I am not able to do it using EhCache, I am getting the error:</p>\n<p><code>Cannot find cache named 'EBPICache' for Builder[public java.lang.String com.xxx.xxxx.xxxxx.xxxxx.EBPSOfferingService.getMockOfferings(java.lang.String)] caches=[EBPICache] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'</code></p>\n<p>This is my code:</p>\n<p>CacheProvider.java</p>\n<pre><code>import org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.cache.Cache;\nimport javax.cache.CacheManager;\nimport javax.cache.Caching;\nimport javax.cache.configuration.MutableConfiguration;\nimport javax.cache.expiry.CreatedExpiryPolicy;\nimport javax.cache.expiry.Duration;\nimport javax.cache.spi.CachingProvider;\n\n\n@EnableCaching\n@Configuration(&quot;CacheProvider&quot;)\npublic class CacheProvider {\n\n    private static final int cacheSize=100;\n\n    @Bean\n    public CacheManager ehCacheManager() {\n        CachingProvider provider = Caching.getCachingProvider();\n        CacheManager cacheManager = provider.getCacheManager();\n        MutableConfiguration&lt;Object,Object&gt; configuration =\n                new MutableConfiguration&lt;Object, Object&gt;()\n                        .setTypes(Object.class, Object.class)\n                        .setExpiryPolicyFactory(CreatedExpiryPolicy.factoryOf(Duration.ONE_HOUR));\n\n        Cache&lt;Object,Object&gt; cache = cacheManager.createCache(&quot;EBPICache&quot;, configuration);\n        return cacheManager;\n    }\n}\n</code></pre>\n<p>and EBPSOfferingService:</p>\n<pre><code>\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.CachePut;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport javax.cache.annotation.CacheKey;\n\n@Service\npublic class EBPSOfferingService {\n\n    @Cacheable(cacheNames = &quot;EBPICache&quot;)\n    public String getMockOfferings(@CacheKey String can) {\n        int sleepTime = 166;\n        System.out.println(&quot;Sleeping for &quot; + sleepTime + &quot; milliseconds&quot;);\n        try{\n            Thread.sleep(sleepTime);\n        }\n        catch(Exception e){\n            System.out.println(&quot;Exception occurred while executing sleep method of thread&quot;);\n        }\n        return String.format(&quot;Hello! Welcome to EBPI Mock Service. The can is %s&quot;,can);\n    }\n\n    @CacheEvict(cacheNames = &quot;EBPICache&quot;)\n    public void clearMockOfferings(@CacheKey String can){\n        System.out.println(&quot;clearMockOfferings invoked for CAN=&quot; + can);\n    }\n\n    @CacheEvict(allEntries = true)\n    public void clearAllOfferings(){\n        System.out.println(&quot;clearAllOfferings Invoked&quot;);\n    }\n\n    @CachePut(cacheNames = &quot;EBPICache&quot;)\n    public String updateMockOfferings(@CacheKey String can, String newValue) {\n        System.out.println(&quot;Updating cache entry for key= &quot;+can+ &quot; and new Value is &quot;+newValue);\n        return newValue;\n    }\n}\n</code></pre>\n<p>Can anyone please help me with, why this error is there and how to fix it? I have tried looking many stackOverflow answers, none of them seem to work.The solution mentioned here works: <a href=\"https://stackoverflow.com/questions/72723378/ehcache-cannot-find-cache-name-for-builder\">Ehcache - Cannot find cache name for Builder</a>, but I want to use mutable configuration, because it provides much more flexibility. Thanks a lot in advance, I have been struggling for the past 2 days on this!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","ehcache"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688622808,"post_id":76622683,"comment_id":135098785,"body_markdown":"You cannot, unless you add properties and add a java based configuration to configure EhCache.","body":"You cannot, unless you add properties and add a java based configuration to configure EhCache."},{"owner":{"account_id":14630117,"reputation":63,"user_id":10566203,"display_name":"Kapil khandelwal"},"score":0,"creation_date":1688624597,"post_id":76622683,"comment_id":135099047,"body_markdown":"@M.Deinum can you please share any resource where this type of configuration is used?","body":"@M.Deinum can you please share any resource where this type of configuration is used?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688624748,"post_id":76622683,"comment_id":135099074,"body_markdown":"No I cannot as that isn&#39;t standard for Sprig boot and requires custom configuration classes. Basically you would need to add properties which you read and use that to configure JCache with Java. Both are explained in their respective documentation.","body":"No I cannot as that isn&#39;t standard for Sprig boot and requires custom configuration classes. Basically you would need to add properties which you read and use that to configure JCache with Java. Both are explained in their respective documentation."}],"owner":{"account_id":14630117,"reputation":63,"user_id":10566203,"display_name":"Kapil khandelwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688577775,"creation_date":1688577775,"question_id":76622683,"body_markdown":"I am trying to use ehcache for second level hibernate cache but since the properties should be defined in xml file, how can i do it using application.properties file?\r\n\r\nhere is my xml file:\r\n    `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:noNamespaceSchemaLocation=&quot;https://www.ehcache.org/ehcache.xsd&quot;\r\n    &gt;\r\n\r\n      &lt;defaultCache\r\n            maxElementsInMemory=&quot;100&quot;\r\n            timeToIdleSeconds=&quot;20000&quot;\r\n            timeToLiveSeconds=&quot;3&quot;\r\n            overflowToDisk=&quot;false&quot;\r\n            diskPersistent=&quot;false&quot;\r\n            memoryStoreEvictionPolicy=&quot;LRU&quot;\r\n     /&gt;\r\n    &lt;/ehcache&gt;`\r\n\r\nI tried using placeholder, but turns out is not supported here.","title":"Is it possible to have ehcache configuration driven by application.properties file in Spring boot?","body":"<p>I am trying to use ehcache for second level hibernate cache but since the properties should be defined in xml file, how can i do it using application.properties file?</p>\n<p>here is my xml file:\n`\n</p>\n<pre><code>  &lt;defaultCache\n        maxElementsInMemory=&quot;100&quot;\n        timeToIdleSeconds=&quot;20000&quot;\n        timeToLiveSeconds=&quot;3&quot;\n        overflowToDisk=&quot;false&quot;\n        diskPersistent=&quot;false&quot;\n        memoryStoreEvictionPolicy=&quot;LRU&quot;\n /&gt;\n&lt;/ehcache&gt;`\n</code></pre>\n<p>I tried using placeholder, but turns out is not supported here.</p>\n"},{"tags":["java","spring-boot","kotlin","springdoc"],"answers":[{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619092509,"creation_date":1619092509,"answer_id":67212802,"question_id":67192746,"body_markdown":"As far as I know, you can not do it. The reason being that there&#39;s no way to change the name of the request handler by using the Swagger annotations.\r\n\r\nAnd lowerCamelCase for method/identifier names is promoted by the [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) and also by the [Google Naming Convention](https://google.github.io/styleguide/javaguide.html#s5-naming). \r\n\r\nYou should still be able to compile and run the code if you don&#39;t follow the conventions. Other than that, I don&#39;t think there&#39;s an official way of changing the method name&#39;s case using Swagger directly.","title":"How to change namingStrategy in springdoc?","body":"<p>As far as I know, you can not do it. The reason being that there's no way to change the name of the request handler by using the Swagger annotations.</p>\n<p>And lowerCamelCase for method/identifier names is promoted by the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a> and also by the <a href=\"https://google.github.io/styleguide/javaguide.html#s5-naming\" rel=\"nofollow noreferrer\">Google Naming Convention</a>.</p>\n<p>You should still be able to compile and run the code if you don't follow the conventions. Other than that, I don't think there's an official way of changing the method name's case using Swagger directly.</p>\n"},{"tags":[],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1619100565,"creation_date":1619100565,"answer_id":67214958,"question_id":67192746,"body_markdown":"As @Debargha Roy mentioned in his answer, there is no clear way to do it via `springdoc` properties.\r\n\r\nI propose my solution for Kotlin based on [GitHub thread](https://github.com/springdoc/springdoc-openapi/issues/66).\r\n\r\nTo get `PascalCase` or `UpperCamelCase` in Swagger, you can use `ModelResolver`:\r\n\r\n    @Bean\r\n    fun modelResolver(objectMapper: ObjectMapper): ModelResolver {\r\n        return ModelResolver(jacksonObjectMapper().registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\r\n    }\r\n\r\nIt doesn&#39;t resolve the output response from Spring `@RestController`.\r\n\r\nBy default, Spring uses Jackson mapper to make responses follow UpperCamelCase, use this property `spring.jackson.property-naming-strategy=UPPER_CAMEL_CASE` in properties/yaml file.\r\n\r\nAfter these 2 changes, both your Swagger and RestController will follow the UpperCamelCase style.\r\n\r\n\r\n**NOTE:**\r\n\r\nBeware, if you decided to reuse incoming `objectMapper` (see the snippet below), you may get duplicated payload with mixed camelCase:\r\n\r\n    @Bean\r\n    fun modelResolver(objectMapper: ObjectMapper): ModelResolver {\r\n        return ModelResolver(objectMapper.registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\r\n    }\r\n","title":"How to change namingStrategy in springdoc?","body":"<p>As @Debargha Roy mentioned in his answer, there is no clear way to do it via <code>springdoc</code> properties.</p>\n<p>I propose my solution for Kotlin based on <a href=\"https://github.com/springdoc/springdoc-openapi/issues/66\" rel=\"nofollow noreferrer\">GitHub thread</a>.</p>\n<p>To get <code>PascalCase</code> or <code>UpperCamelCase</code> in Swagger, you can use <code>ModelResolver</code>:</p>\n<pre><code>@Bean\nfun modelResolver(objectMapper: ObjectMapper): ModelResolver {\n    return ModelResolver(jacksonObjectMapper().registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\n}\n</code></pre>\n<p>It doesn't resolve the output response from Spring <code>@RestController</code>.</p>\n<p>By default, Spring uses Jackson mapper to make responses follow UpperCamelCase, use this property <code>spring.jackson.property-naming-strategy=UPPER_CAMEL_CASE</code> in properties/yaml file.</p>\n<p>After these 2 changes, both your Swagger and RestController will follow the UpperCamelCase style.</p>\n<p><strong>NOTE:</strong></p>\n<p>Beware, if you decided to reuse incoming <code>objectMapper</code> (see the snippet below), you may get duplicated payload with mixed camelCase:</p>\n<pre><code>@Bean\nfun modelResolver(objectMapper: ObjectMapper): ModelResolver {\n    return ModelResolver(objectMapper.registerModule(KotlinModule()).setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE))\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":1,"creation_date":1657319298,"post_id":72901646,"comment_id":128790641,"body_markdown":"It&#39;s the same solution but looks simpler as it doesn&#39;t require Kotlin constructs.","body":"It&#39;s the same solution but looks simpler as it doesn&#39;t require Kotlin constructs."}],"tags":[],"owner":{"account_id":19068166,"reputation":31,"user_id":14441658,"display_name":"Antero Mano"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657212866,"creation_date":1657212866,"answer_id":72901646,"question_id":67192746,"body_markdown":"@Dmytro Chasovskyi solution above also worked for me on SpringDoc.\r\n\r\nI&#39;m on java Spring though, all I had to do:\r\n\r\n    @Bean\r\n    public ModelResolver modelResolver(ObjectMapper objectMapper) {\r\n      return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\r\n    }","title":"How to change namingStrategy in springdoc?","body":"<p>@Dmytro Chasovskyi solution above also worked for me on SpringDoc.</p>\n<p>I'm on java Spring though, all I had to do:</p>\n<pre><code>@Bean\npublic ModelResolver modelResolver(ObjectMapper objectMapper) {\n  return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8311047,"reputation":311,"user_id":6246141,"display_name":"stp18"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688577623,"creation_date":1688577623,"answer_id":76622656,"question_id":67192746,"body_markdown":"Not sure if this might be useful for someone else, I had to use:\r\n\r\n      import io.swagger.v3.core.util.Json;\r\n      @Bean\r\n      public ModelResolver modelResolverDefault() {\r\n        ObjectMapper copy = Json.mapper().copy();\r\n        return new ModelResolver(copy.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE));\r\n      }\r\n\r\nAlthough the default solution does work for snake case, I lost field description and examples, by using the springdoc default mapper as a copy everything worked.\r\n\r\nPlease note that when I tried without the copy springdoc stopped working with an error related to additional_fields in camelcase.","title":"How to change namingStrategy in springdoc?","body":"<p>Not sure if this might be useful for someone else, I had to use:</p>\n<pre><code>  import io.swagger.v3.core.util.Json;\n  @Bean\n  public ModelResolver modelResolverDefault() {\n    ObjectMapper copy = Json.mapper().copy();\n    return new ModelResolver(copy.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE));\n  }\n</code></pre>\n<p>Although the default solution does work for snake case, I lost field description and examples, by using the springdoc default mapper as a copy everything worked.</p>\n<p>Please note that when I tried without the copy springdoc stopped working with an error related to additional_fields in camelcase.</p>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67214958,"answer_count":4,"score":1,"last_activity_date":1688577623,"creation_date":1618996344,"question_id":67192746,"body_markdown":"I am using [`springdoc`](https://springdoc.org/#modules). It works flawlessly, except I am trying to change the default camelCase to PascalCase requests mapping.\r\n\r\nI searched through the docs and cannot find a configuration to adjust property naming.\r\n\r\nHow can I change property naming when working with `springdoc`?","title":"How to change namingStrategy in springdoc?","body":"<p>I am using <a href=\"https://springdoc.org/#modules\" rel=\"nofollow noreferrer\"><code>springdoc</code></a>. It works flawlessly, except I am trying to change the default camelCase to PascalCase requests mapping.</p>\n<p>I searched through the docs and cannot find a configuration to adjust property naming.</p>\n<p>How can I change property naming when working with <code>springdoc</code>?</p>\n"},{"tags":["java","spring","microservices","spring-cloud-gateway","application.properties"],"owner":{"account_id":20982432,"reputation":1,"user_id":15416971,"display_name":"Victor-FSF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688577570,"creation_date":1688577570,"question_id":76622652,"body_markdown":"This is my application.properties in my gateway microservice:\r\n\r\n```\r\nspring.cloud.gateway.routes[0].id=regs-auth\r\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\r\n```\r\n\r\nThe whole project can be found on: https://github.com/VictorFerreiraS/LoginSystemBackEnd\r\n\r\nAny tip on how to get more information on spring boot cloud gateway would be lovely (despite the documentation obviously ;) )\r\n\r\n\r\nI tried this but I only got 404&#39;s in postman!\r\n\r\n```\r\nspring.cloud.gateway.routes[0].id=regs-auth\r\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\r\nspring.cloud.gateway.routes[0].predicates[1]=Path=/api/v1/auth/authenticate\r\n\r\n```","title":"How to add new route/PREDICATE to spring cloud gateway version 4.0.6","body":"<p>This is my application.properties in my gateway microservice:</p>\n<pre><code>spring.cloud.gateway.routes[0].id=regs-auth\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\n</code></pre>\n<p>The whole project can be found on: <a href=\"https://github.com/VictorFerreiraS/LoginSystemBackEnd\" rel=\"nofollow noreferrer\">https://github.com/VictorFerreiraS/LoginSystemBackEnd</a></p>\n<p>Any tip on how to get more information on spring boot cloud gateway would be lovely (despite the documentation obviously ;) )</p>\n<p>I tried this but I only got 404's in postman!</p>\n<pre><code>spring.cloud.gateway.routes[0].id=regs-auth\nspring.cloud.gateway.routes[0].uri=lb://regs-auth-ms\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/auth/register\nspring.cloud.gateway.routes[0].predicates[1]=Path=/api/v1/auth/authenticate\n\n</code></pre>\n"},{"tags":["java","android","kotlin","ssl-certificate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688497189,"post_id":76615196,"comment_id":135080960,"body_markdown":"*a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown.* Please post that *verbatim, formatted as code*","body":"<i>a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown.</i> Please post that <i>verbatim, formatted as code</i>"},{"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"score":0,"creation_date":1688500174,"post_id":76615196,"comment_id":135081326,"body_markdown":"Absolutely, it has been included","body":"Absolutely, it has been included"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688526749,"post_id":76615196,"comment_id":135083711,"body_markdown":"Java keystores don&#39;t support PEM certificates. I don&#39;t know if that bouncycastle stuff is supposed to help.","body":"Java keystores don&#39;t support PEM certificates. I don&#39;t know if that bouncycastle stuff is supposed to help."},{"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"score":0,"creation_date":1688576798,"post_id":76615196,"comment_id":135093318,"body_markdown":"Attempted to convert the PEM certificate to DER (noted here https://stackoverflow.com/a/54670753/10152911), gave the same result.","body":"Attempted to convert the PEM certificate to DER (noted here <a href=\"https://stackoverflow.com/a/54670753/10152911\">stackoverflow.com/a/54670753/10152911</a>), gave the same result."}],"owner":{"account_id":13873571,"reputation":175,"user_id":10152911,"display_name":"cj-"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576972,"creation_date":1688496385,"question_id":76615196,"body_markdown":"I have a service that provides a key and private RSA certificate that I need to turn into an SSLSocketFactory. I am able to initialize everything, but when calling getKeyManagers on the KeyManagerFactory, a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown. What am I missing?\r\n\r\n```kotlin\r\nreturn try {\r\n    val sslContext = SSLContext.getDefault()\r\n    val keyManager = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\r\n    val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())\r\n    val certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;)\r\n    keyStore.load(null)\r\n    keyStore.setKeyEntry(\r\n        &quot;agragps&quot;,\r\n        privateCertificate.toByteArray(),\r\n        arrayOf(certificateFactory.generateCertificate(publicCertificate.byteInputStream())))\r\n    keyManager.init(keyStore, charArrayOf())\r\n    val managers = keyManager.keyManagers\r\n    sslContext.init(managers, null, null)\r\n    sslContext.socketFactory\r\n} catch (e: Exception) {\r\n    null\r\n}\r\n```\r\n\r\nHere is the full exception:\r\n```\r\njava.lang.RuntimeException: forget something!\r\n\tat com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi$StoreEntry.getObject(BcKeyStoreSpi.java:329)\r\n\tat com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi.engineGetKey(BcKeyStoreSpi.java:619)\r\n\tat java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:511)\r\n\tat java.security.KeyStore.getEntry(KeyStore.java:1581)\r\n\tat com.android.org.conscrypt.KeyManagerImpl.&lt;init&gt;(KeyManagerImpl.java:74)\r\n\tat com.android.org.conscrypt.KeyManagerFactoryImpl.engineGetKeyManagers(KeyManagerFactoryImpl.java:120)\r\n\tat javax.net.ssl.KeyManagerFactory.getKeyManagers(KeyManagerFactory.java:305)\r\n\tat com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:64)\r\n\tat com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:38)\r\n\tat com.agragps.agragps.services.?.?$connectPointPerfect$2.invokeSuspend(MQTTService.kt:113)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)\r\n\tat kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:100)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\r\n```\r\n\r\nConverting the public PEM to DER gives the same result:\r\n```kotlin\r\nval publicDER = Base64.decode(publicCertificate\r\n    .replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\r\n    .replace(&quot;\\n-----END CERTIFICATE-----\\n&quot;, &quot;&quot;)\r\n    .encodeToByteArray(), Base64.DEFAULT)\r\nkeyStore.setKeyEntry(\r\n    &quot;agragps&quot;,\r\n    privateCertificate.toByteArray(),\r\n    arrayOf(certificateFactory.generateCertificate(publicDER.inputStream())))\r\n```\r\n\r\n`privateCertificate` is a String starting with &quot;-----BEGIN RSA PRIVATE KEY-----&quot; and ending in &quot;-----END RSA PRIVATE KEY-----&quot;. `publicCertificate` is a String starting with &quot;-----BEGIN CERTIFICATE-----&quot; and ending in &quot;-----END CERTIFICATE-----&quot;.\r\n\r\nI&#39;m not very experienced with working with certificates. Any help is really appreciated.\r\n    ","title":"How to load an RSA key pair from strings?","body":"<p>I have a service that provides a key and private RSA certificate that I need to turn into an SSLSocketFactory. I am able to initialize everything, but when calling getKeyManagers on the KeyManagerFactory, a RuntimeException saying &quot;java.lang.RuntimeException: forget something!&quot; is thrown. What am I missing?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>return try {\n    val sslContext = SSLContext.getDefault()\n    val keyManager = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\n    val keyStore = KeyStore.getInstance(KeyStore.getDefaultType())\n    val certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;)\n    keyStore.load(null)\n    keyStore.setKeyEntry(\n        &quot;agragps&quot;,\n        privateCertificate.toByteArray(),\n        arrayOf(certificateFactory.generateCertificate(publicCertificate.byteInputStream())))\n    keyManager.init(keyStore, charArrayOf())\n    val managers = keyManager.keyManagers\n    sslContext.init(managers, null, null)\n    sslContext.socketFactory\n} catch (e: Exception) {\n    null\n}\n</code></pre>\n<p>Here is the full exception:</p>\n<pre><code>java.lang.RuntimeException: forget something!\n    at com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi$StoreEntry.getObject(BcKeyStoreSpi.java:329)\n    at com.android.org.bouncycastle.jcajce.provider.keystore.bc.BcKeyStoreSpi.engineGetKey(BcKeyStoreSpi.java:619)\n    at java.security.KeyStoreSpi.engineGetEntry(KeyStoreSpi.java:511)\n    at java.security.KeyStore.getEntry(KeyStore.java:1581)\n    at com.android.org.conscrypt.KeyManagerImpl.&lt;init&gt;(KeyManagerImpl.java:74)\n    at com.android.org.conscrypt.KeyManagerFactoryImpl.engineGetKeyManagers(KeyManagerFactoryImpl.java:120)\n    at javax.net.ssl.KeyManagerFactory.getKeyManagers(KeyManagerFactory.java:305)\n    at com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:64)\n    at com.agragps.agragps.?.?Kt.loadCertificates(ThingStreamClientAndroid.kt:38)\n    at com.agragps.agragps.services.?.?$connectPointPerfect$2.invokeSuspend(MQTTService.kt:113)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:115)\n    at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:100)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)\n</code></pre>\n<p>Converting the public PEM to DER gives the same result:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val publicDER = Base64.decode(publicCertificate\n    .replace(&quot;-----BEGIN CERTIFICATE-----\\n&quot;, &quot;&quot;)\n    .replace(&quot;\\n-----END CERTIFICATE-----\\n&quot;, &quot;&quot;)\n    .encodeToByteArray(), Base64.DEFAULT)\nkeyStore.setKeyEntry(\n    &quot;agragps&quot;,\n    privateCertificate.toByteArray(),\n    arrayOf(certificateFactory.generateCertificate(publicDER.inputStream())))\n</code></pre>\n<p><code>privateCertificate</code> is a String starting with &quot;-----BEGIN RSA PRIVATE KEY-----&quot; and ending in &quot;-----END RSA PRIVATE KEY-----&quot;. <code>publicCertificate</code> is a String starting with &quot;-----BEGIN CERTIFICATE-----&quot; and ending in &quot;-----END CERTIFICATE-----&quot;.</p>\n<p>I'm not very experienced with working with certificates. Any help is really appreciated.</p>\n"},{"tags":["java","hibernate","jpa","query-optimization"],"comments":[{"owner":{"account_id":71085,"reputation":105200,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"score":0,"creation_date":1688603214,"post_id":76622465,"comment_id":135097094,"body_markdown":"Just sayin&#39;  Forcing index use almost never is a good way to improve query performance. Make sure you&#39;ve done EXPLAIN for your ORM&#39;s queries and added appropriate indexes before you set out on that trail of tears.","body":"Just sayin&#39;  Forcing index use almost never is a good way to improve query performance. Make sure you&#39;ve done EXPLAIN for your ORM&#39;s queries and added appropriate indexes before you set out on that trail of tears."},{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1688629585,"post_id":76622465,"comment_id":135099990,"body_markdown":"Your comment is not relevant to the question. Force index is a perfectly fine tool to optimize a query, I did my evaluations and that is what I need.","body":"Your comment is not relevant to the question. Force index is a perfectly fine tool to optimize a query, I did my evaluations and that is what I need."}],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576294,"creation_date":1688576001,"question_id":76622465,"body_markdown":"I have a software built with Hibernate 4.3 on top of a Mysql 5.6 database. Within the application, I have implemented certain queries using the Criteria API. I would like to modify the query execution plan by explicitly specifying the index to be used in some of the join clauses. Is there a way to achieve this using the Criteria API, or do I need to rewrite everything using native SQL?","title":"Modifying query execution plan with Criteria API to force index usage","body":"<p>I have a software built with Hibernate 4.3 on top of a Mysql 5.6 database. Within the application, I have implemented certain queries using the Criteria API. I would like to modify the query execution plan by explicitly specifying the index to be used in some of the join clauses. Is there a way to achieve this using the Criteria API, or do I need to rewrite everything using native SQL?</p>\n"},{"tags":["java","swing","jfilechooser"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598410,"post_id":58629452,"comment_id":103616327,"body_markdown":"Tags &amp; watchers: [tag:java] 1.3M, [tag:swing] 7.4K, [tag:jfilechooser] 9. \nBy using up to 5 relevant tags, questions can get far more attention. ;)","body":"Tags &amp; watchers: <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> 1.3M, <a href=\"https://stackoverflow.com/questions/tagged/swing\">swing</a> 7.4K, <a href=\"https://stackoverflow.com/questions/tagged/jfilechooser\">jfilechooser</a> 9.  By using up to 5 relevant tags, questions can get far more attention. ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598440,"post_id":58629452,"comment_id":103616338,"body_markdown":"1) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) See also [How to create great screenshots?](http://meta.stackexchange.com/q/99734/155831) 3) `fileChooser.setPreferredSize(new Dimension(600,600));` See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/58629452/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) See also <a href=\"http://meta.stackexchange.com/q/99734/155831\">How to create great screenshots?</a> 3) <code>fileChooser.setPreferredSize(new Dimension(600,600));</code> See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"}],"answers":[{"tags":[],"owner":{"account_id":28957321,"reputation":1,"user_id":22180602,"display_name":"Wolfgang Hasler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688576078,"creation_date":1688576078,"answer_id":76622473,"question_id":58629452,"body_markdown":"The following code was tested with Java 11.\r\nIt uses slightly modified methods from sun.swing.FilePane.\r\n\r\n    public class FileChooserFix extends JFileChooser {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JTable            detailsTable;\r\n    \r\n        public FileChooserFix() {\r\n            super();\r\n            Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\r\n            details.actionPerformed(null);\r\n            detailsTable = findChildComponent(this, JTable.class);\r\n        }\r\n    \r\n        private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\r\n            int n = container.getComponentCount();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                Component comp = container.getComponent(i);\r\n                if (cls.isInstance(comp)) {\r\n                    return cls.cast(comp);\r\n                }\r\n                else if (comp instanceof Container) {\r\n                    T c = findChildComponent((Container) comp, cls);\r\n                    if (c != null) {\r\n                        return c;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void setCurrentDirectory(File dir) {\r\n            super.setCurrentDirectory(dir);\r\n            fixNameColumnWidth();\r\n        }\r\n    \r\n        private void fixNameColumnWidth() {\r\n            if (detailsTable != null) {\r\n                JViewport viewport = (JViewport) detailsTable.getParent();\r\n                int viewWidth = viewport.getSize().width;\r\n                TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\r\n                int tableWidth = detailsTable.getPreferredSize().width;\r\n                if (tableWidth &lt; viewWidth) {\r\n                    nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \r\n\t\t\t\t\t\t\t\t\t\tviewWidth - tableWidth);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Resize column width in JFileChooser","body":"<p>The following code was tested with Java 11.\nIt uses slightly modified methods from sun.swing.FilePane.</p>\n<pre><code>public class FileChooserFix extends JFileChooser {\n\n    private static final long serialVersionUID = 1L;\n    private JTable            detailsTable;\n\n    public FileChooserFix() {\n        super();\n        Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\n        details.actionPerformed(null);\n        detailsTable = findChildComponent(this, JTable.class);\n    }\n\n    private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\n        int n = container.getComponentCount();\n        for (int i = 0; i &lt; n; i++) {\n            Component comp = container.getComponent(i);\n            if (cls.isInstance(comp)) {\n                return cls.cast(comp);\n            }\n            else if (comp instanceof Container) {\n                T c = findChildComponent((Container) comp, cls);\n                if (c != null) {\n                    return c;\n                }\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public void setCurrentDirectory(File dir) {\n        super.setCurrentDirectory(dir);\n        fixNameColumnWidth();\n    }\n\n    private void fixNameColumnWidth() {\n        if (detailsTable != null) {\n            JViewport viewport = (JViewport) detailsTable.getParent();\n            int viewWidth = viewport.getSize().width;\n            TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\n            int tableWidth = detailsTable.getPreferredSize().width;\n            if (tableWidth &lt; viewWidth) {\n                nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \n                                    viewWidth - tableWidth);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17000959,"reputation":21,"user_id":12298368,"display_name":"Angela Cox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688576078,"creation_date":1572451364,"question_id":58629452,"body_markdown":"I am using a `JFileChooser` which allows me to browse to an Excel file.   \r\n\r\nThe file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  \r\n\r\nHow can I stop this from happening and keep the same column width whilst browsing to different locations?\r\n\r\nInitial display of `JFileChooser`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter browsing to a different location\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    JFileChooser fileChooser = new JFileChooser();\r\n    fileChooser.setPreferredSize(new Dimension(600,600));\r\n     \r\n    fileChooser.setCurrentDirectory(selectedDir);\r\n    Action details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jB5QV.jpg\r\n  [2]: https://i.stack.imgur.com/fk98U.jpg","title":"Resize column width in JFileChooser","body":"<p>I am using a <code>JFileChooser</code> which allows me to browse to an Excel file.   </p>\n\n<p>The file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  </p>\n\n<p>How can I stop this from happening and keep the same column width whilst browsing to different locations?</p>\n\n<p>Initial display of <code>JFileChooser</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/jB5QV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jB5QV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After browsing to a different location</p>\n\n<p><a href=\"https://i.stack.imgur.com/fk98U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fk98U.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>JFileChooser fileChooser = new JFileChooser();\nfileChooser.setPreferredSize(new Dimension(600,600));\n\nfileChooser.setCurrentDirectory(selectedDir);\nAction details = fileChooser.getActionMap().get(\"viewTypeDetails\");\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688573833,"post_id":76622176,"comment_id":135092741,"body_markdown":"not a direct answer to your problem, but maybe a helpful resource: an old [visual guide to layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"not a direct answer to your problem, but maybe a helpful resource: an old <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">visual guide to layout managers</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1688574147,"post_id":76622176,"comment_id":135092804,"body_markdown":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI.","body":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688574692,"post_id":76622176,"comment_id":135092932,"body_markdown":"`GridBagLayout` solution: for the last element, change `gbc.anchor = GridBagConstraints.NORTHWEST;` and `gbc.weighty = 1.0;` (only before adding the last element, so it alone will get all space)","body":"<code>GridBagLayout</code> solution: for the last element, change <code>gbc.anchor = GridBagConstraints.NORTHWEST;</code> and <code>gbc.weighty = 1.0;</code> (only before adding the last element, so it alone will get all space)"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1688575063,"post_id":76622176,"comment_id":135092999,"body_markdown":"@user16320675, Thanks, it works! You can write answer, I will accept it.","body":"@user16320675, Thanks, it works! You can write answer, I will accept it."}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576016,"creation_date":1688573456,"question_id":76622176,"body_markdown":"I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. &lt;br&gt;\r\nI tried two options:\r\n\r\n 1. Using GridBagLayout\r\n 2. Using BoxLayout\r\n\r\nWhen using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?\r\n\r\nPeople also advise to set ```gbc.weighty = 1.0```, but components just fill all available space in container.&lt;br&gt;\r\n\r\nRunnable example with GridBagLayout:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.NORTH;\r\n        gbc.fill = GridBagConstraints.NONE;\r\n        gbc.gridy = 0;\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        filterPanel.add(filterLabel, gbc);\r\n\r\n        gbc.anchor = GridBagConstraints.WEST;\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        gbc.gridy = 1;\r\n        filterPanel.add(releasesBox, gbc);\r\n        gbc.gridy = 2;\r\n        filterPanel.add(snapshotsBox, gbc);\r\n        gbc.gridy = 3;\r\n        filterPanel.add(oldSnapshotsBox, gbc);\r\n        gbc.gridy = 4;\r\n        filterPanel.add(betasBox, gbc);\r\n        gbc.gridy = 5;\r\n        filterPanel.add(alphasBox, gbc);\r\n        gbc.gridy = 6;\r\n        filterPanel.add(experimentsBox, gbc);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\nRunnable example with BoxLayout:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        // Adding this line makes it only worse\r\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n        filterPanel.add(filterLabel);\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        filterPanel.add(releasesBox);\r\n        filterPanel.add(snapshotsBox);\r\n        filterPanel.add(oldSnapshotsBox);\r\n        filterPanel.add(betasBox);\r\n        filterPanel.add(alphasBox);\r\n        filterPanel.add(experimentsBox);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```","title":"Java Swing lay out components from top to bottom","body":"<p>I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. <br>\nI tried two options:</p>\n<ol>\n<li>Using GridBagLayout</li>\n<li>Using BoxLayout</li>\n</ol>\n<p>When using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?</p>\n<p>People also advise to set <code>gbc.weighty = 1.0</code>, but components just fill all available space in container.<br></p>\n<p>Runnable example with GridBagLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.NORTH;\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.gridy = 0;\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        filterPanel.add(filterLabel, gbc);\n\n        gbc.anchor = GridBagConstraints.WEST;\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        gbc.gridy = 1;\n        filterPanel.add(releasesBox, gbc);\n        gbc.gridy = 2;\n        filterPanel.add(snapshotsBox, gbc);\n        gbc.gridy = 3;\n        filterPanel.add(oldSnapshotsBox, gbc);\n        gbc.gridy = 4;\n        filterPanel.add(betasBox, gbc);\n        gbc.gridy = 5;\n        filterPanel.add(alphasBox, gbc);\n        gbc.gridy = 6;\n        filterPanel.add(experimentsBox, gbc);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>Runnable example with BoxLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        // Adding this line makes it only worse\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        filterPanel.add(filterLabel);\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        filterPanel.add(releasesBox);\n        filterPanel.add(snapshotsBox);\n        filterPanel.add(oldSnapshotsBox);\n        filterPanel.add(betasBox);\n        filterPanel.add(alphasBox);\n        filterPanel.add(experimentsBox);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","minecraft","decompiling"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669395889,"post_id":74575600,"comment_id":131639341,"body_markdown":"Since `aab2` is cast to `aak` (initially `aab`), it is probable that the `f` method called is not the one we see in `als`","body":"Since <code>aab2</code> is cast to <code>aak</code> (initially <code>aab</code>), it is probable that the <code>f</code> method called is not the one we see in <code>als</code>"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396210,"post_id":74575600,"comment_id":131639417,"body_markdown":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway","body":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396970,"post_id":74575600,"comment_id":131639627,"body_markdown":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode","body":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1669400250,"post_id":74575600,"comment_id":131640345,"body_markdown":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2.","body":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2."},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669404390,"post_id":74575600,"comment_id":131641246,"body_markdown":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks.","body":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks."}],"answers":[{"tags":[],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669404491,"creation_date":1669404491,"answer_id":74577194,"question_id":74575600,"body_markdown":"Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.","title":"Java incorrect bytecode","body":"<p>Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.</p>\n"}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74577194,"answer_count":1,"score":0,"last_activity_date":1688575536,"creation_date":1669393755,"question_id":74575600,"body_markdown":"I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:\r\n\r\n```\r\n/*\r\n * Decompiled with CFR 0.152.\r\n */\r\nimport java.util.Random;\r\n\r\npublic class als\r\nextends aly\r\nimplements amh {\r\n    public als(int n2, boolean bl2) {\r\n        super(n2, bl2);\r\n        this.cF = true;\r\n    }\r\n\r\n    public int a(int n2, Random random, int n3) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    public int d(aab aab2, int n2, int n3, int n4) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    protected int i_(int n2) {\r\n        return 2;\r\n    }\r\n\r\n    protected aly i() {\r\n        return apa.cq;\r\n    }\r\n\r\n    protected aly j() {\r\n        return apa.cp;\r\n    }\r\n\r\n    public int d() {\r\n        return 37;\r\n    }\r\n\r\n    public lx a(int n2, int n3) {\r\n        boolean bl2;\r\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\r\n        if (n2 == 0) {\r\n            if (bl2) {\r\n                return apa.aU.m(n2);\r\n            }\r\n            return apa.aT.m(n2);\r\n        }\r\n        if (n2 == 1) {\r\n            if (bl2) {\r\n                return apa.cq.cQ;\r\n            }\r\n            return this.cQ;\r\n        }\r\n        return apa.an.m(1);\r\n    }\r\n\r\n    protected boolean c(int n2) {\r\n        return this.a || (n2 &amp; 8) != 0;\r\n    }\r\n\r\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\r\n        return this.a_(aak2, n2, n3, n4).a();\r\n    }\r\n\r\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\r\n        if (!this.d(n5)) {\r\n            return this.e(aab2, n2, n3, n4, n5);\r\n        }\r\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\r\n    }\r\n\r\n    public boolean d(int n2) {\r\n        return (n2 &amp; 4) == 4;\r\n    }\r\n\r\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6 = this.e(aab2, n2, n3, n4, n5);\r\n        if (n6 &gt;= 15) {\r\n            return true;\r\n        }\r\n        if (n6 == 0) {\r\n            return false;\r\n        }\r\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\r\n        if (n7 == 0) {\r\n            return true;\r\n        }\r\n        return n6 &gt;= n7;\r\n    }\r\n\r\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7 = super.e(aab2, n2, n3, n4, n5);\r\n        int n8 = als.j(n5);\r\n        int n9 = n2 + r.a[n8];\r\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\r\n        if (n10 &gt; 0) {\r\n            if (apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            }\r\n        }\r\n        return n7;\r\n    }\r\n\r\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\r\n        return (aqa)aak2.r(n2, n3, n4);\r\n    }\r\n\r\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\r\n        int n6 = aab2.h(n2, n3, n4);\r\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\r\n        boolean bl3 = !this.d(n6);\r\n        int n7 = bl3 ? 4 : 0;\r\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\r\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\r\n        this.c(aab2, n2, n3, n4, aab2.s);\r\n        return true;\r\n    }\r\n\r\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7;\r\n        int n8;\r\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\r\n            if (this.h(aab2, n2, n3, n4, n7)) {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\r\n            } else {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\r\n        int n5 = aab2.h(n2, n3, n4);\r\n        int n6 = this.m(aab2, n2, n3, n4, n5);\r\n        int n7 = this.a_(aab2, n2, n3, n4).a();\r\n        this.a_(aab2, n2, n3, n4).a(n6);\r\n        if (n7 != n6 || !this.d(n5)) {\r\n            boolean bl2;\r\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\r\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\r\n            if (bl2 &amp;&amp; !bl3) {\r\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\r\n            } else if (!bl2 &amp;&amp; bl3) {\r\n                aab2.b(n2, n3, n4, n5 | 8, 2);\r\n            }\r\n            this.h_(aab2, n2, n3, n4);\r\n        }\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\r\n        if (this.a) {\r\n            int n5 = aab2.h(n2, n3, n4);\r\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\r\n        }\r\n        this.c(aab2, n2, n3, n4, random);\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4) {\r\n        super.a(aab2, n2, n3, n4);\r\n        aab2.a(n2, n3, n4, this.b(aab2));\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.a(aab2, n2, n3, n4, n5, n6);\r\n        aab2.s(n2, n3, n4);\r\n        this.h_(aab2, n2, n3, n4);\r\n    }\r\n\r\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.b(aab2, n2, n3, n4, n5, n6);\r\n        aqp aqp2 = aab2.r(n2, n3, n4);\r\n        if (aqp2 != null) {\r\n            return aqp2.b(n5, n6);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void a(ly ly2) {\r\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\r\n    }\r\n\r\n    public aqp b(aab aab2) {\r\n        return new aqa();\r\n    }\r\n}\r\n```\r\nI also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\r\nMaybe I need to change ```f``` method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.\r\n\r\n**UPD:**\r\nI found that in class ```aly``` (super class) there is protected ```int f``` method, maybe I need to call it?\r\n\r\n**UPD 2:**\r\nSeven months later, I cringe at this stupid question..","title":"Java incorrect bytecode","body":"<p>I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:</p>\n<pre><code>/*\n * Decompiled with CFR 0.152.\n */\nimport java.util.Random;\n\npublic class als\nextends aly\nimplements amh {\n    public als(int n2, boolean bl2) {\n        super(n2, bl2);\n        this.cF = true;\n    }\n\n    public int a(int n2, Random random, int n3) {\n        return wk.bY.cp;\n    }\n\n    public int d(aab aab2, int n2, int n3, int n4) {\n        return wk.bY.cp;\n    }\n\n    protected int i_(int n2) {\n        return 2;\n    }\n\n    protected aly i() {\n        return apa.cq;\n    }\n\n    protected aly j() {\n        return apa.cp;\n    }\n\n    public int d() {\n        return 37;\n    }\n\n    public lx a(int n2, int n3) {\n        boolean bl2;\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\n        if (n2 == 0) {\n            if (bl2) {\n                return apa.aU.m(n2);\n            }\n            return apa.aT.m(n2);\n        }\n        if (n2 == 1) {\n            if (bl2) {\n                return apa.cq.cQ;\n            }\n            return this.cQ;\n        }\n        return apa.an.m(1);\n    }\n\n    protected boolean c(int n2) {\n        return this.a || (n2 &amp; 8) != 0;\n    }\n\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\n        return this.a_(aak2, n2, n3, n4).a();\n    }\n\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\n        if (!this.d(n5)) {\n            return this.e(aab2, n2, n3, n4, n5);\n        }\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\n    }\n\n    public boolean d(int n2) {\n        return (n2 &amp; 4) == 4;\n    }\n\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6 = this.e(aab2, n2, n3, n4, n5);\n        if (n6 &gt;= 15) {\n            return true;\n        }\n        if (n6 == 0) {\n            return false;\n        }\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\n        if (n7 == 0) {\n            return true;\n        }\n        return n6 &gt;= n7;\n    }\n\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7 = super.e(aab2, n2, n3, n4, n5);\n        int n8 = als.j(n5);\n        int n9 = n2 + r.a[n8];\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\n        if (n10 &gt; 0) {\n            if (apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            }\n        }\n        return n7;\n    }\n\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\n        return (aqa)aak2.r(n2, n3, n4);\n    }\n\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\n        int n6 = aab2.h(n2, n3, n4);\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\n        boolean bl3 = !this.d(n6);\n        int n7 = bl3 ? 4 : 0;\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\n        this.c(aab2, n2, n3, n4, aab2.s);\n        return true;\n    }\n\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7;\n        int n8;\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\n            if (this.h(aab2, n2, n3, n4, n7)) {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\n            } else {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\n            }\n        }\n    }\n\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\n        int n5 = aab2.h(n2, n3, n4);\n        int n6 = this.m(aab2, n2, n3, n4, n5);\n        int n7 = this.a_(aab2, n2, n3, n4).a();\n        this.a_(aab2, n2, n3, n4).a(n6);\n        if (n7 != n6 || !this.d(n5)) {\n            boolean bl2;\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\n            if (bl2 &amp;&amp; !bl3) {\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\n            } else if (!bl2 &amp;&amp; bl3) {\n                aab2.b(n2, n3, n4, n5 | 8, 2);\n            }\n            this.h_(aab2, n2, n3, n4);\n        }\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\n        if (this.a) {\n            int n5 = aab2.h(n2, n3, n4);\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\n        }\n        this.c(aab2, n2, n3, n4, random);\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4) {\n        super.a(aab2, n2, n3, n4);\n        aab2.a(n2, n3, n4, this.b(aab2));\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.a(aab2, n2, n3, n4, n5, n6);\n        aab2.s(n2, n3, n4);\n        this.h_(aab2, n2, n3, n4);\n    }\n\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.b(aab2, n2, n3, n4, n5, n6);\n        aqp aqp2 = aab2.r(n2, n3, n4);\n        if (aqp2 != null) {\n            return aqp2.b(n5, n6);\n        }\n        return false;\n    }\n\n    public void a(ly ly2) {\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\n    }\n\n    public aqp b(aab aab2) {\n        return new aqa();\n    }\n}\n</code></pre>\n<p>I also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\nMaybe I need to change <code>f</code> method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.</p>\n<p><strong>UPD:</strong>\nI found that in class <code>aly</code> (super class) there is protected <code>int f</code> method, maybe I need to call it?</p>\n<p><strong>UPD 2:</strong>\nSeven months later, I cringe at this stupid question..</p>\n"},{"tags":["java","http","jsp","tcp"],"comments":[{"owner":{"account_id":196956,"reputation":6125,"user_id":440704,"accept_rate":82,"display_name":"Nathan"},"score":4,"creation_date":1305183307,"post_id":5974364,"comment_id":6894072,"body_markdown":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?","body":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1688574507,"creation_date":1305183329,"answer_id":5974397,"question_id":5974364,"body_markdown":"HTTP is not an *alternative* to TCP. It is a protocol built on top of TCP.\r\n\r\nCustom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nOn a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can&#39;t really proactively send a message to the client. It needs to wait for the client to send a request.\r\n\r\nAn advantage of HTTP is that it&#39;s almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there&#39;s a wide variety of content negotiation-mechanisms built in.\r\n\r\nSo it&#39;s the traditional trade-off between high-level or lower-level abstraction:\r\n\r\n - lower-level abstraction (TCP) provides high flexbility and the *possibility* of implementing almost everything, while it is not as simple to use\r\n - higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add\r\n\r\n&lt;sup&gt;* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1&lt;/sup&gt;","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is not an <em>alternative</em> to TCP. It is a protocol built on top of TCP.</p>\n<p>Custom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base<sup>*</sup>.</p>\n<p>On a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can't really proactively send a message to the client. It needs to wait for the client to send a request.</p>\n<p>An advantage of HTTP is that it's almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there's a wide variety of content negotiation-mechanisms built in.</p>\n<p>So it's the traditional trade-off between high-level or lower-level abstraction:</p>\n<ul>\n<li>lower-level abstraction (TCP) provides high flexbility and the <em>possibility</em> of implementing almost everything, while it is not as simple to use</li>\n<li>higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add</li>\n</ul>\n<p><sup>* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1</sup></p>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305183333,"creation_date":1305183333,"answer_id":5974398,"question_id":5974364,"body_markdown":"TCP can&#39;t be told as better. It is a protocol of transport(4th) level of [OSI][1] model.\r\nHTTP is an application protocol(7th level).\r\n\r\nThey are different and HTTP is based on TCP.\r\n\r\nHTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \r\nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.\r\n\r\nRead about them on Wiki: [HTTP][2] and [TCP][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OSI_model\r\n  [2]: http://en.wikipedia.org/wiki/HTTP\r\n  [3]: http://en.wikipedia.org/wiki/Transmission_Control_Protocol","title":"How is using TCP communication better than HTTP communication?","body":"<p>TCP can't be told as better. It is a protocol of transport(4th) level of <a href=\"http://en.wikipedia.org/wiki/OSI_model\" rel=\"nofollow\">OSI</a> model.\nHTTP is an application protocol(7th level).</p>\n\n<p>They are different and HTTP is based on TCP.</p>\n\n<p>HTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.</p>\n\n<p>Read about them on Wiki: <a href=\"http://en.wikipedia.org/wiki/HTTP\" rel=\"nofollow\">HTTP</a> and <a href=\"http://en.wikipedia.org/wiki/Transmission_Control_Protocol\" rel=\"nofollow\">TCP</a>.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305183419,"creation_date":1305183419,"answer_id":5974414,"question_id":5974364,"body_markdown":"HTTP is a protocol *on top* of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. \r\n\r\nOr you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the &quot;only port 80 is open everywhere, so let&#39;s use it for everything&quot; issue) but often leads to rather nasty hacks.","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is a protocol <em>on top</em> of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. </p>\n\n<p>Or you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the \"only port 80 is open everywhere, so let's use it for everything\" issue) but often leads to rather nasty hacks.</p>\n"}],"owner":{"account_id":242751,"reputation":6179,"user_id":514493,"accept_rate":69,"display_name":"Manish Basdeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2039,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5974397,"answer_count":3,"score":3,"last_activity_date":1688574507,"creation_date":1305183058,"question_id":5974364,"body_markdown":"I have implemented a client server jave program using TCP for an assignment. Now I&#39;ve to explain why I chose TCP for communication when other alternatives like HTTP are also available..\r\nSo I need some reasons why TCP is better than the other one ..","title":"How is using TCP communication better than HTTP communication?","body":"<p>I have implemented a client server jave program using TCP for an assignment. Now I've to explain why I chose TCP for communication when other alternatives like HTTP are also available..\nSo I need some reasons why TCP is better than the other one ..</p>\n"},{"tags":["java","for-loop","indexoutofboundsexception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1688572824,"post_id":76622049,"comment_id":135092469,"body_markdown":"Please [edit] your question to add the way you&#39;re running your program.","body":"Please <a href=\"https://stackoverflow.com/posts/76622049/edit\">edit</a> your question to add the way you&#39;re running your program."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1688572842,"post_id":76622049,"comment_id":135092474,"body_markdown":"Only the command line could give that result of an `ArrayInexOutOfBoundsException` from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the `args`? `java -cp myClass 5 3`","body":"Only the command line could give that result of an <code>ArrayInexOutOfBoundsException</code> from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the <code>args</code>? <code>java -cp myClass 5 3</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688572856,"post_id":76622049,"comment_id":135092481,"body_markdown":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly.","body":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1688574491,"post_id":76622049,"comment_id":135092885,"body_markdown":"Be aware questions need to include the specific error, and need to include instructions to reproduce.","body":"Be aware questions need to include the specific error, and need to include instructions to reproduce."}],"answers":[{"comments":[{"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"score":1,"creation_date":1688576662,"post_id":76622280,"comment_id":135093290,"body_markdown":"Thank you! I actually was inputting my arguments wrong, I&#39;m sorry for such a silly mistake.","body":"Thank you! I actually was inputting my arguments wrong, I&#39;m sorry for such a silly mistake."},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1688578058,"post_id":76622280,"comment_id":135093582,"body_markdown":"@silly_bear_11 no problem, it always happens :) If my answer was helpful, I&#39;d appreciate if you&#39;d smack this green checkbox that you accepted it :) thanks in advance!","body":"@silly_bear_11 no problem, it always happens :) If my answer was helpful, I&#39;d appreciate if you&#39;d smack this green checkbox that you accepted it :) thanks in advance!"},{"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"score":1,"creation_date":1688668683,"post_id":76622280,"comment_id":135108396,"body_markdown":"Just clicked the checkmark, and now it says on my end that it&#39;s accepted. Thanks again!","body":"Just clicked the checkmark, and now it says on my end that it&#39;s accepted. Thanks again!"}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688574288,"creation_date":1688574288,"answer_id":76622280,"question_id":76622049,"body_markdown":"I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments `args[N]`. For that is the only place where you operate with arrays in your code. \r\n\r\nTry this code:\r\n```\r\npublic static void main(String[] args) {\r\n    if (args.length != 2) {\r\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\r\n        return;\r\n    }\r\n    int n = Integer.parseInt(args[0]);\r\n    int r = Integer.parseInt(args[1]);\r\n    float sum = 0;\r\n    for (int i = 1; i &lt;= n; i++) {\r\n        sum += 1 / Math.pow(i, r);\r\n    }\r\n    System.out.println(sum);\r\n}\r\n```\r\n\r\nYou will see that your arguments are somehow not provided. Check how do you run your program.","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments <code>args[N]</code>. For that is the only place where you operate with arrays in your code.</p>\n<p>Try this code:</p>\n<pre><code>public static void main(String[] args) {\n    if (args.length != 2) {\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\n        return;\n    }\n    int n = Integer.parseInt(args[0]);\n    int r = Integer.parseInt(args[1]);\n    float sum = 0;\n    for (int i = 1; i &lt;= n; i++) {\n        sum += 1 / Math.pow(i, r);\n    }\n    System.out.println(sum);\n}\n</code></pre>\n<p>You will see that your arguments are somehow not provided. Check how do you run your program.</p>\n"}],"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76622280,"answer_count":1,"score":1,"last_activity_date":1688574288,"creation_date":1688572621,"question_id":76622049,"body_markdown":"Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.\r\n\r\nI keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.\r\n\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int r = Integer.parseInt(args[1]);\r\n        float sum = 0;\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            sum += 1 / Math.pow(i, r);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\nEdit: I am running the program from the mac command line and it&#39;s not letting me enter arguments at all. Sorry if this is missing something very obvious. ","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.</p>\n<p>I keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.</p>\n<p>Here is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        int r = Integer.parseInt(args[1]);\n        float sum = 0;\n        for (int i = 1; i &lt;= n; i++) {\n            sum += 1 / Math.pow(i, r);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>Edit: I am running the program from the mac command line and it's not letting me enter arguments at all. Sorry if this is missing something very obvious.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1688406481,"post_id":76607034,"comment_id":135067263,"body_markdown":"See [FAQ](https://poi.apache.org/help/faq.html#faq-N10204) -&gt; `poi-ooxml-schemas 4.1.2 ` does not fit to `poi-ooxml 5.2.2`. This needs `poi-ooxml-lite` of same version `5.2.2`. Also it needs `commons-io` in version  `2.11.0`.","body":"See <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">FAQ</a> -&gt; <code>poi-ooxml-schemas 4.1.2 </code> does not fit to <code>poi-ooxml 5.2.2</code>. This needs <code>poi-ooxml-lite</code> of same version <code>5.2.2</code>. Also it needs <code>commons-io</code> in version  <code>2.11.0</code>."}],"answers":[{"tags":[],"owner":{"account_id":19431408,"reputation":11,"user_id":14211756,"display_name":"bdoucouret"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688574028,"creation_date":1688406959,"answer_id":76607155,"question_id":76607034,"body_markdown":"Difficult to answer without some more information.\r\nNote that `NoClassDefFoundError != ClassNotFoundException`\r\n\r\nWith `NoClassDefFoundError` it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.\r\n\r\nIt could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.\r\n\r\nAnyway, with a simple maven project, I can successfully instantiate an object of type `UnsynchronizedByteArrayOutputStream` with following dependency:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n\t\tUnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\r\n\tSystem.out.println(&quot;All good&quot;);\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>Difficult to answer without some more information.\nNote that <code>NoClassDefFoundError != ClassNotFoundException</code></p>\n<p>With <code>NoClassDefFoundError</code> it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.</p>\n<p>It could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.</p>\n<p>Anyway, with a simple maven project, I can successfully instantiate an object of type <code>UnsynchronizedByteArrayOutputStream</code> with following dependency:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>public static void main(String[] args) {\n        UnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\n    System.out.println(&quot;All good&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1467181,"reputation":1,"user_id":1379718,"display_name":"monisha wali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688574028,"creation_date":1688405810,"question_id":76607034,"body_markdown":"I am reading data from excel file but getting above error\r\nI have added all below dependencies to my pom:   \r\n     poi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\r\nStill its not working. Please help\r\n\r\nI have tries adding all dependencies ","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>I am reading data from excel file but getting above error\nI have added all below dependencies to my pom:<br />\npoi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\nStill its not working. Please help</p>\n<p>I have tries adding all dependencies</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688571181,"creation_date":1688571181,"answer_id":76621881,"question_id":76621813,"body_markdown":"You can set the `spring.kafka.admin.fail-fast` configuration property to `true`.\r\n\r\nThe default is `false`.\r\n\r\nMore on the configuration properties [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>You can set the <code>spring.kafka.admin.fail-fast</code> configuration property to <code>true</code>.</p>\n<p>The default is <code>false</code>.</p>\n<p>More on the configuration properties <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688573905,"creation_date":1688573905,"answer_id":76622243,"question_id":76621813,"body_markdown":"Unfortunately there is no kafka-clients API to detect whether the server is available or not.","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>Unfortunately there is no kafka-clients API to detect whether the server is available or not.</p>\n"}],"owner":{"account_id":20450118,"reputation":43,"user_id":15005110,"display_name":"django"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688573905,"creation_date":1688570684,"question_id":76621813,"body_markdown":"I have a [KafkaMessageListenerContainer][1] instance, I&#39;m calling `container.start()` with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:\r\n\r\n    Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\r\n\r\nI want to stop this loop when connection is not working or make the start method throw an exception. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>I have a <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html\" rel=\"nofollow noreferrer\">KafkaMessageListenerContainer</a> instance, I'm calling <code>container.start()</code> with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:</p>\n<pre><code>Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\n</code></pre>\n<p>I want to stop this loop when connection is not working or make the start method throw an exception.</p>\n"},{"tags":["java","reactjs","spring-boot","frontend","backend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688634232,"post_id":76622175,"comment_id":135101013,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24123375,"reputation":9,"user_id":18092133,"display_name":"Kone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688573451,"creation_date":1688573451,"question_id":76622175,"body_markdown":"I&#39;m trying to make a full stack application, so it includes a lot of endpoints...\r\nI don&#39;t see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I&#39;m interested how to make it visible?\r\n\r\nBtw I am using Spring boot Maven and React for my project.\r\n\r\nI tried in Settings and more, but I couldn&#39;t find anything.","title":"How i can see generated requests for endpoints in IntelliJ","body":"<p>I'm trying to make a full stack application, so it includes a lot of endpoints...\nI don't see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I'm interested how to make it visible?</p>\n<p>Btw I am using Spring boot Maven and React for my project.</p>\n<p>I tried in Settings and more, but I couldn't find anything.</p>\n"},{"tags":["java","spring-boot","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":3,"creation_date":1688574070,"post_id":76622171,"comment_id":135092791,"body_markdown":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea.","body":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea."}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573433,"creation_date":1688573433,"question_id":76622171,"body_markdown":"I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)\r\n\r\n    @Service\r\n    public class CourseService extends CourseBase {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      private CourseBaseOneRepository courseBaseOneRepository;\r\n      private CourseBaseTwoRepository courseBaseTwoRepository;\r\n      \r\n      public CourseService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n    \tCourseBaseOneRepository courseBaseOneRepository,\r\n    \tCourseBaseTwoRepository courseBaseTwoRepository\r\n      ) {\r\n      super(courseBaseOneRepository, courseBaseTwoRepository);\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n      ...\r\n    \r\n    }\r\n\r\nI get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\r\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class. \r\n\r\n    public class CourseGroupService {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      \r\n      public CourseGroupService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n      ) {\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n    \r\n    }\r\n\r\nHow to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error","title":"Spring boot constructor parameter which is greater then 7 authorized","body":"<p>I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)</p>\n<pre><code>@Service\npublic class CourseService extends CourseBase {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  private CourseBaseOneRepository courseBaseOneRepository;\n  private CourseBaseTwoRepository courseBaseTwoRepository;\n  \n  public CourseService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n    CourseBaseOneRepository courseBaseOneRepository,\n    CourseBaseTwoRepository courseBaseTwoRepository\n  ) {\n  super(courseBaseOneRepository, courseBaseTwoRepository);\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n  ...\n\n}\n</code></pre>\n<p>I get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class.</p>\n<pre><code>public class CourseGroupService {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  \n  public CourseGroupService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n  ) {\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n\n}\n</code></pre>\n<p>How to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error</p>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688574235,"post_id":76622164,"comment_id":135092823,"body_markdown":"It sounds like you want to respond to clicks on the `TreeCell`, not changes in selection. Just define a custom `cellFactory` and register the appropriate event handler with the cell. Create and post a [mre] if you can&#39;t get it to work.","body":"It sounds like you want to respond to clicks on the <code>TreeCell</code>, not changes in selection. Just define a custom <code>cellFactory</code> and register the appropriate event handler with the cell. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you can&#39;t get it to work."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573394,"creation_date":1688573394,"question_id":76622164,"body_markdown":"I&#39;m coding in JavaFx and I&#39;ve created a TreeView to display folders and files like this :\r\n```\r\nfileTreeView = new TreeView&lt;&gt;();\r\nfileTreeView.setPrefWidth(screenWidth / 5);\r\nfileTreeView.setMinWidth(screenWidth / 5);\r\nfileTreeView.setMaxWidth(screenWidth / 5);\r\n```\r\n\r\nIf the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don&#39;t work because he must click on another file or directory to deselect the previous file, and then click on the file again.\r\n\r\nSo you understand it, if there is only one file, you cannot open it after closing it.\r\nHow can I do it. I&#39;ve already tried things like\r\n``` fileTreeView.getSelectionModel().clearSelection(); ```\r\nor\r\n``` fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE); ```\r\nbut it&#39;s not what I want.\r\n\r\nThanks in advance for your help !","title":"How to deselect a TreeItem after clicking in a TreeView in JavaFx","body":"<p>I'm coding in JavaFx and I've created a TreeView to display folders and files like this :</p>\n<pre><code>fileTreeView = new TreeView&lt;&gt;();\nfileTreeView.setPrefWidth(screenWidth / 5);\nfileTreeView.setMinWidth(screenWidth / 5);\nfileTreeView.setMaxWidth(screenWidth / 5);\n</code></pre>\n<p>If the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don't work because he must click on another file or directory to deselect the previous file, and then click on the file again.</p>\n<p>So you understand it, if there is only one file, you cannot open it after closing it.\nHow can I do it. I've already tried things like\n<code>fileTreeView.getSelectionModel().clearSelection();</code>\nor\n<code>fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);</code>\nbut it's not what I want.</p>\n<p>Thanks in advance for your help !</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":12488403,"reputation":23,"user_id":9090844,"display_name":"Abdelouahad Elfihri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573280,"creation_date":1688573280,"question_id":76622149,"body_markdown":"hy,\r\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\r\nthis is my layout for main activity\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/main_activity_toolbar&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#4F5EB1&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;@string/app_name&quot;\r\n        app:titleTextColor=&quot;@android:color/white&quot; /&gt;\r\n    \r\n    &lt;GridView\r\n        android:id=&quot;@+id/griview&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;670dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:columnWidth=&quot;100dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:numColumns=&quot;2&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ncan someone please help me with this issue\r\n\r\nthank you so much for your help\r\n","title":"Strange empty white space above toolbar","body":"<p>hy,\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\nthis is my layout for main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/main_activity_toolbar&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#4F5EB1&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:title=&quot;@string/app_name&quot;\n    app:titleTextColor=&quot;@android:color/white&quot; /&gt;\n\n&lt;GridView\n    android:id=&quot;@+id/griview&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;670dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:columnWidth=&quot;100dp&quot;\n    android:gravity=&quot;center&quot;\n    android:numColumns=&quot;2&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>can someone please help me with this issue</p>\n<p>thank you so much for your help</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688573890,"post_id":76622136,"comment_id":135092756,"body_markdown":"what is the meaning of that &quot;range&quot;, or `K`? Why the [tag:java] tag - posted code is NOT Java?","body":"what is the meaning of that &quot;range&quot;, or <code>K</code>? Why the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag - posted code is NOT Java?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688574319,"post_id":76622136,"comment_id":135092846,"body_markdown":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on [codereview.se]. See [ask] for questions that fit stackoverflow.","body":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for questions that fit stackoverflow."}],"owner":{"account_id":28956991,"reputation":1,"user_id":22180344,"display_name":"Shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573186,"creation_date":1688573186,"question_id":76622136,"body_markdown":"How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\r\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].\r\n\r\n\r\n```\r\ndef findComb(stri):\r\n    if len(stri) &lt;= 1 :\r\n        return [stri]\r\n    arr=findComb(stri[1:len(stri)])\r\n    destArr=[]\r\n    for i in arr:\r\n        destArr.append(stri[0]+i)\r\n        destArr.append(stri[0]+&#39;,&#39;+i)\r\n    return destArr\r\n\r\n\r\nn, K=map(str,input().split())\r\nK=int(K)\r\ns=input()\r\nl=findComb(s)\r\nprint(l)\r\n\r\nlis=[]\r\nfor i in l:\r\n    f=0\r\n    if &#39;,&#39; in i:\r\n        li=i.split(&#39;,&#39;)\r\n        for j in li:\r\n            if int(j)&gt;K:\r\n                f=1\r\n                break\r\n        if f==0:\r\n            lis.append(li)\r\n    else:\r\n        if int(i)&lt;=K:\r\n            lis.append(i)\r\n\r\nprint(len(lis)%(10^9+7))\r\n```\r\n\r\n\r\n\r\nMy try is given above.\r\n\r\nAny suggestions on how to optimize it?\r\n\r\n","title":"Optimize the recursion depth","body":"<p>How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].</p>\n<pre><code>def findComb(stri):\n    if len(stri) &lt;= 1 :\n        return [stri]\n    arr=findComb(stri[1:len(stri)])\n    destArr=[]\n    for i in arr:\n        destArr.append(stri[0]+i)\n        destArr.append(stri[0]+','+i)\n    return destArr\n\n\nn, K=map(str,input().split())\nK=int(K)\ns=input()\nl=findComb(s)\nprint(l)\n\nlis=[]\nfor i in l:\n    f=0\n    if ',' in i:\n        li=i.split(',')\n        for j in li:\n            if int(j)&gt;K:\n                f=1\n                break\n        if f==0:\n            lis.append(li)\n    else:\n        if int(i)&lt;=K:\n            lis.append(i)\n\nprint(len(lis)%(10^9+7))\n</code></pre>\n<p>My try is given above.</p>\n<p>Any suggestions on how to optimize it?</p>\n"},{"tags":["java","generics","enums","crtp"],"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":12,"creation_date":1388546779,"post_id":211143,"comment_id":31305555,"body_markdown":"Here&#39;s the explanation I like best: [Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)](http://madbean.com/2004/mb2004-3)","body":"Here&#39;s the explanation I like best: <a href=\"http://madbean.com/2004/mb2004-3\" rel=\"nofollow noreferrer\">Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)</a>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1433510528,"post_id":211143,"comment_id":49397333,"body_markdown":"This question has better answers: http://stackoverflow.com/a/3068001/2413303","body":"This question has better answers: <a href=\"http://stackoverflow.com/a/3068001/2413303\">stackoverflow.com/a/3068001/2413303</a>"},{"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"score":1,"creation_date":1582038586,"post_id":211143,"comment_id":106634031,"body_markdown":"have a look at https://www.sitepoint.com/self-types-with-javas-generics/","body":"have a look at <a href=\"https://www.sitepoint.com/self-types-with-javas-generics/\" rel=\"nofollow noreferrer\">sitepoint.com/self-types-with-javas-generics</a>"}],"answers":[{"comments":[{"owner":{"account_id":354074,"reputation":51,"user_id":692196,"display_name":"artsrc"},"score":0,"creation_date":1332382358,"post_id":211161,"comment_id":12503783,"body_markdown":"I am really interested in the usefulness of this kind of thing versus the complexity.  When I C#&#39;ify your english description I get this:\n&lt;pre&gt;\n    interface IBuilder&lt;TMessage&gt;\n    {\n        IMessage&lt;TMessage&gt; GetMessage();\n    }\n\n    interface IMessage&lt;TMessage&gt;\n    {\n        IBuilder&lt;TMessage&gt; GetBuilder();\n    }\n\n&lt;/pre&gt;","body":"I am really interested in the usefulness of this kind of thing versus the complexity.  When I C#&#39;ify your english description I get this: &lt;pre&gt;     interface IBuilder&lt;TMessage&gt;     {         IMessage&lt;TMessage&gt; GetMessage();     }      interface IMessage&lt;TMessage&gt;     {         IBuilder&lt;TMessage&gt; GetBuilder();     }  &lt;/pre&gt;"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1332398727,"post_id":211161,"comment_id":12506711,"body_markdown":"@artsrc: I can&#39;t remember offhand why it needs to be generic in both the builder and the message. I&#39;m pretty sure I wouldn&#39;t have gone down that route if I hadn&#39;t needed it though :)","body":"@artsrc: I can&#39;t remember offhand why it needs to be generic in both the builder and the message. I&#39;m pretty sure I wouldn&#39;t have gone down that route if I hadn&#39;t needed it though :)"},{"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"score":0,"creation_date":1374140972,"post_id":211161,"comment_id":25827529,"body_markdown":"@JonSkeet: I might be too late, but couldn&#39;t stop asking. Does the `&lt;E extends Enum&lt;E&gt;&gt;` really stops me to pass a type argument which is not the new type being defined? I mean, for example, I could define two subtypes - one is `public class First extends Enum&lt;First&gt;`, and the other one is `public class Second extends Enum&lt;First&gt;`. The declaration isn&#39;t stopping me to mix subtypes here.","body":"@JonSkeet: I might be too late, but couldn&#39;t stop asking. Does the <code>&lt;E extends Enum&lt;E&gt;&gt;</code> really stops me to pass a type argument which is not the new type being defined? I mean, for example, I could define two subtypes - one is <code>public class First extends Enum&lt;First&gt;</code>, and the other one is <code>public class Second extends Enum&lt;First&gt;</code>. The declaration isn&#39;t stopping me to mix subtypes here."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1374141359,"post_id":211161,"comment_id":25827786,"body_markdown":"@SayemAhmed: Yes, it doesn&#39;t prevent *that* aspect of mixing up the types. I&#39;ll add a note about this.","body":"@SayemAhmed: Yes, it doesn&#39;t prevent <i>that</i> aspect of mixing up the types. I&#39;ll add a note about this."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1424841461,"post_id":211161,"comment_id":45711662,"body_markdown":"&quot;The purpose is to give benefits in the right case rather than protect you from the wrong case.&quot; But in the case of `Enum` there are no benefits beyond the benefits that would be given by just `class Enum&lt;E&gt;`.","body":"&quot;The purpose is to give benefits in the right case rather than protect you from the wrong case.&quot; But in the case of <code>Enum</code> there are no benefits beyond the benefits that would be given by just <code>class Enum&lt;E&gt;</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424841500,"post_id":211161,"comment_id":45711676,"body_markdown":"&quot;I&#39;ve used something similar in my C# port of ProtocolBuffers.&quot; But that&#39;s different because builders have instance methods that return the type parameter type. `Enum` doesn&#39;t have any instance methods that return the type parameter type.","body":"&quot;I&#39;ve used something similar in my C# port of ProtocolBuffers.&quot; But that&#39;s different because builders have instance methods that return the type parameter type. <code>Enum</code> doesn&#39;t have any instance methods that return the type parameter type."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424847108,"post_id":211161,"comment_id":45713712,"body_markdown":"@newacct: They have `compareTo` that *accepts* the type parameter though - and it enables other things like `EnumMap` to work. It&#39;s too early in the morning for me to think about this hard, but I&#39;m pretty sure there *are* benefits to it...","body":"@newacct: They have <code>compareTo</code> that <i>accepts</i> the type parameter though - and it enables other things like <code>EnumMap</code> to work. It&#39;s too early in the morning for me to think about this hard, but I&#39;m pretty sure there <i>are</i> benefits to it..."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424858021,"post_id":211161,"comment_id":45719355,"body_markdown":"@JonSkeet: Well, 1) `Enum` cannot be manually subclassed, so it is already guaranteed that the parameter is the same as the type, even without the bound. 2) If `Enum` could be manually subclassed, the bound does not prevent the type parameter to be a different enum type than the instance&#39;s type. 3) If you are saying that `compareTo` just needs to use `ordinal` from any `Enum`, then a bound of `class Enum&lt;E extends Enum&lt;?&gt;&gt;` would be sufficient.","body":"@JonSkeet: Well, 1) <code>Enum</code> cannot be manually subclassed, so it is already guaranteed that the parameter is the same as the type, even without the bound. 2) If <code>Enum</code> could be manually subclassed, the bound does not prevent the type parameter to be a different enum type than the instance&#39;s type. 3) If you are saying that <code>compareTo</code> just needs to use <code>ordinal</code> from any <code>Enum</code>, then a bound of <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would be sufficient."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1424858105,"post_id":211161,"comment_id":45719400,"body_markdown":"@JonSkeet: And even if `Enum` could be manually subclassed, this whole `compareTo` thing can still be done with `class Enum&lt;E&gt;` by making `compareTo` abstract, the language would provide a `compareTo` implementation for `enum` types, and if you manually subclass `Enum`, then you need to provide an appropriate `compareTo` that matches your type parameter. The fact that `compareTo` is non-abstract is a library design issue.","body":"@JonSkeet: And even if <code>Enum</code> could be manually subclassed, this whole <code>compareTo</code> thing can still be done with <code>class Enum&lt;E&gt;</code> by making <code>compareTo</code> abstract, the language would provide a <code>compareTo</code> implementation for <code>enum</code> types, and if you manually subclass <code>Enum</code>, then you need to provide an appropriate <code>compareTo</code> that matches your type parameter. The fact that <code>compareTo</code> is non-abstract is a library design issue."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424858468,"post_id":211161,"comment_id":45719636,"body_markdown":"@newacct: I suspect that `class Enum&lt;E extends Enum&lt;?&gt;&gt;` would indeed be sufficient in most cases... but given that the enum classes *are* always autogenerated, why not express that extra information within the type system? I don&#39;t see it doing any harm, other than causing a bit of head-scratching... and I suspect that there *are* cases where it&#39;s useful, even if I&#39;m still having a hard time coming up with an immediate example. Expressing more information in the type system usually feels better than expressing less...","body":"@newacct: I suspect that <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would indeed be sufficient in most cases... but given that the enum classes <i>are</i> always autogenerated, why not express that extra information within the type system? I don&#39;t see it doing any harm, other than causing a bit of head-scratching... and I suspect that there <i>are</i> cases where it&#39;s useful, even if I&#39;m still having a hard time coming up with an immediate example. Expressing more information in the type system usually feels better than expressing less..."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424908864,"post_id":211161,"comment_id":45750143,"body_markdown":"@JonSkeet: Given that enum classes are always autogenerated, I am claiming that `class Enum&lt;E&gt;` is sufficient in all cases. And in Generics you should only use a more restrictive bound if it&#39;s actually necessary to ensure type safety.","body":"@JonSkeet: Given that enum classes are always autogenerated, I am claiming that <code>class Enum&lt;E&gt;</code> is sufficient in all cases. And in Generics you should only use a more restrictive bound if it&#39;s actually necessary to ensure type safety."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424909173,"post_id":211161,"comment_id":45750229,"body_markdown":"@JonSkeet: Also, if `Enum` subclasses weren&#39;t always autogenerated, the only reason you would need `class Enum&lt;E extends Enum&lt;?&gt;&gt;` over `class Enum&lt;E&gt;` is the ability to access `ordinal` for `compareTo()`. However, if you think about it, it doesn&#39;t make sense from the language point of view to allow you to compare two different types of enums via their ordinals. Therefore, the implementation of `Enum.compareTo()` that uses `ordinal` only makes sense in the context of `Enum` subclasses being autogenerated. If you could manually subclass `Enum`, `compareTo` would probably have to be `abstract`.","body":"@JonSkeet: Also, if <code>Enum</code> subclasses weren&#39;t always autogenerated, the only reason you would need <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> over <code>class Enum&lt;E&gt;</code> is the ability to access <code>ordinal</code> for <code>compareTo()</code>. However, if you think about it, it doesn&#39;t make sense from the language point of view to allow you to compare two different types of enums via their ordinals. Therefore, the implementation of <code>Enum.compareTo()</code> that uses <code>ordinal</code> only makes sense in the context of <code>Enum</code> subclasses being autogenerated. If you could manually subclass <code>Enum</code>, <code>compareTo</code> would probably have to be <code>abstract</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424933098,"post_id":211161,"comment_id":45756554,"body_markdown":"@newacct: Maybe you&#39;re right. I&#39;m not convinced yet, but maybe you&#39;re right. Either way, I don&#39;t really think it&#39;s appropriate to take this further in comments on an answer over 6 years old, so I&#39;ll bow out at this point.","body":"@newacct: Maybe you&#39;re right. I&#39;m not convinced yet, but maybe you&#39;re right. Either way, I don&#39;t really think it&#39;s appropriate to take this further in comments on an answer over 6 years old, so I&#39;ll bow out at this point."},{"owner":{"account_id":947921,"reputation":1572,"user_id":974766,"accept_rate":39,"display_name":"Rajan Prasad"},"score":0,"creation_date":1514463746,"post_id":211161,"comment_id":82983074,"body_markdown":"Yes. I too noticed that what you mentioned in the Edit is still possible. In this case, `B.compareTo(A a)` will still compile, though it is semantically incorrect.","body":"Yes. I too noticed that what you mentioned in the Edit is still possible. In this case, <code>B.compareTo(A a)</code> will still compile, though it is semantically incorrect."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":14,"down_vote_count":3,"up_vote_count":117,"is_accepted":true,"score":114,"last_activity_date":1432902330,"creation_date":1224221453,"answer_id":211161,"question_id":211143,"body_markdown":"It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I&#39;ve got an enum called StatusCode, it would be equivalent to:\r\n\r\n    public class StatusCode extends Enum&lt;StatusCode&gt;\r\n\r\nNow if you check the constraints, we&#39;ve got `Enum&lt;StatusCode&gt;` - so `E=StatusCode`. Let&#39;s check: does `E` extend `Enum&lt;StatusCode&gt;`? Yes! We&#39;re okay.\r\n\r\nYou may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that `Enum&lt;E&gt;` implements `Comparable&lt;E&gt;`. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)\r\n\r\nI&#39;ve used something similar in my C# port of ProtocolBuffers. There are &quot;messages&quot; (immutable) and &quot;builders&quot; (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:\r\n\r\n    public interface IBuilder&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\n    public interface IMessage&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\nThis means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you&#39;ve finished building it. It&#39;s a good job users of the API don&#39;t need to actually care about this though - it&#39;s horrendously complicated, and took several iterations to get to where it is.\r\n\r\nEDIT: Note that this doesn&#39;t stop you from creating odd types which use a type argument which itself is okay, but which isn&#39;t the same type. The purpose is to give benefits in the *right* case rather than protect you from the *wrong* case.\r\n\r\nSo if `Enum` weren&#39;t handled &quot;specially&quot; in Java anyway, you could (as noted in comments) create the following types:\r\n\r\n    public class First extends Enum&lt;First&gt; {}\r\n    public class Second extends Enum&lt;First&gt; {}\r\n\r\n`Second` would implement `Comparable&lt;First&gt;` rather than `Comparable&lt;Second&gt;`... but `First` itself would be fine.","title":"Java Enum definition","body":"<p>It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I've got an enum called StatusCode, it would be equivalent to:</p>\n\n<pre><code>public class StatusCode extends Enum&lt;StatusCode&gt;\n</code></pre>\n\n<p>Now if you check the constraints, we've got <code>Enum&lt;StatusCode&gt;</code> - so <code>E=StatusCode</code>. Let's check: does <code>E</code> extend <code>Enum&lt;StatusCode&gt;</code>? Yes! We're okay.</p>\n\n<p>You may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that <code>Enum&lt;E&gt;</code> implements <code>Comparable&lt;E&gt;</code>. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)</p>\n\n<p>I've used something similar in my C# port of ProtocolBuffers. There are \"messages\" (immutable) and \"builders\" (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:</p>\n\n<pre><code>public interface IBuilder&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n\npublic interface IMessage&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n</code></pre>\n\n<p>This means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you've finished building it. It's a good job users of the API don't need to actually care about this though - it's horrendously complicated, and took several iterations to get to where it is.</p>\n\n<p>EDIT: Note that this doesn't stop you from creating odd types which use a type argument which itself is okay, but which isn't the same type. The purpose is to give benefits in the <em>right</em> case rather than protect you from the <em>wrong</em> case.</p>\n\n<p>So if <code>Enum</code> weren't handled \"specially\" in Java anyway, you could (as noted in comments) create the following types:</p>\n\n<pre><code>public class First extends Enum&lt;First&gt; {}\npublic class Second extends Enum&lt;First&gt; {}\n</code></pre>\n\n<p><code>Second</code> would implement <code>Comparable&lt;First&gt;</code> rather than <code>Comparable&lt;Second&gt;</code>... but <code>First</code> itself would be fine.</p>\n"},{"tags":[],"owner":{"account_id":8362,"reputation":274,"user_id":15040,"display_name":"kpirkkal"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1224221565,"creation_date":1224221565,"answer_id":211163,"question_id":211143,"body_markdown":"You are not the only one wondering what that means; see [Chaotic Java blog][1].\r\n\r\n“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.\r\n\r\n\r\n  [1]: http://chaoticjava.com/posts/class-enume-extends-enume/","title":"Java Enum definition","body":"<p>You are not the only one wondering what that means; see <a href=\"http://chaoticjava.com/posts/class-enume-extends-enume/\" rel=\"nofollow noreferrer\">Chaotic Java blog</a>.</p>\n\n<p>“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798829,"post_id":758595,"comment_id":30286366,"body_markdown":"Sure I agree that `Season extends Enum&lt;Season&gt;`. But that doesn&#39;t explain why `Enum` has a bound on its type parameter, instead of just `class Enum&lt;E&gt;`","body":"Sure I agree that <code>Season extends Enum&lt;Season&gt;</code>. But that doesn&#39;t explain why <code>Enum</code> has a bound on its type parameter, instead of just <code>class Enum&lt;E&gt;</code>"},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":0,"creation_date":1386841185,"post_id":758595,"comment_id":30713086,"body_markdown":"@newacct Because there&#39;s nothing special about `Season`--the argument above applies to _any_ type that `Enum` can be parameterised on. So `Weekday` (or whatever) must extend `Enum&lt;Weekday&gt;`, etc, and in general any `E` must extend `Enum&lt;E&gt;`. And that&#39;s exactly what the declaration says.","body":"@newacct Because there&#39;s nothing special about <code>Season</code>--the argument above applies to <i>any</i> type that <code>Enum</code> can be parameterised on. So <code>Weekday</code> (or whatever) must extend <code>Enum&lt;Weekday&gt;</code>, etc, and in general any <code>E</code> must extend <code>Enum&lt;E&gt;</code>. And that&#39;s exactly what the declaration says."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1386876666,"post_id":758595,"comment_id":30735564,"body_markdown":"You still didn&#39;t get what I said. Just because the declaration is satisfied doesn&#39;t explain why it is necessary.","body":"You still didn&#39;t get what I said. Just because the declaration is satisfied doesn&#39;t explain why it is necessary."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":1,"creation_date":1387066674,"post_id":758595,"comment_id":30804339,"body_markdown":"@newacct OK, I get it now: you&#39;d like all enums to be instances of Enum&lt;E&gt;, right? (Because if they are instances of an Enum subtype, the argument above applies.) But then you won&#39;t have type-safe enums any more, so losing the point of having enums at all.","body":"@newacct OK, I get it now: you&#39;d like all enums to be instances of Enum&lt;E&gt;, right? (Because if they are instances of an Enum subtype, the argument above applies.) But then you won&#39;t have type-safe enums any more, so losing the point of having enums at all."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1387185404,"post_id":758595,"comment_id":30836127,"body_markdown":"I don&#39;t understand what you mean by &quot;to be instances of Enum&lt;E&gt;&quot;. I would like `Season` to `extend Enum&lt;Season&gt;` and `Weekday` to `extend Enum&lt;Weekday`. But I am saying there is no reason given here, about why the class `Enum` shouldn&#39;t be declared as just `abstract class Enum&lt;E&gt;`. It would still be 100% as type-safe as before.","body":"I don&#39;t understand what you mean by &quot;to be instances of Enum&lt;E&gt;&quot;. I would like <code>Season</code> to <code>extend Enum&lt;Season&gt;</code> and <code>Weekday</code> to <code>extend Enum&lt;Weekday</code>. But I am saying there is no reason given here, about why the class <code>Enum</code> shouldn&#39;t be declared as just <code>abstract class Enum&lt;E&gt;</code>. It would still be 100% as type-safe as before."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":1,"creation_date":1387297426,"post_id":758595,"comment_id":30894446,"body_markdown":"@newacct Don&#39;t you want to insist that `Season` implements `Comparable&lt;Season&gt;`?","body":"@newacct Don&#39;t you want to insist that <code>Season</code> implements <code>Comparable&lt;Season&gt;</code>?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1387313846,"post_id":758595,"comment_id":30904073,"body_markdown":"Well, if `Season` is created via an `enum` declaration, the compiler already makes it extend `Enum&lt;Season&gt;`. There is no point to &quot;insist&quot;. If you define your own class that extends `Enum`, then it&#39;s already possible to make `Foo` extend `Enum&lt;Season&gt;`.","body":"Well, if <code>Season</code> is created via an <code>enum</code> declaration, the compiler already makes it extend <code>Enum&lt;Season&gt;</code>. There is no point to &quot;insist&quot;. If you define your own class that extends <code>Enum</code>, then it&#39;s already possible to make <code>Foo</code> extend <code>Enum&lt;Season&gt;</code>."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":2,"creation_date":1387456537,"post_id":758595,"comment_id":30970574,"body_markdown":"@newacct Look at the definition of Enum. In order to compare one instance with another it has to compare their ordinals. So the argument of the `compareTo` method must have been *declared* as an `Enum` subtype, or the compiler will (correctly) say that it doesn&#39;t have an ordinal.","body":"@newacct Look at the definition of Enum. In order to compare one instance with another it has to compare their ordinals. So the argument of the <code>compareTo</code> method must have been <i>declared</i> as an <code>Enum</code> subtype, or the compiler will (correctly) say that it doesn&#39;t have an ordinal."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1396887603,"post_id":758595,"comment_id":34979851,"body_markdown":"@MauriceNaftalin your last comment clarifies it for me. I suggest adding it to the answer.","body":"@MauriceNaftalin your last comment clarifies it for me. I suggest adding it to the answer."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424844574,"post_id":758595,"comment_id":45712665,"body_markdown":"@MauriceNaftalin: `Enum.compareTo()` is declared as taking a parameter of type `E`. This is a standard library function and how it is implemented is not the user&#39;s concern. The Java language specifically prohibits users from manually subclassing `Enum`, and all compiler-generated enums have the type parameter be the same as the type itself anyway, so the standard library implementation can rely on this to perform an unsafe cast.","body":"@MauriceNaftalin: <code>Enum.compareTo()</code> is declared as taking a parameter of type <code>E</code>. This is a standard library function and how it is implemented is not the user&#39;s concern. The Java language specifically prohibits users from manually subclassing <code>Enum</code>, and all compiler-generated enums have the type parameter be the same as the type itself anyway, so the standard library implementation can rely on this to perform an unsafe cast."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424844721,"post_id":758595,"comment_id":45712728,"body_markdown":"@MauriceNaftalin: If Java didn&#39;t prohibit manually subclassing `Enum`, then it would be possible to have `class OneEnum extends Enum&lt;AnotherEnum&gt;{}`, even with how `Enum` is declared right now. It would not make much sense to be able to compare one type of enum with another, so then `Enum`&#39;s `compareTo` wouldn&#39;t make sense as declared anyway. The bounds do not provide any help to this.","body":"@MauriceNaftalin: If Java didn&#39;t prohibit manually subclassing <code>Enum</code>, then it would be possible to have <code>class OneEnum extends Enum&lt;AnotherEnum&gt;{}</code>, even with how <code>Enum</code> is declared right now. It would not make much sense to be able to compare one type of enum with another, so then <code>Enum</code>&#39;s <code>compareTo</code> wouldn&#39;t make sense as declared anyway. The bounds do not provide any help to this."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424845455,"post_id":758595,"comment_id":45713011,"body_markdown":"@MauriceNaftalin: If the ordinal was the reason, then `public class Enum&lt;E extends Enum&lt;?&gt;&gt;` would also suffice.","body":"@MauriceNaftalin: If the ordinal was the reason, then <code>public class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would also suffice."}],"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"comment_count":12,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1387065559,"creation_date":1239928289,"answer_id":758595,"question_id":211143,"body_markdown":"The following is a modified version of the explanation from the book *Java Generics and Collections*:\r\nWe have an `Enum` declared\r\n\t\r\n\r\n    enum Season { WINTER, SPRING, SUMMER, FALL }\r\n\r\nwhich will be expanded to a class\r\n\t\r\n\r\n    final class Season extends ...\r\n\r\nwhere `...` is to be the somehow-parameterised base class for Enums.  Let&#39;s work \r\nout what that has to be.  Well, one of the requirements for `Season` is that it should implement `Comparable&lt;Season&gt;`.  So we&#39;re going to need\r\n\t\r\n\r\n    Season extends ... implements Comparable&lt;Season&gt;\r\n\r\nWhat could you use for `...` that would allow this to work?  Given that it has to be a parameterisation of `Enum`, the only choice is `Enum&lt;Season&gt;`, so that you can have:\r\n\t\r\n\r\n    Season extends Enum&lt;Season&gt;\r\n    Enum&lt;Season&gt; implements Comparable&lt;Season&gt;\r\n\r\nSo `Enum` is parameterised on types like `Season`.  Abstract from `Season` and\r\nyou get that the parameter of `Enum` is any type that satisfies \r\n\r\n\r\n     E extends Enum&lt;E&gt;\r\n\r\n\r\n----------\r\nMaurice Naftalin (co-author, Java Generics and Collections)\r\n\r\n","title":"Java Enum definition","body":"<p>The following is a modified version of the explanation from the book <em>Java Generics and Collections</em>:\nWe have an <code>Enum</code> declared</p>\n\n<pre><code>enum Season { WINTER, SPRING, SUMMER, FALL }\n</code></pre>\n\n<p>which will be expanded to a class</p>\n\n<pre><code>final class Season extends ...\n</code></pre>\n\n<p>where <code>...</code> is to be the somehow-parameterised base class for Enums.  Let's work \nout what that has to be.  Well, one of the requirements for <code>Season</code> is that it should implement <code>Comparable&lt;Season&gt;</code>.  So we're going to need</p>\n\n<pre><code>Season extends ... implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>What could you use for <code>...</code> that would allow this to work?  Given that it has to be a parameterisation of <code>Enum</code>, the only choice is <code>Enum&lt;Season&gt;</code>, so that you can have:</p>\n\n<pre><code>Season extends Enum&lt;Season&gt;\nEnum&lt;Season&gt; implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>So <code>Enum</code> is parameterised on types like <code>Season</code>.  Abstract from <code>Season</code> and\nyou get that the parameter of <code>Enum</code> is any type that satisfies </p>\n\n<pre><code> E extends Enum&lt;E&gt;\n</code></pre>\n\n<hr>\n\n<p>Maurice Naftalin (co-author, Java Generics and Collections)</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1322088210,"post_id":1562221,"comment_id":10151023,"body_markdown":"It still allows me to create a `class Foo extends Node&lt;City&gt;` where Foo is unrelated to City.","body":"It still allows me to create a <code>class Foo extends Node&lt;City&gt;</code> where Foo is unrelated to City."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":1,"creation_date":1335267014,"post_id":1562221,"comment_id":13249986,"body_markdown":"Sure, and is that wrong? I don&#39;t think so. The base contract provided by Node&lt;City&gt; is still honoured, only your Foo subclass less useful since you start working with Foos but get Cities out of the ADT. There may be a use case for this, but most likely simpler and more useful to just make the generic parameter the same as the subclass. But either way, the designer has that choice.","body":"Sure, and is that wrong? I don&#39;t think so. The base contract provided by Node&lt;City&gt; is still honoured, only your Foo subclass less useful since you start working with Foos but get Cities out of the ADT. There may be a use case for this, but most likely simpler and more useful to just make the generic parameter the same as the subclass. But either way, the designer has that choice."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798953,"post_id":1562221,"comment_id":30286389,"body_markdown":"@mdma: I agree. So then what use does the bound provide, over just `class Node&lt;T&gt;`?","body":"@mdma: I agree. So then what use does the bound provide, over just <code>class Node&lt;T&gt;</code>?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1385799042,"post_id":1562221,"comment_id":30286401,"body_markdown":"@nozebacle: Your example does not demonstrate that &quot;this particular structure is necessary&quot;. `class Node&lt;T&gt;` is fully consistent with your example.","body":"@nozebacle: Your example does not demonstrate that &quot;this particular structure is necessary&quot;. <code>class Node&lt;T&gt;</code> is fully consistent with your example."}],"tags":[],"owner":{"account_id":39689,"reputation":406,"user_id":114564,"accept_rate":100,"display_name":"nozebacle"},"comment_count":4,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1255504118,"creation_date":1255459924,"answer_id":1562221,"question_id":211143,"body_markdown":"This post has totally clarified to me these problem of &#39;recursive generic types&#39;.\r\nI just wanted to add another case where this particular structure is necessary.\r\n\r\nSuppose you have generic nodes in a generic graph:\r\n\r\n    public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\r\n    {\r\n        public void addNeighbor(T);\r\n    \r\n        public void addNeighbors(Collection&lt;? extends T&gt; nodes);\r\n\r\n        public Collection&lt;T&gt; getNeighbor();\r\n    }\r\n\r\nThen you can have graphs of specialized types:\r\n\r\n    public class City extends Node&lt;City&gt;\r\n    {\r\n        public void addNeighbor(City){...}\r\n    \r\n        public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\r\n\r\n        public Collection&lt;City&gt; getNeighbor(){...}\r\n    }\r\n\r\n","title":"Java Enum definition","body":"<p>This post has totally clarified to me these problem of 'recursive generic types'.\nI just wanted to add another case where this particular structure is necessary.</p>\n\n<p>Suppose you have generic nodes in a generic graph:</p>\n\n<pre><code>public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\n{\n    public void addNeighbor(T);\n\n    public void addNeighbors(Collection&lt;? extends T&gt; nodes);\n\n    public Collection&lt;T&gt; getNeighbor();\n}\n</code></pre>\n\n<p>Then you can have graphs of specialized types:</p>\n\n<pre><code>public class City extends Node&lt;City&gt;\n{\n    public void addNeighbor(City){...}\n\n    public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\n\n    public Collection&lt;City&gt; getNeighbor(){...}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":2,"creation_date":1385660184,"post_id":20253960,"comment_id":30240800,"body_markdown":"Your solution has an unchecked cast: `return (CHILD) this;`\nConsider adding a getThis() method:\n`protected CHILD getThis() { \n       return this; \n}`\n\nSee:\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis","body":"Your solution has an unchecked cast: <code>return (CHILD) this;</code> Consider adding a getThis() method: <code>protected CHILD getThis() {         return this;  }</code>  See: <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/FAQSections/&hellip;</a>"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385678794,"post_id":20253960,"comment_id":30247754,"body_markdown":"@Roland thanks for a link, I&#39;ve borrowed an idea from it. Could you explain me or direct to an article explaining why is this a bad practice in this particular case? The method in the link requires more typing and this is the main argument why I am avoiding this. I&#39;ve never seen cast errors in this case + I know that there are some inevitable cast errors - i.e. when one stores objects of multiple types to a same collection. So if unchecked casts are not critical and the design in somewhat complex (`Node&lt;T&gt;` is not the case), I&#39;m ignoring them to save time.","body":"@Roland thanks for a link, I&#39;ve borrowed an idea from it. Could you explain me or direct to an article explaining why is this a bad practice in this particular case? The method in the link requires more typing and this is the main argument why I am avoiding this. I&#39;ve never seen cast errors in this case + I know that there are some inevitable cast errors - i.e. when one stores objects of multiple types to a same collection. So if unchecked casts are not critical and the design in somewhat complex (<code>Node&lt;T&gt;</code> is not the case), I&#39;m ignoring them to save time."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385735961,"post_id":20253960,"comment_id":30268091,"body_markdown":"Your edit isnt that different from before besides adding some syntactic sugar, consider that the following code will actually compile but throw a run time error: `        Node&lt;City&gt; node = new Node&lt;City&gt;()\n        \t.setName(&quot;node&quot;)\n        \t.setSquare(1);`\n\nIf you look at java byte code you will see that due to type erasure the statement `return (SELF) this;` is compiled into `return this;`, so you could just leave it out.","body":"Your edit isnt that different from before besides adding some syntactic sugar, consider that the following code will actually compile but throw a run time error: `        Node&lt;City&gt; node = new Node&lt;City&gt;()         \t.setName(&quot;node&quot;)         \t.setSquare(1);`  If you look at java byte code you will see that due to type erasure the statement <code>return (SELF) this;</code> is compiled into <code>return this;</code>, so you could just leave it out."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385737225,"post_id":20253960,"comment_id":30268790,"body_markdown":"@Roland thanks, this is what I needed - will update the example when I&#39;m free.","body":"@Roland thanks, this is what I needed - will update the example when I&#39;m free."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385740639,"post_id":20253960,"comment_id":30270612,"body_markdown":"The following link is also good: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ206","body":"The following link is also good: <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ206\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/FAQSections/&hellip;</a>"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798570,"post_id":20253960,"comment_id":30286323,"body_markdown":"This is wrong. `(SELF) this` is unsafe. `SELF` is a subtype of `Node&lt;SELF&gt;` but `Node&lt;SELF&gt;` (the type of `this`) is not a subtype of `SELF`.","body":"This is wrong. <code>(SELF) this</code> is unsafe. <code>SELF</code> is a subtype of <code>Node&lt;SELF&gt;</code> but <code>Node&lt;SELF&gt;</code> (the type of <code>this</code>) is not a subtype of <code>SELF</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385873967,"post_id":20253960,"comment_id":30304879,"body_markdown":"Everything would work with `abstract class Node&lt;SELF&gt;`. The `extends Node&lt;SELF&gt;` doesn&#39;t really add anything.","body":"Everything would work with <code>abstract class Node&lt;SELF&gt;</code>. The <code>extends Node&lt;SELF&gt;</code> doesn&#39;t really add anything."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385887625,"post_id":20253960,"comment_id":30307334,"body_markdown":"@newacct `Node&lt;SELF&gt;` will allow the subclass to return anything - and this is not intended, because the goal of returning `SELF` is to have chained method calls. Adding to this, your argument could be applied to the declaration of `Enum`, can&#39;t it? You might want to have a look at a real world example: http://grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/org/skife/jdbi/v2/SQLStatement.java#SQLStatement. Btw, it uses unchecked casts, so though my initial version is not canonical, it could be  practical.","body":"@newacct <code>Node&lt;SELF&gt;</code> will allow the subclass to return anything - and this is not intended, because the goal of returning <code>SELF</code> is to have chained method calls. Adding to this, your argument could be applied to the declaration of <code>Enum</code>, can&#39;t it? You might want to have a look at a real world example: <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/org/skife/jdbi/v2/SQLStatement.java#SQLStatement\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/&zwnj;&#8203;org/&hellip;</a>. Btw, it uses unchecked casts, so though my initial version is not canonical, it could be  practical."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385940535,"post_id":20253960,"comment_id":30321844,"body_markdown":"@AndreyChaschev: &quot;`Node&lt;SELF&gt;` will allow the subclass to return anything, because the goal of returning SELF is to have chained method calls.&quot; So? If someone wants to make a class that returns something else, what&#39;s the problem? You can still use classes that return themselves and chain them just fine. Both cases are perfectly type safe, and Generics is for type safety. Plus, even with your declaration, it&#39;s possible to make a class that extends Node with a different type argument. For example, `class Foo extends Node&lt;City&gt;`.","body":"@AndreyChaschev: &quot;<code>Node&lt;SELF&gt;</code> will allow the subclass to return anything, because the goal of returning SELF is to have chained method calls.&quot; So? If someone wants to make a class that returns something else, what&#39;s the problem? You can still use classes that return themselves and chain them just fine. Both cases are perfectly type safe, and Generics is for type safety. Plus, even with your declaration, it&#39;s possible to make a class that extends Node with a different type argument. For example, <code>class Foo extends Node&lt;City&gt;</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385940562,"post_id":20253960,"comment_id":30321850,"body_markdown":"@AndreyChaschev: &quot;Adding to this, your argument could be applied to the declaration of Enum, can&#39;t it?&quot; I didn&#39;t claim it cannot be applied to the declaration of `Enum`. &quot;look at a real world example:&quot; So? Some random person uses something that is not necessary. What does that prove?","body":"@AndreyChaschev: &quot;Adding to this, your argument could be applied to the declaration of Enum, can&#39;t it?&quot; I didn&#39;t claim it cannot be applied to the declaration of <code>Enum</code>. &quot;look at a real world example:&quot; So? Some random person uses something that is not necessary. What does that prove?"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385966902,"post_id":20253960,"comment_id":30328147,"body_markdown":"@newacct You would better claim this for `Enum` to make things clearer. This is an intent of the designers of the language. This adds a restriction to a type system, and you say, that it&#39;s would also be ok without such restriction. You&#39;re right and some languages even lack Generics. You could also say that it&#39;s ok to use a concise form of reflection on a regular basis, but it is just not a Java way.","body":"@newacct You would better claim this for <code>Enum</code> to make things clearer. This is an intent of the designers of the language. This adds a restriction to a type system, and you say, that it&#39;s would also be ok without such restriction. You&#39;re right and some languages even lack Generics. You could also say that it&#39;s ok to use a concise form of reflection on a regular basis, but it is just not a Java way."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385970244,"post_id":20253960,"comment_id":30329414,"body_markdown":"@Andrey Good, you reinvented the wheel, in this case the [getThis](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis) method. Why not name it accordingly since your are just returning the `this` pointer?","body":"@Andrey Good, you reinvented the wheel, in this case the <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis\" rel=\"nofollow noreferrer\">getThis</a> method. Why not name it accordingly since your are just returning the <code>this</code> pointer?"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385971290,"post_id":20253960,"comment_id":30329816,"body_markdown":"@Roland I am not an author of the article, my initial version of the answer was lacking `getThis`. Formally, this is not type safe because it produces an unchecked cast. In my projects I don&#39;t use this, because it&#39;s verbose and I&#39;ve never seen a cast error in this case so far.","body":"@Roland I am not an author of the article, my initial version of the answer was lacking <code>getThis</code>. Formally, this is not type safe because it produces an unchecked cast. In my projects I don&#39;t use this, because it&#39;s verbose and I&#39;ve never seen a cast error in this case so far."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385978940,"post_id":20253960,"comment_id":30333563,"body_markdown":"@AndreyChaschev: Without Generics you would need casts because there&#39;s no type safety. This does not add any type safety, and in fact, doesn&#39;t even do what you claim it does.","body":"@AndreyChaschev: Without Generics you would need casts because there&#39;s no type safety. This does not add any type safety, and in fact, doesn&#39;t even do what you claim it does."}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":14,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1385802929,"creation_date":1385589847,"answer_id":20253960,"question_id":211143,"body_markdown":"This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below `setName` returns a `Node` so chaining won&#39;t work for the `City`:\r\n\r\n    class Node {\r\n        String name;\r\n\r\n        Node setName(String name) {\r\n            this.name = name;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    class City extends Node {\r\n        int square;\r\n\r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        City city = new City()\r\n            .setName(&quot;LA&quot;)\r\n            .setSquare(100);    // won&#39;t compile, setName() returns Node\r\n    }\r\n\r\nSo we could reference a sub-class in a generic declaration, so that the `City` now returns the correct type:\r\n\r\n    abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\r\n        String name;\r\n    \r\n        SELF setName(String name) {\r\n            this.name = name;\r\n            return self();\r\n        }\r\n    \r\n        protected abstract SELF self();\r\n    }\r\n    \r\n    class City extends Node&lt;City&gt; {\r\n        int square;\r\n    \r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return self();\r\n        }\r\n    \r\n        @Override\r\n        protected City self() {\r\n            return this;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n           City city = new City()\r\n                .setName(&quot;LA&quot;)\r\n                .setSquare(100);                 // ok!\r\n        }\r\n    }","title":"Java Enum definition","body":"<p>This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below <code>setName</code> returns a <code>Node</code> so chaining won't work for the <code>City</code>:</p>\n\n<pre><code>class Node {\n    String name;\n\n    Node setName(String name) {\n        this.name = name;\n        return this;\n    }\n}\n\nclass City extends Node {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return this;\n    }\n}\n\npublic static void main(String[] args) {\n    City city = new City()\n        .setName(\"LA\")\n        .setSquare(100);    // won't compile, setName() returns Node\n}\n</code></pre>\n\n<p>So we could reference a sub-class in a generic declaration, so that the <code>City</code> now returns the correct type:</p>\n\n<pre><code>abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\n    String name;\n\n    SELF setName(String name) {\n        this.name = name;\n        return self();\n    }\n\n    protected abstract SELF self();\n}\n\nclass City extends Node&lt;City&gt; {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return self();\n    }\n\n    @Override\n    protected City self() {\n        return this;\n    }\n\n    public static void main(String[] args) {\n       City city = new City()\n            .setName(\"LA\")\n            .setSquare(100);                 // ok!\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1464678199,"post_id":30667912,"comment_id":62567357,"body_markdown":"Nothing you&#39;ve shown in `compareTo` or `getDeclaringClass` requires the `extends Enum&lt;E&gt;` bound.","body":"Nothing you&#39;ve shown in <code>compareTo</code> or <code>getDeclaringClass</code> requires the <code>extends Enum&lt;E&gt;</code> bound."}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433511261,"creation_date":1433511261,"answer_id":30667912,"question_id":211143,"body_markdown":"If you look at the `Enum` source code, it has the following:\r\n\r\n    public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n            implements Comparable&lt;E&gt;, Serializable {\r\n    \r\n        public final int compareTo(E o) {\r\n            Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n            Enum&lt;E&gt; self = this;\r\n            if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n                self.getDeclaringClass() != other.getDeclaringClass())\r\n                throw new ClassCastException();\r\n            return self.ordinal - other.ordinal;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;E&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\r\n        }\r\n    \r\n        public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\r\n                                                    String name) {\r\n            T result = enumType.enumConstantDirectory().get(name);\r\n            if (result != null)\r\n                return result;\r\n            if (name == null)\r\n                throw new NullPointerException(&quot;Name is null&quot;);\r\n            throw new IllegalArgumentException(\r\n                &quot;No enum constant &quot; + enumType.getCanonicalName() + &quot;.&quot; + name);\r\n        } \r\n    }\r\n\r\nFirst thing first, what does `E extends Enum&lt;E&gt;` mean? It means the type parameter is something that extends from Enum, and isn&#39;t parametrized with a raw type (it&#39;s parametrized by itself).\r\n\r\nThis is relevant if you have an enum\r\n\r\n    public enum MyEnum {\r\n        THING1,\r\n        THING2;\r\n    }\r\n\r\nwhich, if I know correctly, is translated to\r\n\r\n    public final class MyEnum extends Enum&lt;MyEnum&gt; {\r\n        public static final MyEnum THING1 = new MyEnum();\r\n        public static final MyEnum THING2 = new MyEnum();\r\n    }\r\n\r\nSo this means that MyEnum receives the following methods:\r\n\r\n    public final int compareTo(MyEnum o) {\r\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n        Enum&lt;MyEnum&gt; self = this;\r\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n            self.getDeclaringClass() != other.getDeclaringClass())\r\n            throw new ClassCastException();\r\n        return self.ordinal - other.ordinal;\r\n    }\r\n\r\nAnd even more importantly,\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;MyEnum&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\r\n        }\r\n\r\nThis makes `getDeclaringClass()` cast to the proper `Class&lt;T&gt;` object.\r\n\r\nA way clearer example is the one that I answered on [this question][1] where you cannot avoid this construct if you want to specify a generic bound.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937","title":"Java Enum definition","body":"<p>If you look at the <code>Enum</code> source code, it has the following:</p>\n\n<pre><code>public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\n        implements Comparable&lt;E&gt;, Serializable {\n\n    public final int compareTo(E o) {\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n        Enum&lt;E&gt; self = this;\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\n            self.getDeclaringClass() != other.getDeclaringClass())\n            throw new ClassCastException();\n        return self.ordinal - other.ordinal;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;E&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\n                                                String name) {\n        T result = enumType.enumConstantDirectory().get(name);\n        if (result != null)\n            return result;\n        if (name == null)\n            throw new NullPointerException(\"Name is null\");\n        throw new IllegalArgumentException(\n            \"No enum constant \" + enumType.getCanonicalName() + \".\" + name);\n    } \n}\n</code></pre>\n\n<p>First thing first, what does <code>E extends Enum&lt;E&gt;</code> mean? It means the type parameter is something that extends from Enum, and isn't parametrized with a raw type (it's parametrized by itself).</p>\n\n<p>This is relevant if you have an enum</p>\n\n<pre><code>public enum MyEnum {\n    THING1,\n    THING2;\n}\n</code></pre>\n\n<p>which, if I know correctly, is translated to</p>\n\n<pre><code>public final class MyEnum extends Enum&lt;MyEnum&gt; {\n    public static final MyEnum THING1 = new MyEnum();\n    public static final MyEnum THING2 = new MyEnum();\n}\n</code></pre>\n\n<p>So this means that MyEnum receives the following methods:</p>\n\n<pre><code>public final int compareTo(MyEnum o) {\n    Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n    Enum&lt;MyEnum&gt; self = this;\n    if (self.getClass() != other.getClass() &amp;&amp; // optimization\n        self.getDeclaringClass() != other.getDeclaringClass())\n        throw new ClassCastException();\n    return self.ordinal - other.ordinal;\n}\n</code></pre>\n\n<p>And even more importantly,</p>\n\n<pre><code>    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;MyEnum&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\n    }\n</code></pre>\n\n<p>This makes <code>getDeclaringClass()</code> cast to the proper <code>Class&lt;T&gt;</code> object.</p>\n\n<p>A way clearer example is the one that I answered on <a href=\"https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937\">this question</a> where you cannot avoid this construct if you want to specify a generic bound.</p>\n"},{"tags":[],"owner":{"account_id":13761933,"reputation":351,"user_id":9931448,"display_name":"Hanzhou Tang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576564946,"creation_date":1576564946,"answer_id":59368848,"question_id":211143,"body_markdown":"According to wikipedia, this pattern is called [Curiously recurring template pattern](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern). \r\nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. ","title":"Java Enum definition","body":"<p>According to wikipedia, this pattern is called <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">Curiously recurring template pattern</a>. \nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. </p>\n"}],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25827,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":211161,"answer_count":7,"score":181,"last_activity_date":1688573048,"creation_date":1224220455,"question_id":211143,"body_markdown":"I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:\r\n\r\n    class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n\r\nCould someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.","title":"Java Enum definition","body":"<p>I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:</p>\n\n<pre><code>class Enum&lt;E extends Enum&lt;E&gt;&gt;\n</code></pre>\n\n<p>Could someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.</p>\n"},{"tags":["java","gzip","eofexception"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688568689,"post_id":76621452,"comment_id":135091406,"body_markdown":"No, I think it&#39;s OK: `x.bin.gz: gzip compressed data, from Unix, original size modulo 2^32 92994711` (`file x.bin.gz`)","body":"No, I think it&#39;s OK: <code>x.bin.gz: gzip compressed data, from Unix, original size modulo 2^32 92994711</code> (<code>file x.bin.gz</code>)"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1688569035,"post_id":76621452,"comment_id":135091495,"body_markdown":"@g00se `file` does not tell you whether the file is correct or complete, it just reads a bit from the beginning of the file. Run `gzip -t` to check whether the file is error-free.","body":"@g00se <code>file</code> does not tell you whether the file is correct or complete, it just reads a bit from the beginning of the file. Run <code>gzip -t</code> to check whether the file is error-free."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688569098,"post_id":76621452,"comment_id":135091518,"body_markdown":"@g00se - That looks like what `gzip -l` says too.  Try actually uncompressing it.","body":"@g00se - That looks like what <code>gzip -l</code> says too.  Try actually uncompressing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688569200,"post_id":76621452,"comment_id":135091546,"body_markdown":"@KonradRudolph that&#39;s true. But `zless` reads it fine. It&#39;s binary but contains *some* strings","body":"@KonradRudolph that&#39;s true. But <code>zless</code> reads it fine. It&#39;s binary but contains <i>some</i> strings"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1688570922,"post_id":76621452,"comment_id":135091980,"body_markdown":"@g00se I&#39;m not concerned with the nature of its contents, only with whether it&#39;s valid or truncated: `file` does *not* tell you that.","body":"@g00se I&#39;m not concerned with the nature of its contents, only with whether it&#39;s valid or truncated: <code>file</code> does <i>not</i> tell you that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688571072,"post_id":76621452,"comment_id":135092014,"body_markdown":"I&#39;ve already addressed the issue of `file`","body":"I&#39;ve already addressed the issue of <code>file</code>"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1688572782,"post_id":76621452,"comment_id":135092451,"body_markdown":"`gzip -l` just looks at the last eight bytes to get the uncompressed length. It obviously got that very wrong, since gzip can&#39;t compress by a factor of ~100,000. See my answer.","body":"<code>gzip -l</code> just looks at the last eight bytes to get the uncompressed length. It obviously got that very wrong, since gzip can&#39;t compress by a factor of ~100,000. See my answer."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688569184,"creation_date":1688567936,"answer_id":76621452,"question_id":76621269,"body_markdown":"There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using `zcat` on Linux, the `zcat` command complained:\r\n\r\n    gzip: stdin: unexpected end of file\r\n\r\nSame with `gzip -d`.  But `gzip -l` says:\r\n\r\n         compressed        uncompressed  ratio uncompressed_name\r\n                979            92994711 100.0% data\r\n\r\nPerhaps C# is tolerant of malformed (truncated) gzip files?\r\n\r\nPerhaps you made a mistake in translating the `payload` array initializer to Java?\r\n\r\n\r\n\r\n-------------------------\r\n\r\nThe other observation is that the partial uncompressed file doesn&#39;t look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.\r\n\r\n","title":"Gzip decompress throws EOFException","body":"<p>There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using <code>zcat</code> on Linux, the <code>zcat</code> command complained:</p>\n<pre><code>gzip: stdin: unexpected end of file\n</code></pre>\n<p>Same with <code>gzip -d</code>.  But <code>gzip -l</code> says:</p>\n<pre><code>     compressed        uncompressed  ratio uncompressed_name\n            979            92994711 100.0% data\n</code></pre>\n<p>Perhaps C# is tolerant of malformed (truncated) gzip files?</p>\n<p>Perhaps you made a mistake in translating the <code>payload</code> array initializer to Java?</p>\n<hr />\n<p>The other observation is that the partial uncompressed file doesn't look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.</p>\n"},{"comments":[{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1688572729,"post_id":76622003,"comment_id":135092436,"body_markdown":"You may want to figure out how your gzip data got corrupted in the first place.","body":"You may want to figure out how your gzip data got corrupted in the first place."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688572735,"post_id":76622003,"comment_id":135092443,"body_markdown":"Good one. How did you discover *what* the corruption consisted of?","body":"Good one. How did you discover <i>what</i> the corruption consisted of?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1688572950,"post_id":76622003,"comment_id":135092513,"body_markdown":"I know the gzip format. After the deflate data ended there were six bytes. There is supposed to be an eight-byte gzip trailer. The last four bytes are supposed to be the uncompressed length in little-endian order. The length of the uncompressed data was 1418, less than 64K, so those last two bytes had to have been zeros.","body":"I know the gzip format. After the deflate data ended there were six bytes. There is supposed to be an eight-byte gzip trailer. The last four bytes are supposed to be the uncompressed length in little-endian order. The length of the uncompressed data was 1418, less than 64K, so those last two bytes had to have been zeros."}],"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688572232,"creation_date":1688572232,"answer_id":76622003,"question_id":76621269,"body_markdown":"Your gzip data is corrupted. There are two zero bytes missing at the end of `payload`. Add those, and there is no EOF error.\r\n\r\n    ... (byte)0x8A, (byte)0x05, 0, 0};","title":"Gzip decompress throws EOFException","body":"<p>Your gzip data is corrupted. There are two zero bytes missing at the end of <code>payload</code>. Add those, and there is no EOF error.</p>\n<pre><code>... (byte)0x8A, (byte)0x05, 0, 0};\n</code></pre>\n"}],"owner":{"account_id":25498647,"reputation":31,"user_id":19292321,"display_name":"hahahaflying"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76622003,"answer_count":2,"score":1,"last_activity_date":1688572232,"creation_date":1688566631,"question_id":76621269,"body_markdown":"I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks\r\n\r\nthis is my codes: \r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.zip.GZIPInputStream;\r\nimport java.util.zip.GZIPOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Program {\r\n    public static void main(String[] args) {\r\n        byte[] payload = new byte[] {\r\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\r\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \r\n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \r\n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \r\n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \r\n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \r\n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \r\n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \r\n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \r\n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \r\n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \r\n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \r\n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \r\n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \r\n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \r\n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \r\n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \r\n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \r\n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \r\n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\r\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \r\n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \r\n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \r\n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \r\n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \r\n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \r\n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \r\n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\r\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \r\n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\r\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \r\n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\r\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \r\n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \r\n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \r\n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \r\n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \r\n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\r\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \r\n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \r\n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \r\n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\r\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\r\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\r\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \r\n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \r\n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \r\n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\r\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\r\n\r\n\r\n\r\n        byte[] objectArr;\r\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\r\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\r\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            int size = 4096;\r\n            byte[] buffer = new byte[(int)size];\r\n            int count;\r\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            \r\n            objectArr = outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return;\r\n        }\r\n        \r\n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\r\n        for (byte b : objectArr) {\r\n            hex.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        System.out.println(hex.toString());\r\n        \r\n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\r\n        System.out.println(decodedString);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tested the to be decompressed byte array in c#, it worked ok, don&#39;t know why in Java it doesn&#39;t work.","title":"Gzip decompress throws EOFException","body":"<p>I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks</p>\n<p>this is my codes:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.GZIPInputStream;\nimport java.util.zip.GZIPOutputStream;\nimport java.nio.charset.StandardCharsets;\n\npublic class Program {\n    public static void main(String[] args) {\n        byte[] payload = new byte[] {\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\n\n\n\n        byte[] objectArr;\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            int size = 4096;\n            byte[] buffer = new byte[(int)size];\n            int count;\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\n                outputStream.write(buffer, 0, count);\n            }\n            \n            objectArr = outputStream.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return;\n        }\n        \n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\n        for (byte b : objectArr) {\n            hex.append(String.format(&quot;%02x&quot;, b));\n        }\n        System.out.println(hex.toString());\n        \n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\n        System.out.println(decodedString);\n    }\n}\n\n</code></pre>\n<p>I tested the to be decompressed byte array in c#, it worked ok, don't know why in Java it doesn't work.</p>\n"},{"tags":["java","spring-boot","aws-iot","aws-iot-core"],"answers":[{"comments":[{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1689016695,"post_id":76621994,"comment_id":135150878,"body_markdown":"Thanks for the suggestion. One thing I need more details on auto-scale. How does SQS support auto-scale. And also if we can compare SQS to Kafka(MSK), then which one would be more appropriate to use.","body":"Thanks for the suggestion. One thing I need more details on auto-scale. How does SQS support auto-scale. And also if we can compare SQS to Kafka(MSK), then which one would be more appropriate to use."}],"tags":[],"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688572164,"creation_date":1688572164,"answer_id":76621994,"question_id":76611195,"body_markdown":"I&#39;d suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime). \r\n\r\n\r\nTo reduce pricing even further on your solution, I&#39;d highly recommend to use [basic ingest][1]. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense. \r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>I'd suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime).</p>\n<p>To reduce pricing even further on your solution, I'd highly recommend to use <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html\" rel=\"nofollow noreferrer\">basic ingest</a>. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense.</p>\n"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688572164,"creation_date":1688463053,"question_id":76611195,"body_markdown":"We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\r\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\r\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.\r\n\r\nBut as to build scalable design, we dont want our webservice to directly consume the message from the topic.\r\n\r\nWe are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.\r\n\r\nWe want to configure IOT rule engine. Below are the few approaches we thought as of now:\r\n1. IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)\r\n2. IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.\r\n3. IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.\r\n\r\nThere are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.\r\n\r\nDoes all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?\r\n\r\n","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.</p>\n<p>But as to build scalable design, we dont want our webservice to directly consume the message from the topic.</p>\n<p>We are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.</p>\n<p>We want to configure IOT rule engine. Below are the few approaches we thought as of now:</p>\n<ol>\n<li>IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)</li>\n<li>IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.</li>\n<li>IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.</li>\n</ol>\n<p>There are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.</p>\n<p>Does all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":7,"creation_date":1688500869,"post_id":76615566,"comment_id":135081411,"body_markdown":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks.","body":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688501600,"post_id":76615566,"comment_id":135081513,"body_markdown":"exactly it also works with any TYPE that is a subclass of `Integer`, but `Integer` is not an instance of any subclass of `Integer`, disregarding that `Integer` is `final` and has no subclasses. Maybe a different example would be better. Assume `Predicate&lt;? extends Animal&gt;`, which, can also stand for `Predicate&lt;Dog&gt; p`. Now should it be allowed to call `p.test(cat);` with `Animal cat = new Cat()`? `p` is expecting a `Dog`  ((BTW this question is not a first time on StackOverflow))","body":"exactly it also works with any TYPE that is a subclass of <code>Integer</code>, but <code>Integer</code> is not an instance of any subclass of <code>Integer</code>, disregarding that <code>Integer</code> is <code>final</code> and has no subclasses. Maybe a different example would be better. Assume <code>Predicate&lt;? extends Animal&gt;</code>, which, can also stand for <code>Predicate&lt;Dog&gt; p</code>. Now should it be allowed to call <code>p.test(cat);</code> with <code>Animal cat = new Cat()</code>? <code>p</code> is expecting a <code>Dog</code>  ((BTW this question is not a first time on StackOverflow))"},{"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"score":0,"creation_date":1688571803,"post_id":76615566,"comment_id":135092206,"body_markdown":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below","body":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below"}],"answers":[{"comments":[{"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"score":0,"creation_date":1688571606,"post_id":76615791,"comment_id":135092151,"body_markdown":"Thank you very much for the detailed answer, I dug up more into java generics documentation and found this and it explains why I was getting the error (exactly. what you explained in your answer) https://docs.oracle.com/javase/tutorial/java/generics/capture.html","body":"Thank you very much for the detailed answer, I dug up more into java generics documentation and found this and it explains why I was getting the error (exactly. what you explained in your answer) <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/capture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/capture.html</a>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688504790,"creation_date":1688503598,"answer_id":76615791,"question_id":76615566,"body_markdown":"&gt; As per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass\r\n\r\nNo - it means the `Predicate` works with _a specific_ subclass of `Integer`, or subclasses of that class. Since the compiler doesn&#39;t know which specific subclass of `Integer` is acceptable, it refuses to compile if you pass anything other than literal `null` to the `test` method.\r\n\r\n----\r\n\r\n`Integer` is a poor class to explain this with because it has no subclasses. But let&#39;s say it did:\r\n\r\n```\r\nclass ChildOfInteger extends Integer {\r\n  boolean foo() { return true; }\r\n}\r\n```\r\n\r\nYou could define a `Predicate&lt;ChildOfInteger&gt;`, say:\r\n\r\n```\r\nPredicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\r\n```\r\n\r\nThis invokes the `foo` method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn&#39;t a `ChildOfInteger`.\r\n\r\nBut a `Predicate&lt;ChildOfInteger&gt;` is also a `Predicate&lt;? extends Integer&gt;`:\r\n\r\n```\r\nPredicate&lt;? extends Integer&gt; pI = pCoi;\r\n```\r\n\r\nIf you were allowed to pass an `Integer` to a `pI`, the `Predicate` wouldn&#39;t know what to do, because there&#39;s no `foo` method to invoke on it.\r\n\r\nThe compiler doesn&#39;t know if the `Predicate&lt;? extends Integer&gt;` refers to a `Predicate&lt;Integer&gt;`, a `Predicate&lt;ChildOfInteger&gt;`, or a `Predicate&lt;ChildOfChildOfInteger&gt;` etc. Hence, you can&#39;t invoke `test` on it, passing anything that&#39;s not provably `null` (`null` is allowed because it can be cast to any type without an exception being raised).\r\n\r\n---\r\n\r\nIf you want to be able to pass in a `Predicate` that accepts `Integer` (or a subclass), but isn&#39;t specific to `Integer`, use `super`:\r\n\r\n```\r\nPredicate&lt;? super Integer&gt;\r\n```\r\n\r\nThis means that it accepts a specific type - again unknown exactly - but `Integer` is a subclass of that, so it&#39;s acceptable to pass an `Integer` (or a subclass of `Integer`) to it.","title":"Can someone please explain why I am getting this compilation error?","body":"<blockquote>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass</p>\n</blockquote>\n<p>No - it means the <code>Predicate</code> works with <em>a specific</em> subclass of <code>Integer</code>, or subclasses of that class. Since the compiler doesn't know which specific subclass of <code>Integer</code> is acceptable, it refuses to compile if you pass anything other than literal <code>null</code> to the <code>test</code> method.</p>\n<hr />\n<p><code>Integer</code> is a poor class to explain this with because it has no subclasses. But let's say it did:</p>\n<pre><code>class ChildOfInteger extends Integer {\n  boolean foo() { return true; }\n}\n</code></pre>\n<p>You could define a <code>Predicate&lt;ChildOfInteger&gt;</code>, say:</p>\n<pre><code>Predicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\n</code></pre>\n<p>This invokes the <code>foo</code> method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn't a <code>ChildOfInteger</code>.</p>\n<p>But a <code>Predicate&lt;ChildOfInteger&gt;</code> is also a <code>Predicate&lt;? extends Integer&gt;</code>:</p>\n<pre><code>Predicate&lt;? extends Integer&gt; pI = pCoi;\n</code></pre>\n<p>If you were allowed to pass an <code>Integer</code> to a <code>pI</code>, the <code>Predicate</code> wouldn't know what to do, because there's no <code>foo</code> method to invoke on it.</p>\n<p>The compiler doesn't know if the <code>Predicate&lt;? extends Integer&gt;</code> refers to a <code>Predicate&lt;Integer&gt;</code>, a <code>Predicate&lt;ChildOfInteger&gt;</code>, or a <code>Predicate&lt;ChildOfChildOfInteger&gt;</code> etc. Hence, you can't invoke <code>test</code> on it, passing anything that's not provably <code>null</code> (<code>null</code> is allowed because it can be cast to any type without an exception being raised).</p>\n<hr />\n<p>If you want to be able to pass in a <code>Predicate</code> that accepts <code>Integer</code> (or a subclass), but isn't specific to <code>Integer</code>, use <code>super</code>:</p>\n<pre><code>Predicate&lt;? super Integer&gt;\n</code></pre>\n<p>This means that it accepts a specific type - again unknown exactly - but <code>Integer</code> is a subclass of that, so it's acceptable to pass an <code>Integer</code> (or a subclass of <code>Integer</code>) to it.</p>\n"},{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504269,"creation_date":1688504269,"answer_id":76615847,"question_id":76615566,"body_markdown":"First of all, `Integer` is a `final class` meaning it does not make sense to talk about subclasses to `Integer` as there aren&#39;t any. That out of the way, there are two ways to achieve what I believe is the desired effect.\r\n\r\n&lt;h2&gt;1. Not using generics&lt;/h2&gt; \r\nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\r\n\r\n```java\r\npublic int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\r\n\tint count = 0;\r\n    for(Integer i : input) {\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\n&lt;h2&gt;2. Not using wildcards&lt;/h2&gt; \r\nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\r\n\r\n```java\r\npublic &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\r\n\tint count = 0;\r\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn&#39;t exist)\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```","title":"Can someone please explain why I am getting this compilation error?","body":"<p>First of all, <code>Integer</code> is a <code>final class</code> meaning it does not make sense to talk about subclasses to <code>Integer</code> as there aren't any. That out of the way, there are two ways to achieve what I believe is the desired effect.</p>\n<h2>1. Not using generics</h2> \nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\n    int count = 0;\n    for(Integer i : input) {\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n<h2>2. Not using wildcards</h2> \nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\n    int count = 0;\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn't exist)\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76615791,"answer_count":2,"score":0,"last_activity_date":1688571941,"creation_date":1688500627,"question_id":76615566,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wjcos.png\r\n\r\nAs per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param `Collection&lt;? extends Integer&gt;` seem to be working as expected. \r\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn&#39;t have a subclass\r\n`\r\n\r\n    public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\r\n            int count = 0;\r\n            for(Number i : input){\r\n                if(p.test(i)){\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\n`","title":"Can someone please explain why I am getting this compilation error?","body":"<p><a href=\"https://i.stack.imgur.com/Wjcos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wjcos.png\" alt=\"enter image description here\" /></a></p>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param <code>Collection&lt;? extends Integer&gt;</code> seem to be working as expected.\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn't have a subclass\n`</p>\n<pre><code>public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\n        int count = 0;\n        for(Number i : input){\n            if(p.test(i)){\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688059483,"post_id":76582835,"comment_id":135026412,"body_markdown":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?","body":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?"},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688074180,"post_id":76582835,"comment_id":135028969,"body_markdown":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?","body":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688112211,"post_id":76582835,"comment_id":135032895,"body_markdown":"I&#39;d search for some existing questions about intermittent `java.net.UnknownHostException`. For example, [this question](https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl) has [an answer](https://stackoverflow.com/a/24195155/1384297) with some suggestions for diagnosing a similar problem.","body":"I&#39;d search for some existing questions about intermittent <code>java.net.UnknownHostException</code>. For example, <a href=\"https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl\">this question</a> has <a href=\"https://stackoverflow.com/a/24195155/1384297\">an answer</a> with some suggestions for diagnosing a similar problem."},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688571514,"post_id":76582835,"comment_id":135092123,"body_markdown":"Thanks, solved follow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover","body":"Thanks, solved follow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\" title=\"java and etc resolv conf dns server failover\">serverfault.com/questions/578082/&hellip;</a>"}],"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688571539,"creation_date":1688055077,"question_id":76582835,"body_markdown":"I have a problem with a Springframework project.\r\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: www.strava.com: Name or service not known\r\n\r\nI tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\r\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...\r\n\r\n       \r\n        String STRAVA_URL = &quot;https://www.strava.com/&quot;\r\n        String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \r\n    \r\n        RequestBody requestBody = new FormBody\r\n            .Builder() \r\n            .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \r\n            .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \r\n            .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \r\n            .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \r\n            .build();\r\n    \r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .connectTimeout(1, TimeUnit.MINUTES)\r\n                .build();\r\n    \r\n        Request request = new Request.Builder()\r\n                .method(&quot;POST&quot;, requestBody)\r\n                .url(url)\r\n                .build();\r\n    \r\n        Call call = client.newCall(request);\r\n        Response response = null;\r\n    \r\n        try {\r\n            response = call.execute();\r\n    \r\n            ...\r\n        } catch (Exception e) {\r\n            //HERE THE ERROR\r\n            e.printStackTrace();\r\n            return e.toString();\r\n        }`\r\n\r\n\r\n**Solved**\r\nFollow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\r\n","title":"Springframework java.net.UnknownHostException appears randomly","body":"<p>I have a problem with a Springframework project.\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: <a href=\"http://www.strava.com\" rel=\"nofollow noreferrer\">www.strava.com</a>: Name or service not known</p>\n<p>I tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...</p>\n<pre><code>    String STRAVA_URL = &quot;https://www.strava.com/&quot;\n    String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \n\n    RequestBody requestBody = new FormBody\n        .Builder() \n        .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \n        .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \n        .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \n        .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \n        .build();\n\n    OkHttpClient client = new OkHttpClient.Builder()\n            .connectTimeout(1, TimeUnit.MINUTES)\n            .build();\n\n    Request request = new Request.Builder()\n            .method(&quot;POST&quot;, requestBody)\n            .url(url)\n            .build();\n\n    Call call = client.newCall(request);\n    Response response = null;\n\n    try {\n        response = call.execute();\n\n        ...\n    } catch (Exception e) {\n        //HERE THE ERROR\n        e.printStackTrace();\n        return e.toString();\n    }`\n</code></pre>\n<p><strong>Solved</strong>\nFollow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\">https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459014485,"creation_date":1459014033,"answer_id":36238593,"question_id":36238493,"body_markdown":"I think in the `addRanking(..)` method, after the `Transaction tx = session.getTransaction();` you missed to call\r\n\r\n&gt; tx.begin()","title":"Hibernate TransactionException when saving to database","body":"<p>I think in the <code>addRanking(..)</code> method, after the <code>Transaction tx = session.getTransaction();</code> you missed to call</p>\n\n<blockquote>\n  <p>tx.begin()</p>\n</blockquote>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":36238593,"answer_count":1,"score":-1,"last_activity_date":1688571357,"creation_date":1459013491,"question_id":36238493,"body_markdown":"I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:\r\n\r\n    public class HibernateRankingService2 implements RankingService2{\r\n    \r\n    \tpublic HibernateRankingService2() {\r\n    \t}\r\n    \r\n    \tpublic void addRanking(String subject, String observer, String skill, int ranking) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.getTransaction();\r\n    \t\taddRanking(session, subject, observer, skill, ranking);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t}\r\n    \t\r\n    \tprivate void addRanking(Session session, String subjectName,\r\n    \t\tString observerName, String skillName, int rank) {\r\n    \t\tPerson subject = savePerson(session, subjectName);\r\n    \t\tPerson observer = savePerson(session, observerName);\r\n    \t\tSkill skill = saveSkill(session, skillName);\r\n    \t\tRanking ranking = new Ranking();\r\n    \t\tranking.setSubject(subject);\r\n    \t\tranking.setObserver(observer);\r\n    \t\tranking.setSkill(skill);\r\n    \t\tranking.setRanking(rank);\r\n    \t\tsession.save(ranking);\r\n    \t}\r\n    \t\r\n    \tpublic int getRankingFor(String subject, String skill) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.beginTransaction();\r\n    \t\tint average = getRankingFor(session, subject, skill);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t\treturn average;\r\n    \t}\r\n    \t\r\n    \tprivate int getRankingFor(Session session, String subject,\r\n    \t\tString skill) {\r\n    \t\tQuery query = session.createQuery(&quot;from Ranking r &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;where r.subject.name=:name &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;and r.skill.name=:skill&quot;);\r\n    \t\tquery.setString(&quot;name&quot;, subject);\r\n    \t\tquery.setString(&quot;skill&quot;, skill);\r\n    \t\tint sum = 0;\r\n    \t\tint count = 0;\r\n    \t\tfor (Ranking r : (List&lt;Ranking&gt;) query.list()) {\r\n    \t\t\tcount++;\r\n    \t\t\tsum += r.getRanking();\r\n    \t\t\tSystem.out.println(r);\r\n    \t\t}\r\n    \t\treturn count == 0 ? 0 : sum / count;\r\n    \t}\t\r\n    \t    \t\r\n    \tprivate Person findPerson(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);\r\n    \t\tList&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(person.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn person.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Person savePerson(Session session, String name){\r\n    \t\tPerson person = findPerson(session, name);\r\n    \t\tif(person == null){\r\n    \t\t\tperson = new Person();\r\n    \t\t\tperson.setName(name);\r\n    \t\t\tsession.save(person);\r\n    \t\t}\r\n    \t\treturn person;\r\n    \t}\r\n    \t\r\n    \tprivate Skill findSkill(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);    \t\t\r\n    \t\tList&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(skill.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn skill.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Skill saveSkill(Session session, String name){\r\n    \t\tSkill skill = findSkill(session, name);\r\n    \t\tif(skill == null){\r\n    \t\t\tskill = new Skill();\r\n    \t\t\tskill.setName(name);\r\n    \t\t\tsession.save(skill);\r\n    \t\t}\r\n    \t\treturn skill;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nThis is the test class:\r\n\r\n    public class AddRankingTest {\r\n    \r\n    \tRankingService2 service = new HibernateRankingService2();\r\n    \t\r\n    \t@Test\r\n    \tpublic void addRanking(){\r\n    \t\tservice.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\r\n    \t\tassertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\r\n    \t}\r\n    \r\n    }\r\n\r\nAm having the following exception:\r\n\r\n    org.hibernate.TransactionException: Transaction not successfully started\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\r\n    \tat chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\r\n    \tat chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \r\n    ...\r\n    ...\r\n\r\nThe error is coming from the `tx.commit();` in the `public void addRanking(...);` method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database. \r\n\r\nI begin and commit the transaction in the same `public void addRanking(...);` method but i don&#39;t understand why am getting the Transaction exception.\r\n\r\nWhat am I doing wrong?\r\n\r\nThe objects like `Person`, `Skill` and `Ranking` are normal Java POJOs containing only getters and setters.\r\n","title":"Hibernate TransactionException when saving to database","body":"<p>I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:</p>\n<pre><code>public class HibernateRankingService2 implements RankingService2{\n\n    public HibernateRankingService2() {\n    }\n\n    public void addRanking(String subject, String observer, String skill, int ranking) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.getTransaction();\n        addRanking(session, subject, observer, skill, ranking);\n        tx.commit();\n        session.close();\n    }\n    \n    private void addRanking(Session session, String subjectName,\n        String observerName, String skillName, int rank) {\n        Person subject = savePerson(session, subjectName);\n        Person observer = savePerson(session, observerName);\n        Skill skill = saveSkill(session, skillName);\n        Ranking ranking = new Ranking();\n        ranking.setSubject(subject);\n        ranking.setObserver(observer);\n        ranking.setSkill(skill);\n        ranking.setRanking(rank);\n        session.save(ranking);\n    }\n    \n    public int getRankingFor(String subject, String skill) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.beginTransaction();\n        int average = getRankingFor(session, subject, skill);\n        tx.commit();\n        session.close();\n        return average;\n    }\n    \n    private int getRankingFor(Session session, String subject,\n        String skill) {\n        Query query = session.createQuery(&quot;from Ranking r &quot;\n                                            + &quot;where r.subject.name=:name &quot;\n                                            + &quot;and r.skill.name=:skill&quot;);\n        query.setString(&quot;name&quot;, subject);\n        query.setString(&quot;skill&quot;, skill);\n        int sum = 0;\n        int count = 0;\n        for (Ranking r : (List&lt;Ranking&gt;) query.list()) {\n            count++;\n            sum += r.getRanking();\n            System.out.println(r);\n        }\n        return count == 0 ? 0 : sum / count;\n    }   \n            \n    private Person findPerson(Session session, String name){\n        Query query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);\n        List&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(person.size() == 0){\n            return null;\n        }       \n        return person.get(0);\n    }\n    \n    private Person savePerson(Session session, String name){\n        Person person = findPerson(session, name);\n        if(person == null){\n            person = new Person();\n            person.setName(name);\n            session.save(person);\n        }\n        return person;\n    }\n    \n    private Skill findSkill(Session session, String name){\n        Query query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);         \n        List&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(skill.size() == 0){\n            return null;\n        }       \n        return skill.get(0);\n    }\n    \n    private Skill saveSkill(Session session, String name){\n        Skill skill = findSkill(session, name);\n        if(skill == null){\n            skill = new Skill();\n            skill.setName(name);\n            session.save(skill);\n        }\n        return skill;\n    }\n    \n\n}\n</code></pre>\n<p>This is the test class:</p>\n<pre><code>public class AddRankingTest {\n\n    RankingService2 service = new HibernateRankingService2();\n    \n    @Test\n    public void addRanking(){\n        service.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\n        assertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\n    }\n\n}\n</code></pre>\n<p>Am having the following exception:</p>\n<pre><code>org.hibernate.TransactionException: Transaction not successfully started\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\n    at chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\n    at chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n\n...\n...\n</code></pre>\n<p>The error is coming from the <code>tx.commit();</code> in the <code>public void addRanking(...);</code> method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database.</p>\n<p>I begin and commit the transaction in the same <code>public void addRanking(...);</code> method but i don't understand why am getting the Transaction exception.</p>\n<p>What am I doing wrong?</p>\n<p>The objects like <code>Person</code>, <code>Skill</code> and <code>Ranking</code> are normal Java POJOs containing only getters and setters.</p>\n"},{"tags":["java","android","authentication","oauth-2.0","keycloak"],"owner":{"account_id":5605149,"reputation":17,"user_id":4440029,"display_name":"drage503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688571175,"creation_date":1560783450,"question_id":56633910,"body_markdown":"I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don&#39;t know how I am supposed to configure it in the Android application.\r\n\r\nFor the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.\r\n\r\nI want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?","title":"Android authentication on Keycloak with identity providers like Google and Facebook","body":"<p>I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don't know how I am supposed to configure it in the Android application.</p>\n\n<p>For the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.</p>\n\n<p>I want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?</p>\n"},{"tags":["java","maven","quarkus","sample"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1623850432,"post_id":68003013,"comment_id":120195410,"body_markdown":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. `rm -rf ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/`","body":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. <code>rm -rf ~&#47;.m2&#47;repository&#47;io&#47;quarkus&#47;quarkus-universe-bom-quarkus-pla&zwnj;&#8203;tform-descriptor&#47;</code>"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851275,"post_id":68003013,"comment_id":120195853,"body_markdown":"Hi Nikos, thanks for jumping in so quickly!","body":"Hi Nikos, thanks for jumping in so quickly!"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851351,"post_id":68003013,"comment_id":120195894,"body_markdown":"- deleted the faulty local repo","body":"- deleted the faulty local repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851406,"post_id":68003013,"comment_id":120195919,"body_markdown":"- modified my ~/.m2/settings.xml so that it contains the maven central repo","body":"- modified my ~/.m2/settings.xml so that it contains the maven central repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851783,"post_id":68003013,"comment_id":120196126,"body_markdown":"same error while the faulty file was directly downloaded from central mirror.","body":"same error while the faulty file was directly downloaded from central mirror."},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851835,"post_id":68003013,"comment_id":120196147,"body_markdown":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json checksum is invalid at download...","body":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/&zwnj;&#8203;1.13.7.Final/quarkus&zwnj;&#8203;-universe-bom-quarku&zwnj;&#8203;s-platform-descripto&zwnj;&#8203;r-1.13.7.Final-1.13.&zwnj;&#8203;7.Final.json checksum is invalid at download..."}],"answers":[{"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1623880111,"post_id":68005611,"comment_id":120207089,"body_markdown":"If you can verify indeed that any of the checksum files in [here](https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/) is wrong, maybe report it to the Quarkus team?","body":"If you can verify indeed that any of the checksum files in <a href=\"https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/\" rel=\"nofollow noreferrer\">here</a> is wrong, maybe report it to the Quarkus team?"}],"tags":[],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623856899,"creation_date":1623856899,"answer_id":68005611,"question_id":68003013,"body_markdown":"Changing my `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json` with the content of [The expected json descriptor from here](https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json) solved the issue.\r\n\r\nHere is the expected result:\r\n\r\n```\r\nUser@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n-----------\r\n\r\napplying codestarts...\r\n&#128288; java\r\n&#129520; maven\r\n&#128451; quarkus\r\n&#128220; config-properties\r\n&#128736; dockerfiles\r\n&#128736; maven-wrapper\r\n&#128018; resteasy-example\r\n\r\n-----------\r\n[SUCCESS] ✅ quarkus project has been successfully generated in:\r\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\r\n-----------\r\n[INFO] \r\n[INFO] ========================================================================================\r\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\r\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\r\n[INFO] Your application will be accessible on http://localhost:8080\r\n[INFO] ========================================================================================\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.060 s\r\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nI do not know BTW where to report the maven central invalid download checksum for this file.","title":"quarkus maven plugin fails to create a project","body":"<p>Changing my <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code> with the content of <a href=\"https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\" rel=\"nofollow noreferrer\">The expected json descriptor from here</a> solved the issue.</p>\n<p>Here is the expected result:</p>\n<pre><code>User@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n-----------\n\napplying codestarts...\n🔠 java\n🧰 maven\n🗃 quarkus\n📜 config-properties\n🛠 dockerfiles\n🛠 maven-wrapper\n🐒 resteasy-example\n\n-----------\n[SUCCESS] ✅ quarkus project has been successfully generated in:\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\n-----------\n[INFO] \n[INFO] ========================================================================================\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\n[INFO] Your application will be accessible on http://localhost:8080\n[INFO] ========================================================================================\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.060 s\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>I do not know BTW where to report the maven central invalid download checksum for this file.</p>\n"}],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688571058,"creation_date":1623847808,"question_id":68003013,"body_markdown":"Trying to create a quarkus project from scratch with the command: \r\n```\r\nmvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n```\r\nas described in the [Bootstrapping a quarkus project page](https://quarkus.io/guides/getting-started#bootstrapping-the-project)\r\nfails with the below error:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.692 s\r\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n```\r\nRunning the maven debug option (-X) reveals a probably erroneous .m2 repository resource:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  9.028 s\r\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n```\r\n\r\nLooking further at the faulty resource `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json`, it appears that the expected `.json` file is `html`formatted...\r\n\r\nAlso, my maven version is compatible with the quarkus requirements: \r\n\r\n```\r\nUser@-bash - createProject - 14:23:09 $ mvn --version\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\r\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\n```\r\nand my local .m2 repository contains all the necessary quarkus dependencies.\r\n- did someone already experienced such an issue ?\r\n- any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)\r\n\r\nCheers !","title":"quarkus maven plugin fails to create a project","body":"<p>Trying to create a quarkus project from scratch with the command:</p>\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n</code></pre>\n<p>as described in the <a href=\"https://quarkus.io/guides/getting-started#bootstrapping-the-project\" rel=\"nofollow noreferrer\">Bootstrapping a quarkus project page</a>\nfails with the below error:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.692 s\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>Running the maven debug option (-X) reveals a probably erroneous .m2 repository resource:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.028 s\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n</code></pre>\n<p>Looking further at the faulty resource <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code>, it appears that the expected <code>.json</code> file is <code>html</code>formatted...</p>\n<p>Also, my maven version is compatible with the quarkus requirements:</p>\n<pre><code>User@-bash - createProject - 14:23:09 $ mvn --version\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n\n</code></pre>\n<p>and my local .m2 repository contains all the necessary quarkus dependencies.</p>\n<ul>\n<li>did someone already experienced such an issue ?</li>\n<li>any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)</li>\n</ul>\n<p>Cheers !</p>\n"},{"tags":["java","system","environment"],"answers":[{"comments":[{"owner":{"account_id":28924102,"reputation":3,"user_id":22154369,"display_name":"RU NA"},"score":0,"creation_date":1688118249,"post_id":76587697,"comment_id":135033988,"body_markdown":"Thank you for the kind example! It&#39;s very useful.","body":"Thank you for the kind example! It&#39;s very useful."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688119406,"post_id":76587697,"comment_id":135034232,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688117526,"creation_date":1688117526,"answer_id":76587697,"question_id":76587571,"body_markdown":"&gt; Is any another better way?\r\n\r\nI would do it with `ProcessBuilder` instead of `Runtime`. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:\r\n```\r\nProcessBuilder pb =\r\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n Map&lt;String, String&gt; env = pb.environment();\r\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n env.remove(&quot;OTHERVAR&quot;);\r\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n Process p = pb.start();\r\n```","title":"The way to pass system environment variables to child process in java","body":"<blockquote>\n<p>Is any another better way?</p>\n</blockquote>\n<p>I would do it with <code>ProcessBuilder</code> instead of <code>Runtime</code>. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:</p>\n<pre><code>ProcessBuilder pb =\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\n Map&lt;String, String&gt; env = pb.environment();\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\n env.remove(&quot;OTHERVAR&quot;);\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\n Process p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14838134,"reputation":1,"user_id":10715592,"display_name":"Sujata R"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688570989,"creation_date":1688363796,"answer_id":76602150,"question_id":76587571,"body_markdown":"\r\n Here a concise summary of the alternative approach using ProcessBuilder-\r\n\r\nInstead of using `Runtime.exec(cmd, envp)`, you can use `ProcessBuilder` to execute\r\nthe child process with both the parent&#39;s environment variables and additional\r\nenvironment variables:\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\r\nMap&lt;String, String&gt; environment = processBuilder.environment();\r\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nProcess process = processBuilder.start();\r\n```\r\n\r\nWith `ProcessBuilder`, you construct the command and arguments for the child process.\r\nThe `environment()` method retrieves the environment variable map, which initially \r\ncontains the parent&#39;s environment. You can then add additional environment \r\nvariables using the `put()` method. Finally, calling `start()` executes the \r\nchild process with the combined environment variables.\r\n\r\nUsing `ProcessBuilder` offers more flexibility and control over process execution \r\ncompared to `Runtime.exec()`, allowing you to manage input/output streams and error\r\nhandling more easily.","title":"The way to pass system environment variables to child process in java","body":"<p>Here a concise summary of the alternative approach using ProcessBuilder-</p>\n<p>Instead of using <code>Runtime.exec(cmd, envp)</code>, you can use <code>ProcessBuilder</code> to execute\nthe child process with both the parent's environment variables and additional\nenvironment variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\nMap&lt;String, String&gt; environment = processBuilder.environment();\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nProcess process = processBuilder.start();\n</code></pre>\n<p>With <code>ProcessBuilder</code>, you construct the command and arguments for the child process.\nThe <code>environment()</code> method retrieves the environment variable map, which initially\ncontains the parent's environment. You can then add additional environment\nvariables using the <code>put()</code> method. Finally, calling <code>start()</code> executes the\nchild process with the combined environment variables.</p>\n<p>Using <code>ProcessBuilder</code> offers more flexibility and control over process execution\ncompared to <code>Runtime.exec()</code>, allowing you to manage input/output streams and error\nhandling more easily.</p>\n"}],"owner":{"account_id":28924102,"reputation":3,"user_id":22154369,"display_name":"RU NA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587697,"answer_count":2,"score":0,"last_activity_date":1688570989,"creation_date":1688116445,"question_id":76587571,"body_markdown":"I want to create child process in JAVA, and I wantthis process to have parent&#39;s env variables and some new envariables all.\r\n\r\nIn my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent&#39;s env.\r\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.\r\n\r\nBut I want my child process to have parent&#39;s env and new env variables all...\r\n\r\nSo, I thought this java code is the only way to achieve my goal...\r\n\r\n\r\n```\r\n        Map&lt;String, String&gt; env = System.getenv();\r\n        String[] envp = new String[100];\r\n        int idx = 0;\r\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\r\n            String envKey = entry.getKey();\r\n            String envValue = entry.getValue();\r\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\r\n        }\r\n        String cmd = &quot;my java command array for child process...&quot;;\r\n        String newEnv = key + &quot;=&quot; + value;\r\n        envp[idx] = newEnv;\r\n        Runtime runtime = Runtime.getRuntime();\r\n        runtime.exec(cmd, envp);\r\n```\r\nIs any another better way? or is this code not good?\r\n\r\nThis is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...\r\n\r\nThank you\r\n\r\n\r\nI searched many posts and one way I found was like this...\r\n```\r\nMap&lt;String, String&gt; env = System.getenv();\r\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\r\nfield.setAccessible(true);\r\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\r\n```\r\nBut I don&#39;t like to modify unmodifiable Collection.","title":"The way to pass system environment variables to child process in java","body":"<p>I want to create child process in JAVA, and I wantthis process to have parent's env variables and some new envariables all.</p>\n<p>In my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent's env.\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.</p>\n<p>But I want my child process to have parent's env and new env variables all...</p>\n<p>So, I thought this java code is the only way to achieve my goal...</p>\n<pre><code>        Map&lt;String, String&gt; env = System.getenv();\n        String[] envp = new String[100];\n        int idx = 0;\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\n            String envKey = entry.getKey();\n            String envValue = entry.getValue();\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\n        }\n        String cmd = &quot;my java command array for child process...&quot;;\n        String newEnv = key + &quot;=&quot; + value;\n        envp[idx] = newEnv;\n        Runtime runtime = Runtime.getRuntime();\n        runtime.exec(cmd, envp);\n</code></pre>\n<p>Is any another better way? or is this code not good?</p>\n<p>This is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...</p>\n<p>Thank you</p>\n<p>I searched many posts and one way I found was like this...</p>\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\nfield.setAccessible(true);\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\n</code></pre>\n<p>But I don't like to modify unmodifiable Collection.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":2345160,"reputation":451,"user_id":2055624,"accept_rate":73,"display_name":"nap.gab"},"score":0,"creation_date":1369308005,"post_id":16712391,"comment_id":24058972,"body_markdown":"Post all your method if you want help...","body":"Post all your method if you want help..."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369308067,"post_id":16712391,"comment_id":24059006,"body_markdown":"Don&#39;t expect to get much help by sharing just one line of code.","body":"Don&#39;t expect to get much help by sharing just one line of code."}],"answers":[{"comments":[{"owner":{"account_id":2701017,"reputation":1642,"user_id":2331746,"accept_rate":98,"display_name":"Waqas Ali"},"score":0,"creation_date":1369309070,"post_id":16712849,"comment_id":24059607,"body_markdown":"so if i have many nodes then i have to create source for each of them? is there any better solution?","body":"so if i have many nodes then i have to create source for each of them? is there any better solution?"},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369309640,"post_id":16712849,"comment_id":24059930,"body_markdown":"Use a `DocumentBuilderFactory` to build a `Document` (part of JAXP DOM APIs) that can be reused across multiple Xpath evaluations.","body":"Use a <code>DocumentBuilderFactory</code> to build a <code>Document</code> (part of JAXP DOM APIs) that can be reused across multiple Xpath evaluations."}],"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1688570876,"creation_date":1369308790,"answer_id":16712849,"question_id":16712391,"body_markdown":"You can&#39;t reuse the same `InputSource` for multiple `evaluate()` invocations because it&#39;s automatically closed. Hence you&#39;re getting the `Stream closed` IO exception. Try this\r\n```java\r\nInputSource source1 = new InputSource(new StringReader(xml));\r\nInputSource source2 = new InputSource(new StringReader(xml));\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```\r\n***EDIT:***&lt;br /&gt;\r\nA better approach would be to use a `DocumentBuilderFactory` to parse your XML and build a `Document` first (using JAXP&#39;s DOM APIs) which can then be reused across several XPath evaluations.\r\n```java\r\nString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\t\t\r\nInputSource source = new InputSource(new StringReader(xml));\r\n\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument document = db.parse(source);\r\n\t\t\r\nXPathFactory xpathFactory = XPathFactory.newInstance();\r\nXPath xpath = xpathFactory.newXPath();\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```","title":"Parse XML Simple String using Java XPath","body":"<p>You can't reuse the same <code>InputSource</code> for multiple <code>evaluate()</code> invocations because it's automatically closed. Hence you're getting the <code>Stream closed</code> IO exception. Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputSource source1 = new InputSource(new StringReader(xml));\nInputSource source2 = new InputSource(new StringReader(xml));\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n<p><em><strong>EDIT:</strong></em><br />\nA better approach would be to use a <code>DocumentBuilderFactory</code> to parse your XML and build a <code>Document</code> first (using JAXP's DOM APIs) which can then be reused across several XPath evaluations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\n        \nInputSource source = new InputSource(new StringReader(xml));\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument document = db.parse(source);\n        \nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3092409,"reputation":2696,"user_id":2618275,"accept_rate":89,"display_name":"Paul Alexander"},"score":2,"creation_date":1396265177,"post_id":16714178,"comment_id":34696126,"body_markdown":"out of interest, if the XML string was &lt;status&gt;good, ok&lt;/status&gt; is there anyway of just selecting the first word in the string before the comma? or just selecting the word after the comma?","body":"out of interest, if the XML string was &lt;status&gt;good, ok&lt;/status&gt; is there anyway of just selecting the first word in the string before the comma? or just selecting the word after the comma?"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1396352556,"post_id":16714178,"comment_id":34739946,"body_markdown":"@brookman Not with Java&#39;s XPath support. You might be able to with XPath 2 - see the Saxon API.","body":"@brookman Not with Java&#39;s XPath support. You might be able to with XPath 2 - see the Saxon API."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1369312742,"creation_date":1369312742,"answer_id":16714178,"question_id":16712391,"body_markdown":"[Ravi&#39;s solution][1] can also be expressed as:\r\n\r\n    String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n    XPathFactory xpathFactory = XPathFactory.newInstance();\r\n    XPath xpath = xpathFactory.newXPath();\r\n\r\n    InputSource source = new InputSource(new StringReader(xml));\r\n    Document doc = (Document) xpath.evaluate(&quot;/&quot;, source, XPathConstants.NODE);\r\n    String status = xpath.evaluate(&quot;/resp/status&quot;, doc);\r\n    String msg = xpath.evaluate(&quot;/resp/msg&quot;, doc);\r\n\r\n    System.out.println(&quot;status=&quot; + status);\r\n    System.out.println(&quot;Message=&quot; + msg);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16712849/304","title":"Parse XML Simple String using Java XPath","body":"<p><a href=\"https://stackoverflow.com/a/16712849/304\">Ravi's solution</a> can also be expressed as:</p>\n\n<pre><code>String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nInputSource source = new InputSource(new StringReader(xml));\nDocument doc = (Document) xpath.evaluate(\"/\", source, XPathConstants.NODE);\nString status = xpath.evaluate(\"/resp/status\", doc);\nString msg = xpath.evaluate(\"/resp/msg\", doc);\n\nSystem.out.println(\"status=\" + status);\nSystem.out.println(\"Message=\" + msg);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":460380,"reputation":2425,"user_id":861423,"accept_rate":83,"display_name":"Alexey Grigorev"},"score":0,"creation_date":1426759571,"post_id":19481412,"comment_id":46506824,"body_markdown":"This library is very nice, but what I don&#39;t like is that it brings aspectj with it - which I don&#39;t think is really necessary","body":"This library is very nice, but what I don&#39;t like is that it brings aspectj with it - which I don&#39;t think is really necessary"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1426793559,"post_id":19481412,"comment_id":46527981,"body_markdown":"Yeah, we&#39;re planning to get rid of that very soon","body":"Yeah, we&#39;re planning to get rid of that very soon"},{"owner":{"account_id":460380,"reputation":2425,"user_id":861423,"accept_rate":83,"display_name":"Alexey Grigorev"},"score":0,"creation_date":1426800743,"post_id":19481412,"comment_id":46531559,"body_markdown":"that would be very nice! any RSS I can subscribe for to keep myself up-to-date?","body":"that would be very nice! any RSS I can subscribe for to keep myself up-to-date?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1426880738,"post_id":19481412,"comment_id":46567121,"body_markdown":"@AlexeyGrigorev follow/watch this ticket: https://github.com/jcabi/jcabi-xml/issues/61","body":"@AlexeyGrigorev follow/watch this ticket: <a href=\"https://github.com/jcabi/jcabi-xml/issues/61\" rel=\"nofollow noreferrer\">github.com/jcabi/jcabi-xml/issues/61</a>"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424104683,"creation_date":1382295067,"answer_id":19481412,"question_id":16712391,"body_markdown":"You can try [`jcabi-xml`](http://xml.jcabi.com/), which does DOM manipulations behind the scene:\r\n\r\n    import com.jcabi.xml.XML;\r\n    import com.jcabi.xml.XMLDocument;\r\n    XML xml = new XMLDocument(&quot;&lt;resp&gt;...&lt;/resp&gt;&quot;);\r\n    String status = xml.xpath(&quot;/resp/status/text()&quot;).get(0);","title":"Parse XML Simple String using Java XPath","body":"<p>You can try <a href=\"http://xml.jcabi.com/\" rel=\"noreferrer\"><code>jcabi-xml</code></a>, which does DOM manipulations behind the scene:</p>\n\n<pre><code>import com.jcabi.xml.XML;\nimport com.jcabi.xml.XMLDocument;\nXML xml = new XMLDocument(\"&lt;resp&gt;...&lt;/resp&gt;\");\nString status = xml.xpath(\"/resp/status/text()\").get(0);\n</code></pre>\n"}],"owner":{"account_id":2701017,"reputation":1642,"user_id":2331746,"accept_rate":98,"display_name":"Waqas Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81638,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":16712849,"answer_count":3,"score":38,"last_activity_date":1688570876,"creation_date":1369307381,"question_id":16712391,"body_markdown":"I have XML String like this \r\n\r\n    &lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\r\n\r\nI follow this help\r\n\r\nhttps://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\r\n\r\nMyCode:\r\n\r\n    public static void main(String args[]) {\r\n\t\r\n\t\tString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n\t\tXPathFactory xpathFactory = XPathFactory.newInstance();\r\n\t\tXPath xpath = xpathFactory.newXPath();\r\n\r\n\t\tInputSource source = new InputSource(new StringReader(xml));\r\n\t\t\r\n\t\tString status = &quot;&quot;;\r\n\t\tString msg = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tstatus = (String) xpath.evaluate(&quot;/resp/status&quot;, source,XPathConstants.STRING);\r\n\t\t\tmsg = (String) xpath.evaluate(&quot;/resp/msg&quot;, source,XPathConstants.STRING);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;status=&quot; + status);\r\n\t\tSystem.out.println(&quot;Message=&quot; + msg);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nI want to get msg node value but i got exception \r\n\r\n\r\n    java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)--------------- linked to ------------------\r\n    javax.xml.xpath.XPathExpressionException\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)\r\n    Caused by: java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\t... 2 more\r\n\r\nI am not going to use some external library for this simple task. please guide me how to get other node&#39;s values. \r\nThanks","title":"Parse XML Simple String using Java XPath","body":"<p>I have XML String like this </p>\n\n<pre><code>&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\n</code></pre>\n\n<p>I follow this help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\">Simplest way to query XML in Java</a></p>\n\n<p>MyCode:</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\n    XPathFactory xpathFactory = XPathFactory.newInstance();\n    XPath xpath = xpathFactory.newXPath();\n\n    InputSource source = new InputSource(new StringReader(xml));\n\n    String status = \"\";\n    String msg = \"\";\n    try {\n        status = (String) xpath.evaluate(\"/resp/status\", source,XPathConstants.STRING);\n        msg = (String) xpath.evaluate(\"/resp/msg\", source,XPathConstants.STRING);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(\"status=\" + status);\n    System.out.println(\"Message=\" + msg);\n\n\n}\n</code></pre>\n\n<p>I want to get msg node value but i got exception </p>\n\n<pre><code>java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)--------------- linked to ------------------\njavax.xml.xpath.XPathExpressionException\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)\nCaused by: java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\n... 2 more\n</code></pre>\n\n<p>I am not going to use some external library for this simple task. please guide me how to get other node's values. \nThanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","publish-subscribe"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1688574881,"post_id":76621128,"comment_id":135092967,"body_markdown":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them.","body":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them."}],"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688570673,"creation_date":1688565763,"question_id":76621128,"body_markdown":"I am working upon one e-commerce Spring boot app with spring integration, spring web.\r\n\r\nmy requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.\r\n\r\nmy requirement is below:\r\n\r\n\r\n**A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache**\r\n\r\n\r\nI want to use **Spring boot(or spring integration)** with **caching** along with **pub-sub** mechanism in it with **Kafka**.\r\n\r\nhow can I develop such an App, any leads or reference would be highly appreciated.\r\n\r\n-Thanks","title":"Could not build Spring boot app with cache and pub sub with Kafka","body":"<p>I am working upon one e-commerce Spring boot app with spring integration, spring web.</p>\n<p>my requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.</p>\n<p>my requirement is below:</p>\n<p><strong>A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache</strong></p>\n<p>I want to use <strong>Spring boot(or spring integration)</strong> with <strong>caching</strong> along with <strong>pub-sub</strong> mechanism in it with <strong>Kafka</strong>.</p>\n<p>how can I develop such an App, any leads or reference would be highly appreciated.</p>\n<p>-Thanks</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688666747,"post_id":76621794,"comment_id":135108008,"body_markdown":"If this answers your question, feel free to accept the answer using the checkmark next to the post","body":"If this answers your question, feel free to accept the answer using the checkmark next to the post"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688570530,"creation_date":1688570530,"answer_id":76621794,"question_id":76620954,"body_markdown":"Kafka has no capabilities to know about producers sending to any topic. You&#39;d need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients ","title":"Producer and consumer details for a specific kafka topic","body":"<p>Kafka has no capabilities to know about producers sending to any topic. You'd need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients</p>\n"}],"owner":{"account_id":10059571,"reputation":59,"user_id":7436732,"display_name":"Pramod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688570530,"creation_date":1688564567,"question_id":76620954,"body_markdown":"Want to understand how to get producer details for any specific kafka topic using java","title":"Producer and consumer details for a specific kafka topic","body":"<p>Want to understand how to get producer details for any specific kafka topic using java</p>\n"},{"tags":["java","proxy","grpc","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688570453,"creation_date":1688570453,"answer_id":76621784,"question_id":76603634,"body_markdown":"There is [such an example](https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java) in grpc-java.\r\n\r\nYou are right that the core of it should be to implement a `ServerCallHandler`. You will also need a `MethodDescriptor` and to package them together into a `ServerMethodDefinition`.\r\n\r\nThe example uses a fallback `HandlerRegistry` to proxy all methods, but if you only need static proxying you could create a `ServerServiceDefinition` (essentially a set of `ServerMethodDefinitions` for one service) for each service you want proxied and add it to the `ServerBuilder` as normal: `serverBuilder.addService()`.\r\n\r\nThe rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.","title":"Micronaut generic GRPC proxy","body":"<p>There is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java\" rel=\"nofollow noreferrer\">such an example</a> in grpc-java.</p>\n<p>You are right that the core of it should be to implement a <code>ServerCallHandler</code>. You will also need a <code>MethodDescriptor</code> and to package them together into a <code>ServerMethodDefinition</code>.</p>\n<p>The example uses a fallback <code>HandlerRegistry</code> to proxy all methods, but if you only need static proxying you could create a <code>ServerServiceDefinition</code> (essentially a set of <code>ServerMethodDefinitions</code> for one service) for each service you want proxied and add it to the <code>ServerBuilder</code> as normal: <code>serverBuilder.addService()</code>.</p>\n<p>The rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.</p>\n"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76621784,"answer_count":1,"score":0,"last_activity_date":1688570453,"creation_date":1688377913,"question_id":76603634,"body_markdown":"In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom [HttpFilter][1]:\r\n```\r\n@Filter(&quot;/**/legacy-service/**&quot;)\r\npublic class LegacyHttpProxyFilter implements HttpFilter {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-http-client&quot;)\r\n  private ProxyHttpClient httpClient;\r\n\r\n  @Override\r\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n    return httpClient.proxy(request);\r\n  }\r\n}\r\n```\r\nThe analogous approach for GRPC would be something similar to this with a [ServerInterceptor][2]:\r\n```\r\n@Singleton\r\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-grpc-client&quot;)\r\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\r\n\r\n  @Override\r\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\r\n    return null; // How to handle GRPC requests in a generic way?\r\n  }\r\n}\r\n```\r\nThe difference is that with a *ProxyHttpClient* we can forward any HTTP request, while this doesn&#39;t seem to be possible with *MyLegacyServiceStub* GRPC stub. It looks like the right approach is to implement a custom [ServerCallHandler][3] but I don&#39;t really see how, any example would be highly appreciated.\\\r\n\\\r\n**How can I forward any incoming GRPC request?**\r\n\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\r\n  [2]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\r\n  [3]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html","title":"Micronaut generic GRPC proxy","body":"<p>In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\" rel=\"nofollow noreferrer\">HttpFilter</a>:</p>\n<pre><code>@Filter(&quot;/**/legacy-service/**&quot;)\npublic class LegacyHttpProxyFilter implements HttpFilter {\n\n  @Inject\n  @Named(&quot;legacy-http-client&quot;)\n  private ProxyHttpClient httpClient;\n\n  @Override\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n    return httpClient.proxy(request);\n  }\n}\n</code></pre>\n<p>The analogous approach for GRPC would be something similar to this with a <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\" rel=\"nofollow noreferrer\">ServerInterceptor</a>:</p>\n<pre><code>@Singleton\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\n\n  @Inject\n  @Named(&quot;legacy-grpc-client&quot;)\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\n\n  @Override\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\n    return null; // How to handle GRPC requests in a generic way?\n  }\n}\n</code></pre>\n<p>The difference is that with a <em>ProxyHttpClient</em> we can forward any HTTP request, while this doesn't seem to be possible with <em>MyLegacyServiceStub</em> GRPC stub. It looks like the right approach is to implement a custom <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html\" rel=\"nofollow noreferrer\">ServerCallHandler</a> but I don't really see how, any example would be highly appreciated.<br />\n<br />\n<strong>How can I forward any incoming GRPC request?</strong></p>\n"},{"tags":["java","kotlin","gradle","gradle-plugin","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688565750,"post_id":76618459,"comment_id":135090674,"body_markdown":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion.","body":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1688569843,"post_id":76618459,"comment_id":135091729,"body_markdown":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects","body":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":1,"creation_date":1688569976,"post_id":76618459,"comment_id":135091765,"body_markdown":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing `apply(plugin = &quot;my-test-plugin&quot;)`. This should not be necessary as `id(&quot;my-test-plugin&quot;)` should already be applying the plugin. What do you get if you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing <code>apply(plugin = &quot;my-test-plugin&quot;)</code>. This should not be necessary as <code>id(&quot;my-test-plugin&quot;)</code> should already be applying the plugin. What do you get if you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1688574027,"post_id":76618459,"comment_id":135092786,"body_markdown":"Instead of specifying `my-test-plugin` inside of `pluginManagement { plugins {} }` instead add it in the top-level plugins block, i.e. `plugins { id(&quot;my-test-plugin&quot;) }`.","body":"Instead of specifying <code>my-test-plugin</code> inside of <code>pluginManagement { plugins {} }</code> instead add it in the top-level plugins block, i.e. <code>plugins { id(&quot;my-test-plugin&quot;) }</code>."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":1,"creation_date":1688634150,"post_id":76618459,"comment_id":135100992,"body_markdown":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the `plugins {\n\tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;)\n}` and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, `url = uri(&quot;file://${rootProject.projectDir}/sanny-gradle-plugins/build/repo&quot;)`, but I think even this is not needed. Will write the final working solutions later or","body":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the <code>plugins { \tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;) }</code> and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, <code>url = uri(&quot;file:&#47;&#47;${rootProject.projectDir}&#47;sanny-gradle-plugins&#47;b&zwnj;&#8203;uild&#47;repo&quot;)</code>, but I think even this is not needed. Will write the final working solutions later or"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688648780,"post_id":76618459,"comment_id":135104276,"body_markdown":"@AlexanderArutinyants So it is correctly applying the plugin when you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"@AlexanderArutinyants So it is correctly applying the plugin when you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1689318601,"post_id":76618459,"comment_id":135199243,"body_markdown":"Yes, @GreenSaguaro. So far with `plugins { id(&quot;my-test-plugin&quot;) }` and `pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;) }` it seems to apply the plugin and work correctly...","body":"Yes, @GreenSaguaro. So far with <code>plugins { id(&quot;my-test-plugin&quot;) }</code> and <code>pluginManagement {     includeBuild(&quot;sanny-gradle-plugins&quot;) }</code> it seems to apply the plugin and work correctly..."}],"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569944,"creation_date":1688545796,"question_id":76618459,"body_markdown":"I have a Gradle 8.1 project named `core` (It&#39;s a library, that will be published and used in other projects)\r\n\r\nInside the project, I have several modules (multi-project)\r\n\r\nOne of the modules is: `sanny-gradle-plugins`. It has a plugin\r\n\r\n`sanny-gradle-plugins`: `eu.sanny.core.gradle.plugins.MyTestPlugin`\r\n\r\n```kotlin\r\nclass MyTestPlugin : Plugin&lt;Settings&gt; {\r\n\toverride fun apply(settings: Settings) {\r\n\t\tprintln(&quot;Hello sanny 1&quot;)\r\n\t\tprintln(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\r\n\t\tsettings.gradle.beforeProject {\r\n\t\t\tprintln(&quot;Hello sanny 2&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe plugin is intended to be used for the `core` multi-module library itself and later on in other projects that will be dependant on the `core` library\r\n\r\nAnd `sanny-gradle-plugins/build.gradle.kts` file, looks like this:\r\n\r\n\r\n```kotlin\r\nplugins {\r\n\t`kotlin-dsl`\r\n\t`java-gradle-plugin`\r\n\t`maven-publish`\r\n}\r\n\r\ndependencies {\r\n\timplementation(kotlin(&quot;stdlib&quot;))\r\n\timplementation(gradleApi())\r\n}\r\n\r\ngradlePlugin {\r\n\tplugins {\r\n\t\tcreate(&quot;my-test-plugin&quot;) {\r\n\t\t\tid = &quot;my-test-plugin&quot;\r\n\t\t\tdisplayName = &quot;My Test Plugin&quot;\r\n\t\t\timplementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAlso I have `resources/META-INF/gradle-plugins/my-test-plugin.properties` file (just in case):\r\n\r\n```\r\nimplementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\r\n```\r\n\r\nI have a `settings.gradle.kts` file in the parent `core` project:\r\n\r\n```kotlin\r\npluginManagement {\r\n\tincludeBuild(&quot;sanny-gradle-plugins&quot;)\r\n\trepositories {\r\n\t\tmavenLocal()\r\n\t}\r\n\r\n\tplugins {\r\n\t\tval springBootPluginVersion: String by settings\r\n\t\tval kotlinPluginVersion: String by settings\r\n\r\n\t\tid(&quot;my-test-plugin&quot;)\r\n\t\tkotlin(&quot;jvm&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\r\n\t}\r\n\r\n    // when I&#39;m applying the plugin I&#39;m getting an error\r\n\tapply(plugin = &quot;my-test-plugin&quot;)\r\n\r\n...\r\n```\r\n\r\nwhen I build the project I get an error: `Plugin with id &#39;my-test-plugin&#39; not found.`\r\n\r\nI&#39;ve tried to put the `apply(plugin = &quot;my-test-plugin&quot;)` before and inside the `pluginManagement` section as well - it does not help.\r\n\r\nWhy is this error happening and how to fix it?","title":"Cannot apply custom gradle settings plugin to a settings.gradle in multi-project. Plugin with id &#39;&#39; not found, on a composite build","body":"<p>I have a Gradle 8.1 project named <code>core</code> (It's a library, that will be published and used in other projects)</p>\n<p>Inside the project, I have several modules (multi-project)</p>\n<p>One of the modules is: <code>sanny-gradle-plugins</code>. It has a plugin</p>\n<p><code>sanny-gradle-plugins</code>: <code>eu.sanny.core.gradle.plugins.MyTestPlugin</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyTestPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        println(&quot;Hello sanny 1&quot;)\n        println(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\n        settings.gradle.beforeProject {\n            println(&quot;Hello sanny 2&quot;)\n        }\n    }\n}\n\n</code></pre>\n<p>The plugin is intended to be used for the <code>core</code> multi-module library itself and later on in other projects that will be dependant on the <code>core</code> library</p>\n<p>And <code>sanny-gradle-plugins/build.gradle.kts</code> file, looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    `kotlin-dsl`\n    `java-gradle-plugin`\n    `maven-publish`\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib&quot;))\n    implementation(gradleApi())\n}\n\ngradlePlugin {\n    plugins {\n        create(&quot;my-test-plugin&quot;) {\n            id = &quot;my-test-plugin&quot;\n            displayName = &quot;My Test Plugin&quot;\n            implementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\n        }\n    }\n}\n</code></pre>\n<p>Also I have <code>resources/META-INF/gradle-plugins/my-test-plugin.properties</code> file (just in case):</p>\n<pre><code>implementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\n</code></pre>\n<p>I have a <code>settings.gradle.kts</code> file in the parent <code>core</code> project:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;)\n    repositories {\n        mavenLocal()\n    }\n\n    plugins {\n        val springBootPluginVersion: String by settings\n        val kotlinPluginVersion: String by settings\n\n        id(&quot;my-test-plugin&quot;)\n        kotlin(&quot;jvm&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\n    }\n\n    // when I'm applying the plugin I'm getting an error\n    apply(plugin = &quot;my-test-plugin&quot;)\n\n...\n</code></pre>\n<p>when I build the project I get an error: <code>Plugin with id 'my-test-plugin' not found.</code></p>\n<p>I've tried to put the <code>apply(plugin = &quot;my-test-plugin&quot;)</code> before and inside the <code>pluginManagement</code> section as well - it does not help.</p>\n<p>Why is this error happening and how to fix it?</p>\n"},{"tags":["java","testing","junit","integration","pitest"],"answers":[{"comments":[{"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"score":0,"creation_date":1688573830,"post_id":76621712,"comment_id":135092739,"body_markdown":"Yes, the tests are separated. To put they together will be so much time consuming, and problematic (because of configuration to use a simultor and etc). Do you see any form to fix it or is there a plan to add this feature?","body":"Yes, the tests are separated. To put they together will be so much time consuming, and problematic (because of configuration to use a simultor and etc). Do you see any form to fix it or is there a plan to add this feature?"}],"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688569904,"creation_date":1688569904,"answer_id":76621712,"question_id":76615514,"body_markdown":"It looks as if you have tests in a seperate module from the code. Pitest does not support this.","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>It looks as if you have tests in a seperate module from the code. Pitest does not support this.</p>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688569904,"creation_date":1688500099,"question_id":76615514,"body_markdown":"I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:\r\n\r\nSkipping project because:\r\n[INFO]   - Project has no tests, it is empty.\r\n\r\n\r\nResearching we found out could be something with the project structure: https://github.com/hcoles/pitest/issues/361\r\n\r\nPOM with Pitest:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputFormats&gt;\r\n\t\t\t&lt;outputFormat&gt;XML&lt;/outputFormat&gt;\r\n\t\t\t&lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\r\n\t\t&lt;/outputFormats&gt;\r\n\t\t&lt;targetClasses&gt;\r\n\t\t\t&lt;!-- Update with your target classes/packages for mutation testing --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.operations&lt;/param&gt;\r\n\t\t&lt;/targetClasses&gt;\r\n\t\t&lt;targetTests&gt;\r\n\t\t\t&lt;!-- Update with your test classes/packages --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\r\n\t\t&lt;/targetTests&gt;\r\n\t\t&lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\r\n\t\t&lt;!--We want each report to override the former one--&gt;\r\n\t\t&lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;pitest-mutation-testing&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;mutationCoverage&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n&lt;reporting&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t\t\t&lt;reportSets&gt;\r\n\t\t\t\t&lt;reportSet&gt;\r\n\t\t\t\t\t&lt;reports&gt;\r\n\t\t\t\t\t\t&lt;report&gt;report&lt;/report&gt;\r\n\t\t\t\t\t&lt;/reports&gt;\r\n\t\t\t\t&lt;/reportSet&gt;\r\n\t\t\t&lt;/reportSets&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/reporting&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nProject Structure\r\n\r\n```\r\n├───CompanyProjectSaaS_Commons\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───commons\r\n│   │                       ├───pojo\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───br\r\n│       │   │   └───com\r\n│       │   │       └───company\r\n│       │   │           └───project\r\n│       │   │               └───commons\r\n│       │   │                   ├───pojo\r\n│       │   │                   └───utils\r\n│       │   └───test\r\n│       │       └───java\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       ├───compile\r\n│       │       │   └───default-compile\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───pit-reports\r\n│       │   ├───202307041032\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041034\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041048\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041103\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041127\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───br.com.company.project.commons.utils\r\n│       │   └───br.com.company.project.commons.utils.test\r\n│       └───test-classes\r\n│           └───test\r\n│               └───java\r\n├───CompanyProjectSaaS_Constants\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───constants\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───constants\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Grpc\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───main\r\n│   │       ├───java\r\n│   │       │   └───br\r\n│   │       │       └───com\r\n│   │       │           └───company\r\n│   │       │               └───project\r\n│   │       │                   └───grpc\r\n│   │       └───resources\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_GrpcServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───grpc\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_JUnitTests\r\n│   ├───.settings\r\n│   ├───conf\r\n│   ├───simulator\r\n│   │   └───cryptoki_simulator\r\n│   │       ├───admin\r\n│   │       │   └───token\r\n│   │       ├───admin.linux\r\n│   │       │   └───token\r\n│   │       └───slot0\r\n│   │           └───token\r\n│   ├───src\r\n│   │   └───test\r\n│   │       └───java\r\n│   │           └───br\r\n│   │               └───com\r\n│   │                   └───company\r\n│   │                       └───project\r\n│   │                           └───junit\r\n│   │                               └───tests\r\n│   │                                   └───utils\r\n│   └───target\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───surefire-reports\r\n│       └───test-classes\r\n│           ├───br\r\n│           │   └───com\r\n│           │       └───company\r\n│           │           └───project\r\n│           │               ├───commons\r\n│           │               │   └───utils\r\n│           │               └───junit\r\n│           │                   └───tests\r\n│           │                       └───utils\r\n│           └───test\r\n│               └───java\r\n│                   ├───br\r\n│                   │   └───com\r\n│                   │       └───company\r\n│                   │           └───project\r\n│                   │               └───junit\r\n│                   │                   └───tests\r\n│                   ├───commons\r\n│                   │   └───utils\r\n│                   └───junit\r\n│                       └───tests\r\n│                           └───utils\r\n├───CompanyprojectSaaS_Logger\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───logger\r\n│   │                       ├───pojo\r\n│   │                       ├───report\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───logger\r\n│       │                       ├───pojo\r\n│       │                       ├───report\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       ├───devices\r\n│   │                       ├───support\r\n│   │                       ├───token\r\n│   │                       │   └───asn1\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       ├───devices\r\n│       │                       ├───support\r\n│       │                       ├───token\r\n│       │                       │   └───asn1\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11SunWrapper\r\n│   ├───.settings\r\n│   ├───bin\r\n│   │   └───sun\r\n│   │       └───security\r\n│   │           └───pkcs11\r\n│   ├───module\r\n│   ├───src\r\n│   │   ├───jdk\r\n│   │   │   └───internal\r\n│   │   │       ├───misc\r\n│   │   │       ├───ref\r\n│   │   │       └───util\r\n│   │   └───sun\r\n│   │       ├───net\r\n│   │       │   └───www\r\n│   │       ├───nio\r\n│   │       │   ├───ch\r\n│   │       │   └───cs\r\n│   │       ├───security\r\n│   │       │   ├───action\r\n│   │       │   ├───internal\r\n│   │       │   │   ├───interfaces\r\n│   │       │   │   └───spec\r\n│   │       │   ├───jca\r\n│   │       │   ├───pkcs\r\n│   │       │   ├───pkcs11\r\n│   │       │   │   └───wrapper\r\n│   │       │   ├───provider\r\n│   │       │   ├───rsa\r\n│   │       │   ├───util\r\n│   │       │   └───x509\r\n│   │       └───util\r\n│   │           └───calendar\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───jdk\r\n│       │   │   └───internal\r\n│       │   │       ├───misc\r\n│       │   │       ├───ref\r\n│       │   │       └───util\r\n│       │   └───sun\r\n│       │       ├───net\r\n│       │       │   └───www\r\n│       │       ├───nio\r\n│       │       │   ├───ch\r\n│       │       │   └───cs\r\n│       │       ├───security\r\n│       │       │   ├───action\r\n│       │       │   ├───internal\r\n│       │       │   │   ├───interfaces\r\n│       │       │   │   └───spec\r\n│       │       │   ├───jca\r\n│       │       │   ├───pkcs\r\n│       │       │   ├───pkcs11\r\n│       │       │   │   └───wrapper\r\n│       │       │   ├───provider\r\n│       │       │   ├───rsa\r\n│       │       │   ├───util\r\n│       │       │   └───x509\r\n│       │       └───util\r\n│       │           └───calendar\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11Wrapper\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       └───wrapper\r\n│   │                           └───sun\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       └───wrapper\r\n│       │                           └───sun\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Processor\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───processor\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───processor\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Processors_Builder\r\n│   ├───.settings\r\n│   └───target\r\n│       └───antrun\r\n├───CompanyprojectSaaS_Processor_Example\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   ├───operations\r\n│   │                   │   └───jwedecrypt\r\n│   │                   └───processor\r\n│   │                       └───jwedecrypt\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   ├───operations\r\n│       │                   │   └───jwedecrypt\r\n│       │                   └───processor\r\n│       │                       └───jwedecrypt\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n\r\n[...] \r\n\r\n## There is a lot of this Processors, the structure are always the same as above.\r\n\r\n[...]\r\n\r\n├───CompanyprojectSaaS_RestServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───rest\r\n│   │                           ├───controller\r\n│   │                           └───services\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───rest\r\n│       │                           ├───controller\r\n│       │                           └───services\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Server\r\n│   ├───.settings\r\n│   ├───config\r\n│   ├───logs\r\n│   │   └───history\r\n│   ├───processors\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   └───target\r\n│       ├───antrun\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n└───CompanyProjectSaaS_Server_Builder\r\n    ├───.settings\r\n    ├───build\r\n    │   ├───Depends\r\n    │   │   ├───docs\r\n    │   │   └───company_project\r\n    │   │       ├───config\r\n    │   │       ├───linux\r\n    │   │       ├───processors\r\n    │   │       └───windows\r\n    │   │           ├───x64\r\n    │   │           └───x86\r\n    │   ├───installer_files\r\n    │   └───installer_out\r\n    ├───dist\r\n    └───target\r\n        └───antrun\r\n```\r\n\r\n\r\n\r\n\r\nI tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn&#39;t follow this structure.\r\n","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:</p>\n<p>Skipping project because:\n[INFO]   - Project has no tests, it is empty.</p>\n<p>Researching we found out could be something with the project structure: <a href=\"https://github.com/hcoles/pitest/issues/361\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/issues/361</a></p>\n<p>POM with Pitest:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputFormats&gt;\n            &lt;outputFormat&gt;XML&lt;/outputFormat&gt;\n            &lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\n        &lt;/outputFormats&gt;\n        &lt;targetClasses&gt;\n            &lt;!-- Update with your target classes/packages for mutation testing --&gt;\n            &lt;param&gt;br.com.company.project.operations&lt;/param&gt;\n        &lt;/targetClasses&gt;\n        &lt;targetTests&gt;\n            &lt;!-- Update with your test classes/packages --&gt;\n            &lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\n        &lt;/targetTests&gt;\n        &lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\n        &lt;!--We want each report to override the former one--&gt;\n        &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pitest-mutation-testing&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;mutationCoverage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n            &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n            &lt;version&gt;1.14.2&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;report&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Project Structure</p>\n<pre><code>├───CompanyProjectSaaS_Commons\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───commons\n│   │                       ├───pojo\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   ├───br\n│       │   │   └───com\n│       │   │       └───company\n│       │   │           └───project\n│       │   │               └───commons\n│       │   │                   ├───pojo\n│       │   │                   └───utils\n│       │   └───test\n│       │       └───java\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       ├───compile\n│       │       │   └───default-compile\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───pit-reports\n│       │   ├───202307041032\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041034\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041048\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041103\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041127\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───br.com.company.project.commons.utils\n│       │   └───br.com.company.project.commons.utils.test\n│       └───test-classes\n│           └───test\n│               └───java\n├───CompanyProjectSaaS_Constants\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───constants\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───constants\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Grpc\n│   ├───.settings\n│   ├───src\n│   │   └───main\n│   │       ├───java\n│   │       │   └───br\n│   │       │       └───com\n│   │       │           └───company\n│   │       │               └───project\n│   │       │                   └───grpc\n│   │       └───resources\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_GrpcServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───grpc\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_JUnitTests\n│   ├───.settings\n│   ├───conf\n│   ├───simulator\n│   │   └───cryptoki_simulator\n│   │       ├───admin\n│   │       │   └───token\n│   │       ├───admin.linux\n│   │       │   └───token\n│   │       └───slot0\n│   │           └───token\n│   ├───src\n│   │   └───test\n│   │       └───java\n│   │           └───br\n│   │               └───com\n│   │                   └───company\n│   │                       └───project\n│   │                           └───junit\n│   │                               └───tests\n│   │                                   └───utils\n│   └───target\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───surefire-reports\n│       └───test-classes\n│           ├───br\n│           │   └───com\n│           │       └───company\n│           │           └───project\n│           │               ├───commons\n│           │               │   └───utils\n│           │               └───junit\n│           │                   └───tests\n│           │                       └───utils\n│           └───test\n│               └───java\n│                   ├───br\n│                   │   └───com\n│                   │       └───company\n│                   │           └───project\n│                   │               └───junit\n│                   │                   └───tests\n│                   ├───commons\n│                   │   └───utils\n│                   └───junit\n│                       └───tests\n│                           └───utils\n├───CompanyprojectSaaS_Logger\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───logger\n│   │                       ├───pojo\n│   │                       ├───report\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───logger\n│       │                       ├───pojo\n│       │                       ├───report\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       ├───devices\n│   │                       ├───support\n│   │                       ├───token\n│   │                       │   └───asn1\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       ├───devices\n│       │                       ├───support\n│       │                       ├───token\n│       │                       │   └───asn1\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11SunWrapper\n│   ├───.settings\n│   ├───bin\n│   │   └───sun\n│   │       └───security\n│   │           └───pkcs11\n│   ├───module\n│   ├───src\n│   │   ├───jdk\n│   │   │   └───internal\n│   │   │       ├───misc\n│   │   │       ├───ref\n│   │   │       └───util\n│   │   └───sun\n│   │       ├───net\n│   │       │   └───www\n│   │       ├───nio\n│   │       │   ├───ch\n│   │       │   └───cs\n│   │       ├───security\n│   │       │   ├───action\n│   │       │   ├───internal\n│   │       │   │   ├───interfaces\n│   │       │   │   └───spec\n│   │       │   ├───jca\n│   │       │   ├───pkcs\n│   │       │   ├───pkcs11\n│   │       │   │   └───wrapper\n│   │       │   ├───provider\n│   │       │   ├───rsa\n│   │       │   ├───util\n│   │       │   └───x509\n│   │       └───util\n│   │           └───calendar\n│   └───target\n│       ├───classes\n│       │   ├───jdk\n│       │   │   └───internal\n│       │   │       ├───misc\n│       │   │       ├───ref\n│       │   │       └───util\n│       │   └───sun\n│       │       ├───net\n│       │       │   └───www\n│       │       ├───nio\n│       │       │   ├───ch\n│       │       │   └───cs\n│       │       ├───security\n│       │       │   ├───action\n│       │       │   ├───internal\n│       │       │   │   ├───interfaces\n│       │       │   │   └───spec\n│       │       │   ├───jca\n│       │       │   ├───pkcs\n│       │       │   ├───pkcs11\n│       │       │   │   └───wrapper\n│       │       │   ├───provider\n│       │       │   ├───rsa\n│       │       │   ├───util\n│       │       │   └───x509\n│       │       └───util\n│       │           └───calendar\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11Wrapper\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       └───wrapper\n│   │                           └───sun\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       └───wrapper\n│       │                           └───sun\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Processor\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───processor\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───processor\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Processors_Builder\n│   ├───.settings\n│   └───target\n│       └───antrun\n├───CompanyprojectSaaS_Processor_Example\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   ├───operations\n│   │                   │   └───jwedecrypt\n│   │                   └───processor\n│   │                       └───jwedecrypt\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   ├───operations\n│       │                   │   └───jwedecrypt\n│       │                   └───processor\n│       │                       └───jwedecrypt\n│       ├───generated-sources\n│       │   └───annotations\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n\n[...] \n\n## There is a lot of this Processors, the structure are always the same as above.\n\n[...]\n\n├───CompanyprojectSaaS_RestServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───rest\n│   │                           ├───controller\n│   │                           └───services\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───rest\n│       │                           ├───controller\n│       │                           └───services\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Server\n│   ├───.settings\n│   ├───config\n│   ├───logs\n│   │   └───history\n│   ├───processors\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   └───target\n│       ├───antrun\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n└───CompanyProjectSaaS_Server_Builder\n    ├───.settings\n    ├───build\n    │   ├───Depends\n    │   │   ├───docs\n    │   │   └───company_project\n    │   │       ├───config\n    │   │       ├───linux\n    │   │       ├───processors\n    │   │       └───windows\n    │   │           ├───x64\n    │   │           └───x86\n    │   ├───installer_files\n    │   └───installer_out\n    ├───dist\n    └───target\n        └───antrun\n</code></pre>\n<p>I tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn't follow this structure.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7840,"page":328,"page_size":100}
