{"items":[{"tags":["java","android","flutter","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":25581338,"reputation":25,"user_id":19359840,"display_name":"Mateus Vitor"},"score":0,"creation_date":1667904335,"post_id":74255944,"comment_id":131273666,"body_markdown":"It worked here, thanks a lot for the tip!","body":"It worked here, thanks a lot for the tip!"}],"tags":[],"owner":{"account_id":13449710,"reputation":26,"user_id":9704826,"display_name":"jeli jeli"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667156662,"creation_date":1667156662,"answer_id":74255944,"question_id":74199495,"body_markdown":"Remove in users folder &#39;.gardle&#39; and &#39;.android&#39; cache folder. This is my solutions and it works","title":"My project&#39;s build.gradle has an error in &#39;:app&#39;","body":"<p>Remove in users folder '.gardle' and '.android' cache folder. This is my solutions and it works</p>\n"}],"owner":{"account_id":25581338,"reputation":25,"user_id":19359840,"display_name":"Mateus Vitor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74255944,"answer_count":1,"score":0,"last_activity_date":1667156662,"creation_date":1666727485,"question_id":74199495,"body_markdown":"I&#39;m having the following problem with Build.Gradle when I try to build my application:\r\n\r\n&gt; Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\r\n&gt; Running Gradle task &#39;assembleDebug&#39;...\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * Where: Build file &#39;C:\\Users\\mateu\\StudioProjects\\Coquinha\\android\\app\\build.gradle&#39;\r\n&gt; line: 66\r\n&gt; \r\n&gt; * What went wrong: A problem occurred evaluating project &#39;:app&#39;.\r\n&gt; &gt; java.lang.NullPointerException (no error message)\r\n&gt; \r\n&gt; * Try:\r\n&gt; &gt; Run with --stacktrace option to get the stack trace.\r\n&gt; &gt; Run with --info or --debug option to get more log output.\r\n&gt; &gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 2s Exception: Gradle task assembleDebug failed with\r\n&gt; exit code 1\r\n\r\nBelow is my Build.Gradle...\r\n\r\n            def localProperties = new Properties()\r\n    def localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\n    if (localPropertiesFile.exists()) {\r\n        localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n            localProperties.load(reader)\r\n        }\r\n    }\r\n    \r\n    def flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\n    if (flutterRoot == null) {\r\n        throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n    }\r\n    \r\n    def flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\n    if (flutterVersionCode == null) {\r\n        flutterVersionCode = &#39;1&#39;\r\n    }\r\n    \r\n    def flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\n    if (flutterVersionName == null) {\r\n        flutterVersionName = &#39;1.0&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n    \r\n    def keystoreProperties = new Properties()\r\n    def keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\n    if (keystorePropertiesFile.exists()) {\r\n        keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion flutter.compileSdkVersion\r\n        ndkVersion flutter.ndkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    \r\n        sourceSets {\r\n            main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n        }\r\n    \r\n        defaultConfig {\r\n            // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n            applicationId &quot;com.example.coquinha&quot;\r\n            // You can update the following values to match your application needs.\r\n            // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\n            minSdkVersion flutter.minSdkVersion\r\n            targetSdkVersion flutter.targetSdkVersion\r\n            versionCode flutterVersionCode.toInteger()\r\n            versionName flutterVersionName\r\n        }\r\n    \r\n        signingConfigs {\r\n            release {\r\n                keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                storeFile keystoreProperties [&#39;storeFile&#39;] ? file(keystoreProperties[storeFile]) : null\r\n                storePassword keystoreProperties[&#39;storePassword&#39;]\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                // TODO: Add your own signing config for the release build.\r\n                // Signing with the debug keys for now, so `flutter run --release` works.\r\n                // signingConfig signingConfigs.debug\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    }\r\n    \r\n    flutter {\r\n        source &#39;../..&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    }\r\n\r\nApparently the error is in the part of the code I highlighted below:\r\n\r\n    signingConfigs {\r\n        release {\r\n            keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n            keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n            storeFile keystoreProperties [&#39;storeFile&#39;] ? file(keystoreProperties[storeFile]) : null\r\n            storePassword keystoreProperties[&#39;storePassword&#39;]\r\n        }\r\n    }","title":"My project&#39;s build.gradle has an error in &#39;:app&#39;","body":"<p>I'm having the following problem with Build.Gradle when I try to build my application:</p>\n<blockquote>\n<p>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where: Build file 'C:\\Users\\mateu\\StudioProjects\\Coquinha\\android\\app\\build.gradle'\nline: 66</p>\n</li>\n<li><p>What went wrong: A problem occurred evaluating project ':app'.</p>\n</li>\n</ul>\n<blockquote>\n<p>java.lang.NullPointerException (no error message)</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 2s Exception: Gradle task assembleDebug failed with\nexit code 1</p>\n</blockquote>\n<p>Below is my Build.Gradle...</p>\n<pre><code>        def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.coquinha&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties ['storeFile'] ? file(keystoreProperties[storeFile]) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            // signingConfig signingConfigs.debug\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n</code></pre>\n<p>Apparently the error is in the part of the code I highlighted below:</p>\n<pre><code>signingConfigs {\n    release {\n        keyAlias keystoreProperties['keyAlias']\n        keyPassword keystoreProperties['keyPassword']\n        storeFile keystoreProperties ['storeFile'] ? file(keystoreProperties[storeFile]) : null\n        storePassword keystoreProperties['storePassword']\n    }\n}\n</code></pre>\n"},{"tags":["java","server","client","file-handling","delete-file"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667151392,"post_id":74255090,"comment_id":131097797,"body_markdown":"You don&#39;t show any information on what your server did do for each request. Use a debugger to step through your server or adding a simple print statement should tell you what the server actually did for the each request which you can match up to the test harness responses: `System.out.println(&quot;action=&quot;+words[0]+&quot; isSuccessfulAction=&quot;+isSuccessfulAction);` . Don&#39;t use string concatenation for path names, use `new File(path,fileName)`","body":"You don&#39;t show any information on what your server did do for each request. Use a debugger to step through your server or adding a simple print statement should tell you what the server actually did for the each request which you can match up to the test harness responses: <code>System.out.println(&quot;action=&quot;+words[0]+&quot; isSuccessfulAction=&quot;+isSuccessfulAction);</code> . Don&#39;t use string concatenation for path names, use <code>new File(path,fileName)</code>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667151404,"post_id":74255090,"comment_id":131097804,"body_markdown":"In the server&#39;s main loop, why do you have `output.writeUTF(...)` in both the `PUT` case AND after the `switch`?","body":"In the server&#39;s main loop, why do you have <code>output.writeUTF(...)</code> in both the <code>PUT</code> case AND after the <code>switch</code>?"},{"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"score":0,"creation_date":1667156489,"post_id":74255090,"comment_id":131098947,"body_markdown":"@DuncG No, I didn&#39;t add any info on what the server did mainly because the project description didn&#39;t require any. If I included information they didn&#39;t specify, it would also cause the test to fail. However I&#39;ll give it a go to see I can locate if there is a problem.","body":"@DuncG No, I didn&#39;t add any info on what the server did mainly because the project description didn&#39;t require any. If I included information they didn&#39;t specify, it would also cause the test to fail. However I&#39;ll give it a go to see I can locate if there is a problem."},{"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"score":0,"creation_date":1667156537,"post_id":74255090,"comment_id":131098959,"body_markdown":"@JimGarrison Good spotting! That was a mistake from my side. I&#39;ve updated the post to reflect this.","body":"@JimGarrison Good spotting! That was a mistake from my side. I&#39;ve updated the post to reflect this."}],"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667156605,"creation_date":1667149577,"question_id":74255090,"body_markdown":"**Project Description**\r\nI&#39;m currently working a project via JetBrains Academy&#39;s website called File Server.\r\nIn a quick summary, have a server which can either:\r\n\r\n1) Get the contents of a files\r\n2) Create a file\r\n3) Delete a file\r\n\r\nBoth the server should always be running until it receives the command &quot;exit&quot; in the form of a string.\r\nHowever, the client will only run once, and when it&#39;s completed its actions (i.e. get, create, or delete), it will terminate.\r\n\r\n**Problem**\r\nThe problem I have is when it comes to the delete function. In the test results from JetBrains, it is saying that the file is not found (entire output below).\r\n\r\n    Wrong answer in test #1\r\n\r\n    You should delete a file from /server/data folder if the user requests it!\r\n\r\n    Please find below the output of your program during this failed test.\r\n    Note that the &#39;&gt;&#39; character indicates the beginning of the input line.\r\n\r\n    ---\r\n\r\n    Server started!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; exit\r\n    The request was sent.\r\n\r\n    Server started!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    Enter file content: &gt; IDIDW22\r\n    The request was sent.\r\n    The response says that the file was created!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    Enter file content: &gt; IDIDW22\r\n    The request was sent.\r\n    The response says that creating the file was forbidden!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The content of the file is: IDIDW22 \r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\r\n    Enter filename: &gt; test_purpose_2JK4NCL.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\r\n    Enter filename: &gt; test_purpose_RB3JXD.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n\r\nI&#39;ve literally recreated the scenario as shown above, and everything works perfectly on my local machine.\r\n\r\nBelow is the output that I get from my IDE when I run the delete function, which is what I expect from JetBrains testing.\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): 3\r\n    Enter filename: test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The response says that the file was successfully deleted!\r\n\r\nIt&#39;s frustrating me because I do not see what the issue might be. I thought it might be because of permission issues, so I tried it on my laptop instead of my work laptop, but still get the same issues. However, I realized though I have no issues creating a file so that shouldn&#39;t be a problem.\r\n\r\nPart of me thinks it might be something with JetBrains testing procedure.\r\n\r\nBelow is the code for the Server, and Client. There were also enums but I&#39;ve left it out to avoid clutter.\r\n\r\n```\r\n// Server\r\npublic class Main {\r\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        createDirectory(path);\r\n\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 23456;\r\n\r\n        boolean endServer = false;\r\n\r\n        try (ServerSocket server = new ServerSocket(port, 50, InetAddress.getByName(address))) {\r\n            System.out.println(&quot;\\nServer started!&quot;);\r\n\r\n            do {\r\n                Socket socket = server.accept();\r\n                DataInputStream input = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n\r\n                String message = input.readUTF();\r\n\r\n                if (message.equals(&quot;exit&quot;)) {\r\n                    endServer = true;\r\n                } else {\r\n                    String[] words = message.split(&quot; &quot;, 3);\r\n                    boolean isSuccessfulAction = false;\r\n                    HTTP_COMMANDS c = HTTP_COMMANDS.valueOf(words[0]);\r\n                    switch (c) {\r\n                        case PUT:\r\n                            isSuccessfulAction = createFile(path, words[1], words[2]);\r\n                            break;\r\n                        case GET:\r\n                            isSuccessfulAction = getFile(path, words[1]);\r\n                            break;\r\n                        case DELETE:\r\n                            isSuccessfulAction = deleteFile(path, words[1]);\r\n                    }\r\n                    output.writeUTF(String.valueOf(returnHTTPCode(HTTP_COMMANDS.valueOf(words[0]), isSuccessfulAction)));\r\n                }\r\n            } while (!endServer);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Could not start sever!&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean deleteFile(String path, String fileName) {\r\n        File file = new File(path + fileName);\r\n        return file.delete();\r\n    }\r\n\r\n    public static boolean getFile(String path, String fileName) {\r\n        File file = new File(path + fileName);\r\n        return file.exists();\r\n    }\r\n\r\n    public static boolean createFile(String path, String fileName, String fileContent) {\r\n        try {\r\n            if (new File(path, fileName).exists()) {\r\n                return false;\r\n            } else {\r\n                File newFile = new File(path + fileName);\r\n                FileWriter writer = new FileWriter(newFile);\r\n                writer.write(fileContent);\r\n                writer.close();\r\n                return true;\r\n            }\r\n        } catch (IOException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static int returnHTTPCode(HTTP_COMMANDS request, boolean actionSuccessful) {\r\n        if (actionSuccessful) {\r\n            return HTTP_CODES.SUCCESS.getCode();\r\n        } else if (request.equals(HTTP_COMMANDS.PUT)) {\r\n            return HTTP_CODES.FAIL_PUT.getCode();\r\n        } else if (request.equals(HTTP_COMMANDS.GET)) {\r\n            return HTTP_CODES.FAIL_GET.getCode();\r\n        } else {\r\n            return HTTP_CODES.FAIL_DELETE.getCode();\r\n        }\r\n    }\r\n\r\n    public static void createDirectory(String path) {\r\n        File fileDirectory = new File(path);\r\n        if (!fileDirectory.exists()) {\r\n            fileDirectory.mkdirs();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n// Client\r\npublic class Client {\r\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        // Sleep used because it seems JetBrains is executing the client main first instead of the server main.\r\n        // Delayed startup to ensure that server will be running first instead of the client\r\n        TimeUnit.SECONDS.sleep(1);\r\n\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 23456;\r\n\r\n        String command;\r\n        String fileName;\r\n\r\n        try (Socket socket = new Socket(InetAddress.getByName(address), port)) {\r\n            //boolean endServer = false;\r\n            //do {\r\n            DataInputStream input = new DataInputStream(socket.getInputStream());\r\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n\r\n            System.out.print(&quot;\\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &quot;);\r\n            command = scanner.nextLine();\r\n\r\n            if (HTTP_COMMANDS.forString(command).equals(HTTP_COMMANDS.EXIT)) {\r\n                System.out.println(&quot;The request was sent.&quot;);\r\n                output.writeUTF(command);\r\n                //endServer = true;\r\n            } else {\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                fileName = scanner.nextLine();\r\n\r\n                switch (HTTP_COMMANDS.forString(command)) {\r\n                    case GET:\r\n                        output.writeUTF(get(fileName));\r\n                        break;\r\n                    case PUT:\r\n                        String message = add(fileName);\r\n                        output.writeUTF(message);\r\n                        break;\r\n                    case DELETE:\r\n                        output.writeUTF(delete(fileName));\r\n                        break;\r\n                }\r\n                System.out.println(&quot;The request was sent.&quot;);\r\n                String code = input.readUTF();\r\n                printMessage(HTTP_COMMANDS.forString(command), code, fileName);\r\n                input.close();\r\n                output.close();\r\n                socket.close();\r\n            }\r\n            //} while (!endServer);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Could not connect to server!&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public static void printMessage(HTTP_COMMANDS request, String code, String fileName) {\r\n        int number = Integer.parseInt(code);\r\n        if (number == HTTP_CODES.SUCCESS.getCode()) {\r\n            if (request.equals(HTTP_COMMANDS.PUT)) {\r\n                System.out.print(&quot;The response says that the file was created!&quot;);\r\n            } else if (request.equals(HTTP_COMMANDS.GET)) {\r\n                System.out.print(&quot;The content of the file is: &quot;);\r\n                printFromFile(fileName);\r\n            } else if (request.equals(HTTP_COMMANDS.DELETE)) {\r\n                System.out.print(&quot;The response says that the file was successfully deleted!&quot;);\r\n            }\r\n        } else {\r\n            if (request.equals(HTTP_COMMANDS.PUT)) {\r\n                System.out.print(&quot;The response says that creating the file was forbidden!&quot;);\r\n            } else if (request.equals(HTTP_COMMANDS.DELETE) || request.equals(HTTP_COMMANDS.GET) ) {\r\n                System.out.print(&quot;The response says that the file was not found!&quot;);\r\n            }\r\n        }\r\n        System.out.print(&#39;\\n&#39;);\r\n    }\r\n\r\n    public static void printFromFile(String fileName) {\r\n        try {\r\n            File file = new File(path + fileName);\r\n            Scanner scannerGet = new Scanner(file);\r\n            while (scannerGet.hasNextLine()) {\r\n                System.out.print(scannerGet.nextLine() + &quot; &quot;);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(fileName + &quot; not found!&quot;);\r\n        }\r\n    }\r\n\r\n    public static String add(String fileName) {\r\n        System.out.print(&quot;Enter file content: &quot;);\r\n        String fileContent = scanner.nextLine();\r\n        return HTTP_COMMANDS.PUT + &quot; &quot; + fileName + &quot; &quot; + fileContent;\r\n    }\r\n\r\n    public static String get(String fileName) {\r\n        return HTTP_COMMANDS.GET + &quot; &quot; + fileName;\r\n    }\r\n\r\n    public static String delete(String fileName) {\r\n        return HTTP_COMMANDS.DELETE + &quot; &quot; + fileName;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Why am I able to delete a file on my local machine, but failing to pass JetBrain&#39;s Academy internal tests?","body":"<p><strong>Project Description</strong>\nI'm currently working a project via JetBrains Academy's website called File Server.\nIn a quick summary, have a server which can either:</p>\n<ol>\n<li>Get the contents of a files</li>\n<li>Create a file</li>\n<li>Delete a file</li>\n</ol>\n<p>Both the server should always be running until it receives the command &quot;exit&quot; in the form of a string.\nHowever, the client will only run once, and when it's completed its actions (i.e. get, create, or delete), it will terminate.</p>\n<p><strong>Problem</strong>\nThe problem I have is when it comes to the delete function. In the test results from JetBrains, it is saying that the file is not found (entire output below).</p>\n<pre><code>Wrong answer in test #1\n\nYou should delete a file from /server/data folder if the user requests it!\n\nPlease find below the output of your program during this failed test.\nNote that the '&gt;' character indicates the beginning of the input line.\n\n---\n\nServer started!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; exit\nThe request was sent.\n\nServer started!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nEnter file content: &gt; IDIDW22\nThe request was sent.\nThe response says that the file was created!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nEnter file content: &gt; IDIDW22\nThe request was sent.\nThe response says that creating the file was forbidden!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe content of the file is: IDIDW22 \n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\nEnter filename: &gt; test_purpose_2JK4NCL.txt\nThe request was sent.\nThe response says that the file was not found!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\nEnter filename: &gt; test_purpose_RB3JXD.txt\nThe request was sent.\nThe response says that the file was not found!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe response says that the file was not found!\n</code></pre>\n<p>I've literally recreated the scenario as shown above, and everything works perfectly on my local machine.</p>\n<p>Below is the output that I get from my IDE when I run the delete function, which is what I expect from JetBrains testing.</p>\n<pre><code>Enter action (1 - get a file, 2 - create a file, 3 - delete a file): 3\nEnter filename: test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe response says that the file was successfully deleted!\n</code></pre>\n<p>It's frustrating me because I do not see what the issue might be. I thought it might be because of permission issues, so I tried it on my laptop instead of my work laptop, but still get the same issues. However, I realized though I have no issues creating a file so that shouldn't be a problem.</p>\n<p>Part of me thinks it might be something with JetBrains testing procedure.</p>\n<p>Below is the code for the Server, and Client. There were also enums but I've left it out to avoid clutter.</p>\n<pre><code>// Server\npublic class Main {\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        createDirectory(path);\n\n        String address = &quot;127.0.0.1&quot;;\n        int port = 23456;\n\n        boolean endServer = false;\n\n        try (ServerSocket server = new ServerSocket(port, 50, InetAddress.getByName(address))) {\n            System.out.println(&quot;\\nServer started!&quot;);\n\n            do {\n                Socket socket = server.accept();\n                DataInputStream input = new DataInputStream(socket.getInputStream());\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n                String message = input.readUTF();\n\n                if (message.equals(&quot;exit&quot;)) {\n                    endServer = true;\n                } else {\n                    String[] words = message.split(&quot; &quot;, 3);\n                    boolean isSuccessfulAction = false;\n                    HTTP_COMMANDS c = HTTP_COMMANDS.valueOf(words[0]);\n                    switch (c) {\n                        case PUT:\n                            isSuccessfulAction = createFile(path, words[1], words[2]);\n                            break;\n                        case GET:\n                            isSuccessfulAction = getFile(path, words[1]);\n                            break;\n                        case DELETE:\n                            isSuccessfulAction = deleteFile(path, words[1]);\n                    }\n                    output.writeUTF(String.valueOf(returnHTTPCode(HTTP_COMMANDS.valueOf(words[0]), isSuccessfulAction)));\n                }\n            } while (!endServer);\n        } catch (IOException e) {\n            System.out.println(&quot;Could not start sever!&quot;);\n        }\n    }\n\n    public static boolean deleteFile(String path, String fileName) {\n        File file = new File(path + fileName);\n        return file.delete();\n    }\n\n    public static boolean getFile(String path, String fileName) {\n        File file = new File(path + fileName);\n        return file.exists();\n    }\n\n    public static boolean createFile(String path, String fileName, String fileContent) {\n        try {\n            if (new File(path, fileName).exists()) {\n                return false;\n            } else {\n                File newFile = new File(path + fileName);\n                FileWriter writer = new FileWriter(newFile);\n                writer.write(fileContent);\n                writer.close();\n                return true;\n            }\n        } catch (IOException e) {\n            return false;\n        }\n    }\n\n    public static int returnHTTPCode(HTTP_COMMANDS request, boolean actionSuccessful) {\n        if (actionSuccessful) {\n            return HTTP_CODES.SUCCESS.getCode();\n        } else if (request.equals(HTTP_COMMANDS.PUT)) {\n            return HTTP_CODES.FAIL_PUT.getCode();\n        } else if (request.equals(HTTP_COMMANDS.GET)) {\n            return HTTP_CODES.FAIL_GET.getCode();\n        } else {\n            return HTTP_CODES.FAIL_DELETE.getCode();\n        }\n    }\n\n    public static void createDirectory(String path) {\n        File fileDirectory = new File(path);\n        if (!fileDirectory.exists()) {\n            fileDirectory.mkdirs();\n        }\n    }\n}\n</code></pre>\n<pre><code>// Client\npublic class Client {\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // Sleep used because it seems JetBrains is executing the client main first instead of the server main.\n        // Delayed startup to ensure that server will be running first instead of the client\n        TimeUnit.SECONDS.sleep(1);\n\n        String address = &quot;127.0.0.1&quot;;\n        int port = 23456;\n\n        String command;\n        String fileName;\n\n        try (Socket socket = new Socket(InetAddress.getByName(address), port)) {\n            //boolean endServer = false;\n            //do {\n            DataInputStream input = new DataInputStream(socket.getInputStream());\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n            System.out.print(&quot;\\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &quot;);\n            command = scanner.nextLine();\n\n            if (HTTP_COMMANDS.forString(command).equals(HTTP_COMMANDS.EXIT)) {\n                System.out.println(&quot;The request was sent.&quot;);\n                output.writeUTF(command);\n                //endServer = true;\n            } else {\n                System.out.print(&quot;Enter filename: &quot;);\n                fileName = scanner.nextLine();\n\n                switch (HTTP_COMMANDS.forString(command)) {\n                    case GET:\n                        output.writeUTF(get(fileName));\n                        break;\n                    case PUT:\n                        String message = add(fileName);\n                        output.writeUTF(message);\n                        break;\n                    case DELETE:\n                        output.writeUTF(delete(fileName));\n                        break;\n                }\n                System.out.println(&quot;The request was sent.&quot;);\n                String code = input.readUTF();\n                printMessage(HTTP_COMMANDS.forString(command), code, fileName);\n                input.close();\n                output.close();\n                socket.close();\n            }\n            //} while (!endServer);\n        } catch (IOException e) {\n            System.out.println(&quot;Could not connect to server!&quot;);\n        }\n\n    }\n\n    public static void printMessage(HTTP_COMMANDS request, String code, String fileName) {\n        int number = Integer.parseInt(code);\n        if (number == HTTP_CODES.SUCCESS.getCode()) {\n            if (request.equals(HTTP_COMMANDS.PUT)) {\n                System.out.print(&quot;The response says that the file was created!&quot;);\n            } else if (request.equals(HTTP_COMMANDS.GET)) {\n                System.out.print(&quot;The content of the file is: &quot;);\n                printFromFile(fileName);\n            } else if (request.equals(HTTP_COMMANDS.DELETE)) {\n                System.out.print(&quot;The response says that the file was successfully deleted!&quot;);\n            }\n        } else {\n            if (request.equals(HTTP_COMMANDS.PUT)) {\n                System.out.print(&quot;The response says that creating the file was forbidden!&quot;);\n            } else if (request.equals(HTTP_COMMANDS.DELETE) || request.equals(HTTP_COMMANDS.GET) ) {\n                System.out.print(&quot;The response says that the file was not found!&quot;);\n            }\n        }\n        System.out.print('\\n');\n    }\n\n    public static void printFromFile(String fileName) {\n        try {\n            File file = new File(path + fileName);\n            Scanner scannerGet = new Scanner(file);\n            while (scannerGet.hasNextLine()) {\n                System.out.print(scannerGet.nextLine() + &quot; &quot;);\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(fileName + &quot; not found!&quot;);\n        }\n    }\n\n    public static String add(String fileName) {\n        System.out.print(&quot;Enter file content: &quot;);\n        String fileContent = scanner.nextLine();\n        return HTTP_COMMANDS.PUT + &quot; &quot; + fileName + &quot; &quot; + fileContent;\n    }\n\n    public static String get(String fileName) {\n        return HTTP_COMMANDS.GET + &quot; &quot; + fileName;\n    }\n\n    public static String delete(String fileName) {\n        return HTTP_COMMANDS.DELETE + &quot; &quot; + fileName;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","intellij-idea","command-line"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":1,"creation_date":1666885220,"post_id":74224382,"comment_id":131045967,"body_markdown":"Please, use markdown code block instead of images https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"Please, use markdown code block instead of images <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26514288,"reputation":1,"user_id":20149054,"display_name":"Yael Roeh"},"score":0,"creation_date":1667064060,"post_id":74224757,"comment_id":131084326,"body_markdown":"ok, thanks!Now after the terminal is opened I need to write into the terminal a command to execute, can you help me how to do it?","body":"ok, thanks!Now after the terminal is opened I need to write into the terminal a command to execute, can you help me how to do it?"},{"owner":{"account_id":26655027,"reputation":11,"user_id":20268700,"display_name":"Frank"},"score":0,"creation_date":1667098251,"post_id":74224757,"comment_id":131089352,"body_markdown":"Actually, you don&#39;t have to use the command to switch execution path, try the `directory` method, eg: `builder.directory(new File(&quot;${the path you want to execute the command}&quot;));`. Then execute `mvn` command. I added the solution in my answer.","body":"Actually, you don&#39;t have to use the command to switch execution path, try the <code>directory</code> method, eg: <code>builder.directory(new File(&quot;${the path you want to execute the command}&quot;));</code>. Then execute <code>mvn</code> command. I added the solution in my answer."}],"tags":[],"owner":{"account_id":26655027,"reputation":11,"user_id":20268700,"display_name":"Frank"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667098474,"creation_date":1666885311,"answer_id":74224757,"question_id":74224382,"body_markdown":"Make sure the `cmd.exe` is in the `PATH`, if not, you will need to complete the fully qualified path to it. For example:\r\n\r\n```\r\nProcessBuilder pb = new ProcessBuilder(\r\n&quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\r\n&quot;/c&quot;,\r\n&quot;cd \\&quot; C:\\\\Program Files\\&quot; &quot;,\r\n);\r\n```\r\n\r\nActually, you don&#39;t have to use the command to switch execution path, try the directory method:\r\n\r\n    String initMvnProjectCommand = &quot;mvn archetype:generate ...&quot;;\r\n    ProcessBuilder builder = new ProcessBuilder(\r\n            &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\r\n            &quot;/c&quot;,\r\n            initMvnProjectCommand);\r\n    builder.directory(new File(&quot;${the path you want to execute the command}&quot;));\r\n    builder.start();\r\n\r\n\r\n","title":"Run cmd commands and fill it with data through Java","body":"<p>Make sure the <code>cmd.exe</code> is in the <code>PATH</code>, if not, you will need to complete the fully qualified path to it. For example:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\n&quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\n&quot;/c&quot;,\n&quot;cd \\&quot; C:\\\\Program Files\\&quot; &quot;,\n);\n</code></pre>\n<p>Actually, you don't have to use the command to switch execution path, try the directory method:</p>\n<pre><code>String initMvnProjectCommand = &quot;mvn archetype:generate ...&quot;;\nProcessBuilder builder = new ProcessBuilder(\n        &quot;C:\\\\Windows\\\\System32\\\\cmd.exe&quot;,\n        &quot;/c&quot;,\n        initMvnProjectCommand);\nbuilder.directory(new File(&quot;${the path you want to execute the command}&quot;));\nbuilder.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667155262,"creation_date":1667155262,"answer_id":74255782,"question_id":74224382,"body_markdown":"Class [ProcessBuilder][1] is not a [Windows] [command prompt][2] emulator. Via the class methods, you set a single command to execute as well as the working directory for the command and the environment.\r\n\r\nThe following code executes the command in your question. It also sets the working directory to `C:\\Users\\USER`. It redirects the command output and the command error output to [System.out][3] and [System.err][4], respectively. It does **not** modify the [environment][5].\r\n\r\nI did not add `C:\\apache-maven-3.8.6\\bin` to my [Windows] [PATH][6] environment variable and therefore, in the below code, I use the full path to `mvn.cmd`.\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\apache-maven-3.8.6\\\\bin\\\\mvn.cmd&quot;,\r\n                                               &quot;archetype:generate&quot;,\r\n                                               &quot;-DgroupId=ToolsQA&quot;,\r\n                                               &quot;-DartifactId=DemoMavenProject&quot;,\r\n                                               &quot;-DarchetypeArtifactId=maven-archetype-quickstart&quot;,\r\n                                               &quot;-DinteractiveMode=false&quot;);\r\n        Path path = Paths.get(&quot;C:&quot;, &quot;Users&quot;, &quot;USER&quot;);\r\n        File directory = path.toFile();\r\n        pb.directory(directory);\r\n        pb.inheritIO();\r\n        try {\r\n            Process proc = pb.start();\r\n            int status = proc.waitFor();\r\n            System.out.println(&quot;Completed with status: &quot; + status);\r\n        }\r\n        catch (InterruptedException | IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nIf the command completes successfully, the value of variable `status` should be 0 (zero).\r\n\r\nHere is the output I get when I run the above code:\r\n```none\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.1:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.1:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- maven-archetype-plugin:3.2.1:generate (default-cli) @ standalone-pom ---\r\n[INFO] Generating project in Batch mode\r\n[INFO] ----------------------------------------------------------------------------\r\n[INFO] Using following parameters for creating project from Old (1.x) Archetype: maven-archetype-quickstart:1.0\r\n[INFO] ----------------------------------------------------------------------------\r\n[INFO] Parameter: basedir, Value: C:\\Users\\USER\r\n[INFO] Parameter: package, Value: ToolsQA\r\n[INFO] Parameter: groupId, Value: ToolsQA\r\n[INFO] Parameter: artifactId, Value: DemoMavenProject\r\n[INFO] Parameter: packageName, Value: ToolsQA\r\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\r\n[INFO] project created from Old (1.x) Archetype in dir: C:\\Users\\USER\\DemoMavenProject\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  3.529 s\r\n[INFO] Finished at: 2022-10-30T20:21:50+02:00\r\n[INFO] ------------------------------------------------------------------------\r\nCompleted with status: 0\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\r\n  [2]: https://en.wikipedia.org/wiki/Cmd.exe\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#environment()\r\n  [6]: https://en.wikipedia.org/wiki/PATH_(variable)","title":"Run cmd commands and fill it with data through Java","body":"<p>Class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> is not a [Windows] <a href=\"https://en.wikipedia.org/wiki/Cmd.exe\" rel=\"nofollow noreferrer\">command prompt</a> emulator. Via the class methods, you set a single command to execute as well as the working directory for the command and the environment.</p>\n<p>The following code executes the command in your question. It also sets the working directory to <code>C:\\Users\\USER</code>. It redirects the command output and the command error output to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out\" rel=\"nofollow noreferrer\">System.out</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err\" rel=\"nofollow noreferrer\">System.err</a>, respectively. It does <strong>not</strong> modify the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#environment()\" rel=\"nofollow noreferrer\">environment</a>.</p>\n<p>I did not add <code>C:\\apache-maven-3.8.6\\bin</code> to my [Windows] <a href=\"https://en.wikipedia.org/wiki/PATH_(variable)\" rel=\"nofollow noreferrer\">PATH</a> environment variable and therefore, in the below code, I use the full path to <code>mvn.cmd</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\apache-maven-3.8.6\\\\bin\\\\mvn.cmd&quot;,\n                                               &quot;archetype:generate&quot;,\n                                               &quot;-DgroupId=ToolsQA&quot;,\n                                               &quot;-DartifactId=DemoMavenProject&quot;,\n                                               &quot;-DarchetypeArtifactId=maven-archetype-quickstart&quot;,\n                                               &quot;-DinteractiveMode=false&quot;);\n        Path path = Paths.get(&quot;C:&quot;, &quot;Users&quot;, &quot;USER&quot;);\n        File directory = path.toFile();\n        pb.directory(directory);\n        pb.inheritIO();\n        try {\n            Process proc = pb.start();\n            int status = proc.waitFor();\n            System.out.println(&quot;Completed with status: &quot; + status);\n        }\n        catch (InterruptedException | IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>If the command completes successfully, the value of variable <code>status</code> should be 0 (zero).</p>\n<p>Here is the output I get when I run the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.2.1:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\n[INFO] \n[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.2.1:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- maven-archetype-plugin:3.2.1:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Batch mode\n[INFO] ----------------------------------------------------------------------------\n[INFO] Using following parameters for creating project from Old (1.x) Archetype: maven-archetype-quickstart:1.0\n[INFO] ----------------------------------------------------------------------------\n[INFO] Parameter: basedir, Value: C:\\Users\\USER\n[INFO] Parameter: package, Value: ToolsQA\n[INFO] Parameter: groupId, Value: ToolsQA\n[INFO] Parameter: artifactId, Value: DemoMavenProject\n[INFO] Parameter: packageName, Value: ToolsQA\n[INFO] Parameter: version, Value: 1.0-SNAPSHOT\n[INFO] project created from Old (1.x) Archetype in dir: C:\\Users\\USER\\DemoMavenProject\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.529 s\n[INFO] Finished at: 2022-10-30T20:21:50+02:00\n[INFO] ------------------------------------------------------------------------\nCompleted with status: 0\n</code></pre>\n"}],"owner":{"account_id":26514288,"reputation":1,"user_id":20149054,"display_name":"Yael Roeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667155262,"creation_date":1666883647,"question_id":74224382,"body_markdown":"I need to create an IntelliJ Maven project using Java code.\r\nThe command to create new Maven project is:\r\n```none\r\nmvn archetype:generate -DgroupId=ToolsQA -DartifactId=DemoMavenProject -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\r\n```\r\nI need to write program code that runs this command through the command line.\r\n\r\nSteps:\r\n- run the command line\r\n- enter to C direction\r\n- enter the command that create new maven project.\r\n\r\nThanks!\r\n\r\n[![I tried this code, and its not workung](https://i.stack.imgur.com/yWatk.png)](https://i.stack.imgur.com/yWatk.png)\r\n\r\n\r\n[![I get the exception:](https://i.stack.imgur.com/VFz5y.png)](https://i.stack.imgur.com/VFz5y.png)","title":"Run cmd commands and fill it with data through Java","body":"<p>I need to create an IntelliJ Maven project using Java code.\nThe command to create new Maven project is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn archetype:generate -DgroupId=ToolsQA -DartifactId=DemoMavenProject -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false\n</code></pre>\n<p>I need to write program code that runs this command through the command line.</p>\n<p>Steps:</p>\n<ul>\n<li>run the command line</li>\n<li>enter to C direction</li>\n<li>enter the command that create new maven project.</li>\n</ul>\n<p>Thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/yWatk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWatk.png\" alt=\"I tried this code, and its not workung\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VFz5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFz5y.png\" alt=\"I get the exception:\" /></a></p>\n"},{"tags":["java","swing","keylistener"],"answers":[{"comments":[{"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"score":0,"creation_date":1667156420,"post_id":74255776,"comment_id":131098928,"body_markdown":"wow. such a dumb mistake. have thought about this for at least an hour. should I delete the question?","body":"wow. such a dumb mistake. have thought about this for at least an hour. should I delete the question?"},{"owner":{"account_id":18842952,"reputation":16,"user_id":13743964,"display_name":"Roman Meromerow"},"score":0,"creation_date":1667158006,"post_id":74255776,"comment_id":131099267,"body_markdown":"@AnsG it is not dumb, happens to everyone (including me) eventually :) Deleting is up to you but people could find it helpful though.","body":"@AnsG it is not dumb, happens to everyone (including me) eventually :) Deleting is up to you but people could find it helpful though."}],"tags":[],"owner":{"account_id":18842952,"reputation":16,"user_id":13743964,"display_name":"Roman Meromerow"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667155213,"creation_date":1667155213,"answer_id":74255776,"question_id":74255624,"body_markdown":"The only thing needed is an instance of Main passed to frame as a key listener.\r\n\r\n        \r\n        \r\n    public static void main(String[] args) {\r\n        [...]\r\n        frame.setVisible(true);     \r\n        frame.addKeyListener(new Main());\r\n    }\r\n","title":"Java KeyListener doesn&#39;t do anything. also doesn&#39;t give an error","body":"<p>The only thing needed is an instance of Main passed to frame as a key listener.</p>\n<pre><code>public static void main(String[] args) {\n    [...]\n    frame.setVisible(true);     \n    frame.addKeyListener(new Main());\n}\n</code></pre>\n"}],"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74255776,"answer_count":1,"score":0,"last_activity_date":1667155213,"creation_date":1667153823,"question_id":74255624,"body_markdown":"I&#39;ve seen that there are many questions here regarding this topic, but I think that they are all different to my problem. I want to create a simple game. I want to move the blue square around when w,a,s or d is pressed. The following code doesn&#39;t throw any error so I have no idea why it&#39;s not working. \r\n\r\n```Java\r\nimport java.awt.Color;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Main implements KeyListener{\r\n\r\n\tstatic JLabel ufo;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setSize(1080, 720);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(true);\r\n\t\tframe.setLayout(null);\r\n\t\t\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setSize(1080, 720);\r\n\t\tpanel.setLayout(null);\r\n\t\tpanel.setBackground(Color.darkGray);\r\n\t\r\n\t\tufo = new JLabel();\r\n\t\tufo.setBounds(0,0,100,100);\r\n\t\tufo.setBackground(Color.blue);\r\n\t\tufo.setOpaque(true);\r\n\t\t\r\n\t\tpanel.add(ufo);\r\n\t\t\r\n\t\tframe.add(panel);\r\n\t\t\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\r\n\t\t  switch(e.getKeyChar()) {\r\n\t\t   case &#39;a&#39;: ufo.setLocation(ufo.getX()-10, ufo.getY());\r\n\t\t    break;\r\n\t\t   case &#39;w&#39;: ufo.setLocation(ufo.getX(), ufo.getY()-10);\r\n\t\t    break;\r\n\t\t   case &#39;s&#39;: ufo.setLocation(ufo.getX(), ufo.getY()+10);\r\n\t\t    break;\r\n\t\t   case &#39;d&#39;: ufo.setLocation(ufo.getX()+10, ufo.getY());\r\n\t\t    break;\r\n\t\t  }\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\t\r\n\t}\t\r\n}\r\n```","title":"Java KeyListener doesn&#39;t do anything. also doesn&#39;t give an error","body":"<p>I've seen that there are many questions here regarding this topic, but I think that they are all different to my problem. I want to create a simple game. I want to move the blue square around when w,a,s or d is pressed. The following code doesn't throw any error so I have no idea why it's not working.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Main implements KeyListener{\n\n    static JLabel ufo;\n    \n    public static void main(String[] args) {\n        \n        JFrame frame = new JFrame();\n        frame.setSize(1080, 720);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(true);\n        frame.setLayout(null);\n        \n        JPanel panel = new JPanel();\n        panel.setSize(1080, 720);\n        panel.setLayout(null);\n        panel.setBackground(Color.darkGray);\n    \n        ufo = new JLabel();\n        ufo.setBounds(0,0,100,100);\n        ufo.setBackground(Color.blue);\n        ufo.setOpaque(true);\n        \n        panel.add(ufo);\n        \n        frame.add(panel);\n        \n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);     \n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        \n          switch(e.getKeyChar()) {\n           case 'a': ufo.setLocation(ufo.getX()-10, ufo.getY());\n            break;\n           case 'w': ufo.setLocation(ufo.getX(), ufo.getY()-10);\n            break;\n           case 's': ufo.setLocation(ufo.getX(), ufo.getY()+10);\n            break;\n           case 'd': ufo.setLocation(ufo.getX()+10, ufo.getY());\n            break;\n          }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {   \n    }   \n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":2,"creation_date":1667155617,"post_id":74255753,"comment_id":131098738,"body_markdown":"An Actionlistener is a functional interface: it declares one and only one method, but a MouseListener isn&#39;t. This is a requirement to be able to do this with a lambda","body":"An Actionlistener is a functional interface: it declares one and only one method, but a MouseListener isn&#39;t. This is a requirement to be able to do this with a lambda"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667163214,"post_id":74255753,"comment_id":131100308,"body_markdown":"In this scenario, I actually prefer to use (private/protected) inner classes, as it isolates the functionality from the application flow - so you&#39;re need to trying to decode a methods execution amongst a bunch of event handlers - but that&#39;s me.  Also, &quot;cleanest&quot; is some what a personal concept","body":"In this scenario, I actually prefer to use (private/protected) inner classes, as it isolates the functionality from the application flow - so you&#39;re need to trying to decode a methods execution amongst a bunch of event handlers - but that&#39;s me.  Also, &quot;cleanest&quot; is some what a personal concept"}],"owner":{"account_id":17637278,"reputation":1,"user_id":12800303,"display_name":"Filip F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667154978,"creation_date":1667154978,"question_id":74255753,"body_markdown":"I&#39;m trying to find cleanest way to make clickable `JPanel`. Currently I accomplish it this way:\r\n\r\n```java\r\npanel.addMouseListener(new MouseInputAdapter() {\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n        // Do something...\r\n    }\r\n});\r\n```\r\nI was wondering if it is possible to do this similarly to this:\r\n```java\r\nbutton.addActionListener(e -&gt; doSomething());\r\n```\r\n\r\nand tried doing:\r\n```java\r\npanel.addMouseListener(e -&gt; doSomething());\r\n```\r\nbut it didn&#39;t work.","title":"JPanel addMouseListener() clean way","body":"<p>I'm trying to find cleanest way to make clickable <code>JPanel</code>. Currently I accomplish it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>panel.addMouseListener(new MouseInputAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // Do something...\n    }\n});\n</code></pre>\n<p>I was wondering if it is possible to do this similarly to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>button.addActionListener(e -&gt; doSomething());\n</code></pre>\n<p>and tried doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>panel.addMouseListener(e -&gt; doSomething());\n</code></pre>\n<p>but it didn't work.</p>\n"},{"tags":["java","module","jlink"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1667153232,"post_id":74255433,"comment_id":131098198,"body_markdown":"Avoid using APIs deprecated in JDK9 - see [Replacements for deprecated JPMS modules with Java EE APIs](https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis) and other Jakarta adopted APIs","body":"Avoid using APIs deprecated in JDK9 - see <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a> and other Jakarta adopted APIs"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667154488,"creation_date":1667154488,"answer_id":74255693,"question_id":74255433,"body_markdown":"Trying to use jlink to directly create the executable image is not a good idea because in almost every serious project you will have to deal with code which is not yet modularized and thus will not work with jlink. For an alternative have a look here, e.g.: https://github.com/dlemmermann/JPackageScriptFX","title":"jlink error because of java.xml.bind module","body":"<p>Trying to use jlink to directly create the executable image is not a good idea because in almost every serious project you will have to deal with code which is not yet modularized and thus will not work with jlink. For an alternative have a look here, e.g.: <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">https://github.com/dlemmermann/JPackageScriptFX</a></p>\n"}],"owner":{"account_id":9503831,"reputation":61,"user_id":7064031,"display_name":"Alexandre Nedjari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667154488,"creation_date":1667152488,"question_id":74255433,"body_markdown":"I working on a javafx project, and I have a problem when I try to use jlink to make my image.\r\nMy java version : java 19 2022-09-20\r\n\r\nHere is my module-info.java :\r\n```\r\nmodule org.aned.mosaic {\r\n\texports mosaic;\r\n\r\n\trequires java.logging;\r\n\trequires org.apache.commons.lang3;\r\n\trequires java.xml.bind;\r\n\trequires java.desktop;\r\n\trequires transitive javafx.graphics;\r\n\trequires transitive javafx.controls;\r\n\trequires transitive javafx.fxml;\r\n}\r\n```\r\n\r\nMy jlink command :\r\n```\r\njlink --output output/image --module-path &quot;output/modules;C:\\Program Files\\Java\\javafx-sdk-19\\lib;C:\\Users\\alex_\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.12.0\\commons-lang3-3.12.0.jar;C:\\Users\\alex_\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar&quot;  --add-modules org.aned.mosaic  --launcher Mosaic=org.aned.mosaic\r\n```\r\n\r\nAnd the output :\r\n```\r\nError: Module java.activation not found, required by java.xml.bind\r\njava.lang.module.FindException: Module java.activation not found, required by java.xml.bind\r\n        at java.base/java.lang.module.Resolver.findFail(Resolver.java:892)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\r\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:420)\r\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:254)\r\n        at jdk.jlink/jdk.tools.jlink.internal.Jlink$JlinkConfiguration.resolve(Jlink.java:217)\r\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImageProvider(JlinkTask.java:536)\r\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImage(JlinkTask.java:424)\r\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.run(JlinkTask.java:276)\r\n        at jdk.jlink/jdk.tools.jlink.internal.Main.run(Main.java:56)\r\n        at jdk.jlink/jdk.tools.jlink.internal.Main.main(Main.java:34)\r\n```\r\n\r\nAs I understand, the issue is with the java.xml.bind module, that use java.activation module, and it seem this module does not exists in java 19.\r\n\r\nI tried to download jaf-1.1.1, and use the activation.jar file as a module, with no success\r\n\r\nI tried too to add in the module-info.java &quot;requires java.activation;&quot;\r\n\r\nI&#39;m new to java modules, maybe I miss something. Is there a way to create an image from a module that use java.xml.bind?\r\n\r\nThanks,","title":"jlink error because of java.xml.bind module","body":"<p>I working on a javafx project, and I have a problem when I try to use jlink to make my image.\nMy java version : java 19 2022-09-20</p>\n<p>Here is my module-info.java :</p>\n<pre><code>module org.aned.mosaic {\n    exports mosaic;\n\n    requires java.logging;\n    requires org.apache.commons.lang3;\n    requires java.xml.bind;\n    requires java.desktop;\n    requires transitive javafx.graphics;\n    requires transitive javafx.controls;\n    requires transitive javafx.fxml;\n}\n</code></pre>\n<p>My jlink command :</p>\n<pre><code>jlink --output output/image --module-path &quot;output/modules;C:\\Program Files\\Java\\javafx-sdk-19\\lib;C:\\Users\\alex_\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.12.0\\commons-lang3-3.12.0.jar;C:\\Users\\alex_\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar&quot;  --add-modules org.aned.mosaic  --launcher Mosaic=org.aned.mosaic\n</code></pre>\n<p>And the output :</p>\n<pre><code>Error: Module java.activation not found, required by java.xml.bind\njava.lang.module.FindException: Module java.activation not found, required by java.xml.bind\n        at java.base/java.lang.module.Resolver.findFail(Resolver.java:892)\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\n        at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:420)\n        at java.base/java.lang.module.Configuration.resolve(Configuration.java:254)\n        at jdk.jlink/jdk.tools.jlink.internal.Jlink$JlinkConfiguration.resolve(Jlink.java:217)\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImageProvider(JlinkTask.java:536)\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImage(JlinkTask.java:424)\n        at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.run(JlinkTask.java:276)\n        at jdk.jlink/jdk.tools.jlink.internal.Main.run(Main.java:56)\n        at jdk.jlink/jdk.tools.jlink.internal.Main.main(Main.java:34)\n</code></pre>\n<p>As I understand, the issue is with the java.xml.bind module, that use java.activation module, and it seem this module does not exists in java 19.</p>\n<p>I tried to download jaf-1.1.1, and use the activation.jar file as a module, with no success</p>\n<p>I tried too to add in the module-info.java &quot;requires java.activation;&quot;</p>\n<p>I'm new to java modules, maybe I miss something. Is there a way to create an image from a module that use java.xml.bind?</p>\n<p>Thanks,</p>\n"},{"tags":["java","war","jdeveloper"],"comments":[{"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"score":0,"creation_date":1667202236,"post_id":74255673,"comment_id":131106100,"body_markdown":"Which exact JDeveloper version do you use?\n\nPlease show us how you have defined the library and where you have added it.","body":"Which exact JDeveloper version do you use?  Please show us how you have defined the library and where you have added it."},{"owner":{"account_id":21515566,"reputation":43,"user_id":15857509,"display_name":"Danish "},"score":0,"creation_date":1667282316,"post_id":74255673,"comment_id":131126322,"body_markdown":"Hello, I updated the library to the latest version and the error did not appear. Thank you btw","body":"Hello, I updated the library to the latest version and the error did not appear. Thank you btw"}],"owner":{"account_id":21515566,"reputation":43,"user_id":15857509,"display_name":"Danish "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667154335,"creation_date":1667154335,"question_id":74255673,"body_markdown":"I am trying to compile my project into WAR file but hit the error mentioned. I already added the jar files on the libraries and classpath. Any idea on how to fix this?","title":"Cannot access org.apache.poi.xssf.usermodel.XSSFSheet when compiling into WAR file","body":"<p>I am trying to compile my project into WAR file but hit the error mentioned. I already added the jar files on the libraries and classpath. Any idea on how to fix this?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667099388,"post_id":74250177,"comment_id":131089443,"body_markdown":"It&#39;s not really clear what the requirement is here. If you don&#39;t want to see the check box at all, why not just use a label along with a boolean variable indicating whether or not it is selected?","body":"It&#39;s not really clear what the requirement is here. If you don&#39;t want to see the check box at all, why not just use a label along with a boolean variable indicating whether or not it is selected?"},{"owner":{"account_id":24314670,"reputation":21,"user_id":18256081,"display_name":"Robert0275"},"score":0,"creation_date":1667099775,"post_id":74250177,"comment_id":131089479,"body_markdown":"@James_D Apologies for being vague. I&#39;m using numerous check boxes, so if I were to replace each one with a label, I&#39;d need a data structure to hold the labels as well as relate them to their boolean value. It would work, but I figure using check boxes is simpler and more concise.","body":"@James_D Apologies for being vague. I&#39;m using numerous check boxes, so if I were to replace each one with a label, I&#39;d need a data structure to hold the labels as well as relate them to their boolean value. It would work, but I figure using check boxes is simpler and more concise."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667099947,"post_id":74250177,"comment_id":131089494,"body_markdown":"In anything other than quick throwaway test code, you should be storing the state of your application separately from the UI (i.e. using a MVC/MVP/MVVM type design), so presumably you are already creating such a data structure anyway. And since you ended up posting here, clearly your suggested approach isn&#39;t simpler and more concise.","body":"In anything other than quick throwaway test code, you should be storing the state of your application separately from the UI (i.e. using a MVC/MVP/MVVM type design), so presumably you are already creating such a data structure anyway. And since you ended up posting here, clearly your suggested approach isn&#39;t simpler and more concise."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667100099,"post_id":74250177,"comment_id":131089500,"body_markdown":"This still sounds very weird though. You want the state of the application to change in response to user action (the user clicking on the checkbox/label), but you want no visual feedback to the user indicating whether the state is selected or not? That just sounds like a horrible user experience, however you implement it.","body":"This still sounds very weird though. You want the state of the application to change in response to user action (the user clicking on the checkbox/label), but you want no visual feedback to the user indicating whether the state is selected or not? That just sounds like a horrible user experience, however you implement it."},{"owner":{"account_id":24314670,"reputation":21,"user_id":18256081,"display_name":"Robert0275"},"score":0,"creation_date":1667100360,"post_id":74250177,"comment_id":131089521,"body_markdown":"@James_D The check box label is highlighted upon selection; I think it looks better than having a box beside it. I just want to remove the box, if possible. If not, then I&#39;ll resort to using only labels.","body":"@James_D The check box label is highlighted upon selection; I think it looks better than having a box beside it. I just want to remove the box, if possible. If not, then I&#39;ll resort to using only labels."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667101851,"post_id":74250177,"comment_id":131089644,"body_markdown":"*&quot;The check box label is highlighted upon selection; I think it looks better than having a box beside it.&quot;* This sounds like a `ToggleButton`. That would at least seem like a better starting point than a `CheckBox` for what you describe.","body":"<i>&quot;The check box label is highlighted upon selection; I think it looks better than having a box beside it.&quot;</i> This sounds like a <code>ToggleButton</code>. That would at least seem like a better starting point than a <code>CheckBox</code> for what you describe."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667105353,"creation_date":1667104998,"answer_id":74250551,"question_id":74250177,"body_markdown":"From the comments:\r\n\r\n&gt; The check box label is highlighted upon selection; I think it looks better than having a box beside it.\r\n\r\nThis combined with the original description of having a control with the functionality of being selected, without the check box but with selection being depicted by a change in color is exactly what is offered by a [`ToggleButton`](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/ToggleButton.html).\r\n\r\nHere is a quick demo of several toggle buttons:\r\n\r\n    public class Toggles extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            VBox root = new VBox(10);\r\n            for (int i = 1 ; i &lt;=10 ; i++) {\r\n                root.getChildren().add(new ToggleButton(&quot;Choice &quot;+i));\r\n            }\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nwhich looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n(here Choice 3 and Choice 4 are selected; Choice 4 additionally has focus).\r\n\r\nIf you want to style these to look more like labels with highlighting for the selected ones, you can add a stylesheet with something like\r\n\r\n    .toggle-button {\r\n        -fx-background-color: -fx-background;\r\n        -fx-text-fill: -fx-text-background-color;\r\n    }\r\n    \r\n    .toggle-button:selected {\r\n        -fx-background: -fx-accent;\r\n    }\r\n\r\nwhich results in\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you really want to do this with check boxes, something like\r\n\r\n    .check-box {\r\n        -fx-background-color: -fx-background ;\r\n        -fx-label-padding: 0;\r\n    }\r\n    \r\n    .check-box &gt; .box, .check-box &gt; .box &gt; .mark {\r\n        -fx-padding: 0 ;\r\n    }\r\n    \r\n    .check-box:selected {\r\n        -fx-background: -fx-accent ;\r\n    }\r\n\r\nworks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nr6MG.png\r\n  [2]: https://i.stack.imgur.com/HQZNK.png","title":"How to remove the box from a checkbox control","body":"<p>From the comments:</p>\n<blockquote>\n<p>The check box label is highlighted upon selection; I think it looks better than having a box beside it.</p>\n</blockquote>\n<p>This combined with the original description of having a control with the functionality of being selected, without the check box but with selection being depicted by a change in color is exactly what is offered by a <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/ToggleButton.html\" rel=\"nofollow noreferrer\"><code>ToggleButton</code></a>.</p>\n<p>Here is a quick demo of several toggle buttons:</p>\n<pre><code>public class Toggles extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        VBox root = new VBox(10);\n        for (int i = 1 ; i &lt;=10 ; i++) {\n            root.getChildren().add(new ToggleButton(&quot;Choice &quot;+i));\n        }\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>which looks like</p>\n<p><a href=\"https://i.stack.imgur.com/nr6MG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nr6MG.png\" alt=\"enter image description here\" /></a></p>\n<p>(here Choice 3 and Choice 4 are selected; Choice 4 additionally has focus).</p>\n<p>If you want to style these to look more like labels with highlighting for the selected ones, you can add a stylesheet with something like</p>\n<pre><code>.toggle-button {\n    -fx-background-color: -fx-background;\n    -fx-text-fill: -fx-text-background-color;\n}\n\n.toggle-button:selected {\n    -fx-background: -fx-accent;\n}\n</code></pre>\n<p>which results in</p>\n<p><a href=\"https://i.stack.imgur.com/HQZNK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQZNK.png\" alt=\"enter image description here\" /></a></p>\n<p>If you really want to do this with check boxes, something like</p>\n<pre><code>.check-box {\n    -fx-background-color: -fx-background ;\n    -fx-label-padding: 0;\n}\n\n.check-box &gt; .box, .check-box &gt; .box &gt; .mark {\n    -fx-padding: 0 ;\n}\n\n.check-box:selected {\n    -fx-background: -fx-accent ;\n}\n</code></pre>\n<p>works.</p>\n"}],"owner":{"account_id":24314670,"reputation":21,"user_id":18256081,"display_name":"Robert0275"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667154094,"creation_date":1667097791,"question_id":74250177,"body_markdown":"Goal: Remove the box from a check-box node in JavaFX so that only the check-box label is displayed.\r\n\r\nI need to have the &#39;selected&#39; functionality of the node, so using a button or label in place of it would not work.\r\n\r\nI made the box invisible and removed any insets, but there was still a gap behind the check box label.\r\n\r\n```\r\n.check-box .box {\r\n    -fx-background-color: transparent;\r\n    -fx-padding: 0;\r\n}\r\n```\r\n\r\nSince the box is a component of a region, I tried setting the max width and height of the box to zero. This had no affect.\r\n\r\n```\r\n    -fx-max-height: 0;\r\n    -fx-max-width: 0;\r\n```\r\n\r\nAttempting to remove the box shape, again having no affect:\r\n\r\n```\r\n    -fx-shape: none;\r\n```","title":"How to remove the box from a checkbox control","body":"<p>Goal: Remove the box from a check-box node in JavaFX so that only the check-box label is displayed.</p>\n<p>I need to have the 'selected' functionality of the node, so using a button or label in place of it would not work.</p>\n<p>I made the box invisible and removed any insets, but there was still a gap behind the check box label.</p>\n<pre><code>.check-box .box {\n    -fx-background-color: transparent;\n    -fx-padding: 0;\n}\n</code></pre>\n<p>Since the box is a component of a region, I tried setting the max width and height of the box to zero. This had no affect.</p>\n<pre><code>    -fx-max-height: 0;\n    -fx-max-width: 0;\n</code></pre>\n<p>Attempting to remove the box shape, again having no affect:</p>\n<pre><code>    -fx-shape: none;\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1667309047,"post_id":74249942,"comment_id":131133676,"body_markdown":"Does this answer your question? [storing an array in a file in java](/q/1503424/90527), [how to write an array to a file Java](/q/13707223/90527)","body":"Does this answer your question? <a href=\"/q/1503424/90527\">storing an array in a file in java</a>, <a href=\"/q/13707223/90527\">how to write an array to a file Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":19276702,"reputation":21,"user_id":14089565,"display_name":"VS Puzzler"},"score":0,"creation_date":1667168460,"post_id":74249981,"comment_id":131101313,"body_markdown":"Is the data from the file saved in the variable loaded? When I print out loaded, I get this value: &quot;[[Ljava.lang.String;@5a2e4553&quot;","body":"Is the data from the file saved in the variable loaded? When I print out loaded, I get this value: &quot;[[Ljava.lang.String;@5a2e4553&quot;"},{"owner":{"account_id":13343434,"reputation":125,"user_id":9630962,"display_name":"Mishin870"},"score":1,"creation_date":1667183192,"post_id":74249981,"comment_id":131103149,"body_markdown":"@VSPuzzler, your code is using a two-dimensional array of strings to store your data. Therefore to get, for example, &quot;name&quot; you need to write: `loaded[0][0]` (based on your code in question). If you want to print the whole array, use this: `System.out.println(Arrays.deepToString(loaded));`. By the way, ObjectStreams support any objects (except primitive types like int, char, ...), so you can encode your data in your custom class variable. If my answer was helpful and solves your question, then accept it, thanks :)","body":"@VSPuzzler, your code is using a two-dimensional array of strings to store your data. Therefore to get, for example, &quot;name&quot; you need to write: <code>loaded[0][0]</code> (based on your code in question). If you want to print the whole array, use this: <code>System.out.println(Arrays.deepToString(loaded));</code>. By the way, ObjectStreams support any objects (except primitive types like int, char, ...), so you can encode your data in your custom class variable. If my answer was helpful and solves your question, then accept it, thanks :)"}],"tags":[],"owner":{"account_id":13343434,"reputation":125,"user_id":9630962,"display_name":"Mishin870"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667094095,"creation_date":1667094095,"answer_id":74249981,"question_id":74249942,"body_markdown":"To **load** array from file use these input streams:\r\n```java\r\nString[][] loaded = null;\r\ntry {\r\n\tFileInputStream fis = new FileInputStream(&quot;t.tmp&quot;);\r\n\tObjectInputStream ois = new ObjectInputStream(fis);\r\n\tloaded = (String[][]) ois.readObject();\r\n\tois.close();\r\n} catch (IOException i) {\r\n\ti.printStackTrace();\r\n} catch (ClassNotFoundException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nDon&#39;t forget to check that the array is **loaded successfully**:\r\n```java\r\nif (loaded == null) {\r\n\t// save file is corrupted, you need to create a new data from scratch\r\n}\r\n```","title":"Serialize and deserialize in Java with arrays, or other ways to save an array for a future run","body":"<p>To <strong>load</strong> array from file use these input streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] loaded = null;\ntry {\n    FileInputStream fis = new FileInputStream(&quot;t.tmp&quot;);\n    ObjectInputStream ois = new ObjectInputStream(fis);\n    loaded = (String[][]) ois.readObject();\n    ois.close();\n} catch (IOException i) {\n    i.printStackTrace();\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Don't forget to check that the array is <strong>loaded successfully</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (loaded == null) {\n    // save file is corrupted, you need to create a new data from scratch\n}\n</code></pre>\n"}],"owner":{"account_id":19276702,"reputation":21,"user_id":14089565,"display_name":"VS Puzzler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667309047,"answer_count":1,"score":-1,"last_activity_date":1667153811,"creation_date":1667093390,"question_id":74249942,"body_markdown":"I am trying to get a keychaincount and name and put it in an array. I then want to add this array to a temporary file to save the variables for the next time I run the code. I have this code so far:\r\n\r\n    public static void order_history(){\r\n        String[][] newArray = {{name, String.valueOf(keychain_count)}};\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(&quot;t.tmp&quot;);\r\n            ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n            oos.writeObject(newArray);\r\n            oos.close();\r\n        } catch (IOException i) {\r\n            i.printStackTrace();\r\n        }\r\n\r\nI basically want to be able to read the file and get all the arrays to parse through them.\r\n\r\n","title":"Serialize and deserialize in Java with arrays, or other ways to save an array for a future run","body":"<p>I am trying to get a keychaincount and name and put it in an array. I then want to add this array to a temporary file to save the variables for the next time I run the code. I have this code so far:</p>\n<pre><code>public static void order_history(){\n    String[][] newArray = {{name, String.valueOf(keychain_count)}};\n    try {\n        FileOutputStream fos = new FileOutputStream(&quot;t.tmp&quot;);\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\n        oos.writeObject(newArray);\n        oos.close();\n    } catch (IOException i) {\n        i.printStackTrace();\n    }\n</code></pre>\n<p>I basically want to be able to read the file and get all the arrays to parse through them.</p>\n"},{"tags":["java","ssl","certificate","httpclient","x509certificate"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667150959,"post_id":74255163,"comment_id":131097701,"body_markdown":"Set a break point in the method, start the code, connect a debugger, wait until the breakpoint is hit, look at the call stack. This should show from where the method is called.","body":"Set a break point in the method, start the code, connect a debugger, wait until the breakpoint is hit, look at the call stack. This should show from where the method is called."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":2,"creation_date":1667151608,"post_id":74255163,"comment_id":131097845,"body_markdown":"Hostname verification [use of certificate common names has been deprecated for over two decades](https://www.rfc-editor.org/rfc/rfc2818#section-3.1): &quot;If a subjectAltName extension of type dNSName is present, that MUST be used as the identity. Otherwise, the (most specific) Common Name field in the Subject field of the certificate MUST be used. **Although the use of the Common Name is existing practice, it is deprecated and Certification Authorities are encouraged to use the dNSName instead**.&quot;  Just about everything stopped using common name about five years ago now.","body":"Hostname verification <a href=\"https://www.rfc-editor.org/rfc/rfc2818#section-3.1\" rel=\"nofollow noreferrer\">use of certificate common names has been deprecated for over two decades</a>: &quot;If a subjectAltName extension of type dNSName is present, that MUST be used as the identity. Otherwise, the (most specific) Common Name field in the Subject field of the certificate MUST be used. <b>Although the use of the Common Name is existing practice, it is deprecated and Certification Authorities are encouraged to use the dNSName instead</b>.&quot;  Just about everything stopped using common name about five years ago now."},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1667151863,"post_id":74255163,"comment_id":131097906,"body_markdown":"@Turing85 Thanks, that helped, i had completely missed checking it, could see the call from SSLConnectionSocketFactory verifyHostname() method.","body":"@Turing85 Thanks, that helped, i had completely missed checking it, could see the call from SSLConnectionSocketFactory verifyHostname() method."},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1667152024,"post_id":74255163,"comment_id":131097937,"body_markdown":"@AndrewHenle Yes I did read about it, this was a temporary implementation just to test out my connection to the server over SSL. I am going through SSLConnectionSocketFactory.getDefaultHostnameVerifier(), can that be used instead, or is there any best practice to implement HostnameVerifier ?","body":"@AndrewHenle Yes I did read about it, this was a temporary implementation just to test out my connection to the server over SSL. I am going through SSLConnectionSocketFactory.getDefaultHostnameVerifier(), can that be used instead, or is there any best practice to implement HostnameVerifier ?"}],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667153735,"creation_date":1667150310,"question_id":74255163,"body_markdown":"I am implementing custom hostname verifier as follow&#39;s:\r\n\r\n    HostnameVerifier hv=new HostnameVerifier() {\r\n\t\t\t\r\n\t\t\t@Override\r\n            public boolean verify(String urlHostName, SSLSession sslSession) {\r\n                try{\r\n                    if(flag.equalsIgnoreCase(&quot;testing&quot;)){\r\n                        return true;\r\n                    }\r\n                    else{\r\n                 \r\n\t\t\t\t\t\tjava.security.cert.X509Certificate[] certs= (X509Certificate[]) sslSession.getPeerCertificates();\r\n                        for(int i=0; i&lt; certs.length; i++){\r\n                            \r\n\t\t\t\t\t\t\tString sIssuedName = certs[i].getSubjectX500Principal().getName();\r\n                            System.out.println(&quot;Verifying Portal Host Name Verifier. urlHostName:&quot; + urlHostName + &quot; and Issuer Subject: &quot; + sIssuedName);\r\n                            return verify(urlHostName, sIssuedName);\r\n\r\n                        }\r\n                    }\r\n                }\r\n                catch (Exception e){\r\n                \tSystem.out.println(&quot;Exception while verifying Certificate.&quot;);\r\n                }\r\n                return false;\r\n\r\n            }\r\n       };\r\n\r\nThe `verify(urlHostName, sIssuedName)` will basically be getting the CN from the certificate and doing some string matching similar to what is mentioned in this [RFC][1].\r\n\r\nI am setting my custome HostnameVerifer as follows:\r\n\r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setSSLContext(sslContext)\r\n                .setSSLHostnameVerifier(hv)                  \r\n                .build();\r\n\r\n\r\nI am trying to understand how Hostname verification needs to be carried out, any standard protocol that needs to be followed, or any best practices prescribed?\r\nAny help greatly appreciated.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2818#section-3.1","title":"What is the best practice to implement verify() method in HostnameVerifier?","body":"<p>I am implementing custom hostname verifier as follow's:</p>\n<pre><code>HostnameVerifier hv=new HostnameVerifier() {\n        \n        @Override\n        public boolean verify(String urlHostName, SSLSession sslSession) {\n            try{\n                if(flag.equalsIgnoreCase(&quot;testing&quot;)){\n                    return true;\n                }\n                else{\n             \n                    java.security.cert.X509Certificate[] certs= (X509Certificate[]) sslSession.getPeerCertificates();\n                    for(int i=0; i&lt; certs.length; i++){\n                        \n                        String sIssuedName = certs[i].getSubjectX500Principal().getName();\n                        System.out.println(&quot;Verifying Portal Host Name Verifier. urlHostName:&quot; + urlHostName + &quot; and Issuer Subject: &quot; + sIssuedName);\n                        return verify(urlHostName, sIssuedName);\n\n                    }\n                }\n            }\n            catch (Exception e){\n                System.out.println(&quot;Exception while verifying Certificate.&quot;);\n            }\n            return false;\n\n        }\n   };\n</code></pre>\n<p>The <code>verify(urlHostName, sIssuedName)</code> will basically be getting the CN from the certificate and doing some string matching similar to what is mentioned in this <a href=\"https://www.rfc-editor.org/rfc/rfc2818#section-3.1\" rel=\"nofollow noreferrer\">RFC</a>.</p>\n<p>I am setting my custome HostnameVerifer as follows:</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients.custom()\n            .setSSLContext(sslContext)\n            .setSSLHostnameVerifier(hv)                  \n            .build();\n</code></pre>\n<p>I am trying to understand how Hostname verification needs to be carried out, any standard protocol that needs to be followed, or any best practices prescribed?\nAny help greatly appreciated.</p>\n"},{"tags":["java","android","android-recyclerview","android-bitmap","image-compression"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667153387,"post_id":74255503,"comment_id":131098239,"body_markdown":"Delete `FromFile()`. You are wasting a ton of heap space and CPU time decoding an image twice, and you are not actually changing anything useful -- your second `Bitmap` will take up the same heap space as will your first `Bitmap`. Instead of decoding twice, decode once, using `inSampleSize` on `BitmapFactory.Options` to have `BitmapFactory` downsample the image. Better yet, use an image-loading library like Glide or Picasso, and it will handle `inSampleSize`, background threading, etc. for you.","body":"Delete <code>FromFile()</code>. You are wasting a ton of heap space and CPU time decoding an image twice, and you are not actually changing anything useful -- your second <code>Bitmap</code> will take up the same heap space as will your first <code>Bitmap</code>. Instead of decoding twice, decode once, using <code>inSampleSize</code> on <code>BitmapFactory.Options</code> to have <code>BitmapFactory</code> downsample the image. Better yet, use an image-loading library like Glide or Picasso, and it will handle <code>inSampleSize</code>, background threading, etc. for you."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1667153528,"post_id":74255503,"comment_id":131098263,"body_markdown":"FWIW, I cover `inSampleSize` in the &quot;Issues with Application Heap&quot; chapter of [this free older book of mine](https://commonsware.com/Android/). And, I cover the use of Glide in [this chapter](https://commonsware.com/Jetpack/pages/chap-internet-003) of [this free book of mine](https://commonsware.com/Jetpack/).","body":"FWIW, I cover <code>inSampleSize</code> in the &quot;Issues with Application Heap&quot; chapter of <a href=\"https://commonsware.com/Android/\" rel=\"nofollow noreferrer\">this free older book of mine</a>. And, I cover the use of Glide in <a href=\"https://commonsware.com/Jetpack/pages/chap-internet-003\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack/\" rel=\"nofollow noreferrer\">this free book of mine</a>."}],"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667152937,"creation_date":1667152937,"question_id":74255503,"body_markdown":"I am creating an application where users can, among other things, create photo albums.\r\nEach album can contain max. 20 photos or videos.\r\nThe problem is that when in the Activity where the user selects photos, after user selects ~7 photos (I think the amount depends on the amount of RAM) and these photos are added to RecyclerView, then the application starts to stutter. If I select 20 photos (max) then the app horribly stutters but does not crash.\r\nI thought to compress the photos before they are added to RecyclerView with this code:\r\n\r\nCompressImage.java\r\n```java\r\n    @Nullable\r\n    public static Bitmap FromFile(Context context, @NonNull String filePath, @NonNull CompressFor compressFor) {\r\n        if (compressFor.equals(CompressFor.LOCAL)) {\r\n            bmp1 = BitmapFactory.decodeFile(filePath);\r\n            out = new ByteArrayOutputStream();\r\n            bmp1.compress(Bitmap.CompressFormat.JPEG, COMPRESS_THRESHOLD, out);\r\n            Log.d(TAG, &quot;Size of original image: &quot; + Formatter.formatShortFileSize(context, bmp1.getByteCount()));\r\n            Log.d(TAG, &quot;Size of image: &quot; + Formatter.formatShortFileSize(context, out.toByteArray().length));\r\n            Log.d(TAG, &quot;Compress Threshold: &quot; + COMPRESS_THRESHOLD);\r\n            Log.d(TAG, &quot;----------------------&quot;);\r\n\r\n            return BitmapFactory.decodeStream(new ByteArrayInputStream(out.toByteArray()));\r\n        } else if (compressFor.equals(CompressFor.DATABASE)) {\r\n            throw new NotImplementedError();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static void Recycle() {\r\n        if (bmp1 != null) {\r\n            bmp1.recycle();\r\n            bmp1 = null;\r\n        }\r\n    }\r\n```\r\n\r\nMediaPickerAdapter.java (for RecyclerView in Photo picker activity)\r\n```java\r\nString imagePath = GetPathFromUri.getPath(mContext, (Uri) mImage.get(position).get(&quot;imagePath&quot;));\r\n\r\nBitmap image = CompressImage.FromFile(mContext, imagePath, CompressImage.CompressFor.LOCAL);\r\n\r\nGlide.with(holder.recent_photos_iv)\r\n                        .load(image)\r\n                        .into(holder.recent_photos_iv);\r\nCompressImage.Recycle();\r\n```\r\nAnd then with LogCat I checked the size of images in RecyclerView\r\n```java\r\nLog.d(TAG, &quot;Size of original image: &quot; + Formatter.formatShortFileSize(context, bmp1.getByteCount()));\r\nLog.d(TAG, &quot;Size of image: &quot; + Formatter.formatShortFileSize(context, out.toByteArray().length));\r\n```\r\n\r\nSize of original image (not in RecyclerView &amp; recycled after compressing): 5,8 MB\r\n\r\nSize of compressed image (in RecyclerView): 29 KB\r\n\r\nAfter I added 8 compressed photos into RecyclerView I dumped memory heap in Android Studio Profiler and it shows that Bitmaps (in general) takes ~214 MB:\r\n[![Heap Dump][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bOd4C.png\r\nbefore picking photos to RecyclerView Profiler shows that Bitmaps takes ~107 MB of memory.\r\n\r\nSo I think correctly that 8 compressed images, which one weighs 29 KB, in memory occupies ~107 MB?\r\n\r\nThe issue for myself is strange. After compressing photos, the app still stutter after selecting ~7 photos.\r\nThe problem is new to me because in the same application in another Activity I also have a RecyclerView that loads about 20 photos from Firebase (I think at full resolution because I don&#39;t compress them) and there the application does not stutter.\r\n\r\nAny help is welcome.","title":"App is stuttering after picking ~7 images to RecyclerView","body":"<p>I am creating an application where users can, among other things, create photo albums.\nEach album can contain max. 20 photos or videos.\nThe problem is that when in the Activity where the user selects photos, after user selects ~7 photos (I think the amount depends on the amount of RAM) and these photos are added to RecyclerView, then the application starts to stutter. If I select 20 photos (max) then the app horribly stutters but does not crash.\nI thought to compress the photos before they are added to RecyclerView with this code:</p>\n<p>CompressImage.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Nullable\n    public static Bitmap FromFile(Context context, @NonNull String filePath, @NonNull CompressFor compressFor) {\n        if (compressFor.equals(CompressFor.LOCAL)) {\n            bmp1 = BitmapFactory.decodeFile(filePath);\n            out = new ByteArrayOutputStream();\n            bmp1.compress(Bitmap.CompressFormat.JPEG, COMPRESS_THRESHOLD, out);\n            Log.d(TAG, &quot;Size of original image: &quot; + Formatter.formatShortFileSize(context, bmp1.getByteCount()));\n            Log.d(TAG, &quot;Size of image: &quot; + Formatter.formatShortFileSize(context, out.toByteArray().length));\n            Log.d(TAG, &quot;Compress Threshold: &quot; + COMPRESS_THRESHOLD);\n            Log.d(TAG, &quot;----------------------&quot;);\n\n            return BitmapFactory.decodeStream(new ByteArrayInputStream(out.toByteArray()));\n        } else if (compressFor.equals(CompressFor.DATABASE)) {\n            throw new NotImplementedError();\n        }\n\n        return null;\n    }\n\n    public static void Recycle() {\n        if (bmp1 != null) {\n            bmp1.recycle();\n            bmp1 = null;\n        }\n    }\n</code></pre>\n<p>MediaPickerAdapter.java (for RecyclerView in Photo picker activity)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String imagePath = GetPathFromUri.getPath(mContext, (Uri) mImage.get(position).get(&quot;imagePath&quot;));\n\nBitmap image = CompressImage.FromFile(mContext, imagePath, CompressImage.CompressFor.LOCAL);\n\nGlide.with(holder.recent_photos_iv)\n                        .load(image)\n                        .into(holder.recent_photos_iv);\nCompressImage.Recycle();\n</code></pre>\n<p>And then with LogCat I checked the size of images in RecyclerView</p>\n<pre class=\"lang-java prettyprint-override\"><code>Log.d(TAG, &quot;Size of original image: &quot; + Formatter.formatShortFileSize(context, bmp1.getByteCount()));\nLog.d(TAG, &quot;Size of image: &quot; + Formatter.formatShortFileSize(context, out.toByteArray().length));\n</code></pre>\n<p>Size of original image (not in RecyclerView &amp; recycled after compressing): 5,8 MB</p>\n<p>Size of compressed image (in RecyclerView): 29 KB</p>\n<p>After I added 8 compressed photos into RecyclerView I dumped memory heap in Android Studio Profiler and it shows that Bitmaps (in general) takes ~214 MB:\n<a href=\"https://i.stack.imgur.com/bOd4C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOd4C.png\" alt=\"Heap Dump\" /></a></p>\n<p>before picking photos to RecyclerView Profiler shows that Bitmaps takes ~107 MB of memory.</p>\n<p>So I think correctly that 8 compressed images, which one weighs 29 KB, in memory occupies ~107 MB?</p>\n<p>The issue for myself is strange. After compressing photos, the app still stutter after selecting ~7 photos.\nThe problem is new to me because in the same application in another Activity I also have a RecyclerView that loads about 20 photos from Firebase (I think at full resolution because I don't compress them) and there the application does not stutter.</p>\n<p>Any help is welcome.</p>\n"},{"tags":["java","tokenize"],"comments":[{"owner":{"account_id":452167,"reputation":29,"user_id":848455,"accept_rate":20,"display_name":"syakirah ibrahim"},"score":0,"creation_date":1311477771,"post_id":6804713,"comment_id":8079615,"body_markdown":"when i run this code, this is what i got `java.io.FileReader@19821fException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 25 at java.lang.String.charAt(Unknown Source) at org.apache.lucene.analysis.StringProcessing.main(StringProcessing.java:40)` i know there is wrong in this line: `char character = file.toString().charAt(counter);`. but i have no idea...","body":"when i run this code, this is what i got <code>java.io.FileReader@19821fException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 25 at java.lang.String.charAt(Unknown Source) at org.apache.lucene.analysis.StringProcessing.main(StringProce&zwnj;&#8203;ssing.java:40)</code> i know there is wrong in this line: <code>char character = file.toString().charAt(counter);</code>. but i have no idea..."}],"answers":[{"tags":[],"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1311478002,"creation_date":1311478002,"answer_id":6804756,"question_id":6804713,"body_markdown":"The problem is with this line --\r\n\r\n    char character = file.toString().charAt(counter);\r\n\r\n\r\n`file` is a reference to a `FileReader` that does not implement `toString()` .. it calls **Object.toString()** which prints a reference around 25 characters long. Thats why your exception says OutofBoundsException at the 26th character.\r\n\r\nTo read the file correctly, you should wrap your filereader with a bufferedreader and then put each readline into a stringbuffer.\r\n\r\n    FileReader fr = new FileReader(filename);\r\n    BufferedReader br = new BufferedReader(fr);\r\n    StringBuilder sb  = new StringBuilder();\r\n    String s;\r\n    while((s = br.readLine()) != null) {\r\n    sb.append(s);\r\n    } \r\n\r\n// `Now use sb.toString() instead of file.toString()`","title":"How to tokenize an input file in java","body":"<p>The problem is with this line --</p>\n\n<pre><code>char character = file.toString().charAt(counter);\n</code></pre>\n\n<p><code>file</code> is a reference to a <code>FileReader</code> that does not implement <code>toString()</code> .. it calls <strong>Object.toString()</strong> which prints a reference around 25 characters long. Thats why your exception says OutofBoundsException at the 26th character.</p>\n\n<p>To read the file correctly, you should wrap your filereader with a bufferedreader and then put each readline into a stringbuffer.</p>\n\n<pre><code>FileReader fr = new FileReader(filename);\nBufferedReader br = new BufferedReader(fr);\nStringBuilder sb  = new StringBuilder();\nString s;\nwhile((s = br.readLine()) != null) {\nsb.append(s);\n} \n</code></pre>\n\n<p>// <code>Now use sb.toString() instead of file.toString()</code></p>\n"},{"tags":[],"owner":{"account_id":2615333,"reputation":151,"user_id":2264492,"display_name":"lpreams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435331567,"creation_date":1435331567,"answer_id":31076703,"question_id":6804713,"body_markdown":"If you are wanting to tokenize the input file then the obvious choice is to use a Scanner. The Scanner class reads a given input stream, and can output either tokens or other scanned types (scanner.nextInt(), scanner.nextLine(), etc).\r\n\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    public static void main(String[] args) throws IOException {\r\n        Scanner in = new Scanner(new File(&quot;filename.dat&quot;));\r\n        while (in.hasNext) {\r\n            String s = in.next(); //get the next token in the file\r\n            // Now s contains a token from the file\r\n        }\r\n    }\r\n\r\n\r\nCheck out [Oracle&#39;s documentation of the Scanner class](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html) for more info.","title":"How to tokenize an input file in java","body":"<p>If you are wanting to tokenize the input file then the obvious choice is to use a Scanner. The Scanner class reads a given input stream, and can output either tokens or other scanned types (scanner.nextInt(), scanner.nextLine(), etc).</p>\n\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.io.IOException;\npublic static void main(String[] args) throws IOException {\n    Scanner in = new Scanner(new File(\"filename.dat\"));\n    while (in.hasNext) {\n        String s = in.next(); //get the next token in the file\n        // Now s contains a token from the file\n    }\n}\n</code></pre>\n\n<p>Check out <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow\">Oracle's documentation of the Scanner class</a> for more info.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667412404,"post_id":74255472,"comment_id":131163284,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74255472/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26778268,"reputation":1,"user_id":20373544,"display_name":"Tanvir Anjum Rifat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667152740,"creation_date":1667152740,"answer_id":74255472,"question_id":6804713,"body_markdown":"\r\npublic class FileTokenize {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\r\n        FileWriter writer = new FileWriter( &quot;output.txt&quot;);\r\n        String data = &quot; &quot;;\r\n\r\n        for (int i = 0; i &lt; lines.size(); i++) {\r\n            data = lines.get(i);\r\n            StringTokenizer token = new StringTokenizer(data);\r\n            while (token.hasMoreElements()) {\r\n                writer.write(token.nextToken() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        writer.close();\r\n    }\r\n","title":"How to tokenize an input file in java","body":"<p>public class FileTokenize {\npublic static void main(String[] args) throws IOException {</p>\n<pre><code>    final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\n    FileWriter writer = new FileWriter( &quot;output.txt&quot;);\n    String data = &quot; &quot;;\n\n    for (int i = 0; i &lt; lines.size(); i++) {\n        data = lines.get(i);\n        StringTokenizer token = new StringTokenizer(data);\n        while (token.hasMoreElements()) {\n            writer.write(token.nextToken() + &quot;\\n&quot;);\n        }\n    }\n    writer.close();\n}\n</code></pre>\n"}],"owner":{"account_id":452167,"reputation":29,"user_id":848455,"accept_rate":20,"display_name":"syakirah ibrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6804756,"answer_count":3,"score":1,"last_activity_date":1667152740,"creation_date":1311477091,"question_id":6804713,"body_markdown":"i&#39;m doing tokenizing a text file in java. I want to read an input file, tokenize it and write a certain character that has been tokenized into an output file. This is what i&#39;ve done so far:\r\n\r\n\r\n    package org.apache.lucene.analysis;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.StreamTokenizer;\r\n    \r\n    class StringProcessing {\r\n        // Create BufferedReader class instance\r\n        public static void main(String[] args) throws IOException {\r\n            InputStreamReader input = new InputStreamReader(System.in);\r\n            BufferedReader keyboardInput = new BufferedReader(input);\r\n            System.out.print(&quot;Please enter a java file name: &quot;);\r\n            String filename = keyboardInput.readLine();\r\n            if (!filename.endsWith(&quot;.DAT&quot;)) {\r\n                System.out.println(&quot;This is not a DAT file.&quot;);\r\n                System.exit(0);\r\n            }\r\n            File File = new File(filename);\r\n            if (File.exists()) {\r\n                FileReader file = new FileReader(filename);\r\n                StreamTokenizer streamTokenizer = new StreamTokenizer(file);\r\n                int i = 0;\r\n                int numberOfTokensGenerated = 0;\r\n                while (i != StreamTokenizer.TT_EOF) {\r\n                    i = streamTokenizer.nextToken();\r\n                    numberOfTokensGenerated++;\r\n                }\r\n                // Output number of characters in the line\r\n                System.out.println(&quot;Number of tokens = &quot; + numberOfTokensGenerated);\r\n                // Output tokens\r\n                for (int counter = 0; counter &lt; numberOfTokensGenerated; counter++) {\r\n                    char character = file.toString().charAt(counter);\r\n                    if (character == &#39; &#39;) { System.out.println(); } else { System.out.print(character); }\r\n                }\r\n            } else {\r\n                System.out.println(&quot;File does not exist!&quot;);\r\n                System.exit(0);\r\n            }\r\n    \r\n            System.out.println(&quot;\\n&quot;);\r\n        }//end main\r\n    }//end class\r\n\r\nWhen i run this code, this is what i get:\r\n\r\n`Please enter a java file name: D://eclipse-java-helios-SR1-win32/LexractData.DAT\r\nNumber of tokens = 129\r\njava.io.FileReader@19821fException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 25\r\n\tat java.lang.String.charAt(Unknown Source)\r\n\tat org.apache.lucene.analysis.StringProcessing.main(StringProcessing.java:40)`\r\n\r\nThe input file will look like this:  \r\n    \r\n    -K1 Account \r\n    --Op1 withdraw\r\n    ---Param1 an\r\n    ----Type Int\r\n    ---Param2 amount\r\n    ----Type Int\r\n    --Op2 deposit\r\n    ---Param1 an\r\n    ----Type Int\r\n    ---Param2 Amount\r\n    ----Type Int\r\n    --CA1 acNo\r\n    ---Type Int\r\n    -K2 CheckAccount \r\n    --SC Account\r\n    --CA1 credit_limit\r\n    ---Type Int\r\n    -K3 Customer\r\n    --CA1 name\r\n    ---Type String\r\n    -K4 Transaction\r\n    --CA1 date\r\n    ---Type Date\r\n    --CA2 time\r\n    ---Type Time\r\n    -K5 CheckBook\r\n    -K6 Check\r\n    -K7 BalanceAccount\r\n    --SC Account\r\n\r\nI just want to read the string which are starts with `-K1`, `-K2`, `-K3`, and so on... can anyone help me?\r\n","title":"How to tokenize an input file in java","body":"<p>i'm doing tokenizing a text file in java. I want to read an input file, tokenize it and write a certain character that has been tokenized into an output file. This is what i've done so far:</p>\n\n<pre><code>package org.apache.lucene.analysis;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.StreamTokenizer;\n\nclass StringProcessing {\n    // Create BufferedReader class instance\n    public static void main(String[] args) throws IOException {\n        InputStreamReader input = new InputStreamReader(System.in);\n        BufferedReader keyboardInput = new BufferedReader(input);\n        System.out.print(\"Please enter a java file name: \");\n        String filename = keyboardInput.readLine();\n        if (!filename.endsWith(\".DAT\")) {\n            System.out.println(\"This is not a DAT file.\");\n            System.exit(0);\n        }\n        File File = new File(filename);\n        if (File.exists()) {\n            FileReader file = new FileReader(filename);\n            StreamTokenizer streamTokenizer = new StreamTokenizer(file);\n            int i = 0;\n            int numberOfTokensGenerated = 0;\n            while (i != StreamTokenizer.TT_EOF) {\n                i = streamTokenizer.nextToken();\n                numberOfTokensGenerated++;\n            }\n            // Output number of characters in the line\n            System.out.println(\"Number of tokens = \" + numberOfTokensGenerated);\n            // Output tokens\n            for (int counter = 0; counter &lt; numberOfTokensGenerated; counter++) {\n                char character = file.toString().charAt(counter);\n                if (character == ' ') { System.out.println(); } else { System.out.print(character); }\n            }\n        } else {\n            System.out.println(\"File does not exist!\");\n            System.exit(0);\n        }\n\n        System.out.println(\"\\n\");\n    }//end main\n}//end class\n</code></pre>\n\n<p>When i run this code, this is what i get:</p>\n\n<p><code>Please enter a java file name: D://eclipse-java-helios-SR1-win32/LexractData.DAT\nNumber of tokens = 129\njava.io.FileReader@19821fException in thread \"main\" java.lang.StringIndexOutOfBoundsException: String index out of range: 25\n    at java.lang.String.charAt(Unknown Source)\n    at org.apache.lucene.analysis.StringProcessing.main(StringProcessing.java:40)</code></p>\n\n<p>The input file will look like this:  </p>\n\n<pre><code>-K1 Account \n--Op1 withdraw\n---Param1 an\n----Type Int\n---Param2 amount\n----Type Int\n--Op2 deposit\n---Param1 an\n----Type Int\n---Param2 Amount\n----Type Int\n--CA1 acNo\n---Type Int\n-K2 CheckAccount \n--SC Account\n--CA1 credit_limit\n---Type Int\n-K3 Customer\n--CA1 name\n---Type String\n-K4 Transaction\n--CA1 date\n---Type Date\n--CA2 time\n---Type Time\n-K5 CheckBook\n-K6 Check\n-K7 BalanceAccount\n--SC Account\n</code></pre>\n\n<p>I just want to read the string which are starts with <code>-K1</code>, <code>-K2</code>, <code>-K3</code>, and so on... can anyone help me?</p>\n"},{"tags":["java","testing","assert"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1667152467,"post_id":74255396,"comment_id":131098022,"body_markdown":"What is `strategySlide`? How is it defined/assigned?","body":"What is <code>strategySlide</code>? How is it defined/assigned?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667152511,"post_id":74255396,"comment_id":131098032,"body_markdown":"It sounds like `strategySlide` has its `canSlide` overridden.","body":"It sounds like <code>strategySlide</code> has its <code>canSlide</code> overridden."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667152555,"post_id":74255396,"comment_id":131098045,"body_markdown":"Please [edit] the post and add a [MRE]. Otherwise, we are unable to help.","body":"Please <a href=\"https://stackoverflow.com/posts/74255396/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Otherwise, we are unable to help."},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1667152637,"post_id":74255396,"comment_id":131098064,"body_markdown":"You could try to debug the test by putting a breakpoint on the `assertTrue(strategySlide.canSlide(...` line. Many IDEs allow that...","body":"You could try to debug the test by putting a breakpoint on the <code>assertTrue(strategySlide.canSlide(...</code> line. Many IDEs allow that..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667153899,"post_id":74255396,"comment_id":131098352,"body_markdown":"Why are you mocking strategySlide? If you want to **test** `StrategySlide`, then you should create an actual instance of it, not mock it.","body":"Why are you mocking strategySlide? If you want to <b>test</b> <code>StrategySlide</code>, then you should create an actual instance of it, not mock it."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667200650,"post_id":74255468,"comment_id":131105690,"body_markdown":"@StackUser what was your expectation when using a mock?","body":"@StackUser what was your expectation when using a mock?"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667152729,"creation_date":1667152729,"answer_id":74255468,"question_id":74255396,"body_markdown":"That&#39;s because you&#39;re mocking `strategySlide` and Mockito by default returns `false` for mocked methods that return a `boolean`.\r\n\r\nFrom [the documentation](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#stubbing):\r\n\r\n&gt; By default, for **all methods that return a value, a mock will return** either null, a primitive/primitive wrapper value, or an empty collection, as appropriate. For example 0 for an int/Integer and **false for a boolean/Boolean**.\r\n\r\nIf you want to test the actual implementation, then you shouldn&#39;t mock `StrategySlide` but create a new instance through the normal ways (eg. `new StrategySlide()`).\r\n\r\nIf you want to use Mockito to return a different value, you can use:\r\n\r\n```java\r\nwhen(strategySlide.canSlide(any(), any(), any()).thenReturn(true);\r\n```\r\n\r\n&lt;sub&gt;*(`when()` comes from `Mockito.when()` and `any()` comes from `ArgumentMatchers.any()`)*&lt;/sub&gt;","title":"Why does this java test read false instead of true?","body":"<p>That's because you're mocking <code>strategySlide</code> and Mockito by default returns <code>false</code> for mocked methods that return a <code>boolean</code>.</p>\n<p>From <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#stubbing\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>By default, for <strong>all methods that return a value, a mock will return</strong> either null, a primitive/primitive wrapper value, or an empty collection, as appropriate. For example 0 for an int/Integer and <strong>false for a boolean/Boolean</strong>.</p>\n</blockquote>\n<p>If you want to test the actual implementation, then you shouldn't mock <code>StrategySlide</code> but create a new instance through the normal ways (eg. <code>new StrategySlide()</code>).</p>\n<p>If you want to use Mockito to return a different value, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(strategySlide.canSlide(any(), any(), any()).thenReturn(true);\n</code></pre>\n<p><sub><em>(<code>when()</code> comes from <code>Mockito.when()</code> and <code>any()</code> comes from <code>ArgumentMatchers.any()</code>)</em></sub></p>\n"}],"owner":{"account_id":20970988,"reputation":13,"user_id":15408165,"display_name":"StackUser"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667153919,"accepted_answer_id":74255468,"answer_count":1,"score":0,"last_activity_date":1667152729,"creation_date":1667152239,"question_id":74255396,"body_markdown":"In java I have a test here are few lines of code from it:\r\n\r\n```\r\nStrategySlide strategySlide = mock(StrategySlide.class);\r\nassertTrue(strategySlide.canSlide(board, fromCoords, toCoords));\r\n```\r\n\r\nThis is a part of the canSlide code (i just put return true at the top to make sure it would always return true):\r\n\r\n\r\n```\r\nabstract public class StrategySlide implements StrategyFactoryI {\r\n\r\n    public boolean canSlide(Board board, Coordinates from, Coordinates to) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHowever upon running only this test I get the following output:\r\n\r\n\r\n```\r\nexpected: &lt;true&gt; but was: &lt;false&gt;\r\nExpected :true\r\nActual   :false\r\n\r\n```\r\n\r\n\r\n\r\nI have no idea why it would read false when I just do return true. Does anyone have a idea how this could happen?","title":"Why does this java test read false instead of true?","body":"<p>In java I have a test here are few lines of code from it:</p>\n<pre><code>StrategySlide strategySlide = mock(StrategySlide.class);\nassertTrue(strategySlide.canSlide(board, fromCoords, toCoords));\n</code></pre>\n<p>This is a part of the canSlide code (i just put return true at the top to make sure it would always return true):</p>\n<pre><code>abstract public class StrategySlide implements StrategyFactoryI {\n\n    public boolean canSlide(Board board, Coordinates from, Coordinates to) {\n        return true;\n    }\n}\n</code></pre>\n<p>However upon running only this test I get the following output:</p>\n<pre><code>expected: &lt;true&gt; but was: &lt;false&gt;\nExpected :true\nActual   :false\n\n</code></pre>\n<p>I have no idea why it would read false when I just do return true. Does anyone have a idea how this could happen?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667144404,"post_id":74254094,"comment_id":131096151,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667145984,"post_id":74254094,"comment_id":131096501,"body_markdown":"The size of the panel is NOT the size of the frame. The frame contains a title bar and borders. Your painting should be relative to the size of the panel which means you should not be hardcoding values, but instead use the getWidth()/getHeight() values of the panel to control your painting. Also don&#39;t call your class &quot;Window&quot;. The is an AWT component with that name so it is confusing. Class names should be more descriptive.","body":"The size of the panel is NOT the size of the frame. The frame contains a title bar and borders. Your painting should be relative to the size of the panel which means you should not be hardcoding values, but instead use the getWidth()/getHeight() values of the panel to control your painting. Also don&#39;t call your class &quot;Window&quot;. The is an AWT component with that name so it is confusing. Class names should be more descriptive."},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1667146125,"post_id":74254094,"comment_id":131096535,"body_markdown":"@camickr I learned that the panel would draw things based on itself and not surroundings so that when I set the panels size to 1000*1000 and draw at 900 / 0 there should be a drawing?!","body":"@camickr I learned that the panel would draw things based on itself and not surroundings so that when I set the panels size to 1000*1000 and draw at 900 / 0 there should be a drawing?!"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1667146729,"post_id":74254094,"comment_id":131096669,"body_markdown":"@kleopatra I edited my code to be reproducable!","body":"@kleopatra I edited my code to be reproducable!"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1667146766,"post_id":74254094,"comment_id":131096679,"body_markdown":"Its edited! Please have a look!","body":"Its edited! Please have a look!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667149565,"post_id":74254094,"comment_id":131097352,"body_markdown":"What do you think is wrong exactly - it&#39;s not clear?","body":"What do you think is wrong exactly - it&#39;s not clear?"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1667149961,"post_id":74254094,"comment_id":131097459,"body_markdown":"@g00se That the rectangle is placed not in the corner because the window is slightly smaler then 1000*1000 and I don&#39;t understand why...","body":"@g00se That the rectangle is placed not in the corner because the window is slightly smaler then 1000*1000 and I don&#39;t understand why..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667150440,"post_id":74254094,"comment_id":131097580,"body_markdown":"It&#39;s certainly in the corner when I run it. Perhaps you should post a screenshot","body":"It&#39;s certainly in the corner when I run it. Perhaps you should post a screenshot"},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1667150784,"post_id":74254094,"comment_id":131097653,"body_markdown":"I added the image!","body":"I added the image!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1667153590,"post_id":74254094,"comment_id":131098276,"body_markdown":"*the window is slightly smaler then 1000x1000 and I don&#39;t understand why* - The window is not smaller than 1000. The panel is smaller than 1000 and the reason has already been given. *so that when I set the panels size to ...* - you are NOT setting the panels size, you are setting the size of the window which contains the decorations AND the panel. If you want the panel to be 1000, then you need to override the `getPreferredSize()` method of the panel and then `pack()` the frame after adding the panel to the frame. Don&#39;t use setSize(). Let the layout managers determine the size of the window.","body":"<i>the window is slightly smaler then 1000x1000 and I don&#39;t understand why</i> - The window is not smaller than 1000. The panel is smaller than 1000 and the reason has already been given. <i>so that when I set the panels size to ...</i> - you are NOT setting the panels size, you are setting the size of the window which contains the decorations AND the panel. If you want the panel to be 1000, then you need to override the <code>getPreferredSize()</code> method of the panel and then <code>pack()</code> the frame after adding the panel to the frame. Don&#39;t use setSize(). Let the layout managers determine the size of the window."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667151169,"creation_date":1667151169,"answer_id":74255283,"question_id":74254094,"body_markdown":"You seem to want it in the corner of the whole window. In that case you need to override the frame&#39;s painting method. Demo obviously - I&#39;m not suggesting you write it exactly like this:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class TestStackOverflow {\r\n    \r\n        public static void main(String[] args) {\r\n            new TestStackOverflow();\r\n        }\r\n    \r\n        public TestStackOverflow() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n    \r\n                    JFrame window = new JFrame() {\r\n                        @Override\r\n                        public void paint(Graphics g) {\r\n                            super.paint(g);\r\n    \r\n                            g.drawRect(900, 0, 100, 100);\r\n    \r\n                            // System.out.println(getWidth());\r\n    \r\n                        }\r\n                    };\r\n                    window.setSize(new Dimension(1000, 1000));\r\n                    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    JPanel header = new JPanel();\r\n                    header.add(new JLabel(&quot;Hello, I&#39;m the header&quot;));\r\n                    header.setBackground(Color.red);\r\n    \r\n                    window.add(header, BorderLayout.NORTH);\r\n                    window.add(new TestPane());\r\n    \r\n                    window.setLocationRelativeTo(null);\r\n                    window.setVisible(true);\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            public TestPane() {\r\n                setBackground(Color.blue);\r\n            }\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n    \r\n                //g.drawRect(900, 0, 100, 100);\r\n    \r\n                // System.out.println(getWidth());\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why does Java Swing draw at the wrong place?","body":"<p>You seem to want it in the corner of the whole window. In that case you need to override the frame's painting method. Demo obviously - I'm not suggesting you write it exactly like this:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class TestStackOverflow {\n\n    public static void main(String[] args) {\n        new TestStackOverflow();\n    }\n\n    public TestStackOverflow() {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n\n                JFrame window = new JFrame() {\n                    @Override\n                    public void paint(Graphics g) {\n                        super.paint(g);\n\n                        g.drawRect(900, 0, 100, 100);\n\n                        // System.out.println(getWidth());\n\n                    }\n                };\n                window.setSize(new Dimension(1000, 1000));\n                window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                JPanel header = new JPanel();\n                header.add(new JLabel(&quot;Hello, I'm the header&quot;));\n                header.setBackground(Color.red);\n\n                window.add(header, BorderLayout.NORTH);\n                window.add(new TestPane());\n\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n\n            }\n        });\n\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBackground(Color.blue);\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            //g.drawRect(900, 0, 100, 100);\n\n            // System.out.println(getWidth());\n\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667152414,"creation_date":1667141558,"question_id":74254094,"body_markdown":"To be more specific I edit the question by replacing it with some reproducible code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    \r\n    public class TestStackOverflow {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew TestStackOverflow();\r\n    \t}\r\n    \t\r\n    \tpublic TestStackOverflow() {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \r\n    \r\n    \t\t\t\tJFrame window = new JFrame();\r\n    \t\t\t\twindow.setSize(new Dimension(1000, 1000));\r\n    \t\t\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\t\tJPanel header = new JPanel();\r\n    \t\t\t\theader.add(new JLabel(&quot;Hello, I&#39;m the header&quot;));\r\n    \t\t\t\theader.setBackground(Color.red);\r\n    \t\t\t\t\r\n    \t\t\t\twindow.add(header, BorderLayout.NORTH);\r\n    \t\t\t\twindow.add(new TestPane());\r\n    \t\t\t\t\r\n    \t\t \r\n    \t\t\t\twindow.setLocationRelativeTo(null);\r\n    \t\t\t\twindow.setVisible(true);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class TestPane extends JPanel {\r\n    \t\t\r\n    \t\tpublic TestPane() {\r\n    \t\t\tsetBackground(Color.blue);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\t\r\n    \t\t\tg.drawRect(900, 0, 100, 100);\r\n    \t\t\t\r\n    \t\t\t//System.out.println(getWidth());\t\t\r\n    \t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nThis code shows the rectangle being drawn too far right. I saw with &quot;getWidth&quot; that the width is actually less then 1000, but I had defined with window.setSize(new Dimension(1000, 1000)) the size of the window. So, why is it just 984 instead of 1000. The swing documentation says that the component would take the remaining space and that would / should be in my case 1000.\r\n\r\n[image of wrong placed rectangle][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lxebF.png","title":"Why does Java Swing draw at the wrong place?","body":"<p>To be more specific I edit the question by replacing it with some reproducible code:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\n\npublic class TestStackOverflow {\n\n    public static void main(String[] args) {\n        new TestStackOverflow();\n    }\n    \n    public TestStackOverflow() {\n        EventQueue.invokeLater(new Runnable() {\n            \n            @Override\n            public void run() {\n\n\n                JFrame window = new JFrame();\n                window.setSize(new Dimension(1000, 1000));\n                window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                JPanel header = new JPanel();\n                header.add(new JLabel(&quot;Hello, I'm the header&quot;));\n                header.setBackground(Color.red);\n                \n                window.add(header, BorderLayout.NORTH);\n                window.add(new TestPane());\n                \n         \n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n                \n            }\n        });\n        \n    }\n    \n    public class TestPane extends JPanel {\n        \n        public TestPane() {\n            setBackground(Color.blue);\n        }\n        \n        @Override\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            \n            g.drawRect(900, 0, 100, 100);\n            \n            //System.out.println(getWidth());       \n        \n        }\n    }\n\n}\n</code></pre>\n<p>This code shows the rectangle being drawn too far right. I saw with &quot;getWidth&quot; that the width is actually less then 1000, but I had defined with window.setSize(new Dimension(1000, 1000)) the size of the window. So, why is it just 984 instead of 1000. The swing documentation says that the component would take the remaining space and that would / should be in my case 1000.</p>\n<p><a href=\"https://i.stack.imgur.com/lxebF.png\" rel=\"nofollow noreferrer\">image of wrong placed rectangle</a></p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667148626,"post_id":74254800,"comment_id":131097134,"body_markdown":"Unfortunately this/default implementation doesn&#39;t expose &quot;it&#39;s links&quot; (all private/protected)...https://github.com/openjdk/jdk/blob/f3ca0cab75f2faf9ec88f7a380490c9589a27102/src/java.base/share/classes/java/util/LinkedHashMap.java#L568","body":"Unfortunately this/default implementation doesn&#39;t expose &quot;it&#39;s links&quot; (all private/protected)...<a href=\"https://github.com/openjdk/jdk/blob/f3ca0cab75f2faf9ec88f7a380490c9589a27102/src/java.base/share/classes/java/util/LinkedHashMap.java#L568\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667149300,"post_id":74254800,"comment_id":131097289,"body_markdown":"Short answer: You can&#39;t.","body":"Short answer: You can&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":26693492,"reputation":31,"user_id":20301714,"display_name":"user20301714"},"score":1,"creation_date":1667149043,"post_id":74254894,"comment_id":131097238,"body_markdown":"Look like it is a best option available. Of course it is an additional duplication memory with ArrayLIst","body":"Look like it is a best option available. Of course it is an additional duplication memory with ArrayLIst"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667149967,"post_id":74254894,"comment_id":131097464,"body_markdown":"@user20301714 Keep in mind that there&#39;s ather option apart from iterating through the Entry Set, if you&#39;re using `LinkedHashMap`. You can only hide the actual process of iteration, [that&#39;s what `indexOf()` does](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l295). And dumping the entries into the list unnecessarily increases the **memory consumption**, hence characteristic &quot;the best&quot; is doubtful.","body":"@user20301714 Keep in mind that there&#39;s ather option apart from iterating through the Entry Set, if you&#39;re using <code>LinkedHashMap</code>. You can only hide the actual process of iteration, <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l295\" rel=\"nofollow noreferrer\">that&#39;s what <code>indexOf()</code> does</a>. And dumping the entries into the list unnecessarily increases the <b>memory consumption</b>, hence characteristic &quot;the best&quot; is doubtful."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667149097,"creation_date":1667148084,"answer_id":74254894,"question_id":74254800,"body_markdown":"This is `LinkedHashMap` so it remembers the order of elements insertion.\r\n\r\n```java\r\npublic static Map.Entry&lt;Integer, String&gt; getNextEntry(LinkedHashMap&lt;Integer, String&gt; map, Integer key) {\r\n    List&lt;Integer&gt; keys = new ArrayList&lt;&gt;(map.keySet());\r\n    int index = keys.indexOf(key);\r\n\r\n    if (index &lt; 0 || index &gt;= keys.size() - 1)\r\n        return null;\r\n\r\n    int k = keys.get(index + 1);\r\n    return Map.entry(k, map.get(k));\r\n}\r\n```\r\n\r\nOr you can use `Iterator`:\r\n\r\n```java\r\npublic static Map.Entry&lt;Integer, String&gt; getNextEntry(LinkedHashMap&lt;Integer, String&gt; map, Integer key) {\r\n    boolean found = false;\r\n\r\n    for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\r\n        if (found)\r\n            return Map.entry(entry.getKey(), entry.getValue());\r\n        if (entry.getKey().intValue() == key)\r\n            found = true;\r\n    }\r\n\r\n    return null;\r\n}\r\n```","title":"How to get the next element to the current in a LinkedHashMap?","body":"<p>This is <code>LinkedHashMap</code> so it remembers the order of elements insertion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map.Entry&lt;Integer, String&gt; getNextEntry(LinkedHashMap&lt;Integer, String&gt; map, Integer key) {\n    List&lt;Integer&gt; keys = new ArrayList&lt;&gt;(map.keySet());\n    int index = keys.indexOf(key);\n\n    if (index &lt; 0 || index &gt;= keys.size() - 1)\n        return null;\n\n    int k = keys.get(index + 1);\n    return Map.entry(k, map.get(k));\n}\n</code></pre>\n<p>Or you can use <code>Iterator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map.Entry&lt;Integer, String&gt; getNextEntry(LinkedHashMap&lt;Integer, String&gt; map, Integer key) {\n    boolean found = false;\n\n    for (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) {\n        if (found)\n            return Map.entry(entry.getKey(), entry.getValue());\n        if (entry.getKey().intValue() == key)\n            found = true;\n    }\n\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26693492,"reputation":31,"user_id":20301714,"display_name":"user20301714"},"score":1,"creation_date":1667148952,"post_id":74254936,"comment_id":131097208,"body_markdown":"Thank you but TreeMap is a map implementation that keeps its entries sorted according to the natural ordering of its keys But I need the order of elements insertion.","body":"Thank you but TreeMap is a map implementation that keeps its entries sorted according to the natural ordering of its keys But I need the order of elements insertion."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667149810,"post_id":74254936,"comment_id":131097421,"body_markdown":"@user20301714 If you want to bother with loops, I&#39;ve added another option (see the update).","body":"@user20301714 If you want to bother with loops, I&#39;ve added another option (see the update)."},{"owner":{"account_id":26693492,"reputation":31,"user_id":20301714,"display_name":"user20301714"},"score":0,"creation_date":1667168888,"post_id":74254936,"comment_id":131101395,"body_markdown":"what I&#39;m really looking for is the best way to find a complete or partial match of all elements of a LinkedHashMap. To do this, I need a quick search using hash and a selection of subsequent ones from the found element.","body":"what I&#39;m really looking for is the best way to find a complete or partial match of all elements of a LinkedHashMap. To do this, I need a quick search using hash and a selection of subsequent ones from the found element."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667173369,"post_id":74254936,"comment_id":131101976,"body_markdown":"@user20301714 Have a look at the source code of the `LinkedHashMap` and see for yourself what&#39;s it capable of, and what it&#39;s not (I&#39;ve already provided you with the link). Several people, including [Guava library author](https://stackoverflow.com/questions/74254800/how-to-get-the-next-element-to-the-current-in-a-linkedhashmap/74254936?noredirect=1#comment131097289_74254800), have already told you that it&#39;s not possible. Also, &quot;partial match&quot; with retrieving a *value* by *key*.","body":"@user20301714 Have a look at the source code of the <code>LinkedHashMap</code> and see for yourself what&#39;s it capable of, and what it&#39;s not (I&#39;ve already provided you with the link). Several people, including <a href=\"https://stackoverflow.com/questions/74254800/how-to-get-the-next-element-to-the-current-in-a-linkedhashmap/74254936?noredirect=1#comment131097289_74254800\">Guava library author</a>, have already told you that it&#39;s not possible. Also, &quot;partial match&quot; with retrieving a <i>value</i> by <i>key</i>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667174480,"post_id":74254936,"comment_id":131102113,"body_markdown":"@user20301714 Theoretically, you can create your **custom** Linked Hash Map implementation **from scratch**, which would be capable to retrieve the *next key*, or the *next entry* in amortized constant time **O(1)**. But it&#39;s a huge piece of work.","body":"@user20301714 Theoretically, you can create your <b>custom</b> Linked Hash Map implementation <b>from scratch</b>, which would be capable to retrieve the <i>next key</i>, or the <i>next entry</i> in amortized constant time <b>O(1)</b>. But it&#39;s a huge piece of work."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667152350,"creation_date":1667148388,"answer_id":74254936,"question_id":74254800,"body_markdown":"`LinkedHashMap` **doesn&#39;t** offer a functionality which would allow finding the next *key* or *entry*.\r\n\r\nIn case if you simply don&#39;t want to bother with managing iteration yourself manually, then sure you can alternate this process, but keep in mind that the iteration should happen somewhere anyway.\r\n\r\n# Stream API\r\n\r\nAlternatively you can make use of the Stream API if you don&#39;t want to bother with loops.\r\n\r\n    public static Optional&lt;Map.Entry&lt;Integer, String&gt;&gt; getNextEntry(Map&lt;Integer, String&gt; map,\r\n                                                                    int previous) {\r\n        return map.entrySet().stream()\r\n            .dropWhile(entry -&gt; entry.getKey() != previous) // discard the entries, until the target key has been encountered\r\n            .skip(1)      // skip the entry with the target key\r\n            .findFirst(); // grab the next entry and return it as an Optional (because the next entry might not exist)\r\n    }\r\n\r\n# TreeMap\r\n\r\nHowever, you would be able to navigate through the *keys* of the map if you were using a [`TreeMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html).\r\n\r\n`TreeMap` maintains a red-black tree under the hood, and it keep the *entries* in sorted order based on *keys*. And it offers various method like `higherEntry()`, `higherKey()`.\r\n\r\n```\r\nNavigableMap&lt;Integer, String&gt; map = new TreeMap&lt;&gt;();\r\n\r\n// populating the map\r\n    \r\nint key = 50;\r\n    \r\nMap.Entry&lt;Integer, String&gt; next = map.higherEntry(key);\r\n```","title":"How to get the next element to the current in a LinkedHashMap?","body":"<p><code>LinkedHashMap</code> <strong>doesn't</strong> offer a functionality which would allow finding the next <em>key</em> or <em>entry</em>.</p>\n<p>In case if you simply don't want to bother with managing iteration yourself manually, then sure you can alternate this process, but keep in mind that the iteration should happen somewhere anyway.</p>\n<h1>Stream API</h1>\n<p>Alternatively you can make use of the Stream API if you don't want to bother with loops.</p>\n<pre><code>public static Optional&lt;Map.Entry&lt;Integer, String&gt;&gt; getNextEntry(Map&lt;Integer, String&gt; map,\n                                                                int previous) {\n    return map.entrySet().stream()\n        .dropWhile(entry -&gt; entry.getKey() != previous) // discard the entries, until the target key has been encountered\n        .skip(1)      // skip the entry with the target key\n        .findFirst(); // grab the next entry and return it as an Optional (because the next entry might not exist)\n}\n</code></pre>\n<h1>TreeMap</h1>\n<p>However, you would be able to navigate through the <em>keys</em> of the map if you were using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a>.</p>\n<p><code>TreeMap</code> maintains a red-black tree under the hood, and it keep the <em>entries</em> in sorted order based on <em>keys</em>. And it offers various method like <code>higherEntry()</code>, <code>higherKey()</code>.</p>\n<pre><code>NavigableMap&lt;Integer, String&gt; map = new TreeMap&lt;&gt;();\n\n// populating the map\n    \nint key = 50;\n    \nMap.Entry&lt;Integer, String&gt; next = map.higherEntry(key);\n</code></pre>\n"}],"owner":{"account_id":26693492,"reputation":31,"user_id":20301714,"display_name":"user20301714"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667152350,"creation_date":1667147298,"question_id":74254800,"body_markdown":"Let&#39;s say I have the LinkedHashMap with some unknown data inside.\r\n\r\n```\r\n//==================\r\nMap&lt; Integer, String &gt; map = new LinkedHashMap&lt;&gt;();\r\nmap.put(10, &quot;C&quot;);\r\nmap.put(20, &quot;C++&quot;);\r\nmap.put(50, &quot;JAVA&quot;);\r\nmap.put(40, &quot;PHP&quot;);\r\nmap.put(30, &quot;Kotlin&quot;);\r\n//=============\r\n```\r\n\r\nAnd I know just the key = 50;\r\n\r\nI am wondering what is the best way to get the next element to the element that I have by this key (50)? This is not a multi-threaded application. I don&#39;t worry about thread-safety.\r\n\r\nI don&#39;t like the way to iterate all keys through entrySet from the beginning.\r\n\r\nIt would be great to somehow get access to the `next()` of `LinkedHashMap`s Entry.","title":"How to get the next element to the current in a LinkedHashMap?","body":"<p>Let's say I have the LinkedHashMap with some unknown data inside.</p>\n<pre><code>//==================\nMap&lt; Integer, String &gt; map = new LinkedHashMap&lt;&gt;();\nmap.put(10, &quot;C&quot;);\nmap.put(20, &quot;C++&quot;);\nmap.put(50, &quot;JAVA&quot;);\nmap.put(40, &quot;PHP&quot;);\nmap.put(30, &quot;Kotlin&quot;);\n//=============\n</code></pre>\n<p>And I know just the key = 50;</p>\n<p>I am wondering what is the best way to get the next element to the element that I have by this key (50)? This is not a multi-threaded application. I don't worry about thread-safety.</p>\n<p>I don't like the way to iterate all keys through entrySet from the beginning.</p>\n<p>It would be great to somehow get access to the <code>next()</code> of <code>LinkedHashMap</code>s Entry.</p>\n"},{"tags":["java","wso2","mediator","ei"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1666909462,"post_id":74219811,"comment_id":131053057,"body_markdown":"Did you try creating an OSGI bundle and isolating the problematic dependency?","body":"Did you try creating an OSGI bundle and isolating the problematic dependency?"}],"answers":[{"comments":[{"owner":{"account_id":21223536,"reputation":31,"user_id":15609608,"display_name":"hesam"},"score":0,"creation_date":1668080615,"post_id":74255405,"comment_id":131322656,"body_markdown":"Thanks Nadun for your answer, I&#39;ve done step by step what you said multiple time. But still get the same error. Do you have any other opinion?","body":"Thanks Nadun for your answer, I&#39;ve done step by step what you said multiple time. But still get the same error. Do you have any other opinion?"}],"tags":[],"owner":{"account_id":10983432,"reputation":1637,"user_id":9370144,"display_name":"Nadun Kulatunge"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667152300,"creation_date":1667152300,"answer_id":74255405,"question_id":74219811,"body_markdown":"Bundle the required javax.xml.crypto class jar inside the class mediator.\r\n\r\nTo do this, you must create a class mediator as an OSGI bundle rather than a jar file. If you have the following in your class mediator project pom.xml file;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\nChange this to;\r\n\r\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n\r\nFollowing that, bundle the javax.xml.crypto class jar to the class mediator. To do this, add the following to the class mediator pom.xml file under **maven-bundle-plugin** as shown below.\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n            &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;instructions&gt;\r\n           -----------\r\n\r\n\r\n           -----------------------\r\n            &lt;Import-Package&gt;\r\n                  *; resolution:=optional\r\n              &lt;/Import-Package&gt;\r\n              &lt;Embed-Dependency&gt;\r\n            javax.xml.crypto.dsig\r\n              &lt;/Embed-Dependency&gt;\r\n              &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\r\n          &lt;/instructions&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nNow build the class mediator and add the created jar file &lt;EI-HOME&gt;/dropins folder. Make sure you remove the previous class mediator jar from both /lib and /dropins folder.\r\n\r\nRestart the server after adding the class mediator.","title":"ClassCastException: org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory cannot be cast to class javax.xml.crypto.dsig.XMLSignatureFactory","body":"<p>Bundle the required javax.xml.crypto class jar inside the class mediator.</p>\n<p>To do this, you must create a class mediator as an OSGI bundle rather than a jar file. If you have the following in your class mediator project pom.xml file;</p>\n<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n<p>Change this to;</p>\n<pre><code>&lt;packaging&gt;bundle&lt;/packaging&gt;\n</code></pre>\n<p>Following that, bundle the javax.xml.crypto class jar to the class mediator. To do this, add the following to the class mediator pom.xml file under <strong>maven-bundle-plugin</strong> as shown below.</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;configuration&gt;\n          &lt;instructions&gt;\n       -----------\n\n\n       -----------------------\n        &lt;Import-Package&gt;\n              *; resolution:=optional\n          &lt;/Import-Package&gt;\n          &lt;Embed-Dependency&gt;\n        javax.xml.crypto.dsig\n          &lt;/Embed-Dependency&gt;\n          &lt;Embed-Transitive&gt;true&lt;/Embed-Transitive&gt;\n      &lt;/instructions&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Now build the class mediator and add the created jar file /dropins folder. Make sure you remove the previous class mediator jar from both /lib and /dropins folder.</p>\n<p>Restart the server after adding the class mediator.</p>\n"}],"owner":{"account_id":21223536,"reputation":31,"user_id":15609608,"display_name":"hesam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667152300,"creation_date":1666863221,"question_id":74219811,"body_markdown":"I&#39;m using `WSO2` `EI ver 6.6.0` , and I developed a mediator which is responsible for Signing SOAP Envelopes.\r\n\r\nThe code I&#39;m using correctly works on Java SE, and I&#39;ve tested it. But when I compile it and deploy it on the `WSO2 EI`, it&#39;s not working.\r\n\r\nThe code has been thrown from this part of the code.\r\n\r\n```java\r\nprivate static Document sign(Document doc, String Reference) throws Exception {\r\n    DOMSignContext dsc = null;\r\n    String providerName = System.getProperty(&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\r\n    Provider provider = (Provider) Class.forName(providerName).newInstance();\r\n\r\n    // Below line throw exception!\r\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;, provider);\r\n\r\n    .\r\n    .\r\n    .\r\n    return doc;\r\n}\r\n```\r\n\r\nError\r\n```java\r\njava.lang.ClassCastException: class org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory cannot be cast to class javax.xml.crypto.dsig.XMLSignatureFactory (org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory is in module java.xml.crypto of loader &#39;platform&#39;; javax.xml.crypto.dsig.XMLSignatureFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @657e3cda)\r\n        at javax.xml.crypto.dsig.XMLSignatureFactory.findInstance(XMLSignatureFactory.java:202)\r\n        at javax.xml.crypto.dsig.XMLSignatureFactory.getInstance(XMLSignatureFactory.java:250)\r\n        at x.signer.util.Utils.sign(Utils.java:246)\r\n        at x.signer.util.Utils.insertSignSoap(Utils.java:233)\r\n        at x.signer.util.Utils.insertSignSayad(Utils.java:197)\r\n        at x.signer.Signer.mediate(Signer.java:37)\r\n        at org.apache.synapse.mediators.ext.ClassMediator.mediate(ClassMediator.java:94)\r\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:109)\r\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:71)\r\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\r\n        at org.apache.synapse.rest.Resource.process(Resource.java:331)\r\n        at org.apache.synapse.rest.API.process(API.java:441)\r\n        at org.apache.synapse.rest.RESTRequestHandler.apiProcess(RESTRequestHandler.java:135)\r\n        at org.apache.synapse.rest.RESTRequestHandler.dispatchToAPI(RESTRequestHandler.java:113)\r\n        at org.apache.synapse.rest.RESTRequestHandler.process(RESTRequestHandler.java:71)\r\n        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:327)\r\n        at org.apache.synapse.core.axis2.SynapseMessageReceiver.receive(SynapseMessageReceiver.java:98)\r\n        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:180)\r\n        at org.apache.synapse.transport.passthru.ServerWorker.processNonEntityEnclosingRESTHandler(ServerWorker.java:368)\r\n        at org.apache.synapse.transport.passthru.ServerWorker.processEntityEnclosingRequest(ServerWorker.java:427)\r\n        at org.apache.synapse.transport.passthru.ServerWorker.run(ServerWorker.java:182)\r\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n\r\nExample of input\r\n\r\n```xml\r\n&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;S:Body&gt;\r\n        &lt;InquiryCode xmlns=&quot;http://tempuri.org/&quot;&gt;\r\n            &lt;RequestCode&gt;12345&lt;/RequestCode&gt;\r\n        &lt;/InquiryCode&gt;\r\n    &lt;/S:Body&gt;\r\n&lt;/S:Envelope&gt;\r\n```\r\n\r\nI searched lots of similar issues and Stackoverflow questions, but most of them are unanswered, or the answered ones are not working for me like this one:\r\n\r\nhttps://groups.google.com/g/fusefabric/c/1no0A5akFag\r\n\r\nhttps://stackoverflow.com/questions/56215745/how-to-fix-classcastexception-when-xmlsignaturefactory-used-in-a-wso2-am-mediato","title":"ClassCastException: org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory cannot be cast to class javax.xml.crypto.dsig.XMLSignatureFactory","body":"<p>I'm using <code>WSO2</code> <code>EI ver 6.6.0</code> , and I developed a mediator which is responsible for Signing SOAP Envelopes.</p>\n<p>The code I'm using correctly works on Java SE, and I've tested it. But when I compile it and deploy it on the <code>WSO2 EI</code>, it's not working.</p>\n<p>The code has been thrown from this part of the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Document sign(Document doc, String Reference) throws Exception {\n    DOMSignContext dsc = null;\n    String providerName = System.getProperty(&quot;jsr105Provider&quot;, &quot;org.jcp.xml.dsig.internal.dom.XMLDSigRI&quot;);\n    Provider provider = (Provider) Class.forName(providerName).newInstance();\n\n    // Below line throw exception!\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;, provider);\n\n    .\n    .\n    .\n    return doc;\n}\n</code></pre>\n<p>Error</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ClassCastException: class org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory cannot be cast to class javax.xml.crypto.dsig.XMLSignatureFactory (org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory is in module java.xml.crypto of loader 'platform'; javax.xml.crypto.dsig.XMLSignatureFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @657e3cda)\n        at javax.xml.crypto.dsig.XMLSignatureFactory.findInstance(XMLSignatureFactory.java:202)\n        at javax.xml.crypto.dsig.XMLSignatureFactory.getInstance(XMLSignatureFactory.java:250)\n        at x.signer.util.Utils.sign(Utils.java:246)\n        at x.signer.util.Utils.insertSignSoap(Utils.java:233)\n        at x.signer.util.Utils.insertSignSayad(Utils.java:197)\n        at x.signer.Signer.mediate(Signer.java:37)\n        at org.apache.synapse.mediators.ext.ClassMediator.mediate(ClassMediator.java:94)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:109)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:71)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.rest.Resource.process(Resource.java:331)\n        at org.apache.synapse.rest.API.process(API.java:441)\n        at org.apache.synapse.rest.RESTRequestHandler.apiProcess(RESTRequestHandler.java:135)\n        at org.apache.synapse.rest.RESTRequestHandler.dispatchToAPI(RESTRequestHandler.java:113)\n        at org.apache.synapse.rest.RESTRequestHandler.process(RESTRequestHandler.java:71)\n        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:327)\n        at org.apache.synapse.core.axis2.SynapseMessageReceiver.receive(SynapseMessageReceiver.java:98)\n        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:180)\n        at org.apache.synapse.transport.passthru.ServerWorker.processNonEntityEnclosingRESTHandler(ServerWorker.java:368)\n        at org.apache.synapse.transport.passthru.ServerWorker.processEntityEnclosingRequest(ServerWorker.java:427)\n        at org.apache.synapse.transport.passthru.ServerWorker.run(ServerWorker.java:182)\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Example of input</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;S:Body&gt;\n        &lt;InquiryCode xmlns=&quot;http://tempuri.org/&quot;&gt;\n            &lt;RequestCode&gt;12345&lt;/RequestCode&gt;\n        &lt;/InquiryCode&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>I searched lots of similar issues and Stackoverflow questions, but most of them are unanswered, or the answered ones are not working for me like this one:</p>\n<p><a href=\"https://groups.google.com/g/fusefabric/c/1no0A5akFag\" rel=\"nofollow noreferrer\">https://groups.google.com/g/fusefabric/c/1no0A5akFag</a></p>\n<p><a href=\"https://stackoverflow.com/questions/56215745/how-to-fix-classcastexception-when-xmlsignaturefactory-used-in-a-wso2-am-mediato\">How to fix ClassCastException when XMLSignatureFactory used in a WSO2-AM Mediator?</a></p>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667168892,"post_id":74248662,"comment_id":131101396,"body_markdown":"What is the error? Please [edit].","body":"What is the error? Please <a href=\"https://stackoverflow.com/posts/74248662/edit\">edit</a>."}],"answers":[{"comments":[{"owner":{"account_id":26771481,"reputation":1,"user_id":20367793,"display_name":"knownothing"},"score":0,"creation_date":1667150864,"post_id":74255187,"comment_id":131097678,"body_markdown":"I couldn&#39;t understand what you meant.","body":"I couldn&#39;t understand what you meant."}],"tags":[],"owner":{"account_id":26777587,"reputation":21,"user_id":20372973,"display_name":"EVA"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667150484,"creation_date":1667150484,"answer_id":74255187,"question_id":74248662,"body_markdown":"Change the last bit of 8-digit number:\r\n`num ^= 1B`","title":"How can I change 8 digit number&#39;s last digit with just using primitive data types?","body":"<p>Change the last bit of 8-digit number:\n<code>num ^= 1B</code></p>\n"}],"owner":{"account_id":26771481,"reputation":1,"user_id":20367793,"display_name":"knownothing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667152238,"creation_date":1667075962,"question_id":74248662,"body_markdown":"\r\n\r\nThis is the question.\r\nAn alien spaceship broadcasts a frequency of digital signals that can be\r\nconverted into 0-1 digits (always a 8 digit combination). In brief, a stream of digits entered via the console is supposed to be caught. It is obvious that the digits we acquire can be converted into base ten - decimal. The situation here is the noise which interferes with the original signal that we are listening to. Signal noise, which negates the last item of the stream, may appear in the very first character of your input stream. All of the characters must be either 0 or 1, otherwise it is a noise. Every first character is always 0. The input stream will be taken as a single set of numeric characters. \r\n\r\nI changed too many thing in code and still it is not working with all numbers. But I got the message from these codes: \r\n01000110\r\n21010011\r\n21001000\r\n01000101\r\n01001110\r\n51000101\r\nwhen we converted these to correct version it&#39;ll give the message. For example these give &quot;FRIEND&quot;. I found this but program is not working with 00000000. It gives error. How can I correct this.\r\n\r\n    Scanner inp = new Scanner(System.in);\r\n            int frequency = inp.nextInt();\r\n            int digit1 = frequency/10000000;\r\n            int digit2 = (frequency/1000000)%10;\r\n            int digit3 = (frequency/100000)%10;\r\n            int digit4 = (frequency/10000)%10;\r\n            int digit5 = (frequency/1000)%10;\r\n            int digit6 = (frequency/100)%10;\r\n            int digit7 = (frequency/10)%10;\r\n            int digit8 = frequency%10;\r\n            \r\n            int decimal_version = digit1*10000000 + digit2*1000000 + digit3*100000 + digit4*10000 + digit5*1000 + digit6*100 + digit7*10 + digit8;\r\n            \r\n            System.out.println(decimal_version);","title":"How can I change 8 digit number&#39;s last digit with just using primitive data types?","body":"<p>This is the question.\nAn alien spaceship broadcasts a frequency of digital signals that can be\nconverted into 0-1 digits (always a 8 digit combination). In brief, a stream of digits entered via the console is supposed to be caught. It is obvious that the digits we acquire can be converted into base ten - decimal. The situation here is the noise which interferes with the original signal that we are listening to. Signal noise, which negates the last item of the stream, may appear in the very first character of your input stream. All of the characters must be either 0 or 1, otherwise it is a noise. Every first character is always 0. The input stream will be taken as a single set of numeric characters.</p>\n<p>I changed too many thing in code and still it is not working with all numbers. But I got the message from these codes:\n01000110\n21010011\n21001000\n01000101\n01001110\n51000101\nwhen we converted these to correct version it'll give the message. For example these give &quot;FRIEND&quot;. I found this but program is not working with 00000000. It gives error. How can I correct this.</p>\n<pre><code>Scanner inp = new Scanner(System.in);\n        int frequency = inp.nextInt();\n        int digit1 = frequency/10000000;\n        int digit2 = (frequency/1000000)%10;\n        int digit3 = (frequency/100000)%10;\n        int digit4 = (frequency/10000)%10;\n        int digit5 = (frequency/1000)%10;\n        int digit6 = (frequency/100)%10;\n        int digit7 = (frequency/10)%10;\n        int digit8 = frequency%10;\n        \n        int decimal_version = digit1*10000000 + digit2*1000000 + digit3*100000 + digit4*10000 + digit5*1000 + digit6*100 + digit7*10 + digit8;\n        \n        System.out.println(decimal_version);\n</code></pre>\n"},{"tags":["java","arrays","list","hashmap","flatten"],"comments":[{"owner":{"account_id":18969288,"reputation":243,"user_id":13843127,"display_name":"genius42"},"score":0,"creation_date":1593882144,"post_id":62731968,"comment_id":110934689,"body_markdown":"If the amount of level is not known you should think about implementing a recursive approach. For doing this think about the recurring part and the ending condition of the recursion.","body":"If the amount of level is not known you should think about implementing a recursive approach. For doing this think about the recurring part and the ending condition of the recursion."},{"owner":{"account_id":11349283,"reputation":13145,"user_id":8320861,"display_name":"Space Impact"},"score":0,"creation_date":1593882276,"post_id":62731968,"comment_id":110934733,"body_markdown":"@genius42 Yes, I need something that checks until there are no maps or arrays and everything is flattened. The problem is I new to java and could not understand how to implement this, that&#39;s why I posted the question here. I really appreciate a solution with explanation.","body":"@genius42 Yes, I need something that checks until there are no maps or arrays and everything is flattened. The problem is I new to java and could not understand how to implement this, that&#39;s why I posted the question here. I really appreciate a solution with explanation."},{"owner":{"account_id":18969288,"reputation":243,"user_id":13843127,"display_name":"genius42"},"score":0,"creation_date":1593882615,"post_id":62731968,"comment_id":110934839,"body_markdown":"I currently have no time to provide you with a solution. I can do that later or tomorrow. But to give you an idea: look at the different cases you have (Map or List) and you handle them. A map should be handled recursively where as a list should not.","body":"I currently have no time to provide you with a solution. I can do that later or tomorrow. But to give you an idea: look at the different cases you have (Map or List) and you handle them. A map should be handled recursively where as a list should not."}],"answers":[{"comments":[{"owner":{"account_id":11349283,"reputation":13145,"user_id":8320861,"display_name":"Space Impact"},"score":1,"creation_date":1593883674,"post_id":62732245,"comment_id":110935173,"body_markdown":"That was perfect can you add some explanation or comments. Thank you.","body":"That was perfect can you add some explanation or comments. Thank you."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1593883845,"post_id":62732245,"comment_id":110935234,"body_markdown":"@SandeepKadapa No problem.","body":"@SandeepKadapa No problem."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1593883791,"creation_date":1593883413,"answer_id":62732245,"question_id":62731968,"body_markdown":"You can use recursion to flatten the `Map`. Each time you encounter a `Map`, recurse by flattening that `Map`; when you encounter a `List`, iterate over it and add the index to the current key. A single value can be trivially set otherwise. See the below code in action [here](https://ideone.com/Yld6ql).\r\n\r\n```\r\npublic static Map&lt;String, Object&gt; flatten(final Map&lt;String, Object&gt; map) {\r\n    return flatten(&quot;&quot;, map, new HashMap&lt;&gt;());\r\n    //use new TreeMap&lt;&gt;() to order map based on key\r\n}\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)//recursive helper method\r\nprivate static Map&lt;String, Object&gt; flatten(final String key, final Map&lt;String, Object&gt; map,\r\n        final Map&lt;String, Object&gt; result) {\r\n    final Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();\r\n    if (!entries.isEmpty()) {\r\n        for (final Map.Entry&lt;String, Object&gt; entry : entries) {\r\n            //iterate over entries\r\n            final String currKey = key + (key.isEmpty() ? &quot;&quot; : &#39;.&#39;) + entry.getKey();\r\n           //append current key to previous key, adding a dot if the previous key was not an empty String\r\n            final Object value = entry.getValue();\r\n            if (value instanceof Map) {//current value is a Map\r\n                flatten(currKey, (Map&lt;String, Object&gt;) value, result);//flatten Map\r\n            } else if (value instanceof List) {//current value is a List\r\n                final List&lt;Object&gt; list = (List&lt;Object&gt;) value;\r\n                for (int i = 0, size = list.size(); i &lt; size; i++) {\r\n                    result.put(currKey + &#39;.&#39; + (i + 1), list.get(i));\r\n                }\r\n                //iterate over the List and append the index to the current key when setting value\r\n            } else {\r\n                result.put(currKey, value);//set normal value\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\npublic static void main(final String[] args){\r\n    final Map&lt;String, Object&gt; flattened = flatten(dates);\r\n    System.out.println(flattened);\r\n}\r\n```","title":"Flatten nested Map containing with unknown level of nested Arrays and Maps recursively","body":"<p>You can use recursion to flatten the <code>Map</code>. Each time you encounter a <code>Map</code>, recurse by flattening that <code>Map</code>; when you encounter a <code>List</code>, iterate over it and add the index to the current key. A single value can be trivially set otherwise. See the below code in action <a href=\"https://ideone.com/Yld6ql\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>public static Map&lt;String, Object&gt; flatten(final Map&lt;String, Object&gt; map) {\n    return flatten(&quot;&quot;, map, new HashMap&lt;&gt;());\n    //use new TreeMap&lt;&gt;() to order map based on key\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)//recursive helper method\nprivate static Map&lt;String, Object&gt; flatten(final String key, final Map&lt;String, Object&gt; map,\n        final Map&lt;String, Object&gt; result) {\n    final Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();\n    if (!entries.isEmpty()) {\n        for (final Map.Entry&lt;String, Object&gt; entry : entries) {\n            //iterate over entries\n            final String currKey = key + (key.isEmpty() ? &quot;&quot; : '.') + entry.getKey();\n           //append current key to previous key, adding a dot if the previous key was not an empty String\n            final Object value = entry.getValue();\n            if (value instanceof Map) {//current value is a Map\n                flatten(currKey, (Map&lt;String, Object&gt;) value, result);//flatten Map\n            } else if (value instanceof List) {//current value is a List\n                final List&lt;Object&gt; list = (List&lt;Object&gt;) value;\n                for (int i = 0, size = list.size(); i &lt; size; i++) {\n                    result.put(currKey + '.' + (i + 1), list.get(i));\n                }\n                //iterate over the List and append the index to the current key when setting value\n            } else {\n                result.put(currKey, value);//set normal value\n            }\n        }\n    }\n    return result;\n}\npublic static void main(final String[] args){\n    final Map&lt;String, Object&gt; flattened = flatten(dates);\n    System.out.println(flattened);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user11141611"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596408967,"creation_date":1593892671,"answer_id":62733833,"question_id":62731968,"body_markdown":"You can iterate over this map, and process each entry value, depending on its instance of: `Map`, `List`, or `String`. Since *the level of nested arrays or maps is unknown*, I have modified a little your code example and flat map format for clarity, also I used `TreeMap` instead of `HashMap` for entries ordering.\r\n```java\r\npublic static void main(String[] args) {\r\n    TreeMap&lt;String, Object&gt; treeMap = new TreeMap&lt;String, Object&gt;() {{\r\n        put(&quot;1999&quot;, new TreeMap&lt;String, Object&gt;() {{\r\n            put(&quot;3&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\r\n            put(&quot;4&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, new TreeMap&lt;String, Object&gt;() {{\r\n                put(&quot;10&quot;, &quot;42&quot;);\r\n            }}));\r\n        }});\r\n        put(&quot;2001&quot;, new TreeMap&lt;String, Object&gt;() {{\r\n            put(&quot;11&quot;, new TreeMap&lt;String, Object&gt;() {{\r\n                put(&quot;7&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\r\n                put(&quot;9&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n            }});\r\n            put(&quot;12&quot;, &quot;45&quot;);\r\n        }});\r\n    }};\r\n\r\n    TreeMap&lt;String, String&gt; flatMap = new TreeMap&lt;&gt;();\r\n    processMap(&quot;&quot;, treeMap, flatMap);\r\n\r\n    System.out.println(treeMap);\r\n    System.out.println(flatMap);\r\n}\r\n```\r\n```java\r\nprivate static void processMap(String prefix,\r\n                               Map&lt;String, Object&gt; map,\r\n                               Map&lt;String, String&gt; flatMap) {\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Object value = entry.getValue();\r\n        processEntry(prefix, key, value, flatMap);\r\n    }\r\n}\r\n```\r\n```java\r\nprivate static void processList(String prefix,\r\n                                List&lt;Object&gt; list,\r\n                                Map&lt;String, String&gt; flatMap) {\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        String key = String.valueOf(i + 1);\r\n        Object value = list.get(i);\r\n        processEntry(prefix, key, value, flatMap);\r\n    }\r\n}\r\n```\r\n```java\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprivate static void processEntry(String prefix,\r\n                                 String key,\r\n                                 Object value,\r\n                                 Map&lt;String, String&gt; flatMap) {\r\n    if (value instanceof Map) {\r\n        processMap(prefix + key + &quot;.&quot;, (Map&lt;String, Object&gt;) value, flatMap);\r\n    } else if (value instanceof List) {\r\n        processList(prefix + key + &quot;:&quot;, (List&lt;Object&gt;) value, flatMap);\r\n    } else if (value instanceof String) {\r\n        flatMap.put(prefix + key, (String) value);\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nSample map:\r\n```json\r\n{1999={3=[23, 24, 25], 4=[1, 2, {10=42}]},\r\n 2001={11={7=[23, 24, 25], 9=[1, 2, 3]}, 12=45}}\r\n```\r\nFlattened map:\r\n```json\r\n{1999.3:1=23, 1999.3:2=24, 1999.3:3=25, 1999.4:1=1, 1999.4:2=2, 1999.4:3.10=42,\r\n 2001.11.7:1=23, 2001.11.7:2=24, 2001.11.7:3=25,\r\n 2001.11.9:1=1, 2001.11.9:2=2, 2001.11.9:3=3, 2001.12=45}\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;Opposite: [Restoring a value tree from its flat map representation][1].&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/62763040/11141611","title":"Flatten nested Map containing with unknown level of nested Arrays and Maps recursively","body":"<p>You can iterate over this map, and process each entry value, depending on its instance of: <code>Map</code>, <code>List</code>, or <code>String</code>. Since <em>the level of nested arrays or maps is unknown</em>, I have modified a little your code example and flat map format for clarity, also I used <code>TreeMap</code> instead of <code>HashMap</code> for entries ordering.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    TreeMap&lt;String, Object&gt; treeMap = new TreeMap&lt;String, Object&gt;() {{\n        put(&quot;1999&quot;, new TreeMap&lt;String, Object&gt;() {{\n            put(&quot;3&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\n            put(&quot;4&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, new TreeMap&lt;String, Object&gt;() {{\n                put(&quot;10&quot;, &quot;42&quot;);\n            }}));\n        }});\n        put(&quot;2001&quot;, new TreeMap&lt;String, Object&gt;() {{\n            put(&quot;11&quot;, new TreeMap&lt;String, Object&gt;() {{\n                put(&quot;7&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\n                put(&quot;9&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\n            }});\n            put(&quot;12&quot;, &quot;45&quot;);\n        }});\n    }};\n\n    TreeMap&lt;String, String&gt; flatMap = new TreeMap&lt;&gt;();\n    processMap(&quot;&quot;, treeMap, flatMap);\n\n    System.out.println(treeMap);\n    System.out.println(flatMap);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static void processMap(String prefix,\n                               Map&lt;String, Object&gt; map,\n                               Map&lt;String, String&gt; flatMap) {\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n        String key = entry.getKey();\n        Object value = entry.getValue();\n        processEntry(prefix, key, value, flatMap);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static void processList(String prefix,\n                                List&lt;Object&gt; list,\n                                Map&lt;String, String&gt; flatMap) {\n    for (int i = 0; i &lt; list.size(); i++) {\n        String key = String.valueOf(i + 1);\n        Object value = list.get(i);\n        processEntry(prefix, key, value, flatMap);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;unchecked&quot;)\nprivate static void processEntry(String prefix,\n                                 String key,\n                                 Object value,\n                                 Map&lt;String, String&gt; flatMap) {\n    if (value instanceof Map) {\n        processMap(prefix + key + &quot;.&quot;, (Map&lt;String, Object&gt;) value, flatMap);\n    } else if (value instanceof List) {\n        processList(prefix + key + &quot;:&quot;, (List&lt;Object&gt;) value, flatMap);\n    } else if (value instanceof String) {\n        flatMap.put(prefix + key, (String) value);\n    }\n}\n</code></pre>\n<hr />\n<p>Sample map:</p>\n<pre><code>{1999={3=[23, 24, 25], 4=[1, 2, {10=42}]},\n 2001={11={7=[23, 24, 25], 9=[1, 2, 3]}, 12=45}}\n</code></pre>\n<p>Flattened map:</p>\n<pre><code>{1999.3:1=23, 1999.3:2=24, 1999.3:3=25, 1999.4:1=1, 1999.4:2=2, 1999.4:3.10=42,\n 2001.11.7:1=23, 2001.11.7:2=24, 2001.11.7:3=25,\n 2001.11.9:1=1, 2001.11.9:2=2, 2001.11.9:3=3, 2001.12=45}\n</code></pre>\n<hr />\n<p><sup>Opposite: <a href=\"https://stackoverflow.com/q/62763040/11141611\">Restoring a value tree from its flat map representation</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667151310,"creation_date":1667150956,"answer_id":74255246,"question_id":62731968,"body_markdown":"```java\r\n  private static Map&lt;String, String&gt; flatten(Map&lt;String, Object&gt; m) {\r\n    var pairs = new ArrayList&lt;String[]&gt;();\r\n    flatten(null, m, pairs);\r\n    return pairs.stream().collect(Collectors.toMap(x -&gt; x[0], x -&gt; x[1]));\r\n  }\r\n  private static void flatten(String prefix, Map&lt;String, Object&gt; m, List&lt;String[]&gt; pairs) {\r\n    for (var e : m.entrySet()) {\r\n      var k = e.getKey();\r\n      var o = m.get(k);\r\n      if (o instanceof String s) {\r\n        pairs.add(new String[]{makeKey(prefix, k), s});\r\n      } else if (o instanceof List l) {\r\n        IntStream.range(0, l.size())\r\n            .mapToObj(i -&gt; new String[]{\r\n                makeKey(prefix, k + &quot;.&quot; + (i +1)), \r\n                l.get(i).toString()\r\n            })\r\n            .forEach(p -&gt; pairs.add(p));\r\n      } else if (o instanceof Map nestedMap) {\r\n        flatten(makeKey(prefix, k), nestedMap, pairs);\r\n      }\r\n    }\r\n  }\r\n  private static String makeKey(String prefix, String key) {\r\n     return  String.join(&quot;.&quot;, prefix == null ? List.of(key) : List.of(prefix,key));\r\n  }\r\n```","title":"Flatten nested Map containing with unknown level of nested Arrays and Maps recursively","body":"<pre class=\"lang-java prettyprint-override\"><code>  private static Map&lt;String, String&gt; flatten(Map&lt;String, Object&gt; m) {\n    var pairs = new ArrayList&lt;String[]&gt;();\n    flatten(null, m, pairs);\n    return pairs.stream().collect(Collectors.toMap(x -&gt; x[0], x -&gt; x[1]));\n  }\n  private static void flatten(String prefix, Map&lt;String, Object&gt; m, List&lt;String[]&gt; pairs) {\n    for (var e : m.entrySet()) {\n      var k = e.getKey();\n      var o = m.get(k);\n      if (o instanceof String s) {\n        pairs.add(new String[]{makeKey(prefix, k), s});\n      } else if (o instanceof List l) {\n        IntStream.range(0, l.size())\n            .mapToObj(i -&gt; new String[]{\n                makeKey(prefix, k + &quot;.&quot; + (i +1)), \n                l.get(i).toString()\n            })\n            .forEach(p -&gt; pairs.add(p));\n      } else if (o instanceof Map nestedMap) {\n        flatten(makeKey(prefix, k), nestedMap, pairs);\n      }\n    }\n  }\n  private static String makeKey(String prefix, String key) {\n     return  String.join(&quot;.&quot;, prefix == null ? List.of(key) : List.of(prefix,key));\n  }\n</code></pre>\n"}],"owner":{"account_id":11349283,"reputation":13145,"user_id":8320861,"display_name":"Space Impact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62732245,"answer_count":3,"score":4,"last_activity_date":1667151310,"creation_date":1593881913,"question_id":62731968,"body_markdown":"I have a nested `HashMap` with `String` keys that contains either `List`, `Map`, or `String` values. I would like to flatten them like the below. \r\n\r\nHere is the data:\r\n\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            Map&lt;String, Object&gt; dates = new HashMap&lt;String, Object&gt;() {{\r\n                put(&quot;1999&quot;, new HashMap&lt;String, Object&gt;() {{\r\n                    put(&quot;3&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\r\n                    put(&quot;4&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n                }});\r\n                put(&quot;2001&quot;, new HashMap&lt;String, Object&gt;() {{\r\n                    put(&quot;11&quot;, new HashMap&lt;String, Object&gt;() {{\r\n                        put(&quot;7&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\r\n                        put(&quot;9&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n                    }});\r\n                    put(&quot;12&quot;, &quot;45&quot;);\r\n                }});\r\n            }};\r\n            System.out.println(dates);\r\n        }\r\n    }\r\n\r\nMap looks like:\r\n\r\n    {2001={11={7=[23, 24, 25], 9=[1, 2, 3]}, 12=45},\r\n     1999={3=[23, 24, 25], 4=[1, 2, 3]}}\r\n\r\nThe flattening of map should look like this:\r\n\r\n    {2001.11.7.1=23, 2001.11.7.2=24, 2001.11.7.3=25, 2001.11.9.1=1, 2001.11.9.2=2, \r\n     2001.11.9.3=3, 2001.12=45, 1999.3.1=23, 1999.3.2=24, 1999.3.3=25,\r\n     1999.4.1=1, 1999.4.2=2, 1999.4.3=3}\r\n\r\n**Note:** the level of nested arrays or maps is unknown, it may go more than 2 levels.","title":"Flatten nested Map containing with unknown level of nested Arrays and Maps recursively","body":"<p>I have a nested <code>HashMap</code> with <code>String</code> keys that contains either <code>List</code>, <code>Map</code>, or <code>String</code> values. I would like to flatten them like the below.</p>\n<p>Here is the data:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\npublic class MyClass {\n    public static void main(String args[]) {\n        Map&lt;String, Object&gt; dates = new HashMap&lt;String, Object&gt;() {{\n            put(&quot;1999&quot;, new HashMap&lt;String, Object&gt;() {{\n                put(&quot;3&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\n                put(&quot;4&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\n            }});\n            put(&quot;2001&quot;, new HashMap&lt;String, Object&gt;() {{\n                put(&quot;11&quot;, new HashMap&lt;String, Object&gt;() {{\n                    put(&quot;7&quot;, Arrays.asList(&quot;23&quot;, &quot;24&quot;, &quot;25&quot;));\n                    put(&quot;9&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\n                }});\n                put(&quot;12&quot;, &quot;45&quot;);\n            }});\n        }};\n        System.out.println(dates);\n    }\n}\n</code></pre>\n<p>Map looks like:</p>\n<pre><code>{2001={11={7=[23, 24, 25], 9=[1, 2, 3]}, 12=45},\n 1999={3=[23, 24, 25], 4=[1, 2, 3]}}\n</code></pre>\n<p>The flattening of map should look like this:</p>\n<pre><code>{2001.11.7.1=23, 2001.11.7.2=24, 2001.11.7.3=25, 2001.11.9.1=1, 2001.11.9.2=2, \n 2001.11.9.3=3, 2001.12=45, 1999.3.1=23, 1999.3.2=24, 1999.3.3=25,\n 1999.4.1=1, 1999.4.2=2, 1999.4.3=3}\n</code></pre>\n<p><strong>Note:</strong> the level of nested arrays or maps is unknown, it may go more than 2 levels.</p>\n"},{"tags":["java","methods","history"],"comments":[{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1667143345,"post_id":74254105,"comment_id":131095947,"body_markdown":"Aren&#39;t they already stored in the memory?  \n        ```String nametransfer = scanner.nextLine();\n        String nametransf = scanner.nextLine();```","body":"Aren&#39;t they already stored in the memory?           <code>String nametransfer = scanner.nextLine();         String nametransf = scanner.nextLine();</code>"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1667143566,"post_id":74254105,"comment_id":131095989,"body_markdown":"Be more specific, do you need to record all of the usernames and transfter amounts? You can use HashMap for that if username must be linked to the transfer amount","body":"Be more specific, do you need to record all of the usernames and transfter amounts? You can use HashMap for that if username must be linked to the transfer amount"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667150915,"post_id":74254105,"comment_id":131097691,"body_markdown":"https://docs.oracle.com/javase/tutorial/collections/TOC.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/collections/TOC.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/TOC.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":26777587,"reputation":21,"user_id":20372973,"display_name":"EVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667150767,"creation_date":1667150767,"answer_id":74255229,"question_id":74254105,"body_markdown":"You can store them with a `List` in package `java.util`.\r\nAs you are new to programming, you might not understand what I am talking about. Just keep learning and you will realise.","title":"How can i make history in code. Java language","body":"<p>You can store them with a <code>List</code> in package <code>java.util</code>.\nAs you are new to programming, you might not understand what I am talking about. Just keep learning and you will realise.</p>\n"}],"owner":{"account_id":26563542,"reputation":39,"user_id":20190996,"display_name":"Dennis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1667152575,"answer_count":1,"score":-3,"last_activity_date":1667150767,"creation_date":1667141661,"question_id":74254105,"body_markdown":"I&#39;m learning java now, sorry if you didn&#39;t get it.\r\n\r\nHere is the &quot;money transfer&quot; method, it works with constructor in other class.\r\n\r\nThe code does not end by itself, it constantly returns.\r\n\r\nI need to save these parameters (username, transfer amount) and execute this later.\r\n\r\n```\r\npublic static String moneyTransfer() {\r\n        System.out.println(&quot;Enter the name to whom you want to transfer funds&quot;);\r\n        String nametransfer = scanner.nextLine();\r\n        String nametransf = scanner.nextLine();\r\n        System.out.println(&quot;Enter the amount to transfer to the user &quot; + nametransfer);\r\n        int transfermoney = scanner.nextInt();\r\n        Moneytransfer moneytr = new Moneytransfer(nametransf, transfermoney);\r\n        int resulttransfer = balance-transfermoney;\r\n        System.out.println(&quot;You transferred  &quot;+transfermoney+&quot; to user: &quot;+nametransf);\r\n        System.out.println(&quot;balance: &quot;+resulttransfer);\r\n        return startPanel();\r\n    }\r\n```\r\n\r\n                                idk(\r\n\r\n                                                                          ","title":"How can i make history in code. Java language","body":"<p>I'm learning java now, sorry if you didn't get it.</p>\n<p>Here is the &quot;money transfer&quot; method, it works with constructor in other class.</p>\n<p>The code does not end by itself, it constantly returns.</p>\n<p>I need to save these parameters (username, transfer amount) and execute this later.</p>\n<pre><code>public static String moneyTransfer() {\n        System.out.println(&quot;Enter the name to whom you want to transfer funds&quot;);\n        String nametransfer = scanner.nextLine();\n        String nametransf = scanner.nextLine();\n        System.out.println(&quot;Enter the amount to transfer to the user &quot; + nametransfer);\n        int transfermoney = scanner.nextInt();\n        Moneytransfer moneytr = new Moneytransfer(nametransf, transfermoney);\n        int resulttransfer = balance-transfermoney;\n        System.out.println(&quot;You transferred  &quot;+transfermoney+&quot; to user: &quot;+nametransf);\n        System.out.println(&quot;balance: &quot;+resulttransfer);\n        return startPanel();\n    }\n</code></pre>\n<pre><code>                            idk(\n\n                                                                      \n</code></pre>\n"},{"tags":["java","scala","macros","scala-macros","scala-3"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1643745232,"post_id":70945320,"comment_id":125420308,"body_markdown":"Have you read Scala 3 metaprogramming documentation? Did you try something?","body":"Have you read Scala 3 metaprogramming documentation? Did you try something?"},{"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"score":1,"creation_date":1643751116,"post_id":70945320,"comment_id":125422092,"body_markdown":"@Ga&#235;lJ Yes I did, but it is for the most parts incomplete and many of the links are broken. I understood very little, that&#39;s why I am looking for help. Do you know how to do it ?","body":"@Ga&#235;lJ Yes I did, but it is for the most parts incomplete and many of the links are broken. I understood very little, that&#39;s why I am looking for help. Do you know how to do it ?"},{"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"score":3,"creation_date":1643754627,"post_id":70945320,"comment_id":125423055,"body_markdown":"Why would you do that? Runtime reflection should only be used in case there is no other solution, which is quite quite rare","body":"Why would you do that? Runtime reflection should only be used in case there is no other solution, which is quite quite rare"},{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":2,"creation_date":1643771135,"post_id":70945320,"comment_id":125425846,"body_markdown":"Please report broken links to https://github.com/scala/docs.scala-lang/issues","body":"Please report broken links to <a href=\"https://github.com/scala/docs.scala-lang/issues\" rel=\"nofollow noreferrer\">github.com/scala/docs.scala-lang/issues</a>"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1643783922,"post_id":70945320,"comment_id":125427959,"body_markdown":"What we are saying is that you should give us more context on the why you want to do that. Depending on the reasons we will be able to give you ideas on how to approach your goal with Scala 3.","body":"What we are saying is that you should give us more context on the why you want to do that. Depending on the reasons we will be able to give you ideas on how to approach your goal with Scala 3."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1664062276,"post_id":70945320,"comment_id":130386009,"body_markdown":"@user3476509 Actually, your code is very close to working. It&#39;s enough to replace `q&quot;...&quot;` (a Scala 2 macro) with `toolbox.parse(&quot;...&quot;)`. See update.","body":"@user3476509 Actually, your code is very close to working. It&#39;s enough to replace <code>q&quot;...&quot;</code> (a Scala 2 macro) with <code>toolbox.parse(&quot;...&quot;)</code>. See update."}],"answers":[{"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680854680,"post_id":73650151,"comment_id":133970131,"body_markdown":"https://github.com/propensive/fury/blob/main/src/core/compilation.scala","body":"<a href=\"https://github.com/propensive/fury/blob/main/src/core/compilation.scala\" rel=\"nofollow noreferrer\">github.com/propensive/fury/blob/main/src/core/compilation.sc&zwnj;&#8203;ala</a>"},{"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"score":1,"creation_date":1683286794,"post_id":73650151,"comment_id":134347183,"body_markdown":"Excellent, and thanks. But what if we want to create an `Expr[T]` from a `String` instead of just running it and receiving its calculated value? Is it possible to parse strings to typed expressions, for example load some file contents as a string, and then parse it and analyze it before running it?","body":"Excellent, and thanks. But what if we want to create an <code>Expr[T]</code> from a <code>String</code> instead of just running it and receiving its calculated value? Is it possible to parse strings to typed expressions, for example load some file contents as a string, and then parse it and analyze it before running it?"},{"owner":{"account_id":295360,"reputation":4149,"user_id":599728,"accept_rate":59,"display_name":"Joan"},"score":0,"creation_date":1690500989,"post_id":73650151,"comment_id":135366558,"body_markdown":"This! Thanks @DmytroMitin","body":"This! Thanks @DmytroMitin"},{"owner":{"account_id":295360,"reputation":4149,"user_id":599728,"accept_rate":59,"display_name":"Joan"},"score":0,"creation_date":1691187083,"post_id":73650151,"comment_id":135463250,"body_markdown":"Have you found a way @shvahabi ?","body":"Have you found a way @shvahabi ?"},{"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"score":0,"creation_date":1691671679,"post_id":73650151,"comment_id":135524822,"body_markdown":"Dear @Joan according to my research it seems that Scala3 designers intentionally dropped this capability from meta programming design agenda (e.g. see https://contributors.scala-lang.org/t/compatibility-required-for-migration-from-scala2-macro/5100/2 from Professor Odersky). Such design philosophy is justified by the fact that creating interpreters which only accepts special Scala3 code snippet string and disregard other valid snippets should be done per application requirements and hence is a developer task because it includes many per application design decisions.","body":"Dear @Joan according to my research it seems that Scala3 designers intentionally dropped this capability from meta programming design agenda (e.g. see <a href=\"https://contributors.scala-lang.org/t/compatibility-required-for-migration-from-scala2-macro/5100/2\" rel=\"nofollow noreferrer\">contributors.scala-lang.org/t/&hellip;</a> from Professor Odersky). Such design philosophy is justified by the fact that creating interpreters which only accepts special Scala3 code snippet string and disregard other valid snippets should be done per application requirements and hence is a developer task because it includes many per application design decisions."},{"owner":{"account_id":2963929,"reputation":1238,"user_id":2914935,"display_name":"shvahabi"},"score":0,"creation_date":1691671703,"post_id":73650151,"comment_id":135524827,"body_markdown":"On the other side, being capable of creating expressions from any arbitrary valid Scala3 snippet string, reduces readability and degrades scalability. Anyway you can create an interpreter large enough to embrace whole Scala3 language constructs, if your application requirements dictates. Scala3 designers only provided infrastructures to systematically embed string interpreters of intended subset of Scala3 language constructs, since merely no real world application may need to embed a whole Scala3 language interpreter.","body":"On the other side, being capable of creating expressions from any arbitrary valid Scala3 snippet string, reduces readability and degrades scalability. Anyway you can create an interpreter large enough to embrace whole Scala3 language constructs, if your application requirements dictates. Scala3 designers only provided infrastructures to systematically embed string interpreters of intended subset of Scala3 language constructs, since merely no real world application may need to embed a whole Scala3 language interpreter."}],"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1667149981,"creation_date":1662644934,"answer_id":73650151,"question_id":70945320,"body_markdown":"Scala 2 version of this answer is here: https://stackoverflow.com/questions/73911801/how-can-i-run-generated-code-during-script-runtime\r\n\r\nIn Scala 3:\r\n\r\n - For example you can use [Li Haoyi][1]&#39;s [Ammonite][2]\r\n\r\n```scala\r\nammonite.Main(verboseOutput = false).runCode(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n\r\n*build.sbt*\r\n\r\n```scala\r\nscalaVersion := &quot;3.1.3&quot;\r\nlibraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;2.5.4-22-4a9e6989&quot; cross CrossVersion.full\r\nexcludeDependencies ++= Seq(\r\n  ExclusionRule(&quot;com.lihaoyi&quot;, &quot;sourcecode_2.13&quot;),\r\n  ExclusionRule(&quot;com.lihaoyi&quot;, &quot;fansi_2.13&quot;),\r\n)\r\n```\r\n\r\n - Or you can try [Eugene Yokota][3]&#39;s [Eval][4]\r\n\r\n```scala\r\ncom.eed3si9n.eval.Eval()\r\n  .evalInfer(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n  .getValue(this.getClass.getClassLoader)\r\n// Hello, World!\r\n```\r\n\r\n*build.sbt*\r\n\r\n```scala\r\nscalaVersion := &quot;3.2.0&quot;\r\nlibraryDependencies += &quot;com.eed3si9n.eval&quot; % &quot;eval&quot; % &quot;0.1.0&quot; cross CrossVersion.full\r\n```\r\n\r\n - Or you can try my [implementation][5]\r\n```scala\r\ncom.github.dmytromitin.eval.Eval[Unit](&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n\r\n```scala\r\nscalaVersion := &quot;3.2.1&quot;\r\nlibraryDependencies += &quot;com.github.dmytromitin&quot; %% &quot;eval&quot; % &quot;0.1&quot;\r\n```\r\n\r\n - Also you can use standard Scala 3 REPL [interpreter][6]\r\n\r\n```scala\r\ndotty.tools.repl.ScriptEngine().eval(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n*build.sbt*\r\n\r\n    scalaVersion := &quot;3.1.3&quot;\r\n    libraryDependencies += scalaOrganization.value %% &quot;scala3-compiler&quot; % scalaVersion.value\r\n\r\n - If you have a `scala.quoted.Expr` `&#39;{...}` (a statically typed wrapper over an abstract syntax tree `scala.quoted.Quotes#Tree`) rather than plain string then you can use runtime [multi-staging][7]\r\n\r\n```scala\r\nimport scala.quoted.*\r\ngiven staging.Compiler = staging.Compiler.make(getClass.getClassLoader)\r\nstaging.run(&#39;{ println(&quot;Hello, World!&quot;) })\r\n// Hello, World!\r\n```\r\n\r\n*build.sbt*\r\n\r\n```scala\r\nscalaVersion := &quot;3.1.3&quot;\r\nlibraryDependencies += scalaOrganization.value %% &quot;scala3-staging&quot; % scalaVersion.value\r\n```\r\n\r\n- All of the above is to run Scala 3 code in Scala 3. If we want to run Scala 2 code in Scala 3 then we can still use Scala 2 reflective [Toolbox][8]. Scala 2 macros don&#39;t work, so we can&#39;t do `runtime.currentMirror` or `q&quot;...&quot;` but can do `universe.runtimeMirror` or `tb.parse`\r\n\r\n```scala\r\nimport scala.tools.reflect.ToolBox // implicit \r\n\r\nval tb = scala.reflect.runtime.universe\r\n  .runtimeMirror(getClass.getClassLoader)\r\n  .mkToolBox()\r\ntb.eval(tb.parse(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;))\r\n// Hello, World!\r\n```\r\n\r\n*build.sbt*\r\n```scala\r\nscalaVersion := &quot;3.1.3&quot;\r\nlibraryDependencies ++= scalaOrganization.value % &quot;scala-compiler&quot; % &quot;2.13.8&quot;\r\n```\r\n\r\n- Also to run Scala 2 code in Scala 3 you can use standard Scala 2 REPL [interpreter][9]\r\n\r\n```scala\r\nscala.tools.nsc.interpreter.shell.Scripted()\r\n  .eval(&quot;&quot;&quot;System.out.println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n*build.sbt*\r\n```scala\r\nscalaVersion := &quot;3.1.3&quot;\r\nlibraryDependencies ++= scalaOrganization.value % &quot;scala-compiler&quot; % &quot;2.13.8&quot;\r\n```\r\n\r\n - Also you can use [JSR223][10] [scripting][11]. Depending on whether you have `scala3-compiler` or `scala-compiler` in your classpath you will run Scala 3 or Scala 2 (one of the two above script engines: Scala 3 `dotty.tools.repl.ScriptEngine` or Scala 2 `scala.tools.nsc.interpreter.shell.Scripted`). If you have both the dependency added first wins.\r\n\r\n```scala\r\nnew javax.script.ScriptEngineManager(getClass.getClassLoader)\r\n  .getEngineByName(&quot;scala&quot;)\r\n  .eval(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n\r\nIf you&#39;d like to have a better control what dependency is used (without re-importing the project) you can use Coursier and specify class loader\r\n\r\n```scala\r\nimport coursier.* // libraryDependencies += &quot;io.get-coursier&quot; %% &quot;coursier&quot; % &quot;2.1.0-M6-53-gb4f448130&quot; cross CrossVersion.for3Use2_13\r\nval files = Fetch()\r\n  .addDependencies(\r\n    Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala3-compiler_3&quot;)), &quot;3.2.0&quot;),\r\n    // Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala-compiler&quot;)), &quot;2.13.9&quot;)\r\n  )\r\n  .run()\r\n\r\nval classLoader = new java.net.URLClassLoader(\r\n  files.map(_.toURI.toURL).toArray,\r\n  /*getClass.getClassLoader*/null // ignoring current classpath\r\n)\r\nnew javax.script.ScriptEngineManager(classLoader)\r\n  .getEngineByName(&quot;scala&quot;)\r\n  .eval(&quot;&quot;&quot;\r\n    type T = [A] =&gt;&gt; [B] =&gt;&gt; (A, B) // Scala 3\r\n    //type T = List[Option[A]] forSome {type A} // Scala 2\r\n    System.out.println(&quot;Hello, World!&quot;)\r\n  &quot;&quot;&quot;)\r\n// Hello, World!\r\n```\r\n\r\n- You can implement Eval in Scala 3 yourself using actual compiler\r\n\r\n```scala\r\nimport dotty.tools.io.AbstractFile\r\nimport dotty.tools.dotc.core.Contexts.Context\r\nimport dotty.tools.dotc.Driver\r\nimport dotty.tools.dotc.util.SourceFile\r\nimport dotty.tools.io.{VirtualDirectory, VirtualFile}\r\nimport java.net.URLClassLoader\r\nimport java.nio.charset.StandardCharsets\r\nimport dotty.tools.repl.AbstractFileClassLoader\r\nimport scala.io.Codec\r\nimport coursier.{Dependency, Module, Organization, ModuleName, Fetch}\r\n\r\n  // we apply usejavacp=true instead\r\n//  val files = Fetch()\r\n//    .addDependencies(\r\n//       Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala3-compiler_3&quot;)), &quot;3.1.3&quot;),\r\n//    )\r\n//    .run()\r\n//\r\n//  val depClassLoader = new URLClassLoader(\r\n//    files.map(_.toURI.toURL).toArray,\r\n//    /*getClass.getClassLoader*/ null // ignoring current classpath\r\n//  )\r\n\r\nval code =\r\n  s&quot;&quot;&quot;\r\n     |package mypackage\r\n     |\r\n     |object Main {\r\n     |  def main(args: Array[String]): Unit = {\r\n     |    println(&quot;Hello, World!&quot;)\r\n     |  }\r\n     |}&quot;&quot;&quot;.stripMargin\r\n\r\nval outputDirectory = VirtualDirectory(&quot;(memory)&quot;)\r\ncompileCode(code, List()/*files.map(f =&gt; AbstractFile.getFile(f.toURI.toURL.getPath)).toList*/, outputDirectory)\r\nval classLoader = AbstractFileClassLoader(outputDirectory, this.getClass.getClassLoader/*depClassLoader*/)\r\nrunObjectMethod(&quot;mypackage.Main&quot;, classLoader, &quot;main&quot;, Seq(classOf[Array[String]]), Array.empty[String])\r\n// Hello, World!\r\n\r\ndef compileCode(\r\n                 code: String,\r\n                 classpathDirectories: List[AbstractFile],\r\n                 outputDirectory: AbstractFile\r\n               ): Unit = {\r\n  class DriverImpl extends Driver {\r\n    private val compileCtx0 = initCtx.fresh\r\n    given Context = compileCtx0.fresh\r\n      .setSetting(\r\n        compileCtx0.settings.classpath,\r\n        classpathDirectories.map(_.path).mkString(&quot;:&quot;)\r\n      ).setSetting(\r\n        compileCtx0.settings.usejavacp,\r\n        true\r\n      ).setSetting(\r\n        compileCtx0.settings.outputDir,\r\n        outputDirectory\r\n      )\r\n    val compiler = newCompiler\r\n  }\r\n\r\n  val driver = new DriverImpl\r\n  import driver.given Context\r\n\r\n  val sourceFile = SourceFile(VirtualFile(&quot;(inline)&quot;, code.getBytes(StandardCharsets.UTF_8)), Codec.UTF8)\r\n  val run = driver.compiler.newRun\r\n  run.compileSources(List(sourceFile))\r\n  // val unit = run.units.head\r\n  // println(&quot;untyped tree=&quot; + unit.untpdTree)\r\n  // println(&quot;typed tree=&quot; + unit.tpdTree)\r\n}\r\n\r\ndef runObjectMethod(\r\n                     objectName: String,\r\n                     classLoader: ClassLoader,\r\n                     methodName: String,\r\n                     paramClasses: Seq[Class[?]],\r\n                     arguments: Any*\r\n                   ): Any = {\r\n  val clazz = Class.forName(s&quot;$objectName$$&quot;, true, classLoader)\r\n  val module = clazz.getField(&quot;MODULE$&quot;).get(null)\r\n  val method = module.getClass.getMethod(methodName, paramClasses*)\r\n  method.invoke(module, arguments*)\r\n}\r\n```\r\n([previous version](https://gist.github.com/DmytroMitin/2e02055bc061e5b7c9421ba76e384013))\r\n\r\n*build.sbt*\r\n```scala\r\nscalaVersion := &quot;3.1.3&quot;\r\nlibraryDependencies += scalaOrganization.value %% &quot;scala3-compiler&quot; % scalaVersion.value\r\n```\r\nSee also: https://stackoverflow.com/questions/71390113/get-annotations-from-class-in-scala-3-macros (hacking multi-staging programming in Scala 3 and implementing our own `eval` instead of Scala 2 `context.eval` or `staging.run` forbiden in Scala 3 macros).\r\n\r\n- See also \r\n\r\n[An intro to the Scala Presentation Compiler](https://www.chris-kipp.io/blog/an-intro-to-the-scala-presentation-compiler)\r\n\r\nhttps://stackoverflow.com/questions/68194436/parsing-scala-3-code-from-a-string-into-scala-3-ast-at-runtime\r\n\r\n[Scala 3 Reflection](https://www.reddit.com/r/scala/comments/siatmj/scala_3_reflection/)\r\n\r\n[Help with dotty compiler and classloading at runtime](https://github.com/lampepfl/dotty/discussions/16080)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/871202/li-haoyi\r\n  [2]: http://ammonite.io/\r\n  [3]: https://stackoverflow.com/users/3827/eugene-yokota\r\n  [4]: https://eed3si9n.com/eval/\r\n  [5]: https://github.com/DmytroMitin/dotty-patched\r\n  [6]: https://javadoc.io/static/org.scala-lang/scala3-compiler_3/3.2.0/dotty/tools/repl/ScriptEngine.html\r\n  [7]: https://docs.scala-lang.org/scala3/reference/metaprogramming/staging.html\r\n  [8]: https://docs.scala-lang.org/overviews/reflection/symbols-trees-types.html#tree-creation-via-parse-on-toolboxes\r\n  [9]: https://www.scala-lang.org/api/2.13.9/scala-compiler/scala/tools/nsc/interpreter/shell/Scripted.html\r\n  [10]: https://jcp.org/aboutJava/communityprocess/final/jsr223/index.html\r\n  [11]: https://github.com/lampepfl/dotty/blob/master/tests/run-with-compiler/scripting.scala","title":"How to compile and execute scala code at run-time in Scala3?","body":"<p>Scala 2 version of this answer is here: <a href=\"https://stackoverflow.com/questions/73911801/how-can-i-run-generated-code-during-script-runtime\">How can I run generated code during script runtime?</a></p>\n<p>In Scala 3:</p>\n<ul>\n<li>For example you can use <a href=\"https://stackoverflow.com/users/871202/li-haoyi\">Li Haoyi</a>'s <a href=\"http://ammonite.io/\" rel=\"noreferrer\">Ammonite</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>ammonite.Main(verboseOutput = false).runCode(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies += &quot;com.lihaoyi&quot; % &quot;ammonite&quot; % &quot;2.5.4-22-4a9e6989&quot; cross CrossVersion.full\nexcludeDependencies ++= Seq(\n  ExclusionRule(&quot;com.lihaoyi&quot;, &quot;sourcecode_2.13&quot;),\n  ExclusionRule(&quot;com.lihaoyi&quot;, &quot;fansi_2.13&quot;),\n)\n</code></pre>\n<ul>\n<li>Or you can try <a href=\"https://stackoverflow.com/users/3827/eugene-yokota\">Eugene Yokota</a>'s <a href=\"https://eed3si9n.com/eval/\" rel=\"noreferrer\">Eval</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>com.eed3si9n.eval.Eval()\n  .evalInfer(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n  .getValue(this.getClass.getClassLoader)\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.2.0&quot;\nlibraryDependencies += &quot;com.eed3si9n.eval&quot; % &quot;eval&quot; % &quot;0.1.0&quot; cross CrossVersion.full\n</code></pre>\n<ul>\n<li>Or you can try my <a href=\"https://github.com/DmytroMitin/dotty-patched\" rel=\"noreferrer\">implementation</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>com.github.dmytromitin.eval.Eval[Unit](&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.2.1&quot;\nlibraryDependencies += &quot;com.github.dmytromitin&quot; %% &quot;eval&quot; % &quot;0.1&quot;\n</code></pre>\n<ul>\n<li>Also you can use standard Scala 3 REPL <a href=\"https://javadoc.io/static/org.scala-lang/scala3-compiler_3/3.2.0/dotty/tools/repl/ScriptEngine.html\" rel=\"noreferrer\">interpreter</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>dotty.tools.repl.ScriptEngine().eval(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies += scalaOrganization.value %% &quot;scala3-compiler&quot; % scalaVersion.value\n</code></pre>\n<ul>\n<li>If you have a <code>scala.quoted.Expr</code> <code>'{...}</code> (a statically typed wrapper over an abstract syntax tree <code>scala.quoted.Quotes#Tree</code>) rather than plain string then you can use runtime <a href=\"https://docs.scala-lang.org/scala3/reference/metaprogramming/staging.html\" rel=\"noreferrer\">multi-staging</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.quoted.*\ngiven staging.Compiler = staging.Compiler.make(getClass.getClassLoader)\nstaging.run('{ println(&quot;Hello, World!&quot;) })\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies += scalaOrganization.value %% &quot;scala3-staging&quot; % scalaVersion.value\n</code></pre>\n<ul>\n<li>All of the above is to run Scala 3 code in Scala 3. If we want to run Scala 2 code in Scala 3 then we can still use Scala 2 reflective <a href=\"https://docs.scala-lang.org/overviews/reflection/symbols-trees-types.html#tree-creation-via-parse-on-toolboxes\" rel=\"noreferrer\">Toolbox</a>. Scala 2 macros don't work, so we can't do <code>runtime.currentMirror</code> or <code>q&quot;...&quot;</code> but can do <code>universe.runtimeMirror</code> or <code>tb.parse</code></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.tools.reflect.ToolBox // implicit \n\nval tb = scala.reflect.runtime.universe\n  .runtimeMirror(getClass.getClassLoader)\n  .mkToolBox()\ntb.eval(tb.parse(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;))\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies ++= scalaOrganization.value % &quot;scala-compiler&quot; % &quot;2.13.8&quot;\n</code></pre>\n<ul>\n<li>Also to run Scala 2 code in Scala 3 you can use standard Scala 2 REPL <a href=\"https://www.scala-lang.org/api/2.13.9/scala-compiler/scala/tools/nsc/interpreter/shell/Scripted.html\" rel=\"noreferrer\">interpreter</a></li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>scala.tools.nsc.interpreter.shell.Scripted()\n  .eval(&quot;&quot;&quot;System.out.println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies ++= scalaOrganization.value % &quot;scala-compiler&quot; % &quot;2.13.8&quot;\n</code></pre>\n<ul>\n<li>Also you can use <a href=\"https://jcp.org/aboutJava/communityprocess/final/jsr223/index.html\" rel=\"noreferrer\">JSR223</a> <a href=\"https://github.com/lampepfl/dotty/blob/master/tests/run-with-compiler/scripting.scala\" rel=\"noreferrer\">scripting</a>. Depending on whether you have <code>scala3-compiler</code> or <code>scala-compiler</code> in your classpath you will run Scala 3 or Scala 2 (one of the two above script engines: Scala 3 <code>dotty.tools.repl.ScriptEngine</code> or Scala 2 <code>scala.tools.nsc.interpreter.shell.Scripted</code>). If you have both the dependency added first wins.</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>new javax.script.ScriptEngineManager(getClass.getClassLoader)\n  .getEngineByName(&quot;scala&quot;)\n  .eval(&quot;&quot;&quot;println(&quot;Hello, World!&quot;)&quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<p>If you'd like to have a better control what dependency is used (without re-importing the project) you can use Coursier and specify class loader</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import coursier.* // libraryDependencies += &quot;io.get-coursier&quot; %% &quot;coursier&quot; % &quot;2.1.0-M6-53-gb4f448130&quot; cross CrossVersion.for3Use2_13\nval files = Fetch()\n  .addDependencies(\n    Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala3-compiler_3&quot;)), &quot;3.2.0&quot;),\n    // Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala-compiler&quot;)), &quot;2.13.9&quot;)\n  )\n  .run()\n\nval classLoader = new java.net.URLClassLoader(\n  files.map(_.toURI.toURL).toArray,\n  /*getClass.getClassLoader*/null // ignoring current classpath\n)\nnew javax.script.ScriptEngineManager(classLoader)\n  .getEngineByName(&quot;scala&quot;)\n  .eval(&quot;&quot;&quot;\n    type T = [A] =&gt;&gt; [B] =&gt;&gt; (A, B) // Scala 3\n    //type T = List[Option[A]] forSome {type A} // Scala 2\n    System.out.println(&quot;Hello, World!&quot;)\n  &quot;&quot;&quot;)\n// Hello, World!\n</code></pre>\n<ul>\n<li>You can implement Eval in Scala 3 yourself using actual compiler</li>\n</ul>\n<pre class=\"lang-scala prettyprint-override\"><code>import dotty.tools.io.AbstractFile\nimport dotty.tools.dotc.core.Contexts.Context\nimport dotty.tools.dotc.Driver\nimport dotty.tools.dotc.util.SourceFile\nimport dotty.tools.io.{VirtualDirectory, VirtualFile}\nimport java.net.URLClassLoader\nimport java.nio.charset.StandardCharsets\nimport dotty.tools.repl.AbstractFileClassLoader\nimport scala.io.Codec\nimport coursier.{Dependency, Module, Organization, ModuleName, Fetch}\n\n  // we apply usejavacp=true instead\n//  val files = Fetch()\n//    .addDependencies(\n//       Dependency(Module(Organization(&quot;org.scala-lang&quot;), ModuleName(&quot;scala3-compiler_3&quot;)), &quot;3.1.3&quot;),\n//    )\n//    .run()\n//\n//  val depClassLoader = new URLClassLoader(\n//    files.map(_.toURI.toURL).toArray,\n//    /*getClass.getClassLoader*/ null // ignoring current classpath\n//  )\n\nval code =\n  s&quot;&quot;&quot;\n     |package mypackage\n     |\n     |object Main {\n     |  def main(args: Array[String]): Unit = {\n     |    println(&quot;Hello, World!&quot;)\n     |  }\n     |}&quot;&quot;&quot;.stripMargin\n\nval outputDirectory = VirtualDirectory(&quot;(memory)&quot;)\ncompileCode(code, List()/*files.map(f =&gt; AbstractFile.getFile(f.toURI.toURL.getPath)).toList*/, outputDirectory)\nval classLoader = AbstractFileClassLoader(outputDirectory, this.getClass.getClassLoader/*depClassLoader*/)\nrunObjectMethod(&quot;mypackage.Main&quot;, classLoader, &quot;main&quot;, Seq(classOf[Array[String]]), Array.empty[String])\n// Hello, World!\n\ndef compileCode(\n                 code: String,\n                 classpathDirectories: List[AbstractFile],\n                 outputDirectory: AbstractFile\n               ): Unit = {\n  class DriverImpl extends Driver {\n    private val compileCtx0 = initCtx.fresh\n    given Context = compileCtx0.fresh\n      .setSetting(\n        compileCtx0.settings.classpath,\n        classpathDirectories.map(_.path).mkString(&quot;:&quot;)\n      ).setSetting(\n        compileCtx0.settings.usejavacp,\n        true\n      ).setSetting(\n        compileCtx0.settings.outputDir,\n        outputDirectory\n      )\n    val compiler = newCompiler\n  }\n\n  val driver = new DriverImpl\n  import driver.given Context\n\n  val sourceFile = SourceFile(VirtualFile(&quot;(inline)&quot;, code.getBytes(StandardCharsets.UTF_8)), Codec.UTF8)\n  val run = driver.compiler.newRun\n  run.compileSources(List(sourceFile))\n  // val unit = run.units.head\n  // println(&quot;untyped tree=&quot; + unit.untpdTree)\n  // println(&quot;typed tree=&quot; + unit.tpdTree)\n}\n\ndef runObjectMethod(\n                     objectName: String,\n                     classLoader: ClassLoader,\n                     methodName: String,\n                     paramClasses: Seq[Class[?]],\n                     arguments: Any*\n                   ): Any = {\n  val clazz = Class.forName(s&quot;$objectName$$&quot;, true, classLoader)\n  val module = clazz.getField(&quot;MODULE$&quot;).get(null)\n  val method = module.getClass.getMethod(methodName, paramClasses*)\n  method.invoke(module, arguments*)\n}\n</code></pre>\n<p>(<a href=\"https://gist.github.com/DmytroMitin/2e02055bc061e5b7c9421ba76e384013\" rel=\"noreferrer\">previous version</a>)</p>\n<p><em>build.sbt</em></p>\n<pre class=\"lang-scala prettyprint-override\"><code>scalaVersion := &quot;3.1.3&quot;\nlibraryDependencies += scalaOrganization.value %% &quot;scala3-compiler&quot; % scalaVersion.value\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/questions/71390113/get-annotations-from-class-in-scala-3-macros\">get annotations from class in scala 3 macros</a> (hacking multi-staging programming in Scala 3 and implementing our own <code>eval</code> instead of Scala 2 <code>context.eval</code> or <code>staging.run</code> forbiden in Scala 3 macros).</p>\n<ul>\n<li>See also</li>\n</ul>\n<p><a href=\"https://www.chris-kipp.io/blog/an-intro-to-the-scala-presentation-compiler\" rel=\"noreferrer\">An intro to the Scala Presentation Compiler</a></p>\n<p><a href=\"https://stackoverflow.com/questions/68194436/parsing-scala-3-code-from-a-string-into-scala-3-ast-at-runtime\">Parsing scala 3 code from a String into Scala 3 AST at runtime</a></p>\n<p><a href=\"https://www.reddit.com/r/scala/comments/siatmj/scala_3_reflection/\" rel=\"noreferrer\">Scala 3 Reflection</a></p>\n<p><a href=\"https://github.com/lampepfl/dotty/discussions/16080\" rel=\"noreferrer\">Help with dotty compiler and classloading at runtime</a></p>\n"}],"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1667149981,"creation_date":1643738338,"question_id":70945320,"body_markdown":"I would like to compile and execute Scala code given as a String at run-time using Scala3. Like for example in Scala 2 I would have used Reflection\r\n\r\n    import scala.reflect.runtime.universe as ru\r\n    import scala.tools.reflect.ToolBox\r\n    val scalaCode = q&quot;&quot;&quot;println(&quot;Hello world!&quot;)&quot;&quot;&quot;\r\n    val evalMirror = ru.runtimeMirror(this.getClass.getClassLoader)\r\n    val toolBox = evalMirror.mkToolBox()\r\n    toolBox.eval(scalaCode) //Hello world!\r\n\r\nIf I try to run this code in Scala3 I get\r\n\r\n    Scala 2 macro cannot be used in Dotty. See https://dotty.epfl.ch/docs/reference/dropped-features/macros.html\r\n    To turn this error into a warning, pass -Xignore-scala2-macros to the compiler\r\n\r\nHow can I translate this code in Scala3 ? \r\n\r\n ","title":"How to compile and execute scala code at run-time in Scala3?","body":"<p>I would like to compile and execute Scala code given as a String at run-time using Scala3. Like for example in Scala 2 I would have used Reflection</p>\n<pre><code>import scala.reflect.runtime.universe as ru\nimport scala.tools.reflect.ToolBox\nval scalaCode = q&quot;&quot;&quot;println(&quot;Hello world!&quot;)&quot;&quot;&quot;\nval evalMirror = ru.runtimeMirror(this.getClass.getClassLoader)\nval toolBox = evalMirror.mkToolBox()\ntoolBox.eval(scalaCode) //Hello world!\n</code></pre>\n<p>If I try to run this code in Scala3 I get</p>\n<pre><code>Scala 2 macro cannot be used in Dotty. See https://dotty.epfl.ch/docs/reference/dropped-features/macros.html\nTo turn this error into a warning, pass -Xignore-scala2-macros to the compiler\n</code></pre>\n<p>How can I translate this code in Scala3 ?</p>\n"},{"tags":["java","android","ssl"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667144931,"post_id":74254450,"comment_id":131096269,"body_markdown":"What do you mean by &quot;disable&quot;? If you are using OkHttp (or things layered on it, like Retrofit) for your app&#39;s HTTPS requests, you can [specify which TLS versions you wish to support](https://square.github.io/okhttp/features/https/).","body":"What do you mean by &quot;disable&quot;? If you are using OkHttp (or things layered on it, like Retrofit) for your app&#39;s HTTPS requests, you can <a href=\"https://square.github.io/okhttp/features/https/\" rel=\"nofollow noreferrer\">specify which TLS versions you wish to support</a>."},{"owner":{"account_id":6309725,"reputation":41,"user_id":4901657,"display_name":"raitech"},"score":0,"creation_date":1667148633,"post_id":74254450,"comment_id":131097135,"body_markdown":"Question edited","body":"Question edited"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667166982,"post_id":74254450,"comment_id":131101067,"body_markdown":"Jsch uses the SSH protocol, not TLS. I&#39;m not sure what you&#39;re asking.","body":"Jsch uses the SSH protocol, not TLS. I&#39;m not sure what you&#39;re asking."},{"owner":{"account_id":11254118,"reputation":219,"user_id":8254454,"display_name":"Dimitri Tenenbaum"},"score":0,"creation_date":1667855918,"post_id":74254450,"comment_id":131263417,"body_markdown":"Have you tried  System.setProperty(&quot;jdk.tls.client.protocols&quot;,&quot;TLSv1.2&quot;) ?","body":"Have you tried  System.setProperty(&quot;jdk.tls.client.protocols&quot;,&quot;TLSv1.2&quot;) ?"}],"owner":{"account_id":6309725,"reputation":41,"user_id":4901657,"display_name":"raitech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667149661,"creation_date":1667144649,"question_id":74254450,"body_markdown":"I know that it is possible to disable TLSv1.0 (or others) in Java using JVM parameters as mentioned in [Question 1][1] or [Question 2][2].\r\nIs there any way to disable it in an android App?\r\n\r\nI am using JSch to do ssh port forwarding but I don&#39;t want TLS Client Hello in TLSv1.0. JSch doesn&#39;t have any API for using TLSv1.2 only.\r\nSo I decided to disable TLSv1.0 application wide.\r\n\r\nI already used this but no success.\r\n```\r\nSystem.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\n```\r\nSecurity.getProviders()\r\nSSLContext.getDefault().getSupportedSSLParameters().setAlgorithmConstraints(algo);\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\r\n  [2]: https://stackoverflow.com/questions/32466407/how-to-force-java-server-to-accept-only-tls-1-2-and-reject-tls-1-0-and-tls-1-1-c","title":"Disabling TLSv1.0 for Jsch in android application","body":"<p>I know that it is possible to disable TLSv1.0 (or others) in Java using JVM parameters as mentioned in <a href=\"https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\">Question 1</a> or <a href=\"https://stackoverflow.com/questions/32466407/how-to-force-java-server-to-accept-only-tls-1-2-and-reject-tls-1-0-and-tls-1-1-c\">Question 2</a>.\nIs there any way to disable it in an android App?</p>\n<p>I am using JSch to do ssh port forwarding but I don't want TLS Client Hello in TLSv1.0. JSch doesn't have any API for using TLSv1.2 only.\nSo I decided to disable TLSv1.0 application wide.</p>\n<p>I already used this but no success.</p>\n<pre><code>System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<pre><code>Security.getProviders()\nSSLContext.getDefault().getSupportedSSLParameters().setAlgorithmConstraints(algo);\n</code></pre>\n"},{"tags":["java","mysql","sql","jsp"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1396096828,"post_id":22731157,"comment_id":34643935,"body_markdown":"If you run your query outside your jsp application, do you get data?","body":"If you run your query outside your jsp application, do you get data?"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396097090,"post_id":22731157,"comment_id":34644012,"body_markdown":"Yes, i got data in mysql using query. But unfortunately not in jsp application.","body":"Yes, i got data in mysql using query. But unfortunately not in jsp application."}],"answers":[{"comments":[{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396098981,"post_id":22731433,"comment_id":34644593,"body_markdown":"Thanks @Ravinder, I have removed that but still i am getting data from first table (tbl1) only. Not from tbl2.","body":"Thanks @Ravinder, I have removed that but still i am getting data from first table (tbl1) only. Not from tbl2."},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1396099776,"post_id":22731433,"comment_id":34644839,"body_markdown":"Create both `tbl1` and `tbl2` with data on [*SQL Fiddle*](http://sqlfiddle.com) and share with us.","body":"Create both <code>tbl1</code> and <code>tbl2</code> with data on <a href=\"http://sqlfiddle.com\" rel=\"nofollow noreferrer\"><i>SQL Fiddle</i></a> and share with us."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396103907,"post_id":22731433,"comment_id":34646147,"body_markdown":"CREATE TABLE `demo1`.`tbl1` (\n  `id` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,\n  `name` VARCHAR(45) NOT NULL,\n  `surname` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`id`),\n)\nENGINE = InnoDB;\n\nINSERT INTO tbl1(name,surname) values(&#39;abc&#39;,&#39;xyz&#39;),(&#39;pqr&#39;,&#39;mnc&#39;),(&#39;vbc&#39;,&#39;lmn&#39;),(&#39;itl&#39;,&#39;quk&#39;);","body":"CREATE TABLE <code>demo1</code>.<code>tbl1</code> (   <code>id</code> INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,   <code>name</code> VARCHAR(45) NOT NULL,   <code>surname</code> VARCHAR(45) NOT NULL,   PRIMARY KEY (<code>id</code>), ) ENGINE = InnoDB;  INSERT INTO tbl1(name,surname) values(&#39;abc&#39;,&#39;xyz&#39;),(&#39;pqr&#39;,&#39;mnc&#39;),(&#39;vbc&#39;,&#39;lmn&#39;),(&#39;itl&#39;,&#39;quk&#39;&zwnj;&#8203;);"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396103949,"post_id":22731433,"comment_id":34646157,"body_markdown":"CREATE TABLE `demo1`.`tbl2` (\n  `id` INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,\n  `id_tbl1` INTEGER UNSIGNED NOT NULL,\n  `hobbies` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`id_tbl2`),\n  CONSTRAINT `FK_tbl4_1` FOREIGN KEY `FK_tbl4_1` (`id_tbl1`)\n    REFERENCES `tbl1` (`id`)\n    ON DELETE RESTRICT\n    ON UPDATE RESTRICT\n)\nENGINE = InnoDB;\n\n\nINSERT INTO tbl2(id_tbl1,hobibes) values(&#39;1&#39;,&#39;tennis&#39;),(&#39;1&#39;,&#39;football&#39;),(&#39;2&#39;,&#39;carrom&#39;),(&#39;2&#39;,&#39;cricket&#39;),(&#39;3&#39;,&#39;rugby&#39;),(&#39;4&#39;,&#39;reading&#39;);","body":"CREATE TABLE <code>demo1</code>.<code>tbl2</code> (   <code>id</code> INTEGER UNSIGNED NOT NULL AUTO_INCREMENT,   <code>id_tbl1</code> INTEGER UNSIGNED NOT NULL,   <code>hobbies</code> VARCHAR(45) NOT NULL,   PRIMARY KEY (<code>id_tbl2</code>),   CONSTRAINT <code>FK_tbl4_1</code> FOREIGN KEY <code>FK_tbl4_1</code> (<code>id_tbl1</code>)     REFERENCES <code>tbl1</code> (<code>id</code>)     ON DELETE RESTRICT     ON UPDATE RESTRICT ) ENGINE = InnoDB;   INSERT INTO tbl2(id_tbl1,hobibes) values(&#39;1&#39;,&#39;tennis&#39;),(&#39;1&#39;,&#39;football&#39;),(&#39;2&#39;,&#39;carrom&#39;),(&#39;2&#39;,&#39;c&zwnj;&#8203;ricket&#39;),(&#39;3&#39;,&#39;rugby&zwnj;&#8203;&#39;),(&#39;4&#39;,&#39;reading&#39;);"},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1396104047,"post_id":22731433,"comment_id":34646194,"body_markdown":"Why don&#39;t you create the same on [*SQL Fiddle*](http://sqlfiddle.com) and share with us.","body":"Why don&#39;t you create the same on <a href=\"http://sqlfiddle.com\" rel=\"nofollow noreferrer\"><i>SQL Fiddle</i></a> and share with us."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396104058,"post_id":22731433,"comment_id":34646197,"body_markdown":"I have added query of my two tables. @Ravinder","body":"I have added query of my two tables. @Ravinder"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396104142,"post_id":22731433,"comment_id":34646220,"body_markdown":"Sorry i have tried in it but i can&#39;t create it. Please check my this query in MYSQL. Thanks. @Ravinder","body":"Sorry i have tried in it but i can&#39;t create it. Please check my this query in MYSQL. Thanks. @Ravinder"},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1396105016,"post_id":22731433,"comment_id":34646506,"body_markdown":"Some of columns names used in java query are not present in these tables. Unless which, suggesting a solution is just a guessing and may not be correct. And waste of time as well.","body":"Some of columns names used in java query are not present in these tables. Unless which, suggesting a solution is just a guessing and may not be correct. And waste of time as well."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396122441,"post_id":22731433,"comment_id":34652386,"body_markdown":"Please check this query. I have correct it.@Ravinder\n\nrs=st.executeQuery(&quot;SELECT tbl1.name, tbl2.hobibes, tbl1.surname  FROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1&quot;);","body":"Please check this query. I have correct it.@Ravinder  rs=st.executeQuery(&quot;SELECT tbl1.name, tbl2.hobibes, tbl1.surname  FROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1&quot;);"},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1396122553,"post_id":22731433,"comment_id":34652415,"body_markdown":"@RonakJoshi: You better add your table structure and sample data to your posting rather than in comments. Also include expected output.","body":"@RonakJoshi: You better add your table structure and sample data to your posting rather than in comments. Also include expected output."},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1396123209,"post_id":22731433,"comment_id":34652624,"body_markdown":"Thanks for your help i got the solution. I have done silly mistake in select query.","body":"Thanks for your help i got the solution. I have done silly mistake in select query."}],"tags":[],"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396098155,"creation_date":1396098155,"answer_id":22731433,"question_id":22731157,"body_markdown":"Your query is:  \r\n\r\n    SELECT tbl1.name, tbl2.id_tbl2, tbl1.salary  \r\n    FROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1\r\n\r\nThere are only 3 fields in the select statements.  \r\nBut you are trying to read the 4th field which does not exist.\r\n\r\n    out.write(rs.getString(1));\r\n    \r\n    out.write(rs.getString(2));\r\n    out.write(&quot;&lt;/br&gt;&quot;);\r\n    \r\n    out.write(rs.getString(3));\r\n    out.write(&quot;&lt;/br&gt;&quot;);\r\n    \r\n    out.write(rs.getString(4)); // this will result a runtime exception\r\n    out.write(&quot;&lt;/br&gt;&quot;);\r\n\r\nRemove the 4th, i.e. `getString(4)`, statement, and it should be working.\r\n","title":"How to retrieve data from two table that are associated with a forign key in jsp from mysql","body":"<p>Your query is:  </p>\n\n<pre><code>SELECT tbl1.name, tbl2.id_tbl2, tbl1.salary  \nFROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1\n</code></pre>\n\n<p>There are only 3 fields in the select statements.<br>\nBut you are trying to read the 4th field which does not exist.</p>\n\n<pre><code>out.write(rs.getString(1));\n\nout.write(rs.getString(2));\nout.write(\"&lt;/br&gt;\");\n\nout.write(rs.getString(3));\nout.write(\"&lt;/br&gt;\");\n\nout.write(rs.getString(4)); // this will result a runtime exception\nout.write(\"&lt;/br&gt;\");\n</code></pre>\n\n<p>Remove the 4th, i.e. <code>getString(4)</code>, statement, and it should be working.</p>\n"}],"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667149260,"creation_date":1396096527,"question_id":22731157,"body_markdown":"I have two tables in demo1 database. And i have to retrieve data from both of them. They have linked with foreign key. But when i tried i got data form only single table which is tbl1 but not getting data of referenced tbl2. So please help me for this. This is my code what i have done for this. There are two tables tbl1 and tbl2. And tbl1&#39;s primarykey id is given foreign key in tbl2,and tbl2&#39;s primary key is id_tbl2. \r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n         &lt;%\r\n                Connection con=null;\r\n                Statement st=null;\r\n                ResultSet rs=null;  \r\n                try{\r\n                  Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                  con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/demo1&quot;,&quot;root&quot;,&quot;root&quot;);\r\n                  st=con.createStatement();\r\n                  rs=st.executeQuery(&quot;SELECT tbl1.name, tbl2.id_tbl2, tbl1.surname  FROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1&quot;);\r\n                                 while(rs.next())\r\n                  {\r\n                      out.write(&quot;&lt;/br&gt;&quot;);\r\n                      out.write(rs.getString(1));\r\n                       \r\n                    out.write(rs.getString(2));\r\n                    out.write(&quot;&lt;/br&gt;&quot;);\r\n                    \r\n                     out.write(rs.getString(3));\r\n                    out.write(&quot;&lt;/br&gt;&quot;);\r\n                 \r\n                    out.write(rs.getString(4));\r\n                    out.write(&quot;&lt;/br&gt;&quot;);\r\n                               } rs.close();con.close();\r\n                 }catch(Exception e){\r\n                  out.write(&quot; &quot;+e);               \r\n                }\r\n            %&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How to retrieve data from two table that are associated with a forign key in jsp from mysql","body":"<p>I have two tables in demo1 database. And i have to retrieve data from both of them. They have linked with foreign key. But when i tried i got data form only single table which is tbl1 but not getting data of referenced tbl2. So please help me for this. This is my code what i have done for this. There are two tables tbl1 and tbl2. And tbl1's primarykey id is given foreign key in tbl2,and tbl2's primary key is id_tbl2. </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n     &lt;%\n            Connection con=null;\n            Statement st=null;\n            ResultSet rs=null;  \n            try{\n              Class.forName(\"com.mysql.jdbc.Driver\");\n              con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/demo1\",\"root\",\"root\");\n              st=con.createStatement();\n              rs=st.executeQuery(\"SELECT tbl1.name, tbl2.id_tbl2, tbl1.surname  FROM tbl1 INNER JOIN tbl2 ON tbl1.id=tbl2.id_tbl1\");\n                             while(rs.next())\n              {\n                  out.write(\"&lt;/br&gt;\");\n                  out.write(rs.getString(1));\n\n                out.write(rs.getString(2));\n                out.write(\"&lt;/br&gt;\");\n\n                 out.write(rs.getString(3));\n                out.write(\"&lt;/br&gt;\");\n\n                out.write(rs.getString(4));\n                out.write(\"&lt;/br&gt;\");\n                           } rs.close();con.close();\n             }catch(Exception e){\n              out.write(\" \"+e);               \n            }\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","logging","dependency-injection","service-locator"],"comments":[{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":0,"creation_date":1373628833,"post_id":17613795,"comment_id":25638927,"body_markdown":"What kind of information do you log when you do &#39;manual logging&#39;?","body":"What kind of information do you log when you do &#39;manual logging&#39;?"},{"owner":{"account_id":1321418,"reputation":3529,"user_id":1267168,"display_name":"Pyranja"},"score":2,"creation_date":1373629108,"post_id":17613795,"comment_id":25639082,"body_markdown":"All logging frameworks I know use a singleton factory for concrete logger instances. If you want to be flexible w.r.t the logger implementation you can use a logging facade like slf4j.","body":"All logging frameworks I know use a singleton factory for concrete logger instances. If you want to be flexible w.r.t the logger implementation you can use a logging facade like slf4j."},{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":2,"creation_date":1373630067,"post_id":17613795,"comment_id":25639576,"body_markdown":"I disagree with @Pyranja. If you want more flexibility, define your own `ILogger` abstraction (one that contains just one member), hide your logging framework behind that abstraction and inject that interface into the classes that need it. That allows you to unit test that code properly and hides a third party dependency. Take a look at [this answer](http://stackoverflow.com/questions/5646820/logger-wrapper-best-practice).","body":"I disagree with @Pyranja. If you want more flexibility, define your own <code>ILogger</code> abstraction (one that contains just one member), hide your logging framework behind that abstraction and inject that interface into the classes that need it. That allows you to unit test that code properly and hides a third party dependency. Take a look at <a href=\"http://stackoverflow.com/questions/5646820/logger-wrapper-best-practice\">this answer</a>."},{"owner":{"account_id":1321418,"reputation":3529,"user_id":1267168,"display_name":"Pyranja"},"score":1,"creation_date":1373630969,"post_id":17613795,"comment_id":25640042,"body_markdown":"I think we have to agree to disagree. In my opinion, logging is such a generic task, that using a custom abstraction does not add considerable benefit. Established logging facades like slf4j already offer such an abstraction (which could also be injected if one dislikes static factories). Unless there are specific requirements, I expect a custom logger interface to be so similar to the ones already available, that they are interchangeable. And the heavy lifting of connecting the facade to concrete logging implementations has already been done!","body":"I think we have to agree to disagree. In my opinion, logging is such a generic task, that using a custom abstraction does not add considerable benefit. Established logging facades like slf4j already offer such an abstraction (which could also be injected if one dislikes static factories). Unless there are specific requirements, I expect a custom logger interface to be so similar to the ones already available, that they are interchangeable. And the heavy lifting of connecting the facade to concrete logging implementations has already been done!"},{"owner":{"account_id":3038223,"reputation":157,"user_id":2575815,"accept_rate":60,"display_name":"SimFirehawk"},"score":1,"creation_date":1373633317,"post_id":17613795,"comment_id":25641282,"body_markdown":"@Steven: debug information, for instance file parsing (from which file). But as more as I think about I realize that some of it collides with SRP","body":"@Steven: debug information, for instance file parsing (from which file). But as more as I think about I realize that some of it collides with SRP"}],"answers":[{"comments":[{"owner":{"account_id":3038223,"reputation":157,"user_id":2575815,"accept_rate":60,"display_name":"SimFirehawk"},"score":1,"creation_date":1373633099,"post_id":17614683,"comment_id":25641178,"body_markdown":"Thank you very much for the link. It helped a lot to understand the design problem I have. So I understand for exceptions it does not make sense and it is much better with a decorator.\nFor logging debug information, there is still the question from above.","body":"Thank you very much for the link. It helped a lot to understand the design problem I have. So I understand for exceptions it does not make sense and it is much better with a decorator. For logging debug information, there is still the question from above."},{"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"score":1,"creation_date":1481762833,"post_id":17614683,"comment_id":69511188,"body_markdown":"@SimFirehawk, while engineers may not read through the logs, other systems may process them so as to make more accessible the information contained in the logs. In such environments, it makes sense to write unit tests for the more important logging (eg to ensure that something is logged under specific scenarios). Such tests may need to double out the logger.","body":"@SimFirehawk, while engineers may not read through the logs, other systems may process them so as to make more accessible the information contained in the logs. In such environments, it makes sense to write unit tests for the more important logging (eg to ensure that something is logged under specific scenarios). Such tests may need to double out the logger."}],"tags":[],"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1667149169,"creation_date":1373631283,"answer_id":17614683,"question_id":17613795,"body_markdown":"&gt; I need some way of logging in nearly each class in my application.\r\n\r\nThink again. If you think you need logging in nearly every class, your design might be sub optimal and might cause maintenance issues in the long run. [This Stack Overflow answer][1] talks about what&#39;s the issue and how to improve it. It&#39;s answered in the context of .NET, but the answer is applicable to Java as well.\r\n \r\nThat answer mainly talks about exception logging, for non-exception logging I would say: Prevent logging too much information at too many places. For each info or warning that you want to log, question whether this shouldn&#39;t have been an exception in the first place. For instance, don&#39;t log things like &quot;we shouldn&#39;t be in this branch&quot;, but throw an exception!\r\n\r\nAnd even when you want to log debug information, does anyone ever going to read this? You&#39;ll end up with log files with thousands and thousands of lines that nobody ever reads. And if they read it, they have to wade through all those lines of text and do complicated regex searches through it to get the information they were looking for.\r\n\r\nAnother reason I see developers do this is to cover up for their used coding practices. Just as comments are used in this way. I see developers log things like &quot;we have executed this block&quot; or &quot;this if branch skipped&quot;. This way they can trace through the code and big methods.\r\n\r\nHowever, instead of writing big methods, we all know by now that [methods should be small][2]. No, even smaller. Besides, if you unit test your code thoroughly, there is not much reason to debug the code and you have verified that it does what it is supposed to do.\r\n\r\nAnd again good design can help here. When you use a design as described in that Stack Overflow answer (with command handlers), you can again create a single decorator that can serialize any arbitrary command message and log it to disk before the execution starts. This gives you an amazingly accurate log. Just add some context information (such as execution time and user name) to the log and you have an audit trail that could even be used to replay commands during debugging or even load testing.\r\n\r\nI use this type of application design for a couple of years now, and since then, I hardly ever have any reason to do extra logging within the business logic. It is needed now and then, but those cases are pretty rare.\r\n\r\n&gt; but it feels like adding the logging concern really to \r\n&gt; each class and pollutes my constructor\r\n\r\nIt does, and you&#39;ll end up with constructors with too many parameters. But don&#39;t blame the logger, blame your code. You are violating the [Single Responsibility Principle][3] here. You can &#39;hide&#39; this dependency by calling it through a static facade, but that doesn&#39;t lower the number of dependencies and overall complexity of a class.\r\n\r\n&gt; using a global service locator in the method where I want to call the log. Uhh but all DI fans will hate me for doing that\r\n\r\nIn the end, you will hate yourself for that, because every class is still has an extra dependency (a well hidden dependency in this case). This makes each class more complicated, and will force you to have more code: more code to test, more code to have bugs, more code to maintain.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9915056/264697\r\n  [2]: https://softwareengineering.stackexchange.com/questions/133404/what-is-the-ideal-length-of-a-method\r\n  [3]: http://en.wikipedia.org/wiki/Single_responsibility_principle","title":"Logging and Dependency Injection","body":"<blockquote>\n<p>I need some way of logging in nearly each class in my application.</p>\n</blockquote>\n<p>Think again. If you think you need logging in nearly every class, your design might be sub optimal and might cause maintenance issues in the long run. <a href=\"https://stackoverflow.com/a/9915056/264697\">This Stack Overflow answer</a> talks about what's the issue and how to improve it. It's answered in the context of .NET, but the answer is applicable to Java as well.</p>\n<p>That answer mainly talks about exception logging, for non-exception logging I would say: Prevent logging too much information at too many places. For each info or warning that you want to log, question whether this shouldn't have been an exception in the first place. For instance, don't log things like &quot;we shouldn't be in this branch&quot;, but throw an exception!</p>\n<p>And even when you want to log debug information, does anyone ever going to read this? You'll end up with log files with thousands and thousands of lines that nobody ever reads. And if they read it, they have to wade through all those lines of text and do complicated regex searches through it to get the information they were looking for.</p>\n<p>Another reason I see developers do this is to cover up for their used coding practices. Just as comments are used in this way. I see developers log things like &quot;we have executed this block&quot; or &quot;this if branch skipped&quot;. This way they can trace through the code and big methods.</p>\n<p>However, instead of writing big methods, we all know by now that <a href=\"https://softwareengineering.stackexchange.com/questions/133404/what-is-the-ideal-length-of-a-method\">methods should be small</a>. No, even smaller. Besides, if you unit test your code thoroughly, there is not much reason to debug the code and you have verified that it does what it is supposed to do.</p>\n<p>And again good design can help here. When you use a design as described in that Stack Overflow answer (with command handlers), you can again create a single decorator that can serialize any arbitrary command message and log it to disk before the execution starts. This gives you an amazingly accurate log. Just add some context information (such as execution time and user name) to the log and you have an audit trail that could even be used to replay commands during debugging or even load testing.</p>\n<p>I use this type of application design for a couple of years now, and since then, I hardly ever have any reason to do extra logging within the business logic. It is needed now and then, but those cases are pretty rare.</p>\n<blockquote>\n<p>but it feels like adding the logging concern really to\neach class and pollutes my constructor</p>\n</blockquote>\n<p>It does, and you'll end up with constructors with too many parameters. But don't blame the logger, blame your code. You are violating the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a> here. You can 'hide' this dependency by calling it through a static facade, but that doesn't lower the number of dependencies and overall complexity of a class.</p>\n<blockquote>\n<p>using a global service locator in the method where I want to call the log. Uhh but all DI fans will hate me for doing that</p>\n</blockquote>\n<p>In the end, you will hate yourself for that, because every class is still has an extra dependency (a well hidden dependency in this case). This makes each class more complicated, and will force you to have more code: more code to test, more code to have bugs, more code to maintain.</p>\n"},{"tags":[],"owner":{"account_id":21116,"reputation":15684,"user_id":1219618,"accept_rate":63,"display_name":"Derek Greer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595951834,"creation_date":1595951834,"answer_id":63138191,"question_id":17613795,"body_markdown":"The topic of logging and how one should go about it is actually a more complex topic than one might at first think.\r\n\r\nAs with many questions, the answer to how one should approach logging is &quot;It depends&quot;.  There are certainly some use cases which can be mitigated without the need of components taking on a logging dependency.  For example, a need to uniformly log all method calls within a library can be addressed with the Decorator Pattern and superfluous uses of logging exceptions can be addressed by centralizing such logging at the top of a call stack.  Such use cases are important to consider, but they don&#39;t speak to the essence of the question which really is &quot;*When we would like to add detailed logging to a component in strongly-typed languages such as Java and C#, should the dependency be expressed through the component&#39;s constructor?*&quot;\r\n\r\nUse of the Service Locator pattern is considered to be an anti-pattern due to the fact that it&#39;s misuse leads to opaque dependencies.  That is to say, a component which obtains all its dependencies through a Service Locator doesn&#39;t express everything that&#39;s needed without knowledge of the internal implementation details.  Avoiding the Service Locator pattern is a good rule-of-thumb, but adherents of this rule should understand the *when* and *why* so as not to fall into the cargo cult trap.\r\n\r\nThe goal of avoiding the Service Locator pattern is ultimately to make components easier to use.  When constructing a component, we don&#39;t want consumers to guess at what is needed for the component to function as expected.  Developers using our libraries shouldn&#39;t have to look at the implementation details to understand which dependencies are needed for the component to function. In many cases, however, logging is an ancillary and optional concern and serves only to provide tracing information for library maintainers to diagnose issues or to keep an audit log of usage details for which the consumers are neither aware or interested.  In cases where consumers of your library must provide dependencies not needed for the primary function of the component, expressing such dependencies as invariant (i.e. constructor parameters) actually negates the very goal sought by avoiding the Service Locator pattern.  Additionally, due to the fact that logging is a cross-cutting concern (meaning such needs may be widely desired across many components within a library), injecting logging dependencies through the constructor further amplifies usage difficulty.  \r\n\r\nStill another consideration is minimizing changes to a library&#39;s surface-area API. The surface-area API of your library is any public interfaces or classes required for construction.  It&#39;s often the case that libraries are constructed through a DI container, particularly for internally-maintained libraries not meant for public consumption.  In such cases, registration modules may be supplied by the library for specific DI containers or techniques such as convention-based registration may be employed which hide the top level types, but that doesn&#39;t change the fact that they are still part of the surface-area API.  A library which can easily be used with a DI container, but can also be used without one is better than one which must be used with a DI container.  Even with a DI container, it&#39;s often the case with complex libraries to reference implementation types directly for custom registration purposes. If a strategy of injecting optional dependencies is employed, the public interface is changed each time a developer wants to add logging to a new type.\r\n\r\nA better approach is to follow the pattern established by most logging libraries such as Serilog, log4net, NLog, etc. and obtain loggers through a logger factory (e.g. ```Log.ForContext&lt;MyClass&gt;();```).  This has other benefits as well, such as utilizing filtering capabilities by each respective library.  For more discussion on this topic, see [this article][1].\r\n\r\n\r\n  [1]: https://jamesmckay.net/2014/09/how-not-to-do-logging-unnecessary-abstractions/","title":"Logging and Dependency Injection","body":"<p>The topic of logging and how one should go about it is actually a more complex topic than one might at first think.</p>\n<p>As with many questions, the answer to how one should approach logging is &quot;It depends&quot;.  There are certainly some use cases which can be mitigated without the need of components taking on a logging dependency.  For example, a need to uniformly log all method calls within a library can be addressed with the Decorator Pattern and superfluous uses of logging exceptions can be addressed by centralizing such logging at the top of a call stack.  Such use cases are important to consider, but they don't speak to the essence of the question which really is &quot;<em>When we would like to add detailed logging to a component in strongly-typed languages such as Java and C#, should the dependency be expressed through the component's constructor?</em>&quot;</p>\n<p>Use of the Service Locator pattern is considered to be an anti-pattern due to the fact that it's misuse leads to opaque dependencies.  That is to say, a component which obtains all its dependencies through a Service Locator doesn't express everything that's needed without knowledge of the internal implementation details.  Avoiding the Service Locator pattern is a good rule-of-thumb, but adherents of this rule should understand the <em>when</em> and <em>why</em> so as not to fall into the cargo cult trap.</p>\n<p>The goal of avoiding the Service Locator pattern is ultimately to make components easier to use.  When constructing a component, we don't want consumers to guess at what is needed for the component to function as expected.  Developers using our libraries shouldn't have to look at the implementation details to understand which dependencies are needed for the component to function. In many cases, however, logging is an ancillary and optional concern and serves only to provide tracing information for library maintainers to diagnose issues or to keep an audit log of usage details for which the consumers are neither aware or interested.  In cases where consumers of your library must provide dependencies not needed for the primary function of the component, expressing such dependencies as invariant (i.e. constructor parameters) actually negates the very goal sought by avoiding the Service Locator pattern.  Additionally, due to the fact that logging is a cross-cutting concern (meaning such needs may be widely desired across many components within a library), injecting logging dependencies through the constructor further amplifies usage difficulty.</p>\n<p>Still another consideration is minimizing changes to a library's surface-area API. The surface-area API of your library is any public interfaces or classes required for construction.  It's often the case that libraries are constructed through a DI container, particularly for internally-maintained libraries not meant for public consumption.  In such cases, registration modules may be supplied by the library for specific DI containers or techniques such as convention-based registration may be employed which hide the top level types, but that doesn't change the fact that they are still part of the surface-area API.  A library which can easily be used with a DI container, but can also be used without one is better than one which must be used with a DI container.  Even with a DI container, it's often the case with complex libraries to reference implementation types directly for custom registration purposes. If a strategy of injecting optional dependencies is employed, the public interface is changed each time a developer wants to add logging to a new type.</p>\n<p>A better approach is to follow the pattern established by most logging libraries such as Serilog, log4net, NLog, etc. and obtain loggers through a logger factory (e.g. <code>Log.ForContext&lt;MyClass&gt;();</code>).  This has other benefits as well, such as utilizing filtering capabilities by each respective library.  For more discussion on this topic, see <a href=\"https://jamesmckay.net/2014/09/how-not-to-do-logging-unnecessary-abstractions/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}],"owner":{"account_id":3038223,"reputation":157,"user_id":2575815,"accept_rate":60,"display_name":"SimFirehawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7513,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":17614683,"answer_count":2,"score":13,"last_activity_date":1667149169,"creation_date":1373628040,"question_id":17613795,"body_markdown":"I try to build and application based on Java.\r\n\r\nFor dependency injection I use Google Guice.\r\n\r\nNow I came up with the problem of logging some information during the application. I do not talk about general logging in a way of method calls etc. I know about [AOP][1] and that I can do like method call tracing etc. with that.\r\n\r\nWhat I look for is manual logging. I need some way of logging in nearly each class in my application. So I thought about two options:\r\n\r\n1. getting the logger by using the Guice injection framework doing this for me through the constructor (or setter or private ...) but it feels like adding the logging concern really to each class and pollutes my constructor\r\n2. using a global service locator in the method where I want to call the log. Uhh but all DI fans will hate me for doing that\r\n\r\nSo what is the best way from a practical point of view?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Aspect-oriented_programming","title":"Logging and Dependency Injection","body":"<p>I try to build and application based on Java.</p>\n\n<p>For dependency injection I use Google Guice.</p>\n\n<p>Now I came up with the problem of logging some information during the application. I do not talk about general logging in a way of method calls etc. I know about <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"noreferrer\">AOP</a> and that I can do like method call tracing etc. with that.</p>\n\n<p>What I look for is manual logging. I need some way of logging in nearly each class in my application. So I thought about two options:</p>\n\n<ol>\n<li>getting the logger by using the Guice injection framework doing this for me through the constructor (or setter or private ...) but it feels like adding the logging concern really to each class and pollutes my constructor</li>\n<li>using a global service locator in the method where I want to call the log. Uhh but all DI fans will hate me for doing that</li>\n</ol>\n\n<p>So what is the best way from a practical point of view?</p>\n"},{"tags":["java","css","linux","w3c-validation"],"comments":[{"owner":{"account_id":35556,"reputation":117164,"user_id":100754,"accept_rate":90,"display_name":"Sinan &#220;n&#252;r"},"score":0,"creation_date":1247757125,"post_id":1137884,"comment_id":956096,"body_markdown":"See my updated answer with build instructions.","body":"See my updated answer with build instructions."},{"owner":{"account_id":146972,"reputation":4914,"user_id":357774,"display_name":"Noyo"},"score":0,"creation_date":1391618075,"post_id":1137884,"comment_id":32603302,"body_markdown":"...or see my updated answer that automates the whole thing! http://stackoverflow.com/a/3303298/357774","body":"...or see my updated answer that automates the whole thing! <a href=\"http://stackoverflow.com/a/3303298/357774\">stackoverflow.com/a/3303298/357774</a>"},{"owner":{"account_id":45805,"reputation":3004,"user_id":135172,"accept_rate":73,"display_name":"txwikinger"},"score":0,"creation_date":1427808214,"post_id":1137884,"comment_id":46920722,"body_markdown":"Why are people so narrow minded? There is no reason to close this question... but then who cares!","body":"Why are people so narrow minded? There is no reason to close this question... but then who cares!"},{"owner":{"account_id":5149869,"reputation":623,"user_id":4124767,"display_name":"simohe"},"score":0,"creation_date":1593638920,"post_id":1137884,"comment_id":110854955,"body_markdown":"is reported as an error since a short time: https://github.com/w3c/css-validator/issues/246","body":"is reported as an error since a short time: <a href=\"https://github.com/w3c/css-validator/issues/246\" rel=\"nofollow noreferrer\">github.com/w3c/css-validator/issues/246</a>"}],"answers":[{"comments":[{"owner":{"account_id":45805,"reputation":3004,"user_id":135172,"accept_rate":73,"display_name":"txwikinger"},"score":0,"creation_date":1247754226,"post_id":1137907,"comment_id":955683,"body_markdown":"Well.. I tried that, but I get above error message. I am not sure that I understand the meaning of the note. It does not work either if put into the /lib folder. Which lib folder is meant here?","body":"Well.. I tried that, but I get above error message. I am not sure that I understand the meaning of the note. It does not work either if put into the /lib folder. Which lib folder is meant here?"},{"owner":{"account_id":35556,"reputation":117164,"user_id":100754,"accept_rate":90,"display_name":"Sinan &#220;n&#252;r"},"score":0,"creation_date":1247755071,"post_id":1137907,"comment_id":955801,"body_markdown":"I think I get it. I downloaded the source code from CVS from http://dev.w3.org/cvsweb/2002/css-validator/ ... I have not built it yet, but it seems like running the validator from the command line still needs to be in the context of Jigsaw. I think that is the `/lib` directory the docs are referring to.","body":"I think I get it. I downloaded the source code from CVS from <a href=\"http://dev.w3.org/cvsweb/2002/css-validator/\" rel=\"nofollow noreferrer\">dev.w3.org/cvsweb/2002/css-validator</a> ... I have not built it yet, but it seems like running the validator from the command line still needs to be in the context of Jigsaw. I think that is the <code>&#47;lib</code> directory the docs are referring to."},{"owner":{"account_id":183182,"reputation":75007,"user_id":418413,"accept_rate":91,"display_name":"kojiro"},"score":0,"creation_date":1358480109,"post_id":1137907,"comment_id":20021616,"body_markdown":"Apparently Jigsaw&#39;s servlet.jar is now included with the css-validator source: `2002/css-validator/tmp/Jigsaw/classes/servlet.jar`","body":"Apparently Jigsaw&#39;s servlet.jar is now included with the css-validator source: <code>2002&#47;css-validator&#47;tmp&#47;Jigsaw&#47;classes&#47;servlet.jar</code>"},{"owner":{"account_id":146972,"reputation":4914,"user_id":357774,"display_name":"Noyo"},"score":0,"creation_date":1373639009,"post_id":1137907,"comment_id":25644733,"body_markdown":"I added a simplified, scripted solution for the lazy [below](http://stackoverflow.com/a/3303298/357774). Just copy-paste and wait!","body":"I added a simplified, scripted solution for the lazy <a href=\"http://stackoverflow.com/a/3303298/357774\">below</a>. Just copy-paste and wait!"}],"tags":[],"owner":{"account_id":35556,"reputation":117164,"user_id":100754,"accept_rate":90,"display_name":"Sinan &#220;n&#252;r"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1435232320,"creation_date":1247753687,"answer_id":1137907,"question_id":1137884,"body_markdown":"You can invoke the [W3C validator](http://jigsaw.w3.org/css-validator/DOWNLOAD.html) from the command line:\r\n\r\n&gt; **Command-Line use**\r\n&gt; \r\n&gt; Any computer with Java installed can\r\n&gt; also run the validator from the\r\n&gt; terminal/console as a commandline\r\n&gt; tool. Download the css-validator.jar\r\n&gt; jar archive (or build it with ant jar)\r\n&gt; and run it as : \r\n&gt;\r\n&gt;    `java -jar css-validator.jar http://www.w3.org/`\r\n&gt; \r\n&gt; Note : the `css-validator.jar` file must\r\n&gt; be located at the exact same level as\r\n&gt; the lib/ folder to work properly.\r\n\r\n**Update:** To get it to work, I checked out the full distribution from CVS and ran `ant` using the included `build.xml`. It downloaded all dependencies except for `servlet.jar`. To deal with that, I downloaded the binary distribution of [Tomcat 6](http://tomcat.apache.org/download-60.cgi) and extracted it. Then, I edited the `build.xml` for `css-validator` to reflect the location of `servlet.lib`:\r\n\r\n    &lt;property name=&quot;servlet.lib&quot; \r\n     value=&quot;E:/Downloads/apache-tomcat-6.0.20/lib/servlet-api.jar&quot;/&gt;\r\n\r\nThen ran `ant` again. This produced the `css-validator.jar` file in the top level of the directory checked out from CVS with the `lib` subdirectory containing the other `jar`s it depends on. Then, I was able to run the validator successfully:\r\n\r\n`C:\\Temp\\validator\\2002\\css-validator&gt; java -jar css-validator.jar http://www.unur.com/`\r\n","title":"How can I validate CSS on internal web pages?","body":"<p>You can invoke the <a href=\"http://jigsaw.w3.org/css-validator/DOWNLOAD.html\" rel=\"nofollow noreferrer\">W3C validator</a> from the command line:</p>\n\n<blockquote>\n  <p><strong>Command-Line use</strong></p>\n  \n  <p>Any computer with Java installed can\n  also run the validator from the\n  terminal/console as a commandline\n  tool. Download the css-validator.jar\n  jar archive (or build it with ant jar)\n  and run it as : </p>\n  \n  <p><code>java -jar css-validator.jar http://www.w3.org/</code></p>\n  \n  <p>Note : the <code>css-validator.jar</code> file must\n  be located at the exact same level as\n  the lib/ folder to work properly.</p>\n</blockquote>\n\n<p><strong>Update:</strong> To get it to work, I checked out the full distribution from CVS and ran <code>ant</code> using the included <code>build.xml</code>. It downloaded all dependencies except for <code>servlet.jar</code>. To deal with that, I downloaded the binary distribution of <a href=\"http://tomcat.apache.org/download-60.cgi\" rel=\"nofollow noreferrer\">Tomcat 6</a> and extracted it. Then, I edited the <code>build.xml</code> for <code>css-validator</code> to reflect the location of <code>servlet.lib</code>:</p>\n\n<pre><code>&lt;property name=\"servlet.lib\" \n value=\"E:/Downloads/apache-tomcat-6.0.20/lib/servlet-api.jar\"/&gt;\n</code></pre>\n\n<p>Then ran <code>ant</code> again. This produced the <code>css-validator.jar</code> file in the top level of the directory checked out from CVS with the <code>lib</code> subdirectory containing the other <code>jar</code>s it depends on. Then, I was able to run the validator successfully:</p>\n\n<p><code>C:\\Temp\\validator\\2002\\css-validator&gt; java -jar css-validator.jar http://www.unur.com/</code></p>\n"},{"comments":[{"owner":{"account_id":45771,"reputation":4903,"user_id":135056,"accept_rate":62,"display_name":"Nona Urbiz"},"score":0,"creation_date":1292883899,"post_id":3303298,"comment_id":4917434,"body_markdown":"404 on the download link, here&#39;s the current one: http://newverhost.com/pub/tomcat/tomcat-6/v6.0.29/bin/apache-tomcat-6.0.29.tar.gz","body":"404 on the download link, here&#39;s the current one: <a href=\"http://newverhost.com/pub/tomcat/tomcat-6/v6.0.29/bin/apache-tomcat-6.0.29.tar.gz\" rel=\"nofollow noreferrer\">newverhost.com/pub/tomcat/tomcat-6/v6.0.29/bin/&hellip;</a>"},{"owner":{"account_id":146972,"reputation":4914,"user_id":357774,"display_name":"Noyo"},"score":0,"creation_date":1292950985,"post_id":3303298,"comment_id":4926774,"body_markdown":"Thanks! I updated the script to grab $TOMCAT6_VERSION (easily updated by whomever wants to use the script) directly from apache.","body":"Thanks! I updated the script to grab $TOMCAT6_VERSION (easily updated by whomever wants to use the script) directly from apache."},{"owner":{"account_id":82203,"reputation":54365,"user_id":231316,"accept_rate":100,"display_name":"Chris Haas"},"score":0,"creation_date":1467322715,"post_id":3303298,"comment_id":63698473,"body_markdown":"I updated Tomcat version above however before running `ant jar` I needed to also change a version number using `sed -i &#39;s/commons-collections-3.2.1/commons-collections-3.2.2/g&#39; build.xml`. If someone can confirm this is correct we can update the script above.","body":"I updated Tomcat version above however before running <code>ant jar</code> I needed to also change a version number using <code>sed -i &#39;s&#47;commons-collections-3.2.1&#47;commons-collections-3.2.2&#47;g&#39; build.xml</code>. If someone can confirm this is correct we can update the script above."}],"tags":[],"owner":{"account_id":146972,"reputation":4914,"user_id":357774,"display_name":"Noyo"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467321927,"creation_date":1279742267,"answer_id":3303298,"question_id":1137884,"body_markdown":"For the lazy, here&#39;s a script I wrote to do what Sinan suggests:\r\n\r\n    #!/bin/sh\r\n    # W3C CSS Validator Install Script --------------\r\n    # installs W3C CSS Validator\r\n    # requires: ant, wget, javac\r\n    # see: http://jigsaw.w3.org/css-validator/DOWNLOAD.html\r\n    # see: http://esw.w3.org/CssValidator\r\n    # see: http://thecodetrain.co.uk/2009/02/running-the-w3c-css-validator-locally-from-the-command-line/\r\n    # see: http://stackoverflow.com/a/3303298/357774\r\n    ##wget &quot;http://www.w3.org/QA/Tools/css-validator/css-validator.jar&quot;\r\n    #sudo aptitude install -y ant # uncomment if you don&#39;t have ant\r\n    CVSROOT=:pserver:anonymous:anonymous@dev.w3.org:/sources/public cvs checkout 2002/css-validator \r\n    mkdir 2002/css-validator/lib\r\n    TOMCAT6_VERSION=&#39;6.0.45&#39;\r\n    wget &quot;http://www.apache.org/dist/tomcat/tomcat-6/v$TOMCAT6_VERSION/bin/apache-tomcat-$TOMCAT6_VERSION.tar.gz&quot;\r\n    tar xvf apache-tomcat-$TOMCAT6_VERSION.tar.gz\r\n    mv apache-tomcat-$TOMCAT6_VERSION/lib/servlet-api.jar 2002/css-validator/lib/servlet.jar\r\n    rm -rf apache-tomcat-$TOMCAT6_VERSION apache-tomcat-$TOMCAT6_VERSION.tar.gz\r\n    cd 2002/css-validator\r\n    ant jar\r\n    # usage example: java -jar css-validator.jar &quot;http://csszengarden.com/&quot;\r\n\r\nThat should work, at least until the next software dependency update breaks the ant build script (feel free to parameterize versions).\r\n\r\nHope this helps!","title":"How can I validate CSS on internal web pages?","body":"<p>For the lazy, here's a script I wrote to do what Sinan suggests:</p>\n\n<pre><code>#!/bin/sh\n# W3C CSS Validator Install Script --------------\n# installs W3C CSS Validator\n# requires: ant, wget, javac\n# see: http://jigsaw.w3.org/css-validator/DOWNLOAD.html\n# see: http://esw.w3.org/CssValidator\n# see: http://thecodetrain.co.uk/2009/02/running-the-w3c-css-validator-locally-from-the-command-line/\n# see: http://stackoverflow.com/a/3303298/357774\n##wget \"http://www.w3.org/QA/Tools/css-validator/css-validator.jar\"\n#sudo aptitude install -y ant # uncomment if you don't have ant\nCVSROOT=:pserver:anonymous:anonymous@dev.w3.org:/sources/public cvs checkout 2002/css-validator \nmkdir 2002/css-validator/lib\nTOMCAT6_VERSION='6.0.45'\nwget \"http://www.apache.org/dist/tomcat/tomcat-6/v$TOMCAT6_VERSION/bin/apache-tomcat-$TOMCAT6_VERSION.tar.gz\"\ntar xvf apache-tomcat-$TOMCAT6_VERSION.tar.gz\nmv apache-tomcat-$TOMCAT6_VERSION/lib/servlet-api.jar 2002/css-validator/lib/servlet.jar\nrm -rf apache-tomcat-$TOMCAT6_VERSION apache-tomcat-$TOMCAT6_VERSION.tar.gz\ncd 2002/css-validator\nant jar\n# usage example: java -jar css-validator.jar \"http://csszengarden.com/\"\n</code></pre>\n\n<p>That should work, at least until the next software dependency update breaks the ant build script (feel free to parameterize versions).</p>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":2701853,"reputation":4581,"user_id":2332415,"display_name":"Slaven Rezic"},"score":0,"creation_date":1391256249,"post_id":15369527,"comment_id":32452120,"body_markdown":"The download path for `lib/xml-apis.jar` seems to be missing?","body":"The download path for <code>lib&#47;xml-apis.jar</code> seems to be missing?"},{"owner":{"account_id":8171,"reputation":33191,"user_id":14558,"accept_rate":80,"display_name":"andrewdotn"},"score":0,"creation_date":1391306092,"post_id":15369527,"comment_id":32467314,"body_markdown":"@SlavenRezic That jar has the interfaces in the `javax.xml` package, but those are [included with Java now](http://en.wikipedia.org/wiki/Java_API_for_XML_Processing). You should only need to add it for very old versions of Java that don’t include it. If you download the JAR it won’t even be used unless you use the [endorsed standards override mechanism](http://download.java.net/jdk8/docs/technotes/guides/standards/index.html).","body":"@SlavenRezic That jar has the interfaces in the <code>javax.xml</code> package, but those are <a href=\"http://en.wikipedia.org/wiki/Java_API_for_XML_Processing\" rel=\"nofollow noreferrer\">included with Java now</a>. You should only need to add it for very old versions of Java that don’t include it. If you download the JAR it won’t even be used unless you use the <a href=\"http://download.java.net/jdk8/docs/technotes/guides/standards/index.html\" rel=\"nofollow noreferrer\">endorsed standards override mechanism</a>."},{"owner":{"account_id":1840704,"reputation":871,"user_id":1670156,"accept_rate":80,"display_name":"Arnon Weinberg"},"score":1,"creation_date":1427062404,"post_id":15369527,"comment_id":46613127,"body_markdown":"This script got me close, but the css-validator also requires the org directory from the CVS tree - @Noyo&#39;s answer contains the missing bit: env CVSROOT=:pserver:anonymous:anonymous@dev.w3.org:/sources/public cvs checkout 2002/css-validator; mv 2002/css-validator/org/ .","body":"This script got me close, but the css-validator also requires the org directory from the CVS tree - @Noyo&#39;s answer contains the missing bit: env CVSROOT=:pserver:anonymous:anonymous@dev.w3.org:/sources/pub&zwnj;&#8203;lic cvs checkout 2002/css-validator; mv 2002/css-validator/org/ ."},{"owner":{"account_id":440005,"reputation":1152,"user_id":829305,"accept_rate":50,"display_name":"Rikki"},"score":0,"creation_date":1481473813,"post_id":15369527,"comment_id":69381573,"body_markdown":"This should definitely be the accepted answer! It is ridiculous that these libraries aren&#39;t included in the downloadable JAR, and that it doesn&#39;t say in the documentation that they&#39;re absent! Thank you @andrewdotn!","body":"This should definitely be the accepted answer! It is ridiculous that these libraries aren&#39;t included in the downloadable JAR, and that it doesn&#39;t say in the documentation that they&#39;re absent! Thank you @andrewdotn!"},{"owner":{"account_id":5149869,"reputation":623,"user_id":4124767,"display_name":"simohe"},"score":0,"creation_date":1589624720,"post_id":15369527,"comment_id":109370594,"body_markdown":"I had to adapt `http:` to `https:`, and because my version wants htmlparser-1.3.1, I use the line `https://repo1.maven.org/maven2/org/htmlparser/htmlparser/1.6/htmlparser-1.6.jar htmlparser-1.3.1.jar`","body":"I had to adapt <code>http:</code> to <code>https:</code>, and because my version wants htmlparser-1.3.1, I use the line <code>https:&#47;&#47;repo1.maven.org&#47;maven2&#47;org&#47;htmlparser&#47;htmlparser&#47;1.6&zwnj;&#8203;&#47;htmlparser-1.6.jar htmlparser-1.3.1.jar</code>"}],"tags":[],"owner":{"account_id":8171,"reputation":33191,"user_id":14558,"accept_rate":80,"display_name":"andrewdotn"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1391306053,"creation_date":1363113822,"answer_id":15369527,"question_id":1137884,"body_markdown":"[That jar] is runnable, but it needs some extra libraries.\r\n\r\n[That jar]: http://www.w3.org/QA/Tools/css-validator/css-validator.jar\r\n\r\nExamine the [`MANIFEST.MF`][jar] file:\r\n\r\n[jar]: http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html\r\n\r\n    $ unzip -p css-validator.jar META-INF/MANIFEST.MF\r\n    Manifest-Version: 1.0\r\n    Ant-Version: Apache Ant 1.8.0\r\n    Created-By: 1.6.0_26-b03 (Sun Microsystems Inc.)\r\n    Main-Class: org.w3c.css.css.CssValidator\r\n    Class-Path: . lib/commons-collections-3.2.1.jar lib/commons-lang-2.6.j\r\n     ar lib/jigsaw.jar lib/tagsoup-1.2.jar lib/velocity-1.7.jar lib/xerces\r\n     Impl.jar lib/xml-apis.jar lib/htmlparser-1.3.1.jar\r\n\r\nYou need all the jars mentioned in `Class-Path`. You can download them from the [maven repository](http://mvnrepository.com/) using this script:\r\n\r\n    #!/bin/bash\r\n    \r\n    set -e\r\n    \r\n    mkdir -p lib\r\n    curl -LO http://www.w3.org/QA/Tools/css-validator/css-validator.jar\r\n    echo &quot;\\\r\n    http://repo1.maven.org/maven2/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar\r\n    http://repo1.maven.org/maven2/commons-lang/commons-lang/2.6/commons-lang-2.6.jar\r\n    http://repo1.maven.org/maven2/org/w3c/jigsaw/jigsaw/2.2.6/jigsaw-2.2.6.jar jigsaw.jar\r\n    http://repo1.maven.org/maven2/org/ccil/cowan/tagsoup/tagsoup/1.2/tagsoup-1.2.jar\r\n    http://repo1.maven.org/maven2/org/apache/velocity/velocity/1.7/velocity-1.7.jar\r\n    http://repo1.maven.org/maven2/xerces/xercesImpl/2.11.0/xercesImpl-2.11.0.jar xercesImpl.jar\r\n    http://repo1.maven.org/maven2/nu/validator/htmlparser/htmlparser/1.2.1/htmlparser-1.2.1.jar\\\r\n    &quot; | while read url shortname; do\r\n            if [ -z &quot;$shortname&quot; ]; then\r\n                shortname=&quot;${url##*/}&quot;\r\n            fi\r\n            curl -L -o &quot;lib/${shortname}&quot; &quot;${url}&quot;\r\n        done\r\n\r\nAfter doing that, it works:\r\n\r\n    $ java -jar css-validator.jar --output=soap12 file:badcss.html\r\n    {vextwarning=false, output=soap12, lang=en, warning=2, medium=all, profile=css3}\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;env:Envelope xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n        &lt;env:Body&gt;\r\n            &lt;m:cssvalidationresponse\r\n                env:encodingStyle=&quot;http://www.w3.org/2003/05/soap-encoding&quot;\r\n                xmlns:m=&quot;http://www.w3.org/2005/07/css-validator&quot;&gt;\r\n                &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\r\n                &lt;m:checkedby&gt;http://jigsaw.w3.org/css-validator/&lt;/m:checkedby&gt;\r\n                &lt;m:csslevel&gt;css3&lt;/m:csslevel&gt;\r\n                &lt;m:date&gt;2013-03-12T06:40:09Z&lt;/m:date&gt;\r\n                &lt;m:validity&gt;false&lt;/m:validity&gt;\r\n                &lt;m:result&gt;\r\n                    &lt;m:errors xml:lang=&quot;en&quot;&gt;\r\n                        &lt;m:errorcount&gt;1&lt;/m:errorcount&gt;\r\n                                                                        \r\n                    &lt;m:errorlist&gt;\r\n                        &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\r\n                                \r\n                            &lt;m:error&gt;\r\n                                &lt;m:line&gt;8&lt;/m:line&gt;\r\n                                &lt;m:errortype&gt;parse-error&lt;/m:errortype&gt;\r\n                                &lt;m:context&gt; h1 &lt;/m:context&gt;        \r\n                                &lt;m:errorsubtype&gt;\r\n                                    exp\r\n                                &lt;/m:errorsubtype&gt;\r\n                                &lt;m:skippedstring&gt;\r\n                                    100%\r\n                                &lt;/m:skippedstring&gt;\r\n            \r\n                                &lt;m:message&gt;\r\n            \r\n                                    Property fnt-size doesn&amp;#39;t exist : \r\n                                &lt;/m:message&gt;\r\n                            &lt;/m:error&gt;\r\n                \r\n                        &lt;/m:errorlist&gt;\r\n            \r\n                    &lt;/m:errors&gt;\r\n                    &lt;m:warnings xml:lang=&quot;en&quot;&gt;\r\n                        &lt;m:warningcount&gt;1&lt;/m:warningcount&gt;\r\n                                        \r\n                        &lt;m:warninglist&gt;\r\n                            &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\r\n                                        \r\n                            &lt;m:warning&gt;\r\n                                &lt;m:line&gt;5&lt;/m:line&gt;\r\n                                &lt;m:level&gt;0&lt;/m:level&gt;\r\n                                &lt;m:message&gt;You should add a &amp;#39;type&amp;#39; attribute with a value of &amp;#39;text/css&amp;#39; to the &amp;#39;style&amp;#39; element&lt;/m:message&gt;\r\n                            &lt;/m:warning&gt;\r\n                        \r\n                        &lt;/m:warninglist&gt;\r\n                        &lt;/m:warnings&gt;\r\n                &lt;/m:result&gt;\r\n            &lt;/m:cssvalidationresponse&gt;\r\n        &lt;/env:Body&gt;\r\n    &lt;/env:Envelope&gt;\r\n","title":"How can I validate CSS on internal web pages?","body":"<p><a href=\"http://www.w3.org/QA/Tools/css-validator/css-validator.jar\">That jar</a> is runnable, but it needs some extra libraries.</p>\n\n<p>Examine the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html\"><code>MANIFEST.MF</code></a> file:</p>\n\n<pre><code>$ unzip -p css-validator.jar META-INF/MANIFEST.MF\nManifest-Version: 1.0\nAnt-Version: Apache Ant 1.8.0\nCreated-By: 1.6.0_26-b03 (Sun Microsystems Inc.)\nMain-Class: org.w3c.css.css.CssValidator\nClass-Path: . lib/commons-collections-3.2.1.jar lib/commons-lang-2.6.j\n ar lib/jigsaw.jar lib/tagsoup-1.2.jar lib/velocity-1.7.jar lib/xerces\n Impl.jar lib/xml-apis.jar lib/htmlparser-1.3.1.jar\n</code></pre>\n\n<p>You need all the jars mentioned in <code>Class-Path</code>. You can download them from the <a href=\"http://mvnrepository.com/\">maven repository</a> using this script:</p>\n\n<pre><code>#!/bin/bash\n\nset -e\n\nmkdir -p lib\ncurl -LO http://www.w3.org/QA/Tools/css-validator/css-validator.jar\necho \"\\\nhttp://repo1.maven.org/maven2/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar\nhttp://repo1.maven.org/maven2/commons-lang/commons-lang/2.6/commons-lang-2.6.jar\nhttp://repo1.maven.org/maven2/org/w3c/jigsaw/jigsaw/2.2.6/jigsaw-2.2.6.jar jigsaw.jar\nhttp://repo1.maven.org/maven2/org/ccil/cowan/tagsoup/tagsoup/1.2/tagsoup-1.2.jar\nhttp://repo1.maven.org/maven2/org/apache/velocity/velocity/1.7/velocity-1.7.jar\nhttp://repo1.maven.org/maven2/xerces/xercesImpl/2.11.0/xercesImpl-2.11.0.jar xercesImpl.jar\nhttp://repo1.maven.org/maven2/nu/validator/htmlparser/htmlparser/1.2.1/htmlparser-1.2.1.jar\\\n\" | while read url shortname; do\n        if [ -z \"$shortname\" ]; then\n            shortname=\"${url##*/}\"\n        fi\n        curl -L -o \"lib/${shortname}\" \"${url}\"\n    done\n</code></pre>\n\n<p>After doing that, it works:</p>\n\n<pre><code>$ java -jar css-validator.jar --output=soap12 file:badcss.html\n{vextwarning=false, output=soap12, lang=en, warning=2, medium=all, profile=css3}\n&lt;?xml version='1.0' encoding=\"utf-8\"?&gt;\n&lt;env:Envelope xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n    &lt;env:Body&gt;\n        &lt;m:cssvalidationresponse\n            env:encodingStyle=\"http://www.w3.org/2003/05/soap-encoding\"\n            xmlns:m=\"http://www.w3.org/2005/07/css-validator\"&gt;\n            &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\n            &lt;m:checkedby&gt;http://jigsaw.w3.org/css-validator/&lt;/m:checkedby&gt;\n            &lt;m:csslevel&gt;css3&lt;/m:csslevel&gt;\n            &lt;m:date&gt;2013-03-12T06:40:09Z&lt;/m:date&gt;\n            &lt;m:validity&gt;false&lt;/m:validity&gt;\n            &lt;m:result&gt;\n                &lt;m:errors xml:lang=\"en\"&gt;\n                    &lt;m:errorcount&gt;1&lt;/m:errorcount&gt;\n\n                &lt;m:errorlist&gt;\n                    &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\n\n                        &lt;m:error&gt;\n                            &lt;m:line&gt;8&lt;/m:line&gt;\n                            &lt;m:errortype&gt;parse-error&lt;/m:errortype&gt;\n                            &lt;m:context&gt; h1 &lt;/m:context&gt;        \n                            &lt;m:errorsubtype&gt;\n                                exp\n                            &lt;/m:errorsubtype&gt;\n                            &lt;m:skippedstring&gt;\n                                100%\n                            &lt;/m:skippedstring&gt;\n\n                            &lt;m:message&gt;\n\n                                Property fnt-size doesn&amp;#39;t exist : \n                            &lt;/m:message&gt;\n                        &lt;/m:error&gt;\n\n                    &lt;/m:errorlist&gt;\n\n                &lt;/m:errors&gt;\n                &lt;m:warnings xml:lang=\"en\"&gt;\n                    &lt;m:warningcount&gt;1&lt;/m:warningcount&gt;\n\n                    &lt;m:warninglist&gt;\n                        &lt;m:uri&gt;file:badcss.html&lt;/m:uri&gt;\n\n                        &lt;m:warning&gt;\n                            &lt;m:line&gt;5&lt;/m:line&gt;\n                            &lt;m:level&gt;0&lt;/m:level&gt;\n                            &lt;m:message&gt;You should add a &amp;#39;type&amp;#39; attribute with a value of &amp;#39;text/css&amp;#39; to the &amp;#39;style&amp;#39; element&lt;/m:message&gt;\n                        &lt;/m:warning&gt;\n\n                    &lt;/m:warninglist&gt;\n                    &lt;/m:warnings&gt;\n            &lt;/m:result&gt;\n        &lt;/m:cssvalidationresponse&gt;\n    &lt;/env:Body&gt;\n&lt;/env:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960061,"reputation":466,"user_id":984632,"display_name":"Albert Wiersch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667149042,"creation_date":1667149042,"answer_id":74255011,"question_id":1137884,"body_markdown":"You can now use the new [Linux command line tool htmlval for checking HTML and CSS][1]. It should definitely work for validating local CSS on a Linux box.\r\n\r\nNote: I&#39;m the developer.\r\n\r\n\r\n  [1]: https://htmlval.com/?r=L","title":"How can I validate CSS on internal web pages?","body":"<p>You can now use the new <a href=\"https://htmlval.com/?r=L\" rel=\"nofollow noreferrer\">Linux command line tool htmlval for checking HTML and CSS</a>. It should definitely work for validating local CSS on a Linux box.</p>\n<p>Note: I'm the developer.</p>\n"}],"owner":{"account_id":45805,"reputation":3004,"user_id":135172,"accept_rate":73,"display_name":"txwikinger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5599,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":1137907,"answer_count":4,"score":19,"last_activity_date":1667149042,"creation_date":1247753495,"question_id":1137884,"body_markdown":"I want to check internal web pages, so I cannot use the [W3C validation](http://jigsaw.w3.org/css-validator/) service directly. I managed to run the XHTML validator locally, however, I have some problems with the css-validator. I do not really want to setup [Tomcat](http://tomcat.apache.org/) or [Jigsaw](http://www.w3.org/Jigsaw/) in order to be able to run Java servlet, and the commandline option gives me an error message\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: \r\n    org.w3c.tools.resources.ProtocolException at \r\n    org.w3c.css.css.CssValidator.main(CssValidator.java:164)\r\n\r\nHow can I validate local CSS on a Linux box?\r\n","title":"How can I validate CSS on internal web pages?","body":"<p>I want to check internal web pages, so I cannot use the <a href=\"http://jigsaw.w3.org/css-validator/\" rel=\"nofollow noreferrer\">W3C validation</a> service directly. I managed to run the XHTML validator locally, however, I have some problems with the css-validator. I do not really want to setup <a href=\"http://tomcat.apache.org/\" rel=\"nofollow noreferrer\">Tomcat</a> or <a href=\"http://www.w3.org/Jigsaw/\" rel=\"nofollow noreferrer\">Jigsaw</a> in order to be able to run Java servlet, and the commandline option gives me an error message</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: \norg.w3c.tools.resources.ProtocolException at \norg.w3c.css.css.CssValidator.main(CssValidator.java:164)\n</code></pre>\n\n<p>How can I validate local CSS on a Linux box?</p>\n"},{"tags":["java","spring","spring-mvc","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1534247410,"post_id":51840534,"comment_id":90634400,"body_markdown":"The correct, standard way to do this would be to use `/search?sort=myfield1&amp;sort=-myfield2&amp;sort=myfield3`. But splitting on a comma isn&#39;t such a hard task either.","body":"The correct, standard way to do this would be to use <code>&#47;search?sort=myfield1&amp;sort=-myfield2&amp;sort=myfield3</code>. But splitting on a comma isn&#39;t such a hard task either."},{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1534248309,"post_id":51840534,"comment_id":90634965,"body_markdown":"Yes, splitting by comma isn&#39;t hard. I.e. just `str.split(&quot;,&quot;)` but I wonder if I can split such parameters before they arrive in the controller (not in the controller).","body":"Yes, splitting by comma isn&#39;t hard. I.e. just <code>str.split(&quot;,&quot;)</code> but I wonder if I can split such parameters before they arrive in the controller (not in the controller)."},{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1534248530,"post_id":51840534,"comment_id":90635137,"body_markdown":"I would like to use `List&lt;String&gt; sort` in my controller, but the standard way of passing parameters does not satisfy my requirements. I have to use comma separated names.","body":"I would like to use <code>List&lt;String&gt; sort</code> in my controller, but the standard way of passing parameters does not satisfy my requirements. I have to use comma separated names."}],"answers":[{"comments":[{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1534254106,"post_id":51841948,"comment_id":90638875,"body_markdown":"Thank you for helping, but this solution doesn&#39;t solve the above problem. Please check comments under the question. Also, I&#39;ve updated the question to be more clear.","body":"Thank you for helping, but this solution doesn&#39;t solve the above problem. Please check comments under the question. Also, I&#39;ve updated the question to be more clear."},{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1534265715,"post_id":51841948,"comment_id":90646003,"body_markdown":"Thank you! It is exactly what I need!","body":"Thank you! It is exactly what I need!"},{"owner":{"account_id":1397096,"reputation":579,"user_id":1326662,"display_name":"Ralf"},"score":0,"creation_date":1606813716,"post_id":51841948,"comment_id":115068667,"body_markdown":"The custom &quot;SortParams&quot; Type with converter logic in the constructor works just fine - but after that I saw the next answer and I think implementing that `org.springframework.core.convert.converter.Converter&lt;Source, Target&gt;` Interface is the cleaner approach. No need to call `.getSortParamList()` on that wrapper object but just directly get what you need in the controller.","body":"The custom &quot;SortParams&quot; Type with converter logic in the constructor works just fine - but after that I saw the next answer and I think implementing that <code>org.springframework.core.convert.converter.Converter&lt;Source, Target&gt;</code> Interface is the cleaner approach. No need to call <code>.getSortParamList()</code> on that wrapper object but just directly get what you need in the controller."}],"tags":[],"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1534256460,"creation_date":1534251171,"answer_id":51841948,"question_id":51840534,"body_markdown":"Yes, you can certainly do that, you&#39;re almost there.\r\n\r\n    @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;MyResponse&gt; participants(@RequestParam(&quot;sort&quot;) List&lt;String&gt; sort) {\r\n    \r\n        //...\r\n    }\r\n\r\nYou should now be able to call your service like this (if search is located at your root, otherwise adapt according to your situation):\r\n\r\n    curl &quot;localhost:8080/search?sort=sortField1&amp;sort=sortField2&amp;sort=sortField3&quot;\r\n\r\nHope this helps!\r\n\r\n**EDIT**\r\nSorry, I have read your comments and what you need is clear to me now. I have created a workaround for you that is almost what you want I think.\r\n\r\nSo first a SortParams class:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class SortParams {\r\n      private List&lt;SortParam&gt; sortParamList;\r\n    \r\n      public SortParams(String commaSeparatedString) {\r\n        sortParamList = Arrays.stream(commaSeparatedString.split(&quot;,&quot;))\r\n          .map(p -&gt; SortParam.valueOf(p))\r\n          .collect(Collectors.toList());\r\n      }\r\n    \r\n      public List&lt;SortParam&gt; getSortParamList() {\r\n        return this.sortParamList;\r\n      }\r\n    \r\n      public enum SortParam {\r\n        FOO, BAR, FOOBAR;\r\n      }\r\n    }\r\n\r\nThen your controller could look like this:\r\n\r\n    @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;List&lt;SortParams.SortParam&gt;&gt; search(@RequestParam(&quot;sort&quot;) SortParams sort) {\r\n    \treturn ResponseEntity.ok(sort.getSortParamList());\r\n    }\r\n\r\nNow your SortParams object has a list of SortParam:\r\n\r\n    curl &quot;localhost:8080/search?sort=FOO,BAR&quot;\r\n\r\n    [&quot;FOO&quot;,&quot;BAR&quot;]\r\n\r\nWould something like this fit what you&#39;re looking for?","title":"Is it possible to split request params in Spring controllers?","body":"<p>Yes, you can certainly do that, you're almost there.</p>\n\n<pre><code>@RequestMapping(value = \"/search\", method = RequestMethod.GET)\npublic ResponseEntity&lt;MyResponse&gt; participants(@RequestParam(\"sort\") List&lt;String&gt; sort) {\n\n    //...\n}\n</code></pre>\n\n<p>You should now be able to call your service like this (if search is located at your root, otherwise adapt according to your situation):</p>\n\n<pre><code>curl \"localhost:8080/search?sort=sortField1&amp;sort=sortField2&amp;sort=sortField3\"\n</code></pre>\n\n<p>Hope this helps!</p>\n\n<p><strong>EDIT</strong>\nSorry, I have read your comments and what you need is clear to me now. I have created a workaround for you that is almost what you want I think.</p>\n\n<p>So first a SortParams class:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class SortParams {\n  private List&lt;SortParam&gt; sortParamList;\n\n  public SortParams(String commaSeparatedString) {\n    sortParamList = Arrays.stream(commaSeparatedString.split(\",\"))\n      .map(p -&gt; SortParam.valueOf(p))\n      .collect(Collectors.toList());\n  }\n\n  public List&lt;SortParam&gt; getSortParamList() {\n    return this.sortParamList;\n  }\n\n  public enum SortParam {\n    FOO, BAR, FOOBAR;\n  }\n}\n</code></pre>\n\n<p>Then your controller could look like this:</p>\n\n<pre><code>@RequestMapping(value = \"/search\", method = RequestMethod.GET)\npublic ResponseEntity&lt;List&lt;SortParams.SortParam&gt;&gt; search(@RequestParam(\"sort\") SortParams sort) {\n    return ResponseEntity.ok(sort.getSortParamList());\n}\n</code></pre>\n\n<p>Now your SortParams object has a list of SortParam:</p>\n\n<pre><code>curl \"localhost:8080/search?sort=FOO,BAR\"\n\n[\"FOO\",\"BAR\"]\n</code></pre>\n\n<p>Would something like this fit what you're looking for?</p>\n"},{"comments":[{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1534265844,"post_id":51845176,"comment_id":90646063,"body_markdown":"Thank you for your solution! I accepted the solution from Jonck van der Kogel but your solution is also great. Thanks.","body":"Thank you for your solution! I accepted the solution from Jonck van der Kogel but your solution is also great. Thanks."},{"owner":{"account_id":6695094,"reputation":523,"user_id":5163331,"display_name":"m.zander"},"score":0,"creation_date":1669107524,"post_id":51845176,"comment_id":131562592,"body_markdown":"This answer is the best one. It is much cleaner and more reliable.","body":"This answer is the best one. It is much cleaner and more reliable."}],"tags":[],"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635154747,"creation_date":1534261299,"answer_id":51845176,"question_id":51840534,"body_markdown":"Its just a simple Type Covertion task. Spring defines an SPI (Service Provider Interface) to implement type conversion logic. For your specific problem you can define your Type Conversion logic by implementing `Converter` interface.\r\n\r\n    @Component\r\n    public class StringToListConverter implements Converter&lt;String, List&lt;String&gt;&gt; {\r\n    \r\n        @Override\r\n        public List&lt;String&gt; convert(String source) {\r\n            return Arrays.asList(source.split(&quot;,&quot;));\r\n        }\r\n    }\r\n\r\n\r\nYou can also convert your request parameter to `List&lt;SortPram&gt;` according your logic (but I am not sure about your that logic from your question). This is it! Now Spring get known that how to bind your request paramter to a list.\r\n\r\n    @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;MyResponse&gt; participants(@RequestParam(&quot;sort&quot;) List&lt;String&gt; sort) {\r\n         // .. do your logic\r\n    }\r\n\r\nThere are many more ways to define you custom data binder. Check this\r\n\r\n - [A Custom Data Binder in Spring MVC][1] article.\r\n - Spring documentation about [Validation, Data Binding, and Type Conversion][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-data-binder\r\n  [2]: https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/validation.html","title":"Is it possible to split request params in Spring controllers?","body":"<p>Its just a simple Type Covertion task. Spring defines an SPI (Service Provider Interface) to implement type conversion logic. For your specific problem you can define your Type Conversion logic by implementing <code>Converter</code> interface.</p>\n<pre><code>@Component\npublic class StringToListConverter implements Converter&lt;String, List&lt;String&gt;&gt; {\n\n    @Override\n    public List&lt;String&gt; convert(String source) {\n        return Arrays.asList(source.split(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>You can also convert your request parameter to <code>List&lt;SortPram&gt;</code> according your logic (but I am not sure about your that logic from your question). This is it! Now Spring get known that how to bind your request paramter to a list.</p>\n<pre><code>@RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;MyResponse&gt; participants(@RequestParam(&quot;sort&quot;) List&lt;String&gt; sort) {\n     // .. do your logic\n}\n</code></pre>\n<p>There are many more ways to define you custom data binder. Check this</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-mvc-custom-data-binder\" rel=\"nofollow noreferrer\">A Custom Data Binder in Spring MVC</a> article.</li>\n<li>Spring documentation about <a href=\"https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/validation.html\" rel=\"nofollow noreferrer\">Validation, Data Binding, and Type Conversion</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4583614,"reputation":927,"user_id":3719051,"accept_rate":80,"display_name":"avvensis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667148639,"creation_date":1667148639,"answer_id":74254964,"question_id":51840534,"body_markdown":"It could be helpfull if Kotlin\r\n\r\n```kotlin\r\nprivate const val DELIMITER: Char = &#39;:&#39;\r\nprivate val DEFAULT_DIRECTION: Sort.Direction = Sort.Direction.ASC\r\n\r\nprivate fun parseFrom(source: String): Sort.Order = if (source.contains(DELIMITER)) {\r\n    Sort.Order(Sort.Direction.fromString(source.substringAfter(DELIMITER)), source.substringBefore(DELIMITER))\r\n} else Sort.Order(DEFAULT_DIRECTION, source)\r\n\r\n// if few sort paremeters\r\n@Component\r\nclass RequestSortConverterArray : Converter&lt;Array&lt;String&gt;, Sort&gt; {\r\n    override fun convert(source: Array&lt;String&gt;): Sort? = if (source.isEmpty()) Sort.unsorted()\r\n    else source.map { parseFrom(it) }.let { Sort.by(it) }\r\n}\r\n\r\n// if single sort paremeter\r\n@Component\r\nclass RequestSortConverterString : Converter&lt;String, Sort&gt; {\r\n    override fun convert(source: String): Sort? = if (source.isEmpty()) Sort.unsorted()\r\n    else Sort.by(parseFrom(source))\r\n}\r\n\r\n...\r\n\r\n@GetMapping\r\nfun search(\r\n  @RequestParam(required = false, defaultValue = &quot;0&quot;) page: Int,\r\n  @RequestParam(required = false, defaultValue = &quot;20&quot;) size: Int,\r\n  @RequestParam(required = false, defaultValue = &quot;myfield1:asc&quot;) sort: Sort\r\n) {\r\n  val pageable = PageRequest.of(page, size, sort)\r\n  // make a search by repository\r\n}\r\n\r\n```","title":"Is it possible to split request params in Spring controllers?","body":"<p>It could be helpfull if Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private const val DELIMITER: Char = ':'\nprivate val DEFAULT_DIRECTION: Sort.Direction = Sort.Direction.ASC\n\nprivate fun parseFrom(source: String): Sort.Order = if (source.contains(DELIMITER)) {\n    Sort.Order(Sort.Direction.fromString(source.substringAfter(DELIMITER)), source.substringBefore(DELIMITER))\n} else Sort.Order(DEFAULT_DIRECTION, source)\n\n// if few sort paremeters\n@Component\nclass RequestSortConverterArray : Converter&lt;Array&lt;String&gt;, Sort&gt; {\n    override fun convert(source: Array&lt;String&gt;): Sort? = if (source.isEmpty()) Sort.unsorted()\n    else source.map { parseFrom(it) }.let { Sort.by(it) }\n}\n\n// if single sort paremeter\n@Component\nclass RequestSortConverterString : Converter&lt;String, Sort&gt; {\n    override fun convert(source: String): Sort? = if (source.isEmpty()) Sort.unsorted()\n    else Sort.by(parseFrom(source))\n}\n\n...\n\n@GetMapping\nfun search(\n  @RequestParam(required = false, defaultValue = &quot;0&quot;) page: Int,\n  @RequestParam(required = false, defaultValue = &quot;20&quot;) size: Int,\n  @RequestParam(required = false, defaultValue = &quot;myfield1:asc&quot;) sort: Sort\n) {\n  val pageable = PageRequest.of(page, size, sort)\n  // make a search by repository\n}\n\n</code></pre>\n"}],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9342,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51841948,"answer_count":3,"score":3,"last_activity_date":1667148639,"creation_date":1534246756,"question_id":51840534,"body_markdown":"I have a request like:\r\n\r\n    example.com/search?sort=myfield1,-myfield2,myfield3\r\n\r\nI would like to split those params to bind a `List&lt;String&gt;` sort in my controller or `List&lt;SortParam&gt;` where `SortParam` is the class with fields like: `name` (String) and `ask` (boolean).\r\n\r\nSo the final controller would look like this:\r\n\r\n    @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;MyResponse&gt; search(@RequestParam List&lt;String&gt; sort) {\r\n    \r\n        //...\r\n    }\r\n\r\nor\r\n\r\n    @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;MyResponse&gt; search(@RequestParam List&lt;SortParam&gt; sort) {\r\n\r\n        //...\r\n    }\r\n\r\nIs there a way to make it?\r\n\r\n**UPDATE:**\r\n\r\nThe standard way of passing parameters does not satisfy my requirements. I.e. I cannot use `sort=myfield1&amp;sort=-myfield2&amp;sort=myfield3`. I have to use comma separated names.  \r\nAlso, I do understand that I can accept `@RequestParam String sort` in my controller and then split the string inside the controller like `sort.split(&quot;,&quot;)` but it also doesn&#39;t solve the above problem.","title":"Is it possible to split request params in Spring controllers?","body":"<p>I have a request like:</p>\n\n<pre><code>example.com/search?sort=myfield1,-myfield2,myfield3\n</code></pre>\n\n<p>I would like to split those params to bind a <code>List&lt;String&gt;</code> sort in my controller or <code>List&lt;SortParam&gt;</code> where <code>SortParam</code> is the class with fields like: <code>name</code> (String) and <code>ask</code> (boolean).</p>\n\n<p>So the final controller would look like this:</p>\n\n<pre><code>@RequestMapping(value = \"/search\", method = RequestMethod.GET)\npublic ResponseEntity&lt;MyResponse&gt; search(@RequestParam List&lt;String&gt; sort) {\n\n    //...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@RequestMapping(value = \"/search\", method = RequestMethod.GET)\npublic ResponseEntity&lt;MyResponse&gt; search(@RequestParam List&lt;SortParam&gt; sort) {\n\n    //...\n}\n</code></pre>\n\n<p>Is there a way to make it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>The standard way of passing parameters does not satisfy my requirements. I.e. I cannot use <code>sort=myfield1&amp;sort=-myfield2&amp;sort=myfield3</code>. I have to use comma separated names.<br>\nAlso, I do understand that I can accept <code>@RequestParam String sort</code> in my controller and then split the string inside the controller like <code>sort.split(\",\")</code> but it also doesn't solve the above problem.</p>\n"},{"tags":["java","eclipse","servlets","web.xml"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1278885390,"post_id":3219639,"comment_id":3327648,"body_markdown":"The error suggests a problem with the uniqueness of the `servlet-name`. Can we see the whole file, not just that one bit?","body":"The error suggests a problem with the uniqueness of the <code>servlet-name</code>. Can we see the whole file, not just that one bit?"}],"answers":[{"comments":[{"owner":{"account_id":346733,"reputation":265,"user_id":680431,"accept_rate":40,"display_name":"Michel"},"score":12,"creation_date":1618382108,"post_id":67083981,"comment_id":118581071,"body_markdown":"Got the same error today. You can actually just put &quot;Java&quot; instead of &quot;java&quot; it works... I chose to add an &quot;s&quot; in https... it solves the errors too. that&#39;s some weird stuff...","body":"Got the same error today. You can actually just put &quot;Java&quot; instead of &quot;java&quot; it works... I chose to add an &quot;s&quot; in https... it solves the errors too. that&#39;s some weird stuff..."},{"owner":{"account_id":4841967,"reputation":32807,"user_id":3906760,"accept_rate":91,"display_name":"MrTux"},"score":14,"creation_date":1619704019,"post_id":67083981,"comment_id":118989935,"body_markdown":"By using a differetn casing you are technically introducing a different namespace. So, this is not really a solution.","body":"By using a differetn casing you are technically introducing a different namespace. So, this is not really a solution."},{"owner":{"account_id":3093040,"reputation":72,"user_id":2618802,"display_name":"preitinger"},"score":0,"creation_date":1625561973,"post_id":67083981,"comment_id":120652578,"body_markdown":"Oh my god, that cannot all be true. How dead is GWT, actually??","body":"Oh my god, that cannot all be true. How dead is GWT, actually??"},{"owner":{"account_id":4566416,"reputation":3853,"user_id":3707318,"display_name":"Peter Kelley"},"score":1,"creation_date":1627497388,"post_id":67083981,"comment_id":121175150,"body_markdown":"I verified that changing it to &quot;JAVA&quot; or &quot;Java&quot; fixes it. Also that switching the url to have &quot;https...&quot; instead of &quot;http...&quot; with no other change seems to do it as well.  Simply doing a [Project &gt; Clean] does *not* fix it.","body":"I verified that changing it to &quot;JAVA&quot; or &quot;Java&quot; fixes it. Also that switching the url to have &quot;https...&quot; instead of &quot;http...&quot; with no other change seems to do it as well.  Simply doing a [Project &gt; Clean] does <i>not</i> fix it."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":14,"creation_date":1631026330,"post_id":67083981,"comment_id":122109825,"body_markdown":"This is NOT an answer, people are simply hiding the underlying problem by changing the namespace to something not known and ignored by Eclipse. The suggestions have the same effect like using `xmlns=&quot;foobar&quot;` https://www.liquid-technologies.com/xml-schema-tutorial/xsd-namespaces","body":"This is NOT an answer, people are simply hiding the underlying problem by changing the namespace to something not known and ignored by Eclipse. The suggestions have the same effect like using <code>xmlns=&quot;foobar&quot;</code> <a href=\"https://www.liquid-technologies.com/xml-schema-tutorial/xsd-namespaces\" rel=\"nofollow noreferrer\">liquid-technologies.com/xml-schema-tutorial/xsd-namespaces</a>"},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1642514065,"post_id":67083981,"comment_id":125086581,"body_markdown":"Strangely! worked for me too","body":"Strangely! worked for me too"}],"tags":[],"owner":{"account_id":3505597,"reputation":768,"user_id":2931195,"display_name":"user2931195"},"comment_count":6,"down_vote_count":21,"up_vote_count":81,"is_accepted":false,"score":60,"last_activity_date":1620437841,"creation_date":1618360169,"answer_id":67083981,"question_id":3219639,"body_markdown":"I accidentally found that changing Java to the upper case made the error disappear:\r\n\r\n  `xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;`\r\n\r\nShould be:\r\n\r\n `xmlns=&quot;http://JAVA.sun.com/xml/ns/javaee&quot;`","title":"cvc-id.3 error in web.xml","body":"<p>I accidentally found that changing Java to the upper case made the error disappear:</p>\n<p><code>xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;</code></p>\n<p>Should be:</p>\n<p><code>xmlns=&quot;http://JAVA.sun.com/xml/ns/javaee&quot;</code></p>\n"},{"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":1,"creation_date":1631026140,"post_id":67503725,"comment_id":122109721,"body_markdown":"Using `xmlns:javaee` without using `&lt;javaee:servlet&gt;` as well will hide the problem only, pretty much like with all the other answers suggesting `java` to `JAVA` or `http` to `https`. Doesn&#39;t it?","body":"Using <code>xmlns:javaee</code> without using <code>&lt;javaee:servlet&gt;</code> as well will hide the problem only, pretty much like with all the other answers suggesting <code>java</code> to <code>JAVA</code> or <code>http</code> to <code>https</code>. Doesn&#39;t it?"}],"tags":[],"owner":{"account_id":18506485,"reputation":113,"user_id":13482675,"display_name":"Jonas Schwindt"},"comment_count":1,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1620885546,"creation_date":1620822602,"answer_id":67503725,"question_id":3219639,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:javaee=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n        xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n        id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n\r\nAdding a `namespace` to your `xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;` Line (eg) `xmlns:javaee=&quot;http://java.sun.com/xml/ns/javaee&quot;` will resolve your problems probably.\r\n\r\nThere are elements in both definition files, so without a proper namespace they won&#39;t be unique","title":"cvc-id.3 error in web.xml","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:javaee=&quot;http://java.sun.com/xml/ns/javaee&quot; \n    xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\n</code></pre>\n<p>Adding a <code>namespace</code> to your <code>xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;</code> Line (eg) <code>xmlns:javaee=&quot;http://java.sun.com/xml/ns/javaee&quot;</code> will resolve your problems probably.</p>\n<p>There are elements in both definition files, so without a proper namespace they won't be unique</p>\n"},{"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":1,"creation_date":1631026675,"post_id":68482068,"comment_id":122109994,"body_markdown":"Don&#39;t follow people using `ISO-8859-1` for their XML examples. :-) `j2ee` in combination with a schema location of `javaee` doesn&#39;t make much sense. `schemaLocation` maps namespaces to files and `javaee` is nether imported/used. OTOH, `j2ee` is not mentioned in `schemaLocation`, so parsers simply won&#39;t validate at all. That&#39;s why errors go away. https://stackoverflow.com/a/5875404/2055163","body":"Don&#39;t follow people using <code>ISO-8859-1</code> for their XML examples. :-) <code>j2ee</code> in combination with a schema location of <code>javaee</code> doesn&#39;t make much sense. <code>schemaLocation</code> maps namespaces to files and <code>javaee</code> is nether imported/used. OTOH, <code>j2ee</code> is not mentioned in <code>schemaLocation</code>, so parsers simply won&#39;t validate at all. That&#39;s why errors go away. <a href=\"https://stackoverflow.com/a/5875404/2055163\">stackoverflow.com/a/5875404/2055163</a>"}],"tags":[],"owner":{"account_id":20376550,"reputation":1,"user_id":14947582,"display_name":"rig"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1626965472,"creation_date":1626944641,"answer_id":68482068,"question_id":3219639,"body_markdown":"I&#39;ve found the following [here][1] and [here][2] which helps me:\r\n\r\n    &lt;web-app\r\n      xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n      version=&quot;2.5&quot;&gt;\r\n\r\nThe value of attribute `xmlns` ends with `j2ee` instead of `javaee`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13222_01/wls/docs100/webapp/web_xml.html#wp1074426\r\n  [2]: http://wiki.metawerx.net/wiki/Web.xml","title":"cvc-id.3 error in web.xml","body":"<p>I've found the following <a href=\"https://docs.oracle.com/cd/E13222_01/wls/docs100/webapp/web_xml.html#wp1074426\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://wiki.metawerx.net/wiki/Web.xml\" rel=\"nofollow noreferrer\">here</a> which helps me:</p>\n<pre><code>&lt;web-app\n  xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n  version=&quot;2.5&quot;&gt;\n</code></pre>\n<p>The value of attribute <code>xmlns</code> ends with <code>j2ee</code> instead of <code>javaee</code>.</p>\n"},{"comments":[{"owner":{"account_id":276162,"reputation":753,"user_id":569439,"accept_rate":86,"display_name":"rineez"},"score":8,"creation_date":1631274808,"post_id":69091669,"comment_id":122184495,"body_markdown":"Please Upvote the hell out of this answer :)","body":"Please Upvote the hell out of this answer :)"},{"owner":{"account_id":12595620,"reputation":133,"user_id":11639585,"display_name":"Tigris"},"score":0,"creation_date":1631708444,"post_id":69091669,"comment_id":122294604,"body_markdown":"For me changing it to 3.1 did not fix the error, but changing it to 2.5 did.","body":"For me changing it to 3.1 did not fix the error, but changing it to 2.5 did."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1631724282,"post_id":69091669,"comment_id":122301879,"body_markdown":"So you actually used the definition of the question? Because changing the version number only hides the underlying problem again.","body":"So you actually used the definition of the question? Because changing the version number only hides the underlying problem again."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1639062971,"post_id":69091669,"comment_id":124257170,"body_markdown":"The next obvious question to me is, is there an Eclipse bug filed somewhere?... This is really annoying, and I can&#39;t yet change to 3.1, because of the levels supported by our current servers.","body":"The next obvious question to me is, is there an Eclipse bug filed somewhere?... This is really annoying, and I can&#39;t yet change to 3.1, because of the levels supported by our current servers."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1639063401,"post_id":69091669,"comment_id":124257362,"body_markdown":"I opened https://bugs.eclipse.org/bugs/show_bug.cgi?id=577715","body":"I opened <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=577715\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=577715</a>"}],"tags":[],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"comment_count":5,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1656696881,"creation_date":1631031933,"answer_id":69091669,"question_id":3219639,"body_markdown":"# Eclipse 2021-06\r\n\r\nI&#39;ve ran into a similar issue with Eclipse 2021-06 today:\r\n\r\n&gt; cvc-id.3: A field of identity constraint &#39;web-common-filter-name-uniqueness&#39; matched element &#39;web-app&#39;, but this element does not have a simple type.\r\n\r\n# Wrong answers\r\n\r\nMany of the other suggestions in the answers are simply wrong, because what they are doing is changing namespaces to something not mapped to any schema at all anymore and therefore things won&#39;t simply be checked anymore. Some comments make that clear already, so `java` to `Java` or `http` to `https` or `javaee` to `j2ee` at some places really only hides the problem.\r\n\r\nThe point is that if that message comes, there really is a validation problem which needs to be found and fixed. So while suggestions like cleaning the project, the network cache of Eclipse under `Windows/Preferences/Network Connections/Cache` etc. are usual Voodoo, they MIGHT(!) work! Though, that wasn&#39;t the problem in my case.\r\n\r\n# Deployment descriptor 3.1\r\n\r\nWhat has worked in my case was changing the deployment descriptor to version [3.1][1]:\r\n\r\n```xml\r\n&lt;web-app\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n\t\t\t\t\t\t\t\thttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n\t\t\tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n```\r\n\r\nvs.\r\n\r\n```xml\r\n&lt;web-app\txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n\t\t\t\t\t\t\t\thttp://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t\t\tid=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n```\r\n\r\nAfterwards the validation errors were instantly gone. Though, the important part is that in contrast to introduce invalid/unknown/wrong/... namespaces like in many of the other answers, Eclipse DOES validate! This can easily be tested by really adding the same `filter-name` twice, which results in the following error:\r\n\r\n&gt; cvc-identity-constraint.4.1: Duplicate unique value [UrlRewriteFilter]\r\n&gt; declared for identity constraint &quot;web-common-filter-name-uniqueness&quot; of\r\n&gt; element &quot;web-app&quot;.\r\n\r\nThat DOES NOT happen with invalid/unknown/wrong/... namespaces, Eclipse wouldn&#39;t simply validate at all and the error would be left unrecognized until deployment or even later.\r\n\r\n# Support for version 3.1 in Tomcat+Eclipse\r\n\r\nI need to support legacy apps myself, so checked with which version of Tomcat a corresponding `web.xml` has been deployed and its 8.0. That should be old enough for a lot of users. Of course Eclipse seems to bundle that version for quite some time as well, otherwise it wouldn&#39;t be able to validate right now. Just have a look into the file `org.eclipse.jst.standard.schemas_1.2.400.v202101070609.jar`.\r\n\r\n# Changes of 3.0 to 3.1\r\n\r\nI&#39;ve diffed both versions and it seems people mostly changed only namespaces and migrated some types from the associated `web-common_*.xsd` to `web-app_*.xsd` itself. Really only minor changes otherwise.\r\n\r\n# Conclusion\r\n\r\nThe overall interesting question is why Eclipse stopped working for the former `web.xml` even though it seems that it was totally correct. Only the namespaces and version number changed, but that worked for years in the past. What I&#39;m not sure about anymore is if older Eclipse validated using language server, like the currently used version does. I wonder if whatever provides the language server might have changed and version 3.0 of the deployment descriptor might simply not be supported at all anymore.\r\n\r\nOr something else changed regarding downloading and including the `web-common_*.xsd` and that&#39;s why they needed to refactor types into the parent file.\r\n\r\nOf course, neither of this was the issue when the question was actually written in 2010. :-) Though, as the deployment descriptor looks still correct to me, only for some older version, there surely was some other root cause as well than wrong namespaces or alike.\r\n\r\n# JSP-related updates\r\n\r\nI&#39;ve ran into pretty much the problem with JSP as well and this time it was enough to change the location of the XSD only, without any namespace or version changes. The latter were applied for `web.xml`, but this time I only did the following:\r\n\r\n```xml\r\n&lt;taglib\r\n\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\r\n\tversion=&quot;2.1&quot;&gt;\r\n```\r\n\r\nvs.\r\n\r\n```xml\r\n&lt;taglib\r\n\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\r\n\tversion=&quot;2.1&quot;&gt;\r\n```\r\n\r\n&gt; http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\r\n\r\nvs.\r\n\r\n&gt; http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\r\n\r\nThe important thing is that I didn&#39;t simply invalidated namespaces, but validation still applies. This can easily be tested by adding invalid elements or e.g. add multiple functions with the same names.\r\n\r\n```\r\ncvc-complex-type.2.4.a: Invalid content was found starting with element &#39;{&quot;http://java.sun.com/xml/ns/javaee&quot;:foobar}&#39;. One of &#39;{&quot;http://java.sun.com/xml/ns/javaee&quot;:description, &quot;http://java.sun.com/xml/ns/javaee&quot;:display-name, &quot;http://java.sun.com/xml/ns/javaee&quot;:icon, &quot;http://java.sun.com/xml/ns/javaee&quot;:tlib-version}&#39; is expected.\r\n```\r\n\r\nWWD in Eclipse contains some catalog file mapping the same actual XSD file under multiple different URI-names. So while in theory the older URI should still be available and used, it doesn&#39;t seem to be for some reason. OTOH, the newer URI seems to work for some reason, but in those cases it is necessary to keep the OLD namespaces! Reason simply is that the one and only available file still contains the old namespaces, regardless which URI is used to read it.\r\n\r\n[![Eclipse WWD catalog settings][2]][2]\r\n\r\n```xml\r\n&lt;uri name=&quot;http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot; uri=&quot;file:///C:/Users/tschoening/AppData/Roaming/Eclipse/Java%20Docsrv/configuration/org.eclipse.osgi/1360/0/.cp/dtdsAndSchemas/web-jsptaglibrary_2_1.xsd&quot;/&gt;\r\n&lt;uri name=&quot;http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot; uri=&quot;file:///C:/Users/tschoening/AppData/Roaming/Eclipse/Java%20Docsrv/configuration/org.eclipse.osgi/1360/0/.cp/dtdsAndSchemas/web-jsptaglibrary_2_1.xsd&quot;/&gt;\r\n```\r\n\r\nSo, it might be that changing the URI only might have worked with `web.xml` as well, like it seems to work with my JSP taglibs. Didn&#39;t get anything newer to work as well, seems like standards have changed a bit and I would need to adopt more, which I don&#39;t want anymore. Legacy-stuff... :-)\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/java/config/webxml\r\n  [2]: https://i.stack.imgur.com/XK7IM.png","title":"cvc-id.3 error in web.xml","body":"<h1>Eclipse 2021-06</h1>\n<p>I've ran into a similar issue with Eclipse 2021-06 today:</p>\n<blockquote>\n<p>cvc-id.3: A field of identity constraint 'web-common-filter-name-uniqueness' matched element 'web-app', but this element does not have a simple type.</p>\n</blockquote>\n<h1>Wrong answers</h1>\n<p>Many of the other suggestions in the answers are simply wrong, because what they are doing is changing namespaces to something not mapped to any schema at all anymore and therefore things won't simply be checked anymore. Some comments make that clear already, so <code>java</code> to <code>Java</code> or <code>http</code> to <code>https</code> or <code>javaee</code> to <code>j2ee</code> at some places really only hides the problem.</p>\n<p>The point is that if that message comes, there really is a validation problem which needs to be found and fixed. So while suggestions like cleaning the project, the network cache of Eclipse under <code>Windows/Preferences/Network Connections/Cache</code> etc. are usual Voodoo, they MIGHT(!) work! Though, that wasn't the problem in my case.</p>\n<h1>Deployment descriptor 3.1</h1>\n<p>What has worked in my case was changing the deployment descriptor to version <a href=\"https://cloud.google.com/appengine/docs/standard/java/config/webxml\" rel=\"noreferrer\">3.1</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n                                http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n            id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n                                http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n            id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n</code></pre>\n<p>Afterwards the validation errors were instantly gone. Though, the important part is that in contrast to introduce invalid/unknown/wrong/... namespaces like in many of the other answers, Eclipse DOES validate! This can easily be tested by really adding the same <code>filter-name</code> twice, which results in the following error:</p>\n<blockquote>\n<p>cvc-identity-constraint.4.1: Duplicate unique value [UrlRewriteFilter]\ndeclared for identity constraint &quot;web-common-filter-name-uniqueness&quot; of\nelement &quot;web-app&quot;.</p>\n</blockquote>\n<p>That DOES NOT happen with invalid/unknown/wrong/... namespaces, Eclipse wouldn't simply validate at all and the error would be left unrecognized until deployment or even later.</p>\n<h1>Support for version 3.1 in Tomcat+Eclipse</h1>\n<p>I need to support legacy apps myself, so checked with which version of Tomcat a corresponding <code>web.xml</code> has been deployed and its 8.0. That should be old enough for a lot of users. Of course Eclipse seems to bundle that version for quite some time as well, otherwise it wouldn't be able to validate right now. Just have a look into the file <code>org.eclipse.jst.standard.schemas_1.2.400.v202101070609.jar</code>.</p>\n<h1>Changes of 3.0 to 3.1</h1>\n<p>I've diffed both versions and it seems people mostly changed only namespaces and migrated some types from the associated <code>web-common_*.xsd</code> to <code>web-app_*.xsd</code> itself. Really only minor changes otherwise.</p>\n<h1>Conclusion</h1>\n<p>The overall interesting question is why Eclipse stopped working for the former <code>web.xml</code> even though it seems that it was totally correct. Only the namespaces and version number changed, but that worked for years in the past. What I'm not sure about anymore is if older Eclipse validated using language server, like the currently used version does. I wonder if whatever provides the language server might have changed and version 3.0 of the deployment descriptor might simply not be supported at all anymore.</p>\n<p>Or something else changed regarding downloading and including the <code>web-common_*.xsd</code> and that's why they needed to refactor types into the parent file.</p>\n<p>Of course, neither of this was the issue when the question was actually written in 2010. :-) Though, as the deployment descriptor looks still correct to me, only for some older version, there surely was some other root cause as well than wrong namespaces or alike.</p>\n<h1>JSP-related updates</h1>\n<p>I've ran into pretty much the problem with JSP as well and this time it was enough to change the location of the XSD only, without any namespace or version changes. The latter were applied for <code>web.xml</code>, but this time I only did the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;taglib\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\n    version=&quot;2.1&quot;&gt;\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;taglib\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\n    version=&quot;2.1&quot;&gt;\n</code></pre>\n<blockquote>\n<p><a href=\"http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\" rel=\"noreferrer\">http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd</a></p>\n</blockquote>\n<p>vs.</p>\n<blockquote>\n<p><a href=\"http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\" rel=\"noreferrer\">http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd</a></p>\n</blockquote>\n<p>The important thing is that I didn't simply invalidated namespaces, but validation still applies. This can easily be tested by adding invalid elements or e.g. add multiple functions with the same names.</p>\n<pre><code>cvc-complex-type.2.4.a: Invalid content was found starting with element '{&quot;http://java.sun.com/xml/ns/javaee&quot;:foobar}'. One of '{&quot;http://java.sun.com/xml/ns/javaee&quot;:description, &quot;http://java.sun.com/xml/ns/javaee&quot;:display-name, &quot;http://java.sun.com/xml/ns/javaee&quot;:icon, &quot;http://java.sun.com/xml/ns/javaee&quot;:tlib-version}' is expected.\n</code></pre>\n<p>WWD in Eclipse contains some catalog file mapping the same actual XSD file under multiple different URI-names. So while in theory the older URI should still be available and used, it doesn't seem to be for some reason. OTOH, the newer URI seems to work for some reason, but in those cases it is necessary to keep the OLD namespaces! Reason simply is that the one and only available file still contains the old namespaces, regardless which URI is used to read it.</p>\n<p><a href=\"https://i.stack.imgur.com/XK7IM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XK7IM.png\" alt=\"Eclipse WWD catalog settings\" /></a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uri name=&quot;http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot; uri=&quot;file:///C:/Users/tschoening/AppData/Roaming/Eclipse/Java%20Docsrv/configuration/org.eclipse.osgi/1360/0/.cp/dtdsAndSchemas/web-jsptaglibrary_2_1.xsd&quot;/&gt;\n&lt;uri name=&quot;http://xmlns.jcp.org/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot; uri=&quot;file:///C:/Users/tschoening/AppData/Roaming/Eclipse/Java%20Docsrv/configuration/org.eclipse.osgi/1360/0/.cp/dtdsAndSchemas/web-jsptaglibrary_2_1.xsd&quot;/&gt;\n</code></pre>\n<p>So, it might be that changing the URI only might have worked with <code>web.xml</code> as well, like it seems to work with my JSP taglibs. Didn't get anything newer to work as well, seems like standards have changed a bit and I would need to adopt more, which I don't want anymore. Legacy-stuff... :-)</p>\n"},{"comments":[{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1660691030,"post_id":69402103,"comment_id":129591127,"body_markdown":"Please include detail on why this would fix the issue. Not having detail doesn&#39;t provide much assistance.","body":"Please include detail on why this would fix the issue. Not having detail doesn&#39;t provide much assistance."}],"tags":[],"owner":{"account_id":6450262,"reputation":29,"user_id":4997404,"display_name":"ASR"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633073457,"creation_date":1633073457,"answer_id":69402103,"question_id":3219639,"body_markdown":"please find below the tag for web.xml\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n    \r\n    &lt;/web-app&gt;","title":"cvc-id.3 error in web.xml","body":"<p>please find below the tag for web.xml</p>\n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1692739872,"post_id":74254951,"comment_id":135665193,"body_markdown":"been there done that.\nFor Spring 6 / Java 17 world I ended with\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\nxsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee\nhttps://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\nversion=&quot;6.0&quot;&gt;","body":"been there done that. For Spring 6 / Java 17 world I ended with &lt;web-app xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xmlns=&quot;<a href=\"https://jakarta.ee/xml/ns/jakartaee\" rel=\"nofollow noreferrer\">jakarta.ee/xml/ns/jakartaee</a>&quot; xsi:schemaLocation=&quot;<a href=\"https://jakarta.ee/xml/ns/jakartaee\" rel=\"nofollow noreferrer\">jakarta.ee/xml/ns/jakartaee</a> <a href=\"https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd\" rel=\"nofollow noreferrer\">jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd</a>&quot; version=&quot;6.0&quot;&gt;"}],"tags":[],"owner":{"account_id":2679545,"reputation":306,"user_id":12492815,"display_name":"Viktor Born"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667148526,"creation_date":1667148526,"answer_id":74254951,"question_id":3219639,"body_markdown":"I really appreciate Thorsten Sch&#246;ning&#39;s answer and his offer to fix issues, not hide them.\r\n\r\nIn my case, I was getting these validation errors due to the usage of incorrect version and descriptor schema.\r\n\r\nSince I used Jakarta&#39;s implementation of Servlets \r\n\r\n`jakarta.servlet:jakarta.servlet-api:5.0.0`\r\n\r\nI had to use [Jakarta&#39;s schema][1]\r\n\r\n    &lt;web-app version=&quot;5.0&quot;\r\n                 xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n                 id=&quot;webappid&quot;&gt;\r\n\r\n&gt; For example, Jakarta servlet Deployment Descriptor instances that must\r\n&gt; be processed with the servlet 5.0 version must indicate the version\r\n&gt; within the version attribute of the instance document, for example,\r\n&gt; “5.0”. The Deployment Descriptor processors use the version\r\n&gt; information to choose the appropriate version of the schema\r\n&gt; document(s) to process the Deployment Descriptor instances.\r\n\r\nSo, if you use javax.servlet-api:3.1 then the correct descriptor should use the appropriate version as well. Like this\r\n\r\n    &lt;web-app version=&quot;3.1&quot;\r\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             id=&quot;webappid&quot;&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://jakarta.ee/xml/ns/jakartaee/","title":"cvc-id.3 error in web.xml","body":"<p>I really appreciate Thorsten Schöning's answer and his offer to fix issues, not hide them.</p>\n<p>In my case, I was getting these validation errors due to the usage of incorrect version and descriptor schema.</p>\n<p>Since I used Jakarta's implementation of Servlets</p>\n<p><code>jakarta.servlet:jakarta.servlet-api:5.0.0</code></p>\n<p>I had to use <a href=\"https://jakarta.ee/xml/ns/jakartaee/\" rel=\"nofollow noreferrer\">Jakarta's schema</a></p>\n<pre><code>&lt;web-app version=&quot;5.0&quot;\n             xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n             id=&quot;webappid&quot;&gt;\n</code></pre>\n<blockquote>\n<p>For example, Jakarta servlet Deployment Descriptor instances that must\nbe processed with the servlet 5.0 version must indicate the version\nwithin the version attribute of the instance document, for example,\n“5.0”. The Deployment Descriptor processors use the version\ninformation to choose the appropriate version of the schema\ndocument(s) to process the Deployment Descriptor instances.</p>\n</blockquote>\n<p>So, if you use javax.servlet-api:3.1 then the correct descriptor should use the appropriate version as well. Like this</p>\n<pre><code>&lt;web-app version=&quot;3.1&quot;\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         id=&quot;webappid&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":629856,"reputation":391,"user_id":388469,"display_name":"Arsenicum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64851,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":6,"score":39,"last_activity_date":1667148526,"creation_date":1278773419,"question_id":3219639,"body_markdown":"I&#39;m getting this error message while editing web.xml file in eclipse for SpringMVC web-app: \r\n\r\n&gt; cvc-id.3: A field of identity\r\n&gt; constraint\r\n&gt; &#39;web-app-servlet-name-uniqueness&#39;\r\n&gt; matched element &#39;web-app&#39;, but this\r\n&gt; element does not have a simple type.\r\n\r\nhere is part of my web.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n    \txmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;\r\n                org.springframework.web.servlet.DispatcherServlet\r\n            &lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n\r\nError points at the `&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;` declaration.\r\nWhat should i do to fix it?\r\nThank you in advance.","title":"cvc-id.3 error in web.xml","body":"<p>I'm getting this error message while editing web.xml file in eclipse for SpringMVC web-app: </p>\n\n<blockquote>\n  <p>cvc-id.3: A field of identity\n  constraint\n  'web-app-servlet-name-uniqueness'\n  matched element 'web-app', but this\n  element does not have a simple type.</p>\n</blockquote>\n\n<p>here is part of my web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" \n    xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    id=\"WebApp_ID\" version=\"2.5\"&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n</code></pre>\n\n<p>Error points at the <code>&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;</code> declaration.\nWhat should i do to fix it?\nThank you in advance.</p>\n"},{"tags":["java","maven","gradle","dependencies","property-files"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1667147149,"post_id":74245897,"comment_id":131096783,"body_markdown":"&quot;which has both&quot; is already bad/probably wrong... Better: have only one(!) (and automatically export/deploy/publish the other.. i think Gradle&gt;maven is &quot;more mature&quot; ...see e.g. https://github.com/spring-projects/spring-boot ..it &quot;maintains&quot; only a gradle build, but exports also to maven","body":"&quot;which has both&quot; is already bad/probably wrong... Better: have only one(!) (and automatically export/deploy/publish the other.. i think Gradle&gt;maven is &quot;more mature&quot; ...see e.g. <a href=\"https://github.com/spring-projects/spring-boot\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot</a> ..it &quot;maintains&quot; only a gradle build, but exports also to maven"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667147554,"post_id":74245897,"comment_id":131096878,"body_markdown":"*export to maven: easily `$ ./gradlew publishToMavenLocal`","body":"*export to maven: easily <code>$ .&#47;gradlew publishToMavenLocal</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667148000,"post_id":74245897,"comment_id":131096981,"body_markdown":"You *cannot have* maven-lovers &amp; gradle-fans united in one (build) project! Where should that lead? Atm. gradle2maven seems superior, since it is a 1-liner ...whereas maven2gradle needs like studies &amp; years of XP:)","body":"You <i>cannot have</i> maven-lovers &amp; gradle-fans united in one (build) project! Where should that lead? Atm. gradle2maven seems superior, since it is a 1-liner ...whereas maven2gradle needs like studies &amp; years of XP:)"},{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":0,"creation_date":1667225436,"post_id":74245897,"comment_id":131113500,"body_markdown":"@xerx593 : Thanks for the information. I will explore exporting to maven from gradle build.","body":"@xerx593 : Thanks for the information. I will explore exporting to maven from gradle build."}],"answers":[{"comments":[{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":0,"creation_date":1667145567,"post_id":74246108,"comment_id":131096405,"body_markdown":"Unfortunately &quot;properties-maven-plugin&quot; won&#39;t work for versions. https://github.com/mojohaus/properties-maven-plugin/issues/26.","body":"Unfortunately &quot;properties-maven-plugin&quot; won&#39;t work for versions. <a href=\"https://github.com/mojohaus/properties-maven-plugin/issues/26\" rel=\"nofollow noreferrer\">github.com/mojohaus/properties-maven-plugin/issues/26</a>."},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":1,"creation_date":1667147107,"post_id":74246108,"comment_id":131096769,"body_markdown":"Thank you for the comment @shashantrika. I&#39;ve updated my answer with this information.","body":"Thank you for the comment @shashantrika. I&#39;ve updated my answer with this information."}],"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667147078,"creation_date":1667053528,"answer_id":74246108,"question_id":74245897,"body_markdown":"This is possible using the `gradle.properties` file for both Gradle and Maven.\r\n\r\nFor instance, you can have these properties:\r\n```\r\nMYSQL_CONNECTOR_VERSION=8.0.31\r\nANOTHER_PROPERTY=something\r\n```\r\n\r\n**Gradle** looks for `gradle.properties` files in these places ([source][1]):\r\n\r\n - The root project directory - maybe the best option for you\r\n - The sub-project directory\r\n - Under gradle user home directory defined by the `GRADLE_USER_HOME` environment variable, which if not set defaults to `USER_HOME/.gradle`\r\n\r\n\r\nThen, in `build.gradle`, you can read these properties like so:\r\n```\r\ntask printProps {\r\n    doFirst {\r\n        println MYSQL_CONNECTOR_VERSION\r\n        println ANOTHER_PROPERTY\r\n    }\r\n}\r\n```\r\nAs for **Maven**, you can access this file using the _[Properties Maven Plugin][2]_:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;initialize&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;files&gt;\r\n\t\t\t\t\t&lt;file&gt;path/to/gradle.properties&lt;/file&gt;\r\n\t\t\t\t&lt;/files&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nAnd use them just like you would with the usual Maven properties.\r\n\r\n---\r\n## **UPDATE**\r\n\r\nIt looks like the documentation for the _Properties Maven Plugin_ is misleading, or not accurate enough. For the time being, **it&#39;s not possible** to read version properties from an external properties file, even though [it&#39;s stated][3]:\r\n\r\n&gt; The read-project-properties goal reads property files and URLs and\r\n&gt; stores the properties as project properties. It serves as an alternate\r\n&gt; to specifying properties in pom.xml\r\n\r\nFor more information regarding this issue, follow this GitHub discussion:\r\nhttps://github.com/mojohaus/properties-maven-plugin/issues/26\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30334916/9213148\r\n  [2]: http://www.mojohaus.org/properties-maven-plugin/\r\n  [3]: https://www.mojohaus.org/properties-maven-plugin/read-project-properties-mojo.html","title":"Common version management for Gradle and maven","body":"<p>This is possible using the <code>gradle.properties</code> file for both Gradle and Maven.</p>\n<p>For instance, you can have these properties:</p>\n<pre><code>MYSQL_CONNECTOR_VERSION=8.0.31\nANOTHER_PROPERTY=something\n</code></pre>\n<p><strong>Gradle</strong> looks for <code>gradle.properties</code> files in these places (<a href=\"https://stackoverflow.com/a/30334916/9213148\">source</a>):</p>\n<ul>\n<li>The root project directory - maybe the best option for you</li>\n<li>The sub-project directory</li>\n<li>Under gradle user home directory defined by the <code>GRADLE_USER_HOME</code> environment variable, which if not set defaults to <code>USER_HOME/.gradle</code></li>\n</ul>\n<p>Then, in <code>build.gradle</code>, you can read these properties like so:</p>\n<pre><code>task printProps {\n    doFirst {\n        println MYSQL_CONNECTOR_VERSION\n        println ANOTHER_PROPERTY\n    }\n}\n</code></pre>\n<p>As for <strong>Maven</strong>, you can access this file using the <em><a href=\"http://www.mojohaus.org/properties-maven-plugin/\" rel=\"nofollow noreferrer\">Properties Maven Plugin</a></em>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;initialize&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;read-project-properties&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;files&gt;\n                    &lt;file&gt;path/to/gradle.properties&lt;/file&gt;\n                &lt;/files&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And use them just like you would with the usual Maven properties.</p>\n<hr />\n<h2><strong>UPDATE</strong></h2>\n<p>It looks like the documentation for the <em>Properties Maven Plugin</em> is misleading, or not accurate enough. For the time being, <strong>it's not possible</strong> to read version properties from an external properties file, even though <a href=\"https://www.mojohaus.org/properties-maven-plugin/read-project-properties-mojo.html\" rel=\"nofollow noreferrer\">it's stated</a>:</p>\n<blockquote>\n<p>The read-project-properties goal reads property files and URLs and\nstores the properties as project properties. It serves as an alternate\nto specifying properties in pom.xml</p>\n</blockquote>\n<p>For more information regarding this issue, follow this GitHub discussion:\n<a href=\"https://github.com/mojohaus/properties-maven-plugin/issues/26\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/properties-maven-plugin/issues/26</a></p>\n"}],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667147078,"creation_date":1667051646,"question_id":74245897,"body_markdown":"We have a spring-boot java project which has both maven and Gradle. The problem is with dependencies, each has its own version of dependencies. For example, in maven MySQL dependency is \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nWhereas in Gradle, having below:\r\n\r\n    dependencies {\r\n        implementation(project(&#39;:demo&#39;))\r\n        implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.31&#39;\r\n    }\r\n\r\n\r\nIs there a way to maintain versions for both maven and Gradle in some commonplace? Like from an external property file inside the project?\r\nManually syncing versions for both Maven and Gradle is getting cumbersome.","title":"Common version management for Gradle and maven","body":"<p>We have a spring-boot java project which has both maven and Gradle. The problem is with dependencies, each has its own version of dependencies. For example, in maven MySQL dependency is</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Whereas in Gradle, having below:</p>\n<pre><code>dependencies {\n    implementation(project(':demo'))\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.31'\n}\n</code></pre>\n<p>Is there a way to maintain versions for both maven and Gradle in some commonplace? Like from an external property file inside the project?\nManually syncing versions for both Maven and Gradle is getting cumbersome.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":13479916,"reputation":529,"user_id":9725562,"display_name":"Anshul1507"},"score":0,"creation_date":1667147586,"post_id":74254759,"comment_id":131096881,"body_markdown":"Have you checked this https://stackoverflow.com/q/30397460/9725562","body":"Have you checked this <a href=\"https://stackoverflow.com/q/30397460/9725562\">stackoverflow.com/q/30397460/9725562</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667204694,"post_id":74254759,"comment_id":131106676,"body_markdown":"&quot;I tried overriding OnDataChanged() method. But it didn&#39;t work.&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Did you get any errors? Please respond using @AlexMamo","body":"&quot;I tried overriding OnDataChanged() method. But it didn&#39;t work.&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Did you get any errors? Please respond using @AlexMamo"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667147038,"creation_date":1667147038,"question_id":74254759,"body_markdown":"**Problem**\r\n\r\nI want to make the progress bar visibility to gone as soon as the data gets loaded.\r\nI the following adapter class I tried by overriding OnDataChanged() method. But it didn&#39;t worked. The progress bar is still visible.\r\n\r\n\r\n\r\n**Adapter Code**\r\n\r\n    package com.example.movies4u;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.bumptech.glide.Glide;\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    \r\n    public class Ratings_Adapter extends FirebaseRecyclerAdapter&lt;Ratings_model,Ratings_Adapter.myViewHolder&gt; {\r\n    \r\n        ProgressBar progressBar;\r\n        /**\r\n         * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\r\n         * {@link FirebaseRecyclerOptions} for configuration options.\r\n         *\r\n         * @param options\r\n         */\r\n        public Ratings_Adapter(@NonNull FirebaseRecyclerOptions&lt;Ratings_model&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Ratings_model model) {\r\n            holder.title.setText(model.getTitle());\r\n            holder.description.setText(model.getDescription());\r\n    \r\n            Glide.with(holder.img.getContext())\r\n                    .load(model.getImgurl())\r\n                    .placeholder(R.drawable.movie_icon)\r\n                    .error(R.drawable.cannot_load_item)\r\n                    .into(holder.img);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.ratings_item,parent,false);\r\n            return new myViewHolder(view);\r\n        }\r\n    \r\n        class myViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            ImageView img;\r\n            TextView title,description;\r\n            ProgressBar progressBar;\r\n    \r\n            public myViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                progressBar=(ProgressBar) itemView.findViewById(R.id.ratingsprogressBar);\r\n                img=(ImageView) itemView.findViewById(R.id.img1);\r\n                title=(TextView) itemView.findViewById(R.id.titletext);\r\n                description=(TextView) itemView.findViewById(R.id.descriptiontext);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDataChanged(){\r\n            if(progressBar!=null){\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    }\r\n\r\n**I am Expecting** to make the visibility of progress bar to be gone after the data gets loaded\r\n\r\n","title":"How to control the visibility of the Progress bar While getting data from Realtime Firebase","body":"<p><strong>Problem</strong></p>\n<p>I want to make the progress bar visibility to gone as soon as the data gets loaded.\nI the following adapter class I tried by overriding OnDataChanged() method. But it didn't worked. The progress bar is still visible.</p>\n<p><strong>Adapter Code</strong></p>\n<pre><code>package com.example.movies4u;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\n\npublic class Ratings_Adapter extends FirebaseRecyclerAdapter&lt;Ratings_model,Ratings_Adapter.myViewHolder&gt; {\n\n    ProgressBar progressBar;\n    /**\n     * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\n     * {@link FirebaseRecyclerOptions} for configuration options.\n     *\n     * @param options\n     */\n    public Ratings_Adapter(@NonNull FirebaseRecyclerOptions&lt;Ratings_model&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Ratings_model model) {\n        holder.title.setText(model.getTitle());\n        holder.description.setText(model.getDescription());\n\n        Glide.with(holder.img.getContext())\n                .load(model.getImgurl())\n                .placeholder(R.drawable.movie_icon)\n                .error(R.drawable.cannot_load_item)\n                .into(holder.img);\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.ratings_item,parent,false);\n        return new myViewHolder(view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder{\n\n        ImageView img;\n        TextView title,description;\n        ProgressBar progressBar;\n\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            progressBar=(ProgressBar) itemView.findViewById(R.id.ratingsprogressBar);\n            img=(ImageView) itemView.findViewById(R.id.img1);\n            title=(TextView) itemView.findViewById(R.id.titletext);\n            description=(TextView) itemView.findViewById(R.id.descriptiontext);\n        }\n    }\n\n    @Override\n    public void onDataChanged(){\n        if(progressBar!=null){\n            progressBar.setVisibility(View.GONE);\n        }\n    }\n}\n</code></pre>\n<p><strong>I am Expecting</strong> to make the visibility of progress bar to be gone after the data gets loaded</p>\n"},{"tags":["java","class","naming","conventions"],"comments":[{"owner":{"account_id":9585350,"reputation":3325,"user_id":7118342,"display_name":"Harmandeep Singh Kalsi"},"score":0,"creation_date":1593488733,"post_id":62649943,"comment_id":110791862,"body_markdown":"Classname should start from capital letter. Both are valid","body":"Classname should start from capital letter. Both are valid"}],"answers":[{"tags":[],"owner":{"account_id":9585350,"reputation":3325,"user_id":7118342,"display_name":"Harmandeep Singh Kalsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593488847,"creation_date":1593488847,"answer_id":62649980,"question_id":62649943,"body_markdown":"This is how class Name should be :\r\n\r\n&gt; Class names should be nouns, in mixed case with the first letter of\r\n&gt; each internal word capitalized. Try to keep your class names simple\r\n&gt; and descriptive. Use whole words-avoid acronyms and abbreviations\r\n&gt; (unless the abbreviation is much more widely used than the long form,\r\n&gt; such as URL or HTML).\r\n\r\nExamples: **class Raster; class ImageSprite;**\r\n\r\nCheck this for the information : https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#:~:text=Class%20names%20should%20be%20nouns,such%20as%20URL%20or%20HTML).","title":"naming convention for class in java - all caps","body":"<p>This is how class Name should be :</p>\n<blockquote>\n<p>Class names should be nouns, in mixed case with the first letter of\neach internal word capitalized. Try to keep your class names simple\nand descriptive. Use whole words-avoid acronyms and abbreviations\n(unless the abbreviation is much more widely used than the long form,\nsuch as URL or HTML).</p>\n</blockquote>\n<p>Examples: <strong>class Raster; class ImageSprite;</strong></p>\n<p>Check this for the information : <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#:%7E:text=Class%20names%20should%20be%20nouns,such%20as%20URL%20or%20HTML\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#:~:text=Class%20names%20should%20be%20nouns,such%20as%20URL%20or%20HTML</a>).</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593488868,"creation_date":1593488868,"answer_id":62649982,"question_id":62649943,"body_markdown":"Both names are acceptable. The general convention for naming classes in Java is just that the first letter should always be capitalized and the whole name should be in camel case, meaning that the first letter of each word is capitalized.","title":"naming convention for class in java - all caps","body":"<p>Both names are acceptable. The general convention for naming classes in Java is just that the first letter should always be capitalized and the whole name should be in camel case, meaning that the first letter of each word is capitalized.</p>\n"},{"tags":[],"owner":{"account_id":18805522,"reputation":91,"user_id":13714961,"display_name":"Youssef2003"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1593490069,"creation_date":1593490069,"answer_id":62650147,"question_id":62649943,"body_markdown":"Both of your options work. The main goal with classes is to have them start with an Upper Case. So, VIPSelector and VipSelector both work. This convention is mostly used to get rid of a common mistake that you can find in OOP which is when you can&#39;t make the difference between a class and a method.\r\n\r\nImagine having a class object called &quot;student&quot;, to initiate it, it would be \r\nstudent s = new student(); \r\nThat looks a lot like a method and this is why, by convention, we put the first letter in upper case.","title":"naming convention for class in java - all caps","body":"<p>Both of your options work. The main goal with classes is to have them start with an Upper Case. So, VIPSelector and VipSelector both work. This convention is mostly used to get rid of a common mistake that you can find in OOP which is when you can't make the difference between a class and a method.</p>\n<p>Imagine having a class object called &quot;student&quot;, to initiate it, it would be\nstudent s = new student();\nThat looks a lot like a method and this is why, by convention, we put the first letter in upper case.</p>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667147019,"creation_date":1667147019,"answer_id":74254756,"question_id":62649943,"body_markdown":"The [google style guide prefers VipSelector][1]\r\n\r\nSee [this answer][2] to a [similar question][3].\r\n\r\n\r\n  [1]: https://google.github.io/styleguide/javaguide.html#s5.3-camel-case\r\n  [2]: https://stackoverflow.com/a/6239574/2317585\r\n  [3]: https://stackoverflow.com/questions/2236807/java-naming-convention-with-acronyms","title":"naming convention for class in java - all caps","body":"<p>The <a href=\"https://google.github.io/styleguide/javaguide.html#s5.3-camel-case\" rel=\"nofollow noreferrer\">google style guide prefers VipSelector</a></p>\n<p>See <a href=\"https://stackoverflow.com/a/6239574/2317585\">this answer</a> to a <a href=\"https://stackoverflow.com/questions/2236807/java-naming-convention-with-acronyms\">similar question</a>.</p>\n"}],"owner":{"account_id":3573325,"reputation":75,"user_id":2983167,"display_name":"Allan C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4517,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62650147,"answer_count":4,"score":5,"last_activity_date":1667147019,"creation_date":1593488608,"question_id":62649943,"body_markdown":"How do you name a class when it&#39;s all caps in Java? For example, if I want to create a class to select certain people to be VIP. Should I name the class &quot;VIPSelector&quot; or &quot;VipSelector&quot;?\r\n\r\nThanks!","title":"naming convention for class in java - all caps","body":"<p>How do you name a class when it's all caps in Java? For example, if I want to create a class to select certain people to be VIP. Should I name the class &quot;VIPSelector&quot; or &quot;VipSelector&quot;?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1666959310,"post_id":74235244,"comment_id":131063584,"body_markdown":"I don&#39;t see a daemon thread anywhere.  You should create and start one.","body":"I don&#39;t see a daemon thread anywhere.  You should create and start one."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1666968123,"post_id":74235774,"comment_id":131066594,"body_markdown":"In this particular case, there is no need for threads;  since the output of the child process is just being printed, the second loop can be removed entirely, and in its place, `redirectOutput(ProcessBuilder.Redirect.INHERIT)` can be called on the ProcessBuilder before the process is started.","body":"In this particular case, there is no need for threads;  since the output of the child process is just being printed, the second loop can be removed entirely, and in its place, <code>redirectOutput(ProcessBuilder.Redirect.INHERIT)</code> can be called on the ProcessBuilder before the process is started."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666969807,"post_id":74235774,"comment_id":131067234,"body_markdown":"@VGR Good point, though I avoid using INHERIT as it does not seem to work via `jshell` - such as `new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;dir&quot;).redirectOutput(ProcessBuilder.Redirect.INHERIT).start().waitFor();`. Works inside `main()`, but not in jshell of Windows (or Linux with bash -c). Any idea why it doesn&#39;t work in `jshell`?","body":"@VGR Good point, though I avoid using INHERIT as it does not seem to work via <code>jshell</code> - such as <code>new ProcessBuilder(&quot;cmd.exe&quot;,&quot;&#47;c&quot;,&quot;dir&quot;).redirectOutput(ProcessB&zwnj;&#8203;uilder.Redirect.INHE&zwnj;&#8203;RIT).start().waitFor&zwnj;&#8203;();</code>. Works inside <code>main()</code>, but not in jshell of Windows (or Linux with bash -c). Any idea why it doesn&#39;t work in <code>jshell</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1666970465,"post_id":74235774,"comment_id":131067459,"body_markdown":"I don’t use jshell much, so I honestly don’t know.  Perhaps it uses a raw console output mode or something, instead of regular stdout.","body":"I don’t use jshell much, so I honestly don’t know.  Perhaps it uses a raw console output mode or something, instead of regular stdout."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667146846,"creation_date":1666961843,"answer_id":74235774,"question_id":74235244,"body_markdown":"You need to re-organise your code. The sub-process dies because you&#39;ve got a try with resources block inside the loop:\r\n\r\n    try(PrintWriter stdin = new PrintWriter(Handle.getOutputStream())) {\r\n\r\n        stdin.write(getCommand.nextLine()+System.lineSeparator());\r\n        stdin.flush();\r\n    }\r\n\r\nThe above means STDIN of the sub-process ends after one line, and so does the CMD.EXE.\r\n\r\nAlso note that just moving `PrintWriter stdin` part outside the loop isn&#39;t enough. You won&#39;t be able to reliably supply the STDIN and read STDOUT in same loop as the STDOUT might be many lines of input and block the process when you write STDIN. \r\n\r\nThe fix is easy: follow @VGR suggestion and replace `.redirectErrorStream(true)` by either `.redirectOutput(ProcessBuilder.Redirect.INHERIT)` or `.inheritIO()` \r\n which will mean that you don&#39;t need to read `getInputStream()`. Alternatively use a background thread for your code either for the write to STDIN or for read from `getInputStream()` / STDOUT.","title":"Create a process in java which stays alive always","body":"<p>You need to re-organise your code. The sub-process dies because you've got a try with resources block inside the loop:</p>\n<pre><code>try(PrintWriter stdin = new PrintWriter(Handle.getOutputStream())) {\n\n    stdin.write(getCommand.nextLine()+System.lineSeparator());\n    stdin.flush();\n}\n</code></pre>\n<p>The above means STDIN of the sub-process ends after one line, and so does the CMD.EXE.</p>\n<p>Also note that just moving <code>PrintWriter stdin</code> part outside the loop isn't enough. You won't be able to reliably supply the STDIN and read STDOUT in same loop as the STDOUT might be many lines of input and block the process when you write STDIN.</p>\n<p>The fix is easy: follow @VGR suggestion and replace <code>.redirectErrorStream(true)</code> by either <code>.redirectOutput(ProcessBuilder.Redirect.INHERIT)</code> or <code>.inheritIO()</code>\nwhich will mean that you don't need to read <code>getInputStream()</code>. Alternatively use a background thread for your code either for the write to STDIN or for read from <code>getInputStream()</code> / STDOUT.</p>\n"}],"owner":{"account_id":26754743,"reputation":1,"user_id":20353542,"display_name":"Jehad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667146846,"creation_date":1666959215,"question_id":74235244,"body_markdown":"I create class to execute CMD command continuously It is working fine for the first iteration in the below code, but the problem is the process is died after one iteration is done\r\n\r\n```\r\nclass CommandLine{\r\n\t\r\n\t\r\n\tProcess Handle ;\r\n\tOutputStreamWriter writer;\r\n\tScanner getCommand;\r\n\tSocket socket;\r\n\t\r\n\tpublic CommandLine(Socket socket) throws IOException {\r\n\t\tthis.socket = socket;\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n\tpublic void executeCommand() {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tgetCommand = new Scanner(socket.getInputStream()).useDelimiter(&quot;\\\\A&quot;);\r\n\t\t\tHandle = new ProcessBuilder(&quot;cmd.exe&quot;).redirectErrorStream(true).start();\r\n\t\t\twhile(getCommand.hasNextLine()) {\r\n\t\t\t\t\r\n\t\t\t    try(PrintWriter stdin = new PrintWriter(Handle.getOutputStream())) {\r\n\r\n\t\t\t        stdin.write(getCommand.nextLine()+System.lineSeparator());\r\n\t\t\t        stdin.flush();\r\n\t\t\t    }\r\n\t\t\t    if(Handle.getInputStream().read()&gt;0) {\r\n\t\t\t        Scanner result = new Scanner(Handle.getInputStream()).useDelimiter(&quot;\\\\A&quot;);\r\n\t\t\t        while(result.hasNextLine()) {\r\n\t\t\t        \tSystem.out.print(result.nextLine()+&quot;\\n&quot;);\r\n\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t    \r\n\t\t    \r\n\t\t   \r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nthx for response\r\n","title":"Create a process in java which stays alive always","body":"<p>I create class to execute CMD command continuously It is working fine for the first iteration in the below code, but the problem is the process is died after one iteration is done</p>\n<pre><code>class CommandLine{\n    \n    \n    Process Handle ;\n    OutputStreamWriter writer;\n    Scanner getCommand;\n    Socket socket;\n    \n    public CommandLine(Socket socket) throws IOException {\n        this.socket = socket;\n        \n\n        \n    }\n    public void executeCommand() {\n        try {\n            \n            getCommand = new Scanner(socket.getInputStream()).useDelimiter(&quot;\\\\A&quot;);\n            Handle = new ProcessBuilder(&quot;cmd.exe&quot;).redirectErrorStream(true).start();\n            while(getCommand.hasNextLine()) {\n                \n                try(PrintWriter stdin = new PrintWriter(Handle.getOutputStream())) {\n\n                    stdin.write(getCommand.nextLine()+System.lineSeparator());\n                    stdin.flush();\n                }\n                if(Handle.getInputStream().read()&gt;0) {\n                    Scanner result = new Scanner(Handle.getInputStream()).useDelimiter(&quot;\\\\A&quot;);\n                    while(result.hasNextLine()) {\n                        System.out.print(result.nextLine()+&quot;\\n&quot;);\n\n                    }\n                }\n            }\n            \n            \n           \n            \n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n\n    }\n    \n}\n</code></pre>\n<p>thx for response</p>\n"},{"tags":["java","install.packages"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667140116,"post_id":74253819,"comment_id":131095276,"body_markdown":"Without seeing your code, we can&#39;t tell.  You have incorrect or incomplete Java syntax. \n `java.text` is part of Java.  Edit your question to include the code you&#39;ve written as text.","body":"Without seeing your code, we can&#39;t tell.  You have incorrect or incomplete Java syntax.   <code>java.text</code> is part of Java.  Edit your question to include the code you&#39;ve written as text."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1667140942,"post_id":74253819,"comment_id":131095453,"body_markdown":"Based on `C:\\Users.....&gt; import java.text.NumberFormat;` it looks like you are trying to execute `import java.text.NumberFormat;` as *command* in console and errors informs you that console doesn&#39;t recognize `import` as valid command (not that there is a problem with `java.text` package). It is hard to explain why you end up in such state without *specific* description of steps necessary to reproduce it.","body":"Based on <code>C:\\Users.....&gt; import java.text.NumberFormat;</code> it looks like you are trying to execute <code>import java.text.NumberFormat;</code> as <i>command</i> in console and errors informs you that console doesn&#39;t recognize <code>import</code> as valid command (not that there is a problem with <code>java.text</code> package). It is hard to explain why you end up in such state without <i>specific</i> description of steps necessary to reproduce it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667148511,"post_id":74253819,"comment_id":131097110,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1667153650,"post_id":74253819,"comment_id":131098292,"body_markdown":"How are you running (starting) this program of yours? Has it been compiled?","body":"How are you running (starting) this program of yours? Has it been compiled?"}],"owner":{"account_id":26776626,"reputation":1,"user_id":20372155,"display_name":"Olga Egorova"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667146643,"creation_date":1667139662,"question_id":74253819,"body_markdown":"When I try to run my program, I get following message:\r\n\r\n    PS C:\\Users\\.....&gt; import java.text.NumberFormat;\r\n    import : The term &#39;import&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\nWhat can be wrong?\r\n\r\nI wonder if it is because I do not have java.text with NumberFormat?","title":"Package java.text - where can I search for it?","body":"<p>When I try to run my program, I get following message:</p>\n<pre><code>PS C:\\Users\\.....&gt; import java.text.NumberFormat;\nimport : The term 'import' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\n</code></pre>\n<p>What can be wrong?</p>\n<p>I wonder if it is because I do not have java.text with NumberFormat?</p>\n"},{"tags":["java","android","machine-learning","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":15448309,"reputation":36,"user_id":11144554,"display_name":"Masoud Sarabadani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667146636,"creation_date":1667146636,"answer_id":74254711,"question_id":74253440,"body_markdown":"the indexes start from zero , since the the length of your array is 1001 and it wants to go to index of 1001, it means the computer is reaching for 1002th item and it crashes, so id throws java.lang.ArrayIndexOutOfBoundsException\r\nso you have to check why your loop or iterator is reaching out of your array length, maybe your logic is wrong ??","title":"Error when deploying deep learning model with android studio","body":"<p>the indexes start from zero , since the the length of your array is 1001 and it wants to go to index of 1001, it means the computer is reaching for 1002th item and it crashes, so id throws java.lang.ArrayIndexOutOfBoundsException\nso you have to check why your loop or iterator is reaching out of your array length, maybe your logic is wrong ??</p>\n"}],"owner":{"account_id":26772754,"reputation":1,"user_id":20368856,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667146636,"creation_date":1667136356,"question_id":74253440,"body_markdown":"I am doing a simple app, classifing images. \r\n\r\nI am applying a tensorflow lite model on to the android app using java and android studio.\r\n\r\n1 - Building UI \r\n\r\n2 - Selecting image from local storage \r\n\r\n3 - Capturing image using camera \r\n\r\n4 - Handling permissions \r\n\r\n5 - Loading the TensorFlow tfflite model \r\n\r\n6 - Making predictions to the bitmap\r\n\r\nI do not understand why is the error and how to fix it.\r\n\r\nError:\r\n\r\n`java.lang.RuntimeException: Unable to start activity ComponentInfo{com.erfdrts.imagerecognition/com.erfdrts.imagerecognition.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1001; index=1001`\r\n\r\n`imagerecognition.MainActivity.onCreate(MainActivity.java:57)`\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button select, capture, predict;\r\n    ImageView imageView;\r\n    Bitmap bitmap;\r\n    TextView result;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //permisson\r\n        getPermission();\r\n\r\n        String[] labels = new String[1001]; \r\n        int cnt = 0;\r\n\r\n        try {\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(getAssets().open(&quot;label.txt&quot;)));\r\n            String line = bufferedReader.readLine();\r\n                                                    while (line!=null){ //LINE 57\r\n                labels[cnt] = line;\r\n                cnt++;\r\n            }\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        select = findViewById(R.id.buttonSelect);\r\n        predict = findViewById(R.id.buttonPredict);\r\n        capture = findViewById(R.id.buttonPredict);\r\n        result = findViewById(R.id.textViewResult);\r\n        imageView = findViewById(R.id.imageView);\r\n\r\n        select.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(intent, 10);\r\n            }\r\n        });\r\n\r\n        capture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(intent, 12);\r\n            }\r\n        });\r\n\r\n        predict.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    MobilenetV110224Quant model = MobilenetV110224Quant.newInstance(MainActivity.this); \r\n\r\n                    // Creates inputs for reference.\r\n                    TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n\r\n                    \r\n                    bitmap = Bitmap.createScaledBitmap(bitmap, 224, 224, true);\r\n                    inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\r\n                    MobilenetV110224Quant.Outputs outputs = model.process(inputFeature0);\r\n                    TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n                    result.setText(getMax(outputFeature0.getFloatArray()) +&quot; &quot;); \r\n        \r\n                    model.close();\r\n                } catch (IOException e) {\r\n                    // TODO Handle the exception\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    int getMax(float[] arr){\r\n        int max = 0;\r\n        for (int i = 0; i &lt; arr.length; i++){\r\n            if (arr[i] &gt; arr[max]) max=i;\r\n        }\r\n        return max;\r\n    }\r\n\r\n    public void getPermission(){\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\r\n            if (checkSelfPermission(Manifest.permission.CAMERA)!= PackageManager.PERMISSION_GRANTED){\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA}, 11);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if(requestCode==11){\r\n            if (grantResults[0]!= PackageManager.PERMISSION_GRANTED){\r\n                this.getPermission();\r\n            }\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if(requestCode==10){\r\n            if (data!=null){\r\n                Uri uri = data.getData();\r\n                try {\r\n                    bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\r\n                    imageView.setImageBitmap(bitmap);\r\n                }catch (IOException e){\r\n                    e.printStackTrace();\r\n                                    }\r\n            }\r\n        }\r\n        else if(requestCode==12){ //the user have capture the image\r\n            bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(bitmap);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n}\r\n```","title":"Error when deploying deep learning model with android studio","body":"<p>I am doing a simple app, classifing images.</p>\n<p>I am applying a tensorflow lite model on to the android app using java and android studio.</p>\n<p>1 - Building UI</p>\n<p>2 - Selecting image from local storage</p>\n<p>3 - Capturing image using camera</p>\n<p>4 - Handling permissions</p>\n<p>5 - Loading the TensorFlow tfflite model</p>\n<p>6 - Making predictions to the bitmap</p>\n<p>I do not understand why is the error and how to fix it.</p>\n<p>Error:</p>\n<p><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.erfdrts.imagerecognition/com.erfdrts.imagerecognition.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1001; index=1001</code></p>\n<p><code>imagerecognition.MainActivity.onCreate(MainActivity.java:57)</code></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button select, capture, predict;\n    ImageView imageView;\n    Bitmap bitmap;\n    TextView result;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //permisson\n        getPermission();\n\n        String[] labels = new String[1001]; \n        int cnt = 0;\n\n        try {\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(getAssets().open(&quot;label.txt&quot;)));\n            String line = bufferedReader.readLine();\n                                                    while (line!=null){ //LINE 57\n                labels[cnt] = line;\n                cnt++;\n            }\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n        select = findViewById(R.id.buttonSelect);\n        predict = findViewById(R.id.buttonPredict);\n        capture = findViewById(R.id.buttonPredict);\n        result = findViewById(R.id.textViewResult);\n        imageView = findViewById(R.id.imageView);\n\n        select.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(intent, 10);\n            }\n        });\n\n        capture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(intent, 12);\n            }\n        });\n\n        predict.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                try {\n                    MobilenetV110224Quant model = MobilenetV110224Quant.newInstance(MainActivity.this); \n\n                    // Creates inputs for reference.\n                    TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n\n                    \n                    bitmap = Bitmap.createScaledBitmap(bitmap, 224, 224, true);\n                    inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\n                    MobilenetV110224Quant.Outputs outputs = model.process(inputFeature0);\n                    TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n                    result.setText(getMax(outputFeature0.getFloatArray()) +&quot; &quot;); \n        \n                    model.close();\n                } catch (IOException e) {\n                    // TODO Handle the exception\n                }\n            }\n        });\n\n    }\n\n    int getMax(float[] arr){\n        int max = 0;\n        for (int i = 0; i &lt; arr.length; i++){\n            if (arr[i] &gt; arr[max]) max=i;\n        }\n        return max;\n    }\n\n    public void getPermission(){\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n            if (checkSelfPermission(Manifest.permission.CAMERA)!= PackageManager.PERMISSION_GRANTED){\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA}, 11);\n            }\n\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if(requestCode==11){\n            if (grantResults[0]!= PackageManager.PERMISSION_GRANTED){\n                this.getPermission();\n            }\n        }\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(requestCode==10){\n            if (data!=null){\n                Uri uri = data.getData();\n                try {\n                    bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\n                    imageView.setImageBitmap(bitmap);\n                }catch (IOException e){\n                    e.printStackTrace();\n                                    }\n            }\n        }\n        else if(requestCode==12){ //the user have capture the image\n            bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n            imageView.setImageBitmap(bitmap);\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","tree","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667146565,"creation_date":1667146565,"answer_id":74254702,"question_id":74254469,"body_markdown":"Just suffix each **`type`** literals, which represent keys, on the right hand side by square brackets, eg.converting them to **`type[]`** makes generating array results such as\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\r\n}\r\n```\r\neven if there were multiple objects composing `item` array, the resulting form is kept as the same and the result would yield such alike results\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot;, &quot;dfsds&quot;, &quot;fjghi&quot;, ... ]\r\n}\r\n```\r\ndepending on the input values","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels into a list in one spec","body":"<p>Just suffix each <strong><code>type</code></strong> literals, which represent keys, on the right hand side by square brackets, eg.converting them to <strong><code>type[]</code></strong> makes generating array results such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\n}\n</code></pre>\n<p>even if there were multiple objects composing <code>item</code> array, the resulting form is kept as the same and the result would yield such alike results</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot;, &quot;dfsds&quot;, &quot;fjghi&quot;, ... ]\n}\n</code></pre>\n<p>depending on the input values</p>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74254702,"answer_count":1,"score":0,"last_activity_date":1667146565,"creation_date":1667144773,"question_id":74254469,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get inner items from all the levels into an one array.\r\n**My goal is to get an array that contains a part of the items without knowing how many levels I have in the json into a list in one spen.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1_1&quot;,\r\n      &quot;foo&quot;: {\r\n        &quot;id&quot;: 1232,\r\n        &quot;nn&quot;: &quot;sdfsd&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*: (list)\r\n\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\r\n}\r\n```\r\n\r\n*My jolt spec*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;foo&quot;: {\r\n                    &quot;nn&quot;: &quot;type&quot;\r\n                  }\r\n                }\r\n              },\r\n              &quot;foo&quot;: {\r\n                &quot;nn&quot;: &quot;type&quot;\r\n              }\r\n            }\r\n          },\r\n          &quot;foo&quot;: {\r\n            &quot;nn&quot;: &quot;type&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n*My output*:\r\n\r\n```json\r\n{\r\n  &quot;type&quot; : &quot;sdfsd&quot;\r\n}\r\n```\r\nIn case I&#39;ve multiple items in the input I got a list, but if I&#39;ve only one item not.\r\nDo you know how should I convert it to array anyway? \r\n**But I need to do it only in a one spec - its possible?**","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels into a list in one spec","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get inner items from all the levels into an one array.\n<strong>My goal is to get an array that contains a part of the items without knowing how many levels I have in the json into a list in one spen.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;1_1&quot;,\n      &quot;foo&quot;: {\n        &quot;id&quot;: 1232,\n        &quot;nn&quot;: &quot;sdfsd&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>: (list)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\n}\n</code></pre>\n<p><em>My jolt spec</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;foo&quot;: {\n                    &quot;nn&quot;: &quot;type&quot;\n                  }\n                }\n              },\n              &quot;foo&quot;: {\n                &quot;nn&quot;: &quot;type&quot;\n              }\n            }\n          },\n          &quot;foo&quot;: {\n            &quot;nn&quot;: &quot;type&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><em>My output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : &quot;sdfsd&quot;\n}\n</code></pre>\n<p>In case I've multiple items in the input I got a list, but if I've only one item not.\nDo you know how should I convert it to array anyway?\n<strong>But I need to do it only in a one spec - its possible?</strong></p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1667130282,"post_id":74252740,"comment_id":131093338,"body_markdown":"&quot;at com.fasterxml.jackson.databind.ser..............lots of lines &quot; turns out the error is in that &quot;lots of lines&quot; so please include them in your post. Not even the first line itself is complete.","body":"&quot;at com.fasterxml.jackson.databind.ser..............lots of lines &quot; turns out the error is in that &quot;lots of lines&quot; so please include them in your post. Not even the first line itself is complete."},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1667134714,"post_id":74252740,"comment_id":131094192,"body_markdown":"Somewhere in there with the stacktrace should be an actual error message you need to show us","body":"Somewhere in there with the stacktrace should be an actual error message you need to show us"},{"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"score":0,"creation_date":1667135638,"post_id":74252740,"comment_id":131094395,"body_markdown":"there are lots of lines in error, I can&#39;t get the start lines of it.","body":"there are lots of lines in error, I can&#39;t get the start lines of it."},{"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"score":0,"creation_date":1667141179,"post_id":74252740,"comment_id":131095498,"body_markdown":"Can anyone try running the spring boot application with these java files &amp; give some solution? or can anyone figure out the java files that I shared?","body":"Can anyone try running the spring boot application with these java files &amp; give some solution? or can anyone figure out the java files that I shared?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1667145624,"post_id":74252740,"comment_id":131096418,"body_markdown":"If you can&#39;t post the error message itself, others really don&#39;t have the incentive to load your project and take the time to run it to debug it for you. If the error is repeating the same stack, chances are you are getting a StackOverflowException - common with JSON serialization when you have circular references. Tons of quesions/answers and even tutorials on this - set one side to JsonIgnore in bidirectional relationships. JPA serialization is to/from the database, and those annotations have nothing to do with and no control over JSON serialization.","body":"If you can&#39;t post the error message itself, others really don&#39;t have the incentive to load your project and take the time to run it to debug it for you. If the error is repeating the same stack, chances are you are getting a StackOverflowException - common with JSON serialization when you have circular references. Tons of quesions/answers and even tutorials on this - set one side to JsonIgnore in bidirectional relationships. JPA serialization is to/from the database, and those annotations have nothing to do with and no control over JSON serialization."}],"answers":[{"comments":[{"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"score":0,"creation_date":1667193396,"post_id":74254612,"comment_id":131104452,"body_markdown":"It&#39;s working now! but now when I am adding a room with hostelId , it is not saving hostelId in database","body":"It&#39;s working now! but now when I am adding a room with hostelId , it is not saving hostelId in database"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667224843,"post_id":74254612,"comment_id":131113257,"body_markdown":"If the room.hostel is set to jsonIgnore, it will be null when you deserialize a Room from your Rest client. If you are passing in a hostelId (if it is a rest resource, it probably should be in the path ie /v1/hostel/&lt;id&gt;/room), you&#39;ll need to use it to look up the hostel to fix the reference for JPA to save it.","body":"If the room.hostel is set to jsonIgnore, it will be null when you deserialize a Room from your Rest client. If you are passing in a hostelId (if it is a rest resource, it probably should be in the path ie /v1/hostel/&lt;id&gt;/room), you&#39;ll need to use it to look up the hostel to fix the reference for JPA to save it."}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667145952,"creation_date":1667145952,"answer_id":74254612,"question_id":74252740,"body_markdown":"The problem with serializing a Hostel will be that your Hostel has rooms which point back at the same Hostel. There are many ways to tell your JSON serializer how to handle it. Assuming you are using Jackson, the easiest might be to add the @JsonIgnore annotation on one side that you don&#39;t need serialized. Ie:\r\n\r\n    @Table(name = &quot;rooms&quot;)\r\n    public class Room {\r\n        \r\n        @Id\r\n        int roomNumber;\r\n        int noOfOccupants;\r\n        @OneToOne\r\n        RoomDetail roomDetail;\r\n        @OneToOne\r\n        @JsonIgnore\r\n        Hostel hostel;\r\n        @OneToMany\r\n        List&lt;Student&gt; student;   \r\n    }\r\n\r\nYou will have to look at all your circular references - the entire graph really - and decide what you really want serialized when fetching through REST calls, and how your clients might need to handle the data. ","title":"I want fetch hostel data but shows error. Anyone has solution?","body":"<p>The problem with serializing a Hostel will be that your Hostel has rooms which point back at the same Hostel. There are many ways to tell your JSON serializer how to handle it. Assuming you are using Jackson, the easiest might be to add the @JsonIgnore annotation on one side that you don't need serialized. Ie:</p>\n<pre><code>@Table(name = &quot;rooms&quot;)\npublic class Room {\n    \n    @Id\n    int roomNumber;\n    int noOfOccupants;\n    @OneToOne\n    RoomDetail roomDetail;\n    @OneToOne\n    @JsonIgnore\n    Hostel hostel;\n    @OneToMany\n    List&lt;Student&gt; student;   \n}\n</code></pre>\n<p>You will have to look at all your circular references - the entire graph really - and decide what you really want serialized when fetching through REST calls, and how your clients might need to handle the data.</p>\n"}],"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74254612,"answer_count":1,"score":0,"last_activity_date":1667145952,"creation_date":1667130192,"question_id":74252740,"body_markdown":"I am creating application called as hostel management system using spring boot application using JPA repo.\r\nI have added one hostel. then i added rooms, then update hostel to update join table entries.\r\nNow I am trying to fetching hostel.\r\nUnable to fetch hostel data, it shows :\r\n```\r\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\r\nlots of line.............\r\n```\r\n\r\nI have uploaded this project on gitHub : [https://github.com/aniketkadu0/hms_new.git][1]\r\n\r\n**Hostel.java**\r\n```\r\n@Table(name = &quot;hostels&quot;)\r\npublic class Hostel implements Cloneable {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint hostelId;\r\n\tString hostelName;\r\n\tString hostelAddress;\r\n\tString contactPersonName;\r\n\tString contactPersonNumber;\r\n\t\r\n\t@OneToMany\r\n\t@JoinTable(joinColumns = @JoinColumn(\r\n            name = &quot;hostel_id&quot;,\r\n            referencedColumnName = &quot;hostelId&quot;\r\n    ),\r\n    inverseJoinColumns = @JoinColumn(\r\n            name = &quot;room_number&quot;,\r\n            referencedColumnName = &quot;roomNumber&quot;\r\n    ))\r\n\tList&lt;Room&gt; rooms;\r\n\t@OneToOne\r\n\tMess mess;\r\n\t@OneToMany\r\n\tList&lt;Notice&gt; notices;\r\n\t\r\n}\r\n```\r\n\r\n**Room.java**\r\n```\r\n@Table(name = &quot;rooms&quot;)\r\npublic class Room {\r\n\t\r\n\t@Id\r\n\tint roomNumber;\r\n\tint noOfOccupants;\r\n\t@OneToOne\r\n\tRoomDetail roomDetail;\r\n\t@OneToOne\r\n\tHostel hostel;\r\n\t@OneToMany\r\n\tList&lt;Student&gt; student;\r\n\t\r\n}\r\n```\r\n\r\nRoomDetail.java\r\n```\r\n@Entity\r\npublic class RoomDetail {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint roomDetailId;\r\n\tString roomName;\r\n\tint price;\r\n\tint maxOccupants;\r\n}\r\n```\r\n\r\n**hostel JSON**\r\n```\r\n{\r\n    &quot;hostelId&quot;: 1,\r\n    &quot;hostelName&quot;: &quot;Hostel no. 1 Boys Hostel&quot;,\r\n    &quot;hostelAddress&quot;: &quot;building no. 5&quot;,\r\n    &quot;contactPersonName&quot;: &quot;XYZ&quot;,\r\n    &quot;contactPersonNumber&quot;: &quot;9999977777&quot;,\r\n    &quot;rooms&quot;: null,\r\n    &quot;mess&quot;: null,\r\n    &quot;notices&quot;: null\r\n}\r\n```\r\n\r\n**Room JSON**\r\n```\r\n{\r\n\t&quot;noOfOccupants&quot; : 0,\r\n\t&quot;roomDetail&quot; : {\r\n        &quot;roomDetailId&quot; : 1\r\n    } ,\r\n\t&quot;hostel&quot; : {\r\n        &quot;hostelId&quot; : 1\r\n    }\r\n}\r\n```\r\n\r\nAdminService.java\r\n```\r\n@Service\r\npublic class AdminService {\r\n\r\n\t@Autowired\r\n\tHostelDAO hostelDAO;\r\n\t@Autowired\r\n\tRoomDAO roomDAO;\r\n\t@Autowired\r\n\tRoomDetailDAO roomDetailDAO;\r\n\r\n\tpublic Hostel addHostel(Hostel hostel) {\r\n\t\treturn hostelDAO.save(hostel);\r\n\t}\r\n\r\n\tpublic Room addRoom(Room room,int qty,int firstRoomNumber){\r\n\t\t\r\n\t\tOptional&lt;Hostel&gt; hostel = hostelDAO.findById(room.getHostel().getHostelId());\t\r\n\t\tOptional&lt;RoomDetail&gt; roomDetail = roomDetailDAO.findById(room.getRoomDetail().getRoomDetailId());\r\n\t\t\r\n\t\troom.setHostel(hostel.get());\r\n\t\troom.setRoomDetail(roomDetail.get());\r\n\t\t\r\n\t\tList&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\t\r\n\t\troom.setRoomNumber(firstRoomNumber);\r\n\t\tSystem.out.println(room);\r\n\t\t\t\t\r\n\t\tfirstRoomNumber--;\r\n\t\tint i = 1;\r\n\t\twhile( i &lt;= qty) {\r\n\t\t\tRoom newRoom = new Room(room.getRoomNumber(),\r\n\t\t\t\t\t\t\t\t\troom.getNoOfOccupants(),room.getRoomDetail(),\r\n\t\t\t\t\t\t\t\t\troom.getHostel(),room.getStudent());\r\n\t\t\tnewRoom.setRoomNumber(firstRoomNumber + i);\r\n\t\t\trooms.add(newRoom);\r\n\t\t\ti++;\t\r\n\t\t}\r\n\r\n\t\troomDAO.saveAll(rooms);\r\n\t\thostel.get().setRooms(rooms);\r\n\t\thostelDAO.save(hostel.get());\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic List&lt;Hostel&gt; getHostelData() {\r\n\t\treturn hostelDAO.findAll();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/aniketkadu0/hms_new.git","title":"I want fetch hostel data but shows error. Anyone has solution?","body":"<p>I am creating application called as hostel management system using spring boot application using JPA repo.\nI have added one hostel. then i added rooms, then update hostel to update join table entries.\nNow I am trying to fetching hostel.\nUnable to fetch hostel data, it shows :</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n\nlots of line.............\n</code></pre>\n<p>I have uploaded this project on gitHub : <a href=\"https://github.com/aniketkadu0/hms_new.git\" rel=\"nofollow noreferrer\">https://github.com/aniketkadu0/hms_new.git</a></p>\n<p><strong>Hostel.java</strong></p>\n<pre><code>@Table(name = &quot;hostels&quot;)\npublic class Hostel implements Cloneable {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int hostelId;\n    String hostelName;\n    String hostelAddress;\n    String contactPersonName;\n    String contactPersonNumber;\n    \n    @OneToMany\n    @JoinTable(joinColumns = @JoinColumn(\n            name = &quot;hostel_id&quot;,\n            referencedColumnName = &quot;hostelId&quot;\n    ),\n    inverseJoinColumns = @JoinColumn(\n            name = &quot;room_number&quot;,\n            referencedColumnName = &quot;roomNumber&quot;\n    ))\n    List&lt;Room&gt; rooms;\n    @OneToOne\n    Mess mess;\n    @OneToMany\n    List&lt;Notice&gt; notices;\n    \n}\n</code></pre>\n<p><strong>Room.java</strong></p>\n<pre><code>@Table(name = &quot;rooms&quot;)\npublic class Room {\n    \n    @Id\n    int roomNumber;\n    int noOfOccupants;\n    @OneToOne\n    RoomDetail roomDetail;\n    @OneToOne\n    Hostel hostel;\n    @OneToMany\n    List&lt;Student&gt; student;\n    \n}\n</code></pre>\n<p>RoomDetail.java</p>\n<pre><code>@Entity\npublic class RoomDetail {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int roomDetailId;\n    String roomName;\n    int price;\n    int maxOccupants;\n}\n</code></pre>\n<p><strong>hostel JSON</strong></p>\n<pre><code>{\n    &quot;hostelId&quot;: 1,\n    &quot;hostelName&quot;: &quot;Hostel no. 1 Boys Hostel&quot;,\n    &quot;hostelAddress&quot;: &quot;building no. 5&quot;,\n    &quot;contactPersonName&quot;: &quot;XYZ&quot;,\n    &quot;contactPersonNumber&quot;: &quot;9999977777&quot;,\n    &quot;rooms&quot;: null,\n    &quot;mess&quot;: null,\n    &quot;notices&quot;: null\n}\n</code></pre>\n<p><strong>Room JSON</strong></p>\n<pre><code>{\n    &quot;noOfOccupants&quot; : 0,\n    &quot;roomDetail&quot; : {\n        &quot;roomDetailId&quot; : 1\n    } ,\n    &quot;hostel&quot; : {\n        &quot;hostelId&quot; : 1\n    }\n}\n</code></pre>\n<p>AdminService.java</p>\n<pre><code>@Service\npublic class AdminService {\n\n    @Autowired\n    HostelDAO hostelDAO;\n    @Autowired\n    RoomDAO roomDAO;\n    @Autowired\n    RoomDetailDAO roomDetailDAO;\n\n    public Hostel addHostel(Hostel hostel) {\n        return hostelDAO.save(hostel);\n    }\n\n    public Room addRoom(Room room,int qty,int firstRoomNumber){\n        \n        Optional&lt;Hostel&gt; hostel = hostelDAO.findById(room.getHostel().getHostelId());   \n        Optional&lt;RoomDetail&gt; roomDetail = roomDetailDAO.findById(room.getRoomDetail().getRoomDetailId());\n        \n        room.setHostel(hostel.get());\n        room.setRoomDetail(roomDetail.get());\n        \n        List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();   \n        room.setRoomNumber(firstRoomNumber);\n        System.out.println(room);\n                \n        firstRoomNumber--;\n        int i = 1;\n        while( i &lt;= qty) {\n            Room newRoom = new Room(room.getRoomNumber(),\n                                    room.getNoOfOccupants(),room.getRoomDetail(),\n                                    room.getHostel(),room.getStudent());\n            newRoom.setRoomNumber(firstRoomNumber + i);\n            rooms.add(newRoom);\n            i++;    \n        }\n\n        roomDAO.saveAll(rooms);\n        hostel.get().setRooms(rooms);\n        hostelDAO.save(hostel.get());\n        return null;\n    }\n\n    public List&lt;Hostel&gt; getHostelData() {\n        return hostelDAO.findAll();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1667197484,"post_id":74254231,"comment_id":131105040,"body_markdown":"You can initialize in Application class once. No need to re-initialize in every fragment or activity","body":"You can initialize in Application class once. No need to re-initialize in every fragment or activity"}],"answers":[{"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1667148225,"post_id":74254521,"comment_id":131097040,"body_markdown":"It is suggested to initialise Ads SDK as early as possible. You could initialise it in `Application` class or via any `Initialiser (Startup library)` if implemented already in the app.","body":"It is suggested to initialise Ads SDK as early as possible. You could initialise it in <code>Application</code> class or via any <code>Initialiser (Startup library)</code> if implemented already in the app."}],"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667145182,"creation_date":1667145182,"answer_id":74254521,"question_id":74254231,"body_markdown":"It is preferred to initialize when the App starts (In Splash Screen Activity)\r\n\r\n 1. You need to initialize the AdMob one time only not in every Activity or Fragment (After this just load and show the Ads)\r\n\r\n 2. If you want it to initialize in Fragment I&#39;ll suggest you use\r\n    requireActivity() instead of getActivity() method\r\n \r\n","title":"I am trying to initialize admob ads in Fragment of a Android App","body":"<p>It is preferred to initialize when the App starts (In Splash Screen Activity)</p>\n<ol>\n<li><p>You need to initialize the AdMob one time only not in every Activity or Fragment (After this just load and show the Ads)</p>\n</li>\n<li><p>If you want it to initialize in Fragment I'll suggest you use\nrequireActivity() instead of getActivity() method</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26777017,"reputation":1,"user_id":20372489,"display_name":"App Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667145182,"creation_date":1667142840,"question_id":74254231,"body_markdown":"I am trying to initialize admob ads in Fragment of Android App Is this the right way to do it\r\n\r\n`@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\nsuper.onViewCreated(view, savedInstanceState);\r\nMobileAds.initialize(getActivity());\r\n}`\r\n\r\nand do we need to initialize in every Fragment or whether one is enough?\r\n\r\nTried in one fragement ","title":"I am trying to initialize admob ads in Fragment of a Android App","body":"<p>I am trying to initialize admob ads in Fragment of Android App Is this the right way to do it</p>\n<p><code>@Override public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) { super.onViewCreated(view, savedInstanceState); MobileAds.initialize(getActivity()); }</code></p>\n<p>and do we need to initialize in every Fragment or whether one is enough?</p>\n<p>Tried in one fragement</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1471510728,"post_id":39013894,"comment_id":65378582,"body_markdown":"Why do you have *final static* rate. Try to remove these modifiers.","body":"Why do you have <i>final static</i> rate. Try to remove these modifiers."},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510765,"post_id":39013894,"comment_id":65378606,"body_markdown":"@Jens: at the line `@Scheduled(fixedRate = this.rate)`","body":"@Jens: at the line <code>@Scheduled(fixedRate = this.rate)</code>"},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510800,"post_id":39013894,"comment_id":65378631,"body_markdown":"@JanKhonski: Ok, I removed `final static`. Still getting the same error mesaage.","body":"@JanKhonski: Ok, I removed <code>final static</code>. Still getting the same error mesaage."},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1471510810,"post_id":39013894,"comment_id":65378636,"body_markdown":"this.rate -&gt; rate is not object field, but class field","body":"this.rate -&gt; rate is not object field, but class field"},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510868,"post_id":39013894,"comment_id":65378666,"body_markdown":"@JanKhonski: So, how to access it properly?","body":"@JanKhonski: So, how to access it properly?"},{"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"score":0,"creation_date":1631204446,"post_id":39013894,"comment_id":122166116,"body_markdown":"I believe this is correct solution for above question but not complete. if you have refreshScope and you need to refresh property using actuator, this won&#39;t work, you have to use @Value and global var. I am looking for that solution.","body":"I believe this is correct solution for above question but not complete. if you have refreshScope and you need to refresh property using actuator, this won&#39;t work, you have to use @Value and global var. I am looking for that solution."}],"answers":[{"comments":[{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471511000,"post_id":39013994,"comment_id":65378752,"body_markdown":"In application.properties I have this: `update.rate=5000`","body":"In application.properties I have this: <code>update.rate=5000</code>"},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471511626,"post_id":39013994,"comment_id":65379130,"body_markdown":"It works fine. No idea why this answer was downvoted.","body":"It works fine. No idea why this answer was downvoted."},{"owner":{"account_id":7537904,"reputation":1761,"user_id":5723609,"accept_rate":65,"display_name":"Guo"},"score":3,"creation_date":1621987557,"post_id":39013994,"comment_id":119658659,"body_markdown":"it&#39;s not work for me: `org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;long&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;update.rate&quot;`. how to fix it?","body":"it&#39;s not work for me: <code>org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;long&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;update.rate&quot;</code>. how to fix it?"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1471511027,"creation_date":1471510883,"answer_id":39013994,"question_id":39013894,"body_markdown":"Change to:\r\n\r\n\r\n    @Scheduled(fixedRateString = &quot;${update.rate}&quot;)\r\n    public void update()\r\n    {\r\n        System.out.println(this.message);\r\n    }\r\n","title":"Reading from application.properties: Attribute value must be constant","body":"<p>Change to:</p>\n\n<pre><code>@Scheduled(fixedRateString = \"${update.rate}\")\npublic void update()\n{\n    System.out.println(this.message);\n}\n</code></pre>\n"}],"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13861,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":39013994,"answer_count":1,"score":12,"last_activity_date":1667144934,"creation_date":1471510581,"question_id":39013894,"body_markdown":"In the below-given code I get the compilation error `Attribute value must be constant`. How to deal with it?\r\n\r\n    @Component\r\n    public class ScheduledTasks {\r\n    \r\n        @Value(&quot;${example}&quot;)\r\n        String message;\r\n    \r\n        @Value(&quot;${update.rate}&quot;)\r\n        final static long rate;\r\n    \r\n        @Scheduled(fixedRate = this.rate)\r\n        public void update()\r\n        {\r\n            System.out.println(this.message);\r\n        }\r\n    }","title":"Reading from application.properties: Attribute value must be constant","body":"<p>In the below-given code I get the compilation error <code>Attribute value must be constant</code>. How to deal with it?</p>\n\n<pre><code>@Component\npublic class ScheduledTasks {\n\n    @Value(\"${example}\")\n    String message;\n\n    @Value(\"${update.rate}\")\n    final static long rate;\n\n    @Scheduled(fixedRate = this.rate)\n    public void update()\n    {\n        System.out.println(this.message);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","queue","pixel","dda"],"comments":[{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":2,"creation_date":1660490228,"post_id":73352751,"comment_id":129540530,"body_markdown":"Look for Bresenham&#39;s line algorithm or DDA (Digital differential analyzer )","body":"Look for Bresenham&#39;s line algorithm or DDA (Digital differential analyzer )"}],"answers":[{"tags":[],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667144274,"creation_date":1667144274,"answer_id":74254414,"question_id":73352751,"body_markdown":"Thanks to the comment on using DDA, the problem I got is now fixed. I have used the following code for the counting of the pixels and storing their coordinates.\r\nI put this code inside the action listener for a mouse click. \r\n```\r\nprivate void counter() {//---------counter takes arguments x and y which are array that contain x1x2 and y1y2 coordinates of 1st and 2nd click\r\n\r\n        int dx = (x[1] - x[0]);\r\n        int dy = (y[1] - y[0]);//---------makes it applicable for both inclinations (if we add up there a math.abs it would work on only the positive inclination line )\r\n        step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\r\n        //------counts howmany pixels are to be recorded\r\n        float Xinc = dx / (float) step;//----slope change with respect to x axis\r\n        float Yinc = dy / (float) step;//----slope change with respect to y axis\r\n        \r\n        tog= new int[step][3];\r\n        tog[0][0]=x[0];\ttog[0][1]=y[0];\r\n        tog[0][2]= (black[0]!=0) ? 1 : 0;//------------Tertiary operator where the condition is true, then while is true\r\n        //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\r\n        float xt=x[0],yt=y[0];\tint i=0, j=1;\r\n        //-------------to get all the coordinates between the 2 points1111\r\n        System.out.println(tog[0][0]+&quot; &quot;+tog[0][1]+&quot; &quot;+tog[0][2]);\r\n        while (j&lt;step){\r\n        \tif(i==2) i=0;\r\n        \txt += Xinc;\r\n            yt += Yinc;\r\n            tog[j][i] = (int)xt;//------tog is the array where you store the coordinates of each pixel that overlaps the line made if the clicked points are connected\r\n            tog[j][i+1] = (int)yt;\r\n           \tj++;\r\n        }\r\n//-------print tog here to see if it has the coordinates or not for check\r\n    }\r\n```","title":"Cant figure this algorithm to pick image pixel by slope approach. (Any other approach is welcome)","body":"<p>Thanks to the comment on using DDA, the problem I got is now fixed. I have used the following code for the counting of the pixels and storing their coordinates.\nI put this code inside the action listener for a mouse click.</p>\n<pre><code>private void counter() {//---------counter takes arguments x and y which are array that contain x1x2 and y1y2 coordinates of 1st and 2nd click\n\n        int dx = (x[1] - x[0]);\n        int dy = (y[1] - y[0]);//---------makes it applicable for both inclinations (if we add up there a math.abs it would work on only the positive inclination line )\n        step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\n        //------counts howmany pixels are to be recorded\n        float Xinc = dx / (float) step;//----slope change with respect to x axis\n        float Yinc = dy / (float) step;//----slope change with respect to y axis\n        \n        tog= new int[step][3];\n        tog[0][0]=x[0]; tog[0][1]=y[0];\n        tog[0][2]= (black[0]!=0) ? 1 : 0;//------------Tertiary operator where the condition is true, then while is true\n        //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\n        float xt=x[0],yt=y[0];  int i=0, j=1;\n        //-------------to get all the coordinates between the 2 points1111\n        System.out.println(tog[0][0]+&quot; &quot;+tog[0][1]+&quot; &quot;+tog[0][2]);\n        while (j&lt;step){\n            if(i==2) i=0;\n            xt += Xinc;\n            yt += Yinc;\n            tog[j][i] = (int)xt;//------tog is the array where you store the coordinates of each pixel that overlaps the line made if the clicked points are connected\n            tog[j][i+1] = (int)yt;\n            j++;\n        }\n//-------print tog here to see if it has the coordinates or not for check\n    }\n</code></pre>\n"}],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74254414,"answer_count":1,"score":0,"last_activity_date":1667144274,"creation_date":1660489936,"question_id":73352751,"body_markdown":"What I&#39;m trying to do is take 2 mouceclick input which gives me pixel coordinate x[0],y[0] and x[1],y[1]. Then I get a queue of array containing pixels coordinate of every pixel where the line joining these points would make. Don&#39;t need the line to be seen at all.\r\n\r\nI decided to take the slope prospective such that **1 pixel change in x coordinate would change\r\n(x[1]-x[0])]/(y[1]-y[0]) in y coordinate**. I keep getting arithmetic error.\r\n\r\nEdit: Used the DDA algorithm and still getting / by zero error even if all values is pre-asigned to something non-zero. \r\n```\r\n  Queue&lt;int[]&gt; queue=new LinkedList&lt;int[]&gt;();\r\n            int dx = Math.abs(x[1] - x[0]);\r\n            int dy = Math.abs(y[1] - y[0]);\r\n            int sx = (x[0] &lt; x[1]) ? 1 : -1;\r\n            int sy = (y[0] &lt; y[1]) ? 1 : -1;\r\n            int err = dx / dy;\r\n            \r\n            int[] tog= {x[0],y[0]};\r\n            queue.add(tog);\t\t\t\t\t//1st pixel into queue. nothing else\r\n\r\n            while(true) {\r\n            \tif (x[0] == x[1] &amp;&amp; y[0] == y[1]) {\r\n                    break;\r\n                }\r\n            \tint e2 = 2 * err;\r\n\r\n                if (e2 &gt; -dy) {\r\n                    err = err - dy;\r\n                    x[0] = x[0] + sx;\r\n                }\r\n                \r\n                if (e2 &lt; dx) {\r\n                    err = err + dx;\r\n                    y[0] = y[0] + sy;\r\n                }\r\n                tog[0]= x[0];\r\n                tog[1]= y[0];\r\n                queue.add(tog);\r\n            }\r\n    System.out.println(queue);\r\n```","title":"Cant figure this algorithm to pick image pixel by slope approach. (Any other approach is welcome)","body":"<p>What I'm trying to do is take 2 mouceclick input which gives me pixel coordinate x[0],y[0] and x[1],y[1]. Then I get a queue of array containing pixels coordinate of every pixel where the line joining these points would make. Don't need the line to be seen at all.</p>\n<p>I decided to take the slope prospective such that <strong>1 pixel change in x coordinate would change\n(x[1]-x[0])]/(y[1]-y[0]) in y coordinate</strong>. I keep getting arithmetic error.</p>\n<p>Edit: Used the DDA algorithm and still getting / by zero error even if all values is pre-asigned to something non-zero.</p>\n<pre><code>  Queue&lt;int[]&gt; queue=new LinkedList&lt;int[]&gt;();\n            int dx = Math.abs(x[1] - x[0]);\n            int dy = Math.abs(y[1] - y[0]);\n            int sx = (x[0] &lt; x[1]) ? 1 : -1;\n            int sy = (y[0] &lt; y[1]) ? 1 : -1;\n            int err = dx / dy;\n            \n            int[] tog= {x[0],y[0]};\n            queue.add(tog);                 //1st pixel into queue. nothing else\n\n            while(true) {\n                if (x[0] == x[1] &amp;&amp; y[0] == y[1]) {\n                    break;\n                }\n                int e2 = 2 * err;\n\n                if (e2 &gt; -dy) {\n                    err = err - dy;\n                    x[0] = x[0] + sx;\n                }\n                \n                if (e2 &lt; dx) {\n                    err = err + dx;\n                    y[0] = y[0] + sy;\n                }\n                tog[0]= x[0];\n                tog[1]= y[0];\n                queue.add(tog);\n            }\n    System.out.println(queue);\n</code></pre>\n"},{"tags":["java","android","vlc","libvlc","subtitle"],"comments":[{"owner":{"account_id":1322576,"reputation":4039,"user_id":1268048,"accept_rate":94,"display_name":"Phil"},"score":0,"creation_date":1655382508,"post_id":68072085,"comment_id":128322408,"body_markdown":"did you ever get this working?  Having the same issue myself.","body":"did you ever get this working?  Having the same issue myself."}],"owner":{"account_id":22012441,"reputation":41,"user_id":16282503,"display_name":"avstreamdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1667144267,"creation_date":1624295558,"question_id":68072085,"body_markdown":"I want to add subtitles in vlc video player by using the SRT format file.\r\n\r\nI used LibVlc in android.\r\n\r\n 1. add libVLC in GRADLE file \r\n\r\n    implementation &#39;org.videolan.android:libvlc-all:3.3.13&#39;\r\n\r\n 2. MoviesDetailsActivity.java\r\n\r\nHere is my code to add subtitles. (MovieDetailsActivity.java)\r\n\r\n\r\n    private void initVideoPlayer() {\r\n     \r\n        ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\r\n        String subtitleUrl = &quot;https://example.com/subtitles/60ccb930346f3.srt&quot;; /* this would be example url, not real */\r\n    \r\n        args.add(&quot;--file-caching=2000&quot;);\r\n        args.add(&quot;-vvv&quot;);\r\n        LibVLC mLibVlc = new LibVLC(MovieDetailsActivity.this, args);\r\n        MediaPlayer mMediaPlayer = new MediaPlayer(mLibVlc);\r\n        mMediaPlayer = new MediaPlayer(mLibVlc);\r\n        mMediaPlayer.setEventListener(this);\r\n        mMediaPlayer.attachViews(videoLayout, null, true, true);\r\n    \r\n        Uri subtitle = Uri.parse(url.toString());\r\n        mMediaPlayer.addSlave(IMedia.Slave.Type.Subtitle, subtitle, true);  /* add subtitles here with URL */\r\n    \r\n        URL url = new URL(movie_url);  // this is movie url\r\n        Uri movie = Uri.parse(url.toString());\r\n        Media media = new Media(mLibVlc, movie); // media source for video\r\n        media.setHWDecoderEnabled(true, false); \r\n        media.addOption(&quot;:network-caching=150&quot;);\r\n        media.addOption(&quot;:clock-jitter=0&quot;);\r\n        media.addOption(&quot;:clock-synchro=0&quot;);\r\n        media.addOption(&quot;:-v&quot;);\r\n        mMediaPlayer.setMedia(media);  // set media \r\n        media.release();\r\n    \r\n        mMediaPlayer.play();\r\n    }\r\n\r\n\r\nI did like this.\r\nBut I can&#39;t see subtitles. only playing video with audio.\r\nIn the EXOPlayer it works well, But in the VLC player, I couldn&#39;t.\r\nWhat is the solution?\r\n\r\n\r\n    \r\n","title":"How to add subtitles vlc player with libvlc programmatically?","body":"<p>I want to add subtitles in vlc video player by using the SRT format file.</p>\n<p>I used LibVlc in android.</p>\n<ol>\n<li><p>add libVLC in GRADLE file</p>\n<p>implementation 'org.videolan.android:libvlc-all:3.3.13'</p>\n</li>\n<li><p>MoviesDetailsActivity.java</p>\n</li>\n</ol>\n<p>Here is my code to add subtitles. (MovieDetailsActivity.java)</p>\n<pre><code>private void initVideoPlayer() {\n \n    ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\n    String subtitleUrl = &quot;https://example.com/subtitles/60ccb930346f3.srt&quot;; /* this would be example url, not real */\n\n    args.add(&quot;--file-caching=2000&quot;);\n    args.add(&quot;-vvv&quot;);\n    LibVLC mLibVlc = new LibVLC(MovieDetailsActivity.this, args);\n    MediaPlayer mMediaPlayer = new MediaPlayer(mLibVlc);\n    mMediaPlayer = new MediaPlayer(mLibVlc);\n    mMediaPlayer.setEventListener(this);\n    mMediaPlayer.attachViews(videoLayout, null, true, true);\n\n    Uri subtitle = Uri.parse(url.toString());\n    mMediaPlayer.addSlave(IMedia.Slave.Type.Subtitle, subtitle, true);  /* add subtitles here with URL */\n\n    URL url = new URL(movie_url);  // this is movie url\n    Uri movie = Uri.parse(url.toString());\n    Media media = new Media(mLibVlc, movie); // media source for video\n    media.setHWDecoderEnabled(true, false); \n    media.addOption(&quot;:network-caching=150&quot;);\n    media.addOption(&quot;:clock-jitter=0&quot;);\n    media.addOption(&quot;:clock-synchro=0&quot;);\n    media.addOption(&quot;:-v&quot;);\n    mMediaPlayer.setMedia(media);  // set media \n    media.release();\n\n    mMediaPlayer.play();\n}\n</code></pre>\n<p>I did like this.\nBut I can't see subtitles. only playing video with audio.\nIn the EXOPlayer it works well, But in the VLC player, I couldn't.\nWhat is the solution?</p>\n"},{"tags":["java","cdi","quarkus"],"answers":[{"comments":[{"owner":{"account_id":2056770,"reputation":343,"user_id":1834304,"display_name":"JYC"},"score":0,"creation_date":1647955285,"post_id":71572427,"comment_id":126496920,"body_markdown":"It&#39;s quite complicated, but I will try your answer.\nI recognize that this position (not use CDI annotation in domain) may seem overzealous.\nHowever, I couldn&#39;t find a dependency that only contains the needed annotations for CDI.\nExample: `@ApplicationScoped` is contained in the dependency: `jakarta.enterprise.cdi-api` which itself depends on `el-api`, which I really don&#39;t need.","body":"It&#39;s quite complicated, but I will try your answer. I recognize that this position (not use CDI annotation in domain) may seem overzealous. However, I couldn&#39;t find a dependency that only contains the needed annotations for CDI. Example: <code>@ApplicationScoped</code> is contained in the dependency: <code>jakarta.enterprise.cdi-api</code> which itself depends on <code>el-api</code>, which I really don&#39;t need."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":1,"creation_date":1647967438,"post_id":71572427,"comment_id":126502458,"body_markdown":"I agree with Ladislav in both points. CDI does bring in few other APIs because it comes from an EE background and those were needed to guarantee interoperability. The EL one in particular has been a pain point in several discussions in last years and I agree that it&#39;s presence isn&#39;t ideal. However, I still think that you could easily depend on CDI API and make your life way simpler for very little cost architecture-wise.\n\nAnd if you decide not to, then I can confirm that `AutoAddScopeBuildItem` and `BeanDefiningAnnotationBuildItem` are indeed a way to go, albeit not nearly as simple.","body":"I agree with Ladislav in both points. CDI does bring in few other APIs because it comes from an EE background and those were needed to guarantee interoperability. The EL one in particular has been a pain point in several discussions in last years and I agree that it&#39;s presence isn&#39;t ideal. However, I still think that you could easily depend on CDI API and make your life way simpler for very little cost architecture-wise.  And if you decide not to, then I can confirm that <code>AutoAddScopeBuildItem</code> and <code>BeanDefiningAnnotationBuildItem</code> are indeed a way to go, albeit not nearly as simple."},{"owner":{"account_id":2070965,"reputation":1494,"user_id":1845463,"accept_rate":43,"display_name":"Stefano L"},"score":0,"creation_date":1653473550,"post_id":71572427,"comment_id":127859323,"body_markdown":"@JYC thanks for your question, we had the same ambitions to keep a hexagonal architecture&#39;s &quot;core&quot; module free of any Quarkus dependency, but on the other hand do not really like to have the necessity to manually dependency inject each dep into each other. What does work though is to &quot;only&quot; include the `jakarta.enterprise.cdi-api` dep and exclude all transitive dependencies from that artifact. It compiles and works perfectly fine.  Note that you need to also include the jandex-maven-plugin in your parent pom in order to make Quarkus pickup your beans from the core module.","body":"@JYC thanks for your question, we had the same ambitions to keep a hexagonal architecture&#39;s &quot;core&quot; module free of any Quarkus dependency, but on the other hand do not really like to have the necessity to manually dependency inject each dep into each other. What does work though is to &quot;only&quot; include the <code>jakarta.enterprise.cdi-api</code> dep and exclude all transitive dependencies from that artifact. It compiles and works perfectly fine.  Note that you need to also include the jandex-maven-plugin in your parent pom in order to make Quarkus pickup your beans from the core module."}],"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647953719,"creation_date":1647953719,"answer_id":71572427,"question_id":71572027,"body_markdown":"First of all, I would personally consider strictly avoiding CDI annotations in your domain module a little bit overzealous. But if you really want that, I can see 2 options:\r\n\r\n1. You could limit yourself to only placing CDI annotations on your own annotations, and use `@Stereotype`. For example, if your `@DomainService` should be equivalent to `@ApplicationScoped`, it could be declared like this:\r\n\r\n    ```java\r\n    @Stereotype\r\n    @ApplicationScoped\r\n    @Target({ElementType.TYPE})\r\n    @Retention(value = RetentionPolicy.RUNTIME)\r\n    public @interface DomainService {\r\n    }\r\n    ```\r\n\r\n2. If you absolutely insist that no CDI annotation should ever be present in the domain module, you could create a Quarkus extension that would register `@DomainService` as a custom bean defining annotation. The Quarkus CDI Integration guide has more details about that: https://quarkus.io/guides/cdi-integration You would either use `AutoAddScopeBuildItem` or `BeanDefiningAnnotationBuildItem`.","title":"Quarkus CDI with custom annotations","body":"<p>First of all, I would personally consider strictly avoiding CDI annotations in your domain module a little bit overzealous. But if you really want that, I can see 2 options:</p>\n<ol>\n<li><p>You could limit yourself to only placing CDI annotations on your own annotations, and use <code>@Stereotype</code>. For example, if your <code>@DomainService</code> should be equivalent to <code>@ApplicationScoped</code>, it could be declared like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stereotype\n@ApplicationScoped\n@Target({ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface DomainService {\n}\n</code></pre>\n</li>\n<li><p>If you absolutely insist that no CDI annotation should ever be present in the domain module, you could create a Quarkus extension that would register <code>@DomainService</code> as a custom bean defining annotation. The Quarkus CDI Integration guide has more details about that: <a href=\"https://quarkus.io/guides/cdi-integration\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi-integration</a> You would either use <code>AutoAddScopeBuildItem</code> or <code>BeanDefiningAnnotationBuildItem</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9348817,"reputation":39,"user_id":6939223,"display_name":"Hamed Hatami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667142805,"creation_date":1667142805,"answer_id":74254224,"question_id":71572027,"body_markdown":"What an ugly way Spring supplies you for injecting your isolated CDI based domain whereas with CDI standard you would have two ways to add any external CDI beans from a maven dependency into your CDI context during compile-time.\r\n\r\n1) using Jandex Index maven plugin: \r\n\r\n     &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;{jandex-maven-plugin-version}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-index&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;jandex&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n2) configuration level (application.yaml):\r\n\r\nquarkus:    \r\n  index-dependency:\r\n    courtage:\r\n      group-id: org.acme\r\n      artifact-id: my-domain\r\n\r\n","title":"Quarkus CDI with custom annotations","body":"<p>What an ugly way Spring supplies you for injecting your isolated CDI based domain whereas with CDI standard you would have two ways to add any external CDI beans from a maven dependency into your CDI context during compile-time.</p>\n<ol>\n<li><p>using Jandex Index maven plugin:</p>\n  \n   \n     \n       org.jboss.jandex\n       jandex-maven-plugin\n       {jandex-maven-plugin-version}\n       \n         \n           make-index\n           \n             jandex\n           \n         \n       \n     \n   \n \n</li>\n<li><p>configuration level (application.yaml):</p>\n</li>\n</ol>\n<p>quarkus:<br />\nindex-dependency:\ncourtage:\ngroup-id: org.acme\nartifact-id: my-domain</p>\n"}],"owner":{"account_id":2056770,"reputation":343,"user_id":1834304,"display_name":"JYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1969,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667142805,"creation_date":1647951859,"question_id":71572027,"body_markdown":"I am currently developing an application respecting as much as possible the principles of hexagonal architecture.\r\n\r\nThus, my &quot;domain&quot; module (groupId: `acme` ; artifactId: `my-domain`) does not depend on any technical framework.\r\n\r\nAll my services are annotated with a custom annotation (itself part of my domain):\r\n\r\n```java\r\npackage acme.domain;\r\n\r\n@Target({ElementType.TYPE})\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\npublic @interface DomainService {\r\n}\r\n```\r\n\r\nHowever, in my &quot;Quarkus application&quot; module  (groupId: `acme` ; artifactId: `app-quarkus`), I need to inject services defined in my &quot;domain&quot; module (`acme:domain`).\r\n\r\nWith SpringBoot, it is [quite easy to inject those domain services (based on a custom annotation)][1] with the following annotation:\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.FilterType;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(\r\n\tbasePackageClasses = {CourtageSpringbootApplication.class, DomainService.class},\r\n\tincludeFilters = {@ComponentScan.Filter(type = FilterType.ANNOTATION, value = {DomainService.class})}\r\n)\r\npublic class MySpringbootApplication {\r\n}\r\n```\r\n\r\nIs there an equivalent to `@ComponentScan` with Quarkus?\r\n\r\nNB : I have added following lines in `app-quarkus/src/main/resources/application.properties` but it does not work:\r\n```properties\r\nquarkus.index-dependency.courtage.group-id=acme\r\nquarkus.index-dependency.courtage.artifact-id=my-domain\r\n```\r\n\r\nThrown exception: `javax.enterprise.inject.UnsatisfiedResolutionException`\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-componentscan-filter-type","title":"Quarkus CDI with custom annotations","body":"<p>I am currently developing an application respecting as much as possible the principles of hexagonal architecture.</p>\n<p>Thus, my &quot;domain&quot; module (groupId: <code>acme</code> ; artifactId: <code>my-domain</code>) does not depend on any technical framework.</p>\n<p>All my services are annotated with a custom annotation (itself part of my domain):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package acme.domain;\n\n@Target({ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface DomainService {\n}\n</code></pre>\n<p>However, in my &quot;Quarkus application&quot; module  (groupId: <code>acme</code> ; artifactId: <code>app-quarkus</code>), I need to inject services defined in my &quot;domain&quot; module (<code>acme:domain</code>).</p>\n<p>With SpringBoot, it is <a href=\"https://www.baeldung.com/spring-componentscan-filter-type\" rel=\"nofollow noreferrer\">quite easy to inject those domain services (based on a custom annotation)</a> with the following annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.FilterType;\n\n@SpringBootApplication\n@ComponentScan(\n    basePackageClasses = {CourtageSpringbootApplication.class, DomainService.class},\n    includeFilters = {@ComponentScan.Filter(type = FilterType.ANNOTATION, value = {DomainService.class})}\n)\npublic class MySpringbootApplication {\n}\n</code></pre>\n<p>Is there an equivalent to <code>@ComponentScan</code> with Quarkus?</p>\n<p>NB : I have added following lines in <code>app-quarkus/src/main/resources/application.properties</code> but it does not work:</p>\n<pre><code>quarkus.index-dependency.courtage.group-id=acme\nquarkus.index-dependency.courtage.artifact-id=my-domain\n</code></pre>\n<p>Thrown exception: <code>javax.enterprise.inject.UnsatisfiedResolutionException</code></p>\n"},{"tags":["java","security","encryption","aes","rsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1667146545,"post_id":74254222,"comment_id":131096622,"body_markdown":"Decryption must be performed with the private key (belonging to the public key used for encryption), not with the public key, see [RSA](https://en.wikipedia.org/wiki/RSA_(cryptosystem)).","body":"Decryption must be performed with the private key (belonging to the public key used for encryption), not with the public key, see <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\" rel=\"nofollow noreferrer\">RSA</a>."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1667162834,"post_id":74254222,"comment_id":131100235,"body_markdown":"And as the first step `KeyFactory.generatePrivate` only works on the private key not the public one, hence the method name. And more specifically a private key in PKCS8 unencrypted format (hence the class name `PKCS8EncodedKeySpec`) -- while things other than Java often use the &quot;X.509&quot; format for a public key (when not in a certificate), for a private key quite a few different formats are used that are not supported by Java standardly (you need a third-party library like bouncycastle).","body":"And as the first step <code>KeyFactory.generatePrivate</code> only works on the private key not the public one, hence the method name. And more specifically a private key in PKCS8 unencrypted format (hence the class name <code>PKCS8EncodedKeySpec</code>) -- while things other than Java often use the &quot;X.509&quot; format for a public key (when not in a certificate), for a private key quite a few different formats are used that are not supported by Java standardly (you need a third-party library like bouncycastle)."}],"owner":{"account_id":26045726,"reputation":27,"user_id":19749794,"display_name":"darkman106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667142797,"creation_date":1667142797,"question_id":74254222,"body_markdown":"I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).\r\n\r\nhere below is the code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.security.*;\r\nimport java.security.spec.EncodedKeySpec;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.spec.IvParameterSpec;\r\n\r\npublic class Main {\r\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(n);\r\n        SecretKey key = keyGenerator.generateKey();\r\n        return key;\r\n    }\r\n    public static IvParameterSpec generateIv() {\r\n        byte[] iv = new byte[128/8];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n\r\n    public static byte[] encryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n\r\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(key);\r\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\r\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\r\n        return encryptedKey;\r\n    }\r\n\r\n    public static SecretKey decryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        byte[] encryptedKey= encryptSymmetricKey(secKey);\r\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(key);\r\n        PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\r\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\r\n        return originalKey;\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\r\n\r\n        SecretKey secKey=generateKey(128);\r\n        IvParameterSpec iv=generateIv();\r\n\r\n        File inputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\r\n        File outputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\r\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\r\n\r\n\r\n        //Decrypt the cipher text using decrypted symmetric key\r\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, decryptSymmetricKey(secKey),iv,outputFile,inputFile);\r\n    }\r\n}\r\n```\r\n\r\nThe Error:\r\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\r\n\r\n\r\nWhen I encrypt the symmetric key and then decrypt it, I produce an invalid key I guess. How can I solve this problem?","title":"java.security.InvalidKeyException: invalid key format while encrypting and decrypting a file using RSA with symmetrics Key in Java","body":"<p>I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).</p>\n<p>here below is the code:</p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\nimport java.security.spec.EncodedKeySpec;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\npublic class Main {\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGenerator.init(n);\n        SecretKey key = keyGenerator.generateKey();\n        return key;\n    }\n    public static IvParameterSpec generateIv() {\n        byte[] iv = new byte[128/8];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n\n    public static byte[] encryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(key);\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\n        return encryptedKey;\n    }\n\n    public static SecretKey decryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        byte[] encryptedKey= encryptSymmetricKey(secKey);\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(key);\n        PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\n        return originalKey;\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\n\n        SecretKey secKey=generateKey(128);\n        IvParameterSpec iv=generateIv();\n\n        File inputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\n        File outputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\n\n\n        //Decrypt the cipher text using decrypted symmetric key\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, decryptSymmetricKey(secKey),iv,outputFile,inputFile);\n    }\n}\n</code></pre>\n<p>The Error:\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format</p>\n<p>When I encrypt the symmetric key and then decrypt it, I produce an invalid key I guess. How can I solve this problem?</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667141221,"post_id":74251848,"comment_id":131095510,"body_markdown":"Show the full `com.letoy.main.utils.NameCount` java file","body":"Show the full <code>com.letoy.main.utils.NameCount</code> java file"},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":0,"creation_date":1667142532,"post_id":74251848,"comment_id":131095769,"body_markdown":"Hi, I added relevant information in the question.","body":"Hi, I added relevant information in the question."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667142659,"post_id":74251848,"comment_id":131095794,"body_markdown":"Why can&#39;t you just call the main method of NameCount? You shouldn&#39;t need Spring boot","body":"Why can&#39;t you just call the main method of NameCount? You shouldn&#39;t need Spring boot"},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":0,"creation_date":1667143092,"post_id":74251848,"comment_id":131095881,"body_markdown":"Yeah, I know. I&#39;ve already tried to call the main method , it can works. But I&#39;d like to figure out how to use it with Spring Boot.","body":"Yeah, I know. I&#39;ve already tried to call the main method , it can works. But I&#39;d like to figure out how to use it with Spring Boot."},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":1,"creation_date":1667148818,"post_id":74251848,"comment_id":131097178,"body_markdown":"Hi, I solved the problem. The reason is Spring&#39;s default package pulgin package all the things into the jar. So hadoop can not find the classes. Then I changed another plugin to package the jar. And it can work!","body":"Hi, I solved the problem. The reason is Spring&#39;s default package pulgin package all the things into the jar. So hadoop can not find the classes. Then I changed another plugin to package the jar. And it can work!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1667169875,"post_id":74251848,"comment_id":131101522,"body_markdown":"Feel free to put your answer below rather than as a comment","body":"Feel free to put your answer below rather than as a comment"}],"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667142453,"creation_date":1667121864,"question_id":74251848,"body_markdown":"I try to run the job with the Spring Boot, but it always tell me that the mapper class not found. I&#39;ve already set the jarClass and upload the whole application to the server.\r\n\r\n```\r\nprivate static Configuration getConfiguration() {\r\n        Configuration configuration = new Configuration();\r\n        configuration.addResource(&quot;../resources/core-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/hdfs-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/mapred-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/yarn-site.xml&quot;);\r\n        return configuration;\r\n    }\r\n\r\n    @Override\r\n    public void runJob() {\r\n        Configuration conf = getConfiguration();\r\n        try{\r\n//            File jarFile = EJob.createTempJar(&quot;/home/ubuntu/&quot;);\r\n            Job job = Job.getInstance(conf, &quot;My Count&quot;);\r\n//            job.setJar(String.valueOf(jarFile));\r\n//            ((JobConf) job.getConfiguration()).setJar(jarFile.toString());\r\n            job.setJarByClass(com.letoy.main.utils.NameCount.class);\r\n            FileInputFormat.addInputPath(job, new Path(&quot;/data/text.txt&quot;));\r\n            FileOutputFormat.setOutputPath(job, new Path(&quot;/output/resultCount&quot;));\r\n\r\n            job.setMapOutputKeyClass(Text.class);\r\n            job.setMapOutputValueClass(LongWritable.class);\r\n\r\n            job.setOutputKeyClass(NameCount.NameCountBean.class);\r\n            job.setOutputValueClass(NullWritable.class);\r\n\r\n            job.setMapperClass(NameCount.MyMapper.class);\r\n            job.setReducerClass(NameCount.MyReducer.class);\r\n\r\n            if (job.waitForCompletion(true)) {\r\n                if (job.isSuccessful()) {\r\n                    System.out.println(&quot;Job was successful&quot;);\r\n                } else if (!job.isSuccessful()) {\r\n                    System.out.println(&quot;Job was not successful&quot;);\r\n                }\r\n                System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI try sevral confs but they all failed.\r\n\r\nHere is the NamesCount Source Code:\r\n```\r\npublic class NameCount {\r\n\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\r\n        Job job = new Job();\r\n        job.setJarByClass(NameCount.class);\r\n        job.setJobName(&quot;nameCount&quot;);\r\n\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n\r\n\r\n        job.setMapOutputKeyClass(Text.class);\r\n        job.setMapOutputValueClass(LongWritable.class);\r\n\r\n        job.setOutputKeyClass(NameCountBean.class);\r\n        job.setOutputValueClass(NullWritable.class);\r\n\r\n\r\n        job.setMapperClass(MyMapper.class);\r\n        job.setReducerClass(MyReducer.class);\r\n\r\n\r\n        int returnValue = job.waitForCompletion(true) ? 0 : 1;\r\n\r\n        if (job.isSuccessful()) {\r\n            System.out.println(&quot;Job was successful&quot;);\r\n        } else if (!job.isSuccessful()) {\r\n            System.out.println(&quot;Job was not successful&quot;);\r\n        }\r\n    }\r\n\r\n    public static class MyMapper extends Mapper&lt;LongWritable, Text, Text, LongWritable&gt; {\r\n\r\n        private LongWritable outV = new LongWritable(1);\r\n\r\n        public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n\r\n\r\n            String line = value.toString();\r\n            if (line == null || line.trim().length() == 0) {\r\n                return;\r\n            }\r\n            String[] words = line.split(&quot;\\\\s+&quot;);\r\n            for (String word : words) {\r\n                if (word.contains(&quot;Sherlock&quot;)) {\r\n                    context.write(new Text(&quot;Sherlock&quot;), outV);\r\n                } else if (word.contains(&quot;Watson&quot;)) {\r\n                    context.write(new Text(&quot;Watson&quot;), outV);\r\n                } else if (word.contains(&quot;Jefferson&quot;)) {\r\n                    context.write(new Text(&quot;Jefferson&quot;), outV);\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static class MyReducer extends Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt; {\r\n\r\n\r\n        @Override\r\n        protected void reduce(Text key, Iterable&lt;LongWritable&gt; values, Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt;.Context context) throws IOException, InterruptedException {\r\n            long sum = 0;\r\n            for (LongWritable value : values) {\r\n                sum += value.get();\r\n            }\r\n            NameCountBean nameCountBean = new NameCountBean();\r\n            nameCountBean.setName(key.toString());\r\n            nameCountBean.setCount(sum);\r\n            context.write(nameCountBean, NullWritable.get());\r\n        }\r\n    }\r\n\r\n\r\n    public static class NameCountBean implements WritableComparable&lt;NameCountBean&gt; {\r\n\r\n        private String name;\r\n        private long count;\r\n\r\n        public NameCountBean() {\r\n\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public long getCount() {\r\n            return count;\r\n        }\r\n\r\n        public void setCount(long count) {\r\n            this.count = count;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(NameCountBean o) {\r\n            return Long.compare(count, o.count);\r\n        }\r\n\r\n        @Override\r\n        public void write(DataOutput dataOutput) throws IOException {\r\n            dataOutput.writeUTF(name);\r\n            dataOutput.writeLong(count);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void readFields(DataInput dataInput) throws IOException {\r\n\r\n            name = dataInput.readUTF();\r\n            count = dataInput.readLong();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name+&quot;\\t&quot;+count;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nI set the jar using the job.setJarByClass but it didn&#39;t worked.\r\nThis is the error when running the application:\r\nError: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found","title":"Hadoop java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found","body":"<p>I try to run the job with the Spring Boot, but it always tell me that the mapper class not found. I've already set the jarClass and upload the whole application to the server.</p>\n<pre><code>private static Configuration getConfiguration() {\n        Configuration configuration = new Configuration();\n        configuration.addResource(&quot;../resources/core-site.xml&quot;);\n        configuration.addResource(&quot;../resources/hdfs-site.xml&quot;);\n        configuration.addResource(&quot;../resources/mapred-site.xml&quot;);\n        configuration.addResource(&quot;../resources/yarn-site.xml&quot;);\n        return configuration;\n    }\n\n    @Override\n    public void runJob() {\n        Configuration conf = getConfiguration();\n        try{\n//            File jarFile = EJob.createTempJar(&quot;/home/ubuntu/&quot;);\n            Job job = Job.getInstance(conf, &quot;My Count&quot;);\n//            job.setJar(String.valueOf(jarFile));\n//            ((JobConf) job.getConfiguration()).setJar(jarFile.toString());\n            job.setJarByClass(com.letoy.main.utils.NameCount.class);\n            FileInputFormat.addInputPath(job, new Path(&quot;/data/text.txt&quot;));\n            FileOutputFormat.setOutputPath(job, new Path(&quot;/output/resultCount&quot;));\n\n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(LongWritable.class);\n\n            job.setOutputKeyClass(NameCount.NameCountBean.class);\n            job.setOutputValueClass(NullWritable.class);\n\n            job.setMapperClass(NameCount.MyMapper.class);\n            job.setReducerClass(NameCount.MyReducer.class);\n\n            if (job.waitForCompletion(true)) {\n                if (job.isSuccessful()) {\n                    System.out.println(&quot;Job was successful&quot;);\n                } else if (!job.isSuccessful()) {\n                    System.out.println(&quot;Job was not successful&quot;);\n                }\n                System.exit(job.waitForCompletion(true) ? 0 : 1);\n            }\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I try sevral confs but they all failed.</p>\n<p>Here is the NamesCount Source Code:</p>\n<pre><code>public class NameCount {\n\n\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = new Job();\n        job.setJarByClass(NameCount.class);\n        job.setJobName(&quot;nameCount&quot;);\n\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(LongWritable.class);\n\n        job.setOutputKeyClass(NameCountBean.class);\n        job.setOutputValueClass(NullWritable.class);\n\n\n        job.setMapperClass(MyMapper.class);\n        job.setReducerClass(MyReducer.class);\n\n\n        int returnValue = job.waitForCompletion(true) ? 0 : 1;\n\n        if (job.isSuccessful()) {\n            System.out.println(&quot;Job was successful&quot;);\n        } else if (!job.isSuccessful()) {\n            System.out.println(&quot;Job was not successful&quot;);\n        }\n    }\n\n    public static class MyMapper extends Mapper&lt;LongWritable, Text, Text, LongWritable&gt; {\n\n        private LongWritable outV = new LongWritable(1);\n\n        public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n\n\n            String line = value.toString();\n            if (line == null || line.trim().length() == 0) {\n                return;\n            }\n            String[] words = line.split(&quot;\\\\s+&quot;);\n            for (String word : words) {\n                if (word.contains(&quot;Sherlock&quot;)) {\n                    context.write(new Text(&quot;Sherlock&quot;), outV);\n                } else if (word.contains(&quot;Watson&quot;)) {\n                    context.write(new Text(&quot;Watson&quot;), outV);\n                } else if (word.contains(&quot;Jefferson&quot;)) {\n                    context.write(new Text(&quot;Jefferson&quot;), outV);\n                }\n\n            }\n\n\n        }\n    }\n\n\n    public static class MyReducer extends Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt; {\n\n\n        @Override\n        protected void reduce(Text key, Iterable&lt;LongWritable&gt; values, Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt;.Context context) throws IOException, InterruptedException {\n            long sum = 0;\n            for (LongWritable value : values) {\n                sum += value.get();\n            }\n            NameCountBean nameCountBean = new NameCountBean();\n            nameCountBean.setName(key.toString());\n            nameCountBean.setCount(sum);\n            context.write(nameCountBean, NullWritable.get());\n        }\n    }\n\n\n    public static class NameCountBean implements WritableComparable&lt;NameCountBean&gt; {\n\n        private String name;\n        private long count;\n\n        public NameCountBean() {\n\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public long getCount() {\n            return count;\n        }\n\n        public void setCount(long count) {\n            this.count = count;\n        }\n\n        @Override\n        public int compareTo(NameCountBean o) {\n            return Long.compare(count, o.count);\n        }\n\n        @Override\n        public void write(DataOutput dataOutput) throws IOException {\n            dataOutput.writeUTF(name);\n            dataOutput.writeLong(count);\n\n        }\n\n        @Override\n        public void readFields(DataInput dataInput) throws IOException {\n\n            name = dataInput.readUTF();\n            count = dataInput.readLong();\n        }\n\n        @Override\n        public String toString() {\n            return name+&quot;\\t&quot;+count;\n        }\n    }\n\n}\n</code></pre>\n<p>I set the jar using the job.setJarByClass but it didn't worked.\nThis is the error when running the application:\nError: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":17426837,"reputation":11,"user_id":12631600,"display_name":"Bhupesh Patil"},"score":0,"creation_date":1667140180,"post_id":74253685,"comment_id":131095293,"body_markdown":"I have edited the post and added the mock implementation @AlexanderIvanchenko","body":"I have edited the post and added the mock implementation @AlexanderIvanchenko"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667140385,"post_id":74253685,"comment_id":131095328,"body_markdown":"You forget to clarify what&#39;s wrong with the code you&#39;ve posted (show the output you have, and the output you need).","body":"You forget to clarify what&#39;s wrong with the code you&#39;ve posted (show the output you have, and the output you need)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667141604,"post_id":74253685,"comment_id":131095586,"body_markdown":"Your test (unfortunately) has same order (0..3;ab..Bf)...but Tree(sorted) map (at all) sorts by a *key* (+/-comparator). ..if you want to sort the *values*: &quot;double map&quot;!;)","body":"Your test (unfortunately) has same order (0..3;ab..Bf)...but Tree(sorted) map (at all) sorts by a <i>key</i> (+/-comparator). ..if you want to sort the <i>values</i>: &quot;double map&quot;!;)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667141965,"creation_date":1667141534,"answer_id":74254090,"question_id":74253685,"body_markdown":"`TreeMap` maintains the order of entries based on its *Keys*, **not** on its *Values*. Therefore, you can&#39;t instruct it to store the entries in the way you need.\r\n\r\nAs a workaround, you can use a [`LinkedHashMap`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html) which maintains the order of entries were added into the map.\r\n\r\n***Note** that if you update the map afterwards, the order might be disrupted.*\r\n\r\nThat&#39;s how it can be implemented using Stream API and Collector to `toMap()`\r\n\r\n```\r\nMap&lt;Integer, FileMap&gt; fileMap = Map.of(\r\n    0, new FileMap(&quot;abc.txt&quot;, 0),\r\n    1, new FileMap(&quot;abd.txt&quot;, 0),\r\n    2, new FileMap(&quot;abe.txt&quot;, 0),\r\n    3, new FileMap(&quot;abf.txt&quot;, 0)\r\n);\r\n    \r\nMap&lt;Integer, FileMap&gt; result = fileMap.entrySet().stream()\r\n    .sorted(Map.Entry.comparingByValue())\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue,\r\n        (left, right) -&gt; { \r\n            throw new AssertionError(&quot;All Keys in the source are expected to be unique&quot;);\r\n        },\r\n        LinkedHashMap::new\r\n    ));\r\n```\r\n\r\nThe same can be accomplished using plain old imperative programming:\r\n\r\n```\r\nMap&lt;Integer, FileMap&gt; fileMap = Map.of(\r\n    0, new FileMap(&quot;abc.txt&quot;, 0),\r\n    1, new FileMap(&quot;abd.txt&quot;, 0),\r\n    2, new FileMap(&quot;abe.txt&quot;, 0),\r\n    3, new FileMap(&quot;abf.txt&quot;, 0)\r\n);\r\n    \r\nList&lt;Map.Entry&lt;Integer, FileMap&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(fileMap.entrySet());\r\nsortedEntries.sort(Map.Entry.comparingByValue());\r\n        \r\nMap&lt;Integer, FileMap&gt; result = new LinkedHashMap&lt;&gt;();\r\n        \r\nfor (Map.Entry&lt;Integer, FileMap&gt; entry : sortedEntries) {\r\n    result.put(entry.getKey(), entry.getValue());\r\n}\r\n```","title":"How to sort the HashMap based on the value of the Class data member","body":"<p><code>TreeMap</code> maintains the order of entries based on its <em>Keys</em>, <strong>not</strong> on its <em>Values</em>. Therefore, you can't instruct it to store the entries in the way you need.</p>\n<p>As a workaround, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a> which maintains the order of entries were added into the map.</p>\n<p><em><strong>Note</strong> that if you update the map afterwards, the order might be disrupted.</em></p>\n<p>That's how it can be implemented using Stream API and Collector to <code>toMap()</code></p>\n<pre><code>Map&lt;Integer, FileMap&gt; fileMap = Map.of(\n    0, new FileMap(&quot;abc.txt&quot;, 0),\n    1, new FileMap(&quot;abd.txt&quot;, 0),\n    2, new FileMap(&quot;abe.txt&quot;, 0),\n    3, new FileMap(&quot;abf.txt&quot;, 0)\n);\n    \nMap&lt;Integer, FileMap&gt; result = fileMap.entrySet().stream()\n    .sorted(Map.Entry.comparingByValue())\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,\n        Map.Entry::getValue,\n        (left, right) -&gt; { \n            throw new AssertionError(&quot;All Keys in the source are expected to be unique&quot;);\n        },\n        LinkedHashMap::new\n    ));\n</code></pre>\n<p>The same can be accomplished using plain old imperative programming:</p>\n<pre><code>Map&lt;Integer, FileMap&gt; fileMap = Map.of(\n    0, new FileMap(&quot;abc.txt&quot;, 0),\n    1, new FileMap(&quot;abd.txt&quot;, 0),\n    2, new FileMap(&quot;abe.txt&quot;, 0),\n    3, new FileMap(&quot;abf.txt&quot;, 0)\n);\n    \nList&lt;Map.Entry&lt;Integer, FileMap&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(fileMap.entrySet());\nsortedEntries.sort(Map.Entry.comparingByValue());\n        \nMap&lt;Integer, FileMap&gt; result = new LinkedHashMap&lt;&gt;();\n        \nfor (Map.Entry&lt;Integer, FileMap&gt; entry : sortedEntries) {\n    result.put(entry.getKey(), entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":17426837,"reputation":11,"user_id":12631600,"display_name":"Bhupesh Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667149621,"answer_count":1,"score":0,"last_activity_date":1667141965,"creation_date":1667138446,"question_id":74253685,"body_markdown":"I have hashmap as \r\n```\r\nMap&lt;Integer, CustomClass&gt; \r\n``` \r\n\r\nCustomClass is defined as\r\n```\r\n\r\nClass CustomClass {\r\n    String s,\r\n    Integer i\r\n... constructors &amp; getter setters\r\n}\r\n```\r\n\r\nI have the object initialization as \r\n\r\n```\r\nMap&lt;Integer, CustomClass&gt; map = new HashMap&lt;&gt;() \r\n```\r\npopulated with the values.\r\n\r\nI want to sort on the basis of the CustomClass&#39;s String s data member.\r\n\r\nI have tried writing lambda expression but unable to get the proper sorted order map.\r\n\r\n\r\nI have tried mocking the following code\r\n\r\n```\r\nimport java.util.*;\r\n    \r\n    class FileMap implements Comparable&lt;FileMap&gt;{\r\n      private String fileName;\r\n      private int file;\r\n      public FileMap(String fileName, int file){\r\n        this.fileName = fileName;\r\n        this.file = file;\r\n      }\r\n    \r\n      public String getFileName() {\r\n        return fileName;\r\n      }\r\n    \r\n      public void setFileName(String fileName) {\r\n        this.fileName = fileName;\r\n      }\r\n    \r\n      public int getFile() {\r\n        return file;\r\n      }\r\n    \r\n      public void setFile(int file) {\r\n        this.file = file;\r\n      }\r\n    \t@Override\r\n    \tpublic int compareTo(FileMap that){\r\n    \t\treturn this.fileName.compareTo(that.getFileName());\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn this.fileName;\r\n    \t}\r\n    }\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        FileMap fm1 = new FileMap(&quot;abc.txt&quot;, 0);\r\n    \tFileMap fm2 = new FileMap(&quot;abd.txt&quot;, 0);\r\n    \tFileMap fm3 = new FileMap(&quot;abe.txt&quot;, 0);\r\n    \tFileMap fm4 = new FileMap(&quot;abf.txt&quot;, 0);\r\n    \tMap&lt;Integer, FileMap&gt; fileMap = new HashMap&lt;&gt;();\r\n    \t  fileMap.put(0, fm1);\r\n    \t  fileMap.put(1, fm3);\r\n    \t  fileMap.put(2, fm2);\r\n    \t  fileMap.put(3, fm4);\r\n    \tSystem.out.println(fileMap); \r\n    \r\n    \tMap&lt;Integer, FileMap&gt; tree = new TreeMap&lt;&gt;();\r\n    \t  tree.putAll(fileMap);\r\n    \t  System.out.println(tree);\r\n      }\r\n    }\r\n\r\n```","title":"How to sort the HashMap based on the value of the Class data member","body":"<p>I have hashmap as</p>\n<pre><code>Map&lt;Integer, CustomClass&gt; \n</code></pre>\n<p>CustomClass is defined as</p>\n<pre><code>\nClass CustomClass {\n    String s,\n    Integer i\n... constructors &amp; getter setters\n}\n</code></pre>\n<p>I have the object initialization as</p>\n<pre><code>Map&lt;Integer, CustomClass&gt; map = new HashMap&lt;&gt;() \n</code></pre>\n<p>populated with the values.</p>\n<p>I want to sort on the basis of the CustomClass's String s data member.</p>\n<p>I have tried writing lambda expression but unable to get the proper sorted order map.</p>\n<p>I have tried mocking the following code</p>\n<pre><code>import java.util.*;\n    \n    class FileMap implements Comparable&lt;FileMap&gt;{\n      private String fileName;\n      private int file;\n      public FileMap(String fileName, int file){\n        this.fileName = fileName;\n        this.file = file;\n      }\n    \n      public String getFileName() {\n        return fileName;\n      }\n    \n      public void setFileName(String fileName) {\n        this.fileName = fileName;\n      }\n    \n      public int getFile() {\n        return file;\n      }\n    \n      public void setFile(int file) {\n        this.file = file;\n      }\n        @Override\n        public int compareTo(FileMap that){\n            return this.fileName.compareTo(that.getFileName());\n        }\n        @Override\n        public String toString(){\n            return this.fileName;\n        }\n    }\n    class Main {\n      public static void main(String[] args) {\n        FileMap fm1 = new FileMap(&quot;abc.txt&quot;, 0);\n        FileMap fm2 = new FileMap(&quot;abd.txt&quot;, 0);\n        FileMap fm3 = new FileMap(&quot;abe.txt&quot;, 0);\n        FileMap fm4 = new FileMap(&quot;abf.txt&quot;, 0);\n        Map&lt;Integer, FileMap&gt; fileMap = new HashMap&lt;&gt;();\n          fileMap.put(0, fm1);\n          fileMap.put(1, fm3);\n          fileMap.put(2, fm2);\n          fileMap.put(3, fm4);\n        System.out.println(fileMap); \n    \n        Map&lt;Integer, FileMap&gt; tree = new TreeMap&lt;&gt;();\n          tree.putAll(fileMap);\n          System.out.println(tree);\n      }\n    }\n\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666998217,"post_id":74241563,"comment_id":131074843,"body_markdown":"Without seeing code, who knows?  But you do know that the default access is &quot;package&quot;, right?  You have to explicitly mark classes/methods/fields as &quot;public&quot; to get wider access.","body":"Without seeing code, who knows?  But you do know that the default access is &quot;package&quot;, right?  You have to explicitly mark classes/methods/fields as &quot;public&quot; to get wider access."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1666998339,"post_id":74241563,"comment_id":131074865,"body_markdown":"You should avoid placing classes in the “root” package - you can’t import the root package","body":"You should avoid placing classes in the “root” package - you can’t import the root package"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1667015685,"post_id":74241563,"comment_id":131076502,"body_markdown":"it seems you missed to ```import Main``` inside the AnotherClass. However, having a subclass dependent on Main class is strange and may lead to spaghetti code.","body":"it seems you missed to <code>import Main</code> inside the AnotherClass. However, having a subclass dependent on Main class is strange and may lead to spaghetti code."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667020464,"post_id":74241563,"comment_id":131076915,"body_markdown":"Maybe just try menu &quot;Build -&gt; Rebuild Project&quot; - sometimes IntelliJ is a bit confused. It happens.","body":"Maybe just try menu &quot;Build -&gt; Rebuild Project&quot; - sometimes IntelliJ is a bit confused. It happens."}],"answers":[{"tags":[],"owner":{"account_id":22247857,"reputation":25,"user_id":16481274,"display_name":"RoverKnight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140981,"creation_date":1667140981,"answer_id":74254013,"question_id":74241563,"body_markdown":"I moved the Main class inside a package (which I also called Main), and the other classes are now able to import Main. Thanks @MadProgrammer","title":"Class inside a lower package cannot access Main class, but class in same package as Main can","body":"<p>I moved the Main class inside a package (which I also called Main), and the other classes are now able to import Main. Thanks @MadProgrammer</p>\n"}],"owner":{"account_id":22247857,"reputation":25,"user_id":16481274,"display_name":"RoverKnight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667140981,"creation_date":1666997048,"question_id":74241563,"body_markdown":"As the title already says, for some reason IntelliJ cannot resolve the symbol &quot;Main&quot; in any classes within a package, meaning I cannot access it&#39;s static methods from these classes. However, a class that is on the same &quot;level&quot; as the Main class does recognize the Main class. Why is this?\r\n\r\nI&#39;ve already tried invalidating the caches and have checked and changed the Java SDK used, but to no use unfortunately.\r\n\r\nExample:\r\n```\r\nClass Structure:\r\n&gt; src\r\n  &gt; Main\r\n  &gt; Test\r\n  &gt; A_Package\r\n    &gt; AnotherClass\r\n```\r\nHere, if Main has a static method called main(), the class Test is able to access it via Main.main(). However, putting Main.main() in the class AnotherClass inside the package A_Package will lead to IntelliJ saying &quot;Cannot resolve symbol &#39;Main&#39;.&quot;","title":"Class inside a lower package cannot access Main class, but class in same package as Main can","body":"<p>As the title already says, for some reason IntelliJ cannot resolve the symbol &quot;Main&quot; in any classes within a package, meaning I cannot access it's static methods from these classes. However, a class that is on the same &quot;level&quot; as the Main class does recognize the Main class. Why is this?</p>\n<p>I've already tried invalidating the caches and have checked and changed the Java SDK used, but to no use unfortunately.</p>\n<p>Example:</p>\n<pre><code>Class Structure:\n&gt; src\n  &gt; Main\n  &gt; Test\n  &gt; A_Package\n    &gt; AnotherClass\n</code></pre>\n<p>Here, if Main has a static method called main(), the class Test is able to access it via Main.main(). However, putting Main.main() in the class AnotherClass inside the package A_Package will lead to IntelliJ saying &quot;Cannot resolve symbol 'Main'.&quot;</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666794855,"post_id":74208517,"comment_id":131020847,"body_markdown":"thx but I need to be able to support full unicode range not limit it to ascii space.","body":"thx but I need to be able to support full unicode range not limit it to ascii space."},{"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"score":0,"creation_date":1666795313,"post_id":74208517,"comment_id":131021036,"body_markdown":"do you need unicode utf-8 or also utf-16 or more bytes?","body":"do you need unicode utf-8 or also utf-16 or more bytes?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666795416,"post_id":74208517,"comment_id":131021080,"body_markdown":"I need to be able to write whatever characters are in string as part of filename whilst accounting for the fact that there is a limit of 255 bytes allowed, and therefore if more than 255 bytes need to truncate String so that when written will only require 255 bytes","body":"I need to be able to write whatever characters are in string as part of filename whilst accounting for the fact that there is a limit of 255 bytes allowed, and therefore if more than 255 bytes need to truncate String so that when written will only require 255 bytes"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666795490,"post_id":74208517,"comment_id":131021118,"body_markdown":"@PaulTaylor The length in bytes depends on the actual character set used by the underlying file system.","body":"@PaulTaylor The length in bytes depends on the actual character set used by the underlying file system."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666795520,"post_id":74208517,"comment_id":131021134,"body_markdown":"okay lets assume UTF-8, usually UTF-8","body":"okay lets assume UTF-8, usually UTF-8"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666795657,"post_id":74208517,"comment_id":131021193,"body_markdown":"@PaulTaylor It is not, for example NTFS (Windows) uses UTF-16, which means that - following your rules - you could use *at most* 127 characters, shorter if you have filenames with surrogate pairs.","body":"@PaulTaylor It is not, for example NTFS (Windows) uses UTF-16, which means that - following your rules - you could use <i>at most</i> 127 characters, shorter if you have filenames with surrogate pairs."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666797544,"post_id":74208517,"comment_id":131021939,"body_markdown":"Okay, but fine lets assume we know the underlying filesystem for a particular charset how do we adjust the string accordingly","body":"Okay, but fine lets assume we know the underlying filesystem for a particular charset how do we adjust the string accordingly"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666801187,"post_id":74208517,"comment_id":131023370,"body_markdown":"@MarkRotteveel are you saying that NTFS only allows 127 chars in each file segment (since each char uses two bytes), or that NTFS actually supports 255 chars, 510 bytes if using UTF-16 (and have no Unicode char that requires surrogate pairs)","body":"@MarkRotteveel are you saying that NTFS only allows 127 chars in each file segment (since each char uses two bytes), or that NTFS actually supports 255 chars, 510 bytes if using UTF-16 (and have no Unicode char that requires surrogate pairs)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666805990,"post_id":74208517,"comment_id":131024981,"body_markdown":"@PaulTaylor No, I&#39;m saying _&quot;following your rules&quot;_. You have specified the requirement that it cannot exceed more that 255 bytes, so given NTFS uses UTF-16, following your rules, you would need to restrict it to 127 characters, irrespective of the actual limitations of NTFS itself (255 characters UTF-16 per path component, and - depending on Windows version and API used - 260 characters for the entire path).","body":"@PaulTaylor No, I&#39;m saying <i>&quot;following your rules&quot;</i>. You have specified the requirement that it cannot exceed more that 255 bytes, so given NTFS uses UTF-16, following your rules, you would need to restrict it to 127 characters, irrespective of the actual limitations of NTFS itself (255 characters UTF-16 per path component, and - depending on Windows version and API used - 260 characters for the entire path)."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666854987,"post_id":74208517,"comment_id":131034952,"body_markdown":"Oh, okay so NTFS works with characters at underlying level so I dont need it for that will have to add check, linux filesystems usually seem to use UTf8  but restriction seem to based on byte length, is FAT bytes as well ?","body":"Oh, okay so NTFS works with characters at underlying level so I dont need it for that will have to add check, linux filesystems usually seem to use UTf8  but restriction seem to based on byte length, is FAT bytes as well ?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1666855108,"post_id":74208517,"comment_id":131034981,"body_markdown":"Its confusing because linux fs uses UTF-8 but doesnt mean you can have 255 UTF-8 characters does it","body":"Its confusing because linux fs uses UTF-8 but doesnt mean you can have 255 UTF-8 characters does it"}],"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666790359,"creation_date":1666790359,"answer_id":74208517,"question_id":74203779,"body_markdown":"As you stated, 255 characters are sometimes 255 bytes but sometimes they are longer. This simple test shows that:\r\n```java\r\nString a = &quot;a&quot;;\r\nSystem.out.println(a);\r\nSystem.out.println((int)a.charAt(0));  \r\nSystem.out.println(Arrays.toString(a.getBytes(StandardCharsets.UTF_8)));\r\n// a\r\n// 97\r\n// [97]\r\n\r\n\r\nString aa = &quot;&#228;&quot;;\r\nSystem.out.println(aa);\r\nSystem.out.println((int)aa.charAt(0));    \r\nSystem.out.println(Arrays.toString(aa.getBytes(StandardCharsets.UTF_8)));\r\n// &#228;\r\n// 228\r\n// [-61, -92]\r\n```\r\n\r\nAs you can see, the `&#228;` letter is part of 0-255 space (8 bytes) but it is represented by array with length = 2\r\n\r\nWhat would I do? From question, I see that you generate the string, and in this new-path generator, I would create chars only in ASCII space (0-127). Then, you will be sure that generated string has one character as one byte, and `string.length()` will be the same as `getBytes().length`\r\n\r\nThe following code snippet shows that at 127th value everything is one byte long, and afterwards it is two byte long array. And you can also use that rule to shorten the string.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 255; i++) {\r\n    char c = (char)i;\r\n    String s = String.valueOf(c);\r\n    System.out.println(i + &quot;-&gt; &quot; + s + &quot; -&gt;&quot; + Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\r\n}\r\n\r\n// ...\r\n// ...\r\n// 125-&gt; } -&gt;[125]\r\n// 126-&gt; ~ -&gt;[126]\r\n// 127-&gt;  -&gt;[127]\r\n// 128-&gt;  -&gt;[-62, -128]\r\n// 129-&gt;  -&gt;[-62, -127]\r\n// 130-&gt;  -&gt;[-62, -126]\r\n\r\n```\r\n","title":"How to trim file segment length, so when written as new filepath is not longer than 255 chars for each segement","body":"<p>As you stated, 255 characters are sometimes 255 bytes but sometimes they are longer. This simple test shows that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a = &quot;a&quot;;\nSystem.out.println(a);\nSystem.out.println((int)a.charAt(0));  \nSystem.out.println(Arrays.toString(a.getBytes(StandardCharsets.UTF_8)));\n// a\n// 97\n// [97]\n\n\nString aa = &quot;ä&quot;;\nSystem.out.println(aa);\nSystem.out.println((int)aa.charAt(0));    \nSystem.out.println(Arrays.toString(aa.getBytes(StandardCharsets.UTF_8)));\n// ä\n// 228\n// [-61, -92]\n</code></pre>\n<p>As you can see, the <code>ä</code> letter is part of 0-255 space (8 bytes) but it is represented by array with length = 2</p>\n<p>What would I do? From question, I see that you generate the string, and in this new-path generator, I would create chars only in ASCII space (0-127). Then, you will be sure that generated string has one character as one byte, and <code>string.length()</code> will be the same as <code>getBytes().length</code></p>\n<p>The following code snippet shows that at 127th value everything is one byte long, and afterwards it is two byte long array. And you can also use that rule to shorten the string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 255; i++) {\n    char c = (char)i;\n    String s = String.valueOf(c);\n    System.out.println(i + &quot;-&gt; &quot; + s + &quot; -&gt;&quot; + Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\n}\n\n// ...\n// ...\n// 125-&gt; } -&gt;[125]\n// 126-&gt; ~ -&gt;[126]\n// 127-&gt;  -&gt;[127]\n// 128-&gt;  -&gt;[-62, -128]\n// 129-&gt;  -&gt;[-62, -127]\n// 130-&gt;  -&gt;[-62, -126]\n\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667140901,"creation_date":1666767565,"question_id":74203779,"body_markdown":"My Java code generates a new path name for an existing file, as part of this, I have to ensure each path segment is no longer than 255 characters because this is illegal for most operating systems.\r\n\r\n```java\r\n// No path component can be longer than 255 chars\r\nString[] pathComponents = splitPath(newPath);\r\nfor(int i=0;i&lt;pathComponents.length - 1;i++) {\r\n    if (pathComponents[i]. length() &gt; MAX_FILELENGTH) {\r\n        String shortened = pathComponents[i].substring(0, MAX_FILELENGTH - 1);\r\n        shortened = shortened.trim();\r\n        sb.append(shortened).append(File.separator);\r\n    }\r\n    else {\r\n        sb.append(pathComponents[i]).append(File.separator);\r\n    }\r\n}\r\n```\r\n\r\nThis works fine most of the time, but it doesn&#39;t work if there are less than 255 Unicode characters but when the Unicode characters are written to the filesystem, some require more than one byte and therefore end up with more than 255 bytes, which isn&#39;t caught by test.\r\n\r\nI can count bytes instead of characters with\r\n\r\n```java\r\nif(pathComponents[i].getBytes(StandardCharsets.UTF_8).length &gt; MAX_FILELENGTH)\r\n```\r\n\r\nI cannot work out a nice way to trim by just the right amount of characters.\r\n\r\n\r\n","title":"How to trim file segment length, so when written as new filepath is not longer than 255 chars for each segement","body":"<p>My Java code generates a new path name for an existing file, as part of this, I have to ensure each path segment is no longer than 255 characters because this is illegal for most operating systems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No path component can be longer than 255 chars\nString[] pathComponents = splitPath(newPath);\nfor(int i=0;i&lt;pathComponents.length - 1;i++) {\n    if (pathComponents[i]. length() &gt; MAX_FILELENGTH) {\n        String shortened = pathComponents[i].substring(0, MAX_FILELENGTH - 1);\n        shortened = shortened.trim();\n        sb.append(shortened).append(File.separator);\n    }\n    else {\n        sb.append(pathComponents[i]).append(File.separator);\n    }\n}\n</code></pre>\n<p>This works fine most of the time, but it doesn't work if there are less than 255 Unicode characters but when the Unicode characters are written to the filesystem, some require more than one byte and therefore end up with more than 255 bytes, which isn't caught by test.</p>\n<p>I can count bytes instead of characters with</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(pathComponents[i].getBytes(StandardCharsets.UTF_8).length &gt; MAX_FILELENGTH)\n</code></pre>\n<p>I cannot work out a nice way to trim by just the right amount of characters.</p>\n"},{"tags":["java","windows","jpackage"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1621447138,"post_id":67607364,"comment_id":119501212,"body_markdown":"When I run `jpackage --help` on Windows, I only see `Valid values are: {&quot;app-image&quot;, &quot;exe&quot;, &quot;msi&quot;}` and as far as I know this is dependent on the platform you&#39;re running on. i.e. I don&#39;t think it&#39;s possible to create an `rpm` on Windows (at least not natively). Though, you might be able to run `jpackage` under WSL to do that, by using a Linux JDK distribution.","body":"When I run <code>jpackage --help</code> on Windows, I only see <code>Valid values are: {&quot;app-image&quot;, &quot;exe&quot;, &quot;msi&quot;}</code> and as far as I know this is dependent on the platform you&#39;re running on. i.e. I don&#39;t think it&#39;s possible to create an <code>rpm</code> on Windows (at least not natively). Though, you might be able to run <code>jpackage</code> under WSL to do that, by using a Linux JDK distribution."},{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1647285879,"post_id":67607364,"comment_id":126328760,"body_markdown":"Yes, that sucks, and Java used to be really multi-platform. One less-than-ideal possibility is to call jpackage once on the desired target OS (Linux in your case), and copy the output files somewhere on the host OS (Windows in your case). You can now call jpackage on the host OS. You can discard all the &quot;runtime/&quot; folder, and copy the content of &quot;app/&quot; folder and replace them inside the target structure. After the merge, you should hopefully get the desired result.","body":"Yes, that sucks, and Java used to be really multi-platform. One less-than-ideal possibility is to call jpackage once on the desired target OS (Linux in your case), and copy the output files somewhere on the host OS (Windows in your case). You can now call jpackage on the host OS. You can discard all the &quot;runtime/&quot; folder, and copy the content of &quot;app/&quot; folder and replace them inside the target structure. After the merge, you should hopefully get the desired result."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639783294,"creation_date":1639783294,"answer_id":70399798,"question_id":67607364,"body_markdown":"If this guy&#39;s presentation is still up to date, jpackage does not support cross platform compilation or cross platform deployment. Just look at the first slide in https://www.youtube.com/watch?v=ZGW9AalZLN4\r\n\r\nThe workaround may be to either involve the correct target machine or try yourself following https://www.oracle.com/technical-resources/articles/javase/javatomac3.html","title":"How can I JPackage an RPM/PKG/DEB on Windows?","body":"<p>If this guy's presentation is still up to date, jpackage does not support cross platform compilation or cross platform deployment. Just look at the first slide in <a href=\"https://www.youtube.com/watch?v=ZGW9AalZLN4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZGW9AalZLN4</a></p>\n<p>The workaround may be to either involve the correct target machine or try yourself following <a href=\"https://www.oracle.com/technical-resources/articles/javase/javatomac3.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/javase/javatomac3.html</a></p>\n"}],"owner":{"account_id":19869748,"reputation":167,"user_id":14556195,"display_name":"Ben Schreiber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667140460,"creation_date":1621442331,"question_id":67607364,"body_markdown":"I am attempting to create an executable for Linux systems using JPackage.\r\nI have successfully created an executable for windows using this command:\r\n\r\n    jpackage --type msi --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --win-shortcut\r\n\r\nHowever, when I attempt to make an RPM or DEB or PKG with this same command\r\n\r\n    jpackage --type rpm --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --linux-shortcut\r\n\r\nI get `Error: Invalid or unsupported type: [rpm]`\r\n\r\nOn the JPackage command docs I can clearly see RPM is an accepted value [allowed values][1]\r\n\r\nHow can I create an RPM/PKG/DEB file file with jpackage on windows?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mR0Tj.png","title":"How can I JPackage an RPM/PKG/DEB on Windows?","body":"<p>I am attempting to create an executable for Linux systems using JPackage.\nI have successfully created an executable for windows using this command:</p>\n<pre><code>jpackage --type msi --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --win-shortcut\n</code></pre>\n<p>However, when I attempt to make an RPM or DEB or PKG with this same command</p>\n<pre><code>jpackage --type rpm --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --linux-shortcut\n</code></pre>\n<p>I get <code>Error: Invalid or unsupported type: [rpm]</code></p>\n<p>On the JPackage command docs I can clearly see RPM is an accepted value <a href=\"https://i.stack.imgur.com/mR0Tj.png\" rel=\"nofollow noreferrer\">allowed values</a></p>\n<p>How can I create an RPM/PKG/DEB file file with jpackage on windows?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11791513,"reputation":685,"user_id":9652621,"display_name":"Vishnu"},"score":0,"creation_date":1667140689,"post_id":74253928,"comment_id":131095393,"body_markdown":"you might want to calculate the widths and manually do the rounding of numbers. [here](https://stackoverflow.com/a/64889106/9652621) is a similar answer I wrote a while back, hope it helps. :)","body":"you might want to calculate the widths and manually do the rounding of numbers. <a href=\"https://stackoverflow.com/a/64889106/9652621\">here</a> is a similar answer I wrote a while back, hope it helps. :)"},{"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"score":0,"creation_date":1667141738,"post_id":74253928,"comment_id":131095612,"body_markdown":"that&#39;s pretty much what I was thinking, I had hoped android had something more convenient and simple","body":"that&#39;s pretty much what I was thinking, I had hoped android had something more convenient and simple"},{"owner":{"account_id":11791513,"reputation":685,"user_id":9652621,"display_name":"Vishnu"},"score":0,"creation_date":1667229359,"post_id":74253928,"comment_id":131115075,"body_markdown":"Not to my knowledge, sadly :(","body":"Not to my knowledge, sadly :("}],"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667140373,"creation_date":1667140373,"question_id":74253928,"body_markdown":"Since there are many different phone screen sizes, I&#39;d like to know if there is a smile way to change the display precision of my numbers to change to fit the textview label.  Currently its just hardcoded to a fixed number.\r\n\r\n\t\tTextView field = (TextView)findViewById(R.id.textpercent1);\r\n        double y = 34.434359875385;\r\n\t\tfield.setText(String.format(&quot;%.4f%%&quot;,y));\r\n\r\nOn a small phone, it might want &quot;34.4344%&quot;, on a large phone, maybe &quot;34.43435975%&quot;.  I&#39;d rather not hard code in each possibility.","title":"Set decimal precision based on textview width","body":"<p>Since there are many different phone screen sizes, I'd like to know if there is a smile way to change the display precision of my numbers to change to fit the textview label.  Currently its just hardcoded to a fixed number.</p>\n<pre><code>    TextView field = (TextView)findViewById(R.id.textpercent1);\n    double y = 34.434359875385;\n    field.setText(String.format(&quot;%.4f%%&quot;,y));\n</code></pre>\n<p>On a small phone, it might want &quot;34.4344%&quot;, on a large phone, maybe &quot;34.43435975%&quot;.  I'd rather not hard code in each possibility.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1047244,"reputation":2191,"user_id":1051998,"accept_rate":69,"display_name":"cangrejo"},"score":1,"creation_date":1398682235,"post_id":23339015,"comment_id":35739370,"body_markdown":"Take a look at SortedMap http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html","body":"Take a look at SortedMap <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html</a>"},{"owner":{"account_id":276196,"reputation":12373,"user_id":569497,"accept_rate":84,"display_name":"Selvin"},"score":1,"creation_date":1398682292,"post_id":23339015,"comment_id":35739404,"body_markdown":"Is it mandatory to use java.util.Array.Sort() only? Why don&#39;t you just write your sort method?","body":"Is it mandatory to use java.util.Array.Sort() only? Why don&#39;t you just write your sort method?"},{"owner":{"account_id":276196,"reputation":12373,"user_id":569497,"accept_rate":84,"display_name":"Selvin"},"score":0,"creation_date":1398682347,"post_id":23339015,"comment_id":35739441,"body_markdown":"Its possible with a custom sort method.","body":"Its possible with a custom sort method."},{"owner":{"account_id":453874,"reputation":1117,"user_id":851118,"accept_rate":60,"display_name":"tkokasih"},"score":0,"creation_date":1398682681,"post_id":23339015,"comment_id":35739622,"body_markdown":"There is no information **link** between a and b, so it is not possible. Is using a `Map` also forbidden for this particular educational purpose?","body":"There is no information <b>link</b> between a and b, so it is not possible. Is using a <code>Map</code> also forbidden for this particular educational purpose?"},{"owner":{"account_id":341092,"reputation":2140,"user_id":3075037,"display_name":"Jakub H"},"score":1,"creation_date":1398682795,"post_id":23339015,"comment_id":35739690,"body_markdown":"Writing ambiguous and unclear code doesn&#39;t sound to me as an &quot;educational purpose&quot;. Create additional object and do it properly.","body":"Writing ambiguous and unclear code doesn&#39;t sound to me as an &quot;educational purpose&quot;. Create additional object and do it properly."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":1,"creation_date":1398682897,"post_id":23339015,"comment_id":35739741,"body_markdown":"You&#39;re not understanding me, I&#39;m not doing this just to solve my problem, I want to discover a way of sorting the arrays together using just loops. For me learning isn&#39;t just about finding a solution to a problem, it&#39;s learning all the possible solutions.","body":"You&#39;re not understanding me, I&#39;m not doing this just to solve my problem, I want to discover a way of sorting the arrays together using just loops. For me learning isn&#39;t just about finding a solution to a problem, it&#39;s learning all the possible solutions."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398764325,"post_id":23339015,"comment_id":35779464,"body_markdown":"For all the downvotes on my question, could you tell me where I went wrong and how I can avoid it next time?","body":"For all the downvotes on my question, could you tell me where I went wrong and how I can avoid it next time?"},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423838508,"post_id":23339015,"comment_id":45323171,"body_markdown":"This question makes sense when you have a very big amount of primitive data that you want to sort very fast without the cost of a boxing object. It&#39;s a pity you have to make your own sort code in that case. If your amount of data is &quot;normal&quot; however, don&#39;t use two arrays, but one of a boxing object.","body":"This question makes sense when you have a very big amount of primitive data that you want to sort very fast without the cost of a boxing object. It&#39;s a pity you have to make your own sort code in that case. If your amount of data is &quot;normal&quot; however, don&#39;t use two arrays, but one of a boxing object."},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423838960,"post_id":23339015,"comment_id":45323466,"body_markdown":"Actually you do not have to make your own sort in the case you have huge arrays. Simply make a &quot;index&quot; array than you sort instead of your actual arrays (using a custom comparator)","body":"Actually you do not have to make your own sort in the case you have huge arrays. Simply make a &quot;index&quot; array than you sort instead of your actual arrays (using a custom comparator)"},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423843341,"post_id":23339015,"comment_id":45326288,"body_markdown":"Have a look at `it.unimi.dsi.fastutil.Arrays.quickSort` (http://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html). It allows you to sort your two arrays by specifying the swap() method.","body":"Have a look at <code>it.unimi.dsi.fastutil.Arrays.quickSort</code> (<a href=\"http://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html\" rel=\"nofollow noreferrer\">fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html</a>&zwnj;&#8203;). It allows you to sort your two arrays by specifying the swap() method."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1398682278,"creation_date":1398682278,"answer_id":23339152,"question_id":23339015,"body_markdown":"You should not have two parallel arrays. Instead, you should have a single array of `WestWingCharacter` objects, where each object would have a field `name` and a field `number`.\r\n\r\nSorting this array by number of by name would then be a piece of cake:\r\n\r\n    Collections.sort(characters, new Comparator&lt;WestWingCharacter&gt;() {\r\n        @Override\r\n        public int compare(WestWingCharacter c1, WestWingCharacter c2) {\r\n            return c1.getName().compareTo(c2.getName();\r\n        }\r\n    });\r\n\r\nor, with Java 8:\r\n\r\n    Collections.sort(characters, Comparator.comparing(WestWingCharacter::getName));\r\n\r\n\r\nJava is an OO language, and you should thus use objects.","title":"Sorting two arrays simultaneously","body":"<p>You should not have two parallel arrays. Instead, you should have a single array of <code>WestWingCharacter</code> objects, where each object would have a field <code>name</code> and a field <code>number</code>.</p>\n\n<p>Sorting this array by number of by name would then be a piece of cake:</p>\n\n<pre><code>Collections.sort(characters, new Comparator&lt;WestWingCharacter&gt;() {\n    @Override\n    public int compare(WestWingCharacter c1, WestWingCharacter c2) {\n        return c1.getName().compareTo(c2.getName();\n    }\n});\n</code></pre>\n\n<p>or, with Java 8:</p>\n\n<pre><code>Collections.sort(characters, Comparator.comparing(WestWingCharacter::getName));\n</code></pre>\n\n<p>Java is an OO language, and you should thus use objects.</p>\n"},{"comments":[{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398682946,"post_id":23339159,"comment_id":35739770,"body_markdown":"This is the most relevant answer till now, do you have any ideas as to how I could sort the arrays using loops?","body":"This is the most relevant answer till now, do you have any ideas as to how I could sort the arrays using loops?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1398682978,"post_id":23339159,"comment_id":35739791,"body_markdown":"@VedantChandra You can look at some implementations of sorting algorithm (I would start with the most simple, called bubble sort http://en.wikipedia.org/wiki/Bubble_sort). This is not really efficient but simple to implement. When you&#39;ll done that you could start to implement more efficient sorting algorithms.","body":"@VedantChandra You can look at some implementations of sorting algorithm (I would start with the most simple, called bubble sort <a href=\"http://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bubble_sort</a>). This is not really efficient but simple to implement. When you&#39;ll done that you could start to implement more efficient sorting algorithms."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398683220,"post_id":23339159,"comment_id":35739923,"body_markdown":"Bubble sorting sounds perfect, how can I go about implementing this is my code?","body":"Bubble sorting sounds perfect, how can I go about implementing this is my code?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1398683380,"post_id":23339159,"comment_id":35740021,"body_markdown":"@VedantChandra The wikipedia page provides all the necessary informations to implement it. IMO this is clearly better for you to learn how to implement it (this is not hard) than for me to write the code for you. All you have to know is that for comparing objects in Java, they have to implement the comparable interface (this is the case for `Strings`) and you use the `compareTo` method instead of &lt; or &gt;.","body":"@VedantChandra The wikipedia page provides all the necessary informations to implement it. IMO this is clearly better for you to learn how to implement it (this is not hard) than for me to write the code for you. All you have to know is that for comparing objects in Java, they have to implement the comparable interface (this is the case for <code>Strings</code>) and you use the <code>compareTo</code> method instead of &lt; or &gt;."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1398683479,"post_id":23339159,"comment_id":35740074,"body_markdown":"@VedantChandra You could write a first method that takes a String array as parameter. Then a more generic one using generics with the appropriate bounds to ensure that the elements are comparable. You can look at this question I answered, which was basically the same problem as you. http://stackoverflow.com/questions/20270336/array-sort-multidimensional-array-to-match-second-array/20270506","body":"@VedantChandra You could write a first method that takes a String array as parameter. Then a more generic one using generics with the appropriate bounds to ensure that the elements are comparable. You can look at this question I answered, which was basically the same problem as you. <a href=\"http://stackoverflow.com/questions/20270336/array-sort-multidimensional-array-to-match-second-array/20270506\" title=\"array sort multidimensional array to match second array\">stackoverflow.com/questions/20270336/&hellip;</a>"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398682297,"creation_date":1398682297,"answer_id":23339159,"question_id":23339015,"body_markdown":"What you want is not possible because you don&#39;t know internally how `Arrays.sort` swap the elements in your String array, so there is no way to swap accordingly the elements in the int array.\r\n\r\n\r\nYou should create a class that contains the `String` name and the `int` position as parameter and then sort this class only with the name, providing a custom comparator to `Arrays.sort`.\r\n\r\nIf you want to keep your current code (with 2 arrays, but this not the ideal solution), don&#39;t use `Arrays.sort` and implement your own sorting algorithm. When you swap two names, get the index of them and swap the two integers in the other array accordingly.","title":"Sorting two arrays simultaneously","body":"<p>What you want is not possible because you don't know internally how <code>Arrays.sort</code> swap the elements in your String array, so there is no way to swap accordingly the elements in the int array.</p>\n\n<p>You should create a class that contains the <code>String</code> name and the <code>int</code> position as parameter and then sort this class only with the name, providing a custom comparator to <code>Arrays.sort</code>.</p>\n\n<p>If you want to keep your current code (with 2 arrays, but this not the ideal solution), don't use <code>Arrays.sort</code> and implement your own sorting algorithm. When you swap two names, get the index of them and swap the two integers in the other array accordingly.</p>\n"},{"tags":[],"owner":{"account_id":2133765,"reputation":27254,"user_id":1893995,"accept_rate":96,"display_name":"Pablo Francisco P&#233;rez Hidalgo"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1398682992,"creation_date":1398682361,"answer_id":23339191,"question_id":23339015,"body_markdown":"You have to ZIP your two arrays into an array which elements are instances of a class like:\r\n\r\n    class NameNumber \r\n    {\r\n\r\n        public NameNumber(String name, int n) {\r\n            this.name = name;\r\n            this.number = n;\r\n        }\r\n\r\n        public String name;\r\n        public int number;\r\n    }  \r\n\r\n\r\nAnd sort that array with a [custom comparator][1].\r\n\r\nYour code should be something like:\r\n\r\n    NameNumber [] zip = new NameNumber[Math.min(a.length,b.length)];\r\n    for(int i = 0; i &lt; zip.length; i++)\r\n    {\r\n        zip[i] = new NameNumber(a[i],b[i]);\r\n    }\r\n\r\n    Arrays.sort(zip, new Comparator&lt;NameNumber&gt;() {\r\n\r\n        @Override\r\n        public int compare(NameNumber o1, NameNumber o2) {\r\n            return Integer.compare(o1.number, o2.number);\r\n        }\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator","title":"Sorting two arrays simultaneously","body":"<p>You have to ZIP your two arrays into an array which elements are instances of a class like:</p>\n\n<pre><code>class NameNumber \n{\n\n    public NameNumber(String name, int n) {\n        this.name = name;\n        this.number = n;\n    }\n\n    public String name;\n    public int number;\n}  \n</code></pre>\n\n<p>And sort that array with a <a href=\"https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator\">custom comparator</a>.</p>\n\n<p>Your code should be something like:</p>\n\n<pre><code>NameNumber [] zip = new NameNumber[Math.min(a.length,b.length)];\nfor(int i = 0; i &lt; zip.length; i++)\n{\n    zip[i] = new NameNumber(a[i],b[i]);\n}\n\nArrays.sort(zip, new Comparator&lt;NameNumber&gt;() {\n\n    @Override\n    public int compare(NameNumber o1, NameNumber o2) {\n        return Integer.compare(o1.number, o2.number);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3880498,"reputation":1594,"user_id":3213157,"accept_rate":84,"display_name":"NRKirby"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1398682411,"creation_date":1398682411,"answer_id":23339213,"question_id":23339015,"body_markdown":"The arrays are not linked in any way. Like someone pointed out take a look at \r\n\r\n`SortedMap` http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\r\n\r\n`TreeMap` http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","title":"Sorting two arrays simultaneously","body":"<p>The arrays are not linked in any way. Like someone pointed out take a look at </p>\n\n<p><code>SortedMap</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html</a></p>\n\n<p><code>TreeMap</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html</a></p>\n"},{"comments":[{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398686228,"post_id":23339753,"comment_id":35741765,"body_markdown":"Thank you so much, this works perfectly and I now know how to use bubble sort.","body":"Thank you so much, this works perfectly and I now know how to use bubble sort."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398691308,"post_id":23339753,"comment_id":35745044,"body_markdown":"Would you mind posting a Gist or Pastebin with the bubble sort loops taking &#39;n&#39; array spaces instead of 5?","body":"Would you mind posting a Gist or Pastebin with the bubble sort loops taking &#39;n&#39; array spaces instead of 5?"},{"owner":{"account_id":1802675,"reputation":505,"user_id":3150733,"accept_rate":33,"display_name":"Prashant Gurav"},"score":1,"creation_date":1398693558,"post_id":23339753,"comment_id":35746570,"body_markdown":"for(int i = 0 ; i &lt; n ; i ++)\n     for (int m = 0 ; m &lt; n - i - 1 ;  m ++)","body":"for(int i = 0 ; i &lt; n ; i ++)      for (int m = 0 ; m &lt; n - i - 1 ;  m ++)"},{"owner":{"account_id":11127161,"reputation":352,"user_id":8168294,"display_name":"XYZ"},"score":0,"creation_date":1614760798,"post_id":23339753,"comment_id":117480354,"body_markdown":"@PrashantGurav, is it possible to obtain the sorted index so that the original order can be restored using such index afterwards?","body":"@PrashantGurav, is it possible to obtain the sorted index so that the original order can be restored using such index afterwards?"},{"owner":{"account_id":11127161,"reputation":352,"user_id":8168294,"display_name":"XYZ"},"score":0,"creation_date":1614761581,"post_id":23339753,"comment_id":117480686,"body_markdown":"@PrashantGurav, I figured it out,  adding `int[] idx = new int[a1len];       Arrays.setAll(idx, i -&gt; i );` and sort `idx` together with `b` will return the index of the sorted array.","body":"@PrashantGurav, I figured it out,  adding <code>int[] idx = new int[a1len];       Arrays.setAll(idx, i -&gt; i );</code> and sort <code>idx</code> together with <code>b</code> will return the index of the sorted array."}],"tags":[],"owner":{"account_id":1802675,"reputation":505,"user_id":3150733,"accept_rate":33,"display_name":"Prashant Gurav"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1405339614,"creation_date":1398684039,"answer_id":23339753,"question_id":23339015,"body_markdown":"Below is the code without using any `Map` Collection, but if you want to use `Map` then it becomes very easy. Add both the arrays into map and sort it.\r\n\r\n    public static void main(String args[]) {\r\n        String a[] = new String[] {\r\n            &quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;\r\n        };\r\n        int b[] = new int[] {\r\n            1, 2, 3, 4, 5\r\n        };\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            System.out.print(a[n] + &quot;...&quot;);\r\n            System.out.println(b[n]);\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n        //java.util.Arrays.sort(a);\r\n        /* Bubble Sort */\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            for (int m = 0; m &lt; 4 - n; m++) {\r\n                if ((a[m].compareTo(a[m + 1])) &gt; 0) {\r\n                    String swapString = a[m];\r\n                    a[m] = a[m + 1];\r\n                    a[m + 1] = swapString;\r\n                    int swapInt = b[m];\r\n                    b[m] = b[m + 1];\r\n                    b[m + 1] = swapInt;\r\n                }\r\n            }\r\n        }\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            System.out.print(a[n] + &quot;...&quot;);\r\n            System.out.println(b[n]);\r\n        }\r\n    }","title":"Sorting two arrays simultaneously","body":"<p>Below is the code without using any <code>Map</code> Collection, but if you want to use <code>Map</code> then it becomes very easy. Add both the arrays into map and sort it.</p>\n\n<pre><code>public static void main(String args[]) {\n    String a[] = new String[] {\n        \"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"\n    };\n    int b[] = new int[] {\n        1, 2, 3, 4, 5\n    };\n    for (int n = 0; n &lt; 5; n++) {\n        System.out.print(a[n] + \"...\");\n        System.out.println(b[n]);\n    }\n    System.out.println(\" \");\n    //java.util.Arrays.sort(a);\n    /* Bubble Sort */\n    for (int n = 0; n &lt; 5; n++) {\n        for (int m = 0; m &lt; 4 - n; m++) {\n            if ((a[m].compareTo(a[m + 1])) &gt; 0) {\n                String swapString = a[m];\n                a[m] = a[m + 1];\n                a[m + 1] = swapString;\n                int swapInt = b[m];\n                b[m] = b[m + 1];\n                b[m + 1] = swapInt;\n            }\n        }\n    }\n    for (int n = 0; n &lt; 5; n++) {\n        System.out.print(a[n] + \"...\");\n        System.out.println(b[n]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11858232,"reputation":1,"user_id":8677691,"display_name":"Ravi Midathala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506443310,"creation_date":1506441811,"answer_id":46431135,"question_id":23339015,"body_markdown":"Here is the answer for your query.\r\n\r\n    public class Main {\r\n      public static void main(String args[]){\r\n    \r\n      String name[] = new String[] {&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n            int id[] = new int[] {1, 2, 3, 4, 5};\r\n     \r\n            for ( int i = 0; i &lt; n; i++) {\r\n                for (int j = i + 1; j &lt; n; j++) {\r\n                    int dtmp=0;\r\n                    String stmp=null;\r\n                    if (id[i] &gt; id[j]) {\r\n                        dtmp = rate[i];\r\n                        id[i] = id[j];\r\n                        id[j] = dtmp;\r\n                        stmp = name[i];\r\n                        name[i]=name[j];\r\n                        name[j]=stmp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;Details are :&quot;);\r\n            for(int i=0;i&lt;n;i++){\r\n                System.out.println(name[i]+&quot; - &quot;+id[i]);\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Sorting two arrays simultaneously","body":"<p>Here is the answer for your query.</p>\n\n<pre><code>public class Main {\n  public static void main(String args[]){\n\n  String name[] = new String[] {\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n        int id[] = new int[] {1, 2, 3, 4, 5};\n\n        for ( int i = 0; i &lt; n; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                int dtmp=0;\n                String stmp=null;\n                if (id[i] &gt; id[j]) {\n                    dtmp = rate[i];\n                    id[i] = id[j];\n                    id[j] = dtmp;\n                    stmp = name[i];\n                    name[i]=name[j];\n                    name[j]=stmp;\n                }\n            }\n        }\n        System.out.println(\"Details are :\");\n        for(int i=0;i&lt;n;i++){\n            System.out.println(name[i]+\" - \"+id[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873870,"reputation":47256,"user_id":924109,"accept_rate":86,"display_name":"Rok Kralj"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508880476,"creation_date":1508880476,"answer_id":46920320,"question_id":23339015,"body_markdown":"Some people propose making a product type. That is feasible only if the amount of elements is small. By introducing another object you add object overhead (30+ bytes) for each element and a performance penalty of a pointer (also worsening cache locality).\r\n\r\nSolution without object overhead\r\n===\r\n\r\nMake a third array. Fill it with indices from `0` to `size-1`. Sort this array with comparator function polling into the array according to which you want to sort.\r\n\r\nFinally, reorder the elements in both arrays according to indices.\r\n\r\nAlternative solution\r\n===\r\nWrite the sorting algorithm yourself. This is not ideal, because you might make a mistake and the sorting efficiency might be subpar.","title":"Sorting two arrays simultaneously","body":"<p>Some people propose making a product type. That is feasible only if the amount of elements is small. By introducing another object you add object overhead (30+ bytes) for each element and a performance penalty of a pointer (also worsening cache locality).</p>\n\n<h1>Solution without object overhead</h1>\n\n<p>Make a third array. Fill it with indices from <code>0</code> to <code>size-1</code>. Sort this array with comparator function polling into the array according to which you want to sort.</p>\n\n<p>Finally, reorder the elements in both arrays according to indices.</p>\n\n<h1>Alternative solution</h1>\n\n<p>Write the sorting algorithm yourself. This is not ideal, because you might make a mistake and the sorting efficiency might be subpar.</p>\n"},{"tags":[],"owner":{"account_id":7177767,"reputation":199,"user_id":5483010,"display_name":"Gaurav londhe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581958228,"creation_date":1581957583,"answer_id":60266884,"question_id":23339015,"body_markdown":"       import java.util.*;\r\n    \r\n    class mergeArrays2\r\n    {\r\n      public static void main(String args[])\r\n      {\r\n         String a1[]={&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n    \t Integer a2[]={11, 2, 31, 24, 5};\r\n    \t \r\n    \t ArrayList ar1=new ArrayList(Arrays.asList(a1));\r\n    \t \r\n    \t Collections.sort(ar1);\r\n    \t \r\n    \t ArrayList ar2=new ArrayList(Arrays.asList(a2));\r\n    \t \r\n    \t Collections.sort(ar2);\r\n    \t\r\n    \t \r\n    \t \r\n    \t \r\n    \t \r\n    \t System.out.println(&quot;array list&quot;+ar1+ &quot; &quot;+ar2);\r\n      }\r\n      \r\n    }","title":"Sorting two arrays simultaneously","body":"<pre><code>   import java.util.*;\n\nclass mergeArrays2\n{\n  public static void main(String args[])\n  {\n     String a1[]={\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n     Integer a2[]={11, 2, 31, 24, 5};\n\n     ArrayList ar1=new ArrayList(Arrays.asList(a1));\n\n     Collections.sort(ar1);\n\n     ArrayList ar2=new ArrayList(Arrays.asList(a2));\n\n     Collections.sort(ar2);\n\n\n\n\n\n     System.out.println(\"array list\"+ar1+ \" \"+ar2);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114505,"reputation":21,"user_id":7473644,"display_name":"Santiago Egido Arteaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140256,"creation_date":1667140256,"answer_id":74253912,"question_id":23339015,"body_markdown":"The same solution, as a function that can be added to some utils class:\r\n\r\n\r\n    public static final boolean INCREASING = true;\r\n    public static final boolean DECREASING = false;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends Comparable, U extends Object&gt; void bubbleSort(ArrayList&lt;T&gt; list1, ArrayList&lt;U&gt;list2, boolean order) {\r\n      int cmpResult = (order ? 1 : -1);\r\n      for (int i = 0; i &lt; list1.size() - 1; i++) {\r\n        for (int j = 0; j &lt;= i; j++) {\r\n          if (list1.get(j).compareTo(list1.get(j+1)) == cmpResult) {\r\n            T tempComparable = list1.get(j);\r\n            list1.set(j      , list1.get(j + 1));\r\n            list1.set(j + 1  , tempComparable);\r\n            U tempObject     = list2.get(j);\r\n            list2.set(j      , list2.get(j + 1));\r\n            list2.set(j + 1  , tempObject);\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"Sorting two arrays simultaneously","body":"<p>The same solution, as a function that can be added to some utils class:</p>\n<pre><code>public static final boolean INCREASING = true;\npublic static final boolean DECREASING = false;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T extends Comparable, U extends Object&gt; void bubbleSort(ArrayList&lt;T&gt; list1, ArrayList&lt;U&gt;list2, boolean order) {\n  int cmpResult = (order ? 1 : -1);\n  for (int i = 0; i &lt; list1.size() - 1; i++) {\n    for (int j = 0; j &lt;= i; j++) {\n      if (list1.get(j).compareTo(list1.get(j+1)) == cmpResult) {\n        T tempComparable = list1.get(j);\n        list1.set(j      , list1.get(j + 1));\n        list1.set(j + 1  , tempComparable);\n        U tempObject     = list2.get(j);\n        list2.set(j      , list2.get(j + 1));\n        list2.set(j + 1  , tempObject);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32253,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":23339753,"answer_count":9,"score":5,"last_activity_date":1667140256,"creation_date":1398681912,"question_id":23339015,"body_markdown":"I&#39;m learning and understanding Java now, and while practising with arrays I had a doubt. I wrote the following code as an example:\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    class example\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tString a[] = new String[] {&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n    \t\tint b[] = new int[] {1, 2, 3, 4, 5};\r\n    \r\n    \t\tfor(int n=0;n&lt;5;n++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print (a[n] + &quot;...&quot;);\r\n    \t\t\tSystem.out.println (b[n]);\r\n    \t\t}\r\n    \t\tSystem.out.println (&quot; &quot;);\r\n    \t\t\r\n    \t\tjava.util.Arrays.sort(a);\r\n    \r\n    \t\tfor(int n=0;n&lt;5;n++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print (a[n] + &quot;...&quot;);\r\n    \t\t\tSystem.out.println (b[n]);\r\n    \t\t}\r\n    \t}\r\n\r\nIn a nutshell, this class created two arrays with five spaces each. It fills one with names of characters from the West Wing, and fills the other with numbering from one to five. We can say that the data in these two strings corresponds to each other.\r\n\r\nNow, the program sorts the array with the names in it using `Arrays.sort()`. After printing the array again, you can see that while the names are now in alphabetical order, the numbers do not correspond anymore as the second array is unchanged.\r\n\r\n**How can I shuffle the contents of the second array to match the sort requirements of the first?** The solution must also be flexible to allow for changes in the scope and size of the program. Please do not post any answers asking me to change my methodology with the arrays, or propose a more &#39;efficient&#39; way of doing things. This is for educational purposed and I&#39;d like a straight solution to the example code provided. Thanks in advance!\r\n\r\n**EDIT: I do NOT want to create an additional class, however I think some form of sorting through nested loops might be an option instead of Arrays.sort().**","title":"Sorting two arrays simultaneously","body":"<p>I'm learning and understanding Java now, and while practising with arrays I had a doubt. I wrote the following code as an example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class example\n{\n    public static void main(String args[])\n    {\n        String a[] = new String[] {\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n        int b[] = new int[] {1, 2, 3, 4, 5};\n\n        for(int n=0;n&lt;5;n++)\n        {\n            System.out.print (a[n] + \"...\");\n            System.out.println (b[n]);\n        }\n        System.out.println (\" \");\n\n        java.util.Arrays.sort(a);\n\n        for(int n=0;n&lt;5;n++)\n        {\n            System.out.print (a[n] + \"...\");\n            System.out.println (b[n]);\n        }\n    }\n</code></pre>\n\n<p>In a nutshell, this class created two arrays with five spaces each. It fills one with names of characters from the West Wing, and fills the other with numbering from one to five. We can say that the data in these two strings corresponds to each other.</p>\n\n<p>Now, the program sorts the array with the names in it using <code>Arrays.sort()</code>. After printing the array again, you can see that while the names are now in alphabetical order, the numbers do not correspond anymore as the second array is unchanged.</p>\n\n<p><strong>How can I shuffle the contents of the second array to match the sort requirements of the first?</strong> The solution must also be flexible to allow for changes in the scope and size of the program. Please do not post any answers asking me to change my methodology with the arrays, or propose a more 'efficient' way of doing things. This is for educational purposed and I'd like a straight solution to the example code provided. Thanks in advance!</p>\n\n<p><strong>EDIT: I do NOT want to create an additional class, however I think some form of sorting through nested loops might be an option instead of Arrays.sort().</strong></p>\n"},{"tags":["java","genetic-algorithm","crossover"],"answers":[{"tags":[],"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140036,"creation_date":1667140036,"answer_id":74253883,"question_id":74248824,"body_markdown":"You need to search for &quot;partially matched crossover&quot;. This crossover algorithm has the property you needed. The [Jenetics][1] library has an implementation for this use-case ([PartiallyMatchedCrossover.java][2]).\r\n\r\n\r\n  [1]: https://jenetics.io/\r\n  [2]: https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/PartiallyMatchedCrossover.java","title":"Crossover function in genetic algorithm to provide full set of tests and unique values in Java","body":"<p>You need to search for &quot;partially matched crossover&quot;. This crossover algorithm has the property you needed. The <a href=\"https://jenetics.io/\" rel=\"nofollow noreferrer\">Jenetics</a> library has an implementation for this use-case (<a href=\"https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/PartiallyMatchedCrossover.java\" rel=\"nofollow noreferrer\">PartiallyMatchedCrossover.java</a>).</p>\n"}],"owner":{"account_id":21834198,"reputation":53,"user_id":16128731,"display_name":"andsemenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667140036,"creation_date":1667077475,"question_id":74248824,"body_markdown":"I am trying to implement genetic algorithm for permutation problem. I have a file with results of tests and faults which were found during the tests, I need to find the optimal way to permutate the tests.\r\nI need some crossover function to mate genes of the fittest and second fittest chromosomes, which are the lists of strings, the strings are keys in LinkedHashMap, so the lists should contain the same set of strings, but in a different order.  \r\nFor instance, \r\n“t1”, “t4”, “t2”, “t3”, “t0” \r\nor \r\n“t4”, “t3”, “t2”, “t1”, “t0”\r\n\r\nMy code:\r\n\r\n    static void crossover() {\r\n        //Select a random crossover point\r\n        int crossOverPoint = rand.nextInt(population.chromosomes[0].genes.size());\r\n        //\r\n        System.out.println(&quot;it&#39;s crossover time&quot;);\r\n        System.out.println(&quot;crossover point &quot; + crossOverPoint);\r\n        System.out.println(&quot;fittest before &quot; + fittest.genes);\r\n        System.out.println(&quot;second fittest &quot; + secondFittest.genes);\r\n        //\r\n    \r\n        //Swap values among parents\r\n        for (int i = 0; i &lt; crossOverPoint; i++) {\r\n            String temp = fittest.genes.get(i);\r\n            fittest.genes.set(i, secondFittest.genes.get(i));\r\n            secondFittest.genes.set(i, temp);\r\n        }\r\n    \r\n    \r\n        System.out.println(&quot;fittest after &quot; + fittest.genes);\r\n        System.out.println(&quot;second fittest after &quot; + secondFittest.genes);\r\n    \r\n    }\r\nI have created a function which for random crossover point replaces elements of the lists, but I need to make the sets valid – all elements should be unique to avoid doubled keys in the LinkedHashMap.\r\nFor instance,\r\n\r\nIf I have the fittest and second fittest, \r\n\r\n“t1”, “t4”, “t2”, “t3”, “t0”\r\n\r\n“t4”, “t3”, “t2”, “t1”, “t0”\r\n\r\nAnd crossing point 2, I will get following offspring\r\n\r\n“t1”, “t4” |”t2”, “t1”, “t0”\r\n\r\n“t4”, “t3”, |“t2”, “t3”, “t0”\r\n\r\nAnd both will become invalid because we have doubled key “t1” in the first and no “t3”,\r\nand second has doubled “t3”  and no “t1”\r\n\r\nWould appreciate any help. Thank you.\r\n","title":"Crossover function in genetic algorithm to provide full set of tests and unique values in Java","body":"<p>I am trying to implement genetic algorithm for permutation problem. I have a file with results of tests and faults which were found during the tests, I need to find the optimal way to permutate the tests.\nI need some crossover function to mate genes of the fittest and second fittest chromosomes, which are the lists of strings, the strings are keys in LinkedHashMap, so the lists should contain the same set of strings, but in a different order.<br />\nFor instance,\n“t1”, “t4”, “t2”, “t3”, “t0”\nor\n“t4”, “t3”, “t2”, “t1”, “t0”</p>\n<p>My code:</p>\n<pre><code>static void crossover() {\n    //Select a random crossover point\n    int crossOverPoint = rand.nextInt(population.chromosomes[0].genes.size());\n    //\n    System.out.println(&quot;it's crossover time&quot;);\n    System.out.println(&quot;crossover point &quot; + crossOverPoint);\n    System.out.println(&quot;fittest before &quot; + fittest.genes);\n    System.out.println(&quot;second fittest &quot; + secondFittest.genes);\n    //\n\n    //Swap values among parents\n    for (int i = 0; i &lt; crossOverPoint; i++) {\n        String temp = fittest.genes.get(i);\n        fittest.genes.set(i, secondFittest.genes.get(i));\n        secondFittest.genes.set(i, temp);\n    }\n\n\n    System.out.println(&quot;fittest after &quot; + fittest.genes);\n    System.out.println(&quot;second fittest after &quot; + secondFittest.genes);\n\n}\n</code></pre>\n<p>I have created a function which for random crossover point replaces elements of the lists, but I need to make the sets valid – all elements should be unique to avoid doubled keys in the LinkedHashMap.\nFor instance,</p>\n<p>If I have the fittest and second fittest,</p>\n<p>“t1”, “t4”, “t2”, “t3”, “t0”</p>\n<p>“t4”, “t3”, “t2”, “t1”, “t0”</p>\n<p>And crossing point 2, I will get following offspring</p>\n<p>“t1”, “t4” |”t2”, “t1”, “t0”</p>\n<p>“t4”, “t3”, |“t2”, “t3”, “t0”</p>\n<p>And both will become invalid because we have doubled key “t1” in the first and no “t3”,\nand second has doubled “t3”  and no “t1”</p>\n<p>Would appreciate any help. Thank you.</p>\n"},{"tags":["java","arrays","string","string-concatenation"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667139603,"creation_date":1667137565,"answer_id":74253578,"question_id":74253436,"body_markdown":"Avoid concatenating string in the loop, each concatenation `str1 + str2` in a new string stored as a separate object. As the consequence of this, lots of intermediate strings which you don&#39;t need would be created.\r\n\r\nUse `StringBuilder` or other built-in mechanisms when you need to join together more than just a couple of strings.\r\n\r\n# Collectors.joining()\r\n\r\nIt can be done with Stream API using built-in Collector [`joning()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)):\r\n\r\n```\r\nString[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\r\n    \r\nString result = Arrays.stream(tempArray)\r\n    .filter(str -&gt; !str.endsWith(&quot;suryavanshi&quot;)) // retain only elements which don&#39;t end with &quot;suryavanshi&quot;\r\n    .collect(Collectors.joining(&quot;, &quot;));\r\n```\r\n\r\n# StringJoiner\r\n\r\nAlternatively, you can use a so-called [enhanced `for`-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) (also known as *for-each*) and [`StringJoiner`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html) :\r\n\r\n```\r\nStringJoiner joiner = new StringJoiner(&quot;, &quot;);\r\n    \r\nfor (String str : tempArray) {\r\n    if (str.endsWith(&quot;suryavanshi&quot;)) continue;\r\n    \r\n    joiner.add(str);\r\n}\r\n        \r\nString result = joiner.toString();\r\n```","title":"Discard elements of a String Array matching a specific criterion and Join them together without using indices","body":"<p>Avoid concatenating string in the loop, each concatenation <code>str1 + str2</code> in a new string stored as a separate object. As the consequence of this, lots of intermediate strings which you don't need would be created.</p>\n<p>Use <code>StringBuilder</code> or other built-in mechanisms when you need to join together more than just a couple of strings.</p>\n<h1>Collectors.joining()</h1>\n<p>It can be done with Stream API using built-in Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>joning()</code></a>:</p>\n<pre><code>String[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\n    \nString result = Arrays.stream(tempArray)\n    .filter(str -&gt; !str.endsWith(&quot;suryavanshi&quot;)) // retain only elements which don't end with &quot;suryavanshi&quot;\n    .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<h1>StringJoiner</h1>\n<p>Alternatively, you can use a so-called <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">enhanced <code>for</code>-loop</a> (also known as <em>for-each</em>) and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> :</p>\n<pre><code>StringJoiner joiner = new StringJoiner(&quot;, &quot;);\n    \nfor (String str : tempArray) {\n    if (str.endsWith(&quot;suryavanshi&quot;)) continue;\n    \n    joiner.add(str);\n}\n        \nString result = joiner.toString();\n</code></pre>\n"}],"owner":{"account_id":23181722,"reputation":13,"user_id":17279459,"display_name":"Rakesh Bhagat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74253578,"answer_count":1,"score":1,"last_activity_date":1667139603,"creation_date":1667136330,"question_id":74253436,"body_markdown":"I have a string array of full names with different surnames, i.e.\r\n```\r\nString[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\r\n```\r\nI want to create a new string of all names except one name, i.e.\r\n```\r\ntemp = &quot;rakesh bhagat, mayur suryavanshi, prathamesh ambre, akash tare, abhi ingle, rutvik patil&quot;;\r\n```\r\nSo here I want to remove **&quot;mayur suryavanshi&quot;** from array without using index because I don&#39;t know index of that item, but I have certain condition like\r\n```\r\nif(tempArray[i].endsWith(&quot;suryawanshi&quot;)){}\r\n```\r\n\r\nWhich I can use in for loop.\r\nI tried to make new string with removing those item in for loop\r\n\r\n```\r\nString result = joiner.toString();\r\n        \r\nString temp = null;\r\n        \r\nfor (int i = 0; i &lt; tempArray.length; i++) {\r\n    if (tempArray[i].endsWith(&quot;suryavanshi&quot;)) {\r\n        continue;\r\n    }\r\n    if (temp == null) {\r\n        temp = tempArray[i];\r\n    } else {\r\n        temp = temp + &quot;, &quot; + tempArray[i];\r\n    }\r\n}\r\n```","title":"Discard elements of a String Array matching a specific criterion and Join them together without using indices","body":"<p>I have a string array of full names with different surnames, i.e.</p>\n<pre><code>String[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\n</code></pre>\n<p>I want to create a new string of all names except one name, i.e.</p>\n<pre><code>temp = &quot;rakesh bhagat, mayur suryavanshi, prathamesh ambre, akash tare, abhi ingle, rutvik patil&quot;;\n</code></pre>\n<p>So here I want to remove <strong>&quot;mayur suryavanshi&quot;</strong> from array without using index because I don't know index of that item, but I have certain condition like</p>\n<pre><code>if(tempArray[i].endsWith(&quot;suryawanshi&quot;)){}\n</code></pre>\n<p>Which I can use in for loop.\nI tried to make new string with removing those item in for loop</p>\n<pre><code>String result = joiner.toString();\n        \nString temp = null;\n        \nfor (int i = 0; i &lt; tempArray.length; i++) {\n    if (tempArray[i].endsWith(&quot;suryavanshi&quot;)) {\n        continue;\n    }\n    if (temp == null) {\n        temp = tempArray[i];\n    } else {\n        temp = temp + &quot;, &quot; + tempArray[i];\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","terminal","properties-file","jpackage"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1641040789,"post_id":70548809,"comment_id":124710588,"body_markdown":"You are just checking for zero and one arguments on startup. AFAIK the first argument always contains the application name itself and should always exist. Have you checked conditions when there are more arguments?","body":"You are just checking for zero and one arguments on startup. AFAIK the first argument always contains the application name itself and should always exist. Have you checked conditions when there are more arguments?"},{"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"score":0,"creation_date":1641042236,"post_id":70548809,"comment_id":124710807,"body_markdown":"@HiranChaudhuri Hi! I have added a System.out.println(args[0]) in both conditional blocks, and when starting the application &quot;normally&quot; - without opening a file, which should correspond to the case &quot;args.length == 0&quot; - it raises an ArrayIndexOutOfBoundsException, so I guess probably when it is started without passing a file path it actually has no arguments (hence the exception). I have also tried adding an &quot;args.length == 2&quot; conditional block, but it still does not work.","body":"@HiranChaudhuri Hi! I have added a System.out.println(args[0]) in both conditional blocks, and when starting the application &quot;normally&quot; - without opening a file, which should correspond to the case &quot;args.length == 0&quot; - it raises an ArrayIndexOutOfBoundsException, so I guess probably when it is started without passing a file path it actually has no arguments (hence the exception). I have also tried adding an &quot;args.length == 2&quot; conditional block, but it still does not work."}],"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667139072,"creation_date":1641039270,"question_id":70548809,"body_markdown":"I am encountering a problem with file associations in Java (using the terminal command JPackage for building an executable file). The problem is basically the following: when I try to open a file with my application, the file path is not passed to my main method as an argument.\r\nLet me share a simplified example of the code below. I am working on IntelliJ Idea on MacOs 12 (Monterey).\r\n\r\nThis is the (only) class, containing the main method, from which I build an executable .jar file.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        if (args.length == 0) {\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            JLabel label = new JLabel(&quot;No arguments&quot;);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(label, BorderLayout.CENTER);\r\n            frame.setPreferredSize(new Dimension(1000,500));\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        } else if (args.length == 1) {\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            JLabel label = new JLabel(args[0]);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(label, BorderLayout.CENTER);\r\n            frame.setPreferredSize(new Dimension(1000,500));\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        }\r\n    }\r\n    }\r\n\r\nThis is the &quot;.properties&quot; file I have written, to set the file association with the &quot;.txt&quot; file type.\r\n\r\n    mime-type=text/plain\r\n    extension=txt\r\n    description=Text Source\r\n\r\nFinally, here is the terminal command I used to build the executable file for MacOs.\r\n\r\n    jpackage --type &quot;app-image&quot; --name JavaGuiApp --input /Users/username/Desktop/JavaGuiApp --main-jar JavaGuiApp.jar --file-associations /Users/username/Desktop/JavaGuiApp/FAtxt.properties\r\n\r\nI have relied on information found here on JPackage: https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html.\r\n\r\nThank you all in advance for your help!","title":"File Associations not working in JPackage","body":"<p>I am encountering a problem with file associations in Java (using the terminal command JPackage for building an executable file). The problem is basically the following: when I try to open a file with my application, the file path is not passed to my main method as an argument.\nLet me share a simplified example of the code below. I am working on IntelliJ Idea on MacOs 12 (Monterey).</p>\n<p>This is the (only) class, containing the main method, from which I build an executable .jar file.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n\npublic static void main(String[] args) {\n\n    if (args.length == 0) {\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        JLabel label = new JLabel(&quot;No arguments&quot;);\n        frame.setLayout(new BorderLayout());\n        frame.add(label, BorderLayout.CENTER);\n        frame.setPreferredSize(new Dimension(1000,500));\n        frame.pack();\n        frame.setVisible(true);\n\n    } else if (args.length == 1) {\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        JLabel label = new JLabel(args[0]);\n        frame.setLayout(new BorderLayout());\n        frame.add(label, BorderLayout.CENTER);\n        frame.setPreferredSize(new Dimension(1000,500));\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n}\n}\n</code></pre>\n<p>This is the &quot;.properties&quot; file I have written, to set the file association with the &quot;.txt&quot; file type.</p>\n<pre><code>mime-type=text/plain\nextension=txt\ndescription=Text Source\n</code></pre>\n<p>Finally, here is the terminal command I used to build the executable file for MacOs.</p>\n<pre><code>jpackage --type &quot;app-image&quot; --name JavaGuiApp --input /Users/username/Desktop/JavaGuiApp --main-jar JavaGuiApp.jar --file-associations /Users/username/Desktop/JavaGuiApp/FAtxt.properties\n</code></pre>\n<p>I have relied on information found here on JPackage: <a href=\"https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html</a>.</p>\n<p>Thank you all in advance for your help!</p>\n"},{"tags":["java","android","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1667130805,"post_id":74252710,"comment_id":131093422,"body_markdown":"The return type is `GroupModel` meaning need to return a `GroupModel` but when you use an `if` statement then it causes error since the value is conditional. You can create an `EmptyGroupModel` to be returned if the condition isn&#39;t met.","body":"The return type is <code>GroupModel</code> meaning need to return a <code>GroupModel</code> but when you use an <code>if</code> statement then it causes error since the value is conditional. You can create an <code>EmptyGroupModel</code> to be returned if the condition isn&#39;t met."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667138433,"post_id":74252710,"comment_id":131094964,"body_markdown":"&quot;But I got red line.&quot; doesn&#39;t provide enough information so we can help. What exactly is causing the code to provide that &quot;red line&quot;?","body":"&quot;But I got red line.&quot; doesn&#39;t provide enough information so we can help. What exactly is causing the code to provide that &quot;red line&quot;?"},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667196456,"post_id":74252710,"comment_id":131104853,"body_markdown":"@DarShan Your suggestion works almost. But it creates empty card views of that empty group model any way. I want to return nothing for the groups that doesn&#39;t match my condition. If any idea how?","body":"@DarShan Your suggestion works almost. But it creates empty card views of that empty group model any way. I want to return nothing for the groups that doesn&#39;t match my condition. If any idea how?"}],"answers":[{"comments":[{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667196140,"post_id":74253757,"comment_id":131104810,"body_markdown":"Add your query in the adapter? where in the adapter? My adapter extends FirebaseRecycleAdapter. I don&#39;t know where to put the query in my GroupModelAdapter.java.","body":"Add your query in the adapter? where in the adapter? My adapter extends FirebaseRecycleAdapter. I don&#39;t know where to put the query in my GroupModelAdapter.java."},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667196660,"post_id":74253757,"comment_id":131104888,"body_markdown":"I have temporarily solved the problem by creating another node with the id of current user, inside which I store the groups he had created, in addition to storing all the groups all users have created under node, &quot;Groups&quot;.","body":"I have temporarily solved the problem by creating another node with the id of current user, inside which I store the groups he had created, in addition to storing all the groups all users have created under node, &quot;Groups&quot;."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1667227009,"post_id":74253757,"comment_id":131114152,"body_markdown":"#1: replace the reference in here ` .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;), ...`  with the query I showed.","body":"#1: replace the reference in here ` .setQuery(FirebaseDatabase.getInstance().getReference().chil&zwnj;&#8203;d(&quot;Groups&quot;), ...`  with the query I showed."},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":1,"creation_date":1667479576,"post_id":74253757,"comment_id":131179295,"body_markdown":"Thanks! It works now. The problem was I was assigning the query you wrote to a database reference. Now I directly pass it inside setQuery method and it is working now. Though I don&#39;t need startAt(null).","body":"Thanks! It works now. The problem was I was assigning the query you wrote to a database reference. Now I directly pass it inside setQuery method and it is working now. Though I don&#39;t need startAt(null)."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667139023,"creation_date":1667139023,"answer_id":74253757,"question_id":74252710,"body_markdown":"If you want to only show a subset of the child nodes in the adapter, you should [use a query]() to retrieve only those child nodes from the database.\r\n\r\nIt&#39;s hard to be certain without seeing your database, but using this query in the adapter might be an option:\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;Groups&quot;)\r\n    .orderByChild(&quot;groupName&quot;)\r\n    .startAt(null)\r\n```\r\n\r\nSince `null` is the first value in [Firebase Realtime Database ordering](https://firebase.google.com/docs/database/android/lists-of-data#data-order), this will return any node that has a `groupName` value.\r\n\r\n","title":"Could I use if (snapShot.hasChild(uid) in firebaseRecycleOptions? I am using Firebase Recycle adapter to retrieve data under node: &quot;Groups&quot;","body":"<p>If you want to only show a subset of the child nodes in the adapter, you should use a query to retrieve only those child nodes from the database.</p>\n<p>It's hard to be certain without seeing your database, but using this query in the adapter might be an option:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n    .child(&quot;Groups&quot;)\n    .orderByChild(&quot;groupName&quot;)\n    .startAt(null)\n</code></pre>\n<p>Since <code>null</code> is the first value in <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#data-order\" rel=\"nofollow noreferrer\">Firebase Realtime Database ordering</a>, this will return any node that has a <code>groupName</code> value.</p>\n"}],"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74253757,"answer_count":1,"score":0,"last_activity_date":1667139023,"creation_date":1667129913,"question_id":74252710,"body_markdown":"```\r\nprivate void RetrieveAndDisplayGroups() {\r\n    FirebaseRecyclerOptions&lt;GroupModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;GroupModel&gt;()\r\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;), new SnapshotParser&lt;GroupModel&gt;() {\r\n                @NonNull\r\n                public GroupModel parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                    // I tried to use if statment before return.\r\n                    return new GroupModel(snapshot.child(&quot;groupName&quot;).getValue().toString(), snapshot.child(&quot;groupDescription&quot;).getValue().toString());\r\n                }\r\n            }).build();\r\n    modelAdapter = new GroupModelAdapter(options, getContext());\r\n    recyclerExploreGroupView.setAdapter(modelAdapter);\r\n}\r\n```\r\n\r\n\r\n\r\nSo I am making a group chat app.\r\nIn my app, I want to show the users only the groups they have created. \r\nIn the database, under node &quot;Groups&quot;, I have all the groups created by all users.\r\n\r\nI am using firebase recycle adapter to retrieve data from firebase real time database.\r\nI am not familiar with how FirebaseRecycleOptions work. I think it returns a set of the model object I passed.\r\n\r\nI try to use if statement before new firebaseRecycleOptions return. But I got red line.\r\nThe goal is to check if each group has a child as a requirement. And only retrieve the ones who have it.\r\nAny help would be appreciated.\r\n\r\n","title":"Could I use if (snapShot.hasChild(uid) in firebaseRecycleOptions? I am using Firebase Recycle adapter to retrieve data under node: &quot;Groups&quot;","body":"<pre><code>private void RetrieveAndDisplayGroups() {\n    FirebaseRecyclerOptions&lt;GroupModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;GroupModel&gt;()\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;), new SnapshotParser&lt;GroupModel&gt;() {\n                @NonNull\n                public GroupModel parseSnapshot(@NonNull DataSnapshot snapshot) {\n                    // I tried to use if statment before return.\n                    return new GroupModel(snapshot.child(&quot;groupName&quot;).getValue().toString(), snapshot.child(&quot;groupDescription&quot;).getValue().toString());\n                }\n            }).build();\n    modelAdapter = new GroupModelAdapter(options, getContext());\n    recyclerExploreGroupView.setAdapter(modelAdapter);\n}\n</code></pre>\n<p>So I am making a group chat app.\nIn my app, I want to show the users only the groups they have created.\nIn the database, under node &quot;Groups&quot;, I have all the groups created by all users.</p>\n<p>I am using firebase recycle adapter to retrieve data from firebase real time database.\nI am not familiar with how FirebaseRecycleOptions work. I think it returns a set of the model object I passed.</p>\n<p>I try to use if statement before new firebaseRecycleOptions return. But I got red line.\nThe goal is to check if each group has a child as a requirement. And only retrieve the ones who have it.\nAny help would be appreciated.</p>\n"},{"tags":["java","nlp","opennlp","lemmatization"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1649680985,"post_id":70064477,"comment_id":126930287,"body_markdown":"I do have exactly the same task and the same problem, as written above. I feel you.","body":"I do have exactly the same task and the same problem, as written above. I feel you."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1649681521,"post_id":70064477,"comment_id":126930547,"body_markdown":"Dropped a mail on dev@opennlp.a.o -&gt; https://lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1","body":"Dropped a mail on dev@opennlp.a.o -&gt; <a href=\"https://lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1\" rel=\"nofollow noreferrer\">lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1</a>"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":1,"creation_date":1649686885,"post_id":70064477,"comment_id":126932781,"body_markdown":"https://issues.apache.org/jira/browse/OPENNLP-1366","body":"<a href=\"https://issues.apache.org/jira/browse/OPENNLP-1366\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/OPENNLP-1366</a>"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667138497,"creation_date":1667138497,"answer_id":74253692,"question_id":70064477,"body_markdown":"Recently, I&#39;ve written a patch to cure [OpenNLP-1366][1]. The related PR https://github.com/apache/opennlp/pull/427 documents the problem and solution in detail. \r\n\r\nIn this context, the upcoming OpenNLP version **2.0.1** will bring the cure for the problem reported in the OP. Updating to the aforementioned version will resolve the crashing during writing trained model files. \r\n\r\n*Note:* &lt;br/&gt;\r\nI verified that the patch works with `UD_German-HDT`, `UD_German-GSD`, and other treebanks for the German language.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/OPENNLP-1366","title":"How to handle LemmatizerTrainer &#39;UTFDataFormatException: encoded string too long&#39;?","body":"<p>Recently, I've written a patch to cure <a href=\"https://issues.apache.org/jira/browse/OPENNLP-1366\" rel=\"nofollow noreferrer\">OpenNLP-1366</a>. The related PR <a href=\"https://github.com/apache/opennlp/pull/427\" rel=\"nofollow noreferrer\">https://github.com/apache/opennlp/pull/427</a> documents the problem and solution in detail.</p>\n<p>In this context, the upcoming OpenNLP version <strong>2.0.1</strong> will bring the cure for the problem reported in the OP. Updating to the aforementioned version will resolve the crashing during writing trained model files.</p>\n<p><em>Note:</em> <br/>\nI verified that the patch works with <code>UD_German-HDT</code>, <code>UD_German-GSD</code>, and other treebanks for the German language.</p>\n"}],"owner":{"account_id":14244914,"reputation":1227,"user_id":10290286,"display_name":"wero026"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74253692,"answer_count":1,"score":1,"last_activity_date":1667138714,"creation_date":1637577714,"question_id":70064477,"body_markdown":"I am using Opennlp to train a model for lemmatization of german words. Therefore I use the opennlp cli and the training set of [UD_German-HDT](https://github.com/UniversalDependencies/UD_German-HDT/blob/master/README.md) which can be downloaded [here](https://universaldependencies.org/#download)\r\n\r\nThe training itself works fine (just need a little bit of ram) but the cli fails to write the model because of an `UTFDataFormatException: encoded string too long` exception.\r\n\r\nThe cli command I am using: `opennlp LemmatizerTrainerME.conllu -params params.txt -lang de -model de-lemmatizer.bin -data UD_German-HDT/de_hdt-ud-train.conllu -encoding UTF-8`\r\n\r\nStacktrace:  \r\n```\r\nWriting lemmatizer model ... failed\r\nError during writing model file &#39;de-lemmatizer.bin&#39;\r\nencoded string too long: 383769 bytes\r\njava.io.UTFDataFormatException: encoded string too long: 383769 bytes\r\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:364)\r\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:323)\r\n        at opennlp.tools.ml.maxent.io.BinaryGISModelWriter.writeUTF(BinaryGISModelWriter.java:71)\r\n        at opennlp.tools.ml.maxent.io.GISModelWriter.persist(GISModelWriter.java:97)\r\n        at opennlp.tools.ml.model.GenericModelWriter.persist(GenericModelWriter.java:75)\r\n        at opennlp.tools.util.model.ModelUtil.writeModel(ModelUtil.java:71)\r\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:36)\r\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:29)\r\n        at opennlp.tools.util.model.BaseModel.serialize(BaseModel.java:597)\r\n        at opennlp.tools.cmdline.CmdLineUtil.writeModel(CmdLineUtil.java:182)\r\n        at opennlp.tools.cmdline.lemmatizer.LemmatizerTrainerTool.run(LemmatizerTrainerTool.java:77)\r\n        at opennlp.tools.cmdline.CLI.main(CLI.java:256)\r\n```\r\n\r\nHas somebody encountered this problem and has a solution?","title":"How to handle LemmatizerTrainer &#39;UTFDataFormatException: encoded string too long&#39;?","body":"<p>I am using Opennlp to train a model for lemmatization of german words. Therefore I use the opennlp cli and the training set of <a href=\"https://github.com/UniversalDependencies/UD_German-HDT/blob/master/README.md\" rel=\"nofollow noreferrer\">UD_German-HDT</a> which can be downloaded <a href=\"https://universaldependencies.org/#download\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The training itself works fine (just need a little bit of ram) but the cli fails to write the model because of an <code>UTFDataFormatException: encoded string too long</code> exception.</p>\n<p>The cli command I am using: <code>opennlp LemmatizerTrainerME.conllu -params params.txt -lang de -model de-lemmatizer.bin -data UD_German-HDT/de_hdt-ud-train.conllu -encoding UTF-8</code></p>\n<p>Stacktrace:</p>\n<pre><code>Writing lemmatizer model ... failed\nError during writing model file 'de-lemmatizer.bin'\nencoded string too long: 383769 bytes\njava.io.UTFDataFormatException: encoded string too long: 383769 bytes\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:364)\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:323)\n        at opennlp.tools.ml.maxent.io.BinaryGISModelWriter.writeUTF(BinaryGISModelWriter.java:71)\n        at opennlp.tools.ml.maxent.io.GISModelWriter.persist(GISModelWriter.java:97)\n        at opennlp.tools.ml.model.GenericModelWriter.persist(GenericModelWriter.java:75)\n        at opennlp.tools.util.model.ModelUtil.writeModel(ModelUtil.java:71)\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:36)\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:29)\n        at opennlp.tools.util.model.BaseModel.serialize(BaseModel.java:597)\n        at opennlp.tools.cmdline.CmdLineUtil.writeModel(CmdLineUtil.java:182)\n        at opennlp.tools.cmdline.lemmatizer.LemmatizerTrainerTool.run(LemmatizerTrainerTool.java:77)\n        at opennlp.tools.cmdline.CLI.main(CLI.java:256)\n</code></pre>\n<p>Has somebody encountered this problem and has a solution?</p>\n"},{"tags":["java","json","swift"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1667137813,"post_id":74253493,"comment_id":131094827,"body_markdown":"_different json for the same java parameters_, please rephrase this without any Java references","body":"<i>different json for the same java parameters</i>, please rephrase this without any Java references"},{"owner":{"account_id":56534,"reputation":85043,"user_id":169346,"display_name":"JeremyP"},"score":0,"creation_date":1667138053,"post_id":74253493,"comment_id":131094883,"body_markdown":"Also, an example off the JSON would be useful.","body":"Also, an example off the JSON would be useful."},{"owner":{"account_id":15299369,"reputation":464,"user_id":11038362,"display_name":"Paul Maltsev"},"score":0,"creation_date":1667138104,"post_id":74253493,"comment_id":131094900,"body_markdown":"@JeremyP added json examples","body":"@JeremyP added json examples"},{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1667138222,"post_id":74253493,"comment_id":131094918,"body_markdown":"No there is nothing like that in swift, you need to implement a custom logic for handling different keys like this.","body":"No there is nothing like that in swift, you need to implement a custom logic for handling different keys like this."}],"owner":{"account_id":15299369,"reputation":464,"user_id":11038362,"display_name":"Paul Maltsev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667138068,"creation_date":1667136812,"question_id":74253493,"body_markdown":"I receive different json for the same java parameters.\r\n\r\nIn java we can use alternate and pass all values for the same parameter, how can I do the same in swift?\r\n\r\nOr maybe some best practice for this case?\r\n\r\nThanks.\r\n\r\n\r\n\r\nJson for example:\r\n```\r\n{\r\n\r\n   id: 12345,\r\n   name: &quot;Some name&quot;\r\n\r\n}\r\n\r\n```\r\n```\r\n{\r\n\r\n   Id: 12345,\r\n   Name: &quot;Some name&quot;\r\n\r\n}\r\n```\r\n\r\n```\r\n{\r\n\r\n   someId: 12345,\r\n   someName: &quot;Some name&quot;\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5mvS4.jpg","title":"Java &#39;alternate&#39; analog in swift","body":"<p>I receive different json for the same java parameters.</p>\n<p>In java we can use alternate and pass all values for the same parameter, how can I do the same in swift?</p>\n<p>Or maybe some best practice for this case?</p>\n<p>Thanks.</p>\n<p>Json for example:</p>\n<pre><code>{\n\n   id: 12345,\n   name: &quot;Some name&quot;\n\n}\n\n</code></pre>\n<pre><code>{\n\n   Id: 12345,\n   Name: &quot;Some name&quot;\n\n}\n</code></pre>\n<pre><code>{\n\n   someId: 12345,\n   someName: &quot;Some name&quot;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5mvS4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mvS4.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","consumer"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667136804,"creation_date":1667136804,"answer_id":74253492,"question_id":74252767,"body_markdown":"`Consumer` is an interface. You can implement it as a real class, a named nested class or as lambda.\r\n\r\n### Explicit implementation as class\r\n\r\n```\r\nclass MyWebElementConsumer implements Consumer&lt;WebElement&gt; {\r\n  @Override\r\n  public void accept(final WebElement element) {\r\n    // do something with element\r\n  }\r\n}\r\n\r\nmethodThatAcceptsConsumer(new MyWebElementConsumer());\r\n```\r\n\r\n### Pass a lambda\r\n\r\n```\r\nmethodThatAcceptsConsumer(element -&gt; {/* do something with element */});\r\n```","title":"Java method that accepts Consumer&lt;WebElement&gt; as parameter - how to use it?","body":"<p><code>Consumer</code> is an interface. You can implement it as a real class, a named nested class or as lambda.</p>\n<h3>Explicit implementation as class</h3>\n<pre><code>class MyWebElementConsumer implements Consumer&lt;WebElement&gt; {\n  @Override\n  public void accept(final WebElement element) {\n    // do something with element\n  }\n}\n\nmethodThatAcceptsConsumer(new MyWebElementConsumer());\n</code></pre>\n<h3>Pass a lambda</h3>\n<pre><code>methodThatAcceptsConsumer(element -&gt; {/* do something with element */});\n</code></pre>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74253492,"answer_count":1,"score":-1,"last_activity_date":1667136804,"creation_date":1667130397,"question_id":74252767,"body_markdown":"\r\nIs there any chance and need to use something like below ?\r\n\r\nCould you show examples how to use function thats accepts Consumer WebElement ?\r\n\r\n    \r\n    private static void methodThatAcceptsConsumer (Consumer&lt;WebElement&gt; consumer) {\r\n        //something here\r\n    }","title":"Java method that accepts Consumer&lt;WebElement&gt; as parameter - how to use it?","body":"<p>Is there any chance and need to use something like below ?</p>\n<p>Could you show examples how to use function thats accepts Consumer WebElement ?</p>\n<pre><code>private static void methodThatAcceptsConsumer (Consumer&lt;WebElement&gt; consumer) {\n    //something here\n}\n</code></pre>\n"},{"tags":["java","hdfs","namenode"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667136819,"post_id":74253408,"comment_id":131094646,"body_markdown":"Consider using a different garbage collector. I believe this is entirely expected for CMS with a lot of memory.","body":"Consider using a different garbage collector. I believe this is entirely expected for CMS with a lot of memory."},{"owner":{"account_id":14111294,"reputation":1603,"user_id":10194070,"display_name":"Judy"},"score":0,"creation_date":1667137124,"post_id":74253408,"comment_id":131094698,"body_markdown":"about CMSInitiatingOccupancyFraction and ParallelGCThreads so you are against to increae them ?","body":"about CMSInitiatingOccupancyFraction and ParallelGCThreads so you are against to increae them ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1667141772,"post_id":74253408,"comment_id":131095622,"body_markdown":"What he is saying is that CMS is unlikely to work well ... *no matter what you try to tune it*.  If you want better performance, you should update your cluster to a newer version of Java so that you can get the better of a more modern garbage collector which supports large heaps better.  (And probably you should update the version of Hadoop too.  And maybe even the RHEL version ...)","body":"What he is saying is that CMS is unlikely to work well ... <i>no matter what you try to tune it</i>.  If you want better performance, you should update your cluster to a newer version of Java so that you can get the better of a more modern garbage collector which supports large heaps better.  (And probably you should update the version of Hadoop too.  And maybe even the RHEL version ...)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667142174,"post_id":74253408,"comment_id":131095709,"body_markdown":"I think you should try either G1GC or ZGC.  Note that CMS is deprecated in Java 9 and removed entirely in Java 14 ... which should tell you something.","body":"I think you should try either G1GC or ZGC.  Note that CMS is deprecated in Java 9 and removed entirely in Java 14 ... which should tell you something."}],"owner":{"account_id":14111294,"reputation":1603,"user_id":10194070,"display_name":"Judy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667136654,"creation_date":1667136023,"question_id":74253408,"body_markdown":"We have an old Hadoop cluster based on HDP from Hortonworks version HDP 2.6.4. The cluster includes 2 namenode services where one is the standby namenode and the second is the active namenode. All machines in the cluster are RHEL 7.2 version, and we not see any problem on OS level.\r\n\r\nThe cluster also includes 12 workers machines (workers include the datanode and node manager services, while each worker have 32 cores).\r\n\r\nThe story began when we get alerts from the smoke test script that complains about _&quot;Detected pause in JVM or host machine&quot;_ on the standby namenode. Based on that we decided to increase the namenode heap size from 60G to 100G.\r\n\r\nAbove setting was based on a table that shows how much memory to set according to number of files in HDFS. According to the table we decided to set the namenode heapsize to 100G and then we restarted the HDFS service.\r\n\r\nAfter HDFS is completely restarted, we still see the messages about _&quot;Detected pause in JVM or host machine&quot;_, and this is really strange because we almost twice the namenode heap size.\r\n\r\nSo, we started to perform deeply testing using `jstat`. For example, we get from jsat low very of FGCT that is really good values and not point on namenode heap problem (1837 is the HDFS PID number)\r\n\r\n      # /usr/jdk64/jdk1.8.0_112/bin/jstat -gcutil    1837 10 10\r\n      S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n\r\nAnd here is the messages from namenode logs\r\n\r\n    2022-10-27 14:04:49,728 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2044ms\r\n    2022-10-27 16:21:33,973 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2524ms\r\n    2022-10-27 17:31:35,333 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2444ms\r\n    2022-10-27 18:55:55,387 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2134ms\r\n    2022-10-27 19:42:00,816 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2153ms\r\n    2022-10-27 20:50:23,624 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2050ms\r\n    2022-10-27 21:07:01,240 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2343ms\r\n    2022-10-27 23:53:00,507 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2120ms\r\n    2022-10-28 00:43:30,633 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1811ms\r\n    2022-10-28 00:53:35,120 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2192ms\r\n    2022-10-28 02:07:39,660 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2353ms\r\n    2022-10-28 02:49:25,018 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1698ms\r\n    2022-10-28 03:00:20,592 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2432ms\r\n    2022-10-28 05:02:15,093 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2016ms\r\n    2022-10-28 06:52:46,672 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approxim\r\n\r\nAs we can see each 1-2 hours message about pause in _&quot;JVM or host machine&quot;_ appears.\r\n\r\nWe checked the number of files in HDFS and number of file is 7 million files. \r\n\r\nFrom documentation -   https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html\r\n\r\nwe understand that one option to solve the issue is by tuning - `CMSInitiatingOccupancyFraction`\r\n\r\n `CMSInitiatingOccupancyFraction` , is indeed configured to 70 in our ENV as following \r\n\r\n    export HADOOP_NAMENODE_OPTS=&quot;-Dcom.sun.management.jmxremote -XX:+UseConcMarkSweepGC -XX:ParallelGCThreads=8 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -Xms1G -Xmx1G -XX:NewSize=128M -XX:MaxNewSize=128M -XX:PermSize=128M -XX:MaxPermSize=256M -verbose:gc -Xloggc:/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/gc.log-`date +&#39;%Y%m%d%H%M&#39;` -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:ErrorFile=/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/hs_err_pid%p.log -XX:+HeapDumpOnOutOfMemoryError $HADOOP_NAMENODE_OPTS&quot;\r\n\r\nSo based on that, is it right to increase `CMSInitiatingOccupancyFraction` to `90`? \r\n\r\nAadditionally, from ENV we can see that `ParallelGCThreads=8`, but on each machine we have 32 cores. So, can we increase `ParallelGCThreads` to `32` as the real number of cores? Can it help?","title":"How to tune the CMSInitiatingOccupancyFraction in Hadoop cluster","body":"<p>We have an old Hadoop cluster based on HDP from Hortonworks version HDP 2.6.4. The cluster includes 2 namenode services where one is the standby namenode and the second is the active namenode. All machines in the cluster are RHEL 7.2 version, and we not see any problem on OS level.</p>\n<p>The cluster also includes 12 workers machines (workers include the datanode and node manager services, while each worker have 32 cores).</p>\n<p>The story began when we get alerts from the smoke test script that complains about <em>&quot;Detected pause in JVM or host machine&quot;</em> on the standby namenode. Based on that we decided to increase the namenode heap size from 60G to 100G.</p>\n<p>Above setting was based on a table that shows how much memory to set according to number of files in HDFS. According to the table we decided to set the namenode heapsize to 100G and then we restarted the HDFS service.</p>\n<p>After HDFS is completely restarted, we still see the messages about <em>&quot;Detected pause in JVM or host machine&quot;</em>, and this is really strange because we almost twice the namenode heap size.</p>\n<p>So, we started to perform deeply testing using <code>jstat</code>. For example, we get from jsat low very of FGCT that is really good values and not point on namenode heap problem (1837 is the HDFS PID number)</p>\n<pre><code>  # /usr/jdk64/jdk1.8.0_112/bin/jstat -gcutil    1837 10 10\n  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n</code></pre>\n<p>And here is the messages from namenode logs</p>\n<pre><code>2022-10-27 14:04:49,728 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2044ms\n2022-10-27 16:21:33,973 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2524ms\n2022-10-27 17:31:35,333 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2444ms\n2022-10-27 18:55:55,387 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2134ms\n2022-10-27 19:42:00,816 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2153ms\n2022-10-27 20:50:23,624 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2050ms\n2022-10-27 21:07:01,240 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2343ms\n2022-10-27 23:53:00,507 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2120ms\n2022-10-28 00:43:30,633 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1811ms\n2022-10-28 00:53:35,120 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2192ms\n2022-10-28 02:07:39,660 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2353ms\n2022-10-28 02:49:25,018 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1698ms\n2022-10-28 03:00:20,592 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2432ms\n2022-10-28 05:02:15,093 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2016ms\n2022-10-28 06:52:46,672 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approxim\n</code></pre>\n<p>As we can see each 1-2 hours message about pause in <em>&quot;JVM or host machine&quot;</em> appears.</p>\n<p>We checked the number of files in HDFS and number of file is 7 million files.</p>\n<p>From documentation -   <a href=\"https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html\" rel=\"nofollow noreferrer\">https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html</a></p>\n<p>we understand that one option to solve the issue is by tuning - <code>CMSInitiatingOccupancyFraction</code></p>\n<p><code>CMSInitiatingOccupancyFraction</code> , is indeed configured to 70 in our ENV as following</p>\n<pre><code>export HADOOP_NAMENODE_OPTS=&quot;-Dcom.sun.management.jmxremote -XX:+UseConcMarkSweepGC -XX:ParallelGCThreads=8 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -Xms1G -Xmx1G -XX:NewSize=128M -XX:MaxNewSize=128M -XX:PermSize=128M -XX:MaxPermSize=256M -verbose:gc -Xloggc:/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/gc.log-`date +'%Y%m%d%H%M'` -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:ErrorFile=/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/hs_err_pid%p.log -XX:+HeapDumpOnOutOfMemoryError $HADOOP_NAMENODE_OPTS&quot;\n</code></pre>\n<p>So based on that, is it right to increase <code>CMSInitiatingOccupancyFraction</code> to <code>90</code>?</p>\n<p>Aadditionally, from ENV we can see that <code>ParallelGCThreads=8</code>, but on each machine we have 32 cores. So, can we increase <code>ParallelGCThreads</code> to <code>32</code> as the real number of cores? Can it help?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667118140,"post_id":74251435,"comment_id":131091475,"body_markdown":"Even if you use the keyboard, you’re still inserting escape characters - that’s kind of how text works","body":"Even if you use the keyboard, you’re still inserting escape characters - that’s kind of how text works"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1667122946,"post_id":74251435,"comment_id":131092146,"body_markdown":"What do you mean &quot;break a sring&quot; Can you post a more complete example. Are you asking about word wrap? You can filter and interact with the text area while it is being edited.","body":"What do you mean &quot;break a sring&quot; Can you post a more complete example. Are you asking about word wrap? You can filter and interact with the text area while it is being edited."},{"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"score":0,"creation_date":1667124406,"post_id":74251435,"comment_id":131092374,"body_markdown":"@matt   exactly word wrap!, T,h,,a,n,k,s,  solved my problem by your hint!","body":"@matt   exactly word wrap!, T,h,,a,n,k,s,  solved my problem by your hint!"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667135879,"creation_date":1667135197,"answer_id":74253306,"question_id":74251435,"body_markdown":"Breaking a string onto a newline without actually adding a character is a word wrap.\r\n\r\n[JTextArea](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JTextArea.html#setLineWrap(boolean)) has word wrap.\r\n\r\n    mytextArea.setLineWrap(true);\r\n\r\n","title":"Break string in Javax.Swing.JTextArea without escape characters","body":"<p>Breaking a string onto a newline without actually adding a character is a word wrap.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JTextArea.html#setLineWrap(boolean)\" rel=\"nofollow noreferrer\">JTextArea</a> has word wrap.</p>\n<pre><code>mytextArea.setLineWrap(true);\n</code></pre>\n"}],"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74253306,"answer_count":1,"score":0,"last_activity_date":1667135879,"creation_date":1667117485,"question_id":74251435,"body_markdown":"Is there a way to automatically break a string entered into `JTextArea` (in package `javax.swing`), for example via the keyboard, into a readable form, without the need for escape characters, i.e. `\\n` and `\\r` ?\r\n\r\nEdit2: \r\n\r\nWith the help of @matt, I realized that the correct question is about word warp and therefore the answer is the answer function\r\n\r\n    mytextArea.setLineWrap(true);\r\n","title":"Break string in Javax.Swing.JTextArea without escape characters","body":"<p>Is there a way to automatically break a string entered into <code>JTextArea</code> (in package <code>javax.swing</code>), for example via the keyboard, into a readable form, without the need for escape characters, i.e. <code>\\n</code> and <code>\\r</code> ?</p>\n<p>Edit2:</p>\n<p>With the help of @matt, I realized that the correct question is about word warp and therefore the answer is the answer function</p>\n<pre><code>mytextArea.setLineWrap(true);\n</code></pre>\n"},{"tags":["java","eclipse","spring"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":3,"creation_date":1338181961,"post_id":10779621,"comment_id":14018739,"body_markdown":"Did you include the jar, as well as the source? That&#39;s what really matters.","body":"Did you include the jar, as well as the source? That&#39;s what really matters."},{"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"score":0,"creation_date":1338184829,"post_id":10779621,"comment_id":14019304,"body_markdown":"It isn&#39;t spring&#39;s problem that you can&#39;t import their classes in eclipse. Include the jars in your project and then restart eclipse. I suggest reading Spring in Action 3.0. Were you getting any compile errors when you manually import the two classes?","body":"It isn&#39;t spring&#39;s problem that you can&#39;t import their classes in eclipse. Include the jars in your project and then restart eclipse. I suggest reading Spring in Action 3.0. Were you getting any compile errors when you manually import the two classes?"},{"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"score":0,"creation_date":1338187435,"post_id":10779621,"comment_id":14019903,"body_markdown":"@PaulBellora yes i did include the jars file and even restarted but to no avail","body":"@PaulBellora yes i did include the jars file and even restarted but to no avail"},{"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"score":0,"creation_date":1338187595,"post_id":10779621,"comment_id":14019936,"body_markdown":"@VarunAchar yes i did get compile errors","body":"@VarunAchar yes i did get compile errors"},{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1338193855,"post_id":10779621,"comment_id":14021487,"body_markdown":"@sameer, I had similar problems some time ago. I decided it wasn&#39;t worth the bother to fiddle with it all and installed the SpringSource Tool Suite.","body":"@sameer, I had similar problems some time ago. I decided it wasn&#39;t worth the bother to fiddle with it all and installed the SpringSource Tool Suite."}],"answers":[{"comments":[{"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"score":0,"creation_date":1338212229,"post_id":10781580,"comment_id":14027514,"body_markdown":"yes, i agree.. but is the lib folder still on the build path? It could&#39;ve been removed from the build path","body":"yes, i agree.. but is the lib folder still on the build path? It could&#39;ve been removed from the build path"}],"tags":[],"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338193898,"creation_date":1338193898,"answer_id":10781580,"question_id":10779621,"body_markdown":"Based on comments:\r\n\r\nYour jars haven&#39;t been included in the classpath. Hence you&#39;re getting the compilation errors.\r\n\r\n 1. Go to project explorer perspective in eclipse \r\n 2. right click on lib folder &gt; Build path &gt; Add to build path.\r\n\r\nThis will include all jars inside the lib folder to your classpath and you won&#39;t get any compilation errors.\r\n\r\nBy the way. These classes are part of spring-context jar so make sure that&#39;s in the lib folder.\r\n\r\n\r\n\r\n","title":"Spring: cannot import library","body":"<p>Based on comments:</p>\n\n<p>Your jars haven't been included in the classpath. Hence you're getting the compilation errors.</p>\n\n<ol>\n<li>Go to project explorer perspective in eclipse </li>\n<li>right click on lib folder > Build path > Add to build path.</li>\n</ol>\n\n<p>This will include all jars inside the lib folder to your classpath and you won't get any compilation errors.</p>\n\n<p>By the way. These classes are part of spring-context jar so make sure that's in the lib folder.</p>\n"},{"tags":[],"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1338471951,"creation_date":1338471951,"answer_id":10834916,"question_id":10779621,"body_markdown":"Finally got it.  My mistake, i was using jars from the src folder and making it as a user library but the correct way is to use the jars from the **dist** folder.\r\n\r\nThank you guys for your answers. :)","title":"Spring: cannot import library","body":"<p>Finally got it.  My mistake, i was using jars from the src folder and making it as a user library but the correct way is to use the jars from the <strong>dist</strong> folder.</p>\n\n<p>Thank you guys for your answers. :)</p>\n"},{"tags":[],"owner":{"account_id":6200938,"reputation":1,"user_id":4830754,"display_name":"sada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429927592,"creation_date":1429927368,"answer_id":29860158,"question_id":10779621,"body_markdown":"Update dependency in your pom.xml file, as below:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring: cannot import library","body":"<p>Update dependency in your pom.xml file, as below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22907564,"reputation":11,"user_id":17204105,"display_name":"PKP_Speeder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634783308,"creation_date":1634750169,"answer_id":69650405,"question_id":10779621,"body_markdown":"Add the dependency of spring-context.\r\nFor gradle project.\r\n\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;, version: &#39;5.3.6&#39;\r\n\r\nthis solved the issue for me.\r\n\r\n","title":"Spring: cannot import library","body":"<p>Add the dependency of spring-context.\nFor gradle project.</p>\n<pre><code>implementation group: 'org.springframework', name: 'spring-context', version: '5.3.6'\n</code></pre>\n<p>this solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":20699445,"reputation":1,"user_id":15198891,"display_name":"Kshithi Holla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667135694,"creation_date":1666785918,"answer_id":74207461,"question_id":10779621,"body_markdown":"Delete `module-info.java` file. It worked for me.","title":"Spring: cannot import library","body":"<p>Delete <code>module-info.java</code> file. It worked for me.</p>\n"}],"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21554,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10834916,"answer_count":5,"score":2,"last_activity_date":1667135694,"creation_date":1338181895,"question_id":10779621,"body_markdown":"i am new to Spring and went out to learn Spring tutorials from [here](http://www.mkyong.com/tutorials/spring-tutorials/ ) using Eclipse.\r\n\r\nBut, in Eclipse i cannot import these two libraries\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    \r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\nI even downloaded the Spring source files from the Spring site, included it in the system library, added it in my project and also in the lib folder of my project but no in vain.\r\n\r\nCan you help me out to know where exactly is the problem and suggest me some good Spring tutorials sites please.\r\n\r\nThank you all\r\n\r\n **EDIT** \r\n\r\nHere is the exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tApplicationContext cannot be resolved to a type\r\n    \tClassPathApplicationContext cannot be resolved to a type\r\n    \r\n    \tat com.test.App.main(App.java:12)","title":"Spring: cannot import library","body":"<p>i am new to Spring and went out to learn Spring tutorials from <a href=\"http://www.mkyong.com/tutorials/spring-tutorials/\" rel=\"nofollow\">here</a> using Eclipse.</p>\n\n<p>But, in Eclipse i cannot import these two libraries</p>\n\n<pre><code>import org.springframework.context.ApplicationContext;\n\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n</code></pre>\n\n<p>I even downloaded the Spring source files from the Spring site, included it in the system library, added it in my project and also in the lib folder of my project but no in vain.</p>\n\n<p>Can you help me out to know where exactly is the problem and suggest me some good Spring tutorials sites please.</p>\n\n<p>Thank you all</p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>Here is the exception</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problems: \n    ApplicationContext cannot be resolved to a type\n    ClassPathApplicationContext cannot be resolved to a type\n\n    at com.test.App.main(App.java:12)\n</code></pre>\n"},{"tags":["java","javafx","event-handling"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666922105,"post_id":74227290,"comment_id":131054908,"body_markdown":"What is the initial state of the game? Set every variable and node back to it&#39;s initial state.","body":"What is the initial state of the game? Set every variable and node back to it&#39;s initial state."},{"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"score":0,"creation_date":1667087204,"post_id":74227290,"comment_id":131088222,"body_markdown":"If I do that, it will start a new game, not the game that was previously started. Thanks though!","body":"If I do that, it will start a new game, not the game that was previously started. Thanks though!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667089439,"post_id":74227290,"comment_id":131088479,"body_markdown":"At the start of a game, save the current state. Use that saved state to reset the game.","body":"At the start of a game, save the current state. Use that saved state to reset the game."},{"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"score":0,"creation_date":1667242707,"post_id":74227290,"comment_id":131119586,"body_markdown":"I tried saving the game variable to a new variable and making it final, then calling that in the restart button, but that still won&#39;t restart the game, rather it doesn&#39;t do anything. Maybe I am doing what you&#39;re saying incorrectly. Sorry super new to JavaFX!","body":"I tried saving the game variable to a new variable and making it final, then calling that in the restart button, but that still won&#39;t restart the game, rather it doesn&#39;t do anything. Maybe I am doing what you&#39;re saying incorrectly. Sorry super new to JavaFX!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667244294,"post_id":74227290,"comment_id":131120029,"body_markdown":"My guess is that this copying issue. See if Cloning or Deep Copy will work. https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java","body":"My guess is that this copying issue. See if Cloning or Deep Copy will work. <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\" title=\"how do i copy an object in java\">stackoverflow.com/questions/869033/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667244361,"post_id":74227290,"comment_id":131120046,"body_markdown":"https://stackoverflow.com/questions/27103443/what-is-the-difference-between-cloning-the-object-with-clone-method-and-sig","body":"<a href=\"https://stackoverflow.com/questions/27103443/what-is-the-difference-between-cloning-the-object-with-clone-method-and-sig\" title=\"what is the difference between cloning the object with clone method and sig\">stackoverflow.com/questions/27103443/&hellip;</a>"}],"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667135574,"creation_date":1666898607,"question_id":74227290,"body_markdown":"I am creating a Solitaire game using JavaFX. I want a &lt;kbd&gt;Restart&lt;/kbd&gt; button to start a new game, but also a &lt;kbd&gt;Reset&lt;/kbd&gt; button that will restart the same game i.e. **the same scene to its original state**.\r\n\r\n&lt;kbd&gt;Restart&lt;/kbd&gt; works seamlessly as I was able to call the `start` method but I am unable to get &lt;kbd&gt;Reset&lt;/kbd&gt; working. \r\n\r\n```\r\npackage guisolitaire;\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class GUISolitaire extends Application {\r\n\tGame game;\r\n\tPane root;\r\n\tScoreTimer timer = new ScoreTimer();\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\tCanvas canvas = new Canvas(1000, 800);\r\n\r\n\t\troot = new Pane(canvas);\r\n\t\troot.setStyle(&quot;-fx-background-color: green&quot;);\r\n\r\n\t\tgame = new Game(canvas.getGraphicsContext2D());\r\n\t\tcanvas.setOnMouseClicked(game::handleMouseClicked);\r\n\r\n\t\ttimer.restart();\r\n\t\ttimer.start();\r\n\r\n\t\tScene scene = new Scene(root, Color.GREEN);\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.setTitle(&quot;Solitaire&quot;);\r\n\t\tprimaryStage.show();\r\n\r\n\t\tLabel l = new Label(); // Timer label\r\n\t\tTimeline timeline = new Timeline( \r\n\t\t\tnew KeyFrame(Duration.ZERO, ae -&gt; l.setText(&quot;Time elapsed: &quot; + timer.s)),\r\n\t\t\tnew KeyFrame(Duration.seconds(1))\r\n\t\t);\r\n\r\n\t\ttimeline.setCycleCount(Timeline.INDEFINITE);\r\n\t\ttimeline.play();\r\n\t\t\t\t\r\n\t\tl.setTranslateX(800);\r\n\t\tl.setTranslateY(765);\r\n\t\troot.getChildren().add(l); \r\n\r\n\t\tButton newGameButton = new Button();\r\n\t\tnewGameButton.setText(&quot;New Game&quot;);\r\n\t\tnewGameButton.setTranslateX(10);\r\n\t\tnewGameButton.setTranslateY(765);\r\n\t\troot.getChildren().add(newGameButton);\r\n\r\n\t\tEventHandler&lt;ActionEvent&gt; newGameEvent = ae -&gt; {\r\n\t\t\ttimer.stop();\r\n\t\t\ttimer.restart();\r\n\t\t\tstart(primaryStage);\r\n\t\t};\r\n\r\n\t\tnewGameButton.setOnAction(newGameEvent);\r\n\r\n\t\tButton restart = new Button();\r\n\t\trestart.setText(&quot;Restart&quot;);\r\n\t\trestart.setTranslateX(100);\r\n\t\trestart.setTranslateY(765);\r\n\t\troot.getChildren().add(restart);\r\n\r\n\t\tEventHandler&lt;ActionEvent&gt; resetGameEvent = ae -&gt; {\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t\ttimer.stop();\r\n\t\t\ttimer.restart();\r\n\t\t};\r\n\r\n\t\trestart.setOnAction(resetGameEvent);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nI have tried to reset `primaryStage` with the same scene and call the `show` method but that does not restart the game, it does not do anything. \r\n\r\nAny ideas on how this may be able to be implemented?  ","title":"How to reload the scene to its original state","body":"<p>I am creating a Solitaire game using JavaFX. I want a <kbd>Restart</kbd> button to start a new game, but also a <kbd>Reset</kbd> button that will restart the same game i.e. <strong>the same scene to its original state</strong>.</p>\n<p><kbd>Restart</kbd> works seamlessly as I was able to call the <code>start</code> method but I am unable to get <kbd>Reset</kbd> working.</p>\n<pre><code>package guisolitaire;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class GUISolitaire extends Application {\n    Game game;\n    Pane root;\n    ScoreTimer timer = new ScoreTimer();\n    \n    @Override\n    public void start(Stage primaryStage) {\n        Canvas canvas = new Canvas(1000, 800);\n\n        root = new Pane(canvas);\n        root.setStyle(&quot;-fx-background-color: green&quot;);\n\n        game = new Game(canvas.getGraphicsContext2D());\n        canvas.setOnMouseClicked(game::handleMouseClicked);\n\n        timer.restart();\n        timer.start();\n\n        Scene scene = new Scene(root, Color.GREEN);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Solitaire&quot;);\n        primaryStage.show();\n\n        Label l = new Label(); // Timer label\n        Timeline timeline = new Timeline( \n            new KeyFrame(Duration.ZERO, ae -&gt; l.setText(&quot;Time elapsed: &quot; + timer.s)),\n            new KeyFrame(Duration.seconds(1))\n        );\n\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n                \n        l.setTranslateX(800);\n        l.setTranslateY(765);\n        root.getChildren().add(l); \n\n        Button newGameButton = new Button();\n        newGameButton.setText(&quot;New Game&quot;);\n        newGameButton.setTranslateX(10);\n        newGameButton.setTranslateY(765);\n        root.getChildren().add(newGameButton);\n\n        EventHandler&lt;ActionEvent&gt; newGameEvent = ae -&gt; {\n            timer.stop();\n            timer.restart();\n            start(primaryStage);\n        };\n\n        newGameButton.setOnAction(newGameEvent);\n\n        Button restart = new Button();\n        restart.setText(&quot;Restart&quot;);\n        restart.setTranslateX(100);\n        restart.setTranslateY(765);\n        root.getChildren().add(restart);\n\n        EventHandler&lt;ActionEvent&gt; resetGameEvent = ae -&gt; {\n            primaryStage.setScene(scene);\n            primaryStage.show();\n            timer.stop();\n            timer.restart();\n        };\n\n        restart.setOnAction(resetGameEvent);\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I have tried to reset <code>primaryStage</code> with the same scene and call the <code>show</code> method but that does not restart the game, it does not do anything.</p>\n<p>Any ideas on how this may be able to be implemented?</p>\n"},{"tags":["java","rest","spring-boot","autowired","openfeign"],"comments":[{"owner":{"account_id":3488442,"reputation":87,"user_id":2918698,"accept_rate":90,"display_name":"9900kf"},"score":0,"creation_date":1692537087,"post_id":59082023,"comment_id":135634095,"body_markdown":"maybe try adding package name where feignclient is located in basepackages field of @enablefeignclients; and do mvn install","body":"maybe try adding package name where feignclient is located in basepackages field of @enablefeignclients; and do mvn install"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574921242,"creation_date":1574921242,"answer_id":59082678,"question_id":59082023,"body_markdown":"A couple of points that might help:\r\n\r\nFirst off:\r\nWhy do you use a qualifier to inject the `LegacyClient` bean into your service? Are there many? In general an interface should be wrapped into proxy and put as a single bean into the Application Context, so in my understanding Qualifier is not required here.\r\n\r\n\r\nAnother concern:\r\n\r\nIt looks like the `@FeignClient` annotation is not processed. Therefore the proxy is not created. In order to check this, place a breakpoint into the configuration `FeignConfig` some of beans / create a no-op constructor and check that it gets called at all (or mayble place log message just to see it works).\r\n\r\nYou haven&#39;t posted the package structure but it&#39;s possible that this configuration is not found by the package scanning mechanism and therefore is not created.","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>A couple of points that might help:</p>\n\n<p>First off:\nWhy do you use a qualifier to inject the <code>LegacyClient</code> bean into your service? Are there many? In general an interface should be wrapped into proxy and put as a single bean into the Application Context, so in my understanding Qualifier is not required here.</p>\n\n<p>Another concern:</p>\n\n<p>It looks like the <code>@FeignClient</code> annotation is not processed. Therefore the proxy is not created. In order to check this, place a breakpoint into the configuration <code>FeignConfig</code> some of beans / create a no-op constructor and check that it gets called at all (or mayble place log message just to see it works).</p>\n\n<p>You haven't posted the package structure but it's possible that this configuration is not found by the package scanning mechanism and therefore is not created.</p>\n"},{"tags":[],"owner":{"account_id":7356571,"reputation":1,"user_id":5601122,"display_name":"Amador"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574949810,"creation_date":1574949810,"answer_id":59090639,"question_id":59082023,"body_markdown":"first of all thank you for your reply.\r\n\r\nI answered your first question, \r\nYeah, it&#39;s just a habit. I can eliminate that without problems. There are no more Beans that occupy that same interface. It&#39;s not a problem.\r\n\r\nResponding to your second comment, you are absolutely right.\r\n\r\nAdd a builder to the FeignConfig configuration class. Add a log and a breakpoint and don&#39;t stop there.\r\n\r\nAttached a ss with the package structure, to see if you can help me detect my problem.\r\n\r\n\r\n[project package structure][1]\r\n\r\n - In ms.config package, I have the FeignConfig configuration class\r\n - In rest.client package, I have all the interfaces Feign Client\r\n - In the ms package is the main class with the notation SpringBootApplication\r\n - In ms.p2.structure package is the class that call the feign client.\r\n\r\n\r\n\r\n\r\n\r\nThank you very much in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DPXLY.png","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>first of all thank you for your reply.</p>\n\n<p>I answered your first question, \nYeah, it's just a habit. I can eliminate that without problems. There are no more Beans that occupy that same interface. It's not a problem.</p>\n\n<p>Responding to your second comment, you are absolutely right.</p>\n\n<p>Add a builder to the FeignConfig configuration class. Add a log and a breakpoint and don't stop there.</p>\n\n<p>Attached a ss with the package structure, to see if you can help me detect my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DPXLY.png\" rel=\"nofollow noreferrer\">project package structure</a></p>\n\n<ul>\n<li>In ms.config package, I have the FeignConfig configuration class</li>\n<li>In rest.client package, I have all the interfaces Feign Client</li>\n<li>In the ms package is the main class with the notation SpringBootApplication</li>\n<li>In ms.p2.structure package is the class that call the feign client.</li>\n</ul>\n\n<p>Thank you very much in advance.</p>\n"},{"tags":[],"owner":{"account_id":20582418,"reputation":19,"user_id":15108167,"display_name":"Sergey"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1667135190,"creation_date":1666823975,"answer_id":74214959,"question_id":59082023,"body_markdown":"```java\r\n@SpringBootApplication\r\n\r\n@EnableFeignClients\r\n\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n\n@EnableFeignClients\n\npublic class Application {\n    public static void main(String[] args) {\n\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7356571,"reputation":1,"user_id":5601122,"display_name":"Amador"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667135190,"creation_date":1574917313,"question_id":59082023,"body_markdown":"I have a problem with spring and openfeign in which I think you can help me.\r\n\r\nI have a pom file as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;xx.yyy&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;component&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;component&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n\t\t&lt;pact.version&gt;3.6.7&lt;/pact.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Greenwich.SR4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n......\r\n&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n......\r\n```\r\nI have declared in the main class the following configurations:\r\n```java\r\n@SpringBootApplication(scanBasePackages = {&quot;xx.yyy&quot;, &quot;xx.yyy.rest.client&quot;}, exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n@EnableAsync\r\n@Import({P2OrchestratorApplicationConfig.class})\r\npublic class P2OrchestratorApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(P2OrchestratorApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nI have a custom feign configuration class:\r\n\r\n```\r\n@Configuration\r\n@EnableFeignClients()\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\npublic class FeignConfig {\r\n\r\n\t@Bean\r\n\tpublic OkHttpClient client() {\r\n\t\treturn new OkHttpClient();\r\n\t}\r\n\t\r\n\t@Bean\r\n    public Logger.Level feignLoggerLevel() {\r\n        return Logger.Level.FULL;\r\n    }\r\n\t\r\n\t@Bean\r\n    public Contract feignContract() {\r\n        return new feign.Contract.Default();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have a open feign client as follow:\r\n```\r\n@FeignClient(name=&quot;legacyClient&quot;, value = &quot;legacyClient&quot;, url = &quot;${uri.microservice.legacy}&quot;, configuration = FeignConfig.class)\r\npublic interface LegacyClient {\r\n\t\r\n\t@PatchMapping(value = &quot;/legacy/xxx/cleanLine/{authorizationCode}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n\tpublic ResponseEntity&lt;Boolean&gt; cleanLine(@PathVariable(&quot;authorizationCode&quot;) Long authorizationCode, @RequestParam(required = true) Long lineNumber);\r\n\t\r\n\r\n}\r\n```\r\n\r\nand finally a Component in which I need to use this client:\r\n\r\n```\r\n@Log4j\r\n@Component(&quot;p2ProcessAlgorithm&quot;)\r\npublic class P2ProcessAlgorithm {\r\n\r\n@Autowired\r\n@Qualifier(&quot;legacyClient&quot;)\r\nprivate LegacyClient legacyClient;\r\n\r\npublic final void process(){\r\n\r\nLong authorizationCode = 123L;\r\nLong lineNumber = 1L;\r\nBoolean isClean= this.legacClient.cleanLine(authorizationCode, lineNumber);\r\n......\r\n}\r\n```\r\n\r\nBut the app give me the next message:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField legacyClient in xxx.yyy.p2.structure.P2ProcessAlgorithm required a bean of type &#39;xxx.yyy.rest.client.LegacyClient&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\t- @org.springframework.beans.factory.annotation.Qualifier(value=p2AsyncOrchestratorService)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;xxx.yyy.rest.client.LegacyClient&#39; in your configuration.\r\n```\r\n\r\n\r\nI&#39;ve tried several configurations but I can&#39;t get the openfeign client to be a recognized bean in the P2ProcessAlgorithm class.\r\n\r\nDo you have any idea?\r\n\r\nThanks in advance","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>I have a problem with spring and openfeign in which I think you can help me.</p>\n<p>I have a pom file as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xx.yyy&lt;/groupId&gt;\n    &lt;artifactId&gt;component&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;component&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;pact.version&gt;3.6.7&lt;/pact.version&gt;\n        &lt;spring-cloud.version&gt;Greenwich.SR4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.10.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n......\n&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n......\n</code></pre>\n<p>I have declared in the main class the following configurations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = {&quot;xx.yyy&quot;, &quot;xx.yyy.rest.client&quot;}, exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n@EnableAsync\n@Import({P2OrchestratorApplicationConfig.class})\npublic class P2OrchestratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(P2OrchestratorApplication.class, args);\n    }\n}\n</code></pre>\n<p>I have a custom feign configuration class:</p>\n<pre><code>@Configuration\n@EnableFeignClients()\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\npublic class FeignConfig {\n\n    @Bean\n    public OkHttpClient client() {\n        return new OkHttpClient();\n    }\n    \n    @Bean\n    public Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n    \n    @Bean\n    public Contract feignContract() {\n        return new feign.Contract.Default();\n    }\n}\n</code></pre>\n<p>I have a open feign client as follow:</p>\n<pre><code>@FeignClient(name=&quot;legacyClient&quot;, value = &quot;legacyClient&quot;, url = &quot;${uri.microservice.legacy}&quot;, configuration = FeignConfig.class)\npublic interface LegacyClient {\n    \n    @PatchMapping(value = &quot;/legacy/xxx/cleanLine/{authorizationCode}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\n    public ResponseEntity&lt;Boolean&gt; cleanLine(@PathVariable(&quot;authorizationCode&quot;) Long authorizationCode, @RequestParam(required = true) Long lineNumber);\n    \n\n}\n</code></pre>\n<p>and finally a Component in which I need to use this client:</p>\n<pre><code>@Log4j\n@Component(&quot;p2ProcessAlgorithm&quot;)\npublic class P2ProcessAlgorithm {\n\n@Autowired\n@Qualifier(&quot;legacyClient&quot;)\nprivate LegacyClient legacyClient;\n\npublic final void process(){\n\nLong authorizationCode = 123L;\nLong lineNumber = 1L;\nBoolean isClean= this.legacClient.cleanLine(authorizationCode, lineNumber);\n......\n}\n</code></pre>\n<p>But the app give me the next message:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField legacyClient in xxx.yyy.p2.structure.P2ProcessAlgorithm required a bean of type 'xxx.yyy.rest.client.LegacyClient' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    - @org.springframework.beans.factory.annotation.Qualifier(value=p2AsyncOrchestratorService)\n\n\nAction:\n\nConsider defining a bean of type 'xxx.yyy.rest.client.LegacyClient' in your configuration.\n</code></pre>\n<p>I've tried several configurations but I can't get the openfeign client to be a recognized bean in the P2ProcessAlgorithm class.</p>\n<p>Do you have any idea?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","fonts"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1543409469,"post_id":53519821,"comment_id":93908323,"body_markdown":"What Java version are you on?","body":"What Java version are you on?"},{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1543409573,"post_id":53519821,"comment_id":93908396,"body_markdown":"I&#39;m on Java 1.8.0_192. I can&#39;t use newer versions because I&#39;m targetting 32-bit system. Of cource I don&#39;t like 32-bit too,","body":"I&#39;m on Java 1.8.0_192. I can&#39;t use newer versions because I&#39;m targetting 32-bit system. Of cource I don&#39;t like 32-bit too,"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1543614590,"post_id":53519821,"comment_id":93996611,"body_markdown":"Can you show a [mcve]? Not just to help us, but also to help you.","body":"Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Not just to help us, but also to help you."},{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1543711728,"post_id":53519821,"comment_id":94017026,"body_markdown":"Font baseFont = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/Noto.otf&quot;));\n            Font noto = baseFont.deriveFont(Font.PLAIN, 10);\n            System.out.println(noto);","body":"Font baseFont = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/Noto.otf&quot;));             Font noto = baseFont.deriveFont(Font.PLAIN, 10);             System.out.println(noto);"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1543915335,"post_id":53519821,"comment_id":94080133,"body_markdown":"Which is similar to my second example (except in this snippet you don&#39;t gather the metrics). **a)** What hardware spec do you have (CPU, RAM, HDD/SDD, OS)? **b)** From where did you get the `Noto.otf`? Have you tried with the version I mention in my examples? If so, could you notice a difference?","body":"Which is similar to my second example (except in this snippet you don&#39;t gather the metrics). <b>a)</b> What hardware spec do you have (CPU, RAM, HDD/SDD, OS)? <b>b)</b> From where did you get the <code>Noto.otf</code>? Have you tried with the version I mention in my examples? If so, could you notice a difference?"}],"answers":[{"comments":[{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1543473544,"post_id":53521695,"comment_id":93934079,"body_markdown":"otf file is resource file and inside jar file. I must use Font.createFont to get Font instance from InputStream. And this delay occured while getting FontMetrics with JComponent.getFontMetrics method","body":"otf file is resource file and inside jar file. I must use Font.createFont to get Font instance from InputStream. And this delay occured while getting FontMetrics with JComponent.getFontMetrics method"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1543477274,"post_id":53521695,"comment_id":93935624,"body_markdown":"@dhkim0800 I added another example. To read the font from the Jar and to print the font metrics. Now it takes around 3 secs. As I said you should provide more information. e.g a snippet which can be used to reproduce your issue, about your system, ...","body":"@dhkim0800 I added another example. To read the font from the Jar and to print the font metrics. Now it takes around 3 secs. As I said you should provide more information. e.g a snippet which can be used to reproduce your issue, about your system, ..."},{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1544006838,"post_id":53521695,"comment_id":94120426,"body_markdown":"I&#39;m windows user. I don&#39;t have time command. I&#39;ll try your code with system.currentTimeMillis()","body":"I&#39;m windows user. I don&#39;t have time command. I&#39;ll try your code with system.currentTimeMillis()"}],"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543477139,"creation_date":1543415243,"answer_id":53521695,"question_id":53519821,"body_markdown":"Maybe you should provide step by step instructions to reproduce your issue.\r\n\r\nI did following on my system.\r\n\r\n - install font file `NotoSansCJKjp-Regular.otf` from [NotoSansCJKjp-hinted.zip](https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJKjp-hinted.zip)\r\n - compile the example code\r\n\r\n        $ javac NotoFont.java\r\n - run the compiled code\r\n\r\n        $ time java NotoFont\r\n\r\nThe execution takes less than a second on my system.\r\n\r\noutput of the above run\r\n\r\n    java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\r\n\r\n    real    0m0.522s\r\n    user    0m0.565s\r\n    sys     0m0.056s\r\n\r\n\r\n**NotoFont.java**\r\n\r\n    import java.awt.Font;\r\n    class NotoFont {\r\n        public static void main(String[] args) {\r\n            Font noto = new Font(&quot;Noto Sans CJK JP Regular&quot;, Font.PLAIN, 10);\r\n            System.out.println(noto);\r\n        }\r\n    }\r\n\r\n**edit** An example to read the font file from inside the Jar. The font is not installed on the system.\r\n\r\nAssume following structure.\r\n\r\n    build/fonts/NotoSansCJKjp-Regular.otf\r\n    dist/\r\n    NotoFont.java\r\n\r\n**NotoFont.java**\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.swing.*;\r\n    class NotoFont {\r\n        private void run() throws FontFormatException, IOException {\r\n            try (InputStream is = this.getClass().getResourceAsStream(&quot;/fonts/NotoSansCJKjp-Regular.otf&quot;)) {\r\n                Font baseFont = Font.createFont(Font.TRUETYPE_FONT, is);\r\n                Font noto = baseFont.deriveFont(Font.PLAIN, 10);\r\n                System.out.println(noto);\r\n                FontMetrics metrics = new JPanel().getFontMetrics(noto);\r\n                System.out.println(metrics);\r\n            }\r\n        }\r\n        public static void main(String[] args) throws FontFormatException, IOException {\r\n            new NotoFont().run();\r\n        }\r\n    }\r\n\r\n - compile the code\r\n\r\n        $ javac -d build/ NotoFont.java\r\n - create the Jar\r\n\r\n        $ jar cf dist/notofont.jar -C build/ .\r\n - check the Jar content\r\n\r\n        $ cd dist/\r\n        $ jar tf notofont.jar\r\n        META-INF/\r\n        META-INF/MANIFEST.MF\r\n        NotoFont.class\r\n        fonts/\r\n        fonts/NotoSansCJKjp-Regular.otf\r\n - run the code\r\n\r\n        $ time java -cp notofont.jar NotoFont\r\n    \r\noutput of above run\r\n\r\n    java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\r\n    sun.font.FontDesignMetrics[font=java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]ascent=9, descent=3, height=12]\r\n    real 3.02\r\n    user 2.11\r\n    sys 0.84\r\n\r\n","title":"Java takes too long time to initialize large OpenType fonts","body":"<p>Maybe you should provide step by step instructions to reproduce your issue.</p>\n\n<p>I did following on my system.</p>\n\n<ul>\n<li>install font file <code>NotoSansCJKjp-Regular.otf</code> from <a href=\"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJKjp-hinted.zip\" rel=\"nofollow noreferrer\">NotoSansCJKjp-hinted.zip</a></li>\n<li><p>compile the example code</p>\n\n<pre><code>$ javac NotoFont.java\n</code></pre></li>\n<li><p>run the compiled code</p>\n\n<pre><code>$ time java NotoFont\n</code></pre></li>\n</ul>\n\n<p>The execution takes less than a second on my system.</p>\n\n<p>output of the above run</p>\n\n<pre><code>java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\n\nreal    0m0.522s\nuser    0m0.565s\nsys     0m0.056s\n</code></pre>\n\n<p><strong>NotoFont.java</strong></p>\n\n<pre><code>import java.awt.Font;\nclass NotoFont {\n    public static void main(String[] args) {\n        Font noto = new Font(\"Noto Sans CJK JP Regular\", Font.PLAIN, 10);\n        System.out.println(noto);\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong> An example to read the font file from inside the Jar. The font is not installed on the system.</p>\n\n<p>Assume following structure.</p>\n\n<pre><code>build/fonts/NotoSansCJKjp-Regular.otf\ndist/\nNotoFont.java\n</code></pre>\n\n<p><strong>NotoFont.java</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.swing.*;\nclass NotoFont {\n    private void run() throws FontFormatException, IOException {\n        try (InputStream is = this.getClass().getResourceAsStream(\"/fonts/NotoSansCJKjp-Regular.otf\")) {\n            Font baseFont = Font.createFont(Font.TRUETYPE_FONT, is);\n            Font noto = baseFont.deriveFont(Font.PLAIN, 10);\n            System.out.println(noto);\n            FontMetrics metrics = new JPanel().getFontMetrics(noto);\n            System.out.println(metrics);\n        }\n    }\n    public static void main(String[] args) throws FontFormatException, IOException {\n        new NotoFont().run();\n    }\n}\n</code></pre>\n\n<ul>\n<li><p>compile the code</p>\n\n<pre><code>$ javac -d build/ NotoFont.java\n</code></pre></li>\n<li><p>create the Jar</p>\n\n<pre><code>$ jar cf dist/notofont.jar -C build/ .\n</code></pre></li>\n<li><p>check the Jar content</p>\n\n<pre><code>$ cd dist/\n$ jar tf notofont.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nNotoFont.class\nfonts/\nfonts/NotoSansCJKjp-Regular.otf\n</code></pre></li>\n<li><p>run the code</p>\n\n<pre><code>$ time java -cp notofont.jar NotoFont\n</code></pre></li>\n</ul>\n\n<p>output of above run</p>\n\n<pre><code>java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\nsun.font.FontDesignMetrics[font=java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]ascent=9, descent=3, height=12]\nreal 3.02\nuser 2.11\nsys 0.84\n</code></pre>\n"}],"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667135062,"creation_date":1543409152,"question_id":53519821,"body_markdown":"I must use Noto Sans CJK font in my application.\r\nBut when I call the method below It takes 10 seconds to initialize.\r\n\r\n    Font font = //Noto Sans CJK font\r\n    JComponent.getFontMetrics(An instance of Noto Sans CJK font);\r\n\r\nCan I fix this delay problem? The code can be complicated if the method can help fixing this problem(Like implementing FontMetrics, I don&#39;t know how).\r\n\r\nPlease don&#39;t recommend me convert otf font to ttf font. I couldn&#39;t convert it because font tool said it&#39;s alphabetic font and coundn&#39;t even load unicode glyphs. Also I have to use another otf font in application. And I won&#39;t use already converted version.\r\n\r\n* If you can fix this issue with Java code, I wanna use this method.\r\n\r\n* If any unicode otf fonts can be converted to ttf, I&#39;ll use that tool(BUT MUST BE FREE, NO TRIAL. FULL FREE). Please tell me how to convert otf to ttf. I tried website and fontforge. Both returned 7KB font even this font is 7MB.\r\n\r\nI&#39;m not good at English. Sorry. ","title":"Java takes too long time to initialize large OpenType fonts","body":"<p>I must use Noto Sans CJK font in my application.\nBut when I call the method below It takes 10 seconds to initialize.</p>\n\n<pre><code>Font font = //Noto Sans CJK font\nJComponent.getFontMetrics(An instance of Noto Sans CJK font);\n</code></pre>\n\n<p>Can I fix this delay problem? The code can be complicated if the method can help fixing this problem(Like implementing FontMetrics, I don't know how).</p>\n\n<p>Please don't recommend me convert otf font to ttf font. I couldn't convert it because font tool said it's alphabetic font and coundn't even load unicode glyphs. Also I have to use another otf font in application. And I won't use already converted version.</p>\n\n<ul>\n<li><p>If you can fix this issue with Java code, I wanna use this method.</p></li>\n<li><p>If any unicode otf fonts can be converted to ttf, I'll use that tool(BUT MUST BE FREE, NO TRIAL. FULL FREE). Please tell me how to convert otf to ttf. I tried website and fontforge. Both returned 7KB font even this font is 7MB.</p></li>\n</ul>\n\n<p>I'm not good at English. Sorry. </p>\n"},{"tags":["java","ssl","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":8596944,"reputation":41,"user_id":6439698,"display_name":"Rahul Chandna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667135044,"creation_date":1667135044,"answer_id":74253287,"question_id":74066314,"body_markdown":"assuming that your pem file has two entries first is cert and second is key.\r\n\r\nanother assumption is that key is of type pkcs8 and it is password protected.\r\n\r\nfirst call to pemParser.readObject() is done with assumption that first entry in pem file is of x509 certificate\r\n\r\nsecond call to pemParser.readObject() is done with assumption that second entry in pem file is of pkcs8 password protected key\r\n\r\nvariable certificate will contain the x509 certificate and variable finalKey will contain the private key\r\n\r\n    private void getCertAndKeyFromPemFile(String fileName, String keyPassword) throws Exception {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        PEMParser pemParser = new PEMParser(new FileReader(fileName));\r\n\r\n        JcaX509CertificateConverter x509Converter = new JcaX509CertificateConverter().setProvider(new BouncyCastleProvider());\r\n\r\n        X509Certificate certificate =x509Converter.getCertificate((X509CertificateHolder) pemParser.readObject());\r\n\r\n        PKCS8EncryptedPrivateKeyInfo privateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\r\n\r\n        InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(keyPassword.toCharArray());\r\n\r\n        PrivateKey finalKey = new JcaPEMKeyConverter().getPrivateKey(privateKeyInfo.decryptPrivateKeyInfo(decryptorProvider));\r\n\r\n    }","title":"PEMParser bouncy castle read certificate and private key from PEM","body":"<p>assuming that your pem file has two entries first is cert and second is key.</p>\n<p>another assumption is that key is of type pkcs8 and it is password protected.</p>\n<p>first call to pemParser.readObject() is done with assumption that first entry in pem file is of x509 certificate</p>\n<p>second call to pemParser.readObject() is done with assumption that second entry in pem file is of pkcs8 password protected key</p>\n<p>variable certificate will contain the x509 certificate and variable finalKey will contain the private key</p>\n<pre><code>private void getCertAndKeyFromPemFile(String fileName, String keyPassword) throws Exception {\n    Security.addProvider(new BouncyCastleProvider());\n    PEMParser pemParser = new PEMParser(new FileReader(fileName));\n\n    JcaX509CertificateConverter x509Converter = new JcaX509CertificateConverter().setProvider(new BouncyCastleProvider());\n\n    X509Certificate certificate =x509Converter.getCertificate((X509CertificateHolder) pemParser.readObject());\n\n    PKCS8EncryptedPrivateKeyInfo privateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\n\n    InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(keyPassword.toCharArray());\n\n    PrivateKey finalKey = new JcaPEMKeyConverter().getPrivateKey(privateKeyInfo.decryptPrivateKeyInfo(decryptorProvider));\n\n}\n</code></pre>\n"}],"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667135044,"creation_date":1665735455,"question_id":74066314,"body_markdown":"I have created a PEMParser object to which I pass a PEM string containing chain certificate, encrypted private key etc.  Which is the way to retrieve the decrypted private key and the certificate X509? I have tried with :\r\n\r\n    pemParser.readObject() \r\n\r\nI am able to get a x509CertificateHolder (how to get the certificate from it?) and at the second call an encrypted privatekey info.\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"PEMParser bouncy castle read certificate and private key from PEM","body":"<p>I have created a PEMParser object to which I pass a PEM string containing chain certificate, encrypted private key etc.  Which is the way to retrieve the decrypted private key and the certificate X509? I have tried with :</p>\n<pre><code>pemParser.readObject() \n</code></pre>\n<p>I am able to get a x509CertificateHolder (how to get the certificate from it?) and at the second call an encrypted privatekey info.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-10"],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":8,"creation_date":1522780957,"post_id":49637031,"comment_id":86281773,"body_markdown":"`var` is not a keyword in Java. If it was we wouldn&#39;t be able to use it as `var var = 1;`","body":"<code>var</code> is not a keyword in Java. If it was we wouldn&#39;t be able to use it as <code>var var = 1;</code>"}],"tags":[],"owner":{"account_id":8800331,"reputation":175,"user_id":6576754,"display_name":"Nolan"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1522781002,"creation_date":1522780725,"answer_id":49637031,"question_id":49636993,"body_markdown":"`var` is something that is already in C#. Basically, instead of declaring a variable type, it assumes its type from what it is being set to. For instance:\r\n\r\n    var myString = &quot;Hello world&quot;\r\n\r\nBecause you are setting it to a value in quotes, it assumes it is a `String`, rather than having to specify like:\r\n\r\n    String myString = &quot;Hello world&quot;","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> is something that is already in C#. Basically, instead of declaring a variable type, it assumes its type from what it is being set to. For instance:</p>\n\n<pre><code>var myString = \"Hello world\"\n</code></pre>\n\n<p>Because you are setting it to a value in quotes, it assumes it is a <code>String</code>, rather than having to specify like:</p>\n\n<pre><code>String myString = \"Hello world\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1667134262,"creation_date":1570042290,"answer_id":58207673,"question_id":49636993,"body_markdown":"`var` serves a somewhat conceptually similar purpose in both languages, but there are important differences.\r\n\r\nJavaScript is a [dynamically typed language](https://stackoverflow.com/questions/2351190/static-dynamic-vs-strong-weak). A variable does not have type information. It does not have restrictions on what it can contain. It is just a holder for a value, and the value can be of any type.\r\n\r\nJava is a statically typed language and the opposite is true for all of those statements. A programmer has to say up-front what type their variable can hold. They may be as lenient as `Object` (every class extends `Object` implicitly) or as specific as [`FieldTagTestsVisitorComparator`](https://projects.haykranen.nl/java/).\r\n\r\n    Object objectVariable = &quot;hello&quot;;\r\n    FieldTagTestsVisitorComparator enterpriseVariable = new FieldTagTestsVisitorComparator();\r\n\r\nIn JavaScript, I can very concisely write\r\n\r\n    var age = 10;\r\n\r\nand I have a place in which to store a value which I can read or manipulate later.\r\n\r\nIf I decide later in my code that I want to reassign something else to this variable then I can do so.\r\n\r\n    age = {years: 10, months: 4, days: 5};\r\n\r\nYou can see clearly see which declarations are nicer to work with. People often complain about Java&#39;s verbosity. In my example above, I&#39;ve declared `FieldTagTestsVisitorComparator` twice on the same exact line. What value is that adding? I&#39;ve just repeated myself.\r\n\r\n`var` in Java seeks to [reduce the amount of repeated declarations](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). Like [the diamond operator](https://stackoverflow.com/questions/4166966/what-is-the-point-of-the-diamond-operator-in-java-7) before it, the language designers are trying to improve the Java compiler so that it is clever enough to make inferences about what programmers are intending. Why should something be explicit if it can be implicit?\r\n\r\nWhat this means in practice is that the type of the variable on the left-hand-side of the assignment is *deduced* from the right-hand-side.\r\n\r\nIf I write the following in Java\r\n\r\n    var foo = new StringBuilder();\r\n\r\nthen the Java 10+ compilers are clever enough to recognize a string builder on the right-hand-side and to automatically give the variable `foo` the appropriate type.\r\n\r\nThis fundamentally differs from JavaScript because although I have not specified the type, a type *is still present*. I cannot subsequently assign anything I like to it:\r\n\r\n    foo = 3; // fails to compile, foo is of type StringBuilder\r\n\r\n`var` is purely used at compile time. The compiler works out the type, replaces it, and the bytecode is the same as if it had never been used. There is no functional difference between\r\n\r\n    var foo = new StringBuilder();\r\n\r\nand\r\n\r\n    StringBuilder foo = new StringBuilder();\r\n\r\nIt is purely a [cosmetic difference](https://en.wikipedia.org/wiki/Syntactic_sugar) which makes the language more expressive.\r\n\r\n----\r\n\r\n**A note about `var`&#39;s status**\r\n\r\nJava language designers are always very careful when adding new features to not break backwards compatibility, and so `var` has somewhat special status. It is not a keyword, because having keyword status would be overly restrictive. Keywords cannot be used as identifiers, for example; I cannot have a method called `if` because `if` is a keyword.\r\n\r\n`var` is, as your quote states, a &quot;reserved type name&quot;. This sounds complex at first, but it is actually very descriptive of `var`&#39;s status. It is the name of a type that has been reserved by Java. You cannot name your types - classes, interfaces, enumerations - `var`, because that would introduce an ambiguity.\r\n\r\nYou are still free to use the word &quot;var&quot; in every other context - method names, variable identifiers, etc.\r\n\r\nBy having this status, the designers have maximized backwards compatibility (short of not adding the feature at all!). Unless you had a class called lowercase `var` -- and firstly what are you doing choosing these terrible names, and secondly why didn&#39;t you at least follow the naming convention and call it `Var`? -- then you&#39;re protected from any breaking changes.\r\n\r\nThere&#39;s a whole question about this here: https://stackoverflow.com/questions/49089124/what-type-of-token-exactly-is-var-in-java-10\r\n\r\n----\r\n\r\nGood feature, right? It definitely is, but it important not to simply start using it everywhere just because you can. Stuart Marks, one of the JDK developers, has some excellent [style guidelines](https://openjdk.java.net/projects/amber/LVTIstyle.html) which I recommend that you read.\r\n\r\nMy rule of thumb is that if the type is not specified on the same line (as it is in the above examples) then I do not use `var`. The compiler is clever enough to infer the type from the result of any valid expression, so the following is perfectly valid:\r\n\r\n    var foo = bar();\r\n\r\nHowever, without looking at the method signature, it is not immediately obvious what the type of the variable will be inferred to be. There isn’t any ambiguity for the compiler, but it is less clear for the human who&#39;s reading it. In such a case, we have sacrificed readability for brevity.\r\n\r\n---\r\n\r\n**Further reading**\r\n\r\n - [JEP 286: Local-Variable Type Inference](http://openjdk.java.net/jeps/286)\r\n - [FAQ for JEP 286 (Local Variable Type\r\n   Inference)](http://cr.openjdk.java.net/~briangoetz/jep-286/lvti-faq.html)\r\n\r\n\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> serves a somewhat conceptually similar purpose in both languages, but there are important differences.</p>\n<p>JavaScript is a <a href=\"https://stackoverflow.com/questions/2351190/static-dynamic-vs-strong-weak\">dynamically typed language</a>. A variable does not have type information. It does not have restrictions on what it can contain. It is just a holder for a value, and the value can be of any type.</p>\n<p>Java is a statically typed language and the opposite is true for all of those statements. A programmer has to say up-front what type their variable can hold. They may be as lenient as <code>Object</code> (every class extends <code>Object</code> implicitly) or as specific as <a href=\"https://projects.haykranen.nl/java/\" rel=\"nofollow noreferrer\"><code>FieldTagTestsVisitorComparator</code></a>.</p>\n<pre><code>Object objectVariable = &quot;hello&quot;;\nFieldTagTestsVisitorComparator enterpriseVariable = new FieldTagTestsVisitorComparator();\n</code></pre>\n<p>In JavaScript, I can very concisely write</p>\n<pre><code>var age = 10;\n</code></pre>\n<p>and I have a place in which to store a value which I can read or manipulate later.</p>\n<p>If I decide later in my code that I want to reassign something else to this variable then I can do so.</p>\n<pre><code>age = {years: 10, months: 4, days: 5};\n</code></pre>\n<p>You can see clearly see which declarations are nicer to work with. People often complain about Java's verbosity. In my example above, I've declared <code>FieldTagTestsVisitorComparator</code> twice on the same exact line. What value is that adding? I've just repeated myself.</p>\n<p><code>var</code> in Java seeks to <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">reduce the amount of repeated declarations</a>. Like <a href=\"https://stackoverflow.com/questions/4166966/what-is-the-point-of-the-diamond-operator-in-java-7\">the diamond operator</a> before it, the language designers are trying to improve the Java compiler so that it is clever enough to make inferences about what programmers are intending. Why should something be explicit if it can be implicit?</p>\n<p>What this means in practice is that the type of the variable on the left-hand-side of the assignment is <em>deduced</em> from the right-hand-side.</p>\n<p>If I write the following in Java</p>\n<pre><code>var foo = new StringBuilder();\n</code></pre>\n<p>then the Java 10+ compilers are clever enough to recognize a string builder on the right-hand-side and to automatically give the variable <code>foo</code> the appropriate type.</p>\n<p>This fundamentally differs from JavaScript because although I have not specified the type, a type <em>is still present</em>. I cannot subsequently assign anything I like to it:</p>\n<pre><code>foo = 3; // fails to compile, foo is of type StringBuilder\n</code></pre>\n<p><code>var</code> is purely used at compile time. The compiler works out the type, replaces it, and the bytecode is the same as if it had never been used. There is no functional difference between</p>\n<pre><code>var foo = new StringBuilder();\n</code></pre>\n<p>and</p>\n<pre><code>StringBuilder foo = new StringBuilder();\n</code></pre>\n<p>It is purely a <a href=\"https://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow noreferrer\">cosmetic difference</a> which makes the language more expressive.</p>\n<hr />\n<p><strong>A note about <code>var</code>'s status</strong></p>\n<p>Java language designers are always very careful when adding new features to not break backwards compatibility, and so <code>var</code> has somewhat special status. It is not a keyword, because having keyword status would be overly restrictive. Keywords cannot be used as identifiers, for example; I cannot have a method called <code>if</code> because <code>if</code> is a keyword.</p>\n<p><code>var</code> is, as your quote states, a &quot;reserved type name&quot;. This sounds complex at first, but it is actually very descriptive of <code>var</code>'s status. It is the name of a type that has been reserved by Java. You cannot name your types - classes, interfaces, enumerations - <code>var</code>, because that would introduce an ambiguity.</p>\n<p>You are still free to use the word &quot;var&quot; in every other context - method names, variable identifiers, etc.</p>\n<p>By having this status, the designers have maximized backwards compatibility (short of not adding the feature at all!). Unless you had a class called lowercase <code>var</code> -- and firstly what are you doing choosing these terrible names, and secondly why didn't you at least follow the naming convention and call it <code>Var</code>? -- then you're protected from any breaking changes.</p>\n<p>There's a whole question about this here: <a href=\"https://stackoverflow.com/questions/49089124/what-type-of-token-exactly-is-var-in-java-10\">What type of token exactly is &quot;var&quot; in Java 10?</a></p>\n<hr />\n<p>Good feature, right? It definitely is, but it important not to simply start using it everywhere just because you can. Stuart Marks, one of the JDK developers, has some excellent <a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">style guidelines</a> which I recommend that you read.</p>\n<p>My rule of thumb is that if the type is not specified on the same line (as it is in the above examples) then I do not use <code>var</code>. The compiler is clever enough to infer the type from the result of any valid expression, so the following is perfectly valid:</p>\n<pre><code>var foo = bar();\n</code></pre>\n<p>However, without looking at the method signature, it is not immediately obvious what the type of the variable will be inferred to be. There isn’t any ambiguity for the compiler, but it is less clear for the human who's reading it. In such a case, we have sacrificed readability for brevity.</p>\n<hr />\n<p><strong>Further reading</strong></p>\n<ul>\n<li><a href=\"http://openjdk.java.net/jeps/286\" rel=\"nofollow noreferrer\">JEP 286: Local-Variable Type Inference</a></li>\n<li><a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/jep-286/lvti-faq.html\" rel=\"nofollow noreferrer\">FAQ for JEP 286 (Local Variable Type\nInference)</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1638193099,"post_id":70155487,"comment_id":124015263,"body_markdown":"Let&#39;s use it as a generic type: `var stringList = List.of(&quot;foo&quot;)`. Works for me.","body":"Let&#39;s use it as a generic type: <code>var stringList = List.of(&quot;foo&quot;)</code>. Works for me."},{"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"score":0,"creation_date":1638194042,"post_id":70155487,"comment_id":124015671,"body_markdown":"@JohannesKuhn, It&#39;s not a Generic Type. It&#39;s a String. \n`var&lt;var&gt; al = new ArrayList&lt;&gt;();` this one will not work with `var`","body":"@JohannesKuhn, It&#39;s not a Generic Type. It&#39;s a String.  <code>var&lt;var&gt; al = new ArrayList&lt;&gt;();</code> this one will not work with <code>var</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1638197236,"post_id":70155487,"comment_id":124017151,"body_markdown":"It&#39;s `List&lt;String&gt;`, not `String`.","body":"It&#39;s <code>List&lt;String&gt;</code>, not <code>String</code>."},{"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"score":0,"creation_date":1638200463,"post_id":70155487,"comment_id":124018621,"body_markdown":"@JohannesKuhn, This question is about Java 10 &#128578; but Yes, var supports Generic Type from Java 11. Updated my answer too. Thank you.","body":"@JohannesKuhn, This question is about Java 10 🙂 but Yes, var supports Generic Type from Java 11. Updated my answer too. Thank you."}],"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667133843,"creation_date":1638192540,"answer_id":70155487,"question_id":49636993,"body_markdown":"`var` is a new *keyword* that was introduced in Java 10. The behaviors are almost the same as JavaScript. See below for what we can and cannot with the *var* keyword in Java.\r\n\r\n**Can**\r\n\r\n - Declare any datatype with the *var* keyword\r\n - Be used in a local variable declaration\r\n\r\n**Can not**\r\n\r\n - Be used in an instance and global variable declaration\r\n - Be used as a *generic* type\r\n - Be used with the generic type\r\n - Be used without explicit initialization\r\n - Be used with a *[lambda expression][1]*\r\n - Be used for method parameters and return type\r\n\r\n`var` supports *generic types* and also *lambda expressions* from Java 11.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Anonymous_function\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> is a new <em>keyword</em> that was introduced in Java 10. The behaviors are almost the same as JavaScript. See below for what we can and cannot with the <em>var</em> keyword in Java.</p>\n<p><strong>Can</strong></p>\n<ul>\n<li>Declare any datatype with the <em>var</em> keyword</li>\n<li>Be used in a local variable declaration</li>\n</ul>\n<p><strong>Can not</strong></p>\n<ul>\n<li>Be used in an instance and global variable declaration</li>\n<li>Be used as a <em>generic</em> type</li>\n<li>Be used with the generic type</li>\n<li>Be used without explicit initialization</li>\n<li>Be used with a <em><a href=\"https://en.wikipedia.org/wiki/Anonymous_function\" rel=\"nofollow noreferrer\">lambda expression</a></em></li>\n<li>Be used for method parameters and return type</li>\n</ul>\n<p><code>var</code> supports <em>generic types</em> and also <em>lambda expressions</em> from Java 11.</p>\n"}],"owner":{"account_id":12524724,"reputation":499,"user_id":9114962,"display_name":"Eshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4645,"favorite_count":0,"down_vote_count":7,"up_vote_count":13,"accepted_answer_id":58207673,"answer_count":3,"score":6,"last_activity_date":1667134262,"creation_date":1522780575,"question_id":49636993,"body_markdown":"I was reading about the new features released in Java 10 and I found this:\r\n\r\n&gt; Java 10 introduced `var` as a reserve type name to reduce verbosity.\r\n&gt; It can be used as a variable, method, and package name, but we cannot\r\n&gt; use it as a class or interface name.\r\n\r\nIs `var` similar to the `var` keyword in JavaScript? What exactly are the similarities and the differences between Java&#39;s `var` and JavaScript&#39;s `var`?\r\n\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p>I was reading about the new features released in Java 10 and I found this:</p>\n<blockquote>\n<p>Java 10 introduced <code>var</code> as a reserve type name to reduce verbosity.\nIt can be used as a variable, method, and package name, but we cannot\nuse it as a class or interface name.</p>\n</blockquote>\n<p>Is <code>var</code> similar to the <code>var</code> keyword in JavaScript? What exactly are the similarities and the differences between Java's <code>var</code> and JavaScript's <code>var</code>?</p>\n"},{"tags":["java","security","encryption","aes","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667134121,"post_id":74253159,"comment_id":131094064,"body_markdown":"[Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/238704)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/238704\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1667134720,"post_id":74253159,"comment_id":131094195,"body_markdown":"`generateKeyPair()` generates a *different* key pair every time you call it. You must use the public and private keys from a single pair to accomplish your task.","body":"<code>generateKeyPair()</code> generates a <i>different</i> key pair every time you call it. You must use the public and private keys from a single pair to accomplish your task."}],"owner":{"account_id":26045726,"reputation":27,"user_id":19749794,"display_name":"darkman106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667133886,"creation_date":1667133886,"question_id":74253159,"body_markdown":"I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file). \r\n\r\nhere below is the code:\r\n\r\n``` \r\nimport java.io.*;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.spec.IvParameterSpec;\r\n\r\npublic class Main {\r\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(n);\r\n        SecretKey key = keyGenerator.generateKey();\r\n        return key;\r\n    }\r\n    public static IvParameterSpec generateIv() {\r\n        byte[] iv = new byte[128/8];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048);\r\n        KeyPair pair = generator.generateKeyPair();\r\n        return pair;\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\r\n\r\n        //generating a symmetric key\r\n        SecretKey secKey = generateKey(128);\r\n        //generating an IV\r\n        IvParameterSpec iv=generateIv();\r\n\r\n        //encrypt the data with AES\r\n        File inputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\r\n        File outputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\r\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\r\n\r\n        //RSA pair of keys generation\r\n        PrivateKey privateKey = generateKeyPair().getPrivate();\r\n        PublicKey publicKey = generateKeyPair().getPublic();\r\n\r\n        //encrypt the symmetric key with RSA public key\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\r\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\r\n\r\n        //decrypt the symmentric key with RSA private Key\r\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\r\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\r\n\r\n        //Decrypt the cipher text using decrypted symmetric key\r\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, originalKey,iv,outputFile,inputFile);\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute this, I get an BadPaddingException: Decryption error.\r\n[error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pLQdb.png\r\n\r\nWhat is the problem and how can I solve it?","title":"BadPaddingException: Decryption error while encrypting and decrypting a file using RSA with symmetrics Key in Java","body":"<p>I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).</p>\n<p>here below is the code:</p>\n<pre><code>import java.io.*;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\npublic class Main {\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGenerator.init(n);\n        SecretKey key = keyGenerator.generateKey();\n        return key;\n    }\n    public static IvParameterSpec generateIv() {\n        byte[] iv = new byte[128/8];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        generator.initialize(2048);\n        KeyPair pair = generator.generateKeyPair();\n        return pair;\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\n\n        //generating a symmetric key\n        SecretKey secKey = generateKey(128);\n        //generating an IV\n        IvParameterSpec iv=generateIv();\n\n        //encrypt the data with AES\n        File inputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\n        File outputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\n\n        //RSA pair of keys generation\n        PrivateKey privateKey = generateKeyPair().getPrivate();\n        PublicKey publicKey = generateKeyPair().getPublic();\n\n        //encrypt the symmetric key with RSA public key\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\n\n        //decrypt the symmentric key with RSA private Key\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\n\n        //Decrypt the cipher text using decrypted symmetric key\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, originalKey,iv,outputFile,inputFile);\n    }\n}\n</code></pre>\n<p>When I execute this, I get an BadPaddingException: Decryption error.\n<a href=\"https://i.stack.imgur.com/pLQdb.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>What is the problem and how can I solve it?</p>\n"},{"tags":["java","jtabbedpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1667139098,"post_id":74253102,"comment_id":131095088,"body_markdown":"If you want to add data to a table, then you need a reference to the table. We have no idea how each tab references the table in the first tab. I would guess you just need to make sure you define the table as an instance variable in your class so all tabs can reference the table. If you need more help, then post a [mre].","body":"If you want to add data to a table, then you need a reference to the table. We have no idea how each tab references the table in the first tab. I would guess you just need to make sure you define the table as an instance variable in your class so all tabs can reference the table. If you need more help, then post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26775956,"reputation":1,"user_id":20371598,"display_name":"Solider"},"score":0,"creation_date":1667143760,"post_id":74253102,"comment_id":131096023,"body_markdown":"no, i mean when i create a new tab it will be a new table, this new table and the old one in the old tab are 2 different tables and when I select the old tab and add data, the table in the old tab will pick up and display","body":"no, i mean when i create a new tab it will be a new table, this new table and the old one in the old tab are 2 different tables and when I select the old tab and add data, the table in the old tab will pick up and display"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667145333,"post_id":74253102,"comment_id":131096359,"body_markdown":"As I said you need a reference to the table. You need to access the table on the current tab. We have no idea how your code is structured so we can&#39;t give an exact solution. It is up to you to make sure you can reference the table on each tab.","body":"As I said you need a reference to the table. You need to access the table on the current tab. We have no idea how your code is structured so we can&#39;t give an exact solution. It is up to you to make sure you can reference the table on each tab."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667146566,"post_id":74253102,"comment_id":131096629,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26775956,"reputation":1,"user_id":20371598,"display_name":"Solider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667133438,"creation_date":1667133438,"question_id":74253102,"body_markdown":"I am developing an application that needs to use JTabbedpane, when I add a new tab and I want to add data to the Jtable in the old tab, it does not show the newly added data, but when I select the newly created tab and add it, it still display the newly added data. Does anyone know a way so that when I select the old tab and add data it works fine\r\n\r\n\r\nI can select random tab to add data to jatable and it shows the newly added data\r\n\r\n","title":"Add data to the old tab of JTabbedpane in java for it to work","body":"<p>I am developing an application that needs to use JTabbedpane, when I add a new tab and I want to add data to the Jtable in the old tab, it does not show the newly added data, but when I select the newly created tab and add it, it still display the newly added data. Does anyone know a way so that when I select the old tab and add data it works fine</p>\n<p>I can select random tab to add data to jatable and it shows the newly added data</p>\n"},{"tags":["java","multithreading","concurrency","reentrantlock"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634217234,"creation_date":1565448991,"answer_id":57443207,"question_id":57440851,"body_markdown":"&gt; Why do we need to acquire a lock multiple times?\r\n\r\nClearly, you don&#39;t *need* to.  But it is not unusual for an application to do it &quot;by accident&quot;.  For example:\r\n\r\n      public void binaryOperation(Operand op1, Operand op2) {\r\n          synchronized (op1) {\r\n              synchronized (op2) {\r\n                   // do something that needs the locks\r\n              }\r\n          }\r\n      }\r\n\r\n      // now call passing the same object for both operands\r\n      Operand op = ...\r\n      binaryOperation(op, op); \r\n\r\nIn this example, the `op` object will actually get locked twice.  If primitive locks weren&#39;t re-entrant, this could would fail (or deadlock).  \r\n\r\nNow we *could* fix the `binaryOperation` method to not do that, but it would make the code significantly more complicated.\r\n\r\nThe same scenario can happen with `ReentrantLock`.\r\n\r\n---------------------------\r\n\r\nQuestion 1.\r\n\r\n&gt; But to actually get to running state, it needs the lock however. So what&#39;s the point of wait(long timeout) method?\r\n\r\nThis is about `Object::wait`.  The `ReentrantLock` API doesn&#39;t support this.  (Beware: you can use `wait` and `notify` on a `ReentrantLock` object, but only if you are treating it as a primitive lock.  Not a good idea!)\r\n\r\nThe `wait` is waiting for a notification, and the `timeout` says how long the caller is prepared to wait for the notification.  As the [javadoc][1] says:\r\n\r\n&gt; &quot;Causes the current thread to wait until either another thread invokes the `notify()` method or the `notifyAll()` method for this object, or a specified amount of time has elapsed.&quot;\r\n\r\nWith both `wait()` and `wait(timeout)`, it is up to the caller to check that the condition that it was expecting to be &quot;notified about&quot; has actually satisfied.  (See the note about &quot;spurious wakeup&quot; ... and the example code.)\r\n  \r\n&gt; What&#39;s the advantage of wait(long timeout) over wait() method?\r\n\r\nSimply, it gives you the option of only waiting a limited time for the notification.   If this is not useful, don&#39;t use it.\r\n\r\n--------\r\n\r\nQuestion 2.\r\n\r\n&gt; But in the case of `ReentrantLock`, on which object is the lock acquired?\r\n\r\nStrictly speaking, it is the lock itself.  What that the lock actually means will depend on how you code your classes.  But that is exactly the same as with primitive mutexes.   \r\n\r\nLocking in Java doesn&#39;t prevent some misbehaving code from accessing and or updating some shared state without holding the lock.   It is up to the programmer to do it correctly.\r\n\r\n&gt; The threads trying to acquire whose lock are made to wait? \r\n\r\nYes.\r\n\r\n------------------\r\n\r\nQuestion 3.\r\n\r\n&gt; How does a ReentrantLock avoid deadlock?\r\n\r\nIn general, it doesn&#39;t.\r\n\r\nIn the case of reentrant locking (i.e. in the case where a thread attempts to acquire lock A while holding lock A), the `ReentrantLock` implementation notices that the thread holding the lock is the thread acquiring the lock.  A counter is incremented, so that the implementation knows that the lock must be released *twice*.\r\n\r\n&gt; How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. \r\n\r\nThat is one approach.\r\n\r\n&gt; But what could be the possible alternate operations? \r\n\r\n1.  Ensure that all threads acquire the locks in the same order.  (Deadlocks occur when threads attempt to acquire two or more threads in a different order.)\r\n\r\n2.  If `tryLock` fails while holding a different lock, release the lock, wait a bit, and try again.\r\n\r\n&gt; What if the thread must need the lock to work?\r\n\r\nThen you design the logic so that deadlock is avoided; see the alternatives above!\r\n\r\n-------------------\r\n\r\nQuestion 4.\r\n\r\n&gt; But why do we have to acquire lock several times?\r\n\r\nAs stated above, you *typically* don&#39;t.  But the point of a `ReentrantLock` is that you don&#39;t have to worry in the case where you do end up acquiring the lock twice ... for whatever reason.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<blockquote>\n<p>Why do we need to acquire a lock multiple times?</p>\n</blockquote>\n<p>Clearly, you don't <em>need</em> to.  But it is not unusual for an application to do it &quot;by accident&quot;.  For example:</p>\n<pre><code>  public void binaryOperation(Operand op1, Operand op2) {\n      synchronized (op1) {\n          synchronized (op2) {\n               // do something that needs the locks\n          }\n      }\n  }\n\n  // now call passing the same object for both operands\n  Operand op = ...\n  binaryOperation(op, op); \n</code></pre>\n<p>In this example, the <code>op</code> object will actually get locked twice.  If primitive locks weren't re-entrant, this could would fail (or deadlock).</p>\n<p>Now we <em>could</em> fix the <code>binaryOperation</code> method to not do that, but it would make the code significantly more complicated.</p>\n<p>The same scenario can happen with <code>ReentrantLock</code>.</p>\n<hr />\n<p>Question 1.</p>\n<blockquote>\n<p>But to actually get to running state, it needs the lock however. So what's the point of wait(long timeout) method?</p>\n</blockquote>\n<p>This is about <code>Object::wait</code>.  The <code>ReentrantLock</code> API doesn't support this.  (Beware: you can use <code>wait</code> and <code>notify</code> on a <code>ReentrantLock</code> object, but only if you are treating it as a primitive lock.  Not a good idea!)</p>\n<p>The <code>wait</code> is waiting for a notification, and the <code>timeout</code> says how long the caller is prepared to wait for the notification.  As the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-\" rel=\"nofollow noreferrer\">javadoc</a> says:</p>\n<blockquote>\n<p>&quot;Causes the current thread to wait until either another thread invokes the <code>notify()</code> method or the <code>notifyAll()</code> method for this object, or a specified amount of time has elapsed.&quot;</p>\n</blockquote>\n<p>With both <code>wait()</code> and <code>wait(timeout)</code>, it is up to the caller to check that the condition that it was expecting to be &quot;notified about&quot; has actually satisfied.  (See the note about &quot;spurious wakeup&quot; ... and the example code.)</p>\n<blockquote>\n<p>What's the advantage of wait(long timeout) over wait() method?</p>\n</blockquote>\n<p>Simply, it gives you the option of only waiting a limited time for the notification.   If this is not useful, don't use it.</p>\n<hr />\n<p>Question 2.</p>\n<blockquote>\n<p>But in the case of <code>ReentrantLock</code>, on which object is the lock acquired?</p>\n</blockquote>\n<p>Strictly speaking, it is the lock itself.  What that the lock actually means will depend on how you code your classes.  But that is exactly the same as with primitive mutexes.</p>\n<p>Locking in Java doesn't prevent some misbehaving code from accessing and or updating some shared state without holding the lock.   It is up to the programmer to do it correctly.</p>\n<blockquote>\n<p>The threads trying to acquire whose lock are made to wait?</p>\n</blockquote>\n<p>Yes.</p>\n<hr />\n<p>Question 3.</p>\n<blockquote>\n<p>How does a ReentrantLock avoid deadlock?</p>\n</blockquote>\n<p>In general, it doesn't.</p>\n<p>In the case of reentrant locking (i.e. in the case where a thread attempts to acquire lock A while holding lock A), the <code>ReentrantLock</code> implementation notices that the thread holding the lock is the thread acquiring the lock.  A counter is incremented, so that the implementation knows that the lock must be released <em>twice</em>.</p>\n<blockquote>\n<p>How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock.</p>\n</blockquote>\n<p>That is one approach.</p>\n<blockquote>\n<p>But what could be the possible alternate operations?</p>\n</blockquote>\n<ol>\n<li><p>Ensure that all threads acquire the locks in the same order.  (Deadlocks occur when threads attempt to acquire two or more threads in a different order.)</p>\n</li>\n<li><p>If <code>tryLock</code> fails while holding a different lock, release the lock, wait a bit, and try again.</p>\n</li>\n</ol>\n<blockquote>\n<p>What if the thread must need the lock to work?</p>\n</blockquote>\n<p>Then you design the logic so that deadlock is avoided; see the alternatives above!</p>\n<hr />\n<p>Question 4.</p>\n<blockquote>\n<p>But why do we have to acquire lock several times?</p>\n</blockquote>\n<p>As stated above, you <em>typically</em> don't.  But the point of a <code>ReentrantLock</code> is that you don't have to worry in the case where you do end up acquiring the lock twice ... for whatever reason.</p>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667133279,"creation_date":1667132944,"answer_id":74253048,"question_id":57440851,"body_markdown":"I think few use cases of Reentrancy (why do we to acquire a lock multiple times) are discussed in some Oracle docs: \r\n\r\n[ReentrantReadWriteLock class][1].\r\n\r\n&gt; This lock allows both readers and writers to reacquire read or write\r\n&gt; locks in the style of a ReentrantLock. Non-reentrant readers are not\r\n&gt; allowed until all write locks held by the writing thread have been\r\n&gt; released.\r\n&gt; \r\n&gt; Additionally, a writer can acquire the read lock, but not vice-versa.\r\n&gt; **Among other applications, reentrancy can be useful when write locks\r\n&gt; are held during calls or callbacks to methods that perform reads under\r\n&gt; read locks.** If a reader tries to acquire the write lock it will never\r\n&gt; succeed.\r\n\r\n[Reentrant Synchronization][2]\r\n\r\n&gt; Recall that a thread cannot acquire a lock owned by another thread.\r\n&gt; But a thread can acquire a lock that it already owns. Allowing a\r\n&gt; thread to acquire the same lock more than once enables reentrant\r\n&gt; synchronization. This describes a situation where synchronized code,\r\n&gt; directly or indirectly, invokes a method that also contains\r\n&gt; synchronized code, and both sets of code use the same lock. **Without\r\n&gt; reentrant synchronization, synchronized code would have to take many\r\n&gt; additional precautions to avoid having a thread cause itself to block.**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<p>I think few use cases of Reentrancy (why do we to acquire a lock multiple times) are discussed in some Oracle docs:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">ReentrantReadWriteLock class</a>.</p>\n<blockquote>\n<p>This lock allows both readers and writers to reacquire read or write\nlocks in the style of a ReentrantLock. Non-reentrant readers are not\nallowed until all write locks held by the writing thread have been\nreleased.</p>\n<p>Additionally, a writer can acquire the read lock, but not vice-versa.\n<strong>Among other applications, reentrancy can be useful when write locks\nare held during calls or callbacks to methods that perform reads under\nread locks.</strong> If a reader tries to acquire the write lock it will never\nsucceed.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Reentrant Synchronization</a></p>\n<blockquote>\n<p>Recall that a thread cannot acquire a lock owned by another thread.\nBut a thread can acquire a lock that it already owns. Allowing a\nthread to acquire the same lock more than once enables reentrant\nsynchronization. This describes a situation where synchronized code,\ndirectly or indirectly, invokes a method that also contains\nsynchronized code, and both sets of code use the same lock. <strong>Without\nreentrant synchronization, synchronized code would have to take many\nadditional precautions to avoid having a thread cause itself to block.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":7567353,"reputation":97,"user_id":5742365,"display_name":"Neeraja Gandla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3327,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57443207,"answer_count":2,"score":3,"last_activity_date":1667133279,"creation_date":1565428521,"question_id":57440851,"body_markdown":"I have recently been learning multithreading concepts in java. I have a few doubts which didn&#39;t resolve by looking up the relevant threads on StackOverflow. I couldn&#39;t find satisfactory answers for my following questions: \r\n\r\n1. wait() method makes the thread to wait till it gets the lock. Whereas, the wait(long timeout) method makes the thread wait for &#39;timeout&#39; no. of milliseconds and if it still doesn&#39;t get the lock, goes back to runnable state. But to actually get to running state, it needs the lock however. So what&#39;s the point of wait(long timeout) method? The thread however releases the locks acquired by it when it&#39;s in waiting state. So the difference is not even the resources acquired by it. What difference does it make if the thread stays in waiting state or runnable state? What&#39;s the advantage of wait(long timeout) over wait() method?\r\n\r\n2. synchonized keyword or block provides lock on the object on which the method or block is called. It causes another thread which tries to acquire the lock on the same instance to wait. But in the case of ReentrantLock, on which object is the lock acquired? The threads trying to acquire whose lock are made to wait? \r\n\r\n3. How does a ReentrantLock avoid deadlock? Suppose there are two methods m1 and m2. Both need to acquire a lock. m1 is calling m2 and m2 is calling m1. How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. But what could be the possible alternate operations? What if the thread must need the lock to work? \r\n\r\n4. I found that using ReentrantLock we can acquire lock multiple times. But why do we have to acquire lock several times? I have read theoretical answers on this but couldn&#39;t really get it. It will be helpful if you can demonstrate with a clear example code.","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<p>I have recently been learning multithreading concepts in java. I have a few doubts which didn't resolve by looking up the relevant threads on StackOverflow. I couldn't find satisfactory answers for my following questions: </p>\n\n<ol>\n<li><p>wait() method makes the thread to wait till it gets the lock. Whereas, the wait(long timeout) method makes the thread wait for 'timeout' no. of milliseconds and if it still doesn't get the lock, goes back to runnable state. But to actually get to running state, it needs the lock however. So what's the point of wait(long timeout) method? The thread however releases the locks acquired by it when it's in waiting state. So the difference is not even the resources acquired by it. What difference does it make if the thread stays in waiting state or runnable state? What's the advantage of wait(long timeout) over wait() method?</p></li>\n<li><p>synchonized keyword or block provides lock on the object on which the method or block is called. It causes another thread which tries to acquire the lock on the same instance to wait. But in the case of ReentrantLock, on which object is the lock acquired? The threads trying to acquire whose lock are made to wait? </p></li>\n<li><p>How does a ReentrantLock avoid deadlock? Suppose there are two methods m1 and m2. Both need to acquire a lock. m1 is calling m2 and m2 is calling m1. How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. But what could be the possible alternate operations? What if the thread must need the lock to work? </p></li>\n<li><p>I found that using ReentrantLock we can acquire lock multiple times. But why do we have to acquire lock several times? I have read theoretical answers on this but couldn't really get it. It will be helpful if you can demonstrate with a clear example code.</p></li>\n</ol>\n"},{"tags":["java","file","methods"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667078923,"post_id":74248968,"comment_id":131087006,"body_markdown":"Remember to [show the actual error](/help/how-to-ask) in your post. And of course, remember to look at your post after posting so you can [edit] formatting mistakes.","body":"Remember to <a href=\"/help/how-to-ask\">show the actual error</a> in your post. And of course, remember to look at your post after posting so you can <a href=\"https://stackoverflow.com/posts/74248968/edit\">edit</a> formatting mistakes."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667079910,"creation_date":1667079910,"answer_id":74249078,"question_id":74248968,"body_markdown":"The `NoSuchElementException` is not a compilation error - it is an exception that is thrown at runtime. (The Java compiler cannot known how many values your input file contains and therefore cannot report such an error.)\r\n\r\nAnd to me it is clear why it is thrown: you read the two integers 5 and 5 from the file and then try to read another 25 integer values from the file - but your file contains (after those two values) only 5 values: 0, 0, 1110, 0 and 0.\r\n\r\n`nextInt()` is not the right method to read in your data. Instead of that you should use `next()` (to read a string containing 0s and 1s) and then split them:\r\n\r\n            for (int i = 0; i &lt; fileRow; i++) {\r\n                String s = scan2.next();\r\n                for (int j = 0; j &lt; fileColumn; j++) {\r\n                    array[i][j] = Integer.parseInt(s.substring(j, j+1));\r\n                }\r\n            }\r\n","title":"What does compilation error &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot; mean in regards to my code?","body":"<p>The <code>NoSuchElementException</code> is not a compilation error - it is an exception that is thrown at runtime. (The Java compiler cannot known how many values your input file contains and therefore cannot report such an error.)</p>\n<p>And to me it is clear why it is thrown: you read the two integers 5 and 5 from the file and then try to read another 25 integer values from the file - but your file contains (after those two values) only 5 values: 0, 0, 1110, 0 and 0.</p>\n<p><code>nextInt()</code> is not the right method to read in your data. Instead of that you should use <code>next()</code> (to read a string containing 0s and 1s) and then split them:</p>\n<pre><code>        for (int i = 0; i &lt; fileRow; i++) {\n            String s = scan2.next();\n            for (int j = 0; j &lt; fileColumn; j++) {\n                array[i][j] = Integer.parseInt(s.substring(j, j+1));\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26771987,"reputation":3,"user_id":20368224,"display_name":"Boncappuccino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249078,"answer_count":1,"score":0,"last_activity_date":1667133199,"creation_date":1667078874,"question_id":74248968,"body_markdown":"For the past few days I have been working on a project for my class and keep running into this same error repeatedly.  I am working in visual studio code and the goal of the project is to make the game of life using methods and scanning .txt files.  This same error message keeps showing up whenever I try to compile the code.  Here is the code in question:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class GameOfLife3 {\r\n    public static final char ON = &#39;X&#39;;\r\n    public static final char OFF = &#39;*&#39;;\r\n    public static int fileRow, fileColumn; \r\n    public static int array[][];\r\n    public static char board[][];\r\n    public static char nextBoard[][];\r\n    public static int nextArray[][];\r\n    public static Scanner scan = new Scanner(System.in);\r\n\r\n    public static int[][] readGrid(String fileName) throws IOException{\r\n\r\n        File file = new File(fileName);\r\n        Scanner scan2 = new Scanner(file);\r\n    \r\n            \r\n            fileRow = scan2.nextInt();  \r\n            fileColumn = scan2.nextInt(); \r\n            array = new int[fileRow][fileColumn];\r\n\r\n            \r\n            for(int i = 0; i &lt; fileRow; i++){\r\n                for(int j = 0; j &lt; fileColumn; j++){\r\n                    array[i][j] = scan2.nextInt();\r\n                }\r\n            }\r\n        \r\n        return array;\r\n   \r\n(there is more code in between here but thats not the part I am having trouble on)\r\n\r\n    public static void main(String[] args) throws IOException{\r\n\r\n        String fileName;\r\n        \r\n        System.out.print(&quot;Please enter the name of the file you want to use (name.txt): &quot;);\r\n        fileName = scan.nextLine();\r\n\r\n        array = readGrid(fileName);\r\n    }\r\n}\r\n\r\n```\r\nI know its pretty messy but I am going to fix it later.\r\n\r\nAlso here is the the .txt file i am trying to use. (name is Blinker.txt)\r\n\r\n&gt; 5 5  \r\n&gt; 00000  \r\n&gt; 00000  \r\n&gt; 01110  \r\n&gt; 00000  \r\n&gt; 00000\r\n\r\nSome stuff I tried to do was use the .hasNextInt() function to check for when the .txt but it did not work.  Any help would be greatly appreciated.","title":"What does compilation error &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot; mean in regards to my code?","body":"<p>For the past few days I have been working on a project for my class and keep running into this same error repeatedly.  I am working in visual studio code and the goal of the project is to make the game of life using methods and scanning .txt files.  This same error message keeps showing up whenever I try to compile the code.  Here is the code in question:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class GameOfLife3 {\n    public static final char ON = 'X';\n    public static final char OFF = '*';\n    public static int fileRow, fileColumn; \n    public static int array[][];\n    public static char board[][];\n    public static char nextBoard[][];\n    public static int nextArray[][];\n    public static Scanner scan = new Scanner(System.in);\n\n    public static int[][] readGrid(String fileName) throws IOException{\n\n        File file = new File(fileName);\n        Scanner scan2 = new Scanner(file);\n    \n            \n            fileRow = scan2.nextInt();  \n            fileColumn = scan2.nextInt(); \n            array = new int[fileRow][fileColumn];\n\n            \n            for(int i = 0; i &lt; fileRow; i++){\n                for(int j = 0; j &lt; fileColumn; j++){\n                    array[i][j] = scan2.nextInt();\n                }\n            }\n        \n        return array;\n   \n(there is more code in between here but thats not the part I am having trouble on)\n\n    public static void main(String[] args) throws IOException{\n\n        String fileName;\n        \n        System.out.print(&quot;Please enter the name of the file you want to use (name.txt): &quot;);\n        fileName = scan.nextLine();\n\n        array = readGrid(fileName);\n    }\n}\n\n</code></pre>\n<p>I know its pretty messy but I am going to fix it later.</p>\n<p>Also here is the the .txt file i am trying to use. (name is Blinker.txt)</p>\n<blockquote>\n<p>5 5<br />\n00000<br />\n00000<br />\n01110<br />\n00000<br />\n00000</p>\n</blockquote>\n<p>Some stuff I tried to do was use the .hasNextInt() function to check for when the .txt but it did not work.  Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":1,"creation_date":1370447098,"post_id":16942193,"comment_id":24465071,"body_markdown":"@michal +1. Here is a couple of tutorials showing how to do that: [Spring 3 MVC: Handling Forms in Spring 3.0 MVC](http://viralpatel.net/blogs/spring-3-mvc-handling-forms/), [What is and how to use `@ModelAttribute`](http://bearprogrammer.wordpress.com/2012/04/11/what-is-and-how-to-use-modelattribute/), [Spring MVC Form Handling Example](http://www.tutorialspoint.com/spring/spring_mvc_form_handling_example.htm). Just google &quot;*Spring MVC form handling*&quot; and you&#39;ll get a ton of tutorials/examples. But be sure to use modern way of form handling, i.e. Spring v2.5+","body":"@michal +1. Here is a couple of tutorials showing how to do that: <a href=\"http://viralpatel.net/blogs/spring-3-mvc-handling-forms/\" rel=\"nofollow noreferrer\">Spring 3 MVC: Handling Forms in Spring 3.0 MVC</a>, <a href=\"http://bearprogrammer.wordpress.com/2012/04/11/what-is-and-how-to-use-modelattribute/\" rel=\"nofollow noreferrer\">What is and how to use <code>@ModelAttribute</code></a>, <a href=\"http://www.tutorialspoint.com/spring/spring_mvc_form_handling_example.htm\" rel=\"nofollow noreferrer\">Spring MVC Form Handling Example</a>. Just google &quot;<i>Spring MVC form handling</i>&quot; and you&#39;ll get a ton of tutorials/examples. But be sure to use modern way of form handling, i.e. Spring v2.5+"},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1370447175,"post_id":16942193,"comment_id":24465129,"body_markdown":"Also useful: [What is `@ModelAttribute` in Spring MVC](http://stackoverflow.com/a/3423501/814702)","body":"Also useful: <a href=\"http://stackoverflow.com/a/3423501/814702\">What is <code>@ModelAttribute</code> in Spring MVC</a>"},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":2,"creation_date":1640588117,"post_id":16942193,"comment_id":124609159,"body_markdown":"remove @RequestParam from the MyObject and also make attributes of the MyObject definable (by adding a no-arg constructor and setter for all the attributes) or (define an all-args constructor without no-args constructor, the setter is not needed in this case).","body":"remove @RequestParam from the MyObject and also make attributes of the MyObject definable (by adding a no-arg constructor and setter for all the attributes) or (define an all-args constructor without no-args constructor, the setter is not needed in this case)."}],"answers":[{"comments":[{"owner":{"account_id":100620,"reputation":559,"user_id":271146,"accept_rate":83,"display_name":"aka_sh"},"score":49,"creation_date":1420036188,"post_id":16942352,"comment_id":43856649,"body_markdown":"Note that Spring by default requiers getters/setters for the MyObject to bind it automatically. Otherway it won&#39;t bind the myObject.","body":"Note that Spring by default requiers getters/setters for the MyObject to bind it automatically. Otherway it won&#39;t bind the myObject."},{"owner":{"account_id":195880,"reputation":1818,"user_id":439034,"accept_rate":61,"display_name":"worldsayshi"},"score":34,"creation_date":1424901283,"post_id":16942352,"comment_id":45746992,"body_markdown":"How can you set fields are optional/non-optional in MyObject? Not sure how to find proper documentation for this..","body":"How can you set fields are optional/non-optional in MyObject? Not sure how to find proper documentation for this.."},{"owner":{"account_id":124893,"reputation":2803,"user_id":320299,"accept_rate":44,"display_name":"Jan"},"score":0,"creation_date":1450170718,"post_id":16942352,"comment_id":56311572,"body_markdown":"Works perfectly. Do you have a link to the documentation, specifically if  I can combine it with @Valid?","body":"Works perfectly. Do you have a link to the documentation, specifically if  I can combine it with @Valid?"},{"owner":{"account_id":43300,"reputation":9257,"user_id":126529,"accept_rate":54,"display_name":"Alexey"},"score":8,"creation_date":1485167893,"post_id":16942352,"comment_id":70796150,"body_markdown":"@Biju, Is there a way to control default values and required for `MyObject` then, in a similar way we can do with @RequestParam?","body":"@Biju, Is there a way to control default values and required for <code>MyObject</code> then, in a similar way we can do with @RequestParam?"},{"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"score":2,"creation_date":1485392735,"post_id":16942352,"comment_id":70912391,"body_markdown":"Yes @Alexey, you can do this via `@ModelAttribute` - if you have a `@ModelAttribute` annotated method you can provide the default values there and then your real method can add in other details from the request  - here is a link with more information on how to do this: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-ann-modelattrib-methods","body":"Yes @Alexey, you can do this via <code>@ModelAttribute</code> - if you have a <code>@ModelAttribute</code> annotated method you can provide the default values there and then your real method can add in other details from the request  - here is a link with more information on how to do this: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-ann-modelattrib-methods\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":470693,"reputation":1826,"user_id":878015,"display_name":"David Can&#243;s"},"score":0,"creation_date":1498727874,"post_id":16942352,"comment_id":76622141,"body_markdown":"this solutions works with objects, but dont work with Lists. \nI&#39;m trying to get a List of MyObject. Any idea?","body":"this solutions works with objects, but dont work with Lists.  I&#39;m trying to get a List of MyObject. Any idea?"},{"owner":{"account_id":2232109,"reputation":1138,"user_id":1969412,"accept_rate":97,"display_name":"Vivek Vardhan"},"score":19,"creation_date":1502885868,"post_id":16942352,"comment_id":78384562,"body_markdown":"@BijuKunjummen How can I update the `MyObject` to accept query parameters in Snake case and map it to a camel case member of `MyObject`. For example, `?book_id=4`, should be mapped with `bookId` member of the `MyObject`?","body":"@BijuKunjummen How can I update the <code>MyObject</code> to accept query parameters in Snake case and map it to a camel case member of <code>MyObject</code>. For example, <code>?book_id=4</code>, should be mapped with <code>bookId</code> member of the <code>MyObject</code>?"},{"owner":{"account_id":8191349,"reputation":1224,"user_id":6165496,"accept_rate":80,"display_name":"RudyVerboven"},"score":0,"creation_date":1507294144,"post_id":16942352,"comment_id":80164008,"body_markdown":"@worldsayshi I suppose, since Java 8, you could use Optional fields for this.","body":"@worldsayshi I suppose, since Java 8, you could use Optional fields for this."},{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":0,"creation_date":1521475811,"post_id":16942352,"comment_id":85735737,"body_markdown":"If there is also an `@RequestParam` in the method parameters then the only way I could get this to work was by adding `@ModelAttribute`, if no `@RequestParam` are present, then using a plain object without annotation also worked.","body":"If there is also an <code>@RequestParam</code> in the method parameters then the only way I could get this to work was by adding <code>@ModelAttribute</code>, if no <code>@RequestParam</code> are present, then using a plain object without annotation also worked."},{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":0,"creation_date":1537354869,"post_id":16942352,"comment_id":91752365,"body_markdown":"@worldsayshi If I got you right, you can validate body with `@Valid` &amp; standard validation annotations","body":"@worldsayshi If I got you right, you can validate body with <code>@Valid</code> &amp; standard validation annotations"},{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":7,"creation_date":1559770466,"post_id":16942352,"comment_id":99528096,"body_markdown":"I have request params as such: `page-number` and `page-size`. How will my request DTO object look like? In java, I can&#39;t create a field with the name `page-number` or `page-size`. Is there a way to tell spring that the request param with the given name should be mapped to this or that field? Please advise.","body":"I have request params as such: <code>page-number</code> and <code>page-size</code>. How will my request DTO object look like? In java, I can&#39;t create a field with the name <code>page-number</code> or <code>page-size</code>. Is there a way to tell spring that the request param with the given name should be mapped to this or that field? Please advise."},{"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"score":0,"creation_date":1618233315,"post_id":16942352,"comment_id":118532714,"body_markdown":"To add on [aka_sh(]https://stackoverflow.com/users/271146/aka-sh) comment. You can still make it work with Jackson Annotation, or Mixins. `class MyObject {\n    public final String prop1;\n@JsonCreator MyObject(@JsonProperty(&quot;prop1&quot;) String prop1){}\n}`. Then you don&#39;t need gettter/settters.","body":"To add on [aka_sh(]<a href=\"https://stackoverflow.com/users/271146/aka-sh\">stackoverflow.com/users/271146/aka-sh</a>) comment. You can still make it work with Jackson Annotation, or Mixins. <code>class MyObject {     public final String prop1; @JsonCreator MyObject(@JsonProperty(&quot;prop1&quot;) String prop1){} }</code>. Then you don&#39;t need gettter/settters."},{"owner":{"account_id":7830284,"reputation":984,"user_id":6039697,"display_name":"Michael Pacheco"},"score":0,"creation_date":1623795470,"post_id":16942352,"comment_id":120179075,"body_markdown":"How can I define a LocalDateTime filter in my dto?","body":"How can I define a LocalDateTime filter in my dto?"},{"owner":{"account_id":3459925,"reputation":3985,"user_id":2897365,"display_name":"varotariya vajsi"},"score":0,"creation_date":1646306674,"post_id":16942352,"comment_id":126092972,"body_markdown":"@@worldsayshi for that you have to add all the required parameters along with this method.....like in this example MyObject have two parameters &quot;page&quot; and &quot;anotherparam&quot; , now you can set required to true or false\npublic @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = &quot;page&quot;, required = false) int page,\n    @RequestParam(value = &quot;anotherparam&quot;, required = true) String something,\n    MyObject myObject)","body":"@@worldsayshi for that you have to add all the required parameters along with this method.....like in this example MyObject have two parameters &quot;page&quot; and &quot;anotherparam&quot; , now you can set required to true or false public @ResponseBody List&lt;MyObject&gt; myAction(     @RequestParam(value = &quot;page&quot;, required = false) int page,     @RequestParam(value = &quot;anotherparam&quot;, required = true) String something,     MyObject myObject)"},{"owner":{"account_id":10206684,"reputation":117,"user_id":7535195,"accept_rate":50,"display_name":"Unity"},"score":1,"creation_date":1661867408,"post_id":16942352,"comment_id":129870177,"body_markdown":"how do you call the API ? I used exchange but it didnt work. how do you put the object as a parameter ?","body":"how do you call the API ? I used exchange but it didnt work. how do you put the object as a parameter ?"}],"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":15,"down_vote_count":5,"up_vote_count":366,"is_accepted":true,"score":361,"last_activity_date":1370441809,"creation_date":1370441809,"answer_id":16942352,"question_id":16942193,"body_markdown":"You can absolutely do that, just remove the `@RequestParam` annotation, Spring will cleanly bind your request parameters to your class instance:\r\n\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        MyObject myObject)","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>You can absolutely do that, just remove the <code>@RequestParam</code> annotation, Spring will cleanly bind your request parameters to your class instance:</p>\n\n<pre><code>public @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    MyObject myObject)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1376876,"reputation":1243,"user_id":1310733,"display_name":"Petr &#218;jezdsk&#253;"},"score":5,"creation_date":1481747418,"post_id":22649971,"comment_id":69505388,"body_markdown":"I am having exactly the same issue too. I did cleaner workaround using `@RequestMapping(method = POST, path = &quot;/settings/{projectId}&quot;)\n    public void settings(@PathVariable String projectId, @RequestBody ProjectSettings settings)`","body":"I am having exactly the same issue too. I did cleaner workaround using <code>@RequestMapping(method = POST, path = &quot;&#47;settings&#47;{projectId}&quot;)     public void settings(@PathVariable String projectId, @RequestBody ProjectSettings settings)</code>"},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":0,"creation_date":1640372675,"post_id":22649971,"comment_id":124580106,"body_markdown":"@Petr &#218;jezdsk&#253; your solution is not feasible because it completely changes the API (using request body instead of request parameter)","body":"@Petr &#218;jezdsk&#253; your solution is not feasible because it completely changes the API (using request body instead of request parameter)"}],"tags":[],"owner":{"account_id":910866,"reputation":2490,"user_id":944768,"accept_rate":48,"display_name":"hevi"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1395798476,"creation_date":1395798476,"answer_id":22649971,"question_id":16942193,"body_markdown":"I have a very similar problem. Actually the problem is deeper as I thought. I am using jquery `$.post` which uses `Content-Type:application/x-www-form-urlencoded; charset=UTF-8` as default. Unfortunately I based my system on that and when I needed a complex object as a `@RequestParam` I couldn&#39;t just make it happen.\r\n\r\nIn my case I am trying to send user preferences with something like;\r\n\r\n     $.post(&quot;/updatePreferences&quot;,  \r\n        {id: &#39;pr&#39;, preferences: p}, \r\n        function (response) {\r\n     ...\r\n\r\nOn client side the actual raw data sent to the server is; \r\n\r\n    ...\r\n    id=pr&amp;preferences%5BuserId%5D=1005012365&amp;preferences%5Baudio%5D=false&amp;preferences%5Btooltip%5D=true&amp;preferences%5Blanguage%5D=en\r\n    ...\r\nparsed as;\r\n\r\n    id:pr\r\n    preferences[userId]:1005012365\r\n    preferences[audio]:false\r\n    preferences[tooltip]:true\r\n    preferences[language]:en\r\n\r\nand the server side is;\r\n\r\n    @RequestMapping(value = &quot;/updatePreferences&quot;)\r\n    public\r\n    @ResponseBody\r\n    Object updatePreferences(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;preferences&quot;) UserPreferences preferences) {\r\n\r\n        ...\r\n            return someService.call(preferences);\r\n        ...\r\n    }\r\n\r\nI tried `@ModelAttribute`, added setter/getters, constructors with all possibilities to `UserPreferences` but no chance as it recognized the sent data as 5 parameters but in fact the mapped method has only 2 parameters. I also tried Biju&#39;s solution however what happens is that, spring creates an UserPreferences object with default constructor and doesn&#39;t fill in the data.\r\n\r\nI solved the problem by sending JSon string of the preferences from the client side and handle it as if it is a String on the server side;\r\n\r\nclient:\r\n\r\n    \r\n     $.post(&quot;/updatePreferences&quot;,  \r\n        {id: &#39;pr&#39;, preferences: JSON.stringify(p)}, \r\n        function (response) {\r\n     ...\r\n\r\nserver:\r\n\r\n    @RequestMapping(value = &quot;/updatePreferences&quot;)\r\n    public\r\n    @ResponseBody\r\n    Object updatePreferences(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;preferences&quot;) String preferencesJSon) {\r\n\r\n\r\n            String ret = null;\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                UserPreferences userPreferences = mapper.readValue(preferencesJSon, UserPreferences.class);\r\n                return someService.call(userPreferences);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\nto brief, I did the conversion manually inside the REST method. In my opinion the reason why spring doesn&#39;t recognize the sent data is the content-type.","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>I have a very similar problem. Actually the problem is deeper as I thought. I am using jquery <code>$.post</code> which uses <code>Content-Type:application/x-www-form-urlencoded; charset=UTF-8</code> as default. Unfortunately I based my system on that and when I needed a complex object as a <code>@RequestParam</code> I couldn't just make it happen.</p>\n\n<p>In my case I am trying to send user preferences with something like;</p>\n\n<pre><code> $.post(\"/updatePreferences\",  \n    {id: 'pr', preferences: p}, \n    function (response) {\n ...\n</code></pre>\n\n<p>On client side the actual raw data sent to the server is; </p>\n\n<pre><code>...\nid=pr&amp;preferences%5BuserId%5D=1005012365&amp;preferences%5Baudio%5D=false&amp;preferences%5Btooltip%5D=true&amp;preferences%5Blanguage%5D=en\n...\n</code></pre>\n\n<p>parsed as;</p>\n\n<pre><code>id:pr\npreferences[userId]:1005012365\npreferences[audio]:false\npreferences[tooltip]:true\npreferences[language]:en\n</code></pre>\n\n<p>and the server side is;</p>\n\n<pre><code>@RequestMapping(value = \"/updatePreferences\")\npublic\n@ResponseBody\nObject updatePreferences(@RequestParam(\"id\") String id, @RequestParam(\"preferences\") UserPreferences preferences) {\n\n    ...\n        return someService.call(preferences);\n    ...\n}\n</code></pre>\n\n<p>I tried <code>@ModelAttribute</code>, added setter/getters, constructors with all possibilities to <code>UserPreferences</code> but no chance as it recognized the sent data as 5 parameters but in fact the mapped method has only 2 parameters. I also tried Biju's solution however what happens is that, spring creates an UserPreferences object with default constructor and doesn't fill in the data.</p>\n\n<p>I solved the problem by sending JSon string of the preferences from the client side and handle it as if it is a String on the server side;</p>\n\n<p>client:</p>\n\n<pre><code> $.post(\"/updatePreferences\",  \n    {id: 'pr', preferences: JSON.stringify(p)}, \n    function (response) {\n ...\n</code></pre>\n\n<p>server:</p>\n\n<pre><code>@RequestMapping(value = \"/updatePreferences\")\npublic\n@ResponseBody\nObject updatePreferences(@RequestParam(\"id\") String id, @RequestParam(\"preferences\") String preferencesJSon) {\n\n\n        String ret = null;\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            UserPreferences userPreferences = mapper.readValue(preferencesJSon, UserPreferences.class);\n            return someService.call(userPreferences);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>to brief, I did the conversion manually inside the REST method. In my opinion the reason why spring doesn't recognize the sent data is the content-type.</p>\n"},{"comments":[{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":2,"creation_date":1464357974,"post_id":25768251,"comment_id":62467376,"body_markdown":"is it possible to set &quot;required&quot; to dto fields?","body":"is it possible to set &quot;required&quot; to dto fields?"},{"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"score":4,"creation_date":1464364381,"post_id":25768251,"comment_id":62471797,"body_markdown":"I suggest to try with Spring MVC validators. Example: http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api","body":"I suggest to try with Spring MVC validators. Example: <a href=\"http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api\" rel=\"nofollow noreferrer\">codejava.net/frameworks/spring/&hellip;</a>"},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":0,"creation_date":1535739056,"post_id":25768251,"comment_id":91192706,"body_markdown":"It&#39;s very curious that this does not require an annotation! I wonder, is there an explicit annotation for this albeit unnecessary?","body":"It&#39;s very curious that this does not require an annotation! I wonder, is there an explicit annotation for this albeit unnecessary?"},{"owner":{"account_id":9117152,"reputation":121,"user_id":6783933,"display_name":"Yoann CAPLAIN"},"score":0,"creation_date":1601026366,"post_id":25768251,"comment_id":113282049,"body_markdown":"This behavior difference with java/kotlin should be an error. I created an issue. Spend few hours to search why it was not working but I used to have no problem in java. See https://github.com/spring-projects/spring-framework/issues/25815","body":"This behavior difference with java/kotlin should be an error. I created an issue. Spend few hours to search why it was not working but I used to have no problem in java. See <a href=\"https://github.com/spring-projects/spring-framework/issues/25815\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/25815</a>"},{"owner":{"account_id":7088270,"reputation":448,"user_id":5424502,"display_name":"Mohsen"},"score":0,"creation_date":1609862399,"post_id":25768251,"comment_id":115951478,"body_markdown":"Thanks for Kotlin way, but there is any way to immutable object and use val instead var to work ?","body":"Thanks for Kotlin way, but there is any way to immutable object and use val instead var to work ?"}],"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"comment_count":5,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1531904451,"creation_date":1410359797,"answer_id":25768251,"question_id":16942193,"body_markdown":"I will add some short example from me.\r\n\r\nThe DTO class:\r\n\r\n    public class SearchDTO {\r\n\t    private Long id[];\r\n\r\n\t    public Long[] getId() {\r\n\t\t    return id;\r\n\t    }\r\n\r\n\t    public void setId(Long[] id) {\r\n\t\t    this.id = id;\r\n\t    }\r\n        // reflection toString from apache commons\r\n        @Override\r\n\t    public String toString() {\r\n\t\t    return ReflectionToStringBuilder.toString(this, ToStringStyle.SHORT_PREFIX_STYLE);\r\n\t    }\r\n    }\r\n\r\nRequest mapping inside controller class:\r\n\r\n\t@RequestMapping(value=&quot;/handle&quot;, method=RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic String handleRequest(SearchDTO search) {\r\n\t\tLOG.info(&quot;criteria: {}&quot;, search);\r\n\t\treturn &quot;OK&quot;;\r\n\t}\r\n\r\nQuery:\r\n\r\n    http://localhost:8080/app/handle?id=353,234\r\n\r\nResult:\r\n\r\n    [http-apr-8080-exec-7] INFO  c.g.g.r.f.w.ExampleController.handleRequest:59 - criteria: SearchDTO[id={353,234}]\r\n\r\nI hope it helps :)\r\n\r\n**UPDATE / KOTLIN**\r\n\r\nBecause currently I&#39;m working a lot of with Kotlin if someone wants to define similar DTO the class in Kotlin should have the following form:\r\n\r\n    class SearchDTO {\r\n        var id: Array&lt;Long&gt;? = arrayOf()\r\n\r\n        override fun toString(): String {\r\n            // to string implementation\r\n        }\r\n    }\r\n\r\nWith the `data` class like this one:\r\n\r\n    data class SearchDTO(var id: Array&lt;Long&gt; = arrayOf())\r\n\r\nthe Spring (tested in Boot) returns the following error for request mentioned in answer:\r\n\r\n&gt; &quot;Failed to convert value of type &#39;java.lang.String[]&#39; to required type\r\n&gt; &#39;java.lang.Long[]&#39;; nested exception is\r\n&gt; java.lang.NumberFormatException: For input string: \\&quot;353,234\\&quot;&quot;\r\n\r\nThe data class will work only for the following request params form:\r\n\r\n    http://localhost:8080/handle?id=353&amp;id=234\r\n\r\nBe aware of this!","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>I will add some short example from me.</p>\n\n<p>The DTO class:</p>\n\n<pre><code>public class SearchDTO {\n    private Long id[];\n\n    public Long[] getId() {\n        return id;\n    }\n\n    public void setId(Long[] id) {\n        this.id = id;\n    }\n    // reflection toString from apache commons\n    @Override\n    public String toString() {\n        return ReflectionToStringBuilder.toString(this, ToStringStyle.SHORT_PREFIX_STYLE);\n    }\n}\n</code></pre>\n\n<p>Request mapping inside controller class:</p>\n\n<pre><code>@RequestMapping(value=\"/handle\", method=RequestMethod.GET)\n@ResponseBody\npublic String handleRequest(SearchDTO search) {\n    LOG.info(\"criteria: {}\", search);\n    return \"OK\";\n}\n</code></pre>\n\n<p>Query:</p>\n\n<pre><code>http://localhost:8080/app/handle?id=353,234\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[http-apr-8080-exec-7] INFO  c.g.g.r.f.w.ExampleController.handleRequest:59 - criteria: SearchDTO[id={353,234}]\n</code></pre>\n\n<p>I hope it helps :)</p>\n\n<p><strong>UPDATE / KOTLIN</strong></p>\n\n<p>Because currently I'm working a lot of with Kotlin if someone wants to define similar DTO the class in Kotlin should have the following form:</p>\n\n<pre><code>class SearchDTO {\n    var id: Array&lt;Long&gt;? = arrayOf()\n\n    override fun toString(): String {\n        // to string implementation\n    }\n}\n</code></pre>\n\n<p>With the <code>data</code> class like this one:</p>\n\n<pre><code>data class SearchDTO(var id: Array&lt;Long&gt; = arrayOf())\n</code></pre>\n\n<p>the Spring (tested in Boot) returns the following error for request mentioned in answer:</p>\n\n<blockquote>\n  <p>\"Failed to convert value of type 'java.lang.String[]' to required type\n  'java.lang.Long[]'; nested exception is\n  java.lang.NumberFormatException: For input string: \\\"353,234\\\"\"</p>\n</blockquote>\n\n<p>The data class will work only for the following request params form:</p>\n\n<pre><code>http://localhost:8080/handle?id=353&amp;id=234\n</code></pre>\n\n<p>Be aware of this!</p>\n"},{"comments":[{"owner":{"account_id":8705456,"reputation":448,"user_id":6513660,"display_name":"Wall-E"},"score":0,"creation_date":1608238548,"post_id":54593488,"comment_id":115530065,"body_markdown":"Doest that work today? Tried here, but the validations that I set on the pojo didnt work.","body":"Doest that work today? Tried here, but the validations that I set on the pojo didnt work."},{"owner":{"account_id":3151203,"reputation":236,"user_id":2664623,"display_name":"FluffyDestroyerOfCode"},"score":1,"creation_date":1608456803,"post_id":54593488,"comment_id":115585390,"body_markdown":"Yes it still works. Maybe this question will help you https://stackoverflow.com/questions/43436804/spring-valid-doesnt-work\n\nIf you need more assistance I need some example code to look at it further.","body":"Yes it still works. Maybe this question will help you <a href=\"https://stackoverflow.com/questions/43436804/spring-valid-doesnt-work\" title=\"spring valid doesnt work\">stackoverflow.com/questions/43436804/spring-valid-doesnt-wor&zwnj;&#8203;k</a>  If you need more assistance I need some example code to look at it further."}],"tags":[],"owner":{"account_id":3151203,"reputation":236,"user_id":2664623,"display_name":"FluffyDestroyerOfCode"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1608456646,"creation_date":1549632641,"answer_id":54593488,"question_id":16942193,"body_markdown":"Since the question on how to set fields mandatory pops up under each post, I wrote a small example on how to set fields as required:\r\n\r\n    public class ExampleDTO {\r\n\t\t@NotNull\r\n\t\tprivate String mandatoryParam;\r\n\r\n\t\tprivate String optionalParam;\r\n\t\t\r\n\t\t@DateTimeFormat(iso = ISO.DATE) //accept Dates only in YYYY-MM-DD\r\n\t\t@NotNull\r\n\t\tprivate LocalDate testDate;\r\n\r\n\t\tpublic String getMandatoryParam() {\r\n\t\t\treturn mandatoryParam;\r\n\t\t}\r\n\t\tpublic void setMandatoryParam(String mandatoryParam) {\r\n\t\t\tthis.mandatoryParam = mandatoryParam;\r\n\t\t}\r\n\t\tpublic String getOptionalParam() {\r\n\t\t\treturn optionalParam;\r\n\t\t}\r\n\t\tpublic void setOptionalParam(String optionalParam) {\r\n\t\t\tthis.optionalParam = optionalParam;\r\n\t\t}\r\n\t\tpublic LocalDate getTestDate() {\r\n\t\t\treturn testDate;\r\n\t\t}\r\n\t\tpublic void setTestDate(LocalDate testDate) {\r\n\t\t\tthis.testDate = testDate;\r\n\t\t}\r\n    }\r\n\r\n    //Add this to your rest controller class\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testComplexObject (@Valid ExampleDTO e){\r\n    \tSystem.out.println(e.getMandatoryParam() + &quot; &quot; + e.getTestDate());\r\n    \treturn &quot;Does this work?&quot;;\r\n    }","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Since the question on how to set fields mandatory pops up under each post, I wrote a small example on how to set fields as required:</p>\n<pre><code>public class ExampleDTO {\n    @NotNull\n    private String mandatoryParam;\n\n    private String optionalParam;\n    \n    @DateTimeFormat(iso = ISO.DATE) //accept Dates only in YYYY-MM-DD\n    @NotNull\n    private LocalDate testDate;\n\n    public String getMandatoryParam() {\n        return mandatoryParam;\n    }\n    public void setMandatoryParam(String mandatoryParam) {\n        this.mandatoryParam = mandatoryParam;\n    }\n    public String getOptionalParam() {\n        return optionalParam;\n    }\n    public void setOptionalParam(String optionalParam) {\n        this.optionalParam = optionalParam;\n    }\n    public LocalDate getTestDate() {\n        return testDate;\n    }\n    public void setTestDate(LocalDate testDate) {\n        this.testDate = testDate;\n    }\n}\n\n//Add this to your rest controller class\n@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\npublic String testComplexObject (@Valid ExampleDTO e){\n    System.out.println(e.getMandatoryParam() + &quot; &quot; + e.getTestDate());\n    return &quot;Does this work?&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2546796,"reputation":53,"user_id":2211446,"display_name":"DKO"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566511832,"creation_date":1566511832,"answer_id":57617593,"question_id":16942193,"body_markdown":"While answers that refer to `@ModelAttribute`, `@RequestParam`, `@PathParam` and the likes are valid, there is a small gotcha I ran into. The resulting method parameter is a proxy that Spring wraps around your DTO. So, if you attempt to use it in a context that requires your own custom type, you may get some unexpected results. \r\n\r\nThe following will not work:\r\n    \r\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CustomDto&gt; request(@ModelAttribute CustomDto dto) {\r\n        return ResponseEntity.ok(dto);\r\n    }\r\n\r\nIn my case, attempting to use it in Jackson binding resulted in a `com.fasterxml.jackson.databind.exc.InvalidDefinitionException`.\r\n\r\nYou will need to create a new object from the dto.","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>While answers that refer to <code>@ModelAttribute</code>, <code>@RequestParam</code>, <code>@PathParam</code> and the likes are valid, there is a small gotcha I ran into. The resulting method parameter is a proxy that Spring wraps around your DTO. So, if you attempt to use it in a context that requires your own custom type, you may get some unexpected results. </p>\n\n<p>The following will not work:</p>\n\n<pre><code>@GetMapping(produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;CustomDto&gt; request(@ModelAttribute CustomDto dto) {\n    return ResponseEntity.ok(dto);\n}\n</code></pre>\n\n<p>In my case, attempting to use it in Jackson binding resulted in a <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException</code>.</p>\n\n<p>You will need to create a new object from the dto.</p>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579453426,"creation_date":1579453426,"answer_id":59812367,"question_id":16942193,"body_markdown":"Yes, You can do it in a simple way. See below code of lines.\r\n\r\nURL - **http://localhost:8080/get/request/multiple/param/by/map?name=&#39;abc&#39; &amp; id=&#39;123&#39;**\r\n\r\n     @GetMapping(path = &quot;/get/request/header/by/map&quot;)\r\n\t\tpublic ResponseEntity&lt;String&gt; getRequestParamInMap(@RequestParam Map&lt;String,String&gt; map){\r\n\t\t\t// Do your business here \r\n\t\t\treturn new ResponseEntity&lt;String&gt;(map.toString(),HttpStatus.OK);\r\n\t\t} ","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Yes, You can do it in a simple way. See below code of lines.</p>\n\n<p>URL - <strong><a href=\"http://localhost:8080/get/request/multiple/param/by/map?name=\" rel=\"nofollow noreferrer\">http://localhost:8080/get/request/multiple/param/by/map?name=</a>'abc' &amp; id='123'</strong></p>\n\n<pre><code> @GetMapping(path = \"/get/request/header/by/map\")\n    public ResponseEntity&lt;String&gt; getRequestParamInMap(@RequestParam Map&lt;String,String&gt; map){\n        // Do your business here \n        return new ResponseEntity&lt;String&gt;(map.toString(),HttpStatus.OK);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7577228,"reputation":1078,"user_id":5749192,"accept_rate":100,"display_name":"Gabriel Brito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588129675,"creation_date":1588129675,"answer_id":61493556,"question_id":16942193,"body_markdown":"Accepted answer works like a charm but if the object has a list of objects it won&#39;t work as expected so here is my solution after some digging.\r\n\r\nFollowing [this thread][1] advice, here is how I&#39;ve done. \r\n\r\n - Frontend: stringify your object than encode it in base64 for submission. \r\n - Backend: decode base64 string then convert the string json into desired object. \r\n\r\nIt isn&#39;t the best for debugging your API with postman but it is working as expected for me.\r\n\r\n&gt; **Original object:** { page: 1, size: 5, filters: [{ field: &quot;id&quot;, value: 1, comparison: &quot;EQ&quot; }\r\n&gt; \r\n&gt; **Encoded object:** eyJwYWdlIjoxLCJzaXplIjo1LCJmaWx0ZXJzIjpbeyJmaWVsZCI6ImlkUGFyZW50IiwiY29tcGFyaXNvbiI6Ik5VTEwifV19 \r\n\r\n\r\n    @GetMapping\r\n    fun list(@RequestParam search: String?): ResponseEntity&lt;ListDTO&gt; {\r\n        val filter: SearchFilterDTO = decodeSearchFieldDTO(search)\r\n        ...\r\n    }\r\n    \r\n    private fun decodeSearchFieldDTO(search: String?): SearchFilterDTO {\r\n        if (search.isNullOrEmpty()) return SearchFilterDTO()\r\n        return Gson().fromJson(String(Base64.getDecoder().decode(search)), SearchFilterDTO::class.java)\r\n    }\r\n\r\nAnd here the SearchFilterDTO and FilterDTO\r\n\r\n    class SearchFilterDTO(\r\n        var currentPage: Int = 1,\r\n        var pageSize: Int = 10,\r\n        var sort: Sort? = null,\r\n        var column: String? = null,\r\n        var filters: List&lt;FilterDTO&gt; = ArrayList&lt;FilterDTO&gt;(),\r\n        var paged: Boolean = true\r\n    )\r\n    \r\n    class FilterDTO(\r\n        var field: String,\r\n        var value: Any,\r\n        var comparison: Comparison\r\n    )\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/353086/what-is-a-proper-way-to-do-a-complex-restful-search-method/353105#353105?newreg=d5e6360ebf2b434da957a9faa10bffe0","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Accepted answer works like a charm but if the object has a list of objects it won't work as expected so here is my solution after some digging.</p>\n\n<p>Following <a href=\"https://softwareengineering.stackexchange.com/questions/353086/what-is-a-proper-way-to-do-a-complex-restful-search-method/353105#353105?newreg=d5e6360ebf2b434da957a9faa10bffe0\">this thread</a> advice, here is how I've done. </p>\n\n<ul>\n<li>Frontend: stringify your object than encode it in base64 for submission. </li>\n<li>Backend: decode base64 string then convert the string json into desired object. </li>\n</ul>\n\n<p>It isn't the best for debugging your API with postman but it is working as expected for me.</p>\n\n<blockquote>\n  <p><strong>Original object:</strong> { page: 1, size: 5, filters: [{ field: \"id\", value: 1, comparison: \"EQ\" }</p>\n  \n  <p><strong>Encoded object:</strong> eyJwYWdlIjoxLCJzaXplIjo1LCJmaWx0ZXJzIjpbeyJmaWVsZCI6ImlkUGFyZW50IiwiY29tcGFyaXNvbiI6Ik5VTEwifV19 </p>\n</blockquote>\n\n<pre><code>@GetMapping\nfun list(@RequestParam search: String?): ResponseEntity&lt;ListDTO&gt; {\n    val filter: SearchFilterDTO = decodeSearchFieldDTO(search)\n    ...\n}\n\nprivate fun decodeSearchFieldDTO(search: String?): SearchFilterDTO {\n    if (search.isNullOrEmpty()) return SearchFilterDTO()\n    return Gson().fromJson(String(Base64.getDecoder().decode(search)), SearchFilterDTO::class.java)\n}\n</code></pre>\n\n<p>And here the SearchFilterDTO and FilterDTO</p>\n\n<pre><code>class SearchFilterDTO(\n    var currentPage: Int = 1,\n    var pageSize: Int = 10,\n    var sort: Sort? = null,\n    var column: String? = null,\n    var filters: List&lt;FilterDTO&gt; = ArrayList&lt;FilterDTO&gt;(),\n    var paged: Boolean = true\n)\n\nclass FilterDTO(\n    var field: String,\n    var value: Any,\n    var comparison: Comparison\n)\n</code></pre>\n"}],"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315244,"favorite_count":0,"down_vote_count":2,"up_vote_count":272,"accepted_answer_id":16942352,"answer_count":7,"score":270,"last_activity_date":1667132911,"creation_date":1370441414,"question_id":16942193,"body_markdown":"Suppose i have a page that lists the objects on a table and i need to put a form to filter the table. The filter is sent as an Ajax GET to an URL like that: http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z\r\n\r\nAnd instead of having lots of parameters on my Controller like:\r\n\r\n    @RequestMapping(value = &quot;/action&quot;)\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        @RequestParam(value = &quot;prop1&quot;, required = false) String prop1,\r\n        @RequestParam(value = &quot;prop2&quot;, required = false) String prop2,\r\n        @RequestParam(value = &quot;prop3&quot;, required = false) String prop3) { ... }\r\n\r\n\r\nAnd supposing i have MyObject as:\r\n\r\n    public class MyObject {\r\n        private String prop1;\r\n        private String prop2;\r\n        private String prop3;\r\n    \r\n        //Getters and setters\r\n        ...\r\n    }\r\n\r\n\r\nI wanna do something like:\r\n\r\n    @RequestMapping(value = &quot;/action&quot;)\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        @RequestParam(value = &quot;myObject&quot;, required = false) MyObject myObject,) { ... }\r\n\r\n\r\nIs it possible? \r\nHow can i do that?\r\n","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Suppose i have a page that lists the objects on a table and i need to put a form to filter the table. The filter is sent as an Ajax GET to an URL like that: <a href=\"http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z\">http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z</a></p>\n\n<p>And instead of having lots of parameters on my Controller like:</p>\n\n<pre><code>@RequestMapping(value = \"/action\")\npublic @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    @RequestParam(value = \"prop1\", required = false) String prop1,\n    @RequestParam(value = \"prop2\", required = false) String prop2,\n    @RequestParam(value = \"prop3\", required = false) String prop3) { ... }\n</code></pre>\n\n<p>And supposing i have MyObject as:</p>\n\n<pre><code>public class MyObject {\n    private String prop1;\n    private String prop2;\n    private String prop3;\n\n    //Getters and setters\n    ...\n}\n</code></pre>\n\n<p>I wanna do something like:</p>\n\n<pre><code>@RequestMapping(value = \"/action\")\npublic @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    @RequestParam(value = \"myObject\", required = false) MyObject myObject,) { ... }\n</code></pre>\n\n<p>Is it possible? \nHow can i do that?</p>\n"},{"tags":["java","bit-manipulation","swap"],"comments":[{"owner":{"account_id":1924489,"reputation":5462,"user_id":1735262,"display_name":"Reinstate Monica -- notmaynard"},"score":0,"creation_date":1365603851,"post_id":15928545,"comment_id":22690686,"body_markdown":"How long do you want it to not be? I don&#39;t think there&#39;s a built-in that specifically swaps bits.","body":"How long do you want it to not be? I don&#39;t think there&#39;s a built-in that specifically swaps bits."},{"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"score":0,"creation_date":1365603981,"post_id":15928545,"comment_id":22690774,"body_markdown":"not  exists such a function","body":"not  exists such a function"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1365604145,"post_id":15928545,"comment_id":22690865,"body_markdown":"&quot;Long procedure of bit-wise operation&quot; is the way to go, though it probably won&#39;t be that long.","body":"&quot;Long procedure of bit-wise operation&quot; is the way to go, though it probably won&#39;t be that long."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1365604614,"post_id":15928545,"comment_id":22691185,"body_markdown":"Java integer is **not 1 byte** like you show. Did you by any chance mean `byte?`","body":"Java integer is <b>not 1 byte</b> like you show. Did you by any chance mean <code>byte?</code>"},{"owner":{"account_id":1924489,"reputation":5462,"user_id":1735262,"display_name":"Reinstate Monica -- notmaynard"},"score":1,"creation_date":1365604738,"post_id":15928545,"comment_id":22691272,"body_markdown":"@PM77-1 I&#39;m guessing OP simplified it so as not to need to write 30 blank spaces.","body":"@PM77-1 I&#39;m guessing OP simplified it so as not to need to write 30 blank spaces."},{"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"score":0,"creation_date":1365604871,"post_id":15928545,"comment_id":22691373,"body_markdown":"@iamnotmaynard well you have to do AND operation and bring each bit in others corresponding location and then you can swap them by doing another bit-wise operation, i thought there might be some packages/libraries to this","body":"@iamnotmaynard well you have to do AND operation and bring each bit in others corresponding location and then you can swap them by doing another bit-wise operation, i thought there might be some packages/libraries to this"},{"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"score":0,"creation_date":1365604942,"post_id":15928545,"comment_id":22691425,"body_markdown":"@PM77-1 8 bits i showed is for simplicity but i wana do this for integers(32bits)","body":"@PM77-1 8 bits i showed is for simplicity but i wana do this for integers(32bits)"}],"answers":[{"tags":[],"owner":{"account_id":50244,"reputation":23397,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365604665,"creation_date":1365604665,"answer_id":15928897,"question_id":15928545,"body_markdown":"I&#39;m making it in details, but you can join it into single line\r\n\r\n     int temp1 = (i &amp; 0x1) &lt;&lt; 3; //extract lowest bit #1 and place at pos# 4\r\n     int temp2 = (i &amp; 0x8) &gt;&gt; 3; //extract bit #4 and place at pos #1\r\n     i = (i &amp; temp1) | (i &amp; ~temp1); //now pos #4 is ready     \r\n     i = (i &amp; temp2) | (i &amp; ~temp2); //now pos #1 is ready\r\n\r\n","title":"How can I swap two bits of integer in Java?","body":"<p>I'm making it in details, but you can join it into single line</p>\n\n<pre><code> int temp1 = (i &amp; 0x1) &lt;&lt; 3; //extract lowest bit #1 and place at pos# 4\n int temp2 = (i &amp; 0x8) &gt;&gt; 3; //extract bit #4 and place at pos #1\n i = (i &amp; temp1) | (i &amp; ~temp1); //now pos #4 is ready     \n i = (i &amp; temp2) | (i &amp; ~temp2); //now pos #1 is ready\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1365617161,"creation_date":1365605059,"answer_id":15929054,"question_id":15928545,"body_markdown":"Here&#39;s an alternative way, called a delta-swap.\r\n\r\n    int t = (i ^ (i &gt;&gt; 3)) &amp; 1;\r\n    return i ^ t ^ (t &lt;&lt; 3);\r\n\r\nOr more generally:\r\n\r\n    static int swap(int x, int i, int j)\r\n    {\r\n        // precondition: i &gt; j\r\n        int d = i - j;\r\n        int y = (x ^ (x &gt;&gt; d)) &amp; (1 &lt;&lt; j);\r\n        return x ^ y ^ (y &lt;&lt; d);\r\n    }","title":"How can I swap two bits of integer in Java?","body":"<p>Here's an alternative way, called a delta-swap.</p>\n\n<pre><code>int t = (i ^ (i &gt;&gt; 3)) &amp; 1;\nreturn i ^ t ^ (t &lt;&lt; 3);\n</code></pre>\n\n<p>Or more generally:</p>\n\n<pre><code>static int swap(int x, int i, int j)\n{\n    // precondition: i &gt; j\n    int d = i - j;\n    int y = (x ^ (x &gt;&gt; d)) &amp; (1 &lt;&lt; j);\n    return x ^ y ^ (y &lt;&lt; d);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1667132243,"creation_date":1365607597,"answer_id":15930102,"question_id":15928545,"body_markdown":"You can also try this way\r\n\r\n\t//positions are indexed from 0 and in order ...[4][3][2][1][0]\r\n\t//so changing 3 and 0 will make             ...[4][0][2][1][3]\r\n\tpublic static int swapBits(int n, int pos1, int pos2) {\r\n\r\n\t\tint bit1 = (n &gt;&gt; pos1) &amp; 1;// bit at pos1\r\n\t\tint bit2 = (n &gt;&gt; pos2) &amp; 1;// bit at pos2\r\n\r\n\t\tif (bit1 == bit2) // no need to swap since we change 1 with 1 or 0 with 0\r\n\t\t\treturn n;     // so we can return original value\r\n\r\n\t\t// Since we are here it means that we need to change 1-&gt;0 and 0-&gt;1.\r\n\t\t// To do this we can use XOR (^).\r\n\t\t// Lets create mask like 000001001 with 1 at positions which need &quot;reversing&quot;\r\n\t\tint mask = (1 &lt;&lt; pos1) | (1 &lt;&lt; pos2);\r\n\t\t\r\n\t\treturn n ^ mask;// TA-DAH!!!\r\n\t}","title":"How can I swap two bits of integer in Java?","body":"<p>You can also try this way</p>\n<pre><code>//positions are indexed from 0 and in order ...[4][3][2][1][0]\n//so changing 3 and 0 will make             ...[4][0][2][1][3]\npublic static int swapBits(int n, int pos1, int pos2) {\n\n    int bit1 = (n &gt;&gt; pos1) &amp; 1;// bit at pos1\n    int bit2 = (n &gt;&gt; pos2) &amp; 1;// bit at pos2\n\n    if (bit1 == bit2) // no need to swap since we change 1 with 1 or 0 with 0\n        return n;     // so we can return original value\n\n    // Since we are here it means that we need to change 1-&gt;0 and 0-&gt;1.\n    // To do this we can use XOR (^).\n    // Lets create mask like 000001001 with 1 at positions which need &quot;reversing&quot;\n    int mask = (1 &lt;&lt; pos1) | (1 &lt;&lt; pos2);\n    \n    return n ^ mask;// TA-DAH!!!\n}\n</code></pre>\n"}],"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7494,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":15928897,"answer_count":3,"score":7,"last_activity_date":1667132243,"creation_date":1365603733,"question_id":15928545,"body_markdown":"Is there a built in function in Java that I could use to swap two bits?\r\n\r\nFor example:\r\n\r\n_ _ _ _ 1 _ _ 0  bit 3 swapped with bit 0 and becomes   _ _ _ _ 0 _ _ 1\r\n\r\nI know it can be done using a long procedure of bit-wise operation, but I want to avoid doing so.","title":"How can I swap two bits of integer in Java?","body":"<p>Is there a built in function in Java that I could use to swap two bits?</p>\n\n<p>For example:</p>\n\n<p>_ _ _ _ 1 _ _ 0  bit 3 swapped with bit 0 and becomes   _ _ _ _ 0 _ _ 1</p>\n\n<p>I know it can be done using a long procedure of bit-wise operation, but I want to avoid doing so.</p>\n"},{"tags":["java","algorithm","search","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1335006101,"post_id":10258305,"comment_id":13188482,"body_markdown":"Just stop searching when you&#39;ve reached the max depth?","body":"Just stop searching when you&#39;ve reached the max depth?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1335006198,"post_id":10258305,"comment_id":13188509,"body_markdown":"just maintain a depth parameter is your bfs routine so that when you hit max you don&#39;t keep searching deeper","body":"just maintain a depth parameter is your bfs routine so that when you hit max you don&#39;t keep searching deeper"},{"owner":{"account_id":1262003,"reputation":11415,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"score":0,"creation_date":1335006459,"post_id":10258305,"comment_id":13188568,"body_markdown":"Can you explain with an exmaple?","body":"Can you explain with an exmaple?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1335006529,"post_id":10258305,"comment_id":13188586,"body_markdown":"Example: `if(currentdepth &gt; maxdepth) { /*stop*/ }` (or `if( currentdepth &lt; maxdepth) { /*put children to visit list*/ }`), there&#39;s nothing complicated to that.","body":"Example: <code>if(currentdepth &gt; maxdepth) { &#47;*stop*&#47; }</code> (or <code>if( currentdepth &lt; maxdepth) { &#47;*put children to visit list*&#47; }</code>), there&#39;s nothing complicated to that."},{"owner":{"account_id":1262003,"reputation":11415,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"score":0,"creation_date":1335006599,"post_id":10258305,"comment_id":13188607,"body_markdown":"Yes but the problem is to keep track of the current depth. With a queue (on a graph not tree)","body":"Yes but the problem is to keep track of the current depth. With a queue (on a graph not tree)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1335006744,"post_id":10258305,"comment_id":13188631,"body_markdown":"Well, you normally should know the depth of a node. If a node does have multiple parents (I assume so since you mentioned it being a graph) then the depth might either be the shortest or longest path to the root (if there is no root you&#39;ll have a problem anyways).","body":"Well, you normally should know the depth of a node. If a node does have multiple parents (I assume so since you mentioned it being a graph) then the depth might either be the shortest or longest path to the root (if there is no root you&#39;ll have a problem anyways)."},{"owner":{"account_id":66410,"reputation":7247,"user_id":194834,"display_name":"Rickard"},"score":2,"creation_date":1335006943,"post_id":10258305,"comment_id":13188676,"body_markdown":"Add the depth of the node together with the node to the entry you put in your queue.","body":"Add the depth of the node together with the node to the entry you put in your queue."}],"answers":[{"comments":[{"owner":{"account_id":3875331,"reputation":3564,"user_id":3209523,"display_name":"canbax"},"score":0,"creation_date":1597481333,"post_id":13150405,"comment_id":112150907,"body_markdown":"actually `timeToDepthIncrease` keeps the number of nodes in the queue from the upper level of the first element of a level. Correct me if I&#39;m wrong. Nice algorithms. Thanks","body":"actually <code>timeToDepthIncrease</code> keeps the number of nodes in the queue from the upper level of the first element of a level. Correct me if I&#39;m wrong. Nice algorithms. Thanks"},{"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"score":0,"creation_date":1597661504,"post_id":13150405,"comment_id":112196355,"body_markdown":"That sounds right, but I can&#39;t tell if you are claiming that my current explanation is wrong/misleading. If you are, could you clarify where you think I&#39;m going wrong? Thanks!","body":"That sounds right, but I can&#39;t tell if you are claiming that my current explanation is wrong/misleading. If you are, could you clarify where you think I&#39;m going wrong? Thanks!"},{"owner":{"account_id":3875331,"reputation":3564,"user_id":3209523,"display_name":"canbax"},"score":1,"creation_date":1597666780,"post_id":13150405,"comment_id":112198910,"body_markdown":"I don&#39;t think anything wrong here. I just wanted to understand the algorithm. To do that I think naming is important. I think instead of `timeToDepthIncrease` a name like `cntElementsInQueueFromUpperLevel` more explanatory and ugly ;)","body":"I don&#39;t think anything wrong here. I just wanted to understand the algorithm. To do that I think naming is important. I think instead of <code>timeToDepthIncrease</code> a name like <code>cntElementsInQueueFromUpperLevel</code> more explanatory and ugly ;)"}],"tags":[],"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1431446943,"creation_date":1351650356,"answer_id":13150405,"question_id":10258305,"body_markdown":"You can do this with constant space overhead.\r\n\r\nBFS has the property that unvisited nodes in the queue all have depths that never decrease, and increase by at most 1.  So as you read nodes from the BFS queue, you can keep track of the current depth in a single `depth` variable, which is initially 0.\r\n\r\nAll you need to do is record which node in the queue corresponds to the next depth increase.  You can do this simply by using a variable `timeToDepthIncrease` to record the number of elements that are already in the queue when you insert this node, and decrementing this counter whenever you pop a node from the queue.\r\n\r\nWhen it reaches zero, the next node you pop from the queue will be at a new, greater (by 1) depth, so:\r\n\r\n* Increment `depth`\r\n* Set `pendingDepthIncrease` to true\r\n\r\nWhenever you push a child node on the queue, first check whether `pendingDepthIncrease` is true.  If it is, this node will have greater depth, so set `timeToDepthIncrease` to the number of nodes in the queue before you push it, and reset `pendingDepthIncrease` to false.\r\n\r\nFinally, stop when `depth` exceeds the desired depth!  Every unvisited node that could appear later on must be at this depth or greater.\r\n\r\n**[EDIT: Thanks commenter keyser.]**","title":"How to implement a breadth first search to a certain depth?","body":"<p>You can do this with constant space overhead.</p>\n\n<p>BFS has the property that unvisited nodes in the queue all have depths that never decrease, and increase by at most 1.  So as you read nodes from the BFS queue, you can keep track of the current depth in a single <code>depth</code> variable, which is initially 0.</p>\n\n<p>All you need to do is record which node in the queue corresponds to the next depth increase.  You can do this simply by using a variable <code>timeToDepthIncrease</code> to record the number of elements that are already in the queue when you insert this node, and decrementing this counter whenever you pop a node from the queue.</p>\n\n<p>When it reaches zero, the next node you pop from the queue will be at a new, greater (by 1) depth, so:</p>\n\n<ul>\n<li>Increment <code>depth</code></li>\n<li>Set <code>pendingDepthIncrease</code> to true</li>\n</ul>\n\n<p>Whenever you push a child node on the queue, first check whether <code>pendingDepthIncrease</code> is true.  If it is, this node will have greater depth, so set <code>timeToDepthIncrease</code> to the number of nodes in the queue before you push it, and reset <code>pendingDepthIncrease</code> to false.</p>\n\n<p>Finally, stop when <code>depth</code> exceeds the desired depth!  Every unvisited node that could appear later on must be at this depth or greater.</p>\n\n<p><strong>[EDIT: Thanks commenter keyser.]</strong></p>\n"},{"comments":[{"owner":{"account_id":1382404,"reputation":3228,"user_id":1315125,"accept_rate":75,"display_name":"Igor L."},"score":0,"creation_date":1400331435,"post_id":16923440,"comment_id":36440104,"body_markdown":"Why no visited vector?","body":"Why no visited vector?"},{"owner":{"account_id":1382404,"reputation":3228,"user_id":1315125,"accept_rate":75,"display_name":"Igor L."},"score":0,"creation_date":1400331725,"post_id":16923440,"comment_id":36440212,"body_markdown":"Algorithm works well, but a lot of nodes have been visited more than once, which doesn&#39;t raise the performance","body":"Algorithm works well, but a lot of nodes have been visited more than once, which doesn&#39;t raise the performance"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1400334059,"post_id":16923440,"comment_id":36440838,"body_markdown":"Not if you assume that we handle a tree.","body":"Not if you assume that we handle a tree."},{"owner":{"account_id":1382404,"reputation":3228,"user_id":1315125,"accept_rate":75,"display_name":"Igor L."},"score":0,"creation_date":1400406184,"post_id":16923440,"comment_id":36457506,"body_markdown":"Good to know, thanks for our reply :)\n\nMaybe it would be good to inform about the asumption in the answer.","body":"Good to know, thanks for our reply :)  Maybe it would be good to inform about the asumption in the answer."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1400413456,"post_id":16923440,"comment_id":36459358,"body_markdown":"It&#39;s at least obvious from the comments now.","body":"It&#39;s at least obvious from the comments now."},{"owner":{"account_id":10542797,"reputation":756,"user_id":7768165,"display_name":"stephanmg"},"score":0,"creation_date":1554488481,"post_id":16923440,"comment_id":97785867,"body_markdown":"If I want to restart at a certain level, would I just return nodeQueue instead of return?","body":"If I want to restart at a certain level, would I just return nodeQueue instead of return?"}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1370555165,"creation_date":1370365026,"answer_id":16923440,"question_id":10258305,"body_markdown":"For future readers, look at this example of the algorithm described above. This implementation will monitor how many nodes the following level contains. In doing so, the implementation is able to keep track of the current depth. \r\n\r\n    void breadthFirst(Node parent, int maxDepth) {\r\n\r\n      if(maxDepth &lt; 0) {\r\n        return;\r\n      }\r\n    \r\n      Queue&lt;Node&gt; nodeQueue = new ArrayDeque&lt;Node&gt;();\r\n      nodeQueue.add(parent);\r\n    \r\n      int currentDepth = 0, \r\n          elementsToDepthIncrease = 1, \r\n          nextElementsToDepthIncrease = 0;\r\n    \r\n      while (!nodeQueue.isEmpty()) {\r\n        Node current = nodeQueue.poll();\r\n        process(current);\r\n        nextElementsToDepthIncrease += current.numberOfChildren();\r\n        if (--elementsToDepthIncrease == 0) {\r\n          if (++currentDepth &gt; maxDepth) return;\r\n          elementsToDepthIncrease = nextElementsToDepthIncrease;\r\n          nextElementsToDepthIncrease = 0;\r\n        }\r\n        for (Node child : current.children()) {\r\n          nodeQueue.add(child);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n    void process(Node node) {\r\n      // Do your own processing here. All nodes handed to\r\n      // this method will be within the specified depth limit.\r\n    }    ","title":"How to implement a breadth first search to a certain depth?","body":"<p>For future readers, look at this example of the algorithm described above. This implementation will monitor how many nodes the following level contains. In doing so, the implementation is able to keep track of the current depth. </p>\n\n<pre><code>void breadthFirst(Node parent, int maxDepth) {\n\n  if(maxDepth &lt; 0) {\n    return;\n  }\n\n  Queue&lt;Node&gt; nodeQueue = new ArrayDeque&lt;Node&gt;();\n  nodeQueue.add(parent);\n\n  int currentDepth = 0, \n      elementsToDepthIncrease = 1, \n      nextElementsToDepthIncrease = 0;\n\n  while (!nodeQueue.isEmpty()) {\n    Node current = nodeQueue.poll();\n    process(current);\n    nextElementsToDepthIncrease += current.numberOfChildren();\n    if (--elementsToDepthIncrease == 0) {\n      if (++currentDepth &gt; maxDepth) return;\n      elementsToDepthIncrease = nextElementsToDepthIncrease;\n      nextElementsToDepthIncrease = 0;\n    }\n    for (Node child : current.children()) {\n      nodeQueue.add(child);\n    }\n  }\n\n}\n\nvoid process(Node node) {\n  // Do your own processing here. All nodes handed to\n  // this method will be within the specified depth limit.\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3795445,"reputation":275,"user_id":3150658,"accept_rate":0,"display_name":"artofabhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470459863,"creation_date":1470459863,"answer_id":38800741,"question_id":10258305,"body_markdown":"This works. Assuming that visited flag is not there in Node. If isVisited is available, then there no need to tracker Map. \r\n\r\n    // k is depth, result should not contain initialNode.\r\n    public static Collection&lt;Node&gt; bfsWithK_Depth(Node initialNode, int k) {\r\n\r\n        if (initialNode == null || k &lt;= 0) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        Queue&lt;Node&gt; q = new LinkedList&lt;&gt;();\r\n        q.add(initialNode);\r\n        Map&lt;Node, Node&gt; tracker = new HashMap(); // no need if there is visited flag.\r\n        Collection&lt;Node&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        while (!q.isEmpty()) { // Q will be filled only with eligible nodes\r\n            --k ;\r\n            Node node = q.remove();\r\n            List&lt;Node&gt; neighbor = node.getNeighbor();\r\n            for (Node n : neighbor) {\r\n                if (tracker.get(n) == null &amp;&amp; k &gt; 0) {\r\n                    q.add(n);\r\n                }\r\n                if (tracker.get(n) == null) { \r\n                    tracker.put(n, n); \r\n                    result.add(n); // visit this node\r\n                }\r\n            }\r\n\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"How to implement a breadth first search to a certain depth?","body":"<p>This works. Assuming that visited flag is not there in Node. If isVisited is available, then there no need to tracker Map. </p>\n\n<pre><code>// k is depth, result should not contain initialNode.\npublic static Collection&lt;Node&gt; bfsWithK_Depth(Node initialNode, int k) {\n\n    if (initialNode == null || k &lt;= 0) {\n        return new ArrayList&lt;&gt;();\n    }\n\n    Queue&lt;Node&gt; q = new LinkedList&lt;&gt;();\n    q.add(initialNode);\n    Map&lt;Node, Node&gt; tracker = new HashMap(); // no need if there is visited flag.\n    Collection&lt;Node&gt; result = new ArrayList&lt;&gt;();\n\n    while (!q.isEmpty()) { // Q will be filled only with eligible nodes\n        --k ;\n        Node node = q.remove();\n        List&lt;Node&gt; neighbor = node.getNeighbor();\n        for (Node n : neighbor) {\n            if (tracker.get(n) == null &amp;&amp; k &gt; 0) {\n                q.add(n);\n            }\n            if (tracker.get(n) == null) { \n                tracker.put(n, n); \n                result.add(n); // visit this node\n            }\n        }\n\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3599116,"reputation":328,"user_id":3002853,"display_name":"a.s.p."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478197121,"creation_date":1478197121,"answer_id":40408634,"question_id":10258305,"body_markdown":"If you dont want to have a class node (and add a variable depth to your node) then you can have two maps for distance and visitedNodes or a 2d Array where each row is a node and column1:depth, column2: visited. Of course you can track both with one `map&lt;Node,Depth&gt;` (where Node is an instance of the class or int,String etc and Depth is an int that represent the Depth of the Node from the root node). if map contains a node (O(1) cost) then it is visited, if not proceed and add it to map with depth of current node +1.\r\n\r\n    public static void BfsToDepth(graph graphDb, Node rootNode, int depth) {\r\n        if(depth&lt;1)\r\n           return;\r\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\r\n        ResourceIterator&lt;Node&gt; nodesIterator = graphDb.getAllNodes().iterator();\r\n        LinkedHashMap&lt;Node, Boolean&gt; visited = new LinkedHashMap&lt;&gt;();\r\n        LinkedHashMap&lt;Node, Integer&gt; distance = new LinkedHashMap&lt;&gt;();\r\n        // Start: Bfs Init Step\r\n        if (nodesIterator.hasNext() == true) {\r\n            while (nodesIterator.hasNext()) {\r\n                Node currentNode = nodesIterator.next();\r\n                visited.put(currentNode, false);\r\n                distance.put(currentNode, Integer.MAX_VALUE);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No nodes found&quot;);\r\n        }\r\n        // End: Bfs Init Step \r\n\r\n        distance.put(rootNode, 0);\r\n        visited.put(rootNode, true);\r\n        queue.add(rootNode);\r\n        Node current = null;\r\n\r\n        while (queue.isEmpty() == false) {\r\n            current = queue.poll();\r\n            if (distance.get(current) &lt;= depth) {\r\n                Iterator&lt;Relationship&gt; relationships = current.getRelationships().iterator();\r\n                if (relationships.hasNext() == true) {\r\n                    while (relationships.hasNext()) {\r\n                        Relationship relationship = relationships.next();\r\n                        Node adjacent = relationship.getOtherNode(current);\r\n\r\n                        if (visited.get(adjacent) == false) {\r\n                            /*if you want to print the distance of each node from root then \r\n                            System.out.println(&quot;len: &quot;+ (distance.get(current) + 1)+&quot; to: &quot;+ adjacent);*/\r\n                            distance.put(adjacent, (distance.get(current) + 1));\r\n                            visited.put(adjacent, true);\r\n                            queue.add(adjacent);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to implement a breadth first search to a certain depth?","body":"<p>If you dont want to have a class node (and add a variable depth to your node) then you can have two maps for distance and visitedNodes or a 2d Array where each row is a node and column1:depth, column2: visited. Of course you can track both with one <code>map&lt;Node,Depth&gt;</code> (where Node is an instance of the class or int,String etc and Depth is an int that represent the Depth of the Node from the root node). if map contains a node (O(1) cost) then it is visited, if not proceed and add it to map with depth of current node +1.</p>\n\n<pre><code>public static void BfsToDepth(graph graphDb, Node rootNode, int depth) {\n    if(depth&lt;1)\n       return;\n    Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\n    ResourceIterator&lt;Node&gt; nodesIterator = graphDb.getAllNodes().iterator();\n    LinkedHashMap&lt;Node, Boolean&gt; visited = new LinkedHashMap&lt;&gt;();\n    LinkedHashMap&lt;Node, Integer&gt; distance = new LinkedHashMap&lt;&gt;();\n    // Start: Bfs Init Step\n    if (nodesIterator.hasNext() == true) {\n        while (nodesIterator.hasNext()) {\n            Node currentNode = nodesIterator.next();\n            visited.put(currentNode, false);\n            distance.put(currentNode, Integer.MAX_VALUE);\n        }\n    } else {\n        System.out.println(\"No nodes found\");\n    }\n    // End: Bfs Init Step \n\n    distance.put(rootNode, 0);\n    visited.put(rootNode, true);\n    queue.add(rootNode);\n    Node current = null;\n\n    while (queue.isEmpty() == false) {\n        current = queue.poll();\n        if (distance.get(current) &lt;= depth) {\n            Iterator&lt;Relationship&gt; relationships = current.getRelationships().iterator();\n            if (relationships.hasNext() == true) {\n                while (relationships.hasNext()) {\n                    Relationship relationship = relationships.next();\n                    Node adjacent = relationship.getOtherNode(current);\n\n                    if (visited.get(adjacent) == false) {\n                        /*if you want to print the distance of each node from root then \n                        System.out.println(\"len: \"+ (distance.get(current) + 1)+\" to: \"+ adjacent);*/\n                        distance.put(adjacent, (distance.get(current) + 1));\n                        visited.put(adjacent, true);\n                        queue.add(adjacent);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"score":0,"creation_date":1503758400,"post_id":44145005,"comment_id":78751925,"body_markdown":"This is a nice, simple solution, not sure why it got a -1.  It can in the worst case almost double the maximum queue size, however (consider a graph consisting of k paths of length n, all adjacent to a single vertex that is the root of the BFS).","body":"This is a nice, simple solution, not sure why it got a -1.  It can in the worst case almost double the maximum queue size, however (consider a graph consisting of k paths of length n, all adjacent to a single vertex that is the root of the BFS)."}],"tags":[],"owner":{"account_id":427505,"reputation":113,"user_id":809302,"display_name":"Somu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495589086,"creation_date":1495573506,"answer_id":44145005,"question_id":10258305,"body_markdown":"The easy Idea for keeping track of the depth is to add &quot;NULL&quot; to the Queue every time you go a level deep. As soon as you poll a null from the queue, Increase your level counter by 1 and add another &#39;null&#39; to the Queue. If you get two consecutive nulls you can exit from the loop. \r\n\r\n\r\n    q.offer(user);\r\n\tq.offer(null);\r\n\t\t\r\n\tuser.setVisited(true);\r\n\t\t\r\n\twhile(!q.isEmpty()){\r\n\t\t\t\r\n\t\tUser userFromQ = q.poll();\r\n\t\t\t\r\n\t    if(userFromQ == null){\r\n\t\t\tlevel++;\r\n\t\t\tq.offer(null);\r\n\t\t\tif(q.peek()==null)\r\n\t\t\t\tbreak;\r\n\t\t\telse\r\n\t\t\t\tcontinue;\r\n\t\t}\r\n","title":"How to implement a breadth first search to a certain depth?","body":"<p>The easy Idea for keeping track of the depth is to add \"NULL\" to the Queue every time you go a level deep. As soon as you poll a null from the queue, Increase your level counter by 1 and add another 'null' to the Queue. If you get two consecutive nulls you can exit from the loop. </p>\n\n<pre><code>q.offer(user);\nq.offer(null);\n\nuser.setVisited(true);\n\nwhile(!q.isEmpty()){\n\n    User userFromQ = q.poll();\n\n    if(userFromQ == null){\n        level++;\n        q.offer(null);\n        if(q.peek()==null)\n            break;\n        else\n            continue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17434000,"reputation":41,"user_id":12637437,"display_name":"Anders &#197;hsman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577911351,"creation_date":1577905677,"answer_id":59555331,"question_id":10258305,"body_markdown":"One simple way is to use a dictionary to keep track of the depth of each node when exploring the graph.\r\nThen just break if the max depth is reached. \r\n\r\nExample in Python:\r\n```\r\nfrom collections import deque\r\n\r\ndef bfs_maxdepth(graph, start, maxdepth):\r\n    queue = deque([start])\r\n    depths = {start: 0}\r\n    while queue:\r\n        vertex = queue.popleft()\r\n        if depths[vertex] == maxdepth:\r\n            break\r\n        for neighbour in graph[vertex]:\r\n            if neighbour in depths:\r\n                continue\r\n            queue.append(neighbour)\r\n            depths[neighbour] = depths[vertex] + 1\r\n    return depths","title":"How to implement a breadth first search to a certain depth?","body":"<p>One simple way is to use a dictionary to keep track of the depth of each node when exploring the graph.\nThen just break if the max depth is reached. </p>\n\n<p>Example in Python:</p>\n\n<pre><code>from collections import deque\n\ndef bfs_maxdepth(graph, start, maxdepth):\n    queue = deque([start])\n    depths = {start: 0}\n    while queue:\n        vertex = queue.popleft()\n        if depths[vertex] == maxdepth:\n            break\n        for neighbour in graph[vertex]:\n            if neighbour in depths:\n                continue\n            queue.append(neighbour)\n            depths[neighbour] = depths[vertex] + 1\n    return depths\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26775861,"reputation":1,"user_id":20371520,"display_name":"nandhakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667132131,"creation_date":1667132131,"answer_id":74252962,"question_id":10258305,"body_markdown":"this solution worked for me, it returns all the contents of vertex that can be accessible within the depth limit.\r\n``` lang-py\r\n\r\ndef bfs(graph,src,limit):\r\n  v = [src]\r\n  q = [src]\r\n  lastElement = src\r\n  \r\n  while len(q) &gt; 0 and limit &gt; 0:\r\n    ele = q.pop(0)\r\n\r\n    for i in graph[ele]:\r\n      if i not in v:\r\n        q.append(i)\r\n        v.append(i)\r\n\r\n    if len(q) &gt; 0 and ele == lastElement:        \r\n      lastElement = q[-1]\r\n      limit -= 1\r\n\r\n  return v\r\n\r\n\r\n```","title":"How to implement a breadth first search to a certain depth?","body":"<p>this solution worked for me, it returns all the contents of vertex that can be accessible within the depth limit.</p>\n<pre class=\"lang-py prettyprint-override\"><code>\ndef bfs(graph,src,limit):\n  v = [src]\n  q = [src]\n  lastElement = src\n  \n  while len(q) &gt; 0 and limit &gt; 0:\n    ele = q.pop(0)\n\n    for i in graph[ele]:\n      if i not in v:\n        q.append(i)\n        v.append(i)\n\n    if len(q) &gt; 0 and ele == lastElement:        \n      lastElement = q[-1]\n      limit -= 1\n\n  return v\n\n\n</code></pre>\n"}],"owner":{"account_id":1262003,"reputation":11415,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24781,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":13150405,"answer_count":7,"score":15,"last_activity_date":1667132131,"creation_date":1335005819,"question_id":10258305,"body_markdown":"I understand and can easily implement BFS.\r\n\r\nMy question is, how can we make this BFS limited to a certain depth? Suppose, I just need to go 10 level deep.","title":"How to implement a breadth first search to a certain depth?","body":"<p>I understand and can easily implement BFS.</p>\n\n<p>My question is, how can we make this BFS limited to a certain depth? Suppose, I just need to go 10 level deep.</p>\n"},{"tags":["java","list","memory","hashmap","space"],"comments":[{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748662,"post_id":73665506,"comment_id":130086036,"body_markdown":"Alexander what is your point?","body":"Alexander what is your point?"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748924,"post_id":73665506,"comment_id":130086105,"body_markdown":"yes, O(n log n) @AlexanderIvanchenko","body":"yes, O(n log n) @AlexanderIvanchenko"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1662749225,"post_id":73665506,"comment_id":130086183,"body_markdown":"I had a similar need and ended up building a hash map that was backed by a fast in process, key value, disk storage system. For example https://code.google.com/archive/p/jdbm2/","body":"I had a similar need and ended up building a hash map that was backed by a fast in process, key value, disk storage system. For example <a href=\"https://code.google.com/archive/p/jdbm2/\" rel=\"nofollow noreferrer\">code.google.com/archive/p/jdbm2</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1662749750,"post_id":73665506,"comment_id":130086311,"body_markdown":"@user16320675 `or memory, I would try removing entries with count &gt; 3` - I doubt if this can be efficient, since these entries might repair. And it&#39;s error-prone. Consider that there&#39;s a string that occur `7` times. The entry gets removed when the count is `4`, and then it reappears with the count of `3` - bingo, now it can affect the result.","body":"@user16320675 <code>or memory, I would try removing entries with count &gt; 3</code> - I doubt if this can be efficient, since these entries might repair. And it&#39;s error-prone. Consider that there&#39;s a string that occur <code>7</code> times. The entry gets removed when the count is <code>4</code>, and then it reappears with the count of <code>3</code> - bingo, now it can affect the result."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662750409,"post_id":73665506,"comment_id":130086474,"body_markdown":"@AlexanderIvanchenko okey how?","body":"@AlexanderIvanchenko okey how?"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662745852,"post_id":73665671,"comment_id":130085287,"body_markdown":"The values returned by hashCode, for any class, are explicitly and deliberately not required to be unique.  Two different strings could have the same hash code.  (Though I haven’t actually looked into how to make this happen.)","body":"The values returned by hashCode, for any class, are explicitly and deliberately not required to be unique.  Two different strings could have the same hash code.  (Though I haven’t actually looked into how to make this happen.)"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662746367,"post_id":73665671,"comment_id":130085409,"body_markdown":"@VGR They are not unique as in a `String` and `Point` objects can return the same hash, but: _&quot; the hashCode method must consistently return the same integer&quot;_ [source](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--). That&#39;s the value used by `HashMap` after all.","body":"@VGR They are not unique as in a <code>String</code> and <code>Point</code> objects can return the same hash, but: <i>&quot; the hashCode method must consistently return the same integer&quot;</i> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\" rel=\"nofollow noreferrer\">source</a>. That&#39;s the value used by <code>HashMap</code> after all."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1662746446,"post_id":73665671,"comment_id":130085426,"body_markdown":"Right, but if the hash code is used as a key, you are counting occurrences of each hash code.  If two strings happen to generate the same hash code, you are counting both of them together.","body":"Right, but if the hash code is used as a key, you are counting occurrences of each hash code.  If two strings happen to generate the same hash code, you are counting both of them together."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1662747054,"post_id":73665671,"comment_id":130085613,"body_markdown":"yes, it &quot;*must consistently return the same integer*&quot; but that must and cannot be unique for different strings! There are more different strings than integers - e.g `&quot;0O&quot;.hasCode() == &quot;10&quot;.hashCode()`","body":"yes, it &quot;<i>must consistently return the same integer</i>&quot; but that must and cannot be unique for different strings! There are more different strings than integers - e.g <code>&quot;0O&quot;.hasCode() == &quot;10&quot;.hashCode()</code>"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662747207,"post_id":73665671,"comment_id":130085649,"body_markdown":"So is the solution not valid?","body":"So is the solution not valid?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1662747513,"post_id":73665671,"comment_id":130085730,"body_markdown":"(obviously I meant `&quot;0O&quot;.hashCode() == &quot;10&quot;.hashCode()`) @Zed  -  that depends on your requirements, probably you don&#39;t want to risk  having different strings to be counted together (this can be used as an approximation or first guess)","body":"(obviously I meant <code>&quot;0O&quot;.hashCode() == &quot;10&quot;.hashCode()</code>) @Zed  -  that depends on your requirements, probably you don&#39;t want to risk  having different strings to be counted together (this can be used as an approximation or first guess)"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662747566,"post_id":73665671,"comment_id":130085745,"body_markdown":"@ZedORYasuo is up to you and your use case. The points brought by VGR and user123 are valid:  two different Strings can compute the same hashcode (and your original code would have exactly the same problem)  I personally (and gazzllions of Java code)  happily use  `String#hashCode()` all the time.  You can add an extra computation (e.g. int x = hash^31) but then you&#39;ll land on a realm better solve by the core libraries.","body":"@ZedORYasuo is up to you and your use case. The points brought by VGR and user123 are valid:  two different Strings can compute the same hashcode (and your original code would have exactly the same problem)  I personally (and gazzllions of Java code)  happily use  <code>String#hashCode()</code> all the time.  You can add an extra computation (e.g. int x = hash^31) but then you&#39;ll land on a realm better solve by the core libraries."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662747988,"post_id":73665671,"comment_id":130085866,"body_markdown":"@user16320675 I didn&#39;t know it was so common. I think this solution is still valid **IF** a better computation is made. I&#39;ll update my answer.","body":"@user16320675 I didn&#39;t know it was so common. I think this solution is still valid <b>IF</b> a better computation is made. I&#39;ll update my answer."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748030,"post_id":73665671,"comment_id":130085878,"body_markdown":"Okay guys, does anyone of u got any better &amp; easier solution to show for this problem?","body":"Okay guys, does anyone of u got any better &amp; easier solution to show for this problem?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662748445,"post_id":73665671,"comment_id":130085989,"body_markdown":"The obvious, feasible solution is to add more memory.  Alternatively you can try to compute a unique hash, or store a list for collisions, then, check first for the hash, if it&#39;s already there check the collisions list etc.This would increase the code complexity and might introduce more bugs.","body":"The obvious, feasible solution is to add more memory.  Alternatively you can try to compute a unique hash, or store a list for collisions, then, check first for the hash, if it&#39;s already there check the collisions list etc.This would increase the code complexity and might introduce more bugs."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662749636,"post_id":73665671,"comment_id":130086285,"body_markdown":"The code doesnt seem to work when I change cai.count to another n. So for example when I put &quot;if (cai.count == 1)&quot; it gives me weird output","body":"The code doesnt seem to work when I change cai.count to another n. So for example when I put &quot;if (cai.count == 1)&quot; it gives me weird output"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662751219,"post_id":73665671,"comment_id":130086665,"body_markdown":"@ZedORYasuo That&#39;s weird, I don&#39;t know what are you seeing, but I ran it again and works with 1 as expected. That being said, I after reading the comments and testing more I think using the hashcode is a bad idea. There are very interesting information in other links like [this one](https://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings) but at the end end up using more space. I think you have to find a compromise, only you know how big your data is and when you can trade time for space.","body":"@ZedORYasuo That&#39;s weird, I don&#39;t know what are you seeing, but I ran it again and works with 1 as expected. That being said, I after reading the comments and testing more I think using the hashcode is a bad idea. There are very interesting information in other links like <a href=\"https://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings\">this one</a> but at the end end up using more space. I think you have to find a compromise, only you know how big your data is and when you can trade time for space."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662751322,"post_id":73665671,"comment_id":130086688,"body_markdown":"@OscarRyz add a &quot;one&quot; to the list and try again. Do you have any good way of solving the problem in an easy and effective way? (that maybe doesnt involve hash map)","body":"@OscarRyz add a &quot;one&quot; to the list and try again. Do you have any good way of solving the problem in an easy and effective way? (that maybe doesnt involve hash map)"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1662751673,"post_id":73665671,"comment_id":130086762,"body_markdown":"I added another `&quot;one&quot;` and change the test to `1` I still see the result as `0` anyway, I&#39;ve looked a lot into different ways to implement a good hash and almost all of them either need more time or space, sometimes both, so I&#39;ll delete this answer later today,  in the meantime I learned I should not use the `hashCode` method like this. Thank you @user16320675 and @VGR. @ZedOrYassuo, I would just stick to your original implementation that is super fast and take the memory price. Good Luck and have fun.","body":"I added another <code>&quot;one&quot;</code> and change the test to <code>1</code> I still see the result as <code>0</code> anyway, I&#39;ve looked a lot into different ways to implement a good hash and almost all of them either need more time or space, sometimes both, so I&#39;ll delete this answer later today,  in the meantime I learned I should not use the <code>hashCode</code> method like this. Thank you @user16320675 and @VGR. @ZedOrYassuo, I would just stick to your original implementation that is super fast and take the memory price. Good Luck and have fun."},{"owner":{"account_id":16785102,"reputation":122,"user_id":12134289,"display_name":"Arthur Gazizov"},"score":0,"creation_date":1662751956,"post_id":73665671,"comment_id":130086837,"body_markdown":"it&#39;s not an issue to use String as key, because hash of string is cached inside\n\n```\npublic int hashCode() {\n        int h = hash;\n        if (h == 0 &amp;&amp; value.length &gt; 0) {\n            hash = h = isLatin1() ? StringLatin1.hashCode(value)\n                                  : StringUTF16.hashCode(value);\n        }\n        return h;\n    }\n```","body":"it&#39;s not an issue to use String as key, because hash of string is cached inside  ``` public int hashCode() {         int h = hash;         if (h == 0 &amp;&amp; value.length &gt; 0) {             hash = h = isLatin1() ? StringLatin1.hashCode(value)                                   : StringUTF16.hashCode(value);         }         return h;     } ```"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662751767,"creation_date":1662744720,"answer_id":73665671,"question_id":73665506,"body_markdown":"# Update: You should **not** use the following\r\n\r\n*I&#39;m just going to leave it here for a bit as a learning of what not to do. \r\nToday I learned using a `hashcode` for sole comparison is not enough. \r\nI think the idea of short-circuiting is good, but doesn&#39;t seem to be a concern.\r\nHashMap already does a great job resolving collisions, and a implementation that replicates that might end up using as much memory as the initial version.* \r\n\r\nRelated questions:\r\n\r\nhttps://stackoverflow.com/questions/7417668/java-use-hashcode-inside-of-equals-for-convenience  \r\nhttps://stackoverflow.com/questions/23584278/two-strings-same-hashcode  \r\nhttps://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings   \r\n\r\n\r\nOriginal answer follows: \r\n\r\nOne way could be to store the hash instead of the whole string:\r\n\r\n```java\r\n...\r\nvar count = new HashMap&lt;Integer, Long&gt;();\r\nfor(String val: list) {\r\n   count.put(val.hashCode(), count.getOrDefault(val.hashCode(), 0L)+1);\r\n}\r\n```\r\n\r\nExpanding on @Alexander&#39;s idea, I think you can save space and computation by saving the hash and the index instead of the plain string and recounting ( + short circuiting )\r\n\r\nSo:\r\n\r\n 1. Iterate the list\r\n 2. Search in the map, if seen for the first time save index and count = 1\r\n 3. If seen before increment count\r\n 4. If count is 3 finish.\r\n\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass SpaceTime {\r\n\r\n  public static void main(String ... args) {\r\n\r\n    var input = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;);\r\n    var map = new HashMap&lt;Integer, CountAndIndex&gt;();\r\n\r\n    for (int i = 0 ; i &lt; input.size(); i++ ) {\r\n      var s = input.get(i);\r\n      var hc = s.hashCode();\r\n      var cai = map.getOrDefault(hc, startAt(i));\r\n      cai.count++;\r\n      if (cai.count == 3) {\r\n        System.out.printf(&quot;We&#39;ve got it!!. Item: &#39;%s&#39; appears for the first time at index: %d%n&quot;, s, cai.index);\r\n        break;\r\n      }\r\n      map.put(hc, cai);\r\n    }\r\n  }\r\n  static CountAndIndex startAt(int index) {\r\n    var cai = new CountAndIndex();\r\n    cai.count = 0;\r\n    cai.index = index;\r\n    return cai;\r\n  }\r\n}\r\n\r\nclass CountAndIndex {\r\n  long count;\r\n  long index;\r\n}\r\n// output: \r\n\r\nWe&#39;ve got it!!. Item: &#39;two&#39; appears for the first time at index: 1\r\n\r\n```\r\n\r\n","title":"Java HashMap that takes to much of the memory","body":"<h1>Update: You should <strong>not</strong> use the following</h1>\n<p><em>I'm just going to leave it here for a bit as a learning of what not to do.\nToday I learned using a <code>hashcode</code> for sole comparison is not enough.\nI think the idea of short-circuiting is good, but doesn't seem to be a concern.\nHashMap already does a great job resolving collisions, and a implementation that replicates that might end up using as much memory as the initial version.</em></p>\n<p>Related questions:</p>\n<p><a href=\"https://stackoverflow.com/questions/7417668/java-use-hashcode-inside-of-equals-for-convenience\">Java: Use hashCode() inside of equals() for convenience?</a><br />\n<a href=\"https://stackoverflow.com/questions/23584278/two-strings-same-hashcode\">Two strings: same hashcode</a><br />\n<a href=\"https://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings\">What is a good 64bit hash function in Java for textual strings?</a></p>\n<p>Original answer follows:</p>\n<p>One way could be to store the hash instead of the whole string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nvar count = new HashMap&lt;Integer, Long&gt;();\nfor(String val: list) {\n   count.put(val.hashCode(), count.getOrDefault(val.hashCode(), 0L)+1);\n}\n</code></pre>\n<p>Expanding on @Alexander's idea, I think you can save space and computation by saving the hash and the index instead of the plain string and recounting ( + short circuiting )</p>\n<p>So:</p>\n<ol>\n<li>Iterate the list</li>\n<li>Search in the map, if seen for the first time save index and count = 1</li>\n<li>If seen before increment count</li>\n<li>If count is 3 finish.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass SpaceTime {\n\n  public static void main(String ... args) {\n\n    var input = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;);\n    var map = new HashMap&lt;Integer, CountAndIndex&gt;();\n\n    for (int i = 0 ; i &lt; input.size(); i++ ) {\n      var s = input.get(i);\n      var hc = s.hashCode();\n      var cai = map.getOrDefault(hc, startAt(i));\n      cai.count++;\n      if (cai.count == 3) {\n        System.out.printf(&quot;We've got it!!. Item: '%s' appears for the first time at index: %d%n&quot;, s, cai.index);\n        break;\n      }\n      map.put(hc, cai);\n    }\n  }\n  static CountAndIndex startAt(int index) {\n    var cai = new CountAndIndex();\n    cai.count = 0;\n    cai.index = index;\n    return cai;\n  }\n}\n\nclass CountAndIndex {\n  long count;\n  long index;\n}\n// output: \n\nWe've got it!!. Item: 'two' appears for the first time at index: 1\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748078,"post_id":73666009,"comment_id":130085891,"body_markdown":"I tried it its too slow. Im concerned about both","body":"I tried it its too slow. Im concerned about both"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1662748256,"post_id":73666009,"comment_id":130085930,"body_markdown":"@ZedORYasuo You need to **specify** that in the question. And note, that in most cases it&#39;s a trade off. The most performant solution is not always also the most space efficient, and vice versa.","body":"@ZedORYasuo You need to <b>specify</b> that in the question. And note, that in most cases it&#39;s a trade off. The most performant solution is not always also the most space efficient, and vice versa."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662747966,"creation_date":1662746828,"answer_id":73666009,"question_id":73665506,"body_markdown":"Since your primary concern is a **space**, you might consider the following performance trade off, which doesn&#39;t require allocation of additional memory.\r\n\r\n```\r\nfor (int i = 1; i &lt; strings.size(); i++) {\r\n    String next = strings.get(i);\r\n    if (Collections.frequency(strings,next) == 3) {\r\n        System.out.println(i);\r\n        break;\r\n    }\r\n}\r\n```","title":"Java HashMap that takes to much of the memory","body":"<p>Since your primary concern is a <strong>space</strong>, you might consider the following performance trade off, which doesn't require allocation of additional memory.</p>\n<pre><code>for (int i = 1; i &lt; strings.size(); i++) {\n    String next = strings.get(i);\n    if (Collections.frequency(strings,next) == 3) {\n        System.out.println(i);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663361614,"creation_date":1663361614,"answer_id":73750195,"question_id":73665506,"body_markdown":"There are a couple of optimizations you can try on your current implementation. These are low-cost, quick wins:\r\n\r\n## Use explicit initial capacity and load factor\r\n\r\nBy using the [appropriate constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html#%3Cinit%3E(int,float)) you can specify both initial capacity and load factor for your LinkedHashMap.\r\n\r\n### Load factor\r\nHigher values decrease the space overhead but increase the lookup cost, according to the [docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html). You would have to experiment with values between `0.75` (the default) and `0.99` in order to find a sweet spot.\r\n\r\n### Initial capacity\r\nBy using a high value, you can minimize re-hashing due to buckets getting full. Since you are using LinkedHashMap, the impact of a large initial capacity is less critical since iteration time is unaffected. If your use case allows it, you can even eliminate re-hashing by choosing a large enough value to cover all distinct entries (i.e. if you have historical data of how many distinct keys you count or your dataset has finite elements anyway). If you can minimize/eliminate re-hashing, you also minimize any drawbacks cause by larger load factor values.\r\n\r\n## Only keep interesting entries\r\n\r\nIt seems that you only need to find _one_ key per frequency. If this is true, you can reduce the data retained in memory once you are done and keep only one key per frequency (count).\r\n\r\n## Sample code\r\n\r\n```java\r\n\r\n        Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;(10_000, 0.95f); //Using the appropriate constructor\r\n        for (String val : str) {\r\n            long count = counts2.getOrDefault(val, 0L);\r\n            counts2.put(val, ++count);\r\n        }\r\n\r\n        // Clean up unneeded (?) entries\r\n        final HashMap&lt;Long, Integer&gt; data = new HashMap&lt;&gt;();\r\n        for (Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; it = counts2.entrySet().iterator(); it.hasNext();) {\r\n            Map.Entry&lt;String, Long&gt; entry = it.next();\r\n            if (data.containsKey(entry.getValue())) {\r\n                it.remove();//Already exists; this will save space\r\n            } else {\r\n                data.put(entry.getValue(), str.indexOf(entry.getKey()));\r\n            }\r\n        }\r\n\r\n        //You can now remove original counts2 now\r\n        Integer indexOf3 = data.get(Long.valueOf(3));\r\n        System.out.println(str.get(indexOf3) + &quot; @ &quot; + data.get(Long.valueOf(3)));\r\n\r\n        //Original code\r\n        for (String key : counts2.keySet()) {\r\n            if (counts2.get(key) == 3) {\r\n                System.out.println(key + &quot; @ &quot; + str.indexOf(key));\r\n                break;\r\n            }\r\n        }\r\n\r\n```\r\n\r\nBonus note:\r\n\r\nYour use case reminded me of how Redis [optimizes memory usage for hashes](https://redis.io/docs/reference/optimization/memory-optimization/). This is an interesting approach, should you consider adding Redis to your stack.","title":"Java HashMap that takes to much of the memory","body":"<p>There are a couple of optimizations you can try on your current implementation. These are low-cost, quick wins:</p>\n<h2>Use explicit initial capacity and load factor</h2>\n<p>By using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html#%3Cinit%3E(int,float)\" rel=\"nofollow noreferrer\">appropriate constructor</a> you can specify both initial capacity and load factor for your LinkedHashMap.</p>\n<h3>Load factor</h3>\n<p>Higher values decrease the space overhead but increase the lookup cost, according to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">docs</a>. You would have to experiment with values between <code>0.75</code> (the default) and <code>0.99</code> in order to find a sweet spot.</p>\n<h3>Initial capacity</h3>\n<p>By using a high value, you can minimize re-hashing due to buckets getting full. Since you are using LinkedHashMap, the impact of a large initial capacity is less critical since iteration time is unaffected. If your use case allows it, you can even eliminate re-hashing by choosing a large enough value to cover all distinct entries (i.e. if you have historical data of how many distinct keys you count or your dataset has finite elements anyway). If you can minimize/eliminate re-hashing, you also minimize any drawbacks cause by larger load factor values.</p>\n<h2>Only keep interesting entries</h2>\n<p>It seems that you only need to find <em>one</em> key per frequency. If this is true, you can reduce the data retained in memory once you are done and keep only one key per frequency (count).</p>\n<h2>Sample code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;(10_000, 0.95f); //Using the appropriate constructor\n        for (String val : str) {\n            long count = counts2.getOrDefault(val, 0L);\n            counts2.put(val, ++count);\n        }\n\n        // Clean up unneeded (?) entries\n        final HashMap&lt;Long, Integer&gt; data = new HashMap&lt;&gt;();\n        for (Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; it = counts2.entrySet().iterator(); it.hasNext();) {\n            Map.Entry&lt;String, Long&gt; entry = it.next();\n            if (data.containsKey(entry.getValue())) {\n                it.remove();//Already exists; this will save space\n            } else {\n                data.put(entry.getValue(), str.indexOf(entry.getKey()));\n            }\n        }\n\n        //You can now remove original counts2 now\n        Integer indexOf3 = data.get(Long.valueOf(3));\n        System.out.println(str.get(indexOf3) + &quot; @ &quot; + data.get(Long.valueOf(3)));\n\n        //Original code\n        for (String key : counts2.keySet()) {\n            if (counts2.get(key) == 3) {\n                System.out.println(key + &quot; @ &quot; + str.indexOf(key));\n                break;\n            }\n        }\n\n</code></pre>\n<p>Bonus note:</p>\n<p>Your use case reminded me of how Redis <a href=\"https://redis.io/docs/reference/optimization/memory-optimization/\" rel=\"nofollow noreferrer\">optimizes memory usage for hashes</a>. This is an interesting approach, should you consider adding Redis to your stack.</p>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667131744,"creation_date":1667129778,"answer_id":74252692,"question_id":73665506,"body_markdown":"I could think of 2 things to reduce your memory usage:\r\n 1. Use `Byte` instead of `Long`\r\n 2. Drop elements that you know occur more than 3 times. This one probably won&#39;t save that much memory since I had to create a HashSet to implement that mechanism. Also, doesn&#39;t really improve worst-case scenario, but should help on average.\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        var str = List.of(&quot;blue&quot;, &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;green&quot;,\r\n                &quot;turquoise&quot;, &quot;red&quot;, &quot;green&quot;, &quot;green&quot;);\r\n        var exceeds3Count = new HashSet&lt;String&gt;();\r\n        var counts = new HashMap&lt;String, Byte&gt;();\r\n        for (String val : str) {\r\n            if (exceeds3Count.contains(val)) continue;\r\n            Byte count = counts.compute(val, (k, v) -&gt; v == null ? 1 : (byte) (v + 1));\r\n            if (count &gt; 3) {\r\n                counts.remove(val);\r\n                exceeds3Count.add(val);\r\n            }\r\n        }\r\n        System.out.println(counts);\r\n        var answer = str.stream().filter(s -&gt; counts.getOrDefault(s, (byte) 0) == 3).findFirst().get();\r\n        System.out.println(answer + &quot; is the first occurrence of a string that occurs 3 times&quot;);\r\n    }\r\n```","title":"Java HashMap that takes to much of the memory","body":"<p>I could think of 2 things to reduce your memory usage:</p>\n<ol>\n<li>Use <code>Byte</code> instead of <code>Long</code></li>\n<li>Drop elements that you know occur more than 3 times. This one probably won't save that much memory since I had to create a HashSet to implement that mechanism. Also, doesn't really improve worst-case scenario, but should help on average.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        var str = List.of(&quot;blue&quot;, &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;green&quot;,\n                &quot;turquoise&quot;, &quot;red&quot;, &quot;green&quot;, &quot;green&quot;);\n        var exceeds3Count = new HashSet&lt;String&gt;();\n        var counts = new HashMap&lt;String, Byte&gt;();\n        for (String val : str) {\n            if (exceeds3Count.contains(val)) continue;\n            Byte count = counts.compute(val, (k, v) -&gt; v == null ? 1 : (byte) (v + 1));\n            if (count &gt; 3) {\n                counts.remove(val);\n                exceeds3Count.add(val);\n            }\n        }\n        System.out.println(counts);\n        var answer = str.stream().filter(s -&gt; counts.getOrDefault(s, (byte) 0) == 3).findFirst().get();\n        System.out.println(answer + &quot; is the first occurrence of a string that occurs 3 times&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1667131744,"creation_date":1662743798,"question_id":73665506,"body_markdown":"The problem is that my hashmap is taking too much space. I wanna know if the code can be done in a more efficient way for not taking that much memory. I have an huge array and the reason why im using HashMap is because I want a fast way to print out the first occurence of where key = 3 as shown in the code. But the problem is now the memory. **I still want it to be relatively fast O(n log n)**\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\r\nfor(String val : str){\r\n    long count = counts2.getOrDefault(val, 0L);\r\n    counts2.put(val, ++count);\r\n}\r\nfor(String key: counts2.keySet()){\r\n    if(counts2.get(key)==3){\r\n        System.out.println(list.indexOf(key));\r\n        break;\r\n    }\r\n}\r\n```\r\n","title":"Java HashMap that takes to much of the memory","body":"<p>The problem is that my hashmap is taking too much space. I wanna know if the code can be done in a more efficient way for not taking that much memory. I have an huge array and the reason why im using HashMap is because I want a fast way to print out the first occurence of where key = 3 as shown in the code. But the problem is now the memory. <strong>I still want it to be relatively fast O(n log n)</strong></p>\n<pre><code>\nArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\nfor(String val : str){\n    long count = counts2.getOrDefault(val, 0L);\n    counts2.put(val, ++count);\n}\nfor(String key: counts2.keySet()){\n    if(counts2.get(key)==3){\n        System.out.println(list.indexOf(key));\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","jar","zip","file-format"],"comments":[{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667144791,"post_id":74252683,"comment_id":131096234,"body_markdown":"That&#39;s a really interesting observation.  Checked my Ubuntu install but I can&#39;t find any jar files with comments. Don&#39;t have Kotin installed though. Would be surprized if these comments are accidental. but you never know. Downloaded the Kotlin source, but nothing is jumping out.","body":"That&#39;s a really interesting observation.  Checked my Ubuntu install but I can&#39;t find any jar files with comments. Don&#39;t have Kotin installed though. Would be surprized if these comments are accidental. but you never know. Downloaded the Kotlin source, but nothing is jumping out."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667146277,"post_id":74252683,"comment_id":131096563,"body_markdown":"@pmqs The source is in Zig, a fun new compiled language. I can post it in a gist or pastebin if you want to try it out. I might have some Swift source that does almost the same thing too. I&#39;ve definitely seen the same binary comments in .jar files that I think are for Java rather than Kotlin too.","body":"@pmqs The source is in Zig, a fun new compiled language. I can post it in a gist or pastebin if you want to try it out. I might have some Swift source that does almost the same thing too. I&#39;ve definitely seen the same binary comments in .jar files that I think are for Java rather than Kotlin too."},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":0,"creation_date":1667147409,"post_id":74252683,"comment_id":131096841,"body_markdown":"Hmm, if I remember correctly Java ultimately uses the `zipfile` class for creation of JAR files, but I don&#39;t think it has an API that allows writing of the zip comments. Wonder if this is a post-processing step that is applied to the JAR files after creation? Don&#39;t understand the connection with zig (assume this is zig?  https://github.com/ziglang/zig) , but then I don&#39;t know much about Kotin either. What us the connection? If there is a link, to something then yes, please post it.","body":"Hmm, if I remember correctly Java ultimately uses the <code>zipfile</code> class for creation of JAR files, but I don&#39;t think it has an API that allows writing of the zip comments. Wonder if this is a post-processing step that is applied to the JAR files after creation? Don&#39;t understand the connection with zig (assume this is zig?  <a href=\"https://github.com/ziglang/zig\" rel=\"nofollow noreferrer\">github.com/ziglang/zig</a>) , but then I don&#39;t know much about Kotin either. What us the connection? If there is a link, to something then yes, please post it."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667148416,"post_id":74252683,"comment_id":131097088,"body_markdown":"@pmqs. I found these things because I&#39;m writing my own zip file parsing code. I&#39;m going to post a nicely formatted dump of all the relevant .far files on my system to pastebin in a few minutes. I even saw some files with &quot;groovy&quot; in their path. OK here&#39;s the list: https://pastebin.com/wuzZwHn3","body":"@pmqs. I found these things because I&#39;m writing my own zip file parsing code. I&#39;m going to post a nicely formatted dump of all the relevant .far files on my system to pastebin in a few minutes. I even saw some files with &quot;groovy&quot; in their path. OK here&#39;s the list: <a href=\"https://pastebin.com/wuzZwHn3\" rel=\"nofollow noreferrer\">pastebin.com/wuzZwHn3</a>"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667149300,"post_id":74252683,"comment_id":131097290,"body_markdown":"Thanks -- I see lots of JetBrains in that list -- will see if I can get some time to download the source &amp; see if there is anything lurking. [full disclosure - I&#39;m the author of the `zipdetails` code you mentioned using]","body":"Thanks -- I see lots of JetBrains in that list -- will see if I can get some time to download the source &amp; see if there is anything lurking. [full disclosure - I&#39;m the author of the <code>zipdetails</code> code you mentioned using]"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667150200,"post_id":74252683,"comment_id":131097517,"body_markdown":"@pmqs: Oh cool! I actually had one file that my tool showed something odd in and zipdetails complained the file was cut short, but the end of the file looks fine, testing  with zip and unzipping it also seemed to work fine. So I thought it was either a bug in a corner case in zipdetails or corrupted zip file no other tool detected. I&#39;ll have to rack my brains to remember just what it was and let you know!","body":"@pmqs: Oh cool! I actually had one file that my tool showed something odd in and zipdetails complained the file was cut short, but the end of the file looks fine, testing  with zip and unzipping it also seemed to work fine. So I thought it was either a bug in a corner case in zipdetails or corrupted zip file no other tool detected. I&#39;ll have to rack my brains to remember just what it was and let you know!"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667151241,"post_id":74252683,"comment_id":131097758,"body_markdown":"@pmqs: Yes the very last file in the pastebin is the one that fails in zipdetails: IdeaIC2021.3/plugins/Kotlin.zip - error msg is `Unexpecded END at offset 0735434A, value 00000012` - I looked the other day to try to find somewhere to download it so I could investigate of file a bug report. I&#39;ll try again now...","body":"@pmqs: Yes the very last file in the pastebin is the one that fails in zipdetails: IdeaIC2021.3/plugins/Kotlin.zip - error msg is <code>Unexpecded END at offset 0735434A, value 00000012</code> - I looked the other day to try to find somewhere to download it so I could investigate of file a bug report. I&#39;ll try again now..."},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667168738,"post_id":74252683,"comment_id":131101368,"body_markdown":"Downloaded community IltelliJ and seeing jar files with binary comments just like you reported. Will have a dig tomorrow if I get some free time. Regarding the zipdetails error, you could try the latest development version from https://github.com/pmqs/zipdetails/blob/develop/bin/zipdetails. If still seeing a problem, can you create a ticket at https://github.com/pmqs/zipdetails/issues please?","body":"Downloaded community IltelliJ and seeing jar files with binary comments just like you reported. Will have a dig tomorrow if I get some free time. Regarding the zipdetails error, you could try the latest development version from <a href=\"https://github.com/pmqs/zipdetails/blob/develop/bin/zipdetails\" rel=\"nofollow noreferrer\">github.com/pmqs/zipdetails/blob/develop/bin/zipdetails</a>. If still seeing a problem, can you create a ticket at <a href=\"https://github.com/pmqs/zipdetails/issues\" rel=\"nofollow noreferrer\">github.com/pmqs/zipdetails/issues</a> please?"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667202143,"post_id":74252683,"comment_id":131106075,"body_markdown":"@pmqs: I had a bug report all typed out before I tested your new version. It works with the new version which reports `735434A 00038E4 ...         UNEXPECTED PADDING` where the old version failed. This is right between the last local header and the first central header. It still reports the 9-byte binary comment, which may or may not fit in with those in the `.jar` files...?","body":"@pmqs: I had a bug report all typed out before I tested your new version. It works with the new version which reports <code>735434A 00038E4 ...         UNEXPECTED PADDING</code> where the old version failed. This is right between the last local header and the first central header. It still reports the 9-byte binary comment, which may or may not fit in with those in the <code>.jar</code> files...?"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667207576,"post_id":74252683,"comment_id":131107493,"body_markdown":"good to hear that worked. 14k is quite a large amount of padding! Doubt it is related to the binary comments, but you never know.","body":"good to hear that worked. 14k is quite a large amount of padding! Doubt it is related to the binary comments, but you never know."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667207740,"post_id":74252683,"comment_id":131107537,"body_markdown":"@pmqs: I might suggest such things be labelled &quot;unreferenced&quot; since it could be padding on purpose but it could just be due to a bug. It seems to be full of random bytes. The two might be related only due to both being caused by buggy code outputting unintialized buffers?","body":"@pmqs: I might suggest such things be labelled &quot;unreferenced&quot; since it could be padding on purpose but it could just be due to a bug. It seems to be full of random bytes. The two might be related only due to both being caused by buggy code outputting unintialized buffers?"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667230580,"post_id":74252683,"comment_id":131115505,"body_markdown":"It may be intentional padding in this case, but from a strict compliance perspective it is a badly formed zip file. Will keep your suggestion of &quot;unreferenced&quot; in mind","body":"It may be intentional padding in this case, but from a strict compliance perspective it is a badly formed zip file. Will keep your suggestion of &quot;unreferenced&quot; in mind"}],"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667130596,"creation_date":1667129657,"question_id":74252683,"body_markdown":"`.jar` files as used by Java and Kotlin are a specialization of the `.zip` file format. They most contain certain files and/or directories, and they may only use a restricted subset of the full features of zip files.\r\n\r\nWhile writing my own zip file handling code to educate myself, I noticed that about 2,000 `.jar` files on my Mac end with zip archive comment fields containing unprintable bytes. They are all either 5-byte or 9-byte comments, they all conform to the zip file format specification for comments, meaning they are not simply appended junk, they don&#39;t occur in other other files that are based on the zip archive format, and they look like they share some internal format.\r\n\r\nFirstly, I know they&#39;re not simply appended rubbish since the zip format spec says there is a 2-byte little-endian field specifying the length of the comment, and then the comment follows. The files I&#39;m talking about all have this length field that matches the size of the subsequent binary data in the comment field. This does not rule out being junk, but would require the code that creates them to count it as a field with a known size, rather than simply being added by any random tool the file may have been processed by.\r\n\r\nYou can see these fields using the `-v` switch of either `zipinfo` or `zipdetails`, both of which I believe come with macOS. It will be at the top of `zipinfo` output and at the bottom of `zipdetails` output.\r\n\r\nHere are some examples of each kind:\r\n\r\n**5 byte comments**\r\n\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_allopen-compiler-plugin.jar  \r\n `{ 3, 70, 104, 0, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-jps-common.jar  \r\n `{ 3, 36, 96, 5, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javaslang.jar  \r\n   `{ 3, 140, 63, 29, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javax-inject.jar  \r\n   `{ 3, 213, 10, 0, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-compiler-fe10.jar  \r\n   `{ 3, 63, 68, 73, 3 }`\r\n\r\nNote that the first byte is *always* `3` and the last byte is usually `0` but *never* greater than `9`.\r\n\r\n**9 byte comments**\r\n\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-fe10-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 199, 35, 0, 0, 58, 44, 65, 3 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/javaslang-2.0.6.jar  \r\n   `{ 1, 21, 1, 0, 0, 112, 110, 28, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-ir-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 168, 10, 0, 0, 187, 137, 30, 1 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-common-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 247, 13, 0, 0, 200, 187, 235, 0 }`\r\n\r\nNote that now the first byte is *always* `1` and the last byte is still usually `0` and still *never* greater than `9`.\r\n\r\nOn my whole system there are only two other zip-format files with binary comments of sizes other than 5 or 9 bytes. They are also both `.jar` files though and have 6-byte comments:\r\n\r\n - /Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/log4j.jar  \r\n   `{ 104, 11, 220, 104, 58, 0 }`\r\n - /Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/jna.jar  \r\n   `{ 104, 11, 220, 104, 61, 0 }`\r\n\r\nDoes anybody know if these fields are meaningful or able to confirm that they&#39;re junk caused by a bug?","title":"Do the 5-byte and 9-byte binary zip comments at the end of .jar files serve some purpose, or are they likely due to an uninitialized buffer bug?","body":"<p><code>.jar</code> files as used by Java and Kotlin are a specialization of the <code>.zip</code> file format. They most contain certain files and/or directories, and they may only use a restricted subset of the full features of zip files.</p>\n<p>While writing my own zip file handling code to educate myself, I noticed that about 2,000 <code>.jar</code> files on my Mac end with zip archive comment fields containing unprintable bytes. They are all either 5-byte or 9-byte comments, they all conform to the zip file format specification for comments, meaning they are not simply appended junk, they don't occur in other other files that are based on the zip archive format, and they look like they share some internal format.</p>\n<p>Firstly, I know they're not simply appended rubbish since the zip format spec says there is a 2-byte little-endian field specifying the length of the comment, and then the comment follows. The files I'm talking about all have this length field that matches the size of the subsequent binary data in the comment field. This does not rule out being junk, but would require the code that creates them to count it as a field with a known size, rather than simply being added by any random tool the file may have been processed by.</p>\n<p>You can see these fields using the <code>-v</code> switch of either <code>zipinfo</code> or <code>zipdetails</code>, both of which I believe come with macOS. It will be at the top of <code>zipinfo</code> output and at the bottom of <code>zipdetails</code> output.</p>\n<p>Here are some examples of each kind:</p>\n<p><strong>5 byte comments</strong></p>\n<ul>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_allopen-compiler-plugin.jar<br />\n<code>{ 3, 70, 104, 0, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-jps-common.jar<br />\n<code>{ 3, 36, 96, 5, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javaslang.jar<br />\n<code>{ 3, 140, 63, 29, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javax-inject.jar<br />\n<code>{ 3, 213, 10, 0, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-compiler-fe10.jar<br />\n<code>{ 3, 63, 68, 73, 3 }</code></li>\n</ul>\n<p>Note that the first byte is <em>always</em> <code>3</code> and the last byte is usually <code>0</code> but <em>never</em> greater than <code>9</code>.</p>\n<p><strong>9 byte comments</strong></p>\n<ul>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-fe10-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 199, 35, 0, 0, 58, 44, 65, 3 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/javaslang-2.0.6.jar<br />\n<code>{ 1, 21, 1, 0, 0, 112, 110, 28, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-ir-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 168, 10, 0, 0, 187, 137, 30, 1 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-common-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 247, 13, 0, 0, 200, 187, 235, 0 }</code></li>\n</ul>\n<p>Note that now the first byte is <em>always</em> <code>1</code> and the last byte is still usually <code>0</code> and still <em>never</em> greater than <code>9</code>.</p>\n<p>On my whole system there are only two other zip-format files with binary comments of sizes other than 5 or 9 bytes. They are also both <code>.jar</code> files though and have 6-byte comments:</p>\n<ul>\n<li>/Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/log4j.jar<br />\n<code>{ 104, 11, 220, 104, 58, 0 }</code></li>\n<li>/Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/jna.jar<br />\n<code>{ 104, 11, 220, 104, 61, 0 }</code></li>\n</ul>\n<p>Does anybody know if these fields are meaningful or able to confirm that they're junk caused by a bug?</p>\n"},{"tags":["java","android","kotlin","cassandra","datastax-astra"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666905528,"post_id":74228426,"comment_id":131052213,"body_markdown":"Can you list that directory and show us the result so we can see that the file really exists there?","body":"Can you list that directory and show us the result so we can see that the file really exists there?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1666906284,"post_id":74228426,"comment_id":131052389,"body_markdown":"You tagged this as [tag:android-studio] (which should almost certainly be [tag:android], since this question doesn&#39;t seem IDE specific). If this is supposed to run on Android, then that path will not work, because `E:\\ProjectAndroid\\...` is obviously a Window path and doesn&#39;t exist on Android.","body":"You tagged this as <a href=\"https://stackoverflow.com/questions/tagged/android-studio\">android-studio</a> (which should almost certainly be <a href=\"https://stackoverflow.com/questions/tagged/android\">android</a>, since this question doesn&#39;t seem IDE specific). If this is supposed to run on Android, then that path will not work, because <code>E:\\ProjectAndroid\\...</code> is obviously a Window path and doesn&#39;t exist on Android."}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667130466,"creation_date":1667130466,"answer_id":74252773,"question_id":74228426,"body_markdown":"It looks like you haven&#39;t provided the full name for the secure bundle. In your sample code, you&#39;ve specified the filename as `secure-connect-rentpk` which is incorrect.\r\n\r\nYou need to make sure that you include the `.zip` suffix in the filename and don&#39;t unzip the bundle leaving it intact. For example:\r\n\r\n```\r\n    .withCloudSecureConnectBundle(Paths.get(&quot;/path/to/secure-connect-db.zip&quot;))\r\n```\r\n\r\nAs a side note, you should never include the secure bundle in your source code. You need to place it in a separate location such as a configuration folder for best practice. Cheers!","title":"Connecting to Astra DB, withCloudSecureConnectBundle() returns java.io.FileNotFoundException","body":"<p>It looks like you haven't provided the full name for the secure bundle. In your sample code, you've specified the filename as <code>secure-connect-rentpk</code> which is incorrect.</p>\n<p>You need to make sure that you include the <code>.zip</code> suffix in the filename and don't unzip the bundle leaving it intact. For example:</p>\n<pre><code>    .withCloudSecureConnectBundle(Paths.get(&quot;/path/to/secure-connect-db.zip&quot;))\n</code></pre>\n<p>As a side note, you should never include the secure bundle in your source code. You need to place it in a separate location such as a configuration folder for best practice. Cheers!</p>\n"}],"owner":{"account_id":24762036,"reputation":323,"user_id":18646319,"display_name":"Uzzam Altaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667130466,"creation_date":1666905470,"question_id":74228426,"body_markdown":"I am trying to connect to Astra DB which requires a path to secure-connect zip.\r\n\r\nThis line is causing the issue:\r\n\r\n\r\n```\r\n.withCloudSecureConnectBundle(Paths.get(&quot;E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk&quot;))\r\n```\r\n\r\n\r\nPath.get gives the error.\r\n\r\n\r\nI wanted to connect Astra DB using secure-connect zip but `Paths.get()` not working for the given path. Where the path is:\r\n`E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk`","title":"Connecting to Astra DB, withCloudSecureConnectBundle() returns java.io.FileNotFoundException","body":"<p>I am trying to connect to Astra DB which requires a path to secure-connect zip.</p>\n<p>This line is causing the issue:</p>\n<pre><code>.withCloudSecureConnectBundle(Paths.get(&quot;E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk&quot;))\n</code></pre>\n<p>Path.get gives the error.</p>\n<p>I wanted to connect Astra DB using secure-connect zip but <code>Paths.get()</code> not working for the given path. Where the path is:\n<code>E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk</code></p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1667127590,"post_id":74252442,"comment_id":131092880,"body_markdown":"How are you adding the fragment to your activity?","body":"How are you adding the fragment to your activity?"},{"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"score":0,"creation_date":1667127928,"post_id":74252442,"comment_id":131092942,"body_markdown":"class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        supportFragmentManager.beginTransaction()\n            .add(R.id.fragment_container, MoviesFragment())\n            .commit()\n    }\n}","body":"class MainActivity : AppCompatActivity() {     override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_main)          supportFragmentManager.beginTransaction()             .add(R.id.fragment_container, MoviesFragment())             .commit()     } }"},{"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"score":0,"creation_date":1667128268,"post_id":74252442,"comment_id":131092987,"body_markdown":"That was a problem! Thanks a lot!","body":"That was a problem! Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667130098,"creation_date":1667130098,"answer_id":74252727,"question_id":74252442,"body_markdown":"Screen rotation and other config changes recreate your activity by default. The recreated activity will restore its fragments. You should only add the fragment anew when the activity is starting fresh and is not being recreated, that is, the `savedInstanceState` bundle is null. Otherwise you&#39;d be adding a new fragment on top of the restored one(s).","title":"RecyclerView recreated on screen rotation","body":"<p>Screen rotation and other config changes recreate your activity by default. The recreated activity will restore its fragments. You should only add the fragment anew when the activity is starting fresh and is not being recreated, that is, the <code>savedInstanceState</code> bundle is null. Otherwise you'd be adding a new fragment on top of the restored one(s).</p>\n"}],"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74252727,"answer_count":1,"score":0,"last_activity_date":1667130098,"creation_date":1667127387,"question_id":74252442,"body_markdown":"`\r\n```\r\nclass MoviesFragment : Fragment() {\r\n\r\n    private var viewModel: MoviesViewModel? = null\r\n    private var adapter = MoviesAdapter()\r\n    private lateinit var binding : FragmentMoviesBinding\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentMoviesBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        recyclerViewInit()\r\n        viewModelInit()\r\n    }\r\n\r\n    private fun recyclerViewInit() {\r\n        val recyclerView = binding.recyclerView\r\n        recyclerView.adapter = adapter\r\n        recycler_view.layoutManager = LinearLayoutManager(requireContext())\r\n    }\r\n\r\n    private fun viewModelInit() {\r\n        viewModel = ViewModelProvider(this)[MoviesViewModel::class.java]\r\n        viewModel!!.getPageOfMovies()\r\n        viewModel!!.myResponse.observe(viewLifecycleOwner) { response -&gt;\r\n            if (response.isSuccessful) {\r\n                response.body()?.let { movies -&gt;\r\n                    adapter.setData(movies) }\r\n            } else {\r\n                Toast.makeText(requireContext(), response.code(), Toast.LENGTH_SHORT).show()\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesViewModel(application: Application) : AndroidViewModel(application) {\r\n\r\n    private val repository = MoviesRepository()\r\n    val myResponse: MutableLiveData&lt;Response&lt;MovieResponse&gt;&gt; = MutableLiveData()\r\n\r\n    fun getPageOfMovies() {\r\n        viewModelScope.launch {\r\n            val response = repository.getPageOfMovies()\r\n            myResponse.value = response\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.ViewHolder&gt;() {\r\n    private var moviesList = MovieResponse(0, emptyList(), 0, 0)\r\n\r\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        return ViewHolder(\r\n            LayoutInflater.from(parent.context).inflate(\r\n                R.layout.movies_recyclerview_item, parent, false\r\n            )\r\n        )\r\n    }\r\n\r\n    override fun getItemCount(): Int = moviesList.results.size\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        Glide.with(holder.itemView.context)\r\n            .load(Uri.parse(&quot;$BASE_URI_FOR_IMAGES${moviesList.results[position].posterPath}&quot;))\r\n            .centerCrop()\r\n            .into(holder.itemView.poster_imageview)\r\n        holder.itemView.title.text = moviesList.results[position].title\r\n        holder.itemView.overview.text = moviesList.results[position].overview\r\n        holder.itemView.release_date.text = moviesList.results[position].releaseDate\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    fun setData(movies: MovieResponse) {\r\n        moviesList = movies\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    companion object{\r\n        const val BASE_URI_FOR_IMAGES = &quot;https://www.themoviedb.org/t/p/w220_and_h330_face/&quot;\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesRepository {\r\n    suspend fun getPageOfMovies(): Response&lt;MovieResponse&gt; {\r\n        return MoviesClient.api.getFirstPageOfPopularMovies()\r\n    }\r\n}\r\n```\r\n`\r\n\r\nWhen the screen is rotated in the RecyclerView, the data is loaded again on top of the new ones, that is, the list is on top of the list. What could be the problem? That is, I can scroll and view my data, but in the background I see my old list.\r\n\r\nI tried to find where I recreate the RecyclerView, but apparently everything should work.","title":"RecyclerView recreated on screen rotation","body":"<p>`</p>\n<pre><code>class MoviesFragment : Fragment() {\n\n    private var viewModel: MoviesViewModel? = null\n    private var adapter = MoviesAdapter()\n    private lateinit var binding : FragmentMoviesBinding\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentMoviesBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        recyclerViewInit()\n        viewModelInit()\n    }\n\n    private fun recyclerViewInit() {\n        val recyclerView = binding.recyclerView\n        recyclerView.adapter = adapter\n        recycler_view.layoutManager = LinearLayoutManager(requireContext())\n    }\n\n    private fun viewModelInit() {\n        viewModel = ViewModelProvider(this)[MoviesViewModel::class.java]\n        viewModel!!.getPageOfMovies()\n        viewModel!!.myResponse.observe(viewLifecycleOwner) { response -&gt;\n            if (response.isSuccessful) {\n                response.body()?.let { movies -&gt;\n                    adapter.setData(movies) }\n            } else {\n                Toast.makeText(requireContext(), response.code(), Toast.LENGTH_SHORT).show()\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesViewModel(application: Application) : AndroidViewModel(application) {\n\n    private val repository = MoviesRepository()\n    val myResponse: MutableLiveData&lt;Response&lt;MovieResponse&gt;&gt; = MutableLiveData()\n\n    fun getPageOfMovies() {\n        viewModelScope.launch {\n            val response = repository.getPageOfMovies()\n            myResponse.value = response\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.ViewHolder&gt;() {\n    private var moviesList = MovieResponse(0, emptyList(), 0, 0)\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(\n            LayoutInflater.from(parent.context).inflate(\n                R.layout.movies_recyclerview_item, parent, false\n            )\n        )\n    }\n\n    override fun getItemCount(): Int = moviesList.results.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        Glide.with(holder.itemView.context)\n            .load(Uri.parse(&quot;$BASE_URI_FOR_IMAGES${moviesList.results[position].posterPath}&quot;))\n            .centerCrop()\n            .into(holder.itemView.poster_imageview)\n        holder.itemView.title.text = moviesList.results[position].title\n        holder.itemView.overview.text = moviesList.results[position].overview\n        holder.itemView.release_date.text = moviesList.results[position].releaseDate\n    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    fun setData(movies: MovieResponse) {\n        moviesList = movies\n        notifyDataSetChanged()\n    }\n\n    companion object{\n        const val BASE_URI_FOR_IMAGES = &quot;https://www.themoviedb.org/t/p/w220_and_h330_face/&quot;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesRepository {\n    suspend fun getPageOfMovies(): Response&lt;MovieResponse&gt; {\n        return MoviesClient.api.getFirstPageOfPopularMovies()\n    }\n}\n</code></pre>\n<p>`</p>\n<p>When the screen is rotated in the RecyclerView, the data is loaded again on top of the new ones, that is, the list is on top of the list. What could be the problem? That is, I can scroll and view my data, but in the background I see my old list.</p>\n<p>I tried to find where I recreate the RecyclerView, but apparently everything should work.</p>\n"},{"tags":["java","casting","functional-interface"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667125217,"post_id":74252098,"comment_id":131092493,"body_markdown":"No, it is not possible. Please add the code you&#39;ve previously seen to your question.","body":"No, it is not possible. Please add the code you&#39;ve previously seen to your question."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667125269,"post_id":74252098,"comment_id":131092509,"body_markdown":"no, use getName() and getAge().","body":"no, use getName() and getAge()."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1667125455,"post_id":74252098,"comment_id":131092551,"body_markdown":"I think you got a bit confused about what you saw originally. It&#39;s not getting something based on the type cast. It&#39;s just that the programmer happens to know the current object there is Integer, and so casts to Integer. For example, when reading from a database that has an Integer column and a String column, you need to know which column you are reading to use this.","body":"I think you got a bit confused about what you saw originally. It&#39;s not getting something based on the type cast. It&#39;s just that the programmer happens to know the current object there is Integer, and so casts to Integer. For example, when reading from a database that has an Integer column and a String column, you need to know which column you are reading to use this."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667129785,"post_id":74252098,"comment_id":131093253,"body_markdown":"This^ though I m confused because even JDBC ResultSet doesnt use get() for both int and string but they have getInt(), getString() etc. Do you think you might have misremembered something OP?","body":"This^ though I m confused because even JDBC ResultSet doesnt use get() for both int and string but they have getInt(), getString() etc. Do you think you might have misremembered something OP?"}],"answers":[{"tags":[],"owner":{"account_id":17021680,"reputation":3,"user_id":12314069,"display_name":"Eyad Azzam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667125503,"creation_date":1667125503,"answer_id":74252265,"question_id":74252098,"body_markdown":"That is not possible and if you are trying to overload the method then the number of parameters in two methods should be different or the data types of the parameters or the Order of the parameters.","title":"Return different value types from an object, depending on the type cast","body":"<p>That is not possible and if you are trying to overload the method then the number of parameters in two methods should be different or the data types of the parameters or the Order of the parameters.</p>\n"}],"owner":{"account_id":26774900,"reputation":9,"user_id":20370695,"display_name":"Cosmin Crisan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667129467,"creation_date":1667124105,"question_id":74252098,"body_markdown":"I&#39;ve seen methods that return a different value types from an object depending on the type cast, similar to this:\r\n\r\n`(String) Object.get() //returns a string`\r\n\r\n`(Integer) Object.get() //returns an int`\r\n\r\netc.\r\n\r\nI’m trying to replicate this behavior (for learning purposes) by creating an Employee class like this:\r\n\r\n```\r\npublic class Employee {\r\n    String name;\r\n    int age;\r\n\r\n    public Employee (String name, int age){\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nNow, let&#39;s assume I create a new Employee object:\r\n\r\n`Employee tomJones = new Employee(&quot;Tom Jones&quot;, 38);`\r\n\r\nIs it possible to somehow do this (see below)?\r\n\r\n`(String) tomJones.get() //returns “Tom Jones”`\r\n\r\n`(Integer) tomjones.get() //returns 38`\r\n\r\nI&#39;m trying to replicate some behavior that I&#39;ve previously seen in code and not having all the problem&#39;s details makes it quite hard for me as a beginner to come up with something. So, I tried using different interfaces and some lambdas, but only managed to make a mess, with no result.","title":"Return different value types from an object, depending on the type cast","body":"<p>I've seen methods that return a different value types from an object depending on the type cast, similar to this:</p>\n<p><code>(String) Object.get() //returns a string</code></p>\n<p><code>(Integer) Object.get() //returns an int</code></p>\n<p>etc.</p>\n<p>I’m trying to replicate this behavior (for learning purposes) by creating an Employee class like this:</p>\n<pre><code>public class Employee {\n    String name;\n    int age;\n\n    public Employee (String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getName(){\n        return name;\n    }\n}\n</code></pre>\n<p>Now, let's assume I create a new Employee object:</p>\n<p><code>Employee tomJones = new Employee(&quot;Tom Jones&quot;, 38);</code></p>\n<p>Is it possible to somehow do this (see below)?</p>\n<p><code>(String) tomJones.get() //returns “Tom Jones”</code></p>\n<p><code>(Integer) tomjones.get() //returns 38</code></p>\n<p>I'm trying to replicate some behavior that I've previously seen in code and not having all the problem's details makes it quite hard for me as a beginner to come up with something. So, I tried using different interfaces and some lambdas, but only managed to make a mess, with no result.</p>\n"},{"tags":["python","java","python-3.x","spyder","tabula-py"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667430129,"post_id":74252577,"comment_id":131168425,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74252577/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15691261,"reputation":1,"user_id":11322275,"display_name":"moju"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667128681,"creation_date":1667128681,"answer_id":74252577,"question_id":71542110,"body_markdown":"I had the same issue, and the solution I found is by using portable Java and registering it in the user environment path.\r\nThis explains how to install java from the EXE installer https://stackoverflow.com/a/6571736/11322275\r\nThen, register where you saved the java folder to the user environment path as explained here https://stackoverflow.com/a/67844469/11322275\r\nMake sure you can call `java -version` on your command prompt once you&#39;ve done the above","title":"Is it possible to use Tabula-Py on Portable IDE","body":"<p>I had the same issue, and the solution I found is by using portable Java and registering it in the user environment path.\nThis explains how to install java from the EXE installer <a href=\"https://stackoverflow.com/a/6571736/11322275\">https://stackoverflow.com/a/6571736/11322275</a>\nThen, register where you saved the java folder to the user environment path as explained here <a href=\"https://stackoverflow.com/a/67844469/11322275\">https://stackoverflow.com/a/67844469/11322275</a>\nMake sure you can call <code>java -version</code> on your command prompt once you've done the above</p>\n"}],"owner":{"account_id":5499285,"reputation":13,"user_id":4369129,"display_name":"David Bush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667128681,"creation_date":1647724152,"question_id":71542110,"body_markdown":"I am new to python and am working on setting up some automation for my job in python and part of that is pulling data from tables in pdf files. Short version is that no matter how I try and what I have looked up I cannot get Tabula-Py to look at the path to java on my portable drive.\r\n\r\nI am using a portable IDE set-up since I do not have admin privilege&#39;s on my work computer.\r\n\r\nTabula-Py throws the usual cannot find Java make sure it is in your PATH error message. I am using Python Portable and jPortable installed to a common directory with Spyder portable as the IDE. I have run pip install and uninstall on both Tabula and Tabula-Py multiple times. I have also run import sys for sys.path.append to add the filepath to my Java bin.\r\n\r\n**Code:**\r\n\r\n    import pandas as pd\r\n    import numpy\r\n    import tabula\r\n    import sys\r\n    sys.path.append(&#39;E:\\CommonFiles\\Java\\bin&#39;)\r\n    \r\n    \r\n    df = tabula.read_pdf(&#39;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf&#39;, pages=&#39;all&#39;)\r\n\r\n**Error Message:**\r\n\r\n    runfile(&#39;E:/CommonFiles/Python-Portable-3.9.6/Scripts/untitled01.py&#39;, wdir=&#39;E:/CommonFiles/Python-Portable-3.9.6/Scripts&#39;)\r\n    Traceback (most recent call last):\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\r\n        result = subprocess.run(\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 505, in run\r\n        with Popen(*popenargs, **kwargs) as process:\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py&quot;, line 108, in __init__\r\n        super(SubprocessPopen, self).__init__(*args, **kwargs)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 951, in __init__\r\n        self._execute_child(args, executable, preexec_fn, close_fds,\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 1420, in _execute_child\r\n        hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\n    \r\n    FileNotFoundError: [WinError 2] The system cannot find the file specified\r\n    \r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\untitled01.py&quot;, line 15, in &lt;module&gt;\r\n        df = tabula.read_pdf(&#39;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf&#39;, pages=&#39;all&#39;)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\r\n        output = _run(java_options, kwargs, path, encoding)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 91, in _run\r\n        raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\r\n    \r\n    JavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\r\n\r\nI have also attempted to use camelot with a similar frustration over the ghostscript.dll.\r\n\r\nFinally I looked into pdfplumber but had even less luck there getting it to find the tables let alone do anything with them.\r\n\r\nI am sure this is doable but my google-fu is failing me currently and have spent the better part of 3 days looking into this with no solution I could find through Google, StackOverflow, Reddit, etc.","title":"Is it possible to use Tabula-Py on Portable IDE","body":"<p>I am new to python and am working on setting up some automation for my job in python and part of that is pulling data from tables in pdf files. Short version is that no matter how I try and what I have looked up I cannot get Tabula-Py to look at the path to java on my portable drive.</p>\n<p>I am using a portable IDE set-up since I do not have admin privilege's on my work computer.</p>\n<p>Tabula-Py throws the usual cannot find Java make sure it is in your PATH error message. I am using Python Portable and jPortable installed to a common directory with Spyder portable as the IDE. I have run pip install and uninstall on both Tabula and Tabula-Py multiple times. I have also run import sys for sys.path.append to add the filepath to my Java bin.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import pandas as pd\nimport numpy\nimport tabula\nimport sys\nsys.path.append('E:\\CommonFiles\\Java\\bin')\n\n\ndf = tabula.read_pdf('E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf', pages='all')\n</code></pre>\n<p><strong>Error Message:</strong></p>\n<pre><code>runfile('E:/CommonFiles/Python-Portable-3.9.6/Scripts/untitled01.py', wdir='E:/CommonFiles/Python-Portable-3.9.6/Scripts')\nTraceback (most recent call last):\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\n    result = subprocess.run(\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 505, in run\n    with Popen(*popenargs, **kwargs) as process:\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py&quot;, line 108, in __init__\n    super(SubprocessPopen, self).__init__(*args, **kwargs)\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 951, in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 1420, in _execute_child\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\n\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\untitled01.py&quot;, line 15, in &lt;module&gt;\n    df = tabula.read_pdf('E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf', pages='all')\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\n    output = _run(java_options, kwargs, path, encoding)\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 91, in _run\n    raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\n\nJavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\n</code></pre>\n<p>I have also attempted to use camelot with a similar frustration over the ghostscript.dll.</p>\n<p>Finally I looked into pdfplumber but had even less luck there getting it to find the tables let alone do anything with them.</p>\n<p>I am sure this is doable but my google-fu is failing me currently and have spent the better part of 3 days looking into this with no solution I could find through Google, StackOverflow, Reddit, etc.</p>\n"},{"tags":["java","android","xml","api"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667125840,"post_id":74252302,"comment_id":131092617,"body_markdown":"this is not a &#39;problem&#39;, it&#39;s a notification. You should go to the documentation of that class and method, it should tell you what to use instead. Being deprecated means: it has been replaced by a better solution, will no longer be maintained, and might be removed in a future version","body":"this is not a &#39;problem&#39;, it&#39;s a notification. You should go to the documentation of that class and method, it should tell you what to use instead. Being deprecated means: it has been replaced by a better solution, will no longer be maintained, and might be removed in a future version"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1667140119,"post_id":74252302,"comment_id":131095278,"body_markdown":"Does this answer your question? [OnActivityResult method is deprecated, what is the alternative?](https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">OnActivityResult method is deprecated, what is the alternative?</a>"}],"owner":{"account_id":26701063,"reputation":27,"user_id":20308102,"display_name":"Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667128429,"creation_date":1667125803,"question_id":74252302,"body_markdown":"how to solve this problem \r\n\r\n&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated\r\n\r\nhere is for my MainActivity.java\r\n`\r\n```\r\npackage com.example.praktikump10;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private Button btnMoveActivity;\r\n    private Button btnMoveWithDataActivity;\r\n    private Button btnDialPhone;\r\n    private Button btnMoveWithObject;\r\n    private Button btnMoveForResult;\r\n    private TextView tvResult;\r\n    private int REQUEST_CODE = 100;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnMoveActivity = (Button) findViewById(R.id.btn_move_activity);\r\n        btnMoveActivity.setOnClickListener(this);\r\n\r\n        btnMoveWithDataActivity = (Button) findViewById(R.id.btn_move_activity_data);\r\n        btnMoveWithDataActivity.setOnClickListener(this);\r\n\r\n        btnDialPhone = (Button) findViewById(R.id.btn_dial_number);\r\n        btnDialPhone.setOnClickListener(this);\r\n\r\n        btnMoveWithObject = (Button) findViewById(R.id.btn_move_activity_object);\r\n        btnMoveWithObject.setOnClickListener(this);\r\n\r\n        btnMoveForResult = (Button) findViewById(R.id.btn_move_for_result);\r\n        btnMoveForResult.setOnClickListener(this);\r\n        tvResult = (TextView) findViewById(R.id.tv_result);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        switch (v.getId()) {\r\n            case R.id.btn_move_activity:\r\n                Intent moveIntent = new Intent(MainActivity.this, MoveActivity.class);\r\n                startActivity(moveIntent);\r\n                break;\r\n            case R.id.btn_move_activity_data:\r\n                Intent moveWithDataIntent = new Intent(MainActivity.this, MoveWithDataActivity.class);\r\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_NAME, &quot;Hafidz Izdihar Muslim\\n&quot;);\r\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_AGE, 20);\r\n                startActivity(moveWithDataIntent);\r\n                break;\r\n            case R.id.btn_dial_number:\r\n                String phoneNumber = &quot;087878336770&quot;;\r\n                Intent dialPhoneIntent = new Intent(Intent.ACTION_DIAL, Uri.parse(&quot;tel:&quot; + phoneNumber));\r\n                startActivity(dialPhoneIntent);\r\n                break;\r\n\r\n            case R.id.btn_move_activity_object:\r\n                Person mPerson = new Person();\r\n                mPerson.setName(&quot;DicodingAcademy&quot;);\r\n                mPerson.setAge(5);\r\n                mPerson.setEmail(&quot;academy@dicoding.com&quot;);\r\n                mPerson.setCity(&quot;Bandung&quot;);\r\n                Intent moveWithObjectIntent = new Intent(MainActivity.this, MoveWithObjectActivity.class);\r\n                moveWithObjectIntent.putExtra(MoveWithObjectActivity.EXTRA_PERSON, mPerson);\r\n                startActivity(moveWithObjectIntent);\r\n                break;\r\n\r\n            case R.id.btn_move_for_result:\r\n                Intent moveForResultIntent = new Intent(MainActivity.this, MoveForResultActivity.class);\r\n                startActivityForResult(moveForResultIntent, REQUEST_CODE);\r\n                break;\r\n\r\n        }\r\n    }\r\n    protected void onActivityResult ( int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (resultCode == MoveForResultActivity.RESULT_CODE) {\r\n                int selectedValue = data.getIntExtra(MoveForResultActivity.EXTRA_SELECTED_VALUE, 0);\r\n                tvResult.setText(&quot;Hasil : &quot; + selectedValue);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\nand this is my activity_main.xml\r\n\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;com.example.praktikump10.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity_data&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity Dengan Data&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_dial_number&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Dial a Number&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity_object&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity dengan Object&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_for_result&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity untuk Result&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_result&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Hasil&quot;\r\n        android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n`\r\n\r\nthis is for my MoveForResultActivity.java\r\n`\r\n```\r\npackage com.example.praktikump10;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RadioGroup;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.praktikump10.R;\r\n\r\npublic class MoveForResultActivity extends AppCompatActivity\r\n        implements View.OnClickListener {\r\n    private Button btnChoose;\r\n    private RadioGroup rgNumber;\r\n    public static String EXTRA_SELECTED_VALUE = &quot;extra_selected_value&quot;;\r\n    public static int RESULT_CODE = 110;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_move_for_result);\r\n        btnChoose = (Button) findViewById(R.id.btn_choose);\r\n        btnChoose.setOnClickListener(this);\r\n        rgNumber = (RadioGroup) findViewById(R.id.rg_number);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if (v.getId() == R.id.btn_choose) {\r\n            if (rgNumber.getCheckedRadioButtonId() != 0) {\r\n                int value = 0;\r\n                switch (rgNumber.getCheckedRadioButtonId()) {\r\n                    case R.id.rb_50:\r\n                        value = 50;\r\n                        break;\r\n                    case R.id.rb_100:\r\n                        value = 100;\r\n                        break;\r\n                    case R.id.rb_150:\r\n                        value = 150;\r\n                        break;\r\n                    case R.id.rb_200:\r\n                        value = 200;\r\n                        break;\r\n                }\r\n                Intent resultIntent = new Intent();\r\n                resultIntent.putExtra(EXTRA_SELECTED_VALUE, value);\r\n                setResult(RESULT_CODE, resultIntent);\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nactivity_move_for_result.xml\r\n\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;com.example.praktikump10.MoveForResultActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pilih angka yang kamu suka&quot; /&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/rg_number&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_50&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;50&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_100&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;100&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_150&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;150&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_200&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;200&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_choose&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Pilih&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n`\r\n\r\nwhy the\r\n\r\n&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated \r\n\r\non MainActivity.java\r\n\r\nany answer i really appreciated\r\n\r\nthank you for the valueable answer...","title":"&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated &lt;&lt;Java&gt;&gt;","body":"<p>how to solve this problem</p>\n<p>'startActivityForResult(android.content.Intent, int)' is deprecated</p>\n<p>here is for my MainActivity.java\n`</p>\n<pre><code>package com.example.praktikump10;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private Button btnMoveActivity;\n    private Button btnMoveWithDataActivity;\n    private Button btnDialPhone;\n    private Button btnMoveWithObject;\n    private Button btnMoveForResult;\n    private TextView tvResult;\n    private int REQUEST_CODE = 100;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnMoveActivity = (Button) findViewById(R.id.btn_move_activity);\n        btnMoveActivity.setOnClickListener(this);\n\n        btnMoveWithDataActivity = (Button) findViewById(R.id.btn_move_activity_data);\n        btnMoveWithDataActivity.setOnClickListener(this);\n\n        btnDialPhone = (Button) findViewById(R.id.btn_dial_number);\n        btnDialPhone.setOnClickListener(this);\n\n        btnMoveWithObject = (Button) findViewById(R.id.btn_move_activity_object);\n        btnMoveWithObject.setOnClickListener(this);\n\n        btnMoveForResult = (Button) findViewById(R.id.btn_move_for_result);\n        btnMoveForResult.setOnClickListener(this);\n        tvResult = (TextView) findViewById(R.id.tv_result);\n\n\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        switch (v.getId()) {\n            case R.id.btn_move_activity:\n                Intent moveIntent = new Intent(MainActivity.this, MoveActivity.class);\n                startActivity(moveIntent);\n                break;\n            case R.id.btn_move_activity_data:\n                Intent moveWithDataIntent = new Intent(MainActivity.this, MoveWithDataActivity.class);\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_NAME, &quot;Hafidz Izdihar Muslim\\n&quot;);\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_AGE, 20);\n                startActivity(moveWithDataIntent);\n                break;\n            case R.id.btn_dial_number:\n                String phoneNumber = &quot;087878336770&quot;;\n                Intent dialPhoneIntent = new Intent(Intent.ACTION_DIAL, Uri.parse(&quot;tel:&quot; + phoneNumber));\n                startActivity(dialPhoneIntent);\n                break;\n\n            case R.id.btn_move_activity_object:\n                Person mPerson = new Person();\n                mPerson.setName(&quot;DicodingAcademy&quot;);\n                mPerson.setAge(5);\n                mPerson.setEmail(&quot;academy@dicoding.com&quot;);\n                mPerson.setCity(&quot;Bandung&quot;);\n                Intent moveWithObjectIntent = new Intent(MainActivity.this, MoveWithObjectActivity.class);\n                moveWithObjectIntent.putExtra(MoveWithObjectActivity.EXTRA_PERSON, mPerson);\n                startActivity(moveWithObjectIntent);\n                break;\n\n            case R.id.btn_move_for_result:\n                Intent moveForResultIntent = new Intent(MainActivity.this, MoveForResultActivity.class);\n                startActivityForResult(moveForResultIntent, REQUEST_CODE);\n                break;\n\n        }\n    }\n    protected void onActivityResult ( int requestCode, int resultCode, Intent data){\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == MoveForResultActivity.RESULT_CODE) {\n                int selectedValue = data.getIntExtra(MoveForResultActivity.EXTRA_SELECTED_VALUE, 0);\n                tvResult.setText(&quot;Hasil : &quot; + selectedValue);\n            }\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>and this is my activity_main.xml</p>\n<p>`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.example.praktikump10.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity_data&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity Dengan Data&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_dial_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Dial a Number&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity_object&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity dengan Object&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_for_result&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity untuk Result&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_result&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Hasil&quot;\n        android:textSize=&quot;24sp&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n<p>this is for my MoveForResultActivity.java\n`</p>\n<pre><code>package com.example.praktikump10;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioGroup;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.praktikump10.R;\n\npublic class MoveForResultActivity extends AppCompatActivity\n        implements View.OnClickListener {\n    private Button btnChoose;\n    private RadioGroup rgNumber;\n    public static String EXTRA_SELECTED_VALUE = &quot;extra_selected_value&quot;;\n    public static int RESULT_CODE = 110;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_move_for_result);\n        btnChoose = (Button) findViewById(R.id.btn_choose);\n        btnChoose.setOnClickListener(this);\n        rgNumber = (RadioGroup) findViewById(R.id.rg_number);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.btn_choose) {\n            if (rgNumber.getCheckedRadioButtonId() != 0) {\n                int value = 0;\n                switch (rgNumber.getCheckedRadioButtonId()) {\n                    case R.id.rb_50:\n                        value = 50;\n                        break;\n                    case R.id.rb_100:\n                        value = 100;\n                        break;\n                    case R.id.rb_150:\n                        value = 150;\n                        break;\n                    case R.id.rb_200:\n                        value = 200;\n                        break;\n                }\n                Intent resultIntent = new Intent();\n                resultIntent.putExtra(EXTRA_SELECTED_VALUE, value);\n                setResult(RESULT_CODE, resultIntent);\n                finish();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>activity_move_for_result.xml</p>\n<p>`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.example.praktikump10.MoveForResultActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pilih angka yang kamu suka&quot; /&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/rg_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_50&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;50&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_100&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;100&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_150&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;150&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_200&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;200&quot; /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_choose&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Pilih&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>`</p>\n<p>why the</p>\n<p>'startActivityForResult(android.content.Intent, int)' is deprecated</p>\n<p>on MainActivity.java</p>\n<p>any answer i really appreciated</p>\n<p>thank you for the valueable answer...</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1667128344,"post_id":74252501,"comment_id":131092999,"body_markdown":"Have you checked if there might be a dependency between `noStroke()` and `line()`?","body":"Have you checked if there might be a dependency between <code>noStroke()</code> and <code>line()</code>?"},{"owner":{"account_id":20681939,"reputation":1,"user_id":15185314,"display_name":"Khalid"},"score":0,"creation_date":1667220539,"post_id":74252501,"comment_id":131111618,"body_markdown":"Yes. There was actually and I solved it by the adding new properties for the line(). Rookie mistake :((","body":"Yes. There was actually and I solved it by the adding new properties for the line(). Rookie mistake :(("}],"owner":{"account_id":20681939,"reputation":1,"user_id":15185314,"display_name":"Khalid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667128094,"creation_date":1667127895,"question_id":74252501,"body_markdown":"tried different solutions but not working. anyone might help?\r\nI want lines drawn from the center of the center circle and center of the outer circles.\r\n\r\n    void drawTree(float x, float y, float scale, float bulbs, float radius) {\r\n      for (float i = 0.0; i&lt;TWO_PI; i+=TWO_PI/bulbs) {\r\n        fill(#13430C);\r\n        noStroke();\r\n        circle(x+cos(i)*scale, y+sin(i)*scale, radius);\r\n        line(x, y, x+cos(i)*scale, y+sin(i)*scale);\r\n      }\r\n        \r\n      fill(#5D4A07);\r\n      noStroke();\r\n      circle(x, y, radius);\r\n    }\r\n\r\nCalling method:\r\n\r\n    void draw(){  \r\n      drawTree(width/2, height/2, 60, 5, 50);\r\n    \r\n    }\r\n\r\n","title":"Why the line is not showing up?/Processing","body":"<p>tried different solutions but not working. anyone might help?\nI want lines drawn from the center of the center circle and center of the outer circles.</p>\n<pre><code>void drawTree(float x, float y, float scale, float bulbs, float radius) {\n  for (float i = 0.0; i&lt;TWO_PI; i+=TWO_PI/bulbs) {\n    fill(#13430C);\n    noStroke();\n    circle(x+cos(i)*scale, y+sin(i)*scale, radius);\n    line(x, y, x+cos(i)*scale, y+sin(i)*scale);\n  }\n    \n  fill(#5D4A07);\n  noStroke();\n  circle(x, y, radius);\n}\n</code></pre>\n<p>Calling method:</p>\n<pre><code>void draw(){  \n  drawTree(width/2, height/2, 60, 5, 50);\n\n}\n</code></pre>\n"},{"tags":["java","swt","eclipse-rcp","slf4j","nattable"],"answers":[{"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1667138251,"post_id":74252475,"comment_id":131094923,"body_markdown":"I have `slf4j-api-1.7.32` and `log4j-slf4j-impl-2.19.0` on the classpath already, is thit eh Log4j SLF4J binding your talking about?","body":"I have <code>slf4j-api-1.7.32</code> and <code>log4j-slf4j-impl-2.19.0</code> on the classpath already, is thit eh Log4j SLF4J binding your talking about?"},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1667157808,"post_id":74252475,"comment_id":131099224,"body_markdown":"Should be yes. Maybe the impl bundle is not started","body":"Should be yes. Maybe the impl bundle is not started"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1669888632,"post_id":74252475,"comment_id":131747096,"body_markdown":"are you able to give an example of how the bundle should be started?","body":"are you able to give an example of how the bundle should be started?"},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1669906095,"post_id":74252475,"comment_id":131753264,"body_markdown":"in the product configuration you probably need to set the bundle start to automatic for the slf4j binding bundles.","body":"in the product configuration you probably need to set the bundle start to automatic for the slf4j binding bundles."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1669913787,"post_id":74252475,"comment_id":131756234,"body_markdown":"I&#39;m sorry, I don&#39;t know what you mean by &quot;set the bundle start to automatic&quot;. They are on the classpath and declared in the manifest and are accessible. I don&#39;t know where/what bundle start is.","body":"I&#39;m sorry, I don&#39;t know what you mean by &quot;set the bundle start to automatic&quot;. They are on the classpath and declared in the manifest and are accessible. I don&#39;t know where/what bundle start is."},{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1669919950,"post_id":74252475,"comment_id":131758241,"body_markdown":"Well, do you have a product configuration our how do you configure your application","body":"Well, do you have a product configuration our how do you configure your application"}],"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667127660,"creation_date":1667127660,"answer_id":74252475,"question_id":74251819,"body_markdown":"Well, with 2.0 NatTable switched to use SLF4J API instead of a concrete logging implementation. You need to add the Log4j2 SLF4J binding to the application to get rid of the warning. ","title":"NatTable 1.6-&gt;2.0 upgrade causes &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;&quot;","body":"<p>Well, with 2.0 NatTable switched to use SLF4J API instead of a concrete logging implementation. You need to add the Log4j2 SLF4J binding to the application to get rid of the warning.</p>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667127660,"creation_date":1667121533,"question_id":74251819,"body_markdown":"I have an Eclipse RCP application which uses the NatTable component.\r\n\r\nThe application uses Log4J 2.19, libraries on the classpath, configured correctly etc and logging works fine to both console and file.\r\n\r\nWhen I try to upgrade from NatTable 1.6 to 2.0, at runtime logging fails to work with the following error printed to the console:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nI&#39;m aware ordinarily this would be caused by the libraries not being on the classpath but I don&#39;t think this is the problem here - my only guess is that the new version of NatTable dependency is including something else on the classpath that&#39;s messing up the dependency resolution?","title":"NatTable 1.6-&gt;2.0 upgrade causes &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;&quot;","body":"<p>I have an Eclipse RCP application which uses the NatTable component.</p>\n<p>The application uses Log4J 2.19, libraries on the classpath, configured correctly etc and logging works fine to both console and file.</p>\n<p>When I try to upgrade from NatTable 1.6 to 2.0, at runtime logging fails to work with the following error printed to the console:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>I'm aware ordinarily this would be caused by the libraries not being on the classpath but I don't think this is the problem here - my only guess is that the new version of NatTable dependency is including something else on the classpath that's messing up the dependency resolution?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1666350810,"post_id":74150909,"comment_id":130921912,"body_markdown":"Would this help? https://stackoverflow.com/questions/6118708/determine-whether-json-is-a-jsonobject-or-jsonarray","body":"Would this help? <a href=\"https://stackoverflow.com/questions/6118708/determine-whether-json-is-a-jsonobject-or-jsonarray\" title=\"determine whether json is a jsonobject or jsonarray\">stackoverflow.com/questions/6118708/&hellip;</a>"},{"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"score":0,"creation_date":1666361446,"post_id":74150909,"comment_id":130925696,"body_markdown":"not really. The thing is I want to return a Json regardless of its content. I want to pass an argument to OnDataLoaded but I don&#39;t know how to write it.","body":"not really. The thing is I want to return a Json regardless of its content. I want to pass an argument to OnDataLoaded but I don&#39;t know how to write it."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667108904,"post_id":74150909,"comment_id":131090343,"body_markdown":"Can you paste your possible response.data structure or sample? I believe there would be an easy way out of it.","body":"Can you paste your possible response.data structure or sample? I believe there would be an easy way out of it."},{"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"score":0,"creation_date":1667559993,"post_id":74150909,"comment_id":131200381,"body_markdown":"The reply might be:\n{\n    &quot;id&quot;: 14,\n    &quot;name&quot;: &quot;Italy2 (imported)&quot;,\n    &quot;wheelbase&quot;: 0,\n    &quot;k_max&quot;: 0,\n    &quot;seed_point_angle&quot;: null,\n    &quot;first_middle_last&quot;: null\n}\n\nbut it also might be:\n\n[\n    {\n        &quot;id&quot;: 14,\n        &quot;name&quot;: &quot;Italy2 (imported)&quot;\n\t},\n    {\n        &quot;id&quot;: 12,\n        &quot;name&quot;: &quot;USA (imported)&quot;\n\t}\n]\nit depends on what request I send","body":"The reply might be: {     &quot;id&quot;: 14,     &quot;name&quot;: &quot;Italy2 (imported)&quot;,     &quot;wheelbase&quot;: 0,     &quot;k_max&quot;: 0,     &quot;seed_point_angle&quot;: null,     &quot;first_middle_last&quot;: null }  but it also might be:  [     {         &quot;id&quot;: 14,         &quot;name&quot;: &quot;Italy2 (imported)&quot; \t},     {         &quot;id&quot;: 12,         &quot;name&quot;: &quot;USA (imported)&quot; \t} ] it depends on what request I send"}],"answers":[{"comments":[{"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"score":0,"creation_date":1667559681,"post_id":74252415,"comment_id":131200260,"body_markdown":"yes, correct. It&#39;s JSON-java (org.json)\nyour solution (try JSONObject and then try JSON Array on catch) is exactly what I have implemented.\nThe downside of this solution is I must create two different listeners for the derived class, which will take care of converting JSON into specific structures that depend on which is the derived class.\nBasically, I have this base class who implements the volley GET request and receives a JSON. I have different derived classes, one for each different GET request.","body":"yes, correct. It&#39;s JSON-java (org.json) your solution (try JSONObject and then try JSON Array on catch) is exactly what I have implemented. The downside of this solution is I must create two different listeners for the derived class, which will take care of converting JSON into specific structures that depend on which is the derived class. Basically, I have this base class who implements the volley GET request and receives a JSON. I have different derived classes, one for each different GET request."}],"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667127027,"creation_date":1667127027,"answer_id":74252415,"question_id":74150909,"body_markdown":"First off, you should mention which JSON library you are using. It makes life easier for potential answerers. You seem to be using JSON-java (org.json). Is that correct?\r\n\r\nAlso, it is rather unusual for a program not to know what the structure of the received JSON is. That is one of the reasons JSON library often don&#39;t direct support what you want to do. You may want to look into making sure that there is no way to know more clearly what you are getting. Consider this: Once you know if you have an array or object, what is the next step? Do you know the further structure? \r\n\r\nAs mentioned, JSON-java is  a library that doesn&#39;t provide a way to do this directly. Basically you can either just try to use `JSONObject` and catch the exception and then try `JSONArray` (or viceversa). Or you could look at the first (non-whitespace) character of the string to see if it&#39;s a `{` or a `[`.\r\n\r\nAlternatively consider using a different JSON library. [Jackson][1], for example, has a different data model structure where `JsonObject` and `JsonObject` inherit from a common `JsonNode` class which you parse into instead and which provides methods to check and access its properties independent from the actual implementation.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"String to JSONArray or JSONObect or what?","body":"<p>First off, you should mention which JSON library you are using. It makes life easier for potential answerers. You seem to be using JSON-java (org.json). Is that correct?</p>\n<p>Also, it is rather unusual for a program not to know what the structure of the received JSON is. That is one of the reasons JSON library often don't direct support what you want to do. You may want to look into making sure that there is no way to know more clearly what you are getting. Consider this: Once you know if you have an array or object, what is the next step? Do you know the further structure?</p>\n<p>As mentioned, JSON-java is  a library that doesn't provide a way to do this directly. Basically you can either just try to use <code>JSONObject</code> and catch the exception and then try <code>JSONArray</code> (or viceversa). Or you could look at the first (non-whitespace) character of the string to see if it's a <code>{</code> or a <code>[</code>.</p>\n<p>Alternatively consider using a different JSON library. <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>, for example, has a different data model structure where <code>JsonObject</code> and <code>JsonObject</code> inherit from a common <code>JsonNode</code> class which you parse into instead and which provides methods to check and access its properties independent from the actual implementation.</p>\n"}],"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667127027,"creation_date":1666341232,"question_id":74150909,"body_markdown":"I need to convert a string to JSON and return the converted JSON.\r\nThe thing is that the string might contain any json (object or array) and I do not know how to return a valid json in my listener. How can I call the listener when Java has two different classes (JSONArray and JSONObject)?\r\n```\r\nJSONArray obj = null;\r\nString str;\r\ntry {\r\n   str = new String(response.data); \r\n\r\n   obj = new JSONArray(str); // But this might be JSONObject as well!!! :-/\r\n\r\n   if (listener != null) listener.OnDataLoaded(obj); // what Type should obj be?!?\r\n\r\n} catch (JSONException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"String to JSONArray or JSONObect or what?","body":"<p>I need to convert a string to JSON and return the converted JSON.\nThe thing is that the string might contain any json (object or array) and I do not know how to return a valid json in my listener. How can I call the listener when Java has two different classes (JSONArray and JSONObject)?</p>\n<pre><code>JSONArray obj = null;\nString str;\ntry {\n   str = new String(response.data); \n\n   obj = new JSONArray(str); // But this might be JSONObject as well!!! :-/\n\n   if (listener != null) listener.OnDataLoaded(obj); // what Type should obj be?!?\n\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","icons","png"],"comments":[{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1667339031,"post_id":74252359,"comment_id":131143453,"body_markdown":"The reason is that Java 8 doesn&#39;t handle properly the DPI settings of the OS. From Java9, it does. So if the DPI is set to 125%, all the icons will be enlarged by 125%. The solution to avoid blurred images is to provide images at different sizes. See [Can I supply image icons in Java in a higher resolution to avoid blurred icons after scaling?](https://stackoverflow.com/questions/70672430/can-i-supply-image-icons-in-java-in-a-higher-resolution-to-avoid-blurred-icons-a) for a solution.","body":"The reason is that Java 8 doesn&#39;t handle properly the DPI settings of the OS. From Java9, it does. So if the DPI is set to 125%, all the icons will be enlarged by 125%. The solution to avoid blurred images is to provide images at different sizes. See <a href=\"https://stackoverflow.com/questions/70672430/can-i-supply-image-icons-in-java-in-a-higher-resolution-to-avoid-blurred-icons-a\">Can I supply image icons in Java in a higher resolution to avoid blurred icons after scaling?</a> for a solution."}],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667126406,"creation_date":1667126406,"question_id":74252359,"body_markdown":"In my Swing application, since I migrated to Java 11, all my icons are bigger (with an unly antilias):\r\n\r\nWith Java 11 : [![Java 11][1]][1]\r\n\r\n\r\nWith Java 8 : [![Java 8][2]][2]\r\n\r\nThe icons are loaded basically this way:\r\n```\r\nBufferedInputStream stream = new BufferedInputStream(getApplicationRessource(pathToIcon));\r\nint count = 0;\r\nbyte buf[] = new byte[MAX_IMAGE_SIZE];\r\ntry {\r\n    count = stream.read(buf);\r\n    stream.close();\r\n} catch (IOException ieo) {\r\n    logger.error(&quot;Reading icon file \\&quot;&quot; + p + &quot;\\&quot;&quot;, ieo);\r\n}\r\nicon = new ImageIcon(Toolkit.getDefaultToolkit().createImage(buf));\r\n```\r\n\r\nHow to improve this ? By either preventing this resize or providing icons alternates ?\r\n\r\n  [1]: https://i.stack.imgur.com/NsDtv.png\r\n  [2]: https://i.stack.imgur.com/Cxevz.png","title":"Icons are bigger with Java 11 than with Java 8","body":"<p>In my Swing application, since I migrated to Java 11, all my icons are bigger (with an unly antilias):</p>\n<p>With Java 11 : <a href=\"https://i.stack.imgur.com/NsDtv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NsDtv.png\" alt=\"Java 11\" /></a></p>\n<p>With Java 8 : <a href=\"https://i.stack.imgur.com/Cxevz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cxevz.png\" alt=\"Java 8\" /></a></p>\n<p>The icons are loaded basically this way:</p>\n<pre><code>BufferedInputStream stream = new BufferedInputStream(getApplicationRessource(pathToIcon));\nint count = 0;\nbyte buf[] = new byte[MAX_IMAGE_SIZE];\ntry {\n    count = stream.read(buf);\n    stream.close();\n} catch (IOException ieo) {\n    logger.error(&quot;Reading icon file \\&quot;&quot; + p + &quot;\\&quot;&quot;, ieo);\n}\nicon = new ImageIcon(Toolkit.getDefaultToolkit().createImage(buf));\n</code></pre>\n<p>How to improve this ? By either preventing this resize or providing icons alternates ?</p>\n"},{"tags":["java","exe","launch4j"],"answers":[{"comments":[{"owner":{"account_id":24027167,"reputation":23,"user_id":18008649,"display_name":"Rudraraj Kar"},"score":0,"creation_date":1667117637,"post_id":74251444,"comment_id":131091400,"body_markdown":"Another way of making to easily run by any computer is to get the exe file signed although I don&#39;t know how to do it myself.","body":"Another way of making to easily run by any computer is to get the exe file signed although I don&#39;t know how to do it myself."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1667124365,"post_id":74251444,"comment_id":131092367,"body_markdown":"Is it possible that even without doing all these the app is safe to run?","body":"Is it possible that even without doing all these the app is safe to run?"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1667124399,"post_id":74251444,"comment_id":131092372,"body_markdown":"Like all the software we install, we never do all these steps and are safe normally, so what did that do to let it run without blocking?","body":"Like all the software we install, we never do all these steps and are safe normally, so what did that do to let it run without blocking?"},{"owner":{"account_id":24027167,"reputation":23,"user_id":18008649,"display_name":"Rudraraj Kar"},"score":1,"creation_date":1667125993,"post_id":74251444,"comment_id":131092641,"body_markdown":"Just as I said to do that you have to get your exe signed but I don&#39;t know how to do it.","body":"Just as I said to do that you have to get your exe signed but I don&#39;t know how to do it."}],"tags":[],"owner":{"account_id":24027167,"reputation":23,"user_id":18008649,"display_name":"Rudraraj Kar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667126261,"creation_date":1667117569,"answer_id":74251444,"question_id":74251235,"body_markdown":"You can select the exe you want to run --&gt; Click properties --&gt; Under the general tab beside the security option --&gt; check the unblock. Then it should definitely run\r\n\r\nTo have your exe like other software , you have to get your exe signed but I don&#39;t know how to do it. The solution I gave is a duct tape glue solution and I thought it would help.\r\n\r\nYou can check this link for more info:-\r\nhttps://stackoverflow.com/questions/252226/signing-a-windows-exe-file","title":"How to assure windows that my app is safe to run?","body":"<p>You can select the exe you want to run --&gt; Click properties --&gt; Under the general tab beside the security option --&gt; check the unblock. Then it should definitely run</p>\n<p>To have your exe like other software , you have to get your exe signed but I don't know how to do it. The solution I gave is a duct tape glue solution and I thought it would help.</p>\n<p>You can check this link for more info:-\n<a href=\"https://stackoverflow.com/questions/252226/signing-a-windows-exe-file\">Signing a Windows EXE file</a></p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667126261,"creation_date":1667114856,"question_id":74251235,"body_markdown":"For my college project, I created a MapGenerator to create maps for the project. It is a group project, so I converted my `.java` files to `.exe` using Launch4J.\r\nI then shared it to my friends using Google Drive. But then, while downloading, my friends said that Google said that the download is potentially dangerous. They just selected &quot;Keep&quot; and continued the download. The problem came when Windows doesn&#39;t let them to run that app at all. We know it&#39;s a safe application and does nothing wrong other than creating `.csv` files. \r\n\r\nSo, is there any way to assure Windows that this is a safe application and allow it to run the application?\r\n\r\nPS: *I use IntelliJ without gradle or maven, just IntelliJ (if this is a necessary info)*","title":"How to assure windows that my app is safe to run?","body":"<p>For my college project, I created a MapGenerator to create maps for the project. It is a group project, so I converted my <code>.java</code> files to <code>.exe</code> using Launch4J.\nI then shared it to my friends using Google Drive. But then, while downloading, my friends said that Google said that the download is potentially dangerous. They just selected &quot;Keep&quot; and continued the download. The problem came when Windows doesn't let them to run that app at all. We know it's a safe application and does nothing wrong other than creating <code>.csv</code> files.</p>\n<p>So, is there any way to assure Windows that this is a safe application and allow it to run the application?</p>\n<p>PS: <em>I use IntelliJ without gradle or maven, just IntelliJ (if this is a necessary info)</em></p>\n"},{"tags":["java","list","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667117618,"creation_date":1667117618,"answer_id":74251448,"question_id":74251238,"body_markdown":"Use association mappings to model the relationship between two database tables as attributes in your entity. \r\n\r\nJPA and Hibernate support the same associations as you know from your relational database model, all are described in [the blog post][1]. It&#39;s important to understand them correctly.\r\n\r\nFor this particular case, you can focus on the `@ManyToMany` association, since many students can be enrolled in many courses.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>Use association mappings to model the relationship between two database tables as attributes in your entity.</p>\n<p>JPA and Hibernate support the same associations as you know from your relational database model, all are described in <a href=\"https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/\" rel=\"nofollow noreferrer\">the blog post</a>. It's important to understand them correctly.</p>\n<p>For this particular case, you can focus on the <code>@ManyToMany</code> association, since many students can be enrolled in many courses.</p>\n"}],"owner":{"account_id":20613780,"reputation":1,"user_id":15132365,"display_name":"Sagar Rawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667126012,"creation_date":1667114889,"question_id":74251238,"body_markdown":"I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.\r\n\r\nBut looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.\r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Table(name=&quot;Courses&quot;)\r\n@Data\r\npublic class CourseEntity {\r\n    \r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;course_Name&quot;)\r\n\tprivate String courseName;\r\n\t\r\n\t@Column(name=&quot;students&quot;)\r\n\t**private List&lt;StudentEntity&gt; students;**\r\n}\r\n```\r\nabove is the list I am talking about","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.</p>\n<p>But looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Table(name=&quot;Courses&quot;)\n@Data\npublic class CourseEntity {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;course_Name&quot;)\n    private String courseName;\n    \n    @Column(name=&quot;students&quot;)\n    **private List&lt;StudentEntity&gt; students;**\n}\n</code></pre>\n<p>above is the list I am talking about</p>\n"},{"tags":["java","spring","date","localdatetime"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667127308,"post_id":74252316,"comment_id":131092839,"body_markdown":"That string is the URL encoded equivalent of `2022-10-30T13:28:41.530530`. You need to figure out why it is being provided in that format, or just decode it.","body":"That string is the URL encoded equivalent of <code>2022-10-30T13:28:41.530530</code>. You need to figure out why it is being provided in that format, or just decode it."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1667132521,"post_id":74252316,"comment_id":131093714,"body_markdown":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter `T`.","body":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter <code>T</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667145426,"post_id":74252316,"comment_id":131096375,"body_markdown":"Once URL decoded into `2022-10-30T13:28:41.530530`, forget about the formatter and just pass the string to the one-arg `LocalDateTime.parse(CharSequence)`. The string is in the [ISO 8501](https://en.wikipedia.org/wiki/ISO_8601) format, the default for java.time classes, which is why you don’t need to specify any formatter.","body":"Once URL decoded into <code>2022-10-30T13:28:41.530530</code>, forget about the formatter and just pass the string to the one-arg <code>LocalDateTime.parse(CharSequence)</code>. The string is in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8501</a> format, the default for java.time classes, which is why you don’t need to specify any formatter."}],"owner":{"account_id":25132170,"reputation":9,"user_id":19494722,"display_name":"Arnologus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667125952,"creation_date":1667125952,"question_id":74252316,"body_markdown":"I send a request from the main service to the statistics service, where I send parameters, including the encoded date\r\n\r\n[![the request looks like this](https://i.stack.imgur.com/nWOWa.png)](https://i.stack.imgur.com/nWOWa.png)\r\n\r\n\r\nhere is the code in the statistics service that formats the date\r\n\r\n```\r\ndefault Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\r\n   return (((root, query, criteriaBuilder) -&gt; {\r\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n      if (params.getUris() != null) {\r\n         for (String uri : params.getUris()) {\r\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\r\n         }\r\n      }\r\n      if (params.getStart() != null) {\r\n         predicates.add(criteriaBuilder.greaterThan(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getStart(), formatter)));\r\n      }\r\n      if (params.getEnd() != null) {\r\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getEnd(), formatter)));\r\n      }\r\n\r\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\r\n   }));\r\n```\r\n\r\n\r\nwhen sending a request, I get an error with the following stack trace\r\n\r\n\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\r\n\tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\r\n```\r\nhow to format a string into a date correctly?\r\n\r\n\r\nI tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)","title":"Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10","body":"<p>I send a request from the main service to the statistics service, where I send parameters, including the encoded date</p>\n<p><a href=\"https://i.stack.imgur.com/nWOWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWOWa.png\" alt=\"the request looks like this\" /></a></p>\n<p>here is the code in the statistics service that formats the date</p>\n<pre><code>default Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\n   return (((root, query, criteriaBuilder) -&gt; {\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n      if (params.getUris() != null) {\n         for (String uri : params.getUris()) {\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\n         }\n      }\n      if (params.getStart() != null) {\n         predicates.add(criteriaBuilder.greaterThan(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getStart(), formatter)));\n      }\n      if (params.getEnd() != null) {\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getEnd(), formatter)));\n      }\n\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\n   }));\n</code></pre>\n<p>when sending a request, I get an error with the following stack trace</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-10-30T13%3A28%3A41.530530' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\n    at com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\n    at com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\n</code></pre>\n<p>how to format a string into a date correctly?</p>\n<p>I tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-livedata"],"comments":[{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596749155,"post_id":63291868,"comment_id":111919122,"body_markdown":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document","body":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document"},{"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"score":0,"creation_date":1596750390,"post_id":63291868,"comment_id":111919527,"body_markdown":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!","body":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596754650,"post_id":63291868,"comment_id":111920615,"body_markdown":"I will add it as an answer, you can check it","body":"I will add it as an answer, you can check it"}],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667125212,"creation_date":1596754671,"answer_id":63292882,"question_id":63291868,"body_markdown":"The problem is not in the observer, I think you have a problem with your Firebase reference.\r\n\r\nThat&#39;s why it does not enter in your onSuccess `.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)` --&gt; check this reference you should use `.document` to navigate to a certain document.","title":"LiveData observer not getting triggered","body":"<p>The problem is not in the observer, I think you have a problem with your Firebase reference.</p>\n<p>That's why it does not enter in your onSuccess <code>.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)</code> --&gt; check this reference you should use <code>.document</code> to navigate to a certain document.</p>\n"}],"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667125212,"creation_date":1596748654,"question_id":63291868,"body_markdown":"I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a `MainActivityViewModel` where the data (a `FirestoreMenu`) is taken from the firestore and then it is provided and observed in the `MainActivity`. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?\r\n\r\n\r\n\r\nMainActivity\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n    private MainActivityViewModel mainActivityViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        \r\n        final MenuAdapter adapter = new MenuAdapter();\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n                //update recycle view\r\n                adapter.setFirestoreMenus(firestoreMenus);\r\n            }\r\n        });\r\n\r\n\r\n        /* I also have tried this approach\r\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\r\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\r\n\r\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n\r\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\r\n                menusListView.setAdapter(mAdapter);\r\n            }\r\n        });\r\n           */\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        signInAnonymously();\r\n    }\r\n\r\n    private void signInAnonymously() {\r\n    ...\r\n    }\r\n}\r\n```\r\nMainActivityViewModel\r\n```\r\npublic class MainActivityViewModel extends ViewModel {\r\n\r\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\r\n\r\n\r\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\r\n        if (mMenus == null){\r\n            mMenus = new MutableLiveData&lt;&gt;();\r\n\r\n        }\r\n        return mMenus;\r\n    }\r\n\r\n    public void setMenusCollection(String location){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\r\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\r\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\r\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\r\n                    dataSet.add(menu);\r\n                }\r\n                mMenus.setValue(dataSet);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nMenuAdapter\r\n```\r\npublic class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\r\n\r\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.menu_item,parent,false);\r\n        return new MenuHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\r\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\r\n        holder.textViewTitle.setText(currentMenu.getName());\r\n        holder.textViewDescritpion.setText(currentMenu.getId());\r\n        holder.textViewDescritpion.setText(currentMenu.getImage());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return firestoreMenus.size();\r\n    }\r\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\r\n        this.firestoreMenus = menus;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    class MenuHolder extends RecyclerView.ViewHolder{\r\n        private TextView textViewTitle;\r\n        private TextView textViewDescritpion;\r\n        private TextView textViewPriority;\r\n\r\n        public MenuHolder(View itemView){\r\n            super(itemView);\r\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\r\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\r\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"LiveData observer not getting triggered","body":"<p>I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a <code>MainActivityViewModel</code> where the data (a <code>FirestoreMenu</code>) is taken from the firestore and then it is provided and observed in the <code>MainActivity</code>. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n    private MainActivityViewModel mainActivityViewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setHasFixedSize(true);\n        \n        final MenuAdapter adapter = new MenuAdapter();\n\n        recyclerView.setAdapter(adapter);\n\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n                //update recycle view\n                adapter.setFirestoreMenus(firestoreMenus);\n            }\n        });\n\n\n        /* I also have tried this approach\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\n\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\n                menusListView.setAdapter(mAdapter);\n            }\n        });\n           */\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        signInAnonymously();\n    }\n\n    private void signInAnonymously() {\n    ...\n    }\n}\n</code></pre>\n<p>MainActivityViewModel</p>\n<pre><code>public class MainActivityViewModel extends ViewModel {\n\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\n\n\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\n        if (mMenus == null){\n            mMenus = new MutableLiveData&lt;&gt;();\n\n        }\n        return mMenus;\n    }\n\n    public void setMenusCollection(String location){\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\n                    dataSet.add(menu);\n                }\n                mMenus.setValue(dataSet);\n            }\n        });\n    }\n}\n</code></pre>\n<p>MenuAdapter</p>\n<pre><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\n\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.menu_item,parent,false);\n        return new MenuHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\n        holder.textViewTitle.setText(currentMenu.getName());\n        holder.textViewDescritpion.setText(currentMenu.getId());\n        holder.textViewDescritpion.setText(currentMenu.getImage());\n    }\n\n    @Override\n    public int getItemCount() {\n        return firestoreMenus.size();\n    }\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\n        this.firestoreMenus = menus;\n        notifyDataSetChanged();\n    }\n\n    class MenuHolder extends RecyclerView.ViewHolder{\n        private TextView textViewTitle;\n        private TextView textViewDescritpion;\n        private TextView textViewPriority;\n\n        public MenuHolder(View itemView){\n            super(itemView);\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4959818,"reputation":480,"user_id":3991350,"display_name":"cosh"},"score":2,"creation_date":1517442146,"post_id":48553231,"comment_id":84102949,"body_markdown":"check [this](https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array) out.","body":"check <a href=\"https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array\">this</a> out."}],"answers":[{"comments":[{"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"score":0,"creation_date":1517443930,"post_id":48553396,"comment_id":84103411,"body_markdown":"Hmm i see... but what does the `[a[0].length]` in terms of coding? I&#39;m just trying to understand it completely, and not just copy and paste it. Thanks!","body":"Hmm i see... but what does the <code>[a[0].length]</code> in terms of coding? I&#39;m just trying to understand it completely, and not just copy and paste it. Thanks!"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1517444174,"post_id":48553396,"comment_id":84103461,"body_markdown":"`a` is a two-dimensional array. `a[0]` is the first &quot;row&quot; (if you think in row-major format). `a[0].length` is the dimension of the first row, that is, the width of the matrix. `a.length` would be the height of the matrix. `new MyType[h][w]` is the usual way to initialize two-dimensional arrays in Java. Well &quot;usual&quot;... Usual in those rare contexts where you initialize arrays in Java (it doesn&#39;t happen too often, because collections, and now also the stream-api, are vastly more comfortable to use).","body":"<code>a</code> is a two-dimensional array. <code>a[0]</code> is the first &quot;row&quot; (if you think in row-major format). <code>a[0].length</code> is the dimension of the first row, that is, the width of the matrix. <code>a.length</code> would be the height of the matrix. <code>new MyType[h][w]</code> is the usual way to initialize two-dimensional arrays in Java. Well &quot;usual&quot;... Usual in those rare contexts where you initialize arrays in Java (it doesn&#39;t happen too often, because collections, and now also the stream-api, are vastly more comfortable to use)."},{"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"score":0,"creation_date":1517444999,"post_id":48553396,"comment_id":84103602,"body_markdown":"Ok so if, for instance, I wanted to switch the columns for the rows of `a[]` to intialize `b[]`, it should be like this, `int[][] b = new int[a[0].length][a.length]?","body":"Ok so if, for instance, I wanted to switch the columns for the rows of <code>a[]</code> to intialize <code>b[]</code>, it should be like this, `int[][] b = new int[a[0].length][a.length]?"}],"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517443057,"creation_date":1517443057,"answer_id":48553396,"question_id":48553231,"body_markdown":"Why not just use the ordinary multidimensional array initialization syntax?\r\n\r\n        int[][] a = {{1,2,3}, {4,5,6}};\r\n        int[][] b = new int[a.length][a[0].length];\r\n\r\nThis seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don&#39;t get any AIOOBEs:\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = 0; j &lt; a[0].length; j++) {\r\n              b[i][j] = a[i][j];\r\n            }\r\n        }\r\n\r\nThis, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>Why not just use the ordinary multidimensional array initialization syntax?</p>\n\n<pre><code>    int[][] a = {{1,2,3}, {4,5,6}};\n    int[][] b = new int[a.length][a[0].length];\n</code></pre>\n\n<p>This seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don't get any AIOOBEs:</p>\n\n<pre><code>    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = 0; j &lt; a[0].length; j++) {\n          b[i][j] = a[i][j];\n        }\n    }\n</code></pre>\n\n<p>This, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.</p>\n"}],"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6219,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48553396,"answer_count":1,"score":6,"last_activity_date":1667125144,"creation_date":1517441955,"question_id":48553231,"body_markdown":"I have the following 2D Array:\r\n\r\n         int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\r\n         \r\n\r\nAnd I want to create another 2D Array with the same size of `matrixA`, my question is how do I do it with, the same way of an ordinary array, i.e, `int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]`\r\n\r\n        int[][] matrixB = new int[matrixA.length][]\r\n\r\nCan I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there&#39;s a more correct and flexible way to do this? ","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>I have the following 2D Array:</p>\n\n<pre><code>     int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\n</code></pre>\n\n<p>And I want to create another 2D Array with the same size of <code>matrixA</code>, my question is how do I do it with, the same way of an ordinary array, i.e, <code>int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]</code></p>\n\n<pre><code>    int[][] matrixB = new int[matrixA.length][]\n</code></pre>\n\n<p>Can I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there's a more correct and flexible way to do this? </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1576486939,"post_id":59353213,"comment_id":104901650,"body_markdown":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the `Jenkinsfile` then.","body":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the <code>Jenkinsfile</code> then."}],"answers":[{"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1576491975,"post_id":59354208,"comment_id":104904180,"body_markdown":"Yes, thank you, this did work for me, I also had to make changes to rename the archive generated using archiveName (for versions below 6) and archiveFileName (for gradle version 6+).","body":"Yes, thank you, this did work for me, I also had to make changes to rename the archive generated using archiveName (for versions below 6) and archiveFileName (for gradle version 6+)."}],"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1602624454,"creation_date":1576490244,"answer_id":59354208,"question_id":59353213,"body_markdown":"In the [Configuring executable archive packaging][1] section of the [Spring Boot Gradle Plugin Reference Guide][2] we can read:\r\n\r\n&gt; The [`BootJar`][3] and [`BootWar`][4] tasks are subclasses of Gradle’s `Jar` and `War` tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.\r\n\r\nHaving that in mind if we look at [Gradle&#39;s Jar plugin][5] documentation it has [`destinationDirectory`][6] property denoting the directory where the archive will be placed.\r\n\r\nTry updating your `build.gradle` script according to this:\r\n\r\n    bootJar {\r\n      destinationDirectory = file(project.buildDir)\r\n    }\r\n\r\nThis should do the trick.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\r\n  [4]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\r\n  [5]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\r\n  [6]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory","title":"Change &quot;bootJar&quot; target directory","body":"<p>In the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\" rel=\"noreferrer\">Configuring executable archive packaging</a> section of the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\" rel=\"noreferrer\">Spring Boot Gradle Plugin Reference Guide</a> we can read:</p>\n<blockquote>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\" rel=\"noreferrer\"><code>BootJar</code></a> and <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\" rel=\"noreferrer\"><code>BootWar</code></a> tasks are subclasses of Gradle’s <code>Jar</code> and <code>War</code> tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.</p>\n</blockquote>\n<p>Having that in mind if we look at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"noreferrer\">Gradle's Jar plugin</a> documentation it has <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory\" rel=\"noreferrer\"><code>destinationDirectory</code></a> property denoting the directory where the archive will be placed.</p>\n<p>Try updating your <code>build.gradle</code> script according to this:</p>\n<pre><code>bootJar {\n  destinationDirectory = file(project.buildDir)\n}\n</code></pre>\n<p>This should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":5430327,"reputation":323,"user_id":4321406,"accept_rate":80,"display_name":"Partizanin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667124535,"creation_date":1667124535,"answer_id":74252158,"question_id":59353213,"body_markdown":"gradle 7.5\r\n\r\n\r\n    tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\r\n        destinationDirectory.set(file(&quot;jarfile&quot;))\r\n        println(destinationDirectory.get())\r\n    }","title":"Change &quot;bootJar&quot; target directory","body":"<p>gradle 7.5</p>\n<pre><code>tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\n    destinationDirectory.set(file(&quot;jarfile&quot;))\n    println(destinationDirectory.get())\n}\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6040,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59354208,"answer_count":2,"score":4,"last_activity_date":1667124535,"creation_date":1576486402,"question_id":59353213,"body_markdown":"New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.\r\n\r\nBelow is my build.gradle\r\n\r\n    import io.swagger.codegen.DefaultGenerator\r\n    import io.swagger.codegen.config.CodegenConfigurator\r\n    \r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;2.0.5.RELEASE&#39;\r\n            jacocoWorkspaceDirectory = &quot;/jacoco/&quot;\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion&quot;\r\n            classpath group: &quot;io.spring.gradle&quot;, name: &quot;dependency-management-plugin&quot;, version: &quot;1.0.6.RELEASE&quot;\r\n            classpath &#39;com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE&#39;\r\n            classpath group: &quot;org.unbroken-dome.gradle-plugins&quot;, name: &quot;gradle-testsets-plugin&quot;, version: &quot;1.4.2&quot;\r\n            classpath(&quot;io.swagger:swagger-codegen:2.3.1&quot;)\r\n            classpath(&quot;io.swagger.core.v3:swagger-gradle-plugin:2.0.5&quot;)\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    apply plugin: &quot;org.springframework.boot&quot;\r\n    apply plugin: &quot;io.swagger.core.v3.swagger-gradle-plugin&quot;\r\n    apply plugin: &#39;abc-sonar&#39;\r\n    apply plugin: &quot;jacoco&quot;\r\n    apply plugin: &quot;findbugs&quot;\r\n    apply plugin: &quot;checkstyle&quot;\r\n    apply plugin: &quot;pmd&quot;\r\n    \r\n    \r\n    def excludeStudentManagementConstants = &quot;src/main/java/com/abc/student/management/constants/studentManagementConstants.java&quot;\r\n    def excludeCaasConstants = &quot;src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java&quot;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    project.buildDir = &#39;target&#39;\r\n    \r\n    group = &#39;com.abc.studentmanagement&#39;\r\n    version = &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n    }\r\n    \r\n    \r\n    // PLUGIN CONFIGs\r\n    springBoot {\r\n        mainClassName = &#39;com.abc.student.management.StudentManagementApplication&#39;\r\n        buildInfo()\r\n    }\r\n    \r\n    bootJar {\r\n        baseName = &#39;student-management&#39;\r\n    }\r\n    \r\n    // FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\r\n    checkstyle {\r\n        maxErrors = 11\r\n        maxWarnings = 11\r\n        toolVersion = 8.17\r\n    }\r\n    \r\n    [checkstyleMain, checkstyleTest].each { task -&gt;\r\n        task.logging.setLevel(LogLevel.LIFECYCLE)\r\n        // FIXME -  This is to be updated with False.\r\n        task.ignoreFailures = false\r\n    }\r\n    // ---- PLUGIN CONFIG ENDs\r\n    \r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Spring specific dependencies\r\n        implementation(&#39;org.springframework:spring-tx&#39;)\r\n        implementation(&#39;org.springframework:spring-core&#39;)\r\n        implementation(&#39;org.springframework:spring-context&#39;)\r\n        implementation(&#39;org.springframework:spring-beans&#39;)\r\n        implementation(&#39;org.springframework:spring-expression&#39;)\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-aop&#39;\r\n        implementation group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;\r\n    \r\n        // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;\r\n    \r\n        // Spring cloud\r\n        // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-vault-config&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        implementation group: &#39;io.pivotal.spring.cloud&#39;, name: &#39;spring-cloud-services-starter-config-client&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        // Upgraded &quot;spring-cloud-starter-bus-amqp&quot; following from 2.0.0.RC1 to 2.0.1.RELEASE\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-bus-amqp&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n    \r\n    \r\n        // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-core&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;bson&#39;, version: &#39;3.10.1&#39;\r\n    \r\n        // SWagger dependencies\r\n        implementation group: &#39;io.swagger&#39;, name: &#39;swagger-parser&#39;, version: &#39;1.0.23&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;com.atlassian.oai&#39;, name: &#39;swagger-request-validator-core&#39;, version: &#39;1.3.9&#39;\r\n    \r\n        // Apache - Commons\r\n        implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    \r\n        // Oracle dependencies\r\n    //    implementation group: &#39;com.oracle.jdbc&#39;, name: &#39;ojdbc7&#39;, version: &#39;12.1.0&#39;\r\n    \r\n        // Logback\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.2.3&#39;\r\n    \r\n        implementation group: &#39;org.apache.camel&#39;, name: &#39;camel-jsonpath&#39;, version: &#39;2.22.0&#39;\r\n        implementation group: &#39;com.google.gdata&#39;, name: &#39;core&#39;, version: &#39;1.47.1&#39;\r\n        implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;20.0&#39;\r\n    \r\n        // Mapper\r\n        implementation group: &#39;ma.glasnost.orika&#39;, name: &#39;orika-core&#39;, version: &#39;1.5.4&#39;\r\n    \r\n        // JSON\r\n        implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-xml&#39;, version: &#39;2.8.10&#39;\r\n        implementation group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n    \r\n    \r\n        // abc - exception handler\r\n        implementation(group: &#39;com.abc.consumer.exception&#39;, name: &#39;exception-handler&#39;, version: &#39;1.3.3-SNAPSHOT&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n        // AXON - SDK\r\n        implementation(group: &#39;com.abc.apie.axon&#39;, name: &#39;axon-sdk&#39;, version: &#39;2.0.5&#39;) {\r\n            exclude(module: &#39;hibernate-validator&#39;)\r\n        }\r\n    \r\n        // abc Reference Arch - Messaging\r\n        implementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-messaging-base&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude module: &#39;axon-sdk&#39;\r\n            exclude module: &#39;hibernate-validator&#39;\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n    \r\n        // Test specific.\r\n        testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n        testImplementation group: &#39;com.github.tomakehurst&#39;, name: &#39;wiremock&#39;, version: &#39;2.21.0&#39;\r\n    \r\n        // abc Reference Arch - Testing\r\n        testImplementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-unit-test-jar&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n        testImplementation(group: &#39;com.intuit.karate&#39;, name: &#39;karate-apache&#39;, version: &#39;0.9.4&#39;) {\r\n            exclude(module: &#39;logback-classic&#39;)\r\n        }\r\n        testImplementation group: &#39;net.masterthought&#39;, name: &#39;cucumber-reporting&#39;, version: &#39;3.20.0&#39;\r\n    \r\n        // Karate Framework\r\n        testImplementation group: &#39;com.intuit.karate&#39;, name: &#39;karate-junit4&#39;, version: &#39;0.9.4&#39;\r\n    \r\n        // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\r\n        compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.10&#39;\r\n    }\r\n    \r\n    ext.appName = &#39;student-management&#39;\r\n    ext.apiPackage = &#39;com.abc.student.management.generated.api&#39;\r\n    ext.modelPackage = &#39;com.abc.student.management.generated.model&#39;\r\n    ext.swaggerFile = &quot;${rootDir}/src/main/resources/StudentManagement.v1.yaml&quot;\r\n    ext.swaggerBuildDir = &quot;${project.buildDir}/${ext.appName}&quot;\r\n    \r\n    // Actual task for generating the server\r\n    task generateServer {\r\n        doLast {\r\n            def config = new CodegenConfigurator()\r\n            config.setLang(&quot;spring&quot;)\r\n            config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\r\n            config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\r\n            config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\r\n            config.setOutputDir(rootProject.swaggerBuildDir)\r\n            // The output directory, user-service-contract/build/user-service-server/\r\n            config.addSystemProperty(&quot;models&quot;, &quot;&quot;);\r\n            config.addSystemProperty(&quot;apis&quot;, &quot;&quot;);\r\n    \r\n            config.setAdditionalProperties([\r\n                    &#39;dateLibrary&#39;    : &#39;java8&#39;, // Date library to use\r\n                    &#39;useTags&#39;        : &#39;true&#39;,  // Use tags for the naming\r\n                    &#39;delegatePattern&#39;: &#39;true&#39;   // Generating the code with the delegate pattern\r\n            ])\r\n            new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\r\n        }\r\n    }\r\n    \r\n    findbugs {\r\n        toolVersion = &quot;3.0.1&quot;\r\n        sourceSets = [sourceSets.main]\r\n        // FIXME - Make this false.\r\n        ignoreFailures = true\r\n        effort = &quot;max&quot;\r\n        reportLevel = &quot;medium&quot;\r\n        excludeFilter = file(&quot;$rootDir/config/findbugs/exclude.xml&quot;)\r\n    }\r\n    \r\n    pmd {\r\n        toolVersion = &quot;5.6.1&quot;\r\n        ignoreFailures = false\r\n        sourceSets = [sourceSets.main]\r\n        reportsDir = file(&quot;${project.buildDir}/reports/pmdTest&quot;)\r\n        ruleSets = [\r\n                &#39;java-basic&#39;\r\n        ]\r\n    }\r\n    \r\n    tasks.withType(FindBugs) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    tasks.withType(Pmd) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.projectName&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.projectKey&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.jacoco.reportPath&quot;, &quot;build/jacoco/test.exec&quot;\r\n            property &quot;sonar.junit.reportPaths&quot;, &quot;build/test-results/test&quot;\r\n            property &quot;sonar.host.url&quot;, &quot;https://fusion.abc.int/sonar&quot;\r\n            property &quot;sonar.gateId&quot;, &quot;307&quot;\r\n            property &quot;sonar.projectDescription&quot;, &quot;student management microservice.&quot;\r\n            property &quot;sonar.skip.qualityGate&quot;, &quot;false&quot;\r\n            property &quot;sonar.exclusions&quot;, [excludeStudentManagementConstants, excludeCaasConstants]\r\n        }\r\n    }\r\n\r\n\r\nP.S- I tried project.buildDir but that changed the `build` to `target`, the jar is still generated inside the target/lib directory.\r\n\r\n\r\n","title":"Change &quot;bootJar&quot; target directory","body":"<p>New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.</p>\n\n<p>Below is my build.gradle</p>\n\n<pre><code>import io.swagger.codegen.DefaultGenerator\nimport io.swagger.codegen.config.CodegenConfigurator\n\nbuildscript {\n    ext {\n        springBootVersion = '2.0.5.RELEASE'\n        jacocoWorkspaceDirectory = \"/jacoco/\"\n    }\n    repositories {\n        mavenLocal()\n        maven { url \"http://repo.maven.apache.org/maven2\" }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\"\n        classpath group: \"io.spring.gradle\", name: \"dependency-management-plugin\", version: \"1.0.6.RELEASE\"\n        classpath 'com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE'\n        classpath group: \"org.unbroken-dome.gradle-plugins\", name: \"gradle-testsets-plugin\", version: \"1.4.2\"\n        classpath(\"io.swagger:swagger-codegen:2.3.1\")\n        classpath(\"io.swagger.core.v3:swagger-gradle-plugin:2.0.5\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'maven'\napply plugin: 'maven-publish'\napply plugin: \"io.spring.dependency-management\"\napply plugin: \"org.springframework.boot\"\napply plugin: \"io.swagger.core.v3.swagger-gradle-plugin\"\napply plugin: 'abc-sonar'\napply plugin: \"jacoco\"\napply plugin: \"findbugs\"\napply plugin: \"checkstyle\"\napply plugin: \"pmd\"\n\n\ndef excludeStudentManagementConstants = \"src/main/java/com/abc/student/management/constants/studentManagementConstants.java\"\ndef excludeCaasConstants = \"src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java\"\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nproject.buildDir = 'target'\n\ngroup = 'com.abc.studentmanagement'\nversion = '1.0.0-SNAPSHOT'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nrepositories {\n    mavenLocal()\n    maven { url \"http://repo.maven.apache.org/maven2\" }\n}\n\n\n// PLUGIN CONFIGs\nspringBoot {\n    mainClassName = 'com.abc.student.management.StudentManagementApplication'\n    buildInfo()\n}\n\nbootJar {\n    baseName = 'student-management'\n}\n\n// FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\ncheckstyle {\n    maxErrors = 11\n    maxWarnings = 11\n    toolVersion = 8.17\n}\n\n[checkstyleMain, checkstyleTest].each { task -&gt;\n    task.logging.setLevel(LogLevel.LIFECYCLE)\n    // FIXME -  This is to be updated with False.\n    task.ignoreFailures = false\n}\n// ---- PLUGIN CONFIG ENDs\n\n\ndependencyManagement {\n    imports {\n        mavenBom \"org.springframework.boot:spring-boot-dependencies:$springBootVersion\"\n    }\n}\n\ndependencies {\n    // Spring specific dependencies\n    implementation('org.springframework:spring-tx')\n    implementation('org.springframework:spring-core')\n    implementation('org.springframework:spring-context')\n    implementation('org.springframework:spring-beans')\n    implementation('org.springframework:spring-expression')\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-aop'\n    implementation group: 'org.springframework.retry', name: 'spring-retry'\n\n    // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb'\n\n    // Spring cloud\n    // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-vault-config', version: '2.0.1.RELEASE'\n    implementation group: 'io.pivotal.spring.cloud', name: 'spring-cloud-services-starter-config-client', version: '2.0.1.RELEASE'\n    // Upgraded \"spring-cloud-starter-bus-amqp\" following from 2.0.0.RC1 to 2.0.1.RELEASE\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-bus-amqp', version: '2.0.1.RELEASE'\n\n\n    // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.mongodb', name: 'mongodb-driver', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'mongodb-driver-core', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'bson', version: '3.10.1'\n\n    // SWagger dependencies\n    implementation group: 'io.swagger', name: 'swagger-parser', version: '1.0.23'\n    implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\n    implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'\n    implementation group: 'com.atlassian.oai', name: 'swagger-request-validator-core', version: '1.3.9'\n\n    // Apache - Commons\n    implementation group: 'commons-io', name: 'commons-io', version: '2.6'\n\n    // Oracle dependencies\n//    implementation group: 'com.oracle.jdbc', name: 'ojdbc7', version: '12.1.0'\n\n    // Logback\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.2.3'\n\n    implementation group: 'org.apache.camel', name: 'camel-jsonpath', version: '2.22.0'\n    implementation group: 'com.google.gdata', name: 'core', version: '1.47.1'\n    implementation group: 'com.google.guava', name: 'guava', version: '20.0'\n\n    // Mapper\n    implementation group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4'\n\n    // JSON\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.8.10'\n    implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n\n\n    // abc - exception handler\n    implementation(group: 'com.abc.consumer.exception', name: 'exception-handler', version: '1.3.3-SNAPSHOT') {\n        exclude group: 'org.springframework'\n    }\n\n    // AXON - SDK\n    implementation(group: 'com.abc.apie.axon', name: 'axon-sdk', version: '2.0.5') {\n        exclude(module: 'hibernate-validator')\n    }\n\n    // abc Reference Arch - Messaging\n    implementation(group: 'com.abc.refarch', name: 'ref-arch-messaging-base', version: '5.3.2') {\n        exclude module: 'axon-sdk'\n        exclude module: 'hibernate-validator'\n        exclude group: 'org.springframework'\n    }\n\n\n    // Test specific.\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: '2.21.0'\n\n    // abc Reference Arch - Testing\n    testImplementation(group: 'com.abc.refarch', name: 'ref-arch-unit-test-jar', version: '5.3.2') {\n        exclude group: 'org.springframework'\n    }\n    testImplementation(group: 'com.intuit.karate', name: 'karate-apache', version: '0.9.4') {\n        exclude(module: 'logback-classic')\n    }\n    testImplementation group: 'net.masterthought', name: 'cucumber-reporting', version: '3.20.0'\n\n    // Karate Framework\n    testImplementation group: 'com.intuit.karate', name: 'karate-junit4', version: '0.9.4'\n\n    // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.10'\n}\n\next.appName = 'student-management'\next.apiPackage = 'com.abc.student.management.generated.api'\next.modelPackage = 'com.abc.student.management.generated.model'\next.swaggerFile = \"${rootDir}/src/main/resources/StudentManagement.v1.yaml\"\next.swaggerBuildDir = \"${project.buildDir}/${ext.appName}\"\n\n// Actual task for generating the server\ntask generateServer {\n    doLast {\n        def config = new CodegenConfigurator()\n        config.setLang(\"spring\")\n        config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\n        config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\n        config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\n        config.setOutputDir(rootProject.swaggerBuildDir)\n        // The output directory, user-service-contract/build/user-service-server/\n        config.addSystemProperty(\"models\", \"\");\n        config.addSystemProperty(\"apis\", \"\");\n\n        config.setAdditionalProperties([\n                'dateLibrary'    : 'java8', // Date library to use\n                'useTags'        : 'true',  // Use tags for the naming\n                'delegatePattern': 'true'   // Generating the code with the delegate pattern\n        ])\n        new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\n    }\n}\n\nfindbugs {\n    toolVersion = \"3.0.1\"\n    sourceSets = [sourceSets.main]\n    // FIXME - Make this false.\n    ignoreFailures = true\n    effort = \"max\"\n    reportLevel = \"medium\"\n    excludeFilter = file(\"$rootDir/config/findbugs/exclude.xml\")\n}\n\npmd {\n    toolVersion = \"5.6.1\"\n    ignoreFailures = false\n    sourceSets = [sourceSets.main]\n    reportsDir = file(\"${project.buildDir}/reports/pmdTest\")\n    ruleSets = [\n            'java-basic'\n    ]\n}\n\ntasks.withType(FindBugs) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\ntasks.withType(Pmd) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\nsonarqube {\n    properties {\n        property \"sonar.projectName\", \"student-management\"\n        property \"sonar.projectKey\", \"student-management\"\n        property \"sonar.jacoco.reportPath\", \"build/jacoco/test.exec\"\n        property \"sonar.junit.reportPaths\", \"build/test-results/test\"\n        property \"sonar.host.url\", \"https://fusion.abc.int/sonar\"\n        property \"sonar.gateId\", \"307\"\n        property \"sonar.projectDescription\", \"student management microservice.\"\n        property \"sonar.skip.qualityGate\", \"false\"\n        property \"sonar.exclusions\", [excludeStudentManagementConstants, excludeCaasConstants]\n    }\n}\n</code></pre>\n\n<p>P.S- I tried project.buildDir but that changed the <code>build</code> to <code>target</code>, the jar is still generated inside the target/lib directory.</p>\n"},{"tags":["java","rest","testing","mocking"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667050247,"post_id":74245330,"comment_id":131081338,"body_markdown":"It looks like the call to `userRepository.findById` isn&#39;t mocked.","body":"It looks like the call to <code>userRepository.findById</code> isn&#39;t mocked."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667051008,"post_id":74245330,"comment_id":131081522,"body_markdown":"Thanks for your answer! But I mock userRepository with @Mock annotation.","body":"Thanks for your answer! But I mock userRepository with @Mock annotation."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667069000,"post_id":74245330,"comment_id":131085351,"body_markdown":"when(roleRepository.findById(any()))\nwhy is it called roleRepository if you return an instance of user?","body":"when(roleRepository.findById(any())) why is it called roleRepository if you return an instance of user?"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667069458,"post_id":74245330,"comment_id":131085428,"body_markdown":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix","body":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix"}],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667121956,"post_id":74250117,"comment_id":131091978,"body_markdown":"Thanks a lot for your answer! I&#39;ve tried previously to stub this method, but it cannot be resolved like &quot;when(userRepository.findById(12)).thenReturn(Optional.of(userDto));&quot; because of Optional.of(userDto)","body":"Thanks a lot for your answer! I&#39;ve tried previously to stub this method, but it cannot be resolved like &quot;when(userRepository.findById(12)).thenReturn(Optional.of(us&zwnj;&#8203;erDto));&quot; because of Optional.of(userDto)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667124422,"post_id":74250117,"comment_id":131092382,"body_markdown":"Sorry, @Jack, my mistake. That should have read `Optional.of(userEntity)`. I&#39;ve updated the answer now.","body":"Sorry, @Jack, my mistake. That should have read <code>Optional.of(userEntity)</code>. I&#39;ve updated the answer now."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667124545,"post_id":74250117,"comment_id":131092394,"body_markdown":"Although, now that I read more carefully, it seems that you would want to be updating the fields of `databaseUser` from `updatedUser` rather than creating the new `UserEntity entity` instance.","body":"Although, now that I read more carefully, it seems that you would want to be updating the fields of <code>databaseUser</code> from <code>updatedUser</code> rather than creating the new <code>UserEntity entity</code> instance."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667125852,"post_id":74250117,"comment_id":131092620,"body_markdown":"Thanks! So, should I add to my test databaseUser to make it works?","body":"Thanks! So, should I add to my test databaseUser to make it works?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667127507,"post_id":74250117,"comment_id":131092873,"body_markdown":"If you want it to skip over the `if` block in `updateUser`, then `userRepository.findById` needs to return a non-empty `Optional`. It&#39;s as simple as that!","body":"If you want it to skip over the <code>if</code> block in <code>updateUser</code>, then <code>userRepository.findById</code> needs to return a non-empty <code>Optional</code>. It&#39;s as simple as that!"}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667124400,"creation_date":1667096811,"answer_id":74250117,"question_id":74245330,"body_markdown":"The `updateUser` method calls `userRepository.findById(Integer.valueOf(updatedUser.getUserName()))`.\r\n\r\nThe test does not stub this method, so the `userRepository` mock object will use the default answer behaviour to return a value. The example code does not show how the `userRepository` mock is created, but if the default answer is not customised, it will use [`RETURNS_DEFAULTS`](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS) and return an empty `Optional` by default for methods returning `Optional`.\r\n\r\nTo make it return `userDto` instead, you should stub the method before calling `userService.updateUser` in the test:\r\n\r\n    when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\r\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n\r\n    userService.updateUser(String.valueOf(id), userDto);\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>The <code>updateUser</code> method calls <code>userRepository.findById(Integer.valueOf(updatedUser.getUserName()))</code>.</p>\n<p>The test does not stub this method, so the <code>userRepository</code> mock object will use the default answer behaviour to return a value. The example code does not show how the <code>userRepository</code> mock is created, but if the default answer is not customised, it will use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS\" rel=\"nofollow noreferrer\"><code>RETURNS_DEFAULTS</code></a> and return an empty <code>Optional</code> by default for methods returning <code>Optional</code>.</p>\n<p>To make it return <code>userDto</code> instead, you should stub the method before calling <code>userService.updateUser</code> in the test:</p>\n<pre><code>when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\nwhen(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\nuserService.updateUser(String.valueOf(id), userDto);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74250117,"answer_count":1,"score":-1,"last_activity_date":1667124400,"creation_date":1667047033,"question_id":74245330,"body_markdown":"I&#39;ve written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn&#39;t work. \r\nI&#39;ve tried to add optional but it didn&#39;t work too.\r\nCould you give me a little piece of advice please? What should I fix in my test?\r\n**My testing method looks like:**\r\n\r\n    @Override\r\n    public UserDTO updateUser(String id, UserDTO updatedUser) {\r\n        Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\r\n        if (databaseUser.isEmpty()) {\r\n            throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\r\n        }\r\n        UserEntity entity = mapToUserEntity(updatedUser);\r\n        return map(userRepository.save(entity));\r\n    }\r\n\r\n**My test looks like:**\r\n\r\n    @Test\r\n    void updateUserTest(){\r\n        final int id = 1;\r\n        final long roleId = 2L;\r\n    \r\n        UserDTO userDto = new UserDTO();\r\n    \r\n        userDto.setUserName(String.valueOf(12));\r\n        userDto.setId(String.valueOf(id));\r\n        userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\r\n        userDto.setActive(true);\r\n        userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\r\n        userDto.setRoles(List.of(&quot;2&quot;));\r\n        userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\r\n        userDto.setUnit(null);\r\n    \r\n        when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\r\n        UserEntity userEntity = userService.mapToUserEntity(userDto);\r\n    \r\n        when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n    \r\n        userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        var actualUser = userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        userDto.setUserName(String.valueOf(id));\r\n        assertEquals(actualUser, userDto);\r\n    }\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>I've written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn't work.\nI've tried to add optional but it didn't work too.\nCould you give me a little piece of advice please? What should I fix in my test?\n<strong>My testing method looks like:</strong></p>\n<pre><code>@Override\npublic UserDTO updateUser(String id, UserDTO updatedUser) {\n    Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\n    if (databaseUser.isEmpty()) {\n        throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\n    }\n    UserEntity entity = mapToUserEntity(updatedUser);\n    return map(userRepository.save(entity));\n}\n</code></pre>\n<p><strong>My test looks like:</strong></p>\n<pre><code>@Test\nvoid updateUserTest(){\n    final int id = 1;\n    final long roleId = 2L;\n\n    UserDTO userDto = new UserDTO();\n\n    userDto.setUserName(String.valueOf(12));\n    userDto.setId(String.valueOf(id));\n    userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\n    userDto.setActive(true);\n    userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\n    userDto.setRoles(List.of(&quot;2&quot;));\n    userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\n    userDto.setUnit(null);\n\n    when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\n    UserEntity userEntity = userService.mapToUserEntity(userDto);\n\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\n    userService.updateUser(String.valueOf(id), userDto);\n\n    var actualUser = userService.updateUser(String.valueOf(id), userDto);\n\n    userDto.setUserName(String.valueOf(id));\n    assertEquals(actualUser, userDto);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1667125776,"post_id":74252109,"comment_id":131092604,"body_markdown":"Have you tried logging `onCancelled` error message?","body":"Have you tried logging <code>onCancelled</code> error message?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1667127809,"post_id":74252109,"comment_id":131092917,"body_markdown":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)","body":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667124176,"creation_date":1667124176,"question_id":74252109,"body_markdown":" I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code\r\n\r\n\r\nactivity with receive method\r\n```\r\nprivate void getUsermenwomInfo()\r\n{\r\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\r\n            .child(&quot;Userwoman_men&quot;);\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\r\n            {\r\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\r\n                nameusercard.setText(name);\r\n                if (snapshot.hasChild(&quot;image&quot;)) {\r\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                    Picasso.get().load(image).into(imageosnovnoe);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n}\r\n}\r\n```\r\nxml with shapeableimageview\r\n```\r\nLinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        android:layout_margin=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearmain&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;400dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                android:id=&quot;@+id/imageosnovnoe&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;400dp&quot;\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n\r\n                 /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearhori&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;100dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:weightSum=&quot;3&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/like&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/sas&quot;\r\n\r\n\r\n\r\n                    /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/disslike&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/aan&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nher adapter java class\r\n```\r\npublic class SwipeAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n    private List&lt;Integer&gt; list;\r\n\r\n\r\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\r\n        this.context=context;\r\n        this.list=list;\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 20;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int i) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int i) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int i, View convertView, ViewGroup parent) {\r\n     View view;\r\n     if(convertView==null)\r\n     {\r\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\r\n\r\n     }else {\r\n         view=convertView;\r\n     }\r\n     return view;\r\n    }\r\n   \r\n}\r\n```\r\nhow to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help","title":"method of receiving data from firebase is not working","body":"<p>I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code</p>\n<p>activity with receive method</p>\n<pre><code>private void getUsermenwomInfo()\n{\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Userwoman_men&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\n            {\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\n                nameusercard.setText(name);\n                if (snapshot.hasChild(&quot;image&quot;)) {\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\n                    Picasso.get().load(image).into(imageosnovnoe);\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>xml with shapeableimageview</p>\n<pre><code>LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:gravity=&quot;center&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;500dp&quot;\n        android:layout_margin=&quot;15dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearmain&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;400dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n                android:id=&quot;@+id/imageosnovnoe&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;400dp&quot;\n                android:backgroundTint=&quot;@color/white&quot;\n                android:scaleType=&quot;fitXY&quot;\n\n                 /&gt;\n        &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/linearhori&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;100dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:weightSum=&quot;3&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/like&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/sas&quot;\n\n\n\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/disslike&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/aan&quot;\n\n                    /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>her adapter java class</p>\n<pre><code>public class SwipeAdapter extends BaseAdapter {\n\n    private Context context;\n    private List&lt;Integer&gt; list;\n\n\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\n        this.context=context;\n        this.list=list;\n\n    }\n\n    @Override\n    public int getCount() {\n        return 20;\n    }\n\n    @Override\n    public Object getItem(int i) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int i) {\n        return 0;\n    }\n\n    @Override\n    public View getView(int i, View convertView, ViewGroup parent) {\n     View view;\n     if(convertView==null)\n     {\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\n\n     }else {\n         view=convertView;\n     }\n     return view;\n    }\n   \n}\n</code></pre>\n<p>how to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help</p>\n"},{"tags":["java","inheritance","casting"],"comments":[{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":3,"creation_date":1298398680,"post_id":5082044,"comment_id":5693589,"body_markdown":"the answer you have here: http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java","body":"the answer you have here: <a href=\"http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java\" title=\"how can i cast a list using generics in java\">stackoverflow.com/questions/662508/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1298404591,"post_id":5082088,"comment_id":5695080,"body_markdown":"Should note that with Arrays, instead of ClassCastException when retrieving an object that is not of type SubClass (or derived), you will get an ArrayStoreException when inserting.","body":"Should note that with Arrays, instead of ClassCastException when retrieving an object that is not of type SubClass (or derived), you will get an ArrayStoreException when inserting."},{"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"score":0,"creation_date":1298405110,"post_id":5082088,"comment_id":5695193,"body_markdown":"Thanks especially for the explanation of why the two lists cannot be considered the same.","body":"Thanks especially for the explanation of why the two lists cannot be considered the same."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1457450924,"post_id":5082088,"comment_id":59406659,"body_markdown":"The Java type system pretends that arrays are covariant, but they aren&#39;t really substitutable, proven by the ArrayStoreException.","body":"The Java type system pretends that arrays are covariant, but they aren&#39;t really substitutable, proven by the ArrayStoreException."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":0,"up_vote_count":204,"is_accepted":true,"score":204,"last_activity_date":1298398813,"creation_date":1298398342,"answer_id":5082088,"question_id":5082044,"body_markdown":"The syntax for this sort of assignment uses a wildcard:\r\n\r\n    List&lt;SubClass&gt; subs = ...;\r\n    List&lt;? extends BaseClass&gt; bases = subs;\r\n\r\nIt&#39;s important to realize that a `List&lt;SubClass&gt;` is **not** interchangeable with a `List&lt;BaseClass&gt;`. Code that retains a reference to the `List&lt;SubClass&gt;` will expect every item in the list to be a `SubClass`. If another part of code referred to the list as a `List&lt;BaseClass&gt;`, the compiler will not complain when a `BaseClass` or `AnotherSubClass` is inserted. But this will cause a `ClassCastException` for the first piece of code, which assumes that everything in the list is a `SubClass`.\r\n\r\nGeneric collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:\r\n\r\n    SubClass[] subs = ...;\r\n    BaseClass[] bases = subs;\r\n\r\nThis is allowed, because the array &quot;knows&quot; the type of its elements. If someone attempts to store something that isn&#39;t an instance of `SubClass` in the array (via the `bases` reference), a runtime exception will be thrown. \r\n\r\nGeneric collections do *not* &quot;know&quot; their component type; this information is &quot;erased&quot; at compile time. Therefore, they can&#39;t raise a runtime exception when an invalid store occurs. Instead, a `ClassCastException` will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The syntax for this sort of assignment uses a wildcard:</p>\n\n<pre><code>List&lt;SubClass&gt; subs = ...;\nList&lt;? extends BaseClass&gt; bases = subs;\n</code></pre>\n\n<p>It's important to realize that a <code>List&lt;SubClass&gt;</code> is <strong>not</strong> interchangeable with a <code>List&lt;BaseClass&gt;</code>. Code that retains a reference to the <code>List&lt;SubClass&gt;</code> will expect every item in the list to be a <code>SubClass</code>. If another part of code referred to the list as a <code>List&lt;BaseClass&gt;</code>, the compiler will not complain when a <code>BaseClass</code> or <code>AnotherSubClass</code> is inserted. But this will cause a <code>ClassCastException</code> for the first piece of code, which assumes that everything in the list is a <code>SubClass</code>.</p>\n\n<p>Generic collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:</p>\n\n<pre><code>SubClass[] subs = ...;\nBaseClass[] bases = subs;\n</code></pre>\n\n<p>This is allowed, because the array \"knows\" the type of its elements. If someone attempts to store something that isn't an instance of <code>SubClass</code> in the array (via the <code>bases</code> reference), a runtime exception will be thrown. </p>\n\n<p>Generic collections do <em>not</em> \"know\" their component type; this information is \"erased\" at compile time. Therefore, they can't raise a runtime exception when an invalid store occurs. Instead, a <code>ClassCastException</code> will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.</p>\n"},{"tags":[],"owner":{"account_id":207873,"reputation":1751,"user_id":458014,"accept_rate":83,"display_name":"hd42"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1298400335,"creation_date":1298400335,"answer_id":5082437,"question_id":5082044,"body_markdown":"As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\r\n\r\nI would not recommend this if you don&#39;t know what happens to the List&lt;BaseClass&gt; and would suggest you change whatever code needs the List&lt;BaseClass&gt; to accept the List you have.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\n</code></pre>\n\n<p>I would not recommend this if you don't know what happens to the List and would suggest you change whatever code needs the List to accept the List you have.</p>\n"},{"comments":[{"owner":{"account_id":8265071,"reputation":155,"user_id":6214933,"display_name":"Long"},"score":0,"creation_date":1623573634,"post_id":5083949,"comment_id":120113043,"body_markdown":"PS: add(null) is legal","body":"PS: add(null) is legal"}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1298408701,"creation_date":1298408701,"answer_id":5083949,"question_id":5082044,"body_markdown":"erickson already explained why you can&#39;t do this, but here some solutions:\r\n\r\nIf you only want to take elements out of your base list, in principle your receiving method should be declared as taking a `List&lt;? extends BaseClass&gt;`.\r\n\r\nBut if it isn&#39;t and you can&#39;t change it, you can wrap the list with `Collections.unmodifiableList(...)`, which allows returning a List of a supertype of the argument&#39;s parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>erickson already explained why you can't do this, but here some solutions:</p>\n\n<p>If you only want to take elements out of your base list, in principle your receiving method should be declared as taking a <code>List&lt;? extends BaseClass&gt;</code>.</p>\n\n<p>But if it isn't and you can't change it, you can wrap the list with <code>Collections.unmodifiableList(...)</code>, which allows returning a List of a supertype of the argument's parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)</p>\n"},{"tags":[],"owner":{"account_id":235159,"reputation":276,"user_id":501789,"display_name":"olivervbk"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1427324772,"creation_date":1427324772,"answer_id":29268187,"question_id":5082044,"body_markdown":"Something like this should work too:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\r\n\t\tfinal List&lt; ? extends T&gt; originalList,\r\n\t\tfinal Class&lt;T&gt; clazz )\r\n\t{\r\n\t\tfinal List&lt;T&gt; newList = new ArrayList&lt;&gt;();\r\n\t\tfor ( final T item : originalList )\r\n\t\t{\r\n\t\t\tnewList.add( item );\r\n\t\t}// for\r\n\t\treturn newList;\r\n\t}\r\nDon&#39;t really know why clazz is needed in Eclipse..","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Something like this should work too:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\n    final List&lt; ? extends T&gt; originalList,\n    final Class&lt;T&gt; clazz )\n{\n    final List&lt;T&gt; newList = new ArrayList&lt;&gt;();\n    for ( final T item : originalList )\n    {\n        newList.add( item );\n    }// for\n    return newList;\n}\n</code></pre>\n\n<p>Don't really know why clazz is needed in Eclipse..</p>\n"},{"comments":[{"owner":{"account_id":178619,"reputation":2831,"user_id":410713,"display_name":"marc.guenther"},"score":0,"creation_date":1665698762,"post_id":43263131,"comment_id":130766190,"body_markdown":"Shouldn&#39;t this be called `upCastList()`? After all, you are casting from a sub class to a super class?\nOtherwise, this is super helpful. I added this as an extension method (using Lombok) to `List`, so now I can simply `superList = subList.upCast();`","body":"Shouldn&#39;t this be called <code>upCastList()</code>? After all, you are casting from a sub class to a super class? Otherwise, this is super helpful. I added this as an extension method (using Lombok) to <code>List</code>, so now I can simply <code>superList = subList.upCast();</code>"}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665740087,"creation_date":1491503420,"answer_id":43263131,"question_id":5082044,"body_markdown":"What you are trying to do is very useful and I find that I need to do it very often in code that I write.\r\n\r\nMost java programmers would not think twice before implementing `getConvertedList()` by allocating a new `ArrayList&lt;&gt;()`, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of `ArrayList`s which are garbage-collected microseconds after their creation.\r\n\r\nThe solution to this problem is, of course, down-casting the collection. Here is how to do it:\r\n\r\n\tstatic &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\r\n\t{\r\n\t\t@SuppressWarnings( &quot;unchecked&quot; )\r\n\t\tList&lt;T&gt; result = (List&lt;T&gt;)list;\r\n\t\treturn result;\r\n\t}\r\n\r\nThe intermediate `result` variable is necessary due to a perversion of the java language: \r\n\r\n* `return (List&lt;T&gt;)list;` would produce an &quot;unchecked cast&quot; warning;\r\n\r\n* in order to suppress the warning, you need a `@SuppressWarnings( &quot;unchecked&quot; )` annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.\r\n\r\n* in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.\r\n\r\n* luckily, one such annotatable entity is a local variable declaration.\r\n\r\n* therefore, we have to declare a new local variable to use the `@SuppressWarnings` annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)\r\n\r\nNote: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: https://stackoverflow.com/a/72195980/773113\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>What you are trying to do is very useful and I find that I need to do it very often in code that I write.</p>\n<p>Most java programmers would not think twice before implementing <code>getConvertedList()</code> by allocating a new <code>ArrayList&lt;&gt;()</code>, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of <code>ArrayList</code>s which are garbage-collected microseconds after their creation.</p>\n<p>The solution to this problem is, of course, down-casting the collection. Here is how to do it:</p>\n<pre><code>static &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\n{\n    @SuppressWarnings( &quot;unchecked&quot; )\n    List&lt;T&gt; result = (List&lt;T&gt;)list;\n    return result;\n}\n</code></pre>\n<p>The intermediate <code>result</code> variable is necessary due to a perversion of the java language:</p>\n<ul>\n<li><p><code>return (List&lt;T&gt;)list;</code> would produce an &quot;unchecked cast&quot; warning;</p>\n</li>\n<li><p>in order to suppress the warning, you need a <code>@SuppressWarnings( &quot;unchecked&quot; )</code> annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.</p>\n</li>\n<li><p>in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.</p>\n</li>\n<li><p>luckily, one such annotatable entity is a local variable declaration.</p>\n</li>\n<li><p>therefore, we have to declare a new local variable to use the <code>@SuppressWarnings</code> annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)</p>\n</li>\n</ul>\n<p>Note: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: <a href=\"https://stackoverflow.com/a/72195980/773113\">https://stackoverflow.com/a/72195980/773113</a></p>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":1,"creation_date":1500465852,"post_id":45183177,"comment_id":77347019,"body_markdown":"Thank you for this code snippet, which may provide some immediate help.  A proper explanation [would greatly improve](//meta.stackexchange.com/q/114762) its educational value by showing *why* this is a good solution to the problem, and would make it more useful to future readers with similar, but not identical, questions.  Please [edit] your answer to add explanation, and give an indication of what limitations and assumptions apply.  In particular, how does this differ from the code in the question that makes a new list?","body":"Thank you for this code snippet, which may provide some immediate help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its educational value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with similar, but not identical, questions.  Please <a href=\"https://stackoverflow.com/posts/45183177/edit\">edit</a> your answer to add explanation, and give an indication of what limitations and assumptions apply.  In particular, how does this differ from the code in the question that makes a new list?"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1582397067,"post_id":45183177,"comment_id":106766492,"body_markdown":"The overhead is not insignifcant, as it also has to (shallow) copy every reference.  As such it scales with the size of the list, so it is an O(n) operation.","body":"The overhead is not insignifcant, as it also has to (shallow) copy every reference.  As such it scales with the size of the list, so it is an O(n) operation."}],"tags":[],"owner":{"account_id":1304399,"reputation":329,"user_id":1253663,"display_name":"sigirisetti"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500474187,"creation_date":1500447834,"answer_id":45183177,"question_id":5082044,"body_markdown":"Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. \r\n\r\nI saw other answers are un-necessarily complicated.\r\n\r\n    List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. </p>\n\n<p>I saw other answers are un-necessarily complicated.</p>\n\n<pre><code>List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"score":0,"creation_date":1536178096,"post_id":50553783,"comment_id":91335141,"body_markdown":"This is the complete piece of code that works to cast sub class list to super class.","body":"This is the complete piece of code that works to cast sub class list to super class."},{"owner":{"account_id":4611941,"reputation":2248,"user_id":3739756,"display_name":"giulp"},"score":1,"creation_date":1628160183,"post_id":50553783,"comment_id":121349123,"body_markdown":"wouldn&#39;t be necessary to call `.stream()` on the list before calling `.map()` ?","body":"wouldn&#39;t be necessary to call <code>.stream()</code> on the list before calling <code>.map()</code> ?"},{"owner":{"account_id":519380,"reputation":388,"user_id":1256928,"display_name":"drordk"},"score":0,"creation_date":1628516813,"post_id":50553783,"comment_id":121434801,"body_markdown":"Yes giulp. Fixed (added stream()).","body":"Yes giulp. Fixed (added stream())."}],"tags":[],"owner":{"account_id":519380,"reputation":388,"user_id":1256928,"display_name":"drordk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628516765,"creation_date":1527435543,"answer_id":50553783,"question_id":5082044,"body_markdown":"How about casting all elements. It will create a new list, but will reference the original objects from the old list.\r\n\r\n    List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>How about casting all elements. It will create a new list, but will reference the original objects from the old list.</p>\n<pre><code>List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536178525,"creation_date":1536178525,"answer_id":52192809,"question_id":5082044,"body_markdown":"This is the complete working piece of code using Generics, to cast sub class list to super class.\r\n\r\nCaller method that passes subclass type\r\n\r\n    List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \r\n    getElementDefinitionStatuses(subClassParam);\r\n\r\nCallee method that accepts any subtype of the base class\r\n\r\n    private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \r\n        BaseClass&gt; baseClassVariableName) {\r\n         return allElementStatuses;\r\n        }\r\n    }","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>This is the complete working piece of code using Generics, to cast sub class list to super class.</p>\n\n<p>Caller method that passes subclass type</p>\n\n<pre><code>List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \ngetElementDefinitionStatuses(subClassParam);\n</code></pre>\n\n<p>Callee method that accepts any subtype of the base class</p>\n\n<pre><code>private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \n    BaseClass&gt; baseClassVariableName) {\n     return allElementStatuses;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582397434,"creation_date":1582397434,"answer_id":60355596,"question_id":5082044,"body_markdown":"I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\r\n\r\nNothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the `subList` starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\n</code></pre>\n\n<p>Nothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the <code>subList</code> starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.</p>\n"},{"comments":[{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":1,"creation_date":1659612077,"post_id":72195980,"comment_id":129338479,"body_markdown":"Nice description, why someone cannot cast ArrayList&lt;S&gt; to ArrayList&lt;D&gt;, but List.of() can be casted.","body":"Nice description, why someone cannot cast ArrayList&lt;S&gt; to ArrayList&lt;D&gt;, but List.of() can be casted."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1667125397,"post_id":72195980,"comment_id":131092538,"body_markdown":"A similar thing applies to [`Collections.unmodifiableList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableList%28java.util.List%29), for similar reasons.","body":"A similar thing applies to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList()</code></a>, for similar reasons."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1667123699,"creation_date":1652248077,"answer_id":72195980,"question_id":5082044,"body_markdown":"The most efficient and at the same time ***safe*** way of accomplishing this is as follows:\r\n\r\n    List&lt;S&gt; supers = List.copyOf( descendants );\r\n\r\nThe documentation of this function is here: [oracle.com - Java SE 19 docs - List.copyOf()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection))  The documentation states that this function exists &quot;Since: 10&quot;.\r\n\r\nThe use of this function has the following advantages:\r\n\r\n- It is a neat one-liner.\r\n- It produces no warnings.\r\n- It does not require any typecast.\r\n- It does not require the cumbersome `List&lt;? extends S&gt;` construct.\r\n- It does **not necessarily** make a copy !!!\r\n- Most importantly: **it does the right thing.** (It is safe.)\r\n\r\n### Why is this the right thing?\r\n\r\nIf you look at the source code of `List.copyOf()` you will see that it works as follows:\r\n - If your list was created with `List.of()`, then it will do the cast and return it without copying it.\r\n - Otherwise, (e.g. if your list is an `ArrayList()`,) it will create a copy and return it.\r\n\r\nIf your original `List&lt;D&gt;` is an `ArrayList&lt;D&gt;`, then in order to obtain a `List&lt;S&gt;`, a copy of the `ArrayList` **must be made**. If a cast was made instead, it would be opening up the possibility of inadvertently adding an `S` into that `List&lt;S&gt;`, causing your original `ArrayList&lt;D&gt;` to contain an `S` among the `D`s, which is a disastrous situation known as ***Heap Pollution*** ([Wikipedia](https://en.wikipedia.org/wiki/Heap_pollution)): attempting to iterate all the `D`s in the original `ArrayList&lt;D&gt;` would throw a `ClassCastException`.\r\n\r\nOn the other hand, if your original `List&lt;D&gt;` has been created using `List.of()`, then it is unchangeable&lt;sup&gt;(*1)&lt;/sup&gt;, so it is okay to simply cast it to `List&lt;S&gt;`, because nobody can actually add an `S` among the `D`s.\r\n\r\n`List.copyOf()` takes care of this decision logic for you.\r\n\r\n------------------\r\n&lt;sup&gt;(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable ***to you*** view of ***my*** list which I am still free to mutate as I please, and ***the mutations will be very visible to you***&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.&lt;/sup&gt;","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The most efficient and at the same time <em><strong>safe</strong></em> way of accomplishing this is as follows:</p>\n<pre><code>List&lt;S&gt; supers = List.copyOf( descendants );\n</code></pre>\n<p>The documentation of this function is here: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\">oracle.com - Java SE 19 docs - List.copyOf()</a>  The documentation states that this function exists &quot;Since: 10&quot;.</p>\n<p>The use of this function has the following advantages:</p>\n<ul>\n<li>It is a neat one-liner.</li>\n<li>It produces no warnings.</li>\n<li>It does not require any typecast.</li>\n<li>It does not require the cumbersome <code>List&lt;? extends S&gt;</code> construct.</li>\n<li>It does <strong>not necessarily</strong> make a copy !!!</li>\n<li>Most importantly: <strong>it does the right thing.</strong> (It is safe.)</li>\n</ul>\n<h3>Why is this the right thing?</h3>\n<p>If you look at the source code of <code>List.copyOf()</code> you will see that it works as follows:</p>\n<ul>\n<li>If your list was created with <code>List.of()</code>, then it will do the cast and return it without copying it.</li>\n<li>Otherwise, (e.g. if your list is an <code>ArrayList()</code>,) it will create a copy and return it.</li>\n</ul>\n<p>If your original <code>List&lt;D&gt;</code> is an <code>ArrayList&lt;D&gt;</code>, then in order to obtain a <code>List&lt;S&gt;</code>, a copy of the <code>ArrayList</code> <strong>must be made</strong>. If a cast was made instead, it would be opening up the possibility of inadvertently adding an <code>S</code> into that <code>List&lt;S&gt;</code>, causing your original <code>ArrayList&lt;D&gt;</code> to contain an <code>S</code> among the <code>D</code>s, which is a disastrous situation known as <em><strong>Heap Pollution</strong></em> (<a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"noreferrer\">Wikipedia</a>): attempting to iterate all the <code>D</code>s in the original <code>ArrayList&lt;D&gt;</code> would throw a <code>ClassCastException</code>.</p>\n<p>On the other hand, if your original <code>List&lt;D&gt;</code> has been created using <code>List.of()</code>, then it is unchangeable<sup>(*1)</sup>, so it is okay to simply cast it to <code>List&lt;S&gt;</code>, because nobody can actually add an <code>S</code> among the <code>D</code>s.</p>\n<p><code>List.copyOf()</code> takes care of this decision logic for you.</p>\n<hr />\n<p><sup>(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable <em><strong>to you</strong></em> view of <em><strong>my</strong></em> list which I am still free to mutate as I please, and <em><strong>the mutations will be very visible to you</strong></em>&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.</sup></p>\n"}],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93430,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"accepted_answer_id":5082088,"answer_count":10,"score":161,"last_activity_date":1667123699,"creation_date":1298398098,"question_id":5082044,"body_markdown":"I have a `List&lt;SubClass&gt;` that I want to treat as a `List&lt;BaseClass&gt;`.  It seems like it shouldn&#39;t be a problem since casting a `SubClass` to a `BaseClass` is a snap, but my compiler complains that the cast is impossible.\r\n\r\nSo, what&#39;s the best way to get a reference to the same objects as a `List&lt;BaseClass&gt;`?\r\n\r\nRight now I&#39;m just making a new list and copying the old list:\r\n\r\n    List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\r\n\r\nBut as I understand it that has to create an entirely new list.  I&#39;d like a reference to the original list, if possible!","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I have a <code>List&lt;SubClass&gt;</code> that I want to treat as a <code>List&lt;BaseClass&gt;</code>.  It seems like it shouldn't be a problem since casting a <code>SubClass</code> to a <code>BaseClass</code> is a snap, but my compiler complains that the cast is impossible.</p>\n\n<p>So, what's the best way to get a reference to the same objects as a <code>List&lt;BaseClass&gt;</code>?</p>\n\n<p>Right now I'm just making a new list and copying the old list:</p>\n\n<pre><code>List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\n</code></pre>\n\n<p>But as I understand it that has to create an entirely new list.  I'd like a reference to the original list, if possible!</p>\n"},{"tags":["java","3d","libgdx"],"answers":[{"tags":[],"owner":{"account_id":2874615,"reputation":1084,"user_id":2972145,"display_name":"Deniz Yılmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1471079598,"creation_date":1471079598,"answer_id":38931166,"question_id":38928229,"body_markdown":"Model Builder works well for me. \r\n\r\n\r\n    ModelBuilder modelBuilder = new ModelBuilder();\r\n    modelBuilder.begin();\r\n    MeshPartBuilder builder = modelBuilder.part(&quot;line&quot;, 1, 3, new Material());\r\n    builder.setColor(Color.RED);\r\n    builder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\r\n    lineModel = modelBuilder.end();\r\n    lineInstance = new ModelInstance(lineModel);","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>Model Builder works well for me. </p>\n\n<pre><code>ModelBuilder modelBuilder = new ModelBuilder();\nmodelBuilder.begin();\nMeshPartBuilder builder = modelBuilder.part(\"line\", 1, 3, new Material());\nbuilder.setColor(Color.RED);\nbuilder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\nlineModel = modelBuilder.end();\nlineInstance = new ModelInstance(lineModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7597398,"reputation":81,"user_id":5763170,"display_name":"Kright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667122431,"creation_date":1667122431,"answer_id":74251904,"question_id":38928229,"body_markdown":"You need to set camera matrix before rendering:\r\n\r\n```java\r\n@Override\r\n    public void create() {\r\n        ...\r\n        srend = new ShapeRenderer();\r\n        srend.setProjectionMatrix(new Matrix4())\r\n        srend.setColor(Color.RED);\r\n        ...\r\n    }\r\n```\r\n\r\nI don&#39;t know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.\r\n\r\nIn real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:\r\n\r\n```java\r\nshapeRenderer.setProjectionMatrix(camera.combined)\r\n```","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>You need to set camera matrix before rendering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setProjectionMatrix(new Matrix4())\n        srend.setColor(Color.RED);\n        ...\n    }\n</code></pre>\n<p>I don't know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.</p>\n<p>In real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shapeRenderer.setProjectionMatrix(camera.combined)\n</code></pre>\n"}],"owner":{"account_id":6353549,"reputation":247,"user_id":5036929,"accept_rate":62,"display_name":"Jacob_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38931166,"answer_count":2,"score":4,"last_activity_date":1667122431,"creation_date":1471050217,"question_id":38928229,"body_markdown":"I&#39;m trying to learn the 3D side of LibGDX, and I&#39;ve came to a problem. I want to draw a line from `0, 0, -5` to `0, 0, 5`. I&#39;ve tried a few things to make this work.&lt;br&gt;\r\nFirst I looked to see if I could create a line as a `Model`. As far as I can see, I can&#39;t do this.&lt;br&gt;\r\nWhat I then realised is that theoretically I can draw a line using a `ShapeRenderer`. Here&#39;s my code to try to do this.\r\n\r\n    public class Main implements ApplicationListener {\r\n        ...\r\n        public ShapeRenderer srend;\r\n        ...\r\n        @Override\r\n        public void create() {\r\n            ...\r\n            srend = new ShapeRenderer();\r\n            srend.setColor(Color.RED);\r\n            ...\r\n        }\r\n        \r\n        @Override\r\n        public void render() {\r\n            ...\r\n            srend.begin(ShapeType.Line);\r\n            srend.line(0, 0, -5, 0, 0, 5);\r\n            srend.end();\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nBut for some reason this doesn&#39;t appear to work. I use ShapeRenderers a lot, but it&#39;s possible that I&#39;m making a mistake initializing or using it, I don&#39;t think that&#39;s the problem though.&lt;br&gt;\r\nI&#39;ve only just started using the 3D part of LibGDX, so I assume the problem is around where I&#39;m drawing the actual line.","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>I'm trying to learn the 3D side of LibGDX, and I've came to a problem. I want to draw a line from <code>0, 0, -5</code> to <code>0, 0, 5</code>. I've tried a few things to make this work.<br>\nFirst I looked to see if I could create a line as a <code>Model</code>. As far as I can see, I can't do this.<br>\nWhat I then realised is that theoretically I can draw a line using a <code>ShapeRenderer</code>. Here's my code to try to do this.</p>\n\n<pre><code>public class Main implements ApplicationListener {\n    ...\n    public ShapeRenderer srend;\n    ...\n    @Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setColor(Color.RED);\n        ...\n    }\n\n    @Override\n    public void render() {\n        ...\n        srend.begin(ShapeType.Line);\n        srend.line(0, 0, -5, 0, 0, 5);\n        srend.end();\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>But for some reason this doesn't appear to work. I use ShapeRenderers a lot, but it's possible that I'm making a mistake initializing or using it, I don't think that's the problem though.<br>\nI've only just started using the 3D part of LibGDX, so I assume the problem is around where I'm drawing the actual line.</p>\n"},{"tags":["java","azure","databricks","autoload"],"comments":[{"owner":{"account_id":4916681,"reputation":591,"user_id":3960445,"accept_rate":33,"display_name":"Vincent"},"score":1,"creation_date":1666711208,"post_id":74196294,"comment_id":130998902,"body_markdown":"Hello Artur, \nYou can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream().","body":"Hello Artur,  You can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream()."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666714311,"post_id":74196294,"comment_id":131000071,"body_markdown":"Hi Vincent by why did it work with scala: val df = spark.readstream..","body":"Hi Vincent by why did it work with scala: val df = spark.readstream.."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666728268,"post_id":74196294,"comment_id":131004203,"body_markdown":"@Vincent thanks i willl check","body":"@Vincent thanks i willl check"}],"answers":[{"tags":[],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667120950,"creation_date":1667120950,"answer_id":74251766,"question_id":74196294,"body_markdown":"So finally, I have found a way to get Autoloader working inside my Java Jar.\r\n\r\nAs Vincent already commented you have to combine readstream with a writestream.\r\n\r\nSo I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.\r\n\r\n        spark.readStream().format(&quot;cloudFiles&quot;)\r\n                .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\r\n                .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n                .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\r\n                .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\r\n                .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\r\n                .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\r\n                .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\r\n                .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\r\n                .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n                .schema(DF_SCHEMA)\r\n                .load(BLOB_STORAGE_LANDING_ZONE_PATH)\r\n                .writeStream()\r\n                .format(&quot;delta&quot;)\r\n                .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\r\n                .option(&quot;mergeSchema&quot;, &quot;true&quot;)\r\n                .trigger(Trigger.Once())\r\n                .outputMode(&quot;append&quot;)\r\n                .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\r\n\r\nThis works fine with Java when you need to run a Jar as Databricks Jobs.\r\n\r\nBut to be honest I am still wondering why, from inside a Notebook, I don&#39;t have to use writestream in scala language to receive new files from the autoloader.","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>So finally, I have found a way to get Autoloader working inside my Java Jar.</p>\n<p>As Vincent already commented you have to combine readstream with a writestream.</p>\n<p>So I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.</p>\n<pre><code>    spark.readStream().format(&quot;cloudFiles&quot;)\n            .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\n            .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n            .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\n            .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\n            .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\n            .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\n            .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\n            .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\n            .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n            .schema(DF_SCHEMA)\n            .load(BLOB_STORAGE_LANDING_ZONE_PATH)\n            .writeStream()\n            .format(&quot;delta&quot;)\n            .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\n            .option(&quot;mergeSchema&quot;, &quot;true&quot;)\n            .trigger(Trigger.Once())\n            .outputMode(&quot;append&quot;)\n            .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\n</code></pre>\n<p>This works fine with Java when you need to run a Jar as Databricks Jobs.</p>\n<p>But to be honest I am still wondering why, from inside a Notebook, I don't have to use writestream in scala language to receive new files from the autoloader.</p>\n"}],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74251766,"answer_count":1,"score":0,"last_activity_date":1667120950,"creation_date":1666710632,"question_id":74196294,"body_markdown":"currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in **Java** and running as a Job on a Shared Cluster.\r\n\r\nCode:\r\n\r\n```\r\nDataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\r\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\r\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\r\nnewdata.show();\r\n```\r\nBut unfortunatelly I get the following exception:\r\n\r\n```\r\nWARN SQLExecution: Error executing delta metering\r\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\ncloudFiles\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\r\n```\r\n\r\nWhat makes me wonder is, that the exactly same code is **running fine** inside a Databricks Notebook written in **Scala**:\r\n\r\n```\r\nval df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n.option(&quot;cloudFiles.clientId&quot;, spappid)\r\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\r\n\r\ndisplay(df1);\r\n```\r\n\r\nI expect a Dataset&lt;Row&gt; object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in <strong>Java</strong> and running as a Job on a Shared Cluster.</p>\n<p>Code:</p>\n<pre><code>Dataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\nnewdata.show();\n</code></pre>\n<p>But unfortunatelly I get the following exception:</p>\n<pre><code>WARN SQLExecution: Error executing delta metering\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\ncloudFiles\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\n</code></pre>\n<p>What makes me wonder is, that the exactly same code is <strong>running fine</strong> inside a Databricks Notebook written in <strong>Scala</strong>:</p>\n<pre><code>val df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n.option(&quot;cloudFiles.clientId&quot;, spappid)\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\n\ndisplay(df1);\n</code></pre>\n<p>I expect a Dataset object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary</p>\n"},{"tags":["java","string","for-loop","stringbuilder"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667145856,"post_id":74251370,"comment_id":131096478,"body_markdown":"This comment is for the person who voted to close this question. Your reason: &quot;_The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem._&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive.","body":"This comment is for the person who voted to close this question. Your reason: &quot;<i>The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.</i>&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667117329,"creation_date":1667117329,"answer_id":74251427,"question_id":74251370,"body_markdown":"Your problem is that you are adding the strings to the same instance of `StringBuilder` and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the `sb` buffer.\r\n\r\nTo fix, replace the contents of the `else` block with the following snippet:\r\n```\r\nStringBuilder temp = new StringBuilder(arr[i]).reverse();\r\nsb.append(temp.toString()).append(&quot; &quot;);\r\n```\r\n\r\nThe program now outputs\r\n```\r\n[One, Two, three, Four]\r\nenO owT eerht Four \r\n```","title":"Reverse odd length words from a string","body":"<p>Your problem is that you are adding the strings to the same instance of <code>StringBuilder</code> and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the <code>sb</code> buffer.</p>\n<p>To fix, replace the contents of the <code>else</code> block with the following snippet:</p>\n<pre><code>StringBuilder temp = new StringBuilder(arr[i]).reverse();\nsb.append(temp.toString()).append(&quot; &quot;);\n</code></pre>\n<p>The program now outputs</p>\n<pre><code>[One, Two, three, Four]\nenO owT eerht Four \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667117575,"creation_date":1667117575,"answer_id":74251445,"question_id":74251370,"body_markdown":"I would use a stream approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;One Two three Four&quot;;\r\n    String output = Arrays.stream(input.split(&quot; &quot;))\r\n                          .map(x -&gt; new StringBuilder(x).reverse().toString())\r\n                          .collect(Collectors.joining(&quot; &quot;));\r\n    System.out.println(output);  // enO owT eerht ruoF","title":"Reverse odd length words from a string","body":"<p>I would use a stream approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;One Two three Four&quot;;\nString output = Arrays.stream(input.split(&quot; &quot;))\n                      .map(x -&gt; new StringBuilder(x).reverse().toString())\n                      .collect(Collectors.joining(&quot; &quot;));\nSystem.out.println(output);  // enO owT eerht ruoF\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667120045,"creation_date":1667118919,"answer_id":74251591,"question_id":74251370,"body_markdown":"You can use `Pattern` like this.\r\n\r\n    static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\r\n\r\n    static String secretAgentII(String s) {\r\n        return WORD.matcher(s)\r\n            .replaceAll(m -&gt; m.group().length() % 2 == 0\r\n                ? m.group()\r\n                : new StringBuilder(m.group()).reverse().toString());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    enO     owT eerht Four\r\n\r\n","title":"Reverse odd length words from a string","body":"<p>You can use <code>Pattern</code> like this.</p>\n<pre><code>static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\n\nstatic String secretAgentII(String s) {\n    return WORD.matcher(s)\n        .replaceAll(m -&gt; m.group().length() % 2 == 0\n            ? m.group()\n            : new StringBuilder(m.group()).reverse().toString());\n}\n\npublic static void main(String[] args) {\n    System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>enO     owT eerht Four\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74251427,"answer_count":3,"score":-1,"last_activity_date":1667120045,"creation_date":1667116484,"question_id":74251370,"body_markdown":"I am trying to reverse the words from a **string = &quot;One Two three Four&quot;** whose length is odd, I am using **StringBuilder** class to reverse the words my expected output is **&quot;enO owT eerht Four&quot;** but I am getting **&quot;eerht enO Two Four&quot;** here the order is not correct also it is not reversing **&quot;Two&quot;**, what&#39;s wrong with my code also please provide a solution to it.\r\n\r\n```\r\npackage QAIntvSprint;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class SecretAgent {\r\n  static StringBuilder sb = new StringBuilder();\r\n\r\n  public static void main(String[] args) {\r\n    secretAgentII(&quot;One Two three Four&quot;);\r\n  }\r\n\r\n  static void secretAgentII(String s) {\r\n    String[] arr = s.split(&quot; &quot;);\r\n    System.out.println(Arrays.toString(arr));\r\n    int i;\r\n    for (i = 0; i &lt; arr.length; i++) {\r\n      if (arr[i].length() % 2 == 0) {\r\n        sb.append(arr[i] + &quot; &quot;);\r\n      } else {\r\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\r\n      }\r\n    }\r\n    System.out.println(sb.toString());\r\n  }\r\n}\r\n```\r\noutput is below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/way2H.png","title":"Reverse odd length words from a string","body":"<p>I am trying to reverse the words from a <strong>string = &quot;One Two three Four&quot;</strong> whose length is odd, I am using <strong>StringBuilder</strong> class to reverse the words my expected output is <strong>&quot;enO owT eerht Four&quot;</strong> but I am getting <strong>&quot;eerht enO Two Four&quot;</strong> here the order is not correct also it is not reversing <strong>&quot;Two&quot;</strong>, what's wrong with my code also please provide a solution to it.</p>\n<pre><code>package QAIntvSprint;\n\nimport java.util.Arrays;\n\npublic class SecretAgent {\n  static StringBuilder sb = new StringBuilder();\n\n  public static void main(String[] args) {\n    secretAgentII(&quot;One Two three Four&quot;);\n  }\n\n  static void secretAgentII(String s) {\n    String[] arr = s.split(&quot; &quot;);\n    System.out.println(Arrays.toString(arr));\n    int i;\n    for (i = 0; i &lt; arr.length; i++) {\n      if (arr[i].length() % 2 == 0) {\n        sb.append(arr[i] + &quot; &quot;);\n      } else {\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\n      }\n    }\n    System.out.println(sb.toString());\n  }\n}\n</code></pre>\n<p>output is below\n<a href=\"https://i.stack.imgur.com/way2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/way2H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1667115002,"post_id":74251242,"comment_id":131091007,"body_markdown":"`javac` just *compiles* the code. You haven&#39;t *executed* the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. `javac` is just the compiler, everywhere.) If you then run `java Main` (assuming your `Main` class is in the default package) it will actually execute it.","body":"<code>javac</code> just <i>compiles</i> the code. You haven&#39;t <i>executed</i> the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. <code>javac</code> is just the compiler, everywhere.) If you then run <code>java Main</code> (assuming your <code>Main</code> class is in the default package) it will actually execute it."},{"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"score":0,"creation_date":1667115129,"post_id":74251242,"comment_id":131091020,"body_markdown":"@JonSkeet  so then what do I execute?","body":"@JonSkeet  so then what do I execute?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1667115185,"post_id":74251242,"comment_id":131091030,"body_markdown":"You run `java Main` - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow.","body":"You run <code>java Main</code> - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow."}],"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667119919,"answer_count":0,"score":0,"last_activity_date":1667119877,"creation_date":1667114937,"question_id":74251242,"body_markdown":"I&#39;m running a Java program on a Chromebook, and I&#39;m trying to run the file in the Linux terminal. I ran the command `javac Main.java`, but it shows nothing, not an error, but just straight up nothing.\r\n\r\nI have Java installed. The file I&#39;m running has no bugs. I did not make a typo. Everything is perfectly right.\r\n\r\nIs there something I&#39;m missing? \r\n\r\n```none\r\nuser@penguin:~$ javac Main.java\r\nuser@penguin:~$ \r\n```","title":"Java program isn&#39;t showing output on Linux terminal","body":"<p>I'm running a Java program on a Chromebook, and I'm trying to run the file in the Linux terminal. I ran the command <code>javac Main.java</code>, but it shows nothing, not an error, but just straight up nothing.</p>\n<p>I have Java installed. The file I'm running has no bugs. I did not make a typo. Everything is perfectly right.</p>\n<p>Is there something I'm missing?</p>\n<pre class=\"lang-none prettyprint-override\"><code>user@penguin:~$ javac Main.java\nuser@penguin:~$ \n</code></pre>\n"},{"tags":["java","pagination","lucene"],"comments":[{"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"score":0,"creation_date":1667113498,"post_id":74251081,"comment_id":131090820,"body_markdown":"Why down vote? respect me.","body":"Why down vote? respect me."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667134895,"post_id":74251081,"comment_id":131094233,"body_markdown":"(I can&#39;t comment on why the down vote.) See the [official demo code](https://lucene.apache.org/core/9_4_1/demo/index.html) for an example which includes one possible approach to support pagination. More specifically, take a look at the `doPagingSearch()` method in the [`SearchFiles`](https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html) source code.","body":"(I can&#39;t comment on why the down vote.) See the <a href=\"https://lucene.apache.org/core/9_4_1/demo/index.html\" rel=\"nofollow noreferrer\">official demo code</a> for an example which includes one possible approach to support pagination. More specifically, take a look at the <code>doPagingSearch()</code> method in the <a href=\"https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html\" rel=\"nofollow noreferrer\"><code>SearchFiles</code></a> source code."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1667134899,"post_id":74251081,"comment_id":131094234,"body_markdown":"See also the various `searchAfter()` methods in [`IndexSearcher`](https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html) - and existing SO [Lucene pagination](https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination) questions - although some of their code examples may be out-of-date now.","body":"See also the various <code>searchAfter()</code> methods in <a href=\"https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html\" rel=\"nofollow noreferrer\"><code>IndexSearcher</code></a> - and existing SO <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination\" rel=\"nofollow noreferrer\">Lucene pagination</a> questions - although some of their code examples may be out-of-date now."}],"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667119746,"creation_date":1667112741,"question_id":74251081,"body_markdown":"```\r\npackage com.mylucene;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\r\nimport org.apache.lucene.document.Document;\r\nimport org.apache.lucene.index.DirectoryReader;\r\nimport org.apache.lucene.index.IndexReader;\r\nimport org.apache.lucene.queryparser.classic.QueryParser;\r\nimport org.apache.lucene.search.IndexSearcher;\r\nimport org.apache.lucene.search.Query;\r\nimport org.apache.lucene.search.ScoreDoc;\r\nimport org.apache.lucene.search.TopDocs;\r\nimport org.apache.lucene.search.TotalHitCountCollector;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.FSDirectory;\r\n \r\npublic class DemoReader \r\n{\r\n    private String INDEX_DIR = &quot;&quot;;\r\n    \r\n    public DemoReader(String indexDir) throws Exception{\r\n        INDEX_DIR = indexDir;\r\n\r\n        IndexSearcher searcher = createSearcher();\r\n        \r\n\r\n\r\n        //Search by ID\r\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\r\n     \r\n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\r\n     \r\n        for (ScoreDoc sd : foundDocs.scoreDocs) {\r\n            Document d = searcher.doc(sd.doc);\r\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\r\n        }\r\n  \r\n    }\r\n\r\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\r\n   \r\n        return hits;\r\n    }\r\n \r\n    private IndexSearcher createSearcher() throws IOException {\r\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\r\n        IndexReader reader = DirectoryReader.open(dir);\r\n        IndexSearcher searcher = new IndexSearcher(reader);\r\n        return searcher;\r\n    }\r\n}\r\n```\r\nThis class read all records from lucene&#39;s index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records. \r\nThe output is something as:\r\n``` \r\n...\r\n199989 Nicola\r\n199990 Nicola\r\n199991 Nicola\r\n199992 Nicola\r\n199993 Nicola\r\n199994 Nicola\r\n199995 Nicola\r\n199996 Nicola\r\n199997 Nicola\r\n199998 Nicola\r\n199999 Nicola\r\nend\r\n``` \r\nI would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\r\nI&#39;m also tried to use ```TopScoreDocCollector```  but I don&#39;t know how. Can you post me an simple please?\r\nI want get something as:\r\n```\r\n...\r\n100000 Nicola\r\n100001 Nicola\r\n100002 Nicola\r\n100003 Nicola\r\n100004 Nicola\r\n100005 Nicola\r\n100006 Nicola\r\n100007 Nicola\r\n100008 Nicola\r\n100009 Nicola\r\n```\r\n\r\nUPDATE \r\ni have edited searchByFirstName method. But I have a doubt if it&#39;s correct.\r\n\r\n```\r\n   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        \r\n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\r\n    \r\n        searcher.search(firstNameQuery, scoreCollector);\r\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\r\n\r\n        return hitss;\r\n    }\r\n```\r\n\r\n","title":"an example TopScoreDocCollector pagination in Lucene - how to","body":"<pre><code>package com.mylucene;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.queryparser.classic.QueryParser;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.Query;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.search.TopDocs;\nimport org.apache.lucene.search.TotalHitCountCollector;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.FSDirectory;\n \npublic class DemoReader \n{\n    private String INDEX_DIR = &quot;&quot;;\n    \n    public DemoReader(String indexDir) throws Exception{\n        INDEX_DIR = indexDir;\n\n        IndexSearcher searcher = createSearcher();\n        \n\n\n        //Search by ID\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\n     \n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\n     \n        for (ScoreDoc sd : foundDocs.scoreDocs) {\n            Document d = searcher.doc(sd.doc);\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\n        }\n  \n    }\n\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\n   \n        return hits;\n    }\n \n    private IndexSearcher createSearcher() throws IOException {\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\n        IndexReader reader = DirectoryReader.open(dir);\n        IndexSearcher searcher = new IndexSearcher(reader);\n        return searcher;\n    }\n}\n</code></pre>\n<p>This class read all records from lucene's index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records.\nThe output is something as:</p>\n<pre><code>...\n199989 Nicola\n199990 Nicola\n199991 Nicola\n199992 Nicola\n199993 Nicola\n199994 Nicola\n199995 Nicola\n199996 Nicola\n199997 Nicola\n199998 Nicola\n199999 Nicola\nend\n</code></pre>\n<p>I would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\nI'm also tried to use <code>TopScoreDocCollector</code>  but I don't know how. Can you post me an simple please?\nI want get something as:</p>\n<pre><code>...\n100000 Nicola\n100001 Nicola\n100002 Nicola\n100003 Nicola\n100004 Nicola\n100005 Nicola\n100006 Nicola\n100007 Nicola\n100008 Nicola\n100009 Nicola\n</code></pre>\n<p>UPDATE\ni have edited searchByFirstName method. But I have a doubt if it's correct.</p>\n<pre><code>   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        \n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\n    \n        searcher.search(firstNameQuery, scoreCollector);\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\n\n        return hitss;\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1667054139,"post_id":74233801,"comment_id":131082198,"body_markdown":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one.","body":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one."}],"answers":[{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667053712,"creation_date":1667053712,"answer_id":74246130,"question_id":74233801,"body_markdown":"I don&#39;t think you&#39;re missing something. All you mentioned is correct.\r\n\r\nThe way I understand it is that `UnnecessaryStubbingsException` is Mockito&#39;s way of telling you:\r\n\r\n&gt; Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.\r\n\r\nAnd if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won&#39;t, _lenient_ would be the way to go. So the exception goes away if you define your mock like this:\r\n\r\n```java\r\n@Mock(lenient = true)\r\nService someService;\r\n```\r\n\r\nSo my actual personal answer is: It&#39;s good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I don't think you're missing something. All you mentioned is correct.</p>\n<p>The way I understand it is that <code>UnnecessaryStubbingsException</code> is Mockito's way of telling you:</p>\n<blockquote>\n<p>Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.</p>\n</blockquote>\n<p>And if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won't, <em>lenient</em> would be the way to go. So the exception goes away if you define your mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock(lenient = true)\nService someService;\n</code></pre>\n<p>So my actual personal answer is: It's good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.</p>\n"},{"comments":[{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1677039922,"post_id":74251616,"comment_id":133257001,"body_markdown":"Good response. However, I need another option -- Mockito, please fix this so we can use parameterized tests and not have `UnnecessaryStubbingException` thrown when it shouldn&#39;t be -- e.g. if 1 of my many parameterized test scenarios doesn&#39;t use a mock, but the rest do, then the mock is good and this exception should not be thrown.","body":"Good response. However, I need another option -- Mockito, please fix this so we can use parameterized tests and not have <code>UnnecessaryStubbingException</code> thrown when it shouldn&#39;t be -- e.g. if 1 of my many parameterized test scenarios doesn&#39;t use a mock, but the rest do, then the mock is good and this exception should not be thrown."},{"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"score":0,"creation_date":1677258692,"post_id":74251616,"comment_id":133308768,"body_markdown":"Please explain , why \n`Mockito.lenient().....` or alternatively add above the test class:\n`@MockitoSettings(strictness = Strictness.LENIENT)`\nis not a viable solution for you ?","body":"Please explain , why  <code>Mockito.lenient().....</code> or alternatively add above the test class: <code>@MockitoSettings(strictness = Strictness.LENIENT)</code> is not a viable solution for you ?"},{"owner":{"account_id":2687276,"reputation":302,"user_id":2321414,"accept_rate":100,"display_name":"Wouter"},"score":0,"creation_date":1699626216,"post_id":74251616,"comment_id":136559213,"body_markdown":"@BodoTeichmann You would want `UnnecessaryStubbingException` be thrown when none of the test use the mock. If you use `LENIENT` it will never be thrown","body":"@BodoTeichmann You would want <code>UnnecessaryStubbingException</code> be thrown when none of the test use the mock. If you use <code>LENIENT</code> it will never be thrown"}],"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667119410,"creation_date":1667119410,"answer_id":74251616,"question_id":74233801,"body_markdown":"With junit 5.x and mockito 4.x the `UnnecessaryStubbingsException` will only show up,\r\nwhen you add `@ExtendWith(MockitoExtension.class)` to your test class like this:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MainTest {\r\n  private Service someService;\r\n  private MainService serviceUnderTest;\r\n\r\n  @BeforeEach\r\n  void setup() {\r\n    this.someService = Mockito.mock(Service.class);\r\n    this.serviceUnderTest = new MainService(someService);\r\n  }\r\n//...see full code example below\r\n}\r\n```\r\nBut that `@ExtendWith(MockitoExtension.class)` is actually not necessary for this type of test. Mockitos JavaDoc says:\r\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don&#39;t use the `@Mock` annotation in\r\nyour tests, you ain&#39;t gonna need it.\r\n\r\nBut if you need to use `@ExtendWith(MockitoExtension.class)`\r\nthen you have several options:&lt;br&gt;\r\n\r\nYou can replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\nOr another option would be to use:&lt;br&gt;\r\n```\r\n@Mock(strictness = Mock.Strictness.LENIENT)\r\nprivate Service someService;\r\n```\r\nYou might also be able to use this old, deprecated annotation option.\r\n```\r\n@Mock(lenient = true) //deprecated!\r\nService someService;\r\n```\r\nAs Andreas Siegel suggested in the other answer above,\r\nbut as I said `@Mock(lenient = true)` is actually deprecated.\r\n\r\n\r\n\r\nYou can get and run a complete code example using:\r\n```\r\ngit clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\r\ncd backend\r\ngradle test --tests &#39;*MainTest*&#39; --console plain\r\n```\r\n\r\nThe code without any annotations and therefore without the `UnnecessaryStubbingsException` showing up looks like:\r\n\r\n    public interface Service {\r\n      public boolean execute(String flag) ;\r\n    }\r\n\r\nand\r\n\r\n    public class MainService {\r\n      private Service someService;\r\n    \r\n      public MainService(Service service) {\r\n        this.someService = service;\r\n      }\r\n    \r\n      public boolean process(String flag) {\r\n        if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n       boolean result = someService.execute(flag);\r\n        if (result) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n        return result;\r\n      }\r\n    }\r\n\r\nwhen the Test is:\r\n\r\n    class MainTest {\r\n    \r\n      private Service someService;\r\n      private MainService serviceUnderTest;\r\n      @BeforeEach\r\n      void setup(){\r\n        this.someService = Mockito.mock(Service.class);\r\n        this.serviceUnderTest = new MainService(someService);\r\n      }\r\n    \r\n      @ParameterizedTest\r\n      @MethodSource(&quot;getFlags&quot;)\r\n      void shouldTestIfFlagWorks(String someFlag) {\r\n        // Given\r\n        Mockito.doReturn(true).when(someService).execute(someFlag);\r\n    \r\n        // When\r\n        Throwable thrown = Assertions.catchThrowable(() -&gt; \r\n           serviceUnderTest.process(someFlag));\r\n    \r\n        // Then\r\n        Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n      }\r\n    \r\n      private static Stream&lt;Arguments&gt; getFlags() {\r\n        return Stream.of(\r\n                Arguments.of(&quot;flag1&quot;),\r\n                Arguments.of(&quot;flag2&quot;)\r\n        );\r\n      }\r\n    }\r\n\r\nthe test run shoes no `UnnecessaryStubbingsException`:\r\n\r\nBTW I&#39;m using these dependencies:\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:4.8.1&#39;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter&#39;, version: &#39;5.9.1&#39;\r\n\r\nNow try adding `@ExtendWith(MockitoExtension.class)` and run the test again. The `UnnecessaryStubbingsException` \r\nshould show up now, until you either replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\n\r\nI just also checked with \r\n`testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-all&#39;, version: &#39;2.0.2-beta&#39;` \r\nbut each time with `junit-jupiter 5.9.1`: same result. \r\nJunit 4 however does have different annotations and behaves quite differently.\r\n\r\n","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>With junit 5.x and mockito 4.x the <code>UnnecessaryStubbingsException</code> will only show up,\nwhen you add <code>@ExtendWith(MockitoExtension.class)</code> to your test class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MainTest {\n  private Service someService;\n  private MainService serviceUnderTest;\n\n  @BeforeEach\n  void setup() {\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n//...see full code example below\n}\n</code></pre>\n<p>But that <code>@ExtendWith(MockitoExtension.class)</code> is actually not necessary for this type of test. Mockitos JavaDoc says:\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don't use the <code>@Mock</code> annotation in\nyour tests, you ain't gonna need it.</p>\n<p>But if you need to use <code>@ExtendWith(MockitoExtension.class)</code>\nthen you have several options:<br></p>\n<p>You can replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.\nOr another option would be to use:<br></p>\n<pre><code>@Mock(strictness = Mock.Strictness.LENIENT)\nprivate Service someService;\n</code></pre>\n<p>You might also be able to use this old, deprecated annotation option.</p>\n<pre><code>@Mock(lenient = true) //deprecated!\nService someService;\n</code></pre>\n<p>As Andreas Siegel suggested in the other answer above,\nbut as I said <code>@Mock(lenient = true)</code> is actually deprecated.</p>\n<p>You can get and run a complete code example using:</p>\n<pre><code>git clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\ncd backend\ngradle test --tests '*MainTest*' --console plain\n</code></pre>\n<p>The code without any annotations and therefore without the <code>UnnecessaryStubbingsException</code> showing up looks like:</p>\n<pre><code>public interface Service {\n  public boolean execute(String flag) ;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class MainService {\n  private Service someService;\n\n  public MainService(Service service) {\n    this.someService = service;\n  }\n\n  public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n   boolean result = someService.execute(flag);\n    if (result) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n  }\n}\n</code></pre>\n<p>when the Test is:</p>\n<pre><code>class MainTest {\n\n  private Service someService;\n  private MainService serviceUnderTest;\n  @BeforeEach\n  void setup(){\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;getFlags&quot;)\n  void shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; \n       serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n  }\n\n  private static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n            Arguments.of(&quot;flag1&quot;),\n            Arguments.of(&quot;flag2&quot;)\n    );\n  }\n}\n</code></pre>\n<p>the test run shoes no <code>UnnecessaryStubbingsException</code>:</p>\n<p>BTW I'm using these dependencies:</p>\n<pre><code>testImplementation 'org.mockito:mockito-core:4.8.1'\ntestImplementation 'org.mockito:mockito-junit-jupiter:4.8.1'\ntestImplementation group: 'org.junit.jupiter', name: 'junit-jupiter', version: '5.9.1'\n</code></pre>\n<p>Now try adding <code>@ExtendWith(MockitoExtension.class)</code> and run the test again. The <code>UnnecessaryStubbingsException</code>\nshould show up now, until you either replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.</p>\n<p>I just also checked with\n<code>testImplementation group: 'org.mockito', name: 'mockito-all', version: '2.0.2-beta'</code>\nbut each time with <code>junit-jupiter 5.9.1</code>: same result.\nJunit 4 however does have different annotations and behaves quite differently.</p>\n"}],"owner":{"account_id":14650680,"reputation":521,"user_id":10580773,"display_name":"jure"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74251616,"answer_count":2,"score":2,"last_activity_date":1667119410,"creation_date":1666951687,"question_id":74233801,"body_markdown":"I&#39;m moving some tests to newer Mockito versions and I&#39;m running into a wall when it comes to `@ParameterizedTest` tests and Mockito&#39;s `UnnecessaryStubbingsException`.\r\n\r\nThe issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will. \r\n\r\nThis results in Mockito throwing the `UnnecessaryStubbingsException` for the cases where the mock is unused. I can&#39;t remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.\r\n\r\nTo illustrate, let&#39;s say I have this dummy method I&#39;m testing:\r\n```\r\npublic boolean process(String flag) {\r\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    boolean result = someService.execute(flag);\r\n    if (result) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAnd then the parameterised test to check multiple flags:\r\n```\r\n@ParameterizedTest\r\n@MethodSource(&quot;getFlags&quot;)\r\nvoid shouldTestIfFlagWorks(String someFlag) {\r\n    // Given\r\n    Mockito.doReturn(true).when(someService).execute(someFlag);\r\n\r\n    // When\r\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\r\n\r\n    // Then\r\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; getFlags() {\r\n    return Stream.of(\r\n        Arguments.of(&quot;flag1&quot;),\r\n        Arguments.of(&quot;flag2&quot;)\r\n    );\r\n}\r\n```\r\n\r\nThe example is a bit contrived, but this will fail with `UnnecessaryStubbingsException` because the first parameter the test runs with doesn&#39;t need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.\r\n\r\nIs there any way to circumvent this? One option I know would solve this is to use `Mockito.lenient()`. The other option is to refactor and move the parameters that need the mock to a separate test.\r\n\r\nI&#39;m curious if there&#39;s any different / better approach, or something else that I&#39;m missing here.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I'm moving some tests to newer Mockito versions and I'm running into a wall when it comes to <code>@ParameterizedTest</code> tests and Mockito's <code>UnnecessaryStubbingsException</code>.</p>\n<p>The issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will.</p>\n<p>This results in Mockito throwing the <code>UnnecessaryStubbingsException</code> for the cases where the mock is unused. I can't remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.</p>\n<p>To illustrate, let's say I have this dummy method I'm testing:</p>\n<pre><code>public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    boolean result = someService.execute(flag);\n    if (result) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n}\n</code></pre>\n<p>And then the parameterised test to check multiple flags:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;getFlags&quot;)\nvoid shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n}\n\nprivate static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n        Arguments.of(&quot;flag1&quot;),\n        Arguments.of(&quot;flag2&quot;)\n    );\n}\n</code></pre>\n<p>The example is a bit contrived, but this will fail with <code>UnnecessaryStubbingsException</code> because the first parameter the test runs with doesn't need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.</p>\n<p>Is there any way to circumvent this? One option I know would solve this is to use <code>Mockito.lenient()</code>. The other option is to refactor and move the parameters that need the mock to a separate test.</p>\n<p>I'm curious if there's any different / better approach, or something else that I'm missing here.</p>\n"},{"tags":["java","cluster-analysis"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1667140175,"post_id":74251608,"comment_id":131095292,"body_markdown":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java).","body":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java)."}],"owner":{"account_id":24682650,"reputation":11,"user_id":18576188,"display_name":"Putra R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667119219,"creation_date":1667119219,"question_id":74251608,"body_markdown":"I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\r\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster. \r\n\r\nIs there anyone can help? I don&#39;t know where to start. \r\nThank you\r\n\r\nExample:\r\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\r\nNumber of cluster: 3\r\nResult:\r\n\r\n&gt; Cluster 1: 2, 8, 10, 13, 17, 20\r\n&gt; Cluster 2: 34, 38\r\n&gt; Cluster 3: 53","title":"Single Linkage Clustering using Java","body":"<p>I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster.</p>\n<p>Is there anyone can help? I don't know where to start.\nThank you</p>\n<p>Example:\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\nNumber of cluster: 3\nResult:</p>\n<blockquote>\n<p>Cluster 1: 2, 8, 10, 13, 17, 20\nCluster 2: 34, 38\nCluster 3: 53</p>\n</blockquote>\n"},{"tags":["java","jenkins","kubernetes","groovy","azure-aks"],"comments":[{"owner":{"account_id":2745772,"reputation":209,"user_id":2366213,"accept_rate":83,"display_name":"tollgen"},"score":0,"creation_date":1643979382,"post_id":70978904,"comment_id":125489024,"body_markdown":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once","body":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once"},{"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"score":0,"creation_date":1643992029,"post_id":70978904,"comment_id":125494465,"body_markdown":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins. \nI&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts.","body":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins.  I&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts."}],"answers":[{"comments":[{"owner":{"account_id":10221916,"reputation":148,"user_id":7545838,"display_name":"Amit"},"score":1,"creation_date":1644582801,"post_id":71072163,"comment_id":125650943,"body_markdown":"so you noticed any difference after increasing the timeout?","body":"so you noticed any difference after increasing the timeout?"},{"owner":{"account_id":257758,"reputation":31,"user_id":18175012,"display_name":"Dennis"},"score":0,"creation_date":1647037743,"post_id":71072163,"comment_id":126280825,"body_markdown":"No, it didn&#39;t really change anything. We ended up downgrading the plugin versions to Kubernetes 1.30.1 and Kubernetes Api Client 5.4.1 for now as suggested here: https://issues.jenkins.io/browse/JENKINS-67664","body":"No, it didn&#39;t really change anything. We ended up downgrading the plugin versions to Kubernetes 1.30.1 and Kubernetes Api Client 5.4.1 for now as suggested here: <a href=\"https://issues.jenkins.io/browse/JENKINS-67664\" rel=\"nofollow noreferrer\">issues.jenkins.io/browse/JENKINS-67664</a>"}],"tags":[],"owner":{"account_id":257758,"reputation":31,"user_id":18175012,"display_name":"Dennis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647037969,"creation_date":1644526553,"answer_id":71072163,"question_id":70978904,"body_markdown":"**EDIT:** Doesn&#39;t seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven&#39;t got that figured out.\r\n\r\n---\r\n\r\nStarted seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.\r\n\r\nExcept I&#39;m getting 5000 instead of 7000 milliseconds.\r\n\r\n    io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n\r\nDigging into the stacktrace and source on Github leads back to [this][1] default timeout (which haven&#39;t changed in 6 years), so somehow you seem to have a non-default.\r\n\r\n    public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\r\n\r\nIt seems it can [be overriden with environment variable][2] **KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY** on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.\r\n\r\nMight be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I&#39;m not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven&#39;t changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.\r\n\r\nEDIT: I&#39;m on running on bare metal cluster\r\n\r\n [1]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\r\n [2]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p><strong>EDIT:</strong> Doesn't seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven't got that figured out.</p>\n<hr />\n<p>Started seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.</p>\n<p>Except I'm getting 5000 instead of 7000 milliseconds.</p>\n<pre><code>io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n</code></pre>\n<p>Digging into the stacktrace and source on Github leads back to <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\" rel=\"nofollow noreferrer\">this</a> default timeout (which haven't changed in 6 years), so somehow you seem to have a non-default.</p>\n<pre><code>public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\n</code></pre>\n<p>It seems it can <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421\" rel=\"nofollow noreferrer\">be overriden with environment variable</a> <strong>KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY</strong> on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.</p>\n<p>Might be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I'm not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven't changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.</p>\n<p>EDIT: I'm on running on bare metal cluster</p>\n"},{"tags":[],"owner":{"account_id":11100419,"reputation":1,"user_id":8149256,"display_name":"Ammar Rami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667119071,"creation_date":1666790884,"answer_id":74208643,"question_id":70978904,"body_markdown":"The solution for me is to add `-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000` in the controller (Jenkins) service line command\r\nThis work for the last version of the plugin also","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>The solution for me is to add <code>-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000</code> in the controller (Jenkins) service line command\nThis work for the last version of the plugin also</p>\n"}],"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1667119071,"creation_date":1643925664,"question_id":70978904,"body_markdown":"Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error? \r\nTroubleshooting steps i did.\r\n\r\nrevert Jenkins to old version =&gt; results in same Error\r\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\r\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\r\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error\r\n\r\nHow to fix this? \r\n\r\n```\r\n18:23:33  [Pipeline] // podTemplate\r\n18:23:33  [Pipeline] End of Pipeline\r\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n18:23:33  \tat io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\r\n18:23:33  \tat hudson.Launcher$ProcStarter.start(Launcher.java:507)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n18:23:33  \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n18:23:33  \tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n18:23:33  \tat WorkflowScript.run(WorkflowScript:114)\r\n18:23:33  \tat ___cps.transform___(Native Method)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\r\n\r\n\r\n","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error?\nTroubleshooting steps i did.</p>\n<p>revert Jenkins to old version =&gt; results in same Error\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error</p>\n<p>How to fix this?</p>\n<pre><code>18:23:33  [Pipeline] // podTemplate\n18:23:33  [Pipeline] End of Pipeline\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n18:23:33    at io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\n18:23:33    at hudson.Launcher$ProcStarter.start(Launcher.java:507)\n18:23:33    at org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\n18:23:33    at org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\n18:23:33    at org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n18:23:33    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n18:23:33    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\n18:23:33    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n18:23:33    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\n18:23:33    at org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\n18:23:33    at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\n18:23:33    at WorkflowScript.run(WorkflowScript:114)\n18:23:33    at ___cps.transform___(Native Method)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n18:23:33    at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\n18:23:33    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\n18:23:33    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\n\n\n</code></pre>\n"},{"tags":["java","printf"],"answers":[{"tags":[],"owner":{"account_id":4876168,"reputation":3687,"user_id":3931225,"display_name":"KompjoeFriek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667092253,"creation_date":1667092253,"answer_id":74249902,"question_id":74249879,"body_markdown":"You can add it with `%s` in the format string:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\nAlternatively, you can just add the text inside the format string:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);","title":"How do you add a string in a print f statement","body":"<p>You can add it with <code>%s</code> in the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n</code></pre>\n<p>Alternatively, you can just add the text inside the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);\n</code></pre>\n"}],"owner":{"account_id":26039276,"reputation":7,"user_id":19744334,"display_name":"Songline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667119066,"creation_date":1667091828,"question_id":74249879,"body_markdown":"\r\n```\r\n        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\n```\r\n\r\nI want the output to be `~~~~100.0% success! ~~~~`, but it&#39;s giving me only `~~~~100.0%`. How do I fix this?\r\n\r\nI tried using `+`, but it gave me a bunch of errors.","title":"How do you add a string in a print f statement","body":"<pre><code>        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n\n</code></pre>\n<p>I want the output to be <code>~~~~100.0% success! ~~~~</code>, but it's giving me only <code>~~~~100.0%</code>. How do I fix this?</p>\n<p>I tried using <code>+</code>, but it gave me a bunch of errors.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565744056,"post_id":57486892,"comment_id":101444665,"body_markdown":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals","body":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565744610,"post_id":57486892,"comment_id":101444741,"body_markdown":"You need to use `join fetch` instead of just `join` since the collections are lazily loading, That is why you don&#39;t see any results","body":"You need to use <code>join fetch</code> instead of just <code>join</code> since the collections are lazily loading, That is why you don&#39;t see any results"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565745555,"post_id":57486892,"comment_id":101444909,"body_markdown":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal.","body":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1565745967,"post_id":57486892,"comment_id":101445000,"body_markdown":"If you are passing objects as parameters use equal instead of in eg `where g=:gemstone1` or better keep in and pass a list instead as a parameter of the 2 objects e.g `setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))`","body":"If you are passing objects as parameters use equal instead of in eg <code>where g=:gemstone1</code> or better keep in and pass a list instead as a parameter of the 2 objects e.g <code>setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))</code>"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565746106,"post_id":57486892,"comment_id":101445030,"body_markdown":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list.","body":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list."},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565761144,"post_id":57486892,"comment_id":101447810,"body_markdown":"Edited the post with my latest try and cleaned up the question","body":"Edited the post with my latest try and cleaned up the question"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794608,"post_id":57486892,"comment_id":101464115,"body_markdown":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products \n\nBTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use `GROUP  BY g` instead of `p` but like I said before you don&#39;t need using having at all","body":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products   BTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use <code>GROUP  BY g</code> instead of <code>p</code> but like I said before you don&#39;t need using having at all"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794704,"post_id":57486892,"comment_id":101464171,"body_markdown":"Make sure to use `select distinct(p.productId)` so that you don&#39;t have any duplicates","body":"Make sure to use <code>select distinct(p.productId)</code> so that you don&#39;t have any duplicates"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565794861,"post_id":57486892,"comment_id":101464263,"body_markdown":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening.","body":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565798633,"post_id":57486892,"comment_id":101466264,"body_markdown":"see this post similar case to yours https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set","body":"see this post similar case to yours <a href=\"https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set\" title=\"hql to get elements that possess all items in a set\">stackoverflow.com/questions/2879161/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667118195,"creation_date":1565817663,"answer_id":57502223,"question_id":57486892,"body_markdown":"Actually the SQL query that we need here is pretty simple:\r\n```SQL\r\nSELECT t1.product_id \r\nFROM gemstone_product AS t1 \r\nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\r\nGROUP BY  t1.product_id  \r\nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\r\n```\r\nIt&#39;s a bit frustrating that it&#39;s not easy to create it with JPA, but it can be done with [FluentJPA][1] (produces the query above):\r\n\r\n```java\r\npublic List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\r\n    int count = gemstoneIds.size();\r\n\r\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\r\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\r\n\r\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\r\n\r\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\r\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\r\n\r\n        SELECT(productId);\r\n        FROM(gemstoneProduct);\r\n        WHERE(gemstoneIds.contains(gemstoneId));\r\n        GROUP(BY(productId));\r\n        HAVING(COUNT(gemstoneId) == count);\r\n    });\r\n    return query.createQuery(em).getResultList();\r\n}\r\n```\r\n\r\nMore details on how it works can be found [here][2].\r\n\r\n\r\n  [1]: https://github.com/streamx-co/FluentJPA\r\n  [2]: https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany","title":"HQL or SQL query to get data from many to many related entities","body":"<p>Actually the SQL query that we need here is pretty simple:</p>\n<pre><code>SELECT t1.product_id \nFROM gemstone_product AS t1 \nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\nGROUP BY  t1.product_id  \nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\n</code></pre>\n<p>It's a bit frustrating that it's not easy to create it with JPA, but it can be done with <a href=\"https://github.com/streamx-co/FluentJPA\" rel=\"nofollow noreferrer\">FluentJPA</a> (produces the query above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\n    int count = gemstoneIds.size();\n\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\n\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\n\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\n\n        SELECT(productId);\n        FROM(gemstoneProduct);\n        WHERE(gemstoneIds.contains(gemstoneId));\n        GROUP(BY(productId));\n        HAVING(COUNT(gemstoneId) == count);\n    });\n    return query.createQuery(em).getResultList();\n}\n</code></pre>\n<p>More details on how it works can be found <a href=\"https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667118195,"creation_date":1565743670,"question_id":57486892,"body_markdown":"I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\r\nI have the following tables/entities : Product and Gemstone\r\n\r\n####**Relations:** ####\r\n- Product many2many Gemstone\r\n\r\n*I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.*\r\n\r\n\r\n####**Use Case:**####\r\nIf user is asking for a product with gemstones 51 and 46. Query should only return product id 4. \r\n\r\n####**Query:**####\r\nfilterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove ```HAVING Count(DISTINCT p.product_id) = 2``` I get product id 4, 5\r\n\r\n![two muppets][1]\r\n\r\n - HQL : \r\n         \r\n        createQuery(&quot;select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =&quot; +  filterGemstones().size() ).setParameter(&quot;gemstones&quot;,filterGemstones());\r\n - SQL generate by hibernate :\r\n\r\n        \r\n        SELECT p.product_id \r\n        FROM   product p \r\n        INNER JOIN gemstone_product gp \r\n               ON p.product_id = gp.product_id \r\n        INNER JOIN gemstone g \r\n               ON gp.gemstone_id = g.gemstone_id \r\n        WHERE  g.gemstone_id IN ( 51, 46 ) \r\n        GROUP  BY p.product_id \r\n        HAVING Count(DISTINCT p.product_id) = 2 \r\n\r\n\r\n\r\n###Product class:###\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;product_id&quot;)\r\n    private long productId;\r\n\r\n    @ManyToMany()\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;product_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)}\r\n    )\r\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\r\n  \r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n\r\n###Gemstone class:###\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gemstone&quot;)\r\npublic class Gemstone {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;gemstone_id&quot;)\r\n    private long gemstoneId;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;product_id&quot;)}\r\n    )\r\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\r\n\r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/ProJB.png &quot;tooltip&quot;","title":"HQL or SQL query to get data from many to many related entities","body":"<p>I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\nI have the following tables/entities : Product and Gemstone</p>\n\n<strong>Relations:</strong>\n\n<ul>\n<li>Product many2many Gemstone</li>\n</ul>\n\n<p><em>I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.</em></p>\n\n<strong>Use Case:</strong>\n\n<p>If user is asking for a product with gemstones 51 and 46. Query should only return product id 4. </p>\n\n<strong>Query:</strong>\n\n<p>filterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove <code>HAVING Count(DISTINCT p.product_id) = 2</code> I get product id 4, 5</p>\n\n<p><img src=\"https://i.stack.imgur.com/ProJB.png\" alt=\"two muppets\" title=\"tooltip\"></p>\n\n<ul>\n<li><p>HQL : </p>\n\n<pre><code>createQuery(\"select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =\" +  filterGemstones().size() ).setParameter(\"gemstones\",filterGemstones());\n</code></pre></li>\n<li><p>SQL generate by hibernate :</p>\n\n<pre><code>SELECT p.product_id \nFROM   product p \nINNER JOIN gemstone_product gp \n       ON p.product_id = gp.product_id \nINNER JOIN gemstone g \n       ON gp.gemstone_id = g.gemstone_id \nWHERE  g.gemstone_id IN ( 51, 46 ) \nGROUP  BY p.product_id \nHAVING Count(DISTINCT p.product_id) = 2 \n</code></pre></li>\n</ul>\n\n<h3>Product class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"product\")\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"product_id\")\n    private long productId;\n\n    @ManyToMany()\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"product_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"gemstone_id\")}\n    )\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n\n<h3>Gemstone class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"gemstone\")\npublic class Gemstone {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = \"gemstone_id\")\n    private long gemstoneId;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"gemstone_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"product_id\")}\n    )\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n"},{"tags":["java","validation","java.util.scanner"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667115830,"post_id":74251217,"comment_id":131091136,"body_markdown":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?","body":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667116785,"post_id":74251217,"comment_id":131091258,"body_markdown":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples","body":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1667133583,"post_id":74251217,"comment_id":131093946,"body_markdown":"`if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }` Validates a string entry for a signed or unsigned Integer or Floating Point numerical value.","body":"<code>if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }</code> Validates a string entry for a signed or unsigned Integer or Floating Point numerical value."}],"owner":{"account_id":21362606,"reputation":3,"user_id":15731013,"display_name":"Aldrin James Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667114779,"creation_date":1667114608,"question_id":74251217,"body_markdown":"This is my code. I want to check if the input is either double or int.. it doesn&#39;t throw an error but it also doesn&#39;t work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar) \r\n\r\n```\r\nimport java.util.Scanner;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        double number1 = 0;\r\n        double numb2 = 0;\r\n        int number3 = 0;\r\n        try{\r\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\r\n        String num1 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\r\n        String num2 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\r\n        String num3 = scan.nextLine();\r\n       if(scan.hasNext()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       if(scan.hasNext()){\r\n              number3 =  Integer.parseInt(num3);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       \r\n       double ans = number1 + numb2 + number3;\r\n       \r\n       System.out.println(ans);\r\n       \r\n       \r\n\r\n        }\r\n        catch (Exception e) {\r\n      System.out.println(&quot;Something went wrong.&quot;);\r\n    }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI also try doing this but it does the same.\r\n```\r\n if(scan.hasNextDouble() || scan.hasNextInt()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n             number3 =  Integer.parseInt(num3);\r\n           \r\n       }else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n\r\n```\r\n","title":"Validation for double and Integer","body":"<p>This is my code. I want to check if the input is either double or int.. it doesn't throw an error but it also doesn't work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar)</p>\n<pre><code>import java.util.Scanner;\nclass HelloWorld {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        double number1 = 0;\n        double numb2 = 0;\n        int number3 = 0;\n        try{\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\n        String num1 = scan.nextLine();\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\n        String num2 = scan.nextLine();\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\n        String num3 = scan.nextLine();\n       if(scan.hasNext()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       if(scan.hasNext()){\n              number3 =  Integer.parseInt(num3);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       \n       double ans = number1 + numb2 + number3;\n       \n       System.out.println(ans);\n       \n       \n\n        }\n        catch (Exception e) {\n      System.out.println(&quot;Something went wrong.&quot;);\n    }\n    }\n}\n\n</code></pre>\n<p>I also try doing this but it does the same.</p>\n<pre><code> if(scan.hasNextDouble() || scan.hasNextInt()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n             number3 =  Integer.parseInt(num3);\n           \n       }else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9300,"page":923,"page_size":100}
