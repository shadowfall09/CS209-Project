{"items":[{"tags":["java","gson"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1522404858,"post_id":49572505,"comment_id":86152422,"body_markdown":"&quot;fromJson() does seem to detect invalid  ...&quot; -- does or doesn&#39;t? What would you want to happen if the enum is invalid?","body":"&quot;fromJson() does seem to detect invalid  ...&quot; -- does or doesn&#39;t? What would you want to happen if the enum is invalid?"},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":0,"creation_date":1522406042,"post_id":49572505,"comment_id":86153036,"body_markdown":"Ideally it would throw an exception saying that the provided enum value is not valid.","body":"Ideally it would throw an exception saying that the provided enum value is not valid."}],"answers":[{"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522411103,"creation_date":1522411103,"answer_id":49574019,"question_id":49572505,"body_markdown":"As of version 2.8.2, Gson does not support such a use case.\r\nI believe it&#39;s worthy to be submitted as a suggestion to the Gson development team as a special `GsonBuilder` configuration method.\r\nThe most you can do now is writing a custom enum type adapter that almost duplicates `com.google.gson.internal.bind.EnumTypeAdapter` functionality but adds the name check.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class StrictEnumTypeAdapterFactory\r\n\t\t\timplements TypeAdapterFactory {\r\n\r\n\t\tprivate static final TypeAdapterFactory allStrictEnumTypeAdapterFactory = new StrictEnumTypeAdapterFactory(enumClass -&gt; true);\r\n\r\n\t\tprivate final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass;\r\n\r\n\t\tprivate StrictEnumTypeAdapterFactory(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\r\n\t\t\tthis.isStrictEnumClass = isStrictEnumClass;\r\n\t\t}\r\n\r\n\t\tstatic TypeAdapterFactory get(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\r\n\t\t\treturn new StrictEnumTypeAdapterFactory(isStrictEnumClass);\r\n\t\t}\r\n\r\n\t\tstatic TypeAdapterFactory get() {\r\n\t\t\treturn allStrictEnumTypeAdapterFactory;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\t\t\tfinal Class&lt;? super T&gt; rawType = typeToken.getRawType();\r\n\t\t\t// Skip non-enums\r\n\t\t\tif ( !Enum.class.isAssignableFrom(rawType) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Check if the enum is supported by the &quot;strict&quot; policy\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal Class&lt;? extends Enum&lt;?&gt;&gt; enumRawType = (Class&lt;? extends Enum&lt;?&gt;&gt;) rawType;\r\n\t\t\tif ( !isStrictEnumClass.test(enumRawType) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Trivial rawtypes/unchecked casts\r\n\t\t\t@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n\t\t\tfinal TypeAdapter&lt;? extends Enum&lt;?&gt;&gt; strictEnumTypeAdapter = StrictEnumTypeAdapter.get((Class) enumRawType);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;T&gt; castTypeAdapter = (TypeAdapter&lt;T&gt;) strictEnumTypeAdapter;\r\n\t\t\treturn castTypeAdapter;\r\n\t\t}\r\n\r\n\t\tprivate static final class StrictEnumTypeAdapter&lt;E extends Enum&lt;E&gt;&gt;\r\n\t\t\t\textends TypeAdapter&lt;E&gt; {\r\n\r\n\t\t\tprivate final Class&lt;E&gt; enumClass;\r\n\t\t\tprivate final Map&lt;String, E&gt; nameToEnumConstant;\r\n\t\t\tprivate final Map&lt;E, String&gt; enumConstantToName;\r\n\r\n\t\t\tprivate StrictEnumTypeAdapter(final Class&lt;E&gt; enumClass, final Map&lt;String, E&gt; nameToEnumConstant, final Map&lt;E, String&gt; enumConstantToName) {\r\n\t\t\t\tthis.enumClass = enumClass;\r\n\t\t\t\tthis.nameToEnumConstant = nameToEnumConstant;\r\n\t\t\t\tthis.enumConstantToName = enumConstantToName;\r\n\t\t\t}\r\n\r\n\t\t\tprivate static &lt;E extends Enum&lt;E&gt;&gt; TypeAdapter&lt;E&gt; get(final Class&lt;E&gt; enumClass) {\r\n\t\t\t\tfinal Map&lt;String, E&gt; nameToEnumConstant = new HashMap&lt;&gt;();\r\n\t\t\t\tfinal Map&lt;E, String&gt; enumConstantToName = new HashMap&lt;&gt;();\r\n\t\t\t\tfinal Map&lt;String, E&gt; enumNameToEnumConstant = Stream.of(enumClass.getEnumConstants())\r\n\t\t\t\t\t\t.collect(Collectors.toMap(Enum::name, Function.identity()));\r\n\t\t\t\tStream.of(enumClass.getFields())\r\n\t\t\t\t\t\t// It can be either a simple enum constant, or an enum constant that overrides\r\n\t\t\t\t\t\t.filter(field -&gt; enumClass.isAssignableFrom(field.getType()))\r\n\t\t\t\t\t\t.forEach(field -&gt; {\r\n\t\t\t\t\t\t\tfinal E enumConstant = enumNameToEnumConstant.get(field.getName());\r\n\t\t\t\t\t\t\t// For compatibility with the original type adapter, we have to respect the @SeriaizedName annotation\r\n\t\t\t\t\t\t\tfinal SerializedName serializedName = field.getAnnotation(SerializedName.class);\r\n\t\t\t\t\t\t\tif ( serializedName == null ) {\r\n\t\t\t\t\t\t\t\tnameToEnumConstant.put(field.getName(), enumConstant);\r\n\t\t\t\t\t\t\t\tenumConstantToName.put(enumConstant, field.getName());\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnameToEnumConstant.put(serializedName.value(), enumConstant);\r\n\t\t\t\t\t\t\t\tenumConstantToName.put(enumConstant, serializedName.value());\r\n\t\t\t\t\t\t\t\tfor ( final String alternate : serializedName.alternate() ) {\r\n\t\t\t\t\t\t\t\t\tnameToEnumConstant.put(alternate, enumConstant);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\treturn new StrictEnumTypeAdapter&lt;&gt;(enumClass, nameToEnumConstant, enumConstantToName)\r\n\t\t\t\t\t\t.nullSafe(); // A convenient method to handle nulls\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final JsonWriter out, final E value)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tout.value(enumConstantToName.get(value));\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic E read(final JsonReader in)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tfinal String key = in.nextString();\r\n\t\t\t\t// This is what the original type adapter probably misses\r\n\t\t\t\tif ( !nameToEnumConstant.containsKey(key) ) {\r\n\t\t\t\t\tthrow new JsonParseException(enumClass + &quot; does not have an enum named &quot; + key + &quot; at &quot; + in);\r\n\t\t\t\t}\r\n\t\t\t\treturn nameToEnumConstant.get(key);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t\r\nSimple test:\r\n\r\n\tprivate static final Gson gson = new GsonBuilder()\r\n\t\t\t.registerTypeAdapterFactory(StrictEnumTypeAdapterFactory.get())\r\n\t\t\t.create();\r\n\r\n\tpublic static void main(final String... args)\r\n\t\t\tthrows IOException {\r\n\t\ttry ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, &quot;good.json&quot;) ) {\r\n\t\t\tSystem.out.println(gson.&lt;Status&gt;fromJson(jsonReader, Status.class).access);\r\n\t\t}\r\n\t\ttry ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, &quot;bad.json&quot;) ) {\r\n\t\t\ttry {\r\n\t\t\t\tgson.&lt;Status&gt;fromJson(jsonReader, Status.class);\r\n\t\t\t\tthrow new AssertionError();\r\n\t\t\t} catch ( final JsonParseException ex ) {\r\n\t\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nOutput:\r\n\r\n&gt;READ_WRITE  \r\n&gt;class q49572505.AccessMode does not have an enum named READ_XXX at JsonReader at line 2 column 22 path $.access  \r\n","title":"Gson check enum value during deserialization","body":"<p>As of version 2.8.2, Gson does not support such a use case.\nI believe it's worthy to be submitted as a suggestion to the Gson development team as a special <code>GsonBuilder</code> configuration method.\nThe most you can do now is writing a custom enum type adapter that almost duplicates <code>com.google.gson.internal.bind.EnumTypeAdapter</code> functionality but adds the name check.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class StrictEnumTypeAdapterFactory\n        implements TypeAdapterFactory {\n\n    private static final TypeAdapterFactory allStrictEnumTypeAdapterFactory = new StrictEnumTypeAdapterFactory(enumClass -&gt; true);\n\n    private final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass;\n\n    private StrictEnumTypeAdapterFactory(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\n        this.isStrictEnumClass = isStrictEnumClass;\n    }\n\n    static TypeAdapterFactory get(final Predicate&lt;? super Class&lt;? extends Enum&lt;?&gt;&gt;&gt; isStrictEnumClass) {\n        return new StrictEnumTypeAdapterFactory(isStrictEnumClass);\n    }\n\n    static TypeAdapterFactory get() {\n        return allStrictEnumTypeAdapterFactory;\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        final Class&lt;? super T&gt; rawType = typeToken.getRawType();\n        // Skip non-enums\n        if ( !Enum.class.isAssignableFrom(rawType) ) {\n            return null;\n        }\n        // Check if the enum is supported by the \"strict\" policy\n        @SuppressWarnings(\"unchecked\")\n        final Class&lt;? extends Enum&lt;?&gt;&gt; enumRawType = (Class&lt;? extends Enum&lt;?&gt;&gt;) rawType;\n        if ( !isStrictEnumClass.test(enumRawType) ) {\n            return null;\n        }\n        // Trivial rawtypes/unchecked casts\n        @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n        final TypeAdapter&lt;? extends Enum&lt;?&gt;&gt; strictEnumTypeAdapter = StrictEnumTypeAdapter.get((Class) enumRawType);\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;T&gt; castTypeAdapter = (TypeAdapter&lt;T&gt;) strictEnumTypeAdapter;\n        return castTypeAdapter;\n    }\n\n    private static final class StrictEnumTypeAdapter&lt;E extends Enum&lt;E&gt;&gt;\n            extends TypeAdapter&lt;E&gt; {\n\n        private final Class&lt;E&gt; enumClass;\n        private final Map&lt;String, E&gt; nameToEnumConstant;\n        private final Map&lt;E, String&gt; enumConstantToName;\n\n        private StrictEnumTypeAdapter(final Class&lt;E&gt; enumClass, final Map&lt;String, E&gt; nameToEnumConstant, final Map&lt;E, String&gt; enumConstantToName) {\n            this.enumClass = enumClass;\n            this.nameToEnumConstant = nameToEnumConstant;\n            this.enumConstantToName = enumConstantToName;\n        }\n\n        private static &lt;E extends Enum&lt;E&gt;&gt; TypeAdapter&lt;E&gt; get(final Class&lt;E&gt; enumClass) {\n            final Map&lt;String, E&gt; nameToEnumConstant = new HashMap&lt;&gt;();\n            final Map&lt;E, String&gt; enumConstantToName = new HashMap&lt;&gt;();\n            final Map&lt;String, E&gt; enumNameToEnumConstant = Stream.of(enumClass.getEnumConstants())\n                    .collect(Collectors.toMap(Enum::name, Function.identity()));\n            Stream.of(enumClass.getFields())\n                    // It can be either a simple enum constant, or an enum constant that overrides\n                    .filter(field -&gt; enumClass.isAssignableFrom(field.getType()))\n                    .forEach(field -&gt; {\n                        final E enumConstant = enumNameToEnumConstant.get(field.getName());\n                        // For compatibility with the original type adapter, we have to respect the @SeriaizedName annotation\n                        final SerializedName serializedName = field.getAnnotation(SerializedName.class);\n                        if ( serializedName == null ) {\n                            nameToEnumConstant.put(field.getName(), enumConstant);\n                            enumConstantToName.put(enumConstant, field.getName());\n                        } else {\n                            nameToEnumConstant.put(serializedName.value(), enumConstant);\n                            enumConstantToName.put(enumConstant, serializedName.value());\n                            for ( final String alternate : serializedName.alternate() ) {\n                                nameToEnumConstant.put(alternate, enumConstant);\n                            }\n                        }\n                    });\n            return new StrictEnumTypeAdapter&lt;&gt;(enumClass, nameToEnumConstant, enumConstantToName)\n                    .nullSafe(); // A convenient method to handle nulls\n        }\n\n        @Override\n        public void write(final JsonWriter out, final E value)\n                throws IOException {\n            out.value(enumConstantToName.get(value));\n        }\n\n        @Override\n        public E read(final JsonReader in)\n                throws IOException {\n            final String key = in.nextString();\n            // This is what the original type adapter probably misses\n            if ( !nameToEnumConstant.containsKey(key) ) {\n                throw new JsonParseException(enumClass + \" does not have an enum named \" + key + \" at \" + in);\n            }\n            return nameToEnumConstant.get(key);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Simple test:</p>\n\n<pre><code>private static final Gson gson = new GsonBuilder()\n        .registerTypeAdapterFactory(StrictEnumTypeAdapterFactory.get())\n        .create();\n\npublic static void main(final String... args)\n        throws IOException {\n    try ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, \"good.json\") ) {\n        System.out.println(gson.&lt;Status&gt;fromJson(jsonReader, Status.class).access);\n    }\n    try ( final JsonReader jsonReader = Resources.getPackageResourceJsonReader(Q49572505.class, \"bad.json\") ) {\n        try {\n            gson.&lt;Status&gt;fromJson(jsonReader, Status.class);\n            throw new AssertionError();\n        } catch ( final JsonParseException ex ) {\n            System.out.println(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>READ_WRITE<br>\n  class q49572505.AccessMode does not have an enum named READ_XXX at JsonReader at line 2 column 22 path $.access  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2147129,"reputation":31578,"user_id":1904517,"display_name":"iagreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522430237,"creation_date":1522430237,"answer_id":49578581,"question_id":49572505,"body_markdown":"You could look @ [Moshi][1].  I have found it a suitable and straightforward replacement for GSON and it already supports this behavior.  \r\n\r\n@Lyubomyr_Shaydarlv&#39;s solution works, but if you don&#39;t want to duplicate GSON&#39;s internal code, you can use it as a delegate in a custom `TypeAdapterFactory`.  Run the adapter, and if it returns `null`, you know the value was invalid. This has the advantage that it inherits and changes to default `enum` converter. \r\n\r\n    class StrictEnumTypeAdapterFactory implements TypeAdapterFactory {\r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n            Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\r\n            if (!rawType.isEnum()) {\r\n                return null;\r\n            }\r\n            return newStrictEnumAdapter(gson.getDelegateAdapter(this, type));\r\n        }\r\n    \r\n        private &lt;T&gt; TypeAdapter&lt;T&gt; newStrictEnumAdapter(\r\n                final TypeAdapter&lt;T&gt; delegateAdapter) {\r\n            return new TypeAdapter&lt;T&gt;() {\r\n    \r\n                @Override\r\n                public void write(JsonWriter out, T value) throws IOException {\r\n                    delegateAdapter.write(out, value);\r\n                }\r\n    \r\n                @Override\r\n                public T read(JsonReader in) throws IOException {\r\n                    // Peek at the next value and save it for the error message\r\n                    // if you don&#39;t need the offending value&#39;s actual name\r\n                    String enumValue = in.nextString();\r\n                    JsonReader delegateReader = new JsonReader(new StringReader(&#39;&quot;&#39; + enumValue + &#39;&quot;&#39;));\r\n                    T value = delegateAdapter.read(delegateReader);\r\n                    delegateReader.close();\r\n                    if (value == null) throw new IllegalStateException(&quot;Invalid enum value - &quot; + enumValue);\r\n                    return value;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/square/moshi","title":"Gson check enum value during deserialization","body":"<p>You could look @ <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a>.  I have found it a suitable and straightforward replacement for GSON and it already supports this behavior.  </p>\n\n<p>@Lyubomyr_Shaydarlv's solution works, but if you don't want to duplicate GSON's internal code, you can use it as a delegate in a custom <code>TypeAdapterFactory</code>.  Run the adapter, and if it returns <code>null</code>, you know the value was invalid. This has the advantage that it inherits and changes to default <code>enum</code> converter. </p>\n\n<pre><code>class StrictEnumTypeAdapterFactory implements TypeAdapterFactory {\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\n        if (!rawType.isEnum()) {\n            return null;\n        }\n        return newStrictEnumAdapter(gson.getDelegateAdapter(this, type));\n    }\n\n    private &lt;T&gt; TypeAdapter&lt;T&gt; newStrictEnumAdapter(\n            final TypeAdapter&lt;T&gt; delegateAdapter) {\n        return new TypeAdapter&lt;T&gt;() {\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegateAdapter.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                // Peek at the next value and save it for the error message\n                // if you don't need the offending value's actual name\n                String enumValue = in.nextString();\n                JsonReader delegateReader = new JsonReader(new StringReader('\"' + enumValue + '\"'));\n                T value = delegateAdapter.read(delegateReader);\n                delegateReader.close();\n                if (value == null) throw new IllegalStateException(\"Invalid enum value - \" + enumValue);\n                return value;\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687161185,"creation_date":1686831605,"answer_id":76482408,"question_id":49572505,"body_markdown":"For cross reference, I wanted to remap unknown values to a _fallback value_ in the `enum` type. This is useful if on the other end the field has new values but not yet the code de-serializing it.\r\n\r\nhttps://github.com/google/gson/issues/608#issuecomment-1592929122\r\n\r\nI&#39;ve written this generic `TypeAdapterFactory` for gson.\r\n\r\nRegister it in Gson :\r\n\r\n```kotlin\r\nGsonBuilder().registerTypeAdapterFactory(EnumWithFallbackValueTypeAdapterFactory()).create()\r\n```\r\n\r\nAnnotate the enum value you want to remap to\r\n\r\n```kotlin\r\nenum class Kind {\r\n    @FallbackValue\r\n    UNKNOWN,\r\n    K1,\r\n    K2\r\n}\r\n```\r\n\r\nNow payload like this will have the kind value remapped to `UNKNOWN`.\r\n\r\n```json\r\n{ &quot;kind&quot; : &quot;K3&quot; }\r\n```\r\n\r\n----\r\n\r\n```\r\nimport com.google.gson.Gson\r\nimport com.google.gson.JsonPrimitive\r\nimport com.google.gson.TypeAdapter\r\nimport com.google.gson.TypeAdapterFactory\r\nimport com.google.gson.reflect.TypeToken\r\nimport com.google.gson.stream.JsonReader\r\nimport com.google.gson.stream.JsonToken\r\nimport com.google.gson.stream.JsonWriter\r\nimport java.io.IOException\r\n\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@Target(AnnotationTarget.FIELD)\r\nannotation class UnknownValue\r\n\r\nobject EnumWithFallbackValueTypeAdapterFactory : TypeAdapterFactory {\r\n    private val logger = thisLogger()\r\n\r\n    override fun &lt;T&gt; create(gson: Gson, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\r\n        if (!type.rawType.isEnum) {\r\n            return null\r\n        }\r\n\r\n        val candidates = type.rawType.fields\r\n            .asSequence()\r\n            .filter { it.type == type.rawType &amp;&amp; it.isAnnotationPresent(FallbackValue::class.java) }\r\n            .map { field -&gt;\r\n                @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n                type.rawType.enumConstants.single { enumValue -&gt;\r\n                    field.get(null) == enumValue\r\n                } as T\r\n            }\r\n            .toList()\r\n\r\n        val delegate = gson.getDelegateAdapter(this, type)\r\n\r\n        return when {\r\n            candidates.isEmpty() -&gt; delegate\r\n            candidates.size &gt; 1 -&gt; throw IllegalArgumentException(&quot;Only one enum value can be annotated with @${FallbackValue::class.java.simpleName}&quot;)\r\n            else -&gt; {\r\n                val fallbackValue = candidates.single()\r\n                object : TypeAdapter&lt;T&gt;() {\r\n                    @Throws(IOException::class)\r\n                    override fun write(writer: JsonWriter, value: T) {\r\n                        delegate.write(writer, value)\r\n                    }\r\n\r\n                    @Throws(IOException::class)\r\n                    override fun read(reader: JsonReader): T {\r\n                        // Keep null as undefined\r\n                        if (reader.peek() == JsonToken.NULL) {\r\n                            reader.nextNull() // consume\r\n                            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n                            return null as T\r\n                        }\r\n                        val rawString = reader.nextString()\r\n                        val fromDelegate = delegate.fromJsonTree(JsonPrimitive(rawString))\r\n                        return if (fromDelegate != null) {\r\n                            fromDelegate\r\n                        } else {\r\n                            logger.debug { &quot;Unknown enum value: $rawString for ${type.rawType.name}&quot; }\r\n                            fallbackValue\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Gson check enum value during deserialization","body":"<p>For cross reference, I wanted to remap unknown values to a <em>fallback value</em> in the <code>enum</code> type. This is useful if on the other end the field has new values but not yet the code de-serializing it.</p>\n<p><a href=\"https://github.com/google/gson/issues/608#issuecomment-1592929122\" rel=\"nofollow noreferrer\">https://github.com/google/gson/issues/608#issuecomment-1592929122</a></p>\n<p>I've written this generic <code>TypeAdapterFactory</code> for gson.</p>\n<p>Register it in Gson :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>GsonBuilder().registerTypeAdapterFactory(EnumWithFallbackValueTypeAdapterFactory()).create()\n</code></pre>\n<p>Annotate the enum value you want to remap to</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>enum class Kind {\n    @FallbackValue\n    UNKNOWN,\n    K1,\n    K2\n}\n</code></pre>\n<p>Now payload like this will have the kind value remapped to <code>UNKNOWN</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;kind&quot; : &quot;K3&quot; }\n</code></pre>\n<hr />\n<pre><code>import com.google.gson.Gson\nimport com.google.gson.JsonPrimitive\nimport com.google.gson.TypeAdapter\nimport com.google.gson.TypeAdapterFactory\nimport com.google.gson.reflect.TypeToken\nimport com.google.gson.stream.JsonReader\nimport com.google.gson.stream.JsonToken\nimport com.google.gson.stream.JsonWriter\nimport java.io.IOException\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\nannotation class UnknownValue\n\nobject EnumWithFallbackValueTypeAdapterFactory : TypeAdapterFactory {\n    private val logger = thisLogger()\n\n    override fun &lt;T&gt; create(gson: Gson, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\n        if (!type.rawType.isEnum) {\n            return null\n        }\n\n        val candidates = type.rawType.fields\n            .asSequence()\n            .filter { it.type == type.rawType &amp;&amp; it.isAnnotationPresent(FallbackValue::class.java) }\n            .map { field -&gt;\n                @Suppress(&quot;UNCHECKED_CAST&quot;)\n                type.rawType.enumConstants.single { enumValue -&gt;\n                    field.get(null) == enumValue\n                } as T\n            }\n            .toList()\n\n        val delegate = gson.getDelegateAdapter(this, type)\n\n        return when {\n            candidates.isEmpty() -&gt; delegate\n            candidates.size &gt; 1 -&gt; throw IllegalArgumentException(&quot;Only one enum value can be annotated with @${FallbackValue::class.java.simpleName}&quot;)\n            else -&gt; {\n                val fallbackValue = candidates.single()\n                object : TypeAdapter&lt;T&gt;() {\n                    @Throws(IOException::class)\n                    override fun write(writer: JsonWriter, value: T) {\n                        delegate.write(writer, value)\n                    }\n\n                    @Throws(IOException::class)\n                    override fun read(reader: JsonReader): T {\n                        // Keep null as undefined\n                        if (reader.peek() == JsonToken.NULL) {\n                            reader.nextNull() // consume\n                            @Suppress(&quot;UNCHECKED_CAST&quot;)\n                            return null as T\n                        }\n                        val rawString = reader.nextString()\n                        val fromDelegate = delegate.fromJsonTree(JsonPrimitive(rawString))\n                        return if (fromDelegate != null) {\n                            fromDelegate\n                        } else {\n                            logger.debug { &quot;Unknown enum value: $rawString for ${type.rawType.name}&quot; }\n                            fallbackValue\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2123,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49574019,"answer_count":3,"score":4,"last_activity_date":1687161185,"creation_date":1522404715,"question_id":49572505,"body_markdown":"Assuming the following enum in a Java class:\r\n\r\n    enum AccessMode {\r\n        READ_WRITE,\r\n        READ_ONLY,\r\n        WRITE_ONLY\r\n    };\r\n\r\nJSON deserialization works fine with Gson as long as the JSON contains a valid value for the enum field, e.g.:\r\n\r\n    &quot;access&quot;: &quot;READ_WRITE&quot;\r\n\r\nUnfortunately, fromJson() does seem to detect invalid enum values in the JSON, such as:\r\n\r\n    &quot;access&quot;: &quot;READ_XXX&quot;\r\n\r\nHow can I add enum value checking when deserializing a JSON file using Gson?\r\n\r\n\r\n\r\n","title":"Gson check enum value during deserialization","body":"<p>Assuming the following enum in a Java class:</p>\n\n<pre><code>enum AccessMode {\n    READ_WRITE,\n    READ_ONLY,\n    WRITE_ONLY\n};\n</code></pre>\n\n<p>JSON deserialization works fine with Gson as long as the JSON contains a valid value for the enum field, e.g.:</p>\n\n<pre><code>\"access\": \"READ_WRITE\"\n</code></pre>\n\n<p>Unfortunately, fromJson() does seem to detect invalid enum values in the JSON, such as:</p>\n\n<pre><code>\"access\": \"READ_XXX\"\n</code></pre>\n\n<p>How can I add enum value checking when deserializing a JSON file using Gson?</p>\n"},{"tags":["java","macos","intellij-idea","crash"],"answers":[{"comments":[{"owner":{"account_id":6698947,"reputation":409,"user_id":5166129,"display_name":"Neer Patel"},"score":0,"creation_date":1686995896,"post_id":76495418,"comment_id":134877391,"body_markdown":"I am sharing another screen shot regarding `~/Library/Application Support/` , there is no JetBrains either. I had checked that link on Jetbrains docs. but there is no directory at all. I have updated my question, Please have look at that.","body":"I am sharing another screen shot regarding <code>~&#47;Library&#47;Application Support&#47;</code> , there is no JetBrains either. I had checked that link on Jetbrains docs. but there is no directory at all. I have updated my question, Please have look at that."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686991452,"creation_date":1686991452,"answer_id":76495418,"question_id":76495065,"body_markdown":"Not sure why you want to change the Java runtime for IntelliJ in the first place because [Change the boot Java runtime of the IDE](https://www.jetbrains.com/help/idea/switching-boot-jdk.html) explicitly says\r\n\r\n&gt; **Changing the boot Java runtime may cause unexpected problems. Do not change it unless you were specifically asked to do so by JetBrains support**.\r\n\r\nand\r\n\r\n&gt; The runtime for IntelliJ IDEA is not the same runtime used for your applications. Define an SDK for each of your projects, which includes the necessary development and runtime environment.\r\n\r\nand I think what you wanted to do is just this: use a specific Java version for your projects.\r\n\r\nAnyway, that page later has the information that you probably need:\r\n\r\n&gt; The path to the selected runtime is stored in the idea.jdk or idea64.jdk file in the IntelliJ IDEA configuration directory. If there are problems with the selected runtime, you can delete this file to revert to the default runtime.\r\n\r\nAnd that links to [Configuration directory](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#cc446e5e) which says that on Mac the settings are stored in\r\n\r\n&gt; ~/Library/Application Support/JetBrains/&lt;product&gt;&lt;version&gt;\r\n\r\nwhich is probably (if you&#39;re using the current version)\r\n\r\n&gt; ~/Library/Application Support/JetBrains/IntelliJIdea2023.1\r\n\r\nand remove the &quot;idea.jdk&quot; and &quot;idea64.jdk&quot; files.","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>Not sure why you want to change the Java runtime for IntelliJ in the first place because <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">Change the boot Java runtime of the IDE</a> explicitly says</p>\n<blockquote>\n<p><strong>Changing the boot Java runtime may cause unexpected problems. Do not change it unless you were specifically asked to do so by JetBrains support</strong>.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The runtime for IntelliJ IDEA is not the same runtime used for your applications. Define an SDK for each of your projects, which includes the necessary development and runtime environment.</p>\n</blockquote>\n<p>and I think what you wanted to do is just this: use a specific Java version for your projects.</p>\n<p>Anyway, that page later has the information that you probably need:</p>\n<blockquote>\n<p>The path to the selected runtime is stored in the idea.jdk or idea64.jdk file in the IntelliJ IDEA configuration directory. If there are problems with the selected runtime, you can delete this file to revert to the default runtime.</p>\n</blockquote>\n<p>And that links to <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#cc446e5e\" rel=\"nofollow noreferrer\">Configuration directory</a> which says that on Mac the settings are stored in</p>\n<blockquote>\n<p>~/Library/Application Support/JetBrains/</p>\n</blockquote>\n<p>which is probably (if you're using the current version)</p>\n<blockquote>\n<p>~/Library/Application Support/JetBrains/IntelliJIdea2023.1</p>\n</blockquote>\n<p>and remove the &quot;idea.jdk&quot; and &quot;idea64.jdk&quot; files.</p>\n"},{"tags":[],"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687161076,"creation_date":1687161076,"answer_id":76504620,"question_id":76495065,"body_markdown":"In macOS, there are two Library folders. In the SSD/HDD root and in the user&#39;s home dir. Most probably you&#39;re checking the SSD one. Please try to:\r\n \r\n \r\n\r\n 1. Open the OS Bash\r\n 2. Execute open `~/Library/Application\\ Support/JetBrains` It will open the needed folder in Finder.\r\n 3. Navigate to the needed IDE version and delete `&lt;product&gt;.jdk` file. It will reverse back to the default runtime.\r\n\r\nAlso, instead of changing the runtime for the IDE, try [changing the project SDK][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>In macOS, there are two Library folders. In the SSD/HDD root and in the user's home dir. Most probably you're checking the SSD one. Please try to:</p>\n<ol>\n<li>Open the OS Bash</li>\n<li>Execute open <code>~/Library/Application\\ Support/JetBrains</code> It will open the needed folder in Finder.</li>\n<li>Navigate to the needed IDE version and delete <code>&lt;product&gt;.jdk</code> file. It will reverse back to the default runtime.</li>\n</ol>\n<p>Also, instead of changing the runtime for the IDE, try <a href=\"https://www.jetbrains.com/help/idea/sdk.html#change-project-sdk\" rel=\"nofollow noreferrer\">changing the project SDK</a></p>\n"}],"owner":{"account_id":6698947,"reputation":409,"user_id":5166129,"display_name":"Neer Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1687161076,"creation_date":1686984588,"question_id":76495065,"body_markdown":"I wanted to use JDK-11 on my intellij. So I changed java boot runtime following these [instructions][1]. Now my Intellij is crashing without opening. I am using MAC.\r\n\r\n[Crash Report.][2] \r\n\r\nClosest I have found on internet with my issue is this [problem][3], but this is for ubuntu. ( PS. There is MAC OS solution as well mentioned, but it is not working for me, since there is no `Jetbrains` directory in my `~/Library/Logs/` directory. I don&#39;t know how to proceed on the steps without JetBrains in Logs. )[![You can see there is no JetBrains inside the `Library/Logs` directory][4]][4]\r\n\r\nI can not even change back the JRE since IDEA is not even opening. \r\n\r\nThis might be completely unrelating to the question, but I have installed openjdk 11.0.19 installed via homeBrew on my MAC.\r\n\r\n**UPDATE** \r\n\r\nThere is no `~/Library/Application Support/JetBrains` in the path. \r\n\r\n[![no jetbrains found in application support][5]][5]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/switching-boot-jdk.html\r\n  [2]: https://ideone.com/k3CaFB\r\n  [3]: https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime\r\n  [4]: https://i.stack.imgur.com/wauqe.png\r\n  [5]: https://i.stack.imgur.com/g22A9.png","title":"INTELLIJ is crashing after I &quot;changed boot runtime&quot;","body":"<p>I wanted to use JDK-11 on my intellij. So I changed java boot runtime following these <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">instructions</a>. Now my Intellij is crashing without opening. I am using MAC.</p>\n<p><a href=\"https://ideone.com/k3CaFB\" rel=\"nofollow noreferrer\">Crash Report.</a></p>\n<p>Closest I have found on internet with my issue is this <a href=\"https://stackoverflow.com/questions/72067909/intellij-idea-doesnt-start-on-ubuntu-after-change-the-boot-java-runtime\">problem</a>, but this is for ubuntu. ( PS. There is MAC OS solution as well mentioned, but it is not working for me, since there is no <code>Jetbrains</code> directory in my <code>~/Library/Logs/</code> directory. I don't know how to proceed on the steps without JetBrains in Logs. )<a href=\"https://i.stack.imgur.com/wauqe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wauqe.png\" alt=\"You can see there is no JetBrains inside the Library/Logs directory\" /></a></p>\n<p>I can not even change back the JRE since IDEA is not even opening.</p>\n<p>This might be completely unrelating to the question, but I have installed openjdk 11.0.19 installed via homeBrew on my MAC.</p>\n<p><strong>UPDATE</strong></p>\n<p>There is no <code>~/Library/Application Support/JetBrains</code> in the path.</p>\n<p><a href=\"https://i.stack.imgur.com/g22A9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g22A9.png\" alt=\"no jetbrains found in application support\" /></a></p>\n"},{"tags":["java","kotlin","date","datetime","timestamp"],"comments":[{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1687102439,"post_id":76501217,"comment_id":134886982,"body_markdown":"The date  `292278994-08-17` seems to be affected by some integer overflow. It doesn&#39;t look like before Christ.","body":"The date  <code>292278994-08-17</code> seems to be affected by some integer overflow. It doesn&#39;t look like before Christ."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687103855,"post_id":76501217,"comment_id":134887143,"body_markdown":"This doesn&#39;t look like it has anything to do with Kotlin...","body":"This doesn&#39;t look like it has anything to do with Kotlin..."},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":1,"creation_date":1687108070,"post_id":76501217,"comment_id":134887578,"body_markdown":"The results are the same from _Long.MIN_VALUE + 808_ on.","body":"The results are the same from <i>Long.MIN_VALUE + 808</i> on."},{"owner":{"account_id":20880527,"reputation":148,"user_id":15345048,"display_name":"H.B."},"score":0,"creation_date":1687122846,"post_id":76501217,"comment_id":134889152,"body_markdown":"@lukas.j It does indeed seem to start printing the right value from 808 on (for some weird reason), thanks for pointing that out.","body":"@lukas.j It does indeed seem to start printing the right value from 808 on (for some weird reason), thanks for pointing that out."}],"answers":[{"comments":[{"owner":{"account_id":20880527,"reputation":148,"user_id":15345048,"display_name":"H.B."},"score":0,"creation_date":1687180574,"post_id":76504618,"comment_id":134896692,"body_markdown":"&quot;The default format of Timestamp does not take into account the era (G)&quot; Why does it then start taking into account the era (without displaying it) starting from `Long.MIN_VALUE + 808` and up? it works properly from `Long.MAX_VALUE` and going down until `Long.MIN_VALUE + 808`, and then for the rest of the 808 values, it is way off","body":"&quot;The default format of Timestamp does not take into account the era (G)&quot; Why does it then start taking into account the era (without displaying it) starting from <code>Long.MIN_VALUE + 808</code> and up? it works properly from <code>Long.MAX_VALUE</code> and going down until <code>Long.MIN_VALUE + 808</code>, and then for the rest of the 808 values, it is way off"}],"tags":[],"owner":{"account_id":24058119,"reputation":70,"user_id":18035688,"display_name":"Xeyal"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687161066,"creation_date":1687161066,"answer_id":76504618,"question_id":76501217,"body_markdown":"The reason Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly is because the println method internally calls the toString() method of the object being printed. In the case of java.sql.Timestamp, the default implementation of toString() returns a string representation in the format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;.\r\n\r\nIn your code, when you call println(java.sql.Timestamp(Long.MIN_VALUE)), the toString() method of Timestamp is invoked, which returns the default format. However, when you call println(df.format(java.sql.Timestamp(Long.MIN_VALUE))), you are explicitly formatting the Timestamp using a SimpleDateFormat object (df), which gives you a custom format.\r\n\r\nThe discrepancy in the output is because the SimpleDateFormat format (d MMM yyyy G, HH:mm:ss.S Z) you specified in your code is not compatible with the default format of java.sql.Timestamp. The default format of Timestamp does not take into account the era (G) and timezone (Z) format elements.\r\n\r\nTo print java.sql.Timestamp correctly with your desired format, you can explicitly format it using the SimpleDateFormat object like this:\r\n\r\n    val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\r\n    val timestamp = java.sql.Timestamp(Long.MIN_VALUE)\r\n    println(df.format(timestamp))\r\n\r\n\r\n\r\nThis will give you the desired output:\r\n\r\n2 Dec 292269055 BC, 17:47:04.192 +0100","title":"Why Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly?","body":"<p>The reason Kotlin's println method doesn't print java.sql.Timestamp correctly is because the println method internally calls the toString() method of the object being printed. In the case of java.sql.Timestamp, the default implementation of toString() returns a string representation in the format &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;.</p>\n<p>In your code, when you call println(java.sql.Timestamp(Long.MIN_VALUE)), the toString() method of Timestamp is invoked, which returns the default format. However, when you call println(df.format(java.sql.Timestamp(Long.MIN_VALUE))), you are explicitly formatting the Timestamp using a SimpleDateFormat object (df), which gives you a custom format.</p>\n<p>The discrepancy in the output is because the SimpleDateFormat format (d MMM yyyy G, HH:mm:ss.S Z) you specified in your code is not compatible with the default format of java.sql.Timestamp. The default format of Timestamp does not take into account the era (G) and timezone (Z) format elements.</p>\n<p>To print java.sql.Timestamp correctly with your desired format, you can explicitly format it using the SimpleDateFormat object like this:</p>\n<pre><code>val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\nval timestamp = java.sql.Timestamp(Long.MIN_VALUE)\nprintln(df.format(timestamp))\n</code></pre>\n<p>This will give you the desired output:</p>\n<p>2 Dec 292269055 BC, 17:47:04.192 +0100</p>\n"}],"owner":{"account_id":20880527,"reputation":148,"user_id":15345048,"display_name":"H.B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687161066,"creation_date":1687101427,"question_id":76501217,"body_markdown":"Here is the code in **Kotlin**:\r\n``` kotlin\r\nval df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\r\n\r\nprintln(df.format(java.sql.Timestamp(Long.MIN_VALUE)))\r\nprintln(java.sql.Timestamp(Long.MIN_VALUE))\r\n```\r\nthe output is:\r\n``` text\r\n2 Dec 292269055 BC, 17:47:04.192 +0100\r\n292278994-08-17 08:12:55.192\r\n```\r\nThe correct output is the one where `SimpleDateFormat` is used. Notice how almost all date parts are different (year, month, ...) except for the milliseconds.\r\nWhy do I have to use SimpleDateFormat to get the correct result?\r\n\r\nAny ideas what is going on here?","title":"Why Kotlin&#39;s println method doesn&#39;t print java.sql.Timestamp correctly?","body":"<p>Here is the code in <strong>Kotlin</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val df = java.text.SimpleDateFormat(&quot;d MMM yyyy G, HH:mm:ss.S Z&quot;)\n\nprintln(df.format(java.sql.Timestamp(Long.MIN_VALUE)))\nprintln(java.sql.Timestamp(Long.MIN_VALUE))\n</code></pre>\n<p>the output is:</p>\n<pre><code>2 Dec 292269055 BC, 17:47:04.192 +0100\n292278994-08-17 08:12:55.192\n</code></pre>\n<p>The correct output is the one where <code>SimpleDateFormat</code> is used. Notice how almost all date parts are different (year, month, ...) except for the milliseconds.\nWhy do I have to use SimpleDateFormat to get the correct result?</p>\n<p>Any ideas what is going on here?</p>\n"},{"tags":["java","spring-boot","constraints","vehicle-routing","jsprit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687211565,"post_id":76504547,"comment_id":134902302,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28201907,"reputation":1,"user_id":21555555,"display_name":"Bhaskara Teja Boddu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687160354,"creation_date":1687160354,"question_id":76504547,"body_markdown":"I have been trying to get exact sequence of jobs by giving list of jobIds, but it&#39;s not working.\r\n\r\nI tried with a HardRouteConstraint as well as a HardActivityConstraint but in vain. I&#39;m getting the sequence in the same route but not in the exact sequence as given in the jobIds list.\r\n\r\n\r\nCan you please suggest some solutions for getting same order of given JobIds in a route ?\r\nThanks in advance!!","title":"Exact Sequence of given jobIds list for VRP using Jsprit","body":"<p>I have been trying to get exact sequence of jobs by giving list of jobIds, but it's not working.</p>\n<p>I tried with a HardRouteConstraint as well as a HardActivityConstraint but in vain. I'm getting the sequence in the same route but not in the exact sequence as given in the jobIds list.</p>\n<p>Can you please suggest some solutions for getting same order of given JobIds in a route ?\nThanks in advance!!</p>\n"},{"tags":["java","xml","spring-boot","security","veracode"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687159677,"post_id":76504095,"comment_id":134892420,"body_markdown":"You really like to keep us in suspense aren&#39;t you? What is the error you get?","body":"You really like to keep us in suspense aren&#39;t you? What is the error you get?"},{"owner":{"account_id":27209686,"reputation":1,"user_id":20740686,"display_name":"kajal Surve"},"score":0,"creation_date":1687160268,"post_id":76504095,"comment_id":134892517,"body_markdown":"i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output..","body":"i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687160562,"post_id":76504095,"comment_id":134892558,"body_markdown":"My question wasn&#39;t so much about a description as it was to your actual test case and exception stacktrace.","body":"My question wasn&#39;t so much about a description as it was to your actual test case and exception stacktrace."}],"owner":{"account_id":27209686,"reputation":1,"user_id":20740686,"display_name":"kajal Surve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687160298,"creation_date":1687155976,"question_id":76504095,"body_markdown":"Veracode static scan showing two flows as CWE 611 XXE vulnerability in the app. We are doing Java xml parsing using DocumentBuilderFactory as below. \r\n\r\n```\r\n`final DocumentBuilder builder = factory.newDocumentBuilder();\r\n\t\t\tfinal StringReader sr = new StringReader(this.responseXml);\r\n\t\t\tfinal InputSource is = new InputSource(sr);\r\n\t\t\t// SAST Vulnerability fix 611 - Improper Restriction of XML External Entity Reference\r\n\t\t\t//factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);  //JRS - Causing an error at runtime\r\n\t\t\t//factory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);  //JRS - Causing an error at runtime\r\n\t\t\t//factory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);  //JRS - Causing an error at runtime\r\n\t\t\t\r\n\t\t\tfinal Document document = builder.parse(is);// new File(argv[0]) );\r\n\r\n`\r\n```\r\nBut when i include above commented code my test cases are failing.i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.. Kindly suggest.\r\n\r\nI have referred  https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html . but no effect still. if anyone has any suggestion.","title":"Veracode showing CWE-611 Improper Restriction of XML External Entity Reference java fix for documentbuilder","body":"<p>Veracode static scan showing two flows as CWE 611 XXE vulnerability in the app. We are doing Java xml parsing using DocumentBuilderFactory as below.</p>\n<pre><code>`final DocumentBuilder builder = factory.newDocumentBuilder();\n            final StringReader sr = new StringReader(this.responseXml);\n            final InputSource is = new InputSource(sr);\n            // SAST Vulnerability fix 611 - Improper Restriction of XML External Entity Reference\n            //factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);  //JRS - Causing an error at runtime\n            //factory.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);  //JRS - Causing an error at runtime\n            //factory.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);  //JRS - Causing an error at runtime\n            \n            final Document document = builder.parse(is);// new File(argv[0]) );\n\n`\n</code></pre>\n<p>But when i include above commented code my test cases are failing.i am geting nullpoint exceptions so my test cases getting failed, as its not getting expected output.. Kindly suggest.</p>\n<p>I have referred  <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html</a> . but no effect still. if anyone has any suggestion.</p>\n"},{"tags":["java","spring-boot","jackson","spring-webflux","jackson-databind"],"owner":{"account_id":307765,"reputation":712,"user_id":619260,"accept_rate":78,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687159198,"creation_date":1686729865,"question_id":76471361,"body_markdown":"I want to filter-out Json objects from a REST end-point into a new - reduced stream of objects. I have a REST handler component that uses a WebClient to retrieve a Flux of JsonNode objects by providing a URI. For testing purposes I use [dummy REST end-point][1]. \r\n\r\nThe dummy JSON for mobiles product look like this:\r\n\r\n    {\r\n       &quot;products&quot;: [\r\n           {\r\n               &quot;id&quot;: 1,\r\n               &quot;title&quot;: &quot;iPhone 9&quot;,\r\n               &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\r\n               &quot;price&quot;: 549,\r\n               &quot;discountPercentage&quot;: 12.96,\r\n               &quot;rating&quot;: 4.69,\r\n               &quot;stock&quot;: 94,\r\n               &quot;brand&quot;: &quot;Apple&quot;,\r\n               &quot;category&quot;: &quot;smartphones&quot;,\r\n               &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\r\n               &quot;images&quot;: [\r\n                   &quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;\r\n               ]\r\n           },\r\n           {\r\n               &quot;id&quot;: 2,\r\n               &quot;title&quot;: &quot;iPhone X&quot;,\r\n               &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\r\n               &quot;price&quot;: 899,\r\n               &quot;discountPercentage&quot;: 17.94,\r\n               &quot;rating&quot;: 4.0,\r\n               &quot;stock&quot;: 34,\r\n               &quot;brand&quot;: &quot;Apple&quot;,\r\n               &quot;category&quot;: &quot;smartphones&quot;,\r\n               &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\r\n               &quot;images&quot;: [\r\n                   &quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;,\r\n                   &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;\r\n               ]\r\n           },\r\n           \r\n\r\nIn the test use-case I provide a criteria to filter out all JsonNode objects (smartphones) that received a rating score higher than 4.1. I want to be able to dynamically filter the response by providing a JSON path and criteria, but for testing purpose I hard code the path and criteria as following;\r\n\r\n    @Test\r\n    public void invokeGetJsonFluxResponseTest() {\r\n        \tUriComponents uriComp = UriComponentsBuilder\r\n                \t.newInstance().\r\n                \tscheme(URI_SCHEME)\r\n                \t.host(URI_HOST)\r\n                \t.path(URI_PATH_PRODUCT_CATEGORY).build().encode();\r\n        \tassertThat(uriComp.toUriString()).isNotEmpty();\r\n        \tlog.debug(&quot;URI: {}&quot;, uriComp.toUriString());\r\n        \tFlux&lt;JsonNode&gt; result = restInokationHandler.invokeGetJsonFluxRespose(uriComp.toUri());\r\n    \r\n        \tresult.doOnNext(node -&gt; {\r\n            \tif(node.path(&quot;/products/rating&quot;).asDouble() &gt;= 4.1)\r\n                \tlog.debug(node.toPrettyString());\r\n           \t \r\n        \t}\r\n        \t).blockLast();\r\n    \t}\r\n\r\nI presume that my test function is consuming the stream since nothing is logged in the debug output. Who do I filter-out JSON objects from a Flux of JsonNode and collect them into a new stream?\r\n\r\n\r\nI am using Spring Boot 3.\r\n\r\nP.S. A [similar question provides an answer][2] by using `Jackson2JsonDecoder` and `ObjectMapper` to create a new stream.\r\n\r\n\r\n  [1]: https://dummyjson.com/\r\n  [2]: https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse","title":"Filter-out JSON objects into a new stream from REST end-point with webflux","body":"<p>I want to filter-out Json objects from a REST end-point into a new - reduced stream of objects. I have a REST handler component that uses a WebClient to retrieve a Flux of JsonNode objects by providing a URI. For testing purposes I use <a href=\"https://dummyjson.com/\" rel=\"nofollow noreferrer\">dummy REST end-point</a>.</p>\n<p>The dummy JSON for mobiles product look like this:</p>\n<pre><code>{\n   &quot;products&quot;: [\n       {\n           &quot;id&quot;: 1,\n           &quot;title&quot;: &quot;iPhone 9&quot;,\n           &quot;description&quot;: &quot;An apple mobile which is nothing like apple&quot;,\n           &quot;price&quot;: 549,\n           &quot;discountPercentage&quot;: 12.96,\n           &quot;rating&quot;: 4.69,\n           &quot;stock&quot;: 94,\n           &quot;brand&quot;: &quot;Apple&quot;,\n           &quot;category&quot;: &quot;smartphones&quot;,\n           &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;,\n           &quot;images&quot;: [\n               &quot;https://i.dummyjson.com/data/products/1/1.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/2.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/3.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/4.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/1/thumbnail.jpg&quot;\n           ]\n       },\n       {\n           &quot;id&quot;: 2,\n           &quot;title&quot;: &quot;iPhone X&quot;,\n           &quot;description&quot;: &quot;SIM-Free, Model A19211 6.5-inch Super Retina HD display with OLED technology A12 Bionic chip with ...&quot;,\n           &quot;price&quot;: 899,\n           &quot;discountPercentage&quot;: 17.94,\n           &quot;rating&quot;: 4.0,\n           &quot;stock&quot;: 34,\n           &quot;brand&quot;: &quot;Apple&quot;,\n           &quot;category&quot;: &quot;smartphones&quot;,\n           &quot;thumbnail&quot;: &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;,\n           &quot;images&quot;: [\n               &quot;https://i.dummyjson.com/data/products/2/1.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/2.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/3.jpg&quot;,\n               &quot;https://i.dummyjson.com/data/products/2/thumbnail.jpg&quot;\n           ]\n       },\n       \n</code></pre>\n<p>In the test use-case I provide a criteria to filter out all JsonNode objects (smartphones) that received a rating score higher than 4.1. I want to be able to dynamically filter the response by providing a JSON path and criteria, but for testing purpose I hard code the path and criteria as following;</p>\n<pre><code>@Test\npublic void invokeGetJsonFluxResponseTest() {\n        UriComponents uriComp = UriComponentsBuilder\n                .newInstance().\n                scheme(URI_SCHEME)\n                .host(URI_HOST)\n                .path(URI_PATH_PRODUCT_CATEGORY).build().encode();\n        assertThat(uriComp.toUriString()).isNotEmpty();\n        log.debug(&quot;URI: {}&quot;, uriComp.toUriString());\n        Flux&lt;JsonNode&gt; result = restInokationHandler.invokeGetJsonFluxRespose(uriComp.toUri());\n\n        result.doOnNext(node -&gt; {\n            if(node.path(&quot;/products/rating&quot;).asDouble() &gt;= 4.1)\n                log.debug(node.toPrettyString());\n         \n        }\n        ).blockLast();\n    }\n</code></pre>\n<p>I presume that my test function is consuming the stream since nothing is logged in the debug output. Who do I filter-out JSON objects from a Flux of JsonNode and collect them into a new stream?</p>\n<p>I am using Spring Boot 3.</p>\n<p>P.S. A <a href=\"https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse\">similar question provides an answer</a> by using <code>Jackson2JsonDecoder</code> and <code>ObjectMapper</code> to create a new stream.</p>\n"},{"tags":["java","dictionary","character"],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687152869,"creation_date":1687152163,"answer_id":76503802,"question_id":76503512,"body_markdown":"This interested me, so I created a loop to check if there are any character that needs this extra step. And I&#39;m surprised to see that there are quite a few letters which doesn&#39;t reach the same letter with using only toUpper, comparred to toLower then toUpper. The following snippet produces letters which reaches different letters:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        val atomicInteger = new AtomicInteger(0);\r\n        IntStream.generate(atomicInteger::getAndIncrement)\r\n                .limit(Character.MAX_VALUE)\r\n                .forEach(i -&gt; {\r\n                    char c = (char) i;\r\n                    if (Character.toLowerCase(Character.toUpperCase(c)) != Character.toLowerCase(c)) {\r\n                        System.out.printf(\r\n                                &quot;%s is not equal to %s%n&quot;,\r\n                                Character.toLowerCase(Character.toUpperCase(c)),\r\n                                Character.toLowerCase(c)\r\n                        );\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n```\r\n\r\nFor example:\r\n\r\n```\r\n is not equal to &#181;\r\ni is not equal to \r\ns is not equal to \r\n is not equal to \r\n...\r\n```","title":"CaseInsensitiveMap.convertKey","body":"<p>This interested me, so I created a loop to check if there are any character that needs this extra step. And I'm surprised to see that there are quite a few letters which doesn't reach the same letter with using only toUpper, comparred to toLower then toUpper. The following snippet produces letters which reaches different letters:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        val atomicInteger = new AtomicInteger(0);\n        IntStream.generate(atomicInteger::getAndIncrement)\n                .limit(Character.MAX_VALUE)\n                .forEach(i -&gt; {\n                    char c = (char) i;\n                    if (Character.toLowerCase(Character.toUpperCase(c)) != Character.toLowerCase(c)) {\n                        System.out.printf(\n                                &quot;%s is not equal to %s%n&quot;,\n                                Character.toLowerCase(Character.toUpperCase(c)),\n                                Character.toLowerCase(c)\n                        );\n                    }\n                });\n    }\n}\n\n</code></pre>\n<p>For example:</p>\n<pre><code> is not equal to \ni is not equal to \ns is not equal to \n is not equal to \n...\n</code></pre>\n"}],"owner":{"account_id":26969322,"reputation":1,"user_id":20535586,"display_name":"hhhChan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687157686,"creation_date":1687146577,"question_id":76503512,"body_markdown":"Why `org.apache.commons.collections.map.CaseInsensitiveMap.convertKey()` method uses `Character.toLowerCase(Character.toUpperCase(chars[i]))`?\r\n\r\n\r\n`Character.toLowerCase(Character.toUpperCase(chars[i]))` and `Character.toLowerCase(chars[i])` are the same logic?\r\n\r\n    protected Object convertKey(Object key) {\r\n        if (key != null) {\r\n            char[] chars = key.toString().toCharArray();\r\n            for (int i = chars.length - 1; i &gt;= 0; i--) {\r\n                chars[i] = Character.toLowerCase(Character.toUpperCase(chars[i]));\r\n            }\r\n            return new String(chars);\r\n        } else {\r\n            return AbstractHashedMap.NULL;\r\n        }\r\n    }   ","title":"CaseInsensitiveMap.convertKey","body":"<p>Why <code>org.apache.commons.collections.map.CaseInsensitiveMap.convertKey()</code> method uses <code>Character.toLowerCase(Character.toUpperCase(chars[i]))</code>?</p>\n<p><code>Character.toLowerCase(Character.toUpperCase(chars[i]))</code> and <code>Character.toLowerCase(chars[i])</code> are the same logic?</p>\n<pre><code>protected Object convertKey(Object key) {\n    if (key != null) {\n        char[] chars = key.toString().toCharArray();\n        for (int i = chars.length - 1; i &gt;= 0; i--) {\n            chars[i] = Character.toLowerCase(Character.toUpperCase(chars[i]));\n        }\n        return new String(chars);\n    } else {\n        return AbstractHashedMap.NULL;\n    }\n}   \n</code></pre>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"answers":[{"comments":[{"owner":{"account_id":4519121,"reputation":23,"user_id":3672968,"display_name":"user3672968"},"score":0,"creation_date":1687167075,"post_id":76504140,"comment_id":134893940,"body_markdown":"Thanks a lot for the direction! I followed your example and made the change. However, I didn&#39;t see the suspend function returned back. The 2nd `log.info` after invokeEndpoint was never executed. Any idea why this happened?","body":"Thanks a lot for the direction! I followed your example and made the change. However, I didn&#39;t see the suspend function returned back. The 2nd <code>log.info</code> after invokeEndpoint was never executed. Any idea why this happened?"}],"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687157176,"creation_date":1687156416,"answer_id":76504140,"question_id":76503998,"body_markdown":"Because `sageMakerRuntimeClient.invokeEndpoint()` is not a suspend function, there is no suspension point in your `invokeEndpoint()` function, so it behaves just like normal blocking function. You can use [suspendCoroutine](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/suspend-coroutine.html) to convert traditional blocking function or callback style async function to kotlin stlye suspend function.\r\n\r\n```kotlin\r\n\r\nsuspend fun invokeEndpoint(input:String) = suspendCoroutine { continuation -&gt;\r\n    // Build Request\r\n    // ...  \r\n    val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\r\n    continuation.resume(result)\r\n}\r\n```","title":"Coroutine to support AWS calls seemingly not working as expected","body":"<p>Because <code>sageMakerRuntimeClient.invokeEndpoint()</code> is not a suspend function, there is no suspension point in your <code>invokeEndpoint()</code> function, so it behaves just like normal blocking function. You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/suspend-coroutine.html\" rel=\"nofollow noreferrer\">suspendCoroutine</a> to convert traditional blocking function or callback style async function to kotlin stlye suspend function.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nsuspend fun invokeEndpoint(input:String) = suspendCoroutine { continuation -&gt;\n    // Build Request\n    // ...  \n    val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\n    continuation.resume(result)\n}\n</code></pre>\n"}],"owner":{"account_id":4519121,"reputation":23,"user_id":3672968,"display_name":"user3672968"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687157176,"creation_date":1687154909,"question_id":76503998,"body_markdown":"I am building a service that needs to call AWS SageMaker endpoint to get forecast result. As there are lots of requests, I am exploring Coroutine to parallelize the calls as I am using Kotlin. However, I am new to Coroutines and the result seems to be a little inconsistent with [Coroutines official guide](https://kotlinlang.org/docs/coroutines-and-channels.html).\r\n\r\nThe code below shows the logic. I have a list of features/inputs and I partition them into several partitions, with each partition sent to SageMaker supported by a Coroutine using `async`. From my understanding, Coroutines are light weight and the thread might change for the same coroutine after a suspend function call. However, the log for the implementation below show the thread for the Coroutine is always the same unless I uncomment `delay(100)` in the suspend function.\r\n\r\nAny idea why? My concern is that the call to AWS SageMaker is always blocking the thread and Coroutine.\r\n\r\n\r\n```\r\n   fun forecastBatch(\r\n        features: Set&lt;String&gt;\r\n    ): Map&lt;String, float&gt; {\r\n        val partitions: List&lt;List&lt;String&gt;&gt; = features.chunked(MAX_BATCH_SIZE)\r\n        val result: MutableMap&lt;String, float&gt; = mutableMapOf()\r\n        runBlocking {\r\n            val deferreds = partitions.mapIndexed { idx, partition -&gt;\r\n                CoroutineName(&quot;Coroutine-${idx}&quot;)\r\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]} for Sending Request ${idx}X&quot;)\r\n                    val batchRequest = partition.joinToString(&quot;\\n&quot;)\r\n\r\n                    val forecastResult = invokeEndpoint(batchRequest)\r\n                    \r\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]}  Receiving Request ${idx}X&quot;)\r\n\r\n                    // ...\r\n                    // Build Response\r\n                }\r\n            }\r\n            deferreds.awaitAll().forEach{\r\n                result += it\r\n            }\r\n        }\r\n        return result\r\n    }\r\n\r\n    suspend fun invokeEndpoint(input: String): String {\r\n        // Build Request\r\n        // ...        \r\n\r\n        val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\r\n        \r\n        // If the next line is uncommented, the thread will change for the same coroutine\r\n        // delay(100)\r\n        return result\r\n    }\r\n\r\n\r\n```","title":"Coroutine to support AWS calls seemingly not working as expected","body":"<p>I am building a service that needs to call AWS SageMaker endpoint to get forecast result. As there are lots of requests, I am exploring Coroutine to parallelize the calls as I am using Kotlin. However, I am new to Coroutines and the result seems to be a little inconsistent with <a href=\"https://kotlinlang.org/docs/coroutines-and-channels.html\" rel=\"nofollow noreferrer\">Coroutines official guide</a>.</p>\n<p>The code below shows the logic. I have a list of features/inputs and I partition them into several partitions, with each partition sent to SageMaker supported by a Coroutine using <code>async</code>. From my understanding, Coroutines are light weight and the thread might change for the same coroutine after a suspend function call. However, the log for the implementation below show the thread for the Coroutine is always the same unless I uncomment <code>delay(100)</code> in the suspend function.</p>\n<p>Any idea why? My concern is that the call to AWS SageMaker is always blocking the thread and Coroutine.</p>\n<pre><code>   fun forecastBatch(\n        features: Set&lt;String&gt;\n    ): Map&lt;String, float&gt; {\n        val partitions: List&lt;List&lt;String&gt;&gt; = features.chunked(MAX_BATCH_SIZE)\n        val result: MutableMap&lt;String, float&gt; = mutableMapOf()\n        runBlocking {\n            val deferreds = partitions.mapIndexed { idx, partition -&gt;\n                CoroutineName(&quot;Coroutine-${idx}&quot;)\n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]} for Sending Request ${idx}X&quot;)\n                    val batchRequest = partition.joinToString(&quot;\\n&quot;)\n\n                    val forecastResult = invokeEndpoint(batchRequest)\n                    \n                    log.info(&quot;${Thread.currentThread().name} Coroutines:  ${currentCoroutineContext()[CoroutineName]}  Receiving Request ${idx}X&quot;)\n\n                    // ...\n                    // Build Response\n                }\n            }\n            deferreds.awaitAll().forEach{\n                result += it\n            }\n        }\n        return result\n    }\n\n    suspend fun invokeEndpoint(input: String): String {\n        // Build Request\n        // ...        \n\n        val result: InvokeEndpointResponse = sageMakerRuntimeClient.invokeEndpoint(request)\n        \n        // If the next line is uncommented, the thread will change for the same coroutine\n        // delay(100)\n        return result\n    }\n\n\n</code></pre>\n"},{"tags":["java","android","android-coordinatorlayout"],"answers":[{"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687156750,"creation_date":1687156750,"answer_id":76504170,"question_id":76503918,"body_markdown":"It is missing the addRule and removeRule functions because these function are not a part of class CoordinatorLayout.LayoutParams but of RelativeLayout.LayoutParams.\r\n```\r\n\r\nCoordinatorLayout tabCL = findViewById(R.id.tab_coordinator_layout);\r\n\r\nRelativeLayout.LayoutParams params = (RelativeLayout.LayoutParams) tabCL.getLayoutParams();\r\n\r\nparams.removeRule(RelativeLayout.ABOVE);\r\n\r\n\r\ntabCL.setLayoutParams(params);\r\n\r\n```","title":"Change Coordinator Layout&#39;s layout above property","body":"<p>It is missing the addRule and removeRule functions because these function are not a part of class CoordinatorLayout.LayoutParams but of RelativeLayout.LayoutParams.</p>\n<pre><code>\nCoordinatorLayout tabCL = findViewById(R.id.tab_coordinator_layout);\n\nRelativeLayout.LayoutParams params = (RelativeLayout.LayoutParams) tabCL.getLayoutParams();\n\nparams.removeRule(RelativeLayout.ABOVE);\n\n\ntabCL.setLayoutParams(params);\n\n</code></pre>\n"}],"owner":{"account_id":24838332,"reputation":13,"user_id":20146997,"display_name":"Raziel Kavosky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76504170,"answer_count":1,"score":0,"last_activity_date":1687156750,"creation_date":1687153873,"question_id":76503918,"body_markdown":"how can i add or remove property of coordinator layout?\r\nSuch as this?\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/tab_coordinator_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/navigation&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/content_frame&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;/&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n```\r\nI want add or remove the layout_above property in base of value.\r\nHow can i do it?\r\nThanks\r\n\r\nI&#39;ve tried to put this code:\r\n\r\n\r\n```\r\nCoordinatorLayout layoutCoordinator = findViewById(R.id.tab_coordinator_layout);\r\n\r\n        CoordinatorLayout.LayoutParams layoutParams;\r\n\r\n        layoutParams = (CoordinatorLayout.LayoutParams) layoutCoordinatot.getLayoutParams();\r\n        layoutParams.removeRule(/* code for layout ?? */);\r\n```\r\nBut it is missing the remove and add rule function why?\r\n","title":"Change Coordinator Layout&#39;s layout above property","body":"<p>how can i add or remove property of coordinator layout?\nSuch as this?</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/tab_coordinator_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@+id/navigation&quot;\n        android:fitsSystemWindows=&quot;true&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/content_frame&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/white&quot;/&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n</code></pre>\n<p>I want add or remove the layout_above property in base of value.\nHow can i do it?\nThanks</p>\n<p>I've tried to put this code:</p>\n<pre><code>CoordinatorLayout layoutCoordinator = findViewById(R.id.tab_coordinator_layout);\n\n        CoordinatorLayout.LayoutParams layoutParams;\n\n        layoutParams = (CoordinatorLayout.LayoutParams) layoutCoordinatot.getLayoutParams();\n        layoutParams.removeRule(/* code for layout ?? */);\n</code></pre>\n<p>But it is missing the remove and add rule function why?</p>\n"},{"tags":["java","jdialog"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1687156829,"post_id":76504046,"comment_id":134891945,"body_markdown":"Can you include the code for your dialog?","body":"Can you include the code for your dialog?"},{"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"score":0,"creation_date":1687159406,"post_id":76504046,"comment_id":134892380,"body_markdown":"Which part you want to see?","body":"Which part you want to see?"},{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1687160211,"post_id":76504046,"comment_id":134892507,"body_markdown":"This could be complicated and other part of your code can affect on the issue. It is recommended for you to build &quot;minimum&quot; reproducing example, and present the whole project here, if you want to resolve quick.","body":"This could be complicated and other part of your code can affect on the issue. It is recommended for you to build &quot;minimum&quot; reproducing example, and present the whole project here, if you want to resolve quick."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687162608,"post_id":76504046,"comment_id":134892966,"body_markdown":"Use a SeingWorker to execute the long running/blocking operation","body":"Use a SeingWorker to execute the long running/blocking operation"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687163229,"post_id":76504046,"comment_id":134893111,"body_markdown":"Do not sleep in the Swing event dispatch thread. If you do not want users to be able to interact with your UI, either disable your components (yes, that is a lot of work) or &quot;block&quot; your UI in a different way (e.g. showing a indeterminate progress bar in a modal dialog)  while your background task is running.","body":"Do not sleep in the Swing event dispatch thread. If you do not want users to be able to interact with your UI, either disable your components (yes, that is a lot of work) or &quot;block&quot; your UI in a different way (e.g. showing a indeterminate progress bar in a modal dialog)  while your background task is running."},{"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"score":0,"creation_date":1687163334,"post_id":76504046,"comment_id":134893142,"body_markdown":"Sleep is implemented to simulate the blocking task for simplification of the process","body":"Sleep is implemented to simulate the blocking task for simplification of the process"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687163591,"post_id":76504046,"comment_id":134893203,"body_markdown":"@snx The point is that you may not block the Swing event dispatch thread (EDT) at all. This is why your dialog does not paint itself completely. A SwingWorker moves the long running task in a background thread and prevents blocking the EDT. As a result, users are still able to interact with the UI (which is usually what you want). If you want to prevent interaction, see my previous comment. In any case, do not sleep - not even to simulate blocking, because this problem is about preventing user interaction *without* blocking.","body":"@snx The point is that you may not block the Swing event dispatch thread (EDT) at all. This is why your dialog does not paint itself completely. A SwingWorker moves the long running task in a background thread and prevents blocking the EDT. As a result, users are still able to interact with the UI (which is usually what you want). If you want to prevent interaction, see my previous comment. In any case, do not sleep - not even to simulate blocking, because this problem is about preventing user interaction <i>without</i> blocking."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1687163889,"post_id":76504046,"comment_id":134893259,"body_markdown":"@snx Or rather, if you want to use sleeping to simulate the long running task, you need to sleep in the SwingWorker&#39;s background thread.","body":"@snx Or rather, if you want to use sleeping to simulate the long running task, you need to sleep in the SwingWorker&#39;s background thread."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687180919,"post_id":76504046,"comment_id":134896777,"body_markdown":"Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information on the Event Dispatch Thread (EDT) and the SwingWorker.","body":"Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information on the Event Dispatch Thread (EDT) and the SwingWorker."}],"owner":{"account_id":20712052,"reputation":43,"user_id":15208462,"display_name":"snx"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687155522,"creation_date":1687155522,"question_id":76504046,"body_markdown":"An application should display a modal information dialog (JDialog class) after the user has entered their login credentials. This is needed because, in the case of first login or reset profile, the application needs to set up a few things, while this is done, the user should not be able to click anything and see the dialog. \r\n\r\nMy first approach was the following:\r\n\r\n     if(hasLoggedIn){\r\n            myInfoDialog.displayLogin();\r\n            try {\r\n                TimeUnit.SECONDS.sleep(5);\r\n            } catch (Exception e){}\r\n        }\r\nThe class &quot;myInfoDialog&quot; will call an info dialog:\r\n\r\n      public void displayLogin(){\r\n            myJDialog.setLogin()\r\n      }\r\n\r\nAnd the setLogin Metod of the JDialog will do:\r\n\r\n      public void setLogin(){\r\n        okButton.setVisible(false);\r\n        okButton.setEnabled(false);\r\n        cancelButton.setVisible(false);\r\n        cancelButton.setEnabled(false);\r\n        iconLabel.setIcon(infoIcon);\r\n        dialogTextField.setText(initMsg);\r\n        this.setVisible(true);\r\n     }\r\n\r\nThe issue is, that ` myInfoDialog.displayLogin();` will only show the dialog frame and title, and an empty white body looks like the rendering was incomplete. After the 5s of sleep, which I used to simulate the background operation after login, the dialog will finish rendering. But in the final case, this would be the moment where the dialog would be set to invisible. \r\n\r\nAs a first try to solve the problem, I&#39;ve implemented a swing worker:\r\n\r\n    SwingWorker&lt;Void, Void&gt; mySwingWorker = new SwingWorker&lt;Void, Void&gt;() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected Void doInBackground() throws Exception {\r\n\r\n\t\t\t\t\t\t//Here you put your long-running process...\r\n\r\n\t\t\t\t\t\tmyInfoDialog.displayLogin();\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\nAnd used like this:\r\n\r\n     if(hasLoggedIn){\r\n        mySwingWorker.execute();\r\n        try {\r\n            TimeUnit.SECONDS.sleep(5);\r\n        } catch (Exception e){}\r\n    }\r\n\r\nBut the issue still persists.\r\nWhat method could be used to display and render the dialog, regardless of other code execution?\r\n\r\n","title":"JDialog renderng issue with blocked operation","body":"<p>An application should display a modal information dialog (JDialog class) after the user has entered their login credentials. This is needed because, in the case of first login or reset profile, the application needs to set up a few things, while this is done, the user should not be able to click anything and see the dialog.</p>\n<p>My first approach was the following:</p>\n<pre><code> if(hasLoggedIn){\n        myInfoDialog.displayLogin();\n        try {\n            TimeUnit.SECONDS.sleep(5);\n        } catch (Exception e){}\n    }\n</code></pre>\n<p>The class &quot;myInfoDialog&quot; will call an info dialog:</p>\n<pre><code>  public void displayLogin(){\n        myJDialog.setLogin()\n  }\n</code></pre>\n<p>And the setLogin Metod of the JDialog will do:</p>\n<pre><code>  public void setLogin(){\n    okButton.setVisible(false);\n    okButton.setEnabled(false);\n    cancelButton.setVisible(false);\n    cancelButton.setEnabled(false);\n    iconLabel.setIcon(infoIcon);\n    dialogTextField.setText(initMsg);\n    this.setVisible(true);\n }\n</code></pre>\n<p>The issue is, that <code> myInfoDialog.displayLogin();</code> will only show the dialog frame and title, and an empty white body looks like the rendering was incomplete. After the 5s of sleep, which I used to simulate the background operation after login, the dialog will finish rendering. But in the final case, this would be the moment where the dialog would be set to invisible.</p>\n<p>As a first try to solve the problem, I've implemented a swing worker:</p>\n<pre><code>SwingWorker&lt;Void, Void&gt; mySwingWorker = new SwingWorker&lt;Void, Void&gt;() {\n\n                @Override\n                protected Void doInBackground() throws Exception {\n\n                    //Here you put your long-running process...\n\n                    myInfoDialog.displayLogin();\n                    return null;\n                }\n            };\n</code></pre>\n<p>And used like this:</p>\n<pre><code> if(hasLoggedIn){\n    mySwingWorker.execute();\n    try {\n        TimeUnit.SECONDS.sleep(5);\n    } catch (Exception e){}\n}\n</code></pre>\n<p>But the issue still persists.\nWhat method could be used to display and render the dialog, regardless of other code execution?</p>\n"},{"tags":["java","jvm","bytecode","synchronized","specifications"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1560322555,"post_id":56555542,"comment_id":99692939,"body_markdown":"Did you actually read the linked text? The code example is explained right beneath it; *To enforce proper pairing of monitorenter and monitorexit instructions on abrupt method invocation completion, the compiler generates exception handlers (&#167;2.10) that will match any exception and whose associated code executes the necessary monitorexit instructions.* In contrast, a statement like JVM call monitorexit instruction twice does not appear anywhere in that document.","body":"Did you actually read the linked text? The code example is explained right beneath it; <i>To enforce proper pairing of monitorenter and monitorexit instructions on abrupt method invocation completion, the compiler generates exception handlers (&#167;2.10) that will match any exception and whose associated code executes the necessary monitorexit instructions.</i> In contrast, a statement like JVM call monitorexit instruction twice does not appear anywhere in that document."}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560319833,"creation_date":1560319833,"answer_id":56555661,"question_id":56555542,"body_markdown":"If you look at the code, it should ends after line 10 where it goto return statement \r\n\r\n&gt;     9   monitorexit         // Exit the monitor associated with f\r\n    10  goto 18             // Complete the method normally\r\n    13  astore_3            // In case of any throw, end up here\r\n    14  aload_2             // Push local variable 2 (f)\r\n    15  monitorexit         // Be sure to exit the monitor!\r\n    16  aload_3             // Push thrown value...\r\n    17  athrow              // ...and rethrow value to the invoker\r\n    18  return              // Return in the normal case\r\n\r\nBut it adds a extra caution check if failed to return call again `monitorexit`         ","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>If you look at the code, it should ends after line 10 where it goto return statement </p>\n\n<blockquote>\n<pre><code>9   monitorexit         // Exit the monitor associated with f\n10  goto 18             // Complete the method normally\n13  astore_3            // In case of any throw, end up here\n14  aload_2             // Push local variable 2 (f)\n15  monitorexit         // Be sure to exit the monitor!\n16  aload_3             // Push thrown value...\n17  athrow              // ...and rethrow value to the invoker\n18  return              // Return in the normal case\n</code></pre>\n</blockquote>\n\n<p>But it adds a extra caution check if failed to return call again <code>monitorexit</code>         </p>\n"},{"comments":[{"owner":{"account_id":1950996,"reputation":1778,"user_id":1755086,"accept_rate":60,"display_name":"tgeng"},"score":0,"creation_date":1687054314,"post_id":56556340,"comment_id":134882992,"body_markdown":"I have a related question. Why is there a second entry in the exception handler table? If monitorexit throws it will loop infinitely right? But if that doesnt throw then thats the purpose of that second entry?","body":"I have a related question. Why is there a second entry in the exception handler table? If monitorexit throws it will loop infinitely right? But if that doesnt throw then thats the purpose of that second entry?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687071207,"post_id":56556340,"comment_id":134883797,"body_markdown":"Please ask this as a new question.  And before you do that, please read carefully what this Q and all of the As say.  In your question, 1) provide evidence that there is a 2nd entry in the exception handler table, and 2) explain why do you think that the code can loop.","body":"Please ask this as a new question.  And before you do that, please read carefully what this Q and all of the As say.  In your question, 1) provide evidence that there is a 2nd entry in the exception handler table, and 2) explain why do you think that the code can loop."},{"owner":{"account_id":1950996,"reputation":1778,"user_id":1755086,"accept_rate":60,"display_name":"tgeng"},"score":0,"creation_date":1687149847,"post_id":56556340,"comment_id":134891111,"body_markdown":"Ah I found another person asking this exact question https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly","body":"Ah I found another person asking this exact question <a href=\"https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly\" title=\"how do i exit a monitor in bytecode properly\">stackoverflow.com/questions/18249906/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687155377,"post_id":56556340,"comment_id":134891718,"body_markdown":"I answered it too.  10 years ago.  Fancy that!","body":"I answered it too.  10 years ago.  Fancy that!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687155475,"creation_date":1560322830,"answer_id":56556340,"question_id":56555542,"body_markdown":"The code is not &quot;calling&quot; the `monitorexit` instruction twice.  It is executing it once on two different code paths.  \r\n\r\n  - The first codepath is for when the code in the `synchronized` block exits normally.  \r\n  - The second codepath is in an *implicit*  exception handling path for the case where the block terminates abnormally.  \r\n\r\nYou could write the bytecodes in the example as *pseudo-code* that looks like this:\r\n\r\n    void onlyMe(Foo f) {\r\n        monitorEntry(f);\r\n\r\n        try {\r\n            doSomething();\r\n            monitorExit();\r\n        } catch (Throwable any) {\r\n            monitorExit();\r\n            throw any;\r\n        }\r\n    }\r\n\r\n--------------\r\n\r\nIf you want more information on this, take a look at this older question:\r\n\r\n  - https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly\r\n","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>The code is not &quot;calling&quot; the <code>monitorexit</code> instruction twice.  It is executing it once on two different code paths.</p>\n<ul>\n<li>The first codepath is for when the code in the <code>synchronized</code> block exits normally.</li>\n<li>The second codepath is in an <em>implicit</em>  exception handling path for the case where the block terminates abnormally.</li>\n</ul>\n<p>You could write the bytecodes in the example as <em>pseudo-code</em> that looks like this:</p>\n<pre><code>void onlyMe(Foo f) {\n    monitorEntry(f);\n\n    try {\n        doSomething();\n        monitorExit();\n    } catch (Throwable any) {\n        monitorExit();\n        throw any;\n    }\n}\n</code></pre>\n<hr />\n<p>If you want more information on this, take a look at this older question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18249906/how-do-i-exit-a-monitor-in-bytecode-properly\">How do I exit a monitor in bytecode properly?</a></li>\n</ul>\n"}],"owner":{"account_id":10738765,"reputation":286,"user_id":7902611,"display_name":"Artiom Saidanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56556340,"answer_count":2,"score":1,"last_activity_date":1687155475,"creation_date":1560319230,"question_id":56555542,"body_markdown":"According to [JVM Specification, paragraph 3.14 Synchronization](https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-3.html#jvms-3.14), JVM call **monitorexit** instruction twice.\r\n\r\nI wonder why JVM need such behavior? \r\nWhy do we call this instruction 2 times, but not 3 or 4 or N times?\r\n\r\nMay be it&#39;s somehow connected with types of synchronization locks?","title":"Why do we need to call &#39;monitorexit&#39; instruction twice when we use &#39;synchronized&#39; keyword?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jvms/se12/html/jvms-3.html#jvms-3.14\" rel=\"nofollow noreferrer\">JVM Specification, paragraph 3.14 Synchronization</a>, JVM call <strong>monitorexit</strong> instruction twice.</p>\n\n<p>I wonder why JVM need such behavior? \nWhy do we call this instruction 2 times, but not 3 or 4 or N times?</p>\n\n<p>May be it's somehow connected with types of synchronization locks?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1687155195,"post_id":76503096,"comment_id":134891686,"body_markdown":"Does this answer your question? [Repeating Task In Java](https://stackoverflow.com/questions/59806313/repeating-task-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59806313/repeating-task-in-java\">Repeating Task In Java</a>"}],"owner":{"account_id":28847389,"reputation":1,"user_id":22094058,"display_name":"Caleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687155123,"creation_date":1687136757,"question_id":76503096,"body_markdown":"I&#39;m trying to run a certain &quot;scanning&quot; system. It has to scan millions of blocks and do many different things with each block so when I try and run it normally I get:\r\nhttps://sourceb.in/nFuUfzJ1oj\r\nthis crash. So I tried putting it in a runnable and running it asynchronously however it started fast, then kept slowing down and slowing more until it pretty much made it so it would be weeks before it finishes.\r\nLike that. What&#39;s happening here and how do I fix it?\r\n\r\nI then tried doing it in a separate thread,\r\n```\r\nnew Thread(new Runnable() {\r\n   @Override\r\n   public void run() {\r\n      // code goes here.\r\n   }\r\n}).start();\r\n```\r\nbut still the same issue","title":"SpigotAPI Method on different thread/async runnable slowing","body":"<p>I'm trying to run a certain &quot;scanning&quot; system. It has to scan millions of blocks and do many different things with each block so when I try and run it normally I get:\n<a href=\"https://sourceb.in/nFuUfzJ1oj\" rel=\"nofollow noreferrer\">https://sourceb.in/nFuUfzJ1oj</a>\nthis crash. So I tried putting it in a runnable and running it asynchronously however it started fast, then kept slowing down and slowing more until it pretty much made it so it would be weeks before it finishes.\nLike that. What's happening here and how do I fix it?</p>\n<p>I then tried doing it in a separate thread,</p>\n<pre><code>new Thread(new Runnable() {\n   @Override\n   public void run() {\n      // code goes here.\n   }\n}).start();\n</code></pre>\n<p>but still the same issue</p>\n"},{"tags":["java","android","react-native","gradle","android-gradle-plugin"],"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687154387,"creation_date":1687154387,"question_id":76503960,"body_markdown":"yarn run v1.22.19\r\n$ react-native run-android\r\n\r\n\r\n    info JS server already running.\r\n    info Installing the app...\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\r\n    Download https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\r\n    22 actionable tasks: 2 executed, 20 up-to-date\r\n    &#39;cmake&#39; no  reconhecido como um comando interno\r\n    ou externo, um programa opervel ou um arquivo em lotes.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n    &#39;cmake&#39; It is not recognized as an internal command\r\n    or external, an operable program or a batch file.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    \r\n    at makeError (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\n    info Run CLI with --verbose flag for more details.\r\n    error Command failed with exit code 1.\r\n    info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n    PS C:\\Users\\Principal\\Desktop\\AwesomeProject&gt; cd android\r\n    PS C:\\Users\\Principal\\Desktop\\AwesomeProject\\android&gt; ./gradlew assembleDebug --stacktrace\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\r\n    Download https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\r\n    \r\n    Task :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\r\n    &#39;cmake&#39; n&#227;o &#233; reconhecido como um comando interno\r\n    ou externo, um programa oper&#225;vel ou um arquivo em lotes.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    Try:\r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:react-native:ReactAndroid:hermes-engine:configureBuildForHermes&#39;.\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;cmd&#39;&#39; finished with non-zero exit value 1\r\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\r\n    at org.gradle.process.internal.DefaultExecAction.execute(DefaultExecAction.java:38)\r\n    at org.gradle.api.tasks.AbstractExecTask.exec(AbstractExecTask.java:73)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \r\n    Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 5s","title":"Building react native from source is unsuccessful","body":"<p>yarn run v1.22.19\n$ react-native run-android</p>\n<pre><code>info JS server already running.\ninfo Installing the app...\n\nTask :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\nDownload https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\n\nTask :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\n22 actionable tasks: 2 executed, 20 up-to-date\n'cmake' no  reconhecido como um comando interno\nou externo, um programa opervel ou um arquivo em lotes.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nProcess 'command 'cmd'' finished with non-zero exit value 1\n\nTry:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 6s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n'cmake' It is not recognized as an internal command\nor external, an operable program or a batch file.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nTry:\nRun with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 6s\n\nat makeError (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:174:9)\nat C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\execa\\index.js:278:16\nat processTicksAndRejections (node:internal/process/task_queues:96:5)\nat async runOnAllDevices (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\nat async Command.handleAction (C:\\Users\\Principal\\Desktop\\AwesomeProject\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\ninfo Run CLI with --verbose flag for more details.\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\nPS C:\\Users\\Principal\\Desktop\\AwesomeProject&gt; cd android\nPS C:\\Users\\Principal\\Desktop\\AwesomeProject\\android&gt; ./gradlew assembleDebug --stacktrace\n\nTask :react-native:ReactAndroid:hermes-engine:downloadHermes UP-TO-DATE\nDownload https://github.com/facebook/hermes/tarball/hermes-2023-03-07-RNv0.71.4-31fdcf738940875c9bacf251e149006cf515d763\n\nTask :react-native:ReactAndroid:hermes-engine:configureBuildForHermes FAILED\n'cmake' no  reconhecido como um comando interno\nou externo, um programa opervel ou um arquivo em lotes.\n\nFAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nProcess 'command 'cmd'' finished with non-zero exit value 1\n\nTry:\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nException is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':react-native:ReactAndroid:hermes-engine:configureBuildForHermes'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\nat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'cmd'' finished with non-zero exit value 1\nat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\nat org.gradle.process.internal.DefaultExecAction.execute(DefaultExecAction.java:38)\nat org.gradle.api.tasks.AbstractExecTask.exec(AbstractExecTask.java:73)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\nat org.gradle.internal.Either$Right.fold(Either.java:175)\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\nGet more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624762111,"creation_date":1624762111,"answer_id":68147583,"question_id":68147318,"body_markdown":"No, there is no such method available. You can simply construct the string yourself (which is much easier than making an API call):\r\n\r\n    https://bucket-name.s3.amazonaws.com/key","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<p>No, there is no such method available. You can simply construct the string yourself (which is much easier than making an API call):</p>\n<pre><code>https://bucket-name.s3.amazonaws.com/key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2498106,"reputation":111,"user_id":2174014,"display_name":"isp_developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687153757,"creation_date":1687153757,"answer_id":76503910,"question_id":68147318,"body_markdown":"## To simply construct valid s3:// URL ##\r\nYou can use java.net.URL class:\r\n```\r\nURL urlObject = new URL(&quot;s3&quot;,&quot;bucket-name,&quot;key&quot;);\r\nSystem.out.println(urlObject);\r\n```\r\n[javaDoc][1]\r\n\r\n\r\n## To Create http url of s3 object accessible via http request ##\r\n\r\n```\r\n S3Client s3client = S3Client.create();\r\n S3Utilities utilities = s3client.utilities();\r\n GetUrlRequest request = GetUrlRequest.builder().bucket(&quot;bucket-name&quot;).key(&quot;key&quot;).build();\r\n URL url = utilities.getUrl(request);\r\n```\r\n[javaDoc][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Utilities.html","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<h2>To simply construct valid s3:// URL</h2>\n<p>You can use java.net.URL class:</p>\n<pre><code>URL urlObject = new URL(&quot;s3&quot;,&quot;bucket-name,&quot;key&quot;);\nSystem.out.println(urlObject);\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">javaDoc</a></p>\n<h2>To Create http url of s3 object accessible via http request</h2>\n<pre><code> S3Client s3client = S3Client.create();\n S3Utilities utilities = s3client.utilities();\n GetUrlRequest request = GetUrlRequest.builder().bucket(&quot;bucket-name&quot;).key(&quot;key&quot;).build();\n URL url = utilities.getUrl(request);\n</code></pre>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Utilities.html\" rel=\"nofollow noreferrer\">javaDoc</a></p>\n"}],"owner":{"account_id":20130220,"reputation":83,"user_id":14762717,"display_name":"Kaushik Karalgikar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1687153757,"creation_date":1624757285,"question_id":68147318,"body_markdown":"Given bucket name and key, how do I get ```s3://bucket-name/key``` without using simple String operations? Is there a method in AmazonS3URI?\r\n\r\n","title":"How to construct an Amazon S3 URI given bucket name and key?","body":"<p>Given bucket name and key, how do I get <code>s3://bucket-name/key</code> without using simple String operations? Is there a method in AmazonS3URI?</p>\n"},{"tags":["java","spring-boot","junit-jupiter"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675346683,"post_id":75323377,"comment_id":132912485,"body_markdown":"You can&#39;t, unless you want to hack. Eg by putting a condition around the log.error to test if you are in a \\@SpringBootTest","body":"You can&#39;t, unless you want to hack. Eg by putting a condition around the log.error to test if you are in a \\@SpringBootTest"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1675348261,"post_id":75323377,"comment_id":132913075,"body_markdown":"Can you swap out the logger for this test and replace it with a dummy/no-op logger?","body":"Can you swap out the logger for this test and replace it with a dummy/no-op logger?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1675350913,"post_id":75323377,"comment_id":132914133,"body_markdown":"Maybe have a different logger configuration file in your resources subdirectory under the `src/test` directory tree?","body":"Maybe have a different logger configuration file in your resources subdirectory under the <code>src&#47;test</code> directory tree?"},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675404541,"post_id":75323377,"comment_id":132925812,"body_markdown":"@knittl Yes I could do that, but I was hoping a solution in which I would not need to add custom code for tests into the class/method tested.","body":"@knittl Yes I could do that, but I was hoping a solution in which I would not need to add custom code for tests into the class/method tested."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675404662,"post_id":75323377,"comment_id":132925829,"body_markdown":"@k314159 That would affect to the whole class tested. I would need it to be just for this specific test. Otherwise it would work.","body":"@k314159 That would affect to the whole class tested. I would need it to be just for this specific test. Otherwise it would work."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675410317,"post_id":75323377,"comment_id":132926915,"body_markdown":"@JohnWilliams I am afraid you may be correct. The hack-condition is not an option, though I&#39;m not giving up just yet finding a solution.","body":"@JohnWilliams I am afraid you may be correct. The hack-condition is not an option, though I&#39;m not giving up just yet finding a solution."}],"answers":[{"comments":[{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1675405023,"post_id":75325298,"comment_id":132925889,"body_markdown":"Close to what I am looking for, though it would have too broad effect when cancelling all logging from the class. I would require this happen just for this one specific logging scenario with this one specific test.","body":"Close to what I am looking for, though it would have too broad effect when cancelling all logging from the class. I would require this happen just for this one specific logging scenario with this one specific test."},{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1687150762,"post_id":75325298,"comment_id":134891210,"body_markdown":"That update about nesting looks promising. I&#39;ll give it a go next time I end up with similar situation. Since I eventually ended up with a situation where it was desired to test the log output also, I marked that solution as accepted.","body":"That update about nesting looks promising. I&#39;ll give it a go next time I end up with similar situation. Since I eventually ended up with a situation where it was desired to test the log output also, I marked that solution as accepted."}],"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675455924,"creation_date":1675351327,"answer_id":75325298,"question_id":75323377,"body_markdown":"If logging should be suppressed for a single test-class you can use\r\n\r\n```java\r\n@SpringBootTest(properties = &quot;logging.level.path.to.service.MyService=OFF&quot;)\r\n```\r\n\r\nIf logging should be suppressed in all your tests then add this to your application.properties \r\n\r\n_test/resources/application.properties_\r\n```properties\r\nlogging.level.path.to.service.MyService=OFF\r\n```\r\n----\r\nUPDATE\r\n\r\nSuppress logging for a single test could be done by nesting your test in a separate class\r\n\r\n```java\r\n@SpringBootTest\r\nclass DemoServiceTest {\r\n\r\n    @Autowired DemoService service;\r\n\r\n    @Test\r\n    void testWithErrorLogging() {\r\n        // ...\r\n    }\r\n\r\n    @Nested\r\n    @SpringBootTest(properties = {&quot;logging.level.com.example.demo.DemoService=OFF&quot;})\r\n    class IgnoreExceptionTests{\r\n        @Test\r\n        void isThisParameterGoodToUseWithOutError() {\r\n            Assertions.assertThrows(\r\n                    ServiceException.class,\r\n                    () -&gt; {\r\n                        service.isThisParameterGoodToUse(&quot;blabala&quot;);\r\n                    }\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Prevent exception from being logged in test","body":"<p>If logging should be suppressed for a single test-class you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(properties = &quot;logging.level.path.to.service.MyService=OFF&quot;)\n</code></pre>\n<p>If logging should be suppressed in all your tests then add this to your application.properties</p>\n<p><em>test/resources/application.properties</em></p>\n<pre><code>logging.level.path.to.service.MyService=OFF\n</code></pre>\n<hr />\n<p>UPDATE</p>\n<p>Suppress logging for a single test could be done by nesting your test in a separate class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass DemoServiceTest {\n\n    @Autowired DemoService service;\n\n    @Test\n    void testWithErrorLogging() {\n        // ...\n    }\n\n    @Nested\n    @SpringBootTest(properties = {&quot;logging.level.com.example.demo.DemoService=OFF&quot;})\n    class IgnoreExceptionTests{\n        @Test\n        void isThisParameterGoodToUseWithOutError() {\n            Assertions.assertThrows(\n                    ServiceException.class,\n                    () -&gt; {\n                        service.isThisParameterGoodToUse(&quot;blabala&quot;);\n                    }\n            );\n        }\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1686308417,"post_id":75340782,"comment_id":134784406,"body_markdown":"You are correct about this, though the test in question is not concerned about the exception been thrown. Instead it check&#39;s the code is able to continue on a particular error situation. The log is byproduct which I wasn&#39;t interested at all. Though this approach also made me look at the issue from wrong view which prevented from seeing the solution. (Posting solution as answer)","body":"You are correct about this, though the test in question is not concerned about the exception been thrown. Instead it check&#39;s the code is able to continue on a particular error situation. The log is byproduct which I wasn&#39;t interested at all. Though this approach also made me look at the issue from wrong view which prevented from seeing the solution. (Posting solution as answer)"}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675456446,"creation_date":1675456446,"answer_id":75340782,"question_id":75323377,"body_markdown":"**Don&#39;t suppress the exception in logs, even in test.**\r\n\r\nSeeing exceptions thrown in tests is a good thing, since it means that your test covers a case in which they *would* be thrown.\r\n\r\nThe most desirable thing would be to validate that the exception along with the right message was thrown properly too (since you wouldn&#39;t want to mock the logger or spy on it or anything).\r\n\r\n```\r\n@Test\r\nvoid isThisParameterGoodToUse() {\r\n    assertThrows(ServiceException.class,\r\n         () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;), \r\n   &quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;);\r\n}\r\n```","title":"Prevent exception from being logged in test","body":"<p><strong>Don't suppress the exception in logs, even in test.</strong></p>\n<p>Seeing exceptions thrown in tests is a good thing, since it means that your test covers a case in which they <em>would</em> be thrown.</p>\n<p>The most desirable thing would be to validate that the exception along with the right message was thrown properly too (since you wouldn't want to mock the logger or spy on it or anything).</p>\n<pre><code>@Test\nvoid isThisParameterGoodToUse() {\n    assertThrows(ServiceException.class,\n         () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;), \n   &quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"score":0,"creation_date":1687150060,"post_id":76440263,"comment_id":134891131,"body_markdown":"The ArgumentCaptor is handy and available from Mockito ... mvnrepository.com/artifact/org.mockito/mockito-core/2.10.0","body":"The ArgumentCaptor is handy and available from Mockito ... mvnrepository.com/artifact/org.mockito/mockito-core/2.10.0"}],"tags":[],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687153546,"creation_date":1686313729,"answer_id":76440263,"question_id":75323377,"body_markdown":"The solution is to look at this issue from another perspective. Instead of trying to suppress a log (error) message when you are excepting it, instead verify it is actually logged. This is somewhat the thing @knittl suggested in comments.\r\n\r\nIn short. Provide a mock instance of the logger for the method you want to suppress the log messages at. (Depending on how you setup / use the class tested, you may need to ensure you have the mock logger set only for the certain tests)\r\n\r\nThe example class below logs an error message or warning message depending on the situation. Normally we would be interested only about the outcome of the method (asserts True/False) as it is generally enough to verify things work. But if you test also the messages, you get the solution automatically.\r\n\r\nExample class (tested with SpringBoot, but the same logic works with other frameworks also)\r\n\r\n    @Service\r\n    public class MyService {\r\n      private Logger log = LogManager.getLogger(MyService.class);\r\n\r\n     /**\r\n      * Protected so that this is available to test but no more than necessary.\r\n      */\r\n      protected void setLogger(Logger logger) {\r\n        this.log = logger;\r\n      }\r\n\r\n      public boolean processData(String data) throws ServiceException {\r\n        try {\r\n          if (!this.validateDataContains(data, &quot;MagicString&quot;)) {\r\n            log.warn(&quot;The given data does not contain the MagicString!&quot;);\r\n            return false;\r\n          }\r\n        } catch (Exception e) {\r\n          log.error(&quot;The given data is bad!&quot;, e);\r\n          throw new ServiceException(&quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;);\r\n        }\r\n        return true;\r\n      }\r\n\r\n      protected boolean validateDataContains(String data, String magicString) {\r\n        if (data == null) {\r\n          throw new NullPointerException(&quot;Data given was null&quot;);\r\n        } else if (!data.contains(magicString)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\nAnd the test class\r\n\r\n    @SpringBootTest\r\n    public class MyServiceTest extends Assertions {\r\n      @Autowired\r\n      private MyService service;\r\n      @Captor\r\n      private ArgumentCaptor&lt;String&gt; stringCaptor;\r\n    \r\n      @Test\r\n      public void logsErrorTest() {\r\n        var mockLogger = Mockito.mock(Logger.class);\r\n        service.setLogger(mockLogger);\r\n\r\n        assertThrows(ServiceException.class,\r\n          () -&gt; this.injectedService.processData(null));\r\n        \r\n        Mockito.verify(mockLogger, Mockito.times(1)).error(stringCaptor.capture(), ArgumentMatchers.any(Throwable.class));\r\n        assertEquals(&quot;The given data is bad!&quot;, stringCaptor.getValue());\r\n      }\r\n    \r\n      @Test\r\n      public void logsWarningTest() {\r\n        var mockLogger = Mockito.mock(Logger.class);\r\n        service.setLogger(mockLogger);\r\n\r\n        assertFalse(service.processData(&quot;This is plain text&quot;));\r\n        \r\n        Mockito.verify(mockLogger, Mockito.times(1)).warn(stringCaptor.capture());\r\n        assertEquals(&quot;The given data does not contain the MagicString!&quot;, stringCaptor.getValue());\r\n      }\r\n    }\r\n\r\nIf you are lazy, you don&#39;t have to verify the message logged, just provide a mock and forget the rest.","title":"Prevent exception from being logged in test","body":"<p>The solution is to look at this issue from another perspective. Instead of trying to suppress a log (error) message when you are excepting it, instead verify it is actually logged. This is somewhat the thing @knittl suggested in comments.</p>\n<p>In short. Provide a mock instance of the logger for the method you want to suppress the log messages at. (Depending on how you setup / use the class tested, you may need to ensure you have the mock logger set only for the certain tests)</p>\n<p>The example class below logs an error message or warning message depending on the situation. Normally we would be interested only about the outcome of the method (asserts True/False) as it is generally enough to verify things work. But if you test also the messages, you get the solution automatically.</p>\n<p>Example class (tested with SpringBoot, but the same logic works with other frameworks also)</p>\n<pre><code>@Service\npublic class MyService {\n  private Logger log = LogManager.getLogger(MyService.class);\n\n /**\n  * Protected so that this is available to test but no more than necessary.\n  */\n  protected void setLogger(Logger logger) {\n    this.log = logger;\n  }\n\n  public boolean processData(String data) throws ServiceException {\n    try {\n      if (!this.validateDataContains(data, &quot;MagicString&quot;)) {\n        log.warn(&quot;The given data does not contain the MagicString!&quot;);\n        return false;\n      }\n    } catch (Exception e) {\n      log.error(&quot;The given data is bad!&quot;, e);\n      throw new ServiceException(&quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;);\n    }\n    return true;\n  }\n\n  protected boolean validateDataContains(String data, String magicString) {\n    if (data == null) {\n      throw new NullPointerException(&quot;Data given was null&quot;);\n    } else if (!data.contains(magicString)) {\n      return false;\n    }\n    return true;\n  }\n}\n</code></pre>\n<p>And the test class</p>\n<pre><code>@SpringBootTest\npublic class MyServiceTest extends Assertions {\n  @Autowired\n  private MyService service;\n  @Captor\n  private ArgumentCaptor&lt;String&gt; stringCaptor;\n\n  @Test\n  public void logsErrorTest() {\n    var mockLogger = Mockito.mock(Logger.class);\n    service.setLogger(mockLogger);\n\n    assertThrows(ServiceException.class,\n      () -&gt; this.injectedService.processData(null));\n    \n    Mockito.verify(mockLogger, Mockito.times(1)).error(stringCaptor.capture(), ArgumentMatchers.any(Throwable.class));\n    assertEquals(&quot;The given data is bad!&quot;, stringCaptor.getValue());\n  }\n\n  @Test\n  public void logsWarningTest() {\n    var mockLogger = Mockito.mock(Logger.class);\n    service.setLogger(mockLogger);\n\n    assertFalse(service.processData(&quot;This is plain text&quot;));\n    \n    Mockito.verify(mockLogger, Mockito.times(1)).warn(stringCaptor.capture());\n    assertEquals(&quot;The given data does not contain the MagicString!&quot;, stringCaptor.getValue());\n  }\n}\n</code></pre>\n<p>If you are lazy, you don't have to verify the message logged, just provide a mock and forget the rest.</p>\n"}],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76440263,"answer_count":3,"score":2,"last_activity_date":1687153546,"creation_date":1675341778,"question_id":75323377,"body_markdown":"I have a SpringBoot test which asserts an exception is thrown for certain situations from the method tested. However the method tested catches and groups multiple errors, logs the details and (re) throws just one &#39;ServiceException&#39; instead.&lt;br/&gt;\r\n(*log and rethrow the exact same exception would be an antipattern, this is not such case*)&lt;br/&gt;\r\nIt is a service method which does much stuff and the user/client should not be bothered with all the details. Most of the issues would be irrelevant and there&#39;s nothing to do except maybe &quot;try again later&quot;.\r\n\r\nThe test works correctly (passes when the exception is thrown) but I also see the original stacktrace logged (as it is supposed to when in production). However when doing tests, it is undesired to see this error show in logs as if it would be a real error. (Though could be a case for a test which is done poorly)\r\n\r\nSo the question is, how can I suppress the error from being logged just for this one test case?\r\n(Preventing the logging to happen for all tests is not a solution. Exception would be needed just for a specific test case)\r\n\r\nExample of the method to test:\r\n\r\n    public boolean isThisParameterGoodToUse(Object parameter) throws ServiceException {\r\n        try {\r\n            boolean allWasOk = true;\r\n            // Do stuff that may throw exceptions regardless of the parameter\r\n            return allWasOk;\r\n        } catch (IOException | HttpException | SomeException | YetAnotherException e) {\r\n            String msg = &quot;There was a problem you can do nothing about, except maybe &#39;try again later&#39;.&quot;;\r\n            this.log.error(msg, e); // Relevent for system monitors, nothing for the client\r\n            throw new ServiceException(msg);\r\n        }\r\n    }\r\n\r\nAnd then the test would look something like this (Class is annotated with &#39;@SpringBootTest&#39; and it uses &#39;Jupiter-api&#39;):\r\n\r\n    @Test\r\n    public void isThisParameterGoodToUse() {\r\n        assertThrows(ServiceException.class,\r\n            () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;));\r\n    }\r\n\r\nAnd when I run the test, I get error message to log, e.g.:\r\n\r\n    com.myProd.services.SomeException: There was a problem you can do nothing about, except maybe &#39;try again later&#39;.\r\n        at ... &lt;lots of stackTrace&gt; ...","title":"Prevent exception from being logged in test","body":"<p>I have a SpringBoot test which asserts an exception is thrown for certain situations from the method tested. However the method tested catches and groups multiple errors, logs the details and (re) throws just one 'ServiceException' instead.<br/>\n(<em>log and rethrow the exact same exception would be an antipattern, this is not such case</em>)<br/>\nIt is a service method which does much stuff and the user/client should not be bothered with all the details. Most of the issues would be irrelevant and there's nothing to do except maybe &quot;try again later&quot;.</p>\n<p>The test works correctly (passes when the exception is thrown) but I also see the original stacktrace logged (as it is supposed to when in production). However when doing tests, it is undesired to see this error show in logs as if it would be a real error. (Though could be a case for a test which is done poorly)</p>\n<p>So the question is, how can I suppress the error from being logged just for this one test case?\n(Preventing the logging to happen for all tests is not a solution. Exception would be needed just for a specific test case)</p>\n<p>Example of the method to test:</p>\n<pre><code>public boolean isThisParameterGoodToUse(Object parameter) throws ServiceException {\n    try {\n        boolean allWasOk = true;\n        // Do stuff that may throw exceptions regardless of the parameter\n        return allWasOk;\n    } catch (IOException | HttpException | SomeException | YetAnotherException e) {\n        String msg = &quot;There was a problem you can do nothing about, except maybe 'try again later'.&quot;;\n        this.log.error(msg, e); // Relevent for system monitors, nothing for the client\n        throw new ServiceException(msg);\n    }\n}\n</code></pre>\n<p>And then the test would look something like this (Class is annotated with '@SpringBootTest' and it uses 'Jupiter-api'):</p>\n<pre><code>@Test\npublic void isThisParameterGoodToUse() {\n    assertThrows(ServiceException.class,\n        () -&gt; this.injectedService.isThisParameterGoodToUse(&quot;This is not a good parameter at all!&quot;));\n}\n</code></pre>\n<p>And when I run the test, I get error message to log, e.g.:</p>\n<pre><code>com.myProd.services.SomeException: There was a problem you can do nothing about, except maybe 'try again later'.\n    at ... &lt;lots of stackTrace&gt; ...\n</code></pre>\n"},{"tags":["java","slack","slack-api","slack-commands","slack-block-kit"],"owner":{"account_id":13763805,"reputation":35,"user_id":9932867,"display_name":"Mallikarjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687153537,"creation_date":1687153096,"question_id":76503859,"body_markdown":"Hi am trying to build a Slack bot that asks questions and takes answers, how do I achieve the below use case \r\n```\r\nMy use case:\r\nUser: @MyBot start\r\nBot: question 1 (respond in threads or respond to channel)\r\nUser: Answer 1 (take this answer)\r\nBot: ask question 2\r\nUser: Answer 2 (take this answer)\r\nBot: you scored 100 %\r\n\r\n```\r\n\r\nbelow code responds in the thread using ts, am okay to start a conversation in the channel or thread (preferred but not required)\r\n\r\nso far I achieved following\r\n```\r\napp.event(AppMentionEvent.class, (payload, ctx) -&gt; {\r\n\tAppMentionEvent event = payload.getEvent();\r\n\tString type = event.getText().substring(event.getText().indexOf(&#39;&gt;&#39;) + 1);\r\n\tif (type.equals(&quot;start&quot;)) {\r\n\t\tChatPostMessageResponse message = ctx.client()\r\n\t\t\t\t.chatPostMessage(r -&gt; r.channel(event.getChannel()).threadTs(event.getTs())// event.getThreadTs() is null here\r\n\t\t\t\t\t\t.text(&quot;question 1&quot;));\r\n\t} else {\r\n\t\tctx.logger.info(&quot;add it latter&quot;);\r\n\t}\r\n\treturn ctx.ack();\r\n});\r\n```\r\nam stuck on how to take users&#39; response and unable to find relavent event, kindly share your knowledge \r\n","title":"slack bot that asks question and takes answer","body":"<p>Hi am trying to build a Slack bot that asks questions and takes answers, how do I achieve the below use case</p>\n<pre><code>My use case:\nUser: @MyBot start\nBot: question 1 (respond in threads or respond to channel)\nUser: Answer 1 (take this answer)\nBot: ask question 2\nUser: Answer 2 (take this answer)\nBot: you scored 100 %\n\n</code></pre>\n<p>below code responds in the thread using ts, am okay to start a conversation in the channel or thread (preferred but not required)</p>\n<p>so far I achieved following</p>\n<pre><code>app.event(AppMentionEvent.class, (payload, ctx) -&gt; {\n    AppMentionEvent event = payload.getEvent();\n    String type = event.getText().substring(event.getText().indexOf('&gt;') + 1);\n    if (type.equals(&quot;start&quot;)) {\n        ChatPostMessageResponse message = ctx.client()\n                .chatPostMessage(r -&gt; r.channel(event.getChannel()).threadTs(event.getTs())// event.getThreadTs() is null here\n                        .text(&quot;question 1&quot;));\n    } else {\n        ctx.logger.info(&quot;add it latter&quot;);\n    }\n    return ctx.ack();\n});\n</code></pre>\n<p>am stuck on how to take users' response and unable to find relavent event, kindly share your knowledge</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687152088,"creation_date":1687152088,"answer_id":76503797,"question_id":76503537,"body_markdown":"You need to change what controller produces\r\n\r\n    @GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\r\n                return new ResponseEntity(\r\n                        wapiService.getWapiData(sn).getBody(),\r\n                        new HttpHeaders(),\r\n                        HttpStatus.OK);\r\n            }\r\n\r\nAnd remove unnecessary annotations from Entity\r\n\r\n        public class Result {\r\n            private boolean complete;\r\n            private int srcsize;\r\n            private String urlpath;\r\n        }","title":"Returning JSON and XML using the same entity class","body":"<p>You need to change what controller produces</p>\n<pre><code>@GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\n            return new ResponseEntity(\n                    wapiService.getWapiData(sn).getBody(),\n                    new HttpHeaders(),\n                    HttpStatus.OK);\n        }\n</code></pre>\n<p>And remove unnecessary annotations from Entity</p>\n<pre><code>    public class Result {\n        private boolean complete;\n        private int srcsize;\n        private String urlpath;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":0,"creation_date":1687158242,"post_id":76503882,"comment_id":134892184,"body_markdown":"I forgot to mention that i need the XML part also .","body":"I forgot to mention that i need the XML part also ."},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1687241954,"post_id":76503882,"comment_id":134904943,"body_markdown":"API will return one format that you want. In case you want to have both the format i.e. XML and JSON in your case, of the response body, you may create two APIs, one returning JSON, the other XML.","body":"API will return one format that you want. In case you want to have both the format i.e. XML and JSON in your case, of the response body, you may create two APIs, one returning JSON, the other XML."}],"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687153321,"creation_date":1687153321,"answer_id":76503882,"question_id":76503537,"body_markdown":"I guess your application is in Spring.\r\nOn Controller:  The @ResponseBody annotation tells the controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object.\r\nSo, keep annotation only @ResponseBody. In @Get Mapping, keep only value.\r\n@GetMapping(value = &quot;/check&quot;).\r\nOn Entity class: Remove all annotation of @XML. Keep a no-arg constructor in Result class.\r\nThis will return JSON as ResponseBody.","title":"Returning JSON and XML using the same entity class","body":"<p>I guess your application is in Spring.\nOn Controller:  The @ResponseBody annotation tells the controller that the object returned is automatically serialized into JSON and passed back into the HttpResponse object.\nSo, keep annotation only @ResponseBody. In @Get Mapping, keep only value.\n@GetMapping(value = &quot;/check&quot;).\nOn Entity class: Remove all annotation of @XML. Keep a no-arg constructor in Result class.\nThis will return JSON as ResponseBody.</p>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687153321,"creation_date":1687147137,"question_id":76503537,"body_markdown":"I have this controller code that is returning XML , how can i make it return JSON with minimum line of code or just with few annotation on the entity class or the controller .\r\n\r\n\r\n\t\t\t@GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n\t\t\t    @ResponseBody\r\n\t\t\t    public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\r\n\t\t\t        return new ResponseEntity(\r\n\t\t\t                wapiService.getWapiData(sn).getBody(),\r\n\t\t\t                new HttpHeaders(),\r\n\t\t\t                HttpStatus.OK);\r\n\t\t\t    }\r\n\r\n\r\n\r\nThis is the entity class \r\n\r\n\r\n\t\t\t@XmlRootElement\r\n\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\tpublic class Result {\r\n\t\t\t\r\n\t\t\t    private boolean complete;\r\n\t\t\t    private int srcsize;\r\n\t\t\t\r\n\t\t\t    private String urlpath;\r\n\t\t\t}","title":"Returning JSON and XML using the same entity class","body":"<p>I have this controller code that is returning XML , how can i make it return JSON with minimum line of code or just with few annotation on the entity class or the controller .</p>\n<pre><code>        @GetMapping(value = &quot;/check&quot;, produces = MediaType.APPLICATION_XML_VALUE)\n            @ResponseBody\n            public ResponseEntity&lt;Result&gt; getWapiResult(@RequestParam String sn){\n                return new ResponseEntity(\n                        wapiService.getWapiData(sn).getBody(),\n                        new HttpHeaders(),\n                        HttpStatus.OK);\n            }\n</code></pre>\n<p>This is the entity class</p>\n<pre><code>        @XmlRootElement\n        @XmlAccessorType(XmlAccessType.FIELD)\n        public class Result {\n        \n            private boolean complete;\n            private int srcsize;\n        \n            private String urlpath;\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","model-view-controller"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1687077177,"post_id":76499640,"comment_id":134884356,"body_markdown":"You forgot to ask an actual question. Please [edit] the post and add a focused question.","body":"You forgot to ask an actual question. Please <a href=\"https://stackoverflow.com/posts/76499640/edit\">edit</a> the post and add a focused question."},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687077581,"post_id":76499640,"comment_id":134884393,"body_markdown":"@Turing85  thanks, I edited the question to make it clearer","body":"@Turing85  thanks, I edited the question to make it clearer"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1687077981,"post_id":76499640,"comment_id":134884440,"body_markdown":"Does [this](https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization) answer your question?","body":"Does <a href=\"https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization\">this</a> answer your question?"},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687078443,"post_id":76499640,"comment_id":134884488,"body_markdown":"@Turing85 if it does, then I don&#39;t understand how so..","body":"@Turing85 if it does, then I don&#39;t understand how so.."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687081606,"post_id":76499640,"comment_id":134884779,"body_markdown":"Short answer: there are no setters. Solution: add setters for all fields of the class User.","body":"Short answer: there are no setters. Solution: add setters for all fields of the class User."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687081796,"post_id":76499640,"comment_id":134884799,"body_markdown":"Longer answer: if you provide a no-args you must provide the setters too. But if you provide only an all-args constructor and no no-args constructor then setters are not mandatory.","body":"Longer answer: if you provide a no-args you must provide the setters too. But if you provide only an all-args constructor and no no-args constructor then setters are not mandatory."},{"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"score":0,"creation_date":1687084460,"post_id":76499640,"comment_id":134885067,"body_markdown":"thanks @Mar-Z ! adding setters solved the issue, but I&#39;m still a bit confused about the reason to this behavior, could you please elaborate or refer me to an explanation about this subject? (its not a java feature right? its something in spring that I&#39;m missing?)","body":"thanks @Mar-Z ! adding setters solved the issue, but I&#39;m still a bit confused about the reason to this behavior, could you please elaborate or refer me to an explanation about this subject? (its not a java feature right? its something in spring that I&#39;m missing?)"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1687086629,"post_id":76499640,"comment_id":134885300,"body_markdown":"It&#39;s the Jackson library. Standard for dealing with JSON objects in Spring Boot. It translates JSON objects to Java objects and back. It&#39;s called serialization/deserialization. There are 4 different ways it can do it depending on constructors provided in Java object. All four well explained in the answer to this: https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization","body":"It&#39;s the Jackson library. Standard for dealing with JSON objects in Spring Boot. It translates JSON objects to Java objects and back. It&#39;s called serialization/deserialization. There are 4 different ways it can do it depending on constructors provided in Java object. All four well explained in the answer to this: <a href=\"https://stackoverflow.com/questions/64080983/when-does-jackson-require-no-arg-constructor-for-deserialization\" title=\"when does jackson require no arg constructor for deserialization\">stackoverflow.com/questions/64080983/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687153184,"creation_date":1687153184,"answer_id":76503868,"question_id":76499640,"body_markdown":"Alex K real reason for this weird behavior is how Jackson uses your getter/setter to serialize the object, its expected member variable to start with lowercase in your case your variables start with uppercase, leading to this weird behavior, if your member variables are not following java convention then it can lead to weird behavior as Jackson expect your variables to follow it\r\n```\r\npublic class User {\r\n\r\n    private int Id;  // change them to lowercase id\r\n    private String Name;\r\n    private String Email;\r\n    private String Password;\r\n\r\n    /*private int id;\r\n    private String name;\r\n    private String email;\r\n    private String password;*/\r\n\r\n```\r\nRefer this for more info -- https://stackoverflow.com/a/75884462/16769477","title":"Spring Boot having empty constructor prevents reading body in Postman POST request","body":"<p>Alex K real reason for this weird behavior is how Jackson uses your getter/setter to serialize the object, its expected member variable to start with lowercase in your case your variables start with uppercase, leading to this weird behavior, if your member variables are not following java convention then it can lead to weird behavior as Jackson expect your variables to follow it</p>\n<pre><code>public class User {\n\n    private int Id;  // change them to lowercase id\n    private String Name;\n    private String Email;\n    private String Password;\n\n    /*private int id;\n    private String name;\n    private String email;\n    private String password;*/\n\n</code></pre>\n<p>Refer this for more info -- <a href=\"https://stackoverflow.com/a/75884462/16769477\">https://stackoverflow.com/a/75884462/16769477</a></p>\n"}],"owner":{"account_id":22567212,"reputation":61,"user_id":16754032,"display_name":"Alex K"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503868,"answer_count":1,"score":0,"last_activity_date":1687153184,"creation_date":1687076700,"question_id":76499640,"body_markdown":"I am following a spring-boot tutorial, and I, trying to create a method to add new user to a user list (for now), I noticed that having an empty constructor in the &quot;User&quot; class prevents spring-boot from taking the values from the body of the request, \r\n\r\nI do a postman requset to http://localhost:8080/users\r\nwith a raw json body\r\n\r\ndeleting the line with the empty constructor seem to solve this problem. I don&#39;t understand why..\r\n\r\nwhy deleting the empty constructor solves the issue? what am I missing?\r\n\r\n\r\nI am kinda new to spring\r\nany help will be appreciated, thanks!\r\n\r\nthe User class:\r\n\r\n    public class User {\r\n    \r\n        private int Id;\r\n        private String Name;\r\n        private String Email;\r\n        private String Password;\r\n    \r\n    \r\n        public User() {} //deleting this seems so solve issue\r\n    \r\n        public User(int id, String name, String email, String password) {\r\n            Id = id;\r\n            Name = name;\r\n            Email = email;\r\n            Password = password;\r\n        }\r\n    \r\n        public int getId() {\r\n            return Id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return Email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return Password;\r\n        }\r\n    }\r\n\r\nthe UserService Class:\r\n\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class UserService {\r\n    \r\n        List&lt;User&gt; users =new ArrayList&lt;&gt;( Arrays.asList(\r\n                new User(1, &quot;ff&quot;, &quot;1&quot;, &quot;1&quot;),\r\n                new User(2, &quot;qqq&quot;, &quot;qq&quot;, &quot;qqq&quot;)\r\n        ));\r\n    \r\n    \r\n        public List&lt;User&gt; GetAllUsers() {\r\n            return users;\r\n        }\r\n    \r\n        public User getUser(int id) {\r\n            return users.stream()\r\n                    .filter(x -&gt; x.getId() == id)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n        }\r\n    \r\n        public void addUser(User user) {\r\n            users.add(user);\r\n        }\r\n    }\r\n\r\n the user conroller class:\r\n\r\n      @Autowired\r\n        private UserService userService;\r\n    \r\n        @RequestMapping(&quot;/users&quot;)\r\n        public List&lt;User&gt; getAllUsers(){\r\n            return userService.GetAllUsers();\r\n        }\r\n    \r\n        @RequestMapping(&quot;users/{id}&quot;)\r\n        public User getUser(@PathVariable int id){\r\n            return userService.getUser(id);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.POST,value = &quot;/users&quot;)\r\n        public void addUser(@RequestBody User user){\r\n            userService.addUser(user);\r\n        }\r\n        \r\n\r\n}\r\n\r\nand the class with the main method:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TodoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TodoApplication.class, args);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot having empty constructor prevents reading body in Postman POST request","body":"<p>I am following a spring-boot tutorial, and I, trying to create a method to add new user to a user list (for now), I noticed that having an empty constructor in the &quot;User&quot; class prevents spring-boot from taking the values from the body of the request,</p>\n<p>I do a postman requset to http://localhost:8080/users\nwith a raw json body</p>\n<p>deleting the line with the empty constructor seem to solve this problem. I don't understand why..</p>\n<p>why deleting the empty constructor solves the issue? what am I missing?</p>\n<p>I am kinda new to spring\nany help will be appreciated, thanks!</p>\n<p>the User class:</p>\n<pre><code>public class User {\n\n    private int Id;\n    private String Name;\n    private String Email;\n    private String Password;\n\n\n    public User() {} //deleting this seems so solve issue\n\n    public User(int id, String name, String email, String password) {\n        Id = id;\n        Name = name;\n        Email = email;\n        Password = password;\n    }\n\n    public int getId() {\n        return Id;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public String getEmail() {\n        return Email;\n    }\n\n    public String getPassword() {\n        return Password;\n    }\n}\n</code></pre>\n<p>the UserService Class:</p>\n<pre><code>import org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n@Service\npublic class UserService {\n\n    List&lt;User&gt; users =new ArrayList&lt;&gt;( Arrays.asList(\n            new User(1, &quot;ff&quot;, &quot;1&quot;, &quot;1&quot;),\n            new User(2, &quot;qqq&quot;, &quot;qq&quot;, &quot;qqq&quot;)\n    ));\n\n\n    public List&lt;User&gt; GetAllUsers() {\n        return users;\n    }\n\n    public User getUser(int id) {\n        return users.stream()\n                .filter(x -&gt; x.getId() == id)\n                .findFirst()\n                .orElse(null);\n    }\n\n    public void addUser(User user) {\n        users.add(user);\n    }\n}\n</code></pre>\n<p>the user conroller class:</p>\n<pre><code>  @Autowired\n    private UserService userService;\n\n    @RequestMapping(&quot;/users&quot;)\n    public List&lt;User&gt; getAllUsers(){\n        return userService.GetAllUsers();\n    }\n\n    @RequestMapping(&quot;users/{id}&quot;)\n    public User getUser(@PathVariable int id){\n        return userService.getUser(id);\n    }\n\n    @RequestMapping(method = RequestMethod.POST,value = &quot;/users&quot;)\n    public void addUser(@RequestBody User user){\n        userService.addUser(user);\n    }\n    \n</code></pre>\n<p>}</p>\n<p>and the class with the main method:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring-security","configuration","microservices"],"owner":{"account_id":28848308,"reputation":1,"user_id":22094779,"display_name":"Jyotsna V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687152959,"creation_date":1687152959,"question_id":76503846,"body_markdown":"What are the API which can be used to hide important Service API details from configuration file ? I don&#39;t want to expose client id , secrets from the confguration file for calling the APIS ,Can anyone guide here ?\r\n\r\nI am trying to hide cliend id and secrets from the configuration file as it is against of security policy. Where can i put all these details ? is there any way to achieve it ?","title":"Security for configuration files","body":"<p>What are the API which can be used to hide important Service API details from configuration file ? I don't want to expose client id , secrets from the confguration file for calling the APIS ,Can anyone guide here ?</p>\n<p>I am trying to hide cliend id and secrets from the configuration file as it is against of security policy. Where can i put all these details ? is there any way to achieve it ?</p>\n"},{"tags":["java","android","httprequest","okhttp"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687100779,"post_id":76501040,"comment_id":134886780,"body_markdown":"First, you should at least log the stack trace in the catch block and edit and post the outcome into your question.","body":"First, you should at least log the stack trace in the catch block and edit and post the outcome into your question."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687101163,"post_id":76501040,"comment_id":134886819,"body_markdown":"Seems that https://wit.ai/docs is down right now. Probably, you are not using the right HTTP method for this endpoint.","body":"Seems that <a href=\"https://wit.ai/docs\" rel=\"nofollow noreferrer\">wit.ai/docs</a> is down right now. Probably, you are not using the right HTTP method for this endpoint."},{"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"score":0,"creation_date":1687145452,"post_id":76501040,"comment_id":134890783,"body_markdown":"The catch block is not executed though","body":"The catch block is not executed though"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1687163419,"post_id":76501040,"comment_id":134893165,"body_markdown":"At `https://wit.ai/docs/http/20230215/` is no POST /message endpoint documented.","body":"At <code>https:&#47;&#47;wit.ai&#47;docs&#47;http&#47;20230215&#47;</code> is no POST /message endpoint documented."}],"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687151237,"creation_date":1687098624,"question_id":76501040,"body_markdown":"I&#39;m currently working with wit.ai api to try and make a chat ai,but it is my first time using an api and I don&#39;t know how to sent or receive data to the api. Can anyone pls help me with this.\r\n\r\n\r\n\r\nHere is my current code:\r\n\r\n\r\n```\r\nMediaType medType = MediaType.parse(&quot;text/plain; charset=utf-8&quot;);\r\n            \r\n            httpClient = new OkHttpClient();\r\n    httpBuilder = HttpUrl.parse(&quot;https://api.wit.ai/message&quot;).newBuilder();\r\n\r\n    httpBuilder.addQueryParameter(&quot;v&quot;, &quot;20230618&quot;);\r\n    httpRequest = new Request.Builder()\r\n        .url(httpBuilder.build())\r\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\r\n            .post(RequestBody.create(medType,&quot;I&#39;m Pat&quot;))\r\n        .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\r\n        .build();\r\n      \r\n      try{\r\n          Response response = httpClient.newCall(httpRequest).execute();\r\n                ResponseBody responseBody = response.body();\r\n                \r\n                MainActivity.this.runOnUiThread(new Runnable(){\r\n                    \r\n                \r\n                                                                  @Override\r\n                                                                  public void run() {\r\n                            try{\r\n                                mytxtView.setText(responseBody.string());\r\n                            }catch(IOException e){\r\n                                mytxtView.setText(&quot;IOException&quot;);\r\n                            }\r\n                                                                  }\r\n                                                                  \r\n});\r\n      }catch(IOException e){\r\n          \r\n      }\r\n```\r\n\r\nThe code above returns unsupported post request.\r\n\r\nUpdate:\r\n\r\nI have change my Request.Builder to this:\r\n\r\n    httpRequest =\r\n          new Request.Builder()\r\n              .url(httpBuilder.build())\r\n              .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\r\n              .header(&quot;Content-Type&quot;,&quot;text/plain&quot;)\r\n              .get()\r\n              .build();\r\n\r\nIt works! I don&#39;t get the unsupported request error anymore.The problem is I don&#39;t know where to put the string data that I want to send. \r\n\r\n","title":"How to send String data to wit.ai using OkHttp","body":"<p>I'm currently working with wit.ai api to try and make a chat ai,but it is my first time using an api and I don't know how to sent or receive data to the api. Can anyone pls help me with this.</p>\n<p>Here is my current code:</p>\n<pre><code>MediaType medType = MediaType.parse(&quot;text/plain; charset=utf-8&quot;);\n            \n            httpClient = new OkHttpClient();\n    httpBuilder = HttpUrl.parse(&quot;https://api.wit.ai/message&quot;).newBuilder();\n\n    httpBuilder.addQueryParameter(&quot;v&quot;, &quot;20230618&quot;);\n    httpRequest = new Request.Builder()\n        .url(httpBuilder.build())\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\n            .post(RequestBody.create(medType,&quot;I'm Pat&quot;))\n        .header(&quot;Transfer-Encoding&quot;, &quot;chunked&quot;)\n        .build();\n      \n      try{\n          Response response = httpClient.newCall(httpRequest).execute();\n                ResponseBody responseBody = response.body();\n                \n                MainActivity.this.runOnUiThread(new Runnable(){\n                    \n                \n                                                                  @Override\n                                                                  public void run() {\n                            try{\n                                mytxtView.setText(responseBody.string());\n                            }catch(IOException e){\n                                mytxtView.setText(&quot;IOException&quot;);\n                            }\n                                                                  }\n                                                                  \n});\n      }catch(IOException e){\n          \n      }\n</code></pre>\n<p>The code above returns unsupported post request.</p>\n<p>Update:</p>\n<p>I have change my Request.Builder to this:</p>\n<pre><code>httpRequest =\n      new Request.Builder()\n          .url(httpBuilder.build())\n          .header(&quot;Authorization&quot;, &quot;Bearer &quot; + CLIENT_ACCESS_TOKEN)\n          .header(&quot;Content-Type&quot;,&quot;text/plain&quot;)\n          .get()\n          .build();\n</code></pre>\n<p>It works! I don't get the unsupported request error anymore.The problem is I don't know where to put the string data that I want to send.</p>\n"},{"tags":["java","android","c++","java-native-interface","swig"],"owner":{"account_id":7657835,"reputation":407,"user_id":5804038,"display_name":"Murali Krishna Bellamkonda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687165004,"answer_count":0,"score":0,"last_activity_date":1687151016,"creation_date":1687151016,"question_id":76503731,"body_markdown":"We have a multimedia player SDK where all the source files are in CPP. We have a requirement that we need to register a listener with the android audioTrack by calling the following method\r\n`addOnCodecFormatChangedListener`. \r\n\r\nUsing the JNI interface I can easily call the above method from CPP.\r\n\r\nThis method takes two objects as arguments:\r\n1. Executor object\r\n2. Listener object\r\n\r\nPlease refer the following for more information.\r\nhttps://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)\r\n\r\nTo create an object of the listener class, I need to implement the AudioTrack&#39;s `onCodecFormatChangedListener`.\r\n\r\nFollowing is an example of how we implement the `onCodecFormatChangedListener` in Java:\r\n\r\nhttps://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener\r\n\r\n```\r\npublic class AudioTrackListener implements AudioTrack.OnCodecFormatChangedListener{\r\n\r\n    @Override\r\n    public void onCodecFormatChanged (AudioTrack audioTrack, \r\n                AudioMetadataReadMap info) {\r\n        // Handle onCodecFormatChanged event\r\n    }\r\n}\r\n```\r\n\r\nAs our player doesn&#39;t have the `.java` files, I should do everything in cpp. Is it possible to somehow implement the Java interface in C++, create an object, and pass it to the AudioTrack? When audioTrack invokes, even the implemented method from the C++ should get called.\r\n\r\n**In summary:**\r\nHow can I implement the Java interface from the CPP","title":"Is it possible to implement java interface AudioTrack.OnCodecFormatChangedListener from cpp","body":"<p>We have a multimedia player SDK where all the source files are in CPP. We have a requirement that we need to register a listener with the android audioTrack by calling the following method\n<code>addOnCodecFormatChangedListener</code>.</p>\n<p>Using the JNI interface I can easily call the above method from CPP.</p>\n<p>This method takes two objects as arguments:</p>\n<ol>\n<li>Executor object</li>\n<li>Listener object</li>\n</ol>\n<p>Please refer the following for more information.\n<a href=\"https://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/AudioTrack#addOnCodecFormatChangedListener(java.util.concurrent.Executor,%20android.media.AudioTrack.OnCodecFormatChangedListener)</a></p>\n<p>To create an object of the listener class, I need to implement the AudioTrack's <code>onCodecFormatChangedListener</code>.</p>\n<p>Following is an example of how we implement the <code>onCodecFormatChangedListener</code> in Java:</p>\n<p><a href=\"https://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/AudioTrack.OnCodecFormatChangedListener</a></p>\n<pre><code>public class AudioTrackListener implements AudioTrack.OnCodecFormatChangedListener{\n\n    @Override\n    public void onCodecFormatChanged (AudioTrack audioTrack, \n                AudioMetadataReadMap info) {\n        // Handle onCodecFormatChanged event\n    }\n}\n</code></pre>\n<p>As our player doesn't have the <code>.java</code> files, I should do everything in cpp. Is it possible to somehow implement the Java interface in C++, create an object, and pass it to the AudioTrack? When audioTrack invokes, even the implemented method from the C++ should get called.</p>\n<p><strong>In summary:</strong>\nHow can I implement the Java interface from the CPP</p>\n"},{"tags":["java","selenium-webdriver","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687150630,"creation_date":1687150630,"answer_id":76503699,"question_id":76503518,"body_markdown":"QAF supports `FindBy`(org.openqa.selenium.support.FindBy), `FindBys`(org.openqa.selenium.support.FindBys) from selenium support library in addition to it&#39;s own `FindBy`(com.qmetry.qaf.automation.ui.annotations.FindBy) but not `FindAll`\r\n\r\nIt doesn&#39;t mean you can not use it with QAF. To use `FindAll` you will required to add additional one line code as below in your page class constructor.\r\n\r\n```\r\nimport org.openqa.selenium.support.PageFactory\r\n\t...\r\n\r\nclass MyPage extends WebDriverBaseTestPage&lt;WebDriverTestPage&gt;\r\n\r\n\t...\r\n\r\n\tpublic MyPage() {\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t...\r\n}\r\n```","title":"How to identify multiple WebElements with multiple criteria in QAF?","body":"<p>QAF supports <code>FindBy</code>(org.openqa.selenium.support.FindBy), <code>FindBys</code>(org.openqa.selenium.support.FindBys) from selenium support library in addition to it's own <code>FindBy</code>(com.qmetry.qaf.automation.ui.annotations.FindBy) but not <code>FindAll</code></p>\n<p>It doesn't mean you can not use it with QAF. To use <code>FindAll</code> you will required to add additional one line code as below in your page class constructor.</p>\n<pre><code>import org.openqa.selenium.support.PageFactory\n    ...\n\nclass MyPage extends WebDriverBaseTestPage&lt;WebDriverTestPage&gt;\n\n    ...\n\n    public MyPage() {\n        PageFactory.initElements(driver, this);\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":28064486,"reputation":45,"user_id":21438080,"display_name":"Ostan Dsouza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503699,"answer_count":1,"score":0,"last_activity_date":1687150630,"creation_date":1687146641,"question_id":76503518,"body_markdown":"I&#39;m working on a use case where I need to identify one or more WebElement objects in QAF (Qmetry Automation Framework). In Selenium, I can achieve this by using the @FindAll annotation with multiple @FindBy annotations, like this:\r\n\r\n```\r\n@FindAll({\r\n   @FindBy(className = &quot;class1&quot;),\r\n   @FindBy(className = &quot;class2&quot;)\r\n})\r\nprivate List&lt;WebElement&gt; elementsWithEitherClass1OrClass2;\r\n```\r\n\r\nHowever, I couldn&#39;t find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would appreciate any guidance or suggestions on how to approach this in QAF. Thank you!","title":"How to identify multiple WebElements with multiple criteria in QAF?","body":"<p>I'm working on a use case where I need to identify one or more WebElement objects in QAF (Qmetry Automation Framework). In Selenium, I can achieve this by using the @FindAll annotation with multiple @FindBy annotations, like this:</p>\n<pre><code>@FindAll({\n   @FindBy(className = &quot;class1&quot;),\n   @FindBy(className = &quot;class2&quot;)\n})\nprivate List&lt;WebElement&gt; elementsWithEitherClass1OrClass2;\n</code></pre>\n<p>However, I couldn't find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would appreciate any guidance or suggestions on how to approach this in QAF. Thank you!</p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1680874052,"post_id":75958697,"comment_id":133973588,"body_markdown":"Have you cleared the cache after the upgrade?","body":"Have you cleared the cache after the upgrade?"},{"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"score":0,"creation_date":1680876795,"post_id":75958697,"comment_id":133974170,"body_markdown":"yes, I have even deployed a new redis instance","body":"yes, I have even deployed a new redis instance"},{"owner":{"account_id":1021467,"reputation":173,"user_id":1031698,"accept_rate":83,"display_name":"Marcelo Fernandes"},"score":0,"creation_date":1684234910,"post_id":75958697,"comment_id":134484876,"body_markdown":"I have the same error too. This error disabled me from doing hot deploy with spring-data, redis, and hibernate.","body":"I have the same error too. This error disabled me from doing hot deploy with spring-data, redis, and hibernate."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687150389,"creation_date":1686907294,"answer_id":76488757,"question_id":75958697,"body_markdown":"The issue is that in Hibernate 6, the hibernate object caching is not working. So you need to load the full object if it&#39;s `FetchType.Lazy` and you need Lazy object properties and `unproxy` the object before caching.\r\n\r\nTo unproxy an object use the `Hibernate.unproxy` method.\r\n**Updated code:**\r\n```Jave\r\n@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\r\n@Override\r\npublic Optional&lt;Config&gt; getByKey(String key) {\r\n    var config = confRepository.findByKey(key);\r\n    var entity = config.isPresent() ? Hibernate.unproxy(config.get(), Config.class) : null;\r\n    return Optional.ofNullable(entity);\r\n}\r\n```\r\n\r\nI had a similar issue after upgrading to Hibernate 6 in Spring MVC. By `unproxy` the hibernate object before saving it into the cache solved the issue. Also, with spring security session I need to use record/POJO class for authentication object.\r\n\r\nIf issue still persist then use record/POJO class to be stored in cache. Because mapping of different entity also adds hibernate classes to serialization.\r\n\r\n&gt; Hibernate 6: Never store hibernate objects to cache when multiple servers uses same cache.\r\n\r\nYou can use [RedisInsight](https://redis.com/redis-enterprise/redis-insight/) to browse data stored in redis and inspect to get more details.","title":"Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer","body":"<p>The issue is that in Hibernate 6, the hibernate object caching is not working. So you need to load the full object if it's <code>FetchType.Lazy</code> and you need Lazy object properties and <code>unproxy</code> the object before caching.</p>\n<p>To unproxy an object use the <code>Hibernate.unproxy</code> method.\n<strong>Updated code:</strong></p>\n<pre><code>@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\n@Override\npublic Optional&lt;Config&gt; getByKey(String key) {\n    var config = confRepository.findByKey(key);\n    var entity = config.isPresent() ? Hibernate.unproxy(config.get(), Config.class) : null;\n    return Optional.ofNullable(entity);\n}\n</code></pre>\n<p>I had a similar issue after upgrading to Hibernate 6 in Spring MVC. By <code>unproxy</code> the hibernate object before saving it into the cache solved the issue. Also, with spring security session I need to use record/POJO class for authentication object.</p>\n<p>If issue still persist then use record/POJO class to be stored in cache. Because mapping of different entity also adds hibernate classes to serialization.</p>\n<blockquote>\n<p>Hibernate 6: Never store hibernate objects to cache when multiple servers uses same cache.</p>\n</blockquote>\n<p>You can use <a href=\"https://redis.com/redis-enterprise/redis-insight/\" rel=\"nofollow noreferrer\">RedisInsight</a> to browse data stored in redis and inspect to get more details.</p>\n"}],"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687150389,"creation_date":1680872715,"question_id":75958697,"body_markdown":"My spring boot project uses `spring-boot-starter-data-redis` for caching on redis, Oracle database for persistent. It runs perfectly with current version 2.7.6. I&#39;ve just upgraded to 3.0.5. The source code does change pretty much but this configuration for redis stays the same:\r\n\r\n````java\r\n    @Bean\r\n    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n        return RedisCacheManager.builder(redisConnectionFactory)\r\n                .transactionAware()\r\n                .build();\r\n    }\r\n````\r\n\r\nHere is how I use `@Cacheable`\r\n\r\n````java\r\n    @Autowired\r\n    private ConfRepository confRepository;\r\n\r\n\t@Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\r\n\t@Override\r\n\tpublic Optional&lt;Config&gt; getByKey(String key) {\r\n\t\treturn confRepository.findByKey(key);\r\n\t}\r\n````\r\n\r\nI deploy my service with 2 instances. The problem is when a `key` is put to `Cacheable` in instance 1 cannot be deserialized by instance 2, i.e in above method, my first request to instance 1 to `getByKey` with the key `key1`, my second request to instance 2 also with the `key1` should hit the cache (get value from redis and return), but I got the stack trace:\r\n\r\n````java\r\norg.springframework.data.redis.serializer.SerializationException: Cannot deserialize\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\r\n\tat org.springframework.data.redis.serializer.DefaultRedisElementReader.read(DefaultRedisElementReader.java:46)\r\n\tat org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.read(RedisSerializationContext.java:272)\r\n\tat org.springframework.data.redis.cache.RedisCache.deserializeCacheValue(RedisCache.java:277)\r\n\tat org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:92)\r\n\tat org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58)\r\n\tat org.springframework.cache.transaction.TransactionAwareCacheDecorator.get(TransactionAwareCacheDecorator.java:80)\r\n\tat org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:571)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:536)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n\tat vn.com.tcbs.h2h.biz.service.impl.ConfigManagerServiceImpl$$SpringCGLIB$$0.getGroupRole(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy201.getGroupRole(Unknown Source)\r\n\r\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\r\n\t... 219 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Could not identify any active SessionFactory having UUID 0105e7c4-c59a-46a6-a86e-23a65dde6ed6\r\n\tat org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.retrieveMatchingSessionFactory(SerializableProxy.java:127)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.readResolve(SerializableProxy.java:113)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/java.io.ObjectStreamClass.invokeReadResolve(ObjectStreamClass.java:1190)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2266)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\r\n\tat java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2606)\r\n\tat java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2457)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2257)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\r\n\tat org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:71)\r\n\tat org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\r\n\t... 221 common frames omitted\r\n````\r\n\r\nCan anybody help me in this situation ?\r\n","title":"Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer","body":"<p>My spring boot project uses <code>spring-boot-starter-data-redis</code> for caching on redis, Oracle database for persistent. It runs perfectly with current version 2.7.6. I've just upgraded to 3.0.5. The source code does change pretty much but this configuration for redis stays the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {\n        return RedisCacheManager.builder(redisConnectionFactory)\n                .transactionAware()\n                .build();\n    }\n</code></pre>\n<p>Here is how I use <code>@Cacheable</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private ConfRepository confRepository;\n\n    @Cacheable(value = &quot;configCache&quot;, key = &quot;{#root.methodName, #key}&quot;)\n    @Override\n    public Optional&lt;Config&gt; getByKey(String key) {\n        return confRepository.findByKey(key);\n    }\n</code></pre>\n<p>I deploy my service with 2 instances. The problem is when a <code>key</code> is put to <code>Cacheable</code> in instance 1 cannot be deserialized by instance 2, i.e in above method, my first request to instance 1 to <code>getByKey</code> with the key <code>key1</code>, my second request to instance 2 also with the <code>key1</code> should hit the cache (get value from redis and return), but I got the stack trace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.data.redis.serializer.SerializationException: Cannot deserialize\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:84)\n    at org.springframework.data.redis.serializer.DefaultRedisElementReader.read(DefaultRedisElementReader.java:46)\n    at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.read(RedisSerializationContext.java:272)\n    at org.springframework.data.redis.cache.RedisCache.deserializeCacheValue(RedisCache.java:277)\n    at org.springframework.data.redis.cache.RedisCache.lookup(RedisCache.java:92)\n    at org.springframework.cache.support.AbstractValueAdaptingCache.get(AbstractValueAdaptingCache.java:58)\n    at org.springframework.cache.transaction.TransactionAwareCacheDecorator.get(TransactionAwareCacheDecorator.java:80)\n    at org.springframework.cache.interceptor.AbstractCacheInvoker.doGet(AbstractCacheInvoker.java:73)\n    at org.springframework.cache.interceptor.CacheAspectSupport.findInCaches(CacheAspectSupport.java:571)\n    at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:536)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n    at vn.com.tcbs.h2h.biz.service.impl.ConfigManagerServiceImpl$$SpringCGLIB$$0.getGroupRole(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211)\n    at jdk.proxy2/jdk.proxy2.$Proxy201.getGroupRole(Unknown Source)\n\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to deserialize payload. Is the byte array a result of corresponding serialization for DefaultDeserializer?\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:78)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:36)\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.deserialize(JdkSerializationRedisSerializer.java:82)\n    ... 219 common frames omitted\nCaused by: java.lang.IllegalStateException: Could not identify any active SessionFactory having UUID 0105e7c4-c59a-46a6-a86e-23a65dde6ed6\n    at org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.retrieveMatchingSessionFactory(SerializableProxy.java:127)\n    at org.hibernate.proxy.pojo.bytebuddy.SerializableProxy.readResolve(SerializableProxy.java:113)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/java.io.ObjectStreamClass.invokeReadResolve(ObjectStreamClass.java:1190)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2266)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2606)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2457)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2257)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1733)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\n    at org.springframework.core.serializer.DefaultDeserializer.deserialize(DefaultDeserializer.java:71)\n    at org.springframework.core.serializer.support.DeserializingConverter.convert(DeserializingConverter.java:73)\n    ... 221 common frames omitted\n</code></pre>\n<p>Can anybody help me in this situation ?</p>\n"},{"tags":["java","hashmap","subclass","extends"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1687146861,"post_id":76503503,"comment_id":134890884,"body_markdown":"in line Item basicHpPotion = new BasicHPPotion(); no data because you dont set data of properities","body":"in line Item basicHpPotion = new BasicHPPotion(); no data because you dont set data of properities"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687146893,"post_id":76503503,"comment_id":134890888,"body_markdown":"*&quot;I would like fit it into hashmap but i wouldn&#39;t let me do that.&quot;* - What do you mean by that?  Show us the code and the error messages.","body":"<i>&quot;I would like fit it into hashmap but i wouldn&#39;t let me do that.&quot;</i> - What do you mean by that?  Show us the code and the error messages."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1687147131,"post_id":76503503,"comment_id":134890906,"body_markdown":"Yea ... I spotted a number of errors and mistakes.  Another mistake is that since you don&#39;t override the `equals` and `hashCode` methods, hashmap keys will have identity semantics; e.g. all `Item` instances will be different as keys.","body":"Yea ... I spotted a number of errors and mistakes.  Another mistake is that since you don&#39;t override the <code>equals</code> and <code>hashCode</code> methods, hashmap keys will have identity semantics; e.g. all <code>Item</code> instances will be different as keys."},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687147538,"post_id":76503503,"comment_id":134890931,"body_markdown":"how to set properities..? I am not know how actual way to do. Any example can show me? Many Thanks:)","body":"how to set properities..? I am not know how actual way to do. Any example can show me? Many Thanks:)"},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687147648,"post_id":76503503,"comment_id":134890939,"body_markdown":"those error messages said syntax error&quot;Identifier&quot; to complete MethodHeaderName and &quot;SimpleName&quot; to complete QualifiedName","body":"those error messages said syntax error&quot;Identifier&quot; to complete MethodHeaderName and &quot;SimpleName&quot; to complete QualifiedName"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687148958,"post_id":76503503,"comment_id":134891044,"body_markdown":"Complete error message please ... and the precise code that triggered them.  They sound like simple Java compilation errors, not something to do with putting things into hashmaps.   But we need more information.","body":"Complete error message please ... and the precise code that triggered them.  They sound like simple Java compilation errors, not something to do with putting things into hashmaps.   But we need more information."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1687150661,"post_id":76503503,"comment_id":134891189,"body_markdown":"You cannot simple write statements into classes - statements like `slot.put(basicHpPotion,5);` are only allowed within code blocks (methods, constructors and (static) initializer blocks).","body":"You cannot simple write statements into classes - statements like <code>slot.put(basicHpPotion,5);</code> are only allowed within code blocks (methods, constructors and (static) initializer blocks)."},{"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"score":0,"creation_date":1687154157,"post_id":76503503,"comment_id":134891552,"body_markdown":"Syntax error on token &quot;.&quot;, @ expected after this token\nSyntax error on token &quot;,&quot;, / expected\nSyntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName\nSyntax error, insert &quot;)&quot; to complete MethodDeclaration","body":"Syntax error on token &quot;.&quot;, @ expected after this token Syntax error on token &quot;,&quot;, / expected Syntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName Syntax error, insert &quot;)&quot; to complete MethodDeclaration"}],"owner":{"account_id":28824460,"reputation":1,"user_id":22076184,"display_name":"KFA"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687150741,"answer_count":0,"score":0,"last_activity_date":1687147444,"creation_date":1687146303,"question_id":76503503,"body_markdown":"As mentioned in title, I have created few subclasses for basicHpPotion class under item and potion classes. I would like put it into hashmap but the system(red line underneath) do not let me do that. What&#39;s the problem? Shop.java is the main script to have a hashmap.\r\n\r\nItem.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class Item {\r\n    String name;\r\n    String type;\r\n\r\n    public Item() {};\r\n\r\n    public Item(String name, String type) {\r\n        this.name = name;\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nPotion.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class Potion extends Item {\r\n    int hpRecoverValue;\r\n\r\n    public Potion() {\r\n    };\r\n    public Potion(String name, String type, int hpRecoverValue) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.hpRecoverValue = hpRecoverValue;\r\n    }\r\n}\r\n```\r\n\r\nBasicHpPotion.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\npublic class BasicHPPotion extends Potion {\r\n    String name = &quot;Basic HP Potion&quot;;\r\n    String type = &quot;Potion&quot;;\r\n    int hpRecoverValue = 100;\r\n\r\n    BasicHPPotion() {\r\n    };\r\n}\r\n```\r\n\r\nShop.java\r\n\r\n```\r\npackage com.mainsystem;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class Shop {\r\n    HashMap&lt;Item, Integer&gt; slot = new HashMap&lt;&gt;();\r\n    Item basicHpPotion = new BasicHPPotion();\r\n    slot.put(basicHpPotion,5);\r\n}\r\n```\r\n\r\nI did try a different class to fit in but it still did not work.  I expect the item basicHpPotion can be fitted into the hashmap. :(","title":"Why I cannot put the subclass into hashmap","body":"<p>As mentioned in title, I have created few subclasses for basicHpPotion class under item and potion classes. I would like put it into hashmap but the system(red line underneath) do not let me do that. What's the problem? Shop.java is the main script to have a hashmap.</p>\n<p>Item.java</p>\n<pre><code>package com.mainsystem;\n\npublic class Item {\n    String name;\n    String type;\n\n    public Item() {};\n\n    public Item(String name, String type) {\n        this.name = name;\n        this.type = type;\n    }\n}\n</code></pre>\n<p>Potion.java</p>\n<pre><code>package com.mainsystem;\n\npublic class Potion extends Item {\n    int hpRecoverValue;\n\n    public Potion() {\n    };\n    public Potion(String name, String type, int hpRecoverValue) {\n        this.name = name;\n        this.type = type;\n        this.hpRecoverValue = hpRecoverValue;\n    }\n}\n</code></pre>\n<p>BasicHpPotion.java</p>\n<pre><code>package com.mainsystem;\n\npublic class BasicHPPotion extends Potion {\n    String name = &quot;Basic HP Potion&quot;;\n    String type = &quot;Potion&quot;;\n    int hpRecoverValue = 100;\n\n    BasicHPPotion() {\n    };\n}\n</code></pre>\n<p>Shop.java</p>\n<pre><code>package com.mainsystem;\n\nimport java.util.HashMap;\n\npublic class Shop {\n    HashMap&lt;Item, Integer&gt; slot = new HashMap&lt;&gt;();\n    Item basicHpPotion = new BasicHPPotion();\n    slot.put(basicHpPotion,5);\n}\n</code></pre>\n<p>I did try a different class to fit in but it still did not work.  I expect the item basicHpPotion can be fitted into the hashmap. :(</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633238188,"post_id":69422202,"comment_id":122703541,"body_markdown":"Java 8.  *&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;* - Source: https://www.minecraft.net/en-us/get-minecraft","body":"Java 8.  <i>&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;</i> - Source: <a href=\"https://www.minecraft.net/en-us/get-minecraft\" rel=\"nofollow noreferrer\">minecraft.net/en-us/get-minecraft</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687145739,"creation_date":1633239395,"answer_id":69422337,"question_id":69422202,"body_markdown":"&gt; Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?\r\n\r\nIt depends on your Minecraft version.\r\n\r\n&gt; *&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don&#39;t know whether you have Java 8, don&#39;t worry - our installers supply Minecraft with its own version of Java by default.&quot;*\r\n\r\nSource: https://minecraft.net/en-us/get-minecraft\r\n\r\n&gt; *&quot;Starting from Java Edition 1.17, Java 16 is required to run Java Edition. If the player does not know whether they have Java 16, the Minecraft launcher supplies Java Edition with its own version of Java by default.&quot;*\r\n&gt; \r\n&gt; *&quot;Starting from Java Edition 1.18, Java 17 is required to run Java Edition. If the player does not know whether they have Java 17, the Minecraft Launcher supplies Java Edition with its own version of Java by default.&quot;*\r\n\r\n\r\n\r\nSource: https://minecraft.fandom.com/wiki/Java_Edition#Software\r\n\r\nNotes:\r\n\r\n1. The above information is a direct quote from sources that *should be* reliable.  However, the quotes (and the sources) are liable to become out of date, so check the links for updates!\r\n\r\n2. While you can (technically) develop on a later version of Java than the Minecraft platform uses, you will need to *build* with that version or older as the **target** Java version.  A JVM will not run bytecodes with a more recent classfile version number.  You will get a classloader error.\r\n\r\n3. Beware of using preview features in your mods.  If you use them, then the platform has to be run with preview features enabled, or you will get classloader errors.\r\n\r\n------------------------------\r\n\r\n&gt; Oracle says that the latest JDK is 17.\r\n\r\nThe OpenJDK team have moved to a *release cadence* of a new release every 6 months.  Certain releases are designated LTS releases (8, 11, 17).  Other releases go *end of life* immediately on the release of following one.  Thus Java 16 is end of life ... and Java 21 (LTS) is due out later this year (2023).  \r\n\r\n&gt; ... how the hell are they chewing through version numbers like this, ugh.\r\n\r\nThey can&#39;t please everyone :-)\r\n","title":"Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?","body":"<blockquote>\n<p>Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?</p>\n</blockquote>\n<p>It depends on your Minecraft version.</p>\n<blockquote>\n<p><em>&quot;Starting from Minecraft 1.12, Java 8 will be required to run Minecraft. If you don't know whether you have Java 8, don't worry - our installers supply Minecraft with its own version of Java by default.&quot;</em></p>\n</blockquote>\n<p>Source: <a href=\"https://minecraft.net/en-us/get-minecraft\" rel=\"nofollow noreferrer\">https://minecraft.net/en-us/get-minecraft</a></p>\n<blockquote>\n<p><em>&quot;Starting from Java Edition 1.17, Java 16 is required to run Java Edition. If the player does not know whether they have Java 16, the Minecraft launcher supplies Java Edition with its own version of Java by default.&quot;</em></p>\n<p><em>&quot;Starting from Java Edition 1.18, Java 17 is required to run Java Edition. If the player does not know whether they have Java 17, the Minecraft Launcher supplies Java Edition with its own version of Java by default.&quot;</em></p>\n</blockquote>\n<p>Source: <a href=\"https://minecraft.fandom.com/wiki/Java_Edition#Software\" rel=\"nofollow noreferrer\">https://minecraft.fandom.com/wiki/Java_Edition#Software</a></p>\n<p>Notes:</p>\n<ol>\n<li><p>The above information is a direct quote from sources that <em>should be</em> reliable.  However, the quotes (and the sources) are liable to become out of date, so check the links for updates!</p>\n</li>\n<li><p>While you can (technically) develop on a later version of Java than the Minecraft platform uses, you will need to <em>build</em> with that version or older as the <strong>target</strong> Java version.  A JVM will not run bytecodes with a more recent classfile version number.  You will get a classloader error.</p>\n</li>\n<li><p>Beware of using preview features in your mods.  If you use them, then the platform has to be run with preview features enabled, or you will get classloader errors.</p>\n</li>\n</ol>\n<hr />\n<blockquote>\n<p>Oracle says that the latest JDK is 17.</p>\n</blockquote>\n<p>The OpenJDK team have moved to a <em>release cadence</em> of a new release every 6 months.  Certain releases are designated LTS releases (8, 11, 17).  Other releases go <em>end of life</em> immediately on the release of following one.  Thus Java 16 is end of life ... and Java 21 (LTS) is due out later this year (2023).</p>\n<blockquote>\n<p>... how the hell are they chewing through version numbers like this, ugh.</p>\n</blockquote>\n<p>They can't please everyone :-)</p>\n"}],"owner":{"account_id":187668,"reputation":5043,"user_id":425893,"accept_rate":64,"display_name":"John O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687145739,"creation_date":1633237279,"question_id":69422202,"body_markdown":"The current Minecraft version (and the one any of my mods would target) is 1.17.1. Forge recently released a version that matches this (you need Forge 1.17.1 for MC 1.17.1, etc).\r\n\r\nOracle says that the latest JDK is 17 (like, I&#39;ve only been away from Java for like 3 years... how the hell are they chewing through version numbers like this, ugh).\r\n\r\nI&#39;ve managed to dig through some forum posts that suggest that JDK 16 didn&#39;t work with earlier Forge versions, and I think that it holds true for later Forge versions (reflection was unavailable) and almost certainly for later JDK versions. But whether I could do work with JDK 15 or would need a still lower version, I&#39;m having trouble figuring out. I was hoping someone could spare me the next 2 weeks of forum posts and half-assed experiments. \r\n\r\nSo in summary, what is the maximum JDK version that will give me minimum trouble? (I&#39;ve got a minimum version from the IDE/extensions itself, and they don&#39;t seem especially generous).","title":"Which version of JDK do I need to write Minecraft mods for the current version of Minecraft and Forge?","body":"<p>The current Minecraft version (and the one any of my mods would target) is 1.17.1. Forge recently released a version that matches this (you need Forge 1.17.1 for MC 1.17.1, etc).</p>\n<p>Oracle says that the latest JDK is 17 (like, I've only been away from Java for like 3 years... how the hell are they chewing through version numbers like this, ugh).</p>\n<p>I've managed to dig through some forum posts that suggest that JDK 16 didn't work with earlier Forge versions, and I think that it holds true for later Forge versions (reflection was unavailable) and almost certainly for later JDK versions. But whether I could do work with JDK 15 or would need a still lower version, I'm having trouble figuring out. I was hoping someone could spare me the next 2 weeks of forum posts and half-assed experiments.</p>\n<p>So in summary, what is the maximum JDK version that will give me minimum trouble? (I've got a minimum version from the IDE/extensions itself, and they don't seem especially generous).</p>\n"},{"tags":["java","android","sms","android-handler","mms"],"owner":{"account_id":25640788,"reputation":1,"user_id":19513283,"display_name":"Davidawesome02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687145705,"creation_date":1687145705,"question_id":76503475,"body_markdown":"As the default sms application, I can easily read all messages that come in, then I found on the forms how to write the sms log, but my sent sms, from my app or I assume another app I still cant read, and therefore cannot write to the outbox uri.\r\n\r\nAny Ideas how I can do this and properly implement this with a normal sms app?\r\n\r\nI don&#39;t need mms support to to really deal with those, but if anyone knows anything on top of this also, help would be appreciated!\r\n\r\nIf you want any of my code let me know! (java btw)\r\n\r\nandroid studio config:\r\ncompileSdk 31\r\nminSdk 28\r\ntargetSdk 31\r\nsourceCompatibility JavaVersion.VERSION_1_8\r\n\r\nI have tried using the listener on \r\n\r\n```\r\n&lt;service\r\n            android:name=&quot;.test.sms_test_owner&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\n\r\n\r\n\r\nand\r\n```\r\n&lt;activity android:name=&quot;.test.sms_test_owner$test&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nbut dont get any callbacks when my app sends a message; is this intended and works for other apps, or how do I deal with both cases?\r\n\r\nmessages sent with:\r\n```\r\nSmsManager smsManager = SmsManager.getDefault();\r\nsmsManager.sendTextMessage(smsNumberToSend, null, smsTextToSend, null, null);\r\n```\r\n\r\nfor example from another app","title":"Android sms application read sent sms","body":"<p>As the default sms application, I can easily read all messages that come in, then I found on the forms how to write the sms log, but my sent sms, from my app or I assume another app I still cant read, and therefore cannot write to the outbox uri.</p>\n<p>Any Ideas how I can do this and properly implement this with a normal sms app?</p>\n<p>I don't need mms support to to really deal with those, but if anyone knows anything on top of this also, help would be appreciated!</p>\n<p>If you want any of my code let me know! (java btw)</p>\n<p>android studio config:\ncompileSdk 31\nminSdk 28\ntargetSdk 31\nsourceCompatibility JavaVersion.VERSION_1_8</p>\n<p>I have tried using the listener on</p>\n<pre><code>&lt;service\n            android:name=&quot;.test.sms_test_owner&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;activity android:name=&quot;.test.sms_test_owner$test&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>but dont get any callbacks when my app sends a message; is this intended and works for other apps, or how do I deal with both cases?</p>\n<p>messages sent with:</p>\n<pre><code>SmsManager smsManager = SmsManager.getDefault();\nsmsManager.sendTextMessage(smsNumberToSend, null, smsTextToSend, null, null);\n</code></pre>\n<p>for example from another app</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687144142,"post_id":76503204,"comment_id":134890703,"body_markdown":"Step through your `add` method with the debugger. Think about what the name `head` actually refers to.","body":"Step through your <code>add</code> method with the debugger. Think about what the name <code>head</code> actually refers to."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687144209,"post_id":76503204,"comment_id":134890709,"body_markdown":"And of course https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"And of course <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":10900695,"reputation":53,"user_id":8013026,"display_name":"demsee"},"score":0,"creation_date":1687148820,"post_id":76503204,"comment_id":134891031,"body_markdown":"@tgdavies thanks","body":"@tgdavies thanks"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687144054,"post_id":76503272,"comment_id":134890696,"body_markdown":"I think the question refers to the OP&#39;s own implementation.","body":"I think the question refers to the OP&#39;s own implementation."},{"owner":{"account_id":10900695,"reputation":53,"user_id":8013026,"display_name":"demsee"},"score":0,"creation_date":1687144357,"post_id":76503272,"comment_id":134890717,"body_markdown":"yes, it&#39;s true, thanks","body":"yes, it&#39;s true, thanks"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687145365,"post_id":76503272,"comment_id":134890780,"body_markdown":"@tgdavies, thanks, I&#39;ve updated the answer.","body":"@tgdavies, thanks, I&#39;ve updated the answer."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687145392,"post_id":76503272,"comment_id":134890781,"body_markdown":"@demsee, I misread that, the answer is relevant now.","body":"@demsee, I misread that, the answer is relevant now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687150712,"post_id":76503272,"comment_id":134891196,"body_markdown":"But the actual problem, I think, was that the OP didn&#39;t notice that their `head` parameter hid their `head` field.","body":"But the actual problem, I think, was that the OP didn&#39;t notice that their <code>head</code> parameter hid their <code>head</code> field."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1687145350,"creation_date":1687141363,"answer_id":76503272,"question_id":76503204,"body_markdown":"Your _add_ method, or more correctly, _addNode_ method, is not doing anything to the instance.\r\n\r\nIt is effectively assigning the parameter _head_ to, the _next_ value of parameter, _node_.\r\n\r\n```java\r\nvoid addNode(Node node, Node head) {\r\n    node.next = head;\r\n}\r\n```\r\n\r\nThe _push_ method is correct, it will stack the object before the instance&#39;s _head_ node.\r\n\r\n\r\nYou can remove the the _addNode_ method, and for the _add_ method, it only requires 1 parameter.\r\n\r\nYou&#39;ll want to locate the last node in the structure, and then append the parameter to it.\r\n\r\n```java\r\nvoid add(Node node) {\r\n    Node lastNode = this.head;\r\n    while (lastNode.next != null) lastNode = lastNode.next;\r\n    lastNode.next = node;\r\n}\r\n```\r\n","title":"What is the difference between two methods of creation linked list in java?","body":"<p>Your <em>add</em> method, or more correctly, <em>addNode</em> method, is not doing anything to the instance.</p>\n<p>It is effectively assigning the parameter <em>head</em> to, the <em>next</em> value of parameter, <em>node</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void addNode(Node node, Node head) {\n    node.next = head;\n}\n</code></pre>\n<p>The <em>push</em> method is correct, it will stack the object before the instance's <em>head</em> node.</p>\n<p>You can remove the the <em>addNode</em> method, and for the <em>add</em> method, it only requires 1 parameter.</p>\n<p>You'll want to locate the last node in the structure, and then append the parameter to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void add(Node node) {\n    Node lastNode = this.head;\n    while (lastNode.next != null) lastNode = lastNode.next;\n    lastNode.next = node;\n}\n</code></pre>\n"}],"owner":{"account_id":10900695,"reputation":53,"user_id":8013026,"display_name":"demsee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76503272,"answer_count":1,"score":-1,"last_activity_date":1687145350,"creation_date":1687139833,"question_id":76503204,"body_markdown":"what the difference between methods *push()* and *add()* since this ones do the same stuff - push the value into linked list via constructor, but *add()* doesn&#39;t add the value\r\n \r\n\r\n```\r\npublic class LinkedList {\r\n \r\n    static class Node {\r\n        int value;\r\n        Node next;\r\n        Node(int value){\r\n            this.value = value;\r\n            next = null;      }\r\n    }; \r\n    Node head;\r\n    Node next;     \r\n    void push(Node node){\r\n\t\tNode newnode = node;\r\n\t\tnewnode.next = head;\r\n\t\thead = newnode;\t\t}     \r\n    void add(Node node, Node head){addNode(node,head);} \r\n    void addNode(Node node, Node head){\t\t\r\n\t\tNode newnode = node;\r\n\t\tnewnode.next = head;\r\n\t\thead = newnode;\t\t}     \r\n    /* Function to print linked list */\r\n    void printlist(Node head){                 \r\n          while(head != null){\r\n\t\t\t  System.out.println(head.value + &quot; &quot;);\r\n\t\t\t  head = head.next; }    \r\n\t\t\t  }\r\n \r\n    // Driver program to test above functions\r\n    public static void main(String args[])\r\n    {\r\n        LinkedList list = new LinkedList();\r\n        list.head = null;\r\n        list.head = new Node(5);\r\n        list.push(new Node(6));\r\n        list.add(new Node(3), list.head); \r\n        list.push(new Node(7));        \r\n        list.printlist(list.head);            \r\n    }\r\n}\r\n\r\n\r\n```","title":"What is the difference between two methods of creation linked list in java?","body":"<p>what the difference between methods <em>push()</em> and <em>add()</em> since this ones do the same stuff - push the value into linked list via constructor, but <em>add()</em> doesn't add the value</p>\n<pre><code>public class LinkedList {\n \n    static class Node {\n        int value;\n        Node next;\n        Node(int value){\n            this.value = value;\n            next = null;      }\n    }; \n    Node head;\n    Node next;     \n    void push(Node node){\n        Node newnode = node;\n        newnode.next = head;\n        head = newnode;     }     \n    void add(Node node, Node head){addNode(node,head);} \n    void addNode(Node node, Node head){     \n        Node newnode = node;\n        newnode.next = head;\n        head = newnode;     }     \n    /* Function to print linked list */\n    void printlist(Node head){                 \n          while(head != null){\n              System.out.println(head.value + &quot; &quot;);\n              head = head.next; }    \n              }\n \n    // Driver program to test above functions\n    public static void main(String args[])\n    {\n        LinkedList list = new LinkedList();\n        list.head = null;\n        list.head = new Node(5);\n        list.push(new Node(6));\n        list.add(new Node(3), list.head); \n        list.push(new Node(7));        \n        list.printlist(list.head);            \n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","pdf","grails","groovy","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1371537772,"post_id":17160969,"comment_id":24845839,"body_markdown":"As your question is tagged `java,` would a pure Java solution help? Furthermore, what do you want to watermark with? An image? Some text? Some page of another PDF? In the latter case, a Java solution making use of the [iText](http://itextpdf.com) library is shown in the example [StampStationery](http://itextpdf.com/examples/iia.php?id=119).","body":"As your question is tagged <code>java,</code> would a pure Java solution help? Furthermore, what do you want to watermark with? An image? Some text? Some page of another PDF? In the latter case, a Java solution making use of the <a href=\"http://itextpdf.com\" rel=\"nofollow noreferrer\">iText</a> library is shown in the example <a href=\"http://itextpdf.com/examples/iia.php?id=119\" rel=\"nofollow noreferrer\">StampStationery</a>."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371549291,"post_id":17160969,"comment_id":24851735,"body_markdown":"Grails support Java and hence pure Java is also acceptable but please keep in mind that I am using rendering plug-in to generate PDF.","body":"Grails support Java and hence pure Java is also acceptable but please keep in mind that I am using rendering plug-in to generate PDF."}],"answers":[{"comments":[{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371549956,"post_id":17162063,"comment_id":24852105,"body_markdown":"I have tried your solution but it is giving me the error\n\n&quot;ERROR errors.GrailsExceptionResolver  - SAXParseException occurred when processing request: The markup in the document following the root element must be well-formed.. Stacktrace follows:\nMessage: The markup in the document following the root element must be well-formed.\n    Line | Method\n-&gt;&gt; 1231 | parse in com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser&quot;","body":"I have tried your solution but it is giving me the error  &quot;ERROR errors.GrailsExceptionResolver  - SAXParseException occurred when processing request: The markup in the document following the root element must be well-formed.. Stacktrace follows: Message: The markup in the document following the root element must be well-formed.     Line | Method -&gt;&gt; 1231 | parse in com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser&zwnj;&#8203;&quot;"},{"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"score":0,"creation_date":1371550541,"post_id":17162063,"comment_id":24852460,"body_markdown":"Did you already rendered a pdf successfully (without watermark)? The error message says that you have a not well-formed xml file. So check your gsp to guarantee a well-formed xml output.","body":"Did you already rendered a pdf successfully (without watermark)? The error message says that you have a not well-formed xml file. So check your gsp to guarantee a well-formed xml output."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371553331,"post_id":17162063,"comment_id":24854009,"body_markdown":"Yes without above given style pdf is generated successfully.","body":"Yes without above given style pdf is generated successfully."},{"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"score":0,"creation_date":1371555098,"post_id":17162063,"comment_id":24855047,"body_markdown":"The @page property works for me in my grails 2.1.0 app using plugins.rendering=0.4.3. Please try it with a very basic version and show us the code if this version is not working.","body":"The @page property works for me in my grails 2.1.0 app using plugins.rendering=0.4.3. Please try it with a very basic version and show us the code if this version is not working."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371644900,"post_id":17162063,"comment_id":24895993,"body_markdown":"I am using grails 2.2.0 and plugins.rendering=0.4.3. \nMay be my syntax is wrong.\nPlease see my edited question.","body":"I am using grails 2.2.0 and plugins.rendering=0.4.3.  May be my syntax is wrong. Please see my edited question."},{"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"score":0,"creation_date":1371645436,"post_id":17162063,"comment_id":24896380,"body_markdown":"Is this your whole file? I would add the default html structure: html, head, body! Try to implement a very basic example to find out what is causing the SAXParseException ...","body":"Is this your whole file? I would add the default html structure: html, head, body! Try to implement a very basic example to find out what is causing the SAXParseException ..."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371646005,"post_id":17162063,"comment_id":24896786,"body_markdown":"I am converting template to pdf. Yes above is my whole file with some dynamic content in the table. The template is also rendered in some gsp view to show document in the browser as well and hence I cannot add head, body in the template.","body":"I am converting template to pdf. Yes above is my whole file with some dynamic content in the table. The template is also rendered in some gsp view to show document in the browser as well and hence I cannot add head, body in the template."},{"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"score":0,"creation_date":1371646412,"post_id":17162063,"comment_id":24897088,"body_markdown":"Try to add a new view with a correct structure, include your template and use this to generate your pdf.","body":"Try to add a new view with a correct structure, include your template and use this to generate your pdf."},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371650153,"post_id":17162063,"comment_id":24899870,"body_markdown":"Yes you are right, with head body it works but with little modification.\n&lt;div style=&quot;position: running(footer); text-align: right&quot;&gt;Your Watermark&lt;/div&gt;","body":"Yes you are right, with head body it works but with little modification. &lt;div style=&quot;position: running(footer); text-align: right&quot;&gt;Your Watermark&lt;/div&gt;"},{"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"score":0,"creation_date":1371650285,"post_id":17162063,"comment_id":24899947,"body_markdown":"Please try it and if it runs then modify your answer so that I can accept it. Thanks..,.","body":"Please try it and if it runs then modify your answer so that I can accept it. Thanks..,."},{"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"score":0,"creation_date":1371652767,"post_id":17162063,"comment_id":24901621,"body_markdown":"Ahhh - I forgot the position part of the footer div - sorry!","body":"Ahhh - I forgot the position part of the footer div - sorry!"},{"owner":{"account_id":240809,"reputation":3247,"user_id":511250,"accept_rate":57,"display_name":"Todd Sharp"},"score":0,"creation_date":1453903696,"post_id":17162063,"comment_id":57803373,"body_markdown":"For the love of everything don&#39;t make the same mistake I did - you must use &lt;!DOCTYPE html&gt;.  If you use anything else, even an xhtml declaration, it won&#39;t work!!","body":"For the love of everything don&#39;t make the same mistake I did - you must use &lt;!DOCTYPE html&gt;.  If you use anything else, even an xhtml declaration, it won&#39;t work!!"}],"tags":[],"owner":{"account_id":1274907,"reputation":4667,"user_id":1230366,"accept_rate":86,"display_name":"aiolos"},"comment_count":12,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1371652715,"creation_date":1371537432,"answer_id":17162063,"question_id":17160969,"body_markdown":"Using the rendering plugin you have access to [flying saucer][1] and its support f&#252;r `@page` rules.\r\n\r\nWith this you could define [running elements][2] as defined in the CSS 3 specification.\r\n\r\nSo you could define a footer element within your gsp:\r\n\r\n    &lt;body&gt;\r\n        ...\r\n        &lt;div id=&quot;footer&quot;&gt;Your Watermark&lt;/div&gt;\r\n        ...\r\n    &lt;/body&gt;\r\n\r\nAnd style it like this:\r\n\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        @page {\r\n            size: 210mm 297mm;\r\n            @bottom-right {content: element(footer)};\r\n            ...\r\n        }\r\n        \r\n        #footer{\r\n            position: running(footer);\r\n        }\r\n\r\n        ...\r\n    &lt;/style&gt;\r\n\r\n\r\n  [1]: http://code.google.com/p/flying-saucer/\r\n  [2]: http://www.w3.org/TR/2007/WD-css3-gcpm-20070504/#running1","title":"Attach watermark image in each page of PDF","body":"<p>Using the rendering plugin you have access to <a href=\"http://code.google.com/p/flying-saucer/\" rel=\"noreferrer\">flying saucer</a> and its support fr <code>@page</code> rules.</p>\n\n<p>With this you could define <a href=\"http://www.w3.org/TR/2007/WD-css3-gcpm-20070504/#running1\" rel=\"noreferrer\">running elements</a> as defined in the CSS 3 specification.</p>\n\n<p>So you could define a footer element within your gsp:</p>\n\n<pre><code>&lt;body&gt;\n    ...\n    &lt;div id=\"footer\"&gt;Your Watermark&lt;/div&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>And style it like this:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    @page {\n        size: 210mm 297mm;\n        @bottom-right {content: element(footer)};\n        ...\n    }\n\n    #footer{\n        position: running(footer);\n    }\n\n    ...\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17162063,"answer_count":1,"score":3,"last_activity_date":1687145034,"creation_date":1371532345,"question_id":17160969,"body_markdown":"In my grails project I am using grails rendering plug-in to convert a GSP into PDF. PDF have 3 to 5 pages.\r\n\r\nNow I need to attach a watermark as bottom right of each page of the PDF. \r\n\r\nI have no idea how can I achieve this. Any help highly appreciated.\r\n\r\n**EDIT..............**\r\n\r\nMy gsp which is used to generate pdf is a template.\r\n\r\nI am using grails 2.2.0 and plugins.rendering=0.4.3.\r\n\r\nBelow is my code..,.\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        @page {\r\n            size: 210mm 297mm;\r\n            @bottom-right {content: element(footer)}\r\n        }\r\n    &lt;/style&gt;\r\n    &lt;table border=&quot;0&quot; align=&quot;center&quot; cellpadding=&quot;2&quot; cellspacing=&quot;2&quot;&gt;\r\n    ...\r\n    &lt;/table&gt;","title":"Attach watermark image in each page of PDF","body":"<p>In my grails project I am using grails rendering plug-in to convert a GSP into PDF. PDF have 3 to 5 pages.</p>\n\n<p>Now I need to attach a watermark as bottom right of each page of the PDF. </p>\n\n<p>I have no idea how can I achieve this. Any help highly appreciated.</p>\n\n<p><strong>EDIT..............</strong></p>\n\n<p>My gsp which is used to generate pdf is a template.</p>\n\n<p>I am using grails 2.2.0 and plugins.rendering=0.4.3.</p>\n\n<p>Below is my code..,.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;style type=\"text/css\"&gt;\n    @page {\n        size: 210mm 297mm;\n        @bottom-right {content: element(footer)}\n    }\n&lt;/style&gt;\n&lt;table border=\"0\" align=\"center\" cellpadding=\"2\" cellspacing=\"2\"&gt;\n...\n&lt;/table&gt;\n</code></pre>\n"},{"tags":["java","jar","java-io","serviceloader"],"answers":[{"comments":[{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1687173606,"post_id":76503426,"comment_id":134895247,"body_markdown":"Thank you for the detailed answer, so I guess that whether it works or not may depend on the JVM the application is run. I understand that the correct approach is to just use the ServiceLoader, but for context and curiosity I am having a problem with ServiceLoader not being able to load anything on Apache-Flink Task Manager nodes, I am trying to find out why, and meanwhile exploring a quick &quot;hack&quot; as you said with reflection.","body":"Thank you for the detailed answer, so I guess that whether it works or not may depend on the JVM the application is run. I understand that the correct approach is to just use the ServiceLoader, but for context and curiosity I am having a problem with ServiceLoader not being able to load anything on Apache-Flink Task Manager nodes, I am trying to find out why, and meanwhile exploring a quick &quot;hack&quot; as you said with reflection."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1687218412,"post_id":76503426,"comment_id":134902994,"body_markdown":"`System.out.println(SomeClass.class.getResource(&quot;SomeClass.class&quot;))`, for any class, will print a string that generally tells you __exactly__ where the class is being loaded from. You can trivially inspect that thing&#39;s `META-INF/services` directory.","body":"<code>System.out.println(SomeClass.class.getResource(&quot;SomeClass.cl&zwnj;&#8203;ass&quot;))</code>, for any class, will print a string that generally tells you <b>exactly</b> where the class is being loaded from. You can trivially inspect that thing&#39;s <code>META-INF&#47;services</code> directory."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687144941,"creation_date":1687144941,"answer_id":76503426,"question_id":76503288,"body_markdown":"&gt; `classLoader.getResources(&quot;META-INF/services&quot;);`\r\n\r\nThis does not work. classloaders don&#39;t &quot;do&quot; directories, nor do they &quot;do&quot; a &quot;list&quot; command. This is __why__ `META-INF/services` exists in the first place! Instead of &#39;give me a list of e.g. all class files on the classpath&#39; which is simply not an abstraction offered by classloaders, you __do__ have the operation &quot;give me all variants of resource X, i.e. if that resource exists more than once I want them all&quot;, and that is used by SPI (`META-INF/services`): Compiled code contains a well-known file name that lists class names. This solves the &#39;cannot run list commands&#39; dilemma: There is no need to list anything, just get the services file for the interface you are interested in, and then load each class listed in that file.\r\n\r\nThis situation is ordinarily fixed by using SPI. You want some sort of bizarro meta-SPI where you want a list of all SPI services for which some file exists. This simply isn&#39;t a thing. You can&#39;t do what you want.\r\n\r\nYou COULD hack it - determine which jars and dirs-on-disk are part of the classpath and scan those. This requires a ton of code, you need to ask for a well known resource (not a dir, an actual file), `toString()` the URL you get, and then tear that to pieces to know what to do. This doesn&#39;t fully fit the rules - a classloader doesn&#39;t _have_ to be jar/disk based at all, it could generate resources on the fly, query them from a network, or load them from a database. Given that it&#39;s a pluggable architecture and plugins don&#39;t (and cannot) implement a &quot;list&quot; command, such hacks are incomplete.\r\n\r\nAnd thus, not a good idea.\r\n\r\nWhatever made you think: &quot;I know! I&#39;ll just list all files in the `META-INF/services` directory!&quot; - that was the wrong answer to whatever question you had that led you to try that answer.\r\n\r\nNote that `.getResource(&quot;META-INF/services&quot;)` does sometimes work. But the specs do not guarantee it, and, indeed, as you found, on most platform/classpath-source combinations it doesn&#39;t. The &#39;bug&#39; is that it sometimes works at all, it&#39;s not really supposed to (the spec doesn&#39;t define that it should work. It doesn&#39;t exactly demand that it never does either).\r\n","title":"Opening service declaration file inside a Jar","body":"<blockquote>\n<p><code>classLoader.getResources(&quot;META-INF/services&quot;);</code></p>\n</blockquote>\n<p>This does not work. classloaders don't &quot;do&quot; directories, nor do they &quot;do&quot; a &quot;list&quot; command. This is <strong>why</strong> <code>META-INF/services</code> exists in the first place! Instead of 'give me a list of e.g. all class files on the classpath' which is simply not an abstraction offered by classloaders, you <strong>do</strong> have the operation &quot;give me all variants of resource X, i.e. if that resource exists more than once I want them all&quot;, and that is used by SPI (<code>META-INF/services</code>): Compiled code contains a well-known file name that lists class names. This solves the 'cannot run list commands' dilemma: There is no need to list anything, just get the services file for the interface you are interested in, and then load each class listed in that file.</p>\n<p>This situation is ordinarily fixed by using SPI. You want some sort of bizarro meta-SPI where you want a list of all SPI services for which some file exists. This simply isn't a thing. You can't do what you want.</p>\n<p>You COULD hack it - determine which jars and dirs-on-disk are part of the classpath and scan those. This requires a ton of code, you need to ask for a well known resource (not a dir, an actual file), <code>toString()</code> the URL you get, and then tear that to pieces to know what to do. This doesn't fully fit the rules - a classloader doesn't <em>have</em> to be jar/disk based at all, it could generate resources on the fly, query them from a network, or load them from a database. Given that it's a pluggable architecture and plugins don't (and cannot) implement a &quot;list&quot; command, such hacks are incomplete.</p>\n<p>And thus, not a good idea.</p>\n<p>Whatever made you think: &quot;I know! I'll just list all files in the <code>META-INF/services</code> directory!&quot; - that was the wrong answer to whatever question you had that led you to try that answer.</p>\n<p>Note that <code>.getResource(&quot;META-INF/services&quot;)</code> does sometimes work. But the specs do not guarantee it, and, indeed, as you found, on most platform/classpath-source combinations it doesn't. The 'bug' is that it sometimes works at all, it's not really supposed to (the spec doesn't define that it should work. It doesn't exactly demand that it never does either).</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503426,"answer_count":1,"score":0,"last_activity_date":1687144941,"creation_date":1687141779,"question_id":76503288,"body_markdown":"```\r\nList&lt;URL&gt; resources = new ArrayList&lt;&gt;();\r\ntry {\r\nClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\r\nEnumeration&lt;URL&gt; importedResources = classLoader.getResources(&quot;META-INF/services&quot;);\r\nwhile (importedResources.hasMoreElements()) {\r\n    resources.add(importedResources.nextElement());\r\n}\r\n\r\nMap&lt;String, String&gt; fileContents = Maps.newHashMap();\r\n\r\nfor (URL resource : resources) {\r\n    InputStream stream = classLoader.getResourceAsStream(resource.getFile());\r\n    Properties props = new Properties(); // for debug\r\n    props.load(stream); // for debug\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.openStream()));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) { // Line is always null except for the declarations in my own project\r\n        String fileName = line;\r\n        if (!fileName.endsWith(&quot;/&quot;)) {\r\n            URL fileUrl = new URL(resource + &quot;\\\\&quot; + fileName);\r\n            BufferedReader fileReader = new BufferedReader(new InputStreamReader(fileUrl.openStream()));\r\n            StringBuilder content = new StringBuilder();\r\n            String fileLine;\r\n            while ((fileLine = fileReader.readLine()) != null) {\r\n                content.append(fileLine);\r\n            }\r\n            fileReader.close();\r\n            fileContents.put(fileName, content.toString());\r\n        }\r\n    }\r\n}\r\nSystem.out.println(fileContents);\r\n\r\n} catch (IOException e) {\r\nthrow new RuntimeException(e);\r\n}\r\n```\r\n\r\nI have been trying to read the service declaration files in my project (then saving them as a Map with Interface name as key and provider names as value), including the ones from imported Jars, but got stuck at reading files from inside JARS.\r\nRhe URL resources will load correctly and importedResources does contain the URI to the files but when trying to readLine it will return null.\r\n\r\nProject is Maven,\r\nURLs look something like this:\r\n```\r\njar:file:/C:/Users/xxx/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar!/META-INF/services\r\n```\r\n\r\nAny suggestions? or is there a different approach instead?\r\n","title":"Opening service declaration file inside a Jar","body":"<pre><code>List&lt;URL&gt; resources = new ArrayList&lt;&gt;();\ntry {\nClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n\nEnumeration&lt;URL&gt; importedResources = classLoader.getResources(&quot;META-INF/services&quot;);\nwhile (importedResources.hasMoreElements()) {\n    resources.add(importedResources.nextElement());\n}\n\nMap&lt;String, String&gt; fileContents = Maps.newHashMap();\n\nfor (URL resource : resources) {\n    InputStream stream = classLoader.getResourceAsStream(resource.getFile());\n    Properties props = new Properties(); // for debug\n    props.load(stream); // for debug\n    BufferedReader reader = new BufferedReader(new InputStreamReader(resource.openStream()));\n    String line;\n    while ((line = reader.readLine()) != null) { // Line is always null except for the declarations in my own project\n        String fileName = line;\n        if (!fileName.endsWith(&quot;/&quot;)) {\n            URL fileUrl = new URL(resource + &quot;\\\\&quot; + fileName);\n            BufferedReader fileReader = new BufferedReader(new InputStreamReader(fileUrl.openStream()));\n            StringBuilder content = new StringBuilder();\n            String fileLine;\n            while ((fileLine = fileReader.readLine()) != null) {\n                content.append(fileLine);\n            }\n            fileReader.close();\n            fileContents.put(fileName, content.toString());\n        }\n    }\n}\nSystem.out.println(fileContents);\n\n} catch (IOException e) {\nthrow new RuntimeException(e);\n}\n</code></pre>\n<p>I have been trying to read the service declaration files in my project (then saving them as a Map with Interface name as key and provider names as value), including the ones from imported Jars, but got stuck at reading files from inside JARS.\nRhe URL resources will load correctly and importedResources does contain the URI to the files but when trying to readLine it will return null.</p>\n<p>Project is Maven,\nURLs look something like this:</p>\n<pre><code>jar:file:/C:/Users/xxx/.m2/repository/org/glassfish/hk2/hk2-locator/2.5.0-b42/hk2-locator-2.5.0-b42.jar!/META-INF/services\n</code></pre>\n<p>Any suggestions? or is there a different approach instead?</p>\n"},{"tags":["java","encoding","utf-8","file-writing","cp1252"],"comments":[{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687138761,"post_id":76503137,"comment_id":134890310,"body_markdown":"It behaves exactly the same way whether I use the java.io name or the java.nio name (for both encodings).","body":"It behaves exactly the same way whether I use the java.io name or the java.nio name (for both encodings)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687138906,"post_id":76503137,"comment_id":134890320,"body_markdown":"What are you using the read the data, can you add that code?","body":"What are you using the read the data, can you add that code?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1687139109,"post_id":76503137,"comment_id":134890332,"body_markdown":"What is `this` and please show that class&#39;s `toString()` method.","body":"What is <code>this</code> and please show that class&#39;s <code>toString()</code> method."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139148,"post_id":76503137,"comment_id":134890337,"body_markdown":"@Reilas I&#39;ve updated the question with that info","body":"@Reilas I&#39;ve updated the question with that info"},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139266,"post_id":76503137,"comment_id":134890343,"body_markdown":"@PresidentJamesK.Polk The `this` is a class representing a custom data structure. Its toString() method serializes it and returns it as a String.","body":"@PresidentJamesK.Polk The <code>this</code> is a class representing a custom data structure. Its toString() method serializes it and returns it as a String."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687139365,"post_id":76503137,"comment_id":134890350,"body_markdown":"@theolaa, have a look at this [question and answer](https://stackoverflow.com/questions/36910513/js-java-writing-file-using-outputstreamwriter-and-utf-8-parameter-result-in-an).  It looks like _Notepad++_ might be relaying the incorrect encoding.","body":"@theolaa, have a look at this <a href=\"https://stackoverflow.com/questions/36910513/js-java-writing-file-using-outputstreamwriter-and-utf-8-parameter-result-in-an\">question and answer</a>.  It looks like <i>Notepad++</i> might be relaying the incorrect encoding."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1687139414,"post_id":76503137,"comment_id":134890355,"body_markdown":"Yes, I understand that, but perhaps the bug is in your `toString()` method.","body":"Yes, I understand that, but perhaps the bug is in your <code>toString()</code> method."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139603,"post_id":76503137,"comment_id":134890368,"body_markdown":"@Reilas Intriguing. The original file is reported by Notepad++ as ANSI, but the file being output is reported as UTF-8. I wonder what could cause the discrepancy if it is simply a matter of Notepad++ guessing incorrectly.","body":"@Reilas Intriguing. The original file is reported by Notepad++ as ANSI, but the file being output is reported as UTF-8. I wonder what could cause the discrepancy if it is simply a matter of Notepad++ guessing incorrectly."},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687139953,"post_id":76503137,"comment_id":134890397,"body_markdown":"@PresidentJamesK.Polk\ntoString() simply calls the following method on the root node of the data structure.\nHere is a formatted screenshot: https://imgur.com/a/NZH2GTH\nHere is a pastebin of the text: https://pastebin.com/kHMXM827","body":"@PresidentJamesK.Polk toString() simply calls the following method on the root node of the data structure. Here is a formatted screenshot: <a href=\"https://imgur.com/a/NZH2GTH\" rel=\"nofollow noreferrer\">imgur.com/a/NZH2GTH</a> Here is a pastebin of the text: <a href=\"https://pastebin.com/kHMXM827\" rel=\"nofollow noreferrer\">pastebin.com/kHMXM827</a>"},{"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"score":0,"creation_date":1687140602,"post_id":76503137,"comment_id":134890452,"body_markdown":"@Reilas Unfortunately it seems that the output is indeed UTF-8, because if I change Notepad++&#39;s encode setting to ANSI (not converting the file, just viewing it while assuming a different encoding), it turns the special characters gibberish. Same for viewing it as Cp1252 directly rather than ANSI.","body":"@Reilas Unfortunately it seems that the output is indeed UTF-8, because if I change Notepad++&#39;s encode setting to ANSI (not converting the file, just viewing it while assuming a different encoding), it turns the special characters gibberish. Same for viewing it as Cp1252 directly rather than ANSI."}],"answers":[{"tags":[],"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687143057,"creation_date":1687143057,"answer_id":76503343,"question_id":76503137,"body_markdown":"Well, I&#39;m not 100% sure how this works but I changed my write statement to the following\r\n```lang-java\r\nwriter.write(new String(this.toString().getBytes(Charset.forName(CHARACTER_SET))));\r\n```\r\nand now it works.\r\n\r\nI *think* what&#39;s happening is that file contents were being loaded correctly, but then re-encoded by Java&#39;s internal String format. In order to have it write the file in the format I wanted, I had to convert the text from Java&#39;s format into Cp1252 before printing it, even though I initially loaded it as Cp1252.\r\n\r\nIn conclusion, it seems that the issue was not with loading the text, or setting up the BufferedWriter, but rather it was with the text I was telling the BufferedWriter to write.","title":"Why might my BufferedWriter output a UTF-8 text file when I&#39;m specifying that the encoding is Cp1252?","body":"<p>Well, I'm not 100% sure how this works but I changed my write statement to the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>writer.write(new String(this.toString().getBytes(Charset.forName(CHARACTER_SET))));\n</code></pre>\n<p>and now it works.</p>\n<p>I <em>think</em> what's happening is that file contents were being loaded correctly, but then re-encoded by Java's internal String format. In order to have it write the file in the format I wanted, I had to convert the text from Java's format into Cp1252 before printing it, even though I initially loaded it as Cp1252.</p>\n<p>In conclusion, it seems that the issue was not with loading the text, or setting up the BufferedWriter, but rather it was with the text I was telling the BufferedWriter to write.</p>\n"}],"owner":{"account_id":12056352,"reputation":21,"user_id":8878168,"display_name":"theolaa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687143057,"creation_date":1687137986,"question_id":76503137,"body_markdown":"I&#39;m working with some files that might be either UTF-8 or ANSI (Cp1252 specifically), and I need to load them, make some edits, and then output the file again with the original encoding. However, I haven&#39;t had any luck getting my program to output ANSI at all.\r\n\r\nMy code for loading the text is a simple `Scanner` with a `charsetName` specified\r\n``` lang-java\r\nfileScanner = new Scanner(f, CHARACTER_SET);\r\n```\r\n\r\nMy current code for writing the file is the following:\r\n```lang-java\r\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), CHARACTER_SET));\r\nwriter.write(this.toString());\r\nSystem.out.println(&quot;Writing &quot; + name + &quot; (&quot; + method + &quot;) using &quot; + CHARACTER_SET + &quot; encoding&quot;);\r\nwriter.close();\r\n```\r\n\r\n`CHARACTER_SET` is a String that is either &quot;UTF8&quot; or &quot;windows-1252&quot; depending on which encoding I detected the file to be when loading it.\r\n\r\nThe file actually outputs just fine in either mode, with all the special accent characters I&#39;ve encountered being uncorrupted. The problem is that if I work on an Cp1252 file, it will output it as UTF-8 even though I initialized the BufferedWriter with a Cp1252 OutputStreamWriter. I can verify this since the encoding was set via `CHARACTER_SET`, and I print out `CHARACTER_SET` right afterwards showing that for ANSI files it used Cp1252. I&#39;m checking the encoding of the output by loading it in Notepad++ and seeing what it says in the bottom right.\r\n\r\nIt know seems like I&#39;m splitting hairs a little, but I really do want to leave the file with its original encoding.","title":"Why might my BufferedWriter output a UTF-8 text file when I&#39;m specifying that the encoding is Cp1252?","body":"<p>I'm working with some files that might be either UTF-8 or ANSI (Cp1252 specifically), and I need to load them, make some edits, and then output the file again with the original encoding. However, I haven't had any luck getting my program to output ANSI at all.</p>\n<p>My code for loading the text is a simple <code>Scanner</code> with a <code>charsetName</code> specified</p>\n<pre class=\"lang-java prettyprint-override\"><code>fileScanner = new Scanner(f, CHARACTER_SET);\n</code></pre>\n<p>My current code for writing the file is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), CHARACTER_SET));\nwriter.write(this.toString());\nSystem.out.println(&quot;Writing &quot; + name + &quot; (&quot; + method + &quot;) using &quot; + CHARACTER_SET + &quot; encoding&quot;);\nwriter.close();\n</code></pre>\n<p><code>CHARACTER_SET</code> is a String that is either &quot;UTF8&quot; or &quot;windows-1252&quot; depending on which encoding I detected the file to be when loading it.</p>\n<p>The file actually outputs just fine in either mode, with all the special accent characters I've encountered being uncorrupted. The problem is that if I work on an Cp1252 file, it will output it as UTF-8 even though I initialized the BufferedWriter with a Cp1252 OutputStreamWriter. I can verify this since the encoding was set via <code>CHARACTER_SET</code>, and I print out <code>CHARACTER_SET</code> right afterwards showing that for ANSI files it used Cp1252. I'm checking the encoding of the output by loading it in Notepad++ and seeing what it says in the bottom right.</p>\n<p>It know seems like I'm splitting hairs a little, but I really do want to leave the file with its original encoding.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669616736,"post_id":74555957,"comment_id":131673828,"body_markdown":"Context extension works downstream, not upstream, like variable scopes in programming. Where exit from scope context will be removed. So, that leaves you with what you don&#39;t want. Or search for another solution design.","body":"Context extension works downstream, not upstream, like variable scopes in programming. Where exit from scope context will be removed. So, that leaves you with what you don&#39;t want. Or search for another solution design."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1669638526,"post_id":74555957,"comment_id":131680378,"body_markdown":"It is not removed, it still there but somehow my values are lost","body":"It is not removed, it still there but somehow my values are lost"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669639165,"post_id":74555957,"comment_id":131680590,"body_markdown":"Not removed and values are lost. Am I the only one feeling conflicted? :)","body":"Not removed and values are lost. Am I the only one feeling conflicted? :)"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1669639241,"post_id":74555957,"comment_id":131680618,"body_markdown":"Upload a PoC code into GitHub and I will check it.","body":"Upload a PoC code into GitHub and I will check it."}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687143006,"creation_date":1669267438,"question_id":74555957,"body_markdown":"In controller I need to share some data to WebFilter (I don&#39;t want to use `ServerWebExchange.getAttributes().put(&quot;KEY&quot;, &quot;VALUE&quot;)`, and my boss either), this is my current implemetation:\r\n\r\n    @Component\r\n    public class RequestFilter implements WebFilter {\r\n    \r\n      @Override\r\n      public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        exchange.getResponse().beforeCommit(() -&gt; Mono.deferWithContext(c -&gt; {\r\n          //I CHECK WHETHER DATA SHARED FROM CONTROLLER EXIST OR NOT\r\n          System.out.println(c.hasKey(&quot;abc&quot;));\r\n          Context innerContext = c.get(&quot;CONTEXT&quot;);\r\n          System.out.println(innerContext.hasKey(&quot;abc&quot;));\r\n          return Mono.empty();\r\n        }));\r\n\r\n        ServerHttpRequest request = exchange.getRequest();\r\n        BodyCaptureExchange bodyCaptureExchange = new BodyCaptureExchange(exchange);\r\n    \r\n        return chain.filter(bodyCaptureExchange).subscriberContext(context -&gt; {\r\n          //HERE I PUT CONTEXT TO ITSELF\r\n          context = context.put(&quot;CONTEXT&quot;, context);\r\n          return context;\r\n        });\r\n      }\r\n    }\r\n\r\nHere is my controller method:\r\n\r\n    public Mono&lt;ResponseEntity&lt;Response&gt;&gt; post(@RequestBody Mono&lt;Request&gt; request) {\r\n        Mono&lt;ResponseEntity&lt;Response&gt;&gt; responseEntityMono = request.flatMap(\r\n                rq -&gt; service.requestProcess(rq).map(res -&gt; ResponseEntity.ok().body(res))\r\n    \t\t).subscriberContext(c -&gt; {\r\n    \t\t\t//HERE I GET THE INNER CONTEXT FROM ABOVE FILTER\r\n    \t\t\tContext innerContext = c.get(&quot;CONTEXT&quot;);\r\n    \t\t\t//PUT DATA TO IT\r\n    \t\t\tc = c.put(&quot;CONTEXT&quot;, innerContext.put(&quot;abc&quot;, &quot;abc&quot;));\r\n    \t\t\t//ALSO PUT DATA TO PARENT\r\n    \t\t    c = c.put(&quot;abc&quot;, &quot;abc&quot;);\r\n    \t\t\treturn c;\r\n    \t\t});\r\n    \t\t\r\n        return responseEntityMono;\r\n    }\r\n\r\nThe System.out.println in RequestFilter print:\r\n\r\n    false\r\n    false\r\n\r\nMeans that data I put from controller are lost when it come to Filter. I stuck here almost 2 days. Please correct me if I&#39;m wrong somewhere. I really need your help\r\n\r\nReactor version: 3.3.14\r\n\r\nSpring boot stater webflux: 2.3.9.RELEASE","title":"Spring webflux how to share data from Controller to Filter using Context","body":"<p>In controller I need to share some data to WebFilter (I don't want to use <code>ServerWebExchange.getAttributes().put(&quot;KEY&quot;, &quot;VALUE&quot;)</code>, and my boss either), this is my current implemetation:</p>\n<pre><code>@Component\npublic class RequestFilter implements WebFilter {\n\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    exchange.getResponse().beforeCommit(() -&gt; Mono.deferWithContext(c -&gt; {\n      //I CHECK WHETHER DATA SHARED FROM CONTROLLER EXIST OR NOT\n      System.out.println(c.hasKey(&quot;abc&quot;));\n      Context innerContext = c.get(&quot;CONTEXT&quot;);\n      System.out.println(innerContext.hasKey(&quot;abc&quot;));\n      return Mono.empty();\n    }));\n\n    ServerHttpRequest request = exchange.getRequest();\n    BodyCaptureExchange bodyCaptureExchange = new BodyCaptureExchange(exchange);\n\n    return chain.filter(bodyCaptureExchange).subscriberContext(context -&gt; {\n      //HERE I PUT CONTEXT TO ITSELF\n      context = context.put(&quot;CONTEXT&quot;, context);\n      return context;\n    });\n  }\n}\n</code></pre>\n<p>Here is my controller method:</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;Response&gt;&gt; post(@RequestBody Mono&lt;Request&gt; request) {\n    Mono&lt;ResponseEntity&lt;Response&gt;&gt; responseEntityMono = request.flatMap(\n            rq -&gt; service.requestProcess(rq).map(res -&gt; ResponseEntity.ok().body(res))\n        ).subscriberContext(c -&gt; {\n            //HERE I GET THE INNER CONTEXT FROM ABOVE FILTER\n            Context innerContext = c.get(&quot;CONTEXT&quot;);\n            //PUT DATA TO IT\n            c = c.put(&quot;CONTEXT&quot;, innerContext.put(&quot;abc&quot;, &quot;abc&quot;));\n            //ALSO PUT DATA TO PARENT\n            c = c.put(&quot;abc&quot;, &quot;abc&quot;);\n            return c;\n        });\n        \n    return responseEntityMono;\n}\n</code></pre>\n<p>The System.out.println in RequestFilter print:</p>\n<pre><code>false\nfalse\n</code></pre>\n<p>Means that data I put from controller are lost when it come to Filter. I stuck here almost 2 days. Please correct me if I'm wrong somewhere. I really need your help</p>\n<p>Reactor version: 3.3.14</p>\n<p>Spring boot stater webflux: 2.3.9.RELEASE</p>\n"},{"tags":["java","swing","user-interface","drag-and-drop"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686928867,"post_id":76487451,"comment_id":134870576,"body_markdown":"*but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it* - you are using a standard handler which just move the Icon from one component to another. You need to actually move the JLabel component itself, which is more involved. You can check out: 1) https://stackoverflow.com/a/19569639/131872 which creates custom handler to move a component or even a panel containing multiple components. 2) https://stackoverflow.com/a/6811800/131872 which creates a custom MouseListener to do all the dragging.","body":"<i>but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it</i> - you are using a standard handler which just move the Icon from one component to another. You need to actually move the JLabel component itself, which is more involved. You can check out: 1) <a href=\"https://stackoverflow.com/a/19569639/131872\">stackoverflow.com/a/19569639/131872</a> which creates custom handler to move a component or even a panel containing multiple components. 2) <a href=\"https://stackoverflow.com/a/6811800/131872\">stackoverflow.com/a/6811800/131872</a> which creates a custom MouseListener to do all the dragging."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686928871,"post_id":76487451,"comment_id":134870579,"body_markdown":"This would need more modifications to find the proper stack to drop the component on. In both cases you would want to try using the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/). This layout manager will allow you to stack components with (or without) an offset.","body":"This would need more modifications to find the proper stack to drop the component on. In both cases you would want to try using the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a>. This layout manager will allow you to stack components with (or without) an offset."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1686973384,"post_id":76487451,"comment_id":134875869,"body_markdown":"@camickr i will refer to these. Thanks for your help.","body":"@camickr i will refer to these. Thanks for your help."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1686973922,"post_id":76487451,"comment_id":134875883,"body_markdown":"@camickr so I was trying out your code and understanding how it works, but when I went to run it in my IDE, it showed an error when creating the new OverlapLayout. It said &quot;cannot find symbol: class OverlapLayout&quot; Is there something wrong on my end?","body":"@camickr so I was trying out your code and understanding how it works, but when I went to run it in my IDE, it showed an error when creating the new OverlapLayout. It said &quot;cannot find symbol: class OverlapLayout&quot; Is there something wrong on my end?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687013901,"post_id":76487451,"comment_id":134879322,"body_markdown":"@PSYCHOPATH17 I provided a link to the `OverlapLayout` in the comments above.","body":"@PSYCHOPATH17 I provided a link to the <code>OverlapLayout</code> in the comments above."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1687051154,"post_id":76487451,"comment_id":134882844,"body_markdown":"@camickr is the overlap layout something that you coded or is it part of a library or something? Because if I use it in my code, I need to know how to cite it.","body":"@camickr is the overlap layout something that you coded or is it part of a library or something? Because if I use it in my code, I need to know how to cite it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687053594,"post_id":76487451,"comment_id":134882957,"body_markdown":"Yes, I coded it and the website says you can use it however you wish.","body":"Yes, I coded it and the website says you can use it however you wish."},{"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"score":0,"creation_date":1687115222,"post_id":76487451,"comment_id":134888365,"body_markdown":"@camickr hey Rob Camick, I ran into another issue while coding the game, but SO isn&#39;t allowing me to put another question up for two days because of my past question quality. I think I can format this new one into a good MRE, but I am not sure how I can reach out to you or others without creating the question. Any way I can reach you besides SO?","body":"@camickr hey Rob Camick, I ran into another issue while coding the game, but SO isn&#39;t allowing me to put another question up for two days because of my past question quality. I think I can format this new one into a good MRE, but I am not sure how I can reach out to you or others without creating the question. Any way I can reach you besides SO?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687141609,"creation_date":1686933229,"answer_id":76492098,"question_id":76487451,"body_markdown":"Using concepts from my comments above I came up with a simple example:\r\n\r\n    import java.awt.*;\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.event.*;\r\n    import java.beans.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import javax.swing.plaf.*;\r\n    import javax.swing.text.*;\r\n    import javax.swing.border.*;\r\n    import java.io.*;\r\n    \r\n    public class DragCards extends JPanel\r\n    {\r\n    \tprivate static DataFlavor COMPONENT_FLAVOR;\r\n    \r\n    \tprivate PanelHandler panelHandler = new PanelHandler();\r\n    \tprivate ComponentHandler componentHandler = new ComponentHandler();\r\n    \tprivate MouseListener dragListener;\r\n    \r\n    \tprivate Dimension cardSize = new Dimension(100, 175);\r\n    \r\n    \tpublic DragCards()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tCOMPONENT_FLAVOR = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + Component[].class.getName() + &quot;\\&quot;&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e) { System.out.println(e); }\r\n    \r\n    \t\tdragListener = new MouseAdapter()\r\n    \t\t{\r\n    \t\t    @Override\r\n    \t\t    public void mousePressed(MouseEvent e)\r\n    \t\t    {\r\n    \t\t\t\tJComponent c = (JComponent) e.getSource();\r\n    \t\t\t\tTransferHandler handler = c.getTransferHandler();\r\n    \t\t\t\thandler.exportAsDrag(c, e, TransferHandler.MOVE);\r\n    \t\t    }\r\n    \t\t};\r\n    \r\n    \t\tsetLayout( new BorderLayout() );\r\n    \r\n    \t\tadd(createDeckPanel(), BorderLayout.PAGE_START);\r\n    \t\tadd(createStacksPanel(), BorderLayout.CENTER);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDeckPanel()\r\n    \t{\r\n    \t\tJPanel deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tJLabel label = new JLabel( &quot;Card: &quot; + i );\r\n    \t\t\tlabel.setVerticalAlignment(JLabel.TOP);\r\n    \t\t\tlabel.setBorder( new LineBorder(Color.BLACK) );\r\n    \t\t\tlabel.setOpaque( true );\r\n    \t\t\tlabel.setBackground( Color.WHITE );\r\n    \t\t\tlabel.setPreferredSize( cardSize );\r\n    \t\t\tlabel.addMouseListener( dragListener );\r\n    \t\t\tlabel.setTransferHandler( componentHandler );\r\n    \t\t\tdeckPanel.add( label );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( deckPanel );\r\n    \r\n    \t\treturn wrapper;\r\n    \t}\r\n    \r\n    \tprivate JPanel createStacksPanel()\r\n    \t{\r\n    \r\n    \t\tJPanel stackPanels = new JPanel( new GridLayout(0, 4, 10, 10) );\r\n    \t\tDimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 4; i++)\r\n    \t\t{\r\n    \t\t\tJPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\r\n    \t\t\tstackPanel.setBackground( Color.YELLOW );\r\n    \t\t\tstackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\r\n    \t\t\tstackPanel.setPreferredSize( stackDimension );\r\n    \t\t\tstackPanel.setTransferHandler( panelHandler );\r\n    \t\t\tstackPanels.add( stackPanel );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( stackPanels );\r\n    \r\n    \t\treturn (wrapper );\r\n    \t}\r\n    \r\n        class ComponentHandler extends TransferHandler\r\n        {\r\n        \t@Override\r\n        \tpublic int getSourceActions(JComponent c)\r\n        \t{\r\n    //    \t\tsetDragImage( ScreenImage.createImage(c) );\r\n    \r\n            \treturn MOVE;\r\n        \t}\r\n    \r\n        \t@Override\r\n        \tpublic Transferable createTransferable(final JComponent c)\r\n        \t{\r\n            \treturn new Transferable()\r\n            \t{\r\n        \t\t\t@Override\r\n        \t\t\tpublic Object getTransferData(DataFlavor flavor)\r\n        \t\t\t{\r\n        \t\t\t\tComponent[] components = new Component[1];\r\n        \t\t\t\tcomponents[0] = c;\r\n        \t\t\t\treturn components;\r\n        \t\t\t}\r\n    \r\n        \t\t\t@Override\r\n        \t\t\tpublic DataFlavor[] getTransferDataFlavors()\r\n        \t\t\t{\r\n        \t\t\t\tDataFlavor[] flavors = new DataFlavor[1];\r\n        \t\t\t\tflavors[0] = DragCards.COMPONENT_FLAVOR;\r\n        \t\t\t\treturn flavors;\r\n        \t\t\t}\r\n    \r\n        \t\t\t@Override\r\n        \t\t\tpublic boolean isDataFlavorSupported(DataFlavor flavor)\r\n        \t\t\t{\r\n        \t\t\t\treturn flavor.equals(DragCards.COMPONENT_FLAVOR);\r\n        \t\t\t}\r\n            \t};\r\n        \t}\r\n    \r\n        \t@Override\r\n        \tpublic void exportDone(JComponent c, Transferable t, int action)\r\n        \t{\r\n        \t}\r\n        }\r\n    \r\n        class PanelHandler extends TransferHandler\r\n        {\r\n            @Override\r\n            public boolean canImport(TransferSupport support)\r\n            {\r\n                if (!support.isDrop())\r\n                {\r\n                    return false;\r\n                }\r\n    \r\n        \t\tboolean canImport = support.isDataFlavorSupported(DragCards.COMPONENT_FLAVOR);\r\n        \t\treturn canImport;\r\n            }\r\n    \r\n            @Override\r\n            public boolean importData(TransferSupport support)\r\n            {\r\n                if (!canImport(support))\r\n                {\r\n                    return false;\r\n                }\r\n    \r\n                Component[] components;\r\n    \r\n                try\r\n                {\r\n                    components = (Component[])support.getTransferable().getTransferData(DragCards.COMPONENT_FLAVOR);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                    return false;\r\n                }\r\n    \r\n        \t\tComponent component = components[0];\r\n        \t\tContainer parent = component.getParent();\r\n        \t\tContainer container = (Container)support.getComponent();\r\n        \t\tcontainer.add(component);\r\n    \r\n        \t\tcontainer.getParent().revalidate();\r\n        \t\tcontainer.getParent().repaint();\r\n        \t\tparent.revalidate();\r\n        \t\tparent.repaint();\r\n    \r\n                return true;\r\n            }\r\n        }\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;DragCards&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new DragCards());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nNotes:\r\n\r\n1. If you want to set the `setDragImage(...)` method you will need to get the [Screen Image](https://tips4java.wordpress.com/2008/10/13/screen-image/) code.\r\n\r\n2. When dragging to on of the 4 stack panels, the mouse must be on the panel, not the label. If you want the logic to work when the mouse is over a label, then (I think - but have not tried) you would need to add the import logic into the ComponentHandler class. This logic should be similar to the import logic in the panel class. \r\n\r\nOr the second approach using custom dragging code might look something like:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class DragCards2 extends JPanel implements MouseListener, MouseMotionListener\r\n    {\r\n    \tprivate Dimension cardSize = new Dimension(100, 175);\r\n    \tprivate JPanel deckPanel;\r\n    \tprivate JPanel stacksPanel;\r\n    \r\n    \tprivate Component card;\r\n    \tint xAdjustment;\r\n    \tint yAdjustment;\r\n    \r\n    \tprivate MouseListener dragListener;\r\n    \r\n    \r\n    \tpublic DragCards2()\r\n    \t{\r\n    \t\tsetLayout( new BorderLayout() );\r\n    \t\tadd(createDeckPanel(), BorderLayout.PAGE_START);\r\n    \t\tadd(createStacksPanel(), BorderLayout.CENTER);\r\n    \t}\r\n    \r\n    \tprivate JPanel createDeckPanel()\r\n    \t{\r\n    \t\tdeckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tJLabel label = new JLabel( &quot;Card: &quot; + i );\r\n    \t\t\tlabel.setVerticalAlignment(JLabel.TOP);\r\n    \t\t\tlabel.setBorder( new LineBorder(Color.BLACK) );\r\n    \t\t\tlabel.setOpaque( true );\r\n    \t\t\tlabel.setBackground( Color.WHITE );\r\n    \t\t\tlabel.setPreferredSize( cardSize );\r\n    \t\t\tdeckPanel.add( label );\r\n    \t\t}\r\n    \r\n    \t\tdeckPanel.addMouseListener( this );\r\n    \t\tdeckPanel.addMouseMotionListener( this );\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( deckPanel );\r\n    \r\n    \t\treturn wrapper;\r\n    \t}\r\n    \r\n    \tprivate JPanel createStacksPanel()\r\n    \t{\r\n    \r\n    \t\tstacksPanel = new JPanel( new GridLayout(0, 4, 10, 10) );\r\n    \t\tDimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 4; i++)\r\n    \t\t{\r\n    \t\t\tJPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\r\n    \t\t\tstackPanel.setBackground( Color.YELLOW );\r\n    \t\t\tstackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\r\n    \t\t\tstackPanel.setPreferredSize( stackDimension );\r\n    \t\t\tstacksPanel.add( stackPanel );\r\n    \t\t}\r\n    \r\n    \t\tJPanel wrapper = new JPanel();\r\n    \t\twrapper.add( stacksPanel );\r\n    \r\n    \t\treturn (wrapper );\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Add the card to the dragging layer so it can be moved\r\n    \t*/\r\n    \tpublic void mousePressed(MouseEvent e)\r\n    \t{\r\n    \t\tJPanel deckPanel = (JPanel)e.getComponent();\r\n    \t\tcard =  deckPanel.getComponent( 0 );\r\n    \r\n    \t\tif (card instanceof JPanel) return;\r\n    \r\n    \t\tPoint parentLocation = card.getParent().getLocation();\r\n    \t\txAdjustment = parentLocation.x - e.getX();\r\n    \t\tyAdjustment = parentLocation.y - e.getY();\r\n    \t\tcard.setLocation(e.getX() + xAdjustment, e.getY() + yAdjustment);\r\n    \r\n    \t\tJLayeredPane lp = getRootPane().getLayeredPane();\r\n    \t\tlp.add(card, JLayeredPane.DRAG_LAYER);\r\n    \t\tsetCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Move the chess piece around\r\n    \t*/\r\n    \tpublic void mouseDragged(MouseEvent me)\r\n    \t{\r\n    \t\tif (card == null) return;\r\n    \r\n    \t\tint x = me.getX() + xAdjustment;\r\n    \t\tint y = me.getY() + yAdjustment;\r\n    \t\tcard.setLocation(x, y);\r\n    \t }\r\n    \r\n    \t/*\r\n    \t**  Drop the card back onto the game board\r\n    \t*/\r\n    \tpublic void mouseReleased(MouseEvent e)\r\n    \t{\r\n    \t\tsetCursor(null);\r\n    \r\n    \t\tif (card == null) return;\r\n    \r\n    \t\t//  Make sure the card is no longer painted on the layered pane\r\n    \r\n    \t\tcard.setVisible(false);\r\n    \r\n    \t\t//  check to see if card was dragged to a stack\r\n    \r\n    \t\tJPanel stackPanel = null;\r\n            Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stacksPanel);\r\n    \r\n    \t\tfor (int i = 0; i &lt; stacksPanel.getComponentCount(); i++)\r\n    \t\t{\r\n    \t\t\tJPanel panel = (JPanel)stacksPanel.getComponent(i);\r\n    \r\n    \t\t\tif (panel.getBounds().contains(localPoint))\r\n    \t\t\t{\r\n    \t\t\t\tstackPanel = panel;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (stackPanel == null)\r\n    \t\t\tdeckPanel.add( card );\r\n    \t\telse\r\n    \t\t\tstackPanel.add( card );\r\n    \r\n    \t\tcard.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic void mouseClicked(MouseEvent e) {}\r\n    \tpublic void mouseMoved(MouseEvent e) {}\r\n    \tpublic void mouseEntered(MouseEvent e) {}\r\n    \tpublic void mouseExited(MouseEvent e) {}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;DragCards2&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add( new DragCards2());\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nBoth examples use the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) to allow for easy stacking of the cards. \r\n","title":"Using Drag and Drop in Solitaire Game for Java","body":"<p>Using concepts from my comments above I came up with a simple example:</p>\n<pre><code>import java.awt.*;\nimport java.awt.datatransfer.*;\nimport java.awt.event.*;\nimport java.beans.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport javax.swing.plaf.*;\nimport javax.swing.text.*;\nimport javax.swing.border.*;\nimport java.io.*;\n\npublic class DragCards extends JPanel\n{\n    private static DataFlavor COMPONENT_FLAVOR;\n\n    private PanelHandler panelHandler = new PanelHandler();\n    private ComponentHandler componentHandler = new ComponentHandler();\n    private MouseListener dragListener;\n\n    private Dimension cardSize = new Dimension(100, 175);\n\n    public DragCards()\n    {\n        try\n        {\n            COMPONENT_FLAVOR = new DataFlavor(DataFlavor.javaJVMLocalObjectMimeType + &quot;;class=\\&quot;&quot; + Component[].class.getName() + &quot;\\&quot;&quot;);\n        }\n        catch(Exception e) { System.out.println(e); }\n\n        dragListener = new MouseAdapter()\n        {\n            @Override\n            public void mousePressed(MouseEvent e)\n            {\n                JComponent c = (JComponent) e.getSource();\n                TransferHandler handler = c.getTransferHandler();\n                handler.exportAsDrag(c, e, TransferHandler.MOVE);\n            }\n        };\n\n        setLayout( new BorderLayout() );\n\n        add(createDeckPanel(), BorderLayout.PAGE_START);\n        add(createStacksPanel(), BorderLayout.CENTER);\n    }\n\n    private JPanel createDeckPanel()\n    {\n        JPanel deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            JLabel label = new JLabel( &quot;Card: &quot; + i );\n            label.setVerticalAlignment(JLabel.TOP);\n            label.setBorder( new LineBorder(Color.BLACK) );\n            label.setOpaque( true );\n            label.setBackground( Color.WHITE );\n            label.setPreferredSize( cardSize );\n            label.addMouseListener( dragListener );\n            label.setTransferHandler( componentHandler );\n            deckPanel.add( label );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( deckPanel );\n\n        return wrapper;\n    }\n\n    private JPanel createStacksPanel()\n    {\n\n        JPanel stackPanels = new JPanel( new GridLayout(0, 4, 10, 10) );\n        Dimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\n\n        for (int i = 0; i &lt; 4; i++)\n        {\n            JPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\n            stackPanel.setBackground( Color.YELLOW );\n            stackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\n            stackPanel.setPreferredSize( stackDimension );\n            stackPanel.setTransferHandler( panelHandler );\n            stackPanels.add( stackPanel );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( stackPanels );\n\n        return (wrapper );\n    }\n\n    class ComponentHandler extends TransferHandler\n    {\n        @Override\n        public int getSourceActions(JComponent c)\n        {\n//          setDragImage( ScreenImage.createImage(c) );\n\n            return MOVE;\n        }\n\n        @Override\n        public Transferable createTransferable(final JComponent c)\n        {\n            return new Transferable()\n            {\n                @Override\n                public Object getTransferData(DataFlavor flavor)\n                {\n                    Component[] components = new Component[1];\n                    components[0] = c;\n                    return components;\n                }\n\n                @Override\n                public DataFlavor[] getTransferDataFlavors()\n                {\n                    DataFlavor[] flavors = new DataFlavor[1];\n                    flavors[0] = DragCards.COMPONENT_FLAVOR;\n                    return flavors;\n                }\n\n                @Override\n                public boolean isDataFlavorSupported(DataFlavor flavor)\n                {\n                    return flavor.equals(DragCards.COMPONENT_FLAVOR);\n                }\n            };\n        }\n\n        @Override\n        public void exportDone(JComponent c, Transferable t, int action)\n        {\n        }\n    }\n\n    class PanelHandler extends TransferHandler\n    {\n        @Override\n        public boolean canImport(TransferSupport support)\n        {\n            if (!support.isDrop())\n            {\n                return false;\n            }\n\n            boolean canImport = support.isDataFlavorSupported(DragCards.COMPONENT_FLAVOR);\n            return canImport;\n        }\n\n        @Override\n        public boolean importData(TransferSupport support)\n        {\n            if (!canImport(support))\n            {\n                return false;\n            }\n\n            Component[] components;\n\n            try\n            {\n                components = (Component[])support.getTransferable().getTransferData(DragCards.COMPONENT_FLAVOR);\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n                return false;\n            }\n\n            Component component = components[0];\n            Container parent = component.getParent();\n            Container container = (Container)support.getComponent();\n            container.add(component);\n\n            container.getParent().revalidate();\n            container.getParent().repaint();\n            parent.revalidate();\n            parent.repaint();\n\n            return true;\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;DragCards&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new DragCards());\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li><p>If you want to set the <code>setDragImage(...)</code> method you will need to get the <a href=\"https://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> code.</p>\n</li>\n<li><p>When dragging to on of the 4 stack panels, the mouse must be on the panel, not the label. If you want the logic to work when the mouse is over a label, then (I think - but have not tried) you would need to add the import logic into the ComponentHandler class. This logic should be similar to the import logic in the panel class.</p>\n</li>\n</ol>\n<p>Or the second approach using custom dragging code might look something like:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class DragCards2 extends JPanel implements MouseListener, MouseMotionListener\n{\n    private Dimension cardSize = new Dimension(100, 175);\n    private JPanel deckPanel;\n    private JPanel stacksPanel;\n\n    private Component card;\n    int xAdjustment;\n    int yAdjustment;\n\n    private MouseListener dragListener;\n\n\n    public DragCards2()\n    {\n        setLayout( new BorderLayout() );\n        add(createDeckPanel(), BorderLayout.PAGE_START);\n        add(createStacksPanel(), BorderLayout.CENTER);\n    }\n\n    private JPanel createDeckPanel()\n    {\n        deckPanel = new JPanel( new OverlapLayout( new Point(0, 0) ) );\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            JLabel label = new JLabel( &quot;Card: &quot; + i );\n            label.setVerticalAlignment(JLabel.TOP);\n            label.setBorder( new LineBorder(Color.BLACK) );\n            label.setOpaque( true );\n            label.setBackground( Color.WHITE );\n            label.setPreferredSize( cardSize );\n            deckPanel.add( label );\n        }\n\n        deckPanel.addMouseListener( this );\n        deckPanel.addMouseMotionListener( this );\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( deckPanel );\n\n        return wrapper;\n    }\n\n    private JPanel createStacksPanel()\n    {\n\n        stacksPanel = new JPanel( new GridLayout(0, 4, 10, 10) );\n        Dimension stackDimension = new Dimension(cardSize.width, cardSize.height + 200);\n\n        for (int i = 0; i &lt; 4; i++)\n        {\n            JPanel stackPanel = new JPanel( new OverlapLayout( new Point(0, 20) ) );\n            stackPanel.setBackground( Color.YELLOW );\n            stackPanel.setBorder( new EmptyBorder(10, 0, 0, 0) );\n            stackPanel.setPreferredSize( stackDimension );\n            stacksPanel.add( stackPanel );\n        }\n\n        JPanel wrapper = new JPanel();\n        wrapper.add( stacksPanel );\n\n        return (wrapper );\n    }\n\n    /*\n    **  Add the card to the dragging layer so it can be moved\n    */\n    public void mousePressed(MouseEvent e)\n    {\n        JPanel deckPanel = (JPanel)e.getComponent();\n        card =  deckPanel.getComponent( 0 );\n\n        if (card instanceof JPanel) return;\n\n        Point parentLocation = card.getParent().getLocation();\n        xAdjustment = parentLocation.x - e.getX();\n        yAdjustment = parentLocation.y - e.getY();\n        card.setLocation(e.getX() + xAdjustment, e.getY() + yAdjustment);\n\n        JLayeredPane lp = getRootPane().getLayeredPane();\n        lp.add(card, JLayeredPane.DRAG_LAYER);\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n    }\n\n    /*\n    **  Move the chess piece around\n    */\n    public void mouseDragged(MouseEvent me)\n    {\n        if (card == null) return;\n\n        int x = me.getX() + xAdjustment;\n        int y = me.getY() + yAdjustment;\n        card.setLocation(x, y);\n     }\n\n    /*\n    **  Drop the card back onto the game board\n    */\n    public void mouseReleased(MouseEvent e)\n    {\n        setCursor(null);\n\n        if (card == null) return;\n\n        //  Make sure the card is no longer painted on the layered pane\n\n        card.setVisible(false);\n\n        //  check to see if card was dragged to a stack\n\n        JPanel stackPanel = null;\n        Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stacksPanel);\n\n        for (int i = 0; i &lt; stacksPanel.getComponentCount(); i++)\n        {\n            JPanel panel = (JPanel)stacksPanel.getComponent(i);\n\n            if (panel.getBounds().contains(localPoint))\n            {\n                stackPanel = panel;\n                break;\n            }\n        }\n\n        if (stackPanel == null)\n            deckPanel.add( card );\n        else\n            stackPanel.add( card );\n\n        card.setVisible(true);\n    }\n\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseMoved(MouseEvent e) {}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e) {}\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;DragCards2&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new DragCards2());\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Both examples use the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a> to allow for easy stacking of the cards.</p>\n"}],"owner":{"account_id":26133556,"reputation":3,"user_id":19823882,"display_name":"PSYCHOPATH17"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76492098,"answer_count":1,"score":-1,"last_activity_date":1687141609,"creation_date":1686896734,"question_id":76487451,"body_markdown":"so I&#39;m creating a Solitaire game in Java. I have the card, deck, and most of the GUI coded out. However, when I go to implement drag and drop into the GUI, I am able to drag the cards to a different tableau stack, but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it. Plus, the card is not removed from its old location. How would you resolve this?\r\n\r\nI have tried using exportAsDrag(jc,e,TransferHandler.MOVE); and added code to make it run, but that didn&#39;t seem to work either.\r\n\r\nhere are the three classes (Solitaire class is the GUI one):\r\n\r\n\r\n\r\n```\r\n//imports\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Solitaire extends JFrame {\r\n    \r\n    //instance variables\r\n    private static final int CARD_WIDTH = 73;\r\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\r\n    private static final int TOP_STACKS_X_DIFF = 435;\r\n    private static final int TOP_STACKS_Y_DIFF = 30;\r\n    private static final int WASTE_STACK_X_DIFF = 139;\r\n    private static final int WASTE_STACK_Y_DIFF = 30;\r\n    private static final int MAIN_STACKS_X_DIFF = 30;\r\n    private static final int MAIN_STACKS_Y_DIFF = 40;\r\n        \r\n    private final JLabel newStack;\r\n    private final JLabel wasteStack;\r\n    private final JLabel[] topStacks;\r\n    private final JLayeredPane[] mainStacks;\r\n    \r\n    private Card wasteCard;\r\n    \r\n    private Deck deckOfCards;\r\n    \r\n    //methods\r\n    /**\r\n     * Creates new form gameScreenGUI\r\n     */\r\n    public Solitaire() {\r\n        //setting up JFrame\r\n        setTitle(&quot;Solitaire&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n        getContentPane().setBackground(new Color(0,153,0));\r\n        \r\n        //Create the topStacks\r\n        topStacks = new JLabel[4]; //initializing topStacks\r\n        for (int index = 0; index &lt; topStacks.length; index++) { //loop through to create stack for each suit\r\n            topStacks[index] = new JLabel(); //creating new stack\r\n            topStacks[index].setBounds((index*CARD_WIDTH) + (index*10) + TOP_STACKS_X_DIFF, TOP_STACKS_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each top stack\r\n            topStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each top stack\r\n            add(topStacks[index]); //adding to GUI\r\n        } //end of for loop\r\n        \r\n        //Create the wasteStack\r\n        wasteStack = new JLabel(); //initializing wasteStack\r\n        wasteStack.setBounds(WASTE_STACK_X_DIFF, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the waste stack\r\n        wasteStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the waste stack\r\n        add(wasteStack); //adding to GUI\r\n        \r\n        //Create the newStack\r\n        newStack = new JLabel(); //initializing newStack\r\n        newStack.setBounds(WASTE_STACK_X_DIFF - CARD_WIDTH - 36, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the new stack\r\n        newStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the new stack\r\n        newStack.addMouseListener(new newStackOnClick()); //adding event\r\n        add(newStack); //adding to GUI\r\n        \r\n        //Create the mainStacks\r\n        mainStacks = new JLayeredPane[7]; //initializing mainStacks\r\n        for (int index = 0; index &lt; mainStacks.length; index++) { //loop through to create 7 stacks\r\n            mainStacks[index] = new JLayeredPane(); //creating new stack\r\n            mainStacks[index].setBounds((index*CARD_WIDTH) + (index*36) + MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF + (CARD_HEIGHT + 10), CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each main stack\r\n            mainStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each main stack\r\n            add(mainStacks[index]); //add to GUI\r\n        } //end of for loop\r\n\r\n        \r\n        setLayout(null); //changing to null layout\r\n        setSize(800, 600); //defining size of window\r\n        setVisible(true); //displaying window\r\n        startGame(); //starts the game\r\n    } //end of constructor method\r\n    \r\n    /**\r\n     * This method creates the game.\r\n     */\r\n    private void startGame() {\r\n        //creates and shuffles a new deck\r\n        deckOfCards = new Deck();\r\n        deckOfCards.shuffleDeck();\r\n        \r\n        MouseListener ml = new MouseListener() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                JComponent jc = (JComponent)e.getSource();\r\n                TransferHandler th = jc.getTransferHandler();\r\n                th.exportAsDrag(jc, e, TransferHandler.COPY);\r\n            }\r\n\r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {}\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {}\r\n            \r\n        };\r\n\r\n        \r\n        for (int stack = 0; stack &lt; mainStacks.length; stack++) { //loop through the stacks in the mainStacks\r\n            int stackHeight = 0; //stores the height of the stack\r\n            \r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) { //loop through to add the cards in each Stack\r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\r\n                    cardLabel.addMouseListener(ml);\r\n                    cardLabel.setTransferHandler(new TransferHandler(&quot;icon&quot;));\r\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\r\n                } //end of if statement\r\n                \r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\r\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\r\n                } //end of if statement\r\n                \r\n                stackHeight = CARD_HEIGHT + (22*stack); //increments the stack height with each new card\r\n                \r\n            } //end of for loop\r\n            \r\n            mainStacks[stack].setSize(CARD_WIDTH, stackHeight); //sets the size of the stack so that all cards show\r\n            \r\n        } //end of for loop\r\n        \r\n        //sizes the image and sets it to newCard\r\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\r\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        newStack.setIcon(new ImageIcon(cardBackScaled));\r\n        \r\n        wasteCard = deckOfCards.drawCard(); //new card from pile to possibly add to mainStacks\r\n        wasteCard.setIsFaceUp(true); //sets card facing up        \r\n        \r\n        //sizes the image and sets it to wasteCard\r\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n        Image wasteCardFaceScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        wasteStack.addMouseListener(ml);\r\n        wasteStack.setTransferHandler(new TransferHandler(&quot;icon&quot;));\r\n        wasteStack.setIcon(new ImageIcon(wasteCardFaceScaled));\r\n                \r\n    } //end of startGame method\r\n    \r\n    private void newStackClick() {\r\n        if(!deckOfCards.isEmpty()) {\r\n            wasteCard = deckOfCards.drawCard();\r\n            System.out.println(wasteCard);\r\n            wasteCard.setIsFaceUp(true);\r\n            \r\n            ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n            Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n            wasteStack.setIcon(new ImageIcon(wasteCardScaled));\r\n        } else {\r\n            resetNewStack();\r\n        } //end of if statement\r\n    } //end of newStackClick method\r\n    \r\n    private void resetNewStack() {\r\n        deckOfCards.resetDrawCardIndex();\r\n        deckOfCards.shuffleDeck();\r\n        wasteCard = deckOfCards.drawCard();\r\n        wasteCard.setIsFaceUp(true);\r\n        \r\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\r\n        Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        wasteStack.setIcon(new ImageIcon(wasteCardScaled));\r\n        \r\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\r\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n        newStack.setIcon(new ImageIcon(cardBackScaled));\r\n    } //end of resetNewStack method\r\n    \r\n    private class newStackOnClick extends MouseAdapter {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            newStackClick();\r\n        } //end of mouseClicked method\r\n    } //end of newStackOnClick class\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        new Solitaire();\r\n    } //end of main method\r\n\r\n} //end of SolitaireJLP class\r\n```\r\n\r\n```\r\npublic class Card {\r\n    //instance variables\r\n    private final Suit SUIT;\r\n    private final Rank RANK;\r\n    private boolean isFaceUp;\r\n    \r\n    //methods\r\n    /**\r\n     * This is the constructor method for the Card class.\r\n     * @param suit - the suit to be assigned to the card.\r\n     * @param rank - the rank to be assigned to the card.\r\n     */\r\n    public Card(Suit suit, Rank rank) {\r\n        this.SUIT = suit;\r\n        this.RANK = rank;\r\n        this.isFaceUp = false;\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method gives the user the suit of the Card.\r\n     * @return Suit - the suit of the Card.\r\n     */\r\n    public Suit getSuit() {\r\n        return this.SUIT;\r\n    } //end of getSuit method\r\n    /**\r\n     * This method gives the user the rank of the Card.\r\n     * @return Rank - the rank of the Card.\r\n     */\r\n    public Rank getRank() {\r\n        return this.RANK;\r\n    } //end of getRank method\r\n    \r\n    /**\r\n     * This method gives whether the Card is faced up or not.\r\n     * @return Boolean - true or false based on if the Card is facing up.\r\n     */\r\n    public boolean getIsFaceUp() {\r\n        return this.isFaceUp;\r\n    } //end of getIsFaceUp method\r\n    /**\r\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\r\n     */\r\n    public void setIsFaceUp(boolean b) {\r\n        this.isFaceUp = b;\r\n    } //end of setIsFaceUp method\r\n    \r\n    /**\r\n     * This method determines if the Card is from a red suit.\r\n     * @return Boolean - true or false if card is red\r\n     */\r\n    public boolean isRed() {\r\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\r\n    } //end of isRed method\r\n    /**\r\n     * This method determines if the Card is from a black suit.\r\n     * @return a Boolean true or false if card is black\r\n     */\r\n    public boolean isBlack() {\r\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\r\n    } //end of isBlack method\r\n    \r\n    /**\r\n     * This method determines if the card can be stacked on the card behind it.\r\n     * @return a Boolean true or false if it can be stacked\r\n     */\r\n    public boolean stackable(Card card) {\r\n        return this.isRed() != card.isRed();\r\n    } //end of stackable method\r\n    \r\n    /**\r\n     * This method gives the name of each card.\r\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\r\n     */\r\n    public String getName() {\r\n        String number = &quot;&quot;; //variable declaration\r\n        switch(RANK) { //switch to assign rank name\r\n            case ACE -&gt; number = &quot;A&quot;; //case\r\n            case TWO -&gt; number = &quot;2&quot;; //case\r\n            case THREE -&gt; number = &quot;3&quot;; //case\r\n            case FOUR -&gt; number = &quot;4&quot;; //case\r\n            case FIVE -&gt; number = &quot;5&quot;; //case\r\n            case SIX -&gt; number = &quot;6&quot;; //case\r\n            case SEVEN -&gt; number = &quot;7&quot;; //case\r\n            case EIGHT -&gt; number = &quot;8&quot;; //case\r\n            case NINE -&gt; number = &quot;9&quot;; //case\r\n            case TEN -&gt; number = &quot;10&quot;; //case\r\n            case JACK -&gt; number = &quot;J&quot;; //case\r\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\r\n            case KING -&gt; number = &quot;K&quot;; //case\r\n        } //end of switch\r\n        String suitName = &quot;&quot;; //variable declaration\r\n        switch(SUIT) { //switch to assign suit name\r\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\r\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\r\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\r\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\r\n        } //end of switch\r\n        return number + suitName; //return statement\r\n    } //end of getName method\r\n    \r\n    /**\r\n     * This method gives the path to a corresponding image.\r\n     * @return String - returns the path of the image corresponding with the card.\r\n     */\r\n    public String getImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\r\n    } //end of getImage method\r\n    /**\r\n     * This method gives the file path to the back of the card image.\r\n     * @return String the file path to the card back image\r\n     */\r\n    public static String getBackImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\r\n    } //end of getImageBackPath method\r\n    \r\n    @Override\r\n    /**\r\n     * This method returns the description about the instance variables.\r\n     * @return String - rank and suit of card along with image path.\r\n     */\r\n    public String toString() {\r\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\r\n    }\r\n} //end of Card class\r\n```\r\n\r\n```\r\n//imports\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class Deck {\r\n    \r\n    //instance variables\r\n    private final ArrayList&lt;Card&gt; cards;\r\n    private int drawCardIndex;\r\n    \r\n    //methods\r\n    /**\r\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\r\n     */\r\n    public Deck() {\r\n        cards = new ArrayList&lt;&gt;(); //creating new deck\r\n        \r\n        for (Suit suit: Suit.values()) { //loops through suits\r\n            for (Rank rank: Rank.values()) { //loops through ranks\r\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\r\n            }\r\n        }\r\n        drawCardIndex = 0; //initializes index\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method returns the size of the deck.\r\n     * @return int - size of deck\r\n     */\r\n    public int getSize() {\r\n        return cards.size();\r\n    } //end of getSize method\r\n    \r\n    /**\r\n     * This method returns a drawn card in the deck of cards.\r\n     * @return Card - a new drawn card in the deck of cards.\r\n     */\r\n    public Card drawCard() {\r\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\r\n            Card card = cards.get(drawCardIndex); //draws a card\r\n            drawCardIndex++; //increments\r\n            return card; //return statement\r\n        }\r\n        return null; //returns null if all of the cards have already been drawn\r\n    } //end of drawCard method\r\n    \r\n    /**\r\n     * This method shuffles the deck of cards.\r\n     */\r\n    public void shuffleDeck() {\r\n        Collections.shuffle(cards); //mixes ArrayList\r\n        resetDrawCardIndex(); //resets the drawCardIndex variable\r\n    } //end of shuffleDeck method\r\n    \r\n    /**\r\n     * This method resets the drawCardIndex.\r\n     */\r\n    public void resetDrawCardIndex() {\r\n        drawCardIndex = 0;\r\n    } //end of resetDrawCardIndex method\r\n    \r\n    /**\r\n     * This method checks if all of the cards have been drawn.\r\n     * @return Boolean true or false based on if all the cards have been drawn or not.\r\n     */\r\n    public boolean isEmpty() {\r\n        return cards.size() &lt;= drawCardIndex;\r\n    } //end of isEmpty method\r\n    \r\n} //end of Deck class\r\n```","title":"Using Drag and Drop in Solitaire Game for Java","body":"<p>so I'm creating a Solitaire game in Java. I have the card, deck, and most of the GUI coded out. However, when I go to implement drag and drop into the GUI, I am able to drag the cards to a different tableau stack, but when I drop it, it just pastes the card on the card that was previously there instead of stacking it on it. Plus, the card is not removed from its old location. How would you resolve this?</p>\n<p>I have tried using exportAsDrag(jc,e,TransferHandler.MOVE); and added code to make it run, but that didn't seem to work either.</p>\n<p>here are the three classes (Solitaire class is the GUI one):</p>\n<pre><code>//imports\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Solitaire extends JFrame {\n    \n    //instance variables\n    private static final int CARD_WIDTH = 73;\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\n    private static final int TOP_STACKS_X_DIFF = 435;\n    private static final int TOP_STACKS_Y_DIFF = 30;\n    private static final int WASTE_STACK_X_DIFF = 139;\n    private static final int WASTE_STACK_Y_DIFF = 30;\n    private static final int MAIN_STACKS_X_DIFF = 30;\n    private static final int MAIN_STACKS_Y_DIFF = 40;\n        \n    private final JLabel newStack;\n    private final JLabel wasteStack;\n    private final JLabel[] topStacks;\n    private final JLayeredPane[] mainStacks;\n    \n    private Card wasteCard;\n    \n    private Deck deckOfCards;\n    \n    //methods\n    /**\n     * Creates new form gameScreenGUI\n     */\n    public Solitaire() {\n        //setting up JFrame\n        setTitle(&quot;Solitaire&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setResizable(false);\n        getContentPane().setBackground(new Color(0,153,0));\n        \n        //Create the topStacks\n        topStacks = new JLabel[4]; //initializing topStacks\n        for (int index = 0; index &lt; topStacks.length; index++) { //loop through to create stack for each suit\n            topStacks[index] = new JLabel(); //creating new stack\n            topStacks[index].setBounds((index*CARD_WIDTH) + (index*10) + TOP_STACKS_X_DIFF, TOP_STACKS_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each top stack\n            topStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each top stack\n            add(topStacks[index]); //adding to GUI\n        } //end of for loop\n        \n        //Create the wasteStack\n        wasteStack = new JLabel(); //initializing wasteStack\n        wasteStack.setBounds(WASTE_STACK_X_DIFF, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the waste stack\n        wasteStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the waste stack\n        add(wasteStack); //adding to GUI\n        \n        //Create the newStack\n        newStack = new JLabel(); //initializing newStack\n        newStack.setBounds(WASTE_STACK_X_DIFF - CARD_WIDTH - 36, WASTE_STACK_Y_DIFF, CARD_WIDTH, CARD_HEIGHT); //creating the boundary for the new stack\n        newStack.setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for the boundary of the new stack\n        newStack.addMouseListener(new newStackOnClick()); //adding event\n        add(newStack); //adding to GUI\n        \n        //Create the mainStacks\n        mainStacks = new JLayeredPane[7]; //initializing mainStacks\n        for (int index = 0; index &lt; mainStacks.length; index++) { //loop through to create 7 stacks\n            mainStacks[index] = new JLayeredPane(); //creating new stack\n            mainStacks[index].setBounds((index*CARD_WIDTH) + (index*36) + MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF + (CARD_HEIGHT + 10), CARD_WIDTH, CARD_HEIGHT); //creating the boundary for each main stack\n            mainStacks[index].setBorder(BorderFactory.createLineBorder(Color.BLACK)); //setting the border for each main stack\n            add(mainStacks[index]); //add to GUI\n        } //end of for loop\n\n        \n        setLayout(null); //changing to null layout\n        setSize(800, 600); //defining size of window\n        setVisible(true); //displaying window\n        startGame(); //starts the game\n    } //end of constructor method\n    \n    /**\n     * This method creates the game.\n     */\n    private void startGame() {\n        //creates and shuffles a new deck\n        deckOfCards = new Deck();\n        deckOfCards.shuffleDeck();\n        \n        MouseListener ml = new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {}\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                JComponent jc = (JComponent)e.getSource();\n                TransferHandler th = jc.getTransferHandler();\n                th.exportAsDrag(jc, e, TransferHandler.COPY);\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {}\n\n            @Override\n            public void mouseEntered(MouseEvent e) {}\n\n            @Override\n            public void mouseExited(MouseEvent e) {}\n            \n        };\n\n        \n        for (int stack = 0; stack &lt; mainStacks.length; stack++) { //loop through the stacks in the mainStacks\n            int stackHeight = 0; //stores the height of the stack\n            \n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) { //loop through to add the cards in each Stack\n                Card placementCard = deckOfCards.drawCard(); //draws card\n                placementCard.setIsFaceUp(false);\n                //checking if the card is the last card in the stack\n                if (stack == cardInStack) {\n                    placementCard.setIsFaceUp(true); //card is facing up\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\n                    cardLabel.addMouseListener(ml);\n                    cardLabel.setTransferHandler(new TransferHandler(&quot;icon&quot;));\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\n                } //end of if statement\n                \n                //if statement to check whether the card should be revealed or not\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setBounds(0,cardInStack*22, CARD_WIDTH, CARD_HEIGHT);\n                    mainStacks[stack].add(cardLabel, Integer.valueOf(cardInStack));\n                } //end of if statement\n                \n                stackHeight = CARD_HEIGHT + (22*stack); //increments the stack height with each new card\n                \n            } //end of for loop\n            \n            mainStacks[stack].setSize(CARD_WIDTH, stackHeight); //sets the size of the stack so that all cards show\n            \n        } //end of for loop\n        \n        //sizes the image and sets it to newCard\n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        newStack.setIcon(new ImageIcon(cardBackScaled));\n        \n        wasteCard = deckOfCards.drawCard(); //new card from pile to possibly add to mainStacks\n        wasteCard.setIsFaceUp(true); //sets card facing up        \n        \n        //sizes the image and sets it to wasteCard\n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n        Image wasteCardFaceScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        wasteStack.addMouseListener(ml);\n        wasteStack.setTransferHandler(new TransferHandler(&quot;icon&quot;));\n        wasteStack.setIcon(new ImageIcon(wasteCardFaceScaled));\n                \n    } //end of startGame method\n    \n    private void newStackClick() {\n        if(!deckOfCards.isEmpty()) {\n            wasteCard = deckOfCards.drawCard();\n            System.out.println(wasteCard);\n            wasteCard.setIsFaceUp(true);\n            \n            ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n            Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n            wasteStack.setIcon(new ImageIcon(wasteCardScaled));\n        } else {\n            resetNewStack();\n        } //end of if statement\n    } //end of newStackClick method\n    \n    private void resetNewStack() {\n        deckOfCards.resetDrawCardIndex();\n        deckOfCards.shuffleDeck();\n        wasteCard = deckOfCards.drawCard();\n        wasteCard.setIsFaceUp(true);\n        \n        ImageIcon wasteCardFace = new ImageIcon(wasteCard.getImagePath());\n        Image wasteCardScaled = wasteCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        wasteStack.setIcon(new ImageIcon(wasteCardScaled));\n        \n        ImageIcon cardBack = new ImageIcon(Card.getBackImagePath());\n        Image cardBackScaled = cardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n        newStack.setIcon(new ImageIcon(cardBackScaled));\n    } //end of resetNewStack method\n    \n    private class newStackOnClick extends MouseAdapter {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            newStackClick();\n        } //end of mouseClicked method\n    } //end of newStackOnClick class\n\n    \n    public static void main(String[] args) {\n        new Solitaire();\n    } //end of main method\n\n} //end of SolitaireJLP class\n</code></pre>\n<pre><code>public class Card {\n    //instance variables\n    private final Suit SUIT;\n    private final Rank RANK;\n    private boolean isFaceUp;\n    \n    //methods\n    /**\n     * This is the constructor method for the Card class.\n     * @param suit - the suit to be assigned to the card.\n     * @param rank - the rank to be assigned to the card.\n     */\n    public Card(Suit suit, Rank rank) {\n        this.SUIT = suit;\n        this.RANK = rank;\n        this.isFaceUp = false;\n    } //end of constructor\n    \n    /**\n     * This method gives the user the suit of the Card.\n     * @return Suit - the suit of the Card.\n     */\n    public Suit getSuit() {\n        return this.SUIT;\n    } //end of getSuit method\n    /**\n     * This method gives the user the rank of the Card.\n     * @return Rank - the rank of the Card.\n     */\n    public Rank getRank() {\n        return this.RANK;\n    } //end of getRank method\n    \n    /**\n     * This method gives whether the Card is faced up or not.\n     * @return Boolean - true or false based on if the Card is facing up.\n     */\n    public boolean getIsFaceUp() {\n        return this.isFaceUp;\n    } //end of getIsFaceUp method\n    /**\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\n     */\n    public void setIsFaceUp(boolean b) {\n        this.isFaceUp = b;\n    } //end of setIsFaceUp method\n    \n    /**\n     * This method determines if the Card is from a red suit.\n     * @return Boolean - true or false if card is red\n     */\n    public boolean isRed() {\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\n    } //end of isRed method\n    /**\n     * This method determines if the Card is from a black suit.\n     * @return a Boolean true or false if card is black\n     */\n    public boolean isBlack() {\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\n    } //end of isBlack method\n    \n    /**\n     * This method determines if the card can be stacked on the card behind it.\n     * @return a Boolean true or false if it can be stacked\n     */\n    public boolean stackable(Card card) {\n        return this.isRed() != card.isRed();\n    } //end of stackable method\n    \n    /**\n     * This method gives the name of each card.\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\n     */\n    public String getName() {\n        String number = &quot;&quot;; //variable declaration\n        switch(RANK) { //switch to assign rank name\n            case ACE -&gt; number = &quot;A&quot;; //case\n            case TWO -&gt; number = &quot;2&quot;; //case\n            case THREE -&gt; number = &quot;3&quot;; //case\n            case FOUR -&gt; number = &quot;4&quot;; //case\n            case FIVE -&gt; number = &quot;5&quot;; //case\n            case SIX -&gt; number = &quot;6&quot;; //case\n            case SEVEN -&gt; number = &quot;7&quot;; //case\n            case EIGHT -&gt; number = &quot;8&quot;; //case\n            case NINE -&gt; number = &quot;9&quot;; //case\n            case TEN -&gt; number = &quot;10&quot;; //case\n            case JACK -&gt; number = &quot;J&quot;; //case\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\n            case KING -&gt; number = &quot;K&quot;; //case\n        } //end of switch\n        String suitName = &quot;&quot;; //variable declaration\n        switch(SUIT) { //switch to assign suit name\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\n        } //end of switch\n        return number + suitName; //return statement\n    } //end of getName method\n    \n    /**\n     * This method gives the path to a corresponding image.\n     * @return String - returns the path of the image corresponding with the card.\n     */\n    public String getImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\n    } //end of getImage method\n    /**\n     * This method gives the file path to the back of the card image.\n     * @return String the file path to the card back image\n     */\n    public static String getBackImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\n    } //end of getImageBackPath method\n    \n    @Override\n    /**\n     * This method returns the description about the instance variables.\n     * @return String - rank and suit of card along with image path.\n     */\n    public String toString() {\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\n    }\n} //end of Card class\n</code></pre>\n<pre><code>//imports\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Deck {\n    \n    //instance variables\n    private final ArrayList&lt;Card&gt; cards;\n    private int drawCardIndex;\n    \n    //methods\n    /**\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\n     */\n    public Deck() {\n        cards = new ArrayList&lt;&gt;(); //creating new deck\n        \n        for (Suit suit: Suit.values()) { //loops through suits\n            for (Rank rank: Rank.values()) { //loops through ranks\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\n            }\n        }\n        drawCardIndex = 0; //initializes index\n    } //end of constructor\n    \n    /**\n     * This method returns the size of the deck.\n     * @return int - size of deck\n     */\n    public int getSize() {\n        return cards.size();\n    } //end of getSize method\n    \n    /**\n     * This method returns a drawn card in the deck of cards.\n     * @return Card - a new drawn card in the deck of cards.\n     */\n    public Card drawCard() {\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\n            Card card = cards.get(drawCardIndex); //draws a card\n            drawCardIndex++; //increments\n            return card; //return statement\n        }\n        return null; //returns null if all of the cards have already been drawn\n    } //end of drawCard method\n    \n    /**\n     * This method shuffles the deck of cards.\n     */\n    public void shuffleDeck() {\n        Collections.shuffle(cards); //mixes ArrayList\n        resetDrawCardIndex(); //resets the drawCardIndex variable\n    } //end of shuffleDeck method\n    \n    /**\n     * This method resets the drawCardIndex.\n     */\n    public void resetDrawCardIndex() {\n        drawCardIndex = 0;\n    } //end of resetDrawCardIndex method\n    \n    /**\n     * This method checks if all of the cards have been drawn.\n     * @return Boolean true or false based on if all the cards have been drawn or not.\n     */\n    public boolean isEmpty() {\n        return cards.size() &lt;= drawCardIndex;\n    } //end of isEmpty method\n    \n} //end of Deck class\n</code></pre>\n"},{"tags":["java","javafx","raspberry-pi"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1598445508,"post_id":63596171,"comment_id":112460774,"body_markdown":"Have a look here: https://www.webtechie.be/post/2020-04-08-installing-java-and-javafx-on-raspberry-pi/","body":"Have a look here: <a href=\"https://www.webtechie.be/post/2020-04-08-installing-java-and-javafx-on-raspberry-pi/\" rel=\"nofollow noreferrer\">webtechie.be/post/&hellip;</a>"},{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":0,"creation_date":1598448537,"post_id":63596171,"comment_id":112462360,"body_markdown":"Thanks. But I also tried the method. Both Java 11 and LibericaJDK requires Raspberry pi with ARMv7 CPU. So, this method can&#39;t be inapplicable to Raspberry PI 1 Model B.","body":"Thanks. But I also tried the method. Both Java 11 and LibericaJDK requires Raspberry pi with ARMv7 CPU. So, this method can&#39;t be inapplicable to Raspberry PI 1 Model B."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1598449214,"post_id":63596171,"comment_id":112462749,"body_markdown":"As I recall JavaFX was included in Oracle&#39;s Java 8 but not in OpenJDK? You need to be careful not to break the license agreement or you can find yourself in trouble...","body":"As I recall JavaFX was included in Oracle&#39;s Java 8 but not in OpenJDK? You need to be careful not to break the license agreement or you can find yourself in trouble..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1598480651,"post_id":63596171,"comment_id":112476617,"body_markdown":"Does this run armv6? JavaFX11 from Gluon claims to have a version that runs on that. It requires JDK11 or later, so I think youd have to build a version of JDK11; thats probably a bit of a rabbit hole to go down but it may be a way forward...","body":"Does this run armv6? JavaFX11 from Gluon claims to have a version that runs on that. It requires JDK11 or later, so I think youd have to build a version of JDK11; thats probably a bit of a rabbit hole to go down but it may be a way forward..."},{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":0,"creation_date":1598530699,"post_id":63596171,"comment_id":112492700,"body_markdown":"To James_D : Unfortunately, The following error was output with JDK11.\n&quot;$ java -version\nError occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP&quot;\nPerhaps using Raspberry Pi 2 solve this, but I have lots of Raspberry Pi 1, and somehow I want to utilize them.","body":"To James_D : Unfortunately, The following error was output with JDK11. &quot;$ java -version Error occurred during initialization of VM Server VM is only supported on ARMv7+ VFP&quot; Perhaps using Raspberry Pi 2 solve this, but I have lots of Raspberry Pi 1, and somehow I want to utilize them."}],"answers":[{"comments":[{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":1,"creation_date":1598531329,"post_id":63610544,"comment_id":112493003,"body_markdown":"Thank you for telling completely new method. I am going to try your method this or next weekend.Please wait.","body":"Thank you for telling completely new method. I am going to try your method this or next weekend.Please wait."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1598558836,"post_id":63610544,"comment_id":112506698,"body_markdown":"@TRI I got challenged by your question to finish a blog post I started working on a long time ago... ;-) so I was able to update my answer above with more info and include a link to the fully detailed step-by-step on my blog. Hope this helps you to solve your problem!","body":"@TRI I got challenged by your question to finish a blog post I started working on a long time ago... ;-) so I was able to update my answer above with more info and include a link to the fully detailed step-by-step on my blog. Hope this helps you to solve your problem!"},{"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"score":1,"creation_date":1600606399,"post_id":63610544,"comment_id":113134789,"body_markdown":"I&#39;m Sorry to tell you late. I succeed to run my jar file with your proposed method. Thanks!","body":"I&#39;m Sorry to tell you late. I succeed to run my jar file with your proposed method. Thanks!"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1600704566,"post_id":63610544,"comment_id":113164843,"body_markdown":"@tri happy I could help and thanks for accepting my answer!","body":"@tri happy I could help and thanks for accepting my answer!"}],"tags":[],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598558683,"creation_date":1598510777,"answer_id":63610544,"question_id":63596171,"body_markdown":"Indeed almost all Linux JDKs for ARM now are for 64bit. \r\n\r\nBut Azul has a Zulu JDK you can start from: https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk\r\n\r\n```\r\n$ cd /usr/lib/jvm\r\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\r\n$ ls -l\r\ntotal 12\r\nlrwxrwxrwx  1 root root   21 Jul 23 15:58 java-1.11.0-openjdk-armhf -&gt; java-11-openjdk-armhf\r\ndrwxr-xr-x  9 root root 4096 Aug 20 11:41 java-11-openjdk-armhf\r\ndrwxr-xr-x  2 root root 4096 Aug 20 11:41 openjdk-11\r\ndrwxrwxr-x 10  111  122 4096 Jul 10 16:50 zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf\r\n\r\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\r\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\r\n\r\n$ sudo update-alternatives --config java\r\nThere are 2 choices for the alternative java (providing /usr/bin/java).\r\n\r\n  Selection    Path                                                             Priority   Status\r\n------------------------------------------------------------\r\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      auto mode\r\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      manual mode\r\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java   1         manual mode\r\n\r\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\r\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java to provide /usr/bin/java (java) in manual mode\r\n\r\n$ sudo update-alternatives --config javac\r\nThere are 2 choices for the alternative javac (providing /usr/bin/javac).\r\n\r\n  Selection    Path                                                              Priority   Status\r\n------------------------------------------------------------\r\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      auto mode\r\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      manual mode\r\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac   1         manual mode\r\n\r\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\r\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac to provide /usr/bin/javac (javac) in manual mode\r\n\r\n$ java -version\r\nopenjdk version &quot;11.0.8&quot; 2020-07-14 LTS\r\nOpenJDK Runtime Environment Zulu11.41+75-CA (build 11.0.8+10-LTS)\r\nOpenJDK Client VM Zulu11.41+75-CA (build 11.0.8+10-LTS, mixed mode)\r\n```\r\n\r\nNext step is installing JavaFX from https://gluonhq.com/products/javafx/ &gt; &quot;JavaFX armv6hf SDK&quot;\r\n\r\n```\r\n$ cd /home/pi\r\n$ wget -O javafx.zip https://gluonhq.com/download/javafx-11-0-2-sdk-armv6hf/\r\n$ unzip javafx.zip\r\n$ rm javafx.zip\r\n```\r\n\r\nWhen this is done, you can run your application with the following command:\r\n\r\n```\r\n$ sudo java --module-path /home/pi/armv6hf-sdk/lib --add-modules=javafx.controls -jar YOUR-APP.jar\r\n```\r\n\r\nFor the full step-by-step, check this article on my blog: https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/","title":"How to install JavaFX on Raspberry Pi OS","body":"<p>Indeed almost all Linux JDKs for ARM now are for 64bit.</p>\n<p>But Azul has a Zulu JDK you can start from: <a href=\"https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu-community/?version=java-11-lts&amp;os=linux&amp;architecture=arm-32-bit-hf&amp;package=jdk</a></p>\n<pre><code>$ cd /usr/lib/jvm\n$ sudo wget https://cdn.azul.com/zulu-embedded/bin/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ sudo tar -xzvf zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ sudo rm zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf.tar.gz\n$ ls -l\ntotal 12\nlrwxrwxrwx  1 root root   21 Jul 23 15:58 java-1.11.0-openjdk-armhf -&gt; java-11-openjdk-armhf\ndrwxr-xr-x  9 root root 4096 Aug 20 11:41 java-11-openjdk-armhf\ndrwxr-xr-x  2 root root 4096 Aug 20 11:41 openjdk-11\ndrwxrwxr-x 10  111  122 4096 Jul 10 16:50 zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf\n\n$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java 1\n$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac 1\n\n$ sudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                                             Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/java                       1111      manual mode\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java   1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/java to provide /usr/bin/java (java) in manual mode\n\n$ sudo update-alternatives --config javac\nThere are 2 choices for the alternative javac (providing /usr/bin/javac).\n\n  Selection    Path                                                              Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      auto mode\n  1            /usr/lib/jvm/java-11-openjdk-armhf/bin/javac                       1111      manual mode\n  2            /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac   1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\nupdate-alternatives: using /usr/lib/jvm/zulu11.41.75-ca-jdk11.0.8-linux_aarch32hf/bin/javac to provide /usr/bin/javac (javac) in manual mode\n\n$ java -version\nopenjdk version &quot;11.0.8&quot; 2020-07-14 LTS\nOpenJDK Runtime Environment Zulu11.41+75-CA (build 11.0.8+10-LTS)\nOpenJDK Client VM Zulu11.41+75-CA (build 11.0.8+10-LTS, mixed mode)\n</code></pre>\n<p>Next step is installing JavaFX from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a> &gt; &quot;JavaFX armv6hf SDK&quot;</p>\n<pre><code>$ cd /home/pi\n$ wget -O javafx.zip https://gluonhq.com/download/javafx-11-0-2-sdk-armv6hf/\n$ unzip javafx.zip\n$ rm javafx.zip\n</code></pre>\n<p>When this is done, you can run your application with the following command:</p>\n<pre><code>$ sudo java --module-path /home/pi/armv6hf-sdk/lib --add-modules=javafx.controls -jar YOUR-APP.jar\n</code></pre>\n<p>For the full step-by-step, check this article on my blog: <a href=\"https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/\" rel=\"nofollow noreferrer\">https://webtechie.be/post/2020-08-27-azul-zulu-java-11-and-gluon-javafx-11-on-armv6-raspberry-pi/</a></p>\n"}],"owner":{"account_id":19362653,"reputation":33,"user_id":14157622,"display_name":"TRI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63610544,"answer_count":1,"score":1,"last_activity_date":1687138643,"creation_date":1598439578,"question_id":63596171,"body_markdown":"I want to run .jar file with JavaFX packeages on Raspberry PI 1 Model B.\r\nJavaFX is not  included in JDK 8 version for ARM. Hence I tried to install JavaFX by reference to the following web site. \r\nhttps://stackoverrun.com/ja/q/11146620\r\n\r\nI succeeded to install JDK and move extracted files form a zip archive to JDK required folders.\r\nI tried to run two .jar files after that. The GUI of one .jar file is consisted of Swing package, the other is consisted of JavaFX package.\r\nThe .jar file consisted of Swing package worked well, as shown in the following figure.\r\n[Swing on Raspbian][1]\r\n\r\nOn the other hand, the .jar file consisted of JavaFX package outputs errors or warnings as shown in the following figure.\r\n[JavaFX on Raspbian][2]\r\n\r\nAfter these outputs, abnomal GUI without titlebar was desplayed. Consequently, minimizing, maxmizing/resizing closing and moving window are unable.\r\nAdditionally, surroundings of window is filled with black.\r\n[Displayed window of JavaFX on Raspbian][3]\r\n\r\nOf cource it is confirmed that these two .jar files worked well on Java 8 on windows 10 environment without errors.\r\n[Swing on Windows 10][4]\r\n[JavaFX on Windows 10][5]\r\n\r\nNote:As you know, Java 8 version for windows includes JavaFX libraries originally.\r\n\r\nI want to solve this problem.\r\nMy current OS and Java information is shown below.\r\n[Running Environment][6]\r\n\r\nThanks so much for your time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MllfN.jpg\r\n  [2]: https://i.stack.imgur.com/Aq401.jpg\r\n  [3]: https://i.stack.imgur.com/2D17v.jpg\r\n  [4]: https://i.stack.imgur.com/BzfWn.png\r\n  [5]: https://i.stack.imgur.com/98h1L.png\r\n  [6]: https://i.stack.imgur.com/PepdU.jpg","title":"How to install JavaFX on Raspberry Pi OS","body":"<p>I want to run .jar file with JavaFX packeages on Raspberry PI 1 Model B.\nJavaFX is not  included in JDK 8 version for ARM. Hence I tried to install JavaFX by reference to the following web site.\n<a href=\"https://stackoverrun.com/ja/q/11146620\" rel=\"nofollow noreferrer\">https://stackoverrun.com/ja/q/11146620</a></p>\n<p>I succeeded to install JDK and move extracted files form a zip archive to JDK required folders.\nI tried to run two .jar files after that. The GUI of one .jar file is consisted of Swing package, the other is consisted of JavaFX package.\nThe .jar file consisted of Swing package worked well, as shown in the following figure.\n<a href=\"https://i.stack.imgur.com/MllfN.jpg\" rel=\"nofollow noreferrer\">Swing on Raspbian</a></p>\n<p>On the other hand, the .jar file consisted of JavaFX package outputs errors or warnings as shown in the following figure.\n<a href=\"https://i.stack.imgur.com/Aq401.jpg\" rel=\"nofollow noreferrer\">JavaFX on Raspbian</a></p>\n<p>After these outputs, abnomal GUI without titlebar was desplayed. Consequently, minimizing, maxmizing/resizing closing and moving window are unable.\nAdditionally, surroundings of window is filled with black.\n<a href=\"https://i.stack.imgur.com/2D17v.jpg\" rel=\"nofollow noreferrer\">Displayed window of JavaFX on Raspbian</a></p>\n<p>Of cource it is confirmed that these two .jar files worked well on Java 8 on windows 10 environment without errors.\n<a href=\"https://i.stack.imgur.com/BzfWn.png\" rel=\"nofollow noreferrer\">Swing on Windows 10</a>\n<a href=\"https://i.stack.imgur.com/98h1L.png\" rel=\"nofollow noreferrer\">JavaFX on Windows 10</a></p>\n<p>Note:As you know, Java 8 version for windows includes JavaFX libraries originally.</p>\n<p>I want to solve this problem.\nMy current OS and Java information is shown below.\n<a href=\"https://i.stack.imgur.com/PepdU.jpg\" rel=\"nofollow noreferrer\">Running Environment</a></p>\n<p>Thanks so much for your time.</p>\n"},{"tags":["java","regex","escaping","quotes"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1389443818,"post_id":6525556,"comment_id":31672134,"body_markdown":"possible duplicate of [How can I match double-quoted strings with escaped double-quote characters?](http://stackoverflow.com/questions/481282/how-can-i-match-double-quoted-strings-with-escaped-double-quote-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/481282/how-can-i-match-double-quoted-strings-with-escaped-double-quote-characters\">How can I match double-quoted strings with escaped double-quote characters?</a>"}],"answers":[{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1309383989,"post_id":6525579,"comment_id":7685358,"body_markdown":"That doesn&#39;t work.  When I try it on the string `&quot;Lorem \\&quot;ipsum\\&quot; tritani impedit civibus ei pri`, RegexBuddy tells me it takes 215 steps to (incorrectly) match `&quot;Lorem \\&quot;ipsum\\&quot;`.  Compare that to @arcain&#39;s solution, which takes only 15 steps to (correctly) report an unsuccessful match attempt.","body":"That doesn&#39;t work.  When I try it on the string <code>&quot;Lorem \\&quot;ipsum\\&quot; tritani impedit civibus ei pri</code>, RegexBuddy tells me it takes 215 steps to (incorrectly) match <code>&quot;Lorem \\&quot;ipsum\\&quot;</code>.  Compare that to @arcain&#39;s solution, which takes only 15 steps to (correctly) report an unsuccessful match attempt."},{"owner":{"account_id":413955,"reputation":27535,"user_id":787893,"accept_rate":100,"display_name":"agent-j"},"score":0,"creation_date":1309386125,"post_id":6525579,"comment_id":7685802,"body_markdown":"@Alan, that&#39;s really interesting that mine matches arguably invalid data.  I am glad you shared that with me -- it&#39;s like getting a (good) code review on my regexes.  Sometime I&#39;m going to have to invest in that RegexBuddy tool.","body":"@Alan, that&#39;s really interesting that mine matches arguably invalid data.  I am glad you shared that with me -- it&#39;s like getting a (good) code review on my regexes.  Sometime I&#39;m going to have to invest in that RegexBuddy tool."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":2,"creation_date":1309387955,"post_id":6525579,"comment_id":7686151,"body_markdown":"Yeah, it&#39;s very handy, but if you haven&#39;t invested in [MRE](http://www.oreilly.com/catalog/regex3/index.html) yet, do that first.","body":"Yeah, it&#39;s very handy, but if you haven&#39;t invested in <a href=\"http://www.oreilly.com/catalog/regex3/index.html\" rel=\"nofollow noreferrer\">MRE</a> yet, do that first."},{"owner":{"account_id":73130,"reputation":15000,"user_id":210774,"accept_rate":100,"display_name":"arcain"},"score":0,"creation_date":1309392501,"post_id":6525579,"comment_id":7686913,"body_markdown":"Actually, the pattern I provided evolved from one in Mastering Regular Expressions. I think I&#39;ve been using it (the pattern) for almost ten years now.","body":"Actually, the pattern I provided evolved from one in Mastering Regular Expressions. I think I&#39;ve been using it (the pattern) for almost ten years now."}],"tags":[],"owner":{"account_id":413955,"reputation":27535,"user_id":787893,"accept_rate":100,"display_name":"agent-j"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309373121,"creation_date":1309372769,"answer_id":6525579,"question_id":6525556,"body_markdown":"Try this one...  It prefers the `\\&quot;`, if that matches, it will pick it, otherwise it will pick `&quot;`.\r\n\r\n    &quot;((?:\\\\&quot;|[^&quot;])*)&quot;\r\n\r\nOnce you have matched the string, you&#39;ll need to take the first captured group&#39;s value and replace `\\&quot;` with `&quot;`.\r\n\r\nEdit: Fixed grouping logic.","title":"Regular expression to match escaped characters (quotes)","body":"<p>Try this one...  It prefers the <code>\\\"</code>, if that matches, it will pick it, otherwise it will pick <code>\"</code>.</p>\n\n<pre><code>\"((?:\\\\\"|[^\"])*)\"\n</code></pre>\n\n<p>Once you have matched the string, you'll need to take the first captured group's value and replace <code>\\\"</code> with <code>\"</code>.</p>\n\n<p>Edit: Fixed grouping logic.</p>\n"},{"comments":[{"owner":{"account_id":6423020,"reputation":7870,"user_id":4979159,"accept_rate":83,"display_name":"maraaaaaaaa"},"score":0,"creation_date":1482948102,"post_id":6525975,"comment_id":69936155,"body_markdown":"your regex will not work on `\\&quot;This is \\&quot; not supposed to be \\&quot; valid&quot;`","body":"your regex will not work on <code>\\&quot;This is \\&quot; not supposed to be \\&quot; valid&quot;</code>"},{"owner":{"account_id":73130,"reputation":15000,"user_id":210774,"accept_rate":100,"display_name":"arcain"},"score":0,"creation_date":1483489899,"post_id":6525975,"comment_id":70115341,"body_markdown":"@maksymiuk Yes, you&#39;re correct.  I expect the string to start with a quote, and I don&#39;t check to see if that first quote is escaped.  If that&#39;s something you need to do, the pattern can be adjusted to account for this by using negative look-ahead: `((?&lt;!\\\\)&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;)`","body":"@maksymiuk Yes, you&#39;re correct.  I expect the string to start with a quote, and I don&#39;t check to see if that first quote is escaped.  If that&#39;s something you need to do, the pattern can be adjusted to account for this by using negative look-ahead: <code>((?&lt;!\\\\)&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;)</code>"},{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":1,"creation_date":1683042179,"post_id":6525975,"comment_id":134304319,"body_markdown":"username checks out","body":"username checks out"}],"tags":[],"owner":{"account_id":73130,"reputation":15000,"user_id":210774,"accept_rate":100,"display_name":"arcain"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1309379159,"creation_date":1309374937,"answer_id":6525975,"question_id":6525556,"body_markdown":"Here is one that I&#39;ve used in the past:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    (&quot;[^&quot;\\\\]*(?:\\\\.[^&quot;\\\\]*)*&quot;)\r\n\r\nThis will capture quoted strings, along with any escaped quote characters, and exclude anything that doesn&#39;t appear in enclosing quotes.\r\n\r\nFor example, the pattern will capture `&quot;This is valid&quot;` and `&quot;This is \\&quot; also \\&quot; valid&quot;` from this string:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;This is valid&quot; this won&#39;t be captured &quot;This is \\&quot; also \\&quot; valid&quot;\r\n\r\nThis pattern will *not* match the string `&quot;I don&#39;t \\&quot;have\\&quot; a closing quote`, and will allow for additional escape codes in the string (e.g., it will match `&quot;hello world!\\n&quot;`).\r\n\r\nOf course, you&#39;ll have to escape the pattern to use it in your code, like so:\r\n\r\n    &quot;(\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;)&quot;\r\n\r\n\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>Here is one that I've used in the past:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")\n</code></pre>\n\n<p>This will capture quoted strings, along with any escaped quote characters, and exclude anything that doesn't appear in enclosing quotes.</p>\n\n<p>For example, the pattern will capture <code>\"This is valid\"</code> and <code>\"This is \\\" also \\\" valid\"</code> from this string:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"This is valid\" this won't be captured \"This is \\\" also \\\" valid\"\n</code></pre>\n\n<p>This pattern will <em>not</em> match the string <code>\"I don't \\\"have\\\" a closing quote</code>, and will allow for additional escape codes in the string (e.g., it will match <code>\"hello world!\\n\"</code>).</p>\n\n<p>Of course, you'll have to escape the pattern to use it in your code, like so:</p>\n\n<pre><code>\"(\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\")\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2762539,"reputation":304,"user_id":2379136,"accept_rate":25,"display_name":"th317erd"},"score":0,"creation_date":1491958675,"post_id":41470813,"comment_id":73779679,"body_markdown":"Negative lookbehind isn&#39;t supported in Javascript (yet: https://v8project.blogspot.com/2016/02/regexp-lookbehind-assertions.html).","body":"Negative lookbehind isn&#39;t supported in Javascript (yet: <a href=\"https://v8project.blogspot.com/2016/02/regexp-lookbehind-assertions.html\" rel=\"nofollow noreferrer\">v8project.blogspot.com/2016/02/&hellip;</a>)."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1687035077,"post_id":41470813,"comment_id":134881768,"body_markdown":"It&#39;d help if you broke down the regex and explained each part.","body":"It&#39;d help if you broke down the regex and explained each part."},{"owner":{"account_id":6423020,"reputation":7870,"user_id":4979159,"accept_rate":83,"display_name":"maraaaaaaaa"},"score":2,"creation_date":1687138097,"post_id":41470813,"comment_id":134890273,"body_markdown":"@AbhijitSarkar done","body":"@AbhijitSarkar done"}],"tags":[],"owner":{"account_id":6423020,"reputation":7870,"user_id":4979159,"accept_rate":83,"display_name":"maraaaaaaaa"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1687138078,"creation_date":1483554465,"answer_id":41470813,"question_id":6525556,"body_markdown":"The problem with all the other answers is they only match for the initial obvious testing, but fall short to further scrutiny. For example, all of the answers expect that the very first quote will not be escaped. But most importantly, escaping is a more complex process than just a single backslash, because that backslash itself can be escaped. Imagine trying to actually match a string which ends with a backslash. How would that be possible?\r\n\r\nThis would be the pattern you are looking for. It doesn&#39;t assume that the first quote is the working one, and it will allow for backslashes to be escaped.\r\n\r\n    (?&lt;!\\\\)(?:\\\\{2})*&quot;(?:(?&lt;!\\\\)(?:\\\\{2})*\\\\&quot;|[^&quot;])+(?&lt;!\\\\)(?:\\\\{2})*&quot;\r\n\r\nExplanation:\r\n\r\n&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;\r\n&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;\r\n&gt; `&quot;` Quote char\r\n&gt;\r\n&gt; `(?:` Open group\r\n&gt;&gt;\r\n&gt;&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;&gt;\r\n&gt;&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;&gt;\r\n&gt;&gt; `\\\\&quot;` Escaped quote char (because these are allowed inside the quotes)\r\n&gt;&gt;\r\n&gt;&gt; `|` Or\r\n&gt;&gt;\r\n&gt;&gt; `[^&quot;]` Anything other than a quote char\r\n&gt;&gt;\r\n&gt; `)` Close group\r\n&gt;\r\n&gt; `+` 1 or more of what the group matched\r\n&gt;\r\n&gt; `(?&lt;!\\\\)` No backslashes behind (to make sure we start matching from first one)\r\n&gt;\r\n&gt; `(?:\\\\{2})*` Any number of doubled backslashes (they nullify each other)\r\n&gt;\r\n&gt; `&quot;` Quote char\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>The problem with all the other answers is they only match for the initial obvious testing, but fall short to further scrutiny. For example, all of the answers expect that the very first quote will not be escaped. But most importantly, escaping is a more complex process than just a single backslash, because that backslash itself can be escaped. Imagine trying to actually match a string which ends with a backslash. How would that be possible?</p>\n<p>This would be the pattern you are looking for. It doesn't assume that the first quote is the working one, and it will allow for backslashes to be escaped.</p>\n<pre><code>(?&lt;!\\\\)(?:\\\\{2})*&quot;(?:(?&lt;!\\\\)(?:\\\\{2})*\\\\&quot;|[^&quot;])+(?&lt;!\\\\)(?:\\\\{2})*&quot;\n</code></pre>\n<p>Explanation:</p>\n<blockquote>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>&quot;</code> Quote char</p>\n<p><code>(?:</code> Open group</p>\n<blockquote>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>\\\\&quot;</code> Escaped quote char (because these are allowed inside the quotes)</p>\n<p><code>|</code> Or</p>\n<p><code>[^&quot;]</code> Anything other than a quote char</p>\n</blockquote>\n<p><code>)</code> Close group</p>\n<p><code>+</code> 1 or more of what the group matched</p>\n<p><code>(?&lt;!\\\\)</code> No backslashes behind (to make sure we start matching from first one)</p>\n<p><code>(?:\\\\{2})*</code> Any number of doubled backslashes (they nullify each other)</p>\n<p><code>&quot;</code> Quote char</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490629070,"creation_date":1490629070,"answer_id":43050700,"question_id":6525556,"body_markdown":"Please find in the below code comprising expression evaluation for &lt;b&gt;String&lt;/b&gt;, &lt;b&gt;Number&lt;/b&gt; and &lt;b&gt;Decimal&lt;/b&gt;.\r\n\r\n\r\n    public static void commaSeparatedStrings() {\t\t\r\n\t\tString value = &quot;&#39;It\\\\&#39;s my world&#39;, &#39;Hello World&#39;, &#39;What\\\\&#39;s up&#39;, &#39;It\\\\&#39;s just what I expected.&#39;&quot;;\r\n\t\t\r\n\t\tif (value.matches(&quot;&#39;([^\\&#39;\\\\\\\\]*(?:\\\\\\\\.[^\\&#39;\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+&#39;(((,)|(,\\\\s))&#39;([^\\&#39;\\\\\\\\]*(?:\\\\\\\\.[^\\&#39;\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+&#39;)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic static void commaSeparatedDecimals() {\r\n\t\tString value = &quot;-111.00, 22111.00, -1.00&quot;;\r\n\t\t// &quot;\\\\d+([,]|[,\\\\s]\\\\d+)*&quot;\r\n\t\tif (value.matches(\r\n\t\t\t\t&quot;^([-]?)\\\\d+\\\\.\\\\d{1,10}?(((,)|(,\\\\s))([-]?)\\\\d+\\\\.\\\\d{1,10}?)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tpublic static void commaSeparatedNumbers() {\r\n\t\tString value = &quot;-11, 22, -31&quot;;\t\t\r\n\t\tif (value.matches(&quot;^([-]?)\\\\d+(((,)|(,\\\\s))([-]?)\\\\d+)*&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Valid...&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid...&quot;);\r\n\t\t}\r\n\t}","title":"Regular expression to match escaped characters (quotes)","body":"<p>Please find in the below code comprising expression evaluation for <b>String</b>, <b>Number</b> and <b>Decimal</b>.</p>\n\n<pre><code>public static void commaSeparatedStrings() {        \n    String value = \"'It\\\\'s my world', 'Hello World', 'What\\\\'s up', 'It\\\\'s just what I expected.'\";\n\n    if (value.matches(\"'([^\\'\\\\\\\\]*(?:\\\\\\\\.[^\\'\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+'(((,)|(,\\\\s))'([^\\'\\\\\\\\]*(?:\\\\\\\\.[^\\'\\\\\\\\])*)[\\\\w\\\\s,\\\\.]+')*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n\n/**\n * \n */\npublic static void commaSeparatedDecimals() {\n    String value = \"-111.00, 22111.00, -1.00\";\n    // \"\\\\d+([,]|[,\\\\s]\\\\d+)*\"\n    if (value.matches(\n            \"^([-]?)\\\\d+\\\\.\\\\d{1,10}?(((,)|(,\\\\s))([-]?)\\\\d+\\\\.\\\\d{1,10}?)*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n\n/**\n * \n */\npublic static void commaSeparatedNumbers() {\n    String value = \"-11, 22, -31\";      \n    if (value.matches(\"^([-]?)\\\\d+(((,)|(,\\\\s))([-]?)\\\\d+)*\")) {\n        System.out.println(\"Valid...\");\n    } else {\n        System.out.println(\"Invalid...\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519640670,"creation_date":1519390021,"answer_id":48948269,"question_id":6525556,"body_markdown":"This\r\n\r\n    (&quot;((?:[^&quot;\\\\])*(?:\\\\\\&quot;)*(?:\\\\\\\\)*)*&quot;)\r\n\r\nwill capture all strings (within double quotes), including \\\\&quot; and \\\\\\\\ escape sequences. (Note that this answer assumes that the _only_ escape sequences in your string are \\\\&quot; or \\\\\\\\ sequences -- no other backslash characters or escape sequences will be captured.)\r\n\r\n    (&quot;(?:         # begin with a quote and capture...\r\n      (?:[^&quot;\\\\])* # any non-\\, non-&quot; characters\r\n      (?:\\\\\\&quot;)*   # any combined \\&quot; sequences\r\n      (?:\\\\\\\\)*   # and any combined \\\\ sequences\r\n      )*          # any number of times\r\n    &quot;)            # then, close the string with a quote\r\n\r\n**[Try it out here!][1]**\r\n\r\nAlso, note that [maksymiuk&#39;s accepted answer][2] contains an &quot;edge case&quot; (&quot;Imagine trying to actually match a string which ends with a backslash&quot;) which is actually just a malformed string. Something like\r\n\r\n    &quot;this\\&quot;\r\n\r\n...is not a &quot;string ending on a backslash&quot;, but an unclosed string ending on an escaped quotation mark. A string which truly ends on a backslash would look like\r\n\r\n    &quot;this\\\\&quot;\r\n\r\n...and the above solution handles this case.\r\n\r\n_____\r\n\r\nIf you want to expand a bit, this...\r\n\r\n    (\\\\(?:b|t|n|f|r|\\&quot;|\\\\)|\\\\(?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))|\\\\(?:u(?:[0-9a-fA-F]{4})))\r\n\r\n...captures all common escape sequences (including escaped quotes):\r\n\r\n    (\\\\                       # get the preceding slash (for each section)\r\n      (?:b|t|n|f|r|\\&quot;|\\\\)     # capture common sequences like \\n and \\t\r\n\r\n      |\\\\                     # OR (get the preceding slash and)...\r\n      # capture variable-width octal escape sequences like \\02, \\13, or \\377\r\n      (?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))\r\n\r\n      |\\\\                     # OR (get the preceding slash and)...\r\n      (?:u(?:[0-9a-fA-F]{4})) # capture fixed-width Unicode sequences like \\u0242 or \\uFFAD\r\n    )\r\n\r\nSee [this Gist][3] for more information on the second point.\r\n\r\n\r\n  [1]: https://regex101.com/r/QmWgW6/1\r\n  [2]: https://stackoverflow.com/a/41470813/2925434\r\n  [3]: https://gist.github.com/awwsmm/b1707beead1adba391214b50fbd4a794","title":"Regular expression to match escaped characters (quotes)","body":"<p>This</p>\n\n<pre><code>(\"((?:[^\"\\\\])*(?:\\\\\\\")*(?:\\\\\\\\)*)*\")\n</code></pre>\n\n<p>will capture all strings (within double quotes), including \\\" and \\\\ escape sequences. (Note that this answer assumes that the <em>only</em> escape sequences in your string are \\\" or \\\\ sequences -- no other backslash characters or escape sequences will be captured.)</p>\n\n<pre><code>(\"(?:         # begin with a quote and capture...\n  (?:[^\"\\\\])* # any non-\\, non-\" characters\n  (?:\\\\\\\")*   # any combined \\\" sequences\n  (?:\\\\\\\\)*   # and any combined \\\\ sequences\n  )*          # any number of times\n\")            # then, close the string with a quote\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/QmWgW6/1\" rel=\"nofollow noreferrer\">Try it out here!</a></strong></p>\n\n<p>Also, note that <a href=\"https://stackoverflow.com/a/41470813/2925434\">maksymiuk's accepted answer</a> contains an \"edge case\" (\"Imagine trying to actually match a string which ends with a backslash\") which is actually just a malformed string. Something like</p>\n\n<pre><code>\"this\\\"\n</code></pre>\n\n<p>...is not a \"string ending on a backslash\", but an unclosed string ending on an escaped quotation mark. A string which truly ends on a backslash would look like</p>\n\n<pre><code>\"this\\\\\"\n</code></pre>\n\n<p>...and the above solution handles this case.</p>\n\n<hr>\n\n<p>If you want to expand a bit, this...</p>\n\n<pre><code>(\\\\(?:b|t|n|f|r|\\\"|\\\\)|\\\\(?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))|\\\\(?:u(?:[0-9a-fA-F]{4})))\n</code></pre>\n\n<p>...captures all common escape sequences (including escaped quotes):</p>\n\n<pre><code>(\\\\                       # get the preceding slash (for each section)\n  (?:b|t|n|f|r|\\\"|\\\\)     # capture common sequences like \\n and \\t\n\n  |\\\\                     # OR (get the preceding slash and)...\n  # capture variable-width octal escape sequences like \\02, \\13, or \\377\n  (?:(?:[0-2][0-9]{1,2}|3[0-6][0-9]|37[0-7]|[0-9]{1,2}))\n\n  |\\\\                     # OR (get the preceding slash and)...\n  (?:u(?:[0-9a-fA-F]{4})) # capture fixed-width Unicode sequences like \\u0242 or \\uFFAD\n)\n</code></pre>\n\n<p>See <a href=\"https://gist.github.com/awwsmm/b1707beead1adba391214b50fbd4a794\" rel=\"nofollow noreferrer\">this Gist</a> for more information on the second point.</p>\n"},{"comments":[{"owner":{"account_id":6423020,"reputation":7870,"user_id":4979159,"accept_rate":83,"display_name":"maraaaaaaaa"},"score":0,"creation_date":1632758683,"post_id":61952433,"comment_id":122574027,"body_markdown":"Not only is `&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;` not supposed to be true (the quotes are not escaped, only the backslashes are escaped), but also if you add any amount of pairs of backslashes before the first quote, it will not recognize the first quote. Backslashes in pairs represent an actual backslash which is escaped","body":"Not only is <code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;</code> not supposed to be true (the quotes are not escaped, only the backslashes are escaped), but also if you add any amount of pairs of backslashes before the first quote, it will not recognize the first quote. Backslashes in pairs represent an actual backslash which is escaped"}],"tags":[],"owner":{"account_id":10579175,"reputation":464,"user_id":10561224,"display_name":"Igor Zvyagin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610096739,"creation_date":1590141584,"answer_id":61952433,"question_id":6525556,"body_markdown":"It works for me and it is simpler than current answer\r\n\r\n    (?&lt;!\\\\+)&quot;(\\\\&quot;|[^&quot;])*(?&lt;!\\\\+)&quot;\r\n\r\n`(?&lt;!\\\\+)` - before `&quot;` not must be `\\`, and this expression is left and right.\r\n\r\n`(\\\\&quot;|[^&quot;])*` - that inside quotes: might be escaped quotes `\\\\&quot;` or anything for except quotes `[^&quot;]`\r\n\r\nCurrent regexp work correctly for follow strings:\r\n\r\n`234` - `false` or `null`\r\n\r\n`&quot;234&quot;` - `true` or `[&quot;234&quot;]`\r\n\r\n`&quot;&quot;` - `true` or `[&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;` - `true` or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;` - `true`\r\n\r\n or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;, &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;]`\r\n\r\n`&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;\\\\&quot;`  - `true`\r\n\r\n or `[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]`\r\n\r\n","title":"Regular expression to match escaped characters (quotes)","body":"<p>It works for me and it is simpler than current answer</p>\n<pre><code>(?&lt;!\\\\+)&quot;(\\\\&quot;|[^&quot;])*(?&lt;!\\\\+)&quot;\n</code></pre>\n<p><code>(?&lt;!\\\\+)</code> - before <code>&quot;</code> not must be <code>\\</code>, and this expression is left and right.</p>\n<p><code>(\\\\&quot;|[^&quot;])*</code> - that inside quotes: might be escaped quotes <code>\\\\&quot;</code> or anything for except quotes <code>[^&quot;]</code></p>\n<p>Current regexp work correctly for follow strings:</p>\n<p><code>234</code> - <code>false</code> or <code>null</code></p>\n<p><code>&quot;234&quot;</code> - <code>true</code> or <code>[&quot;234&quot;]</code></p>\n<p><code>&quot;&quot;</code> - <code>true</code> or <code>[&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;</code> - <code>true</code> or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;</code> - <code>true</code></p>\n<p>or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;, &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;&quot;]</code></p>\n<p><code>&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot; + 123 + &quot;\\\\&quot;test(\\\\&quot;235\\\\&quot;)\\\\&quot;\\\\&quot;</code>  - <code>true</code></p>\n<p>or <code>[&quot;234 + 321 \\\\&quot;24\\\\&quot;&quot;]</code></p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29767,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":41470813,"answer_count":6,"score":17,"last_activity_date":1687138078,"creation_date":1309372613,"question_id":6525556,"body_markdown":"I want to build a simple regex that covers quoted strings, including any escaped quotes within them. For instance,\r\n\r\n    &quot;This is valid&quot;\r\n    &quot;This is \\&quot; also \\&quot; valid&quot;\r\n\r\nObviously, something like\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;([^&quot;]*)&quot;\r\n\r\ndoes not work, because it matches up to the first escaped quote.\r\n\r\nWhat is the correct version?\r\n\r\nI suppose the answer would be the same for other escaped characters (by just replacing the respective character).\r\n\r\nBy the way, I am aware of the &quot;catch-all&quot; regex\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;(.*?)&quot;\r\n\r\nbut I try to avoid it whenever possible, because, not surprisingly, it runs somewhat slower than a more specific one.","title":"Regular expression to match escaped characters (quotes)","body":"<p>I want to build a simple regex that covers quoted strings, including any escaped quotes within them. For instance,</p>\n\n<pre><code>\"This is valid\"\n\"This is \\\" also \\\" valid\"\n</code></pre>\n\n<p>Obviously, something like</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"([^\"]*)\"\n</code></pre>\n\n<p>does not work, because it matches up to the first escaped quote.</p>\n\n<p>What is the correct version?</p>\n\n<p>I suppose the answer would be the same for other escaped characters (by just replacing the respective character).</p>\n\n<p>By the way, I am aware of the \"catch-all\" regex</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>\"(.*?)\"\n</code></pre>\n\n<p>but I try to avoid it whenever possible, because, not surprisingly, it runs somewhat slower than a more specific one.</p>\n"},{"tags":["java","if-statement","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687072545,"creation_date":1687072545,"answer_id":76499425,"question_id":76499393,"body_markdown":"The order of checks matter here.\r\n\r\n```\r\nif (x &gt; 250) {\r\n    //Do something as number to big\r\n} else if (x &gt;= 201) {\r\n    // handle x between 201 an 250\r\n} else if(x &gt;= 101) {\r\n    // handle x between 101 an 200\r\n} else { \r\n    // handle x between 1 an 100\r\n}\r\n\r\n```","title":"Nested if loops with conditional statements","body":"<p>The order of checks matter here.</p>\n<pre><code>if (x &gt; 250) {\n    //Do something as number to big\n} else if (x &gt;= 201) {\n    // handle x between 201 an 250\n} else if(x &gt;= 101) {\n    // handle x between 101 an 200\n} else { \n    // handle x between 1 an 100\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687137638,"creation_date":1687137638,"answer_id":76503122,"question_id":76499393,"body_markdown":"If you are looking to match from _201_ to _101_, you&#39;ll need a compounded conditional statement.\r\n\r\n```java\r\nif (x &lt;= 201 &amp;&amp; x &gt;= 101)\r\n```\r\n\r\nThe _&amp;&amp;_ here is going to fail if either of those conditions are _false_.\r\n\r\n_[Equality, Relational, and Conditional Operators  (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)_.\r\n\r\nSo, your complete code would be the following.\r\n\r\n```java\r\nif (x &lt;= 250) {\r\n    if (x &lt;= 201 &amp;&amp; x &gt;= 101) { //do something\r\n        \r\n    } else if (x &gt;= 1) {//do something\r\n\r\n    }\r\n} else {//Do something as number to big\r\n\r\n}\r\n```","title":"Nested if loops with conditional statements","body":"<p>If you are looking to match from <em>201</em> to <em>101</em>, you'll need a compounded conditional statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt;= 201 &amp;&amp; x &gt;= 101)\n</code></pre>\n<p>The <em>&amp;&amp;</em> here is going to fail if either of those conditions are <em>false</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Equality, Relational, and Conditional Operators  (The Java Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<p>So, your complete code would be the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x &lt;= 250) {\n    if (x &lt;= 201 &amp;&amp; x &gt;= 101) { //do something\n        \n    } else if (x &gt;= 1) {//do something\n\n    }\n} else {//Do something as number to big\n\n}\n</code></pre>\n"}],"owner":{"account_id":8324002,"reputation":13,"user_id":14602986,"display_name":"ChinaTonka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503122,"answer_count":2,"score":0,"last_activity_date":1687137638,"creation_date":1687071698,"question_id":76499393,"body_markdown":"I am using a random number that is between 1 and 350. depending on what the number will depends on what happen next. I am using if statements to determine the action.\r\nSay random number id 15 it goes through the following.\r\n\r\n       int x = Integer.parseInt(data.get(0));\r\n        if(x &lt;= 250){\r\n            if(x &lt;=201){ //do something\r\n            }else if(x &gt;= 101){// do something \r\n                }else if(x &gt;= 1){//do something\r\n\r\n                    }\r\n        } else{//Do something as number to big\r\n\r\n        }\r\n\r\n\r\nso hopefully if x is greater that 250 an action will be carried out as it is to big. But if between 1 and 250 it will go via the if statements. \r\n\r\nHow do I correct this as not working.\r\n\r\n","title":"Nested if loops with conditional statements","body":"<p>I am using a random number that is between 1 and 350. depending on what the number will depends on what happen next. I am using if statements to determine the action.\nSay random number id 15 it goes through the following.</p>\n<pre><code>   int x = Integer.parseInt(data.get(0));\n    if(x &lt;= 250){\n        if(x &lt;=201){ //do something\n        }else if(x &gt;= 101){// do something \n            }else if(x &gt;= 1){//do something\n\n                }\n    } else{//Do something as number to big\n\n    }\n</code></pre>\n<p>so hopefully if x is greater that 250 an action will be carried out as it is to big. But if between 1 and 250 it will go via the if statements.</p>\n<p>How do I correct this as not working.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","swagger-codegen"],"answers":[{"comments":[{"owner":{"account_id":9668572,"reputation":1687,"user_id":7227233,"display_name":"0190198"},"score":3,"creation_date":1554217746,"post_id":55427087,"comment_id":97666283,"body_markdown":"Your solution definitely works if in case models are hand written but in my case model classes are generated by swagger-codegen. So I can&#39;t add @@JsonSerialize in model class. I tried to add jackson-datatype-jsr310 dependency but no luck. As stated in my question, I&#39;m looking for a way to generate @JsonFormat tags by swagger-codegen.","body":"Your solution definitely works if in case models are hand written but in my case model classes are generated by swagger-codegen. So I can&#39;t add @@JsonSerialize in model class. I tried to add jackson-datatype-jsr310 dependency but no luck. As stated in my question, I&#39;m looking for a way to generate @JsonFormat tags by swagger-codegen."},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1554219472,"post_id":55427087,"comment_id":97667388,"body_markdown":"@SairamKukadala Great, I may have missed it. But I have now included some documentation which could help you.","body":"@SairamKukadala Great, I may have missed it. But I have now included some documentation which could help you."},{"owner":{"account_id":9418208,"reputation":328,"user_id":7005293,"display_name":"Lucas Coppio"},"score":1,"creation_date":1588941314,"post_id":55427087,"comment_id":109100589,"body_markdown":"This still does not fix the problem. Where is the documentation you said you added?","body":"This still does not fix the problem. Where is the documentation you said you added?"},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1588943129,"post_id":55427087,"comment_id":109101540,"body_markdown":"@LucasScoppio I added the doc reference. Can you elaborate on what&#39;s not working gor you?","body":"@LucasScoppio I added the doc reference. Can you elaborate on what&#39;s not working gor you?"},{"owner":{"account_id":9418208,"reputation":328,"user_id":7005293,"display_name":"Lucas Coppio"},"score":1,"creation_date":1588969819,"post_id":55427087,"comment_id":109115714,"body_markdown":"Sure, swagger codegen (with openapi3.0 file) does not understand fields marked as type: string format: date-time as rfc3339 or anything close to that, so the client if loaded with resttemplate will send an int timestamp instead in the field, if the date library is changed to localdate-time it will instead send an array with the date on each position. Also the rest template simply isnt working anymore with array query parameters for requests (it simply send the first item in the list instead of a full list).\nHad problems with multiple configs, in the end had to fall back to swagger 2.0","body":"Sure, swagger codegen (with openapi3.0 file) does not understand fields marked as type: string format: date-time as rfc3339 or anything close to that, so the client if loaded with resttemplate will send an int timestamp instead in the field, if the date library is changed to localdate-time it will instead send an array with the date on each position. Also the rest template simply isnt working anymore with array query parameters for requests (it simply send the first item in the list instead of a full list). Had problems with multiple configs, in the end had to fall back to swagger 2.0"}],"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588943064,"creation_date":1553906456,"answer_id":55427087,"question_id":55425645,"body_markdown":"The problem here is you are trying to serialize a `Java 8` `LocalDate` using `@JsonFormat` without using right jackson module/dependency. If you have a look the annotation doc, it says;\r\n\r\n&gt; Common uses include choosing between alternate representations -- for\r\n&gt; example, whether Date is to be serialized as number (Java timestamp)\r\n&gt; or String (such as ISO-8601 compatible time value) -- as well as\r\n&gt; configuring exact details with pattern() property.\r\n\r\nhttps://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html\r\n\r\nThere&#39;s no proper documentation in the `swagger codegen` project about how to specify language specific configuration options, I have only seen those config options in the following ticket;\r\n\r\nhttps://github.com/swagger-api/swagger-codegen/issues/7795\r\n\r\nAs per the that issue, you could force Swagger codegen to use `java8` `dateLibrary`.\r\n","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>The problem here is you are trying to serialize a <code>Java 8</code> <code>LocalDate</code> using <code>@JsonFormat</code> without using right jackson module/dependency. If you have a look the annotation doc, it says;</p>\n\n<blockquote>\n  <p>Common uses include choosing between alternate representations -- for\n  example, whether Date is to be serialized as number (Java timestamp)\n  or String (such as ISO-8601 compatible time value) -- as well as\n  configuring exact details with pattern() property.</p>\n</blockquote>\n\n<p><a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html</a></p>\n\n<p>There's no proper documentation in the <code>swagger codegen</code> project about how to specify language specific configuration options, I have only seen those config options in the following ticket;</p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-codegen/issues/7795\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/issues/7795</a></p>\n\n<p>As per the that issue, you could force Swagger codegen to use <code>java8</code> <code>dateLibrary</code>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652272247,"post_id":72195185,"comment_id":127565583,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72195185/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2993606,"reputation":1,"user_id":2540605,"display_name":"Jhon Larru"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652240883,"creation_date":1652240883,"answer_id":72195185,"question_id":55425645,"body_markdown":"you can try desarialize with this way:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    objectMapper.setDateFormat(df);\r\n    JSONObject jsonObject=new JSONObject(new Oferta().fechaInicio(new Date()));\r\n    String json=&quot;&quot;;\r\n    try{\r\n        json=objectMapper.writeValueAsString(new Oferta().fechaInicio(new Date()).fechaAceptacion(&quot;15/554/20&quot;));\r\n        jsonObject=new JSONObject(json);\r\n    }catch (Exception e){\r\n    \r\n    }\r\n\r\n\r\n\r\n    public class Oferta {\r\n        @JsonProperty(&quot;fechaInicio&quot;)\r\n        private Date fechaInicio = null;\r\n        @JsonProperty(&quot;fechaAceptacion&quot;)\r\n        private String fechaAceptacion = null;\r\n    \r\n    }\r\n\r\n","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>you can try desarialize with this way:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nobjectMapper.setDateFormat(df);\nJSONObject jsonObject=new JSONObject(new Oferta().fechaInicio(new Date()));\nString json=&quot;&quot;;\ntry{\n    json=objectMapper.writeValueAsString(new Oferta().fechaInicio(new Date()).fechaAceptacion(&quot;15/554/20&quot;));\n    jsonObject=new JSONObject(json);\n}catch (Exception e){\n\n}\n\n\n\npublic class Oferta {\n    @JsonProperty(&quot;fechaInicio&quot;)\n    private Date fechaInicio = null;\n    @JsonProperty(&quot;fechaAceptacion&quot;)\n    private String fechaAceptacion = null;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8060447,"reputation":351,"user_id":6076147,"display_name":"J.Z."},"score":0,"creation_date":1695500949,"post_id":76503100,"comment_id":136033714,"body_markdown":"Thank you very much! Maybe you know, is it possible to add &quot;import com.fasterxml.jackson.annotation.JsonFormat;&quot; in generated java code?","body":"Thank you very much! Maybe you know, is it possible to add &quot;import com.fasterxml.jackson.annotation.JsonFormat;&quot; in generated java code?"}],"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687136903,"creation_date":1687136903,"answer_id":76503100,"question_id":55425645,"body_markdown":"You can add `x-field-extra-annotation` to add anything annotation you need.\r\nDocument is here: https://openapi-generator.tech/docs/generators/java\r\n\r\n```\r\nstartDate:\r\n type:string\r\n format:date\r\n x-field-extra-annotation: &#39;@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)&#39;\r\n```\r\n\r\nThen generated model class will have annotation `JsonFormat`","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>You can add <code>x-field-extra-annotation</code> to add anything annotation you need.\nDocument is here: <a href=\"https://openapi-generator.tech/docs/generators/java\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/java</a></p>\n<pre><code>startDate:\n type:string\n format:date\n x-field-extra-annotation: '@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)'\n</code></pre>\n<p>Then generated model class will have annotation <code>JsonFormat</code></p>\n"}],"owner":{"account_id":9668572,"reputation":1687,"user_id":7227233,"display_name":"0190198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5178,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1687136903,"creation_date":1553894644,"question_id":55425645,"body_markdown":"I have a variable in yml file\r\n\r\n    startDate:\r\n     type:string\r\n     format:date\r\nI&#39;m using swagger-generater to generate java code from yml.\r\n\r\nIt&#39;s generating a startDate variable as below\r\n\r\n    @JsonProperty(&quot;startDate&quot;)\r\n    private LocalDate startDate = null; \r\n\r\nBut I need as below\r\n\r\n    @JsonProperty(&quot;startDate&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate startDate = null; \r\n\r\nCan someone help me on this?","title":"Can we generate @JsonFormat on model variable using swagger-generater?","body":"<p>I have a variable in yml file</p>\n\n<pre><code>startDate:\n type:string\n format:date\n</code></pre>\n\n<p>I'm using swagger-generater to generate java code from yml.</p>\n\n<p>It's generating a startDate variable as below</p>\n\n<pre><code>@JsonProperty(\"startDate\")\nprivate LocalDate startDate = null; \n</code></pre>\n\n<p>But I need as below</p>\n\n<pre><code>@JsonProperty(\"startDate\")\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd\")\nprivate LocalDate startDate = null; \n</code></pre>\n\n<p>Can someone help me on this?</p>\n"},{"tags":["java","swing","user-interface","drag-and-drop","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687125133,"post_id":76502633,"comment_id":134889369,"body_markdown":"Consider providing a [mcve] which demonstrates your issue","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687125344,"post_id":76502633,"comment_id":134889392,"body_markdown":"Hey @MadProgrammer, I did view the MRE link when I created the acc, and I did try to phrase the code in such a way, but as an experienced user, do you have suggestions on how I could make this more concise?","body":"Hey @MadProgrammer, I did view the MRE link when I created the acc, and I did try to phrase the code in such a way, but as an experienced user, do you have suggestions on how I could make this more concise?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687125619,"post_id":76502633,"comment_id":134889412,"body_markdown":"Ask your self this question - is it &quot;compilable&quot;? (no it&#39;s not). &quot;Is it self contained&quot;? (no it&#39;s not - you have a reliance on a custom layout manager and your missing the `Desk` class).  As for the layout manager, you&#39;d need to provide a link and hope people can be bothered to download it - just saying (or Camrick comes online &#128540;). So, the first thing you need to do is fix all the compiler errors","body":"Ask your self this question - is it &quot;compilable&quot;? (no it&#39;s not). &quot;Is it self contained&quot;? (no it&#39;s not - you have a reliance on a custom layout manager and your missing the <code>Desk</code> class).  As for the layout manager, you&#39;d need to provide a link and hope people can be bothered to download it - just saying (or Camrick comes online ). So, the first thing you need to do is fix all the compiler errors"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687126433,"post_id":76502633,"comment_id":134889479,"body_markdown":"Okay, so I added just the basic code needed for it to compile.","body":"Okay, so I added just the basic code needed for it to compile."},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687129487,"post_id":76502633,"comment_id":134889730,"body_markdown":"Also, do you think it would be possible for me to finish the remaining code by tomorrow morning if I stay up?","body":"Also, do you think it would be possible for me to finish the remaining code by tomorrow morning if I stay up?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687132788,"post_id":76502633,"comment_id":134889922,"body_markdown":"So, I&#39;m still digging through it, but my first observation is the fact that you&#39;re not converting your mouse events between container contexts.  That is, a mouse event is reported relative to the component that created it, so that the top/left position is `0x0`.  You need to convert the points (mouse and components) to your global context - in this case the root pane&#39;s layered pane","body":"So, I&#39;m still digging through it, but my first observation is the fact that you&#39;re not converting your mouse events between container contexts.  That is, a mouse event is reported relative to the component that created it, so that the top/left position is <code>0x0</code>.  You need to convert the points (mouse and components) to your global context - in this case the root pane&#39;s layered pane"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687133835,"post_id":76502633,"comment_id":134890000,"body_markdown":"Next, when `mouseReleased` is called, you&#39;re inspecting `mainStacks`, but `mainStacks` is a wrapper for the container containing all the other stacks - you would be better off maintaining the &quot;stacks&quot; in a `List`","body":"Next, when <code>mouseReleased</code> is called, you&#39;re inspecting <code>mainStacks</code>, but <code>mainStacks</code> is a wrapper for the container containing all the other stacks - you would be better off maintaining the &quot;stacks&quot; in a <code>List</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687140936,"post_id":76502633,"comment_id":134890483,"body_markdown":"@MowG *did I do a decent job at the MRE* - no, you are still confusing your &quot;application&quot; with your &quot;problem&quot;. The MRE should simply demonstrate your problem. In your case the problem is dragging a component from one container to another. General guidelines: 1) the code should compile, 2) it should be in a single source file that we can copy/paste/compile/test, 3) There should be no outside dependencies. We don&#39;t have access to your image files so we can&#39;t create the Icons. 4) The application logic is not needed.","body":"@MowG <i>did I do a decent job at the MRE</i> - no, you are still confusing your &quot;application&quot; with your &quot;problem&quot;. The MRE should simply demonstrate your problem. In your case the problem is dragging a component from one container to another. General guidelines: 1) the code should compile, 2) it should be in a single source file that we can copy/paste/compile/test, 3) There should be no outside dependencies. We don&#39;t have access to your image files so we can&#39;t create the Icons. 4) The application logic is not needed."},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687141194,"post_id":76502633,"comment_id":134890504,"body_markdown":"Oh alright. and I had one more question in the below comment chain. That&#39;s probably the last bit if help I would need that I can see as of now. Please could you look at it?","body":"Oh alright. and I had one more question in the below comment chain. That&#39;s probably the last bit if help I would need that I can see as of now. Please could you look at it?"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687146617,"post_id":76502633,"comment_id":134890866,"body_markdown":"@MadProgrammer are you still available? I was adding error checks to make sure that the cards could only move if they followed the rules of solitaire, but ran into an error.","body":"@MadProgrammer are you still available? I was adding error checks to make sure that the cards could only move if they followed the rules of solitaire, but ran into an error."}],"answers":[{"comments":[{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687135840,"post_id":76503027,"comment_id":134890127,"body_markdown":"OH MY GOSH. This is extremely helpful information. I was scratching my head over this for so long and would have never figured this out. I will adjust my code accordingly. Thank you so so much.\n\n1. For the new stack, wasteStack, and topStacks (or foundationStacks), would the implementation be the same?\n\n2. This is due Tuesday for me and this GUI has been the hardest part of all of this. Do you believe that this can be completed by tomorrow morning if I stay up tonight?\n\nAlso so sorry, I would love to upvote this but I lack the reputation for it. Still will check it though.","body":"OH MY GOSH. This is extremely helpful information. I was scratching my head over this for so long and would have never figured this out. I will adjust my code accordingly. Thank you so so much.  1. For the new stack, wasteStack, and topStacks (or foundationStacks), would the implementation be the same?  2. This is due Tuesday for me and this GUI has been the hardest part of all of this. Do you believe that this can be completed by tomorrow morning if I stay up tonight?  Also so sorry, I would love to upvote this but I lack the reputation for it. Still will check it though."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687138088,"post_id":76503027,"comment_id":134890271,"body_markdown":"Should it work for you other stacks, in theory, yes.  But I think you&#39;re kind of approach the problem the wrong way, nothing you can do about it now. Yes, you &quot;should&quot; be able to get &quot;something&quot; done by the deadline, can&#39;t say what though","body":"Should it work for you other stacks, in theory, yes.  But I think you&#39;re kind of approach the problem the wrong way, nothing you can do about it now. Yes, you &quot;should&quot; be able to get &quot;something&quot; done by the deadline, can&#39;t say what though"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687138719,"post_id":76503027,"comment_id":134890306,"body_markdown":"I had another approach that I used before that I scrapped because it was confusing. If you would like, I could link that below? Maybe you would think that would be a faster approach?","body":"I had another approach that I used before that I scrapped because it was confusing. If you would like, I could link that below? Maybe you would think that would be a faster approach?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687138946,"post_id":76503027,"comment_id":134890323,"body_markdown":"The &quot;core&quot; issue I have is, each stack should be driven by a model (ie a list of cards), the UI should then be responsible for displaying the &quot;model&quot;, as apposed to the UI been used as the model - but I doubt you the time to rebuild it that way","body":"The &quot;core&quot; issue I have is, each stack should be driven by a model (ie a list of cards), the UI should then be responsible for displaying the &quot;model&quot;, as apposed to the UI been used as the model - but I doubt you the time to rebuild it that way"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687139132,"post_id":76503027,"comment_id":134890335,"body_markdown":"oh so you mean the UI being ONLY used to display. not the logic or anything else?","body":"oh so you mean the UI being ONLY used to display. not the logic or anything else?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687139578,"post_id":76503027,"comment_id":134890367,"body_markdown":"The UI deals with &quot;UI related&quot; work - the core logic should be controlled through the use of controllers and models (ie model-view-controller).  Making use of delegation and observers (and other patterns) to fulfil the over all work","body":"The UI deals with &quot;UI related&quot; work - the core logic should be controlled through the use of controllers and models (ie model-view-controller).  Making use of delegation and observers (and other patterns) to fulfil the over all work"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687139831,"post_id":76503027,"comment_id":134890382,"body_markdown":"One last thing: I am linking a Github Repo to this comment as this was my original attempt at the GUI. Do you think this was a better attempt just by how the logic looks? You don&#39;t have to spend time on debugging or anything, I gave up on this.\n\nhttps://github.com/MowG42/SolitaireV2","body":"One last thing: I am linking a Github Repo to this comment as this was my original attempt at the GUI. Do you think this was a better attempt just by how the logic looks? You don&#39;t have to spend time on debugging or anything, I gave up on this.  <a href=\"https://github.com/MowG42/SolitaireV2\" rel=\"nofollow noreferrer\">github.com/MowG42/SolitaireV2</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687139987,"post_id":76503027,"comment_id":134890399,"body_markdown":"This is a personal think, but I probably wouldn&#39;t have used components (ie `JLabel`) for this, I would have gone straight for a custom paint route, it removes all the component context mixing issues, but that&#39;s me","body":"This is a personal think, but I probably wouldn&#39;t have used components (ie <code>JLabel</code>) for this, I would have gone straight for a custom paint route, it removes all the component context mixing issues, but that&#39;s me"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687140089,"post_id":76503027,"comment_id":134890405,"body_markdown":"A quick issue came up actually:\n\nso in my methods to check whether the dragging moves are valid or not, I need to convert the jlabels to cards. but this is my method for it:\n\nprivate Card getCardFromLabel(JLabel cardLabel) {\n        return (Card) cardLabel.getClientProperty(&quot;card&quot;);\n    } //end of getCardFromLabel method\n\n\nI am unsure about the getClientProperty and how well that would work so do you have any suggestions?","body":"A quick issue came up actually:  so in my methods to check whether the dragging moves are valid or not, I need to convert the jlabels to cards. but this is my method for it:  private Card getCardFromLabel(JLabel cardLabel) {         return (Card) cardLabel.getClientProperty(&quot;card&quot;);     } //end of getCardFromLabel method   I am unsure about the getClientProperty and how well that would work so do you have any suggestions?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687141356,"post_id":76503027,"comment_id":134890518,"body_markdown":"You could use a `Map` (ie `HashMap`) to map the `JLabel` to the `Card`","body":"You could use a <code>Map</code> (ie <code>HashMap</code>) to map the <code>JLabel</code> to the <code>Card</code>"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687141688,"post_id":76503027,"comment_id":134890548,"body_markdown":"Sorry, is there like a link or example bit of code that you could provide so that I can know where to go from?","body":"Sorry, is there like a link or example bit of code that you could provide so that I can know where to go from?"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687142194,"post_id":76503027,"comment_id":134890578,"body_markdown":"Figured it out. Thank you so much for all your help!","body":"Figured it out. Thank you so much for all your help!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687144949,"post_id":76503027,"comment_id":134890752,"body_markdown":"I don&#39;t have anything, but I would recommend researching &quot;model-view-controller&quot; - it&#39;s a relatively commonly used concept","body":"I don&#39;t have anything, but I would recommend researching &quot;model-view-controller&quot; - it&#39;s a relatively commonly used concept"},{"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"score":0,"creation_date":1687146540,"post_id":76503027,"comment_id":134890861,"body_markdown":"are you still available? I had another question. I was adding error checks to make sure that the card could be added onto the stack but then I ran into an issue.","body":"are you still available? I had another question. I was adding error checks to make sure that the card could be added onto the stack but then I ran into an issue."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687135033,"creation_date":1687135033,"answer_id":76503027,"question_id":76502633,"body_markdown":"# First...\r\n\r\nA `mouseEvent` reports it&#39;s location relative to the component which generated the event, that is, the top/left position (0x0) is relative to the component.\r\n\r\nSince you are moving components between coordinate contexts, you need to convert the event point accordingly, luckily, there is a simple way to do this - [`SwingUtilities.convertMouseEvent(Component, Point, Component)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component))\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            try {\r\n                JPanel stack = (JPanel) e.getComponent();\r\n                card = stack.getComponent(0);\r\n\r\n                if (card instanceof JPanel) {\r\n                }\r\n                \r\n                Point cardInWorld = SwingUtilities.convertPoint(card.getParent(), card.getLocation(), getRootPane().getLayeredPane());\r\n                Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\r\n                \r\n                Point stackPos = card.getParent().getLocation();\r\n                xAdj = pointInWorld.x - cardInWorld.getLocation().x;\r\n                yAdj = pointInWorld.y - cardInWorld.getLocation().y;\r\n\r\n                JLayeredPane lp = getRootPane().getLayeredPane();\r\n                lp.add(card, JLayeredPane.DRAG_LAYER);\r\n                card.setLocation(cardInWorld);\r\n                setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n            } catch (ArrayIndexOutOfBoundsException err) {\r\n                System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mouseDragged(MouseEvent e) {\r\n            if (card == null) {\r\n            }\r\n            \r\n            Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\r\n\r\n            int x = pointInWorld.x - xAdj;\r\n            int y = pointInWorld.y - yAdj;\r\n            card.setLocation(x, y);\r\n        }\r\n\r\nThis will cause the card to maintained relative to the mouse cursor - so it&#39;s position (relative to the mouse cursor) won&#39;t change.  This makes it so that the mouse cursor&#39;s point is the source of the drop, not the card&#39;s position.\r\n\r\n# Second...\r\n\r\nWalking a container&#39;s contents like this...\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) return;\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n\r\n        card.setVisible(false);\r\n\r\n        //  check to see if card was dragged to a stack\r\n\r\n        JPanel stackPanel = null;\r\n        Point cardLocation = card.getLocation();\r\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\r\n\r\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\r\n        {\r\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\r\n\r\n            if (panel.getBounds().contains(cardLocation))\r\n            {\r\n                stackPanel = panel;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null)\r\n            mainStacks.add( card );\r\n        else\r\n            stackPanel.add( card );\r\n\r\n        card.setVisible(true);\r\n    }\r\n\r\nis always a bad idea and took me some significant time to suss out.\r\n\r\nThe source of the problem starts right here...\r\n\r\n    private JPanel makeMainStacks() throws IOException {\r\n        mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        //...\r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0, 153, 0));\r\n        mainStacks.setBackground(new Color(0, 153, 0));\r\n        return mainStacksWrapper;\r\n    }\r\n\r\nYou add `mainStacks` into a &quot;wrapper&quot; container, and then assign it to `mainStacks` (I&#39;m so confused).\r\n\r\nThe problem with this is, when you walk the container&#39;s contents, it only contains a single child.  The original `mainStacks`, which actually contains all the child stacks you actually want.\r\n\r\nA better solution would be to add each stack component to a `List` and simply iterate over it instead, that way, you&#39;re not going to get caught out when the UI structure changes.\r\n\r\nStart by creating a new instance field...\r\n\r\n    private List&lt;JPanel&gt; stacks = new ArrayList&lt;&gt;(7);\r\n\r\nThen in your `makeMainStacks` add each `stack` to it...\r\n\r\n    private JPanel makeMainStacks() throws IOException {\r\n        JPanel mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        mainStacks.setBackground(Color.MAGENTA);\r\n        for (int stack = 0; stack &lt; 7; stack++) {\r\n\r\n            JPanel mainStack = new JPanel(new OverlapLayout(new Point(0, 22)));\r\n            mainStack.setBounds(10, 0, CARD_WIDTH, CARD_HEIGHT);\r\n            mainStack.setBorder(\r\n                    new CompoundBorder(new LineBorder(Color.RED), new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT))\r\n            );\r\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\r\n            mainStacks.add(mainStack);\r\n\r\n            stacks.add(mainStack);\r\n\r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {\r\n\r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    System.out.println(stack + cardInStack);\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n\r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setPreferredSize(cardSize);\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n            }\r\n            mainStack.addMouseListener(this);\r\n            mainStack.addMouseMotionListener(this);\r\n        }\r\n\r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0, 153, 0));\r\n        mainStacks.setBackground(new Color(0, 153, 0));\r\n        return mainStacksWrapper;\r\n    }\r\n\r\n\r\nAnd then finally, in `mouseReleased`, convert the `MouseEvent`&#39;s point to each stack&#39;s parents coordinate context and see if you have a hit or not ...\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) {\r\n            return;\r\n        }\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n        card.setVisible(false);\r\n\r\n        JPanel stackPanel = null;\r\n        for (JPanel stack : stacks) {\r\n            // Check the bounds of each stack against it&#39;s parents\r\n            // coordinates context\r\n            Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stack.getParent());\r\n            if (stack.getBounds().contains(localPoint)) {\r\n                System.out.println(&quot;--&gt;&quot;);\r\n                stackPanel = stack;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null) {\r\n            mainStacks.add(card);\r\n        } else {\r\n            stackPanel.add(card);\r\n            stackPanel.revalidate();\r\n            stackPanel.repaint();\r\n        }\r\n\r\n        card.setVisible(true);\r\n    }\r\n\r\n# Parting thoughts...\r\n\r\nFor what it&#39;s worth, I wouldn&#39;t have done it this way, for all the reasons you&#39;re discovering.  I would have followed a custom painting route, but I doubt you have time for that now.","title":"JLabel not clicking into the right place when mouseReleased() is implemented","body":"<h1>First...</h1>\n<p>A <code>mouseEvent</code> reports it's location relative to the component which generated the event, that is, the top/left position (0x0) is relative to the component.</p>\n<p>Since you are moving components between coordinate contexts, you need to convert the event point accordingly, luckily, there is a simple way to do this - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#convertPoint(java.awt.Component,java.awt.Point,java.awt.Component)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.convertMouseEvent(Component, Point, Component)</code></a></p>\n<pre><code>    @Override\n    public void mousePressed(MouseEvent e) {\n        try {\n            JPanel stack = (JPanel) e.getComponent();\n            card = stack.getComponent(0);\n\n            if (card instanceof JPanel) {\n            }\n            \n            Point cardInWorld = SwingUtilities.convertPoint(card.getParent(), card.getLocation(), getRootPane().getLayeredPane());\n            Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\n            \n            Point stackPos = card.getParent().getLocation();\n            xAdj = pointInWorld.x - cardInWorld.getLocation().x;\n            yAdj = pointInWorld.y - cardInWorld.getLocation().y;\n\n            JLayeredPane lp = getRootPane().getLayeredPane();\n            lp.add(card, JLayeredPane.DRAG_LAYER);\n            card.setLocation(cardInWorld);\n            setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n        } catch (ArrayIndexOutOfBoundsException err) {\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\n        }\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (card == null) {\n        }\n        \n        Point pointInWorld = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), getRootPane().getLayeredPane());\n\n        int x = pointInWorld.x - xAdj;\n        int y = pointInWorld.y - yAdj;\n        card.setLocation(x, y);\n    }\n</code></pre>\n<p>This will cause the card to maintained relative to the mouse cursor - so it's position (relative to the mouse cursor) won't change.  This makes it so that the mouse cursor's point is the source of the drop, not the card's position.</p>\n<h1>Second...</h1>\n<p>Walking a container's contents like this...</p>\n<pre><code>@Override\npublic void mouseReleased(MouseEvent e) {\n    setCursor(null);\n\n    if (card == null) return;\n\n    //  Make sure the card is no longer painted on the layered pane\n\n    card.setVisible(false);\n\n    //  check to see if card was dragged to a stack\n\n    JPanel stackPanel = null;\n    Point cardLocation = card.getLocation();\n    cardLocation.y -= mainStacks.getParent().getLocation().y;\n\n    for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\n    {\n        JPanel panel = (JPanel)mainStacks.getComponent(i);\n\n        if (panel.getBounds().contains(cardLocation))\n        {\n            stackPanel = panel;\n            break;\n        }\n    }\n\n    if (stackPanel == null)\n        mainStacks.add( card );\n    else\n        stackPanel.add( card );\n\n    card.setVisible(true);\n}\n</code></pre>\n<p>is always a bad idea and took me some significant time to suss out.</p>\n<p>The source of the problem starts right here...</p>\n<pre><code>private JPanel makeMainStacks() throws IOException {\n    mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n    //...\n    JPanel mainStacksWrapper = new JPanel();\n    mainStacksWrapper.add(mainStacks);\n    mainStacksWrapper.setBackground(new Color(0, 153, 0));\n    mainStacks.setBackground(new Color(0, 153, 0));\n    return mainStacksWrapper;\n}\n</code></pre>\n<p>You add <code>mainStacks</code> into a &quot;wrapper&quot; container, and then assign it to <code>mainStacks</code> (I'm so confused).</p>\n<p>The problem with this is, when you walk the container's contents, it only contains a single child.  The original <code>mainStacks</code>, which actually contains all the child stacks you actually want.</p>\n<p>A better solution would be to add each stack component to a <code>List</code> and simply iterate over it instead, that way, you're not going to get caught out when the UI structure changes.</p>\n<p>Start by creating a new instance field...</p>\n<pre><code>private List&lt;JPanel&gt; stacks = new ArrayList&lt;&gt;(7);\n</code></pre>\n<p>Then in your <code>makeMainStacks</code> add each <code>stack</code> to it...</p>\n<pre><code>private JPanel makeMainStacks() throws IOException {\n    JPanel mainStacks = new JPanel(new GridLayout(0, 7, MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n    mainStacks.setBackground(Color.MAGENTA);\n    for (int stack = 0; stack &lt; 7; stack++) {\n\n        JPanel mainStack = new JPanel(new OverlapLayout(new Point(0, 22)));\n        mainStack.setBounds(10, 0, CARD_WIDTH, CARD_HEIGHT);\n        mainStack.setBorder(\n                new CompoundBorder(new LineBorder(Color.RED), new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT))\n        );\n        mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\n        mainStacks.add(mainStack);\n\n        stacks.add(mainStack);\n\n        for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {\n\n            Card placementCard = deckOfCards.drawCard(); //draws card\n            placementCard.setIsFaceUp(false);\n            //checking if the card is the last card in the stack\n            if (stack == cardInStack) {\n                System.out.println(stack + cardInStack);\n                placementCard.setIsFaceUp(true); //card is facing up\n                //sizes the image and sets it to placementCard\n                ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                mainStack.add(cardLabel);\n            } //end of if statement\n\n            //if statement to check whether the card should be revealed or not\n            if (!placementCard.getIsFaceUp()) { //hide cardFront\n                //sizes the image and sets it to placementCard\n                ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                cardLabel.setPreferredSize(cardSize);\n                mainStack.add(cardLabel);\n            } //end of if statement\n        }\n        mainStack.addMouseListener(this);\n        mainStack.addMouseMotionListener(this);\n    }\n\n    JPanel mainStacksWrapper = new JPanel();\n    mainStacksWrapper.add(mainStacks);\n    mainStacksWrapper.setBackground(new Color(0, 153, 0));\n    mainStacks.setBackground(new Color(0, 153, 0));\n    return mainStacksWrapper;\n}\n</code></pre>\n<p>And then finally, in <code>mouseReleased</code>, convert the <code>MouseEvent</code>'s point to each stack's parents coordinate context and see if you have a hit or not ...</p>\n<pre><code>@Override\npublic void mouseReleased(MouseEvent e) {\n    setCursor(null);\n\n    if (card == null) {\n        return;\n    }\n\n    //  Make sure the card is no longer painted on the layered pane\n    card.setVisible(false);\n\n    JPanel stackPanel = null;\n    for (JPanel stack : stacks) {\n        // Check the bounds of each stack against it's parents\n        // coordinates context\n        Point localPoint = SwingUtilities.convertPoint(e.getComponent(), e.getPoint(), stack.getParent());\n        if (stack.getBounds().contains(localPoint)) {\n            System.out.println(&quot;--&gt;&quot;);\n            stackPanel = stack;\n            break;\n        }\n    }\n\n    if (stackPanel == null) {\n        mainStacks.add(card);\n    } else {\n        stackPanel.add(card);\n        stackPanel.revalidate();\n        stackPanel.repaint();\n    }\n\n    card.setVisible(true);\n}\n</code></pre>\n<h1>Parting thoughts...</h1>\n<p>For what it's worth, I wouldn't have done it this way, for all the reasons you're discovering.  I would have followed a custom painting route, but I doubt you have time for that now.</p>\n"}],"owner":{"account_id":28846836,"reputation":1,"user_id":22093648,"display_name":"Mow G"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76503027,"answer_count":1,"score":-1,"last_activity_date":1687135033,"creation_date":1687124512,"question_id":76502633,"body_markdown":"so I am working on a Solitaire project and am currently severely stuck on the GUI part. I am trying to do drag and drop using Rob Camick&#39;s OverlapLayout [(source code here)](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) but it doesn&#39;t work out how I want it to.\r\n\r\nI can pick up the card and move it just fine, but when I release it, it doesn&#39;t drop down where I want it to and the card disappears. How to fix this?\r\n\r\nAttached is a simplified version of my code. When that code is run, as seen in the [attached image], the card is dragged from one stack to another, but then it automatically moves to the bottom of the screen instead of on top of the card it was dropped on.\r\n\r\n\r\nThis is the class with the problem (I believe that it has to do with the way I created the mainStacks using the for loop, because when I was dragging, the drag layer went behind some of the stacks themselves):\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.*;\r\n\r\npublic class Test extends JPanel implements MouseListener, MouseMotionListener {\r\n    \r\n    //instance variables\r\n    private static final int CARD_WIDTH = 73;\r\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\r\n    private static final int MAIN_STACKS_X_DIFF = 35;\r\n    private static final int MAIN_STACKS_Y_DIFF = 30;\r\n    \r\n    private final Dimension cardSize = new Dimension(CARD_WIDTH, CARD_HEIGHT);\r\n    \r\n    private JPanel mainStacks, mainWrapper;\r\n        \r\n    private Component card;\r\n    private int xAdj, yAdj;\r\n    \r\n    private Deck deckOfCards;\r\n        \r\n    //methods\r\n    \r\n    public Test() {\r\n        JFrame gameScreen = new JFrame();\r\n        gameScreen.setTitle(&quot;Solitaire&quot;);\r\n        gameScreen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        gameScreen.add(this);\r\n        \r\n        deckOfCards = new Deck();\r\n        deckOfCards.shuffleDeck();\r\n        \r\n        mainStacks = makeMainStacks();\r\n        mainWrapper = new JPanel();\r\n        mainWrapper.setBackground(new Color(0,153,0));\r\n        mainWrapper.add(mainStacks);\r\n        \r\n        gameScreen.setLayout(new BorderLayout());\r\n        gameScreen.add(mainWrapper, BorderLayout.CENTER);\r\n        \r\n        setLayout(null);\r\n        gameScreen.setSize(800,600);\r\n        gameScreen.setResizable(false);\r\n        gameScreen.getContentPane().setBackground(new Color(0,153,0));\r\n        gameScreen.setVisible( true );\r\n    }\r\n        \r\n    private JPanel makeMainStacks() {\r\n        mainStacks = new JPanel(new GridLayout(0,7,MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\r\n        for (int stack = 0; stack &lt; 7; stack++) {\r\n            \r\n            JPanel mainStack = new JPanel( new OverlapLayout( new Point(0, 22)));\r\n            mainStack.setBackground( new Color(0,153,0));\r\n            mainStack.setBounds(10,0,CARD_WIDTH, CARD_HEIGHT);\r\n            mainStack.setBorder( new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT));\r\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\r\n            mainStacks.add(mainStack);\r\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {   \r\n                \r\n                Card placementCard = deckOfCards.drawCard(); //draws card\r\n                placementCard.setIsFaceUp(false);\r\n                //checking if the card is the last card in the stack\r\n                if (stack == cardInStack) {\r\n                    System.out.println(stack + cardInStack);\r\n                    placementCard.setIsFaceUp(true); //card is facing up\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\r\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n                \r\n                //if statement to check whether the card should be revealed or not\r\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\r\n                    //sizes the image and sets it to placementCard\r\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\r\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\r\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\r\n                    cardLabel.setPreferredSize(cardSize);\r\n                    mainStack.add(cardLabel);\r\n                } //end of if statement\r\n            }\r\n            mainStack.addMouseListener(this);\r\n            mainStack.addMouseMotionListener(this);\r\n        }\r\n        \r\n        JPanel mainStacksWrapper = new JPanel();\r\n        mainStacksWrapper.add(mainStacks);\r\n        mainStacksWrapper.setBackground(new Color(0,153,0));\r\n        mainStacks.setBackground(new Color(0,153,0));\r\n        return mainStacksWrapper;\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        try {\r\n        JPanel stack = (JPanel)e.getComponent();\r\n        card = stack.getComponent(0);\r\n        \r\n        if (card instanceof JPanel){}\r\n        \r\n        Point stackPos = card.getParent().getLocation();\r\n        xAdj = stackPos.x-e.getX();\r\n        yAdj = stackPos.y-e.getY();\r\n        card.setLocation(e.getX() + xAdj + 35, e.getY() + yAdj);\r\n        System.out.println(xAdj + yAdj);\r\n        \r\n        JLayeredPane lp = getRootPane().getLayeredPane();\r\n        lp.add(card,JLayeredPane.DRAG_LAYER);\r\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\r\n        } catch (ArrayIndexOutOfBoundsException err) {\r\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void mouseDragged(MouseEvent e) {\r\n        if (card==null){}\r\n        \r\n        int x = e.getX() + xAdj + 35;\r\n        int y = e.getY() + yAdj;\r\n        card.setLocation(x,y);\r\n    }\r\n    \r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        setCursor(null);\r\n\r\n        if (card == null) return;\r\n\r\n        //  Make sure the card is no longer painted on the layered pane\r\n\r\n        card.setVisible(false);\r\n\r\n        //  check to see if card was dragged to a stack\r\n\r\n        JPanel stackPanel = null;\r\n        Point cardLocation = card.getLocation();\r\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\r\n\r\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\r\n        {\r\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\r\n\r\n            if (panel.getBounds().contains(cardLocation))\r\n            {\r\n                stackPanel = panel;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (stackPanel == null)\r\n            mainStacks.add( card );\r\n        else\r\n            stackPanel.add( card );\r\n\r\n        card.setVisible(true);\r\n    }\r\n    \r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {}\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {}\r\n    @Override\r\n    public void mouseEntered(MouseEvent e) {}\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {}\r\n    \r\n    public static void main(String[] args) {\r\n        new Test();\r\n    }\r\n}\r\n```\r\nThese next few classes are just additional classes to help the code compile:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\n\r\npublic class Deck {\r\n    \r\n    //instance variables\r\n    private final ArrayList&lt;Card&gt; cards;\r\n    private int drawCardIndex;\r\n    \r\n    //methods\r\n    /**\r\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\r\n     */\r\n    public Deck() {\r\n        cards = new ArrayList&lt;&gt;(); //creating new deck\r\n        \r\n        for (Suit suit: Suit.values()) { //loops through suits\r\n            for (Rank rank: Rank.values()) { //loops through ranks\r\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\r\n            }\r\n        }\r\n        drawCardIndex = 0; //initializes index\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method returns the size of the deck.\r\n     * @return int - size of deck\r\n     */\r\n    public int getSize() {\r\n        return cards.size();\r\n    } //end of getSize method\r\n    \r\n    /**\r\n     * This method returns a drawn card in the deck of cards.\r\n     * @return Card - a new drawn card in the deck of cards.\r\n     */\r\n    public Card drawCard() {\r\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\r\n            Card card = cards.get(drawCardIndex); //draws a card\r\n            drawCardIndex++; //increments\r\n            return card; //return statement\r\n        }\r\n        return null; //returns null if all of the cards have already been drawn\r\n    } //end of drawCard method\r\n    \r\n    /**\r\n     * This method shuffles the deck of cards.\r\n     */\r\n    public void shuffleDeck() {\r\n        Collections.shuffle(cards); //mixes ArrayList\r\n        resetDrawCardIndex(); //resets the drawCardIndex variable\r\n    } //end of shuffleDeck method\r\n    \r\n    /**\r\n     * This method resets the drawCardIndex.\r\n     */\r\n    public void resetDrawCardIndex() {\r\n        drawCardIndex = 0;\r\n    } //end of resetDrawCardIndex method\r\n    \r\n    /**\r\n     * This method removes a card from the deck.\r\n     * @param card the card to be removed from the deck\r\n     */\r\n    public void removeCardFromDeck(Card card) {\r\n        //checks if the stack is empty\r\n        cards.remove(card); //removes the card from the deck\r\n    } //end of removeCardFromStack method\r\n    \r\n    /**\r\n     * This method checks if all of the cards have been drawn.\r\n     * @return Boolean true or false based on if all the cards have been drawn or not.\r\n     */\r\n    public boolean isEmpty() {\r\n        return cards.size() &lt;= drawCardIndex;\r\n    } //end of isEmpty method\r\n    \r\n} //end of Deck class\r\n```\r\n\r\n```java\r\npublic class Card {\r\n    //instance variables\r\n    private final Suit SUIT;\r\n    private final Rank RANK;\r\n    private boolean isFaceUp;\r\n    \r\n    //methods\r\n    /**\r\n     * This is the constructor method for the Card class.\r\n     * @param suit - the suit to be assigned to the card.\r\n     * @param rank - the rank to be assigned to the card.\r\n     */\r\n    public Card(Suit suit, Rank rank) {\r\n        this.SUIT = suit;\r\n        this.RANK = rank;\r\n        this.isFaceUp = false;\r\n    } //end of constructor\r\n    \r\n    /**\r\n     * This method gives the user the suit of the Card.\r\n     * @return Suit - the suit of the Card.\r\n     */\r\n    public Suit getSuit() {\r\n        return this.SUIT;\r\n    } //end of getSuit method\r\n    /**\r\n     * This method gives the user the rank of the Card.\r\n     * @return Rank - the rank of the Card.\r\n     */\r\n    public Rank getRank() {\r\n        return this.RANK;\r\n    } //end of getRank method\r\n    \r\n    /**\r\n     * This method gives whether the Card is faced up or not.\r\n     * @return Boolean - true or false based on if the Card is facing up.\r\n     */\r\n    public boolean getIsFaceUp() {\r\n        return this.isFaceUp;\r\n    } //end of getIsFaceUp method\r\n    /**\r\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\r\n     */\r\n    public void setIsFaceUp(boolean b) {\r\n        this.isFaceUp = b;\r\n    } //end of setIsFaceUp method\r\n    \r\n    /**\r\n     * This method determines if the Card is from a red suit.\r\n     * @return Boolean - true or false if card is red\r\n     */\r\n    public boolean isRed() {\r\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\r\n    } //end of isRed method\r\n    /**\r\n     * This method determines if the Card is from a black suit.\r\n     * @return a Boolean true or false if card is black\r\n     */\r\n    public boolean isBlack() {\r\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\r\n    } //end of isBlack method\r\n    \r\n    /**\r\n     * This method determines if the card can be stacked on the card behind it.\r\n     * @return a Boolean true or false if it can be stacked\r\n     */\r\n    public boolean stackable(Card card) {\r\n        return this.isRed() != card.isRed();\r\n    } //end of stackable method\r\n    \r\n    /**\r\n     * This method gives the name of each card.\r\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\r\n     */\r\n    public String getName() {\r\n        String number = &quot;&quot;; //variable declaration\r\n        switch(RANK) { //switch to assign rank name\r\n            case ACE -&gt; number = &quot;A&quot;; //case\r\n            case TWO -&gt; number = &quot;2&quot;; //case\r\n            case THREE -&gt; number = &quot;3&quot;; //case\r\n            case FOUR -&gt; number = &quot;4&quot;; //case\r\n            case FIVE -&gt; number = &quot;5&quot;; //case\r\n            case SIX -&gt; number = &quot;6&quot;; //case\r\n            case SEVEN -&gt; number = &quot;7&quot;; //case\r\n            case EIGHT -&gt; number = &quot;8&quot;; //case\r\n            case NINE -&gt; number = &quot;9&quot;; //case\r\n            case TEN -&gt; number = &quot;10&quot;; //case\r\n            case JACK -&gt; number = &quot;J&quot;; //case\r\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\r\n            case KING -&gt; number = &quot;K&quot;; //case\r\n        } //end of switch\r\n        String suitName = &quot;&quot;; //variable declaration\r\n        switch(SUIT) { //switch to assign suit name\r\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\r\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\r\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\r\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\r\n        } //end of switch\r\n        return number + suitName; //return statement\r\n    } //end of getName method\r\n    \r\n    /**\r\n     * This method gives the path to a corresponding image.\r\n     * @return String - returns the path of the image corresponding with the card.\r\n     */\r\n    public String getImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\r\n    } //end of getImage method\r\n    /**\r\n     * This method gives the file path to the back of the card image.\r\n     * @return String the file path to the card back image\r\n     */\r\n    public static String getBackImagePath() {\r\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\r\n    } //end of getImageBackPath method\r\n    \r\n    @Override\r\n    /**\r\n     * This method returns the description about the instance variables.\r\n     * @return String - rank and suit of card along with image path.\r\n     */\r\n    public String toString() {\r\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\r\n    }\r\n} //end of Card class\r\n```\r\n\r\n```java\r\npublic enum Suit {\r\n   //enum fields\r\n   /**\r\n    * Hearts, Diamonds,\r\n    */\r\n   HEARTS,DIAMONDS,\r\n   /**\r\n    * Spades, Clubs\r\n    */\r\n   SPADES,CLUBS;\r\n}\r\n```\r\n\r\n```java\r\npublic enum Rank {\r\n   //enum fields\r\n   /**\r\n    * 2,3,4,5,6,7,8,9,10\r\n    */\r\n   TWO,THREE,FOUR,FIVE,SIX,SEVEN,EIGHT,NINE,TEN,\r\n   /**\r\n    * A,J,Q,K\r\n    */\r\n   ACE,JACK,QUEEN,KING;\r\n}\r\n```\r\n\r\n\r\nI have reviewed past suggestions from SO, but those do not seem to help my problem. Also have tried altering the y values to see if that helps, but it didn&#39;t.\r\n\r\n\r\n  [attached image]: https://i.stack.imgur.com/NnkGq.png","title":"JLabel not clicking into the right place when mouseReleased() is implemented","body":"<p>so I am working on a Solitaire project and am currently severely stuck on the GUI part. I am trying to do drag and drop using Rob Camick's OverlapLayout <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">(source code here)</a> but it doesn't work out how I want it to.</p>\n<p>I can pick up the card and move it just fine, but when I release it, it doesn't drop down where I want it to and the card disappears. How to fix this?</p>\n<p>Attached is a simplified version of my code. When that code is run, as seen in the <a href=\"https://i.stack.imgur.com/NnkGq.png\" rel=\"nofollow noreferrer\">attached image</a>, the card is dragged from one stack to another, but then it automatically moves to the bottom of the screen instead of on top of the card it was dropped on.</p>\n<p>This is the class with the problem (I believe that it has to do with the way I created the mainStacks using the for loop, because when I was dragging, the drag layer went behind some of the stacks themselves):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class Test extends JPanel implements MouseListener, MouseMotionListener {\n    \n    //instance variables\n    private static final int CARD_WIDTH = 73;\n    private static final int CARD_HEIGHT = (int)(CARD_WIDTH*1.49137931+.5);\n    private static final int MAIN_STACKS_X_DIFF = 35;\n    private static final int MAIN_STACKS_Y_DIFF = 30;\n    \n    private final Dimension cardSize = new Dimension(CARD_WIDTH, CARD_HEIGHT);\n    \n    private JPanel mainStacks, mainWrapper;\n        \n    private Component card;\n    private int xAdj, yAdj;\n    \n    private Deck deckOfCards;\n        \n    //methods\n    \n    public Test() {\n        JFrame gameScreen = new JFrame();\n        gameScreen.setTitle(&quot;Solitaire&quot;);\n        gameScreen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        gameScreen.add(this);\n        \n        deckOfCards = new Deck();\n        deckOfCards.shuffleDeck();\n        \n        mainStacks = makeMainStacks();\n        mainWrapper = new JPanel();\n        mainWrapper.setBackground(new Color(0,153,0));\n        mainWrapper.add(mainStacks);\n        \n        gameScreen.setLayout(new BorderLayout());\n        gameScreen.add(mainWrapper, BorderLayout.CENTER);\n        \n        setLayout(null);\n        gameScreen.setSize(800,600);\n        gameScreen.setResizable(false);\n        gameScreen.getContentPane().setBackground(new Color(0,153,0));\n        gameScreen.setVisible( true );\n    }\n        \n    private JPanel makeMainStacks() {\n        mainStacks = new JPanel(new GridLayout(0,7,MAIN_STACKS_X_DIFF, MAIN_STACKS_Y_DIFF));\n        for (int stack = 0; stack &lt; 7; stack++) {\n            \n            JPanel mainStack = new JPanel( new OverlapLayout( new Point(0, 22)));\n            mainStack.setBackground( new Color(0,153,0));\n            mainStack.setBounds(10,0,CARD_WIDTH, CARD_HEIGHT);\n            mainStack.setBorder( new EmptyBorder(10, 0, CARD_WIDTH, CARD_HEIGHT));\n            mainStack.setPreferredSize(new Dimension(CARD_WIDTH, CARD_HEIGHT + 250));\n            mainStacks.add(mainStack);\n            for (int cardInStack = 0; cardInStack &lt;= stack; cardInStack++) {   \n                \n                Card placementCard = deckOfCards.drawCard(); //draws card\n                placementCard.setIsFaceUp(false);\n                //checking if the card is the last card in the stack\n                if (stack == cardInStack) {\n                    System.out.println(stack + cardInStack);\n                    placementCard.setIsFaceUp(true); //card is facing up\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardFace = new ImageIcon(placementCard.getImagePath());\n                    Image placementCardScaled = placementCardFace.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    mainStack.add(cardLabel);\n                } //end of if statement\n                \n                //if statement to check whether the card should be revealed or not\n                if (!placementCard.getIsFaceUp()) { //hide cardFront\n                    //sizes the image and sets it to placementCard\n                    ImageIcon placementCardBack = new ImageIcon(Card.getBackImagePath());\n                    Image placementCardScaled = placementCardBack.getImage().getScaledInstance(CARD_WIDTH, CARD_HEIGHT, Image.SCALE_SMOOTH);\n                    JLabel cardLabel = new JLabel(new ImageIcon(placementCardScaled));\n                    cardLabel.setPreferredSize(cardSize);\n                    mainStack.add(cardLabel);\n                } //end of if statement\n            }\n            mainStack.addMouseListener(this);\n            mainStack.addMouseMotionListener(this);\n        }\n        \n        JPanel mainStacksWrapper = new JPanel();\n        mainStacksWrapper.add(mainStacks);\n        mainStacksWrapper.setBackground(new Color(0,153,0));\n        mainStacks.setBackground(new Color(0,153,0));\n        return mainStacksWrapper;\n    }\n    \n    \n    @Override\n    public void mousePressed(MouseEvent e) {\n        try {\n        JPanel stack = (JPanel)e.getComponent();\n        card = stack.getComponent(0);\n        \n        if (card instanceof JPanel){}\n        \n        Point stackPos = card.getParent().getLocation();\n        xAdj = stackPos.x-e.getX();\n        yAdj = stackPos.y-e.getY();\n        card.setLocation(e.getX() + xAdj + 35, e.getY() + yAdj);\n        System.out.println(xAdj + yAdj);\n        \n        JLayeredPane lp = getRootPane().getLayeredPane();\n        lp.add(card,JLayeredPane.DRAG_LAYER);\n        setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n        } catch (ArrayIndexOutOfBoundsException err) {\n            System.err.println(&quot;No card in stack. Cannot execute move.&quot;);\n        }\n    }\n    \n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (card==null){}\n        \n        int x = e.getX() + xAdj + 35;\n        int y = e.getY() + yAdj;\n        card.setLocation(x,y);\n    }\n    \n    @Override\n    public void mouseReleased(MouseEvent e) {\n        setCursor(null);\n\n        if (card == null) return;\n\n        //  Make sure the card is no longer painted on the layered pane\n\n        card.setVisible(false);\n\n        //  check to see if card was dragged to a stack\n\n        JPanel stackPanel = null;\n        Point cardLocation = card.getLocation();\n        cardLocation.y -= mainStacks.getParent().getLocation().y;\n\n        for (int i = 0; i &lt; mainStacks.getComponentCount(); i++)\n        {\n            JPanel panel = (JPanel)mainStacks.getComponent(i);\n\n            if (panel.getBounds().contains(cardLocation))\n            {\n                stackPanel = panel;\n                break;\n            }\n        }\n\n        if (stackPanel == null)\n            mainStacks.add( card );\n        else\n            stackPanel.add( card );\n\n        card.setVisible(true);\n    }\n    \n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n    @Override\n    public void mouseExited(MouseEvent e) {}\n    \n    public static void main(String[] args) {\n        new Test();\n    }\n}\n</code></pre>\n<p>These next few classes are just additional classes to help the code compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Deck {\n    \n    //instance variables\n    private final ArrayList&lt;Card&gt; cards;\n    private int drawCardIndex;\n    \n    //methods\n    /**\n     * This constructor for the Deck class creates all 52 cards and adds them to cards List.\n     */\n    public Deck() {\n        cards = new ArrayList&lt;&gt;(); //creating new deck\n        \n        for (Suit suit: Suit.values()) { //loops through suits\n            for (Rank rank: Rank.values()) { //loops through ranks\n                cards.add(new Card(suit, rank)); //adds a unique Card to cards\n            }\n        }\n        drawCardIndex = 0; //initializes index\n    } //end of constructor\n    \n    /**\n     * This method returns the size of the deck.\n     * @return int - size of deck\n     */\n    public int getSize() {\n        return cards.size();\n    } //end of getSize method\n    \n    /**\n     * This method returns a drawn card in the deck of cards.\n     * @return Card - a new drawn card in the deck of cards.\n     */\n    public Card drawCard() {\n        if (drawCardIndex&lt;cards.size()) { //checks if all of the cards have been drawn\n            Card card = cards.get(drawCardIndex); //draws a card\n            drawCardIndex++; //increments\n            return card; //return statement\n        }\n        return null; //returns null if all of the cards have already been drawn\n    } //end of drawCard method\n    \n    /**\n     * This method shuffles the deck of cards.\n     */\n    public void shuffleDeck() {\n        Collections.shuffle(cards); //mixes ArrayList\n        resetDrawCardIndex(); //resets the drawCardIndex variable\n    } //end of shuffleDeck method\n    \n    /**\n     * This method resets the drawCardIndex.\n     */\n    public void resetDrawCardIndex() {\n        drawCardIndex = 0;\n    } //end of resetDrawCardIndex method\n    \n    /**\n     * This method removes a card from the deck.\n     * @param card the card to be removed from the deck\n     */\n    public void removeCardFromDeck(Card card) {\n        //checks if the stack is empty\n        cards.remove(card); //removes the card from the deck\n    } //end of removeCardFromStack method\n    \n    /**\n     * This method checks if all of the cards have been drawn.\n     * @return Boolean true or false based on if all the cards have been drawn or not.\n     */\n    public boolean isEmpty() {\n        return cards.size() &lt;= drawCardIndex;\n    } //end of isEmpty method\n    \n} //end of Deck class\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Card {\n    //instance variables\n    private final Suit SUIT;\n    private final Rank RANK;\n    private boolean isFaceUp;\n    \n    //methods\n    /**\n     * This is the constructor method for the Card class.\n     * @param suit - the suit to be assigned to the card.\n     * @param rank - the rank to be assigned to the card.\n     */\n    public Card(Suit suit, Rank rank) {\n        this.SUIT = suit;\n        this.RANK = rank;\n        this.isFaceUp = false;\n    } //end of constructor\n    \n    /**\n     * This method gives the user the suit of the Card.\n     * @return Suit - the suit of the Card.\n     */\n    public Suit getSuit() {\n        return this.SUIT;\n    } //end of getSuit method\n    /**\n     * This method gives the user the rank of the Card.\n     * @return Rank - the rank of the Card.\n     */\n    public Rank getRank() {\n        return this.RANK;\n    } //end of getRank method\n    \n    /**\n     * This method gives whether the Card is faced up or not.\n     * @return Boolean - true or false based on if the Card is facing up.\n     */\n    public boolean getIsFaceUp() {\n        return this.isFaceUp;\n    } //end of getIsFaceUp method\n    /**\n     * This method sets the isFaceUp variable to true if the card is facing up in the game.\n     */\n    public void setIsFaceUp(boolean b) {\n        this.isFaceUp = b;\n    } //end of setIsFaceUp method\n    \n    /**\n     * This method determines if the Card is from a red suit.\n     * @return Boolean - true or false if card is red\n     */\n    public boolean isRed() {\n        return this.SUIT == Suit.HEARTS || this.SUIT == Suit.DIAMONDS;\n    } //end of isRed method\n    /**\n     * This method determines if the Card is from a black suit.\n     * @return a Boolean true or false if card is black\n     */\n    public boolean isBlack() {\n        return this.SUIT == Suit.CLUBS || this.SUIT == Suit.SPADES;\n    } //end of isBlack method\n    \n    /**\n     * This method determines if the card can be stacked on the card behind it.\n     * @return a Boolean true or false if it can be stacked\n     */\n    public boolean stackable(Card card) {\n        return this.isRed() != card.isRed();\n    } //end of stackable method\n    \n    /**\n     * This method gives the name of each card.\n     * @return a string that has two letters- the first letter of the rank and the first letter of the suit.\n     */\n    public String getName() {\n        String number = &quot;&quot;; //variable declaration\n        switch(RANK) { //switch to assign rank name\n            case ACE -&gt; number = &quot;A&quot;; //case\n            case TWO -&gt; number = &quot;2&quot;; //case\n            case THREE -&gt; number = &quot;3&quot;; //case\n            case FOUR -&gt; number = &quot;4&quot;; //case\n            case FIVE -&gt; number = &quot;5&quot;; //case\n            case SIX -&gt; number = &quot;6&quot;; //case\n            case SEVEN -&gt; number = &quot;7&quot;; //case\n            case EIGHT -&gt; number = &quot;8&quot;; //case\n            case NINE -&gt; number = &quot;9&quot;; //case\n            case TEN -&gt; number = &quot;10&quot;; //case\n            case JACK -&gt; number = &quot;J&quot;; //case\n            case QUEEN -&gt; number = &quot;Q&quot;; //case\n            case KING -&gt; number = &quot;K&quot;; //case\n        } //end of switch\n        String suitName = &quot;&quot;; //variable declaration\n        switch(SUIT) { //switch to assign suit name\n            case HEARTS -&gt; suitName = &quot;H&quot;; //case\n            case DIAMONDS -&gt; suitName = &quot;D&quot;; //case\n            case SPADES -&gt; suitName = &quot;S&quot;; //case\n            case CLUBS -&gt; suitName = &quot;C&quot;; //case\n        } //end of switch\n        return number + suitName; //return statement\n    } //end of getName method\n    \n    /**\n     * This method gives the path to a corresponding image.\n     * @return String - returns the path of the image corresponding with the card.\n     */\n    public String getImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\cards\\\\&quot; + getName().substring(1,getName().length()) + &quot;\\\\&quot; + getName() + &quot;.jpg&quot;; //return statement\n    } //end of getImage method\n    /**\n     * This method gives the file path to the back of the card image.\n     * @return String the file path to the card back image\n     */\n    public static String getBackImagePath() {\n        return &quot;C:\\\\ICS3U_SUMMATIVE_SOLITAIRE\\\\src\\\\CardBack.jpg&quot;;\n    } //end of getImageBackPath method\n    \n    @Override\n    /**\n     * This method returns the description about the instance variables.\n     * @return String - rank and suit of card along with image path.\n     */\n    public String toString() {\n        return this.RANK + &quot; of &quot; + this.SUIT + &quot; ---- &quot; + getImagePath();\n    }\n} //end of Card class\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Suit {\n   //enum fields\n   /**\n    * Hearts, Diamonds,\n    */\n   HEARTS,DIAMONDS,\n   /**\n    * Spades, Clubs\n    */\n   SPADES,CLUBS;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Rank {\n   //enum fields\n   /**\n    * 2,3,4,5,6,7,8,9,10\n    */\n   TWO,THREE,FOUR,FIVE,SIX,SEVEN,EIGHT,NINE,TEN,\n   /**\n    * A,J,Q,K\n    */\n   ACE,JACK,QUEEN,KING;\n}\n</code></pre>\n<p>I have reviewed past suggestions from SO, but those do not seem to help my problem. Also have tried altering the y values to see if that helps, but it didn't.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687132247,"post_id":76501626,"comment_id":134889877,"body_markdown":"I don&#39;t see where you define a `JFrame` for your `JPanel` display.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"I don&#39;t see where you define a <code>JFrame</code> for your <code>JPanel</code> display.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687138026,"post_id":76501626,"comment_id":134890260,"body_markdown":"1) a JTable should be added to a JScrollPane so you can see the table headers. 2) After adding components to a visible frame you need to invoke revalidate() and repaint() on the panel to invoke the layout manager.","body":"1) a JTable should be added to a JScrollPane so you can see the table headers. 2) After adding components to a visible frame you need to invoke revalidate() and repaint() on the panel to invoke the layout manager."}],"owner":{"account_id":20870330,"reputation":11,"user_id":15330440,"display_name":"ngzs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687132134,"creation_date":1687107031,"question_id":76501626,"body_markdown":"I&#39;m trying to get my GUI to display a table on button click, but it doesn&#39;t show up as I expected it to.\r\n\r\nI thought adding adding the table into the panel retrospectively would work, but it doesn&#39;t. Any guidance will be much appreciated, thanks.\r\n\r\n```\r\npublic class gui {\r\n    JPanel panel = new JPanel();\r\n\r\n    private JTable transition_table;\r\n\r\n    gui() {\r\n        this.panel = new JPanel(new GridLayout(2, 1));\r\n        \r\n        Integer[] variables_options = new Integer[10];\r\n        Integer[] alphabets_options = new Integer[3];\r\n\r\n        for (int i = 0; i &lt; variables_options.length; i++) {\r\n            variables_options[i] = i + 1;\r\n        }\r\n\r\n        for (int i = 0; i &lt; alphabets_options.length; i++) {\r\n            alphabets_options[i] = i + 1;\r\n        }\r\n\r\n        JComboBox&lt;Integer&gt; variables_combo_box = new JComboBox&lt;&gt;(variables_options);\r\n        JComboBox&lt;Integer&gt; alphabets_combo_box = new JComboBox&lt;&gt;(alphabets_options);\r\n        JButton generate_button = new JButton(&quot;Generate Table&quot;);\r\n\r\n        JPanel controls = new JPanel();\r\n        controls.setLayout(new GridLayout(2, 3));\r\n        controls.add(new Label(&quot;Variables: &quot;));\r\n        controls.add(new Label(&quot;Alphabets: &quot;));\r\n        controls.add(new Label(&quot; &quot;));\r\n        controls.add(variables_combo_box);\r\n        controls.add(alphabets_combo_box);\r\n        controls.add(generate_button);\r\n\r\n        JTextArea transition_table_panel = new JTextArea();\r\n\r\n        this.panel.add(controls);\r\n        this.panel.add(transition_table_panel);\r\n\r\n        generate_button.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                String[] target_alphabet_count = new String[(Integer)alphabets_combo_box.getSelectedItem()];\r\n                String[][] target_variable_count = new String[(Integer)variables_combo_box.getSelectedItem()][(Integer)alphabets_combo_box.getSelectedItem()];\r\n\r\n                for (int i = 0; i &lt; (Integer)alphabets_combo_box.getSelectedItem(); i++) {\r\n                    target_alphabet_count[i] = String.valueOf(i);\r\n                }\r\n\r\n                for (int i = 0; i &lt; (Integer)variables_combo_box.getSelectedItem(); i++) {\r\n                    target_variable_count[i][i] = String.valueOf(i);\r\n                    \r\n                    for (int j = 1; j &lt; (Integer)alphabets_combo_box.getSelectedItem(); j++) {\r\n                        target_variable_count[i][j] = &quot;&quot;;\r\n                    }\r\n                }\r\n\r\n                transition_table = new JTable(target_variable_count, target_alphabet_count);\r\n                transition_table_panel.add(transition_table);\r\n            }\r\n        });\r\n    }\r\n}```","title":"JTable doesn&#39;t show up on button click","body":"<p>I'm trying to get my GUI to display a table on button click, but it doesn't show up as I expected it to.</p>\n<p>I thought adding adding the table into the panel retrospectively would work, but it doesn't. Any guidance will be much appreciated, thanks.</p>\n<pre><code>public class gui {\n    JPanel panel = new JPanel();\n\n    private JTable transition_table;\n\n    gui() {\n        this.panel = new JPanel(new GridLayout(2, 1));\n        \n        Integer[] variables_options = new Integer[10];\n        Integer[] alphabets_options = new Integer[3];\n\n        for (int i = 0; i &lt; variables_options.length; i++) {\n            variables_options[i] = i + 1;\n        }\n\n        for (int i = 0; i &lt; alphabets_options.length; i++) {\n            alphabets_options[i] = i + 1;\n        }\n\n        JComboBox&lt;Integer&gt; variables_combo_box = new JComboBox&lt;&gt;(variables_options);\n        JComboBox&lt;Integer&gt; alphabets_combo_box = new JComboBox&lt;&gt;(alphabets_options);\n        JButton generate_button = new JButton(&quot;Generate Table&quot;);\n\n        JPanel controls = new JPanel();\n        controls.setLayout(new GridLayout(2, 3));\n        controls.add(new Label(&quot;Variables: &quot;));\n        controls.add(new Label(&quot;Alphabets: &quot;));\n        controls.add(new Label(&quot; &quot;));\n        controls.add(variables_combo_box);\n        controls.add(alphabets_combo_box);\n        controls.add(generate_button);\n\n        JTextArea transition_table_panel = new JTextArea();\n\n        this.panel.add(controls);\n        this.panel.add(transition_table_panel);\n\n        generate_button.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String[] target_alphabet_count = new String[(Integer)alphabets_combo_box.getSelectedItem()];\n                String[][] target_variable_count = new String[(Integer)variables_combo_box.getSelectedItem()][(Integer)alphabets_combo_box.getSelectedItem()];\n\n                for (int i = 0; i &lt; (Integer)alphabets_combo_box.getSelectedItem(); i++) {\n                    target_alphabet_count[i] = String.valueOf(i);\n                }\n\n                for (int i = 0; i &lt; (Integer)variables_combo_box.getSelectedItem(); i++) {\n                    target_variable_count[i][i] = String.valueOf(i);\n                    \n                    for (int j = 1; j &lt; (Integer)alphabets_combo_box.getSelectedItem(); j++) {\n                        target_variable_count[i][j] = &quot;&quot;;\n                    }\n                }\n\n                transition_table = new JTable(target_variable_count, target_alphabet_count);\n                transition_table_panel.add(transition_table);\n            }\n        });\n    }\n}```\n</code></pre>\n"},{"tags":["java","javafx","proguard","obfuscation","executable-jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1577478502,"post_id":59504597,"comment_id":105183951,"body_markdown":"Consider very carefully if obfuscating is really worth the trouble and pain it is causing you, and, if not, do not obfuscate.","body":"Consider very carefully if obfuscating is really worth the trouble and pain it is causing you, and, if not, do not obfuscate."},{"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"score":0,"creation_date":1577481453,"post_id":59504597,"comment_id":105184791,"body_markdown":"I am distributing a program which code should be protected at least by obfuscation","body":"I am distributing a program which code should be protected at least by obfuscation"}],"answers":[{"tags":[],"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687132036,"creation_date":1687132036,"answer_id":76502920,"question_id":59504597,"body_markdown":"For some reason the file wasn&#39;t present in the OUT file, I worked it around by manually injecting it in the jar zip. Some flags of Proguard may help to keep the file.","title":"error obfuscating JavaFX Application with proguard","body":"<p>For some reason the file wasn't present in the OUT file, I worked it around by manually injecting it in the jar zip. Some flags of Proguard may help to keep the file.</p>\n"}],"owner":{"account_id":4600233,"reputation":878,"user_id":4043486,"accept_rate":93,"display_name":"younes zeboudj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76502920,"answer_count":1,"score":0,"last_activity_date":1687132036,"creation_date":1577470724,"question_id":59504597,"body_markdown":"I am not very familiar with proguard, I want to obfuscate a JavaFX application, I already did it right but now after adding some changes to the project things screwed up.\r\n\r\nHere is my .pro configuration file : \r\n\r\n```\r\n-injars       ../INJAR.jar \r\n-outjars      ../OUTJAR.jar \r\n\r\n-libraryjars  &#39;rt.jar&#39;\r\n-libraryjars  &#39;jce.jar&#39;\r\n-libraryjars  &#39;jfxrt.jar&#39;\r\n\r\n\r\n-dontshrink\r\n-dontoptimize\r\n-flattenpackagehierarchy &#39;&#39;\r\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,*Annotation*,Synthetic,EnclosingMethod\r\n-adaptresourcefilecontents **.fxml,**.properties,META-INF/MANIFEST.MF\r\n\r\n\r\n-dontskipnonpubliclibraryclasses\r\n-dontskipnonpubliclibraryclassmembers\r\n\r\n\r\n-keep class javax.** { *; }\r\n-keep class impl.** { *; }\r\n-dontwarn impl.**\r\n\r\n-keep class org.** { *; }\r\n-dontwarn org.**\r\n\r\n\r\n-keepclasseswithmembers public class main.Main {\r\n    public static void main(java.lang.String[]);\r\n}\r\n\r\n-keepclassmembernames class * {\r\n    @javafx.fxml.FXML *;\r\n}\r\n\r\n-keepclassmembernames class main.*Controller {\r\n    public &lt;methods&gt;;\r\n    public &lt;fields&gt;;\t\r\n}\r\n\r\n-keepclassmembernames class main.NewApplicationController$Applicant {\r\n    public &lt;methods&gt;;\r\n    public &lt;fields&gt;;\r\n}\r\n\r\n-keepclassmembernames class main.RDVTaker {\r\n    public &lt;methods&gt;;\r\n}\r\n\r\n\r\n-obfuscationdictionary members.txt\r\n-classobfuscationdictionary classes.txt\r\n-printmapping mapping.txt\r\n\r\n```\r\n\r\nby executing the command :\r\n```java -jar obf_data/proguard.jar @obf_data/myconfig.pro &gt; obf_data/info.txt```\r\n\r\nI get this erro :\r\n\r\n```Error: Unexpected error while writing class [oshi/hardware/platform/mac/MacDisks] (Overflow of unsigned short value [70168])```\r\n\r\nI bypassed the above error by removing `-dontshrink` option, but in this case the resulting jar is raising the following  error : ```Error: Invalid or corrupt jarfile OUTJAR.jar```\r\n\r\nAnd by removing both `-dontshrink` and `-dontoptimize` another error get raised, a stacktarce is printed, but I found out that the error was described at this level of stack :\r\n ```\r\nCaused by: javafx.fxml.LoadException:\r\nfile:/C:/Users/younes/IdeaProjects/vpro/out/artifacts/vpro/OUTJAR.jar.\r\njar!/main/main.fxml:12\r\n```\r\n\r\n\r\nI am wondering if someone got a supposition, idea or even another obfuscating tool,\r\n\r\nThanks in advance","title":"error obfuscating JavaFX Application with proguard","body":"<p>I am not very familiar with proguard, I want to obfuscate a JavaFX application, I already did it right but now after adding some changes to the project things screwed up.</p>\n\n<p>Here is my .pro configuration file : </p>\n\n<pre><code>-injars       ../INJAR.jar \n-outjars      ../OUTJAR.jar \n\n-libraryjars  'rt.jar'\n-libraryjars  'jce.jar'\n-libraryjars  'jfxrt.jar'\n\n\n-dontshrink\n-dontoptimize\n-flattenpackagehierarchy ''\n-keepattributes Exceptions,InnerClasses,Signature,Deprecated,*Annotation*,Synthetic,EnclosingMethod\n-adaptresourcefilecontents **.fxml,**.properties,META-INF/MANIFEST.MF\n\n\n-dontskipnonpubliclibraryclasses\n-dontskipnonpubliclibraryclassmembers\n\n\n-keep class javax.** { *; }\n-keep class impl.** { *; }\n-dontwarn impl.**\n\n-keep class org.** { *; }\n-dontwarn org.**\n\n\n-keepclasseswithmembers public class main.Main {\n    public static void main(java.lang.String[]);\n}\n\n-keepclassmembernames class * {\n    @javafx.fxml.FXML *;\n}\n\n-keepclassmembernames class main.*Controller {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;    \n}\n\n-keepclassmembernames class main.NewApplicationController$Applicant {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;\n}\n\n-keepclassmembernames class main.RDVTaker {\n    public &lt;methods&gt;;\n}\n\n\n-obfuscationdictionary members.txt\n-classobfuscationdictionary classes.txt\n-printmapping mapping.txt\n\n</code></pre>\n\n<p>by executing the command :\n<code>java -jar obf_data/proguard.jar @obf_data/myconfig.pro &gt; obf_data/info.txt</code></p>\n\n<p>I get this erro :</p>\n\n<p><code>Error: Unexpected error while writing class [oshi/hardware/platform/mac/MacDisks] (Overflow of unsigned short value [70168])</code></p>\n\n<p>I bypassed the above error by removing <code>-dontshrink</code> option, but in this case the resulting jar is raising the following  error : <code>Error: Invalid or corrupt jarfile OUTJAR.jar</code></p>\n\n<p>And by removing both <code>-dontshrink</code> and <code>-dontoptimize</code> another error get raised, a stacktarce is printed, but I found out that the error was described at this level of stack :</p>\n\n<pre><code>Caused by: javafx.fxml.LoadException:\nfile:/C:/Users/younes/IdeaProjects/vpro/out/artifacts/vpro/OUTJAR.jar.\njar!/main/main.fxml:12\n</code></pre>\n\n<p>I am wondering if someone got a supposition, idea or even another obfuscating tool,</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","unit-testing","testing","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687078474,"post_id":76496685,"comment_id":134884489,"body_markdown":"Does this answer your question? [MapStruct : mocking nested mapper](https://stackoverflow.com/questions/54774679/mapstruct-mocking-nested-mapper)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54774679/mapstruct-mocking-nested-mapper\">MapStruct : mocking nested mapper</a>"},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687086371,"post_id":76496685,"comment_id":134885272,"body_markdown":"None of it works, this [@Spy @InjectMocks solution](https://stackoverflow.com/a/55009482/17269768) output: `org.mockito.exceptions.misusing.NotAMockException: Argument should be a mock, but is: class .mappers.StudentDetailMapperImpl`.\n\nOr Reflection way output: `org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be &#39;a method call on a mock&#39;`.","body":"None of it works, this <a href=\"https://stackoverflow.com/a/55009482/17269768\">@Spy @InjectMocks solution</a> output: <code>org.mockito.exceptions.misusing.NotAMockException: Argument should be a mock, but is: class .mappers.StudentDetailMapperImpl</code>.  Or Reflection way output: <code>org.mockito.exceptions.misusing.MissingMethodInvocationExcep&zwnj;&#8203;tion:  when() requires an argument which has to be &#39;a method call on a mock&#39;</code>."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687119162,"post_id":76496685,"comment_id":134888815,"body_markdown":"Can you show both ways  your tried and not just your Exception? For me both solutions work when i recreate those.","body":"Can you show both ways  your tried and not just your Exception? For me both solutions work when i recreate those."},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687129025,"post_id":76496685,"comment_id":134889698,"body_markdown":"So I just edit my question? I mean I just add those lines into test code above, nothing really special.","body":"So I just edit my question? I mean I just add those lines into test code above, nothing really special."},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1687130314,"post_id":76496685,"comment_id":134889764,"body_markdown":"Actually reverse the direction of [@Spy @Inject](https://stackoverflow.com/a/74940805/17269768) works for some reason.","body":"Actually reverse the direction of <a href=\"https://stackoverflow.com/a/74940805/17269768\">@Spy @Inject</a> works for some reason."}],"answers":[{"tags":[],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687131888,"creation_date":1687130719,"answer_id":76502869,"question_id":76496685,"body_markdown":"Take a look at this [post](https://stackoverflow.com/q/54774679/17269768) of the same question, there are quite a few answers, but what works for me is reversing [this](https://stackoverflow.com/a/74940805/17269768) and add [`ReflectionTestUtils`](https://stackoverflow.com/a/66327399/17269768) solution:\r\n\r\nMy `StudentMapper` uses `SpouseDetailMapper`\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\r\npublic interface StudentDetailMapper {\r\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\r\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\r\n    @InheritInverseConfiguration\r\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);\r\n}\r\n```\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\r\npublic interface SpouseDetailMapper {\r\n    SpouseDetailMapper INSTANCE = Mappers.getMapper(SpouseDetailMapper.class);\r\n    @Mapping(target = &quot;studentDetail&quot;, ignore = true)\r\n    SpouseDetailDTO toDTO(SpouseDetail spouseDetail);\r\n    @InheritInverseConfiguration\r\n    SpouseDetail fromDTO(SpouseDetailDTO spouseDetailDTO);\r\n}\r\n```\r\n\r\nThen in `Test`:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass StudentDetailServiceTest {\r\n    @Spy\r\n    StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\r\n    @Spy\r\n    @InjectMocks\r\n    SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\r\n    @Mock\r\n    private StudentDetailRepository studentDetailRepository;\r\n    @InjectMocks\r\n    private StudentDetailService studentDetailService;\r\n    @BeforeEach\r\n    void setUp() {\r\n        ReflectionTestUtils.setField(\r\n            studentDetailMapper,\r\n            &quot;spouseDetailMapper&quot;,\r\n            spouseDetailMapper);\r\n}\r\n```\r\n\r\nSo what you want to do is add `@Spy @InjectMocks` into the used class, in this case it&#39;s `SpouseDetail`.","title":"How to use MapStruct that has SubMapper in unit testing","body":"<p>Take a look at this <a href=\"https://stackoverflow.com/q/54774679/17269768\">post</a> of the same question, there are quite a few answers, but what works for me is reversing <a href=\"https://stackoverflow.com/a/74940805/17269768\">this</a> and add <a href=\"https://stackoverflow.com/a/66327399/17269768\"><code>ReflectionTestUtils</code></a> solution:</p>\n<p>My <code>StudentMapper</code> uses <code>SpouseDetailMapper</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\npublic interface StudentDetailMapper {\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\n    @InheritInverseConfiguration\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.ERROR)\npublic interface SpouseDetailMapper {\n    SpouseDetailMapper INSTANCE = Mappers.getMapper(SpouseDetailMapper.class);\n    @Mapping(target = &quot;studentDetail&quot;, ignore = true)\n    SpouseDetailDTO toDTO(SpouseDetail spouseDetail);\n    @InheritInverseConfiguration\n    SpouseDetail fromDTO(SpouseDetailDTO spouseDetailDTO);\n}\n</code></pre>\n<p>Then in <code>Test</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass StudentDetailServiceTest {\n    @Spy\n    StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\n    @Spy\n    @InjectMocks\n    SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\n    @Mock\n    private StudentDetailRepository studentDetailRepository;\n    @InjectMocks\n    private StudentDetailService studentDetailService;\n    @BeforeEach\n    void setUp() {\n        ReflectionTestUtils.setField(\n            studentDetailMapper,\n            &quot;spouseDetailMapper&quot;,\n            spouseDetailMapper);\n}\n</code></pre>\n<p>So what you want to do is add <code>@Spy @InjectMocks</code> into the used class, in this case it's <code>SpouseDetail</code>.</p>\n"}],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687131888,"creation_date":1687012820,"question_id":76496685,"body_markdown":"I have a `StudentDetailMapper`:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\r\npublic interface StudentDetailMapper {\r\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\r\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\r\n    @InheritInverseConfiguration\r\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);}\r\n```\r\nI want to write a test for `StudentDetailService`:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass StudentDetailServiceTest {\r\n    @Mock\r\n    private StudentDetailRepository studentDetailRepository;\r\n\r\n// ???\r\n//    @InjectMocks\r\n//    private SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\r\n\r\n    @Spy\r\n    private StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\r\n    @InjectMocks\r\n    private StudentDetailService studentDetailService;\r\n\r\n    @Test\r\n    void getStudentDetail() {\r\n        when(studentDetailRepository.findByStudentStudentID(anyString())).thenReturn(Optional.of(studentDetail));\r\n//      when(spouseDetailMapper.toDTO(spouseDetail)).thenReturn(spouseDetailDTO);\r\n        when(studentDetailMapper.toDTO(studentDetail)).thenReturn(studentDetailDTO);\r\n\r\n        StudentDetailDTO result = studentDetailService.getStudentDetail(studentWithDetailID);\r\n\r\n        assertThat(studentDetailDTO).isEqualTo(result);\r\n    }\r\n\r\n```\r\nI know that you can write test that has MapStruct with `@Spy` but if there&#39;s a submapper it will throw this error:\r\n\r\n`java.lang.NullPointerException: Cannot invoke &quot;com.ex.project.mappers.SpouseDetailMapper.toDTO(com.ex.project.model.SpouseDetail)&quot; because &quot;this.spouseDetailMapper&quot; is null`\r\n","title":"How to use MapStruct that has SubMapper in unit testing","body":"<p>I have a <code>StudentDetailMapper</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = SpouseDetailMapper.class)\npublic interface StudentDetailMapper {\n    StudentDetailMapper INSTANCE = Mappers.getMapper(StudentDetailMapper.class);-\n    StudentDetailDTO toDTO(StudentDetail studentDetail);\n    @InheritInverseConfiguration\n    StudentDetail fromDTO(StudentDetailDTO studentDetailDTO);}\n</code></pre>\n<p>I want to write a test for <code>StudentDetailService</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass StudentDetailServiceTest {\n    @Mock\n    private StudentDetailRepository studentDetailRepository;\n\n// ???\n//    @InjectMocks\n//    private SpouseDetailMapper spouseDetailMapper = Mappers.getMapper(SpouseDetailMapper.class);\n\n    @Spy\n    private StudentDetailMapper studentDetailMapper = Mappers.getMapper(StudentDetailMapper.class);\n    @InjectMocks\n    private StudentDetailService studentDetailService;\n\n    @Test\n    void getStudentDetail() {\n        when(studentDetailRepository.findByStudentStudentID(anyString())).thenReturn(Optional.of(studentDetail));\n//      when(spouseDetailMapper.toDTO(spouseDetail)).thenReturn(spouseDetailDTO);\n        when(studentDetailMapper.toDTO(studentDetail)).thenReturn(studentDetailDTO);\n\n        StudentDetailDTO result = studentDetailService.getStudentDetail(studentWithDetailID);\n\n        assertThat(studentDetailDTO).isEqualTo(result);\n    }\n\n</code></pre>\n<p>I know that you can write test that has MapStruct with <code>@Spy</code> but if there's a submapper it will throw this error:</p>\n<p><code>java.lang.NullPointerException: Cannot invoke &quot;com.ex.project.mappers.SpouseDetailMapper.toDTO(com.ex.project.model.SpouseDetail)&quot; because &quot;this.spouseDetailMapper&quot; is null</code></p>\n"},{"tags":["java","spring","spring-boot","authentication"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Krek"},"score":0,"creation_date":1687088620,"post_id":76498839,"comment_id":134885516,"body_markdown":"Your approach is correct. You should be able to retrieve current username with SecurityContextHolder.getContext().getAuthentication().getName(). For You it is null, because your authentication does not work correctly. How do You handle login inside Your app?","body":"Your approach is correct. You should be able to retrieve current username with SecurityContextHolder.getContext().getAuthentication().getNa&zwnj;&#8203;me(). For You it is null, because your authentication does not work correctly. How do You handle login inside Your app?"},{"owner":{"account_id":23189519,"reputation":21,"user_id":17286087,"display_name":"user17286087"},"score":0,"creation_date":1687131024,"post_id":76498839,"comment_id":134889801,"body_markdown":"Hey! thanks for responding. I&#39;ve added the login logic in the last part of the code. Could it be that there is in fact data for the account, but Im not actually logged but rather just showing the information that I entered as username? Im not sure how I should change this ;/","body":"Hey! thanks for responding. I&#39;ve added the login logic in the last part of the code. Could it be that there is in fact data for the account, but Im not actually logged but rather just showing the information that I entered as username? Im not sure how I should change this ;/"}],"owner":{"account_id":23189519,"reputation":21,"user_id":17286087,"display_name":"user17286087"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687130927,"creation_date":1687055723,"question_id":76498839,"body_markdown":"I&#39;m relatively new to Spring Boot and seem to be having problems with connecting another API to current authenticated user.\r\n\r\nMy main problem is that I want to be able to create a new project using POST method only when user is logged in. \r\n\r\nIn addition, the project created will have a id attribute that is the current user&#39;s pk.\r\n\r\nNow I know that there are lots of post relating to this issue but none seem to have been a fix so far thus is why I am requesting for assitance to get a better understanding of the issue.\r\n\r\nThis is my UserService\r\n```\r\npackage portfolio.backend.api.auth.service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport portfolio.backend.api.auth.Exception.DataNotFoundException;\r\nimport portfolio.backend.api.auth.constant.UserType;\r\nimport portfolio.backend.api.auth.entity.SiteUser;\r\nimport portfolio.backend.api.auth.repository.UserRepository;\r\n\r\nimport java.util.Optional;\r\n\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public SiteUser create(String username, String userId,\r\n                           String password, String artistType) {\r\n        SiteUser user = new SiteUser();\r\n        user.setUsername(username);\r\n        user.setUserId(userId);\r\n\r\n\r\n\r\n        user.setPassword(passwordEncoder.encode(password));\r\n        user.setArtistType(artistType);\r\n        user.setUserType(UserType.USER);\r\n        this.userRepository.save(user);\r\n        return user;\r\n    }\r\n\r\n    public SiteUser getUser(String username) {\r\n        Optional&lt;SiteUser&gt; siteUser = this.userRepository.findByUsername(username);\r\n        if (siteUser.isPresent()) {\r\n            return siteUser.get();\r\n        } else {\r\n            throw new DataNotFoundException(&quot;siteuser not found&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nWith these entities given\r\n```\r\npackage portfolio.backend.api.auth.entity;\r\n\r\nimport lombok.Data;\r\nimport portfolio.backend.api.auth.constant.UserType;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.Email;\r\n\r\n@Data\r\n@Entity\r\npublic class SiteUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    @Email\r\n    private String username;\r\n\r\n    @Column(unique = true)\r\n    private String userId;\r\n\r\n    private String password;\r\n\r\n    private String artistType; \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private UserType userType; \r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nFinally this is the Project POST method I want to connect with the Id entity in User.\r\n\r\n```\r\n@PostMapping\r\n    public Project createProject(Principal principal,\r\n                                 Authentication authentication,\r\n                                 @RequestParam String projectName,\r\n                                \r\n                                 ...\r\n    ) {\r\n\r\n        SiteUser siteUser = userService.getUser(authentication.getName());\r\n        Long userId = siteUser.getId();\r\n\r\n        Project project = new Project();\r\n        project.setUserId(userId);\r\n        project.setProjectName(projectName);\r\n        ...\r\n\r\n        return projectRepository.save(project);\r\n    }\r\n ```\r\n\r\n\r\nThese are some of the methods I&#39;ve tried to retrive the Id\r\n\r\n```\r\n// 1\r\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\nSiteUser siteUser = (SiteUser) authentication.getPrincipal();\r\n\r\n// 2\r\nSiteUser siteUser = this.userService.getUser(principal.getName());\r\nLong userId = siteUser.getId();\r\n\r\n//3\r\nString username = principal.getName();\r\nSiteUser siteUser = this.userService.getUser(username);\r\nLong userId = siteUser.getId();\r\n\r\n```\r\n\r\nNow when I log in I get this log\r\n\r\n```\r\n2023-06-18 11:05:46.141 DEBUG 43426 --- [nio-7072-exec-5] org.hibernate.SQL                        : \r\n    select\r\n        siteuser0_.id as id1_1_,\r\n        siteuser0_.artistType as artistty2_1_,\r\n        siteuser0_.password as password3_1_,\r\n        siteuser0_.userId as userid4_1_,\r\n        siteuser0_.userType as usertype5_1_,\r\n        siteuser0_.username as username6_1_ \r\n    from\r\n        SiteUser siteuser0_ \r\n    where\r\n        siteuser0_.username=?\r\nHibernate: \r\n    select\r\n        siteuser0_.id as id1_1_,\r\n        siteuser0_.artistType as artistty2_1_,\r\n        siteuser0_.password as password3_1_,\r\n        siteuser0_.userId as userid4_1_,\r\n        siteuser0_.userType as usertype5_1_,\r\n        siteuser0_.username as username6_1_ \r\n    from\r\n        SiteUser siteuser0_ \r\n    where\r\n        siteuser0_.username=?\r\n\r\n```\r\nWhich to me, seems to mean that there is currently an authenticated user.\r\n\r\nHowever, when I send a POST request on Postman\r\nI get the log\r\n```\r\njava.lang.NullPointerException: null\r\n\tat portfolio.backend.api.project.controller.ProjectController.createProject(ProjectController.java:82) ~[main/:na]\r\n```\r\nWhich seems to mean that the getName()&#39;s value is Null.\r\nThank you reading the long post\r\n\r\n\r\nIn addition, below is the logic to my login.\r\n```\r\npackage portfolio.backend.api.auth.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport portfolio.backend.api.auth.repository.UserRepository;\r\n\r\nimport portfolio.backend.api.auth.constant.UserType;\r\n\r\nimport portfolio.backend.api.auth.entity.SiteUser;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class UserSecurityService implements UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n   \r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;SiteUser&gt; _siteUser = this.userRepository.findByUsername(username);\r\n        if (_siteUser.isEmpty()) {\r\n            throw new UsernameNotFoundException(&quot;NOT FOUND.&quot;);\r\n        }\r\n\r\n        SiteUser siteUser = _siteUser.get();\r\n\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        if (&quot;admin&quot;.equals(username)) {\r\n\r\n            authorities.add(new SimpleGrantedAuthority(UserType.ADMIN.getValue()));\r\n        } else {\r\n            authorities.add(new SimpleGrantedAuthority(UserType.USER.getValue()));\r\n            }\r\n\r\n            return new User(siteUser.getUsername(), siteUser.getPassword(), authorities);\r\n\r\n        }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"Spring Boot Retrieving current User","body":"<p>I'm relatively new to Spring Boot and seem to be having problems with connecting another API to current authenticated user.</p>\n<p>My main problem is that I want to be able to create a new project using POST method only when user is logged in.</p>\n<p>In addition, the project created will have a id attribute that is the current user's pk.</p>\n<p>Now I know that there are lots of post relating to this issue but none seem to have been a fix so far thus is why I am requesting for assitance to get a better understanding of the issue.</p>\n<p>This is my UserService</p>\n<pre><code>package portfolio.backend.api.auth.service;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport portfolio.backend.api.auth.Exception.DataNotFoundException;\nimport portfolio.backend.api.auth.constant.UserType;\nimport portfolio.backend.api.auth.entity.SiteUser;\nimport portfolio.backend.api.auth.repository.UserRepository;\n\nimport java.util.Optional;\n\n@RequiredArgsConstructor\n@Service\npublic class UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public SiteUser create(String username, String userId,\n                           String password, String artistType) {\n        SiteUser user = new SiteUser();\n        user.setUsername(username);\n        user.setUserId(userId);\n\n\n\n        user.setPassword(passwordEncoder.encode(password));\n        user.setArtistType(artistType);\n        user.setUserType(UserType.USER);\n        this.userRepository.save(user);\n        return user;\n    }\n\n    public SiteUser getUser(String username) {\n        Optional&lt;SiteUser&gt; siteUser = this.userRepository.findByUsername(username);\n        if (siteUser.isPresent()) {\n            return siteUser.get();\n        } else {\n            throw new DataNotFoundException(&quot;siteuser not found&quot;);\n        }\n    }\n\n}\n\n\n</code></pre>\n<p>With these entities given</p>\n<pre><code>package portfolio.backend.api.auth.entity;\n\nimport lombok.Data;\nimport portfolio.backend.api.auth.constant.UserType;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\n\n@Data\n@Entity\npublic class SiteUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    @Email\n    private String username;\n\n    @Column(unique = true)\n    private String userId;\n\n    private String password;\n\n    private String artistType; \n\n    @Enumerated(EnumType.STRING)\n    private UserType userType; \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n\n\n</code></pre>\n<p>Finally this is the Project POST method I want to connect with the Id entity in User.</p>\n<pre><code>@PostMapping\n    public Project createProject(Principal principal,\n                                 Authentication authentication,\n                                 @RequestParam String projectName,\n                                \n                                 ...\n    ) {\n\n        SiteUser siteUser = userService.getUser(authentication.getName());\n        Long userId = siteUser.getId();\n\n        Project project = new Project();\n        project.setUserId(userId);\n        project.setProjectName(projectName);\n        ...\n\n        return projectRepository.save(project);\n    }\n</code></pre>\n<p>These are some of the methods I've tried to retrive the Id</p>\n<pre><code>// 1\nAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\nSiteUser siteUser = (SiteUser) authentication.getPrincipal();\n\n// 2\nSiteUser siteUser = this.userService.getUser(principal.getName());\nLong userId = siteUser.getId();\n\n//3\nString username = principal.getName();\nSiteUser siteUser = this.userService.getUser(username);\nLong userId = siteUser.getId();\n\n</code></pre>\n<p>Now when I log in I get this log</p>\n<pre><code>2023-06-18 11:05:46.141 DEBUG 43426 --- [nio-7072-exec-5] org.hibernate.SQL                        : \n    select\n        siteuser0_.id as id1_1_,\n        siteuser0_.artistType as artistty2_1_,\n        siteuser0_.password as password3_1_,\n        siteuser0_.userId as userid4_1_,\n        siteuser0_.userType as usertype5_1_,\n        siteuser0_.username as username6_1_ \n    from\n        SiteUser siteuser0_ \n    where\n        siteuser0_.username=?\nHibernate: \n    select\n        siteuser0_.id as id1_1_,\n        siteuser0_.artistType as artistty2_1_,\n        siteuser0_.password as password3_1_,\n        siteuser0_.userId as userid4_1_,\n        siteuser0_.userType as usertype5_1_,\n        siteuser0_.username as username6_1_ \n    from\n        SiteUser siteuser0_ \n    where\n        siteuser0_.username=?\n\n</code></pre>\n<p>Which to me, seems to mean that there is currently an authenticated user.</p>\n<p>However, when I send a POST request on Postman\nI get the log</p>\n<pre><code>java.lang.NullPointerException: null\n    at portfolio.backend.api.project.controller.ProjectController.createProject(ProjectController.java:82) ~[main/:na]\n</code></pre>\n<p>Which seems to mean that the getName()'s value is Null.\nThank you reading the long post</p>\n<p>In addition, below is the logic to my login.</p>\n<pre><code>package portfolio.backend.api.auth.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport portfolio.backend.api.auth.repository.UserRepository;\n\nimport portfolio.backend.api.auth.constant.UserType;\n\nimport portfolio.backend.api.auth.entity.SiteUser;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@RequiredArgsConstructor\n@Service\npublic class UserSecurityService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n   \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;SiteUser&gt; _siteUser = this.userRepository.findByUsername(username);\n        if (_siteUser.isEmpty()) {\n            throw new UsernameNotFoundException(&quot;NOT FOUND.&quot;);\n        }\n\n        SiteUser siteUser = _siteUser.get();\n\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        if (&quot;admin&quot;.equals(username)) {\n\n            authorities.add(new SimpleGrantedAuthority(UserType.ADMIN.getValue()));\n        } else {\n            authorities.add(new SimpleGrantedAuthority(UserType.USER.getValue()));\n            }\n\n            return new User(siteUser.getUsername(), siteUser.getPassword(), authorities);\n\n        }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","android","android-animation","game-engine"],"comments":[{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1686873209,"post_id":76367247,"comment_id":134861854,"body_markdown":"What if instead of using a view and animating it through `View.animate()` you use a custom view that draws a rectangle and updates the position using a `ValueAnimator`?\n\n\nSidenote: you can use a ForEach loop instead of the for loop inside the `updateScreen` method. \n\nUse `for (View_Game_Event_Rectangle currentElement : arrayList_GameEventRectangles)`  instead of `for (int currentElement =0; currentElement&lt;arrayList_GameEventRectangles.size(); currentElement++)` and `currentElement` instead of `arrayList_GameEventRectangles.get(currentElement)`","body":"What if instead of using a view and animating it through <code>View.animate()</code> you use a custom view that draws a rectangle and updates the position using a <code>ValueAnimator</code>?   Sidenote: you can use a ForEach loop instead of the for loop inside the <code>updateScreen</code> method.   Use <code>for (View_Game_Event_Rectangle currentElement : arrayList_GameEventRectangles)</code>  instead of <code>for (int currentElement =0; currentElement&lt;arrayList_GameEventRectangles.size(); currentElement++)</code> and <code>currentElement</code> instead of <code>arrayList_GameEventRectangles.get(currentElement)</code>"}],"answers":[{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1686917381,"post_id":76486533,"comment_id":134867966,"body_markdown":"Thanks for your answer. As by bounty was running out of time I awarded it to you because you gave the only possible answer. But I still have some questions to your answer: 1) How can I divide the animation into three segments and how can I ensure, that the animation is still smooth and does not change its velocity after each segment? and how can I change the animations toghether 2) What do you mean by modifying the start and stop position of the middle animation? How can I do this? Would you mind telling me how to change the java code or at least which classes I need to use?","body":"Thanks for your answer. As by bounty was running out of time I awarded it to you because you gave the only possible answer. But I still have some questions to your answer: 1) How can I divide the animation into three segments and how can I ensure, that the animation is still smooth and does not change its velocity after each segment? and how can I change the animations toghether 2) What do you mean by modifying the start and stop position of the middle animation? How can I do this? Would you mind telling me how to change the java code or at least which classes I need to use?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1687530825,"post_id":76486533,"comment_id":134954578,"body_markdown":"Thanks for your updated answer. I have to admit that your suggested solution looks extremely complex especially considering that I normal game engine class is way more complex and contains more animations than the class file I uploaded. Is there not an easier way to do this? In my code it would be very difficult to set your variables like `moving_rectangle_shift_1`. Further, I work with ConstraintSet of the ConstraintLayout for the animation. Thus, I think it is not possible (or extremely time consuming) to adopt your suggested approach to my app. Do you have any other suggestion?","body":"Thanks for your updated answer. I have to admit that your suggested solution looks extremely complex especially considering that I normal game engine class is way more complex and contains more animations than the class file I uploaded. Is there not an easier way to do this? In my code it would be very difficult to set your variables like <code>moving_rectangle_shift_1</code>. Further, I work with ConstraintSet of the ConstraintLayout for the animation. Thus, I think it is not possible (or extremely time consuming) to adopt your suggested approach to my app. Do you have any other suggestion?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1687537458,"post_id":76486533,"comment_id":134955984,"body_markdown":"Sorry. I do not have any other suggestions given the scope of your question.","body":"Sorry. I do not have any other suggestions given the scope of your question."}],"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687130891,"creation_date":1686880991,"answer_id":76486533,"question_id":76367247,"body_markdown":"The animation will not display the orange rectangle at every pixel in the path due to Android&#39;s finite frame rate. You may see the rectangle displayed at each pixel for some very specific circumstances, but that will generally not be the case.\r\n\r\nHere is what I suggest:\r\n\r\n1. Divide the animation into three segments: the first from the start position to the right edge of the green rectangle; the second from the right edge of the green rectangle to the left edge of the green rectangle, and the third from the left edge of the green rectangle to the left end of the animation. You can chain these animations together.\r\n\r\n2. If the user clicks the button during the animation that is running in the middle, then it is a &quot;hit&quot;, otherwise, it is a &quot;miss.&quot;\r\n\r\nBy doing it this way, it won&#39;t matter how the orange rectangle gets to the center - skipping pixels or even skipping frames.\r\n\r\nYou can modify the start and stop position of the middle animation to fine tune it if you want such as making the middle animation much smaller if you want the user to try for the center of the green rectangle.\r\n\r\n---\r\n---\r\n\r\nI put together a small app that demonstrates splitting the animation into three segments and three separate animations that look like one animation. (See below.) To do this, I had to use a [LinearInterpolator](https://developer.android.com/reference/android/view/animation/LinearInterpolator) to make the transition seamless. \r\n\r\nYou can try this code out to see if it helps you - it may or may not. You will still be limited by the frame rate of the device (60fps, 90fps, 120fps). This means, that for any length of movement beyond the shortest length, the app will skip pixels. For instance, moving a view 1,000 pixels in 2 seconds for a 60 fps device will show the view 120 times at 8.3 pixel increments (8.3 = 1,000/(2x60)). This assumes a fast device and an excution environment that is not too busy. If the device/emulator is slow or the environment is busy, you will see a varying number of varying gap sizes in the movement.\r\n\r\nYou may want to look at [SurfaceView](https://developer.android.com/reference/android/view/SurfaceView) for drawing the game. I don&#39;t have any real experience with it, but it seems to be used in games and may give you better results. It will get the app off of the main thread and will avoid much the the Android view system that can be slow.\r\n\r\nHere is the code:\r\n\r\n\tpublic class Test2 extends Fragment implements View.OnTouchListener {\r\n\t    private FragmentTestBinding binding;\r\n\r\n\t    // Assume moving rectangle moves from initial position to x = 0.\r\n\t    private float moving_rectangle_full_shift = 0f;\r\n\r\n\t    // The full shift is composed of three shifts\r\n\t    private float moving_rectangle_shift_1 = 0f;\r\n\t    private float moving_rectangle_shift_2 = 0f;\r\n\t    private float moving_rectangle_shift_3 = 0f;\r\n\r\n\t    private final long moving_rectangle_full_shift_duration = 2000L;\r\n\r\n\t    // Each shift will last for a duration proportional to is size relative to the full shift.\r\n\t    // This assumes a linear interpolator for the animation.\r\n\t    private long moving_rectangle_shift_1_duration = 0L;\r\n\t    private long moving_rectangle_shift_2_duration = 0L;\r\n\t    private long moving_rectangle_shift_3_duration = 0L;\r\n\r\n\t    // Set to chain the three animations together.\r\n\t    private final AnimatorSet animatorSet = new AnimatorSet();\r\n\r\n\t    private float lastTransX = 0f;\r\n\t    private int frameCount = 0;\r\n\r\n\t    public Test2() {\r\n\t    }\r\n\r\n\t    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n\t    @Override\r\n\t    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n\t                             Bundle savedInstanceState) {\r\n\t        binding = DataBindingUtil.setContentView(requireActivity(), R.layout.fragment_test);\r\n\t        binding.buttonAction.setOnTouchListener(this);\r\n\t        binding.getRoot().addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\r\n\t            @Override\r\n\t            public void onLayoutChange(View v, int left, int top, int right, int bottom,\r\n\t                                       int oldLeft, int oldTop, int oldRight, int oldBottom) {\r\n\t                binding.getRoot().removeOnLayoutChangeListener(this);\r\n\t                Log.d(&quot;Applog&quot;, String.format(&quot;Target between %d and %d&quot;,\r\n\t                        binding.imageViewTargetRectangle.getLeft()\r\n\t                                - binding.movingRectangle.getLeft(),\r\n\t                        binding.imageViewTargetRectangle.getLeft() -\r\n\t                                binding.imageViewTargetRectangle.getRight()));\r\n\r\n\t                moving_rectangle_full_shift = -binding.movingRectangle.getX();\r\n\t                moving_rectangle_shift_1 = -(-moving_rectangle_full_shift\r\n\t                        - binding.imageViewTargetRectangle.getX()\r\n\t                        - binding.imageViewTargetRectangle.getWidth());\r\n\t                moving_rectangle_shift_1_duration =\r\n\t                        (long) (abs(moving_rectangle_shift_1 / moving_rectangle_full_shift)\r\n\t                                * moving_rectangle_full_shift_duration);\r\n\r\n\t                moving_rectangle_shift_2 = -binding.imageViewTargetRectangle.getWidth();\r\n\t                moving_rectangle_shift_2_duration = (long) (abs(moving_rectangle_shift_2\r\n\t                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\r\n\r\n\t                moving_rectangle_shift_3 = -binding.imageViewTargetRectangle.getX();\r\n\t                moving_rectangle_shift_3_duration = (long) (abs(moving_rectangle_shift_3\r\n\t                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorRight =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_shift_1);\r\n\t                translationAnimatorRight.setDuration(moving_rectangle_shift_1_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorMiddle =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_shift_1 + moving_rectangle_shift_2);\r\n\t                translationAnimatorMiddle.setDuration(moving_rectangle_shift_2_duration);\r\n\r\n\t                ObjectAnimator translationAnimatorLeft =\r\n\t                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\r\n\t                                moving_rectangle_full_shift);\r\n\t                translationAnimatorLeft.setDuration(moving_rectangle_shift_3_duration);\r\n\t                animatorSet.playSequentially(\r\n\t                        translationAnimatorRight,\r\n\t                        translationAnimatorMiddle,\r\n\t                        translationAnimatorLeft\r\n\t                );\r\n\r\n\t                // Must use a LinearInterpolator or there will be uneven movement.\r\n\t                animatorSet.setInterpolator(new LinearInterpolator());\r\n\t                animatorSet.addListener(new AnimatorListenerAdapter() {\r\n\t                    @Override\r\n\t                    public void onAnimationEnd(Animator animation) {\r\n\t                        super.onAnimationEnd(animation);\r\n\t                        showStatus(&quot;Total miss!&quot;);\r\n\t                    }\r\n\t                });\r\n\t                translationAnimatorMiddle.addUpdateListener(animation -&gt; {\r\n\t                    float animatedValue = (float) animation.getAnimatedValue();\r\n\t                    Log.d(&quot;Applog&quot;, String.format(&quot;transX = %f delta = %f frame #%d&quot;,\r\n\t                            animatedValue, animatedValue - lastTransX, ++frameCount));\r\n\t                    lastTransX = animatedValue;\r\n\t                });\r\n\t            }\r\n\t        });\r\n\r\n\t        return binding.getRoot();\r\n\t    }\r\n\r\n\t    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n\t    @Override\r\n\t    public boolean onTouch(View v, MotionEvent event) {\r\n\t        if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n\t            if (isAnimation2Running()) {\r\n\t                animatorSet.cancel();\r\n\t                showStatus(&quot;Hit!&quot;);\r\n\t            } else if (isAnimatorSetStarted()) {\r\n\t                animatorSet.cancel();\r\n\t                showStatus(&quot;Miss!&quot;);\r\n\t            } else {\r\n\t                showStatus(&quot;&quot;);\r\n\t                frameCount = 0;\r\n\t                lastTransX = 0;\r\n\t                animatorSet.start();\r\n\t            }\r\n\t        }\r\n\t        return false;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void onDestroyView() {\r\n\t        super.onDestroyView();\r\n\t        binding = null;\r\n\t    }\r\n\r\n\t    private void showStatus(String text) {\r\n\t        binding.status.setText(text);\r\n\t    }\r\n\r\n\t    private boolean isAnimation2Running() {\r\n\t        return animatorSet.getChildAnimations().get(1).isRunning();\r\n\t    }\r\n\r\n\t    private boolean isAnimatorSetStarted() {\r\n\t        return animatorSet.isStarted();\r\n\t    }\r\n\t}\r\n\r\n\t**The layout used:**\r\n\r\n\t&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\tandroid:id=&quot;@+id/constraintLayout&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\ttools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\t&lt;TextView\r\n\t    android:id=&quot;@+id/status&quot;\r\n\t    android:layout_width=&quot;wrap_content&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n\t    android:layout_marginBottom=&quot;16dp&quot;\r\n\t    android:textSize=&quot;18sp&quot;\r\n\t    android:textStyle=&quot;bold&quot;\r\n\t    app:layout_constraintBottom_toTopOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t    tools:text=&quot;Status goes here&quot; /&gt;\r\n\r\n\t&lt;View\r\n\t    android:id=&quot;@+id/imageView_TargetRectangle&quot;\r\n\t    android:layout_width=&quot;50dp&quot;\r\n\t    android:layout_height=&quot;50dp&quot;\r\n\t    android:background=&quot;@drawable/rectangle&quot;\r\n\t    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;View\r\n\t    android:id=&quot;@+id/moving_rectangle&quot;\r\n\t    android:layout_width=&quot;50dp&quot;\r\n\t    android:layout_height=&quot;25dp&quot;\r\n\t    android:background=&quot;@drawable/moving_rectangle&quot;\r\n\t    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\t&lt;Button\r\n\t    android:id=&quot;@+id/button_action&quot;\r\n\t    android:layout_width=&quot;wrap_content&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n\t    android:layout_marginTop=&quot;16dp&quot;\r\n\t    android:text=&quot;Action&quot;\r\n\t    app:layout_constraintEnd_toEndOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintStart_toStartOf=&quot;@id/imageView_TargetRectangle&quot;\r\n\t    app:layout_constraintTop_toBottomOf=&quot;@id/imageView_TargetRectangle&quot; /&gt;\r\n\r\n\t&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YVocs.gif","title":"How to precisely check the position of an animated element in Android with a RepeatListener","body":"<p>The animation will not display the orange rectangle at every pixel in the path due to Android's finite frame rate. You may see the rectangle displayed at each pixel for some very specific circumstances, but that will generally not be the case.</p>\n<p>Here is what I suggest:</p>\n<ol>\n<li><p>Divide the animation into three segments: the first from the start position to the right edge of the green rectangle; the second from the right edge of the green rectangle to the left edge of the green rectangle, and the third from the left edge of the green rectangle to the left end of the animation. You can chain these animations together.</p>\n</li>\n<li><p>If the user clicks the button during the animation that is running in the middle, then it is a &quot;hit&quot;, otherwise, it is a &quot;miss.&quot;</p>\n</li>\n</ol>\n<p>By doing it this way, it won't matter how the orange rectangle gets to the center - skipping pixels or even skipping frames.</p>\n<p>You can modify the start and stop position of the middle animation to fine tune it if you want such as making the middle animation much smaller if you want the user to try for the center of the green rectangle.</p>\n<hr />\n<hr />\n<p>I put together a small app that demonstrates splitting the animation into three segments and three separate animations that look like one animation. (See below.) To do this, I had to use a <a href=\"https://developer.android.com/reference/android/view/animation/LinearInterpolator\" rel=\"nofollow noreferrer\">LinearInterpolator</a> to make the transition seamless.</p>\n<p>You can try this code out to see if it helps you - it may or may not. You will still be limited by the frame rate of the device (60fps, 90fps, 120fps). This means, that for any length of movement beyond the shortest length, the app will skip pixels. For instance, moving a view 1,000 pixels in 2 seconds for a 60 fps device will show the view 120 times at 8.3 pixel increments (8.3 = 1,000/(2x60)). This assumes a fast device and an excution environment that is not too busy. If the device/emulator is slow or the environment is busy, you will see a varying number of varying gap sizes in the movement.</p>\n<p>You may want to look at <a href=\"https://developer.android.com/reference/android/view/SurfaceView\" rel=\"nofollow noreferrer\">SurfaceView</a> for drawing the game. I don't have any real experience with it, but it seems to be used in games and may give you better results. It will get the app off of the main thread and will avoid much the the Android view system that can be slow.</p>\n<p>Here is the code:</p>\n<pre><code>public class Test2 extends Fragment implements View.OnTouchListener {\n    private FragmentTestBinding binding;\n\n    // Assume moving rectangle moves from initial position to x = 0.\n    private float moving_rectangle_full_shift = 0f;\n\n    // The full shift is composed of three shifts\n    private float moving_rectangle_shift_1 = 0f;\n    private float moving_rectangle_shift_2 = 0f;\n    private float moving_rectangle_shift_3 = 0f;\n\n    private final long moving_rectangle_full_shift_duration = 2000L;\n\n    // Each shift will last for a duration proportional to is size relative to the full shift.\n    // This assumes a linear interpolator for the animation.\n    private long moving_rectangle_shift_1_duration = 0L;\n    private long moving_rectangle_shift_2_duration = 0L;\n    private long moving_rectangle_shift_3_duration = 0L;\n\n    // Set to chain the three animations together.\n    private final AnimatorSet animatorSet = new AnimatorSet();\n\n    private float lastTransX = 0f;\n    private int frameCount = 0;\n\n    public Test2() {\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = DataBindingUtil.setContentView(requireActivity(), R.layout.fragment_test);\n        binding.buttonAction.setOnTouchListener(this);\n        binding.getRoot().addOnLayoutChangeListener(new View.OnLayoutChangeListener() {\n            @Override\n            public void onLayoutChange(View v, int left, int top, int right, int bottom,\n                                       int oldLeft, int oldTop, int oldRight, int oldBottom) {\n                binding.getRoot().removeOnLayoutChangeListener(this);\n                Log.d(&quot;Applog&quot;, String.format(&quot;Target between %d and %d&quot;,\n                        binding.imageViewTargetRectangle.getLeft()\n                                - binding.movingRectangle.getLeft(),\n                        binding.imageViewTargetRectangle.getLeft() -\n                                binding.imageViewTargetRectangle.getRight()));\n\n                moving_rectangle_full_shift = -binding.movingRectangle.getX();\n                moving_rectangle_shift_1 = -(-moving_rectangle_full_shift\n                        - binding.imageViewTargetRectangle.getX()\n                        - binding.imageViewTargetRectangle.getWidth());\n                moving_rectangle_shift_1_duration =\n                        (long) (abs(moving_rectangle_shift_1 / moving_rectangle_full_shift)\n                                * moving_rectangle_full_shift_duration);\n\n                moving_rectangle_shift_2 = -binding.imageViewTargetRectangle.getWidth();\n                moving_rectangle_shift_2_duration = (long) (abs(moving_rectangle_shift_2\n                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\n\n                moving_rectangle_shift_3 = -binding.imageViewTargetRectangle.getX();\n                moving_rectangle_shift_3_duration = (long) (abs(moving_rectangle_shift_3\n                        / moving_rectangle_full_shift) * moving_rectangle_full_shift_duration);\n\n                ObjectAnimator translationAnimatorRight =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_shift_1);\n                translationAnimatorRight.setDuration(moving_rectangle_shift_1_duration);\n\n                ObjectAnimator translationAnimatorMiddle =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_shift_1 + moving_rectangle_shift_2);\n                translationAnimatorMiddle.setDuration(moving_rectangle_shift_2_duration);\n\n                ObjectAnimator translationAnimatorLeft =\n                        ObjectAnimator.ofFloat(binding.movingRectangle, &quot;translationX&quot;,\n                                moving_rectangle_full_shift);\n                translationAnimatorLeft.setDuration(moving_rectangle_shift_3_duration);\n                animatorSet.playSequentially(\n                        translationAnimatorRight,\n                        translationAnimatorMiddle,\n                        translationAnimatorLeft\n                );\n\n                // Must use a LinearInterpolator or there will be uneven movement.\n                animatorSet.setInterpolator(new LinearInterpolator());\n                animatorSet.addListener(new AnimatorListenerAdapter() {\n                    @Override\n                    public void onAnimationEnd(Animator animation) {\n                        super.onAnimationEnd(animation);\n                        showStatus(&quot;Total miss!&quot;);\n                    }\n                });\n                translationAnimatorMiddle.addUpdateListener(animation -&gt; {\n                    float animatedValue = (float) animation.getAnimatedValue();\n                    Log.d(&quot;Applog&quot;, String.format(&quot;transX = %f delta = %f frame #%d&quot;,\n                            animatedValue, animatedValue - lastTransX, ++frameCount));\n                    lastTransX = animatedValue;\n                });\n            }\n        });\n\n        return binding.getRoot();\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            if (isAnimation2Running()) {\n                animatorSet.cancel();\n                showStatus(&quot;Hit!&quot;);\n            } else if (isAnimatorSetStarted()) {\n                animatorSet.cancel();\n                showStatus(&quot;Miss!&quot;);\n            } else {\n                showStatus(&quot;&quot;);\n                frameCount = 0;\n                lastTransX = 0;\n                animatorSet.start();\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void showStatus(String text) {\n        binding.status.setText(text);\n    }\n\n    private boolean isAnimation2Running() {\n        return animatorSet.getChildAnimations().get(1).isRunning();\n    }\n\n    private boolean isAnimatorSetStarted() {\n        return animatorSet.isStarted();\n    }\n}\n\n**The layout used:**\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nandroid:id=&quot;@+id/constraintLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/status&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:textSize=&quot;18sp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    tools:text=&quot;Status goes here&quot; /&gt;\n\n&lt;View\n    android:id=&quot;@+id/imageView_TargetRectangle&quot;\n    android:layout_width=&quot;50dp&quot;\n    android:layout_height=&quot;50dp&quot;\n    android:background=&quot;@drawable/rectangle&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;View\n    android:id=&quot;@+id/moving_rectangle&quot;\n    android:layout_width=&quot;50dp&quot;\n    android:layout_height=&quot;25dp&quot;\n    android:background=&quot;@drawable/moving_rectangle&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button_action&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:text=&quot;Action&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintStart_toStartOf=&quot;@id/imageView_TargetRectangle&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/imageView_TargetRectangle&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YVocs.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVocs.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687130891,"creation_date":1685467647,"question_id":76367247,"body_markdown":"I want to develop a small game where an orange rectangle is animated from the right to the left on the display and when it is in the middle (green rectangle) the user should press a button and gets points if he/she succeeds (see Screenshot):\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code of the game class\r\n\r\n    public class Test extends Fragment implements View.OnClickListener {\r\n    \r\n    \r\n        /*\r\n        Game variables\r\n         */\r\n    \r\n        public static final int DELAY_IN_MILLIS = 100;\r\n        ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\r\n        private int currentTimeSlot;\r\n        private boolean gameIsRunning;\r\n        private Handler handler = new Handler();\r\n        private int timeslotsEventElementUntilTheMiddleOfTheScreen_Level1 = (int)(5.0 * (1000.0/DELAY_IN_MILLIS));\r\n        private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 5000;\r\n    \r\n        //Fix parameters of the UI elements\r\n        private float horizontalPercentageOfScoreRectangle_End = 0.491f;\r\n        private float horizontalPercentageOfScoreRectangle_Start = 0.567f;\r\n        private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\r\n        private float percentageHeightOfEventElement = 0.071f;\r\n    \r\n    \r\n        int widthDisplay;\r\n        int heightDisplay;\r\n        int helpCounterRun =0;\r\n        int helpCounterUpdateScreen =0;\r\n        int helpCounterCountDownTime =0;\r\n    \r\n        private FragmentTestBinding binding;\r\n        private ConstraintLayout constraintLayout;\r\n        ConstraintSet constraintSet ;\r\n    \r\n        //Variables for the single view event\r\n        View_Game_Event_Rectangle[] viewEvent;\r\n    \r\n        private boolean fragmentViewHasBeenCreated = false;\r\n        private CountDownTimer cdt;\r\n        private  final long DURATION = 900000L;\r\n        private  final long DELAY_COUNT_DOWN_TIMER = 100;\r\n    \r\n        private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\r\n        private int currentLevel;\r\n        public Test() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\r\n            currentLevel = 1;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTestBinding.inflate(inflater, container, false);\r\n    \r\n            WindowManager wm = (WindowManager) getActivity().getWindowManager();\r\n            Display display = wm.getDefaultDisplay();\r\n            Point size = new Point();\r\n            display.getSize(size);\r\n            widthDisplay = size.x;\r\n            heightDisplay = size.y;\r\n            container.getContext();\r\n            constraintLayout= binding.constraintLayout;\r\n    \r\n            // Define and registrate RepeatListener on the heat button\r\n    \r\n            binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(1, 1, new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    // the code to execute repeatedly\r\n                    checkPositionsOfActiveElements();\r\n                    }\r\n                }\r\n            ));\r\n    \r\n    \r\n            fragmentViewHasBeenCreated = true;\r\n            getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n            constraintLayout = binding.constraintLayout;\r\n            constraintSet = new ConstraintSet();\r\n            startGame();\r\n            return binding.getRoot();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n        }\r\n    \r\n    \r\n        public void startGame () {\r\n            gameIsRunning = true;\r\n            Log.e(&quot;LogTag_El&quot;, &quot;-------Start Game------&quot; );\r\n    \r\n            //Create rectangle-element that should be animated from the right to the left on the screen\r\n            arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), &quot;Bulb Rectangle&quot;, 100, 20));\r\n            countDownTime();\r\n        }\r\n    \r\n    \r\n        private void updateScreen() {\r\n    \r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n    \r\n                //Create view and set\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 50) {\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setActive(true);\r\n    \r\n    \r\n                    //Set the parameters and the backgrund of the view element\r\n                    arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\r\n    \r\n                    if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(&quot;Bulb Rectangle&quot;)) {\r\n                        arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_bulb_1).mutate());\r\n                    }\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\r\n    \r\n                    //Make the view invisible (before it&#39;s appearence time)\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\r\n    \r\n                    // Set the ConstraintLayout programatically for the view\r\n                    constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\r\n                    constraintSet.clone(constraintLayout);\r\n                    constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\r\n    \r\n                    float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\r\n                    float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\r\n    \r\n                    constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\r\n                    constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\r\n    \r\n                    float horizontalBias = 1.0f ;\r\n                    constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\r\n                    constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\r\n                    constraintSet.applyTo(constraintLayout);\r\n    \r\n                }\r\n    \r\n    \r\n                //Shift the view to the right border of the display\r\n                if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 40) {\r\n                    arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\r\n                }\r\n    \r\n    \r\n                //Animate view element\r\n                if (currentTimeSlot ==arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\r\n                    arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\r\n                    long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 1);\r\n    \r\n                    arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).start();\r\n    \r\n                }\r\n                helpCounterUpdateScreen++;\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private void countDownTime(){\r\n    \r\n            cdt = new CountDownTimer(DURATION, DELAY_COUNT_DOWN_TIMER) {\r\n                boolean delay = true;\r\n                public void onTick(long millisUntilFinished) {\r\n                    if(delay) {\r\n                        delay = false;\r\n                    } else {\r\n    \r\n                        helpCounterCountDownTime++;\r\n                        currentTimeSlot++;\r\n    \r\n                        updateScreen();\r\n                        delay = true;\r\n                    }\r\n                }\r\n                public void onFinish() {\r\n                    updateScreen();\r\n                }\r\n            }.start();\r\n    \r\n        }\r\n    \r\n        public void checkPositionsOfActiveElements () {\r\n            for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\r\n                //Check if the view is still running\r\n                if (arrayList_GameEventRectangles.get(currentElement).isActive() == true &amp;&amp; currentElement==0) {\r\n                    Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentTimeSlot: &quot; + currentTimeSlot);\r\n                    Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentElement.getX(): &quot; + arrayList_GameEventRectangles.get(currentElement).getX());\r\n    \r\n                    //int[] location = arrayList_GameEventRectangles.get(currentElement).getLocationOnScreen(location);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            // Reset your variable to false\r\n            fragmentViewHasBeenCreated = false;\r\n    \r\n            // And clean up any postDelayed callbacks that are waiting to fire\r\n            cdt.cancel();\r\n            handler.removeCallbacksAndMessages(null);\r\n        }\r\n    }\r\n\r\nAnd here is the XML-layout file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/constraintLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n    \r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/imageView_TargetRectangle&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n    \r\n    \r\n            android:background=&quot;@drawable/rectangle&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    \r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.16&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.535&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.01&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.10&quot; /&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_action&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:text=&quot;Action&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.102&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.373&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.745&quot;\r\n            app:layout_constraintWidth_percent=&quot;0.13&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nHere is the output when I hold the action button pressed while the orange rectanlge is visible:\r\n\r\n    2023-05-30 19:09:23.292 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1634.5706\r\n    2023-05-30 19:09:23.312 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.313 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1625.5212\r\n    2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1615.8167\r\n    2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1596.7167\r\n    2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1586.7451\r\n    2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1576.6847\r\n    2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1567.1366\r\n    2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1556.908\r\n    2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1547.2031\r\n    2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1536.8103\r\n    2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1526.3347\r\n    2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1515.7773\r\n    2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\r\n    2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1505.7678\r\n\r\nAs you can see the output does not precisely give me the exact location of the orange rectangle because even with 1 millisecond (the lowest) in the RepeatListener, I get the location values: 1634, 1625, 1615, 1596 etc. What I actually want is to also return values from the `checkPositionsOfActiveElements` method when the orange rectangle is at 1634, 1633, 1632, 1631, 1630. With my current approach, I just get imprecise discrete values. But I don&#39;t get the values of the location between the outputed discrete positions. My question is what I can do in order to get the precise location of the orange rectanlge while it is visible such that I can archieve my aim of determining if the orange rectangle was within the green one when the action button was pressed. With the current approach I can&#39;t because of the imprecise nature of the location reporting. \r\n\r\n\r\n**Reminder**: My bounty is about to expire within one day. So please, if you have any idea, I&#39;ll be very very thankful if you could share it with me.\r\n\r\n\r\n\r\n[1]: https://i.stack.imgur.com/lnhDX.png","title":"How to precisely check the position of an animated element in Android with a RepeatListener","body":"<p>I want to develop a small game where an orange rectangle is animated from the right to the left on the display and when it is in the middle (green rectangle) the user should press a button and gets points if he/she succeeds (see Screenshot):\n<a href=\"https://i.stack.imgur.com/lnhDX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnhDX.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code of the game class</p>\n<pre><code>public class Test extends Fragment implements View.OnClickListener {\n\n\n    /*\n    Game variables\n     */\n\n    public static final int DELAY_IN_MILLIS = 100;\n    ArrayList&lt;View_Game_Event_Rectangle&gt; arrayList_GameEventRectangles;\n    private int currentTimeSlot;\n    private boolean gameIsRunning;\n    private Handler handler = new Handler();\n    private int timeslotsEventElementUntilTheMiddleOfTheScreen_Level1 = (int)(5.0 * (1000.0/DELAY_IN_MILLIS));\n    private int numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 = 5000;\n\n    //Fix parameters of the UI elements\n    private float horizontalPercentageOfScoreRectangle_End = 0.491f;\n    private float horizontalPercentageOfScoreRectangle_Start = 0.567f;\n    private float verticalBiasOfEventElementToBeInTheLine = 0.049f;\n    private float percentageHeightOfEventElement = 0.071f;\n\n\n    int widthDisplay;\n    int heightDisplay;\n    int helpCounterRun =0;\n    int helpCounterUpdateScreen =0;\n    int helpCounterCountDownTime =0;\n\n    private FragmentTestBinding binding;\n    private ConstraintLayout constraintLayout;\n    ConstraintSet constraintSet ;\n\n    //Variables for the single view event\n    View_Game_Event_Rectangle[] viewEvent;\n\n    private boolean fragmentViewHasBeenCreated = false;\n    private CountDownTimer cdt;\n    private  final long DURATION = 900000L;\n    private  final long DELAY_COUNT_DOWN_TIMER = 100;\n\n    private int numberOfTimeSlotsUntilTheEndOfScreen = (int)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 2/(DELAY_COUNT_DOWN_TIMER));\n    private int currentLevel;\n    public Test() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        arrayList_GameEventRectangles = new ArrayList&lt;View_Game_Event_Rectangle&gt;();\n        currentLevel = 1;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTestBinding.inflate(inflater, container, false);\n\n        WindowManager wm = (WindowManager) getActivity().getWindowManager();\n        Display display = wm.getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        widthDisplay = size.x;\n        heightDisplay = size.y;\n        container.getContext();\n        constraintLayout= binding.constraintLayout;\n\n        // Define and registrate RepeatListener on the heat button\n\n        binding.buttonAction.setOnTouchListener((View.OnTouchListener) new RepeatListener(1, 1, new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // the code to execute repeatedly\n                checkPositionsOfActiveElements();\n                }\n            }\n        ));\n\n\n        fragmentViewHasBeenCreated = true;\n        getActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n        constraintLayout = binding.constraintLayout;\n        constraintSet = new ConstraintSet();\n        startGame();\n        return binding.getRoot();\n    }\n\n\n    @Override\n    public void onClick(View view) {\n\n    }\n\n\n    public void startGame () {\n        gameIsRunning = true;\n        Log.e(&quot;LogTag_El&quot;, &quot;-------Start Game------&quot; );\n\n        //Create rectangle-element that should be animated from the right to the left on the screen\n        arrayList_GameEventRectangles.add(new View_Game_Event_Rectangle(getActivity(), &quot;Bulb Rectangle&quot;, 100, 20));\n        countDownTime();\n    }\n\n\n    private void updateScreen() {\n\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n\n            //Create view and set\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 50) {\n\n                arrayList_GameEventRectangles.get(currentElement).setActive(true);\n\n\n                //Set the parameters and the backgrund of the view element\n                arrayList_GameEventRectangles.get(currentElement).setLayoutParams(new ViewGroup.LayoutParams(0, 0));\n\n                if(arrayList_GameEventRectangles.get(currentElement).getEventType().equals(&quot;Bulb Rectangle&quot;)) {\n                    arrayList_GameEventRectangles.get(currentElement).setBackground(ContextCompat.getDrawable(getActivity(),R.drawable.game_event_rectangle_bulb_1).mutate());\n                }\n\n                arrayList_GameEventRectangles.get(currentElement).setId(View.generateViewId());\n\n                //Make the view invisible (before it's appearence time)\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(0);\n\n                // Set the ConstraintLayout programatically for the view\n                constraintLayout.addView(arrayList_GameEventRectangles.get(currentElement));\n                constraintSet.clone(constraintLayout);\n                constraintSet.constrainPercentHeight(arrayList_GameEventRectangles.get(currentElement).getId(), percentageHeightOfEventElement);\n\n                float widthConstrainPercentage_element1 = (float)(arrayList_GameEventRectangles.get(currentElement).getDuration() / 100.0);\n                float duration = arrayList_GameEventRectangles.get(currentElement).getDuration();\n\n                constraintSet.constrainPercentWidth(arrayList_GameEventRectangles.get(currentElement).getId(), widthConstrainPercentage_element1);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.BOTTOM, ConstraintSet.PARENT_ID,ConstraintSet.BOTTOM,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.TOP,ConstraintSet.PARENT_ID ,ConstraintSet.TOP,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.LEFT,ConstraintSet.PARENT_ID ,ConstraintSet.LEFT,0);\n                constraintSet.connect(arrayList_GameEventRectangles.get(currentElement).getId(),ConstraintSet.RIGHT,ConstraintSet.PARENT_ID ,ConstraintSet.RIGHT,0);\n\n                float horizontalBias = 1.0f ;\n                constraintSet.setHorizontalBias(arrayList_GameEventRectangles.get(currentElement).getId(), horizontalBias);\n                constraintSet.setVerticalBias(arrayList_GameEventRectangles.get(currentElement).getId(), verticalBiasOfEventElementToBeInTheLine);\n                constraintSet.applyTo(constraintLayout);\n\n            }\n\n\n            //Shift the view to the right border of the display\n            if (currentTimeSlot == arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot() - 40) {\n                arrayList_GameEventRectangles.get(currentElement).setTranslationX(arrayList_GameEventRectangles.get(currentElement).getWidth());\n            }\n\n\n            //Animate view element\n            if (currentTimeSlot ==arrayList_GameEventRectangles.get(currentElement).getStartingTimeSlot()) {\n                arrayList_GameEventRectangles.get(currentElement).getBackground().setAlpha(255);\n                long durationForTheAnimation = (long)(numberOfMillisecondsUntilTheMiddleOfTheScreen_Level1 * 1);\n\n                arrayList_GameEventRectangles.get(currentElement).animate().setDuration(durationForTheAnimation).translationX(widthDisplay*(-1)).start();\n\n            }\n            helpCounterUpdateScreen++;\n\n        }\n\n    }\n\n    private void countDownTime(){\n\n        cdt = new CountDownTimer(DURATION, DELAY_COUNT_DOWN_TIMER) {\n            boolean delay = true;\n            public void onTick(long millisUntilFinished) {\n                if(delay) {\n                    delay = false;\n                } else {\n\n                    helpCounterCountDownTime++;\n                    currentTimeSlot++;\n\n                    updateScreen();\n                    delay = true;\n                }\n            }\n            public void onFinish() {\n                updateScreen();\n            }\n        }.start();\n\n    }\n\n    public void checkPositionsOfActiveElements () {\n        for (int currentElement =0; currentElement &lt;arrayList_GameEventRectangles.size(); currentElement++) {\n            //Check if the view is still running\n            if (arrayList_GameEventRectangles.get(currentElement).isActive() == true &amp;&amp; currentElement==0) {\n                Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentTimeSlot: &quot; + currentTimeSlot);\n                Log.e(&quot;LogTag_FGa_CP&quot;, &quot;currentElement.getX(): &quot; + arrayList_GameEventRectangles.get(currentElement).getX());\n\n                //int[] location = arrayList_GameEventRectangles.get(currentElement).getLocationOnScreen(location);\n                \n            }\n        }\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Reset your variable to false\n        fragmentViewHasBeenCreated = false;\n\n        // And clean up any postDelayed callbacks that are waiting to fire\n        cdt.cancel();\n        handler.removeCallbacksAndMessages(null);\n    }\n}\n</code></pre>\n<p>And here is the XML-layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/constraintLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/imageView_TargetRectangle&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n\n\n        android:background=&quot;@drawable/rectangle&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.16&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.535&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.01&quot;\n        app:layout_constraintWidth_percent=&quot;0.10&quot; /&gt;\n\n\n\n\n    &lt;Button\n        android:id=&quot;@+id/button_action&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;Action&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHeight_percent=&quot;0.102&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.373&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.745&quot;\n        app:layout_constraintWidth_percent=&quot;0.13&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Here is the output when I hold the action button pressed while the orange rectanlge is visible:</p>\n<pre><code>2023-05-30 19:09:23.292 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1634.5706\n2023-05-30 19:09:23.312 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.313 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1625.5212\n2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.344 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1615.8167\n2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.359 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1596.7167\n2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.376 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1586.7451\n2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.393 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1576.6847\n2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.410 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1567.1366\n2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.427 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1556.908\n2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.442 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1547.2031\n2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.459 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1536.8103\n2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.475 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1526.3347\n2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.493 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1515.7773\n2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentTimeSlot: 106\n2023-05-30 19:09:23.510 26983-26983 LogTag_FGa_CP           com.example.game                     E  currentElement.getX(): 1505.7678\n</code></pre>\n<p>As you can see the output does not precisely give me the exact location of the orange rectangle because even with 1 millisecond (the lowest) in the RepeatListener, I get the location values: 1634, 1625, 1615, 1596 etc. What I actually want is to also return values from the <code>checkPositionsOfActiveElements</code> method when the orange rectangle is at 1634, 1633, 1632, 1631, 1630. With my current approach, I just get imprecise discrete values. But I don't get the values of the location between the outputed discrete positions. My question is what I can do in order to get the precise location of the orange rectanlge while it is visible such that I can archieve my aim of determining if the orange rectangle was within the green one when the action button was pressed. With the current approach I can't because of the imprecise nature of the location reporting.</p>\n<p><strong>Reminder</strong>: My bounty is about to expire within one day. So please, if you have any idea, I'll be very very thankful if you could share it with me.</p>\n"},{"tags":["javascript","java","processing","p5.js"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1686621078,"post_id":76461249,"comment_id":134820861,"body_markdown":"What errors are you getting?","body":"What errors are you getting?"},{"owner":{"account_id":24820942,"reputation":11,"user_id":18701288,"display_name":"Maria Costa"},"score":0,"creation_date":1686621361,"post_id":76461249,"comment_id":134820884,"body_markdown":"At function updateAA(x, y) it says &quot;Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)&quot;. I&#39;m not also sure if I need the &quot;return this.rectOver&quot; line at the end of the function. Do I? Also, at the last bracket that is supposed to close the class, it returns the error &quot;Declaration or statement expected.ts(1128)&quot;.","body":"At function updateAA(x, y) it says &quot;Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)&quot;. I&#39;m not also sure if I need the &quot;return this.rectOver&quot; line at the end of the function. Do I? Also, at the last bracket that is supposed to close the class, it returns the error &quot;Declaration or statement expected.ts(1128)&quot;."},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1686622337,"post_id":76461249,"comment_id":134820960,"body_markdown":"Please include all relevant information in your post and not in the comments.","body":"Please include all relevant information in your post and not in the comments."},{"owner":{"account_id":24820942,"reputation":11,"user_id":18701288,"display_name":"Maria Costa"},"score":0,"creation_date":1686622557,"post_id":76461249,"comment_id":134820981,"body_markdown":"i just put it there","body":"i just put it there"},{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1686627894,"post_id":76461249,"comment_id":134821376,"body_markdown":"I&#39;m struggling to understand your code.  Why don&#39;t ```table()```, ```display()```, et.al start with the ```function``` reserved word?","body":"I&#39;m struggling to understand your code.  Why don&#39;t <code>table()</code>, <code>display()</code>, et.al start with the <code>function</code> reserved word?"},{"owner":{"account_id":24820942,"reputation":11,"user_id":18701288,"display_name":"Maria Costa"},"score":0,"creation_date":1686674770,"post_id":76461249,"comment_id":134830552,"body_markdown":"That&#39;s the issue, I don&#39;t know. This is what I got back when translated from Java","body":"That&#39;s the issue, I don&#39;t know. This is what I got back when translated from Java"},{"owner":{"account_id":2610902,"reputation":872,"user_id":20396240,"display_name":"Sembei Norimaki"},"score":0,"creation_date":1686738679,"post_id":76461249,"comment_id":134839495,"body_markdown":"What do you mean &quot;This is what I got back when translated from Java&quot;? Who made the translation?","body":"What do you mean &quot;This is what I got back when translated from Java&quot;? Who made the translation?"}],"answers":[{"tags":[],"owner":{"account_id":81261,"reputation":19282,"user_id":229247,"accept_rate":75,"display_name":"Paul Wheeler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686818357,"creation_date":1686818357,"answer_id":76480655,"question_id":76461249,"body_markdown":"Using the `function` keyword where it doesn&#39;t belong, on methods inside of the `Buttons` class seems to be your main issue.\r\n\r\nJavaScript uses different syntax to declare global or local functions than to declare class members. Java doesn&#39;t have such a distinction because there are no global functions, all functions are declared on a class.\r\n\r\nWhen declaring a global function (like the `setup` and `draw` at the top of your file), you use the following syntax:\r\n\r\n```javascript\r\nfunction your_function_name(arg1, arg2) {\r\n}\r\n```\r\n\r\nWhen declaring a method on a class the syntax is very similar but without the `function` keyword:\r\n\r\n```javascript\r\nclass YourClass {\r\n  your_method_name(arg1, arg2) {\r\n  }\r\n}\r\n```","title":"Ho to understand and fix syntax errors in p5.js?","body":"<p>Using the <code>function</code> keyword where it doesn't belong, on methods inside of the <code>Buttons</code> class seems to be your main issue.</p>\n<p>JavaScript uses different syntax to declare global or local functions than to declare class members. Java doesn't have such a distinction because there are no global functions, all functions are declared on a class.</p>\n<p>When declaring a global function (like the <code>setup</code> and <code>draw</code> at the top of your file), you use the following syntax:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function your_function_name(arg1, arg2) {\n}\n</code></pre>\n<p>When declaring a method on a class the syntax is very similar but without the <code>function</code> keyword:</p>\n<pre class=\"lang-js prettyprint-override\"><code>class YourClass {\n  your_method_name(arg1, arg2) {\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24820942,"reputation":11,"user_id":18701288,"display_name":"Maria Costa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687130103,"creation_date":1686620957,"question_id":76461249,"body_markdown":"I need to translate a Java code done in processing to p5.js to embed on html. I have started translating it, but it keeps throwing errors and can&#39;t fix them. I have very little experience with JavaScript and don&#39;t have the time to learn it.\r\n\r\nIt works perfectly on processing, but I used chat gpt to translate and it obviously didn&#39;t do a perfect job. I&#39;m also suspicious because my inital code had 600 lines and this has only 300. How can I fix those syntax bugs and explain what I need to fix in terms of missing function or class declarations?\r\n\r\n\r\nAt function updateAA(x, y) it says &quot;Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)&quot;. I&#39;m not also sure if I need the &quot;return this.rectOver&quot; line at the end of the function. Do I? Also, at the last bracket that is supposed to close the class, it returns the error &quot;Declaration or statement expected.ts(1128)&quot;. \r\n\r\n```\r\nlet scenarioA;\r\nlet buttons;\r\n\r\nfunction setup() {\r\n  createCanvas(400, 400);\r\n  scenarioA = new ScenarioA();\r\n  buttons = new Buttons();\r\n}\r\n\r\nfunction draw() {\r\n  background(220);\r\n  scenarioA.display();\r\n  buttons.display();\r\n}\r\n\r\nfunction mouseClicked() {\r\n  buttons.mouseClicked();\r\n}\r\n\r\nclass ScenarioA {\r\n  scenarioAA() {\r\n    // Scenario AA implementation\r\n  }\r\n\r\n  scenarioAB() {\r\n    // Scenario AB implementation\r\n  }\r\n\r\n  scenarioAC() {\r\n    // Scenario AC implementation\r\n  }\r\n\r\n  scenarioBA() {\r\n    // Scenario BA implementation\r\n  }\r\n\r\n  scenarioBB() {\r\n    // Scenario BB implementation\r\n  }\r\n\r\n  scenarioBC() {\r\n    // Scenario BC implementation\r\n  }\r\n\r\n  scenarioCA() {\r\n    // Scenario CA implementation\r\n  }\r\n\r\n  scenarioCB() {\r\n    // Scenario CB implementation\r\n  }\r\n\r\n  scenarioCC() {\r\n    // Scenario CC implementation\r\n  }\r\n\r\n  display() {\r\n    // Display implementation\r\n  }\r\n}\r\n\r\nclass Buttons {\r\n  constructor() {\r\n    this.rectOver = false;\r\n    this.x1 = 189;\r\n    this.x2 = 244;\r\n    this.x3 = 299;\r\n    this.y1 = 189;\r\n    this.y2 = 224;\r\n    this.y3 = 259;\r\n    this.textspacingx = 14;\r\n    this.textspacingy = 22;\r\n    this.buttonlength = 50;\r\n    this.buttonwidth = 50; // Added missing property declaration\r\n  }\r\n\r\n  table() {\r\n    strokeWeight(0.5);\r\n    fill(255);\r\n    stroke(0);\r\n    rect(120, 130, 230, 160);\r\n  }\r\n\r\n   range() {\r\n    text(&quot;Low&quot;, 145, 210);\r\n    text(&quot;Mid&quot;, 145, 245);\r\n    text(&quot;High&quot;, 145, 280);\r\n    push();\r\n    let angle2 = radians(270);\r\n    translate(140, 260);\r\n    rotate(angle2);\r\n    let nuclear;\r\n    nuclear = createFont(&quot;Avenir-Light&quot;, 20);\r\n    textFont(nuclear, 20);\r\n    fill(0);\r\n    textAlign(CORNER);\r\n    text(&quot;Climate&quot;, 0, 0);\r\n    pop();\r\n    text(&quot;Low&quot;, 195, 185);\r\n    text(&quot;Mid&quot;, 250, 185);\r\n    text(&quot;High&quot;, 305, 185);\r\n    text(&quot;Nuclear&quot;, 230, 155);\r\n  }\r\n\r\n   display() {\r\n    this.updateAA(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x1, this.y1, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateAB(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x2, this.y1, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateAC(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x3, this.y1, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateBA(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x1, this.y2, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateBB(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x2, this.y2, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateBC(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x3, this.y2, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateCA (mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x1, this.y3, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateCB(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x2, this.y3, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n\r\n    this.updateCC(mouseX, mouseY);\r\n    if (this.rectOver) {\r\n      fill(220);\r\n    } else {\r\n      fill(240);\r\n    }\r\n    stroke(200);\r\n    rect(this.x3, this.y3, this.buttonlength, this.buttonwidth, 2);\r\n    fill(0);\r\n  }\r\n/////////STOPPED FIXING HERE\r\n\r\n   function updateAA(x, y){\r\n    if (this.overRectAA(this.x1, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n    return this.rectOver;\r\n  }\r\n\r\n  function updateAB(x, y) {\r\n    if (this.overRectAB(this.x2, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n\r\n  function updateAC(x, y) {\r\n    if (this.overRectAC(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n\r\n  function updateBA(x, y) {\r\n    if (this.overRectBA(this.x1, this.y2, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n  function updateBB(x, y) {\r\n    if (this.overRectBB(this.x2, this.y2, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n  function updateBC(x, y) {\r\n    if (this.overRectBC(this.x2, this.y3, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n  function updateCA(x, y) {\r\n    if (this.overRectCA(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      this.rectOver = true;\r\n    } else {\r\n      this.rectOver = false;\r\n    }\r\n  }\r\n\r\n  function overRectAA(x, y, width, height) {\r\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function overRectAB(x, y, width, height) {\r\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function overRectAC(x, y, width, height) {\r\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  function  mouseClicked() {\r\n    if (this.overRectAA(this.x1, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      scenarioA.scenarioAA();\r\n    }\r\n\r\n    if (this.overRectAB(this.x2, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      scenarioA.scenarioAB();\r\n    }\r\n\r\n    if (this.overRectAC(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\r\n      scenarioA.scenarioAC();\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nThe code is supposed to output an interactive graph with 9 scenarios that alternate based on the hovering of the mouse. I uploaded an image of one of those scenarios here. It works perfectly on processing, but with this code, it won&#39;t go due to syntax issues. When I used a previous version provided by chatgpt it worked, but was missing almost everything, which leads me to believe it cut out a lot of the code. What is missing?\r\n\r\n  [1]: https://i.stack.imgur.com/kD0No.png","title":"Ho to understand and fix syntax errors in p5.js?","body":"<p>I need to translate a Java code done in processing to p5.js to embed on html. I have started translating it, but it keeps throwing errors and can't fix them. I have very little experience with JavaScript and don't have the time to learn it.</p>\n<p>It works perfectly on processing, but I used chat gpt to translate and it obviously didn't do a perfect job. I'm also suspicious because my inital code had 600 lines and this has only 300. How can I fix those syntax bugs and explain what I need to fix in terms of missing function or class declarations?</p>\n<p>At function updateAA(x, y) it says &quot;Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)&quot;. I'm not also sure if I need the &quot;return this.rectOver&quot; line at the end of the function. Do I? Also, at the last bracket that is supposed to close the class, it returns the error &quot;Declaration or statement expected.ts(1128)&quot;.</p>\n<pre><code>let scenarioA;\nlet buttons;\n\nfunction setup() {\n  createCanvas(400, 400);\n  scenarioA = new ScenarioA();\n  buttons = new Buttons();\n}\n\nfunction draw() {\n  background(220);\n  scenarioA.display();\n  buttons.display();\n}\n\nfunction mouseClicked() {\n  buttons.mouseClicked();\n}\n\nclass ScenarioA {\n  scenarioAA() {\n    // Scenario AA implementation\n  }\n\n  scenarioAB() {\n    // Scenario AB implementation\n  }\n\n  scenarioAC() {\n    // Scenario AC implementation\n  }\n\n  scenarioBA() {\n    // Scenario BA implementation\n  }\n\n  scenarioBB() {\n    // Scenario BB implementation\n  }\n\n  scenarioBC() {\n    // Scenario BC implementation\n  }\n\n  scenarioCA() {\n    // Scenario CA implementation\n  }\n\n  scenarioCB() {\n    // Scenario CB implementation\n  }\n\n  scenarioCC() {\n    // Scenario CC implementation\n  }\n\n  display() {\n    // Display implementation\n  }\n}\n\nclass Buttons {\n  constructor() {\n    this.rectOver = false;\n    this.x1 = 189;\n    this.x2 = 244;\n    this.x3 = 299;\n    this.y1 = 189;\n    this.y2 = 224;\n    this.y3 = 259;\n    this.textspacingx = 14;\n    this.textspacingy = 22;\n    this.buttonlength = 50;\n    this.buttonwidth = 50; // Added missing property declaration\n  }\n\n  table() {\n    strokeWeight(0.5);\n    fill(255);\n    stroke(0);\n    rect(120, 130, 230, 160);\n  }\n\n   range() {\n    text(&quot;Low&quot;, 145, 210);\n    text(&quot;Mid&quot;, 145, 245);\n    text(&quot;High&quot;, 145, 280);\n    push();\n    let angle2 = radians(270);\n    translate(140, 260);\n    rotate(angle2);\n    let nuclear;\n    nuclear = createFont(&quot;Avenir-Light&quot;, 20);\n    textFont(nuclear, 20);\n    fill(0);\n    textAlign(CORNER);\n    text(&quot;Climate&quot;, 0, 0);\n    pop();\n    text(&quot;Low&quot;, 195, 185);\n    text(&quot;Mid&quot;, 250, 185);\n    text(&quot;High&quot;, 305, 185);\n    text(&quot;Nuclear&quot;, 230, 155);\n  }\n\n   display() {\n    this.updateAA(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x1, this.y1, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateAB(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x2, this.y1, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateAC(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x3, this.y1, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateBA(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x1, this.y2, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateBB(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x2, this.y2, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateBC(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x3, this.y2, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateCA (mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x1, this.y3, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateCB(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x2, this.y3, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n\n    this.updateCC(mouseX, mouseY);\n    if (this.rectOver) {\n      fill(220);\n    } else {\n      fill(240);\n    }\n    stroke(200);\n    rect(this.x3, this.y3, this.buttonlength, this.buttonwidth, 2);\n    fill(0);\n  }\n/////////STOPPED FIXING HERE\n\n   function updateAA(x, y){\n    if (this.overRectAA(this.x1, this.y1, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n    return this.rectOver;\n  }\n\n  function updateAB(x, y) {\n    if (this.overRectAB(this.x2, this.y1, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n\n  function updateAC(x, y) {\n    if (this.overRectAC(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n\n  function updateBA(x, y) {\n    if (this.overRectBA(this.x1, this.y2, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n  function updateBB(x, y) {\n    if (this.overRectBB(this.x2, this.y2, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n  function updateBC(x, y) {\n    if (this.overRectBC(this.x2, this.y3, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n  function updateCA(x, y) {\n    if (this.overRectCA(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\n      this.rectOver = true;\n    } else {\n      this.rectOver = false;\n    }\n  }\n\n  function overRectAA(x, y, width, height) {\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function overRectAB(x, y, width, height) {\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function overRectAC(x, y, width, height) {\n    if (mouseX &gt;= x &amp;&amp; mouseX &lt;= x + width &amp;&amp; mouseY &gt;= y &amp;&amp; mouseY &lt;= y + height) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n\n  function  mouseClicked() {\n    if (this.overRectAA(this.x1, this.y1, this.buttonlength, this.buttonwidth)) {\n      scenarioA.scenarioAA();\n    }\n\n    if (this.overRectAB(this.x2, this.y1, this.buttonlength, this.buttonwidth)) {\n      scenarioA.scenarioAB();\n    }\n\n    if (this.overRectAC(this.x3, this.y1, this.buttonlength, this.buttonwidth)) {\n      scenarioA.scenarioAC();\n    }\n  }\n}\n\n</code></pre>\n<p>The code is supposed to output an interactive graph with 9 scenarios that alternate based on the hovering of the mouse. I uploaded an image of one of those scenarios here. It works perfectly on processing, but with this code, it won't go due to syntax issues. When I used a previous version provided by chatgpt it worked, but was missing almost everything, which leads me to believe it cut out a lot of the code. What is missing?</p>\n"},{"tags":["java","recursion","runtime-error","stack-overflow"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1687083819,"post_id":76499903,"comment_id":134884990,"body_markdown":"You&#39;ve tagged this with `recursion` and `stack-overflow`, but there seems to be neither of these issues in this code.","body":"You&#39;ve tagged this with <code>recursion</code> and <code>stack-overflow</code>, but there seems to be neither of these issues in this code."},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1687097861,"post_id":76499903,"comment_id":134886489,"body_markdown":"Why are you initializing 3 stubbed nodes in your delete function?","body":"Why are you initializing 3 stubbed nodes in your delete function?"}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687083585,"creation_date":1687083585,"answer_id":76500040,"question_id":76499903,"body_markdown":"I&#39;d suggest a couple of things first:\r\n\r\n* It would be good to format your code.\r\n* It&#39;s generally a good idea to limit the code in your method to what its name suggests it should do. This is a broad guideline with exceptions of course, but here your `delete` method clearly adds nodes to your list.\r\n\r\nYour problem here is as follows:\r\n\r\n```java\r\nwhile (temp!=null) {\r\n    System.out.print(temp.data);\r\n    temp=temp.next;\r\n}\r\n// At this stage, &quot;temp&quot; is null.\r\n        \r\nfor (i=1;i&lt;n-1;i++) {\r\n    // Side-node: this loop body will never run when called with n=2.\r\n    temp=temp.next;\r\n}\r\n\r\n// Since &quot;temp&quot; is still null, using &quot;temp.next&quot;\r\n// will throw a null pointer exception.\r\ntemp.next=temp.next.next;\r\n```\r\n\r\nTo fix this you could:\r\n* add your Nodes 4, 3 and 1 *outside* the delete loop;\r\n  * firstly, simply because it makes more sense;\r\n  * secondly, because you&#39;d start afresh at your &quot;delete&quot; loop with `Node temp=head;`\r\n* you&#39;d still need to check whether `temp` or `temp.next` are `null` before trying to use `temp.next.next`. You&#39;d also need to test whether `temp` in your `(i=1;i&lt;n-1;i++)` loop (you could reach the end of the list before reaching `n`).\r\n\r\nDepending on what you want your last `while` loop to do, it may have the same problems: it starts off with `temp` as it was left by the previous code. If you want it to print your new linked list, you&#39;ll need to reset `temp` to be `head`.","title":"Trying to delete a node in a linked list at position &#39;n&#39; but an error has occured","body":"<p>I'd suggest a couple of things first:</p>\n<ul>\n<li>It would be good to format your code.</li>\n<li>It's generally a good idea to limit the code in your method to what its name suggests it should do. This is a broad guideline with exceptions of course, but here your <code>delete</code> method clearly adds nodes to your list.</li>\n</ul>\n<p>Your problem here is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (temp!=null) {\n    System.out.print(temp.data);\n    temp=temp.next;\n}\n// At this stage, &quot;temp&quot; is null.\n        \nfor (i=1;i&lt;n-1;i++) {\n    // Side-node: this loop body will never run when called with n=2.\n    temp=temp.next;\n}\n\n// Since &quot;temp&quot; is still null, using &quot;temp.next&quot;\n// will throw a null pointer exception.\ntemp.next=temp.next.next;\n</code></pre>\n<p>To fix this you could:</p>\n<ul>\n<li>add your Nodes 4, 3 and 1 <em>outside</em> the delete loop;\n<ul>\n<li>firstly, simply because it makes more sense;</li>\n<li>secondly, because you'd start afresh at your &quot;delete&quot; loop with <code>Node temp=head;</code></li>\n</ul>\n</li>\n<li>you'd still need to check whether <code>temp</code> or <code>temp.next</code> are <code>null</code> before trying to use <code>temp.next.next</code>. You'd also need to test whether <code>temp</code> in your <code>(i=1;i&lt;n-1;i++)</code> loop (you could reach the end of the list before reaching <code>n</code>).</li>\n</ul>\n<p>Depending on what you want your last <code>while</code> loop to do, it may have the same problems: it starts off with <code>temp</code> as it was left by the previous code. If you want it to print your new linked list, you'll need to reset <code>temp</code> to be <code>head</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687130067,"creation_date":1687130067,"answer_id":76502839,"question_id":76499903,"body_markdown":"The _if-conditional_ within _delete_ is never met.\r\n\r\nWhere, _n_ is _2_, _&amp;minus; 1_ is _1_.&amp;nbsp; Thus, _1 &lt; 1_, is false.\r\n\r\n```java\r\nfor( i=1;i&lt;n-1;i++)\r\n```\r\n\r\nSo, on the following line, _temp_ is _null_.\r\n\r\n```java\r\ntemp.next=temp.next.next;\r\n```\r\n\r\nIf you&#39;re using an _IDE_, they typically provide a _[debugging](https://en.wikipedia.org/wiki/Debugging)_ console.  \r\nIf not, you can use the _jdb_ command tool&amp;mdash;_[Oracle &amp;ndash; The jdb Command](https://docs.oracle.com/en/java/javase/20/docs/specs/man/jdb.html)_.\r\n\r\n","title":"Trying to delete a node in a linked list at position &#39;n&#39; but an error has occured","body":"<p>The <em>if-conditional</em> within <em>delete</em> is never met.</p>\n<p>Where, <em>n</em> is <em>2</em>, <em> 1</em> is <em>1</em>. Thus, <em>1 &lt; 1</em>, is false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for( i=1;i&lt;n-1;i++)\n</code></pre>\n<p>So, on the following line, <em>temp</em> is <em>null</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp.next=temp.next.next;\n</code></pre>\n<p>If you're using an <em>IDE</em>, they typically provide a <em><a href=\"https://en.wikipedia.org/wiki/Debugging\" rel=\"nofollow noreferrer\">debugging</a></em> console.<br />\nIf not, you can use the <em>jdb</em> command tool<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jdb.html\" rel=\"nofollow noreferrer\">Oracle  The jdb Command</a></em>.</p>\n"}],"owner":{"account_id":19039177,"reputation":11,"user_id":13899680,"display_name":"Mohd. Tabish Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687130067,"creation_date":1687081483,"question_id":76499903,"body_markdown":"This should give an output --&gt; 531 \r\nSince the second node has to be deleted.\r\nError shown is:\r\n```\r\n543\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;temp&quot; is null\r\n        at DSA.Node.delete(Node.java:81)\r\n        at DSA.Node.main(Node.java:15)\r\n```\r\n \r\n```java\r\nimport java.util.*;\r\npublic class Node {\r\n    int data;\r\n    Node next;\r\n    Node(int data)\r\n    {\r\n        this.data=data;\r\n        next=null;\r\n    }\r\n    public static void main(String[] args) {\r\n        Node obj=new Node(5);\r\n        delete(obj,2);\r\n       \r\n    }\r\npublic static void delete(Node head,int n)\r\n    {\r\n        Node temp=head;\r\n        Node ob1=new Node(4);\r\n        head.next=ob1;\r\n        Node ob2=new Node(3);\r\n        ob1.next=ob2;\r\n        Node ob3=new Node(1);\r\n        ob3.next=null;\r\n        \r\n        int i ;\r\n        //printing original linked list\r\n        while(temp!=null)\r\n        {\r\n            System.out.print(temp.data);\r\n            temp=temp.next;\r\n        }\r\n        \r\n        //deleting\r\n        for( i=1;i&lt;n-1;i++)\r\n        {\r\n\r\n            temp=temp.next;\r\n        }\r\n        temp.next=temp.next.next;\r\n        // printing new linked list\r\n        \r\n        while(temp!=null)\r\n        {\r\n            System.out.println(temp.data);\r\n            temp=temp.next;\r\n        }\r\n        \r\n\r\n    }\r\n```","title":"Trying to delete a node in a linked list at position &#39;n&#39; but an error has occured","body":"<p>This should give an output --&gt; 531\nSince the second node has to be deleted.\nError shown is:</p>\n<pre><code>543\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;temp&quot; is null\n        at DSA.Node.delete(Node.java:81)\n        at DSA.Node.main(Node.java:15)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class Node {\n    int data;\n    Node next;\n    Node(int data)\n    {\n        this.data=data;\n        next=null;\n    }\n    public static void main(String[] args) {\n        Node obj=new Node(5);\n        delete(obj,2);\n       \n    }\npublic static void delete(Node head,int n)\n    {\n        Node temp=head;\n        Node ob1=new Node(4);\n        head.next=ob1;\n        Node ob2=new Node(3);\n        ob1.next=ob2;\n        Node ob3=new Node(1);\n        ob3.next=null;\n        \n        int i ;\n        //printing original linked list\n        while(temp!=null)\n        {\n            System.out.print(temp.data);\n            temp=temp.next;\n        }\n        \n        //deleting\n        for( i=1;i&lt;n-1;i++)\n        {\n\n            temp=temp.next;\n        }\n        temp.next=temp.next.next;\n        // printing new linked list\n        \n        while(temp!=null)\n        {\n            System.out.println(temp.data);\n            temp=temp.next;\n        }\n        \n\n    }\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":27721450,"reputation":11,"user_id":21161884,"display_name":"Insilicon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687129726,"creation_date":1686706196,"question_id":76469612,"body_markdown":"I have been trying to create a Player ESP, Block ESP, and Tracers for a while, I&#39;ve tried many different methods, but every single method I try just throws an error. I need a way to render blocks or display a green overlay through blocks.\r\n\r\n I also need a way to see players through blocks. All of the different methods of getting a position x,y cords on the screen, or even trying to render certain things after other things, but no matter what I try it either gives x,y cords that aren&#39;t on the screen or it just throws these unfixable errors. \r\n\r\nIf possible when showing an example follow this class setup:\r\n\r\n```\r\npublic class BasicModule {\r\n    private String name;\r\n    private String description;\r\n    private List&lt;Setting&gt; settings = new ArrayList&lt;&gt;();\r\n    public boolean SToggle;\r\n    public List&lt;Setting&gt; getSettings() {\r\n        return settings;\r\n    }\r\n\r\n    public void addSetting(Setting setting) {\r\n        settings.add(setting);\r\n    }\r\n\r\n    public void addSettings(Setting... settings) {\r\n        this.settings.addAll(List.of(settings));\r\n    }\r\n\r\n    private Category category;\r\n    private int key;\r\n    private String displayName;\r\n    private boolean enabled;\r\n\r\n    protected Minecraft mc = Minecraft.getInstance();\r\n\r\n    public BasicModule(String name, String description, Category category) {\r\n        this.name = name;\r\n        this.displayName = name;\r\n        this.description = description;\r\n        this.category = category;\r\n        this.SToggle = false;\r\n\r\n    }\r\n\r\n\r\n\r\n    public void toggle() {\r\n        this.enabled = !this.enabled;\r\n\r\n        if (this.enabled) {\r\n            this.onEnable();\r\n        } else {\r\n            this.onDisable();\r\n        }\r\n    }\r\n    public static void doEnabled(BasicModule module, boolean enabled) {\r\n        module.setEnabled(enabled);\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void setE(boolean enabled) {\r\n        enabled = enabled;\r\n\r\n    }\r\n\r\n    public void setModuleEnabled(boolean enabled) {\r\n        this.enabled = enabled;\r\n    }\r\n\r\n    public boolean isModuleEnabled() {\r\n        return this.enabled;\r\n    }\r\n\r\n    public void onEnable() {\r\n\r\n    }\r\n\r\n    public void onDisable() {\r\n    }\r\n\r\n    public String getDisplayName() {\r\n        return this.displayName;\r\n    }\r\n\r\n    public boolean getStoggle() {\r\n        return this.SToggle;\r\n    }\r\n\r\n    public void setStoggle(boolean stoggle) {\r\n        this.SToggle = stoggle;\r\n    }\r\n\r\n    public void setDisplayName(String displayName) {\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    public void onTick() {\r\n        this.enabled = enabled;\r\n\r\n    }\r\n\r\n    public void setEnabled(boolean enabled) {\r\n        this.enabled = enabled;\r\n\r\n        if (enabled) onEnable();\r\n        else onDisable();\r\n    }\r\n\r\n    public boolean isEnabled() {\r\n        return this.enabled;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(int key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public void render(GuiGraphics drawContext, float tickDelta) {\r\n\r\n    }\r\n\r\n\r\n\r\n    public enum Category {\r\n        PVP(&quot;PvP&quot;),\r\n        MOVEMENT(&quot;Movement&quot;),\r\n        RENDER(&quot;Render&quot;),\r\n        STAFF(&quot;Staff&quot;),\r\n        DEV(&quot;Developer&quot;);\r\n\r\n        public String name;\r\n        private Category(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n```\r\n  ","title":"Is there an updated method of implementing Block ESP into a Fabric mod 1.20?","body":"<p>I have been trying to create a Player ESP, Block ESP, and Tracers for a while, I've tried many different methods, but every single method I try just throws an error. I need a way to render blocks or display a green overlay through blocks.</p>\n<p>I also need a way to see players through blocks. All of the different methods of getting a position x,y cords on the screen, or even trying to render certain things after other things, but no matter what I try it either gives x,y cords that aren't on the screen or it just throws these unfixable errors.</p>\n<p>If possible when showing an example follow this class setup:</p>\n<pre><code>public class BasicModule {\n    private String name;\n    private String description;\n    private List&lt;Setting&gt; settings = new ArrayList&lt;&gt;();\n    public boolean SToggle;\n    public List&lt;Setting&gt; getSettings() {\n        return settings;\n    }\n\n    public void addSetting(Setting setting) {\n        settings.add(setting);\n    }\n\n    public void addSettings(Setting... settings) {\n        this.settings.addAll(List.of(settings));\n    }\n\n    private Category category;\n    private int key;\n    private String displayName;\n    private boolean enabled;\n\n    protected Minecraft mc = Minecraft.getInstance();\n\n    public BasicModule(String name, String description, Category category) {\n        this.name = name;\n        this.displayName = name;\n        this.description = description;\n        this.category = category;\n        this.SToggle = false;\n\n    }\n\n\n\n    public void toggle() {\n        this.enabled = !this.enabled;\n\n        if (this.enabled) {\n            this.onEnable();\n        } else {\n            this.onDisable();\n        }\n    }\n    public static void doEnabled(BasicModule module, boolean enabled) {\n        module.setEnabled(enabled);\n    }\n\n\n\n\n    public static void setE(boolean enabled) {\n        enabled = enabled;\n\n    }\n\n    public void setModuleEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n\n    public boolean isModuleEnabled() {\n        return this.enabled;\n    }\n\n    public void onEnable() {\n\n    }\n\n    public void onDisable() {\n    }\n\n    public String getDisplayName() {\n        return this.displayName;\n    }\n\n    public boolean getStoggle() {\n        return this.SToggle;\n    }\n\n    public void setStoggle(boolean stoggle) {\n        this.SToggle = stoggle;\n    }\n\n    public void setDisplayName(String displayName) {\n        this.displayName = displayName;\n    }\n\n    public void onTick() {\n        this.enabled = enabled;\n\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n\n        if (enabled) onEnable();\n        else onDisable();\n    }\n\n    public boolean isEnabled() {\n        return this.enabled;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public Category getCategory() {\n        return category;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public int getKey() {\n        return key;\n    }\n\n    public void setKey(int key) {\n        this.key = key;\n    }\n\n    public void render(GuiGraphics drawContext, float tickDelta) {\n\n    }\n\n\n\n    public enum Category {\n        PVP(&quot;PvP&quot;),\n        MOVEMENT(&quot;Movement&quot;),\n        RENDER(&quot;Render&quot;),\n        STAFF(&quot;Staff&quot;),\n        DEV(&quot;Developer&quot;);\n\n        public String name;\n        private Category(String name) {\n            this.name = name;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","webclient"],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687129448,"creation_date":1687071621,"question_id":76499386,"body_markdown":"I am using WebClient for an API Call in a springboot project. I want to handle retries if the response code is 5xx. When a status code 5xx comes, I want to throw a CustomException. I am handling this exception like below in the method that is calling this API. \r\n\r\n    @Retryable(\r\n          backoff = @Backoff(delayExpression = &quot;${upload.retry.delay:10000}&quot;),\r\n          maxAttemptsExpression = &quot;${upload.max.retry.limit:3}&quot;,\r\n          include = {FileProcessingException.class})\r\n\r\nI have a tried a few things, but those don&#39;t seem to work.\r\n1. don&#39;t have any effect on the code. It passes and when I do .block, throws NPE.\r\n\r\n```\r\nvoid getAuthToken(){\r\nauthorizationTokenResponse =\r\n          webClient\r\n              .post()\r\n              .uri(apiUrl + LOGIN)\r\n              .contentType(MediaType.APPLICATION_JSON)\r\n              .accept(MediaType.APPLICATION_JSON)\r\n              .bodyValue(gson.toJson(loginRequest))\r\n              .retrieve()\r\n                  .onStatus(HttpStatus::is4xxClientError,\r\n                          response -&gt; response.bodyToMono(String.class).map(FileProcessingException::new))\r\n                  .onStatus(HttpStatus::is5xxServerError,\r\n                          response -&gt; response.bodyToMono(String.class).map(FileProcessingException::new))\r\n                  .bodyToMono(AuthorizationTokenResponse.class)\r\n                  .retry(3);\r\n}\r\n```\r\n2. I tried the following : https://stackoverflow.com/questions/58520919/spring-webclient-retry-with-backoff-on-specific-error#:~:text=You%20can%20do%20this%20taking%20the%20following%20approach%3A\r\nBut I get the compilation error: `no instance(s) of type variable(s) R exist so that String conforms to Mono&lt;? extends R&gt;`\r\n```\r\nvoid getAuthToken() {\r\n.exchange().flatMap(responseFromAPI -&gt; {\r\n                    if(responseFromAPI.statusCode().is5xxServerError() || responseFromAPI.statusCode().is4xxClientError()){\r\n                      return Mono.error(new FileProcessingException());\r\n                    } else {\r\n                      AuthorizationTokenResponse tokenResponse = responseFromAPI.bodyToMono(AuthorizationTokenResponse.class).block();\r\n                      authToken = tokenResponse.getAuthorizationToken();\r\n                      authTokenExpDateTime =\r\n                              LocalDateTime.parse(tokenResponse.getTokenExpirationDateTime(),\r\n                                      DateTimeFormatter.ISO_DATE_TIME);\r\n                      return authToken;\r\n                    }\r\n                  });\r\n}\r\n```\r\n3. This is my original code:\r\n```\r\nvoid getAuthToken() {\r\nResponseSpec clientResponse =\r\n          webClient\r\n              .post()\r\n              .uri(apiUrl + LOGIN)\r\n              .contentType(MediaType.APPLICATION_JSON)\r\n              .accept(MediaType.APPLICATION_JSON)\r\n              .bodyValue(gson.toJson(loginRequest))\r\n              .retrieve();\r\n}\r\n```\r\n\r\nCode is throwing NPE when doing below:\r\n\r\n    responseEntity = Objects.requireNonNull(clientResponse.toEntity(AuthorizationTokenResponse.class).block());\r\n\r\nI just want to check if the response code is not 200, throw a CustomException, which I can use for retrying.\r\n\r\nThanks!\r\n\r\nEdit 1:\r\nI didn&#39;t mention that I using CompletableFuture to call getAuthToken(). Below is the code:\r\n```\r\nlistOfLineReadFromFile.stream()\r\n            .map(\r\n                lineReadFromList -&gt;\r\n                    CompletableFuture.runAsync(() -&gt; handleLine(lineReadFromList), executorService))\r\n            .forEach(CompletableFuture::join);\r\n```\r\n\r\nwhere `listOfLineReadFromFile`is the list for which authToken() is required. ","title":"HttpStatus Code handling using WebClient and using spring retry","body":"<p>I am using WebClient for an API Call in a springboot project. I want to handle retries if the response code is 5xx. When a status code 5xx comes, I want to throw a CustomException. I am handling this exception like below in the method that is calling this API.</p>\n<pre><code>@Retryable(\n      backoff = @Backoff(delayExpression = &quot;${upload.retry.delay:10000}&quot;),\n      maxAttemptsExpression = &quot;${upload.max.retry.limit:3}&quot;,\n      include = {FileProcessingException.class})\n</code></pre>\n<p>I have a tried a few things, but those don't seem to work.</p>\n<ol>\n<li>don't have any effect on the code. It passes and when I do .block, throws NPE.</li>\n</ol>\n<pre><code>void getAuthToken(){\nauthorizationTokenResponse =\n          webClient\n              .post()\n              .uri(apiUrl + LOGIN)\n              .contentType(MediaType.APPLICATION_JSON)\n              .accept(MediaType.APPLICATION_JSON)\n              .bodyValue(gson.toJson(loginRequest))\n              .retrieve()\n                  .onStatus(HttpStatus::is4xxClientError,\n                          response -&gt; response.bodyToMono(String.class).map(FileProcessingException::new))\n                  .onStatus(HttpStatus::is5xxServerError,\n                          response -&gt; response.bodyToMono(String.class).map(FileProcessingException::new))\n                  .bodyToMono(AuthorizationTokenResponse.class)\n                  .retry(3);\n}\n</code></pre>\n<ol start=\"2\">\n<li>I tried the following : <a href=\"https://stackoverflow.com/questions/58520919/spring-webclient-retry-with-backoff-on-specific-error#:%7E:text=You%20can%20do%20this%20taking%20the%20following%20approach%3A\">https://stackoverflow.com/questions/58520919/spring-webclient-retry-with-backoff-on-specific-error#:~:text=You%20can%20do%20this%20taking%20the%20following%20approach%3A</a>\nBut I get the compilation error: <code>no instance(s) of type variable(s) R exist so that String conforms to Mono&lt;? extends R&gt;</code></li>\n</ol>\n<pre><code>void getAuthToken() {\n.exchange().flatMap(responseFromAPI -&gt; {\n                    if(responseFromAPI.statusCode().is5xxServerError() || responseFromAPI.statusCode().is4xxClientError()){\n                      return Mono.error(new FileProcessingException());\n                    } else {\n                      AuthorizationTokenResponse tokenResponse = responseFromAPI.bodyToMono(AuthorizationTokenResponse.class).block();\n                      authToken = tokenResponse.getAuthorizationToken();\n                      authTokenExpDateTime =\n                              LocalDateTime.parse(tokenResponse.getTokenExpirationDateTime(),\n                                      DateTimeFormatter.ISO_DATE_TIME);\n                      return authToken;\n                    }\n                  });\n}\n</code></pre>\n<ol start=\"3\">\n<li>This is my original code:</li>\n</ol>\n<pre><code>void getAuthToken() {\nResponseSpec clientResponse =\n          webClient\n              .post()\n              .uri(apiUrl + LOGIN)\n              .contentType(MediaType.APPLICATION_JSON)\n              .accept(MediaType.APPLICATION_JSON)\n              .bodyValue(gson.toJson(loginRequest))\n              .retrieve();\n}\n</code></pre>\n<p>Code is throwing NPE when doing below:</p>\n<pre><code>responseEntity = Objects.requireNonNull(clientResponse.toEntity(AuthorizationTokenResponse.class).block());\n</code></pre>\n<p>I just want to check if the response code is not 200, throw a CustomException, which I can use for retrying.</p>\n<p>Thanks!</p>\n<p>Edit 1:\nI didn't mention that I using CompletableFuture to call getAuthToken(). Below is the code:</p>\n<pre><code>listOfLineReadFromFile.stream()\n            .map(\n                lineReadFromList -&gt;\n                    CompletableFuture.runAsync(() -&gt; handleLine(lineReadFromList), executorService))\n            .forEach(CompletableFuture::join);\n</code></pre>\n<p>where <code>listOfLineReadFromFile</code>is the list for which authToken() is required.</p>\n"},{"tags":["java","spring-boot","spring-mvc","jpa","h2-console"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1687096538,"post_id":76499581,"comment_id":134886362,"body_markdown":"Please add `@ComponentScan(scanBasePackages=package_where_controller_is_defined)` , add this annotation where @SpringBootApplication exists","body":"Please add <code>@ComponentScan(scanBasePackages=package_where_controller_is_&zwnj;&#8203;defined)</code> , add this annotation where @SpringBootApplication exists"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1687096614,"post_id":76499581,"comment_id":134886373,"body_markdown":"This usually happens when your controller class is in a different package other than where Main spring boot application class is","body":"This usually happens when your controller class is in a different package other than where Main spring boot application class is"}],"owner":{"account_id":21256708,"reputation":11,"user_id":15638107,"display_name":"Jaspreet Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687129406,"creation_date":1687075662,"question_id":76499581,"body_markdown":"I have made a &quot;Pets&quot; application using Model View Controller (MVC) Design Pattern in Gradle, with Spring Boot 3 framework, Thymeleaf template engine, in-memory H2 database with JPA, and Post-Redirect-Get design pattern. The program imitates a simple data-driven application to enter, display, edit, and delete pet data.\r\n\r\nI have made Controller, Model, Repository, Service packages and inside that, I have made appropriate code. But I am receiving an error of:\r\n\r\n&gt; Whitelabel page - This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nHere&#39;s my code:\r\n\r\nPetController.java\r\n\r\n```\r\npackage com.muskan.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport com.muskan.model.Pet;\r\nimport com.muskan.service.PetService;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(value = &quot;/pets&quot;, method = RequestMethod.GET)\r\npublic class PetController {\r\n    private final PetService petService;\r\n\r\n    @Autowired\r\n    public PetController(PetService petService) {\r\n        this.petService = petService;\r\n    }\r\n\r\n    @GetMapping()\r\n    public String getAllPets(Model model) {\r\n        List&lt;Pet&gt; pets = petService.getAllPets();\r\n        model.addAttribute(&quot;pets&quot;, pets);\r\n        return &quot;pets/list&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/new&quot;)\r\n    public String showPetForm(Model model) {\r\n        model.addAttribute(&quot;pet&quot;, new Pet());\r\n        return &quot;pets/form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/new&quot;)\r\n    public String savePet(@ModelAttribute(&quot;pet&quot;) Pet pet, BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;pets/form&quot;;\r\n        }\r\n\r\n        petService.savePet(pet);\r\n        return &quot;redirect:/pets&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}/edit&quot;)\r\n    public String showEditPetForm(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n        Pet pet = petService.getPetById(id)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid pet ID: &quot; + id));\r\n        model.addAttribute(&quot;pet&quot;, pet);\r\n        return &quot;pets/form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/{id}/edit&quot;)\r\n    public String updatePet(@PathVariable(&quot;id&quot;) Long id, @ModelAttribute(&quot;pet&quot;) Pet pet,\r\n                            BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;pets/form&quot;;\r\n        }\r\n\r\n        pet.setId(id);\r\n        petService.savePet(pet);\r\n        return &quot;redirect:/pets&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}/delete&quot;)\r\n    public String deletePet(@PathVariable(&quot;id&quot;) Long id) {\r\n        petService.deletePet(id);\r\n        return &quot;redirect:/pets&quot;;\r\n    }\r\n}\r\n```\r\n\r\nApplication Properties\r\n\r\n```\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2-console\r\nspring.datasource.url=jdbc:h2:mem:petsdb\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\n`Pet Model`\r\n```\r\npackage com.muskan.model;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;pets&quot;)\r\npublic class Pet {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private PetKind kind = PetKind.DOG;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private PetSex sex = PetSex.FEMALE;\r\n\r\n    private boolean vaccinated;\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nInside Resources/templates -&gt; I have made pets directory and inside that I have made list.html and form.html\r\n\r\nHere is what I have tried:\r\n\r\n- I tried changing directories of HTML files by putting it directly to the templates folder which didn&#39;t worked. \r\n- I gave Request Mapping some parameters like this @RequestMapping(value = &quot;/pets&quot;, method = RequestMethod.GET) but it didnt worked as well. \r\n- I have also tried @ComponentScan inside Controller but didn&#39;t worked as well.\r\n\r\nI am expecting to display the list.html on http://localhost:8080/pets","title":"How to resolve a &quot;Whitelabel Error Page&quot; in Spring Boot","body":"<p>I have made a &quot;Pets&quot; application using Model View Controller (MVC) Design Pattern in Gradle, with Spring Boot 3 framework, Thymeleaf template engine, in-memory H2 database with JPA, and Post-Redirect-Get design pattern. The program imitates a simple data-driven application to enter, display, edit, and delete pet data.</p>\n<p>I have made Controller, Model, Repository, Service packages and inside that, I have made appropriate code. But I am receiving an error of:</p>\n<blockquote>\n<p>Whitelabel page - This application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n</blockquote>\n<p>Here's my code:</p>\n<p>PetController.java</p>\n<pre><code>package com.muskan.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\nimport com.muskan.model.Pet;\nimport com.muskan.service.PetService;\n\nimport java.util.List;\n\n@Controller\n@RequestMapping(value = &quot;/pets&quot;, method = RequestMethod.GET)\npublic class PetController {\n    private final PetService petService;\n\n    @Autowired\n    public PetController(PetService petService) {\n        this.petService = petService;\n    }\n\n    @GetMapping()\n    public String getAllPets(Model model) {\n        List&lt;Pet&gt; pets = petService.getAllPets();\n        model.addAttribute(&quot;pets&quot;, pets);\n        return &quot;pets/list&quot;;\n    }\n\n    @GetMapping(&quot;/new&quot;)\n    public String showPetForm(Model model) {\n        model.addAttribute(&quot;pet&quot;, new Pet());\n        return &quot;pets/form&quot;;\n    }\n\n    @PostMapping(&quot;/new&quot;)\n    public String savePet(@ModelAttribute(&quot;pet&quot;) Pet pet, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return &quot;pets/form&quot;;\n        }\n\n        petService.savePet(pet);\n        return &quot;redirect:/pets&quot;;\n    }\n\n    @GetMapping(&quot;/{id}/edit&quot;)\n    public String showEditPetForm(@PathVariable(&quot;id&quot;) Long id, Model model) {\n        Pet pet = petService.getPetById(id)\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid pet ID: &quot; + id));\n        model.addAttribute(&quot;pet&quot;, pet);\n        return &quot;pets/form&quot;;\n    }\n\n    @PostMapping(&quot;/{id}/edit&quot;)\n    public String updatePet(@PathVariable(&quot;id&quot;) Long id, @ModelAttribute(&quot;pet&quot;) Pet pet,\n                            BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return &quot;pets/form&quot;;\n        }\n\n        pet.setId(id);\n        petService.savePet(pet);\n        return &quot;redirect:/pets&quot;;\n    }\n\n    @GetMapping(&quot;/{id}/delete&quot;)\n    public String deletePet(@PathVariable(&quot;id&quot;) Long id) {\n        petService.deletePet(id);\n        return &quot;redirect:/pets&quot;;\n    }\n}\n</code></pre>\n<p>Application Properties</p>\n<pre><code>spring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.datasource.url=jdbc:h2:mem:petsdb\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p><code>Pet Model</code></p>\n<pre><code>package com.muskan.model;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;pets&quot;)\npublic class Pet {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Enumerated(EnumType.STRING)\n    private PetKind kind = PetKind.DOG;\n\n    @Enumerated(EnumType.STRING)\n    private PetSex sex = PetSex.FEMALE;\n\n    private boolean vaccinated;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Inside Resources/templates -&gt; I have made pets directory and inside that I have made list.html and form.html</p>\n<p>Here is what I have tried:</p>\n<ul>\n<li>I tried changing directories of HTML files by putting it directly to the templates folder which didn't worked.</li>\n<li>I gave Request Mapping some parameters like this @RequestMapping(value = &quot;/pets&quot;, method = RequestMethod.GET) but it didnt worked as well.</li>\n<li>I have also tried @ComponentScan inside Controller but didn't worked as well.</li>\n</ul>\n<p>I am expecting to display the list.html on http://localhost:8080/pets</p>\n"},{"tags":["java","unit-testing","hamcrest"],"answers":[{"comments":[{"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"score":0,"creation_date":1459541310,"post_id":36364718,"comment_id":60349248,"body_markdown":"Changed the matcher function name to avoid collisions.","body":"Changed the matcher function name to avoid collisions."}],"tags":[],"owner":{"account_id":3058875,"reputation":539,"user_id":2591987,"display_name":"Paulo Ara&#250;jo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459541253,"creation_date":1459540210,"answer_id":36364718,"question_id":36363372,"body_markdown":"I did not find a API solution to your problem, but found on source of 1.3 hamcrest that the HasPropertyWithValue matcher really does not dive into nested properties.\r\n\r\nI&#39;ve made a *lousy* solution (please observe that the messages when not found are not working properly):\r\n\r\n\r\n\r\n    import java.beans.PropertyDescriptor;\r\n    import java.lang.reflect.InvocationTargetException;\r\n\r\n    import org.hamcrest.Description;\r\n    import org.hamcrest.Matcher;\r\n    import org.hamcrest.TypeSafeDiagnosingMatcher;\r\n    import org.hamcrest.beans.PropertyUtil;\r\n\r\n    public class NestedPropertyMatcher&lt;T&gt; extends TypeSafeDiagnosingMatcher&lt;T&gt;{\r\n\r\n        private final String[] props;\r\n        private final String path;\r\n        private final Matcher&lt;?&gt; valueMatcher;\r\n        \r\n        @Override\r\n        public boolean matchesSafely(T bean, Description mismatch) {\r\n        \tif (props.length == 1) {\r\n        \t\treturn org.hamcrest.beans.HasPropertyWithValue.hasProperty(props[props.length - 1], valueMatcher).matches(bean);\r\n        \t} else {\r\n        \t\tObject aux = bean;\r\n        \t\tfor (int i = 0; i &lt; props.length - 1; i++) {\r\n        \t\t\tif (!org.hamcrest.beans.HasProperty.hasProperty(props[i]).matches(aux)) {\r\n        \t\t\t\treturn false;\r\n        \t\t\t} else {\r\n        \t\t\t\tPropertyDescriptor pd = PropertyUtil.getPropertyDescriptor(props[i], aux);\r\n        \t\t\t\ttry {\r\n\t\t\t\t\t\t    aux = pd.getReadMethod().invoke(aux);\r\n\t\t\t\t\t    } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\t\t\t\t    mismatch.appendText(&quot;Exception while trying to access property value: &quot; + e.getLocalizedMessage());\r\n\t\t\t\t\t\t    return false;\r\n\t\t\t\t\t    }\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\treturn org.hamcrest.beans.HasPropertyWithValue.hasProperty(props[props.length - 1], valueMatcher).matches(aux);\r\n        \t}\r\n        }\r\n\r\n        private NestedPropertyMatcher(String path, String[] propertiesTokens, Matcher&lt;?&gt; valueMatcher) {\r\n        \tthis.path = path;\r\n        \tthis.props = propertiesTokens;\r\n        \tthis.valueMatcher = valueMatcher;\r\n\t    }\r\n\r\n\t    public static &lt;T&gt; Matcher&lt;T&gt; hasPathProperty(String propertyPath, Matcher&lt;?&gt; valueMatcher) {\r\n        \tString[] props = propertyPath.split(&quot;\\\\.&quot;);\r\n\t\t    return new NestedPropertyMatcher&lt;T&gt;(propertyPath, props, valueMatcher);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void describeTo(Description description) {\r\n            description.appendText(&quot;hasProperty(&quot;).appendValue(path).appendText(&quot;, &quot;).appendDescriptionOf(valueMatcher).appendText(&quot;) did not found property&quot;);\r\n\t    }\r\n    }\r\n\r\nPretty sure that the hamcrest folks will make a better job than mine, but I think this code will be enough for you.","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>I did not find a API solution to your problem, but found on source of 1.3 hamcrest that the HasPropertyWithValue matcher really does not dive into nested properties.</p>\n\n<p>I've made a <em>lousy</em> solution (please observe that the messages when not found are not working properly):</p>\n\n<pre><code>import java.beans.PropertyDescriptor;\nimport java.lang.reflect.InvocationTargetException;\n\nimport org.hamcrest.Description;\nimport org.hamcrest.Matcher;\nimport org.hamcrest.TypeSafeDiagnosingMatcher;\nimport org.hamcrest.beans.PropertyUtil;\n\npublic class NestedPropertyMatcher&lt;T&gt; extends TypeSafeDiagnosingMatcher&lt;T&gt;{\n\n    private final String[] props;\n    private final String path;\n    private final Matcher&lt;?&gt; valueMatcher;\n\n    @Override\n    public boolean matchesSafely(T bean, Description mismatch) {\n        if (props.length == 1) {\n            return org.hamcrest.beans.HasPropertyWithValue.hasProperty(props[props.length - 1], valueMatcher).matches(bean);\n        } else {\n            Object aux = bean;\n            for (int i = 0; i &lt; props.length - 1; i++) {\n                if (!org.hamcrest.beans.HasProperty.hasProperty(props[i]).matches(aux)) {\n                    return false;\n                } else {\n                    PropertyDescriptor pd = PropertyUtil.getPropertyDescriptor(props[i], aux);\n                    try {\n                        aux = pd.getReadMethod().invoke(aux);\n                    } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n                        mismatch.appendText(\"Exception while trying to access property value: \" + e.getLocalizedMessage());\n                        return false;\n                    }\n                }\n            }\n            return org.hamcrest.beans.HasPropertyWithValue.hasProperty(props[props.length - 1], valueMatcher).matches(aux);\n        }\n    }\n\n    private NestedPropertyMatcher(String path, String[] propertiesTokens, Matcher&lt;?&gt; valueMatcher) {\n        this.path = path;\n        this.props = propertiesTokens;\n        this.valueMatcher = valueMatcher;\n    }\n\n    public static &lt;T&gt; Matcher&lt;T&gt; hasPathProperty(String propertyPath, Matcher&lt;?&gt; valueMatcher) {\n        String[] props = propertyPath.split(\"\\\\.\");\n        return new NestedPropertyMatcher&lt;T&gt;(propertyPath, props, valueMatcher);\n    }\n\n    @Override\n    public void describeTo(Description description) {\n        description.appendText(\"hasProperty(\").appendValue(path).appendText(\", \").appendDescriptionOf(valueMatcher).appendText(\") did not found property\");\n    }\n}\n</code></pre>\n\n<p>Pretty sure that the hamcrest folks will make a better job than mine, but I think this code will be enough for you.</p>\n"},{"comments":[{"owner":{"account_id":482117,"reputation":1294,"user_id":896315,"accept_rate":65,"display_name":"Gaurav Rawat"},"score":0,"creation_date":1459700104,"post_id":36371366,"comment_id":60392427,"body_markdown":"Thanks that works like a charm but true unwieldy when it comes to a deeper hierarchy ..","body":"Thanks that works like a charm but true unwieldy when it comes to a deeper hierarchy .."},{"owner":{"account_id":59485,"reputation":1177,"user_id":177987,"accept_rate":60,"display_name":"Loathian"},"score":0,"creation_date":1515188454,"post_id":36371366,"comment_id":83220009,"body_markdown":"This is great, just what I needed, thanks for sharing.","body":"This is great, just what I needed, thanks for sharing."}],"tags":[],"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1459588274,"creation_date":1459588274,"answer_id":36371366,"question_id":36363372,"body_markdown":"You can nest `hasProperty` calls:\r\n\r\n    assertThat(results, hasItem(hasProperty(&quot;id&quot;, hasProperty(&quot;fooID1&quot;, equalTo(&quot;FOOID1&quot;)))));\r\n\r\nFor deeper nestings this might be a bit unwieldy.","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>You can nest <code>hasProperty</code> calls:</p>\n\n<pre><code>assertThat(results, hasItem(hasProperty(\"id\", hasProperty(\"fooID1\", equalTo(\"FOOID1\")))));\n</code></pre>\n\n<p>For deeper nestings this might be a bit unwieldy.</p>\n"},{"tags":[],"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463048088,"creation_date":1463048088,"answer_id":37183892,"question_id":36363372,"body_markdown":"I&#39;ve achieved the result you expected with this simple utility method:\r\n\r\n\r\n\r\n    private static &lt;T&gt; Matcher&lt;T&gt; hasGraph(String graphPath, Matcher&lt;T&gt; matcher) {\r\n\r\n        List&lt;String&gt; properties = Arrays.asList(graphPath.split(&quot;\\\\.&quot;));\r\n        ListIterator&lt;String&gt; iterator =\r\n            properties.listIterator(properties.size());\r\n\r\n        Matcher&lt;T&gt; ret = matcher;\r\n        while (iterator.hasPrevious()) {\r\n            ret = hasProperty(iterator.previous(), ret);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\nwhich I am able to use in asserts like this:\r\n\r\n     assertThat(bean, hasGraph(&quot;beanProperty.subProperty.subSubProperty&quot;, notNullValue()));\r\n\r\ncheck if this is of any help\r\n","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>I've achieved the result you expected with this simple utility method:</p>\n\n<pre><code>private static &lt;T&gt; Matcher&lt;T&gt; hasGraph(String graphPath, Matcher&lt;T&gt; matcher) {\n\n    List&lt;String&gt; properties = Arrays.asList(graphPath.split(\"\\\\.\"));\n    ListIterator&lt;String&gt; iterator =\n        properties.listIterator(properties.size());\n\n    Matcher&lt;T&gt; ret = matcher;\n    while (iterator.hasPrevious()) {\n        ret = hasProperty(iterator.previous(), ret);\n    }\n    return ret;\n}\n</code></pre>\n\n<p>which I am able to use in asserts like this:</p>\n\n<pre><code> assertThat(bean, hasGraph(\"beanProperty.subProperty.subSubProperty\", notNullValue()));\n</code></pre>\n\n<p>check if this is of any help</p>\n"},{"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651516494,"creation_date":1651516494,"answer_id":72090949,"question_id":36363372,"body_markdown":"You can try to use [Hamcrest BeanMatcher APT generator](https://github.com/hortonolite/hamcrestBeanMatcherApt). It can generate Matcher for your `Foo` bean (and all nested beans), so you will be able to use the following construction \r\n```java\r\nassertThat(results, hasItem(fooMatcher()\r\n     .withId(idBeanMatcher()\r\n       .withFooID1(&quot;FOOID1&quot;))));\r\n``` \r\nFor this case it slightly looks like overkill but if you need to check more complicated cases it may significantly simplify the code.\r\n\r\nAlso, it automatically regenerates the BeanMatchers on each update, so you will see a compilation error in your test if you change the name of some property (e.g. `FooID1` to `FooId1`) that is much easy to detect and fix than some hardcoded string. \r\n","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>You can try to use <a href=\"https://github.com/hortonolite/hamcrestBeanMatcherApt\" rel=\"nofollow noreferrer\">Hamcrest BeanMatcher APT generator</a>. It can generate Matcher for your <code>Foo</code> bean (and all nested beans), so you will be able to use the following construction</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(results, hasItem(fooMatcher()\n     .withId(idBeanMatcher()\n       .withFooID1(&quot;FOOID1&quot;))));\n</code></pre>\n<p>For this case it slightly looks like overkill but if you need to check more complicated cases it may significantly simplify the code.</p>\n<p>Also, it automatically regenerates the BeanMatchers on each update, so you will see a compilation error in your test if you change the name of some property (e.g. <code>FooID1</code> to <code>FooId1</code>) that is much easy to detect and fix than some hardcoded string.</p>\n"},{"tags":[],"owner":{"account_id":3969265,"reputation":191,"user_id":3274247,"accept_rate":50,"display_name":"InconsistentHashing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687128323,"creation_date":1687128323,"answer_id":76502791,"question_id":36363372,"body_markdown":"I am just 7 years too late here. But thought it might come helpful to someone. For a response like below ( A list containing another list among other elements ( classic `one-to many` relationship) )\r\n\r\n    [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;title&quot;: &quot;Spaghetti Carbonara&quot;,\r\n        &quot;description&quot;: &quot;Just make Spaghetti Carbonara&quot;,\r\n        &quot;ingredients&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;value&quot;: 8,\r\n                &quot;unit&quot;: &quot;pc&quot;,\r\n                &quot;type&quot;: &quot;egg&quot;\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;value&quot;: 500,\r\n                &quot;unit&quot;: &quot;g&quot;,\r\n                &quot;type&quot;: &quot;spaghetti&quot;\r\n            }\r\n        ],\r\n        &quot;instructions&quot;: &quot;DIY&quot;,\r\n        &quot;servings&quot;: 4\r\n    }\r\n]\r\n\r\nI validated using below code\r\n\r\n    mockMvc\r\n                .perform(myRequest)\r\n                .andExpect(MockMvcResultMatchers.status().isFound())\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].title&quot;).value(&quot;Spaghetti Carbonara&quot;))\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].description&quot;).value(&quot;Just make Spaghetti Carbonara&quot;))\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].value&quot;,\r\n                containsInAnyOrder(8,500)))\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].unit&quot;,\r\n                        containsInAnyOrder(&quot;pc&quot;,&quot;g&quot;)))\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].type&quot;,\r\n                        containsInAnyOrder(&quot;egg&quot;,&quot;spaghetti&quot;)));\r\n \r\nUsing hamcrest 2.2. ","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>I am just 7 years too late here. But thought it might come helpful to someone. For a response like below ( A list containing another list among other elements ( classic <code>one-to many</code> relationship) )</p>\n<pre><code>[\n{\n    &quot;id&quot;: 1,\n    &quot;title&quot;: &quot;Spaghetti Carbonara&quot;,\n    &quot;description&quot;: &quot;Just make Spaghetti Carbonara&quot;,\n    &quot;ingredients&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;value&quot;: 8,\n            &quot;unit&quot;: &quot;pc&quot;,\n            &quot;type&quot;: &quot;egg&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;value&quot;: 500,\n            &quot;unit&quot;: &quot;g&quot;,\n            &quot;type&quot;: &quot;spaghetti&quot;\n        }\n    ],\n    &quot;instructions&quot;: &quot;DIY&quot;,\n    &quot;servings&quot;: 4\n}\n</code></pre>\n<p>]</p>\n<p>I validated using below code</p>\n<pre><code>mockMvc\n            .perform(myRequest)\n            .andExpect(MockMvcResultMatchers.status().isFound())\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].title&quot;).value(&quot;Spaghetti Carbonara&quot;))\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].description&quot;).value(&quot;Just make Spaghetti Carbonara&quot;))\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].value&quot;,\n            containsInAnyOrder(8,500)))\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].unit&quot;,\n                    containsInAnyOrder(&quot;pc&quot;,&quot;g&quot;)))\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$[*].ingredients.[*].type&quot;,\n                    containsInAnyOrder(&quot;egg&quot;,&quot;spaghetti&quot;)));\n</code></pre>\n<p>Using hamcrest 2.2.</p>\n"}],"owner":{"account_id":482117,"reputation":1294,"user_id":896315,"accept_rate":65,"display_name":"Gaurav Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14232,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":36371366,"answer_count":5,"score":14,"last_activity_date":1687128323,"creation_date":1459535190,"question_id":36363372,"body_markdown":"I use hamcrest for most of my testing ,but have encountered a issue with it not being able to test a property one level down in the object graph .A snipped of my test case is below\r\n\r\n    final List&lt;Foo&gt; foos= fooRepository.findAll(spec);\r\n          assertThat(results, is(notNullValue()));\r\n          assertThat(results, hasItem(hasProperty(&quot;id.fooID1&quot;, equalTo(&quot;FOOID1&quot;))));\r\n\r\nso here I want to check if in the list of foos I have a property id.fooID1 equla to FOOID1 .Here I am going one level down to check my nested property .This doesnt currently work in hamcrest and I get the following error.\r\n\r\n    java.lang.AssertionError: \r\n    Expected: a collection containing hasProperty(&quot;id.fooID1&quot;, &quot;FOOID1&quot;)\r\n         but: No property &quot;id.fooID1&quot;\r\n    \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n    \tat org.junit.Assert.assertThat(Assert.java:956)\r\n    \tat org.junit.Assert.assertThat(Assert.java:923)\r\n\r\nany help or workaround on this issue .","title":"Is there a way to do deep comparison on a nested property with Hamcrest","body":"<p>I use hamcrest for most of my testing ,but have encountered a issue with it not being able to test a property one level down in the object graph .A snipped of my test case is below</p>\n\n<pre><code>final List&lt;Foo&gt; foos= fooRepository.findAll(spec);\n      assertThat(results, is(notNullValue()));\n      assertThat(results, hasItem(hasProperty(\"id.fooID1\", equalTo(\"FOOID1\"))));\n</code></pre>\n\n<p>so here I want to check if in the list of foos I have a property id.fooID1 equla to FOOID1 .Here I am going one level down to check my nested property .This doesnt currently work in hamcrest and I get the following error.</p>\n\n<pre><code>java.lang.AssertionError: \nExpected: a collection containing hasProperty(\"id.fooID1\", \"FOOID1\")\n     but: No property \"id.fooID1\"\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n    at org.junit.Assert.assertThat(Assert.java:956)\n    at org.junit.Assert.assertThat(Assert.java:923)\n</code></pre>\n\n<p>any help or workaround on this issue .</p>\n"},{"tags":["java","sockets","ip-address"],"comments":[{"owner":{"account_id":98281,"reputation":148603,"user_id":266143,"accept_rate":33,"display_name":"CodeCaster"},"score":0,"creation_date":1345102446,"post_id":11982562,"comment_id":15976256,"body_markdown":"I didn&#39;t know it was possible to connect to the any address. Why don&#39;t you use the loopback address?","body":"I didn&#39;t know it was possible to connect to the any address. Why don&#39;t you use the loopback address?"},{"owner":{"account_id":967719,"reputation":854,"user_id":990832,"accept_rate":50,"display_name":"Jonas"},"score":0,"creation_date":1345102955,"post_id":11982562,"comment_id":15976436,"body_markdown":"The problem is that there are two nodes it&#39;s trying to connect to and they need to be on different hosts and it&#39;s already using the loopback address for the other one.\n\nSo, the designer of the test used that and it seems fine on the Mac and Linux but not on Windows. I cannot use a random one because then it will timeout.","body":"The problem is that there are two nodes it&#39;s trying to connect to and they need to be on different hosts and it&#39;s already using the loopback address for the other one.  So, the designer of the test used that and it seems fine on the Mac and Linux but not on Windows. I cannot use a random one because then it will timeout."},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":1,"creation_date":1345104911,"post_id":11982562,"comment_id":15977075,"body_markdown":"@Jonas  Who do you want 0.0.0.0 to connect to ?","body":"@Jonas  Who do you want 0.0.0.0 to connect to ?"},{"owner":{"account_id":967719,"reputation":854,"user_id":990832,"accept_rate":50,"display_name":"Jonas"},"score":1,"creation_date":1345106195,"post_id":11982562,"comment_id":15977571,"body_markdown":"I just want the above lines to pass in Windows without an exception...","body":"I just want the above lines to pass in Windows without an exception..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1345112614,"post_id":11982562,"comment_id":15980187,"body_markdown":"You can&#39;t get them to pass without an exception. You cannot connect to that address. The operation you are attempting is meaningless and therefore illegal. You have to connect to a real IP address.","body":"You can&#39;t get them to pass without an exception. You cannot connect to that address. The operation you are attempting is meaningless and therefore illegal. You have to connect to a real IP address."},{"owner":{"account_id":967719,"reputation":854,"user_id":990832,"accept_rate":50,"display_name":"Jonas"},"score":1,"creation_date":1345169090,"post_id":11982562,"comment_id":16002577,"body_markdown":"Alright ... have to find a workaround but the weird thing is that on Linux there&#39;s no exception.","body":"Alright ... have to find a workaround but the weird thing is that on Linux there&#39;s no exception."},{"owner":{"account_id":419726,"reputation":92930,"user_id":797049,"accept_rate":91,"display_name":"Mark Reed"},"score":0,"creation_date":1376142555,"post_id":11982562,"comment_id":26606656,"body_markdown":"I would either use different ports instead of different IP&#39;s, or bring up extra loopback interfaces with different 127.x IP addresses.  I know that `connect()` to 0.0.0.0 works on Linux and OS X as a way to connect to localhost, but I don&#39;t know why.  AFAIK it&#39;s not standard behavior.","body":"I would either use different ports instead of different IP&#39;s, or bring up extra loopback interfaces with different 127.x IP addresses.  I know that <code>connect()</code> to 0.0.0.0 works on Linux and OS X as a way to connect to localhost, but I don&#39;t know why.  AFAIK it&#39;s not standard behavior."},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1422598558,"post_id":11982562,"comment_id":44822981,"body_markdown":"What are you expecting to happen? You are trying to establish a connection to a source host. How does that even make sense? http://tools.ietf.org/html/rfc5735#section-3","body":"What are you expecting to happen? You are trying to establish a connection to a source host. How does that even make sense? <a href=\"http://tools.ietf.org/html/rfc5735#section-3\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc5735#section-3</a>"}],"answers":[{"comments":[{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":2,"creation_date":1422599233,"post_id":28230165,"comment_id":44823221,"body_markdown":"Neither. The difference is that winsock will not let you intentionally create illegal packets. The BSD socket library does not place such restrictions upon developers, because they are expected to know what they are doing.\n\nHowever if you are successfully able to connect to a destination address of 0.0.0.0. you are breaking the Internet.","body":"Neither. The difference is that winsock will not let you intentionally create illegal packets. The BSD socket library does not place such restrictions upon developers, because they are expected to know what they are doing.  However if you are successfully able to connect to a destination address of 0.0.0.0. you are breaking the Internet."}],"tags":[],"owner":{"account_id":5704600,"reputation":300,"user_id":4508634,"display_name":"ariganis"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1422598159,"creation_date":1422598159,"answer_id":28230165,"question_id":11982562,"body_markdown":"Just in case somebody else stumbles upon this question, I am answering it.\r\n\r\nUnfortunately, connecting to the any address is not allowed on Windows.\r\n\r\nThe Winsock function *connect* will return the error code **WSAEADDRNOTAVAIL**\r\n[*The remote address is not a valid address (such as INADDR_ANY or in6addr_any)*],\r\nas stated at the [Windows API Documentation][1]:\r\n\r\n&gt; If the address member of the structure specified by the name parameter is filled with zeros, connect will return the error WSAEADDRNOTAVAIL.\r\n\r\n\r\nSo without using any localhost address, I think what you are trying to do will not be possible on Windows (Though I wonder if the Unix behavior is a bug or intentional.).\r\n\r\nI would suggest setting up more loopback interfaces, as Mark Reed suggested in his [comment][2].\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/ms737625.aspx\r\n  [2]: https://stackoverflow.com/questions/11982562/socket-connect-to-0-0-0-0-windows-vs-mac#comment26606656_11982562","title":"Socket.connect() to 0.0.0.0: Windows vs. Mac","body":"<p>Just in case somebody else stumbles upon this question, I am answering it.</p>\n\n<p>Unfortunately, connecting to the any address is not allowed on Windows.</p>\n\n<p>The Winsock function <em>connect</em> will return the error code <strong>WSAEADDRNOTAVAIL</strong>\n[<em>The remote address is not a valid address (such as INADDR_ANY or in6addr_any)</em>],\nas stated at the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms737625.aspx\" rel=\"nofollow noreferrer\">Windows API Documentation</a>:</p>\n\n<blockquote>\n  <p>If the address member of the structure specified by the name parameter is filled with zeros, connect will return the error WSAEADDRNOTAVAIL.</p>\n</blockquote>\n\n<p>So without using any localhost address, I think what you are trying to do will not be possible on Windows (Though I wonder if the Unix behavior is a bug or intentional.).</p>\n\n<p>I would suggest setting up more loopback interfaces, as Mark Reed suggested in his <a href=\"https://stackoverflow.com/questions/11982562/socket-connect-to-0-0-0-0-windows-vs-mac#comment26606656_11982562\">comment</a>.</p>\n"}],"owner":{"account_id":967719,"reputation":854,"user_id":990832,"accept_rate":50,"display_name":"Jonas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3910,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":28230165,"answer_count":1,"score":7,"last_activity_date":1687128170,"creation_date":1345102294,"question_id":11982562,"body_markdown":"Imagine the following code:\r\n\r\n    String hostName = &quot;0.0.0.0&quot;;\r\n    int port = 10002;\r\n    int timeout = 5000;\r\n    Socket socket = new Socket();\r\n    socket.connect(new InetSocketAddress(hostName, port), timeout);\r\n\r\nOn the Mac it works fine and executes the connect (even with nothing running on port 10002) and on Windows I get the following exception:\r\n\r\n    java.net.SocketException: Permission denied: connect\r\n\r\nWhat&#39;s the difference here and what would be the alternative on Windows?  This is used in unit tests.\r\n","title":"Socket.connect() to 0.0.0.0: Windows vs. Mac","body":"<p>Imagine the following code:</p>\n<pre><code>String hostName = &quot;0.0.0.0&quot;;\nint port = 10002;\nint timeout = 5000;\nSocket socket = new Socket();\nsocket.connect(new InetSocketAddress(hostName, port), timeout);\n</code></pre>\n<p>On the Mac it works fine and executes the connect (even with nothing running on port 10002) and on Windows I get the following exception:</p>\n<pre><code>java.net.SocketException: Permission denied: connect\n</code></pre>\n<p>What's the difference here and what would be the alternative on Windows?  This is used in unit tests.</p>\n"},{"tags":["java","inheritance","interface","abstract-class"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687085712,"post_id":76500159,"comment_id":134885201,"body_markdown":"Why does it matter?","body":"Why does it matter?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1687085783,"post_id":76500159,"comment_id":134885208,"body_markdown":"No, it doesn&#39;t, am `interface` isn&#39;t a class. Of course you can declare an `equals` method in it - but it&#39;s pretty much a no op, since every class implementing the interface will have that method anyway.","body":"No, it doesn&#39;t, am <code>interface</code> isn&#39;t a class. Of course you can declare an <code>equals</code> method in it - but it&#39;s pretty much a no op, since every class implementing the interface will have that method anyway."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1687086525,"post_id":76500159,"comment_id":134885291,"body_markdown":"&quot;As you can see the below code where we can *override* equals method from an object class.&quot; that is now what is happening here. You are *re-declaring* that method, not *overriding* it. You are not providing code/body of that method which would *override* (replace) previous code/body from java.lang.Object#equals method. To provide body for method in interface such method must be marked as `default` (or static) but that is not allowed for this case as explained in [Java8: Why is it forbidden to define a default method for a method from java.lang.Object](https://stackoverflow.com/q/24016962)","body":"&quot;As you can see the below code where we can <i>override</i> equals method from an object class.&quot; that is now what is happening here. You are <i>re-declaring</i> that method, not <i>overriding</i> it. You are not providing code/body of that method which would <i>override</i> (replace) previous code/body from java.lang.Object#equals method. To provide body for method in interface such method must be marked as <code>default</code> (or static) but that is not allowed for this case as explained in <a href=\"https://stackoverflow.com/q/24016962\">Java8: Why is it forbidden to define a default method for a method from java.lang.Object</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687092562,"creation_date":1687092562,"answer_id":76500622,"question_id":76500159,"body_markdown":"&gt; So accroding to the above code does interface in java extends object class internally?\r\n\r\nNo. interfaces cannot extend classes at all, and `java.lang.Object` is a class, not an interface.\r\n\r\n&gt; As you can see the below code where we can override equals method from an object class.\r\n\r\nThe Java Language Specification explicitly calls out that any interface is considered a functional interface if you follow this list of steps:\r\n\r\n* __remove__ any signatures in it, defaulted or not, that match precisely anything defined in `java.lang.Object`.\r\n* __remove__ anything that has a `default` implementation.\r\n* Disregard inner types and fields.\r\n\r\nAre you left with __precisely__ one method definition?\r\n\r\nThen it is a functional interface. `@FunctionalInterface` isn&#39;t required; that is merely compiler-checkable documentation, which causes the compiler to error out if the interface does not fit the above requirements. (It&#39;s a: Do nothing if all is well, fail to compile otherwise).\r\n\r\nThe fact that you disregard all methods that j.l.Object already defines is __part of the JLS__ - it isn&#39;t some internal &#39;oh it extends object&#39;. No, the code in `javac` explicitly checks.\r\n","title":"Does interface in java extends object class internally?","body":"<blockquote>\n<p>So accroding to the above code does interface in java extends object class internally?</p>\n</blockquote>\n<p>No. interfaces cannot extend classes at all, and <code>java.lang.Object</code> is a class, not an interface.</p>\n<blockquote>\n<p>As you can see the below code where we can override equals method from an object class.</p>\n</blockquote>\n<p>The Java Language Specification explicitly calls out that any interface is considered a functional interface if you follow this list of steps:</p>\n<ul>\n<li><strong>remove</strong> any signatures in it, defaulted or not, that match precisely anything defined in <code>java.lang.Object</code>.</li>\n<li><strong>remove</strong> anything that has a <code>default</code> implementation.</li>\n<li>Disregard inner types and fields.</li>\n</ul>\n<p>Are you left with <strong>precisely</strong> one method definition?</p>\n<p>Then it is a functional interface. <code>@FunctionalInterface</code> isn't required; that is merely compiler-checkable documentation, which causes the compiler to error out if the interface does not fit the above requirements. (It's a: Do nothing if all is well, fail to compile otherwise).</p>\n<p>The fact that you disregard all methods that j.l.Object already defines is <strong>part of the JLS</strong> - it isn't some internal 'oh it extends object'. No, the code in <code>javac</code> explicitly checks.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687127534,"creation_date":1687120615,"answer_id":76502448,"question_id":76500159,"body_markdown":"&gt; _&quot;... So according to the above code does interface in Java extends object class internally?&quot;_\r\n\r\nContrary to everyone&#39;s responses, I believe I _did_ read this somewhere.  \r\nAlthough, this doesn&#39;t mean they are wrong&amp;mdash;it depends on what you mean by _&quot;internally&quot;_.\r\n\r\nHere is the _Java Language Specification_ entry.\r\n\r\n_[Java Language Specification &amp;ndash; 4.3.1. Objects](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.3.1)_.\r\n\r\n&gt; _&quot;An object is a class instance or an array. ..._  \r\n&gt; \r\n&gt; _... A class instance is explicitly created by a class instance creation expression (&#167;15.9).&quot;_\r\n\r\nSo, in terms of a _&quot;class instance creation expression&quot;_, from _15.9_,\r\n\r\n&gt; _&quot;ClassInstanceCreationExpression:_  \r\n&gt; &amp;nbsp;&amp;nbsp;_UnqualifiedClassInstanceCreationExpression_  \r\n&gt; &amp;nbsp;&amp;nbsp;_ExpressionName . UnqualifiedClassInstanceCreationExpression_  \r\n&gt; &amp;nbsp;&amp;nbsp;_Primary . UnqualifiedClassInstanceCreationExpression_  \r\n&gt; \r\n&gt; _UnqualifiedClassInstanceCreationExpression:_  \r\n&gt; &amp;nbsp;&amp;nbsp;_new [TypeArguments] ClassOrInterfaceTypeToInstantiate ( [ArgumentList] ) [ClassBody]_  \r\n&gt; \r\n&gt; _ClassOrInterfaceTypeToInstantiate:_  \r\n&gt; &amp;nbsp;&amp;nbsp;_{Annotation} Identifier {. {Annotation} Identifier} [TypeArgumentsOrDiamond]&quot;_\r\n\r\nAs _ClassOrInterfaceTypeToInstantiate_ defines it, the compiler will interpret the _interface_ as an object.  \r\nOr, maybe a better way to say it is, the _interpreter_ is going to schedule the interface as an object.\r\n\r\nEssentially, this is referring to the _anonymous inner-class_.\r\n\r\n```java\r\nabc abc = new abc() {\r\n    @Override\r\n    public void meth1() {\r\n\r\n    }\r\n};\r\n```","title":"Does interface in java extends object class internally?","body":"<blockquote>\n<p><em>&quot;... So according to the above code does interface in Java extends object class internally?&quot;</em></p>\n</blockquote>\n<p>Contrary to everyone's responses, I believe I <em>did</em> read this somewhere.<br />\nAlthough, this doesn't mean they are wrongit depends on what you mean by <em>&quot;internally&quot;</em>.</p>\n<p>Here is the <em>Java Language Specification</em> entry.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.3.1\" rel=\"nofollow noreferrer\">Java Language Specification  4.3.1. Objects</a></em>.</p>\n<blockquote>\n<p><em>&quot;An object is a class instance or an array. ...</em></p>\n<p><em>... A class instance is explicitly created by a class instance creation expression (15.9).&quot;</em></p>\n</blockquote>\n<p>So, in terms of a <em>&quot;class instance creation expression&quot;</em>, from <em>15.9</em>,</p>\n<blockquote>\n<p><em>&quot;ClassInstanceCreationExpression:</em><br />\n<em>UnqualifiedClassInstanceCreationExpression</em><br />\n<em>ExpressionName . UnqualifiedClassInstanceCreationExpression</em><br />\n<em>Primary . UnqualifiedClassInstanceCreationExpression</em></p>\n<p><em>UnqualifiedClassInstanceCreationExpression:</em><br />\n<em>new [TypeArguments] ClassOrInterfaceTypeToInstantiate ( [ArgumentList] ) [ClassBody]</em></p>\n<p><em>ClassOrInterfaceTypeToInstantiate:</em><br />\n<em>{Annotation} Identifier {. {Annotation} Identifier} [TypeArgumentsOrDiamond]&quot;</em></p>\n</blockquote>\n<p>As <em>ClassOrInterfaceTypeToInstantiate</em> defines it, the compiler will interpret the <em>interface</em> as an object.<br />\nOr, maybe a better way to say it is, the <em>interpreter</em> is going to schedule the interface as an object.</p>\n<p>Essentially, this is referring to the <em>anonymous inner-class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abc abc = new abc() {\n    @Override\n    public void meth1() {\n\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":24326627,"reputation":26,"user_id":18266098,"display_name":"NISHANT DESAI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687127534,"creation_date":1687085525,"question_id":76500159,"body_markdown":"As you can see the below code where we can override equals method from an object class:\r\n```\r\n@FunctionalInterface\r\ninterface abc\r\n{\r\n    void meth1();\r\n    default void meth2(){\r\n    };\r\n    boolean equals(Object obj);\r\n}\r\n```\r\n\r\nSo according to the above code does interface in Java extends object class internally?","title":"Does interface in java extends object class internally?","body":"<p>As you can see the below code where we can override equals method from an object class:</p>\n<pre><code>@FunctionalInterface\ninterface abc\n{\n    void meth1();\n    default void meth2(){\n    };\n    boolean equals(Object obj);\n}\n</code></pre>\n<p>So according to the above code does interface in Java extends object class internally?</p>\n"},{"tags":["java","enums","switch-statement","constants"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687086026,"post_id":76500086,"comment_id":134885230,"body_markdown":"you could add an if statment  to check if its primary or secondary inside the switch case","body":"you could add an if statment  to check if its primary or secondary inside the switch case"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687086784,"post_id":76500086,"comment_id":134885312,"body_markdown":"or you could create an enum named Skills and add alll the skills there and the Pebble enum will house the Skills then you could use a switch with the Skills enum","body":"or you could create an enum named Skills and add alll the skills there and the Pebble enum will house the Skills then you could use a switch with the Skills enum"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687094695,"post_id":76500086,"comment_id":134886149,"body_markdown":"*&quot;But this doesn&#39;t work for me since I need 2 different outputs per Pebble.&quot;* - I don&#39;t understand this.  Please [edit] your question to clarify.","body":"<i>&quot;But this doesn&#39;t work for me since I need 2 different outputs per Pebble.&quot;</i> - I don&#39;t understand this.  Please <a href=\"https://stackoverflow.com/posts/76500086/edit\">edit</a> your question to clarify."},{"owner":{"account_id":28843974,"reputation":1,"user_id":22091473,"display_name":"massacring"},"score":0,"creation_date":1687180650,"post_id":76500086,"comment_id":134896717,"body_markdown":"@Anon I made a second enum and it works.","body":"@Anon I made a second enum and it works."},{"owner":{"account_id":28843974,"reputation":1,"user_id":22091473,"display_name":"massacring"},"score":0,"creation_date":1687180655,"post_id":76500086,"comment_id":134896719,"body_markdown":"@StephenC If you want me to edit it at least explain what you need me to clarify, I feel like I couldn&#39;t have put it in any simpler way than I did.","body":"@StephenC If you want me to edit it at least explain what you need me to clarify, I feel like I couldn&#39;t have put it in any simpler way than I did."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687180914,"post_id":76500086,"comment_id":134896776,"body_markdown":"What do you mean by two outputs?  Outputs to what?  Where are you outputting things?  That&#39;s what I mean.  Unclear.","body":"What do you mean by two outputs?  Outputs to what?  Where are you outputting things?  That&#39;s what I mean.  Unclear."}],"answers":[{"comments":[{"owner":{"account_id":28843974,"reputation":1,"user_id":22091473,"display_name":"massacring"},"score":0,"creation_date":1687180750,"post_id":76502748,"comment_id":134896734,"body_markdown":"This does seem like it would have worked, but I ended up taking the suggestion of another user and making a second enum to hold the abilities instead.","body":"This does seem like it would have worked, but I ended up taking the suggestion of another user and making a second enum to hold the abilities instead."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687127121,"creation_date":1687127121,"answer_id":76502748,"question_id":76500086,"body_markdown":"There might be a better way to design the object.\r\n\r\nHere is an alternative.\r\n\r\n&gt; _&quot;... I saw a post that suggested adding something like this to the enum ..._  \r\n&gt; _... But this doesn&#39;t work for me since I need 2 different outputs per Pebble. ...&quot;_\r\n\r\nThen, create two methods, one to return the _Pebble_ given separate evaluations.\r\n\r\n```java\r\nstatic Pebble primary(String abilityName) {\r\n    for (Pebble pebble : values()) {\r\n        if (pebble.primary.equals(abilityName)) return pebble;\r\n    }\r\n    return null;\r\n}\r\n\r\nstatic Pebble secondary(String abilityName) {\r\n    for (Pebble pebble : values()) {\r\n        if (pebble.secondary.equals(abilityName)) return pebble;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nAnd then, just check which _Pebble_ it is, first.\r\n\r\n```java\r\nPebble pebble;\r\nif ((pebble = Pebble.primary(abilityName)) != null) {\r\n    switch (pebble) {\r\n        case RAGE -&gt; { }\r\n        case FLEET -&gt; { }\r\n        case CHARISMA -&gt; { }\r\n        case STEALTH -&gt; { }\r\n        case MOLTEN -&gt; { }\r\n        case STEEL -&gt; { }\r\n        case ROLL -&gt; { }\r\n    }\r\n} else if ((pebble = Pebble.secondary(abilityName)) != null) {\r\n    switch (pebble) {\r\n        case RAGE -&gt; { }\r\n        case FLEET -&gt; { }\r\n        case CHARISMA -&gt; { }\r\n        case STEALTH -&gt; { }\r\n        case MOLTEN -&gt; { }\r\n        case STEEL -&gt; { }\r\n        case ROLL -&gt; { }\r\n    }\r\n}\r\n```","title":"Java switch-case with Enum variables &quot;Constant expression required&quot; error","body":"<p>There might be a better way to design the object.</p>\n<p>Here is an alternative.</p>\n<blockquote>\n<p><em>&quot;... I saw a post that suggested adding something like this to the enum ...</em><br />\n<em>... But this doesn't work for me since I need 2 different outputs per Pebble. ...&quot;</em></p>\n</blockquote>\n<p>Then, create two methods, one to return the <em>Pebble</em> given separate evaluations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Pebble primary(String abilityName) {\n    for (Pebble pebble : values()) {\n        if (pebble.primary.equals(abilityName)) return pebble;\n    }\n    return null;\n}\n\nstatic Pebble secondary(String abilityName) {\n    for (Pebble pebble : values()) {\n        if (pebble.secondary.equals(abilityName)) return pebble;\n    }\n    return null;\n}\n</code></pre>\n<p>And then, just check which <em>Pebble</em> it is, first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pebble pebble;\nif ((pebble = Pebble.primary(abilityName)) != null) {\n    switch (pebble) {\n        case RAGE -&gt; { }\n        case FLEET -&gt; { }\n        case CHARISMA -&gt; { }\n        case STEALTH -&gt; { }\n        case MOLTEN -&gt; { }\n        case STEEL -&gt; { }\n        case ROLL -&gt; { }\n    }\n} else if ((pebble = Pebble.secondary(abilityName)) != null) {\n    switch (pebble) {\n        case RAGE -&gt; { }\n        case FLEET -&gt; { }\n        case CHARISMA -&gt; { }\n        case STEALTH -&gt; { }\n        case MOLTEN -&gt; { }\n        case STEEL -&gt; { }\n        case ROLL -&gt; { }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28843974,"reputation":1,"user_id":22091473,"display_name":"massacring"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687127121,"creation_date":1687084328,"question_id":76500086,"body_markdown":"I have this enum:\r\n```java\r\npublic enum Pebble {\r\n    RAGE(NamedTextColor.DARK_RED, &quot;Rage Wave&quot;, &quot;Channel Rage&quot;),\r\n    FLEET(NamedTextColor.AQUA, &quot;Dash&quot;, &quot;Speed Surge&quot;),\r\n    CHARISMA(NamedTextColor.GREEN, &quot;Charisma Aura&quot;, &quot;Silver Tongue&quot;),\r\n    STEALTH(NamedTextColor.DARK_PURPLE, &quot;Flashbang&quot;, &quot;Smoke Bomb&quot;),\r\n    MOLTEN(NamedTextColor.GOLD, &quot;Fireball&quot;, &quot;Flame Touch&quot;),\r\n    STEEL(NamedTextColor.DARK_GRAY, &quot;Iron Skin&quot;, &quot;Steel Buddy&quot;),\r\n    ROLL(NamedTextColor.YELLOW, &quot;&quot;, &quot;&quot;);\r\n\r\n    public final NamedTextColor color;\r\n    public final String primary;\r\n    public final String secondary;\r\n\r\n    Pebble(@NotNull NamedTextColor color, @NotNull String primary, @NotNull String secondary) {\r\n        this.color = color;\r\n        this.primary = primary;\r\n        this.secondary = secondary;\r\n    }\r\n}\r\n```\r\nAnd I need to use the primary and secondary strings to get different outputs using this switch-case statement:\r\n```java\r\nswitch(abilityName) {\r\n    case Pebble.RAGE.primary -&gt; {...}\r\n    case Pebble.RAGE.secondary -&gt; {...}\r\n    ...\r\n}\r\n```\r\nBut because these values are not initialized as constants at compile time, I get an error.\r\n\r\nI saw a post that suggested adding something like this to the enum:\r\n```java\r\npublic static Pebble byName(String abilityName) {\r\n    for (Pebble value : values()) {\r\n        if(value.primary.equals(abilityName) || value.secondary.equals(abilityName)) {\r\n            return value;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\nand then for the switch-case you can just do this:\r\n```java\r\nPebble pebble = Pebble.byName(abilityName);\r\nswitch (pebble) {\r\n    case RAGE -&gt; {...}\r\n    case FLEET -&gt; {...}\r\n    ...\r\n}\r\n```\r\nBut this doesn&#39;t work for me since I need 2 different outputs per Pebble.\r\n\r\nNo matter how I rack my brain I can&#39;t figure out a neat solution to this, any suggestions?","title":"Java switch-case with Enum variables &quot;Constant expression required&quot; error","body":"<p>I have this enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Pebble {\n    RAGE(NamedTextColor.DARK_RED, &quot;Rage Wave&quot;, &quot;Channel Rage&quot;),\n    FLEET(NamedTextColor.AQUA, &quot;Dash&quot;, &quot;Speed Surge&quot;),\n    CHARISMA(NamedTextColor.GREEN, &quot;Charisma Aura&quot;, &quot;Silver Tongue&quot;),\n    STEALTH(NamedTextColor.DARK_PURPLE, &quot;Flashbang&quot;, &quot;Smoke Bomb&quot;),\n    MOLTEN(NamedTextColor.GOLD, &quot;Fireball&quot;, &quot;Flame Touch&quot;),\n    STEEL(NamedTextColor.DARK_GRAY, &quot;Iron Skin&quot;, &quot;Steel Buddy&quot;),\n    ROLL(NamedTextColor.YELLOW, &quot;&quot;, &quot;&quot;);\n\n    public final NamedTextColor color;\n    public final String primary;\n    public final String secondary;\n\n    Pebble(@NotNull NamedTextColor color, @NotNull String primary, @NotNull String secondary) {\n        this.color = color;\n        this.primary = primary;\n        this.secondary = secondary;\n    }\n}\n</code></pre>\n<p>And I need to use the primary and secondary strings to get different outputs using this switch-case statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(abilityName) {\n    case Pebble.RAGE.primary -&gt; {...}\n    case Pebble.RAGE.secondary -&gt; {...}\n    ...\n}\n</code></pre>\n<p>But because these values are not initialized as constants at compile time, I get an error.</p>\n<p>I saw a post that suggested adding something like this to the enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Pebble byName(String abilityName) {\n    for (Pebble value : values()) {\n        if(value.primary.equals(abilityName) || value.secondary.equals(abilityName)) {\n            return value;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>and then for the switch-case you can just do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pebble pebble = Pebble.byName(abilityName);\nswitch (pebble) {\n    case RAGE -&gt; {...}\n    case FLEET -&gt; {...}\n    ...\n}\n</code></pre>\n<p>But this doesn't work for me since I need 2 different outputs per Pebble.</p>\n<p>No matter how I rack my brain I can't figure out a neat solution to this, any suggestions?</p>\n"},{"tags":["java","logging","javafx","fxml"],"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1687127977,"post_id":76502726,"comment_id":134889618,"body_markdown":"This is not a duplicate, as they asked to recreate, since the condition is different","body":"This is not a duplicate, as they asked to recreate, since the condition is different"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687150708,"post_id":76502726,"comment_id":134891195,"body_markdown":"If you repost, you shouldn&#39;t delete the old question (assuming you did).  If you do, then all context and comments or answers on the old post are lost.","body":"If you repost, you shouldn&#39;t delete the old question (assuming you did).  If you do, then all context and comments or answers on the old post are lost."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687150788,"post_id":76502726,"comment_id":134891214,"body_markdown":"You should provide a [mcve] so your question can be replicated by copy and paste with no change or addition, otherwise you are requesting potential answerers to do more work to verify a possible soultion.","body":"You should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so your question can be replicated by copy and paste with no change or addition, otherwise you are requesting potential answerers to do more work to verify a possible soultion."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687150961,"post_id":76502726,"comment_id":134891228,"body_markdown":"Appending text to a text area via run later for each record won&#39;t scale very well.  It will me OK for a short, light volume logs.","body":"Appending text to a text area via run later for each record won&#39;t scale very well.  It will me OK for a short, light volume logs."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687151213,"post_id":76502726,"comment_id":134891255,"body_markdown":"Unrelated: see [how to access resource from a JavaFX app](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other).","body":"Unrelated: see <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">how to access resource from a JavaFX app</a>."},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687154739,"post_id":76502726,"comment_id":134891622,"body_markdown":"this is a reproducible example, but logging to the TextArea does not work, that&#39;s why I started this question","body":"this is a reproducible example, but logging to the TextArea does not work, that&#39;s why I started this question"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687154769,"post_id":76502726,"comment_id":134891629,"body_markdown":"your link to another question does not answer my problem","body":"your link to another question does not answer my problem"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1687155959,"post_id":76502726,"comment_id":134891802,"body_markdown":"Can&#39;t you get the log data as a `String` and write that to the `TextField` and to a text file?","body":"Can&#39;t you get the log data as a <code>String</code> and write that to the <code>TextField</code> and to a text file?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1687159320,"post_id":76502726,"comment_id":134892362,"body_markdown":"But how to transfer the log data to a String, and then dynamically add it to the TextArea?","body":"But how to transfer the log data to a String, and then dynamically add it to the TextArea?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1687168228,"post_id":76502726,"comment_id":134894236,"body_markdown":"Don&#39;t you want to have the `Exception` data as a `String`? Isn&#39;t that what you are writing to the log file? Why not write the `Exception` string to the `TextArea` and then write it to the log file?","body":"Don&#39;t you want to have the <code>Exception</code> data as a <code>String</code>? Isn&#39;t that what you are writing to the log file? Why not write the <code>Exception</code> string to the <code>TextArea</code> and then write it to the log file?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1687168848,"post_id":76502726,"comment_id":134894372,"body_markdown":"I also have the usual method processing, that is, successful, not Exception. And even if you write only Exception, then how to make it dynamic? And how to enter the data from the logger into the TextArea if the output of the logger goes through the line: LOGGER.log(Level.WARNING,&quot;Error &quot;, e);","body":"I also have the usual method processing, that is, successful, not Exception. And even if you write only Exception, then how to make it dynamic? And how to enter the data from the logger into the TextArea if the output of the logger goes through the line: LOGGER.log(Level.WARNING,&quot;Error &quot;, e);"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687195015,"post_id":76502726,"comment_id":134899769,"body_markdown":"Although you indicate that it &quot;is not a duplicate&quot;, see also [_How to display log in JavaFX TextArea?_](https://stackoverflow.com/q/76488986/230513).","body":"Although you indicate that it &quot;is not a duplicate&quot;, see also <a href=\"https://stackoverflow.com/q/76488986/230513\"><i>How to display log in JavaFX TextArea?</i></a>."},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1687196978,"post_id":76502726,"comment_id":134900142,"body_markdown":"I unsubscribed in the comments in the question why I created this question","body":"I unsubscribed in the comments in the question why I created this question"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1687201325,"post_id":76502726,"comment_id":134900875,"body_markdown":"You should provide a [mre]. We&#39;d have to make assumptions about your current code to make it work. There are also a few things that don&#39;t seem complete, such as missing `@FXML` annotations. You also don&#39;t show how you actually add the `TextAreaHandler` to your logger (you have a copy-paste from your previous question, but that doesn&#39;t match your own code).","body":"You should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We&#39;d have to make assumptions about your current code to make it work. There are also a few things that don&#39;t seem complete, such as missing <code>@FXML</code> annotations. You also don&#39;t show how you actually add the <code>TextAreaHandler</code> to your logger (you have a copy-paste from your previous question, but that doesn&#39;t match your own code)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687201499,"post_id":76502726,"comment_id":134900896,"body_markdown":"Note you should not be reading a resource with `FileInputStream`. A resource is not a file, particularly once it&#39;s packaged in a JAR file or JRT image. Use the standard resource API to read the configuration file: `Class#getResourceAsStream(String)`. That also means you need to use `&quot;/log.config&quot;`, as the package `&quot;src/main/resources&quot;` does not exist on the class-path.","body":"Note you should not be reading a resource with <code>FileInputStream</code>. A resource is not a file, particularly once it&#39;s packaged in a JAR file or JRT image. Use the standard resource API to read the configuration file: <code>Class#getResourceAsStream(String)</code>. That also means you need to use <code>&quot;&#47;log.config&quot;</code>, as the package <code>&quot;src&#47;main&#47;resources&quot;</code> does not exist on the class-path."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1687201572,"post_id":76502726,"comment_id":134900902,"body_markdown":"@trashgod I believe &quot;Vanish&quot; (the account that asked this question) and &quot;DarkSoul&quot; (the account that asked the question you linked) are the same person. The question you linked was answered, but the OP seems to be having additional issues, so I suggested they ask a new question.","body":"@trashgod I believe &quot;Vanish&quot; (the account that asked this question) and &quot;DarkSoul&quot; (the account that asked the question you linked) are the same person. The question you linked was answered, but the OP seems to be having additional issues, so I suggested they ask a new question."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687203769,"post_id":76502726,"comment_id":134901225,"body_markdown":"Vanish, note I&#39;ve updated the `TextAreaHandler` code from my answer to your other question to make it more robust (addressing concerns brought up by @jewelsea). These changes won&#39;t fix the problem you&#39;re having in this question, however.","body":"Vanish, note I&#39;ve updated the <code>TextAreaHandler</code> code from my answer to your other question to make it more robust (addressing concerns brought up by @jewelsea). These changes won&#39;t fix the problem you&#39;re having in this question, however."}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687126375,"creation_date":1687126375,"question_id":76502726,"body_markdown":"I have a javaFX application and I&#39;m having a logging problem. I can&#39;t figure out how to dynamically output logs to a TextArea in JavaFX and to a file at the same time.\r\n\r\nFor the file I have this setup:\r\n\r\n```\r\nhandlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n\r\njava.util.logging.FileHandler.level     = ALL\r\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\njava.util.logging.FileHandler.append    = true\r\njava.util.logging.FileHandler.pattern   = log.txt\r\n```\r\n\r\nAnd in each class such static initialization:\r\n\r\n```\r\npublic class BuildTest{\r\nstatic {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(BuildTest.class.getName());\r\n            initialContext = new InitialContext();\r\n        } catch (NamingException | IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\nBut I have a problem, how can I also output to the TextArea at the same time?\r\n\r\nThe TextArea itself:\r\n\r\n```\r\n&lt;TextArea layoutX=&quot;20.0&quot; layoutY=&quot;705.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;560.0&quot; fx:id=&quot;LogID&quot;/&gt;\r\n```\r\n\r\nAnd the controller is attached to the fxml file:\r\n\r\n\r\n```\r\npublic class ControllerFrame {\r\n\r\n    private TextArea LogID;\r\n\r\nstatic {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(ControllerFrame .class.getName());\r\n        } catch (Exception e) {\r\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to insert this code into both the static method and the initialize method in the controller class:\r\n\r\n```\r\nTextAreaHandler handler = new TextAreaHandler(textArea);\r\n        handler.setFormatter(new SimpleFormatter());\r\n        LOGGER.addHandler(handler);\r\n```\r\n\r\nImplementing the TextAreaHandler class:\r\n\r\n\r\n```\r\npackage sample;\r\n\r\nimport java.util.logging.ErrorManager;\r\nimport java.util.logging.Handler;\r\nimport java.util.logging.LogRecord;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.scene.control.TextArea;\r\n\r\npublic class TextAreaHandler extends Handler {\r\n\r\n    private final TextArea textArea;\r\n    private volatile boolean open = true;\r\n\r\n    public TextAreaHandler(TextArea textArea) {\r\n        this.textArea = textArea;\r\n    }\r\n\r\n    @Override\r\n    public void publish(LogRecord record) {\r\n        if (open &amp;&amp; isLoggable(record)) {\r\n            String message;\r\n            try {\r\n                message = getFormatter().format(record);\r\n            } catch (Exception ex) {\r\n                reportError(null, ex, ErrorManager.FORMAT_FAILURE);\r\n                return;\r\n            }\r\n\r\n            if (Platform.isFxApplicationThread()) {\r\n                appendMessage(message);\r\n            } else {\r\n                try {\r\n                    Platform.runLater(() -&gt; appendMessage(message));\r\n                } catch (Exception ex) {\r\n                    reportError(null, ex, ErrorManager.GENERIC_FAILURE);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void appendMessage(String message) {\r\n        try {\r\n            textArea.appendText(message);\r\n        } catch (Exception ex) {\r\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void flush() {\r\n        // no buffer\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        open = false;\r\n    }\r\n}\r\n```\r\nBut I still don&#39;t get logs in the TextArea. The very essence is that the application displays logs both in a text file and in a TextArea\r\n","title":"How to output application logs dynamically to TextArea and text file?","body":"<p>I have a javaFX application and I'm having a logging problem. I can't figure out how to dynamically output logs to a TextArea in JavaFX and to a file at the same time.</p>\n<p>For the file I have this setup:</p>\n<pre><code>handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\n\njava.util.logging.FileHandler.level     = ALL\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.append    = true\njava.util.logging.FileHandler.pattern   = log.txt\n</code></pre>\n<p>And in each class such static initialization:</p>\n<pre><code>public class BuildTest{\nstatic {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(BuildTest.class.getName());\n            initialContext = new InitialContext();\n        } catch (NamingException | IOException e) {\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>But I have a problem, how can I also output to the TextArea at the same time?</p>\n<p>The TextArea itself:</p>\n<pre><code>&lt;TextArea layoutX=&quot;20.0&quot; layoutY=&quot;705.0&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;560.0&quot; fx:id=&quot;LogID&quot;/&gt;\n</code></pre>\n<p>And the controller is attached to the fxml file:</p>\n<pre><code>public class ControllerFrame {\n\n    private TextArea LogID;\n\nstatic {\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)){\n            LogManager.getLogManager().readConfiguration(ins);\n            LOGGER = Logger.getLogger(ControllerFrame .class.getName());\n        } catch (Exception e) {\n            LOGGER.log(Level.WARNING,&quot;Error &quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>I tried to insert this code into both the static method and the initialize method in the controller class:</p>\n<pre><code>TextAreaHandler handler = new TextAreaHandler(textArea);\n        handler.setFormatter(new SimpleFormatter());\n        LOGGER.addHandler(handler);\n</code></pre>\n<p>Implementing the TextAreaHandler class:</p>\n<pre><code>package sample;\n\nimport java.util.logging.ErrorManager;\nimport java.util.logging.Handler;\nimport java.util.logging.LogRecord;\n\nimport javafx.application.Platform;\nimport javafx.scene.control.TextArea;\n\npublic class TextAreaHandler extends Handler {\n\n    private final TextArea textArea;\n    private volatile boolean open = true;\n\n    public TextAreaHandler(TextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    @Override\n    public void publish(LogRecord record) {\n        if (open &amp;&amp; isLoggable(record)) {\n            String message;\n            try {\n                message = getFormatter().format(record);\n            } catch (Exception ex) {\n                reportError(null, ex, ErrorManager.FORMAT_FAILURE);\n                return;\n            }\n\n            if (Platform.isFxApplicationThread()) {\n                appendMessage(message);\n            } else {\n                try {\n                    Platform.runLater(() -&gt; appendMessage(message));\n                } catch (Exception ex) {\n                    reportError(null, ex, ErrorManager.GENERIC_FAILURE);\n                }\n            }\n        }\n    }\n\n    private void appendMessage(String message) {\n        try {\n            textArea.appendText(message);\n        } catch (Exception ex) {\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\n        }\n    }\n\n    @Override\n    public void flush() {\n        // no buffer\n    }\n\n    @Override\n    public void close() {\n        open = false;\n    }\n}\n</code></pre>\n<p>But I still don't get logs in the TextArea. The very essence is that the application displays logs both in a text file and in a TextArea</p>\n"},{"tags":["java","soap","mtom","axiom"],"comments":[{"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"score":0,"creation_date":1686695374,"post_id":76463800,"comment_id":134834093,"body_markdown":"Would you mind sharing a more complete piece of code that reproduces the problem, in particular that shows how serializeAndConsume is invoked?","body":"Would you mind sharing a more complete piece of code that reproduces the problem, in particular that shows how serializeAndConsume is invoked?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686703948,"post_id":76463800,"comment_id":134834793,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4667726,"reputation":121,"user_id":3780374,"display_name":"tofindabhishek"},"score":0,"creation_date":1686723339,"post_id":76463800,"comment_id":134836393,"body_markdown":"I have updated the code changes can please check","body":"I have updated the code changes can please check"}],"answers":[{"comments":[{"owner":{"account_id":4667726,"reputation":121,"user_id":3780374,"display_name":"tofindabhishek"},"score":0,"creation_date":1687244187,"post_id":76502709,"comment_id":134905319,"body_markdown":"I have figured out the fix for above issue I think you need to set Content Id for this. Can you check once in your sample code.\n\ntext.setContentID(&quot;some randomly generated value&quot;);","body":"I have figured out the fix for above issue I think you need to set Content Id for this. Can you check once in your sample code.  text.setContentID(&quot;some randomly generated value&quot;);"},{"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"score":0,"creation_date":1687475701,"post_id":76502709,"comment_id":134946089,"body_markdown":"No, that doesn&#39;t change anything.","body":"No, that doesn&#39;t change anything."}],"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687126103,"creation_date":1687126103,"answer_id":76502709,"question_id":76463800,"body_markdown":"The minimal code to reproduce this is actually:\r\n\r\n```java\r\nOMFactory factory = OMAbstractFactory.getOMFactory();\r\nOMElement element = factory.createOMElement(&quot;root&quot;, null);\r\nOMText text = factory.createOMText(element,\r\n        Base64.getEncoder().encodeToString(&quot;foobar&quot;.getBytes(StandardCharsets.UTF_8)));\r\ntext.setOptimize(true);\r\nOMOutputFormat format = new OMOutputFormat();\r\nformat.setDoOptimize(true);\r\nelement.serialize(System.out, format);\r\n```\r\n\r\nThis is indeed a bug in Axiom versions 1.3.0 and later. I&#39;ve created https://issues.apache.org/jira/browse/AXIOM-519 to track this issue.","title":"SOAP MTOM functionality after ,Upgrading axiom-impl-1.2.20.jar to axiom-impl-1.4.0.jar throws NULL Pointer for Datahandler","body":"<p>The minimal code to reproduce this is actually:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OMFactory factory = OMAbstractFactory.getOMFactory();\nOMElement element = factory.createOMElement(&quot;root&quot;, null);\nOMText text = factory.createOMText(element,\n        Base64.getEncoder().encodeToString(&quot;foobar&quot;.getBytes(StandardCharsets.UTF_8)));\ntext.setOptimize(true);\nOMOutputFormat format = new OMOutputFormat();\nformat.setDoOptimize(true);\nelement.serialize(System.out, format);\n</code></pre>\n<p>This is indeed a bug in Axiom versions 1.3.0 and later. I've created <a href=\"https://issues.apache.org/jira/browse/AXIOM-519\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/AXIOM-519</a> to track this issue.</p>\n"}],"owner":{"account_id":4667726,"reputation":121,"user_id":3780374,"display_name":"tofindabhishek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687126103,"creation_date":1686650920,"question_id":76463800,"body_markdown":"I have upgraded axiom-impl-1.2.20.jar to axiom-impl-1.4.0.jar and its corresponding jars axiom jars\r\nHowever , I am facing a NullPointerException issue in the existing code which is used for SOAP-MTOM functionality.\r\nFollowing is the stacktrace.\r\n\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.axiom.om.impl.OMMultipartWriter.writePart(OMMultipartWriter.java:165)\r\n\tat org.apache.axiom.om.impl.OMMultipartWriter.writePart(OMMultipartWriter.java:183)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\r\n\tat org.apache.axiom.om.impl.llom.AxiomContainerImpl.serializeAndConsume(Unknown Source)\r\n```\r\n\r\nI did try to inject datahandler using following piece of code,check enableMTOM4SpecifiedNodes commented code however, after this change MTOM functionality does not seem to work\r\n\r\n```\r\nString soapVersion = config.soapVersion;\r\n\t\tString soapAction = config.soapAction;\r\n\t\tsoap.getSOAPMessage().saveChanges();//save current changes\r\n\t\tMimeHeaders mhs = soap.getMimeHeaders();\r\n\t\tString[] contentTypes = mhs.getHeader(&quot;Content-Type&quot;);\r\n\t\tContentType cType = new ContentType(contentTypes[0]);\r\n\t\tString boundary = cType.getParameter(&quot;boundary&quot;);\r\n\t\tif (boundary == null) {\r\n\t\t\tboundary = DCMimeMessage.getRFC2822MsgID().replace(DCMimeMessage.CH_AT, BCMimeMessage.CH_DOT);\r\n\t\t}\r\n\t\tString start = cType.getParameter(&quot;start&quot;);\r\n\t\tif (start == null) {\r\n\t\t\tstart = DCMimeMessage.getRFC2822MsgID();//need to be fixed using standard\r\n\t\t} else {\r\n\t\t\tif (start.startsWith(&quot;&lt;&quot;)) {\r\n\t\t\t\tstart = start.substring(1);\r\n\t\t\t\tif (start.endsWith(&quot;&gt;&quot;)) {\r\n\t\t\t\t\tstart = start.substring(0, start.length()-1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString primaryType = cType.getPrimaryType();\r\n\t\tString subType = cType.getSubType();\r\n\t\tString startinfo = null;\r\n\t\tif (StringUtils.equalsIgnoreCase(primaryType, &quot;multipart&quot;)) {\r\n\t\t\tstartinfo = cType.getParameter(&quot;type&quot;);\r\n\t\t} else if (StringUtils.equalsIgnoreCase(primaryType, &quot;application&quot;)\r\n\t\t\t&amp;&amp; StringUtils.equalsIgnoreCase(subType, &quot;soap+xml&quot;)) {\r\n\t\t\tstartinfo = DCSoapConstants.BCSOAP_12_CONTENTTYPE;\r\n\t\t} else if (StringUtils.equalsIgnoreCase(primaryType, &quot;text&quot;)\r\n\t\t\t\t&amp;&amp; StringUtils.equalsIgnoreCase(subType, &quot;xml&quot;)) {\r\n\t\t\tstartinfo = DCSoapConstants.BCSOAP_11_CONTENTTYPE;\r\n\t\t}\r\n\t\tif (startinfo == null) {\r\n\t\t\tif (StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_1_PROTOCOL)) {\r\n\t\t\t\tstartinfo = DCSoapConstants.BCSOAP_11_CONTENTTYPE;\r\n\t\t\t} else {\r\n\t\t\t\tstartinfo = DCSoapConstants.BCSOAP_12_CONTENTTYPE;\r\n\t\t\t}\r\n\t\t}\r\n\t\tstartinfo = &quot;start-info=\\&quot;&quot; + startinfo + &quot;\\&quot;&quot;;\r\n\t\tif(StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_2_PROTOCOL)\r\n\t\t        &amp;&amp; soapAction != null) {\r\n\t\t    startinfo = startinfo + &quot;; action=\\&quot;&quot; + soapAction + &quot;\\&quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tmmh.addHeader(&quot;Content-Type&quot;, &quot;Multipart/Related;boundary=\\&quot;&quot; \r\n\t\t\t\t+ boundary + &quot;\\&quot;;type=\\&quot;application/xop+xml\\&quot;;start=\\&quot;&lt;&quot; \r\n\t\t\t\t+ start + &quot;&gt;\\&quot;;&quot; + startinfo);\r\n\t\tSOAPEnvelope env = soap.getSOAPEnvelope();\r\n\t\torg.apache.axiom.soap.SOAPEnvelope omEnv = null;\r\n\t\tif (env instanceof org.apache.axis2.saaj.SOAPEnvelopeImpl) {\r\n\t\t\tomEnv = saaj.toOM(env);\r\n\t\t} else if (env instanceof org.apache.axiom.soap.SOAPEnvelope) {\r\n\t\t\tomEnv = (org.apache.axiom.soap.SOAPEnvelope)env;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t \r\n\t\tif (omEnv == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tomEnv.declareNamespace(&quot;http://www.w3.org/2004/08/xop/include&quot;, &quot;xop&quot;);\r\n\t\tIterator children = omEnv.getBody().getChildElements();\r\n\t\tif (children != null &amp;&amp; children.hasNext()) {\r\n\t\t\tHashMap&lt;String, Boolean&gt; tagNamesUsedMap = new HashMap&lt;String, Boolean&gt;();\r\n\t\t\tfor (int i=0, s=tagNames.size(); i&lt;s; i++) {\r\n\t\t\t\ttagNamesUsedMap.put(tagNames.get(i), false);\r\n\t\t\t}\r\n\t\t\tenableMTOM4SpecifiedNodes(children, tagNamesUsedMap);\r\n\t\t\tList&lt;String&gt; notUsedTagNames = getNotUsedTagNames(tagNamesUsedMap);\r\n\t\t\tif (!notUsedTagNames.isEmpty()) {\r\n\t\t\t\tthrow new D2CException(&quot;tagNames is given, but some of the items is not used : &quot; + notUsedTagNames);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (tagNames != null) {\r\n\t\t\t\tthrow new D2CException(&quot;tagNames is given, but there isn&#39;t any payload found.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tOMOutputFormat format = new OMOutputFormat();\r\n\t\tformat.setDoOptimize(true);\r\n\t\tformat.setSOAP11(StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_1_PROTOCOL));\r\n\t\tformat.setMimeBoundary(boundary);\r\n\t\tif (start != null) {\r\n\t\t\tformat.setRootContentId(start);\r\n\t\t}\r\n\t\t        \r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tomEnv.serializeAndConsume(baos, format);\r\n```\r\n\r\n\r\n    public static void enableMTOM4SpecifiedNodes(Iterator iter, HashMap&lt;String, Boolean&gt; tagNames) {\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\tObject obj = iter.next();\r\n    \t\t\tif (obj instanceof OMElement) {\r\n    \t\t\t\tOMElement ome = (OMElement) obj;\r\n    \t\t\t\tOMFactory fac = OMAbstractFactory.getOMFactory();\r\n    \t\t\t\tIterator children = ome.getChildElements();\r\n    \t\t\t\tif (children == null || !children.hasNext()) {\r\n    \t\t\t\t\tString nodeName = ome.getLocalName();\r\n    \t\t\t\t\tif (tagNames.containsKey(nodeName)) {\r\n    \t\t\t\t\t\ttagNames.put(nodeName, true);\r\n    \t\t\t\t\t\tIterator niter = ome.getChildren();\r\n    \t\t\t\t\t\twhile (niter.hasNext()) {\r\n    \t\t\t\t\t\t\tObject nobj = niter.next();\r\n    \t\t\t\t\t\t\tif (nobj instanceof OMText) {\r\n    \t\t\t\t\t\t\t\tOMText omt = (OMText)nobj;\r\n    //\t\t\t\t\t\t\t\tbyte[] bytes = new String(omt.getTextCharacters()).getBytes(StandardCharsets.UTF_8);\r\n    //\t\t\t\t\t\t\t\tByteArrayDataSource rawData = new ByteArrayDataSource(bytes);\r\n    //\t\t\t\t\t\t\t\tDataHandler datahandler = new DataHandler(rawData);\r\n    //\t\t\t\t\t\t\t\tomt = fac.createOMText(datahandler, true);\r\n    \t\t\t\t\t\t\t\tomt.setOptimize(true);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tenableMTOM4SpecifiedNodes(children, tagNames);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}","title":"SOAP MTOM functionality after ,Upgrading axiom-impl-1.2.20.jar to axiom-impl-1.4.0.jar throws NULL Pointer for Datahandler","body":"<p>I have upgraded axiom-impl-1.2.20.jar to axiom-impl-1.4.0.jar and its corresponding jars axiom jars\nHowever , I am facing a NullPointerException issue in the existing code which is used for SOAP-MTOM functionality.\nFollowing is the stacktrace.</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at org.apache.axiom.om.impl.OMMultipartWriter.writePart(OMMultipartWriter.java:165)\n    at org.apache.axiom.om.impl.OMMultipartWriter.writePart(OMMultipartWriter.java:183)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serialize(Unknown Source)\n    at org.apache.axiom.om.impl.llom.AxiomContainerImpl.serializeAndConsume(Unknown Source)\n</code></pre>\n<p>I did try to inject datahandler using following piece of code,check enableMTOM4SpecifiedNodes commented code however, after this change MTOM functionality does not seem to work</p>\n<pre><code>String soapVersion = config.soapVersion;\n        String soapAction = config.soapAction;\n        soap.getSOAPMessage().saveChanges();//save current changes\n        MimeHeaders mhs = soap.getMimeHeaders();\n        String[] contentTypes = mhs.getHeader(&quot;Content-Type&quot;);\n        ContentType cType = new ContentType(contentTypes[0]);\n        String boundary = cType.getParameter(&quot;boundary&quot;);\n        if (boundary == null) {\n            boundary = DCMimeMessage.getRFC2822MsgID().replace(DCMimeMessage.CH_AT, BCMimeMessage.CH_DOT);\n        }\n        String start = cType.getParameter(&quot;start&quot;);\n        if (start == null) {\n            start = DCMimeMessage.getRFC2822MsgID();//need to be fixed using standard\n        } else {\n            if (start.startsWith(&quot;&lt;&quot;)) {\n                start = start.substring(1);\n                if (start.endsWith(&quot;&gt;&quot;)) {\n                    start = start.substring(0, start.length()-1);\n                }\n            }\n        }\n        \n        String primaryType = cType.getPrimaryType();\n        String subType = cType.getSubType();\n        String startinfo = null;\n        if (StringUtils.equalsIgnoreCase(primaryType, &quot;multipart&quot;)) {\n            startinfo = cType.getParameter(&quot;type&quot;);\n        } else if (StringUtils.equalsIgnoreCase(primaryType, &quot;application&quot;)\n            &amp;&amp; StringUtils.equalsIgnoreCase(subType, &quot;soap+xml&quot;)) {\n            startinfo = DCSoapConstants.BCSOAP_12_CONTENTTYPE;\n        } else if (StringUtils.equalsIgnoreCase(primaryType, &quot;text&quot;)\n                &amp;&amp; StringUtils.equalsIgnoreCase(subType, &quot;xml&quot;)) {\n            startinfo = DCSoapConstants.BCSOAP_11_CONTENTTYPE;\n        }\n        if (startinfo == null) {\n            if (StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_1_PROTOCOL)) {\n                startinfo = DCSoapConstants.BCSOAP_11_CONTENTTYPE;\n            } else {\n                startinfo = DCSoapConstants.BCSOAP_12_CONTENTTYPE;\n            }\n        }\n        startinfo = &quot;start-info=\\&quot;&quot; + startinfo + &quot;\\&quot;&quot;;\n        if(StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_2_PROTOCOL)\n                &amp;&amp; soapAction != null) {\n            startinfo = startinfo + &quot;; action=\\&quot;&quot; + soapAction + &quot;\\&quot;&quot;;\n        }\n        \n\n        mmh.addHeader(&quot;Content-Type&quot;, &quot;Multipart/Related;boundary=\\&quot;&quot; \n                + boundary + &quot;\\&quot;;type=\\&quot;application/xop+xml\\&quot;;start=\\&quot;&lt;&quot; \n                + start + &quot;&gt;\\&quot;;&quot; + startinfo);\n        SOAPEnvelope env = soap.getSOAPEnvelope();\n        org.apache.axiom.soap.SOAPEnvelope omEnv = null;\n        if (env instanceof org.apache.axis2.saaj.SOAPEnvelopeImpl) {\n            omEnv = saaj.toOM(env);\n        } else if (env instanceof org.apache.axiom.soap.SOAPEnvelope) {\n            omEnv = (org.apache.axiom.soap.SOAPEnvelope)env;\n        } else {\n            return null;\n        }\n         \n        if (omEnv == null) {\n            return null;\n        }\n        omEnv.declareNamespace(&quot;http://www.w3.org/2004/08/xop/include&quot;, &quot;xop&quot;);\n        Iterator children = omEnv.getBody().getChildElements();\n        if (children != null &amp;&amp; children.hasNext()) {\n            HashMap&lt;String, Boolean&gt; tagNamesUsedMap = new HashMap&lt;String, Boolean&gt;();\n            for (int i=0, s=tagNames.size(); i&lt;s; i++) {\n                tagNamesUsedMap.put(tagNames.get(i), false);\n            }\n            enableMTOM4SpecifiedNodes(children, tagNamesUsedMap);\n            List&lt;String&gt; notUsedTagNames = getNotUsedTagNames(tagNamesUsedMap);\n            if (!notUsedTagNames.isEmpty()) {\n                throw new D2CException(&quot;tagNames is given, but some of the items is not used : &quot; + notUsedTagNames);\n            }\n        } else {\n            if (tagNames != null) {\n                throw new D2CException(&quot;tagNames is given, but there isn't any payload found.&quot;);\n            }\n        }\n        OMOutputFormat format = new OMOutputFormat();\n        format.setDoOptimize(true);\n        format.setSOAP11(StringUtils.equalsIgnoreCase(soapVersion, SOAPConstants.SOAP_1_1_PROTOCOL));\n        format.setMimeBoundary(boundary);\n        if (start != null) {\n            format.setRootContentId(start);\n        }\n                \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        omEnv.serializeAndConsume(baos, format);\n</code></pre>\n<pre><code>public static void enableMTOM4SpecifiedNodes(Iterator iter, HashMap&lt;String, Boolean&gt; tagNames) {\n        while (iter.hasNext()) {\n            Object obj = iter.next();\n            if (obj instanceof OMElement) {\n                OMElement ome = (OMElement) obj;\n                OMFactory fac = OMAbstractFactory.getOMFactory();\n                Iterator children = ome.getChildElements();\n                if (children == null || !children.hasNext()) {\n                    String nodeName = ome.getLocalName();\n                    if (tagNames.containsKey(nodeName)) {\n                        tagNames.put(nodeName, true);\n                        Iterator niter = ome.getChildren();\n                        while (niter.hasNext()) {\n                            Object nobj = niter.next();\n                            if (nobj instanceof OMText) {\n                                OMText omt = (OMText)nobj;\n//                              byte[] bytes = new String(omt.getTextCharacters()).getBytes(StandardCharsets.UTF_8);\n//                              ByteArrayDataSource rawData = new ByteArrayDataSource(bytes);\n//                              DataHandler datahandler = new DataHandler(rawData);\n//                              omt = fac.createOMText(datahandler, true);\n                                omt.setOptimize(true);\n                            }\n                        }\n                    }\n                } else {\n                    enableMTOM4SpecifiedNodes(children, tagNames);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","gradle","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687125563,"creation_date":1687125563,"answer_id":76502684,"question_id":76501130,"body_markdown":"I&#39;ve found a solution that works for me. It feels a bit janky, not sure if this would be recommended, so I&#39;m also looking forward to better answers.\r\n\r\nI made a second gradle &quot;module&quot; that does the testing\r\n\r\n```no-lang\r\n.\r\n lib\r\n    build.gradle\r\n    src\r\n        main\r\n            java\r\n                demo\r\n                    MyAnnotation.java\r\n                    MyAnnotationProcessor.java\r\n test\r\n    build.gradle\r\n    src\r\n        test\r\n            java\r\n                demo\r\n                    MyAnnotationProcessorTest.java\r\n settings.gradle\r\n```\r\n\r\n`settings.gradle` has to have `include(&#39;test&#39;)` added (under where you probably already have `include(&#39;lib&#39;)`\r\n\r\nThen `lib/build.gradle` can have all the testing removed:\r\n\r\n**lib/build.gradle**\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.auto.service:auto-service:1.1.1&#39;\r\n    annotationProcessor &#39;com.google.auto.service:auto-service:1.1.1&#39;\r\n}\r\n\r\n// Apply a specific Java toolchain to ease working on different environments.\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n```\r\n\r\n\r\nand `test/build.gradle` should be set up for testing\r\n\r\n**test/build.gradle**\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n\r\n    testImplementation project(&#39;:lib&#39;)\r\n    testAnnotationProcessor project(&#39;:lib&#39;)\r\n}\r\n\r\n// Apply a specific Java toolchain to ease working on different environments.\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI don&#39;t _think_  any of the `./test` module is going to get included in the `./builds/libs/demo.jar` build result, but I&#39;m not sure.","title":"gradle use project as its own annotation processor","body":"<p>I've found a solution that works for me. It feels a bit janky, not sure if this would be recommended, so I'm also looking forward to better answers.</p>\n<p>I made a second gradle &quot;module&quot; that does the testing</p>\n<pre><code>.\n lib\n    build.gradle\n    src\n        main\n            java\n                demo\n                    MyAnnotation.java\n                    MyAnnotationProcessor.java\n test\n    build.gradle\n    src\n        test\n            java\n                demo\n                    MyAnnotationProcessorTest.java\n settings.gradle\n</code></pre>\n<p><code>settings.gradle</code> has to have <code>include('test')</code> added (under where you probably already have <code>include('lib')</code></p>\n<p>Then <code>lib/build.gradle</code> can have all the testing removed:</p>\n<p><strong>lib/build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.google.auto.service:auto-service:1.1.1'\n    annotationProcessor 'com.google.auto.service:auto-service:1.1.1'\n}\n\n// Apply a specific Java toolchain to ease working on different environments.\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n<p>and <code>test/build.gradle</code> should be set up for testing</p>\n<p><strong>test/build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n\n    testImplementation project(':lib')\n    testAnnotationProcessor project(':lib')\n}\n\n// Apply a specific Java toolchain to ease working on different environments.\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I don't <em>think</em>  any of the <code>./test</code> module is going to get included in the <code>./builds/libs/demo.jar</code> build result, but I'm not sure.</p>\n"}],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687125563,"creation_date":1687099904,"question_id":76501130,"body_markdown":"I&#39;m making a library that includes an annotation processor\r\n\r\n```no-lang\r\n.\r\n lib\r\n&#160;&#160;  build.gradle\r\n&#160;&#160;  src\r\n&#160;&#160;      main\r\n&#160;&#160;     &#160;&#160;  java\r\n&#160;&#160;     &#160;&#160; &#160;&#160;  demo\r\n&#160;&#160;     &#160;&#160; &#160;&#160;      MyAnnotation.java\r\n&#160;&#160;     &#160;&#160; &#160;&#160;      MyAnnotationProcessor.java\r\n&#160;&#160;     &#160;&#160;  resources\r\n&#160;&#160;      test\r\n&#160;&#160;          java\r\n&#160;&#160;         &#160;&#160;  demo\r\n&#160;&#160;         &#160;&#160;      MyAnnotationProcessorTest.java\r\n&#160;&#160;          resources\r\n settings.gradle\r\n```\r\n\r\nI would like to use `@MyAnnotation` in `MyAnnotationProcessorTest.java`\r\n\r\nBut it doesn&#39;t look like gradle is processing that annotation at all when I build nor test this project.\r\n\r\nFor the sake of debugging, the annotation files just look like\r\n\r\n```java\r\npackage demo;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD, ElementType.MODULE, ElementType.PACKAGE, ElementType.TYPE_USE, ElementType.PARAMETER, ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE, ElementType.TYPE_PARAMETER, ElementType.ANNOTATION_TYPE, ElementType.RECORD_COMPONENT})\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface MyAnnotation { }\r\n```\r\n\r\n```java\r\npackage demo;\r\n\r\nimport java.util.Set;\r\n\r\nimport javax.annotation.processing.AbstractProcessor;\r\nimport javax.annotation.processing.Processor;\r\nimport javax.annotation.processing.RoundEnvironment;\r\nimport javax.annotation.processing.SupportedAnnotationTypes;\r\nimport javax.lang.model.SourceVersion;\r\nimport javax.lang.model.element.Element;\r\nimport javax.lang.model.element.ExecutableElement;\r\nimport javax.lang.model.element.TypeElement;\r\nimport javax.lang.model.element.VariableElement;\r\nimport javax.tools.Diagnostic;\r\n\r\nimport com.google.auto.service.AutoService;\r\n\r\n@SupportedAnnotationTypes(&quot;demo.MyAnnotation&quot;)\r\n@AutoService(Processor.class)\r\npublic class MyAnnotationProcessor extends AbstractProcessor {\r\n    @Override\r\n    public SourceVersion getSupportedSourceVersion() {\r\n        return SourceVersion.latest();\r\n    }\r\n\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, &quot;&gt;&gt;&gt;&gt;&gt; process called &lt;&lt;&lt;&lt;&lt;&quot;);\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nand the test file just sprays a lot of `@MyAnnotation` everywhere.\r\n\r\nMy `build.gradle` is \r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n\r\n    implementation &#39;com.google.auto.service:auto-service:1.1.1&#39;\r\n    annotationProcessor &#39;com.google.auto.service:auto-service:1.1.1&#39;\r\n}\r\n\r\n// Apply a specific Java toolchain to ease working on different environments.\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nBut when I `gradle build` or `gradle test`, there is no output from my annotation processor.\r\n\r\nI made a second project that specifies `dependencies { annotationProcessor &#39;my-annotation-processor-project&#39; }` to test that the annotation processor works, and when I build that project, the annotation processor&#39;s messages _are_ logged. I would like them to also be logged when the annotation is used in the annotation processor&#39;s project itself.\r\n\r\nHow can I test and use a compile-time annotation processor within the same project that defines it?","title":"gradle use project as its own annotation processor","body":"<p>I'm making a library that includes an annotation processor</p>\n<pre><code>.\n lib\n  build.gradle\n  src\n      main\n       java\n        demo\n            MyAnnotation.java\n            MyAnnotationProcessor.java\n       resources\n      test\n          java\n           demo\n               MyAnnotationProcessorTest.java\n          resources\n settings.gradle\n</code></pre>\n<p>I would like to use <code>@MyAnnotation</code> in <code>MyAnnotationProcessorTest.java</code></p>\n<p>But it doesn't look like gradle is processing that annotation at all when I build nor test this project.</p>\n<p>For the sake of debugging, the annotation files just look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package demo;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD, ElementType.MODULE, ElementType.PACKAGE, ElementType.TYPE_USE, ElementType.PARAMETER, ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE, ElementType.TYPE_PARAMETER, ElementType.ANNOTATION_TYPE, ElementType.RECORD_COMPONENT})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface MyAnnotation { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package demo;\n\nimport java.util.Set;\n\nimport javax.annotation.processing.AbstractProcessor;\nimport javax.annotation.processing.Processor;\nimport javax.annotation.processing.RoundEnvironment;\nimport javax.annotation.processing.SupportedAnnotationTypes;\nimport javax.lang.model.SourceVersion;\nimport javax.lang.model.element.Element;\nimport javax.lang.model.element.ExecutableElement;\nimport javax.lang.model.element.TypeElement;\nimport javax.lang.model.element.VariableElement;\nimport javax.tools.Diagnostic;\n\nimport com.google.auto.service.AutoService;\n\n@SupportedAnnotationTypes(&quot;demo.MyAnnotation&quot;)\n@AutoService(Processor.class)\npublic class MyAnnotationProcessor extends AbstractProcessor {\n    @Override\n    public SourceVersion getSupportedSourceVersion() {\n        return SourceVersion.latest();\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR, &quot;&gt;&gt;&gt;&gt;&gt; process called &lt;&lt;&lt;&lt;&lt;&quot;);\n        return true;\n    }\n}\n</code></pre>\n<p>and the test file just sprays a lot of <code>@MyAnnotation</code> everywhere.</p>\n<p>My <code>build.gradle</code> is</p>\n<pre><code>plugins {\n    id 'java-library'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n\n    implementation 'com.google.auto.service:auto-service:1.1.1'\n    annotationProcessor 'com.google.auto.service:auto-service:1.1.1'\n}\n\n// Apply a specific Java toolchain to ease working on different environments.\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p>But when I <code>gradle build</code> or <code>gradle test</code>, there is no output from my annotation processor.</p>\n<p>I made a second project that specifies <code>dependencies { annotationProcessor 'my-annotation-processor-project' }</code> to test that the annotation processor works, and when I build that project, the annotation processor's messages <em>are</em> logged. I would like them to also be logged when the annotation is used in the annotation processor's project itself.</p>\n<p>How can I test and use a compile-time annotation processor within the same project that defines it?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":984229,"reputation":171,"user_id":1003157,"display_name":"Raymond Naseef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490978551,"creation_date":1490978551,"answer_id":43145748,"question_id":42630661,"body_markdown":"Not sure if this is the same as what I ran into, but I had the same error issue with base class marked with @Entity annotation: changing to @MappedSuperclass removed the error.\r\n\r\nGood Luck,\r\nRay\r\n","title":"SQL strings added more than once for: tablename","body":"<p>Not sure if this is the same as what I ran into, but I had the same error issue with base class marked with @Entity annotation: changing to @MappedSuperclass removed the error.</p>\n\n<p>Good Luck,\nRay</p>\n"},{"comments":[{"owner":{"account_id":403449,"reputation":4350,"user_id":771217,"accept_rate":79,"display_name":"Wrench"},"score":0,"creation_date":1533636375,"post_id":51720176,"comment_id":90408461,"body_markdown":"Very interesting. I have since asking the question left that company and can&#39;t confirm on that software, we went down the one persistence route, that however I couldn&#39;t accept ere as a solution, so your findings helps this question&#39;s thread. Thank you.","body":"Very interesting. I have since asking the question left that company and can&#39;t confirm on that software, we went down the one persistence route, that however I couldn&#39;t accept ere as a solution, so your findings helps this question&#39;s thread. Thank you."}],"tags":[],"owner":{"account_id":4259327,"reputation":500,"user_id":3484091,"accept_rate":100,"display_name":"Markus Schulz"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533623318,"creation_date":1533623318,"answer_id":51720176,"question_id":42630661,"body_markdown":"i have the same problem, looks like a bug in:\r\norg.hibernate.mapping.UniqueKey#getExportIdentifier\r\n\r\n\t@Override\r\n\tpublic String getExportIdentifier() {\r\n\t\treturn StringHelper.qualify( getTable().getName(), &quot;UK-&quot; + getName() );\r\n\t}\r\n\r\nbecause the identifier was build only from table name but without schema/catalog of the table.\r\n\r\nTherefore, if you have to entities with same table name but different schema and in these entities two properties with same name and &quot;unique = true&quot; you will drop into the bug.","title":"SQL strings added more than once for: tablename","body":"<p>i have the same problem, looks like a bug in:\norg.hibernate.mapping.UniqueKey#getExportIdentifier</p>\n\n<pre><code>@Override\npublic String getExportIdentifier() {\n    return StringHelper.qualify( getTable().getName(), \"UK-\" + getName() );\n}\n</code></pre>\n\n<p>because the identifier was build only from table name but without schema/catalog of the table.</p>\n\n<p>Therefore, if you have to entities with same table name but different schema and in these entities two properties with same name and \"unique = true\" you will drop into the bug.</p>\n"},{"tags":[],"owner":{"account_id":11182066,"reputation":161,"user_id":8205822,"display_name":"Andreas Hof"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1543045967,"creation_date":1543045967,"answer_id":53456257,"question_id":42630661,"body_markdown":"I had the same problem. The reason in my case was that I had three entities starting with same prefix name and a OneToMany relation to the each more specialized one:\r\n\r\n    Person\r\n    PersonCard\r\n    PersonCardLayout\r\n\r\nRenaming my model to this solved my problem:\r\n\r\n    Person\r\n    Card\r\n    Layout\r\n\r\nThis seems to be a bug in Hibernate.","title":"SQL strings added more than once for: tablename","body":"<p>I had the same problem. The reason in my case was that I had three entities starting with same prefix name and a OneToMany relation to the each more specialized one:</p>\n\n<pre><code>Person\nPersonCard\nPersonCardLayout\n</code></pre>\n\n<p>Renaming my model to this solved my problem:</p>\n\n<pre><code>Person\nCard\nLayout\n</code></pre>\n\n<p>This seems to be a bug in Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":6126565,"reputation":41,"user_id":4778321,"display_name":"Fexmak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596056709,"creation_date":1596056709,"answer_id":63162407,"question_id":42630661,"body_markdown":"Another solution to this is to make use of @Table.\r\n\r\nFor example:\r\n\r\n@Table(name=&quot;PERSON&quot;)\r\n\r\nThis happened to me when I had two classes representing two entities (@Entity) as follows:\r\n\r\n@Entity\r\npublic class User {...}\r\n\r\n\r\n@Entity\r\npublic class UserRoles {...}\r\n\r\nI fixed this error by specifying the table name as follows:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USER&quot;)\r\n    public class User {...}\r\n\r\nAnd:\r\n\r\n    @Table(name=&quot;USER_ROLES&quot;)\r\n    @Entity\r\n    public class UserRoles {...}\r\n\r\n\r\n","title":"SQL strings added more than once for: tablename","body":"<p>Another solution to this is to make use of @Table.</p>\n<p>For example:</p>\n<p>@Table(name=&quot;PERSON&quot;)</p>\n<p>This happened to me when I had two classes representing two entities (@Entity) as follows:</p>\n<p>@Entity\npublic class User {...}</p>\n<p>@Entity\npublic class UserRoles {...}</p>\n<p>I fixed this error by specifying the table name as follows:</p>\n<pre><code>@Entity\n@Table(name=&quot;USER&quot;)\npublic class User {...}\n</code></pre>\n<p>And:</p>\n<pre><code>@Table(name=&quot;USER_ROLES&quot;)\n@Entity\npublic class UserRoles {...}\n</code></pre>\n"}],"owner":{"account_id":403449,"reputation":4350,"user_id":771217,"accept_rate":79,"display_name":"Wrench"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7556,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1687125235,"creation_date":1488817644,"question_id":42630661,"body_markdown":"I&#39;m bootstrapping a database using [hibernate-maven-plugin][1], using models that it scans in the maven module it&#39;s executed in.\r\n\r\nUnfortunately, it stops when hibernate throws this:\r\n\r\n    org.hibernate.tool.schema.spi.SchemaManagementException: SQL strings added more than once for: reference_data_source.UK-UK_9ec6wdvyj3mjagiptcnrq2txv\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.checkExportIdentifier(SchemaCreatorImpl.java:299)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:255)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128)\r\n\tat org.hibernate.tool.hbm2ddl.SchemaExport.&lt;init&gt;(SchemaExport.java:199)\r\n\r\nSo, I have two persistence units, and some tables exists in both. Hibernate seems to interpret this like the same table though, so when it tries to store the same index, but for another schema, it fails thinking it is a duplicate. Their code can be found [here][2].\r\n\r\nI&#39;m not sure how to approach this, anyway to configure hibernate hbm2ddl to keep track of these different peristence units?\r\n\r\nThis is the configuration for the hibernate-maven-plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;de.juplo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;detail&gt;true&lt;/detail&gt;\r\n            &lt;persistenceUnit&gt;mainPersistenceUnit&lt;/persistenceUnit&gt;\r\n            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n            &lt;dialect&gt;org.hibernate.dialect.MySQL5Dialect&lt;/dialect&gt;\r\n            &lt;force&gt;true&lt;/force&gt;\r\n            &lt;url&gt;&lt;![CDATA[jdbc:mysql://localhost/auto_bootstrap_schema]]&gt;&lt;/url&gt;\r\n            &lt;username&gt;user&lt;/username&gt;\r\n            &lt;password&gt;pass&lt;/password&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;create&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${mysql-connector-java.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: http://juplo.de/hibernate-maven-plugin/\r\n  [2]: https://github.com/hibernate/hibernate-orm/blob/f82dd465b124f00df58a30a1faf9d0d0d2287685/hibernate-core/src/main/java/org/hibernate/tool/schema/internal/SchemaCreatorImpl.java","title":"SQL strings added more than once for: tablename","body":"<p>I'm bootstrapping a database using <a href=\"http://juplo.de/hibernate-maven-plugin/\" rel=\"noreferrer\">hibernate-maven-plugin</a>, using models that it scans in the maven module it's executed in.</p>\n\n<p>Unfortunately, it stops when hibernate throws this:</p>\n\n<pre><code>org.hibernate.tool.schema.spi.SchemaManagementException: SQL strings added more than once for: reference_data_source.UK-UK_9ec6wdvyj3mjagiptcnrq2txv\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.checkExportIdentifier(SchemaCreatorImpl.java:299)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:255)\nat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128)\nat org.hibernate.tool.hbm2ddl.SchemaExport.&lt;init&gt;(SchemaExport.java:199)\n</code></pre>\n\n<p>So, I have two persistence units, and some tables exists in both. Hibernate seems to interpret this like the same table though, so when it tries to store the same index, but for another schema, it fails thinking it is a duplicate. Their code can be found <a href=\"https://github.com/hibernate/hibernate-orm/blob/f82dd465b124f00df58a30a1faf9d0d0d2287685/hibernate-core/src/main/java/org/hibernate/tool/schema/internal/SchemaCreatorImpl.java\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I'm not sure how to approach this, anyway to configure hibernate hbm2ddl to keep track of these different peristence units?</p>\n\n<p>This is the configuration for the hibernate-maven-plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;de.juplo&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;detail&gt;true&lt;/detail&gt;\n        &lt;persistenceUnit&gt;mainPersistenceUnit&lt;/persistenceUnit&gt;\n        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n        &lt;dialect&gt;org.hibernate.dialect.MySQL5Dialect&lt;/dialect&gt;\n        &lt;force&gt;true&lt;/force&gt;\n        &lt;url&gt;&lt;![CDATA[jdbc:mysql://localhost/auto_bootstrap_schema]]&gt;&lt;/url&gt;\n        &lt;username&gt;user&lt;/username&gt;\n        &lt;password&gt;pass&lt;/password&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;create&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;${mysql-connector-java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","memory","garbage-collection"],"comments":[{"owner":{"account_id":2836443,"reputation":804,"user_id":2436969,"display_name":"Artem Viter"},"score":1,"creation_date":1624572420,"post_id":68116359,"comment_id":120402831,"body_markdown":"What does your app do in background ( all time before freezing )? Why app allocates a lot of memory for which objects ?","body":"What does your app do in background ( all time before freezing )? Why app allocates a lot of memory for which objects ?"}],"answers":[{"tags":[],"owner":{"account_id":20013596,"reputation":1154,"user_id":14670123,"display_name":"Thanasis M"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1625489155,"creation_date":1625489155,"answer_id":68256411,"question_id":68116359,"body_markdown":"I solved the problem, it turns out that a colleague of mine had created a new thread that kept being alive even when idle. As a result, the message &quot;Background young concurrent copying GC freed&quot; appeared and the device gradually started running out of memory. So, for anyone that observes the same messages or behavior I would suggest they check analytically their app&#39;s memory consumption and especially the multi-threaded functionalities.","title":"App freezes when idle after &quot;Background concurrent copying GC freed&quot; log messages","body":"<p>I solved the problem, it turns out that a colleague of mine had created a new thread that kept being alive even when idle. As a result, the message &quot;Background young concurrent copying GC freed&quot; appeared and the device gradually started running out of memory. So, for anyone that observes the same messages or behavior I would suggest they check analytically their app's memory consumption and especially the multi-threaded functionalities.</p>\n"},{"tags":[],"owner":{"account_id":13654567,"reputation":111,"user_id":9851480,"display_name":"Abdulkerim Yldrm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640685939,"creation_date":1640685939,"answer_id":70505528,"question_id":68116359,"body_markdown":"When the same situation happened to me, I noticed that when I tried to use my ListenerRegistrations that were listening to data in firebase again\r\nFor example;\r\n\r\n    private var dataListener: ListenerRegistration? = null\r\n\r\nBefore operating this object after making a definition in the form of\r\n\r\n    dataListener?.remove()\r\n    dataListener= null\r\n\r\ndo it. And now you can use this object again for different or same purpose","title":"App freezes when idle after &quot;Background concurrent copying GC freed&quot; log messages","body":"<p>When the same situation happened to me, I noticed that when I tried to use my ListenerRegistrations that were listening to data in firebase again\nFor example;</p>\n<pre><code>private var dataListener: ListenerRegistration? = null\n</code></pre>\n<p>Before operating this object after making a definition in the form of</p>\n<pre><code>dataListener?.remove()\ndataListener= null\n</code></pre>\n<p>do it. And now you can use this object again for different or same purpose</p>\n"}],"owner":{"account_id":20013596,"reputation":1154,"user_id":14670123,"display_name":"Thanasis M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68256411,"answer_count":2,"score":2,"last_activity_date":1687124781,"creation_date":1624539849,"question_id":68116359,"body_markdown":"**Steps to reproduce the problem:**\r\n\r\nThe way I reproduce this problem is\r\n\r\n 1. I run my android application &amp; I enter the MainActivity\r\n 2. I leave my phone idle for about ten minutes or more, having configured the device in its settings to not sleep if idle less than 30 minutes.\r\n 3. While waiting, in Android Studio&#39;s &quot;Run&quot; tab I see messages such as this one: \r\n\r\n&gt; Background concurrent copying GC freed 237478(18MB) AllocSpace objects, 52(1756KB) LOS objects, 69% free, 5507KB/17MB, paused 217us total 164.170ms\r\n\r\n 4. After 5 to 10 messages as the one above, I see this couple of messages:\r\n\r\n&gt; Background concurrent copying GC freed 257288(11MB) AllocSpace objects, 0(0B) LOS objects, 66% free, 6204KB/18MB, paused 86us total 165.671ms\r\n\r\n&gt; Background young concurrent copying GC freed 217214(10MB) AllocSpace objects, 0(0B) LOS objects, 56% free, 8108KB/18MB, paused 112us total 129.379ms\r\n\r\n 5. If I wait more, I keep receiving the above couple of messages and if I touch the screen nothing is interactable and the whole app seems frozen. Also, the device&#39;s &quot;Home&quot; &amp; &quot;Back&quot; buttons don&#39;t do anything. If I minimize the app when I try to maximize it again there&#39;s a great delay and when the app finally opens, everything keeps not responding (buttons don&#39;t do anything and you can&#39;t even scroll). So, I am forced to kill the app.\r\n\r\n**Observations &amp; Notes:**\r\n\r\n- The problem described in the above steps doesn&#39;t always occur. But, when I try to reproduce it, it occurs about half of the times that the app is run.\r\n\r\n- I have run my app using the profiler while reproducing the problem and the memory consumption remains at the same level from start to finish, throughout all the above steps.\r\n\r\n- Keep in mind that I have seen and reproduced this problem in a Xiaomi Mi A2 Lite device, which has only 3GB RAM. I haven&#39;t tried to reproduce it in any other devices.\r\n\r\n- The Activity where this problem occurs contains some views with many images. When I don&#39;t populate some views from the Activity&#39;s layout with any images, then the above log messages report more free memory percentage. The problem still occurs at times but you have to leave the phone idle for much more time for the app to freeze. Also, the greater the size of the images is, the easier it is for this problem to be reproduced.\r\n\r\n**My conclusion:**\r\n\r\nI&#39;ve observed that when I receive the above log messages the free memory percentage gradually decreases and the app starts freezing when it reaches values below 60%. So, I assume that the device&#39;s memory can&#39;t handle that much data and that&#39;s why the garbage collector keeps reallocating the memory for optimization purposes. Of course, the easiest solution would be to have a device with more memory or use less and smaller size images, but I&#39;d prefer a more robust solution.\r\n\r\n**Questions:**\r\n\r\n1. I&#39;d like to know if someone else has observed this same kind of behavior in their app and how they have dealt with it.\r\n\r\n2. In the beginning I receive log messages that start with &quot;Background concurrent copying GC freed&quot; (see step 3) and after a bunch of them I receive the couple of messages (see step 4) where the first message starts with &quot;Background concurrent copying GC freed&quot; and the second message starts with &quot;Background young concurrent copying GC freed&quot;. Does that **&quot;young concurrent&quot;** mean anything different or should I ignore this change? \r\n\r\n3. Is there any other tool that may help me investigate this matter any further?\r\n\r\n","title":"App freezes when idle after &quot;Background concurrent copying GC freed&quot; log messages","body":"<p><strong>Steps to reproduce the problem:</strong></p>\n<p>The way I reproduce this problem is</p>\n<ol>\n<li>I run my android application &amp; I enter the MainActivity</li>\n<li>I leave my phone idle for about ten minutes or more, having configured the device in its settings to not sleep if idle less than 30 minutes.</li>\n<li>While waiting, in Android Studio's &quot;Run&quot; tab I see messages such as this one:</li>\n</ol>\n<blockquote>\n<p>Background concurrent copying GC freed 237478(18MB) AllocSpace objects, 52(1756KB) LOS objects, 69% free, 5507KB/17MB, paused 217us total 164.170ms</p>\n</blockquote>\n<ol start=\"4\">\n<li>After 5 to 10 messages as the one above, I see this couple of messages:</li>\n</ol>\n<blockquote>\n<p>Background concurrent copying GC freed 257288(11MB) AllocSpace objects, 0(0B) LOS objects, 66% free, 6204KB/18MB, paused 86us total 165.671ms</p>\n</blockquote>\n<blockquote>\n<p>Background young concurrent copying GC freed 217214(10MB) AllocSpace objects, 0(0B) LOS objects, 56% free, 8108KB/18MB, paused 112us total 129.379ms</p>\n</blockquote>\n<ol start=\"5\">\n<li>If I wait more, I keep receiving the above couple of messages and if I touch the screen nothing is interactable and the whole app seems frozen. Also, the device's &quot;Home&quot; &amp; &quot;Back&quot; buttons don't do anything. If I minimize the app when I try to maximize it again there's a great delay and when the app finally opens, everything keeps not responding (buttons don't do anything and you can't even scroll). So, I am forced to kill the app.</li>\n</ol>\n<p><strong>Observations &amp; Notes:</strong></p>\n<ul>\n<li><p>The problem described in the above steps doesn't always occur. But, when I try to reproduce it, it occurs about half of the times that the app is run.</p>\n</li>\n<li><p>I have run my app using the profiler while reproducing the problem and the memory consumption remains at the same level from start to finish, throughout all the above steps.</p>\n</li>\n<li><p>Keep in mind that I have seen and reproduced this problem in a Xiaomi Mi A2 Lite device, which has only 3GB RAM. I haven't tried to reproduce it in any other devices.</p>\n</li>\n<li><p>The Activity where this problem occurs contains some views with many images. When I don't populate some views from the Activity's layout with any images, then the above log messages report more free memory percentage. The problem still occurs at times but you have to leave the phone idle for much more time for the app to freeze. Also, the greater the size of the images is, the easier it is for this problem to be reproduced.</p>\n</li>\n</ul>\n<p><strong>My conclusion:</strong></p>\n<p>I've observed that when I receive the above log messages the free memory percentage gradually decreases and the app starts freezing when it reaches values below 60%. So, I assume that the device's memory can't handle that much data and that's why the garbage collector keeps reallocating the memory for optimization purposes. Of course, the easiest solution would be to have a device with more memory or use less and smaller size images, but I'd prefer a more robust solution.</p>\n<p><strong>Questions:</strong></p>\n<ol>\n<li><p>I'd like to know if someone else has observed this same kind of behavior in their app and how they have dealt with it.</p>\n</li>\n<li><p>In the beginning I receive log messages that start with &quot;Background concurrent copying GC freed&quot; (see step 3) and after a bunch of them I receive the couple of messages (see step 4) where the first message starts with &quot;Background concurrent copying GC freed&quot; and the second message starts with &quot;Background young concurrent copying GC freed&quot;. Does that <strong>&quot;young concurrent&quot;</strong> mean anything different or should I ignore this change?</p>\n</li>\n<li><p>Is there any other tool that may help me investigate this matter any further?</p>\n</li>\n</ol>\n"},{"tags":["java","user-interface","netbeans","jdatechooser"],"answers":[{"tags":[],"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588713959,"creation_date":1588713959,"answer_id":61623359,"question_id":61612972,"body_markdown":"The problem was that i am using wrong date format, it was YYYY-MM-dd, the correct one is yyyy- MM-dd","title":"Why is the value of jDateChooser back to the default value?","body":"<p>The problem was that i am using wrong date format, it was YYYY-MM-dd, the correct one is yyyy- MM-dd</p>\n"}],"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61623359,"answer_count":1,"score":0,"last_activity_date":1687123789,"creation_date":1588681111,"question_id":61612972,"body_markdown":"I&#39;m using jDateChooser in NetBeans, and when I run the program and choose any date, it is not choosing correctly.\r\nFor example, if I choose 05-05-2020, it shows 29-12-2018.\r\n\r\nAlso, if it catches the selected date, when I press on another item (any button or text field), the date returns to its default.\r\n\r\nI didn&#39;t add any code related to it; I only took it from the tools box and put it on the frame.\r\n\r\nWhat is the problem?","title":"Why is the value of jDateChooser back to the default value?","body":"<p>I'm using jDateChooser in NetBeans, and when I run the program and choose any date, it is not choosing correctly.\nFor example, if I choose 05-05-2020, it shows 29-12-2018.</p>\n<p>Also, if it catches the selected date, when I press on another item (any button or text field), the date returns to its default.</p>\n<p>I didn't add any code related to it; I only took it from the tools box and put it on the frame.</p>\n<p>What is the problem?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":0,"creation_date":1495888952,"post_id":44216467,"comment_id":75444701,"body_markdown":"Maybe a stupid question but did you try Clear App Data and uninstalling the app? Instant Run keeps some weird files in the app Cache folder which caused very strange problems for me once.","body":"Maybe a stupid question but did you try Clear App Data and uninstalling the app? Instant Run keeps some weird files in the app Cache folder which caused very strange problems for me once."},{"owner":{"account_id":6270988,"reputation":1765,"user_id":4875245,"accept_rate":40,"display_name":"GS Nayma"},"score":0,"creation_date":1583001977,"post_id":44216467,"comment_id":106973124,"body_markdown":"my answer here may help https://stackoverflow.com/a/60468450/4875245","body":"my answer here may help <a href=\"https://stackoverflow.com/a/60468450/4875245\">stackoverflow.com/a/60468450/4875245</a>"}],"answers":[{"tags":[],"owner":{"account_id":2434235,"reputation":74,"user_id":2124532,"display_name":"Leonid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504354402,"creation_date":1504354402,"answer_id":46013653,"question_id":44216467,"body_markdown":"I has the same problem and none of recommended methods worked. Since at least in my case application still launched on emulator/phone, so I figured, that debugging still possible if you use Run-&gt;Attach debugger to android process. The problem is that it was hard to debug startup errors. \r\nIn that case the following method works:\r\n\r\n 1. run-&gt;debug app (or shift+f9) \r\n 2. On phone message &quot;Waiting For\r\n    Debugger&quot; pops up instead of launching application (don&#39;t click\r\n    anything!!!!) \r\n 3. Run-&gt;Attach debugger to android process \r\n 4. Wait a bit \r\n 5. Application launches with debugger attached\r\n\r\nThat&#39;s a workaround, but worked for me. Hope that will help.","title":"Android Studio: Session &#39;app&#39;: Error Launching Activity","body":"<p>I has the same problem and none of recommended methods worked. Since at least in my case application still launched on emulator/phone, so I figured, that debugging still possible if you use Run->Attach debugger to android process. The problem is that it was hard to debug startup errors. \nIn that case the following method works:</p>\n\n<ol>\n<li>run->debug app (or shift+f9) </li>\n<li>On phone message \"Waiting For\nDebugger\" pops up instead of launching application (don't click\nanything!!!!) </li>\n<li>Run->Attach debugger to android process </li>\n<li>Wait a bit </li>\n<li>Application launches with debugger attached</li>\n</ol>\n\n<p>That's a workaround, but worked for me. Hope that will help.</p>\n"},{"tags":[],"owner":{"account_id":3015149,"reputation":31,"user_id":4055755,"display_name":"Mahendren GANESAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523178044,"creation_date":1523178044,"answer_id":49716196,"question_id":44216467,"body_markdown":"I had the similar Problem while debugging through my Mobile phone...\r\nI had followed number of posts but nothing worked out for me... then, I did manual uninstall of the previously installed app from Mobile manually... then all works as expected!!","title":"Android Studio: Session &#39;app&#39;: Error Launching Activity","body":"<p>I had the similar Problem while debugging through my Mobile phone...\nI had followed number of posts but nothing worked out for me... then, I did manual uninstall of the previously installed app from Mobile manually... then all works as expected!!</p>\n"}],"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687123692,"creation_date":1495885664,"question_id":44216467,"body_markdown":"I have a problem with Android Studio. When I run the app, I get the following error:\r\n\r\n    $ adb shell am start -n &quot;com.ta94.xahmad.theerror/com.ta94.xahmad.theerror.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\n    Error while executing: am start -n &quot;com.ta94.xahmad.theerror/com.ta94.xahmad.theerror.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\n    Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.ta94.xahmad.theerror/.MainActivity }\r\n    \r\n    Error while Launching activity\r\n\r\nI tried every solution on StackOverflow, but nothing worked.\r\nI would like to tell you that this happens to every project, for example if I created a new project and didn&#39;t do anything but click Run, I also had the following error\r\n\r\nI tried the following:\r\n\r\n 1. Reinstalled Android Studio\r\n 2. Updated SDK\r\n 3.  Cleaned the project\r\n 4. Unchecked Instant Run\r\n 5. Rebuilt the project\r\n 6. Changed the folder of projects\r\n 7. Deleted .gradle and .idea and recreated\r\n 8. Edit Configuration &gt; Install Flags&gt; -r\r\n\r\nBut nothing works ...\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\nManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.ta94.xahmad.theerror&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nLayout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.ta94.xahmad.theerror.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8EtOx.png","title":"Android Studio: Session &#39;app&#39;: Error Launching Activity","body":"<p>I have a problem with Android Studio. When I run the app, I get the following error:</p>\n<pre><code>$ adb shell am start -n &quot;com.ta94.xahmad.theerror/com.ta94.xahmad.theerror.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nError while executing: am start -n &quot;com.ta94.xahmad.theerror/com.ta94.xahmad.theerror.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nStarting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.ta94.xahmad.theerror/.MainActivity }\n\nError while Launching activity\n</code></pre>\n<p>I tried every solution on StackOverflow, but nothing worked.\nI would like to tell you that this happens to every project, for example if I created a new project and didn't do anything but click Run, I also had the following error</p>\n<p>I tried the following:</p>\n<ol>\n<li>Reinstalled Android Studio</li>\n<li>Updated SDK</li>\n<li>Cleaned the project</li>\n<li>Unchecked Instant Run</li>\n<li>Rebuilt the project</li>\n<li>Changed the folder of projects</li>\n<li>Deleted .gradle and .idea and recreated</li>\n<li>Edit Configuration &gt; Install Flags&gt; -r</li>\n</ol>\n<p>But nothing works ...</p>\n<p><a href=\"https://i.stack.imgur.com/8EtOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8EtOx.png\" alt=\"Screenshot\" /></a></p>\n<p>Manifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.ta94.xahmad.theerror&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.ta94.xahmad.theerror.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android","mobile-application"],"comments":[{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":2,"creation_date":1494349009,"post_id":43875707,"comment_id":74786336,"body_markdown":"https://stackoverflow.com/help/how-to-ask","body":"<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":4101523,"reputation":1355,"user_id":3366932,"accept_rate":57,"display_name":"Araymer"},"score":0,"creation_date":1494349155,"post_id":43875707,"comment_id":74786421,"body_markdown":"You need to give some information to go on. You are likely doing something poorly in the code.","body":"You need to give some information to go on. You are likely doing something poorly in the code."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1494400842,"post_id":43875707,"comment_id":74806040,"body_markdown":"You first activity is light, no risk there. Never used `android.support.constraint.ConstraintLayout` but I would not think this would kill the perfs. So what are you doing in the second activity and of course, what is slow ? And what about in the emulator ?","body":"You first activity is light, no risk there. Never used <code>android.support.constraint.ConstraintLayout</code> but I would not think this would kill the perfs. So what are you doing in the second activity and of course, what is slow ? And what about in the emulator ?"},{"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"score":0,"creation_date":1494403874,"post_id":43875707,"comment_id":74807923,"body_markdown":"Buttons, loading activities, writing, everything is slow..\nsomeone told me that the problem may be caused because of Memory Heap .. but i don&#39;t really know how to change it","body":"Buttons, loading activities, writing, everything is slow.. someone told me that the problem may be caused because of Memory Heap .. but i don&#39;t really know how to change it"}],"answers":[{"tags":[],"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1494612850,"creation_date":1494612850,"answer_id":43944105,"question_id":43875707,"body_markdown":"Finally i solved the problem.. i had a mistake in resize of background (to fit screens).\r\n","title":"Why is my Android Studio application working slowly on smartphones?","body":"<p>Finally i solved the problem.. i had a mistake in resize of background (to fit screens).</p>\n"}],"owner":{"account_id":10863174,"reputation":315,"user_id":7987455,"display_name":"Ahmad Abdelbaset"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":43944105,"answer_count":1,"score":-3,"last_activity_date":1687123556,"creation_date":1494348933,"question_id":43875707,"body_markdown":"I am a beginner programmer on Android, and when I create an app and install it on my real phone or other phones, it works very slowly (I don&#39;t talk about emulators).\r\n - The size of file is only 3 MB\r\n - This happens to all applications that i make \r\n - I cleaned the cache and the project before building\r\nThe devices that I installed the application on :HTC 630, Samsung Galaxy S7, and Samsung Duos J1.\r\nany idea?\r\n\r\n\r\n\r\n\r\n               &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/bcc&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;495dp&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n    \r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n    \r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;@dimen/edge&quot;\r\n                android:layout_marginTop=&quot;@dimen/edge&quot;\r\n                android:text=&quot;Enter your name:&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:textSize=&quot;@dimen/fsize&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;@dimen/edge&quot;\r\n                android:ems=&quot;10&quot;\r\n                android:inputType=&quot;textPersonName&quot;\r\n                android:textColor=&quot;#FFFFFF&quot;\r\n                android:textSize=&quot;@dimen/fsize&quot;\r\n                tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/button2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;@dimen/edge&quot;\r\n                android:layout_marginRight=&quot;@dimen/edge&quot;\r\n    \r\n                android:onClick=&quot;nxt&quot;\r\n                android:text=&quot;Next&quot;\r\n                android:textSize=&quot;@dimen/fsize&quot;\r\n                tools:layout_editor_absoluteX=&quot;38dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n\r\njava code:\r\n\r\n\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void nxt(View view) {\r\n    \r\n            EditText name =(EditText)findViewById(R.id.editText2);\r\n            Intent txtint= new Intent(this,Main2Activity.class);\r\n            Bundle b = new Bundle();\r\n    \r\n            b.putString(&quot;user&quot;,name.getText().toString());\r\n            txtint.putExtras(b);\r\n    \r\n    \r\n            startActivity(txtint);\r\n        }\r\n    }","title":"Why is my Android Studio application working slowly on smartphones?","body":"<p>I am a beginner programmer on Android, and when I create an app and install it on my real phone or other phones, it works very slowly (I don't talk about emulators).</p>\n<ul>\n<li><p>The size of file is only 3 MB</p>\n</li>\n<li><p>This happens to all applications that i make</p>\n</li>\n<li><p>I cleaned the cache and the project before building\nThe devices that I installed the application on :HTC 630, Samsung Galaxy S7, and Samsung Duos J1.\nany idea?</p>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p>&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@drawable/bcc&quot;&gt;</p>\n<pre><code> &lt;LinearLayout\n     android:layout_width=&quot;0dp&quot;\n     android:layout_height=&quot;495dp&quot;\n     android:orientation=&quot;vertical&quot;\n\n     app:layout_constraintStart_toStartOf=&quot;parent&quot;\n     app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n\n\n     &lt;TextView\n         android:id=&quot;@+id/textView2&quot;\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;wrap_content&quot;\n         android:layout_marginLeft=&quot;@dimen/edge&quot;\n         android:layout_marginTop=&quot;@dimen/edge&quot;\n         android:text=&quot;Enter your name:&quot;\n         android:textColor=&quot;#FFFFFF&quot;\n         android:textSize=&quot;@dimen/fsize&quot;\n         android:textStyle=&quot;bold&quot;\n         tools:layout_editor_absoluteX=&quot;0dp&quot;\n         tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\n\n     &lt;EditText\n         android:id=&quot;@+id/editText2&quot;\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;wrap_content&quot;\n         android:layout_margin=&quot;@dimen/edge&quot;\n         android:ems=&quot;10&quot;\n         android:inputType=&quot;textPersonName&quot;\n         android:textColor=&quot;#FFFFFF&quot;\n         android:textSize=&quot;@dimen/fsize&quot;\n         tools:layout_editor_absoluteX=&quot;0dp&quot;\n         tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\n\n     &lt;Button\n         android:id=&quot;@+id/button2&quot;\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;wrap_content&quot;\n         android:layout_marginLeft=&quot;@dimen/edge&quot;\n         android:layout_marginRight=&quot;@dimen/edge&quot;\n\n         android:onClick=&quot;nxt&quot;\n         android:text=&quot;Next&quot;\n         android:textSize=&quot;@dimen/fsize&quot;\n         tools:layout_editor_absoluteX=&quot;38dp&quot;\n         tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\n &lt;/LinearLayout&gt;\n</code></pre>\n<p>&lt;/android.support.constraint.ConstraintLayout&gt;</p>\n</li>\n</ul>\n<p>java code:</p>\n<pre><code>import android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void nxt(View view) {\n\n        EditText name =(EditText)findViewById(R.id.editText2);\n        Intent txtint= new Intent(this,Main2Activity.class);\n        Bundle b = new Bundle();\n\n        b.putString(&quot;user&quot;,name.getText().toString());\n        txtint.putExtras(b);\n\n\n        startActivity(txtint);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","gson","marshalling"],"answers":[{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1687207965,"post_id":76502534,"comment_id":134901816,"body_markdown":"&quot;will skip the null value in the JSON output&quot;; to add some additional information: By default Gson omits fields with null values during serialization, see also [`GsonBuilder.serializeNulls()`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#serializeNulls())","body":"&quot;will skip the null value in the JSON output&quot;; to add some additional information: By default Gson omits fields with null values during serialization, see also <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#serializeNulls()\" rel=\"nofollow noreferrer\"><code>GsonBuilder.serializeNulls()</code></a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1687208086,"post_id":76502534,"comment_id":134901834,"body_markdown":"If during reading the value can be an explicit JSON `null` value, you have to adjust the `read` method by adding a `peek() == JsonToken.NULL` check, consuming the null with `nextNull()` and returning a Java `null`, see also [`TypeAdapter.nullSafe()`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html#nullSafe())","body":"If during reading the value can be an explicit JSON <code>null</code> value, you have to adjust the <code>read</code> method by adding a <code>peek() == JsonToken.NULL</code> check, consuming the null with <code>nextNull()</code> and returning a Java <code>null</code>, see also <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html#nullSafe()\" rel=\"nofollow noreferrer\"><code>TypeAdapter.nullSafe()</code></a>"}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687122534,"creation_date":1687122534,"answer_id":76502534,"question_id":76502368,"body_markdown":"It&#39;s easy, I think you can modify your `TypeAdapter` to check if the instant value is null and not write it to the `JSON` output\r\n\r\nlet me explain with a simple example, first, in `write` method, I check if the `Instant` value is null and write a null value instead of the epoch milliseconds, that will skip the null value in the JSON output and in the `read` method, I still check for the special case of `-1L` to convert it to null\r\n\r\n\r\n    gsonBuilder.registerTypeAdapter(Instant.class, new TypeAdapter&lt;Instant&gt;() {\r\n        @Override\r\n        public void write(final JsonWriter jsonWriter, final Instant instant) throws IOException {\r\n            if (instant != null) {\r\n                jsonWriter.value(instant.toEpochMilli());\r\n            } else {\r\n                jsonWriter.nullValue();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Instant read(final JsonReader jsonReader) throws IOException {\r\n            long millisEpoch = jsonReader.nextLong();\r\n            if (millisEpoch == -1) {\r\n                return null;\r\n            } else {\r\n                return Instant.ofEpochMilli(millisEpoch);\r\n            }\r\n        }\r\n    });\r\n\r\ngood luck!","title":"How to skip null values in json text produced by gson, if TypeAdapter converts null-value?","body":"<p>It's easy, I think you can modify your <code>TypeAdapter</code> to check if the instant value is null and not write it to the <code>JSON</code> output</p>\n<p>let me explain with a simple example, first, in <code>write</code> method, I check if the <code>Instant</code> value is null and write a null value instead of the epoch milliseconds, that will skip the null value in the JSON output and in the <code>read</code> method, I still check for the special case of <code>-1L</code> to convert it to null</p>\n<pre><code>gsonBuilder.registerTypeAdapter(Instant.class, new TypeAdapter&lt;Instant&gt;() {\n    @Override\n    public void write(final JsonWriter jsonWriter, final Instant instant) throws IOException {\n        if (instant != null) {\n            jsonWriter.value(instant.toEpochMilli());\n        } else {\n            jsonWriter.nullValue();\n        }\n    }\n\n    @Override\n    public Instant read(final JsonReader jsonReader) throws IOException {\n        long millisEpoch = jsonReader.nextLong();\n        if (millisEpoch == -1) {\n            return null;\n        } else {\n            return Instant.ofEpochMilli(millisEpoch);\n        }\n    }\n});\n</code></pre>\n<p>good luck!</p>\n"}],"owner":{"account_id":7522842,"reputation":3473,"user_id":8082162,"accept_rate":71,"display_name":"aschoerk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76502534,"answer_count":1,"score":0,"last_activity_date":1687122534,"creation_date":1687119141,"question_id":76502368,"body_markdown":"I created a TypeAdapter for the Type Instant by writing milliseconds.\r\nHow can I handle the case of the instant-field to be null.\r\nI do not want to write a kind of special entry like -1L, which I later could convert to null during reading (see example below).\r\nI want to skip the entry in the produced json-text as it is the default case.\r\n\r\nExample:\r\n```\r\ngsonBuilder.registerTypeAdapter(Instant.class, new TypeAdapter&lt;Instant&gt;(){\r\n            @Override\r\n            public void write(final JsonWriter jsonWriter, final Instant instant) throws IOException {\r\n                if (instant != null) {\r\n                    jsonWriter.value(instant.toEpochMilli());\r\n                } else {\r\n                    jsonWriter.value(-1L);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Instant read(final JsonReader jsonReader) throws IOException {\r\n                long millisEpoch = jsonReader.nextLong();\r\n                if (millisEpoch == -1) {\r\n                    return null;\r\n                } else {\r\n                    return Instant.ofEpochMilli(millisEpoch);\r\n                }\r\n            }\r\n        });\r\n```\r\n","title":"How to skip null values in json text produced by gson, if TypeAdapter converts null-value?","body":"<p>I created a TypeAdapter for the Type Instant by writing milliseconds.\nHow can I handle the case of the instant-field to be null.\nI do not want to write a kind of special entry like -1L, which I later could convert to null during reading (see example below).\nI want to skip the entry in the produced json-text as it is the default case.</p>\n<p>Example:</p>\n<pre><code>gsonBuilder.registerTypeAdapter(Instant.class, new TypeAdapter&lt;Instant&gt;(){\n            @Override\n            public void write(final JsonWriter jsonWriter, final Instant instant) throws IOException {\n                if (instant != null) {\n                    jsonWriter.value(instant.toEpochMilli());\n                } else {\n                    jsonWriter.value(-1L);\n                }\n            }\n\n            @Override\n            public Instant read(final JsonReader jsonReader) throws IOException {\n                long millisEpoch = jsonReader.nextLong();\n                if (millisEpoch == -1) {\n                    return null;\n                } else {\n                    return Instant.ofEpochMilli(millisEpoch);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687152457,"post_id":76502530,"comment_id":134891371,"body_markdown":"I don&#39;t think `@applicationName` is a correct name. It should point to your extended `Application` class. If you haven&#39;t implemented it, `android:name` isn&#39;t necessary.","body":"I don&#39;t think <code>@applicationName</code> is a correct name. It should point to your extended <code>Application</code> class. If you haven&#39;t implemented it, <code>android:name</code> isn&#39;t necessary."}],"owner":{"account_id":28846765,"reputation":1,"user_id":22093594,"display_name":"Arsalan Ahsan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687122504,"creation_date":1687122504,"question_id":76502530,"body_markdown":"I am building flutter application. when i try to run the application on to my phone through Android Studio. I get the following error\r\n\r\npackaged_manifests/debug/AndroidManifest.xml:28: AAPT: error: attribute &#39;android:name&#39; in &lt;application&gt; tag must be a valid Java class name.\r\n\r\nI have searched online and was not able to resolve it. I have tried changing the application name to &quot;${applicationName}&quot; but nothing works, it switches back to default as seen in the code below. It seems like the AndroidManifest mentioned in the error is the debug one as it has a heading on Debug/AndroidManifest.xml. I have tried the regular Android Manifest to copy the application name but the error still persist. new to flutter and would appreciate step by step help.\r\n\r\n\r\n     &lt;application\r\n        android:name=&quot;com.example.flutter_auth.@applicationName&quot;\r\n        android:appComponentFactory=&quot;androidx.core.app.CoreComponentFactory&quot;\r\n        android:debuggable=&quot;true&quot;\r\n        android:extractNativeLibs=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;flutter_auth&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;com.example.flutter_auth.MainActivity&quot;\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n\r\ni have change the application name to &quot;$applicationName} and also copied the name from the regular manifest. ","title":"AAPT: error: attribute &#39;android:name&#39; in &lt;application&gt; tag must be a valid Java class name","body":"<p>I am building flutter application. when i try to run the application on to my phone through Android Studio. I get the following error</p>\n<p>packaged_manifests/debug/AndroidManifest.xml:28: AAPT: error: attribute 'android:name' in  tag must be a valid Java class name.</p>\n<p>I have searched online and was not able to resolve it. I have tried changing the application name to &quot;${applicationName}&quot; but nothing works, it switches back to default as seen in the code below. It seems like the AndroidManifest mentioned in the error is the debug one as it has a heading on Debug/AndroidManifest.xml. I have tried the regular Android Manifest to copy the application name but the error still persist. new to flutter and would appreciate step by step help.</p>\n<pre><code> &lt;application\n    android:name=&quot;com.example.flutter_auth.@applicationName&quot;\n    android:appComponentFactory=&quot;androidx.core.app.CoreComponentFactory&quot;\n    android:debuggable=&quot;true&quot;\n    android:extractNativeLibs=&quot;false&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;flutter_auth&quot; &gt;\n    &lt;activity\n        android:name=&quot;com.example.flutter_auth.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n        android:exported=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:launchMode=&quot;singleTop&quot;\n        android:theme=&quot;@style/LaunchTheme&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<p>i have change the application name to &quot;$applicationName} and also copied the name from the regular manifest.</p>\n"},{"tags":["java","android-studio","mobile-application","android-studio-2.2","android-studio-2.3"],"owner":{"account_id":20879834,"reputation":1,"user_id":15337857,"display_name":"Summaiya Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687121674,"creation_date":1687116271,"question_id":76502202,"body_markdown":"I am trying to send some text and an image through implicit intent from 1st app to 2nd app .the text is sent from 1st app to 2nd app and it&#39;s showing on my 2nd app but the image isn&#39;t showing on my 2nd app.\r\n\r\n\r\n\r\nthis is the app1 java code (sending intent ) I have tried. \r\n\r\n```\r\n`\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void process(View view) {\r\n        if (view.getId() == R.id.sharebtn) {\r\n            Uri imageUri = Uri.parse(&quot;android.resource://com.example.lab6_implicitintent/drawable/jasmine&quot;);\r\n            Intent intent = new Intent(Intent.ACTION_SEND);\r\n            intent.setType(&quot;image/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_STREAM, imageUri);\r\n            intent.putExtra(Intent.EXTRA_TEXT, &quot;Hey, my name is summaiya&quot;);\r\n            startActivity(Intent.createChooser(intent, &quot;Send image to&quot;));\r\n        }\r\n    }\r\n}`\r\n```\r\n\r\n\r\nthis is app 2 code (receiving intent).\r\n\r\n```\r\n\r\n`public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Receive the intent\r\n        Intent receivedIntent = getIntent();\r\n        String receivedText = receivedIntent.getStringExtra(Intent.EXTRA_TEXT);\r\n        Uri receivedImageUri = receivedIntent.getParcelableExtra(Intent.EXTRA_STREAM);\r\n\r\n        // Display the received text in a TextView\r\n        TextView textView = findViewById(R.id.textView);\r\n        textView.setText(receivedText);\r\n\r\n        // Display the received image in an ImageView\r\n        ImageView imageView = findViewById(R.id.imageView);\r\n        imageView.setImageURI(receivedImageUri);\r\n    }\r\n}\r\n```\r\n","title":"sending image from 1st app to 2nd app using implicit intent","body":"<p>I am trying to send some text and an image through implicit intent from 1st app to 2nd app .the text is sent from 1st app to 2nd app and it's showing on my 2nd app but the image isn't showing on my 2nd app.</p>\n<p>this is the app1 java code (sending intent ) I have tried.</p>\n<pre><code>`\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void process(View view) {\n        if (view.getId() == R.id.sharebtn) {\n            Uri imageUri = Uri.parse(&quot;android.resource://com.example.lab6_implicitintent/drawable/jasmine&quot;);\n            Intent intent = new Intent(Intent.ACTION_SEND);\n            intent.setType(&quot;image/*&quot;);\n            intent.putExtra(Intent.EXTRA_STREAM, imageUri);\n            intent.putExtra(Intent.EXTRA_TEXT, &quot;Hey, my name is summaiya&quot;);\n            startActivity(Intent.createChooser(intent, &quot;Send image to&quot;));\n        }\n    }\n}`\n</code></pre>\n<p>this is app 2 code (receiving intent).</p>\n<pre><code>\n`public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Receive the intent\n        Intent receivedIntent = getIntent();\n        String receivedText = receivedIntent.getStringExtra(Intent.EXTRA_TEXT);\n        Uri receivedImageUri = receivedIntent.getParcelableExtra(Intent.EXTRA_STREAM);\n\n        // Display the received text in a TextView\n        TextView textView = findViewById(R.id.textView);\n        textView.setText(receivedText);\n\n        // Display the received image in an ImageView\n        ImageView imageView = findViewById(R.id.imageView);\n        imageView.setImageURI(receivedImageUri);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","webdriverwait","mousehover"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687087662,"post_id":76500207,"comment_id":134885427,"body_markdown":"*Element is not currently visible and may not be manipulated* Looks like the option is not there opr the  select field is disabled?","body":"<i>Element is not currently visible and may not be manipulated</i> Looks like the option is not there opr the  select field is disabled?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687112226,"creation_date":1687112226,"answer_id":76501972,"question_id":76500207,"body_markdown":"Though the `&lt;option&gt;` with text _**Code 128 (standard)**_ is within the [tag:html-select] tag but the `&lt;select&gt;` tag contains the attribute [`style=&quot;display: none;&quot;`](https://stackoverflow.com/a/50852370/7429447):\r\n\r\n\t&lt;select style=&quot;color: rgb(0, 0, 0); display: none;&quot; id=&quot;code_selector&quot;&gt;\r\n\t\r\nHence Selenium won&#39;t be able to interact with it.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click on the element with text with text _**Code 128 (standard)**_ you need to [_Mouse Hover_](https://stackoverflow.com/a/47261894/7429447) the parent element and then click on the `&lt;button&gt;` with text _**Create Barcode**_ and you can use the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Code Block:\r\n\r\n\t  driver.get(&quot;https://www.barcode-generator.org/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a.iubenda-cs-close-btn&quot;))).click();\r\n\t  new Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;figure#code_figure_20&quot;)))).build().perform();\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class=&#39;create-overlay&#39;]//div[@class=&#39;inner-cell&#39;]//button[@data-choose=&#39;20&#39; and contains(., &#39;Create Barcode&#39;)]&quot;))).click();\r\n\r\n- Browser Snapshot:\r\n\r\n![Code 128 (standard)](https://i.stack.imgur.com/Qtvgo.png)","title":"selenium.ElementNotInteractableException: element not interactable: Element is not currently visible and may not be manipulated error Selenium Java","body":"<p>Though the <code>&lt;option&gt;</code> with text <em><strong>Code 128 (standard)</strong></em> is within the <a href=\"/questions/tagged/html-select\" class=\"post-tag\" title=\"show questions tagged &#39;html-select&#39;\" aria-label=\"show questions tagged &#39;html-select&#39;\" rel=\"tag\" aria-labelledby=\"tag-html-select-tooltip-container\">html-select</a> tag but the <code>&lt;select&gt;</code> tag contains the attribute <a href=\"https://stackoverflow.com/a/50852370/7429447\"><code>style=&quot;display: none;&quot;</code></a>:</p>\n<pre><code>&lt;select style=&quot;color: rgb(0, 0, 0); display: none;&quot; id=&quot;code_selector&quot;&gt;\n</code></pre>\n<p>Hence Selenium won't be able to interact with it.</p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the element with text with text <em><strong>Code 128 (standard)</strong></em> you need to <a href=\"https://stackoverflow.com/a/47261894/7429447\"><em>Mouse Hover</em></a> the parent element and then click on the <code>&lt;button&gt;</code> with text <em><strong>Create Barcode</strong></em> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Code Block:</p>\n<pre><code>driver.get(&quot;https://www.barcode-generator.org/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a.iubenda-cs-close-btn&quot;))).click();\nnew Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;figure#code_figure_20&quot;)))).build().perform();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class='create-overlay']//div[@class='inner-cell']//button[@data-choose='20' and contains(., 'Create Barcode')]&quot;))).click();\n</code></pre>\n</li>\n<li><p>Browser Snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/Qtvgo.png\" alt=\"Code 128 (standard)\" /></p>\n"}],"owner":{"account_id":26450876,"reputation":13,"user_id":20094112,"display_name":"ihsan akcair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76501972,"answer_count":1,"score":0,"last_activity_date":1687120501,"creation_date":1687086144,"question_id":76500207,"body_markdown":"I want to select the Code 128 (standard) from select menu, but whatever i did, i could not manage to select any option from the menu.\r\n\r\n \r\n\r\n    WebDriver   driver = Driver.get();\r\n    driver.manage().window().setPosition(new Point(-1000, 0));\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    driver.get(&quot;https://www.barcode-generator.org/&quot;);\r\n    BrowserUtils.waitFor(2);\r\n    driver.findElement(By.className(&quot;iubenda-cs-close-btn&quot;)).click();\r\n    BrowserUtils.waitFor(2);\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    WebElement selectElement = driver.findElement(By.xpath(&quot;//select[@id=&#39;code_selector&#39;]&quot;));\r\n    Select select = new Select(selectElement);\r\n    List&lt;WebElement&gt; options = select.getOptions();\r\n    BrowserUtils.waitFor(4);\r\n    System.out.println(&quot;options.size() = &quot; + options.size());\r\n    select.selectByVisibleText(&quot;Code 128 (standard)&quot;);\r\n    driver.findElement(By.id(&quot;barcode_data&quot;)).sendKeys(&quot;abc&quot;);\r\n\r\nAnd I got this response:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 53482\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Haz 18, 2023 1:53:26 &#214;S org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    options.size() = 67\r\n    \r\n    org.openqa.selenium.ElementNotInteractableException: element not interactable: Element is not currently visible and may not be manipulated\r\n      (Session info: chrome=114.0.5735.134)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n\r\n\r\n\r\n\r\n","title":"selenium.ElementNotInteractableException: element not interactable: Element is not currently visible and may not be manipulated error Selenium Java","body":"<p>I want to select the Code 128 (standard) from select menu, but whatever i did, i could not manage to select any option from the menu.</p>\n<pre><code>WebDriver   driver = Driver.get();\ndriver.manage().window().setPosition(new Point(-1000, 0));\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\ndriver.get(&quot;https://www.barcode-generator.org/&quot;);\nBrowserUtils.waitFor(2);\ndriver.findElement(By.className(&quot;iubenda-cs-close-btn&quot;)).click();\nBrowserUtils.waitFor(2);\nJavascriptExecutor js = (JavascriptExecutor) driver;\nWebElement selectElement = driver.findElement(By.xpath(&quot;//select[@id='code_selector']&quot;));\nSelect select = new Select(selectElement);\nList&lt;WebElement&gt; options = select.getOptions();\nBrowserUtils.waitFor(4);\nSystem.out.println(&quot;options.size() = &quot; + options.size());\nselect.selectByVisibleText(&quot;Code 128 (standard)&quot;);\ndriver.findElement(By.id(&quot;barcode_data&quot;)).sendKeys(&quot;abc&quot;);\n</code></pre>\n<p>And I got this response:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 53482\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nHaz 18, 2023 1:53:26 S org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\noptions.size() = 67\n\norg.openqa.selenium.ElementNotInteractableException: element not interactable: Element is not currently visible and may not be manipulated\n  (Session info: chrome=114.0.5735.134)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","iframe","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687119728,"creation_date":1687119728,"answer_id":76502405,"question_id":76495722,"body_markdown":"You need to click on &lt;kbd&gt;No thanks&lt;/kbd&gt; [button](https://i.stack.imgur.com/z2inG.png) which is within an [`&lt;iframe&gt;`](https://stackoverflow.com/a/53276478/7429447) so you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\t  driver.get(&quot;https://www.google.com&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, &#39;https://ogs.google.com/widget/callout&#39;)]&quot;)));\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@aria-label=&#39;No thanks&#39;]&quot;))).click();\r\n\t  driver.switchTo().defaultContent();\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.name(&quot;q&quot;))).sendKeys(&quot;Diksha Rewatkar&quot;);\r\n\t\t\t\r\n- Browser Snapshot:\r\n\r\n![clickNoThanks](https://i.stack.imgur.com/0dlvY.png)\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReference\r\n---------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Is it possible to switch to an element in a frame without using driver.switchTo().frame(frameName) in Selenium Webdriver Java?](https://stackoverflow.com/a/47472200/7429447)\r\n- [Selenium: Can&#39;t click on a button within an iframe](https://stackoverflow.com/a/64016305/7429447)","title":"How to handle No thanks button within sign in popup accessing Google Home page using Selenium","body":"<p>You need to click on <kbd>No thanks</kbd> <a href=\"https://i.stack.imgur.com/z2inG.png\" rel=\"nofollow noreferrer\">button</a> which is within an <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;iframe&gt;</code></a> so you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>driver.get(&quot;https://www.google.com&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, 'https://ogs.google.com/widget/callout')]&quot;)));\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@aria-label='No thanks']&quot;))).click();\ndriver.switchTo().defaultContent();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.name(&quot;q&quot;))).sendKeys(&quot;Diksha Rewatkar&quot;);\n</code></pre>\n</li>\n<li><p>Browser Snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/0dlvY.png\" alt=\"clickNoThanks\" /></p>\n<hr />\n<h2>Reference</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47472200/7429447\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(frameName) in Selenium Webdriver Java?</a></li>\n<li><a href=\"https://stackoverflow.com/a/64016305/7429447\">Selenium: Can't click on a button within an iframe</a></li>\n</ul>\n"}],"owner":{"account_id":28839159,"reputation":1,"user_id":22087835,"display_name":"Diksha Rewatkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687119987,"creation_date":1686996596,"question_id":76495722,"body_markdown":"I am a beginner in automation tetsing,when I tried to run the below code, chrome got launched successfully but getting sign in pop up\r\n\r\n```\r\npublic class Locators { \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\Chrome\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(4000));\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.navigate().to(&quot;https://www.google.com&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;input\\&quot;]&quot;)).sendKeys(&quot;selenium tutorial&quot;);\r\n\t}\r\n}\r\n```\r\nPopup image:\r\n\r\n![Popup image](https://i.stack.imgur.com/z2inG.png)","title":"How to handle No thanks button within sign in popup accessing Google Home page using Selenium","body":"<p>I am a beginner in automation tetsing,when I tried to run the below code, chrome got launched successfully but getting sign in pop up</p>\n<pre><code>public class Locators { \n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\Chrome\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(4000));\n        driver.manage().window().maximize();\n        driver.navigate().to(&quot;https://www.google.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;input\\&quot;]&quot;)).sendKeys(&quot;selenium tutorial&quot;);\n    }\n}\n</code></pre>\n<p>Popup image:</p>\n<p><img src=\"https://i.stack.imgur.com/z2inG.png\" alt=\"Popup image\" /></p>\n"},{"tags":["java","math","operation"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":6,"creation_date":1687086883,"post_id":76500241,"comment_id":134885327,"body_markdown":"You are asking for `Enter a,s,m or d` but your `doMaths` method is based on `a, b, c, d` not `a,s,m,d`.","body":"You are asking for <code>Enter a,s,m or d</code> but your <code>doMaths</code> method is based on <code>a, b, c, d</code> not <code>a,s,m,d</code>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687119203,"creation_date":1687119203,"answer_id":76502374,"question_id":76500241,"body_markdown":"&gt; _&quot;... Add and divide work as expected but subtract and multiply always return a result of 0.0 regardless of the numbers inputted ...&quot;_\r\n\r\nAs _@Pshemo_ mentioned, this is because your _if-conditional statements_, are evaluating the letters, _a_, _b_, _c_, and _d_.  \r\nAs opposed to, _a_, _s_, _m_, and _d_.\r\n\r\n```java\r\nif(operation.equalsIgnoreCase((&quot;a&quot;))){\r\n    sum=num1+num2;\r\n}\r\nelse if(operation.equalsIgnoreCase(&quot;b&quot;)){\r\n    sum=num1-num2;\r\n}\r\nelse if(operation.equalsIgnoreCase(&quot;c&quot;)){\r\n    sum=num1*num2;\r\n}\r\nelse if(operation.equalsIgnoreCase(&quot;d&quot;)){\r\n    sum=num1/num2;\r\n}\r\n```\r\n\r\nThus, only _a_, and _d_, will work.\r\n\r\nThe reason it is returning _0_ for _s_, and _m_, and because an unassigned _double_ value is _0_.  \r\n_[Primitive Data Types (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_.\r\n\r\n```java\r\nprivate double sum;\r\n```\r\n\r\nIt is worth noting, you can simplify these _conditional_ checks, with a _[switch](https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html)_ statement.\r\n\r\n```java\r\npublic double doMaths(double sum1, double sum2, String operation){\r\n    num1=sum1;\r\n    num2=sum2;\r\n    return sum = switch (operation.toLowerCase()) {\r\n        case &quot;a&quot; -&gt; num1+num2;\r\n        case &quot;s&quot; -&gt; num1-num2;\r\n        case &quot;m&quot; -&gt; num1*num2;\r\n        case &quot;d&quot; -&gt; num1/num2; \r\n    };\r\n}\r\n```","title":"4 operations add, subtract, multiply and divide, subtract and multiply return 0.0 regardless of numbers inputted","body":"<blockquote>\n<p><em>&quot;... Add and divide work as expected but subtract and multiply always return a result of 0.0 regardless of the numbers inputted ...&quot;</em></p>\n</blockquote>\n<p>As <em>@Pshemo</em> mentioned, this is because your <em>if-conditional statements</em>, are evaluating the letters, <em>a</em>, <em>b</em>, <em>c</em>, and <em>d</em>.<br />\nAs opposed to, <em>a</em>, <em>s</em>, <em>m</em>, and <em>d</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(operation.equalsIgnoreCase((&quot;a&quot;))){\n    sum=num1+num2;\n}\nelse if(operation.equalsIgnoreCase(&quot;b&quot;)){\n    sum=num1-num2;\n}\nelse if(operation.equalsIgnoreCase(&quot;c&quot;)){\n    sum=num1*num2;\n}\nelse if(operation.equalsIgnoreCase(&quot;d&quot;)){\n    sum=num1/num2;\n}\n</code></pre>\n<p>Thus, only <em>a</em>, and <em>d</em>, will work.</p>\n<p>The reason it is returning <em>0</em> for <em>s</em>, and <em>m</em>, and because an unassigned <em>double</em> value is <em>0</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Primitive Data Types (The Java Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double sum;\n</code></pre>\n<p>It is worth noting, you can simplify these <em>conditional</em> checks, with a <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch</a></em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double doMaths(double sum1, double sum2, String operation){\n    num1=sum1;\n    num2=sum2;\n    return sum = switch (operation.toLowerCase()) {\n        case &quot;a&quot; -&gt; num1+num2;\n        case &quot;s&quot; -&gt; num1-num2;\n        case &quot;m&quot; -&gt; num1*num2;\n        case &quot;d&quot; -&gt; num1/num2; \n    };\n}\n</code></pre>\n"}],"owner":{"account_id":28167197,"reputation":9,"user_id":21526234,"display_name":"SpackJarrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687119203,"creation_date":1687086744,"question_id":76500241,"body_markdown":"I understand this is a simple question for most people here who have been writing Java a long time. I have created a very simple app that combines my methods and will return a sum along with whether the result is odd or even. The math will perform four operations add, subtract, multiply and divide. Add and divide work as expected but subtract and multiply always return a result of 0.0 regardless of the numbers inputted. I have created three classes, MathApp, OddEven and Calculator. Below are the MathApp and Calculator. \r\n\r\n    import javax.swing.JOptionPane;\r\n    public class MathsApp {\r\n        public static void main(String[] args){\r\n            //declare variables\r\n            double num1;\r\n            double num2;\r\n            String operation;\r\n            double sum;\r\n            boolean evenCheck;\r\n            //objects\r\n            Calculator calc;\r\n            calc=new Calculator();\r\n            OddEven oe;\r\n            oe=new OddEven();\r\n            //input\r\n            num1=Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Enter number 1&quot;));\r\n            num2=Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Enter number 2&quot;));\r\n            operation=JOptionPane.showInputDialog(null,&quot;Enter a,s,m or d to add, subtract, multiply or     divide&quot;);\r\n            //set, compute, get\r\n            sum=calc.doMaths(num1,num2,operation);\r\n            //out\r\n            JOptionPane.showMessageDialog(null,&quot;Your answer  &quot;+sum);\r\n            //OddEven\r\n            evenCheck=oe.checkIfEven(sum);\r\n            JOptionPane.showMessageDialog(null,&quot;Your number is even &quot;+evenCheck);\r\n\r\n        }\r\n    }\r\n\r\n     public class Calculator {\r\n     //variables\r\n     private double num1;\r\n     private double num2;\r\n     //private String operation;\r\n     private double sum;\r\n\r\n     //combined method\r\n     public double doMaths(double sum1, double sum2, String operation){\r\n         num1=sum1;\r\n         num2=sum2;\r\n         if(operation.equalsIgnoreCase((&quot;a&quot;))){\r\n              sum=num1+num2;\r\n         } \r\n         else if(operation.equalsIgnoreCase(&quot;b&quot;)){\r\n             sum=num1-num2;\r\n         }\r\n         else if(operation.equalsIgnoreCase(&quot;c&quot;)){\r\n             sum=num1*num2;\r\n         }\r\n         else if(operation.equalsIgnoreCase(&quot;d&quot;)){\r\n             sum=num1/num2;\r\n         }\r\n         return sum;\r\n     }\r\n }\r\n\r\n\r\nNot sure why this is happening. I have searched on Stack to similar questions before posting but have not seen anything as to help me. Thank you in advance. ","title":"4 operations add, subtract, multiply and divide, subtract and multiply return 0.0 regardless of numbers inputted","body":"<p>I understand this is a simple question for most people here who have been writing Java a long time. I have created a very simple app that combines my methods and will return a sum along with whether the result is odd or even. The math will perform four operations add, subtract, multiply and divide. Add and divide work as expected but subtract and multiply always return a result of 0.0 regardless of the numbers inputted. I have created three classes, MathApp, OddEven and Calculator. Below are the MathApp and Calculator.</p>\n<pre><code>import javax.swing.JOptionPane;\npublic class MathsApp {\n    public static void main(String[] args){\n        //declare variables\n        double num1;\n        double num2;\n        String operation;\n        double sum;\n        boolean evenCheck;\n        //objects\n        Calculator calc;\n        calc=new Calculator();\n        OddEven oe;\n        oe=new OddEven();\n        //input\n        num1=Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Enter number 1&quot;));\n        num2=Double.parseDouble(JOptionPane.showInputDialog(null,&quot;Enter number 2&quot;));\n        operation=JOptionPane.showInputDialog(null,&quot;Enter a,s,m or d to add, subtract, multiply or     divide&quot;);\n        //set, compute, get\n        sum=calc.doMaths(num1,num2,operation);\n        //out\n        JOptionPane.showMessageDialog(null,&quot;Your answer  &quot;+sum);\n        //OddEven\n        evenCheck=oe.checkIfEven(sum);\n        JOptionPane.showMessageDialog(null,&quot;Your number is even &quot;+evenCheck);\n\n    }\n}\n\n public class Calculator {\n //variables\n private double num1;\n private double num2;\n //private String operation;\n private double sum;\n\n //combined method\n public double doMaths(double sum1, double sum2, String operation){\n     num1=sum1;\n     num2=sum2;\n     if(operation.equalsIgnoreCase((&quot;a&quot;))){\n          sum=num1+num2;\n     } \n     else if(operation.equalsIgnoreCase(&quot;b&quot;)){\n         sum=num1-num2;\n     }\n     else if(operation.equalsIgnoreCase(&quot;c&quot;)){\n         sum=num1*num2;\n     }\n     else if(operation.equalsIgnoreCase(&quot;d&quot;)){\n         sum=num1/num2;\n     }\n     return sum;\n }\n</code></pre>\n<p>}</p>\n<p>Not sure why this is happening. I have searched on Stack to similar questions before posting but have not seen anything as to help me. Thank you in advance.</p>\n"},{"tags":["java","javafx","3d","sampling","javafx-3d"],"owner":{"account_id":16722186,"reputation":111,"user_id":12086785,"display_name":"Robbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687118269,"creation_date":1687118269,"question_id":76502328,"body_markdown":"As a small easter-egg in a school project I&#39;m trying to add a simple Minecraft-Clone into a JavaFX-UI programme.\r\nWhile the rendering and technology is working absolutely fine, troubles are appearing due to the texture sampling.\r\n\r\nBecause everything is in 3D and thus rendered as a TriangleMesh, the texturing is done using a PhongMaterial. However, the texture is obviously sampled in LINEAR-Mode. For the pixel-art graphics ob Minecraft this is obviously detremental.\r\n\r\nUnfortunately I have not been able to figure out, how this might be overcome - if it is even possible. Hopefully the Stackoverflow-Intelligence can work its wonders here.","title":"JavaFX use Nearest Texture Sampling on Material","body":"<p>As a small easter-egg in a school project I'm trying to add a simple Minecraft-Clone into a JavaFX-UI programme.\nWhile the rendering and technology is working absolutely fine, troubles are appearing due to the texture sampling.</p>\n<p>Because everything is in 3D and thus rendered as a TriangleMesh, the texturing is done using a PhongMaterial. However, the texture is obviously sampled in LINEAR-Mode. For the pixel-art graphics ob Minecraft this is obviously detremental.</p>\n<p>Unfortunately I have not been able to figure out, how this might be overcome - if it is even possible. Hopefully the Stackoverflow-Intelligence can work its wonders here.</p>\n"},{"tags":["java","mp3","wav"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687123922,"post_id":76501872,"comment_id":134889246,"body_markdown":"Dont reference src in you code, it wont exist once you export/package your app. Embedded resources cant be referenced as Files, instead you need to use Class#getResource instead","body":"Dont reference src in you code, it wont exist once you export/package your app. Embedded resources cant be referenced as Files, instead you need to use Class#getResource instead"}],"owner":{"account_id":28846087,"reputation":1,"user_id":22093094,"display_name":"hector165"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687117045,"creation_date":1687110764,"question_id":76501872,"body_markdown":"For a school project we programmed a Pong game in Java. Unfortunately I am not that skilled in the language. In the GamePanel class shown below there is a function &quot;checkCollision&quot;, which checks if the ball touches the paddles. I want to play a wav file as sound every time the ball touches a racket. This is stored as &quot;collision_sound.wav&quot; in the project folder. Unfortunately, when I run the program, I get an error message that the specified file is not found. \r\n\r\n    \r\n```\r\nimport java.awt.*;\r\n\r\nimport java.awt.event.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.*;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.sound.sampled.LineUnavailableException;\r\nimport javax.sound.sampled.UnsupportedAudioFileException;\r\n\r\n\r\npublic class GamePanel extends JPanel implements Runnable {\r\n\r\n    static final int GAME_WIDTH = 1000;\r\n    static final int GAME_HEIGHT = (int) (GAME_WIDTH * (0.5555));\r\n    static final Dimension SCREEN_SIZE = new Dimension(GAME_WIDTH, GAME_HEIGHT);\r\n    static final int BALL_DIAMETER = 30;\r\n    static final int PADDLE_WIDTH = 25;\r\n    static final int PADDLE_HEIGHT = 90;\r\n\r\n    Thread gameThread;\r\n    Image image;\r\n    Image bkImage;\r\n    Graphics graphics;\r\n    Random random;\r\n    Paddle paddle1;\r\n    Paddle paddle2;\r\n    Ball ball;\r\n    Score score;\r\n    private Clip collisionSound;\r\n\r\n    GamePanel(int w, int h) {\r\n        newPaddles();\r\n        newBall();\r\n        score = new Score(GAME_WIDTH, GAME_HEIGHT);\r\n        this.setFocusable(true);\r\n        this.addKeyListener(new AL());\r\n        this.setPreferredSize(SCREEN_SIZE);\r\n        this.loadBackground(&quot;DHBW_Heidenheim.jpg&quot;);\r\n        this.loadCollisionSound(&quot;collision_sound.wav&quot;);\r\n\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n    }\r\n\r\n    private void loadBackground(String name) {\r\n    \tSystem.out.println(&quot;Ich spring rein&quot;);\r\n        String userpath = System.getProperty(&quot;user.dir&quot;);\r\n        userpath += &quot;\\\\src\\\\&quot; + name;\r\n        System.out.println(userpath + &quot; HAHA &quot; + name);\r\n        System.out.println(&quot;Spieler 2: &quot;);\r\n        try {\r\n            bkImage = ImageIO.read(new File(userpath));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void loadCollisionSound(String filename) {\r\n    \tSystem.out.println(&quot;Ich spring rein&quot;);\r\n        String userpath = System.getProperty(&quot;user.dir&quot;);\r\n        userpath += &quot;\\\\src\\\\&quot; + filename;\r\n        System.out.println(userpath + &quot;  &quot; + filename);\r\n        File file = new File (userpath);\r\n        try {\r\n\t\t\tAudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\r\n            collisionSound = AudioSystem.getClip();\r\n            collisionSound.open(audioInputStream);\r\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void playCollisionSound() {\r\n\t\tif (collisionSound.isRunning()) { //id == 1 bedeutet Spieler 1, ansonsten Spieler 2 \r\n\t\t\tSystem.out.println(&quot;es geht unnormal&quot;);\r\n\t\t\tcollisionSound.stop();\r\n        \tcollisionSound.setFramePosition(0);\r\n        \tcollisionSound.start();\r\n    }\telse {\r\n\t\t\tcollisionSound.start();\r\n\t\t\tSystem.out.println(&quot;es geht normal&quot;);\r\n    \t}\r\n    }\r\n    public void newBall() {\r\n        random = new Random();\r\n        ball = new Ball((GAME_WIDTH / 2) - (BALL_DIAMETER / 2), random.nextInt(GAME_HEIGHT - BALL_DIAMETER),\r\n                BALL_DIAMETER, BALL_DIAMETER);\r\n    }\r\n\r\n    public void newPaddles() {\r\n        paddle1 = new Paddle(0, (GAME_HEIGHT / 2) - (PADDLE_HEIGHT / 2), PADDLE_WIDTH, PADDLE_HEIGHT, 1);\r\n        paddle2 = new Paddle(GAME_WIDTH - PADDLE_WIDTH, (GAME_HEIGHT / 2) - (PADDLE_HEIGHT / 2), PADDLE_WIDTH, PADDLE_HEIGHT, 2);\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        image = createImage(getWidth(), getHeight());\r\n        graphics = image.getGraphics();\r\n        graphics.drawImage(bkImage, 0, 0, null);\r\n        draw(graphics);\r\n        g.drawImage(image, 0, 0, this);\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        paddle1.draw(g);\r\n        paddle2.draw(g);\r\n        ball.draw(g);\r\n        score.draw(g);\r\n    }\r\n\r\n    public void move() {\r\n        paddle1.move();\r\n        paddle2.move();\r\n        ball.move();\r\n    }\r\n\r\n    public void checkCollision() {\r\n\r\n\t\t// Ball prallt von den oberen und unteren Fensterr&#228;ndern ab\r\n\t\tif (ball.y &lt;= 0) {\r\n\t\t\tball.setYDirection(-ball.yVelocity); //Ball prallt ab und bewegt sich in entgegengesetzte Richtung \r\n\t\t}\r\n\t\tif (ball.y &gt;= GAME_HEIGHT - BALL_DIAMETER) {\r\n\t\t\tball.setYDirection(-ball.yVelocity);\r\n\t\t}\r\n\t\t//Ball prallt von den Schl&#228;gern ab\r\n\t\t//Interaktion des Balls mit Schl&#228;ger 1 \r\n\t\tif (ball.intersects(paddle1)) {\r\n\t\t\tball.xVelocity = Math.abs(ball.xVelocity);\r\n\t\t\tball.xVelocity++;\r\n\t\t\tplayCollisionSound();\r\n\t\t\tif (ball.yVelocity &gt; 0)\r\n\t\t\t\tball.yVelocity++; //Geschwindigkeit wird erh&#246;ht\r\n\t\t\telse\r\n\t\t\t\tball.yVelocity--;\r\n\t\t\tball.setXDirection(ball.xVelocity);\r\n\t\t\tball.setYDirection(ball.yVelocity);\r\n\t\t}\r\n\t\t\r\n\t\t//Interaktion des Balls mit Schl&#228;ger 2 \r\n\t\tif (ball.intersects(paddle2)) {\r\n\t\t\tball.xVelocity = Math.abs(ball.xVelocity);\r\n\t\t\tball.xVelocity++; \r\n\t\t\tplayCollisionSound();\r\n\t\t\tif (ball.yVelocity &gt; 0)\r\n\t\t\t\tball.yVelocity++; //Geschwindigkeit wird erh&#246;ht\r\n\t\t\telse\r\n\t\t\t\tball.yVelocity--;\r\n\t\t\tball.setXDirection(-ball.xVelocity); \r\n\t\t\tball.setYDirection(ball.yVelocity);\r\n\t\t}\r\n\t\t//Stoppt die Schl&#228;ger an den Fensterr&#228;ndern, also wenn diese ganz oben bzw. ganz unten sind \r\n\t\tif (paddle1.y &lt;= 0) //wenn ganz oben \r\n\t\t\tpaddle1.y = 0;\r\n\t\tif (paddle1.y &gt;= (GAME_HEIGHT - PADDLE_HEIGHT)) //wenn ganz unten \r\n\t\t\tpaddle1.y = GAME_HEIGHT - PADDLE_HEIGHT;\r\n\t\tif (paddle2.y &lt;= 0) //wenn ganz oben \r\n\t\t\tpaddle2.y = 0;\r\n\t\tif (paddle2.y &gt;= (GAME_HEIGHT - PADDLE_HEIGHT)) //wenn ganz unten \r\n\t\t\tpaddle2.y = GAME_HEIGHT - PADDLE_HEIGHT;\r\n\t\t// Ein Spieler erh&#228;lt einen Punkt und es werden neue Schl&#228;ger und ein neuer Ball erzeugt\r\n\t\tif (ball.x &lt;= 0) { //linker Rand wurde ber&#252;hrt\r\n\t\t\tscore.player2++; //Score von Spieler 2 wird erh&#246;ht\r\n\t\t\tnewPaddles();\r\n\t\t\tnewBall();\r\n\t\t\tSystem.out.println(&quot;Spieler 2: &quot; + score.player2);\r\n\t\t}\r\n\t\tif (ball.x &gt;= GAME_WIDTH - BALL_DIAMETER) { //rechter Rand wird ber&#252;hrt\r\n\t\t\tscore.player1++; //Spieler 1 erh&#228;lt einen Punkt \r\n\t\t\tnewPaddles();\r\n\t\t\tnewBall();\r\n\t\t\tSystem.out.println(&quot;Spieler 1: &quot; + score.player1);\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public void run() {\r\n        long lastTime = System.nanoTime();\r\n        double amountOfTicks = 60.0;\r\n        double ns = 1000000000 / amountOfTicks;\r\n        double delta = 0;\r\n        while (true) {\r\n            long now = System.nanoTime();\r\n            delta += (now - lastTime) / ns;\r\n            lastTime = now;\r\n            if (delta &gt;= 1) {\r\n                move();\r\n                checkCollision();\r\n                repaint();\r\n                delta--;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class AL extends KeyAdapter {\r\n        public void keyPressed(KeyEvent e) {\r\n            paddle1.keyPressed(e);\r\n            paddle2.keyPressed(e);\r\n        }\r\n\r\n        public void keyReleased(KeyEvent e) {\r\n            paddle1.keyReleased(e);\r\n            paddle2.keyReleased(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlready tried a couple of things, but didn&#39;t find a solution yet. ","title":"Playing mp3/wav in Java","body":"<p>For a school project we programmed a Pong game in Java. Unfortunately I am not that skilled in the language. In the GamePanel class shown below there is a function &quot;checkCollision&quot;, which checks if the ball touches the paddles. I want to play a wav file as sound every time the ball touches a racket. This is stored as &quot;collision_sound.wav&quot; in the project folder. Unfortunately, when I run the program, I get an error message that the specified file is not found.</p>\n<pre><code>import java.awt.*;\n\nimport java.awt.event.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.*;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n\n\npublic class GamePanel extends JPanel implements Runnable {\n\n    static final int GAME_WIDTH = 1000;\n    static final int GAME_HEIGHT = (int) (GAME_WIDTH * (0.5555));\n    static final Dimension SCREEN_SIZE = new Dimension(GAME_WIDTH, GAME_HEIGHT);\n    static final int BALL_DIAMETER = 30;\n    static final int PADDLE_WIDTH = 25;\n    static final int PADDLE_HEIGHT = 90;\n\n    Thread gameThread;\n    Image image;\n    Image bkImage;\n    Graphics graphics;\n    Random random;\n    Paddle paddle1;\n    Paddle paddle2;\n    Ball ball;\n    Score score;\n    private Clip collisionSound;\n\n    GamePanel(int w, int h) {\n        newPaddles();\n        newBall();\n        score = new Score(GAME_WIDTH, GAME_HEIGHT);\n        this.setFocusable(true);\n        this.addKeyListener(new AL());\n        this.setPreferredSize(SCREEN_SIZE);\n        this.loadBackground(&quot;DHBW_Heidenheim.jpg&quot;);\n        this.loadCollisionSound(&quot;collision_sound.wav&quot;);\n\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    private void loadBackground(String name) {\n        System.out.println(&quot;Ich spring rein&quot;);\n        String userpath = System.getProperty(&quot;user.dir&quot;);\n        userpath += &quot;\\\\src\\\\&quot; + name;\n        System.out.println(userpath + &quot; HAHA &quot; + name);\n        System.out.println(&quot;Spieler 2: &quot;);\n        try {\n            bkImage = ImageIO.read(new File(userpath));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void loadCollisionSound(String filename) {\n        System.out.println(&quot;Ich spring rein&quot;);\n        String userpath = System.getProperty(&quot;user.dir&quot;);\n        userpath += &quot;\\\\src\\\\&quot; + filename;\n        System.out.println(userpath + &quot;  &quot; + filename);\n        File file = new File (userpath);\n        try {\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\n            collisionSound = AudioSystem.getClip();\n            collisionSound.open(audioInputStream);\n        } catch (UnsupportedAudioFileException | IOException | LineUnavailableException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void playCollisionSound() {\n        if (collisionSound.isRunning()) { //id == 1 bedeutet Spieler 1, ansonsten Spieler 2 \n            System.out.println(&quot;es geht unnormal&quot;);\n            collisionSound.stop();\n            collisionSound.setFramePosition(0);\n            collisionSound.start();\n    }   else {\n            collisionSound.start();\n            System.out.println(&quot;es geht normal&quot;);\n        }\n    }\n    public void newBall() {\n        random = new Random();\n        ball = new Ball((GAME_WIDTH / 2) - (BALL_DIAMETER / 2), random.nextInt(GAME_HEIGHT - BALL_DIAMETER),\n                BALL_DIAMETER, BALL_DIAMETER);\n    }\n\n    public void newPaddles() {\n        paddle1 = new Paddle(0, (GAME_HEIGHT / 2) - (PADDLE_HEIGHT / 2), PADDLE_WIDTH, PADDLE_HEIGHT, 1);\n        paddle2 = new Paddle(GAME_WIDTH - PADDLE_WIDTH, (GAME_HEIGHT / 2) - (PADDLE_HEIGHT / 2), PADDLE_WIDTH, PADDLE_HEIGHT, 2);\n    }\n\n    public void paint(Graphics g) {\n        image = createImage(getWidth(), getHeight());\n        graphics = image.getGraphics();\n        graphics.drawImage(bkImage, 0, 0, null);\n        draw(graphics);\n        g.drawImage(image, 0, 0, this);\n    }\n\n    public void draw(Graphics g) {\n        paddle1.draw(g);\n        paddle2.draw(g);\n        ball.draw(g);\n        score.draw(g);\n    }\n\n    public void move() {\n        paddle1.move();\n        paddle2.move();\n        ball.move();\n    }\n\n    public void checkCollision() {\n\n        // Ball prallt von den oberen und unteren Fensterrndern ab\n        if (ball.y &lt;= 0) {\n            ball.setYDirection(-ball.yVelocity); //Ball prallt ab und bewegt sich in entgegengesetzte Richtung \n        }\n        if (ball.y &gt;= GAME_HEIGHT - BALL_DIAMETER) {\n            ball.setYDirection(-ball.yVelocity);\n        }\n        //Ball prallt von den Schlgern ab\n        //Interaktion des Balls mit Schlger 1 \n        if (ball.intersects(paddle1)) {\n            ball.xVelocity = Math.abs(ball.xVelocity);\n            ball.xVelocity++;\n            playCollisionSound();\n            if (ball.yVelocity &gt; 0)\n                ball.yVelocity++; //Geschwindigkeit wird erhht\n            else\n                ball.yVelocity--;\n            ball.setXDirection(ball.xVelocity);\n            ball.setYDirection(ball.yVelocity);\n        }\n        \n        //Interaktion des Balls mit Schlger 2 \n        if (ball.intersects(paddle2)) {\n            ball.xVelocity = Math.abs(ball.xVelocity);\n            ball.xVelocity++; \n            playCollisionSound();\n            if (ball.yVelocity &gt; 0)\n                ball.yVelocity++; //Geschwindigkeit wird erhht\n            else\n                ball.yVelocity--;\n            ball.setXDirection(-ball.xVelocity); \n            ball.setYDirection(ball.yVelocity);\n        }\n        //Stoppt die Schlger an den Fensterrndern, also wenn diese ganz oben bzw. ganz unten sind \n        if (paddle1.y &lt;= 0) //wenn ganz oben \n            paddle1.y = 0;\n        if (paddle1.y &gt;= (GAME_HEIGHT - PADDLE_HEIGHT)) //wenn ganz unten \n            paddle1.y = GAME_HEIGHT - PADDLE_HEIGHT;\n        if (paddle2.y &lt;= 0) //wenn ganz oben \n            paddle2.y = 0;\n        if (paddle2.y &gt;= (GAME_HEIGHT - PADDLE_HEIGHT)) //wenn ganz unten \n            paddle2.y = GAME_HEIGHT - PADDLE_HEIGHT;\n        // Ein Spieler erhlt einen Punkt und es werden neue Schlger und ein neuer Ball erzeugt\n        if (ball.x &lt;= 0) { //linker Rand wurde berhrt\n            score.player2++; //Score von Spieler 2 wird erhht\n            newPaddles();\n            newBall();\n            System.out.println(&quot;Spieler 2: &quot; + score.player2);\n        }\n        if (ball.x &gt;= GAME_WIDTH - BALL_DIAMETER) { //rechter Rand wird berhrt\n            score.player1++; //Spieler 1 erhlt einen Punkt \n            newPaddles();\n            newBall();\n            System.out.println(&quot;Spieler 1: &quot; + score.player1);\n        }\n    }\n\n\n    public void run() {\n        long lastTime = System.nanoTime();\n        double amountOfTicks = 60.0;\n        double ns = 1000000000 / amountOfTicks;\n        double delta = 0;\n        while (true) {\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n            if (delta &gt;= 1) {\n                move();\n                checkCollision();\n                repaint();\n                delta--;\n            }\n        }\n    }\n\n    public class AL extends KeyAdapter {\n        public void keyPressed(KeyEvent e) {\n            paddle1.keyPressed(e);\n            paddle2.keyPressed(e);\n        }\n\n        public void keyReleased(KeyEvent e) {\n            paddle1.keyReleased(e);\n            paddle2.keyReleased(e);\n        }\n    }\n}\n\n</code></pre>\n<p>Already tried a couple of things, but didn't find a solution yet.</p>\n"},{"tags":["java","idoc"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1385451826,"post_id":20034323,"comment_id":30136953,"body_markdown":"see SAP connection is required for that with out connection you can not read that.","body":"see SAP connection is required for that with out connection you can not read that."},{"owner":{"account_id":400279,"reputation":41322,"user_id":766177,"accept_rate":80,"display_name":"Valentin Despa"},"score":0,"creation_date":1385543747,"post_id":20034323,"comment_id":30182657,"body_markdown":"If you can post a complete answer, explaining everything, I can award you the bounty.","body":"If you can post a complete answer, explaining everything, I can award you the bounty."},{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1385543803,"post_id":20034323,"comment_id":30182696,"body_markdown":"with out SAP connection is not possible","body":"with out SAP connection is not possible"},{"owner":{"account_id":372843,"reputation":794,"user_id":722135,"display_name":"Babblo"},"score":0,"creation_date":1385608777,"post_id":20034323,"comment_id":30216003,"body_markdown":"Just for curiosity, if you are not connected to SAP, why do you **need** their class? Why not read the XML with something else?","body":"Just for curiosity, if you are not connected to SAP, why do you <b>need</b> their class? Why not read the XML with something else?"},{"owner":{"account_id":400279,"reputation":41322,"user_id":766177,"accept_rate":80,"display_name":"Valentin Despa"},"score":0,"creation_date":1385734489,"post_id":20034323,"comment_id":30267344,"body_markdown":"To parse and create IDocs","body":"To parse and create IDocs"}],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1482792480,"creation_date":1482792480,"answer_id":41337035,"question_id":20034323,"body_markdown":"Without the respective IDoc meta data you cannot interpret the XML data as an SAP IDoc. Without having this IDoc meta data, the IDoc-XML document is just some hierarchically structured bunch of strings.\r\n\r\nAnd the only way for the SAP Java IDoc Class Library to get the IDoc meta data is to query it from some SAP System - at least this is valid for the current version 3.0.12 of the JIDocLib. So the answer to both of your questions is unfortunately: **NO**.\r\n\r\nOf course, you can parse the IDoc-XML with a standard XML parser like any other arbitrary XML document.","title":"Parsing an IDoc in XML format using SAP Java IDoc Class Library","body":"<p>Without the respective IDoc meta data you cannot interpret the XML data as an SAP IDoc. Without having this IDoc meta data, the IDoc-XML document is just some hierarchically structured bunch of strings.</p>\n\n<p>And the only way for the SAP Java IDoc Class Library to get the IDoc meta data is to query it from some SAP System - at least this is valid for the current version 3.0.12 of the JIDocLib. So the answer to both of your questions is unfortunately: <strong>NO</strong>.</p>\n\n<p>Of course, you can parse the IDoc-XML with a standard XML parser like any other arbitrary XML document.</p>\n"},{"tags":[],"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539450419,"creation_date":1520171498,"answer_id":49096154,"question_id":20034323,"body_markdown":"Perhaps you want to take a look at the SAP Business Connector: it can create IDocDocument objects from IDoc-XML without having a connection to an SAP system. \r\nYou can then work with these IDoc objects in Java. The metadata information (field-offset and -length for each segment in the IDoc) is only needed at the point, where you actually want to send the IDoc into an SAP system. But as apparently you don&#39;t need to do this, you should be fine without metadata information.\r\n\r\nSAP BC Homepage: https://support.sap.com/sbc","title":"Parsing an IDoc in XML format using SAP Java IDoc Class Library","body":"<p>Perhaps you want to take a look at the SAP Business Connector: it can create IDocDocument objects from IDoc-XML without having a connection to an SAP system. \nYou can then work with these IDoc objects in Java. The metadata information (field-offset and -length for each segment in the IDoc) is only needed at the point, where you actually want to send the IDoc into an SAP system. But as apparently you don't need to do this, you should be fine without metadata information.</p>\n\n<p>SAP BC Homepage: <a href=\"https://support.sap.com/sbc\" rel=\"nofollow noreferrer\">https://support.sap.com/sbc</a></p>\n"}],"owner":{"account_id":400279,"reputation":41322,"user_id":766177,"accept_rate":80,"display_name":"Valentin Despa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3857,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41337035,"answer_count":2,"score":7,"last_activity_date":1687116731,"creation_date":1384711886,"question_id":20034323,"body_markdown":"In a system not connected with SAP I am receiving an IDoc in XML format (if of any importance a Customer Master - `DEBMAS07`).\r\n\r\n**1. Is it possible to read this XML document** using the Java IDoc Class Library (sapidoc3.jar) WITHOUT a connection to the SAP system?\r\n\r\n**2. Is it possible to generate an IDoc in XML format** using Java IDoc Class Library (sapidoc3.jar) WITHOUT a connection to the SAP system?\r\n\r\nI haven&#39;t found any clear examples on how to do this, how to work this this clases, and the examples I&#39;ve found are using classes that require a connection to SAP.\r\n","title":"Parsing an IDoc in XML format using SAP Java IDoc Class Library","body":"<p>In a system not connected with SAP I am receiving an IDoc in XML format (if of any importance a Customer Master - <code>DEBMAS07</code>).</p>\n<p><strong>1. Is it possible to read this XML document</strong> using the Java IDoc Class Library (sapidoc3.jar) WITHOUT a connection to the SAP system?</p>\n<p><strong>2. Is it possible to generate an IDoc in XML format</strong> using Java IDoc Class Library (sapidoc3.jar) WITHOUT a connection to the SAP system?</p>\n<p>I haven't found any clear examples on how to do this, how to work this this clases, and the examples I've found are using classes that require a connection to SAP.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1687108106,"post_id":76501665,"comment_id":134887582,"body_markdown":"Why `option = sc.nextInt()`? Is this from some separate input (System.in should use a single scanner)? Further, when your `for` loop ends, it looks like `option` is still 2, and you hit the `while(true)` (so the loop repeats, and the `for` loop is reached again). You need either a `break` or just removing the `while` loop entirely. If this is for a menu control, you need to be prompting after delegating to some sub-menu.","body":"Why <code>option = sc.nextInt()</code>? Is this from some separate input (System.in should use a single scanner)? Further, when your <code>for</code> loop ends, it looks like <code>option</code> is still 2, and you hit the <code>while(true)</code> (so the loop repeats, and the <code>for</code> loop is reached again). You need either a <code>break</code> or just removing the <code>while</code> loop entirely. If this is for a menu control, you need to be prompting after delegating to some sub-menu."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687108444,"post_id":76501665,"comment_id":134887619,"body_markdown":"please include a [mre] in the question, to avoid lots of guessing","body":"please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question, to avoid lots of guessing"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687116233,"post_id":76501665,"comment_id":134888481,"body_markdown":"Can you provide more of the code?","body":"Can you provide more of the code?"}],"answers":[{"comments":[{"owner":{"account_id":26650981,"reputation":7,"user_id":20265293,"display_name":"Brianna"},"score":0,"creation_date":1687118113,"post_id":76502218,"comment_id":134888697,"body_markdown":"I made all inputs one scanner object, but i am still facing the same issue. The set size variable must be saved to it&#39;s own variable because I have to print it out later. It looks like I did the rest right according to your code, so I&#39;m still not sure why I&#39;m having this issue.","body":"I made all inputs one scanner object, but i am still facing the same issue. The set size variable must be saved to it&#39;s own variable because I have to print it out later. It looks like I did the rest right according to your code, so I&#39;m still not sure why I&#39;m having this issue."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687118308,"post_id":76502218,"comment_id":134888725,"body_markdown":"@Brianna, I imagine there may be an error with _option = sc.nextInt()_, as you would have captured a value a few lines above, with _setSize = scan.nextInt()_.  So, the _Scanner_ will wait until a new value is entered.  Or not; I am unsure what _mainMenu()_ does.","body":"@Brianna, I imagine there may be an error with <i>option = sc.nextInt()</i>, as you would have captured a value a few lines above, with <i>setSize = scan.nextInt()</i>.  So, the <i>Scanner</i> will wait until a new value is entered.  Or not; I am unsure what <i>mainMenu()</i> does."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687116476,"creation_date":1687116476,"answer_id":76502218,"question_id":76501665,"body_markdown":"It looks like you&#39;re using 3 separate _Scanner_ objects.&amp;nbsp; This shouldn&#39;t be necessary, here.\r\n\r\nHere is a basic example of requesting input, and populating an _int_ array.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nSystem.out.print(&quot;Enter set size:  &quot;);\r\nint[] values = new int[scanner.nextInt()];\r\nSystem.out.print(&quot;Enter integer values:  &quot;);\r\nfor (int index = 0; index &lt; values.length; index++)\r\n    values[index] = scanner.nextInt();\r\n\r\nSystem.out.println(Arrays.toString(values));\r\n```\r\n\r\nExample input, and output.\r\n\r\n```none\r\nEnter set size:  10\r\nEnter integer values:  1 2 3 4 5 6 7 8 9 0\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]\r\n```\r\n\r\nAdditionally, if you wanted to enter a value one at a time, you can use the following&amp;mdash;a slight modification.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nSystem.out.print(&quot;Enter set size:  &quot;);\r\nint[] values = new int[scanner.nextInt()];\r\nfor (int index = 0; index &lt; values.length; index++) {\r\n    System.out.printf(&quot;Enter value %d:  &quot;, index + 1);\r\n    values[index] = scanner.nextInt();\r\n}\r\n\r\nSystem.out.println(Arrays.toString(values));\r\n```\r\n\r\n```none\r\nEnter set size:  5\r\nEnter value 1:  1\r\nEnter value 2:  2\r\nEnter value 3:  3\r\nEnter value 4:  4\r\nEnter value 5:  5\r\n[1, 2, 3, 4, 5]\r\n```","title":"For loop not ending when condition is met","body":"<p>It looks like you're using 3 separate <em>Scanner</em> objects. This shouldn't be necessary, here.</p>\n<p>Here is a basic example of requesting input, and populating an <em>int</em> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nSystem.out.print(&quot;Enter set size:  &quot;);\nint[] values = new int[scanner.nextInt()];\nSystem.out.print(&quot;Enter integer values:  &quot;);\nfor (int index = 0; index &lt; values.length; index++)\n    values[index] = scanner.nextInt();\n\nSystem.out.println(Arrays.toString(values));\n</code></pre>\n<p>Example input, and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter set size:  10\nEnter integer values:  1 2 3 4 5 6 7 8 9 0\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]\n</code></pre>\n<p>Additionally, if you wanted to enter a value one at a time, you can use the followinga slight modification.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nSystem.out.print(&quot;Enter set size:  &quot;);\nint[] values = new int[scanner.nextInt()];\nfor (int index = 0; index &lt; values.length; index++) {\n    System.out.printf(&quot;Enter value %d:  &quot;, index + 1);\n    values[index] = scanner.nextInt();\n}\n\nSystem.out.println(Arrays.toString(values));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Enter set size:  5\nEnter value 1:  1\nEnter value 2:  2\nEnter value 3:  3\nEnter value 4:  4\nEnter value 5:  5\n[1, 2, 3, 4, 5]\n</code></pre>\n"}],"owner":{"account_id":26650981,"reputation":7,"user_id":20265293,"display_name":"Brianna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687116476,"creation_date":1687107633,"question_id":76501665,"body_markdown":"I&#39;ve got code that reads user input for the size of an array of integers, that then reads user input for each integer. I&#39;m running into trouble in that the array that reads each integer isn&#39;t stopped when the condition of the for loop is met (i &lt; setSize). It just runs and runs and runs after I enter unlimited integer values. What could be going wrong. I need to have the set size be accepted in one option and the integer values be accepted in another option.\r\n\r\n```//initialize variables\r\n        int setSize = 0;\r\n        int [] integerValues = new int[0];\r\n\r\n        while (true){\r\n            //read set size (number of integers)\r\n            if (option == 1){\r\n                //read user input for set size\r\n                System.out.println(&quot;Enter set size:&quot;);\r\n                setSize = scan.nextInt();\r\n                //set integer values to be the size of set size\r\n                integerValues = new int[setSize];\r\n\r\n                mainMenu();\r\n                option = sc.nextInt();\r\n            }\r\n            //Read set elements (integer values)\r\n            else if (option == 2){\r\n\r\n                //assign int values to array\r\n                for (int i = 0; i &lt; setSize; i ++){\r\n                    System.out.println(&quot;Enter integer values:&quot;);\r\n                    integerValues [i] = scanner.nextInt();\r\n                }\r\n            } ```","title":"For loop not ending when condition is met","body":"<p>I've got code that reads user input for the size of an array of integers, that then reads user input for each integer. I'm running into trouble in that the array that reads each integer isn't stopped when the condition of the for loop is met (i &lt; setSize). It just runs and runs and runs after I enter unlimited integer values. What could be going wrong. I need to have the set size be accepted in one option and the integer values be accepted in another option.</p>\n<pre><code>        int setSize = 0;\n        int [] integerValues = new int[0];\n\n        while (true){\n            //read set size (number of integers)\n            if (option == 1){\n                //read user input for set size\n                System.out.println(&quot;Enter set size:&quot;);\n                setSize = scan.nextInt();\n                //set integer values to be the size of set size\n                integerValues = new int[setSize];\n\n                mainMenu();\n                option = sc.nextInt();\n            }\n            //Read set elements (integer values)\n            else if (option == 2){\n\n                //assign int values to array\n                for (int i = 0; i &lt; setSize; i ++){\n                    System.out.println(&quot;Enter integer values:&quot;);\n                    integerValues [i] = scanner.nextInt();\n                }\n            } ```\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686819908,"post_id":76480797,"comment_id":134852828,"body_markdown":"Sure you can. Based on your parameter enable/disable the web parts of your application that way Spring Boot will not start the server.","body":"Sure you can. Based on your parameter enable/disable the web parts of your application that way Spring Boot will not start the server."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686819627,"creation_date":1686819627,"answer_id":76480838,"question_id":76480797,"body_markdown":"Of course you can. There was a discussion for basically this topic [here][1], but basically you can define a program argument and then create a simple `if...else` in `main` method for your needs:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    if (&quot;n1&quot;.equals(args[0])) {\r\n        // foo\r\n    } else {\r\n        SpringApplication.run(Bar.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/20404","title":"Can Spring Boot use as command line app and as server?","body":"<p>Of course you can. There was a discussion for basically this topic <a href=\"https://github.com/spring-projects/spring-boot/issues/20404\" rel=\"nofollow noreferrer\">here</a>, but basically you can define a program argument and then create a simple <code>if...else</code> in <code>main</code> method for your needs:</p>\n<pre><code>public static void main(String[] args) {\n    if (&quot;n1&quot;.equals(args[0])) {\n        // foo\n    } else {\n        SpringApplication.run(Bar.class, args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1686831356,"post_id":76481003,"comment_id":134855232,"body_markdown":"what is this void(....) method ?","body":"what is this void(....) method ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686831455,"post_id":76481003,"comment_id":134855253,"body_markdown":"For some reason I decided to leave out the `main`. Fixed.","body":"For some reason I decided to leave out the <code>main</code>. Fixed."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1686836427,"post_id":76481003,"comment_id":134856488,"body_markdown":"what is the Bar.class , why i need it ?","body":"what is the Bar.class , why i need it ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686836482,"post_id":76481003,"comment_id":134856511,"body_markdown":"That is your `@SpringBootApplication` annotated class, I do assume some basic java and SPring Boot knowledge if you ask questions like you did.","body":"That is your <code>@SpringBootApplication</code> annotated class, I do assume some basic java and SPring Boot knowledge if you ask questions like you did."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1686836726,"post_id":76481003,"comment_id":134856564,"body_markdown":"you mean like in simple spring app you do : SpringApplication(Foo.class)","body":"you mean like in simple spring app you do : SpringApplication(Foo.class)"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686831469,"creation_date":1686820861,"answer_id":76481003,"question_id":76480797,"body_markdown":"You&#39;ve got options, you can use the `SpringApplicationBuilder` and based on the property you can set the `web` parameter to NONE/SERVLET or you could modify the incoming arguments to add a parameter so Spring Boot knows what to do. Either way should work. \r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n  var server = ObjectUtils.containsElement(args, &quot;-a:server&quot;);\r\n  var type = server ? WebApplicationType.SERVLET : WebApplicationType.NONE;\r\n  var application = new SpringApplicationBuilder()\r\n     .sources(Bar.class)\r\n     .web(type).build();\r\n  application.run(args);\r\n}\r\n```\r\n\r\nOr you could modify the incoming arguments and add `spring.main.web-application-type` with the value based on what you pass in. \r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n  var server = ObjectUtils.containsElement(args, &quot;-a:server&quot;);\r\n  var param = &quot;spring.main.web-application-type=&quot; + ( server ? &quot;SERVLET&quot; : &quot;NONE&quot;);\r\n  var argsToUse = ObjectUtils.addObjectToArray(args, param);\r\n  SpringApplication.run(Bar.class, argsToUse);\r\n}\r\n```\r\n\r\n","title":"Can Spring Boot use as command line app and as server?","body":"<p>You've got options, you can use the <code>SpringApplicationBuilder</code> and based on the property you can set the <code>web</code> parameter to NONE/SERVLET or you could modify the incoming arguments to add a parameter so Spring Boot knows what to do. Either way should work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n  var server = ObjectUtils.containsElement(args, &quot;-a:server&quot;);\n  var type = server ? WebApplicationType.SERVLET : WebApplicationType.NONE;\n  var application = new SpringApplicationBuilder()\n     .sources(Bar.class)\n     .web(type).build();\n  application.run(args);\n}\n</code></pre>\n<p>Or you could modify the incoming arguments and add <code>spring.main.web-application-type</code> with the value based on what you pass in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n  var server = ObjectUtils.containsElement(args, &quot;-a:server&quot;);\n  var param = &quot;spring.main.web-application-type=&quot; + ( server ? &quot;SERVLET&quot; : &quot;NONE&quot;);\n  var argsToUse = ObjectUtils.addObjectToArray(args, param);\n  SpringApplication.run(Bar.class, argsToUse);\n}\n</code></pre>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76481003,"answer_count":2,"score":1,"last_activity_date":1687116209,"creation_date":1686819332,"question_id":76480797,"body_markdown":"Is it possible to use a Spring Boot app as a command-line application with command-line switches, as well as a server? I would like users to be able to invoke the app with command arguments, execute the desired action, and then exit.\r\n\r\nHowever, I would also like the app to have the ability to start as a server and listen for REST requests. For example, for the command-line usage:  \r\n \r\n    &#39;./myapp -n:1 -b:2&#39;,\r\n\r\n And for the server mode:\r\n\r\n     &#39;./myapp -a:server&#39;`,\r\n\r\nit would start the app as a server.\r\n","title":"Can Spring Boot use as command line app and as server?","body":"<p>Is it possible to use a Spring Boot app as a command-line application with command-line switches, as well as a server? I would like users to be able to invoke the app with command arguments, execute the desired action, and then exit.</p>\n<p>However, I would also like the app to have the ability to start as a server and listen for REST requests. For example, for the command-line usage:</p>\n<pre><code>'./myapp -n:1 -b:2',\n</code></pre>\n<p>And for the server mode:</p>\n<pre><code> './myapp -a:server'`,\n</code></pre>\n<p>it would start the app as a server.</p>\n"},{"tags":["java","saprfc","jco"],"answers":[{"comments":[{"owner":{"account_id":9136867,"reputation":1,"user_id":6805471,"display_name":"Fran"},"score":0,"creation_date":1473268518,"post_id":39374397,"comment_id":66079543,"body_markdown":"The problem is that when I do on Java the next code   function.getImportParameterList().getTable(&quot;IT_LOCATION_KEYS&quot;) it says that there is no input table with that name so I can&#39;t set any filter to retrieve data.","body":"The problem is that when I do on Java the next code   function.getImportParameterList().getTable(&quot;IT_LOCATION_KEYS&zwnj;&#8203;&quot;) it says that there is no input table with that name so I can&#39;t set any filter to retrieve data."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1473275393,"post_id":39374397,"comment_id":66082736,"body_markdown":"...and rightly so, because it&#39;s not an `IMPORTING` parameter but a `TABLES` parameter.","body":"...and rightly so, because it&#39;s not an <code>IMPORTING</code> parameter but a <code>TABLES</code> parameter."},{"owner":{"account_id":9136867,"reputation":1,"user_id":6805471,"display_name":"Fran"},"score":0,"creation_date":1473335693,"post_id":39374397,"comment_id":66106459,"body_markdown":"Ok vwegert and thanks for your answer, can you check the new comments and help me with the data problem.","body":"Ok vwegert and thanks for your answer, can you check the new comments and help me with the data problem."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1473345004,"post_id":39374397,"comment_id":66113372,"body_markdown":"No, not without you posting the ABAP code of the function module.","body":"No, not without you posting the ABAP code of the function module."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1473409085,"post_id":39374397,"comment_id":66138842,"body_markdown":"That is not the code, that is merely the interface definition.","body":"That is not the code, that is merely the interface definition."},{"owner":{"account_id":9136867,"reputation":1,"user_id":6805471,"display_name":"Fran"},"score":0,"creation_date":1473409489,"post_id":39374397,"comment_id":66139055,"body_markdown":"There you have it","body":"There you have it"}],"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473275486,"creation_date":1473263505,"answer_id":39374397,"question_id":39374010,"body_markdown":"`TABLES` parameters are always changing parameters (in- and output), regardless of their name. It&#39;s up to the implementation what they are actually used for.\r\n\r\nYou will need to use [`getTableParameterList()`][1] to access the parameter.\r\n\r\n\r\n  [1]: https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoFunction.html#getTableParameterList()","title":"Java and SAP JCoFunction getting no data","body":"<p><code>TABLES</code> parameters are always changing parameters (in- and output), regardless of their name. It's up to the implementation what they are actually used for.</p>\n\n<p>You will need to use <a href=\"https://help.hana.ondemand.com/javadoc/com/sap/conn/jco/JCoFunction.html#getTableParameterList()\" rel=\"nofollow\"><code>getTableParameterList()</code></a> to access the parameter.</p>\n"}],"owner":{"account_id":9136867,"reputation":1,"user_id":6805471,"display_name":"Fran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687116179,"creation_date":1473262287,"question_id":39374010,"body_markdown":"Hi I need help with a SAP integration with java. I don&#39;t know much about SAP but if I&#39;m getting a function with the next template using the Java JcoFunction.\r\n\r\n- Input:\r\n  -  IV_SIZE_EXCHG  \r\n  -  IV_TRGID  \r\n- Changing:\r\n  -  null\r\n- Output:\r\n  -  EV_TOTAL_ZDT1  \r\n- Tables:\r\n  -  ET_ARTICLES  \r\n  -  ET_LOCATION_KEYS\r\n  -  ET_TREAGERS  \r\n  -  IT_LOCATION_KEYS\r\n  -  RETURN  \r\n- Exceptions:\r\n\r\nMy client gets data with SAP filtering by the table `IT_LOCATION_KEYS`. But  as you can see the table is on the output side and not on the input.\r\n\r\nCan this work on Java?\r\n\r\nBy the way there is any way to get all data with a limit or top like in SQL. Thanks.\r\n\r\nThis is my code:\r\n\r\n    JCoParameterList importParameterList = function.getImportParameterList();\r\n    \r\n    JCoTable articlesTable = importParameterList.getTable(&quot;IT_LOCATION_KEYS&quot;);\r\n    articlesTable.appendRow();\r\n    articlesTable.setValue(PARAM_CUSTOMER_NUMBER, request.getCustomer().getCustomerNumber());\r\n    articlesTable.setValue(PARAM_CONTRACT_NUMBER, request.getContractNumber());\r\n    articlesTable.setValue(PARAM_LOCATION, request.getLocation());\r\n\r\nAnd when I tried to get the table IT_LOCATION_KEYS it says that there is no input table.\r\n\r\nI also tried to get the table using the next code.\r\n\r\n    JCoTable articlesTable = function.getTableParameterList().getTable(&quot;IT_LOCATION_KEYS&quot;);\r\n\r\nThis seems to work fine but now the problem is that I still can&#39;t get any data by the export.\r\n\r\n    function.getExportParameterList()\r\n\r\nThe result is \r\n\r\n    |------------|\r\n    | PARAMETERS &#39;OUTPUT&#39;\r\n    |------------|\r\n    |EV_TOTAL_ZDT|\r\n    |------------|\r\n    |   0   1   2|\r\n    |------------|\r\n    |00000000000C|\r\n    |------------|\r\n\r\nAnd the output tables are always empty.\r\n\r\n    function.getTableParameterList().getTable(&quot;ET_LOCATION_KEYS&quot;);\r\n\r\n","title":"Java and SAP JCoFunction getting no data","body":"<p>Hi I need help with a SAP integration with java. I don't know much about SAP but if I'm getting a function with the next template using the Java JcoFunction.</p>\n<ul>\n<li>Input:\n<ul>\n<li>IV_SIZE_EXCHG</li>\n<li>IV_TRGID</li>\n</ul>\n</li>\n<li>Changing:\n<ul>\n<li>null</li>\n</ul>\n</li>\n<li>Output:\n<ul>\n<li>EV_TOTAL_ZDT1</li>\n</ul>\n</li>\n<li>Tables:\n<ul>\n<li>ET_ARTICLES</li>\n<li>ET_LOCATION_KEYS</li>\n<li>ET_TREAGERS</li>\n<li>IT_LOCATION_KEYS</li>\n<li>RETURN</li>\n</ul>\n</li>\n<li>Exceptions:</li>\n</ul>\n<p>My client gets data with SAP filtering by the table <code>IT_LOCATION_KEYS</code>. But  as you can see the table is on the output side and not on the input.</p>\n<p>Can this work on Java?</p>\n<p>By the way there is any way to get all data with a limit or top like in SQL. Thanks.</p>\n<p>This is my code:</p>\n<pre><code>JCoParameterList importParameterList = function.getImportParameterList();\n\nJCoTable articlesTable = importParameterList.getTable(&quot;IT_LOCATION_KEYS&quot;);\narticlesTable.appendRow();\narticlesTable.setValue(PARAM_CUSTOMER_NUMBER, request.getCustomer().getCustomerNumber());\narticlesTable.setValue(PARAM_CONTRACT_NUMBER, request.getContractNumber());\narticlesTable.setValue(PARAM_LOCATION, request.getLocation());\n</code></pre>\n<p>And when I tried to get the table IT_LOCATION_KEYS it says that there is no input table.</p>\n<p>I also tried to get the table using the next code.</p>\n<pre><code>JCoTable articlesTable = function.getTableParameterList().getTable(&quot;IT_LOCATION_KEYS&quot;);\n</code></pre>\n<p>This seems to work fine but now the problem is that I still can't get any data by the export.</p>\n<pre><code>function.getExportParameterList()\n</code></pre>\n<p>The result is</p>\n<pre><code>|------------|\n| PARAMETERS 'OUTPUT'\n|------------|\n|EV_TOTAL_ZDT|\n|------------|\n|   0   1   2|\n|------------|\n|00000000000C|\n|------------|\n</code></pre>\n<p>And the output tables are always empty.</p>\n<pre><code>function.getTableParameterList().getTable(&quot;ET_LOCATION_KEYS&quot;);\n</code></pre>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":1,"creation_date":1537551798,"post_id":52448645,"comment_id":91840352,"body_markdown":"This is a perfect opportunity for you to learn the power debugging. Inspect the value of `str` and `str.charAt(i)` during each loop iteration. To make debugging easier remove the user input and hardcode the string at the beginning of the test.","body":"This is a perfect opportunity for you to learn the power debugging. Inspect the value of <code>str</code> and <code>str.charAt(i)</code> during each loop iteration. To make debugging easier remove the user input and hardcode the string at the beginning of the test."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1537551833,"post_id":52448645,"comment_id":91840367,"body_markdown":"Consider what happens if you delete a character at index 0: the character at index 1 is shifted to index 0...","body":"Consider what happens if you delete a character at index 0: the character at index 1 is shifted to index 0..."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1537716501,"post_id":52448645,"comment_id":91876903,"body_markdown":"[What does your step debugger tell you?](http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems). Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow.","body":"<a href=\"http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What does your step debugger tell you?</a>. Your question can be answered very quickly and easily with your step-debugger. You should always try and solve your problems with a step debugger before coming to StackOverflow."}],"answers":[{"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537551815,"creation_date":1537551815,"answer_id":52448716,"question_id":52448645,"body_markdown":"This is because when you delete a letter at the beginning all the characters shift. So for `String str = &quot;xxHello&quot;;`:\r\n\r\n    x x H e l l o\r\n    0 1 2 3 4 5 6\r\nThen when you delete the first `x`:\r\n\r\n    x H e l l o\r\n    0 1 2 3 4 5\r\nSo on your second iteration it will check to see if the first index (In this case `H`) is `X`. To fix this you can set `i` to 1 and then loop to zero:\r\n\r\n    StringBuilder str =  new StringBuilder();\r\n    str.append(userIn.nextLine());\r\n\r\n    for(int i = 1; i&gt; -1; i--) {\r\n        if((str.charAt(i) == &#39;x&#39;) || (str.charAt(i) == &#39;X&#39;)) {\r\n            str = str.deleteCharAt(i);\r\n        }\r\n    }\r\n    System.out.println(str);\r\n\r\n***Output:***\r\n\r\n    Hello\r\n    ","title":"Trying to remove multiple specific char from a StringBuilder in s specific way","body":"<p>This is because when you delete a letter at the beginning all the characters shift. So for <code>String str = \"xxHello\";</code>:</p>\n\n<pre><code>x x H e l l o\n0 1 2 3 4 5 6\n</code></pre>\n\n<p>Then when you delete the first <code>x</code>:</p>\n\n<pre><code>x H e l l o\n0 1 2 3 4 5\n</code></pre>\n\n<p>So on your second iteration it will check to see if the first index (In this case <code>H</code>) is <code>X</code>. To fix this you can set <code>i</code> to 1 and then loop to zero:</p>\n\n<pre><code>StringBuilder str =  new StringBuilder();\nstr.append(userIn.nextLine());\n\nfor(int i = 1; i&gt; -1; i--) {\n    if((str.charAt(i) == 'x') || (str.charAt(i) == 'X')) {\n        str = str.deleteCharAt(i);\n    }\n}\nSystem.out.println(str);\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>Hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11317635,"reputation":53209,"user_id":8298909,"display_name":"Ben P."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537551884,"creation_date":1537551884,"answer_id":52448729,"question_id":52448645,"body_markdown":"Imagine that your input string is `&quot;XXY&quot;`. Let&#39;s step through your code:\r\n\r\n&gt;     for(int i = 0; i&lt;2; i++) {\r\n        if((str.charAt(i) == &#39;x&#39;) || (str.charAt(i) == &#39;X&#39;)) {\r\n            str = str.deleteCharAt(i);\r\n        }\r\n    }\r\n\r\nOn the first iteration, `i` is equal to `0`, so we check if the first character in the string is equal to `&#39;x&#39;` or to `&#39;X&#39;`. The first character of `&quot;XXY&quot;` is in fact equal, so we execute the contents of the `if` statement: \r\n\r\n&gt;     str = str.deleteCharAt(i);\r\n\r\nNow our string is `&quot;XY&quot;`. And now we go through the loop again.\r\n\r\nOn the second iteration, `i` is equal to `1`, so we check the _second_ character in the string. But now our string is `&quot;XY&quot;`, so the second character is `&#39;Y&#39;` and the `if` check fails.","title":"Trying to remove multiple specific char from a StringBuilder in s specific way","body":"<p>Imagine that your input string is <code>\"XXY\"</code>. Let's step through your code:</p>\n\n<blockquote>\n<pre><code>for(int i = 0; i&lt;2; i++) {\n    if((str.charAt(i) == 'x') || (str.charAt(i) == 'X')) {\n        str = str.deleteCharAt(i);\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>On the first iteration, <code>i</code> is equal to <code>0</code>, so we check if the first character in the string is equal to <code>'x'</code> or to <code>'X'</code>. The first character of <code>\"XXY\"</code> is in fact equal, so we execute the contents of the <code>if</code> statement: </p>\n\n<blockquote>\n<pre><code>str = str.deleteCharAt(i);\n</code></pre>\n</blockquote>\n\n<p>Now our string is <code>\"XY\"</code>. And now we go through the loop again.</p>\n\n<p>On the second iteration, <code>i</code> is equal to <code>1</code>, so we check the <em>second</em> character in the string. But now our string is <code>\"XY\"</code>, so the second character is <code>'Y'</code> and the <code>if</code> check fails.</p>\n"},{"comments":[{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1537559528,"post_id":52448838,"comment_id":91843684,"body_markdown":"Doesn&#39;t do what&#39;s specified for e.g. &quot;abcxx&quot; (i.e. *&quot;(...) only from the first and second index&quot;*)","body":"Doesn&#39;t do what&#39;s specified for e.g. &quot;abcxx&quot; (i.e. <i>&quot;(...) only from the first and second index&quot;</i>)"},{"owner":{"account_id":14372284,"reputation":33,"user_id":10381708,"display_name":"urs_ng"},"score":0,"creation_date":1537568893,"post_id":52448838,"comment_id":91846856,"body_markdown":"As per the question its only the first and the second indexed position, so this is absolutely correct","body":"As per the question its only the first and the second indexed position, so this is absolutely correct"},{"owner":{"account_id":1287824,"reputation":12974,"user_id":1240557,"display_name":"kryger"},"score":0,"creation_date":1537623115,"post_id":52448838,"comment_id":91856507,"body_markdown":"OP&#39;s code makes it clear that they only care about `str.charAt(0)` and `str.charAt(1)`.","body":"OP&#39;s code makes it clear that they only care about <code>str.charAt(0)</code> and <code>str.charAt(1)</code>."},{"owner":{"account_id":14372284,"reputation":33,"user_id":10381708,"display_name":"urs_ng"},"score":0,"creation_date":1537644860,"post_id":52448838,"comment_id":91862387,"body_markdown":"Got it .. I have edited the answer","body":"Got it .. I have edited the answer"}],"tags":[],"owner":{"account_id":14372284,"reputation":33,"user_id":10381708,"display_name":"urs_ng"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537646299,"creation_date":1537552374,"answer_id":52448838,"question_id":52448645,"body_markdown":"Since there are only first two deletion to be done so inbuilt function can be used :\r\n\r\n    Scanner userIn = new Scanner(System.in);        \r\n    StringBuilder str =  new StringBuilder();\r\n    str.append(userIn.nextLine());\r\n    int j=0;\r\n    for(int i = 0; i&lt;2; i++) {\r\n        if((str.charAt(j) == &#39;x&#39;) || (str.charAt(j) == &#39;X&#39;)) {\r\n            str = str.deleteCharAt(j);\r\n        }else{\r\n            j++;\r\n        }\r\n    }\r\n    System.out.println(str);","title":"Trying to remove multiple specific char from a StringBuilder in s specific way","body":"<p>Since there are only first two deletion to be done so inbuilt function can be used :</p>\n\n<pre><code>Scanner userIn = new Scanner(System.in);        \nStringBuilder str =  new StringBuilder();\nstr.append(userIn.nextLine());\nint j=0;\nfor(int i = 0; i&lt;2; i++) {\n    if((str.charAt(j) == 'x') || (str.charAt(j) == 'X')) {\n        str = str.deleteCharAt(j);\n    }else{\n        j++;\n    }\n}\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13611000,"reputation":1818,"user_id":9818506,"display_name":"Rene Knop"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537724523,"creation_date":1537716035,"answer_id":52467519,"question_id":52448645,"body_markdown":"You could use `str.delete(start, end)` instead of the loop. For example:\r\n\r\n    String substr = str.substring(0,2).toLowerCase();\r\n    str.delete(\r\n        substr.indexOf(&#39;x&#39;),\r\n        substr.lastIndexOf(&#39;x&#39;)+1\r\n    );\r\n\r\n","title":"Trying to remove multiple specific char from a StringBuilder in s specific way","body":"<p>You could use <code>str.delete(start, end)</code> instead of the loop. For example:</p>\n\n<pre><code>String substr = str.substring(0,2).toLowerCase();\nstr.delete(\n    substr.indexOf('x'),\n    substr.lastIndexOf('x')+1\n);\n</code></pre>\n"}],"owner":{"account_id":7415049,"reputation":23,"user_id":5641179,"display_name":"Humayan Kabir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1687116005,"creation_date":1537551486,"question_id":52448645,"body_markdown":"I&#39;m trying to remove every &quot;x&quot; regardless of case only from the first and second index but my program only removes the first index&#39;s letter and then loops without removing the second one.\r\n\r\n\t\tScanner userIn = new Scanner(System.in);\t\t\r\n\t\tStringBuilder str =  new StringBuilder();\r\n\t\tstr.append(userIn.nextLine());\r\n\t\t\t\t\r\n\t\tfor(int i = 0; i&lt;2; i++) {\r\n\t\t\tif((str.charAt(i) == &#39;x&#39;) || (str.charAt(i) == &#39;X&#39;)) {\r\n\t\t\t\tstr = str.deleteCharAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(str);\r\n","title":"Trying to remove multiple specific char from a StringBuilder in s specific way","body":"<p>I'm trying to remove every \"x\" regardless of case only from the first and second index but my program only removes the first index's letter and then loops without removing the second one.</p>\n\n<pre><code>    Scanner userIn = new Scanner(System.in);        \n    StringBuilder str =  new StringBuilder();\n    str.append(userIn.nextLine());\n\n    for(int i = 0; i&lt;2; i++) {\n        if((str.charAt(i) == 'x') || (str.charAt(i) == 'X')) {\n            str = str.deleteCharAt(i);\n        }\n    }\n    System.out.println(str);\n</code></pre>\n"},{"tags":["java","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":6132333,"reputation":41,"user_id":4782148,"accept_rate":20,"display_name":"Umar Hyatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524643653,"creation_date":1524643653,"answer_id":50017089,"question_id":49964616,"body_markdown":"Apparently there is no way to do it.","title":"Scan SAP Web Dynpro code written in SAP Netweaver Developer Studio using HPE SCA","body":"<p>Apparently there is no way to do it.</p>\n"}],"owner":{"account_id":6132333,"reputation":41,"user_id":4782148,"accept_rate":20,"display_name":"Umar Hyatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50017089,"answer_count":1,"score":0,"last_activity_date":1687115976,"creation_date":1524390595,"question_id":49964616,"body_markdown":"Can I use HPE Static Code Analyzer to scan SAP Web Dynpro code written in SAP Netweaver Developer Studio?","title":"Scan SAP Web Dynpro code written in SAP Netweaver Developer Studio using HPE SCA","body":"<p>Can I use HPE Static Code Analyzer to scan SAP Web Dynpro code written in SAP Netweaver Developer Studio?</p>\n"},{"tags":["java","string","for-loop","while-loop","char"],"comments":[{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687015472,"post_id":76496699,"comment_id":134879556,"body_markdown":"@WJS sure! but I want to know what happens specifically at this particular case ?","body":"@WJS sure! but I want to know what happens specifically at this particular case ?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687033368,"post_id":76496699,"comment_id":134881622,"body_markdown":"Is there an error, or are you requesting an explanation to how the code works?","body":"Is there an error, or are you requesting an explanation to how the code works?"},{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687106416,"post_id":76496699,"comment_id":134887418,"body_markdown":"@Reilas I want to understand how the code works during the above mentioned situation.","body":"@Reilas I want to understand how the code works during the above mentioned situation."}],"answers":[{"comments":[{"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"score":1,"creation_date":1687015315,"post_id":76496864,"comment_id":134879530,"body_markdown":"That reverses the whole string, printing &quot;!maerc eci ekil I&quot;. OP wants the *order* of the words reversed, as in &quot;cream! ice love I&quot;.","body":"That reverses the whole string, printing &quot;!maerc eci ekil I&quot;. OP wants the <i>order</i> of the words reversed, as in &quot;cream! ice love I&quot;."}],"tags":[],"owner":{"account_id":28840445,"reputation":1,"user_id":22088834,"display_name":"Mohanraj Rathinakumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687114679,"creation_date":1687015174,"answer_id":76496864,"question_id":76496699,"body_markdown":"//change the method  of &quot;reverseWords&quot; as provided below\r\n\r\n    static char[] reverseWords(char[] s){\r\n       int start = 0;\r\n       reverse(s, start, s.length -1);\r\n       return s;\r\n        }\r\n\r\n//Try the following To Reverse the Words Order\r\n\r\n\tpublic static String reverseString(String input) {\r\n\t\t\r\n\t\tString[] array = input.split(&quot; &quot;);\r\n\t\tString output=&quot;&quot;;\r\n\t\t\r\n\t\tfor(String str:array) {\r\n\t\t\toutput = str+&quot; &quot;+output;\r\n\t\t} \r\n\t\treturn output;\r\n\t}","title":"Reversing a user input string using methods","body":"<p>//change the method  of &quot;reverseWords&quot; as provided below</p>\n<pre><code>static char[] reverseWords(char[] s){\n   int start = 0;\n   reverse(s, start, s.length -1);\n   return s;\n    }\n</code></pre>\n<p>//Try the following To Reverse the Words Order</p>\n<pre><code>public static String reverseString(String input) {\n    \n    String[] array = input.split(&quot; &quot;);\n    String output=&quot;&quot;;\n    \n    for(String str:array) {\n        output = str+&quot; &quot;+output;\n    } \n    return output;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687019987,"post_id":76496865,"comment_id":134880176,"body_markdown":"@BpppreH makes sense, thankyou!","body":"@BpppreH makes sense, thankyou!"},{"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"score":0,"creation_date":1687020351,"post_id":76496865,"comment_id":134880212,"body_markdown":"Hi @sriram if this or any answer has solved your question please consider [accepting it](https://meta.stackexchange.com/q/5234/179419) by clicking the check-mark. This indicates to the wider community that you&#39;ve found a solution and gives some reputation to both the answerer and yourself. There is no obligation to do this.","body":"Hi @sriram if this or any answer has solved your question please consider <a href=\"https://meta.stackexchange.com/q/5234/179419\">accepting it</a> by clicking the check-mark. This indicates to the wider community that you&#39;ve found a solution and gives some reputation to both the answerer and yourself. There is no obligation to do this."},{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687024785,"post_id":76496865,"comment_id":134880698,"body_markdown":"hey @BoppreH after taking the input of type String, does the value is stored in the string constant pool or heap memory in runtime or compiling time? even when the String is passed as an argument to the reverseWords method and reverse method or it won&#39;t be stored in the memory ??","body":"hey @BoppreH after taking the input of type String, does the value is stored in the string constant pool or heap memory in runtime or compiling time? even when the String is passed as an argument to the reverseWords method and reverse method or it won&#39;t be stored in the memory ??"},{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687025262,"post_id":76496865,"comment_id":134880746,"body_markdown":"like in case it is stored in either of this memory at what time it happens whether runtime or compile time?","body":"like in case it is stored in either of this memory at what time it happens whether runtime or compile time?"},{"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"score":0,"creation_date":1687025872,"post_id":76496865,"comment_id":134880808,"body_markdown":"@sriram Because it&#39;s read with scanner, it&#39;s stored in the heap. The same string is shared between the functions, no copies are made. Try printing &#39;s&#39; at the end and you&#39;ll see it&#39;s also reversed.","body":"@sriram Because it&#39;s read with scanner, it&#39;s stored in the heap. The same string is shared between the functions, no copies are made. Try printing &#39;s&#39; at the end and you&#39;ll see it&#39;s also reversed."},{"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"score":0,"creation_date":1687026154,"post_id":76496865,"comment_id":134880855,"body_markdown":"so only the reference of String is been passed as argument not the actual value ?","body":"so only the reference of String is been passed as argument not the actual value ?"},{"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"score":0,"creation_date":1687031081,"post_id":76496865,"comment_id":134881392,"body_markdown":"@sriram in case of containers (like char[]) and objects (like String) the value is a reference to a memory location. Passing it as argument copies the address number, but not the contents pointed by the address. https://www.digitalocean.com/community/tutorials/java-is-pass-by-value-and-not-pass-by-reference","body":"@sriram in case of containers (like char[]) and objects (like String) the value is a reference to a memory location. Passing it as argument copies the address number, but not the contents pointed by the address. <a href=\"https://www.digitalocean.com/community/tutorials/java-is-pass-by-value-and-not-pass-by-reference\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"}],"tags":[],"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687015860,"creation_date":1687015176,"answer_id":76496865,"question_id":76496699,"body_markdown":"If I understand the question correctly (the last paragraph was a bit long-winded), you&#39;re asking about the fact that there are `start` and `end` variables in two different methods that call each other, and how that affects those values.\r\n\r\nThe short answer is that they don&#39;t affect each other at all. Variables declared in one function are completely unrelated to variables of the same name in another function, and that includes function parameters.\r\n\r\nThe changes to `end` that were done in `reverse` are not visible to `reverseWords`. You can print `end` just before and after `reverse(s, start, end);` and you&#39;ll see the same value. If `end` was 1 before, it&#39;ll be 1 after.\r\n\r\nNote that when you have containers and objects, changes done to values *inside* those containers and objects will be visible to everyone. That&#39;s because the variable itself is a reference, and if you hand this reference to another function they&#39;ll both point to the same underlying data structure.\r\n\r\n---\r\n\r\nAs for your bug, the problem is that `reverse` swaps all the letters between `start` and `end` *inclusive*, that is, it swaps `s[start] &lt;-&gt; s[end]`, then `s[start+1] &lt;-&gt; s[end-1]`, etc. That&#39;s a problem because `reverseWords` calls it when `s[end] == &#39; &#39;`, so the first letter will be swapped with the space, not the last letter.\r\n\r\nTo fix it, simply call `reverse` with the end moved back a little bit:\r\n\r\n        static char[] reverseWords(char[] s){\r\n            int start = 0;\r\n            for(int end = 0; end &lt; s.length; end++){\r\n                if(s[end] == &#39; &#39;){\r\n                    // Changed here to end-1.\r\n                    reverse(s, start, end-1);\r\n                    start = end + 1;\r\n                }\r\n            }\r\n            reverse(s, start, s.length -1);\r\n            reverse(s, 0, s.length-1);\r\n            return s;\r\n        }\r\n\r\n```\r\nenter the string to be reversed\r\nI like ice cream!\r\ncream! ice like I\r\n```","title":"Reversing a user input string using methods","body":"<p>If I understand the question correctly (the last paragraph was a bit long-winded), you're asking about the fact that there are <code>start</code> and <code>end</code> variables in two different methods that call each other, and how that affects those values.</p>\n<p>The short answer is that they don't affect each other at all. Variables declared in one function are completely unrelated to variables of the same name in another function, and that includes function parameters.</p>\n<p>The changes to <code>end</code> that were done in <code>reverse</code> are not visible to <code>reverseWords</code>. You can print <code>end</code> just before and after <code>reverse(s, start, end);</code> and you'll see the same value. If <code>end</code> was 1 before, it'll be 1 after.</p>\n<p>Note that when you have containers and objects, changes done to values <em>inside</em> those containers and objects will be visible to everyone. That's because the variable itself is a reference, and if you hand this reference to another function they'll both point to the same underlying data structure.</p>\n<hr />\n<p>As for your bug, the problem is that <code>reverse</code> swaps all the letters between <code>start</code> and <code>end</code> <em>inclusive</em>, that is, it swaps <code>s[start] &lt;-&gt; s[end]</code>, then <code>s[start+1] &lt;-&gt; s[end-1]</code>, etc. That's a problem because <code>reverseWords</code> calls it when <code>s[end] == ' '</code>, so the first letter will be swapped with the space, not the last letter.</p>\n<p>To fix it, simply call <code>reverse</code> with the end moved back a little bit:</p>\n<pre><code>    static char[] reverseWords(char[] s){\n        int start = 0;\n        for(int end = 0; end &lt; s.length; end++){\n            if(s[end] == ' '){\n                // Changed here to end-1.\n                reverse(s, start, end-1);\n                start = end + 1;\n            }\n        }\n        reverse(s, start, s.length -1);\n        reverse(s, 0, s.length-1);\n        return s;\n    }\n</code></pre>\n<pre><code>enter the string to be reversed\nI like ice cream!\ncream! ice like I\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687115859,"creation_date":1687115859,"answer_id":76502179,"question_id":76496699,"body_markdown":"There is a lot to explain.\r\n\r\nIt might be easier to visualize the flow of data by printing relevant values to the standard-out.\r\n\r\nI&#39;ve implemented a few outputs, from within the separate methods.\r\n\r\n```java\r\nstatic void reverse(char str[], int start, int end){\r\n    char temp;\r\n    while(start &lt;= end){\r\n        System.out.printf(&quot; reverse,%n  start = %d, end = %d%n&quot;, start, end);\r\n        temp = str[start];\r\n        str[start] = str[end];\r\n        str[end] = temp;\r\n        System.out.printf(&quot;   temp assigned &#39;%s&#39;%n&quot;, str[start]);\r\n        System.out.printf(&quot;   str[start] assigned &#39;%s&#39;%n&quot;, str[end]);\r\n        System.out.printf(&quot;   str[end] assigned &#39;%s&#39;%n&quot;, temp);\r\n        start++;\r\n        end--;\r\n    }\r\n}\r\nstatic char[] reverseWords(char[] s){\r\n    int start = 0;\r\n    for(int end = 0; end &lt; s.length; end++){\r\n        System.out.printf(&quot;reverseWords, s[end] = &#39;%s&#39;%n&quot;, s[end]);\r\n        if(s[end] == &#39; &#39;){\r\n            reverse(s, start, end);\r\n            start = end + 1;\r\n        }\r\n    }\r\n    reverse(s, start, s.length -1);\r\n    reverse(s, 0, s.length-1);\r\n    return s;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;enter the string to be reversed&quot;);\r\n    Scanner ss = new Scanner(System.in);\r\n    String s = ss.nextLine();\r\n    char[] p = reverseWords(s.toCharArray());\r\n    System.out.println(p);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nenter the string to be reversed\r\nI like ice cream!\r\nreverseWords, s[end] = &#39;I&#39;\r\nreverseWords, s[end] = &#39; &#39;\r\n reverse,\r\n  start = 0, end = 1\r\n   temp assigned &#39; &#39;\r\n   str[start] assigned &#39;I&#39;\r\n   str[end] assigned &#39;I&#39;\r\nreverseWords, s[end] = &#39;l&#39;\r\nreverseWords, s[end] = &#39;i&#39;\r\nreverseWords, s[end] = &#39;k&#39;\r\nreverseWords, s[end] = &#39;e&#39;\r\nreverseWords, s[end] = &#39; &#39;\r\n reverse,\r\n  start = 2, end = 6\r\n   temp assigned &#39; &#39;\r\n   str[start] assigned &#39;l&#39;\r\n   str[end] assigned &#39;l&#39;\r\n reverse,\r\n  start = 3, end = 5\r\n   temp assigned &#39;e&#39;\r\n   str[start] assigned &#39;i&#39;\r\n   str[end] assigned &#39;i&#39;\r\n reverse,\r\n  start = 4, end = 4\r\n   temp assigned &#39;k&#39;\r\n   str[start] assigned &#39;k&#39;\r\n   str[end] assigned &#39;k&#39;\r\nreverseWords, s[end] = &#39;i&#39;\r\nreverseWords, s[end] = &#39;c&#39;\r\nreverseWords, s[end] = &#39;e&#39;\r\nreverseWords, s[end] = &#39; &#39;\r\n reverse,\r\n  start = 7, end = 10\r\n   temp assigned &#39; &#39;\r\n   str[start] assigned &#39;i&#39;\r\n   str[end] assigned &#39;i&#39;\r\n reverse,\r\n  start = 8, end = 9\r\n   temp assigned &#39;e&#39;\r\n   str[start] assigned &#39;c&#39;\r\n   str[end] assigned &#39;c&#39;\r\nreverseWords, s[end] = &#39;c&#39;\r\nreverseWords, s[end] = &#39;r&#39;\r\nreverseWords, s[end] = &#39;e&#39;\r\nreverseWords, s[end] = &#39;a&#39;\r\nreverseWords, s[end] = &#39;m&#39;\r\nreverseWords, s[end] = &#39;!&#39;\r\n reverse,\r\n  start = 11, end = 16\r\n   temp assigned &#39;!&#39;\r\n   str[start] assigned &#39;c&#39;\r\n   str[end] assigned &#39;c&#39;\r\n reverse,\r\n  start = 12, end = 15\r\n   temp assigned &#39;m&#39;\r\n   str[start] assigned &#39;r&#39;\r\n   str[end] assigned &#39;r&#39;\r\n reverse,\r\n  start = 13, end = 14\r\n   temp assigned &#39;a&#39;\r\n   str[start] assigned &#39;e&#39;\r\n   str[end] assigned &#39;e&#39;\r\n reverse,\r\n  start = 0, end = 16\r\n   temp assigned &#39;c&#39;\r\n   str[start] assigned &#39; &#39;\r\n   str[end] assigned &#39; &#39;\r\n reverse,\r\n  start = 1, end = 15\r\n   temp assigned &#39;r&#39;\r\n   str[start] assigned &#39;I&#39;\r\n   str[end] assigned &#39;I&#39;\r\n reverse,\r\n  start = 2, end = 14\r\n   temp assigned &#39;e&#39;\r\n   str[start] assigned &#39; &#39;\r\n   str[end] assigned &#39; &#39;\r\n reverse,\r\n  start = 3, end = 13\r\n   temp assigned &#39;a&#39;\r\n   str[start] assigned &#39;e&#39;\r\n   str[end] assigned &#39;e&#39;\r\n reverse,\r\n  start = 4, end = 12\r\n   temp assigned &#39;m&#39;\r\n   str[start] assigned &#39;k&#39;\r\n   str[end] assigned &#39;k&#39;\r\n reverse,\r\n  start = 5, end = 11\r\n   temp assigned &#39;!&#39;\r\n   str[start] assigned &#39;i&#39;\r\n   str[end] assigned &#39;i&#39;\r\n reverse,\r\n  start = 6, end = 10\r\n   temp assigned &#39;i&#39;\r\n   str[start] assigned &#39;l&#39;\r\n   str[end] assigned &#39;l&#39;\r\n reverse,\r\n  start = 7, end = 9\r\n   temp assigned &#39;c&#39;\r\n   str[start] assigned &#39; &#39;\r\n   str[end] assigned &#39; &#39;\r\n reverse,\r\n  start = 8, end = 8\r\n   temp assigned &#39;e&#39;\r\n   str[start] assigned &#39;e&#39;\r\n   str[end] assigned &#39;e&#39;\r\ncream!ice like I \r\n```","title":"Reversing a user input string using methods","body":"<p>There is a lot to explain.</p>\n<p>It might be easier to visualize the flow of data by printing relevant values to the standard-out.</p>\n<p>I've implemented a few outputs, from within the separate methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void reverse(char str[], int start, int end){\n    char temp;\n    while(start &lt;= end){\n        System.out.printf(&quot; reverse,%n  start = %d, end = %d%n&quot;, start, end);\n        temp = str[start];\n        str[start] = str[end];\n        str[end] = temp;\n        System.out.printf(&quot;   temp assigned '%s'%n&quot;, str[start]);\n        System.out.printf(&quot;   str[start] assigned '%s'%n&quot;, str[end]);\n        System.out.printf(&quot;   str[end] assigned '%s'%n&quot;, temp);\n        start++;\n        end--;\n    }\n}\nstatic char[] reverseWords(char[] s){\n    int start = 0;\n    for(int end = 0; end &lt; s.length; end++){\n        System.out.printf(&quot;reverseWords, s[end] = '%s'%n&quot;, s[end]);\n        if(s[end] == ' '){\n            reverse(s, start, end);\n            start = end + 1;\n        }\n    }\n    reverse(s, start, s.length -1);\n    reverse(s, 0, s.length-1);\n    return s;\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;enter the string to be reversed&quot;);\n    Scanner ss = new Scanner(System.in);\n    String s = ss.nextLine();\n    char[] p = reverseWords(s.toCharArray());\n    System.out.println(p);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>enter the string to be reversed\nI like ice cream!\nreverseWords, s[end] = 'I'\nreverseWords, s[end] = ' '\n reverse,\n  start = 0, end = 1\n   temp assigned ' '\n   str[start] assigned 'I'\n   str[end] assigned 'I'\nreverseWords, s[end] = 'l'\nreverseWords, s[end] = 'i'\nreverseWords, s[end] = 'k'\nreverseWords, s[end] = 'e'\nreverseWords, s[end] = ' '\n reverse,\n  start = 2, end = 6\n   temp assigned ' '\n   str[start] assigned 'l'\n   str[end] assigned 'l'\n reverse,\n  start = 3, end = 5\n   temp assigned 'e'\n   str[start] assigned 'i'\n   str[end] assigned 'i'\n reverse,\n  start = 4, end = 4\n   temp assigned 'k'\n   str[start] assigned 'k'\n   str[end] assigned 'k'\nreverseWords, s[end] = 'i'\nreverseWords, s[end] = 'c'\nreverseWords, s[end] = 'e'\nreverseWords, s[end] = ' '\n reverse,\n  start = 7, end = 10\n   temp assigned ' '\n   str[start] assigned 'i'\n   str[end] assigned 'i'\n reverse,\n  start = 8, end = 9\n   temp assigned 'e'\n   str[start] assigned 'c'\n   str[end] assigned 'c'\nreverseWords, s[end] = 'c'\nreverseWords, s[end] = 'r'\nreverseWords, s[end] = 'e'\nreverseWords, s[end] = 'a'\nreverseWords, s[end] = 'm'\nreverseWords, s[end] = '!'\n reverse,\n  start = 11, end = 16\n   temp assigned '!'\n   str[start] assigned 'c'\n   str[end] assigned 'c'\n reverse,\n  start = 12, end = 15\n   temp assigned 'm'\n   str[start] assigned 'r'\n   str[end] assigned 'r'\n reverse,\n  start = 13, end = 14\n   temp assigned 'a'\n   str[start] assigned 'e'\n   str[end] assigned 'e'\n reverse,\n  start = 0, end = 16\n   temp assigned 'c'\n   str[start] assigned ' '\n   str[end] assigned ' '\n reverse,\n  start = 1, end = 15\n   temp assigned 'r'\n   str[start] assigned 'I'\n   str[end] assigned 'I'\n reverse,\n  start = 2, end = 14\n   temp assigned 'e'\n   str[start] assigned ' '\n   str[end] assigned ' '\n reverse,\n  start = 3, end = 13\n   temp assigned 'a'\n   str[start] assigned 'e'\n   str[end] assigned 'e'\n reverse,\n  start = 4, end = 12\n   temp assigned 'm'\n   str[start] assigned 'k'\n   str[end] assigned 'k'\n reverse,\n  start = 5, end = 11\n   temp assigned '!'\n   str[start] assigned 'i'\n   str[end] assigned 'i'\n reverse,\n  start = 6, end = 10\n   temp assigned 'i'\n   str[start] assigned 'l'\n   str[end] assigned 'l'\n reverse,\n  start = 7, end = 9\n   temp assigned 'c'\n   str[start] assigned ' '\n   str[end] assigned ' '\n reverse,\n  start = 8, end = 8\n   temp assigned 'e'\n   str[start] assigned 'e'\n   str[end] assigned 'e'\ncream!ice like I \n</code></pre>\n"}],"owner":{"account_id":26906596,"reputation":1,"user_id":20482831,"display_name":"sriram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687115859,"creation_date":1687013042,"question_id":76496699,"body_markdown":"Here&#39;s a problem which takes a string input from the user and reverses the string.\r\n\r\nFor example: \r\n    input: &quot;I love ice cream!&quot;\r\n    output: &quot;cream! ice love I&quot;\r\n\r\nHere&#39;s the source code:\r\n```\r\nimport java.util.*;\r\n\r\npublic class stringProblems {\r\n\r\n        static void reverse(char str[], int start, int end){\r\n            char temp;\r\n            while(start &lt;= end){\r\n                temp = str[start];\r\n                str[start] = str[end];\r\n                str[end] = temp;\r\n                start++;\r\n                end--;\r\n            }\r\n        }\r\n        static char[] reverseWords(char[] s){\r\n            int start = 0;\r\n            for(int end = 0; end &lt; s.length; end++){\r\n                if(s[end] == &#39; &#39;){\r\n                    reverse(s, start, end);\r\n                    start = end + 1;\r\n                }\r\n            }\r\n            reverse(s, start, s.length -1);\r\n            reverse(s, 0, s.length-1);\r\n            return s;\r\n        }\r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;enter the string to be reversed&quot;);\r\n        Scanner ss = new Scanner(System.in);\r\n        String s = ss.nextLine();\r\n        char[] p = reverseWords(s.toCharArray());\r\n        System.out.println(p);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe doubt that I have is the for loop inside reverseWords method iterates until it finds an empty space. The input I gave was &quot;I like ice cream!&quot; So, at second iteration the condition in if(s[end] == &#39; &#39;) statement becomes true and the reverse method is called. The while(start &lt;= end) loop inside reverse method is executed as the value of start is 0 and end is 1 at first iteration. At the end the value of start is incremented to 1 and end is decremented to 0 because of start++; and end--; And in next iteration the condition is failed, it jumps to for(int end = 0; end &lt;= s.length; end++) loop inside reverseWords method, now the value of end begins with 0 or 2 as it was 1 earlier when the &quot; &quot; space lies at 1 index in &quot;I love ice cream!&quot;?\r\n\r\nTip: understand the above source code to understand my question.","title":"Reversing a user input string using methods","body":"<p>Here's a problem which takes a string input from the user and reverses the string.</p>\n<p>For example:\ninput: &quot;I love ice cream!&quot;\noutput: &quot;cream! ice love I&quot;</p>\n<p>Here's the source code:</p>\n<pre><code>import java.util.*;\n\npublic class stringProblems {\n\n        static void reverse(char str[], int start, int end){\n            char temp;\n            while(start &lt;= end){\n                temp = str[start];\n                str[start] = str[end];\n                str[end] = temp;\n                start++;\n                end--;\n            }\n        }\n        static char[] reverseWords(char[] s){\n            int start = 0;\n            for(int end = 0; end &lt; s.length; end++){\n                if(s[end] == ' '){\n                    reverse(s, start, end);\n                    start = end + 1;\n                }\n            }\n            reverse(s, start, s.length -1);\n            reverse(s, 0, s.length-1);\n            return s;\n        }\n\n    public static void main(String[] args) {\n            System.out.println(&quot;enter the string to be reversed&quot;);\n        Scanner ss = new Scanner(System.in);\n        String s = ss.nextLine();\n        char[] p = reverseWords(s.toCharArray());\n        System.out.println(p);\n    }\n}\n</code></pre>\n<p>The doubt that I have is the for loop inside reverseWords method iterates until it finds an empty space. The input I gave was &quot;I like ice cream!&quot; So, at second iteration the condition in if(s[end] == ' ') statement becomes true and the reverse method is called. The while(start &lt;= end) loop inside reverse method is executed as the value of start is 0 and end is 1 at first iteration. At the end the value of start is incremented to 1 and end is decremented to 0 because of start++; and end--; And in next iteration the condition is failed, it jumps to for(int end = 0; end &lt;= s.length; end++) loop inside reverseWords method, now the value of end begins with 0 or 2 as it was 1 earlier when the &quot; &quot; space lies at 1 index in &quot;I love ice cream!&quot;?</p>\n<p>Tip: understand the above source code to understand my question.</p>\n"},{"tags":["java","object","jpa","server","casting"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687100288,"post_id":76501089,"comment_id":134886736,"body_markdown":"If you tries a `TypedQuery&lt;StudentEntity&gt;`  instead of a `Query` only?","body":"If you tries a <code>TypedQuery&lt;StudentEntity&gt;</code>  instead of a <code>Query</code> only?"},{"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"score":0,"creation_date":1687100643,"post_id":76501089,"comment_id":134886766,"body_markdown":"@Marc Le Bihan Could you past some example how it should look?\nCurrently for such code:\n&quot;                    TypedQuery&lt;StudentEntity&gt; queryForGettingStudent = databaseJpaHandler.getEntityManager().createNamedQuery(&quot;SELECT * FROM Students S WHERE S.Email = :email &quot;, StudentEntity.class)\n                            .setParameter(&quot;email&quot;, studentGradesRequestData.getEmail());&quot;\nI&#39;m getting such output:\n&quot;NativeQueryImpl cannot be cast to class javax.persistence.TypedQuery (org.hibernate.query.sql.internal.NativeQueryImpl and javax.persistence.TypedQuery are in unnamed module of loader &#39;app&#39;)&quot;","body":"@Marc Le Bihan Could you past some example how it should look? Currently for such code: &quot;                    TypedQuery&lt;StudentEntity&gt; queryForGettingStudent = databaseJpaHandler.getEntityManager().createNamedQuery(&quot;SELE&zwnj;&#8203;CT * FROM Students S WHERE S.Email = :email &quot;, StudentEntity.class)                             .setParameter(&quot;email&quot;, studentGradesRequestData.getEmail());&quot; I&#39;m getting such output: &quot;NativeQueryImpl cannot be cast to class javax.persistence.TypedQuery (org.hibernate.query.sql.internal.NativeQueryImpl and javax.persistence.TypedQuery are in unnamed module of loader &#39;app&#39;)&quot;"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687100700,"post_id":76501089,"comment_id":134886771,"body_markdown":"`TypedQuery&lt;StudentEntity&gt; typedQuery = getEntityManager().createQuery(&quot;SELECT u FROM StudentEntity u WHERE u.id=:id&quot;, StudentEntity.class);` or `createNamedQuery` shall also exist.","body":"<code>TypedQuery&lt;StudentEntity&gt; typedQuery = getEntityManager().createQuery(&quot;SELECT u FROM StudentEntity u WHERE u.id=:id&quot;, StudentEntity.class);</code> or <code>createNamedQuery</code> shall also exist."},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1687100949,"post_id":76501089,"comment_id":134886800,"body_markdown":"Your result is an array (that&#39;s what the `[` in front of `java.lang.Object` means) that you try to cast to a single `StudentEntity`. Which one is line 160?","body":"Your result is an array (that&#39;s what the <code>[</code> in front of <code>java.lang.Object</code> means) that you try to cast to a single <code>StudentEntity</code>. Which one is line 160?"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1687101472,"post_id":76501089,"comment_id":134886854,"body_markdown":"That&#39;s probably from your `SELECT UD.Shortcut, Subj.Name, P.FirstName + &#39; &#39; + P.LastName, SS.Grade, Subj.ECTS, Subj.Specification`. What is `StudentSubjectResponseDto`?","body":"That&#39;s probably from your <code>SELECT UD.Shortcut, Subj.Name, P.FirstName + &#39; &#39; + P.LastName, SS.Grade, Subj.ECTS, Subj.Specification</code>. What is <code>StudentSubjectResponseDto</code>?"},{"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"score":0,"creation_date":1687115898,"post_id":76501089,"comment_id":134888430,"body_markdown":"@Manfred I specified just now in question text above specific line from which I&#39;m getting exception.\nAbout &quot;StudentSubjectResponseDto&quot;, it is from package &quot;dto&quot;. It is basically data transfer object, send from server to client.","body":"@Manfred I specified just now in question text above specific line from which I&#39;m getting exception. About &quot;StudentSubjectResponseDto&quot;, it is from package &quot;dto&quot;. It is basically data transfer object, send from server to client."},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1687157428,"post_id":76501089,"comment_id":134892045,"body_markdown":"Aha, so `getResultList()` on `SELECT * FROM Students S` seems to return a `List&lt;Object[]&gt;`  `List` of all rows, and `Object[]` for the individual `*` fields. It seems that we can&#39;t expect the `Object[]` of fields to be automatically converted to a `StudentEntity`.\nUnrelated to your problem, but to your question: Why do you include all the `if(!listOfStudentsMatched.isEmpty())` handling code from after the line that throws the exception? It should be irrelevant, right?","body":"Aha, so <code>getResultList()</code> on <code>SELECT * FROM Students S</code> seems to return a <code>List&lt;Object[]&gt;</code>  <code>List</code> of all rows, and <code>Object[]</code> for the individual <code>*</code> fields. It seems that we can&#39;t expect the <code>Object[]</code> of fields to be automatically converted to a <code>StudentEntity</code>. Unrelated to your problem, but to your question: Why do you include all the <code>if(!listOfStudentsMatched.isEmpty())</code> handling code from after the line that throws the exception? It should be irrelevant, right?"}],"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687115751,"creation_date":1687099282,"question_id":76501089,"body_markdown":"I&#39;m trying to cast &quot;Object&quot; instances native query results of MySQL database to entity class. That is happening in &quot;Server&quot; application, after receiving request from &quot;client&quot; side. \r\nBasically fragment of problematic code looks on that moment like this:\r\n``` \r\nelse if(operation == GET_STUDENT_SUBJECTS_DATA) {\r\n                    System.out.println(&quot;I&#39;m getting students subjects data!&quot;);\r\n                    StudentSubjectRequestDto studentGradesRequestData = (StudentSubjectRequestDto) inStream.readObject();\r\n                    Query queryForGettingStudent = databaseJpaHandler.getEntityManager().createNativeQuery(&quot;SELECT * FROM Students S WHERE S.Email = :email &quot;)\r\n                            .setParameter(&quot;email&quot;, studentGradesRequestData.getEmail());\r\n                    List&lt;StudentEntity&gt; listOfStudentsMatched = (List&lt;StudentEntity&gt;)(List&lt;?&gt;) queryForGettingStudent.getResultList();\r\n                    if(!listOfStudentsMatched.isEmpty()) {\r\n                        StudentEntity student = listOfStudentsMatched.get(0);\r\n                        Query queryForGettingStudentSubjects =  databaseJpaHandler.getEntityManager().createNativeQuery(&quot;SELECT UD.Shortcut, Subj.Name, P.FirstName + &#39; &#39; + P.LastName, SS.Grade, Subj.ECTS, Subj.Specification FROM StudentsSubjects SS INNER JOIN Students St on SS.StudentID = St.ID INNER JOIN Subjects Subj on SS.SubjectID = Subj.ID INNER JOIN University_Departments UD on St.DEPARTMENT_ID = UD.ID INNER JOIN Professors P on Subj.ProfessorID = P.ID &quot; +\r\n                                &quot; WHERE St.Email := email&quot;)\r\n                                .setParameter(&quot;email&quot;, student.getEmail());\r\n                        if(sendStatusToClient(queryForGettingStudentSubjects, outStream, 10) &gt; 0) {\r\n                            List&lt;StudentSubjectResponseDto&gt; listOfStudentsResponse = queryForGettingStudentSubjects.getResultList();\r\n                            outStream.writeObject(listOfStudentsResponse);\r\n                        }\r\n\r\n\r\n}\r\n``` \r\nWhen there is match and &quot;listOfStudentsMatched&quot; isn&#39;t empty at the first instruction of if I&#39;m getting exception with output:\r\n``` \r\nNFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nException in thread &quot;Thread-2&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class org.academic.server.entities.StudentEntity ([Ljava.lang.Object; is in module java.base of loader &#39;bootstrap&#39;; org.academic.server.entities.StudentEntity is in unnamed module of loader &#39;app&#39;)\r\nI&#39;m getting students subjects data!\r\nHibernate: SELECT * FROM Students S WHERE S.Email = ? \r\n\tat org.academic.server.Server.run(Server.java:160)\r\n``` \r\n*StudentEntity.java*\r\n```\r\npackage org.academic.server.entities;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table(name = &quot;Students&quot;, schema = &quot;academic_data&quot;)\r\npublic class StudentEntity implements Serializable {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private int id;\r\n    @Basic\r\n    @Column(name = &quot;Name&quot;)\r\n    private String name;\r\n    @Basic\r\n    @Column(name = &quot;Surname&quot;)\r\n    private String surname;\r\n    @Basic\r\n    @Column(name = &quot;Degree&quot;)\r\n    private String degree;\r\n    @Basic\r\n    @Column(name = &quot;Semester&quot;)\r\n    private int semester;\r\n    @Basic\r\n    @Column(name = &quot;PhoneNumber&quot;)\r\n    private String phoneNumber;\r\n    @Basic\r\n    @Column(name = &quot;Address&quot;)\r\n    private String address;\r\n    @Basic\r\n    @Column(name = &quot;Email&quot;)\r\n    private String email;\r\n    @Basic\r\n    @Column(name = &quot;DEPARTMENT_ID&quot;)\r\n    private int departmentId;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;)\r\n    private Set&lt;SubjectEntity&gt; subjects = new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;SubjectEntity&gt; getSubjects() {\r\n        return subjects;\r\n    }\r\n\r\n    public void setSubjects(Set&lt;SubjectEntity&gt; subjects) {\r\n        this.subjects = subjects;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return surname;\r\n    }\r\n\r\n    public void setSurname(String surname) {\r\n        this.surname = surname;\r\n    }\r\n\r\n    public String getDegree() {\r\n        return degree;\r\n    }\r\n\r\n    public void setDegree(String degree) {\r\n        this.degree = degree;\r\n    }\r\n\r\n    public int getSemester() {\r\n        return semester;\r\n    }\r\n\r\n    public void setSemester(int semester) {\r\n        this.semester = semester;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public int getDepartmentId() {\r\n        return departmentId;\r\n    }\r\n\r\n    public void setDepartmentId(int departmentId) {\r\n        this.departmentId = departmentId;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        StudentEntity that = (StudentEntity) o;\r\n        return id == that.id &amp;&amp; semester == that.semester &amp;&amp; departmentId == that.departmentId &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(surname, that.surname) &amp;&amp; Objects.equals(degree, that.degree) &amp;&amp; Objects.equals(phoneNumber, that.phoneNumber) &amp;&amp; Objects.equals(address, that.address) &amp;&amp; Objects.equals(email, that.email);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name, surname, degree, semester, phoneNumber, address, email, departmentId);\r\n    }\r\n}\r\n```\r\nWhat is the reason behind this exception? \r\nFrom my understanding I&#39;m getting list of objects, which could be converted to entity class. But it seems there is problem here.\r\n\r\nEDIT\r\nThis is the problematic line, from which I&#39;m getting above exception message:\r\n```\r\nStudentEntity student = listOfStudentsMatched.get(0);\r\n```\r\n","title":"Ljava.lang.Object; cannot be cast to class org.academic.server.entities.StudentEntity (JPA)","body":"<p>I'm trying to cast &quot;Object&quot; instances native query results of MySQL database to entity class. That is happening in &quot;Server&quot; application, after receiving request from &quot;client&quot; side.\nBasically fragment of problematic code looks on that moment like this:</p>\n<pre><code>else if(operation == GET_STUDENT_SUBJECTS_DATA) {\n                    System.out.println(&quot;I'm getting students subjects data!&quot;);\n                    StudentSubjectRequestDto studentGradesRequestData = (StudentSubjectRequestDto) inStream.readObject();\n                    Query queryForGettingStudent = databaseJpaHandler.getEntityManager().createNativeQuery(&quot;SELECT * FROM Students S WHERE S.Email = :email &quot;)\n                            .setParameter(&quot;email&quot;, studentGradesRequestData.getEmail());\n                    List&lt;StudentEntity&gt; listOfStudentsMatched = (List&lt;StudentEntity&gt;)(List&lt;?&gt;) queryForGettingStudent.getResultList();\n                    if(!listOfStudentsMatched.isEmpty()) {\n                        StudentEntity student = listOfStudentsMatched.get(0);\n                        Query queryForGettingStudentSubjects =  databaseJpaHandler.getEntityManager().createNativeQuery(&quot;SELECT UD.Shortcut, Subj.Name, P.FirstName + ' ' + P.LastName, SS.Grade, Subj.ECTS, Subj.Specification FROM StudentsSubjects SS INNER JOIN Students St on SS.StudentID = St.ID INNER JOIN Subjects Subj on SS.SubjectID = Subj.ID INNER JOIN University_Departments UD on St.DEPARTMENT_ID = UD.ID INNER JOIN Professors P on Subj.ProfessorID = P.ID &quot; +\n                                &quot; WHERE St.Email := email&quot;)\n                                .setParameter(&quot;email&quot;, student.getEmail());\n                        if(sendStatusToClient(queryForGettingStudentSubjects, outStream, 10) &gt; 0) {\n                            List&lt;StudentSubjectResponseDto&gt; listOfStudentsResponse = queryForGettingStudentSubjects.getResultList();\n                            outStream.writeObject(listOfStudentsResponse);\n                        }\n\n\n}\n</code></pre>\n<p>When there is match and &quot;listOfStudentsMatched&quot; isn't empty at the first instruction of if I'm getting exception with output:</p>\n<pre><code>NFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nException in thread &quot;Thread-2&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class org.academic.server.entities.StudentEntity ([Ljava.lang.Object; is in module java.base of loader 'bootstrap'; org.academic.server.entities.StudentEntity is in unnamed module of loader 'app')\nI'm getting students subjects data!\nHibernate: SELECT * FROM Students S WHERE S.Email = ? \n    at org.academic.server.Server.run(Server.java:160)\n</code></pre>\n<p><em>StudentEntity.java</em></p>\n<pre><code>package org.academic.server.entities;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Objects;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;Students&quot;, schema = &quot;academic_data&quot;)\npublic class StudentEntity implements Serializable {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private int id;\n    @Basic\n    @Column(name = &quot;Name&quot;)\n    private String name;\n    @Basic\n    @Column(name = &quot;Surname&quot;)\n    private String surname;\n    @Basic\n    @Column(name = &quot;Degree&quot;)\n    private String degree;\n    @Basic\n    @Column(name = &quot;Semester&quot;)\n    private int semester;\n    @Basic\n    @Column(name = &quot;PhoneNumber&quot;)\n    private String phoneNumber;\n    @Basic\n    @Column(name = &quot;Address&quot;)\n    private String address;\n    @Basic\n    @Column(name = &quot;Email&quot;)\n    private String email;\n    @Basic\n    @Column(name = &quot;DEPARTMENT_ID&quot;)\n    private int departmentId;\n\n    @ManyToMany(mappedBy=&quot;students&quot;)\n    private Set&lt;SubjectEntity&gt; subjects = new HashSet&lt;&gt;();\n\n    public Set&lt;SubjectEntity&gt; getSubjects() {\n        return subjects;\n    }\n\n    public void setSubjects(Set&lt;SubjectEntity&gt; subjects) {\n        this.subjects = subjects;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String getDegree() {\n        return degree;\n    }\n\n    public void setDegree(String degree) {\n        this.degree = degree;\n    }\n\n    public int getSemester() {\n        return semester;\n    }\n\n    public void setSemester(int semester) {\n        this.semester = semester;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public int getDepartmentId() {\n        return departmentId;\n    }\n\n    public void setDepartmentId(int departmentId) {\n        this.departmentId = departmentId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        StudentEntity that = (StudentEntity) o;\n        return id == that.id &amp;&amp; semester == that.semester &amp;&amp; departmentId == that.departmentId &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(surname, that.surname) &amp;&amp; Objects.equals(degree, that.degree) &amp;&amp; Objects.equals(phoneNumber, that.phoneNumber) &amp;&amp; Objects.equals(address, that.address) &amp;&amp; Objects.equals(email, that.email);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, surname, degree, semester, phoneNumber, address, email, departmentId);\n    }\n}\n</code></pre>\n<p>What is the reason behind this exception?\nFrom my understanding I'm getting list of objects, which could be converted to entity class. But it seems there is problem here.</p>\n<p>EDIT\nThis is the problematic line, from which I'm getting above exception message:</p>\n<pre><code>StudentEntity student = listOfStudentsMatched.get(0);\n</code></pre>\n"},{"tags":["java","react-native","generics"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687005786,"post_id":76495193,"comment_id":134878461,"body_markdown":"Try supplying specific generic parameters or wildcard parameters; see https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html","body":"Try supplying specific generic parameters or wildcard parameters; see <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/wildcards.html</a>"},{"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"score":0,"creation_date":1687077393,"post_id":76495193,"comment_id":134884372,"body_markdown":"Thanks @StephenC for the suggestion. I tried to use `&lt;?&gt;` but unfortunately it did not help. When I try to supply specific generics, I&#39;m getting &quot;attempting to use incompatible return types&quot;.","body":"Thanks @StephenC for the suggestion. I tried to use <code>&lt;?&gt;</code> but unfortunately it did not help. When I try to supply specific generics, I&#39;m getting &quot;attempting to use incompatible return types&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687085083,"post_id":76495193,"comment_id":134885134,"body_markdown":"Well yes.  It will probably be more complicated than just adding simple wildcards.  Unfortunately we won&#39;t be able to advise you without seeing more of your code.","body":"Well yes.  It will probably be more complicated than just adding simple wildcards.  Unfortunately we won&#39;t be able to advise you without seeing more of your code."},{"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"score":0,"creation_date":1687115353,"post_id":76495193,"comment_id":134888382,"body_markdown":"I&#39;ve added the full source of the file, as well as links to `ReactPackage` and `ViewManager`.","body":"I&#39;ve added the full source of the file, as well as links to <code>ReactPackage</code> and <code>ViewManager</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687142069,"post_id":76495193,"comment_id":134890569,"body_markdown":"You could try sidestepping the issue by using `&lt;Object&gt;`","body":"You could try sidestepping the issue by using <code>&lt;Object&gt;</code>"},{"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"score":0,"creation_date":1687165265,"post_id":76495193,"comment_id":134893533,"body_markdown":"Did not work either.. I&#39;m starting to think it is not possible to fix this warning without changing the code in ReactPackage and/or ViewManager.","body":"Did not work either.. I&#39;m starting to think it is not possible to fix this warning without changing the code in ReactPackage and/or ViewManager."}],"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687115309,"creation_date":1686987166,"question_id":76495193,"body_markdown":"Is there a way to fix the following compiler warning in the package specification of a React Native native module?\r\n\r\n&gt; Raw use of parameterized class &#39;ViewManager&#39;\r\n\r\n[![WebStorm screenshot of warning][2]][2]\r\n\r\nFull source:\r\n\r\n```java\r\npackage com.example.foobar;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.uimanager.ViewManager;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class FooBarPackage implements ReactPackage {\r\n    @NonNull\r\n    @Override\r\n    public List&lt;NativeModule&gt; createNativeModules(@NonNull ReactApplicationContext reactContext) {\r\n        return Collections.emptyList();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public List&lt;ViewManager&gt; createViewManagers(@NonNull ReactApplicationContext reactContext) {\r\n        return Collections.singletonList(new FooBarViewManager());\r\n    }\r\n}\r\n```\r\n\r\n- Source of [`ReactPackage`][1]\r\n- Source of [`ViewManager`][3]\r\n\r\n  [1]: https://github.com/facebook/react-native/blob/0.71-stable/ReactAndroid/src/main/java/com/facebook/react/ReactPackage.java\r\n  [2]: https://i.stack.imgur.com/NIeuB.png\r\n  [3]: https://github.com/facebook/react-native/blob/0.71-stable/ReactAndroid/src/main/java/com/facebook/react/uimanager/ViewManager.java","title":"Raw use of parameterized class &#39;ViewManager&#39;","body":"<p>Is there a way to fix the following compiler warning in the package specification of a React Native native module?</p>\n<blockquote>\n<p>Raw use of parameterized class 'ViewManager'</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/NIeuB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NIeuB.png\" alt=\"WebStorm screenshot of warning\" /></a></p>\n<p>Full source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.foobar;\n\nimport androidx.annotation.NonNull;\n\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.uimanager.ViewManager;\n\nimport java.util.Collections;\nimport java.util.List;\n\npublic class FooBarPackage implements ReactPackage {\n    @NonNull\n    @Override\n    public List&lt;NativeModule&gt; createNativeModules(@NonNull ReactApplicationContext reactContext) {\n        return Collections.emptyList();\n    }\n\n    @NonNull\n    @Override\n    public List&lt;ViewManager&gt; createViewManagers(@NonNull ReactApplicationContext reactContext) {\n        return Collections.singletonList(new FooBarViewManager());\n    }\n}\n</code></pre>\n<ul>\n<li>Source of <a href=\"https://github.com/facebook/react-native/blob/0.71-stable/ReactAndroid/src/main/java/com/facebook/react/ReactPackage.java\" rel=\"nofollow noreferrer\"><code>ReactPackage</code></a></li>\n<li>Source of <a href=\"https://github.com/facebook/react-native/blob/0.71-stable/ReactAndroid/src/main/java/com/facebook/react/uimanager/ViewManager.java\" rel=\"nofollow noreferrer\"><code>ViewManager</code></a></li>\n</ul>\n"},{"tags":["java","android","function","user-interface","hce"],"owner":{"account_id":23049816,"reputation":1,"user_id":17166829,"display_name":"IvanStrasni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687114609,"creation_date":1687114609,"question_id":76502109,"body_markdown":"I have an Android application where I&#39;m implementing Host **Card Emulation (HCE)** functionality. I have a MainActivity that initiates the HCE script and handles the user interface. After successfully completing the HCE protocol, **I want to activate a specific function or trigger an event in the MainActivity**.\r\n\r\nCurrently, the HCE script is **connected **to the MainActivity, and the **MainActivity is starter** of HCE script. However, I&#39;m facing challenges in finding a way to control or invoke a function in the MainActivity **once the HCE protocol is finished**.\r\n\r\n\r\nHere&#39;s a simplified overview of my setup:\r\n\r\n**MainActivity:** The main entry point of my application that manages the user interface.\r\n**HCE script:** Handles the HCE protocol and communicates with the external NFC reader.\r\n\r\n\r\nI&#39;ve tried various approaches to accomplish this, **but I haven&#39;t been successful**. Here are a few ideas \r\n\r\n**I&#39;ve explored:**\r\n\r\n- Direct function call: I attempted to call a function in the MainActivity directly from the HCE script but faced issues with the scope and context. Is there a way to achieve this?\r\n\r\n- Event broadcasting: I considered using broadcast intents to send a custom event from the HCE script to the MainActivity, but I&#39;m unsure how to establish the communication and handle the event in the MainActivity.\r\n\r\n- Callback mechanism: I thought about implementing a callback mechanism where the HCE script can notify the MainActivity upon completing the HCE protocol. However, I&#39;m not sure how to set up the callback and handle it in the MainActivity.\r\n\r\nI would appreciate any guidance or suggestions on how I can effectively activate a function or trigger an event in the MainActivity from the HCE script. If there&#39;s an alternative approach that could achieve the desired result, please let me know. \r\n\r\n\r\n**Thank you in advance for your help!**","title":"How to activate a function in MainActivity after completing Host Card Emulation (HCE) protocol?","body":"<p>I have an Android application where I'm implementing Host <strong>Card Emulation (HCE)</strong> functionality. I have a MainActivity that initiates the HCE script and handles the user interface. After successfully completing the HCE protocol, <strong>I want to activate a specific function or trigger an event in the MainActivity</strong>.</p>\n<p>Currently, the HCE script is **connected **to the MainActivity, and the <strong>MainActivity is starter</strong> of HCE script. However, I'm facing challenges in finding a way to control or invoke a function in the MainActivity <strong>once the HCE protocol is finished</strong>.</p>\n<p>Here's a simplified overview of my setup:</p>\n<p><strong>MainActivity:</strong> The main entry point of my application that manages the user interface.\n<strong>HCE script:</strong> Handles the HCE protocol and communicates with the external NFC reader.</p>\n<p>I've tried various approaches to accomplish this, <strong>but I haven't been successful</strong>. Here are a few ideas</p>\n<p><strong>I've explored:</strong></p>\n<ul>\n<li><p>Direct function call: I attempted to call a function in the MainActivity directly from the HCE script but faced issues with the scope and context. Is there a way to achieve this?</p>\n</li>\n<li><p>Event broadcasting: I considered using broadcast intents to send a custom event from the HCE script to the MainActivity, but I'm unsure how to establish the communication and handle the event in the MainActivity.</p>\n</li>\n<li><p>Callback mechanism: I thought about implementing a callback mechanism where the HCE script can notify the MainActivity upon completing the HCE protocol. However, I'm not sure how to set up the callback and handle it in the MainActivity.</p>\n</li>\n</ul>\n<p>I would appreciate any guidance or suggestions on how I can effectively activate a function or trigger an event in the MainActivity from the HCE script. If there's an alternative approach that could achieve the desired result, please let me know.</p>\n<p><strong>Thank you in advance for your help!</strong></p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1619512671,"post_id":67279650,"comment_id":118921600,"body_markdown":"by putting the file on the classpath. You should also adopt naming conventions","body":"by putting the file on the classpath. You should also adopt naming conventions"}],"answers":[{"comments":[{"owner":{"account_id":3598397,"reputation":1231,"user_id":3002377,"accept_rate":50,"display_name":"nashter"},"score":0,"creation_date":1659721685,"post_id":67279682,"comment_id":129370166,"body_markdown":"Worked for me. There was a prompt to clean up the language server workspace. Cleanup resolved the warning.","body":"Worked for me. There was a prompt to clean up the language server workspace. Cleanup resolved the warning."}],"tags":[],"owner":{"account_id":19460277,"reputation":248,"user_id":14234726,"display_name":"dan-koller"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1619512887,"creation_date":1619512721,"answer_id":67279682,"question_id":67279650,"body_markdown":"You can solve this by opening your current project folder in vs code, then navigate to &quot;Java Projects&quot; &gt; &quot;properties&quot; &gt; &quot;clean workspace&quot;.","title":"Java/VSCode &quot;file.java is not on the classpath of project, only syntax errors are reported&quot;","body":"<p>You can solve this by opening your current project folder in vs code, then navigate to &quot;Java Projects&quot; &gt; &quot;properties&quot; &gt; &quot;clean workspace&quot;.</p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619512909,"creation_date":1619512909,"answer_id":67279727,"question_id":67279650,"body_markdown":"Press &quot;Ctrl + Shift + P&quot;, choose &quot;java : Clean java Language Server workspace&quot;.\r\nIf not run, right click on src, choose &quot;add folder to java source path&quot;","title":"Java/VSCode &quot;file.java is not on the classpath of project, only syntax errors are reported&quot;","body":"<p>Press &quot;Ctrl + Shift + P&quot;, choose &quot;java : Clean java Language Server workspace&quot;.\nIf not run, right click on src, choose &quot;add folder to java source path&quot;</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686909460,"post_id":76469669,"comment_id":134866401,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76469669/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19317033,"reputation":13,"user_id":14121580,"display_name":"Charleeoh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687114608,"creation_date":1686707752,"answer_id":76469669,"question_id":67279650,"body_markdown":"Tried other solutions here but didn&#39;t work for me, what eventually worked for me was:\r\n1. Moving the java file to a folder. (A project folder)\r\n2. Make sure the project folder is opened on the explorer tab in VS codes","title":"Java/VSCode &quot;file.java is not on the classpath of project, only syntax errors are reported&quot;","body":"<p>Tried other solutions here but didn't work for me, what eventually worked for me was:</p>\n<ol>\n<li>Moving the java file to a folder. (A project folder)</li>\n<li>Make sure the project folder is opened on the explorer tab in VS codes</li>\n</ol>\n"}],"owner":{"account_id":21415207,"reputation":61,"user_id":15774554,"display_name":"codenubie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7205,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":67279682,"answer_count":3,"score":5,"last_activity_date":1687114608,"creation_date":1619512638,"question_id":67279650,"body_markdown":"Hi I&#39;m new to java and keep getting this error on and on in vs code. How do I solve this?","title":"Java/VSCode &quot;file.java is not on the classpath of project, only syntax errors are reported&quot;","body":"<p>Hi I'm new to java and keep getting this error on and on in vs code. How do I solve this?</p>\n"},{"tags":["java","java-stream","metadata-extractor"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1687104258,"post_id":76501412,"comment_id":134887195,"body_markdown":"Just store and acquire them not from the file directly if this is an issue, the EXIF header has an arbitrary length and therefore the approach to read just a few bytes will fail.","body":"Just store and acquire them not from the file directly if this is an issue, the EXIF header has an arbitrary length and therefore the approach to read just a few bytes will fail."},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1687104560,"post_id":76501412,"comment_id":134887226,"body_markdown":"I there not a way to determine when the EXIF header has ended and then stop writing to the buffer before examining after which continuing? It&#39;s still a waste to load the rest of the image which is the bigger majority of the data.","body":"I there not a way to determine when the EXIF header has ended and then stop writing to the buffer before examining after which continuing? It&#39;s still a waste to load the rest of the image which is the bigger majority of the data."},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1687105154,"post_id":76501412,"comment_id":134887285,"body_markdown":"Also not all images I process will have EXIF encoded metadata, hence why I chose metadata-extractor in the first place","body":"Also not all images I process will have EXIF encoded metadata, hence why I chose metadata-extractor in the first place"}],"answers":[{"tags":[],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687114481,"creation_date":1687114481,"answer_id":76502103,"question_id":76501412,"body_markdown":"By default the [metadata-extractor][1] only reads the necessary segment bytes, therefore it is possible to simply store all the bytes that it uses in a buffer until the metadata-extractor finishes.\r\n\r\nUsing this class you get the metadata from an ```InputStream``` after which you can do with the remaining bytes what you want to.\r\n\r\n```java\r\npublic class MetadataStreamProcessor {\r\n\r\n    private final BufferedInput in;\r\n\r\n    public MetadataStreamProcessor(InputStream in) {\r\n        this.in = new BufferedInput(in, 1024); // 1KB to start with\r\n    }\r\n\r\n    public Metadata readMetadata() throws IOException, ImageProcessingException {\r\n        return ImageMetadataReader.readMetadata(in);\r\n    }\r\n\r\n    public void writeTo(OutputStream out) throws IOException {\r\n        in.buffer.writeTo(out);\r\n\r\n        int read;\r\n        byte[] bytes = new byte[1024];\r\n        while ((read = in.in.read(bytes)) != -1) {\r\n            out.write(bytes, 0, read);\r\n        }\r\n    }\r\n\r\n    private static final class BufferedInput extends InputStream {\r\n\r\n        private final InputStream in;\r\n        private final ByteArrayOutputStream buffer;\r\n\r\n        public BufferedInput(InputStream in, int size) {\r\n            this.in = in;\r\n            buffer = new ByteArrayOutputStream(size);\r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n            int read = in.read();\r\n            if (read != -1) buffer.write(read);\r\n            return read;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://drewnoakes.com/code/exif/","title":"Image metadata extraction using only necessary bytes?","body":"<p>By default the <a href=\"https://drewnoakes.com/code/exif/\" rel=\"nofollow noreferrer\">metadata-extractor</a> only reads the necessary segment bytes, therefore it is possible to simply store all the bytes that it uses in a buffer until the metadata-extractor finishes.</p>\n<p>Using this class you get the metadata from an <code>InputStream</code> after which you can do with the remaining bytes what you want to.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MetadataStreamProcessor {\n\n    private final BufferedInput in;\n\n    public MetadataStreamProcessor(InputStream in) {\n        this.in = new BufferedInput(in, 1024); // 1KB to start with\n    }\n\n    public Metadata readMetadata() throws IOException, ImageProcessingException {\n        return ImageMetadataReader.readMetadata(in);\n    }\n\n    public void writeTo(OutputStream out) throws IOException {\n        in.buffer.writeTo(out);\n\n        int read;\n        byte[] bytes = new byte[1024];\n        while ((read = in.in.read(bytes)) != -1) {\n            out.write(bytes, 0, read);\n        }\n    }\n\n    private static final class BufferedInput extends InputStream {\n\n        private final InputStream in;\n        private final ByteArrayOutputStream buffer;\n\n        public BufferedInput(InputStream in, int size) {\n            this.in = in;\n            buffer = new ByteArrayOutputStream(size);\n        }\n\n        @Override\n        public int read() throws IOException {\n            int read = in.read();\n            if (read != -1) buffer.write(read);\n            return read;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687114481,"creation_date":1687103994,"question_id":76501412,"body_markdown":"I have a programme that handles thousands of images as well as videos. I want to be able to read **date-time** metadata from them without having to save the whole image in memory. Currently the images are passed through my programme using an assortment of streams.\r\n\r\nEg. creating a thumbnail image:\r\n```java\r\npublic static void createThumbnailImage(Media media, TmpMedia tmpMedia) throws IOException {\r\n        PipedInputStream mediaIn = new PipedInputStream();\r\n        PipedOutputStream mediaOut = new PipedOutputStream(mediaIn);\r\n        new Thread(() -&gt; {\r\n            try {\r\n                App.storage.getMedia(media, mediaOut);\r\n            } catch (IOException e) {\r\n                LOGGER.log(Level.WARNING, &quot;Error getting Media for thumbnail&quot;, e);\r\n            }\r\n        }).start();\r\n        // Rest of code...\r\n}\r\n```\r\nFor one of my steps I require the date-time information. I hope that I only have to feed [metadata-extractor][1] a necessary number of bytes while storing them in a buffer, before getting the information and continuing as normal. Just saving all the data in a buffer is definitely not an option as my programme would run out of memory.\r\n\r\n\r\n  [1]: https://drewnoakes.com/code/exif/","title":"Image metadata extraction using only necessary bytes?","body":"<p>I have a programme that handles thousands of images as well as videos. I want to be able to read <strong>date-time</strong> metadata from them without having to save the whole image in memory. Currently the images are passed through my programme using an assortment of streams.</p>\n<p>Eg. creating a thumbnail image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void createThumbnailImage(Media media, TmpMedia tmpMedia) throws IOException {\n        PipedInputStream mediaIn = new PipedInputStream();\n        PipedOutputStream mediaOut = new PipedOutputStream(mediaIn);\n        new Thread(() -&gt; {\n            try {\n                App.storage.getMedia(media, mediaOut);\n            } catch (IOException e) {\n                LOGGER.log(Level.WARNING, &quot;Error getting Media for thumbnail&quot;, e);\n            }\n        }).start();\n        // Rest of code...\n}\n</code></pre>\n<p>For one of my steps I require the date-time information. I hope that I only have to feed <a href=\"https://drewnoakes.com/code/exif/\" rel=\"nofollow noreferrer\">metadata-extractor</a> a necessary number of bytes while storing them in a buffer, before getting the information and continuing as normal. Just saving all the data in a buffer is definitely not an option as my programme would run out of memory.</p>\n"},{"tags":["java","java.util.logging"],"answers":[{"comments":[{"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"score":0,"creation_date":1687112969,"post_id":76501792,"comment_id":134888093,"body_markdown":"Oh, I was thinking, this may be a problem, I&#39;m creating custom logger with PaperAPI (for Minecraft Servers API) and there is logger, so probably I am just writing something into already existing logger.","body":"Oh, I was thinking, this may be a problem, I&#39;m creating custom logger with PaperAPI (for Minecraft Servers API) and there is logger, so probably I am just writing something into already existing logger."},{"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"score":0,"creation_date":1687113360,"post_id":76501792,"comment_id":134888137,"body_markdown":"Setting parrent adds [null] before the prefix.","body":"Setting parrent adds [null] before the prefix."},{"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"score":0,"creation_date":1687113582,"post_id":76501792,"comment_id":134888158,"body_markdown":"I just realized, [null] is plugin&#39;s prefix.","body":"I just realized, [null] is plugin&#39;s prefix."}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687109634,"creation_date":1687109634,"answer_id":76501792,"question_id":76501347,"body_markdown":"It&#39;s interesting that you say that all your logging lines are marked as `WARN` even when they aren&#39;t. Because when I ran the code in your question, I got this:\r\n```lang-none\r\n[TheBridge-GameLogger-8] . Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] .. Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] ... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] .... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] ..... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] ...... Hey! This is 7/20 game tick.\r\n```\r\nNone of these are marked as `WARN`, or any other level for that matter. Also, I  set `tick` to 7 and set the `getUniqueId()` method in your Game class to unconditionally return 8, just to get your code to compile.\r\n\r\nThere is no log level in your log output, because your custom `SimpleFormatter` subclass doesn&#39;t write out any log level. All it writes out is the message, which has gained a prefix in your override of the `log` method.\r\n\r\nIf you want to output the log level, you will need to modify your formatter to write it out. One way to do this would be to modify your formatter to add an extra placeholder for the level. While doing this, however, I found that automatically attaching the prefix to the message was unhelpful: it seemed more natural to put the log message in between the prefix and the message, rather than before or after them. I therefore deleted your override of the `log` method, and used the formatter to include the prefix in the log messages.\r\n\r\nI ended up with the following:\r\n\r\n```java\r\n        handler.setFormatter(new SimpleFormatter() {\r\n            private static final String format = &quot;%1$s %2$-7s %3$s %n&quot;;\r\n\r\n            @Override\r\n            public String format(LogRecord record) {\r\n                return String.format(format,\r\n                        prefix,\r\n                        record.getLevel(),\r\n                        record.getMessage());\r\n            };\r\n        });\r\n```\r\nI included the `-7` in `%2$-7s` to ensure that log messages after the levels align. When I then ran your code, I got the following output, which I would hope is closer to what you are looking for:\r\n```lang-none\r\n[TheBridge-GameLogger-8] INFO    . Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] FINE    .. Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] SEVERE  ... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] WARNING .... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] FINEST  ..... Hey! This is 7/20 game tick.\r\n[TheBridge-GameLogger-8] FINER   ...... Hey! This is 7/20 game tick.\r\n```\r\n\r\nI also didn&#39;t see what you were gaining with your overrides of the `warning()`,   `severe()` and `info()` methods. I deleted them and got identical output.\r\n","title":"Logger showing messages as WARN even if they aren&#39;t Java","body":"<p>It's interesting that you say that all your logging lines are marked as <code>WARN</code> even when they aren't. Because when I ran the code in your question, I got this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[TheBridge-GameLogger-8] . Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] .. Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] ... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] .... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] ..... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] ...... Hey! This is 7/20 game tick.\n</code></pre>\n<p>None of these are marked as <code>WARN</code>, or any other level for that matter. Also, I  set <code>tick</code> to 7 and set the <code>getUniqueId()</code> method in your Game class to unconditionally return 8, just to get your code to compile.</p>\n<p>There is no log level in your log output, because your custom <code>SimpleFormatter</code> subclass doesn't write out any log level. All it writes out is the message, which has gained a prefix in your override of the <code>log</code> method.</p>\n<p>If you want to output the log level, you will need to modify your formatter to write it out. One way to do this would be to modify your formatter to add an extra placeholder for the level. While doing this, however, I found that automatically attaching the prefix to the message was unhelpful: it seemed more natural to put the log message in between the prefix and the message, rather than before or after them. I therefore deleted your override of the <code>log</code> method, and used the formatter to include the prefix in the log messages.</p>\n<p>I ended up with the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        handler.setFormatter(new SimpleFormatter() {\n            private static final String format = &quot;%1$s %2$-7s %3$s %n&quot;;\n\n            @Override\n            public String format(LogRecord record) {\n                return String.format(format,\n                        prefix,\n                        record.getLevel(),\n                        record.getMessage());\n            };\n        });\n</code></pre>\n<p>I included the <code>-7</code> in <code>%2$-7s</code> to ensure that log messages after the levels align. When I then ran your code, I got the following output, which I would hope is closer to what you are looking for:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[TheBridge-GameLogger-8] INFO    . Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] FINE    .. Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] SEVERE  ... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] WARNING .... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] FINEST  ..... Hey! This is 7/20 game tick.\n[TheBridge-GameLogger-8] FINER   ...... Hey! This is 7/20 game tick.\n</code></pre>\n<p>I also didn't see what you were gaining with your overrides of the <code>warning()</code>,   <code>severe()</code> and <code>info()</code> methods. I deleted them and got identical output.</p>\n"},{"tags":[],"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687114368,"creation_date":1687114360,"answer_id":76502096,"question_id":76501347,"body_markdown":"Okay, what I did was: I used Bukkit#getLogger and writed it so it still has prefix, I need and it works perfectly, still I don&#39;t know how would I fix always WARN, but seems like something was overriding my format.","title":"Logger showing messages as WARN even if they aren&#39;t Java","body":"<p>Okay, what I did was: I used Bukkit#getLogger and writed it so it still has prefix, I need and it works perfectly, still I don't know how would I fix always WARN, but seems like something was overriding my format.</p>\n"}],"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687114368,"creation_date":1687103321,"question_id":76501347,"body_markdown":"I have there this class GameLogger:\r\n```lang-java\r\npackage me.retamrovec.thebridge.game;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.logging.*;\r\n\r\npublic class GameLogger extends Logger {\r\n\r\n\tString prefix;\r\n\r\n\tpublic GameLogger(@NotNull Game game) {\r\n\t\tsuper(getAnonymousLogger().getName(), null);\r\n\t\tprefix = &quot;[TheBridge-GameLogger-&quot; + game.getUniqueId() + &quot;] &quot;;\r\n\t\tHandler handler = new ConsoleHandler();\r\n\t\thandler.setLevel(Level.ALL);\r\n\t\thandler.setFormatter(new SimpleFormatter() {\r\n\t\t\tprivate static final String format = &quot;%1$s %n&quot;;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String format(LogRecord record) {\r\n\t\t\t\treturn String.format(format,\r\n\t\t\t\t\t\trecord.getMessage()\r\n\t\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\taddHandler(handler);\r\n\t\tsetLevel(Level.ALL);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void log(@NotNull LogRecord logRecord) {\r\n\t\tlogRecord.setMessage(prefix + logRecord.getMessage());\r\n\t\tsuper.log(logRecord);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void warning(String message) {\r\n\t\tlog(Level.WARNING, message);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void severe(String message) {\r\n\t\tlog(Level.SEVERE, message);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void info(String message) {\r\n\t\tlog(Level.INFO, message);\r\n\t}\r\n}\r\n```\r\nand then this piece of code:\r\n```lang-java\r\n\t\tgameLogger.info(&quot;. Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n\t\tgameLogger.fine(&quot;.. Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n\t\tgameLogger.severe(&quot;... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n\t\tgameLogger.warning(&quot;.... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n\t\tgameLogger.finest(&quot;..... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n\t\tgameLogger.finer(&quot;...... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\r\n```\r\nThe issue is, every log (fine, info, severe, finest, finer) are marked as WARN even if they aren&#39;t, when I try to debug what is LogRecord&#39;s level, then it returns me level which should be here. \r\n\r\nI tried using `GameLogger#log(Level, String)`, still same result.","title":"Logger showing messages as WARN even if they aren&#39;t Java","body":"<p>I have there this class GameLogger:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.retamrovec.thebridge.game;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.logging.*;\n\npublic class GameLogger extends Logger {\n\n    String prefix;\n\n    public GameLogger(@NotNull Game game) {\n        super(getAnonymousLogger().getName(), null);\n        prefix = &quot;[TheBridge-GameLogger-&quot; + game.getUniqueId() + &quot;] &quot;;\n        Handler handler = new ConsoleHandler();\n        handler.setLevel(Level.ALL);\n        handler.setFormatter(new SimpleFormatter() {\n            private static final String format = &quot;%1$s %n&quot;;\n\n            @Override\n            public String format(LogRecord record) {\n                return String.format(format,\n                        record.getMessage()\n                        );\n            }\n        });\n\n        addHandler(handler);\n        setLevel(Level.ALL);\n    }\n\n    @Override\n    public void log(@NotNull LogRecord logRecord) {\n        logRecord.setMessage(prefix + logRecord.getMessage());\n        super.log(logRecord);\n    }\n\n    @Override\n    public void warning(String message) {\n        log(Level.WARNING, message);\n    }\n\n    @Override\n    public void severe(String message) {\n        log(Level.SEVERE, message);\n    }\n\n    @Override\n    public void info(String message) {\n        log(Level.INFO, message);\n    }\n}\n</code></pre>\n<p>and then this piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        gameLogger.info(&quot;. Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n        gameLogger.fine(&quot;.. Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n        gameLogger.severe(&quot;... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n        gameLogger.warning(&quot;.... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n        gameLogger.finest(&quot;..... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n        gameLogger.finer(&quot;...... Hey! This is &quot; + tick + &quot;/20 game tick.&quot;);\n</code></pre>\n<p>The issue is, every log (fine, info, severe, finest, finer) are marked as WARN even if they aren't, when I try to debug what is LogRecord's level, then it returns me level which should be here.</p>\n<p>I tried using <code>GameLogger#log(Level, String)</code>, still same result.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","reader"],"comments":[{"owner":{"account_id":18592411,"reputation":103,"user_id":13549310,"display_name":"Henrique Vital"},"score":0,"creation_date":1687114370,"post_id":76502023,"comment_id":134888258,"body_markdown":"@xerx593 I get the same Parse error of the csv data with the code that you provided.","body":"@xerx593 I get the same Parse error of the csv data with the code that you provided."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687119938,"post_id":76502023,"comment_id":134888881,"body_markdown":"I could be wrong but I don&#39;t think that the Spring classes have enough sophistication to do detailed CSV. Commons would be better","body":"I could be wrong but I don&#39;t think that the Spring classes have enough sophistication to do detailed CSV. Commons would be better"},{"owner":{"account_id":18592411,"reputation":103,"user_id":13549310,"display_name":"Henrique Vital"},"score":0,"creation_date":1687122557,"post_id":76502023,"comment_id":134889117,"body_markdown":"@g00se I am trying to search if is possible to override some method of the class that I am using to handle header fields that has whitespace or period.","body":"@g00se I am trying to search if is possible to override some method of the class that I am using to handle header fields that has whitespace or period."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687122768,"post_id":76502023,"comment_id":134889140,"body_markdown":"I would go specialized if I were you","body":"I would go specialized if I were you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687125377,"post_id":76502023,"comment_id":134889396,"body_markdown":"Having said that, `DefaultLineTokenizer` seems to be able to cope with the input you posted.  *Resource file = csvFileResource();* You&#39;re calling a method (not well named) that returns an array but assigning it to a single (non-array) variable","body":"Having said that, <code>DefaultLineTokenizer</code> seems to be able to cope with the input you posted.  <i>Resource file = csvFileResource();</i> You&#39;re calling a method (not well named) that returns an array but assigning it to a single (non-array) variable"},{"owner":{"account_id":18592411,"reputation":103,"user_id":13549310,"display_name":"Henrique Vital"},"score":0,"creation_date":1687131217,"post_id":76502023,"comment_id":134889810,"body_markdown":"The method returns a single resource that is the csv that I want to read, if I change the &quot;Street. Name&quot; to &quot;Street Name&quot; the code works.","body":"The method returns a single resource that is the csv that I want to read, if I change the &quot;Street. Name&quot; to &quot;Street Name&quot; the code works."}],"owner":{"account_id":18592411,"reputation":103,"user_id":13549310,"display_name":"Henrique Vital"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687113958,"creation_date":1687112998,"question_id":76502023,"body_markdown":"I am trying to read the entire column of a csv into my Spring Batch reader, however I am getting an error because one of my fields have an whitespace and period, so my code does not works as expect.\r\nHow can I fix my lineMapper to work also with fields that has an whitespace and period?\r\n\r\nExample of csv:\r\n\r\n\r\n\r\n    &quot;Name&quot;,&quot;Last name&quot;, &quot;Date&quot;,&quot;Street. Name&quot;\r\n    &quot;test_name&quot;, &quot;abc&quot;, &quot;2010.10.02&quot;, &quot;street test&quot;\r\n\r\nCode:\r\n\r\n    @Configuration\r\n    public class testReader{\r\n        @Bean(&quot;testReader)\r\n        public FlatFileItemReader&lt;TestDTO&gt; csvFileReader() {\r\n            FlatFileItemReader&lt;TestDTO&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n            Resource file = csvFileResource();\r\n            reader.resource(file)\r\n            reader.linesToSkip(1) // Skip header row if needed\r\n            reader.lineMapper(csvLineMapper())\r\n            return reader;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultLineMapper&lt;TestDTO&gt; csvLineMapper() {\r\n            DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\r\n            tokenizer.setNames(&quot;Name&quot;,&quot;Last name&quot;, &quot;Date&quot;,&quot;Street. Name&quot;);\r\n    \r\n            BeanWrapperFieldSetMapper&lt;YourDataClass&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(TestDTO.class);\r\n    \r\n            DefaultLineMapper&lt;TestDTO&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            lineMapper.setLineTokenizer(tokenizer);\r\n            lineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n            return lineMapper;\r\n        }\r\n    \r\n        @Bean\r\n        public Resource[] csvFileResource() throws IOException {\r\n            // Specify the folder path where your CSV files are generated\r\n            Resource[] resources = new PathMatchingResourcePatternResolver().getResources(&quot;file:input/*.csv&quot;);\r\n            if (resources.length == 0) {\r\n                throw new FileNotFoundException(&quot;No CSV files found in the specified folder.&quot;);\r\n            }\r\n            return resources;\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    Parse error","title":"How to read fields from csv with whitespaces and period in Spring Batch?","body":"<p>I am trying to read the entire column of a csv into my Spring Batch reader, however I am getting an error because one of my fields have an whitespace and period, so my code does not works as expect.\nHow can I fix my lineMapper to work also with fields that has an whitespace and period?</p>\n<p>Example of csv:</p>\n<pre><code>&quot;Name&quot;,&quot;Last name&quot;, &quot;Date&quot;,&quot;Street. Name&quot;\n&quot;test_name&quot;, &quot;abc&quot;, &quot;2010.10.02&quot;, &quot;street test&quot;\n</code></pre>\n<p>Code:</p>\n<pre><code>@Configuration\npublic class testReader{\n    @Bean(&quot;testReader)\n    public FlatFileItemReader&lt;TestDTO&gt; csvFileReader() {\n        FlatFileItemReader&lt;TestDTO&gt; reader = new FlatFileItemReader&lt;&gt;();\n        Resource file = csvFileResource();\n        reader.resource(file)\n        reader.linesToSkip(1) // Skip header row if needed\n        reader.lineMapper(csvLineMapper())\n        return reader;\n    }\n\n    @Bean\n    public DefaultLineMapper&lt;TestDTO&gt; csvLineMapper() {\n        DelimitedLineTokenizer tokenizer = new DelimitedLineTokenizer();\n        tokenizer.setNames(&quot;Name&quot;,&quot;Last name&quot;, &quot;Date&quot;,&quot;Street. Name&quot;);\n\n        BeanWrapperFieldSetMapper&lt;YourDataClass&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(TestDTO.class);\n\n        DefaultLineMapper&lt;TestDTO&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setLineTokenizer(tokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n\n    @Bean\n    public Resource[] csvFileResource() throws IOException {\n        // Specify the folder path where your CSV files are generated\n        Resource[] resources = new PathMatchingResourcePatternResolver().getResources(&quot;file:input/*.csv&quot;);\n        if (resources.length == 0) {\n            throw new FileNotFoundException(&quot;No CSV files found in the specified folder.&quot;);\n        }\n        return resources;\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Parse error\n</code></pre>\n"},{"tags":["java","indexoutofboundsexception","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":2,"creation_date":1413789345,"post_id":26460190,"comment_id":41559927,"body_markdown":"`tokens[i+1]` is very dangerous.. Debug your code to understand why.","body":"<code>tokens[i+1]</code> is very dangerous.. Debug your code to understand why."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1413789622,"post_id":26460190,"comment_id":41560030,"body_markdown":"Please take more time to format your code - the indentation makes it very hard to read. Additionally, you should try to obtain a full stack trace, with the relevant line number. `tokens[i + 1]` does indeed look like the most likely culprit here, but you should get into better diagnostic practices early.","body":"Please take more time to format your code - the indentation makes it very hard to read. Additionally, you should try to obtain a full stack trace, with the relevant line number. <code>tokens[i + 1]</code> does indeed look like the most likely culprit here, but you should get into better diagnostic practices early."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1687115535,"post_id":26460190,"comment_id":134888396,"body_markdown":"Does this answer your question? [How can I avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?](https://stackoverflow.com/questions/32568261/how-can-i-avoid-arrayindexoutofboundsexception-or-indexoutofboundsexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32568261/how-can-i-avoid-arrayindexoutofboundsexception-or-indexoutofboundsexception\">How can I avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?</a>"}],"owner":{"account_id":5201689,"reputation":21,"user_id":4160837,"display_name":"chakradhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1901,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687113861,"creation_date":1413789112,"question_id":26460190,"body_markdown":"I am trying to develop an UDF (All Values of Queue) which takes a string as input contains pipe (`|`) delimiter for both fields and field values. Also, string contains both Header and Detail.\r\n \r\nHeader fields will come once and Detail in &#39;N&#39; number of times in a single line.\r\n \r\nBelow is the input string  :\r\n```\r\nHeaderfield1|fieldValue1|Headerfield2|fieldValue2|Headerfield3|fieldValue3|Headerfield4|fieldValue4|Headerfield5|fieldValue5|Headerfield6|fieldValue6|Itemfield1|fieldvalue1|Itemfield1|fieldvalue1|Itemfield2|fieldvalue2|Itemfield3|fieldvalue3|Itemfield4|fieldvalue4|Itemfield1-1|fieldvalue1-1|Itemfield2-1|fieldvalue1-2|Itemfield3-1|fieldvalue3-1|Itemfield4-1|fieldvalue4-1|Itemfield1-2|fieldvalue1-2|Itemfield2-2|fieldvalue2-2|Itemfield3-2|fieldvalue3-2|Itemfield4-2|fieldvalue4-2|\r\n```\r\n \r\nSay in above string, Headerfield1 is a field and its corresponding value is fieldValue1.\r\n\r\n\r\nIn UDF, we are passing input string in variable input and required field in the variable field. \r\n\r\nI am trying to pass the field name and expecting its corresponding field value as output.\r\n\r\nBelow is the UDF:\r\n\r\n    public void StringSplit(String[] input, String[] field, ResultList result, Container container) throws StreamTransformationException{\r\n    \r\n    String str = input.toString();\r\n    String tokens[] = str.split(&quot;\\\\|&quot;);\r\n    Map&lt;String, String&gt;tokensMap = new HashMap();\r\n      int j =0;\r\n      for(int i =0; i &lt;tokens.length ; i++)\r\n      {\r\n        if(j == i)\r\n        {\r\n         String key = tokens[i].toString();\r\n           if (key.contains(&quot;-&quot;))\r\n         {\r\n         String key2 = key.substring(0, key.indexOf(&quot;-&quot;));\r\n         if(tokensMap.containsKey(key2))\r\n         {\r\n         tokensMap.put(key2, tokensMap.get(key2)+&quot;,&quot;+tokens[i+1].toString());\r\n         }\r\n         else\r\n         {\r\n         tokensMap.put(key.substring(0, key.indexOf(&quot;-&quot;)),tokens[i+1].toString());\r\n         }\r\n         }\r\n         else\r\n         {\r\n         tokensMap.put(tokens[i].toString(),tokens[i+1].toString());\r\n         }\r\n         j = i+2;\r\n        }\r\n       }\r\n      String[] result1 = tokensMap.get(field).split(&quot;,&quot;);\r\n      for (int i = 0; i &lt; result1.length; i++)\r\n    {\r\n    if (result1[i].equals(&quot;&quot;) || result1[i].equals(null) )\r\n    result.addSuppress();\r\n    else\r\n          result.addValue(result1[i]);  \r\n    }\r\n    }\r\n\r\n\r\nThis UDF, takes input string and splits with pipe (`|`) and kept it in tokens later add it to tokensMap. Finally get the required field and stores into the result1 and by using for loop adding into the result list. I am getting the error below:\r\n\r\n&gt; Exception:[java.lang.ArrayIndexOutOfBoundsException:] in class com.sap.xi.tf.\r\n&gt;\r\n&gt; Method StringSplit\r\n&gt;\r\n&gt; ![][1]\r\n\r\nPlease check the error and suggest where I need to change.\r\n\r\nThanks in advance \r\n\r\nThank you,\r\nChakradhar N!\r\n\r\n  [1]: http://i.stack.imgur.com/ppZT7.png\r\n","title":"ArrayIndexOutOfBoundsException in SAP PI UDF","body":"<p>I am trying to develop an UDF (All Values of Queue) which takes a string as input contains pipe (<code>|</code>) delimiter for both fields and field values. Also, string contains both Header and Detail.</p>\n<p>Header fields will come once and Detail in 'N' number of times in a single line.</p>\n<p>Below is the input string  :</p>\n<pre><code>Headerfield1|fieldValue1|Headerfield2|fieldValue2|Headerfield3|fieldValue3|Headerfield4|fieldValue4|Headerfield5|fieldValue5|Headerfield6|fieldValue6|Itemfield1|fieldvalue1|Itemfield1|fieldvalue1|Itemfield2|fieldvalue2|Itemfield3|fieldvalue3|Itemfield4|fieldvalue4|Itemfield1-1|fieldvalue1-1|Itemfield2-1|fieldvalue1-2|Itemfield3-1|fieldvalue3-1|Itemfield4-1|fieldvalue4-1|Itemfield1-2|fieldvalue1-2|Itemfield2-2|fieldvalue2-2|Itemfield3-2|fieldvalue3-2|Itemfield4-2|fieldvalue4-2|\n</code></pre>\n<p>Say in above string, Headerfield1 is a field and its corresponding value is fieldValue1.</p>\n<p>In UDF, we are passing input string in variable input and required field in the variable field.</p>\n<p>I am trying to pass the field name and expecting its corresponding field value as output.</p>\n<p>Below is the UDF:</p>\n<pre><code>public void StringSplit(String[] input, String[] field, ResultList result, Container container) throws StreamTransformationException{\n\nString str = input.toString();\nString tokens[] = str.split(&quot;\\\\|&quot;);\nMap&lt;String, String&gt;tokensMap = new HashMap();\n  int j =0;\n  for(int i =0; i &lt;tokens.length ; i++)\n  {\n    if(j == i)\n    {\n     String key = tokens[i].toString();\n       if (key.contains(&quot;-&quot;))\n     {\n     String key2 = key.substring(0, key.indexOf(&quot;-&quot;));\n     if(tokensMap.containsKey(key2))\n     {\n     tokensMap.put(key2, tokensMap.get(key2)+&quot;,&quot;+tokens[i+1].toString());\n     }\n     else\n     {\n     tokensMap.put(key.substring(0, key.indexOf(&quot;-&quot;)),tokens[i+1].toString());\n     }\n     }\n     else\n     {\n     tokensMap.put(tokens[i].toString(),tokens[i+1].toString());\n     }\n     j = i+2;\n    }\n   }\n  String[] result1 = tokensMap.get(field).split(&quot;,&quot;);\n  for (int i = 0; i &lt; result1.length; i++)\n{\nif (result1[i].equals(&quot;&quot;) || result1[i].equals(null) )\nresult.addSuppress();\nelse\n      result.addValue(result1[i]);  \n}\n}\n</code></pre>\n<p>This UDF, takes input string and splits with pipe (<code>|</code>) and kept it in tokens later add it to tokensMap. Finally get the required field and stores into the result1 and by using for loop adding into the result list. I am getting the error below:</p>\n<blockquote>\n<p>Exception:[java.lang.ArrayIndexOutOfBoundsException:] in class com.sap.xi.tf.</p>\n<p>Method StringSplit</p>\n<p><img src=\"https://i.stack.imgur.com/ppZT7.png\" alt=\"\" /></p>\n</blockquote>\n<p>Please check the error and suggest where I need to change.</p>\n<p>Thanks in advance</p>\n<p>Thank you,\nChakradhar N!</p>\n"},{"tags":["java","spring","amazon-redshift","quartz-scheduler"],"comments":[{"owner":{"account_id":8456553,"reputation":4194,"user_id":6343617,"display_name":"Jon Scott"},"score":0,"creation_date":1550071746,"post_id":54673597,"comment_id":96137238,"body_markdown":"I wonder if you removed autoReconnect=true - does that help? see https://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html","body":"I wonder if you removed autoReconnect=true - does that help? see <a href=\"https://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-options.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/redshift/latest/mgmt/&hellip;</a>"},{"owner":{"account_id":6796440,"reputation":639,"user_id":5231511,"display_name":"Rokin Maharjan"},"score":0,"creation_date":1550072596,"post_id":54673597,"comment_id":96137739,"body_markdown":"@JonScott This does not work","body":"@JonScott This does not work"}],"answers":[{"tags":[],"owner":{"account_id":2088184,"reputation":516,"user_id":1858605,"display_name":"Cosmtar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550071995,"creation_date":1550071995,"answer_id":54673863,"question_id":54673597,"body_markdown":"AWS Redshift does not support some key SQL commands found in other servers. The main one that troubles me most is the lack of support for the SEQUENCE. Further, the AUTO INCREMENT is not supported instead there is an IDENTITY type which has two parameters of SEED and STEP. Also, IDENTITY may not be issued in sequential order.\r\n\r\nAnother problem is that many of the recent jdbc42, jdbc41 drivers ARE NOT THREAD SAFE. Their call to perform a prepared statement is very problematic. It took me a month to figure it out and finally settle on version 1.2.10.1009 of either jdbc41 or jdbc41 drivers for compliance.\r\n\r\nBottom line, it simply may not work when you do not control the database functionality of the application (meaning having no source to make changes).\r\n\r\nI&#39;m sure it was not what you wanted to hear.  ","title":"&quot;Driver does not support this optional feature&quot; while trying to run quartz jobs with Amazon Redshift","body":"<p>AWS Redshift does not support some key SQL commands found in other servers. The main one that troubles me most is the lack of support for the SEQUENCE. Further, the AUTO INCREMENT is not supported instead there is an IDENTITY type which has two parameters of SEED and STEP. Also, IDENTITY may not be issued in sequential order.</p>\n\n<p>Another problem is that many of the recent jdbc42, jdbc41 drivers ARE NOT THREAD SAFE. Their call to perform a prepared statement is very problematic. It took me a month to figure it out and finally settle on version 1.2.10.1009 of either jdbc41 or jdbc41 drivers for compliance.</p>\n\n<p>Bottom line, it simply may not work when you do not control the database functionality of the application (meaning having no source to make changes).</p>\n\n<p>I'm sure it was not what you wanted to hear.  </p>\n"},{"tags":[],"owner":{"account_id":13345089,"reputation":121,"user_id":11869571,"display_name":"vish anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687113363,"creation_date":1687113363,"answer_id":76502040,"question_id":54673597,"body_markdown":"May be you need to change the driver because some drivers have compatibility issues either with version or data types.\r\n\r\nYou can try this driver with name : redshift-jdbc42-2.1.0.16\r\n\r\n [Link to download][1]\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/com/amazon/redshift/redshift-jdbc42/2.1.0.16/","title":"&quot;Driver does not support this optional feature&quot; while trying to run quartz jobs with Amazon Redshift","body":"<p>May be you need to change the driver because some drivers have compatibility issues either with version or data types.</p>\n<p>You can try this driver with name : redshift-jdbc42-2.1.0.16</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/amazon/redshift/redshift-jdbc42/2.1.0.16/\" rel=\"nofollow noreferrer\">Link to download</a></p>\n"}],"owner":{"account_id":6796440,"reputation":639,"user_id":5231511,"display_name":"Rokin Maharjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687113363,"creation_date":1550071215,"question_id":54673597,"body_markdown":"I am trying to run quartz scheduler with Amazon Redshift as the data source. I am getting `Driver does not support this optional feature` error while storing quartz job.\r\n\r\n[![Error message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAzZl.png\r\n\r\nMy quartz datasource configuration is as shown below:\r\n\r\n`org.quartz.dataSource.quartzDataSource.driver=com.amazon.redshift.jdbc42.Driver\r\norg.quartz.dataSource.quartzDataSource.URL=jdbc:redshift://redshift.abcd:5439/abc?autoReconnect=true\r\norg.quartz.dataSource.quartzDataSource.user=user\r\norg.quartz.dataSource.quartzDataSource.password=password`\r\n\r\nAny kind of help is highly appreciated.","title":"&quot;Driver does not support this optional feature&quot; while trying to run quartz jobs with Amazon Redshift","body":"<p>I am trying to run quartz scheduler with Amazon Redshift as the data source. I am getting <code>Driver does not support this optional feature</code> error while storing quartz job.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CAzZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAzZl.png\" alt=\"Error message\"></a></p>\n\n<p>My quartz datasource configuration is as shown below:</p>\n\n<p><code>org.quartz.dataSource.quartzDataSource.driver=com.amazon.redshift.jdbc42.Driver\norg.quartz.dataSource.quartzDataSource.URL=jdbc:redshift://redshift.abcd:5439/abc?autoReconnect=true\norg.quartz.dataSource.quartzDataSource.user=user\norg.quartz.dataSource.quartzDataSource.password=password</code></p>\n\n<p>Any kind of help is highly appreciated.</p>\n"},{"tags":["java","android","file-io","android-anr-dialog","directory-traversal"],"answers":[{"tags":[],"owner":{"account_id":254272,"reputation":26437,"user_id":533552,"accept_rate":100,"display_name":"Dalmas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342255238,"creation_date":1342255238,"answer_id":11482289,"question_id":11482204,"body_markdown":"`System.out.println` calls are really slow (well it&#39;s not really the function itself, but the underlying PrintStream which takes a lot of time to write text in the console).\r\n\r\nReplace them by something else and it should be fine. For example, you can create and return an array with the file names.","title":"How to recursively scan directories in Android","body":"<p><code>System.out.println</code> calls are really slow (well it's not really the function itself, but the underlying PrintStream which takes a lot of time to write text in the console).</p>\n\n<p>Replace them by something else and it should be fine. For example, you can create and return an array with the file names.</p>\n"},{"comments":[{"owner":{"account_id":304023,"reputation":11651,"user_id":613305,"accept_rate":90,"display_name":"biscuitstack"},"score":0,"creation_date":1468235954,"post_id":11482350,"comment_id":64027619,"body_markdown":"Forgive my naive question but how is context being assigned here? I typically pass it through from an activity as an argument to a function but I see no arguments here? Without, context is giving me a &#39;cannot resolve&#39; compile error.","body":"Forgive my naive question but how is context being assigned here? I typically pass it through from an activity as an argument to a function but I see no arguments here? Without, context is giving me a &#39;cannot resolve&#39; compile error."},{"owner":{"account_id":55332,"reputation":27347,"user_id":165674,"accept_rate":67,"display_name":"Dheeraj Vepakomma"},"score":1,"creation_date":1468243120,"post_id":11482350,"comment_id":64032500,"body_markdown":"@biscuitstack You can use an instance of an `Activity` or `Application` as the [`Context`](https://developer.android.com/reference/android/content/Context.html).","body":"@biscuitstack You can use an instance of an <code>Activity</code> or <code>Application</code> as the <a href=\"https://developer.android.com/reference/android/content/Context.html\" rel=\"nofollow noreferrer\"><code>Context</code></a>."},{"owner":{"account_id":304023,"reputation":11651,"user_id":613305,"accept_rate":90,"display_name":"biscuitstack"},"score":0,"creation_date":1468243266,"post_id":11482350,"comment_id":64032609,"body_markdown":"This will need some more reading but you&#39;ve given me a direction to go in, thanks Dheeraj.","body":"This will need some more reading but you&#39;ve given me a direction to go in, thanks Dheeraj."}],"tags":[],"owner":{"account_id":55332,"reputation":27347,"user_id":165674,"accept_rate":67,"display_name":"Dheeraj Vepakomma"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1672353031,"creation_date":1342255852,"answer_id":11482350,"question_id":11482204,"body_markdown":"You should almost always access the file system only from a non-UI thread. Otherwise you risk blocking the UI thread for long periods and getting an [ANR][1]. Run the FileWalker in an `AsyncTask`&#39;s `doInBackground()`.\r\n\r\nThis is a slightly optimized version of FileWalker:\r\n\r\n    public class Filewalker {\r\n\r\n        public void walk(File root) {\r\n\r\n            File[] list = root.listFiles();\r\n\r\n            for (File f : list) {\r\n                if (f.isDirectory()) {\r\n                    Log.d(&quot;&quot;, &quot;Dir: &quot; + f.getAbsoluteFile());\r\n                    walk(f);\r\n                }\r\n                else {\r\n                    Log.d(&quot;&quot;, &quot;File: &quot; + f.getAbsoluteFile());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou can invoke it from a background thread like this:\r\n\r\n    Filewalker fw = new Filewalker();\r\n    fw.walk(context.getFilesDir());\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANR#Technology\r\n","title":"How to recursively scan directories in Android","body":"<p>You should almost always access the file system only from a non-UI thread. Otherwise you risk blocking the UI thread for long periods and getting an <a href=\"https://en.wikipedia.org/wiki/ANR#Technology\" rel=\"nofollow noreferrer\">ANR</a>. Run the FileWalker in an <code>AsyncTask</code>'s <code>doInBackground()</code>.</p>\n<p>This is a slightly optimized version of FileWalker:</p>\n<pre><code>public class Filewalker {\n\n    public void walk(File root) {\n\n        File[] list = root.listFiles();\n\n        for (File f : list) {\n            if (f.isDirectory()) {\n                Log.d(&quot;&quot;, &quot;Dir: &quot; + f.getAbsoluteFile());\n                walk(f);\n            }\n            else {\n                Log.d(&quot;&quot;, &quot;File: &quot; + f.getAbsoluteFile());\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can invoke it from a background thread like this:</p>\n<pre><code>Filewalker fw = new Filewalker();\nfw.walk(context.getFilesDir());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1687113040,"post_id":76290797,"comment_id":134888105,"body_markdown":"Where did you copy that from?","body":"Where did you copy that from?"},{"owner":{"account_id":4980512,"reputation":39,"user_id":4005650,"display_name":"ianeperson"},"score":0,"creation_date":1698351152,"post_id":76290797,"comment_id":136398091,"body_markdown":"I used this &quot;no code recursion&quot; approach as part of my college course - so circa 1986.  I may be able to find the (Pascal) source code if it would help.  \n\nThanks for capitalizing my comments.","body":"I used this &quot;no code recursion&quot; approach as part of my college course - so circa 1986.  I may be able to find the (Pascal) source code if it would help.    Thanks for capitalizing my comments."}],"tags":[],"owner":{"account_id":4980512,"reputation":39,"user_id":4005650,"display_name":"ianeperson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687112979,"creation_date":1684512716,"answer_id":76290797,"question_id":11482204,"body_markdown":"If you prefer a non-recursive method you could try something like:\r\n\r\n```\r\npublic void filetree (File directory)\r\n{\r\n    List&lt;File&gt; dirlist = new ArrayList&lt;File&gt;();  // The list of directories to scan\r\n    dirlist.add(directory);     // Initialize - with the stating point\r\n    do { \t\t\t// The scan list cannot start with zero entries - so bottom exit\r\n        File f = dirlist.remove(0);     // Extract the directory to scan\r\n        if (f.listFiles() != null)\t\t// Check for permissions problems\r\n        \tfor (File fl : f.listFiles())\r\n        \t\tif (fl.isDirectory()) dirlist.add(fl.getAbsoluteFile());    // directory - add to list\r\n        \t\telse Log.i (&quot;msg&quot;, &quot;File: &quot; + fl.getAbsoluteFile());  // File - do something with it\r\n    } while (!dirlist.isEmpty());  // Continue until there is nothing left to scan\r\n}\r\n```\r\n","title":"How to recursively scan directories in Android","body":"<p>If you prefer a non-recursive method you could try something like:</p>\n<pre><code>public void filetree (File directory)\n{\n    List&lt;File&gt; dirlist = new ArrayList&lt;File&gt;();  // The list of directories to scan\n    dirlist.add(directory);     // Initialize - with the stating point\n    do {            // The scan list cannot start with zero entries - so bottom exit\n        File f = dirlist.remove(0);     // Extract the directory to scan\n        if (f.listFiles() != null)      // Check for permissions problems\n            for (File fl : f.listFiles())\n                if (fl.isDirectory()) dirlist.add(fl.getAbsoluteFile());    // directory - add to list\n                else Log.i (&quot;msg&quot;, &quot;File: &quot; + fl.getAbsoluteFile());  // File - do something with it\n    } while (!dirlist.isEmpty());  // Continue until there is nothing left to scan\n}\n</code></pre>\n"}],"owner":{"account_id":1655641,"reputation":43,"user_id":1525288,"display_name":"INCOGNITO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10927,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11482350,"answer_count":3,"score":4,"last_activity_date":1687112979,"creation_date":1342254267,"question_id":11482204,"body_markdown":"How can I recursively scan directories in Android and display file name(s)? I&#39;m trying to scan, but it&#39;s slow (force close or wait). I&#39;m using the `FileWalker` class given in a separate answer [to this question][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/2056221/recursively-list-files-in-java","title":"How to recursively scan directories in Android","body":"<p>How can I recursively scan directories in Android and display file name(s)? I'm trying to scan, but it's slow (force close or wait). I'm using the <code>FileWalker</code> class given in a separate answer <a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java\">to this question</a>.</p>\n"},{"tags":["java","android","function","kotlin","kotlin-function-type"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1687111777,"creation_date":1687111422,"answer_id":76501918,"question_id":76501900,"body_markdown":"They are apples and oranges and the question about their performance doesn&#39;t really make too much sense.\r\n\r\nExtension in most cases is effectively a static function and its performance is the same as any other static function.\r\n\r\nInfix function simply provides an alternative syntax for calling a function. Infix function could be both a regular member function or an extension. They have the same performance as their non-infix equivalents.","title":"Does any has performance difference between Extension Function and Infix Functions in Kotlin/Java","body":"<p>They are apples and oranges and the question about their performance doesn't really make too much sense.</p>\n<p>Extension in most cases is effectively a static function and its performance is the same as any other static function.</p>\n<p>Infix function simply provides an alternative syntax for calling a function. Infix function could be both a regular member function or an extension. They have the same performance as their non-infix equivalents.</p>\n"}],"owner":{"account_id":25182334,"reputation":29,"user_id":19023704,"display_name":"Mert Ozan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687111777,"creation_date":1687111128,"question_id":76501900,"body_markdown":"something stuck in my head, I would like to ask you here. I searched the web but couldn&#39;t find it. Is there any performance difference between **Extension** Functions and **Infix** Functions ? Thanks.","title":"Does any has performance difference between Extension Function and Infix Functions in Kotlin/Java","body":"<p>something stuck in my head, I would like to ask you here. I searched the web but couldn't find it. Is there any performance difference between <strong>Extension</strong> Functions and <strong>Infix</strong> Functions ? Thanks.</p>\n"},{"tags":["java","gradle","intellij-idea","build.gradle","lombok"],"comments":[{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1686896033,"post_id":76485846,"comment_id":134863819,"body_markdown":"What is the whole build.gradle? Do you have sourceCompatibility = &#39;16&#39;\nand targetCompatibility = &#39;16&#39; there?","body":"What is the whole build.gradle? Do you have sourceCompatibility = &#39;16&#39; and targetCompatibility = &#39;16&#39; there?"},{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1686896069,"post_id":76485846,"comment_id":134863824,"body_markdown":"see also https://stackoverflow.com/a/68323986/8203759","body":"see also <a href=\"https://stackoverflow.com/a/68323986/8203759\">stackoverflow.com/a/68323986/8203759</a>"}],"answers":[{"tags":[],"owner":{"account_id":8885509,"reputation":367,"user_id":8107351,"accept_rate":71,"display_name":"user8107351"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687111679,"creation_date":1687111679,"answer_id":76501932,"question_id":76485846,"body_markdown":"So what I finially did, was to downgrade my java version to 8, but there are some packages that requires at least version 11 to function. So I added this in my build.gradle:\r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n    }\r\n\r\nNote: You should have both version 11 Nand 8 installed for this to work.","title":"Why am I getting java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor error?","body":"<p>So what I finially did, was to downgrade my java version to 8, but there are some packages that requires at least version 11 to function. So I added this in my build.gradle:</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(11)\n    }\n}\n</code></pre>\n<p>Note: You should have both version 11 Nand 8 installed for this to work.</p>\n"}],"owner":{"account_id":8885509,"reputation":367,"user_id":8107351,"accept_rate":71,"display_name":"user8107351"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76501932,"answer_count":1,"score":0,"last_activity_date":1687111679,"creation_date":1686867591,"question_id":76485846,"body_markdown":"I know there are other similar questions like this, but I have gone through all of them, and none worked for me, hence my asking it here. \r\n\r\nI&#39;m using gradle for my project, and when I build, it builds successfully, but when I try to compile using:\r\n\r\n    /gradlew app:compileJava\r\n\r\nI get this error:\r\n\r\n    Execution failed for task &#39;:app:compileJava&#39;.\r\n    &gt; java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module ...) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module ...\r\n\r\nMy dependency for lombok currently looks like this:\r\n\r\n    dependencies {\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testAnnotationProcessor  &#39;org.projectlombok:lombok&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \r\n    ...\r\n    }\r\n    \r\nI have also tried adding a specific version number to the dependences like for example:\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\r\nAnd I was still getting same error.\r\n\r\nI&#39;m using jdk 15 (tried using 17, 16 and 11, same error).\r\n\r\nWhen I check my annotation processor in intelliJ, I see there is a processor path with lombok version 1.18.16. I don&#39;t know if this might be the issue, but when I delete the cache in .gradle folder, after building, it pops up again. Here is a screenshot.\r\n\r\n[![annotation processor screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Frvtm.png\r\n\r\nPlease any help would be really appreciated.","title":"Why am I getting java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor error?","body":"<p>I know there are other similar questions like this, but I have gone through all of them, and none worked for me, hence my asking it here.</p>\n<p>I'm using gradle for my project, and when I build, it builds successfully, but when I try to compile using:</p>\n<pre><code>/gradlew app:compileJava\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Execution failed for task ':app:compileJava'.\n&gt; java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module ...) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module ...\n</code></pre>\n<p>My dependency for lombok currently looks like this:</p>\n<pre><code>dependencies {\n    annotationProcessor 'org.projectlombok:lombok'\n    testAnnotationProcessor  'org.projectlombok:lombok'\n    compileOnly 'org.projectlombok:lombok'\n    testCompileOnly 'org.projectlombok:lombok'\n\n...\n}\n</code></pre>\n<p>I have also tried adding a specific version number to the dependences like for example:</p>\n<pre><code>annotationProcessor 'org.projectlombok:lombok:1.18.20'\n</code></pre>\n<p>And I was still getting same error.</p>\n<p>I'm using jdk 15 (tried using 17, 16 and 11, same error).</p>\n<p>When I check my annotation processor in intelliJ, I see there is a processor path with lombok version 1.18.16. I don't know if this might be the issue, but when I delete the cache in .gradle folder, after building, it pops up again. Here is a screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/Frvtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Frvtm.png\" alt=\"annotation processor screenshot\" /></a></p>\n<p>Please any help would be really appreciated.</p>\n"},{"tags":["java","spring-data-jpa","mappedsuperclass"],"answers":[{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687111167,"creation_date":1680018866,"answer_id":75868459,"question_id":75858871,"body_markdown":"I am still confused as to why the error only occurred after the app had finished running but the reason for the error was that Spring Boot creates Spring Beans for any class that extends the CrudRepository even when it has no @Repository annotation. \r\n\r\nThe fix was adding the ```@NoRepositoryBean``` annotation to the **StatsRepository** class","title":"app is attempting to refresh leading to @MappedSuperClass repository errors - Failed to create query for method public abstract, Not an entity","body":"<p>I am still confused as to why the error only occurred after the app had finished running but the reason for the error was that Spring Boot creates Spring Beans for any class that extends the CrudRepository even when it has no @Repository annotation.</p>\n<p>The fix was adding the <code>@NoRepositoryBean</code> annotation to the <strong>StatsRepository</strong> class</p>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868459,"answer_count":1,"score":0,"last_activity_date":1687111167,"creation_date":1679939474,"question_id":75858871,"body_markdown":"I have an app that calculates Roto values from given Stats. I refactored it to use @MapperSuperclass instead of saving only 1 Entity (with extra fields set to 0) and now I am getting an error. The weird thing is that my app still runs and does its job, and only throws the error when it should be shutting down.\r\n\r\nHere are my closing terminal statements. Besides for the statement that an Exception as was encountered, this part is exactly the same as prior to the refactor. What I don&#39;t understand is why it is attempting to refresh. \r\n```\r\n2023-03-27 11:57:01.940  INFO 6588 --- [           main] com.baseball.roto.service.ExcelService   : writing results\r\n2023-03-27 11:57:02.102  INFO 6588 --- [           main] com.baseball.roto.service.ExcelService   : wrote stats\r\n2023-03-27 11:57:02.135  INFO 6588 --- [           main] com.baseball.roto.Runner                 : done\r\n2023-03-27 11:57:02.206  WARN 6588 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;statsRepository&#39; defined in com.baseball.roto.repository.StatsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\r\n2023-03-27 11:57:02.208  INFO 6588 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-27 11:57:02.213  INFO 6588 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-27 11:57:02.249  INFO 6588 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n```\r\nAnd then instead of shutting down after the prior statement as it used to, it continues on - \r\n```\r\n2023-03-27 11:57:02.259  INFO 6588 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-27 11:57:02.288 ERROR 6588 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;statsRepository&#39; defined in com.baseball.roto.repository.StatsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.baseball.roto.Roto2Application.main(Roto2Application.java:10) ~[classes/:na]\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\r\n\tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n\tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 15 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not an entity: class com.baseball.roto.model.entity.Stats\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.entity(MetamodelImpl.java:566) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.query.criteria.internal.QueryStructure.from(QueryStructure.java:128) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.query.criteria.internal.CriteriaQueryImpl.from(CriteriaQueryImpl.java:158) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryCreator.&lt;init&gt;(JpaQueryCreator.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaCountQueryCreator.&lt;init&gt;(JpaCountQueryCreator.java:48) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.createCreator(PartTreeJpaQuery.java:365) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:211) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:348) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:91) ~[spring-data-jpa-2.7.0.jar:2.7.0]\r\n\t... 41 common frames omitted\r\n```\r\nSo obviously this has something to do with adding the @MappedSuperclass but I have no idea what. \r\n \r\nHere are my repos - \r\n```\r\npublic interface StatsRepository&lt;T extends Stats&gt; extends CrudRepository&lt;T, StatsId&gt; {\r\n    List&lt;T&gt; findAllByWeek(int week);\r\n    List&lt;T&gt; findAllByName(String name);\r\n}\r\n```\r\nBoth children merely extend this interface with their Pojo\r\n```\r\npublic interface ChampRepository extends StatsRepository&lt;ChampStats&gt; { }\r\n\r\n```\r\nAnd my config file that gives the Repo bean to my Service - \r\n```\r\n@Configuration\r\npublic class RepositoryConfiguration {\r\n    @Autowired private StatsRepository&lt;ChampStats&gt; champRepository;\r\n    @Autowired private StatsRepository&lt;PsdStats&gt; psdRepository;\r\n\r\n    @Bean\r\n    public StatsRepository repository(League league) {\r\n        if (league.equals(League.CHAMPIONS)) {\r\n            return champRepository;\r\n        } else if (league.equals(League.PSD)) {\r\n            return psdRepository;\r\n        }\r\n        throw new BadInput(&quot;The given league is not valid&quot;);\r\n    }\r\n} \r\n```","title":"app is attempting to refresh leading to @MappedSuperClass repository errors - Failed to create query for method public abstract, Not an entity","body":"<p>I have an app that calculates Roto values from given Stats. I refactored it to use @MapperSuperclass instead of saving only 1 Entity (with extra fields set to 0) and now I am getting an error. The weird thing is that my app still runs and does its job, and only throws the error when it should be shutting down.</p>\n<p>Here are my closing terminal statements. Besides for the statement that an Exception as was encountered, this part is exactly the same as prior to the refactor. What I don't understand is why it is attempting to refresh.</p>\n<pre><code>2023-03-27 11:57:01.940  INFO 6588 --- [           main] com.baseball.roto.service.ExcelService   : writing results\n2023-03-27 11:57:02.102  INFO 6588 --- [           main] com.baseball.roto.service.ExcelService   : wrote stats\n2023-03-27 11:57:02.135  INFO 6588 --- [           main] com.baseball.roto.Runner                 : done\n2023-03-27 11:57:02.206  WARN 6588 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'statsRepository' defined in com.baseball.roto.repository.StatsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\n2023-03-27 11:57:02.208  INFO 6588 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-03-27 11:57:02.213  INFO 6588 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-27 11:57:02.249  INFO 6588 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>And then instead of shutting down after the prior statement as it used to, it continues on -</p>\n<pre><code>2023-03-27 11:57:02.259  INFO 6588 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-03-27 11:57:02.288 ERROR 6588 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'statsRepository' defined in com.baseball.roto.repository.StatsRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.baseball.roto.Roto2Application.main(Roto2Application.java:10) ~[classes/:na]\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 15 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.baseball.roto.repository.StatsRepository.findAllByName(java.lang.String)! Not an entity: class com.baseball.roto.model.entity.Stats\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]\n    ... 37 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not an entity: class com.baseball.roto.model.entity.Stats\n    at org.hibernate.metamodel.internal.MetamodelImpl.entity(MetamodelImpl.java:566) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.criteria.internal.QueryStructure.from(QueryStructure.java:128) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl.from(CriteriaQueryImpl.java:158) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator.&lt;init&gt;(JpaQueryCreator.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.JpaCountQueryCreator.&lt;init&gt;(JpaCountQueryCreator.java:48) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.createCreator(PartTreeJpaQuery.java:365) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:211) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:348) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:91) ~[spring-data-jpa-2.7.0.jar:2.7.0]\n    ... 41 common frames omitted\n</code></pre>\n<p>So obviously this has something to do with adding the @MappedSuperclass but I have no idea what.</p>\n<p>Here are my repos -</p>\n<pre><code>public interface StatsRepository&lt;T extends Stats&gt; extends CrudRepository&lt;T, StatsId&gt; {\n    List&lt;T&gt; findAllByWeek(int week);\n    List&lt;T&gt; findAllByName(String name);\n}\n</code></pre>\n<p>Both children merely extend this interface with their Pojo</p>\n<pre><code>public interface ChampRepository extends StatsRepository&lt;ChampStats&gt; { }\n\n</code></pre>\n<p>And my config file that gives the Repo bean to my Service -</p>\n<pre><code>@Configuration\npublic class RepositoryConfiguration {\n    @Autowired private StatsRepository&lt;ChampStats&gt; champRepository;\n    @Autowired private StatsRepository&lt;PsdStats&gt; psdRepository;\n\n    @Bean\n    public StatsRepository repository(League league) {\n        if (league.equals(League.CHAMPIONS)) {\n            return champRepository;\n        } else if (league.equals(League.PSD)) {\n            return psdRepository;\n        }\n        throw new BadInput(&quot;The given league is not valid&quot;);\n    }\n} \n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1687016597,"post_id":76496920,"comment_id":134879757,"body_markdown":"You [can&#39;t call `launch()` more than once](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...))","body":"You <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\">can&#39;t call <code>launch()</code> more than once</a>"},{"owner":{"account_id":21107234,"reputation":3,"user_id":15515954,"display_name":"Akila Indusara"},"score":0,"creation_date":1687016749,"post_id":76496920,"comment_id":134879781,"body_markdown":"@James_D Yes that&#39;s why I asked if I can keep using the CLI while the GUI window is open and functioning. So is it not possible?","body":"@James_D Yes that&#39;s why I asked if I can keep using the CLI while the GUI window is open and functioning. So is it not possible?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687018500,"post_id":76496920,"comment_id":134880007,"body_markdown":"Why not pass the arguments to [`launch`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...))? If so, please [edit] your question to include a [mre] that shows your revised approach.","body":"Why not pass the arguments to <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>launch</code></a>? If so, please <a href=\"https://stackoverflow.com/posts/76496920/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":21107234,"reputation":3,"user_id":15515954,"display_name":"Akila Indusara"},"score":0,"creation_date":1687020860,"post_id":76496920,"comment_id":134880266,"body_markdown":"@trashgod Sorry I don&#39;t get your question. to my knowledge, I need arguments if I need to use them when launching the program right? currently, I don&#39;t need any. that&#39;s why I didn&#39;t pass any arguments. If I am missing something or if there&#39;re any arguments that can fix the issue, please explain if you can. Thanks.","body":"@trashgod Sorry I don&#39;t get your question. to my knowledge, I need arguments if I need to use them when launching the program right? currently, I don&#39;t need any. that&#39;s why I didn&#39;t pass any arguments. If I am missing something or if there&#39;re any arguments that can fix the issue, please explain if you can. Thanks."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687021205,"post_id":76496920,"comment_id":134880297,"body_markdown":"The API I cited has an example.","body":"The API I cited has an example."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687050910,"post_id":76496920,"comment_id":134882833,"body_markdown":"The call to `launch` blocks the calling thread until the JavaFX framework exits. You also cannot start the JavaFX framework more than once in a single JVM instance. Now, if you want to be able to keep the JavaFX framework running even when all windows are closed, then `setImplicitExit(false)` is definitely needed. And if you want to be able to open and close a window based on the CLI input, then you need to use either `Platform#startup(Runnable)` or `Platform#runLater(Runnable)`, depending on if the JavaFX framework is started already or not.","body":"The call to <code>launch</code> blocks the calling thread until the JavaFX framework exits. You also cannot start the JavaFX framework more than once in a single JVM instance. Now, if you want to be able to keep the JavaFX framework running even when all windows are closed, then <code>setImplicitExit(false)</code> is definitely needed. And if you want to be able to open and close a window based on the CLI input, then you need to use either <code>Platform#startup(Runnable)</code> or <code>Platform#runLater(Runnable)</code>, depending on if the JavaFX framework is started already or not."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687051073,"post_id":76496920,"comment_id":134882841,"body_markdown":"You can still use `Application#launch(Class,String...)` instead of `Platform#startup(Runnable)` if you want (as it lets you continue to rely on the typical lifecycle of a JavaFX application). You&#39;d simply need to call `launch` in a different thread than the one you use to process your CLI. All that said, it is atypical to mix a CLI application and a GUI application; you should typically prefer one or the other. Or have a command line argument &quot;switch&quot; that causes your application to use _either_ the CLI or the GUI, but not both at the same time.","body":"You can still use <code>Application#launch(Class,String...)</code> instead of <code>Platform#startup(Runnable)</code> if you want (as it lets you continue to rely on the typical lifecycle of a JavaFX application). You&#39;d simply need to call <code>launch</code> in a different thread than the one you use to process your CLI. All that said, it is atypical to mix a CLI application and a GUI application; you should typically prefer one or the other. Or have a command line argument &quot;switch&quot; that causes your application to use <i>either</i> the CLI or the GUI, but not both at the same time."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687060081,"post_id":76496920,"comment_id":134883227,"body_markdown":"You&#39;re asking if you can avoid `launch()` blocking execution (&quot;how to keep working after calling `launch()` method in java&quot;). (Which you can, by putting it in a different thread.) What I was pointing out in my comment is that even if you solve that problem, you still have another problem because you can&#39;t call `launch()` more than once. You say you know that, but you obviously don&#39;t (or are just ignoring it), because you have the call to `launch()` in a loop. That issue is independent of the one you are asking. None of your code makes much sense.","body":"You&#39;re asking if you can avoid <code>launch()</code> blocking execution (&quot;how to keep working after calling <code>launch()</code> method in java&quot;). (Which you can, by putting it in a different thread.) What I was pointing out in my comment is that even if you solve that problem, you still have another problem because you can&#39;t call <code>launch()</code> more than once. You say you know that, but you obviously don&#39;t (or are just ignoring it), because you have the call to <code>launch()</code> in a loop. That issue is independent of the one you are asking. None of your code makes much sense."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687060320,"post_id":76496920,"comment_id":134883238,"body_markdown":"The most straightforward solution is surely to call `launch()` once, from `main(...)`, in the usual way, and then start the CLI in a separate thread from the `start()` method.","body":"The most straightforward solution is surely to call <code>launch()</code> once, from <code>main(...)</code>, in the usual way, and then start the CLI in a separate thread from the <code>start()</code> method."}],"answers":[{"comments":[{"owner":{"account_id":21107234,"reputation":3,"user_id":15515954,"display_name":"Akila Indusara"},"score":0,"creation_date":1687137399,"post_id":76501882,"comment_id":134890224,"body_markdown":"thank you so much!!!! sorry about my comment earlier I didn&#39;t explain it well there&#39;s a post on how to call launch again or something similar to that here [link](https://stackoverflow.com/a/24320562/15515954) So when tried that got the problem Platform.setImplcitExit(false) blocking the loop. And yes this is really stupid this is an assignment I got and I have no idea why they need me to do it in both CLI and GUI at the same time.","body":"thank you so much!!!! sorry about my comment earlier I didn&#39;t explain it well there&#39;s a post on how to call launch again or something similar to that here <a href=\"https://stackoverflow.com/a/24320562/15515954\">link</a> So when tried that got the problem Platform.setImplcitExit(false) blocking the loop. And yes this is really stupid this is an assignment I got and I have no idea why they need me to do it in both CLI and GUI at the same time."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687110879,"creation_date":1687110879,"answer_id":76501882,"question_id":76496920,"body_markdown":"There are two major, and distinct, problems with your approach:\r\n\r\n1. The call to `Application.launch(...)` blocks execution until the JavaFX platform exits. From the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)):\r\n\r\n    &gt; The launch method does not return until the application has exited, either via a call to `Platform.exit()` or all of the application windows have been closed.\r\n2. If you call `Application.launch()` more than once, an exception will be thrown. Quoting the [same documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)):\r\n\r\n    &gt; It must not be called more than once or an exception will be thrown.\r\n\r\nThus your code won&#39;t work at all. Firstly, the &quot;CLI&quot; thread will be blocked the first time you call `launch()`, and it won&#39;t be able to do anything until the JavaFX runtime exits. You could avoid that blocking by calling `launch()` in a background thread, but then as soon as you tried to call `launch()` a second time, the call would fail with an exception.\r\n\r\nIt&#39;s not really clear what you&#39;re trying to achieve here. It would be highly unusual to have the same user interact with the same application both by a command line interpreter *and* via a graphical user interface. \r\n\r\nIf you really want to do this, I would approach it by starting the JavaFX application in the usual way (calling `launch()` once, from the main method, and using the `start()` method as your entry point). Then start the CLI from the `start()` method. Note that you still need to use a background thread, this time to run the CLI, because it is a blocking loop and running it on the FX Application Thread would prevent the UI from updating. Any GUI calls from the background thread have to be wrapped in `Platform.runLater(...)` to ensure they are called on the FX Application Thread.\r\n\r\nAlso note that you almost certainly need to call `Platform.setImplcitExit(false)` to prevent the FX runtime from closing when you close the first window.\r\n\r\nAgain, this doesn&#39;t really make any sense at all from a User Experience perspective, but here is a quick example implementing this:\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.Executor;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Platform.setImplicitExit(false);\r\n            Thread cliThread = new Thread(this::runCLI);\r\n            cliThread.start();\r\n        }\r\n    \r\n        private void runCLI() {\r\n            try (Scanner scanner = new Scanner(System.in)) {\r\n                boolean exit = false ;\r\n                while (! exit) {\r\n                    System.out.println(&quot;Enter option (GUI to show gui, Quit to exit):&quot;);\r\n                    String option = scanner.nextLine();\r\n                    switch(option.toLowerCase()) {\r\n                        case &quot;gui&quot;:\r\n                            Platform.runLater(this::showGUI);\r\n                            break;\r\n                        case &quot;quit&quot;:\r\n                            exit = true;\r\n                            break;\r\n                        default:\r\n                            System.out.println(&quot;Other action: &quot;+option);\r\n                    }\r\n                }\r\n                Platform.exit();\r\n            }\r\n        }\r\n    \r\n        private void showGUI() {\r\n            Stage stage = new Stage();\r\n            Label label = new Label(&quot;Here is a GUI Window&quot;);\r\n            Button button = new Button(&quot;Close&quot;);\r\n            button.setOnAction(e -&gt; stage.hide());\r\n            VBox root = new VBox(10, label, button);\r\n            root.setPadding(new Insets(40));\r\n            root.setAlignment(Pos.CENTER);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n            stage.toFront();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    }\r\n\r\n","title":"how to keep working after calling launch() method in java","body":"<p>There are two major, and distinct, problems with your approach:</p>\n<ol>\n<li><p>The call to <code>Application.launch(...)</code> blocks execution until the JavaFX platform exits. From the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The launch method does not return until the application has exited, either via a call to <code>Platform.exit()</code> or all of the application windows have been closed.</p>\n</blockquote>\n</li>\n<li><p>If you call <code>Application.launch()</code> more than once, an exception will be thrown. Quoting the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\">same documentation</a>:</p>\n<blockquote>\n<p>It must not be called more than once or an exception will be thrown.</p>\n</blockquote>\n</li>\n</ol>\n<p>Thus your code won't work at all. Firstly, the &quot;CLI&quot; thread will be blocked the first time you call <code>launch()</code>, and it won't be able to do anything until the JavaFX runtime exits. You could avoid that blocking by calling <code>launch()</code> in a background thread, but then as soon as you tried to call <code>launch()</code> a second time, the call would fail with an exception.</p>\n<p>It's not really clear what you're trying to achieve here. It would be highly unusual to have the same user interact with the same application both by a command line interpreter <em>and</em> via a graphical user interface.</p>\n<p>If you really want to do this, I would approach it by starting the JavaFX application in the usual way (calling <code>launch()</code> once, from the main method, and using the <code>start()</code> method as your entry point). Then start the CLI from the <code>start()</code> method. Note that you still need to use a background thread, this time to run the CLI, because it is a blocking loop and running it on the FX Application Thread would prevent the UI from updating. Any GUI calls from the background thread have to be wrapped in <code>Platform.runLater(...)</code> to ensure they are called on the FX Application Thread.</p>\n<p>Also note that you almost certainly need to call <code>Platform.setImplcitExit(false)</code> to prevent the FX runtime from closing when you close the first window.</p>\n<p>Again, this doesn't really make any sense at all from a User Experience perspective, but here is a quick example implementing this:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Platform.setImplicitExit(false);\n        Thread cliThread = new Thread(this::runCLI);\n        cliThread.start();\n    }\n\n    private void runCLI() {\n        try (Scanner scanner = new Scanner(System.in)) {\n            boolean exit = false ;\n            while (! exit) {\n                System.out.println(&quot;Enter option (GUI to show gui, Quit to exit):&quot;);\n                String option = scanner.nextLine();\n                switch(option.toLowerCase()) {\n                    case &quot;gui&quot;:\n                        Platform.runLater(this::showGUI);\n                        break;\n                    case &quot;quit&quot;:\n                        exit = true;\n                        break;\n                    default:\n                        System.out.println(&quot;Other action: &quot;+option);\n                }\n            }\n            Platform.exit();\n        }\n    }\n\n    private void showGUI() {\n        Stage stage = new Stage();\n        Label label = new Label(&quot;Here is a GUI Window&quot;);\n        Button button = new Button(&quot;Close&quot;);\n        button.setOnAction(e -&gt; stage.hide());\n        VBox root = new VBox(10, label, button);\n        root.setPadding(new Insets(40));\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        stage.toFront();\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21107234,"reputation":3,"user_id":15515954,"display_name":"Akila Indusara"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76501882,"answer_count":1,"score":0,"last_activity_date":1687110879,"creation_date":1687016112,"question_id":76496920,"body_markdown":"I have a program that uses CLI. The CLI uses a while loop to present the options and ask for input. and if I input &quot;GUI&quot; I need to call a simple GUI. I&#39;ve made a simple GUI using JavaFX in a different class. So I used the .launch() method to open the GUI but after I do that the CLI stops. I have to close the GUI window to CLI to keep running. But if I do so I can&#39;t open the GUI again. I tried setting &quot;Platform.setImplicitExit(false)&quot; but when I do that even if I close the GUI the CLI won&#39;t continue. Is it possible to keep using the CLI while the GUI window is open and functioning? I started learning Java a few days ago so any advice is greatly appreciated!!! I&#39;m using IntelliJ as the IDE\r\n\r\n**Edit: I am aware that I can&#39;t call launch() more than once that&#39;s why I need to keep using the CLI with the GUI window open and functioning. Is it not possible?**\r\n\r\nthis is a sample of my main code\r\n\r\n\r\n```\r\n......\r\nwhile(true){\r\n    if (option.equals(&quot;GUI&quot;)){\r\n        Application.launch(HelloApplication.class);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nand this is the HelloApplication.java (GUI class)\r\n\r\n```\r\npackage com.example.demo1;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 720, 480);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"how to keep working after calling launch() method in java","body":"<p>I have a program that uses CLI. The CLI uses a while loop to present the options and ask for input. and if I input &quot;GUI&quot; I need to call a simple GUI. I've made a simple GUI using JavaFX in a different class. So I used the .launch() method to open the GUI but after I do that the CLI stops. I have to close the GUI window to CLI to keep running. But if I do so I can't open the GUI again. I tried setting &quot;Platform.setImplicitExit(false)&quot; but when I do that even if I close the GUI the CLI won't continue. Is it possible to keep using the CLI while the GUI window is open and functioning? I started learning Java a few days ago so any advice is greatly appreciated!!! I'm using IntelliJ as the IDE</p>\n<p><strong>Edit: I am aware that I can't call launch() more than once that's why I need to keep using the CLI with the GUI window open and functioning. Is it not possible?</strong></p>\n<p>this is a sample of my main code</p>\n<pre><code>......\nwhile(true){\n    if (option.equals(&quot;GUI&quot;)){\n        Application.launch(HelloApplication.class);\n    }\n    \n}\n\n</code></pre>\n<p>and this is the HelloApplication.java (GUI class)</p>\n<pre><code>package com.example.demo1;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 720, 480);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","mqtt","paho"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1687111164,"post_id":76501879,"comment_id":134887910,"body_markdown":"Does this answer your question? [Spring @Transaction method call by the method within the same class, does not work?](https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\">Spring @Transaction method call by the method within the same class, does not work?</a>"},{"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"score":0,"creation_date":1687112136,"post_id":76501879,"comment_id":134887998,"body_markdown":"unfortunately not. I moved the logic in messageArrived method inside the subscribe method. and there is still no active transactions inside this method.","body":"unfortunately not. I moved the logic in messageArrived method inside the subscribe method. and there is still no active transactions inside this method."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1687112881,"post_id":76501879,"comment_id":134888082,"body_markdown":"What do you mean you moved the logic inside the subscribe method? Did you just inline `messageArrived` into an anonymous lambda?","body":"What do you mean you moved the logic inside the subscribe method? Did you just inline <code>messageArrived</code> into an anonymous lambda?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1687112989,"post_id":76501879,"comment_id":134888096,"body_markdown":"Whether inlined or not, the handler will be executed on a different thread, and transactions don&#39;t span across threads. You need to move your handler method to a **different** bean","body":"Whether inlined or not, the handler will be executed on a different thread, and transactions don&#39;t span across threads. You need to move your handler method to a <b>different</b> bean"},{"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"score":0,"creation_date":1687117689,"post_id":76501879,"comment_id":134888640,"body_markdown":"Thanks, moving the method to another bean solved the problem.","body":"Thanks, moving the method to another bean solved the problem."}],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687110868,"creation_date":1687110868,"question_id":76501879,"body_markdown":"I have implemented an MQTT event listener like this:\r\n\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class SoilHumidityEventListener {\r\n\r\n  private final MqttClient mqttClient;\r\n\r\n  private final ObjectMapper objectMapper;\r\n\r\n  private final PlantService plantService;\r\n\r\n  @Value(&quot;${mqtt.soil_humidity_topic}&quot;)\r\n  private String soilHumidityTopic;\r\n\r\n  @Transactional\r\n  public void subscribe() throws MqttException {\r\n    mqttClient.subscribe(soilHumidityTopic, this::messageArrived);\r\n  }\r\n\r\n  @Transactional\r\n  public void messageArrived(String topic, MqttMessage message) {\r\n    try {\r\n      SoilHumidityDto soilHumidityDto =\r\n          objectMapper.readValue(message.toString(), SoilHumidityDto.class);\r\n      Plant plant = plantService.findById(soilHumidityDto.getPlantId());\r\n      SoilHumidity soilHumidity = SoilHumidity.fromDto(soilHumidityDto);\r\n      soilHumidity.setPlant(plant);\r\n      plant.getSoilHumidityList().add(soilHumidity);\r\n      plantService.save(plant);\r\n\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error parsing and saving soil humidity message: {}&quot;, e.getMessage());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe method `plantService.findById(...)` is also marked with `@Transactional`. the subscribe method in `SoilHumidityEventListener` is called in another service as bellow:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class EventSubscriberService {\r\n\r\n  private final SoilHumidityEventListener soilHumidityEventListener; \r\n\r\n  @PostConstruct\r\n  @Transactional\r\n  public void initialize() {\r\n    try {\r\n      soilHumidityEventListener.subscribe();      \r\n    } catch (MqttException e) {\r\n      log.error(e.getMessage());     \r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe problem is that there is no active transaction in the `messageArrived()` method. As a result I get a `LazyInitializationException` when trying to update the `soilHumidityList` of the `plant` object. The quick fix to this problem is to load the `soilHumidityList` eagerly. But I want to avoid this. Is there a way to keep the transaction open when handling MQTT messages?","title":"How to keep the transaction open in MQTT Event listener to avoid LazyInitializationException","body":"<p>I have implemented an MQTT event listener like this:</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class SoilHumidityEventListener {\n\n  private final MqttClient mqttClient;\n\n  private final ObjectMapper objectMapper;\n\n  private final PlantService plantService;\n\n  @Value(&quot;${mqtt.soil_humidity_topic}&quot;)\n  private String soilHumidityTopic;\n\n  @Transactional\n  public void subscribe() throws MqttException {\n    mqttClient.subscribe(soilHumidityTopic, this::messageArrived);\n  }\n\n  @Transactional\n  public void messageArrived(String topic, MqttMessage message) {\n    try {\n      SoilHumidityDto soilHumidityDto =\n          objectMapper.readValue(message.toString(), SoilHumidityDto.class);\n      Plant plant = plantService.findById(soilHumidityDto.getPlantId());\n      SoilHumidity soilHumidity = SoilHumidity.fromDto(soilHumidityDto);\n      soilHumidity.setPlant(plant);\n      plant.getSoilHumidityList().add(soilHumidity);\n      plantService.save(plant);\n\n    } catch (Exception e) {\n      log.error(&quot;Error parsing and saving soil humidity message: {}&quot;, e.getMessage());\n    }\n  }\n}\n</code></pre>\n<p>The method <code>plantService.findById(...)</code> is also marked with <code>@Transactional</code>. the subscribe method in <code>SoilHumidityEventListener</code> is called in another service as bellow:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class EventSubscriberService {\n\n  private final SoilHumidityEventListener soilHumidityEventListener; \n\n  @PostConstruct\n  @Transactional\n  public void initialize() {\n    try {\n      soilHumidityEventListener.subscribe();      \n    } catch (MqttException e) {\n      log.error(e.getMessage());     \n    }\n  }\n}\n</code></pre>\n<p>The problem is that there is no active transaction in the <code>messageArrived()</code> method. As a result I get a <code>LazyInitializationException</code> when trying to update the <code>soilHumidityList</code> of the <code>plant</code> object. The quick fix to this problem is to load the <code>soilHumidityList</code> eagerly. But I want to avoid this. Is there a way to keep the transaction open when handling MQTT messages?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1686813381,"post_id":76476432,"comment_id":134851511,"body_markdown":"The cause is not obvious. Please provide a minimal example that reproduces the issue to be able to help you efficiently. https://stackoverflow.com/help/minimal-reproducible-example","body":"The cause is not obvious. Please provide a minimal example that reproduces the issue to be able to help you efficiently. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1686815384,"post_id":76476432,"comment_id":134851913,"body_markdown":"@MahmoudBenHassine \nI think I got the issue. `RetryContext` scope starts once the error is thrown. But I&#39;m setting the value before the actual retry scope starts, which is wrong. So, I used a hash with `Stepscope` and put value in there before I threw the exception. And then, I used a skip listener to access that value just before it skips it and goes into next record. That resolved this usecase for me!","body":"@MahmoudBenHassine  I think I got the issue. <code>RetryContext</code> scope starts once the error is thrown. But I&#39;m setting the value before the actual retry scope starts, which is wrong. So, I used a hash with <code>Stepscope</code> and put value in there before I threw the exception. And then, I used a skip listener to access that value just before it skips it and goes into next record. That resolved this usecase for me!"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1686836523,"post_id":76476432,"comment_id":134856521,"body_markdown":"Glad to hear your solved your issue! It would be helpful to share that as an answer for other people as well.","body":"Glad to hear your solved your issue! It would be helpful to share that as an answer for other people as well."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":1,"creation_date":1687109847,"post_id":76476432,"comment_id":134887761,"body_markdown":"sure, I added the answer below.","body":"sure, I added the answer below."}],"answers":[{"tags":[],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687110208,"creation_date":1687109825,"answer_id":76501813,"question_id":76476432,"body_markdown":"Here is how I resolved the issue. \r\n\r\nI wanted to save object state before the retry starts. The scope for `RetryContext` starts right after the error is thrown. So, I was not able to set the value in `RetryContext`. \r\n\r\nSo, I created a bean with `StepScope`:\r\n```\r\n@Bean\r\n@StepScope\r\npublic Map&lt;String,BookingInfo&gt; objectStateMap() {\r\n return new ConcurrentHashMap&lt;&gt;();\r\n}\r\n```\r\n\r\nAnd then, I autowired this hash wherever required. \r\n\r\nThen, I wrote the modified objects to this hash before the error is re-thrown in the catch block. \r\n\r\nThen, I created a `SkipListener` for my usecase. This will capture the skipped object in case of failure. And then, it will do their respective task accordingly. \r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class CustomSkipListener {\r\n\r\n  @Autowired\r\n  Map&lt;String, List&lt;BookingInfo&gt;&gt; objectStateMap;\r\n\r\n\r\n  @OnSkipInRead\r\n  public void onSkipInRead(Throwable t) {\r\n    log.error(&quot;Read has skipped because of error : &quot; + t.getMessage());\r\n  }\r\n\r\n  @OnSkipInWrite\r\n  public void onSkipInWrite(List&lt;BookingInfo&gt; item, Throwable t) {\r\n    log.error(&quot;Write has skipped because of error : &quot; + t.getMessage());\r\n  }\r\n\r\n  @OnSkipInProcess\r\n  public void onSkipInProcess(String bookingId, Throwable t) {\r\n    List&lt;BookingInfo&gt; bookingInfos = objectStateMap.get(bookingId);\r\n    // do some tasks..\r\n    objectStateMap.remove(bookingId);\r\n  }\r\n\r\n}\r\n```\r\n\r\nJust registered this `listener` into the main job.\r\n\r\n","title":"How to set values in Spring Batch RetryContext","body":"<p>Here is how I resolved the issue.</p>\n<p>I wanted to save object state before the retry starts. The scope for <code>RetryContext</code> starts right after the error is thrown. So, I was not able to set the value in <code>RetryContext</code>.</p>\n<p>So, I created a bean with <code>StepScope</code>:</p>\n<pre><code>@Bean\n@StepScope\npublic Map&lt;String,BookingInfo&gt; objectStateMap() {\n return new ConcurrentHashMap&lt;&gt;();\n}\n</code></pre>\n<p>And then, I autowired this hash wherever required.</p>\n<p>Then, I wrote the modified objects to this hash before the error is re-thrown in the catch block.</p>\n<p>Then, I created a <code>SkipListener</code> for my usecase. This will capture the skipped object in case of failure. And then, it will do their respective task accordingly.</p>\n<pre><code>@Component\n@Slf4j\npublic class CustomSkipListener {\n\n  @Autowired\n  Map&lt;String, List&lt;BookingInfo&gt;&gt; objectStateMap;\n\n\n  @OnSkipInRead\n  public void onSkipInRead(Throwable t) {\n    log.error(&quot;Read has skipped because of error : &quot; + t.getMessage());\n  }\n\n  @OnSkipInWrite\n  public void onSkipInWrite(List&lt;BookingInfo&gt; item, Throwable t) {\n    log.error(&quot;Write has skipped because of error : &quot; + t.getMessage());\n  }\n\n  @OnSkipInProcess\n  public void onSkipInProcess(String bookingId, Throwable t) {\n    List&lt;BookingInfo&gt; bookingInfos = objectStateMap.get(bookingId);\n    // do some tasks..\n    objectStateMap.remove(bookingId);\n  }\n\n}\n</code></pre>\n<p>Just registered this <code>listener</code> into the main job.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76501813,"answer_count":1,"score":0,"last_activity_date":1687110208,"creation_date":1686766078,"question_id":76476432,"body_markdown":"I have the below step definition for a batch job:\r\n\r\n```\r\n\r\n  @Autowired\r\n  RetryContextCache retryContextCache;\r\n\r\n  @Bean\r\n  public Step correctionStep(JpaTransactionManager transactionManager) {\r\n\r\n    return new StepBuilder(&quot;correction-step&quot;, jobRepository)\r\n        .&lt;String, List&lt;BookingInfo&gt;&gt;chunk(10, transactionManager)\r\n        .reader(customItemReader())\r\n        .processor(correctionProcessor())\r\n        .writer(customItemWriter)\r\n        .taskExecutor(correctionTaskExecutor())\r\n        .faultTolerant()\r\n        .retryPolicy(retryPolicy())\r\n        .backOffPolicy(exponentialBackOffPolicy())\r\n        .retryContextCache(retryContextCache)\r\n        .skipPolicy(skipPolicy())\r\n        .build();\r\n  }\r\n```\r\n\r\nI have bean definitions for `RetryContext` and `RetryContextCache`:\r\n```\r\n  @Bean\r\n  RetryContextCache retryContextCache() {\r\n    return new MapRetryContextCache();\r\n  }\r\n\r\n  @Bean\r\n  RetryContext retryContext() {\r\n    return new RetryContextSupport(null);\r\n  }\r\n```\r\n\r\nNow, I use them in the `processor` like below:\r\n```\r\n@Component\r\npublic class CorrectionProcessor implements ItemProcessor &lt;String, List &lt;BookingInfo&gt;&gt; {\r\n\r\n  @Autowired\r\n  RetryContextCache retryContextCache;\r\n\r\n  @Autowired\r\n  RetryContext retryContext;\r\n\r\n  public List&lt;BookingInfo&gt; process(String bookingId) throws Exception {\r\n\r\n    List&lt;BookingInfo&gt; list = new ArrayList &lt;&gt; ();\r\n\r\n    if (retryContextCache.containsKey(bookingId)) {\r\n      list = (List&lt;BookingInfo&gt;) retryContextCache.get(bookingId).getAttribute(bookingId);\r\n    } else {\r\n      // fetch and populate list from database.\r\n    }\r\n\r\n    try {\r\n      // do something with the list.\r\n    } catch (Exception e) {\r\n      // modify something in the list.\r\n      retryContext.setAttribute(bookingId, list);\r\n      retryContextCache.put(bookingId, retryContext);\r\n      throw e;\r\n    }\r\n\r\n  }\r\n}\r\n\r\n```\r\n\r\nYou can see that I try to set some values in the `retryContextCache` before I re-throw the exception for the retry mechanism to work. \r\n\r\nWhen retry happens, it goes inside the `if` condition mentioned in the above code.\r\nBut, the value of `retryContextCache.get(bookingId).getAttribute(bookingId)` is always `null`. \r\n\r\nAm I setting the value in retry context incorrectly? Why is this not working? ","title":"How to set values in Spring Batch RetryContext","body":"<p>I have the below step definition for a batch job:</p>\n<pre><code>\n  @Autowired\n  RetryContextCache retryContextCache;\n\n  @Bean\n  public Step correctionStep(JpaTransactionManager transactionManager) {\n\n    return new StepBuilder(&quot;correction-step&quot;, jobRepository)\n        .&lt;String, List&lt;BookingInfo&gt;&gt;chunk(10, transactionManager)\n        .reader(customItemReader())\n        .processor(correctionProcessor())\n        .writer(customItemWriter)\n        .taskExecutor(correctionTaskExecutor())\n        .faultTolerant()\n        .retryPolicy(retryPolicy())\n        .backOffPolicy(exponentialBackOffPolicy())\n        .retryContextCache(retryContextCache)\n        .skipPolicy(skipPolicy())\n        .build();\n  }\n</code></pre>\n<p>I have bean definitions for <code>RetryContext</code> and <code>RetryContextCache</code>:</p>\n<pre><code>  @Bean\n  RetryContextCache retryContextCache() {\n    return new MapRetryContextCache();\n  }\n\n  @Bean\n  RetryContext retryContext() {\n    return new RetryContextSupport(null);\n  }\n</code></pre>\n<p>Now, I use them in the <code>processor</code> like below:</p>\n<pre><code>@Component\npublic class CorrectionProcessor implements ItemProcessor &lt;String, List &lt;BookingInfo&gt;&gt; {\n\n  @Autowired\n  RetryContextCache retryContextCache;\n\n  @Autowired\n  RetryContext retryContext;\n\n  public List&lt;BookingInfo&gt; process(String bookingId) throws Exception {\n\n    List&lt;BookingInfo&gt; list = new ArrayList &lt;&gt; ();\n\n    if (retryContextCache.containsKey(bookingId)) {\n      list = (List&lt;BookingInfo&gt;) retryContextCache.get(bookingId).getAttribute(bookingId);\n    } else {\n      // fetch and populate list from database.\n    }\n\n    try {\n      // do something with the list.\n    } catch (Exception e) {\n      // modify something in the list.\n      retryContext.setAttribute(bookingId, list);\n      retryContextCache.put(bookingId, retryContext);\n      throw e;\n    }\n\n  }\n}\n\n</code></pre>\n<p>You can see that I try to set some values in the <code>retryContextCache</code> before I re-throw the exception for the retry mechanism to work.</p>\n<p>When retry happens, it goes inside the <code>if</code> condition mentioned in the above code.\nBut, the value of <code>retryContextCache.get(bookingId).getAttribute(bookingId)</code> is always <code>null</code>.</p>\n<p>Am I setting the value in retry context incorrectly? Why is this not working?</p>\n"},{"tags":["java","bouncycastle","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1428488116,"post_id":29509748,"comment_id":47179386,"body_markdown":"You&#39;ve just compromised your private key. Throw it away. Your question isn&#39;t answerable without exhibiting some code.","body":"You&#39;ve just compromised your private key. Throw it away. Your question isn&#39;t answerable without exhibiting some code."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":1,"creation_date":1428490511,"post_id":29509748,"comment_id":47181016,"body_markdown":"Different outputs means different inputs.  Assuming the visible inputs are byte-for-byte the same (check that they are) then the difference is probably in the assumptions/defaults made by the two systems.  Do not rely on defaults anywhere, instead specify them explicitly every time.","body":"Different outputs means different inputs.  Assuming the visible inputs are byte-for-byte the same (check that they are) then the difference is probably in the assumptions/defaults made by the two systems.  Do not rely on defaults anywhere, instead specify them explicitly every time."},{"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"score":0,"creation_date":1428503798,"post_id":29509748,"comment_id":47190582,"body_markdown":"@EJP: encryption code added - no problem for the key. I generated a key pair for this post.","body":"@EJP: encryption code added - no problem for the key. I generated a key pair for this post."},{"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"score":0,"creation_date":1428503831,"post_id":29509748,"comment_id":47190603,"body_markdown":"@rossum: Same input file containing &quot;Hello world!&quot;. But it does not matter what the input is, I should be able to decrypt it anyway. The setup given in the post is the one I gathered from the systems configurations.\nThe idea here is for me to understand why I can&#39;t decrypt PI encrypted file and how I can fix it.","body":"@rossum: Same input file containing &quot;Hello world!&quot;. But it does not matter what the input is, I should be able to decrypt it anyway. The setup given in the post is the one I gathered from the systems configurations. The idea here is for me to understand why I can&#39;t decrypt PI encrypted file and how I can fix it."},{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":0,"creation_date":1428505077,"post_id":29509748,"comment_id":47191561,"body_markdown":"does eclipse and sap pi use the same character encoding? &quot;Hello World&quot; in utf-8 is different from &quot;Hello World&quot; in utf-16","body":"does eclipse and sap pi use the same character encoding? &quot;Hello World&quot; in utf-8 is different from &quot;Hello World&quot; in utf-16"},{"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"score":0,"creation_date":1428506219,"post_id":29509748,"comment_id":47192433,"body_markdown":"@k3b: yes. But I do not see why this would influence the decryption to give an empty output?","body":"@k3b: yes. But I do not see why this would influence the decryption to give an empty output?"},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1428507728,"post_id":29509748,"comment_id":47193561,"body_markdown":"An empty output implies some fault in the coding.  First simplify your code down to just encryption and decryption and get that part working.  Then add back in all the other complications, like key generation etc.  You need to split up your code into smaller functional areas to be able to focus on where the problem is.","body":"An empty output implies some fault in the coding.  First simplify your code down to just encryption and decryption and get that part working.  Then add back in all the other complications, like key generation etc.  You need to split up your code into smaller functional areas to be able to focus on where the problem is."},{"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"score":0,"creation_date":1428509642,"post_id":29509748,"comment_id":47194823,"body_markdown":"@rossum This code is working (cf the fact I can encrypt &amp; decrypt running it in Eclipse). I agree with your statements regarding the best practices for coding or addressing the issue but I&#39;m not sure it&#39;s a matter of code here. It&#39;s more of the very detailed functioning of PGP or the BouncyCastle library to spot a very particular point that may be environment dependent.","body":"@rossum This code is working (cf the fact I can encrypt &amp; decrypt running it in Eclipse). I agree with your statements regarding the best practices for coding or addressing the issue but I&#39;m not sure it&#39;s a matter of code here. It&#39;s more of the very detailed functioning of PGP or the BouncyCastle library to spot a very particular point that may be environment dependent."},{"owner":{"account_id":2459827,"reputation":531,"user_id":2144222,"display_name":"David Hook"},"score":0,"creation_date":1429166164,"post_id":29509748,"comment_id":47472759,"body_markdown":"Have you tried doing this without using compression? The other thing to bare in mind is that close on an ArmoredOutputStream does not actually close the underlying stream. Also I should point out BC is at version 1.52 now.","body":"Have you tried doing this without using compression? The other thing to bare in mind is that close on an ArmoredOutputStream does not actually close the underlying stream. Also I should point out BC is at version 1.52 now."},{"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"score":0,"creation_date":1429274751,"post_id":29509748,"comment_id":47535022,"body_markdown":"@DavidHook It seems it is not a matter of version. I started working on the 1.51 (1.52 was not out at the time) with no luck. It seems I found the solution to the problem. I used v1.45, did not tried a newer library with the new piece of code I provided.","body":"@DavidHook It seems it is not a matter of version. I started working on the 1.51 (1.52 was not out at the time) with no luck. It seems I found the solution to the problem. I used v1.45, did not tried a newer library with the new piece of code I provided."}],"answers":[{"tags":[],"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1429274250,"creation_date":1429274250,"answer_id":29699449,"question_id":29509748,"body_markdown":"Doing further research on the subject, I came across this [SCN post][1]. It inspired me to make 3 changes to make it work:\r\n\r\n- I used the post code to inspire the one I give above\r\n- I replaced the jar by `bcprov-ext-jdk14-145.jar` and `bcpg-jdk14-145.jar`\r\n- I installed the jar files directly into the java/lib/ext folder - on server level (which requires a bit of PI configuration) - instead of importing them into the repository as IA.\r\n\r\nThe post mentions putting the key in the imported archive; which means it is difficult to replace if needed, but also to use a different one in each environment (DEV, QA, LIVE...). The code I offer above uses PI value mapping to setup a configurable full file path to the public key in each environment.\r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.Map;\r\n    \r\n    import com.sap.aii.mapping.api.AbstractTrace;\r\n    import com.sap.aii.mapping.api.StreamTransformation;\r\n    import com.sap.aii.mapping.api.StreamTransformationConstants;\r\n    import com.sap.aii.mapping.api.StreamTransformationException;\r\n    import com.sap.aii.mapping.value.api.IFIdentifier;\r\n    import com.sap.aii.mapping.value.api.IFRequest;\r\n    import com.sap.aii.mapping.value.api.IFResponse;\r\n    import com.sap.aii.mapping.value.api.XIVMFactory;\r\n    import com.sap.aii.mapping.value.api.XIVMService;\r\n    \r\n    public class PGPEncryptor implements StreamTransformation {\r\n    \tprivate Map param;\r\n    \tprivate AbstractTrace trace;\r\n    \tprivate String receiver = null;\r\n    \tprivate static final String SOURCE_AGENCY = &quot;YOUR_SOURCE_AGENCY&quot;;\r\n    \tprivate static final String SOURCE_SCHEME = &quot;YourKeyPath&quot;;\r\n    \tprivate static final String TARGET_AGENCY = &quot;YOUR_TARGET_AGENCY&quot;;\r\n    \tprivate static final String TARGET_SCHEME = &quot;YourKeyPath&quot;;\r\n    \r\n    \tpublic void setParameter(Map arg0) {\r\n    \t\tparam = arg0;\r\n    \t\ttrace = (AbstractTrace) param.get(StreamTransformationConstants.MAPPING_TRACE);\r\n    \t\treceiver = (String) param.get(StreamTransformationConstants.RECEIVER_SERVICE);\r\n    \t}\r\n    \r\n    \tpublic void execute(InputStream in, OutputStream out) throws StreamTransformationException {\r\n    \t\ttry {\r\n    \t\t\tIFIdentifier sourceIdentifier = XIVMFactory.newIdentifier(SOURCE_AGENCY, SOURCE_SCHEME);\r\n    \t\t\tIFIdentifier targetIdentifier = XIVMFactory.newIdentifier(TARGET_AGENCY, TARGET_SCHEME);\r\n    \t\t\tIFRequest request = XIVMFactory.newRequest(sourceIdentifier, targetIdentifier, receiver);\r\n    \t\t\ttrace.addInfo(&quot;Value Mapping lookup value: &quot; + receiver);\r\n    \t\t\tIFResponse response = XIVMService.executeMapping(request);\r\n    \t\t\tString encKey;\r\n    \t\t\tif (response.hasTargetValues()) {\r\n    \t\t\t\tencKey = response.getSingleTargetValue();\r\n    \t\t\t\ttrace.addInfo(&quot;Using key path: &quot; + encKey);\r\n    \t\t\t} else {\r\n    \t\t\t\ttrace.addInfo(&quot;Value Mapping lookup parameters&quot;);\r\n    \t\t\t\ttrace.addInfo(&quot;Source&quot;);\r\n    \t\t\t\ttrace.addInfo(&quot;Context: &quot; + sourceIdentifier.getContext() + &quot;, Agency: &quot; + SOURCE_AGENCY + &quot;, Scheme: &quot;\r\n    \t\t\t\t\t\t+ SOURCE_SCHEME);\r\n    \t\t\t\ttrace.addInfo(&quot;Target&quot;);\r\n    \t\t\t\ttrace.addInfo(&quot;Context: &quot; + targetIdentifier.getContext() + &quot;, Agency: &quot; + TARGET_AGENCY + &quot;, Scheme: &quot;\r\n    \t\t\t\t\t\t+ TARGET_SCHEME);\r\n    \t\t\t\ttrace.addInfo(&quot;Value: &quot; + receiver);\r\n    \t\t\t\tthrow new StreamTransformationException(&quot;Public key not found.&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Encrypt the message\r\n    \t\t\tlong start = System.currentTimeMillis();\r\n    \t\t\ttrace.addInfo(&quot;Encryption started&quot;);\r\n    \t\t\tnew PGPCrypto().encrypt(encKey, in, out, trace);\r\n    \t\t\ttrace.addInfo(&quot;Encryption ended successfully in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\ttrace.addInfo(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOne important thing to fix in the below class is to use `PGPUtil.getDecoderStream` before creating the `PGPPublicKeyRingCollection`, as described here: http://www.coderanch.com/t/600592/Security/Bouncy-Castle-API-invalid-header\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPLiteralDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    import com.sap.aii.mapping.api.AbstractTrace;\r\n    \r\n    public class PGPCrypto {\r\n    \r\n    \tpublic void encrypt(String publicKeyPath, InputStream in, OutputStream out, AbstractTrace trace) throws Exception {\r\n    \t\ttry {\r\n    \t\t\tencrypt(publicKeyPath, inputStreamToString(in), out, trace);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\ttrace.addInfo(e.getMessage());\r\n    \t\t\tthrow new Exception(e.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void encrypt(String publicKeyPath, String inString, OutputStream out, AbstractTrace trace) throws Exception {\r\n    \t\ttry {\r\n    \t\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t\t\tInputStream keyStream = new FileInputStream(publicKeyPath);\r\n    \t\t\t// Get Publik key\r\n    \t\t\tPGPPublicKey key = readPublicKeyFromCol(keyStream);\r\n    \t\t\tout = new DataOutputStream(out);\r\n    \t\t\tByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \t\t\tPGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedDataGenerator.ZIP);\r\n    \t\t\twriteStringToLiteralData(comData.open(bOut), inString);\r\n    \t\t\tcomData.close();\r\n    \t\t\t// object that encrypts the data\r\n    \t\t\ttrace.addInfo(&quot;Trace1: Going to encrypt the data&quot;);\r\n    \t\t\tPGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(PGPEncryptedDataGenerator.CAST5, new SecureRandom(),\r\n    \t\t\t\t\t&quot;BC&quot;);\r\n    \t\t\tcPk.addMethod(key);\r\n    \t\t\tbyte[] bytes = bOut.toByteArray();\r\n    \t\t\tout = cPk.open(out, bytes.length);\r\n    \t\t\tout.write(bytes);\r\n    \t\t\tcPk.close();\r\n    \t\t\tout.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\ttrace.addInfo(e.getMessage());\r\n    \t\t\tthrow new Exception(e.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate String inputStreamToString(InputStream in) {\r\n    \t\t// read in stream into string.\r\n    \t\tStringBuffer buf = new StringBuffer();\r\n    \t\ttry {\r\n    \t\t\tInputStreamReader isr = null;\r\n    \t\t\t// try UTF-8 conversion\r\n    \t\t\ttry {\r\n    \t\t\t\tisr = new InputStreamReader(in, &quot;UTF-8&quot;);\r\n    \t\t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\t\t// or atleast in natural encoding\r\n    \t\t\t\tisr = new InputStreamReader(in);\r\n    \t\t\t}\r\n    \t\t\tint c = 0;\r\n    \t\t\twhile ((c = isr.read()) != -1) {\r\n    \t\t\t\tbuf.append((char) c);\r\n    \t\t\t}\r\n    \t\t\tin.close();\r\n    \t\t\tisr.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn buf.toString();\r\n    \t}\r\n    \r\n    \tprivate void writeStringToLiteralData(OutputStream out, String inString) throws IOException {\r\n    \t\tPGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n    \t\tOutputStream pOut = lData.open(out, PGPLiteralData.BINARY, &quot;&quot;, inString.length(), new Date());\r\n    \t\tpOut.write(inString.getBytes());\r\n    \t\tlData.close();\r\n    \t}\r\n    \r\n    \tprivate PGPPublicKey readPublicKeyFromCol(InputStream in) throws Exception {\r\n    \t\tPGPPublicKeyRing pkRing = null;\r\n    \t\tPGPPublicKey result = null, key = null;\r\n    \t\ttry {\r\n    \t\t\tPGPPublicKeyRingCollection pkCol = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\r\n    \t\t\tIterator it = pkCol.getKeyRings();\r\n    \t\t\twhile (it.hasNext()) {\r\n    \t\t\t\tpkRing = (PGPPublicKeyRing) it.next();\r\n    \t\t\t\tIterator pkIt = pkRing.getPublicKeys();\r\n    \t\t\t\twhile (pkIt.hasNext()) {\r\n    \t\t\t\t\tkey = (PGPPublicKey) pkIt.next();\r\n    \t\t\t\t\tif (key.isEncryptionKey()) {\r\n    \t\t\t\t\t\tresult = key;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tthrow new Exception(e.toString());\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://scn.sap.com/people/sandeep.maurya4/blog/2011/01/23/pgp-encryptiondecryption-using-java-code","title":"Bouncy Castle-encrypted payload comes broken from SAP PI","body":"<p>Doing further research on the subject, I came across this <a href=\"http://scn.sap.com/people/sandeep.maurya4/blog/2011/01/23/pgp-encryptiondecryption-using-java-code\" rel=\"nofollow\">SCN post</a>. It inspired me to make 3 changes to make it work:</p>\n\n<ul>\n<li>I used the post code to inspire the one I give above</li>\n<li>I replaced the jar by <code>bcprov-ext-jdk14-145.jar</code> and <code>bcpg-jdk14-145.jar</code></li>\n<li>I installed the jar files directly into the java/lib/ext folder - on server level (which requires a bit of PI configuration) - instead of importing them into the repository as IA.</li>\n</ul>\n\n<p>The post mentions putting the key in the imported archive; which means it is difficult to replace if needed, but also to use a different one in each environment (DEV, QA, LIVE...). The code I offer above uses PI value mapping to setup a configurable full file path to the public key in each environment.</p>\n\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Map;\n\nimport com.sap.aii.mapping.api.AbstractTrace;\nimport com.sap.aii.mapping.api.StreamTransformation;\nimport com.sap.aii.mapping.api.StreamTransformationConstants;\nimport com.sap.aii.mapping.api.StreamTransformationException;\nimport com.sap.aii.mapping.value.api.IFIdentifier;\nimport com.sap.aii.mapping.value.api.IFRequest;\nimport com.sap.aii.mapping.value.api.IFResponse;\nimport com.sap.aii.mapping.value.api.XIVMFactory;\nimport com.sap.aii.mapping.value.api.XIVMService;\n\npublic class PGPEncryptor implements StreamTransformation {\n    private Map param;\n    private AbstractTrace trace;\n    private String receiver = null;\n    private static final String SOURCE_AGENCY = \"YOUR_SOURCE_AGENCY\";\n    private static final String SOURCE_SCHEME = \"YourKeyPath\";\n    private static final String TARGET_AGENCY = \"YOUR_TARGET_AGENCY\";\n    private static final String TARGET_SCHEME = \"YourKeyPath\";\n\n    public void setParameter(Map arg0) {\n        param = arg0;\n        trace = (AbstractTrace) param.get(StreamTransformationConstants.MAPPING_TRACE);\n        receiver = (String) param.get(StreamTransformationConstants.RECEIVER_SERVICE);\n    }\n\n    public void execute(InputStream in, OutputStream out) throws StreamTransformationException {\n        try {\n            IFIdentifier sourceIdentifier = XIVMFactory.newIdentifier(SOURCE_AGENCY, SOURCE_SCHEME);\n            IFIdentifier targetIdentifier = XIVMFactory.newIdentifier(TARGET_AGENCY, TARGET_SCHEME);\n            IFRequest request = XIVMFactory.newRequest(sourceIdentifier, targetIdentifier, receiver);\n            trace.addInfo(\"Value Mapping lookup value: \" + receiver);\n            IFResponse response = XIVMService.executeMapping(request);\n            String encKey;\n            if (response.hasTargetValues()) {\n                encKey = response.getSingleTargetValue();\n                trace.addInfo(\"Using key path: \" + encKey);\n            } else {\n                trace.addInfo(\"Value Mapping lookup parameters\");\n                trace.addInfo(\"Source\");\n                trace.addInfo(\"Context: \" + sourceIdentifier.getContext() + \", Agency: \" + SOURCE_AGENCY + \", Scheme: \"\n                        + SOURCE_SCHEME);\n                trace.addInfo(\"Target\");\n                trace.addInfo(\"Context: \" + targetIdentifier.getContext() + \", Agency: \" + TARGET_AGENCY + \", Scheme: \"\n                        + TARGET_SCHEME);\n                trace.addInfo(\"Value: \" + receiver);\n                throw new StreamTransformationException(\"Public key not found.\");\n            }\n\n            // Encrypt the message\n            long start = System.currentTimeMillis();\n            trace.addInfo(\"Encryption started\");\n            new PGPCrypto().encrypt(encKey, in, out, trace);\n            trace.addInfo(\"Encryption ended successfully in \" + (System.currentTimeMillis() - start) + \"ms\");\n        } catch (Exception e) {\n            trace.addInfo(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>One important thing to fix in the below class is to use <code>PGPUtil.getDecoderStream</code> before creating the <code>PGPPublicKeyRingCollection</code>, as described here: <a href=\"http://www.coderanch.com/t/600592/Security/Bouncy-Castle-API-invalid-header\" rel=\"nofollow\">http://www.coderanch.com/t/600592/Security/Bouncy-Castle-API-invalid-header</a></p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPLiteralDataGenerator;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\nimport com.sap.aii.mapping.api.AbstractTrace;\n\npublic class PGPCrypto {\n\n    public void encrypt(String publicKeyPath, InputStream in, OutputStream out, AbstractTrace trace) throws Exception {\n        try {\n            encrypt(publicKeyPath, inputStreamToString(in), out, trace);\n        } catch (Exception e) {\n            trace.addInfo(e.getMessage());\n            throw new Exception(e.toString());\n        }\n    }\n\n    public void encrypt(String publicKeyPath, String inString, OutputStream out, AbstractTrace trace) throws Exception {\n        try {\n            Security.addProvider(new BouncyCastleProvider());\n            InputStream keyStream = new FileInputStream(publicKeyPath);\n            // Get Publik key\n            PGPPublicKey key = readPublicKeyFromCol(keyStream);\n            out = new DataOutputStream(out);\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedDataGenerator.ZIP);\n            writeStringToLiteralData(comData.open(bOut), inString);\n            comData.close();\n            // object that encrypts the data\n            trace.addInfo(\"Trace1: Going to encrypt the data\");\n            PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(PGPEncryptedDataGenerator.CAST5, new SecureRandom(),\n                    \"BC\");\n            cPk.addMethod(key);\n            byte[] bytes = bOut.toByteArray();\n            out = cPk.open(out, bytes.length);\n            out.write(bytes);\n            cPk.close();\n            out.close();\n        } catch (Exception e) {\n            trace.addInfo(e.getMessage());\n            throw new Exception(e.toString());\n        }\n    }\n\n    private String inputStreamToString(InputStream in) {\n        // read in stream into string.\n        StringBuffer buf = new StringBuffer();\n        try {\n            InputStreamReader isr = null;\n            // try UTF-8 conversion\n            try {\n                isr = new InputStreamReader(in, \"UTF-8\");\n            } catch (UnsupportedEncodingException e) {\n                // or atleast in natural encoding\n                isr = new InputStreamReader(in);\n            }\n            int c = 0;\n            while ((c = isr.read()) != -1) {\n                buf.append((char) c);\n            }\n            in.close();\n            isr.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return buf.toString();\n    }\n\n    private void writeStringToLiteralData(OutputStream out, String inString) throws IOException {\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(out, PGPLiteralData.BINARY, \"\", inString.length(), new Date());\n        pOut.write(inString.getBytes());\n        lData.close();\n    }\n\n    private PGPPublicKey readPublicKeyFromCol(InputStream in) throws Exception {\n        PGPPublicKeyRing pkRing = null;\n        PGPPublicKey result = null, key = null;\n        try {\n            PGPPublicKeyRingCollection pkCol = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\n            Iterator it = pkCol.getKeyRings();\n            while (it.hasNext()) {\n                pkRing = (PGPPublicKeyRing) it.next();\n                Iterator pkIt = pkRing.getPublicKeys();\n                while (pkIt.hasNext()) {\n                    key = (PGPPublicKey) pkIt.next();\n                    if (key.isEncryptionKey()) {\n                        result = key;\n                        break;\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new Exception(e.toString());\n        }\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1629555,"reputation":702,"user_id":1504398,"accept_rate":83,"display_name":"Florent Henry"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2308,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29699449,"answer_count":1,"score":3,"last_activity_date":1687110028,"creation_date":1428482169,"question_id":29509748,"body_markdown":"Issue\r\n-----\r\n\r\nI am using Bouncy Castle java to encrypt files using PGP. The program is meant to run into SAP PI 7.0. When I run PIs output (encrypted file) against the decryption program, I get an **empty decrypted file** with no error.\r\n\r\nSo, I tried to encrypt the same source file in Eclipse, using the same parameters. This time, I was able to decrypt the output correctly to **retrieve my original file**. Same code, same input.\r\n\r\nAt some point, I noticed that PI output is a few bytes shorter _(usually 32 bytes)_ than Eclipses output. I think thats the reason why the decryption output is empty without error. I have no idea what might be missing in the encrypted file as both PGP message have the same shape.\r\n\r\nAny suggestion on how I can fix it? Is there a part of the PGP message that is missing? Do I miss a library or a configuration point in PI environment?\r\n\r\nTechnical details\r\n-----------------\r\n\r\n**Bouncy Castle**\r\n\r\n - Version 1.47\r\n - JDK: 1.3\r\n - Jar downloadable at http://polydistortion.net/bc/download/: jce-jdk13-147.jar, bcpg-jdk13-147.jar\r\n\r\n\r\n**Local environment**\r\n\r\n - Java: 1.6.0_45\r\n - Operating System: Windows 7 SP1\r\n - JDK version: 1.3\r\n\r\n**SAP PI environment**\r\n\r\n - PI version: 7.0\r\n - Java Runtime: Java(TM) 2 Runtime Environment, Standard Edition (version=1.4.2_14-b05)\r\n - Java Virtual Machine : Java HotSpot(TM) 64-Bit Server VM (version=1.4.2_14-b05) \r\n - Operation System: Windows 2003 (version=5.2, arch=amd64)\r\n - JDK version: 1.3\r\n\r\nDSA Key pair\r\n------------\r\n**Public key**\r\n\r\n&gt; -----BEGIN PGP PUBLIC KEY BLOCK-----\r\n&gt; \r\n&gt; Version: BCPG v1.47\r\n&gt; \r\n&gt;  \r\n&gt; mQGhBFUMSHMRBADrMi7kuXATsOdtvG2TBhe+U+SRp7fCEJKhd4Xs27HsNZ82c954\r\n&gt; sHXiAXT1g6chdD+R8ZYWL8LQ2Jsu69YpzdRWgLkR4BK0mvKtrW84gVjRC9jgCgmw\r\n&gt; VETvFU3b5wzJYOSX0xOhCQK7F8bptrNAhhmnR+cTfYnzRLnXlwTKG7lKBwCg8nbw\r\n&gt; dccq7kyASZxbWz11d+3yvHEEAL8THYETkpsGu/AWN6P3ffl6qXpX7LLPnccrnSHT\r\n&gt; M4MKuRVnRZUlBRAK4koWwkYgzmYNKcbJLk850814Im/Tl2+1+HpYPuX7Cp+Hqyo2\r\n&gt; Y3VVZMA+1LlU+uXsMRQ6ce8GW7iuo31EVGxuSichgIb6G4k9zfR3J+IP3kiGeLcd\r\n&gt; akZuA/jgGXGkCsPJwRXefIn79OyMMjGbb0FwLJLUat5M2XDoYr2AsZ6xKsybdJBM\r\n&gt; XFbwOsn6yNqhcKgIHn1kA/WgwM6L4AQQrw2KN/kue/p+qmcws2SdBzlmIcLcWbw1\r\n&gt; lQlrbp3UHxGW2oagv5myXBUElF1HOQaV7tYi2mYvRAW3P8oQtA50ZXN0QGdtYWls\r\n&gt; LmNvbYhGBBMRAgAGBQJVDEh0AAoJEP9twmjt49AnCrgAnj/feW9MahLwrFgNyW6H\r\n&gt; RpC0odESAJ0Tzy6Zs3AvhbMl8jHC/URS8i2P27kEDQRVDEh0EBAA///////////J\r\n&gt; D9qiIWjCNMTGYouA3BzRKQJOCIpnzHQCC76mOxObIlFKCHmONATd75UZs806Qxsw\r\n&gt; Kwpt8l8UN0/hNW1tUcJF5IW1dmJefsb0TELppjftawv/XLb0Brft7jhr+1qJn6Wu\r\n&gt; nyQRfEsf5kkoZlHs5Fs9wgB8uKFjvwWY2kg2HFXTmmkWP6j9JM9fg2VdI9yjrZYc\r\n&gt; YvNWIIVSu57VKQdwlpZtZww1Tkq8mATxdGwIyhghfDKQXkYuNs474553LBgOhgOb\r\n&gt; J4Oi7Aeij7XFXfBvTFLJ3ivL9pVYFxg5lUl86pVq5RXSJhiY+gUQFXKOWoqqxC2t\r\n&gt; MxcNBFB6M6hVIavfHLpk7PuFBFjb7wqK6nFXXQYMfbOXD4Wm4eTHq/WujNsJM9ce\r\n&gt; jJTgSiVhnc7j0iYa0u5r8S/6BtmKCGTYdgJzPshqZFIfKxgXeyAMu+EXV3phXWx3\r\n&gt; CYjAutlG4gjiT6B05asxQ9tb/OD9EI5LgtEgqSEIARpyPBKnh+bXiHGaEL26WyaZ\r\n&gt; wycYavTiPBqUaDS2FQvaJYPpyirUTOjbu8LbBN6O+S6O/BQfvsqmKHxZR05rwF2Z\r\n&gt; spZPoJDDoiM7oYZRW+ftH2EpcM7i16+4G912IXBIHNAGkSfVsFqpk7TqmI2P3cGG\r\n&gt; /7fckKbAj030Nck0BjGZ//////////8AAgIQALb4lhJnxVfKtUBZTP65CtmiaMGM\r\n&gt; 7slmH2EEMd1WkgNMBawq2W9gEAkqgc8oSTC2BAjEdyV03pp/Q2TsbUHkVH4YnK/M\r\n&gt; K3N4+hOrqMGfo8e1aptSFixmq6aXDozsQyMutAjg5sJOLdhW9dQN/mgC9EVNnWF/\r\n&gt; Q/COB19QaX/ayyzQ8+IJUwwLU4vajZopYq9Gg6H9WksAFQWQOfuhrvf6rAzjSeSR\r\n&gt; mjecXm+0Rk06waxP3ZvAgjqQGiQ+3PS6DSZNDpbT2x1j8Fl92m7hr5Bo5d73CGrl\r\n&gt; Qeyh6VxEviSw2bLSLcQvvB+KYBCxY+6t445/r4ONRgFZPT8YlAnQv8fw+otkHjnE\r\n&gt; fQZxVdb0rtMQ5uGVilLKSjOirjPKBApg5d3m0rOtpQvLyF4FzCxxM88aaeAP4Rfg\r\n&gt; 7JWcGx1zdk3SQKM9p9bZ/pvNFiorJPTLgw9j1+FnQasegnqJd8n6GetH+BnWDlBL\r\n&gt; YnFwo9RDIkw5v+uG9ZzWQfSgVg3QrWoxQQ9kCs0ro89zLLitdkfXM9aQRJ/dhYKj\r\n&gt; pJrLglgjGBDbG6Vv/JmxFdhe5bRRHBSFGkNfQQFTQ1//VyIPPZZtGOx317s4QmEo\r\n&gt; RDxLHgH1fzr41LsXvX2PpbLHXxTpIY7J+pe6yZlmzeXLLKF0ZqXnjkg2MX2x/+Se\r\n&gt; lJn8ufW3q8LgBCcqiEYEGBECAAYFAlUMSHUACgkQ/23CaO3j0CeVYACfcP5ocfsB\r\n&gt; fCDlTfnmAv+CISHwpdcAn3TSeD6ftizjUcNBxQwnjqfKN3T8\r\n&gt; \r\n&gt; =CPWK\r\n&gt;\r\n&gt; -----END PGP PUBLIC KEY BLOCK-----\r\n\r\n\r\n**Private key (password: TestPass12345!)**\r\n\r\n&gt; -----BEGIN PGP PRIVATE KEY BLOCK-----\r\n&gt; \r\n&gt; Version: BCPG v1.47\r\n&gt; \r\n&gt; \r\n&gt; lQHoBFUMSHMRBADrMi7kuXATsOdtvG2TBhe+U+SRp7fCEJKhd4Xs27HsNZ82c954\r\n&gt; sHXiAXT1g6chdD+R8ZYWL8LQ2Jsu69YpzdRWgLkR4BK0mvKtrW84gVjRC9jgCgmw\r\n&gt; VETvFU3b5wzJYOSX0xOhCQK7F8bptrNAhhmnR+cTfYnzRLnXlwTKG7lKBwCg8nbw\r\n&gt; dccq7kyASZxbWz11d+3yvHEEAL8THYETkpsGu/AWN6P3ffl6qXpX7LLPnccrnSHT\r\n&gt; M4MKuRVnRZUlBRAK4koWwkYgzmYNKcbJLk850814Im/Tl2+1+HpYPuX7Cp+Hqyo2\r\n&gt; Y3VVZMA+1LlU+uXsMRQ6ce8GW7iuo31EVGxuSichgIb6G4k9zfR3J+IP3kiGeLcd\r\n&gt; akZuA/jgGXGkCsPJwRXefIn79OyMMjGbb0FwLJLUat5M2XDoYr2AsZ6xKsybdJBM\r\n&gt; XFbwOsn6yNqhcKgIHn1kA/WgwM6L4AQQrw2KN/kue/p+qmcws2SdBzlmIcLcWbw1\r\n&gt; lQlrbp3UHxGW2oagv5myXBUElF1HOQaV7tYi2mYvRAW3P8oQ/gkDAjEsU2VRQwZQ\r\n&gt; YM1E4ZLx+XLpfEac9ewO5vxMJEEWnxym3T6xlTkWAQC/nlWr5tpvckYiQgr5F3hn\r\n&gt; 1lAW/Wu3UPvjA4a0DnRlc3RAZ21haWwuY29tiEYEExECAAYFAlUMSHQACgkQ/23C\r\n&gt; aO3j0CcKuACeP995b0xqEvCsWA3JbodGkLSh0RIAnRPPLpmzcC+FsyXyMcL9RFLy\r\n&gt; LY/bnQZABFUMSHQQEAD//////////8kP2qIhaMI0xMZii4DcHNEpAk4IimfMdAIL\r\n&gt; vqY7E5siUUoIeY40BN3vlRmzzTpDGzArCm3yXxQ3T+E1bW1RwkXkhbV2Yl5+xvRM\r\n&gt; QummN+1rC/9ctvQGt+3uOGv7Womfpa6fJBF8Sx/mSShmUezkWz3CAHy4oWO/BZja\r\n&gt; SDYcVdOaaRY/qP0kz1+DZV0j3KOtlhxi81YghVK7ntUpB3CWlm1nDDVOSryYBPF0\r\n&gt; bAjKGCF8MpBeRi42zjvjnncsGA6GA5sng6LsB6KPtcVd8G9MUsneK8v2lVgXGDmV\r\n&gt; SXzqlWrlFdImGJj6BRAVco5aiqrELa0zFw0EUHozqFUhq98cumTs+4UEWNvvCorq\r\n&gt; cVddBgx9s5cPhabh5Mer9a6M2wkz1x6MlOBKJWGdzuPSJhrS7mvxL/oG2YoIZNh2\r\n&gt; AnM+yGpkUh8rGBd7IAy74RdXemFdbHcJiMC62UbiCOJPoHTlqzFD21v84P0QjkuC\r\n&gt; 0SCpIQgBGnI8EqeH5teIcZoQvbpbJpnDJxhq9OI8GpRoNLYVC9olg+nKKtRM6Nu7\r\n&gt; wtsE3o75Lo78FB++yqYofFlHTmvAXZmylk+gkMOiIzuhhlFb5+0fYSlwzuLXr7gb\r\n&gt; 3XYhcEgc0AaRJ9WwWqmTtOqYjY/dwYb/t9yQpsCPTfQ1yTQGMZn//////////wAC\r\n&gt; AhAAtviWEmfFV8q1QFlM/rkK2aJowYzuyWYfYQQx3VaSA0wFrCrZb2AQCSqBzyhJ\r\n&gt; MLYECMR3JXTemn9DZOxtQeRUfhicr8wrc3j6E6uowZ+jx7Vqm1IWLGarppcOjOxD\r\n&gt; Iy60CODmwk4t2Fb11A3+aAL0RU2dYX9D8I4HX1Bpf9rLLNDz4glTDAtTi9qNmili\r\n&gt; r0aDof1aSwAVBZA5+6Gu9/qsDONJ5JGaN5xeb7RGTTrBrE/dm8CCOpAaJD7c9LoN\r\n&gt; Jk0OltPbHWPwWX3abuGvkGjl3vcIauVB7KHpXES+JLDZstItxC+8H4pgELFj7q3j\r\n&gt; jn+vg41GAVk9PxiUCdC/x/D6i2QeOcR9BnFV1vSu0xDm4ZWKUspKM6KuM8oECmDl\r\n&gt; 3ebSs62lC8vIXgXMLHEzzxpp4A/hF+DslZwbHXN2TdJAoz2n1tn+m80WKisk9MuD\r\n&gt; D2PX4WdBqx6Ceol3yfoZ60f4GdYOUEticXCj1EMiTDm/64b1nNZB9KBWDdCtajFB\r\n&gt; D2QKzSujz3MsuK12R9cz1pBEn92FgqOkmsuCWCMYENsbpW/8mbEV2F7ltFEcFIUa\r\n&gt; Q19BAVNDX/9XIg89lm0Y7HfXuzhCYShEPEseAfV/OvjUuxe9fY+lssdfFOkhjsn6\r\n&gt; l7rJmWbN5cssoXRmpeeOSDYxfbH/5J6Umfy59berwuAEJyr+CQMCMSxTZVFDBlBg\r\n&gt; sfC08oFwjbf2kp9qaHLORoOMbU/Fyjc343iR9Ifo0HJtyrA37/BW4XCJzs+Z8CeT\r\n&gt; 0Cf6f22oErofdyS4w3TaO+yGgmUJ75BSbqveAU/4DJsl3k+0vRSVgsphe3Nlh2P1\r\n&gt; +8s9qtvIcRc27oSBDw2SG+rSTWEQrb9aJty6DekWHTjBXiCj6ZuZeJxDxJ3Vs967 Ty4q+PFRNynp9na9aXa7H2LbkwY/HaKibi63BMJsDZJT/q1vWd3ZpbCv1xhtUnk7\r\n&gt; 02nQurC8+L1/6xeoJv6/tCT0OcHkWf+Fem3FSATZUA2yy4JT1yK7KFNgNSRF5b+k\r\n&gt; MLNiz4VmW+5ym31YqVguD9JmD02qkgX4U5ATLnwvGXFaW4JRsODbX7I/08tRgcUe\r\n&gt; x+fURZwJF86rtfJxrCKJHWTd0GYb1/iZlRs0D6AZdlwKN3+6Dge/04d9g9BQ9giq\r\n&gt; HOmXFk5jE22wTOzq9VUES6HzBHCpq32GxYdQ7/4ZTLbQpw3whPsHcAeNmidxsGyG\r\n&gt; QmP/Xs757dnDsAmL9TQ1Ph1UftcxuPHiPIsMBM44VMglBacfOnEDCTl8hHiNOK1+\r\n&gt; V+8sg5PBd2OTJVKC95Oe4NIgYo1MCNZhDRNCyut1h1eMHkcQZfCxXvPTOBDR7HXz\r\n&gt; lcfHnxwkYQC3mSK5hMPT3IYSSihY6gRUrD62jj4w6X5HhAo5sRjcisT0lXYjtKx3\r\n&gt; PDgfqHQU0CnmKqovVIwUuYYNn9aYM4hGBBgRAgAGBQJVDEh1AAoJEP9twmjt49An\r\n&gt; lWAAn3D+aHH7AXwg5U355gL/giEh8KXXAJ900ng+n7Ys41HDQcUMJ46nyjd0/A==\r\n&gt; \r\n&gt; =kuac\r\n&gt; \r\n&gt; -----END PGP PRIVATE KEY BLOCK-----\r\n\r\n\r\nEncrypted output\r\n----------------\r\n\r\n**Eclipse**\r\n\r\n&gt; -----BEGIN PGP MESSAGE-----\r\n&gt; \r\n&gt; Version: BCPG v1.47\r\n&gt; \r\n&gt; \r\n&gt; hQQOA0fjQmjVGrtrEA/+JTCsjY1frycHtMDeTPYfmsRX/nnVuTTvB2c9ZkK3GJq+\r\n&gt; TF2kMXhG4xj8XO5c7DtIehKwIAMvvirpX456mnObGMUQMtguXvsCMuY766SmgRx6\r\n&gt; GebHU0v166xkN/9ZmHBsQxti7P1qFAJe4XVAhNXb+odUGrnSPNfQY4gUvvP6DM7a\r\n&gt; azaCQygElNfhBP26XODKD8h2xJqyNF9HodEmVevrhvBPQFZvAcA0KLFX1hvWG9Us\r\n&gt; D4eOrZp0UL4KoabDtHcTvUILRqmgslX9oMMrEoPdEdkvWJTeZMf8Yf8S0aNoUtAB\r\n&gt; Rpi49n2kTiQcX5x313stxSaP9mcmyKsMAlXn0BgnWUS/w4GGGB6GWki1OirHi2DG\r\n&gt; 3Q0LOMWlYrLinXq9C+3cHCSiBYhF6Z+D74L97YGNMtHPfZ6B/Q4B7B64RKJlmC/S\r\n&gt; 7k0aeyGSzYm35heBKifKs6gQiiW352HppJsOvgsZr+0/p8BIMZtgJReFnZ/plsz0\r\n&gt; vB3aoDYkUtNJR+WpwRYUnS4YR7Ga5/uqQvrFUBuyvOQdfsZJeLxzG6geyefBi183\r\n&gt; GskEMOWHTdU5uUgI2LGzCpp1hOJ5+O/KXdLUIF+r+Z/khp+qsJPVmxRRhAFuf0Uq\r\n&gt; 4outUwiq/cr0PJ9je3rcIpx6jku2FFzlf3CH6rVVrqU8jzHJOtrq5yKMsVLIJeQQ\r\n&gt; AIUTlgkgXFzcl6P1fuo73uZBY047twIq1pe7rW2rKZW7V5eZNM+FPgBjZ0NFu19A\r\n&gt; Ca9U5EobdNO2ZZxD4+ye+GKtGdKmQ6I3+B938tVnJYvRZwoc7oyKieO59oxuJGgG\r\n&gt; UkIx34ivVojvovpk5mojGL0Ne1RPV3mP+88r/EHmEuyVYiwj6zN5TP6WecEBBxAY\r\n&gt; EIJKae+GfArAW9fjIq+FRTNU6W3F5dhp3AasbUpIcS07exOzIy6zmhyUYchEFRWW\r\n&gt; /tKQzXT42zZySPicVI5NkepOvCwRIaTU/VYL12bMN26bvbZRXYoONxbOXjywOCy8\r\n&gt; Xf9Shr/Uf9PUc9P3H0rCflHxCe+KeVya3FDNhIJzyOkE0LAR3BXIdidSV64UBrkN\r\n&gt; FBYZv4CAqzI5pyuGoK0Jfc5sCLVtPY06s9n/EocNQUmbRXCgOKv1dV9KSTByyR4J\r\n&gt; j3wQ8Vh/iIPYiP352VSsql2IrYHPHaNT12BrgD1wu9ZD3+GKV33nbEiyPnsVbMLN\r\n&gt; 6PuMS7DnDyqQQIt5j5eg2sM3t9UTs938DDIFDp1hCVY6YBvPRgMCB4Gni54yxfc8\r\n&gt; QKn++90yWR6Fu0pwnsD2WL6Pcqf3xD5r+ke+HG8FmYo8OwIkyLbHLCyacMvs6dhK\r\n&gt; ZZnlFNvRteSLD1hw0o+MF6RoC9hhJYwOlfWGOBqEMjYf0lkB3O1rt6maKwNG1ljt\r\n&gt; kG3lN0xRK5XMFPMmzlZfI2xj4vMLlN+06uNnir9QSWqszOL1aPhR511vr2bGj/Zx\r\n&gt; +eSizjofZbU0p3wiR8D60s+9PeuE24XbOfsyCg==\r\n&gt; \r\n&gt; =/OMU\r\n&gt; \r\n&gt; -----END PGP MESSAGE-----\r\n\r\n\r\n**SAP PI**\r\n\r\n&gt; -----BEGIN PGP MESSAGE-----\r\n&gt; \r\n&gt; Version: BCPG v1.47\r\n&gt; \r\n&gt; \r\n&gt; hQQOA0fjQmjVGrtrEBAAh/d/hO+no+nonMzRJlLVnJeEcahzDTtCD9+aIljOsLIu\r\n&gt; pUgyJ1VZTGe6heqJw4R88V96Yc1BxsW0SkvcNyZ5HCraRyt1yeNQE4e6BgFI7J53\r\n&gt; nBBb1d8Qd07YIRpiOgqaVDgluLa7LXkFPjgmN2JEPXUSchtI73EEFYIxmeSwdyyY\r\n&gt; wKRi3kjcZu/MK9NJ74InWviFVQBumpyq9o4SdEViyrp8s/K3O2knzsV1es1as5yL\r\n&gt; Fdh4O0Rf8klWv8tb4hYdtGjtvpuETQoYP5vaXgWGqajkvfV++IaYD2FPh4ENF9om\r\n&gt; 3jG+GoAwPNzaxe5RCJResIXuYj0wTig3S8xsJiLmrZC7/bMb8/JmhstoCv7192h3\r\n&gt; jUg/Ao1Y5iwbp8GYx7h+DQuW81MuXJpaCXPfWSWnHinkqS0SC25v13i7YBSrKUYp\r\n&gt; tN75WAiX1zLZKAqseS/OIz9luRaxtpL8Ke4u9EWD7ywwSXuOoeNdSnl4Rl5RQ+9P\r\n&gt; qrNPjlMdoIZTw4h69TIJvbe9og0izgeI+1Jmu0B7B8d/afkn2qKN8e/Vz7wcSPs6\r\n&gt; tzS7U3yRuAW4wgExZATnNJXINIjuBX/tsvenWqhgofNOSY9wynZgYUUxBL2vzia3\r\n&gt; o9wWE8J5GI7uTsQzrWrDcuzwV9fZWVbeWKj6lO6p7pn8yvJlZPhsQPyhHAqBOBsP\r\n&gt; /2DLYjhIOcGi4CnqfVCvf8FZqqjPquol081rRCXaA2A9Q6rlMH1OcqTOBLjt78RL\r\n&gt; uw8t2YtNxJX3uxsb9jVSznBBltN283ZLPO9IJERXffT+BL86S8hmhLXSkhQPmnRt\r\n&gt; ijYx6cAJNizLtzJzgrGbjL7o4s3Q8+QFF2rqL3GcdySzdxM61lwVGYJ1MFyJqBCN\r\n&gt; ibLbz3u+8wovZ5F/0kOt54X4bG7YF31UrlcFam8b4cpHa3vdKJXRfXRwGD82PCWo\r\n&gt; HDn33MeIkYOdQtBNDkNMl2DF6GcAaD2Z6R4FlS/h+ywW6HggD1OhKPiCu/xn8Ojy\r\n&gt; WWR3kLiqia0Tdz7dlBFBHxcNQM+1NtiZ9HAU+D71Evyx3R/ezBUrDiHnnZSujk1E\r\n&gt; Pvh1l5DH0vN788VwDOBjKZRVx7Y7xlWl/oO6wlpLZ/SK0XN+x3jjeReDjnD7FPU/\r\n&gt; RtBddqgbfMap80VQ+5QXXG4zaJKrkSj3jW4zW+W4+msbMfS5MGzkFLkIHh9i5WCI\r\n&gt; JYsD31JQOb+rTr/UlCJWBdIC9FSlIKlvMPpHmBB+v853O/SYaBm3Gme3or/xB5y9\r\n&gt; Y58vK3M9bI9848qkivG2Q2XO+B4URSOTr8GTh8qZKDOYQ12kaWhC3Gc7rxM+N04c\r\n&gt; 6itSVNMX9ohUgLMidLShx5HcWPcdnb396nQCtP0gyDS30ksB6AJzvhVaNTlcyGYy\r\n&gt; byswfn5fLq+AAI5vBdDiUFjTOX051y/jDKG1B26txgQLo0gCHiQnYYhtHQXe2kev\r\n&gt; wGSuO2+0v41e9EachmU=\r\n&gt; \r\n&gt; =OL09\r\n&gt; \r\n&gt; -----END PGP MESSAGE-----\r\n\r\nJava code\r\n---------\r\n\r\n**BcPGP.java**\r\n\r\n    public class BcPGP {\r\n    \r\n    \tprivate static final int BUFFER_SIZE = 1 &lt;&lt; 16; // should always be power of\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t// 2\r\n    \tprivate static final int KEY_FLAGS = 27;\r\n    \tprivate static final int[] MASTER_KEY_CERTIFICATION_TYPES = new int[] { PGPSignature.POSITIVE_CERTIFICATION,\r\n    \t\t\tPGPSignature.CASUAL_CERTIFICATION, PGPSignature.NO_CERTIFICATION, PGPSignature.DEFAULT_CERTIFICATION };\r\n    \r\n    \tpublic static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\r\n    \r\n    \t\tPGPPublicKeyRingCollection keyRingCollection = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\r\n    \r\n    \t\t//\r\n    \t\t// we just loop through the collection till we find a key suitable for\r\n    \t\t// encryption, in the real\r\n    \t\t// world you would probably want to be a bit smarter about this.\r\n    \t\t//\r\n    \t\tPGPPublicKey publicKey = null;\r\n    \r\n    \t\t//\r\n    \t\t// iterate through the key rings.\r\n    \t\t//\r\n    \t\tIterator rIt = keyRingCollection.getKeyRings();\r\n    \r\n    \t\twhile (publicKey == null &amp;&amp; rIt.hasNext()) {\r\n    \t\t\tPGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n    \t\t\tIterator kIt = kRing.getPublicKeys();\r\n    \t\t\twhile (publicKey == null &amp;&amp; kIt.hasNext()) {\r\n    \t\t\t\tPGPPublicKey key = (PGPPublicKey) kIt.next();\r\n    \t\t\t\tif (key.isEncryptionKey()) {\r\n    \t\t\t\t\tpublicKey = key;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (publicKey == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Can&#39;t find public key in the key ring.&quot;);\r\n    \t\t}\r\n    \t\tif (!isForEncryption(publicKey)) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;KeyID &quot; + publicKey.getKeyID() + &quot; not flagged for encryption.&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn publicKey;\r\n    \t}\r\n    \r\n    \tpublic static PGPSecretKey readSecretKey(InputStream in) throws IOException, PGPException {\r\n    \r\n    \t\tPGPSecretKeyRingCollection keyRingCollection = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(in));\r\n    \r\n    \t\t//\r\n    \t\t// We just loop through the collection till we find a key suitable for\r\n    \t\t// signing.\r\n    \t\t// In the real world you would probably want to be a bit smarter about\r\n    \t\t// this.\r\n    \t\t//\r\n    \t\tPGPSecretKey secretKey = null;\r\n    \r\n    \t\tIterator rIt = keyRingCollection.getKeyRings();\r\n    \t\twhile (secretKey == null &amp;&amp; rIt.hasNext()) {\r\n    \t\t\tPGPSecretKeyRing keyRing = (PGPSecretKeyRing) rIt.next();\r\n    \t\t\tIterator kIt = keyRing.getSecretKeys();\r\n    \t\t\twhile (secretKey == null &amp;&amp; kIt.hasNext()) {\r\n    \t\t\t\tPGPSecretKey key = (PGPSecretKey) kIt.next();\r\n    \t\t\t\tif (key.isSigningKey()) {\r\n    \t\t\t\t\tsecretKey = key;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Validate secret key\r\n    \t\tif (secretKey == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Can&#39;t find private key in the key ring.&quot;);\r\n    \t\t}\r\n    \t\tif (!secretKey.isSigningKey()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Private key does not allow signing.&quot;);\r\n    \t\t}\r\n    \t\tif (secretKey.getPublicKey().isRevoked()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Private key has been revoked.&quot;);\r\n    \t\t}\r\n    \t\tif (!hasKeyFlags(secretKey.getPublicKey(), KeyFlags.SIGN_DATA)) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Key cannot be used for signing.&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn secretKey;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Load a secret key ring collection from keyIn and find the private key\r\n    \t * corresponding to keyID if it exists.\r\n    \t *\r\n    \t * @param keyIn\r\n    \t *            input stream representing a key ring collection.\r\n    \t * @param keyID\r\n    \t *            keyID we want.\r\n    \t * @param pass\r\n    \t *            passphrase to decrypt secret key with.\r\n    \t * @return\r\n    \t * @throws IOException\r\n    \t * @throws PGPException\r\n    \t * @throws NoSuchProviderException\r\n    \t */\r\n    \tpublic static PGPPrivateKey findPrivateKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException,\r\n    \t\t\tNoSuchProviderException {\r\n    \t\tPGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\r\n    \t\treturn findPrivateKey(pgpSec.getSecretKey(keyID), pass);\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Load a secret key and find the private key in it\r\n    \t * \r\n    \t * @param pgpSecKey\r\n    \t *            The secret key\r\n    \t * @param pass\r\n    \t *            passphrase to decrypt secret key with\r\n    \t * @return\r\n    \t * @throws PGPException\r\n    \t */\r\n    \tpublic static PGPPrivateKey findPrivateKey(PGPSecretKey pgpSecKey, char[] pass) throws PGPException {\r\n    \t\tif (pgpSecKey == null)\r\n    \t\t\treturn null;\r\n    \r\n    \t\tPBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass);\r\n    \t\treturn pgpSecKey.extractPrivateKey(decryptor);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * decrypt the passed in message stream\r\n    \t */\r\n    \tpublic static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception {\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \r\n    \t\tin = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n    \r\n    \t\tPGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n    \t\tPGPEncryptedDataList enc;\r\n    \r\n    \t\tObject o = pgpF.nextObject();\r\n    \t\t//\r\n    \t\t// the first object might be a PGP marker packet.\r\n    \t\t//\r\n    \t\tif (o instanceof PGPEncryptedDataList) {\r\n    \t\t\tenc = (PGPEncryptedDataList) o;\r\n    \t\t} else {\r\n    \t\t\tenc = (PGPEncryptedDataList) pgpF.nextObject();\r\n    \t\t}\r\n    \r\n    \t\t//\r\n    \t\t// find the secret key\r\n    \t\t//\r\n    \t\tIterator it = enc.getEncryptedDataObjects();\r\n    \t\tPGPPrivateKey sKey = null;\r\n    \t\tPGPPublicKeyEncryptedData pbe = null;\r\n    \r\n    \t\twhile (sKey == null &amp;&amp; it.hasNext()) {\r\n    \t\t\tpbe = (PGPPublicKeyEncryptedData) it.next();\r\n    \r\n    \t\t\tsKey = findPrivateKey(keyIn, pbe.getKeyID(), passwd);\r\n    \t\t}\r\n    \r\n    \t\tif (sKey == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tInputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\r\n    \r\n    \t\tPGPObjectFactory plainFact = new PGPObjectFactory(clear);\r\n    \r\n    \t\tObject message = plainFact.nextObject();\r\n    \r\n    \t\tif (message instanceof PGPCompressedData) {\r\n    \t\t\tPGPCompressedData cData = (PGPCompressedData) message;\r\n    \t\t\tPGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n    \t\t\tmessage = pgpFact.nextObject();\r\n    \t\t}\r\n    \r\n    \t\tif (message instanceof PGPLiteralData) {\r\n    \t\t\tPGPLiteralData ld = (PGPLiteralData) message;\r\n    \r\n    \t\t\tInputStream unc = ld.getInputStream();\r\n    \t\t\tint ch;\r\n    \r\n    \t\t\twhile ((ch = unc.read()) &gt;= 0) {\r\n    \t\t\t\tout.write(ch);\r\n    \t\t\t}\r\n    \t\t} else if (message instanceof PGPOnePassSignatureList) {\r\n    \t\t\tthrow new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\r\n    \t\t} else {\r\n    \t\t\tthrow new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tif (pbe.isIntegrityProtected()) {\r\n    \t\t\tif (!pbe.verify()) {\r\n    \t\t\t\tthrow new PGPException(&quot;Message failed integrity check&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void encryptFile(OutputStream out, InputStream is, PGPPublicKey encKey, boolean armor,\r\n    \t\t\tboolean withIntegrityCheck, int compressType, int encryptType) throws IOException, NoSuchProviderException,\r\n    \t\t\tPGPException {\r\n    \t\tSystem.out.println(&quot;Add BouncyCastleProvider&quot;);\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \r\n    \t\tif (armor) {\r\n    \t\t\tout = new ArmoredOutputStream(out);\r\n    \t\t}\r\n    \r\n    \t\tByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \t\tPGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(compressType);\r\n    \r\n    \t\t// setup temp file to hold source data - this is necessary when using\r\n    \t\t// PGPUtil.writeFileToLiteralData which uses a file\r\n    \t\tSystem.out.println(&quot;Creating a temp file...&quot;);\r\n    \t\tFile tempfile = File.createTempFile(&quot;pgp&quot;, null);\r\n    \t\tFileOutputStream fos = new FileOutputStream(tempfile);\r\n    \t\tint read = 0;\r\n    \t\tbyte[] inBytes = new byte[1024];\r\n    \t\twhile ((read = is.read(inBytes)) != -1) {\r\n    \t\t\tfos.write(inBytes, 0, read);\r\n    \t\t}\r\n    \t\tfos.flush();\r\n    \t\tfos.close();\r\n    \t\tSystem.out.println(&quot;Temp file created at &quot;);\r\n    \t\tSystem.out.println(tempfile.getAbsolutePath());\r\n    \r\n    \t\tPGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(tempfile.getAbsolutePath()));\r\n    \t\tcomData.close();\r\n    \r\n    \t\tBcPGPDataEncryptorBuilder dataEncryptor = new BcPGPDataEncryptorBuilder(encryptType);\r\n    \t\tdataEncryptor.setWithIntegrityPacket(withIntegrityCheck);\r\n    \t\tdataEncryptor.setSecureRandom(new SecureRandom());\r\n    \r\n    \t\tPGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(dataEncryptor);\r\n    \t\tencryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\r\n    \r\n    \t\tbyte[] outBytes = bOut.toByteArray();\r\n    \t\tOutputStream cOut = encryptedDataGenerator.open(out, outBytes.length);\r\n    \t\tcOut.write(outBytes);\r\n    \t\tcOut.close();\r\n    \t\tout.close();\r\n    \t\tSystem.out.println(&quot;data encrypted&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void signEncryptFile(OutputStream out, String fileName, PGPPublicKey publicKey, PGPSecretKey secretKey,\r\n    \t\t\tString password, boolean armor, boolean withIntegrityCheck) throws Exception {\r\n    \r\n    \t\t// Initialize Bouncy Castle security provider\r\n    \t\tProvider provider = new BouncyCastleProvider();\r\n    \t\tSecurity.addProvider(provider);\r\n    \r\n    \t\tif (armor) {\r\n    \t\t\tout = new ArmoredOutputStream(out);\r\n    \t\t}\r\n    \r\n    \t\tBcPGPDataEncryptorBuilder dataEncryptor = new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES);\r\n    \t\tdataEncryptor.setWithIntegrityPacket(withIntegrityCheck);\r\n    \t\tdataEncryptor.setSecureRandom(new SecureRandom());\r\n    \r\n    \t\tPGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(dataEncryptor);\r\n    \t\tencryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(publicKey));\r\n    \r\n    \t\tOutputStream encryptedOut = encryptedDataGenerator.open(out, new byte[BcPGP.BUFFER_SIZE]);\r\n    \r\n    \t\t// Initialize compressed data generator\r\n    \t\tPGPCompressedDataGenerator compressedDataGenerator = new PGPCompressedDataGenerator(CompressionAlgorithmTags.ZIP);\r\n    \t\tOutputStream compressedOut = compressedDataGenerator.open(encryptedOut, new byte[BcPGP.BUFFER_SIZE]);\r\n    \r\n    \t\t// Initialize signature generator\r\n    \t\tPGPPrivateKey privateKey = findPrivateKey(secretKey, password.toCharArray());\r\n    \r\n    \t\tPGPContentSignerBuilder signerBuilder = new BcPGPContentSignerBuilder(secretKey.getPublicKey().getAlgorithm(),\r\n    \t\t\t\tHashAlgorithmTags.SHA1);\r\n    \r\n    \t\tPGPSignatureGenerator signatureGenerator = new PGPSignatureGenerator(signerBuilder);\r\n    \t\tsignatureGenerator.init(PGPSignature.BINARY_DOCUMENT, privateKey);\r\n    \r\n    \t\tboolean firstTime = true;\r\n    \t\tIterator it = secretKey.getPublicKey().getUserIDs();\r\n    \t\twhile (it.hasNext() &amp;&amp; firstTime) {\r\n    \t\t\tPGPSignatureSubpacketGenerator spGen = new PGPSignatureSubpacketGenerator();\r\n    \t\t\tspGen.setSignerUserID(false, (String) it.next());\r\n    \t\t\tsignatureGenerator.setHashedSubpackets(spGen.generate());\r\n    \t\t\t// Exit the loop after the first iteration\r\n    \t\t\tfirstTime = false;\r\n    \t\t}\r\n    \t\tsignatureGenerator.generateOnePassVersion(false).encode(compressedOut);\r\n    \r\n    \t\t// Initialize literal data generator\r\n    \t\tPGPLiteralDataGenerator literalDataGenerator = new PGPLiteralDataGenerator();\r\n    \t\tOutputStream literalOut = literalDataGenerator.open(compressedOut, PGPLiteralData.BINARY, fileName, new Date(),\r\n    \t\t\t\tnew byte[BcPGP.BUFFER_SIZE]);\r\n    \r\n    \t\t// Main loop - read the &quot;in&quot; stream, compress, encrypt and write to the\r\n    \t\t// &quot;out&quot; stream\r\n    \t\tFileInputStream in = new FileInputStream(fileName);\r\n    \t\tbyte[] buf = new byte[BcPGP.BUFFER_SIZE];\r\n    \t\tint len;\r\n    \t\twhile ((len = in.read(buf)) &gt; 0) {\r\n    \t\t\tliteralOut.write(buf, 0, len);\r\n    \t\t\tsignatureGenerator.update(buf, 0, len);\r\n    \t\t}\r\n    \r\n    \t\tin.close();\r\n    \t\tliteralDataGenerator.close();\r\n    \t\t// Generate the signature, compress, encrypt and write to the &quot;out&quot;\r\n    \t\t// stream\r\n    \t\tsignatureGenerator.generate().encode(compressedOut);\r\n    \t\tcompressedDataGenerator.close();\r\n    \t\tencryptedDataGenerator.close();\r\n    \t\tif (armor) {\r\n    \t\t\tout.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// public static boolean verifyFile(InputStream in, InputStream keyIn,\r\n    \t// String extractContentFile) throws Exception {\r\n    \t// in = PGPUtil.getDecoderStream(in);\r\n    \t//\r\n    \t// PGPObjectFactory pgpFact = new PGPObjectFactory(in);\r\n    \t// PGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\r\n    \t//\r\n    \t// pgpFact = new PGPObjectFactory(c1.getDataStream());\r\n    \t//\r\n    \t// PGPOnePassSignatureList p1 = (PGPOnePassSignatureList)\r\n    \t// pgpFact.nextObject();\r\n    \t//\r\n    \t// PGPOnePassSignature ops = p1.get(0);\r\n    \t//\r\n    \t// PGPLiteralData p2 = (PGPLiteralData) pgpFact.nextObject();\r\n    \t//\r\n    \t// InputStream dIn = p2.getInputStream();\r\n    \t//\r\n    \t// IOUtils.copy(dIn, new FileOutputStream(extractContentFile));\r\n    \t//\r\n    \t// int ch;\r\n    \t// PGPPublicKeyRingCollection pgpRing = new\r\n    \t// PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\r\n    \t//\r\n    \t// PGPPublicKey key = pgpRing.getPublicKey(ops.getKeyID());\r\n    \t//\r\n    \t// FileOutputStream out = new FileOutputStream(p2.getFileName());\r\n    \t//\r\n    \t// ops.init(new BcPGPContentVerifierBuilderProvider(), key);\r\n    \t//\r\n    \t// while ((ch = dIn.read()) &gt;= 0) {\r\n    \t// ops.update((byte) ch);\r\n    \t// out.write(ch);\r\n    \t// }\r\n    \t//\r\n    \t// out.close();\r\n    \t//\r\n    \t// PGPSignatureList p3 = (PGPSignatureList) pgpFact.nextObject();\r\n    \t// return ops.verify(p3.get(0));\r\n    \t// }\r\n    \r\n    \t/**\r\n    \t * From LockBox Lobs PGP Encryption tools.\r\n    \t * http://www.lockboxlabs.org/content/downloads\r\n    \t *\r\n    \t * I didn&#39;t think it was worth having to import a 4meg lib for three methods\r\n    \t * \r\n    \t * @param key\r\n    \t * @return\r\n    \t */\r\n    \tpublic static boolean isForEncryption(PGPPublicKey key) {\r\n    \t\tif (key.getAlgorithm() == PublicKeyAlgorithmTags.RSA_SIGN || key.getAlgorithm() == PublicKeyAlgorithmTags.DSA\r\n    \t\t\t\t|| key.getAlgorithm() == PublicKeyAlgorithmTags.EC || key.getAlgorithm() == PublicKeyAlgorithmTags.ECDSA) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn hasKeyFlags(key, KeyFlags.ENCRYPT_COMMS | KeyFlags.ENCRYPT_STORAGE);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * From LockBox Lobs PGP Encryption tools.\r\n    \t * http://www.lockboxlabs.org/content/downloads\r\n    \t *\r\n    \t * I didn&#39;t think it was worth having to import a 4meg lib for three methods\r\n    \t * \r\n    \t * @param key\r\n    \t * @return\r\n    \t */\r\n    \tprivate static boolean hasKeyFlags(PGPPublicKey encKey, int keyUsage) {\r\n    \t\tif (encKey.isMasterKey()) {\r\n    \t\t\tfor (int i = 0; i != BcPGP.MASTER_KEY_CERTIFICATION_TYPES.length; i++) {\r\n    \t\t\t\tfor (Iterator eIt = encKey.getSignaturesOfType(BcPGP.MASTER_KEY_CERTIFICATION_TYPES[i]); eIt.hasNext();) {\r\n    \t\t\t\t\tPGPSignature sig = (PGPSignature) eIt.next();\r\n    \t\t\t\t\tif (!isMatchingUsage(sig, keyUsage)) {\r\n    \t\t\t\t\t\treturn false;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tfor (Iterator eIt = encKey.getSignaturesOfType(PGPSignature.SUBKEY_BINDING); eIt.hasNext();) {\r\n    \t\t\t\tPGPSignature sig = (PGPSignature) eIt.next();\r\n    \t\t\t\tif (!isMatchingUsage(sig, keyUsage)) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * From LockBox Lobs PGP Encryption tools.\r\n    \t * http://www.lockboxlabs.org/content/downloads\r\n    \t *\r\n    \t * I didn&#39;t think it was worth having to import a 4meg lib for three methods\r\n    \t * \r\n    \t * @param key\r\n    \t * @return\r\n    \t */\r\n    \tprivate static boolean isMatchingUsage(PGPSignature sig, int keyUsage) {\r\n    \t\tif (sig.hasSubpackets()) {\r\n    \t\t\tPGPSignatureSubpacketVector sv = sig.getHashedSubPackets();\r\n    \t\t\tif (sv.hasSubpacket(BcPGP.KEY_FLAGS)) {\r\n    \t\t\t\tif ((sv.getKeyFlags() &amp; keyUsage) == 0) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n**FileCopyPGP**\r\n\r\n    public class FileCopyPGP {\r\n    \tstatic final String PUBLIC_KEY_PATH = &quot;D:\\\\PGP\\\\public.asc&quot;;\r\n    \tstatic final String PRIVATE_KEY_PATH = &quot;D:\\\\PGP\\\\secret.asc&quot;;\r\n    \tstatic final String PASSWORD = &quot;TestPass12345!&quot;;\r\n    \r\n    \tstatic final String SOURCE_PATH = &quot;D:\\\\PGP\\\\run\\\\Source.txt&quot;;\r\n    \tstatic final String ENCRYPTED_PATH = &quot;D:\\\\PGP\\\\run\\\\Encrypted.txt&quot;;\r\n    \tstatic final String DECRYPTED_PATH = &quot;D:\\\\PGP\\\\run\\\\Decrypted.txt&quot;;\r\n    \r\n    \tpublic static void encrypt(InputStream is, OutputStream os) {\r\n    \t\ttry {\r\n    \t\t\tPGPPublicKey encKey = BcPGP.readPublicKey(new FileInputStream(new File(PUBLIC_KEY_PATH)));\r\n    \t\t\tlong start = System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;Encryption started&quot;);\r\n    \t\t\tBcPGP.encryptFile(os, is, encKey, true, true, CompressionAlgorithmTags.UNCOMPRESSED,\r\n    \t\t\t\t\tSymmetricKeyAlgorithmTags.AES_256);\r\n    \t\t\tSystem.out.println(&quot;Encryption ended successfully in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} catch (PGPException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} catch (NoSuchProviderException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void decrypt(InputStream is, OutputStream os) {\r\n    \t\ttry {\r\n    \t\t\tlong start = System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;Decryption started&quot;);\r\n    \t\t\tBcPGP.decryptFile(is, os, new FileInputStream(new File(PRIVATE_KEY_PATH)), PASSWORD.toCharArray());\r\n    \t\t\tSystem.out.println(&quot;Decryption ended successfully in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\tencrypt(new FileInputStream(new File(SOURCE_PATH)), new FileOutputStream(new File(ENCRYPTED_PATH)));\r\n    \t\tdecrypt(new FileInputStream(new File(ENCRYPTED_PATH)), new FileOutputStream(new File(DECRYPTED_PATH)));\r\n    \t}\r\n    }","title":"Bouncy Castle-encrypted payload comes broken from SAP PI","body":"<h2>Issue</h2>\n\n<p>I am using Bouncy Castle java to encrypt files using PGP. The program is meant to run into SAP PI 7.0. When I run PIs output (encrypted file) against the decryption program, I get an <strong>empty decrypted file</strong> with no error.</p>\n\n<p>So, I tried to encrypt the same source file in Eclipse, using the same parameters. This time, I was able to decrypt the output correctly to <strong>retrieve my original file</strong>. Same code, same input.</p>\n\n<p>At some point, I noticed that PI output is a few bytes shorter <em>(usually 32 bytes)</em> than Eclipses output. I think thats the reason why the decryption output is empty without error. I have no idea what might be missing in the encrypted file as both PGP message have the same shape.</p>\n\n<p>Any suggestion on how I can fix it? Is there a part of the PGP message that is missing? Do I miss a library or a configuration point in PI environment?</p>\n\n<h2>Technical details</h2>\n\n<p><strong>Bouncy Castle</strong></p>\n\n<ul>\n<li>Version 1.47</li>\n<li>JDK: 1.3</li>\n<li>Jar downloadable at <a href=\"http://polydistortion.net/bc/download/\" rel=\"nofollow\">http://polydistortion.net/bc/download/</a>: jce-jdk13-147.jar, bcpg-jdk13-147.jar</li>\n</ul>\n\n<p><strong>Local environment</strong></p>\n\n<ul>\n<li>Java: 1.6.0_45</li>\n<li>Operating System: Windows 7 SP1</li>\n<li>JDK version: 1.3</li>\n</ul>\n\n<p><strong>SAP PI environment</strong></p>\n\n<ul>\n<li>PI version: 7.0</li>\n<li>Java Runtime: Java(TM) 2 Runtime Environment, Standard Edition (version=1.4.2_14-b05)</li>\n<li>Java Virtual Machine : Java HotSpot(TM) 64-Bit Server VM (version=1.4.2_14-b05) </li>\n<li>Operation System: Windows 2003 (version=5.2, arch=amd64)</li>\n<li>JDK version: 1.3</li>\n</ul>\n\n<h2>DSA Key pair</h2>\n\n<p><strong>Public key</strong></p>\n\n<blockquote>\n  <p>-----BEGIN PGP PUBLIC KEY BLOCK-----</p>\n  \n  <p>Version: BCPG v1.47</p>\n  \n  <p>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</p>\n  \n  <p>=CPWK</p>\n  \n  <p>-----END PGP PUBLIC KEY BLOCK-----</p>\n</blockquote>\n\n<p><strong>Private key (password: TestPass12345!)</strong></p>\n\n<blockquote>\n  <p>-----BEGIN PGP PRIVATE KEY BLOCK-----</p>\n  \n  <p>Version: BCPG v1.47</p>\n  \n  <p>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</p>\n  \n  <p>=kuac</p>\n  \n  <p>-----END PGP PRIVATE KEY BLOCK-----</p>\n</blockquote>\n\n<h2>Encrypted output</h2>\n\n<p><strong>Eclipse</strong></p>\n\n<blockquote>\n  <p>-----BEGIN PGP MESSAGE-----</p>\n  \n  <p>Version: BCPG v1.47</p>\n  \n  <p>hQQOA0fjQmjVGrtrEA/+JTCsjY1frycHtMDeTPYfmsRX/nnVuTTvB2c9ZkK3GJq+\n  TF2kMXhG4xj8XO5c7DtIehKwIAMvvirpX456mnObGMUQMtguXvsCMuY766SmgRx6\n  GebHU0v166xkN/9ZmHBsQxti7P1qFAJe4XVAhNXb+odUGrnSPNfQY4gUvvP6DM7a\n  azaCQygElNfhBP26XODKD8h2xJqyNF9HodEmVevrhvBPQFZvAcA0KLFX1hvWG9Us\n  D4eOrZp0UL4KoabDtHcTvUILRqmgslX9oMMrEoPdEdkvWJTeZMf8Yf8S0aNoUtAB\n  Rpi49n2kTiQcX5x313stxSaP9mcmyKsMAlXn0BgnWUS/w4GGGB6GWki1OirHi2DG\n  3Q0LOMWlYrLinXq9C+3cHCSiBYhF6Z+D74L97YGNMtHPfZ6B/Q4B7B64RKJlmC/S\n  7k0aeyGSzYm35heBKifKs6gQiiW352HppJsOvgsZr+0/p8BIMZtgJReFnZ/plsz0\n  vB3aoDYkUtNJR+WpwRYUnS4YR7Ga5/uqQvrFUBuyvOQdfsZJeLxzG6geyefBi183\n  GskEMOWHTdU5uUgI2LGzCpp1hOJ5+O/KXdLUIF+r+Z/khp+qsJPVmxRRhAFuf0Uq\n  4outUwiq/cr0PJ9je3rcIpx6jku2FFzlf3CH6rVVrqU8jzHJOtrq5yKMsVLIJeQQ\n  AIUTlgkgXFzcl6P1fuo73uZBY047twIq1pe7rW2rKZW7V5eZNM+FPgBjZ0NFu19A\n  Ca9U5EobdNO2ZZxD4+ye+GKtGdKmQ6I3+B938tVnJYvRZwoc7oyKieO59oxuJGgG\n  UkIx34ivVojvovpk5mojGL0Ne1RPV3mP+88r/EHmEuyVYiwj6zN5TP6WecEBBxAY\n  EIJKae+GfArAW9fjIq+FRTNU6W3F5dhp3AasbUpIcS07exOzIy6zmhyUYchEFRWW\n  /tKQzXT42zZySPicVI5NkepOvCwRIaTU/VYL12bMN26bvbZRXYoONxbOXjywOCy8\n  Xf9Shr/Uf9PUc9P3H0rCflHxCe+KeVya3FDNhIJzyOkE0LAR3BXIdidSV64UBrkN\n  FBYZv4CAqzI5pyuGoK0Jfc5sCLVtPY06s9n/EocNQUmbRXCgOKv1dV9KSTByyR4J\n  j3wQ8Vh/iIPYiP352VSsql2IrYHPHaNT12BrgD1wu9ZD3+GKV33nbEiyPnsVbMLN\n  6PuMS7DnDyqQQIt5j5eg2sM3t9UTs938DDIFDp1hCVY6YBvPRgMCB4Gni54yxfc8\n  QKn++90yWR6Fu0pwnsD2WL6Pcqf3xD5r+ke+HG8FmYo8OwIkyLbHLCyacMvs6dhK\n  ZZnlFNvRteSLD1hw0o+MF6RoC9hhJYwOlfWGOBqEMjYf0lkB3O1rt6maKwNG1ljt\n  kG3lN0xRK5XMFPMmzlZfI2xj4vMLlN+06uNnir9QSWqszOL1aPhR511vr2bGj/Zx\n  +eSizjofZbU0p3wiR8D60s+9PeuE24XbOfsyCg==</p>\n  \n  <p>=/OMU</p>\n  \n  <p>-----END PGP MESSAGE-----</p>\n</blockquote>\n\n<p><strong>SAP PI</strong></p>\n\n<blockquote>\n  <p>-----BEGIN PGP MESSAGE-----</p>\n  \n  <p>Version: BCPG v1.47</p>\n  \n  <p>hQQOA0fjQmjVGrtrEBAAh/d/hO+no+nonMzRJlLVnJeEcahzDTtCD9+aIljOsLIu\n  pUgyJ1VZTGe6heqJw4R88V96Yc1BxsW0SkvcNyZ5HCraRyt1yeNQE4e6BgFI7J53\n  nBBb1d8Qd07YIRpiOgqaVDgluLa7LXkFPjgmN2JEPXUSchtI73EEFYIxmeSwdyyY\n  wKRi3kjcZu/MK9NJ74InWviFVQBumpyq9o4SdEViyrp8s/K3O2knzsV1es1as5yL\n  Fdh4O0Rf8klWv8tb4hYdtGjtvpuETQoYP5vaXgWGqajkvfV++IaYD2FPh4ENF9om\n  3jG+GoAwPNzaxe5RCJResIXuYj0wTig3S8xsJiLmrZC7/bMb8/JmhstoCv7192h3\n  jUg/Ao1Y5iwbp8GYx7h+DQuW81MuXJpaCXPfWSWnHinkqS0SC25v13i7YBSrKUYp\n  tN75WAiX1zLZKAqseS/OIz9luRaxtpL8Ke4u9EWD7ywwSXuOoeNdSnl4Rl5RQ+9P\n  qrNPjlMdoIZTw4h69TIJvbe9og0izgeI+1Jmu0B7B8d/afkn2qKN8e/Vz7wcSPs6\n  tzS7U3yRuAW4wgExZATnNJXINIjuBX/tsvenWqhgofNOSY9wynZgYUUxBL2vzia3\n  o9wWE8J5GI7uTsQzrWrDcuzwV9fZWVbeWKj6lO6p7pn8yvJlZPhsQPyhHAqBOBsP\n  /2DLYjhIOcGi4CnqfVCvf8FZqqjPquol081rRCXaA2A9Q6rlMH1OcqTOBLjt78RL\n  uw8t2YtNxJX3uxsb9jVSznBBltN283ZLPO9IJERXffT+BL86S8hmhLXSkhQPmnRt\n  ijYx6cAJNizLtzJzgrGbjL7o4s3Q8+QFF2rqL3GcdySzdxM61lwVGYJ1MFyJqBCN\n  ibLbz3u+8wovZ5F/0kOt54X4bG7YF31UrlcFam8b4cpHa3vdKJXRfXRwGD82PCWo\n  HDn33MeIkYOdQtBNDkNMl2DF6GcAaD2Z6R4FlS/h+ywW6HggD1OhKPiCu/xn8Ojy\n  WWR3kLiqia0Tdz7dlBFBHxcNQM+1NtiZ9HAU+D71Evyx3R/ezBUrDiHnnZSujk1E\n  Pvh1l5DH0vN788VwDOBjKZRVx7Y7xlWl/oO6wlpLZ/SK0XN+x3jjeReDjnD7FPU/\n  RtBddqgbfMap80VQ+5QXXG4zaJKrkSj3jW4zW+W4+msbMfS5MGzkFLkIHh9i5WCI\n  JYsD31JQOb+rTr/UlCJWBdIC9FSlIKlvMPpHmBB+v853O/SYaBm3Gme3or/xB5y9\n  Y58vK3M9bI9848qkivG2Q2XO+B4URSOTr8GTh8qZKDOYQ12kaWhC3Gc7rxM+N04c\n  6itSVNMX9ohUgLMidLShx5HcWPcdnb396nQCtP0gyDS30ksB6AJzvhVaNTlcyGYy\n  byswfn5fLq+AAI5vBdDiUFjTOX051y/jDKG1B26txgQLo0gCHiQnYYhtHQXe2kev\n  wGSuO2+0v41e9EachmU=</p>\n  \n  <p>=OL09</p>\n  \n  <p>-----END PGP MESSAGE-----</p>\n</blockquote>\n\n<h2>Java code</h2>\n\n<p><strong>BcPGP.java</strong></p>\n\n<pre><code>public class BcPGP {\n\n    private static final int BUFFER_SIZE = 1 &lt;&lt; 16; // should always be power of\n                                                    // 2\n    private static final int KEY_FLAGS = 27;\n    private static final int[] MASTER_KEY_CERTIFICATION_TYPES = new int[] { PGPSignature.POSITIVE_CERTIFICATION,\n            PGPSignature.CASUAL_CERTIFICATION, PGPSignature.NO_CERTIFICATION, PGPSignature.DEFAULT_CERTIFICATION };\n\n    public static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\n\n        PGPPublicKeyRingCollection keyRingCollection = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\n\n        //\n        // we just loop through the collection till we find a key suitable for\n        // encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n        PGPPublicKey publicKey = null;\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator rIt = keyRingCollection.getKeyRings();\n\n        while (publicKey == null &amp;&amp; rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n            while (publicKey == null &amp;&amp; kIt.hasNext()) {\n                PGPPublicKey key = (PGPPublicKey) kIt.next();\n                if (key.isEncryptionKey()) {\n                    publicKey = key;\n                }\n            }\n        }\n\n        if (publicKey == null) {\n            throw new IllegalArgumentException(\"Can't find public key in the key ring.\");\n        }\n        if (!isForEncryption(publicKey)) {\n            throw new IllegalArgumentException(\"KeyID \" + publicKey.getKeyID() + \" not flagged for encryption.\");\n        }\n\n        return publicKey;\n    }\n\n    public static PGPSecretKey readSecretKey(InputStream in) throws IOException, PGPException {\n\n        PGPSecretKeyRingCollection keyRingCollection = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(in));\n\n        //\n        // We just loop through the collection till we find a key suitable for\n        // signing.\n        // In the real world you would probably want to be a bit smarter about\n        // this.\n        //\n        PGPSecretKey secretKey = null;\n\n        Iterator rIt = keyRingCollection.getKeyRings();\n        while (secretKey == null &amp;&amp; rIt.hasNext()) {\n            PGPSecretKeyRing keyRing = (PGPSecretKeyRing) rIt.next();\n            Iterator kIt = keyRing.getSecretKeys();\n            while (secretKey == null &amp;&amp; kIt.hasNext()) {\n                PGPSecretKey key = (PGPSecretKey) kIt.next();\n                if (key.isSigningKey()) {\n                    secretKey = key;\n                }\n            }\n        }\n\n        // Validate secret key\n        if (secretKey == null) {\n            throw new IllegalArgumentException(\"Can't find private key in the key ring.\");\n        }\n        if (!secretKey.isSigningKey()) {\n            throw new IllegalArgumentException(\"Private key does not allow signing.\");\n        }\n        if (secretKey.getPublicKey().isRevoked()) {\n            throw new IllegalArgumentException(\"Private key has been revoked.\");\n        }\n        if (!hasKeyFlags(secretKey.getPublicKey(), KeyFlags.SIGN_DATA)) {\n            throw new IllegalArgumentException(\"Key cannot be used for signing.\");\n        }\n\n        return secretKey;\n    }\n\n    /**\n     * Load a secret key ring collection from keyIn and find the private key\n     * corresponding to keyID if it exists.\n     *\n     * @param keyIn\n     *            input stream representing a key ring collection.\n     * @param keyID\n     *            keyID we want.\n     * @param pass\n     *            passphrase to decrypt secret key with.\n     * @return\n     * @throws IOException\n     * @throws PGPException\n     * @throws NoSuchProviderException\n     */\n    public static PGPPrivateKey findPrivateKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException,\n            NoSuchProviderException {\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n        return findPrivateKey(pgpSec.getSecretKey(keyID), pass);\n\n    }\n\n    /**\n     * Load a secret key and find the private key in it\n     * \n     * @param pgpSecKey\n     *            The secret key\n     * @param pass\n     *            passphrase to decrypt secret key with\n     * @return\n     * @throws PGPException\n     */\n    public static PGPPrivateKey findPrivateKey(PGPSecretKey pgpSecKey, char[] pass) throws PGPException {\n        if (pgpSecKey == null)\n            return null;\n\n        PBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass);\n        return pgpSecKey.extractPrivateKey(decryptor);\n    }\n\n    /**\n     * decrypt the passed in message stream\n     */\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc;\n\n        Object o = pgpF.nextObject();\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n        //\n        // find the secret key\n        //\n        Iterator it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n\n            sKey = findPrivateKey(keyIn, pbe.getKeyID(), passwd);\n        }\n\n        if (sKey == null) {\n            throw new IllegalArgumentException(\"Secret key for message not found.\");\n        }\n\n        InputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\n\n        Object message = plainFact.nextObject();\n\n        if (message instanceof PGPCompressedData) {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            PGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n            message = pgpFact.nextObject();\n        }\n\n        if (message instanceof PGPLiteralData) {\n            PGPLiteralData ld = (PGPLiteralData) message;\n\n            InputStream unc = ld.getInputStream();\n            int ch;\n\n            while ((ch = unc.read()) &gt;= 0) {\n                out.write(ch);\n            }\n        } else if (message instanceof PGPOnePassSignatureList) {\n            throw new PGPException(\"Encrypted message contains a signed message - not literal data.\");\n        } else {\n            throw new PGPException(\"Message is not a simple encrypted file - type unknown.\");\n        }\n\n        if (pbe.isIntegrityProtected()) {\n            if (!pbe.verify()) {\n                throw new PGPException(\"Message failed integrity check\");\n            }\n        }\n    }\n\n    public static void encryptFile(OutputStream out, InputStream is, PGPPublicKey encKey, boolean armor,\n            boolean withIntegrityCheck, int compressType, int encryptType) throws IOException, NoSuchProviderException,\n            PGPException {\n        System.out.println(\"Add BouncyCastleProvider\");\n        Security.addProvider(new BouncyCastleProvider());\n\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(compressType);\n\n        // setup temp file to hold source data - this is necessary when using\n        // PGPUtil.writeFileToLiteralData which uses a file\n        System.out.println(\"Creating a temp file...\");\n        File tempfile = File.createTempFile(\"pgp\", null);\n        FileOutputStream fos = new FileOutputStream(tempfile);\n        int read = 0;\n        byte[] inBytes = new byte[1024];\n        while ((read = is.read(inBytes)) != -1) {\n            fos.write(inBytes, 0, read);\n        }\n        fos.flush();\n        fos.close();\n        System.out.println(\"Temp file created at \");\n        System.out.println(tempfile.getAbsolutePath());\n\n        PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(tempfile.getAbsolutePath()));\n        comData.close();\n\n        BcPGPDataEncryptorBuilder dataEncryptor = new BcPGPDataEncryptorBuilder(encryptType);\n        dataEncryptor.setWithIntegrityPacket(withIntegrityCheck);\n        dataEncryptor.setSecureRandom(new SecureRandom());\n\n        PGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(dataEncryptor);\n        encryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\n\n        byte[] outBytes = bOut.toByteArray();\n        OutputStream cOut = encryptedDataGenerator.open(out, outBytes.length);\n        cOut.write(outBytes);\n        cOut.close();\n        out.close();\n        System.out.println(\"data encrypted\");\n    }\n\n    public static void signEncryptFile(OutputStream out, String fileName, PGPPublicKey publicKey, PGPSecretKey secretKey,\n            String password, boolean armor, boolean withIntegrityCheck) throws Exception {\n\n        // Initialize Bouncy Castle security provider\n        Provider provider = new BouncyCastleProvider();\n        Security.addProvider(provider);\n\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        BcPGPDataEncryptorBuilder dataEncryptor = new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES);\n        dataEncryptor.setWithIntegrityPacket(withIntegrityCheck);\n        dataEncryptor.setSecureRandom(new SecureRandom());\n\n        PGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(dataEncryptor);\n        encryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(publicKey));\n\n        OutputStream encryptedOut = encryptedDataGenerator.open(out, new byte[BcPGP.BUFFER_SIZE]);\n\n        // Initialize compressed data generator\n        PGPCompressedDataGenerator compressedDataGenerator = new PGPCompressedDataGenerator(CompressionAlgorithmTags.ZIP);\n        OutputStream compressedOut = compressedDataGenerator.open(encryptedOut, new byte[BcPGP.BUFFER_SIZE]);\n\n        // Initialize signature generator\n        PGPPrivateKey privateKey = findPrivateKey(secretKey, password.toCharArray());\n\n        PGPContentSignerBuilder signerBuilder = new BcPGPContentSignerBuilder(secretKey.getPublicKey().getAlgorithm(),\n                HashAlgorithmTags.SHA1);\n\n        PGPSignatureGenerator signatureGenerator = new PGPSignatureGenerator(signerBuilder);\n        signatureGenerator.init(PGPSignature.BINARY_DOCUMENT, privateKey);\n\n        boolean firstTime = true;\n        Iterator it = secretKey.getPublicKey().getUserIDs();\n        while (it.hasNext() &amp;&amp; firstTime) {\n            PGPSignatureSubpacketGenerator spGen = new PGPSignatureSubpacketGenerator();\n            spGen.setSignerUserID(false, (String) it.next());\n            signatureGenerator.setHashedSubpackets(spGen.generate());\n            // Exit the loop after the first iteration\n            firstTime = false;\n        }\n        signatureGenerator.generateOnePassVersion(false).encode(compressedOut);\n\n        // Initialize literal data generator\n        PGPLiteralDataGenerator literalDataGenerator = new PGPLiteralDataGenerator();\n        OutputStream literalOut = literalDataGenerator.open(compressedOut, PGPLiteralData.BINARY, fileName, new Date(),\n                new byte[BcPGP.BUFFER_SIZE]);\n\n        // Main loop - read the \"in\" stream, compress, encrypt and write to the\n        // \"out\" stream\n        FileInputStream in = new FileInputStream(fileName);\n        byte[] buf = new byte[BcPGP.BUFFER_SIZE];\n        int len;\n        while ((len = in.read(buf)) &gt; 0) {\n            literalOut.write(buf, 0, len);\n            signatureGenerator.update(buf, 0, len);\n        }\n\n        in.close();\n        literalDataGenerator.close();\n        // Generate the signature, compress, encrypt and write to the \"out\"\n        // stream\n        signatureGenerator.generate().encode(compressedOut);\n        compressedDataGenerator.close();\n        encryptedDataGenerator.close();\n        if (armor) {\n            out.close();\n        }\n    }\n\n    // public static boolean verifyFile(InputStream in, InputStream keyIn,\n    // String extractContentFile) throws Exception {\n    // in = PGPUtil.getDecoderStream(in);\n    //\n    // PGPObjectFactory pgpFact = new PGPObjectFactory(in);\n    // PGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\n    //\n    // pgpFact = new PGPObjectFactory(c1.getDataStream());\n    //\n    // PGPOnePassSignatureList p1 = (PGPOnePassSignatureList)\n    // pgpFact.nextObject();\n    //\n    // PGPOnePassSignature ops = p1.get(0);\n    //\n    // PGPLiteralData p2 = (PGPLiteralData) pgpFact.nextObject();\n    //\n    // InputStream dIn = p2.getInputStream();\n    //\n    // IOUtils.copy(dIn, new FileOutputStream(extractContentFile));\n    //\n    // int ch;\n    // PGPPublicKeyRingCollection pgpRing = new\n    // PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n    //\n    // PGPPublicKey key = pgpRing.getPublicKey(ops.getKeyID());\n    //\n    // FileOutputStream out = new FileOutputStream(p2.getFileName());\n    //\n    // ops.init(new BcPGPContentVerifierBuilderProvider(), key);\n    //\n    // while ((ch = dIn.read()) &gt;= 0) {\n    // ops.update((byte) ch);\n    // out.write(ch);\n    // }\n    //\n    // out.close();\n    //\n    // PGPSignatureList p3 = (PGPSignatureList) pgpFact.nextObject();\n    // return ops.verify(p3.get(0));\n    // }\n\n    /**\n     * From LockBox Lobs PGP Encryption tools.\n     * http://www.lockboxlabs.org/content/downloads\n     *\n     * I didn't think it was worth having to import a 4meg lib for three methods\n     * \n     * @param key\n     * @return\n     */\n    public static boolean isForEncryption(PGPPublicKey key) {\n        if (key.getAlgorithm() == PublicKeyAlgorithmTags.RSA_SIGN || key.getAlgorithm() == PublicKeyAlgorithmTags.DSA\n                || key.getAlgorithm() == PublicKeyAlgorithmTags.EC || key.getAlgorithm() == PublicKeyAlgorithmTags.ECDSA) {\n            return false;\n        }\n\n        return hasKeyFlags(key, KeyFlags.ENCRYPT_COMMS | KeyFlags.ENCRYPT_STORAGE);\n    }\n\n    /**\n     * From LockBox Lobs PGP Encryption tools.\n     * http://www.lockboxlabs.org/content/downloads\n     *\n     * I didn't think it was worth having to import a 4meg lib for three methods\n     * \n     * @param key\n     * @return\n     */\n    private static boolean hasKeyFlags(PGPPublicKey encKey, int keyUsage) {\n        if (encKey.isMasterKey()) {\n            for (int i = 0; i != BcPGP.MASTER_KEY_CERTIFICATION_TYPES.length; i++) {\n                for (Iterator eIt = encKey.getSignaturesOfType(BcPGP.MASTER_KEY_CERTIFICATION_TYPES[i]); eIt.hasNext();) {\n                    PGPSignature sig = (PGPSignature) eIt.next();\n                    if (!isMatchingUsage(sig, keyUsage)) {\n                        return false;\n                    }\n                }\n            }\n        } else {\n            for (Iterator eIt = encKey.getSignaturesOfType(PGPSignature.SUBKEY_BINDING); eIt.hasNext();) {\n                PGPSignature sig = (PGPSignature) eIt.next();\n                if (!isMatchingUsage(sig, keyUsage)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    /**\n     * From LockBox Lobs PGP Encryption tools.\n     * http://www.lockboxlabs.org/content/downloads\n     *\n     * I didn't think it was worth having to import a 4meg lib for three methods\n     * \n     * @param key\n     * @return\n     */\n    private static boolean isMatchingUsage(PGPSignature sig, int keyUsage) {\n        if (sig.hasSubpackets()) {\n            PGPSignatureSubpacketVector sv = sig.getHashedSubPackets();\n            if (sv.hasSubpacket(BcPGP.KEY_FLAGS)) {\n                if ((sv.getKeyFlags() &amp; keyUsage) == 0) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>FileCopyPGP</strong></p>\n\n<pre><code>public class FileCopyPGP {\n    static final String PUBLIC_KEY_PATH = \"D:\\\\PGP\\\\public.asc\";\n    static final String PRIVATE_KEY_PATH = \"D:\\\\PGP\\\\secret.asc\";\n    static final String PASSWORD = \"TestPass12345!\";\n\n    static final String SOURCE_PATH = \"D:\\\\PGP\\\\run\\\\Source.txt\";\n    static final String ENCRYPTED_PATH = \"D:\\\\PGP\\\\run\\\\Encrypted.txt\";\n    static final String DECRYPTED_PATH = \"D:\\\\PGP\\\\run\\\\Decrypted.txt\";\n\n    public static void encrypt(InputStream is, OutputStream os) {\n        try {\n            PGPPublicKey encKey = BcPGP.readPublicKey(new FileInputStream(new File(PUBLIC_KEY_PATH)));\n            long start = System.currentTimeMillis();\n            System.out.println(\"Encryption started\");\n            BcPGP.encryptFile(os, is, encKey, true, true, CompressionAlgorithmTags.UNCOMPRESSED,\n                    SymmetricKeyAlgorithmTags.AES_256);\n            System.out.println(\"Encryption ended successfully in \" + (System.currentTimeMillis() - start) + \"ms\");\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        } catch (PGPException e) {\n            System.out.println(e.getMessage());\n        } catch (NoSuchProviderException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    public static void decrypt(InputStream is, OutputStream os) {\n        try {\n            long start = System.currentTimeMillis();\n            System.out.println(\"Decryption started\");\n            BcPGP.decryptFile(is, os, new FileInputStream(new File(PRIVATE_KEY_PATH)), PASSWORD.toCharArray());\n            System.out.println(\"Decryption ended successfully in \" + (System.currentTimeMillis() - start) + \"ms\");\n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    public static void main(String[] args) throws FileNotFoundException {\n        encrypt(new FileInputStream(new File(SOURCE_PATH)), new FileOutputStream(new File(ENCRYPTED_PATH)));\n        decrypt(new FileInputStream(new File(ENCRYPTED_PATH)), new FileOutputStream(new File(DECRYPTED_PATH)));\n    }\n}\n</code></pre>\n"},{"tags":["java","bufferedreader","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1428666285,"post_id":29560577,"comment_id":47271013,"body_markdown":"You did not define `reader`.","body":"You did not define <code>reader</code>."},{"owner":{"account_id":4276995,"reputation":45,"user_id":3497375,"accept_rate":40,"display_name":"user3497375"},"score":0,"creation_date":1428666442,"post_id":29560577,"comment_id":47271101,"body_markdown":"@ Mr. Polywhirl Thanks for the reply... actually i have to remove reader as I am using TransformerFactory.. Kindly  Suggest me what to add in place of reader and Writer..","body":"@ Mr. Polywhirl Thanks for the reply... actually i have to remove reader as I am using TransformerFactory.. Kindly  Suggest me what to add in place of reader and Writer.."},{"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"score":0,"creation_date":1428666789,"post_id":29560577,"comment_id":47271300,"body_markdown":"Can you provide a small example input and output file?","body":"Can you provide a small example input and output file?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1428666836,"post_id":29560577,"comment_id":47271332,"body_markdown":"If you are reading an XML file, once you have the DOM, you can loop over the Elements/Nodes and trim their text value. Refer to: [*Stack Overflow: Strip whitespace and newlines from XML in Java*](http://stackoverflow.com/a/11703766/1762224).","body":"If you are reading an XML file, once you have the DOM, you can loop over the Elements/Nodes and trim their text value. Refer to: <a href=\"http://stackoverflow.com/a/11703766/1762224\"><i>Stack Overflow: Strip whitespace and newlines from XML in Java</i></a>."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1428666888,"post_id":29560577,"comment_id":47271365,"body_markdown":"possible duplicate of [Strip whitespace and newlines from XML in Java](http://stackoverflow.com/questions/11703635/strip-whitespace-and-newlines-from-xml-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11703635/strip-whitespace-and-newlines-from-xml-in-java\">Strip whitespace and newlines from XML in Java</a>"},{"owner":{"account_id":4276995,"reputation":45,"user_id":3497375,"accept_rate":40,"display_name":"user3497375"},"score":0,"creation_date":1428667145,"post_id":29560577,"comment_id":47271508,"body_markdown":"input file &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;School&gt;  \n&lt;SSLC&gt;  \n\t&lt;name&gt;&lt;/name&gt;    \n\t&lt;rollno&gt;&lt;/rollno&gt;  \n&lt;/SSLC&gt;\n&lt;PUC&gt;\n\t&lt;first_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/first_pu&gt;\n\t&lt;second_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/second_pu&gt;\n\n&lt;/PUC&gt;\n&lt;PUC&gt;\n\t&lt;first_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/first_pu&gt;\n\t&lt;second_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/second_pu&gt;\n\n&lt;/PUC&gt;\n&lt;PUC&gt;\n\t&lt;first_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/first_pu&gt;\n\t&lt;second_pu&gt;\n\t\t&lt;name&gt;&lt;/name&gt;\n\t\t&lt;rollno&gt;&lt;/rollno&gt;\n\t&lt;/second_pu&gt;\n\n&lt;/PUC&gt;\n&lt;/School&gt;","body":"input file &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;School&gt;   &lt;SSLC&gt;   \t&lt;name&gt;&lt;/name&gt;     \t&lt;rollno&gt;&lt;/rollno&gt;   &lt;/SSLC&gt; &lt;PUC&gt; \t&lt;first_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/first_pu&gt; \t&lt;second_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/second_pu&gt;  &lt;/PUC&gt; &lt;PUC&gt; \t&lt;first_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/first_pu&gt; \t&lt;second_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/second_pu&gt;  &lt;/PUC&gt; &lt;PUC&gt; \t&lt;first_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/first_pu&gt; \t&lt;second_pu&gt; \t\t&lt;name&gt;&lt;/name&gt; \t\t&lt;rollno&gt;&lt;/rollno&gt; \t&lt;/second_pu&gt;  &lt;/PUC&gt; &lt;/School&gt;"},{"owner":{"account_id":4276995,"reputation":45,"user_id":3497375,"accept_rate":40,"display_name":"user3497375"},"score":0,"creation_date":1428667574,"post_id":29560577,"comment_id":47271763,"body_markdown":"@Mr. Polywhirl  But from where to call Trim().. Little confusion..:)","body":"@Mr. Polywhirl  But from where to call Trim().. Little confusion..:)"},{"owner":{"account_id":1681912,"reputation":1280,"user_id":1545982,"accept_rate":64,"display_name":"Emz"},"score":0,"creation_date":1428669883,"post_id":29560577,"comment_id":47273276,"body_markdown":"@user3497375 please edit your original question and paste the xml there instead of in a comment.","body":"@user3497375 please edit your original question and paste the xml there instead of in a comment."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1428677318,"post_id":29560577,"comment_id":47278507,"body_markdown":"@Emz: Well, 2 hours later... I decided to add the input file from the comments.","body":"@Emz: Well, 2 hours later... I decided to add the input file from the comments."}],"owner":{"account_id":4276995,"reputation":45,"user_id":3497375,"accept_rate":40,"display_name":"user3497375"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687109974,"creation_date":1428666172,"question_id":29560577,"body_markdown":"I have to trim the lines from the input file and generate the output in SAP PI. This can&#39;t be done using graphical mapping in SAP PI, so I use Java and build the code in Eclipse.  \r\n\r\nI had used `BufferedReader` to build the logic and it was working fine.. But as the XML file comes into SAP PI, I changed `BufferedReader` to `TransformerFactory` and I&#39;m stuck here.\r\n\r\n    public class TestIntegrate {\r\n    \tprivate Document doc = null;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFileInputStream fin;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfin = new FileInputStream(&quot;C:/Users/xyz/workspace/TEST_2.xml&quot;);\r\n    \t\t\tFileOutputStream fout = new FileOutputStream(&quot;D:\\\\ProgramFiles\\\\eclipse\\\\mapping\\\\poslogoutput.xml&quot;);\r\n    \t\t\tTestIntegrate t = new TestIntegrate();\r\n    \t\t\tt.execute(fin, fout);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void execute(InputStream sourceFile, OutputStream targetFile) /*throws StreamTransformationException*/ {\r\n    \t\ttry {\r\n    \t\t\t// Creating the parser object.\r\n    \t\t\tDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    \t\t\tdbFactory.setNamespaceAware(true);\r\n    \t\t\t\r\n    \t\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    \t\t\tdoc = dBuilder.parse(sourceFile);\r\n    \t\t\t\r\n    \t\t\twriteOutputfile(doc, targetFile);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t} // End of execute \r\n    \t// Write to the output file \r\n    \tprivate void writeOutputfile(Document doc, OutputStream targetFile) {\r\n    \t\ttry {\r\n    \t\t\tString lineToRemove = &quot;&lt;Tax&gt;&quot;;\r\n    \t\t\tString lineToRemove1 = &quot;&lt;/Tax&gt;&quot;;\r\n    \t\t\tString currentLine;\r\n    \t\t\tTransformerFactory transformFactory = TransformerFactory.newInstance();\r\n    \t\t\tDOMSource source = new DOMSource(doc);\r\n    \t\t\tTransformer transformer = transformFactory.newTransformer();\r\n    \t\t\tWriter outWriter = new StringWriter();\r\n    \t\t\tStreamResult result = new StreamResult(targetFile);\r\n    \t\t\ttransformer.transform(source, result);\r\n    \t\t\t\r\n    \t\t\t// Logic to trim the lines\r\n    \t\t\twhile ((currentLine = reader.readLine()) != null) /* ERROR: no reader object */ {\r\n    \t\t\t\tString trimmedLine = currentLine.trim();\r\n    \t\t\t\tif (trimmedLine.equals(lineToRemove) || trimmedLine.equals(lineToRemove1)) continue;\r\n    \t\t\t\toutWriter.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;File saved!&quot;);\r\n    \t\t\treader.close(); //ERROR: no reader object\r\n    \t\t\twriter.close(); //ERROR:no Writer object\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nInput file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;School&gt;\r\n        &lt;SSLC&gt;\r\n            &lt;name /&gt;\r\n            &lt;rollno /&gt;\r\n        &lt;/SSLC&gt;\r\n        &lt;PUC&gt;\r\n            &lt;first_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/first_pu&gt;\r\n            &lt;second_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/second_pu&gt;\r\n        &lt;/PUC&gt;\r\n        &lt;PUC&gt;\r\n            &lt;first_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/first_pu&gt;\r\n            &lt;second_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/second_pu&gt;\r\n        &lt;/PUC&gt;\r\n        &lt;PUC&gt;\r\n            &lt;first_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/first_pu&gt;\r\n            &lt;second_pu&gt;\r\n                &lt;name /&gt;\r\n                &lt;rollno /&gt;\r\n            &lt;/second_pu&gt;\r\n        &lt;/PUC&gt;\r\n    &lt;/School&gt;\r\n\r\n  \r\nThanks in advance.","title":"To trim the lines in a file in PI","body":"<p>I have to trim the lines from the input file and generate the output in SAP PI. This can't be done using graphical mapping in SAP PI, so I use Java and build the code in Eclipse.</p>\n<p>I had used <code>BufferedReader</code> to build the logic and it was working fine.. But as the XML file comes into SAP PI, I changed <code>BufferedReader</code> to <code>TransformerFactory</code> and I'm stuck here.</p>\n<pre><code>public class TestIntegrate {\n    private Document doc = null;\n    \n    public static void main(String[] args) {\n        FileInputStream fin;\n        \n        try {\n            fin = new FileInputStream(&quot;C:/Users/xyz/workspace/TEST_2.xml&quot;);\n            FileOutputStream fout = new FileOutputStream(&quot;D:\\\\ProgramFiles\\\\eclipse\\\\mapping\\\\poslogoutput.xml&quot;);\n            TestIntegrate t = new TestIntegrate();\n            t.execute(fin, fout);\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    public void execute(InputStream sourceFile, OutputStream targetFile) /*throws StreamTransformationException*/ {\n        try {\n            // Creating the parser object.\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n            dbFactory.setNamespaceAware(true);\n            \n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n            doc = dBuilder.parse(sourceFile);\n            \n            writeOutputfile(doc, targetFile);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    } // End of execute \n    // Write to the output file \n    private void writeOutputfile(Document doc, OutputStream targetFile) {\n        try {\n            String lineToRemove = &quot;&lt;Tax&gt;&quot;;\n            String lineToRemove1 = &quot;&lt;/Tax&gt;&quot;;\n            String currentLine;\n            TransformerFactory transformFactory = TransformerFactory.newInstance();\n            DOMSource source = new DOMSource(doc);\n            Transformer transformer = transformFactory.newTransformer();\n            Writer outWriter = new StringWriter();\n            StreamResult result = new StreamResult(targetFile);\n            transformer.transform(source, result);\n            \n            // Logic to trim the lines\n            while ((currentLine = reader.readLine()) != null) /* ERROR: no reader object */ {\n                String trimmedLine = currentLine.trim();\n                if (trimmedLine.equals(lineToRemove) || trimmedLine.equals(lineToRemove1)) continue;\n                outWriter.write(currentLine + System.getProperty(&quot;line.separator&quot;));\n            }\n            \n            System.out.println(&quot;File saved!&quot;);\n            reader.close(); //ERROR: no reader object\n            writer.close(); //ERROR:no Writer object\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Input file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;School&gt;\n    &lt;SSLC&gt;\n        &lt;name /&gt;\n        &lt;rollno /&gt;\n    &lt;/SSLC&gt;\n    &lt;PUC&gt;\n        &lt;first_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/first_pu&gt;\n        &lt;second_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/second_pu&gt;\n    &lt;/PUC&gt;\n    &lt;PUC&gt;\n        &lt;first_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/first_pu&gt;\n        &lt;second_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/second_pu&gt;\n    &lt;/PUC&gt;\n    &lt;PUC&gt;\n        &lt;first_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/first_pu&gt;\n        &lt;second_pu&gt;\n            &lt;name /&gt;\n            &lt;rollno /&gt;\n        &lt;/second_pu&gt;\n    &lt;/PUC&gt;\n&lt;/School&gt;\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver","error-handling","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1687163893,"post_id":76501788,"comment_id":134893261,"body_markdown":"Not exactly your problem, but your problem has the same solution https://stackoverflow.com/a/67416321/3945473","body":"Not exactly your problem, but your problem has the same solution <a href=\"https://stackoverflow.com/a/67416321/3945473\">stackoverflow.com/a/67416321/3945473</a>"}],"owner":{"account_id":28845974,"reputation":1,"user_id":22093007,"display_name":"Monish Sreekanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687109565,"creation_date":1687109565,"question_id":76501788,"body_markdown":"```\r\npackage Runner;\r\n\r\n\r\n\r\n@CucumberOptions(\r\n\t\t\t\t plugin = { &quot;pretty&quot;, &quot;html:target/ExtentReport&quot;, &quot;com.cucumber.listener.ExtentCucumberFormatter:&quot;}, \r\n\t\t\t\t features = {&quot;src\\\\main\\\\java\\\\Feature_PSA&quot; }, \r\n\t\t\t   \t glue = &quot;com.test.Step_def&quot;,\r\n\t\t\t   \t dryRun = false, monochrome = true\r\n\t\t\t   \t)\r\n\t\r\n\r\npublic class Runner extends AbstractTestNGCucumberTests {\r\n\tpublic static SoftAssertions assertion;\r\n\t\r\n\t//Added form StackOverflow \r\n\tprivate TestNGCucumberRunner testNGCucumberRunner;\r\n\t@DataProvider(name=&quot;myFeatures&quot;)\r\n\tpublic Object[][] getFeatures()\r\n\t{\r\n\t    if(testNGCucumberRunner == null){\r\n\t        testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\r\n\t    }\r\n\t    return testNGCucumberRunner.provideFeatures();\r\n\t}\r\n\t\r\n\t\r\n\r\n\r\n\t\r\n\t\r\n\t\r\n\t@BeforeClass\r\n\tpublic static void setup() {\r\n\t\tassertion = new SoftAssertions();\r\n\t\tString timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\r\n\t\tExtentProperties extentProperties = ExtentProperties.INSTANCE;\r\n\t\textentProperties.setReportPath(&quot;cucumber-reports/&quot; + timeStamp.replace(&quot;:&quot;, &quot;_&quot;).replace(&quot;.&quot;, &quot;_&quot;) + &quot;.html&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t@AfterClass\r\n\tpublic static void writeExtentReport() {\r\n\t\t// ExtentReports extentReports = new ExtentReports();\r\n\t\t// ExtentSparkReporter sparkReporter = new\r\n\t\t// ExtentSparkReporter(&quot;C:\\\\Users\\\\ms50\\\\OneDrive - Capgemini\\\\Desktop\\\\Office\r\n\t\t// stuff\\\\Automation testing\\\\PSA\\\\Code\\\\PSA_Test\\\\target\\\\ExtentReport&quot;);\r\n\t\t// extentReports.attachReporter(sparkReporter);\r\n\t\t// extentReports.flush();\r\n\r\n\t\tString timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\r\n\t\tString workingDir = System.getProperty(&quot;user.dir&quot;);\r\n\t\tReporter.loadXMLConfig(new File(workingDir + &quot;\\\\config\\\\extent-config.xml&quot;));\r\n\t\tReporter.setSystemInfo(&quot;Automation Done By: &quot;, &quot;Monish&quot;);\r\n\t\tReporter.setSystemInfo(&quot;Time Zone&quot;, System.getProperty(&quot;user.timezone&quot;));\r\n\t\tReporter.setSystemInfo(&quot;Time: &quot;, timeStamp);\r\n\t\tReporter.setSystemInfo(&quot;Machine&quot;, &quot;Windows 10&quot; + &quot; &quot; + &quot;64 Bit&quot;);\r\n\t\tReporter.setSystemInfo(&quot;Java Version&quot;, &quot;1.8&quot;);\r\n\t\tassertion.assertAll();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe code when run throws the following error: \r\n\r\n[Error] java.lang.NullPointerException: Cannot invoke &amp;quot;cucumber.api.testng.TestNGCucumberRunner.provideFeatures()&amp;quot; because &amp;quot;this.testNGCucumberRunner&amp;quot; is null\r\n\r\nand \r\n\r\nFAILED CONFIGURATION: @BeforeClass cucumber. api-testng. Abstract Test NG Cucumber Tests. set Up Class\r\njava.lang.NoClassDefFoundError: gherkin/formatter/Reporter\r\n\r\n\r\nI was able to run the code and execute it properly before i added code for extent reports.","title":"Null pointer exception when I run the runner class after the addition of code for extent reports","body":"<pre><code>package Runner;\n\n\n\n@CucumberOptions(\n                 plugin = { &quot;pretty&quot;, &quot;html:target/ExtentReport&quot;, &quot;com.cucumber.listener.ExtentCucumberFormatter:&quot;}, \n                 features = {&quot;src\\\\main\\\\java\\\\Feature_PSA&quot; }, \n                 glue = &quot;com.test.Step_def&quot;,\n                 dryRun = false, monochrome = true\n                )\n    \n\npublic class Runner extends AbstractTestNGCucumberTests {\n    public static SoftAssertions assertion;\n    \n    //Added form StackOverflow \n    private TestNGCucumberRunner testNGCucumberRunner;\n    @DataProvider(name=&quot;myFeatures&quot;)\n    public Object[][] getFeatures()\n    {\n        if(testNGCucumberRunner == null){\n            testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\n        }\n        return testNGCucumberRunner.provideFeatures();\n    }\n    \n    \n\n\n    \n    \n    \n    @BeforeClass\n    public static void setup() {\n        assertion = new SoftAssertions();\n        String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\n        ExtentProperties extentProperties = ExtentProperties.INSTANCE;\n        extentProperties.setReportPath(&quot;cucumber-reports/&quot; + timeStamp.replace(&quot;:&quot;, &quot;_&quot;).replace(&quot;.&quot;, &quot;_&quot;) + &quot;.html&quot;);\n        \n    }\n    \n    \n    @AfterClass\n    public static void writeExtentReport() {\n        // ExtentReports extentReports = new ExtentReports();\n        // ExtentSparkReporter sparkReporter = new\n        // ExtentSparkReporter(&quot;C:\\\\Users\\\\ms50\\\\OneDrive - Capgemini\\\\Desktop\\\\Office\n        // stuff\\\\Automation testing\\\\PSA\\\\Code\\\\PSA_Test\\\\target\\\\ExtentReport&quot;);\n        // extentReports.attachReporter(sparkReporter);\n        // extentReports.flush();\n\n        String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\n        String workingDir = System.getProperty(&quot;user.dir&quot;);\n        Reporter.loadXMLConfig(new File(workingDir + &quot;\\\\config\\\\extent-config.xml&quot;));\n        Reporter.setSystemInfo(&quot;Automation Done By: &quot;, &quot;Monish&quot;);\n        Reporter.setSystemInfo(&quot;Time Zone&quot;, System.getProperty(&quot;user.timezone&quot;));\n        Reporter.setSystemInfo(&quot;Time: &quot;, timeStamp);\n        Reporter.setSystemInfo(&quot;Machine&quot;, &quot;Windows 10&quot; + &quot; &quot; + &quot;64 Bit&quot;);\n        Reporter.setSystemInfo(&quot;Java Version&quot;, &quot;1.8&quot;);\n        assertion.assertAll();\n\n    }\n\n}\n</code></pre>\n<p>The code when run throws the following error:</p>\n<p>[Error] java.lang.NullPointerException: Cannot invoke &quot;cucumber.api.testng.TestNGCucumberRunner.provideFeatures()&quot; because &quot;this.testNGCucumberRunner&quot; is null</p>\n<p>and</p>\n<p>FAILED CONFIGURATION: @BeforeClass cucumber. api-testng. Abstract Test NG Cucumber Tests. set Up Class\njava.lang.NoClassDefFoundError: gherkin/formatter/Reporter</p>\n<p>I was able to run the code and execute it properly before i added code for extent reports.</p>\n"},{"tags":["java","multithreading","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":0,"creation_date":1435229486,"post_id":31048053,"comment_id":50117792,"body_markdown":"What exactly is the issue? As far as I understand it, after file 1 finishes processing the system will simply move on to file2 (or whatever came in the meantime). That&#39;s the basics of asynchronous processing and locks.","body":"What exactly is the issue? As far as I understand it, after file 1 finishes processing the system will simply move on to file2 (or whatever came in the meantime). That&#39;s the basics of asynchronous processing and locks."},{"owner":{"account_id":6379111,"reputation":13,"user_id":4949168,"display_name":"madhu"},"score":0,"creation_date":1435229812,"post_id":31048053,"comment_id":50118042,"body_markdown":"@Buurman- suppose if 100&#39;s of files comes at the same time &#39;t0&#39;.. All 100 files will be trying to access sequence_gen file. so wont it move to lock state? will the updated value remain in the sequence_gen file?","body":"@Buurman- suppose if 100&#39;s of files comes at the same time &#39;t0&#39;.. All 100 files will be trying to access sequence_gen file. so wont it move to lock state? will the updated value remain in the sequence_gen file?"},{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":0,"creation_date":1435230065,"post_id":31048053,"comment_id":50118231,"body_markdown":"I don&#39;t know anything about the specific applications you use so I can&#39;t comment on their behavior, but:\n\nIn general, if you have some object/sequence/whatever that&#39;s threadsafe then yes, it will lock on modification and it will unlock after modification succeeded. It will then contain the new state and the next file comes and can proceed processing with the new state for your sequence. That&#39;s basic concurrency.\n\nHave you actually tried your scenario to see if it goes correctly?","body":"I don&#39;t know anything about the specific applications you use so I can&#39;t comment on their behavior, but:  In general, if you have some object/sequence/whatever that&#39;s threadsafe then yes, it will lock on modification and it will unlock after modification succeeded. It will then contain the new state and the next file comes and can proceed processing with the new state for your sequence. That&#39;s basic concurrency.  Have you actually tried your scenario to see if it goes correctly?"},{"owner":{"account_id":6379111,"reputation":13,"user_id":4949168,"display_name":"madhu"},"score":0,"creation_date":1435230925,"post_id":31048053,"comment_id":50118807,"body_markdown":"@Buurman- Thanks.. So by use of thread i can lock the file? and release it. I havent tried this scenario, i can test only when it goes-on live.","body":"@Buurman- Thanks.. So by use of thread i can lock the file? and release it. I havent tried this scenario, i can test only when it goes-on live."}],"answers":[{"tags":[],"owner":{"account_id":6514129,"reputation":21,"user_id":5040509,"display_name":"rmcn96"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435243798,"creation_date":1435243326,"answer_id":31053561,"question_id":31048053,"body_markdown":"Rather than keep track of all of the threads that are locking and unlocking the file, you could have a single thread that is in charge of changing it.  Have each thread place a request to change the file into a Concurrent Queue, which then notifies the Sequence_Gen thread to write to its own file.  In essence:\r\n\r\nSequence_Gen thread:\r\n\r\n    @Override\r\n    public synchronized void Run(){\r\n        while(true){ //Some condition\r\n            while(queue.isEmpty()) { \r\n                this.wait();\r\n\r\n            }\r\n            Object obj = queue.pop();\r\n            //Open file\r\n            file.write(obj);\r\n            //Close file\r\n        }\r\n    }\r\n\r\nThen, in any other thread, just queue and notify that there is something to write.\r\n\r\n    public synchronized void AddItem(Object item) {\r\n        queue.put(item);\r\n        this.notifyAll();\r\n    }","title":"How to save Thread instance in a database using java","body":"<p>Rather than keep track of all of the threads that are locking and unlocking the file, you could have a single thread that is in charge of changing it.  Have each thread place a request to change the file into a Concurrent Queue, which then notifies the Sequence_Gen thread to write to its own file.  In essence:</p>\n\n<p>Sequence_Gen thread:</p>\n\n<pre><code>@Override\npublic synchronized void Run(){\n    while(true){ //Some condition\n        while(queue.isEmpty()) { \n            this.wait();\n\n        }\n        Object obj = queue.pop();\n        //Open file\n        file.write(obj);\n        //Close file\n    }\n}\n</code></pre>\n\n<p>Then, in any other thread, just queue and notify that there is something to write.</p>\n\n<pre><code>public synchronized void AddItem(Object item) {\n    queue.put(item);\n    this.notifyAll();\n}\n</code></pre>\n"}],"owner":{"account_id":6379111,"reputation":13,"user_id":4949168,"display_name":"madhu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687109494,"creation_date":1435228873,"question_id":31048053,"body_markdown":"This is SAP PI requirement,\r\n\r\n - Source System: XY_Client\r\n - Middleware: PI System\r\n - Target system : SAP\r\n\r\n\r\nThe XML files are received to the PI system, for each XML file an internal file is generated to keep track of store_number, and count of xml files.\r\n\r\nHow it works: suppose if XML_FILE_1 reaches PI, internal file called sequence_gen is created. the file contains the store number present in XML file and count will be initialized to 1.\r\n\r\n- so first time,\r\n- `sequence_gen file contains Store: 1001 Count:1`\r\n- (after some time interval)\r\n- If XML_FILE_2 reaches PI, second time,\r\n- `sequence_gen file contains Store: 1001 Count:2` \r\n- and so on..\r\n\r\nMy question is : If &#39;n&#39; number of files come at the same time to PI system, the 1st file will lock the sequence_gen file. so how will the 2nd file update the value to the sequence_gen file? So how to tackle this problem?  \r\n\r\nI thought of creating a thread instance for every call and storing it in a database. and retrieving each instance, performing function, returning result to the xml call and deleting that instance.. Is it possible? How to go forward on this?","title":"How to save Thread instance in a database using java","body":"<p>This is SAP PI requirement,</p>\n<ul>\n<li>Source System: XY_Client</li>\n<li>Middleware: PI System</li>\n<li>Target system : SAP</li>\n</ul>\n<p>The XML files are received to the PI system, for each XML file an internal file is generated to keep track of store_number, and count of xml files.</p>\n<p>How it works: suppose if XML_FILE_1 reaches PI, internal file called sequence_gen is created. the file contains the store number present in XML file and count will be initialized to 1.</p>\n<ul>\n<li>so first time,</li>\n<li><code>sequence_gen file contains Store: 1001 Count:1</code></li>\n<li>(after some time interval)</li>\n<li>If XML_FILE_2 reaches PI, second time,</li>\n<li><code>sequence_gen file contains Store: 1001 Count:2</code></li>\n<li>and so on..</li>\n</ul>\n<p>My question is : If 'n' number of files come at the same time to PI system, the 1st file will lock the sequence_gen file. so how will the 2nd file update the value to the sequence_gen file? So how to tackle this problem?</p>\n<p>I thought of creating a thread instance for every call and storing it in a database. and retrieving each instance, performing function, returning result to the xml call and deleting that instance.. Is it possible? How to go forward on this?</p>\n"},{"tags":["java","integration","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":2179460,"reputation":589,"user_id":1929280,"display_name":"Utkarsh"},"score":0,"creation_date":1437723526,"post_id":31604644,"comment_id":51159998,"body_markdown":"I think junk characters are present due to improper encoding used while reading and writing file. The reason you cannot remove junk characters from your side is because junk characters will not be same and can be many. If you are sure your file contains ASCII characters only then there is way.  Could you please provide more details about your question ?","body":"I think junk characters are present due to improper encoding used while reading and writing file. The reason you cannot remove junk characters from your side is because junk characters will not be same and can be many. If you are sure your file contains ASCII characters only then there is way.  Could you please provide more details about your question ?"},{"owner":{"account_id":2318249,"reputation":3348,"user_id":2034750,"accept_rate":61,"display_name":"nrs jayaram"},"score":0,"creation_date":1437723622,"post_id":31604644,"comment_id":51160049,"body_markdown":"@Narendra, Information not sufficient, add little bit more information to rectify your problems.","body":"@Narendra, Information not sufficient, add little bit more information to rectify your problems."}],"answers":[{"tags":[],"owner":{"account_id":2179460,"reputation":589,"user_id":1929280,"display_name":"Utkarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437724432,"creation_date":1437724432,"answer_id":31605030,"question_id":31604644,"body_markdown":"You can remove non-ascii characters from your string using following code : \r\n\r\n     String strWithoutNonASCII = yourString.replaceAll(&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;).trim();\r\n\t\t\t\t\t\t\t \r\nor Use `Apache Commons Lang` to escape the characters which can break xml\r\n     \r\n    //escaping characters like &amp;, &lt;, &gt;\r\n    strWithoutNonASCII = StringEscapeUtils.escapeXml(yourString);","title":"Removing junk character from XML payload","body":"<p>You can remove non-ascii characters from your string using following code : </p>\n\n<pre><code> String strWithoutNonASCII = yourString.replaceAll(\"[^\\\\x00-\\\\x7F]\", \"\").trim();\n</code></pre>\n\n<p>or Use <code>Apache Commons Lang</code> to escape the characters which can break xml</p>\n\n<pre><code>//escaping characters like &amp;, &lt;, &gt;\nstrWithoutNonASCII = StringEscapeUtils.escapeXml(yourString);\n</code></pre>\n"}],"owner":{"account_id":6654419,"reputation":1,"user_id":5135477,"display_name":"Narendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687109382,"creation_date":1437723069,"question_id":31604644,"body_markdown":"Can anyone please tell me how to remove Junk characters from payload in Java?\r\n\r\n    &#215;&#215;&#215;&#215;&#168;&#215;&#215; &#215;- &#215;&#169;&#215;`\r\n\r\nSender system is sending file to SAP PI (middleware) to receiver. When the file received from SAP PI it is showing the junk character file. \r\n\r\nCan any one tell me how to remove junk characters?\r\n\r\n\r\nThanks\r\nNarendra","title":"Removing junk character from XML payload","body":"<p>Can anyone please tell me how to remove Junk characters from payload in Java?</p>\n\n<pre><code> - `\n</code></pre>\n\n<p>Sender system is sending file to SAP PI (middleware) to receiver. When the file received from SAP PI it is showing the junk character file. </p>\n\n<p>Can any one tell me how to remove junk characters?</p>\n\n<p>Thanks\nNarendra</p>\n"},{"tags":["java","h.264","libstreaming"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686860255,"post_id":76484146,"comment_id":134860128,"body_markdown":"Is _UDP_ required?  I believe it allows for data-packet loss.","body":"Is <i>UDP</i> required?  I believe it allows for data-packet loss."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686872344,"post_id":76484146,"comment_id":134861773,"body_markdown":"Even if there is no data loss, Isn&#39;t that going to be a pretty small video, given that the maximum size of a datagram packet is c. 64K?","body":"Even if there is no data loss, Isn&#39;t that going to be a pretty small video, given that the maximum size of a datagram packet is c. 64K?"},{"owner":{"account_id":16527932,"reputation":23,"user_id":11942075,"display_name":"Kirill Gubanov"},"score":0,"creation_date":1686902947,"post_id":76484146,"comment_id":134864977,"body_markdown":"@g00se Now I am trying to show video of any size. The main goal now is to show something at all","body":"@g00se Now I am trying to show video of any size. The main goal now is to show something at all"},{"owner":{"account_id":16527932,"reputation":23,"user_id":11942075,"display_name":"Kirill Gubanov"},"score":0,"creation_date":1686903012,"post_id":76484146,"comment_id":134864995,"body_markdown":"@Reilas yes, it may be, but for live video streaming it is the best option, as I think. TCP can produce lags and freezes","body":"@Reilas yes, it may be, but for live video streaming it is the best option, as I think. TCP can produce lags and freezes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686903176,"post_id":76484146,"comment_id":134865027,"body_markdown":"You&#39;d want to be using a dedicated Java rtsp library, not trying to roll your own with datagrams","body":"You&#39;d want to be using a dedicated Java rtsp library, not trying to roll your own with datagrams"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687002195,"post_id":76484146,"comment_id":134878036,"body_markdown":"@KirillGubanov Can you provide a short `output.h264` file (even with one video frame it is enough to test). **(1)** It&#39;s possible you need to first remove some UDP header bytes, at the receiving side, before you can use _&quot;Internet resources for transforming h264 to the video&quot;_ **(2)** It&#39;s possible you are not first sending the H264 bytes that have the decoder setup (called **SPS** and **PPS**)  before sending video frame bytes.","body":"@KirillGubanov Can you provide a short <code>output.h264</code> file (even with one video frame it is enough to test). <b>(1)</b> It&#39;s possible you need to first remove some UDP header bytes, at the receiving side, before you can use <i>&quot;Internet resources for transforming h264 to the video&quot;</i> <b>(2)</b> It&#39;s possible you are not first sending the H264 bytes that have the decoder setup (called <b>SPS</b> and <b>PPS</b>)  before sending video frame bytes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687003515,"post_id":76484146,"comment_id":134878198,"body_markdown":"@VC.One see my &#39;answer&#39;. If/when the OP copies that into the question, I shall delete it","body":"@VC.One see my &#39;answer&#39;. If/when the OP copies that into the question, I shall delete it"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687101951,"post_id":76484146,"comment_id":134886923,"body_markdown":"@g00se Well it could be the beginnings of an answer from you. I cannot test Android code. I&#39;m just passing thru to advise about H264 side of things... **Solution:** You need to convert your H264 bytes values from integers into hex Strings. This means: **(1)** Get the data into an Array then create a String variable `myHexStr` which is incrementally updated by using a For loop. **(2)** Read each byte (Array slot) as an integer number and convert that into Hex by using a `tempString = myNumberVar.toString(16);` command (or similar effect in Java).","body":"@g00se Well it could be the beginnings of an answer from you. I cannot test Android code. I&#39;m just passing thru to advise about H264 side of things... <b>Solution:</b> You need to convert your H264 bytes values from integers into hex Strings. This means: <b>(1)</b> Get the data into an Array then create a String variable <code>myHexStr</code> which is incrementally updated by using a For loop. <b>(2)</b> Read each byte (Array slot) as an integer number and convert that into Hex by using a <code>tempString = myNumberVar.toString(16);</code> command (or similar effect in Java)."},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687102265,"post_id":76484146,"comment_id":134886960,"body_markdown":"**(3)** You need to also pad any single hex values since a byte (transformed into hex) is written as 2 characters. This means you prefix a zero in front of any single digits. You want `&quot;0F&quot;` not `&quot;F&quot;` where if the byte value is `0x0F` (or 15 decimal).. Example code like: `if( (tempString.length % 2) !== 0 ) { tempString = (&quot;0&quot; + tempString ); }` ... then increment it into the final hex output `myHexStr += tempString;` until the For loop ends. **(4)** Encode the final string as Base64 and try to play/save as H264... Ask anything.","body":"<b>(3)</b> You need to also pad any single hex values since a byte (transformed into hex) is written as 2 characters. This means you prefix a zero in front of any single digits. You want <code>&quot;0F&quot;</code> not <code>&quot;F&quot;</code> where if the byte value is <code>0x0F</code> (or 15 decimal).. Example code like: <code>if( (tempString.length % 2) !== 0 ) { tempString = (&quot;0&quot; + tempString ); }</code> ... then increment it into the final hex output <code>myHexStr += tempString;</code> until the For loop ends. <b>(4)</b> Encode the final string as Base64 and try to play/save as H264... Ask anything."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687102813,"post_id":76484146,"comment_id":134887037,"body_markdown":"*Solution: You need to convert your H264 bytes values from integers into hex Strings.* Why? datagrams are quite capable of holding binary data","body":"<i>Solution: You need to convert your H264 bytes values from integers into hex Strings.</i> Why? datagrams are quite capable of holding binary data"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687107064,"post_id":76484146,"comment_id":134887487,"body_markdown":"@g00se The shown Base64 example did not give actual H264 binary values. If it must explicitly be Base64 data then the previous example can be used. Yes, it is more correct to send the H264 byte values directly as binary data. The Asker says _&quot;The main goal now is to show something at all&quot;_ so maybe a temporary solution is saving the received binary data and testing the contents to learn what else needs fixing next...","body":"@g00se The shown Base64 example did not give actual H264 binary values. If it must explicitly be Base64 data then the previous example can be used. Yes, it is more correct to send the H264 byte values directly as binary data. The Asker says <i>&quot;The main goal now is to show something at all&quot;</i> so maybe a temporary solution is saving the received binary data and testing the contents to learn what else needs fixing next..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687107205,"post_id":76484146,"comment_id":134887507,"body_markdown":"*The shown Base64 example did not give actual H264 binary values* I&#39;ve just decoded it and played the video with VLC","body":"<i>The shown Base64 example did not give actual H264 binary values</i> I&#39;ve just decoded it and played the video with VLC"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687107396,"post_id":76484146,"comment_id":134887526,"body_markdown":"@g00se What is your first 16 decoded characters from that shown Base64?","body":"@g00se What is your first 16 decoded characters from that shown Base64?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687108206,"post_id":76484146,"comment_id":134887592,"body_markdown":"See my &#39;answer&#39;","body":"See my &#39;answer&#39;"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1687119986,"post_id":76484146,"comment_id":134888890,"body_markdown":"@g00se Okay now I see it correctly as binary. I first tested on the site: [base64decode.org](https://www.base64decode.org/) but after checking with my main &quot;go to&quot; tool: [conv.darkbyte.ru](https://conv.darkbyte.ru/) I see H264 NAL units properly.  As you can see yourself if you save such binary as a File it will play. Do you think it solves the Asker&#39;s problem as far as transforming the bytes into a video file?","body":"@g00se Okay now I see it correctly as binary. I first tested on the site: <a href=\"https://www.base64decode.org/\" rel=\"nofollow noreferrer\">base64decode.org</a> but after checking with my main &quot;go to&quot; tool: <a href=\"https://conv.darkbyte.ru/\" rel=\"nofollow noreferrer\">conv.darkbyte.ru</a> I see H264 NAL units properly.  As you can see yourself if you save such binary as a File it will play. Do you think it solves the Asker&#39;s problem as far as transforming the bytes into a video file?"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687108189,"creation_date":1687003467,"answer_id":76496106,"question_id":76484146,"body_markdown":"```\r\nAAAAAWdkAA2s2UFB+w4QAAADABAAAAMDIPFCmWAAAAABaOvjyyLAAAABBgX//6rcRem95tlIt5Ys\r\n2CDZI+7veDI2NCAtIGNvcmUgMTYwIHIzMDExIGNkZTlhOTMgLSBILjI2NC9NUEVHLTQgQVZDIGNv\r\nZGVjIC0gQ29weWxlZnQgMjAwMy0yMDIwIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5o\r\ndG1sIC0gb3B0aW9uczogY2FiYWM9MSByZWY9MyBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgzOjB4\r\nMTEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVf\r\ncmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIx\r\nLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9NiBsb29rYWhlYWRf\r\ndGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBi\r\nbHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIg\r\nYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9\r\nMiBrZXlpbnQ9MjUwIGtleWludF9taW49MjUgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJj\r\nX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0w\r\nIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAFliIQB/3yE8+o3\r\n/gecPfeybKqHFElD2VNTMjlHNGUSDdv0WD/NpCM5uRoq6KKPijn3iRf+WHAqb0ix523cUmPJ/cSV\r\nGcTiMjXFW8vXN4mFzXewxvptSsj0H4gGSe7g5Xb3ZZxIGmEwNKeyFoZld3MseybakoiHocRRq3dS\r\nCWkYk84jeaNO1NdVjvuPXvfPV/mQNMD1tDZz8NQbSSZA4VzKvTTJ0ryLHqPCJRtieyOJg5czjZ5l\r\n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\r\n```\r\nis a one-second sample from an &#39;Inside Java&#39; episode as h264 (base64-encoded)\r\nSaved as &#39;x.h264&#39; (after decoding with base64), `file` says:\r\n```\r\ngoose@t410:/tmp$ file x.h264\r\nx.h264: JVT NAL sequence, H.264 video @ L 13\r\n```\r\nIts header (first 16 bytes):\r\n```\r\ngoose@t410:/tmp$ xxd -l 16 x.h264 \r\n00000000: 0000 0001 6764 000d acd9 4141 fb0e 1000  ....gd....AA....\r\n```","title":"How to decode stream of h264 bytes from udp socket to video file","body":"<pre><code>AAAAAWdkAA2s2UFB+w4QAAADABAAAAMDIPFCmWAAAAABaOvjyyLAAAABBgX//6rcRem95tlIt5Ys\n2CDZI+7veDI2NCAtIGNvcmUgMTYwIHIzMDExIGNkZTlhOTMgLSBILjI2NC9NUEVHLTQgQVZDIGNv\nZGVjIC0gQ29weWxlZnQgMjAwMy0yMDIwIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5o\ndG1sIC0gb3B0aW9uczogY2FiYWM9MSByZWY9MyBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgzOjB4\nMTEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVf\ncmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIx\nLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9NiBsb29rYWhlYWRf\ndGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBi\nbHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIg\nYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9\nMiBrZXlpbnQ9MjUwIGtleWludF9taW49MjUgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJj\nX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0w\nIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAFliIQB/3yE8+o3\n/gecPfeybKqHFElD2VNTMjlHNGUSDdv0WD/NpCM5uRoq6KKPijn3iRf+WHAqb0ix523cUmPJ/cSV\nGcTiMjXFW8vXN4mFzXewxvptSsj0H4gGSe7g5Xb3ZZxIGmEwNKeyFoZld3MseybakoiHocRRq3dS\nCWkYk84jeaNO1NdVjvuPXvfPV/mQNMD1tDZz8NQbSSZA4VzKvTTJ0ryLHqPCJRtieyOJg5czjZ5l\n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\n</code></pre>\n<p>is a one-second sample from an 'Inside Java' episode as h264 (base64-encoded)\nSaved as 'x.h264' (after decoding with base64), <code>file</code> says:</p>\n<pre><code>goose@t410:/tmp$ file x.h264\nx.h264: JVT NAL sequence, H.264 video @ L 13\n</code></pre>\n<p>Its header (first 16 bytes):</p>\n<pre><code>goose@t410:/tmp$ xxd -l 16 x.h264 \n00000000: 0000 0001 6764 000d acd9 4141 fb0e 1000  ....gd....AA....\n</code></pre>\n"}],"owner":{"account_id":16527932,"reputation":23,"user_id":11942075,"display_name":"Kirill Gubanov"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687108189,"creation_date":1686850012,"question_id":76484146,"body_markdown":"I am currently developing an Android application that streams live video to a server using the libstreaming package. I am able to send the data to my laptop UDP socket, which has a type of an array of bytes. Now, I want to check if the bytes are correct and transform them into a video file. However, I do not understand how to do this. I tried to stream to an .h264 file and load it to internet resources for transforming h264 to the video. But the file had an incorrect format.\r\n\r\nHere is the code snippet I&#39;m using:\r\n\r\n```java\r\ntry (FileOutputStream outputStream = new FileOutputStream(&quot;output.h264&quot;)) {\r\n    DpReceive = new DatagramPacket(receive, receive.length);\r\n    serverSocket.receive(DpReceive);\r\n    outputStream.write(DpReceive.getData());\r\n    outputStream.close();\r\n}\r\n```\r\n\r\nBytes looks like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat am I doing wrong? How can I achieve my goal? Thank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Er1HR.png","title":"How to decode stream of h264 bytes from udp socket to video file","body":"<p>I am currently developing an Android application that streams live video to a server using the libstreaming package. I am able to send the data to my laptop UDP socket, which has a type of an array of bytes. Now, I want to check if the bytes are correct and transform them into a video file. However, I do not understand how to do this. I tried to stream to an .h264 file and load it to internet resources for transforming h264 to the video. But the file had an incorrect format.</p>\n<p>Here is the code snippet I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileOutputStream outputStream = new FileOutputStream(&quot;output.h264&quot;)) {\n    DpReceive = new DatagramPacket(receive, receive.length);\n    serverSocket.receive(DpReceive);\n    outputStream.write(DpReceive.getData());\n    outputStream.close();\n}\n</code></pre>\n<p>Bytes looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/Er1HR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Er1HR.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong? How can I achieve my goal? Thank you in advance.</p>\n"},{"tags":["java","certificate","keystore"],"answers":[{"comments":[{"owner":{"account_id":250085,"reputation":3345,"user_id":526579,"display_name":"Jan-Pieter"},"score":2,"creation_date":1291216915,"post_id":4325590,"comment_id":4700290,"body_markdown":"When I try to import the unmodified certificate into the keystore, I get the error &quot;keytool error: java.lang.Exception: Input not an X.509 certificate&quot;. After modifying the certificate in the way I described in my post, I am able to import the certificate without errors with a command similar to yours. However it is imported as a trustedCertEntry and is not used when accessing the webservice.","body":"When I try to import the unmodified certificate into the keystore, I get the error &quot;keytool error: java.lang.Exception: Input not an X.509 certificate&quot;. After modifying the certificate in the way I described in my post, I am able to import the certificate without errors with a command similar to yours. However it is imported as a trustedCertEntry and is not used when accessing the webservice."},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":0,"creation_date":1291217954,"post_id":4325590,"comment_id":4700493,"body_markdown":"Can you please add the command the exception to the question? Are you sure you are specifying an alias in your import command?","body":"Can you please add the command the exception to the question? Are you sure you are specifying an alias in your import command?"},{"owner":{"account_id":4728070,"reputation":79,"user_id":3824419,"display_name":"SilentBob470"},"score":0,"creation_date":1558615078,"post_id":4325590,"comment_id":99165206,"body_markdown":"Don&#39;t forget to run cmd as admin if you are using Windows","body":"Don&#39;t forget to run cmd as admin if you are using Windows"}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1291215231,"creation_date":1291215231,"answer_id":4325590,"question_id":4325263,"body_markdown":"You shouldn&#39;t have to make any changes to the certificate. Are you sure you are running the right import command?\r\n\r\nThe following works for me:\r\n\r\n    keytool -import -alias joe -file mycert.cer -keystore mycerts -storepass changeit\r\n\r\n\r\nwhere mycert.cer contains:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIFUTCCBDmgAwIBAgIHK4FgDiVqczANBgkqhkiG9w0BAQUFADCByjELMAkGA1UE\r\n    BhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxGjAY\r\n    ...\r\n    RLJKd+SjxhLMD2pznKxC/Ztkkcoxaw9u0zVPOPrUtsE/X68Vmv6AEHJ+lWnUaWlf\r\n    zLpfMEvelFPYH4NT9mV5wuQ1Pgurf/ydBhPizc0uOCvd6UddJS5rPfVWnuFkgQOk\r\n    WmD+yvuojwsL38LPbtrC8SZgPKT3grnLwKu18nm3UN2isuciKPF2spNEFnmCUWDc\r\n    MMicbud3twMSO6Zbm3lx6CToNFzP\r\n    -----END CERTIFICATE-----\r\n\r\n","title":"How to import a .cer certificate into a java keystore?","body":"<p>You shouldn't have to make any changes to the certificate. Are you sure you are running the right import command?</p>\n\n<p>The following works for me:</p>\n\n<pre><code>keytool -import -alias joe -file mycert.cer -keystore mycerts -storepass changeit\n</code></pre>\n\n<p>where mycert.cer contains:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIFUTCCBDmgAwIBAgIHK4FgDiVqczANBgkqhkiG9w0BAQUFADCByjELMAkGA1UE\nBhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNjb3R0c2RhbGUxGjAY\n...\nRLJKd+SjxhLMD2pznKxC/Ztkkcoxaw9u0zVPOPrUtsE/X68Vmv6AEHJ+lWnUaWlf\nzLpfMEvelFPYH4NT9mV5wuQ1Pgurf/ydBhPizc0uOCvd6UddJS5rPfVWnuFkgQOk\nWmD+yvuojwsL38LPbtrC8SZgPKT3grnLwKu18nm3UN2isuciKPF2spNEFnmCUWDc\nMMicbud3twMSO6Zbm3lx6CToNFzP\n-----END CERTIFICATE-----\n</code></pre>\n"},{"comments":[{"owner":{"account_id":339258,"reputation":4227,"user_id":668622,"accept_rate":78,"display_name":"Kyle"},"score":5,"creation_date":1369075157,"post_id":4326346,"comment_id":23959605,"body_markdown":".CER files do have the public key. They don&#39;t have the private key. Suggest editing..","body":".CER files do have the public key. They don&#39;t have the private key. Suggest editing.."},{"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"score":1,"creation_date":1369081876,"post_id":4326346,"comment_id":23963151,"body_markdown":"You are true, I made the original response fast and I make a typing mistake and no one has argued until you.\nI&#39;ve corrected and added some little extra information.","body":"You are true, I made the original response fast and I make a typing mistake and no one has argued until you. I&#39;ve corrected and added some little extra information."},{"owner":{"account_id":341703,"reputation":2528,"user_id":672455,"accept_rate":67,"display_name":"hop"},"score":12,"creation_date":1377703183,"post_id":4326346,"comment_id":27184967,"body_markdown":"What does -alias do here ?","body":"What does -alias do here ?"},{"owner":{"account_id":309118,"reputation":6968,"user_id":621401,"accept_rate":100,"display_name":"Lixas"},"score":1,"creation_date":1391067224,"post_id":4326346,"comment_id":32368507,"body_markdown":"Java keystore file may have few certificates in one file. The all are identified by -alias attribute. It&#39;s a friendly name for your cert in keystore","body":"Java keystore file may have few certificates in one file. The all are identified by -alias attribute. It&#39;s a friendly name for your cert in keystore"},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":6,"creation_date":1392458651,"post_id":4326346,"comment_id":32980041,"body_markdown":":(  --&gt;  keytool error: java.lang.Exception: Input not an X.509 certificate","body":":(  --&gt;  keytool error: java.lang.Exception: Input not an X.509 certificate"},{"owner":{"account_id":1428527,"reputation":52235,"user_id":1351469,"accept_rate":100,"display_name":"jcesarmobile"},"score":0,"creation_date":1402042579,"post_id":4326346,"comment_id":37130335,"body_markdown":"necromancer, did you find a solution for the &quot;not an X.509 certificate&quot;","body":"necromancer, did you find a solution for the &quot;not an X.509 certificate&quot;"},{"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"score":5,"creation_date":1424002279,"post_id":4326346,"comment_id":45367517,"body_markdown":"@hop A java keystore can have multiple certificates each one with a different alias to identify it. You can use it as reference to identify it and/or to retrieve it programatically by alias name.","body":"@hop A java keystore can have multiple certificates each one with a different alias to identify it. You can use it as reference to identify it and/or to retrieve it programatically by alias name."},{"owner":{"account_id":2113347,"reputation":7040,"user_id":1878141,"accept_rate":54,"display_name":"Christian Findlay"},"score":0,"creation_date":1524560172,"post_id":4326346,"comment_id":87010988,"body_markdown":"I followed this process and it worked. I then used the outputted keystore to sign my APK. But, the Google store still rejected the APK saying it doesn&#39;t match the fingerprint that they gave me. How can I manually check the fingerprint on the outputted file?","body":"I followed this process and it worked. I then used the outputted keystore to sign my APK. But, the Google store still rejected the APK saying it doesn&#39;t match the fingerprint that they gave me. How can I manually check the fingerprint on the outputted file?"},{"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"score":0,"creation_date":1530274286,"post_id":4326346,"comment_id":89190002,"body_markdown":"Somehow unrelated doubt. I have written java client &amp; python server communicating over SSL. I used [python `SSLSocket`](https://docs.python.org/3/library/ssl.html#ssl-sockets) and [java `SSLSocket`](https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html).\nGeneral description of SSL says in most SSL implementations, client creates a session key &amp; sends it to the server. Further communication works using session key. [continued...]","body":"Somehow unrelated doubt. I have written java client &amp; python server communicating over SSL. I used <a href=\"https://docs.python.org/3/library/ssl.html#ssl-sockets\" rel=\"nofollow noreferrer\">python <code>SSLSocket</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\">java <code>SSLSocket</code></a>. General description of SSL says in most SSL implementations, client creates a session key &amp; sends it to the server. Further communication works using session key. [continued...]"},{"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"score":0,"creation_date":1530274296,"post_id":4326346,"comment_id":89190013,"body_markdown":"[...continuted] But when I read docs of java/python classes, it does not say anything like this.\nThe question is does those classes implement the session key under the hood and use it, or I have to generate them explicitly?","body":"[...continuted] But when I read docs of java/python classes, it does not say anything like this. The question is does those classes implement the session key under the hood and use it, or I have to generate them explicitly?"},{"owner":{"account_id":8689428,"reputation":273,"user_id":6502722,"accept_rate":75,"display_name":"legend"},"score":0,"creation_date":1556860049,"post_id":4326346,"comment_id":98578088,"body_markdown":"How can we import a certificate to a keystore using java program","body":"How can we import a certificate to a keystore using java program"},{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":0,"creation_date":1673864709,"post_id":4326346,"comment_id":132584820,"body_markdown":"I would have liked to submit this edit - but system rejects me due to a &quot;queue full&quot;: &quot;If you really were able to authenticate then is because you already had imported the private key.&quot;","body":"I would have liked to submit this edit - but system rejects me due to a &quot;queue full&quot;: &quot;If you really were able to authenticate then is because you already had imported the private key.&quot;"}],"tags":[],"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"comment_count":12,"down_vote_count":1,"up_vote_count":439,"is_accepted":true,"score":438,"last_activity_date":1551130812,"creation_date":1291219819,"answer_id":4326346,"question_id":4325263,"body_markdown":" - If you want to authenticate you need the private key - there is no other option.\r\n - A certificate is a public key with extra properties (like company name, country,...) that is signed by some Certificate authority that guarantees that the attached properties are true.\r\n - `.CER` files are certificates and don&#39;t have the private key. The private key is provided with a `.PFX keystore` file normally. \r\nIf you really authenticate is because you already had imported the private key.\r\n - You normally can import `.CER` certificates without any problems with \r\n\r\n        keytool -importcert -file certificate.cer -keystore keystore.jks -alias &quot;Alias&quot; \r\n\r\n","title":"How to import a .cer certificate into a java keystore?","body":"<ul>\n<li>If you want to authenticate you need the private key - there is no other option.</li>\n<li>A certificate is a public key with extra properties (like company name, country,...) that is signed by some Certificate authority that guarantees that the attached properties are true.</li>\n<li><code>.CER</code> files are certificates and don't have the private key. The private key is provided with a <code>.PFX keystore</code> file normally. \nIf you really authenticate is because you already had imported the private key.</li>\n<li><p>You normally can import <code>.CER</code> certificates without any problems with </p>\n\n<pre><code>keytool -importcert -file certificate.cer -keystore keystore.jks -alias \"Alias\" \n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6117,"reputation":5165,"user_id":10165,"display_name":"Chochos"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1291220500,"creation_date":1291220500,"answer_id":4326457,"question_id":4325263,"body_markdown":"The certificate that you already have is probably the server&#39;s certificate, or the certificate used to sign the server&#39;s certificate. You will need it so that your web service client can authenticate the server.\r\n\r\nBut if additionally you need to perform client authentication with SSL, then you need to get your own certificate, to authenticate your web service client. For this you need to create a certificate request; the process involves creating your own private key, and the corresponding public key, and attaching that public key along with some of your info (email, name, domain name, etc) to a file that&#39;s called the certificate request. Then you send that certificate request to the company that&#39;s already asked you for it, and they will create your certificate, by signing your public key with their private key, and they&#39;ll send you back an X509 file with your certificate, which you can now add to your keystore, and you&#39;ll be ready to connect to a web service using SSL requiring client authentication.\r\n\r\nTo generate your certificate request, use &quot;keytool -certreq -alias &lt;whatever you want to call your cert&gt; -file &lt;the output file name&gt; -keypass &lt;the password for your private key&gt; -keystore &lt;the keystore file where you want to store the private key&gt;&quot;. Send the resulting file to the company that&#39;s going to sign it.\r\n\r\nWhen you get back your certificate, run &quot;keytool -importcert -alias &lt;same alias you used when creating the request&gt; -keypass &lt;the password you used for the private key&gt; -keystore &lt;the same one you used for the certreq&gt;&quot;.\r\n\r\nYou may need to used -storepass in both cases if the keystore is protected (which is a good idea).","title":"How to import a .cer certificate into a java keystore?","body":"<p>The certificate that you already have is probably the server's certificate, or the certificate used to sign the server's certificate. You will need it so that your web service client can authenticate the server.</p>\n\n<p>But if additionally you need to perform client authentication with SSL, then you need to get your own certificate, to authenticate your web service client. For this you need to create a certificate request; the process involves creating your own private key, and the corresponding public key, and attaching that public key along with some of your info (email, name, domain name, etc) to a file that's called the certificate request. Then you send that certificate request to the company that's already asked you for it, and they will create your certificate, by signing your public key with their private key, and they'll send you back an X509 file with your certificate, which you can now add to your keystore, and you'll be ready to connect to a web service using SSL requiring client authentication.</p>\n\n<p>To generate your certificate request, use \"keytool -certreq -alias  -file  -keypass  -keystore \". Send the resulting file to the company that's going to sign it.</p>\n\n<p>When you get back your certificate, run \"keytool -importcert -alias  -keypass  -keystore \".</p>\n\n<p>You may need to used -storepass in both cases if the keystore is protected (which is a good idea).</p>\n"},{"tags":[],"owner":{"account_id":1026117,"reputation":1066,"user_id":1035398,"display_name":"Patrick M"},"comment_count":0,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1347860955,"creation_date":1347860955,"answer_id":12453741,"question_id":4325263,"body_markdown":"Here is the code I&#39;ve been using for programatically importing .cer files into a new KeyStore. \r\n\r\n\timport java.io.BufferedInputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\t//VERY IMPORTANT.  SOME OF THESE EXIST IN MORE THAN ONE PACKAGE!\r\n\timport java.security.GeneralSecurityException;\r\n\timport java.security.KeyStore;\r\n\timport java.security.cert.Certificate;\r\n\timport java.security.cert.CertificateFactory;\r\n\t\r\n\t//Put everything after here in your function.\r\n\tKeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\ttrustStore.load(null);//Make an empty store\r\n\tInputStream fis = /* insert your file path here */;\r\n\tBufferedInputStream bis = new BufferedInputStream(fis);\r\n\t\r\n\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\r\n\twhile (bis.available() &gt; 0) {\r\n\t\tCertificate cert = cf.generateCertificate(bis);\r\n\t\ttrustStore.setCertificateEntry(&quot;fiddler&quot;+bis.available(), cert);\r\n\t}","title":"How to import a .cer certificate into a java keystore?","body":"<p>Here is the code I've been using for programatically importing .cer files into a new KeyStore. </p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n//VERY IMPORTANT.  SOME OF THESE EXIST IN MORE THAN ONE PACKAGE!\nimport java.security.GeneralSecurityException;\nimport java.security.KeyStore;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\n\n//Put everything after here in your function.\nKeyStore trustStore  = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null);//Make an empty store\nInputStream fis = /* insert your file path here */;\nBufferedInputStream bis = new BufferedInputStream(fis);\n\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n\nwhile (bis.available() &gt; 0) {\n    Certificate cert = cf.generateCertificate(bis);\n    trustStore.setCertificateEntry(\"fiddler\"+bis.available(), cert);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1485291184,"post_id":27928213,"comment_id":70862780,"body_markdown":"path\\to\\cert. If my file is on the desktop how can I path it? C:/user/desktop/ or ../../../../desktop/filename","body":"path\\to\\cert. If my file is on the desktop how can I path it? C:/user/desktop/ or ../../../../desktop/filename"},{"owner":{"account_id":2313483,"reputation":3401,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":0,"creation_date":1496825567,"post_id":27928213,"comment_id":75814621,"body_markdown":"on MacOS /Linux this command works with sudo. Thanks. but what is noprompt param ? I didn&#39;t use it and still succeeded.","body":"on MacOS /Linux this command works with sudo. Thanks. but what is noprompt param ? I didn&#39;t use it and still succeeded."},{"owner":{"account_id":3104405,"reputation":1512,"user_id":2627644,"accept_rate":43,"display_name":"jp-jee"},"score":2,"creation_date":1504862018,"post_id":27928213,"comment_id":79187974,"body_markdown":"Note that when using the JDK for developing, the correct path is `java_home\\jdk_x.xx\\jre\\lib\\security`\n\nFor an absolute path use backslash, e.g. `&quot;C:\\myCert.crt&quot;` Quotation marks are optional if the path does not contain whitespaces.","body":"Note that when using the JDK for developing, the correct path is <code>java_home\\jdk_x.xx\\jre\\lib\\security</code>  For an absolute path use backslash, e.g. <code>&quot;C:\\myCert.crt&quot;</code> Quotation marks are optional if the path does not contain whitespaces."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1520853900,"post_id":27928213,"comment_id":85471107,"body_markdown":"Thanks a million times.","body":"Thanks a million times."},{"owner":{"account_id":2747249,"reputation":196,"user_id":2367418,"display_name":"user2367418"},"score":0,"creation_date":1559925218,"post_id":27928213,"comment_id":99585310,"body_markdown":"Question: What about the private key? The discussion is about client certificates.   My understanding is that one needs create a CSR with a private key, then receive a client certificate from the remote website company and then match the client certificate to the private key.   Your answer does not seem to mention anything about the private key.  Just asking.","body":"Question: What about the private key? The discussion is about client certificates.   My understanding is that one needs create a CSR with a private key, then receive a client certificate from the remote website company and then match the client certificate to the private key.   Your answer does not seem to mention anything about the private key.  Just asking."}],"tags":[],"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"comment_count":5,"down_vote_count":0,"up_vote_count":150,"is_accepted":false,"score":150,"last_activity_date":1507308387,"creation_date":1421170982,"answer_id":27928213,"question_id":4325263,"body_markdown":"Importing `.cer` certificate file downloaded from browser (open the url and dig for details) into **cacerts** keystore in `java_home\\jre\\lib\\security` worked for me, as opposed to attemps to generate and use my own keystore.\r\n\r\n 1. Go to your `java_home\\jre\\lib\\security`\r\n 2. (*Windows*) Open admin command line there using `cmd` and &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;ENTER&lt;/kbd&gt;\r\n 3. Run keytool to import certificate:\r\n   - (Replace `yourAliasName` and `path\\to\\certificate.cer` respectively)\r\n\r\n&lt;!--&gt;\r\n\r\n     ..\\..\\bin\\keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias yourAliasName -file path\\to\\certificate.cer\r\n\r\nThis way you don&#39;t have to specify any additional JVM options and the certificate should be recognized by the JRE.\r\n\r\n\r\n","title":"How to import a .cer certificate into a java keystore?","body":"<p>Importing <code>.cer</code> certificate file downloaded from browser (open the url and dig for details) into <strong>cacerts</strong> keystore in <code>java_home\\jre\\lib\\security</code> worked for me, as opposed to attemps to generate and use my own keystore.</p>\n\n<ol>\n<li>Go to your <code>java_home\\jre\\lib\\security</code></li>\n<li>(<em>Windows</em>) Open admin command line there using <code>cmd</code> and <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>ENTER</kbd></li>\n<li>Run keytool to import certificate:\n\n<ul>\n<li>(Replace <code>yourAliasName</code> and <code>path\\to\\certificate.cer</code> respectively)</li>\n</ul></li>\n</ol>\n\n<p></p>\n\n<pre><code> ..\\..\\bin\\keytool -import -trustcacerts -keystore cacerts -storepass changeit -noprompt -alias yourAliasName -file path\\to\\certificate.cer\n</code></pre>\n\n<p>This way you don't have to specify any additional JVM options and the certificate should be recognized by the JRE.</p>\n"},{"tags":[],"owner":{"account_id":6121684,"reputation":3977,"user_id":5150013,"accept_rate":88,"display_name":"code4kix"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443210023,"creation_date":1443210023,"answer_id":32789492,"question_id":4325263,"body_markdown":"Here&#39;s how this worked for me:\r\n\r\n 1. Save as .txt the certificate data in the following format in a text editor\r\n    &gt; -----BEGIN CERTIFICATE-----\r\n    &gt; [data serialized by microsoft]\r\n    &gt; -----END CERTIFICATE----- \r\n 2. Open chrome browser (this step might work with other browsers too)\r\n    settings &gt; show advanced settings &gt; HTTPS/SSL &gt; manage certificates \r\n    Import the .txt in step 1 \r\n 3. Select and export that certificate in Base-64 encoded format. Save it as .cer \r\n 4. Now you can use keytool or Portecle to import it to your java keystore","title":"How to import a .cer certificate into a java keystore?","body":"<p>Here's how this worked for me:</p>\n\n<ol>\n<li>Save as .txt the certificate data in the following format in a text editor\n\n<blockquote>\n  <p>-----BEGIN CERTIFICATE-----\n  [data serialized by microsoft]\n  -----END CERTIFICATE----- </p>\n</blockquote></li>\n<li>Open chrome browser (this step might work with other browsers too)\nsettings > show advanced settings > HTTPS/SSL > manage certificates \nImport the .txt in step 1 </li>\n<li>Select and export that certificate in Base-64 encoded format. Save it as .cer </li>\n<li>Now you can use keytool or Portecle to import it to your java keystore</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8169963,"reputation":300,"user_id":8347040,"display_name":"Federico Firenze"},"score":0,"creation_date":1684863658,"post_id":42563504,"comment_id":134578588,"body_markdown":"A single line sample of something like that:\n\n\n    sudo for FILE in /usr/share/ca-certificates/mozilla/*.crt; do keytool -import -file ${FILE} -storepass password -noprompt --alias &quot;$(basename ${FILE})&quot; -keystore cacerts ; done","body":"A single line sample of something like that:       sudo for FILE in /usr/share/ca-certificates/mozilla/*.crt; do keytool -import -file ${FILE} -storepass password -noprompt --alias &quot;$(basename ${FILE})&quot; -keystore cacerts ; done"}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488481294,"creation_date":1488480466,"answer_id":42563504,"question_id":4325263,"body_markdown":"Here&#39;s a script I used to batch import a bunch of crt files in the current directory into the java keystore. Just save this to the same folder as your certificate, and run it like so:\r\n\r\n    ./import_all_certs.sh\r\n\r\n###import_all_certs.sh\r\n    KEYSTORE=&quot;$(/usr/libexec/java_home)/jre/lib/security/cacerts&quot;;\r\n    \r\n    function running_as_root()\r\n    {\r\n      if [ &quot;$EUID&quot; -ne 0 ]\r\n        then echo &quot;NO&quot;\r\n        exit\r\n      fi\r\n    \r\n      echo &quot;YES&quot;\r\n    }\r\n    \r\n    function import_certs_to_java_keystore\r\n    {\r\n      for crt in *.crt; do \r\n        echo prepping $crt \r\n        keytool -import -file $crt -storepass changeit -noprompt --alias alias__${crt} -keystore $KEYSTORE\r\n        echo \r\n      done\r\n    }\r\n    \r\n    if [ &quot;$(running_as_root)&quot; == &quot;YES&quot; ]\r\n    then\r\n      import_certs_to_java_keystore\r\n    else\r\n      echo &quot;This script needs to be run as root!&quot;\r\n    fi\r\n\r\n","title":"How to import a .cer certificate into a java keystore?","body":"<p>Here's a script I used to batch import a bunch of crt files in the current directory into the java keystore. Just save this to the same folder as your certificate, and run it like so:</p>\n\n<pre><code>./import_all_certs.sh\n</code></pre>\n\n<h3>import_all_certs.sh</h3>\n\n<pre><code>KEYSTORE=\"$(/usr/libexec/java_home)/jre/lib/security/cacerts\";\n\nfunction running_as_root()\n{\n  if [ \"$EUID\" -ne 0 ]\n    then echo \"NO\"\n    exit\n  fi\n\n  echo \"YES\"\n}\n\nfunction import_certs_to_java_keystore\n{\n  for crt in *.crt; do \n    echo prepping $crt \n    keytool -import -file $crt -storepass changeit -noprompt --alias alias__${crt} -keystore $KEYSTORE\n    echo \n  done\n}\n\nif [ \"$(running_as_root)\" == \"YES\" ]\nthen\n  import_certs_to_java_keystore\nelse\n  echo \"This script needs to be run as root!\"\nfi\n</code></pre>\n"},{"comments":[{"owner":{"account_id":945916,"reputation":2856,"user_id":973184,"accept_rate":67,"display_name":"Martin Meeser"},"score":2,"creation_date":1605912076,"post_id":47505248,"comment_id":114808227,"body_markdown":"ironically, the provided link leads to a not certified http - no s - site.","body":"ironically, the provided link leads to a not certified http - no s - site."},{"owner":{"account_id":177183,"reputation":3304,"user_id":408349,"accept_rate":88,"display_name":"Shantha Kumara"},"score":1,"creation_date":1605942184,"post_id":47505248,"comment_id":114812724,"body_markdown":"@MartinMeeser, the site is their official one and my recommendation is not to share any sensitive or personal information when you refer it.","body":"@MartinMeeser, the site is their official one and my recommendation is not to share any sensitive or personal information when you refer it."}],"tags":[],"owner":{"account_id":177183,"reputation":3304,"user_id":408349,"accept_rate":88,"display_name":"Shantha Kumara"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1653984875,"creation_date":1511764907,"answer_id":47505248,"question_id":4325263,"body_markdown":"An open source GUI tool is available at [keystore-explorer.org][3]\r\n\r\n&gt; **KeyStore Explorer**\r\n&gt; \r\n&gt; KeyStore Explorer is an open source GUI replacement for the Java\r\n&gt; command-line utilities keytool and jarsigner. KeyStore Explorer\r\n&gt; presents their functionality, and more, via an intuitive graphical\r\n&gt; user interface.\r\n\r\nFollowing screens will help (they are from the official site)\r\n\r\nDefault screen that you get by running the command:\r\n\r\n    shantha@shantha:~$./Downloads/kse-521/kse.sh\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd go to `Examine` and `Examine a URL` option and then give the web URL that you want to import.\r\n\r\nThe result window will be like below if you give google site link.\r\n[![enter image description here][2]][2]\r\n\r\nThis is one of Use case and rest is up-to the user(all credits go to the [keystore-explorer.org][3])\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/De08D.png\r\n  [2]: https://i.stack.imgur.com/rgoI0.png\r\n  [3]: https://keystore-explorer.org/","title":"How to import a .cer certificate into a java keystore?","body":"<p>An open source GUI tool is available at <a href=\"https://keystore-explorer.org/\" rel=\"nofollow noreferrer\">keystore-explorer.org</a></p>\n<blockquote>\n<p><strong>KeyStore Explorer</strong></p>\n<p>KeyStore Explorer is an open source GUI replacement for the Java\ncommand-line utilities keytool and jarsigner. KeyStore Explorer\npresents their functionality, and more, via an intuitive graphical\nuser interface.</p>\n</blockquote>\n<p>Following screens will help (they are from the official site)</p>\n<p>Default screen that you get by running the command:</p>\n<pre><code>shantha@shantha:~$./Downloads/kse-521/kse.sh\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/De08D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/De08D.png\" alt=\"enter image description here\" /></a></p>\n<p>And go to <code>Examine</code> and <code>Examine a URL</code> option and then give the web URL that you want to import.</p>\n<p>The result window will be like below if you give google site link.\n<a href=\"https://i.stack.imgur.com/rgoI0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgoI0.png\" alt=\"enter image description here\" /></a></p>\n<p>This is one of Use case and rest is up-to the user(all credits go to the <a href=\"https://keystore-explorer.org/\" rel=\"nofollow noreferrer\">keystore-explorer.org</a>)</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635111463,"creation_date":1635110926,"answer_id":69700898,"question_id":4325263,"body_markdown":"Although a-lot of good answers have been provided I want to give an alternative for loading the ssl material programatically. You can try out the following snippet:\r\n\r\n```java\r\nPath certificatePath = Paths.get(&quot;/path/to/certificate.cer&quot;);\r\nList&lt;Certificate&gt; certificates = CertificateUtils.loadCertificate(certificatePath);\r\n\r\nSSLFactory sslFactory = SSLFactory.builder()\r\n        .withTrustMaterial(certificates)\r\n        .build();\r\n\r\nSSLContext sslContext = sslFactory.getSslContext();\r\n```\r\n\r\nIt can handle pem, der (binary) and p7b formatted files. This example code snippet is from the library: [GitHub - SSLContext Kickstart][1] You can add it with the following snippet:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"How to import a .cer certificate into a java keystore?","body":"<p>Although a-lot of good answers have been provided I want to give an alternative for loading the ssl material programatically. You can try out the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path certificatePath = Paths.get(&quot;/path/to/certificate.cer&quot;);\nList&lt;Certificate&gt; certificates = CertificateUtils.loadCertificate(certificatePath);\n\nSSLFactory sslFactory = SSLFactory.builder()\n        .withTrustMaterial(certificates)\n        .build();\n\nSSLContext sslContext = sslFactory.getSslContext();\n</code></pre>\n<p>It can handle pem, der (binary) and p7b formatted files. This example code snippet is from the library: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a> You can add it with the following snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;7.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687107808,"creation_date":1687107808,"answer_id":76501678,"question_id":4325263,"body_markdown":"Easy extraction of server certificate could be done with [InstallCert2][1] \r\n\r\nFor installation of server certificate into Java keystore you could use any of keytool examples above.\r\n\r\n\r\n  [1]: https://github.com/joro88/InstallCert","title":"How to import a .cer certificate into a java keystore?","body":"<p>Easy extraction of server certificate could be done with <a href=\"https://github.com/joro88/InstallCert\" rel=\"nofollow noreferrer\">InstallCert2</a></p>\n<p>For installation of server certificate into Java keystore you could use any of keytool examples above.</p>\n"}],"owner":{"account_id":250085,"reputation":3345,"user_id":526579,"display_name":"Jan-Pieter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459539,"favorite_count":0,"down_vote_count":1,"up_vote_count":309,"accepted_answer_id":4326346,"answer_count":10,"score":308,"last_activity_date":1687107808,"creation_date":1291213120,"question_id":4325263,"body_markdown":"During the development of a Java webservice client I ran into a problem. Authentication for the webservice is using a client certificate, a username and a password. The client certificate I received from the company behind the webservice is in `.cer` format. When I inspect the file using a text editor, it has the following contents:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    [Some base64 encoded data]\r\n    -----END CERTIFICATE-----\r\n\r\nI can import this file as a certificate in Internet Explorer (without having to enter a password!) and use it to authenticate with the webservice.\r\n\r\nI was able to import this certificate into a keystore by first stripping the first and last line, converting to unix newlines and running a base64-decode. The resulting file can be imported into a keystore (using the `keytool` command). When I list the entries in the keystore, this entry is of the type `trustedCertEntry`. Because of this entry type (?) I cannot use this certificate to authenticate with the webservice. I&#39;m beginning to think that the provided certificate is a public certificate which is being used for authentication...\r\n\r\nA workaround I have found is to import the certificate in IE and export it as a `.pfx` file. This file can be loaded as a keystore and can be used to authenticate with the webservice. However I cannot expect my clients to perform these steps every time they receive a new certificate. So I would like to load the `.cer` file directly into Java. Any thoughts?\r\n\r\nAdditional info: the company behind the webservice told me that the certificate should be requested (using IE &amp; the website) from the PC and user that would import the certificate later.","title":"How to import a .cer certificate into a java keystore?","body":"<p>During the development of a Java webservice client I ran into a problem. Authentication for the webservice is using a client certificate, a username and a password. The client certificate I received from the company behind the webservice is in <code>.cer</code> format. When I inspect the file using a text editor, it has the following contents:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\n[Some base64 encoded data]\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>I can import this file as a certificate in Internet Explorer (without having to enter a password!) and use it to authenticate with the webservice.</p>\n\n<p>I was able to import this certificate into a keystore by first stripping the first and last line, converting to unix newlines and running a base64-decode. The resulting file can be imported into a keystore (using the <code>keytool</code> command). When I list the entries in the keystore, this entry is of the type <code>trustedCertEntry</code>. Because of this entry type (?) I cannot use this certificate to authenticate with the webservice. I'm beginning to think that the provided certificate is a public certificate which is being used for authentication...</p>\n\n<p>A workaround I have found is to import the certificate in IE and export it as a <code>.pfx</code> file. This file can be loaded as a keystore and can be used to authenticate with the webservice. However I cannot expect my clients to perform these steps every time they receive a new certificate. So I would like to load the <code>.cer</code> file directly into Java. Any thoughts?</p>\n\n<p>Additional info: the company behind the webservice told me that the certificate should be requested (using IE &amp; the website) from the PC and user that would import the certificate later.</p>\n"},{"tags":["java","security","ssl","certificate","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":2827488,"reputation":403,"user_id":2429821,"display_name":"Mack"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1454046283,"creation_date":1454046283,"answer_id":35077691,"question_id":35064673,"body_markdown":" - Do not change the jssecacerts file name. When you want add more than\r\n   one trusted certificate you just copy jssecacert from the\r\n   /jre/lib/security folder (if it is present) to different location .\r\n - Then run Installcert.java file where jssecacerts file is present\r\n   (InstallCert and jssecacerts are in same folder).\r\n - Then that jssecacerts file put into the /jre/lib/security folder.\r\n\r\nNote :  You can add more than one trusted certificate in same jssecacerts file \r\nHope it will work .\r\n \r\n","title":"Download trusted Certificate with InstallCert.java","body":"<ul>\n<li>Do not change the jssecacerts file name. When you want add more than\none trusted certificate you just copy jssecacert from the\n/jre/lib/security folder (if it is present) to different location .</li>\n<li>Then run Installcert.java file where jssecacerts file is present\n(InstallCert and jssecacerts are in same folder).</li>\n<li>Then that jssecacerts file put into the /jre/lib/security folder.</li>\n</ul>\n\n<p>Note :  You can add more than one trusted certificate in same jssecacerts file \nHope it will work .</p>\n"},{"tags":[],"owner":{"account_id":2180566,"reputation":1805,"user_id":1930161,"display_name":"Allahbakash.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545154911,"creation_date":1545154911,"answer_id":53838408,"question_id":35064673,"body_markdown":"follow the detailed instructions explained below\r\n\r\nhttps://github.com/escline/InstallCert\r\n\r\nonce Certificate was added to keystore,restart the tomcat","title":"Download trusted Certificate with InstallCert.java","body":"<p>follow the detailed instructions explained below</p>\n\n<p><a href=\"https://github.com/escline/InstallCert\" rel=\"nofollow noreferrer\">https://github.com/escline/InstallCert</a></p>\n\n<p>once Certificate was added to keystore,restart the tomcat</p>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687107746,"creation_date":1687107746,"answer_id":76501675,"question_id":35064673,"body_markdown":"You need to extract the server SSL certificate and to add it to Java keystore.\r\n\r\nFor installation you could use InstallCert. InstallCert version 2 is available [here][1].\r\n\r\nDetailed install instructions: [here][2]\r\n\r\n\r\n  [1]: https://github.com/joro88/InstallCert\r\n  [2]: https://bghints.blogspot.com/2013/04/installing-root-and-intermediate.html","title":"Download trusted Certificate with InstallCert.java","body":"<p>You need to extract the server SSL certificate and to add it to Java keystore.</p>\n<p>For installation you could use InstallCert. InstallCert version 2 is available <a href=\"https://github.com/joro88/InstallCert\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Detailed install instructions: <a href=\"https://bghints.blogspot.com/2013/04/installing-root-and-intermediate.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":7309917,"reputation":883,"user_id":5569537,"accept_rate":40,"display_name":"youssef Liouene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35077691,"answer_count":3,"score":5,"last_activity_date":1687107746,"creation_date":1453992639,"question_id":35064673,"body_markdown":"I&#39;m trying to add Trusted certificate for many web services deployed in localhost.\r\nI find this article: http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\r\nwhen you follow the steps in this article, the result will be  jssecacerts file.\r\nIn my case I have many servers:\r\n\r\n 1. server 1: http://localhost:8181\r\n 2. server 2: http://localhost:8282\r\n\r\nSo, I tried to generate 2 differents files called jssecacerts_8181 and jssecacerts_8282. But this one doesn&#39;t work.\r\n\r\n Does the name of the generated file must be &quot;jssecacerts&quot;?\r\n How can we add more than one trusted certificate?","title":"Download trusted Certificate with InstallCert.java","body":"<p>I'm trying to add Trusted certificate for many web services deployed in localhost.\nI find this article: <a href=\"http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"nofollow\">http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/</a>\nwhen you follow the steps in this article, the result will be  jssecacerts file.\nIn my case I have many servers:</p>\n\n<ol>\n<li>server 1: <a href=\"http://localhost:8181\" rel=\"nofollow\">http://localhost:8181</a></li>\n<li>server 2: <a href=\"http://localhost:8282\" rel=\"nofollow\">http://localhost:8282</a></li>\n</ol>\n\n<p>So, I tried to generate 2 differents files called jssecacerts_8181 and jssecacerts_8282. But this one doesn't work.</p>\n\n<p>Does the name of the generated file must be \"jssecacerts\"?\n How can we add more than one trusted certificate?</p>\n"},{"tags":["java","intellij-idea","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":1105964,"reputation":2076,"user_id":1097349,"display_name":"mnpoonia"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1458622491,"creation_date":1458622491,"answer_id":36146355,"question_id":33741325,"body_markdown":"Run the maven compile command from Intelli-J Maven  tool. After compiling error will vanish.\r\nWhen you compile it will generate a Messages.java file in generated sources automatically.","title":"How do I get IntelliJ to recognise resource bundle when compiling?","body":"<p>Run the maven compile command from Intelli-J Maven  tool. After compiling error will vanish.\nWhen you compile it will generate a Messages.java file in generated sources automatically.</p>\n"},{"tags":[],"owner":{"account_id":1475414,"reputation":825,"user_id":1385906,"accept_rate":67,"display_name":"zmirc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687107733,"creation_date":1687107733,"answer_id":76501673,"question_id":33741325,"body_markdown":"Since I can&#39;t add an image by commenting on the response of @mnpoonia, I added this second answer that builds on his by adding the following: \r\n\r\nIn order to have proper Intellij integration after mvn compile, you can mark &quot;generated-sources&quot; as type &quot;sources&quot; in Intellij -&gt; Project Settings -&gt; Modules -&gt; your module -&gt; see image. Afterwards that Messages class will work properly in Intellij, it will be found and Intellij will be happy.\r\n\r\nCould also add mvn compile as a before step for other types of jobs executed from Intellij, like JUnit and so on if necessary. This way that Messages java file will always be created.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YZxa6.png","title":"How do I get IntelliJ to recognise resource bundle when compiling?","body":"<p>Since I can't add an image by commenting on the response of @mnpoonia, I added this second answer that builds on his by adding the following:</p>\n<p>In order to have proper Intellij integration after mvn compile, you can mark &quot;generated-sources&quot; as type &quot;sources&quot; in Intellij -&gt; Project Settings -&gt; Modules -&gt; your module -&gt; see image. Afterwards that Messages class will work properly in Intellij, it will be found and Intellij will be happy.</p>\n<p>Could also add mvn compile as a before step for other types of jobs executed from Intellij, like JUnit and so on if necessary. This way that Messages java file will always be created.</p>\n<p><a href=\"https://i.stack.imgur.com/YZxa6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YZxa6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":69505,"reputation":32668,"user_id":202168,"accept_rate":66,"display_name":"Anentropic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687107733,"creation_date":1447695349,"question_id":33741325,"body_markdown":"Ok, first up I am almost completely unfamiliar with Java and Java tooling.\r\n\r\nI am attempting to contribute a bugfix to a Jenkins [plugin](https://github.com/jenkinsci/copyartifact-plugin).  Code-wise the fix is simple, my problem is in trying to compile the project and run the tests locally.\r\n\r\nI have installed IntelliJ IDEA 15CE and started a new project, pointing it to my local clone of the plugin repo.\r\n\r\nIt has gone away and &#39;downloaded the internet&#39; in terms of Maven dependencies. Mostly everything looks ok. What I want to do is to run the tests...\r\n\r\nIf I right-click at the root of the project and select &#39;Run All Tests&#39; I get the error:\r\n\r\n    Error:(115, 29) java: cannot find symbol\r\n      symbol:   variable Messages\r\n      location: class hudson.plugins.copyartifact.BuildSelector\r\n\r\nThe source of this error is a line:\r\n\r\n     console.println(Messages.CopyArtifact_MissingSrcArtifacts(srcDir));\r\n\r\nhttps://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/java/hudson/plugins/copyartifact/BuildSelector.java#L115\r\n\r\nAs far as I can tell the `Messages` symbol should resolve to this properties file:  \r\nhttps://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/resources/hudson/plugins/copyartifact/Messages.properties  \r\n...which IDEA recognises as a &#39;Resource Bundle&#39; in the project tree view.\r\n\r\nBut it doesn&#39;t seem to recognise it when compiling the project.\r\n\r\nI have no idea where to start fixing this. The tests run fine if I push a commit to a pull request on GitHub and let the cloudbees.com Jenkins server run them, but I&#39;d like to be able to test stuff locally first.","title":"How do I get IntelliJ to recognise resource bundle when compiling?","body":"<p>Ok, first up I am almost completely unfamiliar with Java and Java tooling.</p>\n\n<p>I am attempting to contribute a bugfix to a Jenkins <a href=\"https://github.com/jenkinsci/copyartifact-plugin\" rel=\"nofollow\">plugin</a>.  Code-wise the fix is simple, my problem is in trying to compile the project and run the tests locally.</p>\n\n<p>I have installed IntelliJ IDEA 15CE and started a new project, pointing it to my local clone of the plugin repo.</p>\n\n<p>It has gone away and 'downloaded the internet' in terms of Maven dependencies. Mostly everything looks ok. What I want to do is to run the tests...</p>\n\n<p>If I right-click at the root of the project and select 'Run All Tests' I get the error:</p>\n\n<pre><code>Error:(115, 29) java: cannot find symbol\n  symbol:   variable Messages\n  location: class hudson.plugins.copyartifact.BuildSelector\n</code></pre>\n\n<p>The source of this error is a line:</p>\n\n<pre><code> console.println(Messages.CopyArtifact_MissingSrcArtifacts(srcDir));\n</code></pre>\n\n<p><a href=\"https://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/java/hudson/plugins/copyartifact/BuildSelector.java#L115\" rel=\"nofollow\">https://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/java/hudson/plugins/copyartifact/BuildSelector.java#L115</a></p>\n\n<p>As far as I can tell the <code>Messages</code> symbol should resolve to this properties file:<br>\n<a href=\"https://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/resources/hudson/plugins/copyartifact/Messages.properties\" rel=\"nofollow\">https://github.com/jenkinsci/copyartifact-plugin/blob/master/src/main/resources/hudson/plugins/copyartifact/Messages.properties</a><br>\n...which IDEA recognises as a 'Resource Bundle' in the project tree view.</p>\n\n<p>But it doesn't seem to recognise it when compiling the project.</p>\n\n<p>I have no idea where to start fixing this. The tests run fine if I push a commit to a pull request on GitHub and let the cloudbees.com Jenkins server run them, but I'd like to be able to test stuff locally first.</p>\n"},{"tags":["java","exception","error-handling","collections","nullpointerexception"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687091052,"post_id":76500442,"comment_id":134885794,"body_markdown":"I don&#39;t understand what is the difference between &quot;_custom input_&quot; and &quot;_submitting the code_&quot;? `return q.peekLast()` looks being the cause of your `NullPointerException` because `q` hasn&#39;t be filled by the `for` loop. It&#39;s my guess. I recommend you to put a breakpoint on the line: `q.add(i)` to verify that you are really executing it, at least once.","body":"I don&#39;t understand what is the difference between &quot;<i>custom input</i>&quot; and &quot;<i>submitting the code</i>&quot;? <code>return q.peekLast()</code> looks being the cause of your <code>NullPointerException</code> because <code>q</code> hasn&#39;t be filled by the <code>for</code> loop. It&#39;s my guess. I recommend you to put a breakpoint on the line: <code>q.add(i)</code> to verify that you are really executing it, at least once."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1687092289,"post_id":76500442,"comment_id":134885908,"body_markdown":"Question is __impossible__ to answer: The pasted distributeTicket method __cannot possibly__ throw NPEs itself. The explanation is something that goes beyond what the ticket describes, such as &#39;the auto-grader tool is _not_ running this code, but some older code you wrote&#39; or &#39;the auto-grader tool is straight up broken&#39;. Voted to close.","body":"Question is <b>impossible</b> to answer: The pasted distributeTicket method <b>cannot possibly</b> throw NPEs itself. The explanation is something that goes beyond what the ticket describes, such as &#39;the auto-grader tool is <i>not</i> running this code, but some older code you wrote&#39; or &#39;the auto-grader tool is straight up broken&#39;. Voted to close."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1687092351,"post_id":76500442,"comment_id":134885914,"body_markdown":"@MarcLeBehan The pasted code cannot result in `q` being `null` at any point in its execution, hence, your guess is definitely incorrect. Given that OP is clearly complaining about an auto-grader&#39;s output, they __cant__ breakpoint it. Unless the auto-grader supports that. No auto-grader does - It doesn&#39;t make sense to assume it would.","body":"@MarcLeBehan The pasted code cannot result in <code>q</code> being <code>null</code> at any point in its execution, hence, your guess is definitely incorrect. Given that OP is clearly complaining about an auto-grader&#39;s output, they <b>cant</b> breakpoint it. Unless the auto-grader supports that. No auto-grader does - It doesn&#39;t make sense to assume it would."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687114844,"post_id":76500442,"comment_id":134888329,"body_markdown":"When I ran the code with _25_ and _1_, there was no _NullPointerException_.","body":"When I ran the code with <i>25</i> and <i>1</i>, there was no <i>NullPointerException</i>."}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687106815,"creation_date":1687106815,"answer_id":76501605,"question_id":76500442,"body_markdown":"   you are missing this line in between the 2 fors `if (q.size() &lt;= K) return q.getFirst();` the error message you were getting is not for the `25 1` but you can get the null pointer if you input `24 2`\r\n\r\n      public static int distributeTicket(int N, int K) {\r\n                ArrayDeque&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\r\n                for (int i = 1; i &lt;= N; i++) {\r\n                    q.add(i);\r\n                }\r\n                while (true) {\r\n                    if (K == 1 &amp;&amp; q.size() == 2) return q.getLast();\r\n                    if (q.size() &gt; K) {\r\n                        for (int i = 1; i &lt;= K; i++) {\r\n                            q.pollFirst();\r\n                        }\r\n                        if (q.size() &lt;= K) return q.getFirst();\r\n                        for (int i = 1; i &lt;= K; i++) {\r\n                            q.pollLast();\r\n                        }\r\n                    } else {\r\n                        return q.getLast();\r\n                    }\r\n                }\r\n            }","title":"Null Pointer Exception error while passing value from one methord to another","body":"<p>you are missing this line in between the 2 fors <code>if (q.size() &lt;= K) return q.getFirst();</code> the error message you were getting is not for the <code>25 1</code> but you can get the null pointer if you input <code>24 2</code></p>\n<pre><code>  public static int distributeTicket(int N, int K) {\n            ArrayDeque&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\n            for (int i = 1; i &lt;= N; i++) {\n                q.add(i);\n            }\n            while (true) {\n                if (K == 1 &amp;&amp; q.size() == 2) return q.getLast();\n                if (q.size() &gt; K) {\n                    for (int i = 1; i &lt;= K; i++) {\n                        q.pollFirst();\n                    }\n                    if (q.size() &lt;= K) return q.getFirst();\n                    for (int i = 1; i &lt;= K; i++) {\n                        q.pollLast();\n                    }\n                } else {\n                    return q.getLast();\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":12920207,"reputation":21,"user_id":9342976,"display_name":"user9342976"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1687106815,"creation_date":1687089857,"question_id":76500442,"body_markdown":"I am trying to return the last index value of the ArrayDeque q from methord distributeTicket() of class Solution to the methord main() of class GFG.\r\n```\r\n//{ Driver Code Starts\r\n//Initial Template for Java\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass GFG{\r\n    public static void main(String args[]) throws IOException { \r\n        BufferedReader in=new BufferedReader(new InputStreamReader(System.in));\r\n        PrintWriter out=new PrintWriter(System.out);\r\n        int t = Integer.parseInt(in.readLine());\r\n        while (t-- &gt; 0) {\r\n            String s[]=in.readLine().trim().split(&quot; &quot;);\r\n            int n=Integer.parseInt(s[0]);\r\n            int k=Integer.parseInt(s[1]);\r\n            Solution ob=new Solution();\r\n            out.println(ob.distributeTicket(n,k));\r\n        }\r\n        out.close();\r\n    }\r\n}\r\n// } Driver Code Ends\r\n\r\n//User function Template for Java\r\nclass Solution {\r\n    public static int distributeTicket(int N,int K)\r\n    {\r\n        ArrayDeque&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\r\n        for(int i=1;i&lt;=N;i++){\r\n            q.add(i);\r\n        }\r\n        \r\n        while(true){\r\n            if(K==1 &amp;&amp; q.size()==2)\r\n                return q.peekLast();//.intValue();\r\n            \r\n            if(q.size() &gt; K){\r\n                for(int i=1;i&lt;=K;i++)\r\n                    q.pollFirst();\r\n                \r\n                for(int i=1;i&lt;=K;i++)\r\n                    q.pollLast();\r\n            }\r\n            \r\n            else\r\n                return q.peekLast();//.intValue();\r\n        }\r\n    }\r\n}\r\n```\r\nWhile executing the code with custom input, the code is giving the expected out.\r\n```\r\nFor Input: \r\n25 1\r\nYour Output: \r\n13\r\nExpected Output: \r\n13\r\n```\r\nBut while submitting the code, its throwing an exception.\r\n\r\n```\r\nFor Input: \r\n25 1\r\nYour Output:\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat Solution.distributeTicket(File.java:48)\r\n\tat GFG.main(File.java:17)\r\n\r\nIts Correct output is:\r\n13\r\n```\r\nPlease tell me what I am doing wrong and what is the solution.","title":"Null Pointer Exception error while passing value from one methord to another","body":"<p>I am trying to return the last index value of the ArrayDeque q from methord distributeTicket() of class Solution to the methord main() of class GFG.</p>\n<pre><code>//{ Driver Code Starts\n//Initial Template for Java\n\nimport java.io.*;\nimport java.util.*;\n\nclass GFG{\n    public static void main(String args[]) throws IOException { \n        BufferedReader in=new BufferedReader(new InputStreamReader(System.in));\n        PrintWriter out=new PrintWriter(System.out);\n        int t = Integer.parseInt(in.readLine());\n        while (t-- &gt; 0) {\n            String s[]=in.readLine().trim().split(&quot; &quot;);\n            int n=Integer.parseInt(s[0]);\n            int k=Integer.parseInt(s[1]);\n            Solution ob=new Solution();\n            out.println(ob.distributeTicket(n,k));\n        }\n        out.close();\n    }\n}\n// } Driver Code Ends\n\n//User function Template for Java\nclass Solution {\n    public static int distributeTicket(int N,int K)\n    {\n        ArrayDeque&lt;Integer&gt; q = new ArrayDeque&lt;&gt;();\n        for(int i=1;i&lt;=N;i++){\n            q.add(i);\n        }\n        \n        while(true){\n            if(K==1 &amp;&amp; q.size()==2)\n                return q.peekLast();//.intValue();\n            \n            if(q.size() &gt; K){\n                for(int i=1;i&lt;=K;i++)\n                    q.pollFirst();\n                \n                for(int i=1;i&lt;=K;i++)\n                    q.pollLast();\n            }\n            \n            else\n                return q.peekLast();//.intValue();\n        }\n    }\n}\n</code></pre>\n<p>While executing the code with custom input, the code is giving the expected out.</p>\n<pre><code>For Input: \n25 1\nYour Output: \n13\nExpected Output: \n13\n</code></pre>\n<p>But while submitting the code, its throwing an exception.</p>\n<pre><code>For Input: \n25 1\nYour Output:\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at Solution.distributeTicket(File.java:48)\n    at GFG.main(File.java:17)\n\nIts Correct output is:\n13\n</code></pre>\n<p>Please tell me what I am doing wrong and what is the solution.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7797,"page":363,"page_size":100}
